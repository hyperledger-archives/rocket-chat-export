{"msg":"choeppler","username":"rjones","ts":"2020-09-11T13:20:33.726Z","type":"subscription-role-added"}
{"msg":"howdy!","username":"rjones","ts":"2020-09-11T13:20:42.912Z"}
{"msg":"Hi! Thank your for setting up this channel, @rjones!","username":"choeppler","ts":"2020-09-11T14:13:57.087Z"}
{"msg":"User <em>User_1</em> added by <em>choeppler</em>.","username":"choeppler","ts":"2020-09-11T14:16:27.248Z","type":"au"}
{"msg":"Hey cool , thanks from me as well :-) @rjones","username":"frank-bee","ts":"2020-09-11T14:22:39.530Z"}
{"msg":"we have a channel :woo:","username":"frank-bee","ts":"2020-09-11T14:22:59.313Z"}
{"msg":"Has left the channel.","username":"rjones","ts":"2020-09-11T14:34:40.545Z","type":"ul"}
{"msg":"Has joined the channel.","username":"domwoe","ts":"2020-09-11T14:46:36.252Z","type":"uj"}
{"msg":"Has joined the channel.","username":"matgnt","ts":"2020-09-11T15:04:19.088Z","type":"uj"}
{"msg":"Has joined the channel.","username":"manoranjith","ts":"2020-09-15T07:00:55.373Z","type":"uj"}
{"msg":"@choeppler I created an issue for that NOTICE check :-)","username":"frank-bee","ts":"2020-09-17T06:14:53.497Z"}
{"msg":"( I think I mentioned you anyway)","username":"frank-bee","ts":"2020-09-17T06:15:06.181Z"}
{"msg":"Okay, good. I‘ll have a look tomorrow...","username":"choeppler","ts":"2020-09-17T15:12:29.374Z"}
{"msg":"Has joined the channel.","username":"vi-fu","ts":"2020-09-18T07:46:45.076Z","type":"uj"}
{"msg":"hello","username":"vi-fu","ts":"2020-09-18T07:46:45.529Z"}
{"msg":"Has joined the channel.","username":"etschelp","ts":"2020-09-18T09:28:20.956Z","type":"uj"}
{"msg":"Hi","username":"frank-bee","ts":"2020-09-18T09:46:56.831Z"}
{"msg":"wir installieren gerade mal ngrok aufm mac und checken dann nochmal was geht","username":"frank-bee","ts":"2020-09-18T09:47:25.784Z"}
{"msg":"ups sorry, english here, not?","username":"frank-bee","ts":"2020-09-18T09:48:37.829Z"}
{"msg":"would be better","username":"frank-bee","ts":"2020-09-18T09:48:45.655Z"}
{"msg":"on my mashine I have problems with the uniresolver I  think:\n```\ncompany-agent_1  | 10:09:05.923 [pool-2-thread-8] ERROR RoutingInBoundHandler - Unexpected error occurred: Connect Error: resolver.4d8674d5248546c79689.westeurope.aksapp.io: System error\ncompany-agent_1  | io.micronaut.http.client.exceptions.HttpClientException: Connect Error: resolver.4d8674d5248546c79689.westeurope.aksapp.io: System error\ncompany-agent_1  |      at io.micronaut.http.client.netty.DefaultHttpClient.lambda$null$33(DefaultHttpClient.java:1098) ~[organizational-agent.jar:?]\ncompany-agent_1  |      at io.micronaut.http.client.netty.DefaultHttpClient$$Lambda$768/000000002805C520.operationComplete(Unknown Source) ~[?:?]\ncompany-agent_1  |      at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577) ~[organizational-agent.jar:?] \n```","username":"frank-bee","ts":"2020-09-18T10:11:00.352Z"}
{"msg":"@etschelp is the url somewhere hardcoded?","username":"frank-bee","ts":"2020-09-18T10:11:47.104Z"}
{"msg":"pull?","username":"etschelp","ts":"2020-09-18T10:13:02.094Z"}
{"msg":"this is the current resolver\nhttps://resolver.dev.economyofthings.io/1.0/identifiers/did:sov:iil:M6Mbe3qx7vB4wpZF4sBRjt","username":"frank-bee","ts":"2020-09-18T10:13:05.771Z"}
{"msg":"its already changed","username":"etschelp","ts":"2020-09-18T10:13:16.944Z"}
{"msg":"I try to pull again. did a reset --hard but maybe no pull...","username":"frank-bee","ts":"2020-09-18T10:13:52.682Z"}
{"msg":"agent is running on vitali's machine . check","username":"frank-bee","ts":"2020-09-18T10:17:56.602Z"}
{"msg":"have you checked your .env file? BPA_RESOLVER_URL=xxx","username":"etschelp","ts":"2020-09-18T10:29:29.671Z"}
{"msg":"@etschelp , we have a new contributer , vitali \nhttps://github.com/hyperledger-labs/business-partner-agent/blob/master/NOTICE#L30\nand this time we added him to the notice file right with the first commit :-)","username":"frank-bee","ts":"2020-09-18T11:02:20.062Z"}
{"msg":"@choeppler  , we have a new contributer , vitali \nhttps://github.com/hyperledger-labs/business-partner-agent/blob/master/NOTICE#L30\nand this time we added him to the notice file right with the first commit :-)","username":"frank-bee","ts":"2020-09-18T11:02:20.062Z"}
{"msg":"@etschelp I anyway setup anything again on my new linux laptop.\nBut for @vi-fu all works so far. thanks for the help :-)","username":"frank-bee","ts":"2020-09-18T11:03:56.810Z"}
{"msg":"And happy vacation :-)","username":"frank-bee","ts":"2020-09-18T11:04:11.602Z"}
{"msg":"(I will also leave soon )","username":"frank-bee","ts":"2020-09-18T11:04:23.567Z"}
{"msg":"perfect. have a nice weekend and vacation  :)","username":"etschelp","ts":"2020-09-18T11:09:17.211Z"}
{"msg":"Has joined the channel.","username":"danielksan81","ts":"2020-09-23T08:06:14.309Z","type":"uj"}
{"msg":"I removed the github action, that we anyway don't use","username":"frank-bee","ts":"2020-10-13T14:45:24.571Z"}
{"msg":"added one to delete old non-protected branches (older than 2 month)\nhttps://github.com/hyperledger-labs/business-partner-agent/actions/runs/304605830\n\nfine?","username":"frank-bee","ts":"2020-10-13T14:46:20.603Z"}
{"msg":"There are quite some protected branches , mainly from me when I worked with the github UI. But I don't have the right to unprotect them... any idea @choeppler ?","username":"frank-bee","ts":"2020-10-13T14:51:35.329Z"}
{"msg":"Morning @vi-fu , I just talked to @domwoe","username":"frank-bee","ts":"2020-10-14T07:48:37.123Z"}
{"msg":"He will set-up a meeting for tomorrow with the three of us...\nMeanwhile  you could look at this issue\nhttps://github.com/hyperledger-labs/business-partner-agent/issues/98","username":"frank-bee","ts":"2020-10-14T07:49:45.752Z"}
{"msg":"This issue would also be  good to start with\nhttps://github.com/hyperledger-labs/business-partner-agent/issues/172","username":"frank-bee","ts":"2020-10-14T07:58:33.291Z"}
{"msg":"I'll ping Ry and ask him how he wants us to deal with such issues. \nJust to clarify the specific case at hand: you'd like to un-protect all branches but the master branch, wouldn't you?","username":"choeppler","ts":"2020-10-14T10:13:22.704Z"}
{"msg":"ok cool, thanks","username":"frank-bee","ts":"2020-10-14T10:22:31.744Z"}
{"msg":"@domwoe @vi-fu \nI worked on this issue\ncould you check and comment my PR when you find time?\nhttps://github.com/hyperledger-labs/business-partner-agent/pull/175","username":"frank-bee","ts":"2020-10-14T10:23:47.336Z"}
{"msg":"@domwoe \nregarding transaction order agreement","username":"frank-bee","ts":"2020-10-15T11:53:51.160Z"}
{"msg":"'''\n{\n  \"result\": {\n    \"aml_record\": null,\n    \"taa_record\": null,\n    \"taa_required\": false,\n    \"taa_accepted\": null\n  }\n}\n```\n```","username":"frank-bee","ts":"2020-10-15T11:54:18.942Z"}
{"msg":"do we have to configure this on our test ledger to be able to test it?","username":"frank-bee","ts":"2020-10-15T11:54:41.032Z"}
{"msg":"I'd rather spin up a local ledger with the appropriate config (https://github.com/bcgov/von-network)","username":"domwoe","ts":"2020-10-15T12:00:14.699Z"}
{"msg":"looks  a bit complicated \nwhy not adding taa but with \"taa_required\": false\nwould this do any harm?","username":"frank-bee","ts":"2020-10-15T12:19:37.842Z"}
{"msg":"I meen to our test ledger","username":"frank-bee","ts":"2020-10-15T12:20:03.572Z"}
{"msg":"I mean to our test ledger","username":"frank-bee","ts":"2020-10-15T12:20:03.572Z"}
{"msg":"ah, ok. If you think this is sufficient for testing, I guess that's ok","username":"domwoe","ts":"2020-10-15T12:23:34.759Z"}
{"msg":"@etschelp","username":"frank-bee","ts":"2020-10-15T12:24:04.445Z"}
{"msg":"could you configure some TAA on our testledger?","username":"frank-bee","ts":"2020-10-15T12:24:21.218Z"}
{"msg":"with \"taa_required\": false","username":"frank-bee","ts":"2020-10-15T12:24:30.231Z"}
{"msg":"Has joined the channel.","username":"tkuhrt","ts":"2020-10-20T19:42:58.097Z","type":"uj"}
{"msg":"@vi-fu  Is the error 500 when requesting a verification the bug you're already aware of?","username":"domwoe","ts":"2020-10-22T09:51:16.483Z"}
{"msg":"@vi-fu the payload for the /request-verification call is empty","username":"domwoe","ts":"2020-10-22T09:51:46.093Z"}
{"msg":"There's also another bug. When editing the document and clicking on save it show the tooltip","username":"domwoe","ts":"2020-10-22T09:59:38.737Z"}
{"msg":"i take care of the first thing","username":"domwoe","ts":"2020-10-22T12:21:56.156Z"}
{"msg":"there's also another change that got lost","username":"domwoe","ts":"2020-10-22T12:22:29.560Z"}
{"msg":"@tkuhrt Hi Tracy , could you helm us with something please?\nI'm trying to add a github action which automatically deploys a helm chart to the git hub page if our repository.\n(see also https://github.com/helm/chart-releaser-action)\n\nThis is currently failing because of these errors\n```\nremote: error: GH006: Protected branch update failed for refs/heads/gh-pages.        \nremote: error: Required status check \"DCO\" is expected.   \n```\nSee https://github.com/hyperledger-labs/business-partner-agent/runs/1354012638?check_suite_focus=true\n\nCould you configure the `gh-pages` branch to allow pushes from the CI user without \"DCO\", please?\n\nThe CI user is using the secret \"secrets.GITHUB_TOKEN\"  which contains a GitHub  access token with repo scope.\nI can also create one from my personal account and send it to you, if that helps\n\nThanks in advance!","username":"frank-bee","ts":"2020-11-04T16:58:05.515Z"}
{"msg":"@tkuhrt Hi Tracy , could you help us with something please?\nI'm trying to add a github action which automatically deploys a helm chart to the git hub page if our repository.\n(see also https://github.com/helm/chart-releaser-action)\n\nThis is currently failing because of these errors\n```\nremote: error: GH006: Protected branch update failed for refs/heads/gh-pages.        \nremote: error: Required status check \"DCO\" is expected.   \n```\nSee https://github.com/hyperledger-labs/business-partner-agent/runs/1354012638?check_suite_focus=true\n\nCould you configure the `gh-pages` branch to allow pushes from the CI user without \"DCO\", please?\n\nThe CI user is using the secret \"secrets.GITHUB_TOKEN\"  which contains a GitHub  access token with repo scope.\nI can also create one from my personal account and send it to you, if that helps\n\nThanks in advance!","username":"frank-bee","ts":"2020-11-04T16:58:05.515Z"}
{"msg":"@rjones : Can you help with this request? ^^^ I am not sure how we normally handle DCO and CI.","username":"tkuhrt","ts":"2020-11-04T17:46:10.905Z"}
{"msg":"Has joined the channel.","username":"rjones","ts":"2020-11-04T17:46:10.979Z","type":"uj"}
{"msg":"Hi - I think it should work now. I also enabled \"allow branch deletion\" so someone could clean up all of the old branches. https://github.com/hyperledger-labs/business-partner-agent/branches","username":"rjones","ts":"2020-11-04T18:08:59.515Z"}
{"msg":"Thanks guys for your quick help :-)\nWill try it out later...","username":"frank-bee","ts":"2020-11-05T08:11:03.720Z"}
{"msg":"@rjones , the release action seems to work now.\nI configured it do a helm chart release on pushed to release branches (release/**)\n\nWhat is not yet working is the URL to the git hub page for our repo.\nThe default URL is this one. \nhttp(s)://<organization>.github.io/<repository>\n...in our case:\nhttps://hyperledger-labs.github.io/business-partner-agent/index.yaml\n\nIf I try thus URL , there is a redirect happening, because Hyperledger labs has  probably some other URL configured.\n\nCould you check what is configured in the settings of business partner agent repo under \"GitHub Pages\", please?","username":"frank-bee","ts":"2020-11-05T11:11:46.798Z"}
{"msg":"@rjones , the release action seems to work now.\nI configured it do a helm chart release on pushes to release branches (release/**)\n\nWhat is not yet working is the URL to the git hub page for our repo.\nThe default URL is this one. \nhttp(s)://<organization>.github.io/<repository>\n...in our case:\nhttps://hyperledger-labs.github.io/business-partner-agent/index.yaml\n\nIf I try thus URL , there is a redirect happening, because Hyperledger labs has  probably some other URL configured.\n\nCould you check what is configured in the settings of business partner agent repo under \"GitHub Pages\", please?","username":"frank-bee","ts":"2020-11-05T11:11:46.798Z"}
{"msg":"And one more thing, I'd like to ask you.\nCould you please make @vi-fu ( https://github.com/vi-fu ) contributer in our project?  Or whatever role he needs , that allows us to assign issues to him, which would help us.\n\nThanks a lot in advance!","username":"frank-bee","ts":"2020-11-05T11:23:57.872Z"}
{"msg":"https://labs.hyperledger.org/business-partner-agent/index.yaml","username":"rjones","ts":"2020-11-05T12:27:08.923Z"}
{"msg":"Invite extended","username":"rjones","ts":"2020-11-05T12:28:00.468Z"}
{"msg":"@vi-fu Great that you bring some structure in the code!","username":"domwoe","ts":"2020-11-06T14:12:02.337Z"}
{"msg":"Thx :woo:","username":"vi-fu","ts":"2020-11-06T14:17:31.105Z"}
{"msg":"@domwoe \nTAA is fixed now... yeah. UI looks really nice , thanks to @vi-fu","username":"frank-bee","ts":"2020-11-06T14:21:42.286Z"}
{"msg":"there is still one small thing:\nif the frontend is open and the backend is reloaded with a new endpoint -> in this case without reload the popup asking for the TAA and triggering the endpoint change will not appear","username":"frank-bee","ts":"2020-11-06T14:23:10.625Z"}
{"msg":"I assume that's fine for you, because you anyway love reloading , correct ;-)","username":"frank-bee","ts":"2020-11-06T14:23:44.349Z"}
{"msg":"I assume that's fine for you, because you anyway love reloading , correct ?;-)","username":"frank-bee","ts":"2020-11-06T14:23:44.349Z"}
{"msg":"Is this ok?","username":"frank-bee","ts":"2020-11-06T14:23:44.349Z"}
{"msg":"guys, I leave for the day. have a great weekend :-) :-)","username":"frank-bee","ts":"2020-11-06T14:24:31.186Z"}
{"msg":"You too Frank, have a great weekend :)","username":"vi-fu","ts":"2020-11-06T14:28:41.014Z"}
{"msg":"@vi-fu hey, I've commented the TAA Pull Request, but I'm not sure if you've seen that. In noticed that you kept the markdown editor in the package.json. Could you remove that package in a next commit?","username":"domwoe","ts":"2020-11-09T08:33:31.183Z"}
{"msg":"Hey. I see that the compose files are now in a separate directory. How is this supposed to work now? Also the paths in the Dockerfile are still the old ones, as Docker cannot access files that are outside the directory structure like ../something this looks broken to me now.","username":"etschelp","ts":"2020-11-11T08:53:15.943Z"}
{"msg":"Hey. I see that the compose files are now in a separate directory. How is this supposed to work now? Also the paths in the Dockerfile are still the old ones, as Docker cannot access files that are outside the directory structure like ../something this looks broken to me now.\n\nERROR: Service 'company-agent' failed to build : COPY failed: Forbidden path outside the build context: ../backend/pom.xml","username":"etschelp","ts":"2020-11-11T08:53:15.943Z"}
{"msg":"We saws this on vitalys machine as well\ni move the Dockerfile to the root of the repo again. And change the build context in compose files to \"..\"","username":"frank-bee","ts":"2020-11-11T09:21:21.398Z"}
{"msg":"It's also possible to use docker, docker-compose from the root and specify the file with -f. The context is then relative to where you started the command not where the file lives","username":"domwoe","ts":"2020-11-11T09:23:23.721Z"}
{"msg":"but the scripts won't work","username":"frank-bee","ts":"2020-11-11T09:24:10.602Z"}
{"msg":"or ?","username":"frank-bee","ts":"2020-11-11T09:24:37.085Z"}
{"msg":"Let's move it , not?","username":"frank-bee","ts":"2020-11-11T09:25:34.316Z"}
{"msg":"mh the env file also needs to be in root I think","username":"domwoe","ts":"2020-11-11T09:27:02.099Z"}
{"msg":"I don't think so","username":"frank-bee","ts":"2020-11-11T09:27:27.740Z"}
{"msg":"the env file should be there where you start the scripts","username":"frank-bee","ts":"2020-11-11T09:27:44.942Z"}
{"msg":"not?","username":"frank-bee","ts":"2020-11-11T09:27:47.784Z"}
{"msg":"you need to start the scripts from the root. Otherwise you get the problem @etschelp described","username":"domwoe","ts":"2020-11-11T09:28:34.432Z"}
{"msg":"not if I move the dockerfile and change the context","username":"frank-bee","ts":"2020-11-11T09:29:02.991Z"}
{"msg":"https://github.com/hyperledger-labs/business-partner-agent/pull/258","username":"frank-bee","ts":"2020-11-11T09:29:23.253Z"}
{"msg":"mh ok, feels also a bit strange. I'd suggest we look at few well known projecrs an look how they handle it :)","username":"domwoe","ts":"2020-11-11T09:30:11.625Z"}
{"msg":"I also renamed the docker folder to \"scripts\" , then it make totally sense to me","username":"frank-bee","ts":"2020-11-11T09:34:16.889Z"}
{"msg":"Docker build should be anyway independent of the compose-stuff","username":"frank-bee","ts":"2020-11-11T09:35:01.702Z"}
{"msg":"ok. now we have to have our .env in the scripts folder?","username":"domwoe","ts":"2020-11-11T10:17:12.883Z"}
{"msg":"yes. it belongs to the compose scripts ,not?","username":"frank-bee","ts":"2020-11-11T10:18:28.068Z"}
{"msg":"we can also call the folder docker-compose-plus-shell-scripts-setup :laughing:","username":"frank-bee","ts":"2020-11-11T10:19:33.091Z"}
{"msg":"yes, fine. Does it make a difference if I do cd scripts && ./start-with-tunnels.sh or ./scripts/start-with-tunnels.sh ?","username":"domwoe","ts":"2020-11-11T10:20:19.872Z"}
{"msg":"alos https://github.com/hyperledger-labs/business-partner-agent/tree/master/scripts still has \"docker\" folder in README","username":"domwoe","ts":"2020-11-11T10:20:36.787Z"}
{"msg":"yes it makes a difference, the \"context\"","username":"frank-bee","ts":"2020-11-11T10:21:50.237Z"}
{"msg":"the readme I can fix if we agree - at least for the time beeing - on the structure","username":"frank-bee","ts":"2020-11-11T10:22:40.961Z"}
{"msg":"./scripts/start-with-tunnels.sh   does not make much sense if the related readme is in ./scripts, not?","username":"frank-bee","ts":"2020-11-11T10:24:52.802Z"}
{"msg":"For the first time usage yes, then no :) But I'm fine with it","username":"domwoe","ts":"2020-11-11T10:25:42.857Z"}
{"msg":"OK, I change the context to \".\" again and check the docu.\nall fine","username":"frank-bee","ts":"2020-11-11T10:29:59.107Z"}
{"msg":"It does not work  like that @domwoe","username":"frank-bee","ts":"2020-11-11T10:43:50.905Z"}
{"msg":"```\n➜  business-partner-agent git:(fixContext) ✗ docker-compose -f ./scripts/docker-compose.yml up\nWARNING: The ACAPY_ADMIN_URL_API_KEY variable is not set. Defaulting to a blank string.\nBuilding company-agent\nERROR: Cannot locate specified Dockerfile: Dockerfile\n\n```","username":"frank-bee","ts":"2020-11-11T10:45:47.349Z"}
{"msg":"maybe you can try it out once and fix that, its not urgent...\nI leave it as it is now but change the path in the docu","username":"frank-bee","ts":"2020-11-11T10:46:45.551Z"}
{"msg":"I have the internal 500 error. Do somebody have the same problem today?","username":"vi-fu","ts":"2020-11-13T14:17:28.588Z"}
{"msg":"","username":"vi-fu","ts":"2020-11-13T14:17:29.003Z","attachments":[{"type":"file","title":"Clipboard - 13. November 2020 15:17","title_link":"/file-upload/XfW4grZTW8Xw84pee/Clipboard%20-%2013.%20November%202020%2015:17","image_url":"/file-upload/XfW4grZTW8Xw84pee/Clipboard%20-%2013.%20November%202020%2015:17","image_type":"image/png","image_size":173590,"url":"/file-upload/XfW4grZTW8Xw84pee/Clipboard%20-%2013.%20November%202020%2015:17","remote":false,"fileId":"XfW4grZTW8Xw84pee","fileName":"Clipboard - 13. November 2020 15:17"}]}
{"msg":"","username":"vi-fu","ts":"2020-11-13T14:17:32.324Z","attachments":[{"type":"file","title":"Clipboard - 13. November 2020 15:17","title_link":"/file-upload/T9xuZT3MBvHifRmEp/Clipboard%20-%2013.%20November%202020%2015:17","image_url":"/file-upload/T9xuZT3MBvHifRmEp/Clipboard%20-%2013.%20November%202020%2015:17","image_type":"image/png","image_size":173590,"url":"/file-upload/T9xuZT3MBvHifRmEp/Clipboard%20-%2013.%20November%202020%2015:17","remote":false,"fileId":"T9xuZT3MBvHifRmEp","fileName":"Clipboard - 13. November 2020 15:17"}]}
{"msg":"Resolver not reachable: https://resolver.dev.economyofthings.io/","username":"vi-fu","ts":"2020-11-13T14:18:57.548Z"}
{"msg":"ah, it's probably because @frank-bee et al are working on the infrastructure today","username":"domwoe","ts":"2020-11-13T15:23:53.885Z"}
{"msg":"ok :)","username":"vi-fu","ts":"2020-11-13T16:29:11.299Z"}
{"msg":"hi @vi-fu , morning","username":"frank-bee","ts":"2020-11-16T09:03:35.109Z"}
{"msg":"Maybe you where not in the mail... The new infra is up and ready, but the domain is not yet pointing to it","username":"frank-bee","ts":"2020-11-16T09:04:22.192Z"}
{"msg":"meanwhile you can reach our stuff via another domain , \ne.g. https://resolver.eot.cardamom.ninja/","username":"frank-bee","ts":"2020-11-16T09:04:54.784Z"}
{"msg":"I want to verify a Bank Account --> I have added the Contoso LP to my Business Partner Agents. If I start the bank account verification, I get the following error:","username":"vi-fu","ts":"2020-11-16T10:32:39.472Z"}
{"msg":"","username":"vi-fu","ts":"2020-11-16T10:32:40.874Z","attachments":[{"type":"file","title":"Clipboard - 16. November 2020 11:32","title_link":"/file-upload/SAr8FNQ4pQ7XLDYv2/Clipboard%20-%2016.%20November%202020%2011:32","image_url":"/file-upload/SAr8FNQ4pQ7XLDYv2/Clipboard%20-%2016.%20November%202020%2011:32","image_type":"image/png","image_size":20093,"url":"/file-upload/SAr8FNQ4pQ7XLDYv2/Clipboard%20-%2016.%20November%202020%2011:32","remote":false,"fileId":"SAr8FNQ4pQ7XLDYv2","fileName":"Clipboard - 16. November 2020 11:32"}]}
{"msg":"","username":"vi-fu","ts":"2020-11-16T10:33:21.795Z","attachments":[{"type":"file","title":"Clipboard - 16. November 2020 11:33","title_link":"/file-upload/dGszNTTWPYZNwNyLg/Clipboard%20-%2016.%20November%202020%2011:33","image_url":"/file-upload/dGszNTTWPYZNwNyLg/Clipboard%20-%2016.%20November%202020%2011:33","image_type":"image/png","image_size":236845,"url":"/file-upload/dGszNTTWPYZNwNyLg/Clipboard%20-%2016.%20November%202020%2011:33","remote":false,"fileId":"dGszNTTWPYZNwNyLg","fileName":"Clipboard - 16. November 2020 11:33"}]}
{"msg":"Before submit i got the following notice: \"The connection with your Business Partner is marked as request. This could mean that your request will fail. Do you want to try anyways?\"","username":"vi-fu","ts":"2020-11-16T10:34:00.720Z"}
{"msg":"@etschelp @domwoe , do we have to redeploy the bank?","username":"frank-bee","ts":"2020-11-16T10:38:32.085Z"}
{"msg":"it probably needs the uniresolver currently only on https://resolver.eot.cardamom.ninja/","username":"frank-bee","ts":"2020-11-16T10:39:32.287Z"}
{"msg":"jepp","username":"domwoe","ts":"2020-11-16T10:42:04.208Z"}
{"msg":"ok, so either someone does this or we have to wait until the domain is working again","username":"frank-bee","ts":"2020-11-16T10:43:20.980Z"}
{"msg":"I have no access to the bank agent","username":"frank-bee","ts":"2020-11-16T10:43:29.669Z"}
{"msg":"@etschelp  Is there an easy fix to this? The Agency UI does not allow to change the resolver","username":"domwoe","ts":"2020-11-16T11:04:34.912Z"}
{"msg":"the dependency on the uni resolver really sucks","username":"domwoe","ts":"2020-11-16T11:05:54.369Z"}
{"msg":"i have set it in the bpa.","username":"etschelp","ts":"2020-11-16T11:40:38.143Z"}
{"msg":"I have pushed my current state to the custom documents branch. One of the biggest changes is that the only place where there is a credential type is when creating documents. There are only two types ORGANIZATIONAL_PROFILE_CREDENTIAL and SCHEMA_BASED. e.g. post a new document:\n\n{\n  \"type\": \"SCHEMA_BASED\",\n  \"schemaId\": \"M6Mbe3qx7vB4wpZF4sBRjt:2:bank_account:1.0\",\n  \"isPublic\": true,\n  \"label\": \"Foo\",\n  \"document\": {\"iban\": \"FR7630006000011234567890189\", \"bic\":\"AGRIFRPP\"}\n}\n\nI also added validation that checks the document against the schema, also schema based documents always need to have a schema id. Instead of a type I added a typeLabel field to the response so that you already have a human readable type in the UI.\n\n {\n    \"id\": \"b82acc4a-aaef-4f09-a880-431d02ae8ed9\",\n    \"createdDate\": 1606400408197,\n    \"updatedDate\": 1606400408197,\n    \"type\": \"SCHEMA_BASED\",\n    \"typeLabel\": \"Bank Account\",\n    \"schemaId\": \"M6Mbe3qx7vB4wpZF4sBRjt:2:bank_account:1.0\",\n    \"isPublic\": true,\n    \"label\": \"Foo\",\n    \"documentData\": {\n      \"bic\": \"AGRIFRPP\",\n      \"iban\": \"FR7630006000011234567890189\"\n    }\n  }","username":"etschelp","ts":"2020-11-26T14:40:23.791Z"}
{"msg":"I have pushed my current state to the custom documents branch. One of the biggest changes is that the only place where there is a credential type is when dealing with documents. There are only two types now ORGANIZATIONAL_PROFILE_CREDENTIAL and SCHEMA_BASED. e.g. post a new document based on a bank account schema:\n\n{\n  \"type\": \"SCHEMA_BASED\",\n  \"schemaId\": \"M6Mbe3qx7vB4wpZF4sBRjt:2:bank_account:1.0\",\n  \"isPublic\": true,\n  \"label\": \"Foo\",\n  \"document\": {\"iban\": \"FR7630006000011234567890189\", \"bic\":\"AGRIFRPP\"}\n}\n\nI also added validation that checks the document data against the schema attributes on the ledger, so it is not possible to send attributes that do not belong to a schema. Also schema based documents always need to have a schema id set. Instead of a type I added a typeLabel field to the response so that you already have a human readable type in the UI.\n\n {\n    \"id\": \"b82acc4a-aaef-4f09-a880-431d02ae8ed9\",\n    \"createdDate\": 1606400408197,\n    \"updatedDate\": 1606400408197,\n    \"type\": \"SCHEMA_BASED\",\n    \"typeLabel\": \"Bank Account\",\n    \"schemaId\": \"M6Mbe3qx7vB4wpZF4sBRjt:2:bank_account:1.0\",\n    \"isPublic\": true,\n    \"label\": \"Foo\",\n    \"documentData\": {\n      \"bic\": \"AGRIFRPP\",\n      \"iban\": \"FR7630006000011234567890189\"\n    }\n  }","username":"etschelp","ts":"2020-11-26T14:40:23.791Z"}
{"msg":"The next step would be that I also add the typeLabel to credentials. With a default to the schemaName when no matching schema was found locally. Also I noticed that the uniresolver now returns a did document in a different format ,so public profile validation is currently broken, but I fixed the verification method in the public profile.","username":"etschelp","ts":"2020-11-26T14:53:10.294Z"}
{"msg":"The next biggest change is that the rest api now uses schemaId instead of credential type, e.g. when filtering partners that can issue a credential.","username":"etschelp","ts":"2020-11-26T14:53:50.500Z"}
{"msg":"Has joined the channel.","username":"marc0olo","ts":"2020-12-02T22:05:22.904Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thearhaam","ts":"2020-12-04T21:58:52.014Z","type":"uj"}
{"msg":"@etschelp @vi-fu I've an issue with the typeLabel for VCs. I'm not totally sure if this is an issue because I'v legacy data in my BPA, but I've VCs with schemaId 8faozNpSjFfPJXYtgcPtmJ:2:commercialregister:1.2 and I've registered that schema with label \"Credential Registry Entry\" but the typeLabel is set to \"commercialregister\". Unfortunately I can't issue a new commercial registry entry at the moment because Open Corporates API blocks us currently...","username":"domwoe","ts":"2020-12-11T14:36:16.071Z"}
{"msg":"currently the following schema id is configured for the commercial register: 3gLVpb3i5jzvZqWYyesSB3:2:commercialregister:1.2. if the schema is not configured the fallback is to use the schema name.","username":"etschelp","ts":"2020-12-11T14:39:22.882Z"}
{"msg":"you can always register a new schema in the settings","username":"etschelp","ts":"2020-12-11T14:40:31.044Z"}
{"msg":"As written, I've registered it in the settings. But the schema and the VCs already existed in the database before I switched to the custom documents branch. So I guess the issue is related to this.","username":"domwoe","ts":"2020-12-11T14:46:16.917Z"}
{"msg":"this generated on the fly. are you sure that the ids match","username":"etschelp","ts":"2020-12-11T15:22:27.677Z"}
{"msg":"you're right, they don't  :innocent:","username":"domwoe","ts":"2020-12-11T16:38:24.374Z"}
{"msg":"","username":"etschelp","ts":"2020-12-14T14:54:03.659Z","attachments":[{"type":"file","title":"Screen Shot 2020-12-14 at 15.53.44.png","title_link":"/file-upload/dAvefGS7sLcGDtD4F/Screen%20Shot%202020-12-14%20at%2015.53.44.png","image_url":"/file-upload/dAvefGS7sLcGDtD4F/Screen%20Shot%202020-12-14%20at%2015.53.44.png","image_type":"image/png","image_size":103880,"url":"/file-upload/dAvefGS7sLcGDtD4F/Screen%20Shot%202020-12-14%20at%2015.53.44.png","remote":false,"fileId":"dAvefGS7sLcGDtD4F","fileName":"Screen Shot 2020-12-14 at 15.53.44.png"}]}
{"msg":"I upgraded alice and bob to the latest version, seems we now have a issue with the partners name. My guess is that it was set previously via the legal name of the org profile?","username":"etschelp","ts":"2020-12-14T14:55:25.624Z"}
{"msg":"I upgraded alice and bob to the latest version, seems we now have a issue with the name of the partner. My guess is that it was set previously via the legal name of the org profile?","username":"etschelp","ts":"2020-12-14T14:55:25.624Z"}
{"msg":"@vi-fu ? https://github.com/hyperledger-labs/business-partner-agent/commit/57aac85716e469d943a8be9f6f63af5fe1414cad#diff-6cd00acbb70e4c0e703b585f5868a15c1207d731a9558327a62c38d112390534","username":"domwoe","ts":"2020-12-14T15:08:27.469Z"}
{"msg":"initially the logic was as follows:\n```\nexport const getPartnerName = (partner) => {\n  if (typeof partner !== \"object\") {\n    return \"\";\n  } else if ({}.hasOwnProperty.call(partner, \"alias\")) {\n    return partner.alias;\n  } else if (\n    {}.hasOwnProperty.call(partner, \"profile\") &&\n    partner.profile !== null &&\n    {}.hasOwnProperty.call(partner.profile, \"legalName\")\n  ) {\n    return partner.profile.legalName;\n  } else {\n    return partner.id;\n  }\n};\n```","username":"domwoe","ts":"2020-12-14T15:12:54.417Z"}
{"msg":"need to check","username":"vi-fu","ts":"2020-12-14T16:13:10.660Z"}
{"msg":"Has joined the channel.","username":"ianco","ts":"2021-02-04T18:50:14.567Z","type":"uj"}
{"msg":"Hi folks, I've just built & started up the business partner demo on my local as per the docker compose steps (https://github.com/hyperledger-labs/business-partner-agent/tree/master/scripts) and I was wondering if there were any other docs about setting up multiple business partner agents and connecting them?  I'm not sure what is the next step once I have a business partner agent running?","username":"ianco","ts":"2021-02-04T19:54:09.094Z"}
{"msg":"Also I was wondering about the mechanism used to share public documents between business partners?  Is it using a shared database, or messaging protocols between agents, or ... ?","username":"ianco","ts":"2021-02-04T20:48:02.708Z"}
{"msg":"Hi @ianco setting up multiple business partners is better done using k8s and the provided helm chart. See https://github.com/hyperledger-labs/business-partner-agent/tree/master/charts/bpa#install-multiple-bpa-instances","username":"domwoe","ts":"2021-02-05T07:43:48.272Z"}
{"msg":"Hi @ianco setting up multiple business partners is better done using k8s and the provided helm chart. See https://github.com/hyperledger-labs/business-partner-agent/tree/master/charts/bpa#install-multiple-bpa-instances . If you need help you should ping @frank-bee .","username":"domwoe","ts":"2021-02-05T07:43:48.272Z"}
{"msg":"The public profile is just a web resource advertised as a special service endpoint in the the DID doc. Have a look at this example\n```\n```","username":"domwoe","ts":"2021-02-05T07:49:18.130Z"}
{"msg":"The public profile is just a web resource advertised as a special service endpoint in the the DID doc. Have a look at this example\n```\n{\n\"@context\": \"https://www.w3.org/ns/did/v1\",\n\"id\": \"did:sov:iil:9W3UamsAoNyUbuFy8PLbry\",\n\"verificationMethod\": [\n{\n\"type\": [\n\"Ed25519VerificationKey2018\"\n],\n\"id\": \"did:sov:iil:9W3UamsAoNyUbuFy8PLbry#key-1\",\n\"publicKeyBase58\": \"5dj3y6CboaN3W7oHNzpZzhk4HdJcCJRw97i5LwXDdfLT\"\n}\n],\n\"authentication\": [\n{\n\"type\": [\n\"Ed25519SignatureAuthentication2018\"\n],\n\"verificationMethod\": \"did:sov:iil:9W3UamsAoNyUbuFy8PLbry#key-1\"\n}\n],\n\"service\": [\n{\n\"type\": \"endpoint\",\n\"serviceEndpoint\": \"https://orangemax.aries.bosch-digital.de:8080\"\n},\n{\n\"type\": \"profile\",\n\"serviceEndpoint\": \"https://bosch-test.iil.network/profile.jsonld\"\n}\n]\n}\n```","username":"domwoe","ts":"2021-02-05T07:49:18.130Z"}
{"msg":"The most simple Organization Identity Hub. Just one Verifiable Presentation including all public documents/credentials","username":"domwoe","ts":"2021-02-05T07:57:40.912Z"}
{"msg":"@choeppler Regarding docker image , I mailed with @rjones . We will use github docker image registry.\nThere are already some examples in hyperledger projects.\nI will probably  switch our build engine from azure devops to to github actions which we anyway use already for some other things.\nNot sure if I find time today, but next week this is on my agenda","username":"frank-bee","ts":"2021-02-05T08:32:19.987Z"}
{"msg":"@domwoe thanks for the info!","username":"ianco","ts":"2021-02-05T14:34:19.829Z"}
{"msg":"@rjones The docker image build is not up and running :-)\nhttps://github.com/hyperledger-labs/business-partner-agent/blob/master/.github/workflows/build.yml#L41-L69","username":"frank-bee","ts":"2021-02-12T15:22:43.510Z"}
{"msg":"kindly have a look at it - short review would be nice ( couldn't do this in a PR because I had to test it on the master)","username":"frank-bee","ts":"2021-02-12T15:23:22.053Z"}
{"msg":"Feel free to suggest any changes.\nOne open point would be to have github action / workflow that deletes images after a while . The ones with the name \"sha-*\" which I build for each commit on the master","username":"frank-bee","ts":"2021-02-12T15:25:25.037Z"}
{"msg":"Feel free to suggest any changes.\nOne open point would be to have a small github action / workflow that deletes images after a while . The ones with the tag \"sha-*\" which I build for each commit on the master","username":"frank-bee","ts":"2021-02-12T15:25:25.037Z"}
{"msg":"I did suggest some changes while it was in development, but I can try to take a look later today","username":"rjones","ts":"2021-02-12T15:27:35.829Z"}
{"msg":"Hi @rjones I have seen you suggestions and considered them ( e.g. squashing the commits ... and there was anotherone","username":"frank-bee","ts":"2021-02-15T11:53:02.165Z"}
{"msg":"Hi @rjones I have seen your suggestions and considered them ( e.g. squashing the commits ... and there was another one)","username":"frank-bee","ts":"2021-02-15T11:53:02.165Z"}
{"msg":"The problem currently is , that the package seems to be not publically available.\nCan you set it to public?","username":"frank-bee","ts":"2021-02-15T11:53:53.228Z"}
{"msg":"Otherwise docker login is required which is difficult for helm charts, not?","username":"frank-bee","ts":"2021-02-15T11:54:37.592Z"}
{"msg":"@frank-bee they are all public, I think? https://github.com/orgs/hyperledger-labs/packages?visibility=private","username":"rjones","ts":"2021-02-15T14:48:12.197Z"}
{"msg":"hmm , strange. Somehow it is not possible to do a docker pull without docker login ( which should be the case)","username":"frank-bee","ts":"2021-02-15T14:49:39.195Z"}
{"msg":"wait... now it works","username":"frank-bee","ts":"2021-02-15T14:51:31.193Z"}
{"msg":"in the morning some colleges ask me why it does not work","username":"frank-bee","ts":"2021-02-15T14:51:58.018Z"}
{"msg":"I asked him to try again. Maybe a proxy issue.","username":"frank-bee","ts":"2021-02-15T15:02:16.957Z"}
{"msg":"@rjones  I think github needs some authentication even for public images \nhttps://github.community/t/docker-pull-from-public-github-package-registry-fail-with-no-basic-auth-credentials-error/16358/8","username":"frank-bee","ts":"2021-02-15T15:24:20.784Z"}
{"msg":"Can we used docker hub ?","username":"frank-bee","ts":"2021-02-15T15:25:58.409Z"}
{"msg":"Can we use docker hub ?","username":"frank-bee","ts":"2021-02-15T15:25:58.409Z"}
{"msg":"Another option seems to be:\n> Basically, ghcr.io 16 does have public access but needs to be enabled per-image from the https://github.com/user?tab=packages 38 settings page.\n(https://github.community/t/docker-pull-from-public-github-package-registry-fail-with-no-basic-auth-credentials-error/16358/81)","username":"frank-bee","ts":"2021-02-15T15:41:41.106Z"}
{"msg":"I already tried to  push some dummy image to https://github.com/orgs/hyperledger-labs/packages/container/package/business-partner-agent","username":"frank-bee","ts":"2021-02-15T16:27:13.172Z"}
{"msg":"will switch the pipeline tomorrow to use this registry , pushing to  ghcr.io/hyperledger-labs/business-partner-agent","username":"frank-bee","ts":"2021-02-15T16:29:04.684Z"}
{"msg":"right, I enabled public access to those images sometime in the last few days. The audit log doesn't show exactly when.","username":"rjones","ts":"2021-02-15T16:48:32.784Z"}
{"msg":"please don't use docker hub, it makes life harder","username":"rjones","ts":"2021-02-15T16:48:41.632Z"}
{"msg":"@rjones \nthis is now the package I use in the latest pipeline\nhttps://github.com/orgs/hyperledger-labs/packages/container/package/business-partner-agent\n\nI works without auth, e.g. docker pull `ghcr.io/hyperledger-labs/business-partner-agent:sha-080ac78a`","username":"frank-bee","ts":"2021-02-16T10:39:47.592Z"}
{"msg":"@rjones \nthis is now the package I use in the latest pipeline\nhttps://github.com/orgs/hyperledger-labs/packages/container/package/business-partner-agent\n\nI works without auth, e.g. `docker pull ghcr.io/hyperledger-labs/business-partner-agent:sha-080ac78a`","username":"frank-bee","ts":"2021-02-16T10:39:47.592Z"}
{"msg":"could you please delete the other 2 packages?\n- the [legacy one](https://github.com/hyperledger-labs/business-partner-agent/packages/616681)\n- the [one with another name which I tried](https://github.com/orgs/hyperledger-labs/packages/container/package/business-partner-agent%2Fbusiness-partner-agent)","username":"frank-bee","ts":"2021-02-16T10:41:59.632Z"}
{"msg":"thanks in advance and sorry for the circumstances","username":"frank-bee","ts":"2021-02-16T10:42:36.042Z"}
{"msg":"I don't think you can delete a package once it is published, but I'll try.","username":"rjones","ts":"2021-02-16T17:31:06.940Z"}
{"msg":"I deleted the one I can delete. The docker thing I cannot delete.","username":"rjones","ts":"2021-02-16T17:35:36.325Z"}
{"msg":"ok Thanks\nI have opened a ticket at github asking them to delete  it. But it's not so important.","username":"frank-bee","ts":"2021-02-17T09:49:54.221Z"}
{"msg":"Has joined the channel.","username":"usingetechnology","ts":"2021-02-17T21:21:10.868Z","type":"uj"}
{"msg":"hi all, I had a GitHub issue about the universal resolver, thanks for the response, now pointing at `http://resolver.dev.economyofthings.io`. the did resolves, but the \"bank\" doesn't new error is: ```bpa_1       | 21:05:45.593 [io-executor-thread-10] ERROR URClient - Call to partner web endpoint failed - msg: Failed to connect to contoso.iil.network/192.168.4.1:443\nbpa_1       | 21:06:06.850 [io-executor-thread-12] WARN  URClient - Could not resolve public profile: 402,```","username":"usingetechnology","ts":"2021-02-17T21:21:11.670Z"}
{"msg":"I've tried using the resolver (reverted back to stage, but tried again with dev), and the cannot add the bank partner specified in the demo ```{\"message\":\"Call to partner web endpoint failed - msg: Failed to connect to bank.stage.economyofthings.io/192.168.4.1:443\"}```","username":"usingetechnology","ts":"2021-02-18T18:58:27.449Z"}
{"msg":"@usingetechnology find our comments in the [github issue](https://github.com/hyperledger-labs/business-partner-agent/issues/326)","username":"frank-bee","ts":"2021-02-19T10:47:12.009Z"}
{"msg":"@frnk","username":"usingetechnology","ts":"2021-02-19T17:13:37.456Z"}
{"msg":"@frank-bee thanks.  I just stood up my agents, but get the same message trying to connect to the bank.","username":"usingetechnology","ts":"2021-02-19T17:14:11.203Z"}
{"msg":"This happens when the controller tries to access the following URL: https://bank.stage.economyofthings.io/profile.jsonld. Whats strange is that bank resolves to a non routable ip address.","username":"etschelp","ts":"2021-02-22T08:29:34.500Z"}
{"msg":"This happens when the controller tries to access the following URL: https://bank.stage.economyofthings.io/profile.jsonld. Whats strange is that bank resolves to a non routable ip address, so my first guess would be an DNS issue, because bank should resolve to something like:\n\n`Non-authoritative answer:\nbank.stage.economyofthings.io\tcanonical name = eot-infra-cluster.westeurope.cloudapp.azure.com.\nName:\teot-infra-cluster.westeurope.cloudapp.azure.com\nAddress: 20.71.3.142`","username":"etschelp","ts":"2021-02-22T08:29:34.500Z"}
{"msg":"I managed to get 2 business partner agents running locally, with a local universal resolver (pointing to the BC Gov bcovrin ledger), scripts and configs are on this PR:  https://github.com/hyperledger-labs/business-partner-agent/pull/333","username":"ianco","ts":"2021-02-25T18:40:08.311Z"}
{"msg":"Curious about how to setup schemas and so forth ...","username":"ianco","ts":"2021-02-25T18:40:22.926Z"}
{"msg":"For example this demo scenario is relying on a previously setup \"bank\" with some kind of \"account schema\":  https://github.com/hyperledger-labs/business-partner-agent/blob/master/demo.md","username":"ianco","ts":"2021-02-25T18:41:14.119Z"}
{"msg":"What are the steps to setup new schemas for a BPA?","username":"ianco","ts":"2021-02-25T18:41:29.546Z"}
{"msg":"how do we change the business partner application to use a different schema id? I tried editing the application.yml file, but I cannot build the docker image. is there a way to do it with the existing docker image?","username":"usingetechnology","ts":"2021-02-25T19:57:01.542Z"}
{"msg":"the error I get is ```[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:3.1.2:go-offline (default-cli) on project business-partner-agent: org.eclipse.aether.resolution.DependencyResolutionException: Could not find artifact org.hyperledger:aries-client-python:jar:0.5.1-SNAPSHOT -> [Help 1]```","username":"usingetechnology","ts":"2021-02-25T19:57:10.643Z"}
{"msg":"The easiest way to add schemas is to do this over the UI. You can add them under Settings/Schema Settings. Concerning the error, that one should not prevent the image from building. Is there more in the logs? But whats probably easier is to use the images we have available on GitHub and directly set -> image: ghcr.io/hyperledger-labs/business-partner-agent:edge in the compose file.","username":"etschelp","ts":"2021-02-26T16:40:56.025Z"}
{"msg":"The second way to add schemas is to bootstrap them via property overwrites. So you could add them as JAVA_OPTS like this:\n\n`-Dbpa.schemas.myschema1.id=Schema id like it is on the ledger\n-Dbpa.schemas.myschema1.label=UI label\n-Dbpa.schemas.myschema1.defaultAttributeName=Default values that should be displayed toplevel in the UI. e.g if your schema has a attribute foo then you could set foo here`","username":"etschelp","ts":"2021-02-26T16:50:32.646Z"}
{"msg":"The second way to add schemas is to bootstrap them via property overwrites. So you could add them as JAVA_OPTS like this:\n\n-Dbpa.schemas.myschema1.id=Schema id like it is on the ledger\n-Dbpa.schemas.myschema1.label=UI label\n-Dbpa.schemas.myschema1.defaultAttributeName=Default values that should be displayed toplevel in the UI. e.g if your schema has a attribute foo then you could set foo here","username":"etschelp","ts":"2021-02-26T16:50:32.646Z"}
{"msg":"@etschelp thanks for the tips. I was able to get the schemas I wanted into my running app (through the UI), I do like the JAVA_OPTS, easier to document for other devs. I was using the ghcr...edge image, but that doesn't take into account changes I make to local code, so I needed to build an image with my local code.  The error didn't seem to prevent the image from running.  But is concerning that building the docker image didn't work (100%) for me.  Is there a better way to integrate changes from my local code to the compose file?","username":"usingetechnology","ts":"2021-02-26T17:45:50.784Z"}
{"msg":"I could not use the JAVA_OPTS to override the bank-account or credentialregistry ids, and I also tried adding new ones in as suggested, but slightly different failure.","username":"usingetechnology","ts":"2021-02-26T21:16:35.679Z"}
{"msg":"Using `-Dbpa.schemas.bank-account.id=myschemaid` get this: `Error: Unable to access jarfile Account`","username":"usingetechnology","ts":"2021-02-26T21:17:32.372Z"}
{"msg":"Using `-Dbpa.schemas.mynewschema.id=mynewschemaid` get this: ```bpa-2_1             | Error: Could not find or load main class Account\nbpa-2_1             | Caused by: java.lang.ClassNotFoundException: Account```","username":"usingetechnology","ts":"2021-02-26T21:18:21.377Z"}
{"msg":"So I've had to rebuild locally to change the bank-account schema id - I am using an env var to set it.  ```  schemas:\n    #test ledger schemas, can be overwritten / extended when e.g. working with other ledger\n    bank-account:\n      id: ${BPA_SCHEMA_BANK_ID}\n      label: \"Bank Account\"\n      defaultAttributeName: \"iban\"\n```","username":"usingetechnology","ts":"2021-02-26T21:19:13.762Z"}
{"msg":"you could try building the jar without docker and then building the container from it afterwards. so on the cli this would be:\n\ncd backend\nmvn clean package -Pbuild-frontend\nmvn docker:build\n\nAfter that you would switch the image in the .env file:\n\nBPA_DOCKER_IMAGE=bds/business-partner-agent:latest\n\nGenerally the failure you mentioned earlier should not break the docker build. But hopefully the root cause can be spotted better like that.","username":"etschelp","ts":"2021-03-01T14:17:31.943Z"}
{"msg":"The first one happens if there is a space somewhere in the property like \"Bank Account\". Unfortunately docker-compose behaves strangely here so escaping  the yaml way does not work. The only workaround is to write \"Bank_Account\" or \"Bank-Account\" instead.\n\nI can not reproduce the second error, but it seems related to the first one.\n\nAdding a new env var is a workaround for the bank account schema. If you want to set different schemas -D java opts are more flexible.","username":"etschelp","ts":"2021-03-01T15:30:15.333Z"}
{"msg":"Has joined the channel.","username":"Jsyro","ts":"2021-03-01T22:15:55.896Z","type":"uj"}
{"msg":"Hello, I'm working with @usingetechnology on a neighbouring issue. \n\nWhen establishing a connection two agent register their did’s on the ledger, and BPA1 gets BPA2’s public did out of band and tries to initialize a connection. That connection invitation has a my_did and their_did, neither of which are the public DID (they are private to that one connection)\n\nBPA1 saves a controller level entry in postgres that has the target’s public DID because it’s coded to do that (i think).\n\nHowever BPA2 only has the connection invitation to work from, and saves the connections private DID in the same way that BPA1 saved the public DID.\n\nso the Initiator (BPA1) properly holds the targets public did, but the responder incorrectly saves the connection their_did as the public DID , which appears to be causing some issues. \n\nIs this a known issue, is there something that would help find the Public DID of the initiator as the responder?","username":"Jsyro","ts":"2021-03-01T22:19:37.413Z"}
{"msg":"Hey. Yes this is a known \"issue\". The initiating controller knows the public did of the other agent through the rest call and can store this information. On the aca-py level the connection is based on (private) peer did's only. We also asked on the aca-py channel if it is possible to display public did's in the agents connection information, and it will be implemented sometime in the future. \n\nCurrently we implemented two workarounds in the controller:\n\n1. You can set the did in aca-py's label e.g. --label did:sov:xxx:123:MyLabel Then this information becomes theirLabel in the connection event and the receiving controller can use this information to resolve the public profile of the initiating agent.\n\n2. We have a special credential type called commercial register that has a did attribute which we will then use to resolve the partners public profile. This is something the initiating controller would do. Meaning after establishing the connection it would send a commercial register presentation. This is currently not automated so one has to do this via the UI.","username":"etschelp","ts":"2021-03-02T09:37:10.712Z"}
{"msg":"I like option 2.  Option 1 seems like a bit of a hack to me.","username":"ianco","ts":"2021-03-02T18:15:43.039Z"}
{"msg":"There's a long standing issue about this https://github.com/hyperledger/aries-cloudagent-python/issues/358 which got a bit off","username":"domwoe","ts":"2021-03-02T19:21:21.519Z"}
{"msg":"Has joined the channel.","username":"c2bo","ts":"2021-03-03T18:01:06.221Z","type":"uj"}
{"msg":"Hello again, thanks for the support getting this up and running. Have you been able to setup remote debugging inside the docker container? \n\nI've added the following java_opt (and exposed the port) to the docker-compose and have been trying to remote connect with jdb `$ jdb -attach localhost:1044` or VSCode's `Debugger for Java` extension. (launch.json config)\n```\n    \"configurations\": [\n        {\n            \"type\": \"java\",\n            \"name\": \"Attach to Remote Program\",\n            \"request\": \"attach\",\n            \"hostName\": \"localhost\",\n            \"port\": 1044\n        }   \n    ]\n```\n\nThe option appears to be recognised properly as the application is waiting for the debugger to attach \n```bpa1_1            | Listening for transport dt_socket at address: 1044```\nbut I haven't had success yet.\n\nI'm wondering if you guys have. Thanks so much!","username":"Jsyro","ts":"2021-03-05T21:33:22.227Z"}
{"msg":"Hello again, thanks for the support getting this up and running. Have you been able to setup remote debugging inside the docker container? \n\nI've added the following java_opt (and exposed the port) to the docker-compose and have been trying to remote connect with jdb `$ jdb -attach localhost:1044` or VSCode's 'Debugger for Java' extension. (launch.json config)\n```\n    \"configurations\": [\n        {\n            \"type\": \"java\",\n            \"name\": \"Attach to Remote Program\",\n            \"request\": \"attach\",\n            \"hostName\": \"localhost\",\n            \"port\": 1044\n        }   \n    ]\n```\n\nThe option appears to be recognised properly as the application is waiting for the debugger to attach \n```bpa1_1            | Listening for transport dt_socket at address: 1044```\nbut I haven't had success yet.\n\nI'm wondering if you guys have. Thanks so much!","username":"Jsyro","ts":"2021-03-05T21:33:22.227Z"}
{"msg":"I got it to work with the following three steps:\n\nin docker-compose.yml add the following to java_opts:\n\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:1044\n\nports:\n  - 1044:1044\n\nThen run \n\njdb -sourcepath ./src/main/java -attach 1044\n\nHave you set address=*:1044? As this is for Java version > 9. Just setting the port works, but you wont be able to connect.","username":"etschelp","ts":"2021-03-08T10:25:46.090Z"}
{"msg":"This worked perfectly! Thanks.","username":"Jsyro","ts":"2021-03-08T19:40:34.792Z"}
{"msg":"I've got the helm templates generating the acapy wallet seed as a secret and having that consumed as an environment variable, it also auto registers it self on the indy ledger on first startup. Do you have interest in that behaviour?","username":"Jsyro","ts":"2021-03-30T00:22:56.051Z"}
{"msg":"That sounds awesome. I bet. @frank-bee what do you think?","username":"domwoe","ts":"2021-03-30T06:08:27.842Z"}
{"msg":"Sounds great!  Can you open a PR @Jsyro ? \nOn Thursday in out next session we can anyway talk about how to enable you.  \nWe can  make you guys  maintainers? Plus maybe adding a rule for PRs that e.g. 1 reviewer is required other than the one that opened the PR?","username":"frank-bee","ts":"2021-03-30T10:16:25.194Z"}
{"msg":"Has left the channel.","username":"rjones","ts":"2021-03-30T13:59:47.824Z","type":"ul"}
{"msg":"Has joined the channel.","username":"matthewhall78","ts":"2021-03-30T22:19:28.734Z","type":"uj"}
{"msg":"It was great to watch those helm charts in action today.  Seeing a new BPA start up in ~20seconds during a live demo was very cool.","username":"matthewhall78","ts":"2021-03-30T22:19:28.947Z"}
{"msg":"what came to my mind: \nwould be great to generate the password for the BPA login as well, same way.\nI just have to check if that also works with GitOps (we use Flux 2 here for our demo deployments)","username":"frank-bee","ts":"2021-04-01T11:33:57.456Z"}
{"msg":"I think the Gitops way would be something like this:\n1) generate the secrets with a commandline tool or so (seed, password)\n2) encrypt secrets with commandline tool, e.g. SOPS\n3) check in the encrypted secretes in git\n4) reference the secrets in the helm release or in the templates\n\nRegistering the agent on the ledger on first start would be anyway great.","username":"frank-bee","ts":"2021-04-01T11:42:50.937Z"}
{"msg":"Has joined the channel.","username":"MatthiasBinzer","ts":"2021-04-07T14:35:34.897Z","type":"uj"}
{"msg":"That sounds great my only hesitation is that a secret with the seed is created and it works great.\n.\nHowever when `helm uninstall` is run. The PVC is left behind on purpose, but the secret is destroyed. If `helm install` is run again, a new seed is generated, but the wallet has the original seed. Which causes the app to crash on startup\n.\nDo you have an idea of resolving this? Can you configure the helm charts to NOT uninstall a certain item?","username":"Jsyro","ts":"2021-04-07T14:35:45.967Z"}
{"msg":"Hi, we discussed updating Aries cloud agent wrapper(https://github.com/boschresearch/aries-acapy-clients/tree/main/java), then integrating that updated library into BPA before we begin adding new features. Some changes are already happening, with the addition of multi-tenancy and `/present-proof/records/{pres_ex_id}/credentials` endpoint. I guess the first thing to decide is what version of ace-py will be run and what this library will be wrapping.  I don't know all the changes that have happened between 5.6 and 6 (hopefully none of the requests and/or responses have changed, just new calls and functionality added). From what I can see documented as implemented, I have listed out the act-py 6.0 api calls that are not implemented in the wrapper. I think we can prioritize them fairly easily, and focus on any deal with connections, credentials, proofs and schemas. I suppose we can stay with issue-credential 1.0 for now unless advised to migrate to 2.0?","username":"usingetechnology","ts":"2021-04-07T22:48:09.345Z"}
{"msg":"### action-menu\n\n```\nPOST /action-menu/{conn_id}/close\nPOST /action-menu/{conn_id}/fetch\nPOST /action-menu/{conn_id}/perform\nPOST /action-menu/{conn_id}/request\nPOST /action-menu/{conn_id}/send-menu\n```\n\n### connection \n\n```\nPOST /connections/create-static\nGET /connections/{conn_id}\nPOST /connections/{conn_id}/accept-invitation\nPOST /connections/{conn_id}/accept-request\nGET /connections/{conn_id}/endpoints\nPOST /connections/{conn_id}/establish-inbound/{ref_id}\nGET /connections/{conn_id}/metadata\nPOST /connections/{conn_id}/metadata\n```\n\n### credentials\n\n```\nGET /credential/mime-types/{credential_id}\n```\n\n### did-exchange\n\n```\nPOST /didexchange/create-request\nPOST /didexchange/receive-request\nPOST /didexchange/{conn_id}/accept-invitation\nPOST /didexchange/{conn_id}/accept-request\n```\n\n### introduction\n\n```\nPOST /connections/{conn_id}/start-introduction\n```\n\n\n### issue-credential v1.0\n\n```\nPOST /issue-credential/create\nGET /issue-credential/records/{cred_ex_id}\nPOST /issue-credential/records/{cred_ex_id}/issue\nPOST /issue-credential/records/{cred_ex_id}/problem-report\nPOST /issue-credential/records/{cred_ex_id}/send-offer\nPOST /issue-credential/records/{cred_ex_id}/send-request\nPOST /issue-credential/send-offer\n```\n\n### issue-credential v2.0\n\nAll need to be implemented\n\n### ledger\n\n```\nGET /ledger/get-nym-role\nPOST /ledger/register-nym\nPATCH /ledger/rotate-public-did-keypair\n```\n\n### mediation \n\nAll need to be implemented\n\n### out-of-band\n\n```\nPOST /out-of-band/create-invitation\nPOST /out-of-band/receive-invitation\n```\n\n### present-proof\n\n```\nPOST /present-proof/records/{pres_ex_id}/problem-report\nPOST /present-proof/records/{pres_ex_id}/send-request\nPOST /present-proof/records/{pres_ex_id}/verify-presentation\n```\n\n### schema\n\n```\nGET /schemas/created\n```\n\n### server\n\n```\nGET /features\nGET /plugins\nGET /shutdown\nGET /status\nPOST /status/reset \n```\n\n### wallet \n\n```\nPATCH /wallet/did/local/rotate-keypair\nPOST /wallet/did/public\n```","username":"usingetechnology","ts":"2021-04-07T22:48:20.232Z"}
{"msg":"Do you need all those endpoints? I  suggest that we only implement the endpoints that are required for  the BPA.","username":"domwoe","ts":"2021-04-08T07:01:20.427Z"}
{"msg":"Do you need all those endpoints? I  suggest that we only implement the endpoints that are required for  the BPA and add them as required by our user stories","username":"domwoe","ts":"2021-04-08T07:01:20.427Z"}
{"msg":"Concerning the v2 protocols. I'd actually would like to put this on the roadmap because I think JSON-","username":"domwoe","ts":"2021-04-08T11:54:18.558Z"}
{"msg":"Concerning the v2 protocols. I'd actually think this would be worth  putting on the roadmap because I think JSON-LD Credentials are very useful in B2B settings. Also I think it would be useful to be able to \"request a document\", i.e. self-attested data following a specific schema. I think https://identity.foundation/presentation-exchange which can be used with the v2 protocols would better fit this use case in comparison to in the indy proof request format","username":"domwoe","ts":"2021-04-08T11:54:18.558Z"}
{"msg":"no, we don't need all the apis implemented yet, certainly all the credential and issue-credentials. and present-proofs are top priority. i think it would be worthwhile for all the methods to be implemented so that there is a java interface for other developers (not just in the bpa app)","username":"usingetechnology","ts":"2021-04-08T16:16:03.398Z"}
{"msg":"The BCGOV has updated the issue list in the BPA repo with the items that we are already working on and updated our Use Case Roadmap with links to those issues: https://miro.com/app/board/o9J_lfQFP90=/?moveToWidget=3074457354350535618&cot=14","username":"matthewhall78","ts":"2021-04-08T23:36:42.554Z"}
{"msg":"The BCGOV Digital Trust team has updated the issue list in the BPA repo with the items that we are already working on and updated our Use Case Roadmap with links to those issues: https://miro.com/app/board/o9J_lfQFP90=/?moveToWidget=3074457354350535618&cot=14","username":"matthewhall78","ts":"2021-04-08T23:36:42.554Z"}
{"msg":"Tomorrow I have some local development changes that I hope to migrate into the repo (local deployment of ledger, resolver, and 2 BPA's).\n\nThen i'm planning on diving into the selecting attributes on proof request, which aligns with issue 12.","username":"Jsyro","ts":"2021-04-08T23:43:43.550Z"}
{"msg":"I am going to port over creating a schema and Cred Def.","username":"usingetechnology","ts":"2021-04-09T00:39:55.434Z"}
{"msg":"I have created the endpoints with the highest priority. The long term goal is to switch this manual process to swagger-codegen, but as aca-py's swagger.json is not always up to date this can not be done so easily. I therefore created a ticket in the aca-py repo to collect all discrepancies that i find. When I have the time I will setup codegen and will continue with the endpoints of lower priority while collecting issues in the ticket. I hope there will be some help from the community, because this is more work than one can handle alone. On Monday I will merge my changes to the client and then start the BPA upgrade.","username":"etschelp","ts":"2021-04-09T15:35:11.075Z"}
{"msg":"quick update before you start your week. we've put in a few small pull requests, no significant functionality changes except I put in a PR that allows editing the DID of a business partner in the application. This is expected to be removed when we can sort out a proper way to have both sides of the partner connection work. There is another PR that is only in our fork for my local development, if you want it, I can make a PR into the hyperledger repo. https://github.com/bcgov/b2b-credential-manager/pull/6","username":"usingetechnology","ts":"2021-04-12T00:41:04.857Z"}
{"msg":"Looking forward to the meeting tomorrow (morning for BC, afternoon for EU). we've addressed some changes to PRs. I've closed one of mine and added a new one that contains only that feature (the frontend/backend paths). Still not sure about the DID update one, couldn't quite figure out your workarounds, that is something we can touch on tomorrow. I started in on create schema (https://github.com/hyperledger-labs/business-partner-agent/tree/feature/create-schema) that is based on phillip (much appreciated) PR with the updates to the acapy client.","username":"usingetechnology","ts":"2021-04-13T00:26:02.800Z"}
{"msg":"Has left the channel.","username":"MatthiasBinzer","ts":"2021-04-13T09:04:44.025Z","type":"ul"}
{"msg":"Hey we would propose the following main points for the meeting today\n* Go through the Pull Requests\n* Talk about our upcoming shared goal of getting rid of the ACA-Py auto flags and other upcoming stories","username":"domwoe","ts":"2021-04-13T13:49:40.525Z"}
{"msg":"sounds good. i thought the meeting was at 7, so up and at it.","username":"usingetechnology","ts":"2021-04-13T14:16:58.893Z"}
{"msg":"Has joined the channel.","username":"MichaelSchaefer","ts":"2021-04-13T15:07:54.848Z","type":"uj"}
{"msg":"Hey Team, \n\nWe have a demonstration use case that involves issuing 'relationship' credentials to personal wallets. So I've added an issue (https://github.com/hyperledger-labs/business-partner-agent/issues/385) and we will be working on that in parallel with bring a few of our custom features into the HLL repo. \n\nLet us know if you have attempted this otherwise we hope to show this off by the end of the sprint.","username":"Jsyro","ts":"2021-04-15T21:39:37.512Z"}
{"msg":"Hey Team, \n\nWe have pivoted to fulfilling a demonstration use case that involves issuing 'relationship' credentials to personal wallets. So I've added an issue (https://github.com/hyperledger-labs/business-partner-agent/issues/385) and we will be working on that in parallel with bring a few of our custom features into the HLL repo. \n\nLet us know if you have attempted this otherwise we hope to show this off by the end of the sprint.","username":"Jsyro","ts":"2021-04-15T21:39:37.512Z"}
{"msg":"The reason we pivoted was because connecting to a personal wallet is being talked about a lot by a number of key stakeholders. So this capability would be very timely to be able to demonstrate soon.","username":"matthewhall78","ts":"2021-04-16T17:14:33.098Z"}
{"msg":"Selective disclosure remain a high priority and we will return to that set up capabilities after we get to a certain point with connecting to personal wallets","username":"matthewhall78","ts":"2021-04-16T17:15:34.358Z"}
{"msg":"@etschelp and maybe @ianco \n\nI'm working on connecting my phone, with a trinsic wallet to the BPA.\n\nI'm generating a connection-invitation through the bpa's acapy admin api, turning into a QR code, and scanning it in the app (setting the service name to be the url of the ngrok tunnel).\n\nFirst issue i ran into was this line expecting a 'theirLabel' from the ConnectionRecord? Is this connectionRecord in line with an aca-py artifact or is it custom? https://github.com/boschresearch/aries-acapy-clients/blob/main/java/src/main/java/org/hyperledger/aries/api/connection/ConnectionRecord.java\n\n2nd blocking issue is that there isn't a did resolver on that ledger (http://test.bcovrin.vonx.io), which i am forced to use because the trinsic app has a fixed list of ledgers. I am getting the connection-request from the phone to the BPA, but it's sitting in 'invitation' and won't complete because the BPA can't find a public profile. \n\nIt is also assuming that there is going to be a public profile for it to look at. which will not be the case for other aca-py wallet applications, we will need to make that not required for connection. \n\na) we could make these 'Business Partners' a different data object, that behave differently\n\nb) We could also add some application.yml flag of 'allow_all_acapy_connections' or something like that, that doesn't make the did resolution/public-profile a requirement for connection. \n\nStill investigating and work in non-bpa connection into the handlers, just want to raise this incase there is background knowledger that would help. \n\nHave a great weekend, I'm off Monday, so first thing i'll do is see you guys early Tuesday morning.","username":"Jsyro","ts":"2021-04-17T00:05:47.744Z"}
{"msg":"have started in on issuer code, added in create schema/cred def, currently found under the Settings. When we have a little more issuer functionality, we will move that to specific area of the application (like Partner or Wallet).","username":"usingetechnology","ts":"2021-04-19T00:16:20.191Z"}
{"msg":"Looks really good! Good work on starting to refactor the API services.","username":"domwoe","ts":"2021-04-19T14:02:23.416Z"}
{"msg":"I might not totally be getting all these questions, but...\n\n1. There is a field theirLabel on the ConnectionRecord https://github.com/boschresearch/aries-acapy-clients/blob/fc3db20787d09da1c572da6c560643f0e192bfe8/java/src/main/java/org/hyperledger/aries/api/connection/ConnectionRecord.java#L33\n\nUsually I'm creating the invitation like ```aries.connectionsCreateInvitation(\n                CreateInvitationRequest.builder().recipientKeys(List.of()).build(),\n                    CreateInvitationParams.builder().autoAccept(Boolean.TRUE).build());```\n\nSo there is no need to set an additional endpoint, because aca-py already uses the one that was provided as the startup parameter, and i then simply convert the invite url into the qr code.\n\n2. bpa should already be able to open aca-py to aca-py connections (without a public profile) in both directions. especially the incoming side does not care. The only time it does a lookup is if the partners label is a did. If it is then this might be the issue, then the only thing that is needed is an exception handler in the lookup.","username":"etschelp","ts":"2021-04-19T15:57:44.943Z"}
{"msg":"Does the Bosch team have a team page that I could refer to when tell other folks in BC Gov who we are working with?  I got a few questions, like, \"which Bosch? Thee Bosch?\".   Also do you have a Product Vision document?  I got a question, \"What is Bosch hoping to achieve with this BPA software?\"","username":"matthewhall78","ts":"2021-04-20T23:01:50.236Z"}
{"msg":"Hi @matthewhall78  , good question","username":"frank-bee","ts":"2021-04-21T08:19:51.176Z"}
{"msg":"we started to create a website for BPA. I will get back to Moritz asking how far we are with that.\nIn general we work in a Bosch Project called \"Economy of Things\", where SSI / BPA... is one topic but there are others as well like \"Decentralized Marketplaces\" , and so on.\nWill get back to you","username":"frank-bee","ts":"2021-04-21T08:23:47.237Z"}
{"msg":"some config in the bpa is strange not. \nI was not able to push to a branch from @Jsyro  and even not to one created on my own ( feature/helm-agent-secrets )\nseems to be protected?","username":"frank-bee","ts":"2021-04-21T14:17:32.845Z"}
{"msg":"@rjones  could you helm me ones more with this? thanks in advance","username":"frank-bee","ts":"2021-04-21T14:18:43.649Z"}
{"msg":"Has joined the channel.","username":"rjones","ts":"2021-04-21T14:18:43.735Z","type":"uj"}
{"msg":"@frank-bee OK I changed it a little","username":"rjones","ts":"2021-04-21T14:59:18.252Z"}
{"msg":"quick update, using trinsic and bpa, can connect (agent can connect just fine), and i’ve sent a credential from bpa to trinsic - all good. seems like trinsic either doesn’t fully follow the protocols or is on a different version of aca-py? example. connection is ok on phone, but agent says it is state=received until i send a message from my phone to the agent (which is accepted just fine), after that, agent connection state=active. similarly, when i issue a credential, then trinsic asks me to accept or decline, when i accept, the agent cred exchange stays at credential_issued - it doesn’t get the credential_acked back from the phone. now, some of this could be the wacky networking right now (seeing a lot of unprocessable message errors on the phone), but perhaps not. anyway, progress.","username":"usingetechnology","ts":"2021-04-21T22:05:03.504Z"}
{"msg":"Has joined the channel.","username":"lohan.spies","ts":"2021-04-21T22:29:00.147Z","type":"uj"}
{"msg":"I wasn't able to push any changes to your branch.. it is  protected by DCO but i should be statisfying it. \n\nHere is my log of a failed `git push` and a  `git log`.\n\n```\nremote: Resolving deltas: 100% (5/5), completed with 5 local objects.\nremote: error: GH006: Protected branch update failed for refs/heads/feature/helm-agent-secrets.\nremote: error: Required status check \"DCO\" is expected.\nTo https://github.com/hyperledger-labs/business-partner-agent.git\n ! [remote rejected] feature/helm-agent-secrets -> feature/helm-agent-secrets (protected branch hook declined)\nerror: failed to push some refs to 'https://github.com/hyperledger-labs/business-partner-agent.git'\njsyro@jsyro-Latitude-5400:~/src/digitrust/b2b-credential-manager/charts$ git log\ncommit d621471fa7824b9a4037910e926c299cd766e8c9 (HEAD -> feature/helm-agent-secrets)\nAuthor: Jason Sy <jasyrotuck@gmail.com>\nDate:   Wed Apr 21 14:19:51 2021 -0700\n\n    add backend ports to ingress\n    \n    Signed-off-by: Jason Sy <jasyrotuck@gmail.com>\n```\n\nAm I doing something wrong, or is the branch protection being weird again?","username":"Jsyro","ts":"2021-04-21T22:33:09.391Z"}
{"msg":"I'm tired after IIW so don't take my word, but this might be because ACA-Py expects a \"Ping\" after creating a connection to change the state to established. Probably Trinsic does not send a ping and so it stays in \"received\" until another message is received","username":"domwoe","ts":"2021-04-21T22:47:48.793Z"}
{"msg":"yes, makes sense. the state was active after i sent a message from phone to agent.","username":"usingetechnology","ts":"2021-04-21T22:49:34.882Z"}
{"msg":"the credential not getting acked is strange.","username":"usingetechnology","ts":"2021-04-21T22:50:25.709Z"}
{"msg":"yes. if --auto-ping-connection is not set the connection will not become active.","username":"etschelp","ts":"2021-04-22T10:10:22.762Z"}
{"msg":"@rjones I also get this\n\nCounting objects: 7, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (6/6), done.\nWriting objects: 100% (7/7), 2.07 KiB | 2.07 MiB/s, done.\nTotal 7 (delta 1), reused 0 (delta 0)\nremote: Resolving deltas: 100% (1/1), done.\nremote: error: GH006: Protected branch update failed for refs/heads/feature/helm-agent-secrets.\nremote: error: Required status check \"DCO\" is expected.\nTo github.com:hyperledger-labs/business-partner-agent.git\n ! [remote rejected] feature/helm-agent-secrets -> feature/helm-agent-secrets (protected branch hook declined)\nerror: failed to push some refs to 'git@github.com:hyperledger-labs/business-partner-agent.git'","username":"frank-bee","ts":"2021-04-22T10:33:49.390Z"}
{"msg":"@rjones I also get this\n\n```\nCounting objects: 7, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (6/6), done.\nWriting objects: 100% (7/7), 2.07 KiB | 2.07 MiB/s, done.\nTotal 7 (delta 1), reused 0 (delta 0)\nremote: Resolving deltas: 100% (1/1), done.\nremote: error: GH006: Protected branch update failed for refs/heads/feature/helm-agent-secrets.\nremote: error: Required status check \"DCO\" is expected.\nTo github.com:hyperledger-labs/business-partner-agent.git\n ! [remote rejected] feature/helm-agent-secrets -> feature/helm-agent-secrets (protected branch hook declined)\nerror: failed to push some refs to 'git@github.com:hyperledger-labs/business-partner-agent.git'\n```","username":"frank-bee","ts":"2021-04-22T10:33:49.390Z"}
{"msg":"refs/heads/feature/helm-agent-secrets  should not  be protected , correct?","username":"frank-bee","ts":"2021-04-22T10:34:57.682Z"}
{"msg":"quick update from my sidee..\nI pushed the changes from @Jsyro regarding the helm chart : auto seed and url creation . \nAdded some fixes  and will test this now on our test ledger and waiting for @Jsyro feedback","username":"frank-bee","ts":"2021-04-22T12:29:50.557Z"}
{"msg":"One thing I realized : Do we always assume the bpa and the acapy is reachable from outside via http*s* only?\nThis is hard-coded right now I assume:\nhttps://github.com/hyperledger-labs/business-partner-agent/blob/master/charts/bpa/templates/bpa_configmap.yaml#L14","username":"frank-bee","ts":"2021-04-22T12:31:12.500Z"}
{"msg":"at least for the acapy","username":"frank-bee","ts":"2021-04-22T12:32:02.209Z"}
{"msg":"@etschelp , for the bpa is this figured out at runtime ?\nin the config we only give the hostname , no protocol for the public profile\nhttps://github.com/hyperledger-labs/business-partner-agent/blob/master/charts/bpa/templates/bpa_configmap.yaml#L20","username":"frank-bee","ts":"2021-04-22T12:33:05.754Z"}
{"msg":"Wait, I found it , can be configured here:\nhttps://github.com/hyperledger-labs/business-partner-agent/blob/master/backend/business-partner-agent/src/main/resources/application.yml#L108","username":"frank-bee","ts":"2021-04-22T12:36:11.867Z"}
{"msg":"yes it can be configured, but we have to be careful did:web for example implies https","username":"etschelp","ts":"2021-04-22T12:43:34.524Z"}
{"msg":"Has joined the channel.","username":"MoritzKa","ts":"2021-04-22T13:40:25.830Z","type":"uj"}
{"msg":"@matthewhall78 we are about to launch a website. Purchasing processes in big corporates are a bit slow sometimes. Nevertheless I will prepare some documentation for you.","username":"MoritzKa","ts":"2021-04-22T13:40:26.842Z"}
{"msg":"welcome @MoritzKa","username":"frank-bee","ts":"2021-04-22T13:45:13.420Z"}
{"msg":":-)","username":"frank-bee","ts":"2021-04-22T13:45:17.068Z"}
{"msg":":woo:","username":"MoritzKa","ts":"2021-04-22T13:45:43.018Z"}
{"msg":"+ @MoritzKa","username":"frank-bee","ts":"2021-04-22T13:46:05.024Z"}
{"msg":"yes - it is protected for DCO signoff","username":"rjones","ts":"2021-04-22T14:17:25.248Z"}
{"msg":"ah ok, I thought the DCO signoff check is only running when merging / pushing to the master branch .\nThis would allow to create feature branches with missing signoffs ( which seems to happen in some situations) and do the signoff when merging the PR","username":"frank-bee","ts":"2021-04-22T14:21:40.720Z"}
{"msg":"DCO signoff basically has to be in each commit, right? what about auto-generated merge messages ( maybe we have had one of those in the branch)?","username":"frank-bee","ts":"2021-04-22T14:23:14.552Z"}
{"msg":"each commit - auto merges don't need signoff","username":"rjones","ts":"2021-04-22T14:27:26.329Z"}
{"msg":"ok, thanks for you help. we'll ensure /observe this","username":"frank-bee","ts":"2021-04-22T14:29:06.024Z"}
{"msg":"sure. it's easier to fork the repo to your account, then you can force-push or whatever, and your PRs will auto-update","username":"rjones","ts":"2021-04-22T14:29:48.565Z"}
{"msg":"good hint , we'll discuss this with our friends from BCGov . maybe either they can give us access to their private repo or vice versa ( in case we work together on a feature branch)","username":"frank-bee","ts":"2021-04-22T14:32:12.543Z"}
{"msg":"if you fork the public one to your account, you don't need anyone's say so","username":"rjones","ts":"2021-04-22T14:33:40.400Z"}
{"msg":"The DCO check doesn't not appear to be working for me at all, i branched, made a commit, pushed one commit,  success. Make a second commit, can't push because of expected DCO.\n\nNo auto-merging, same git client, same settings. \n\n```\nremote: Resolving deltas: 100% (2/2), completed with 2 local objects.\nremote: error: GH006: Protected branch update failed for refs/heads/fix/from-references-for-ocp4.\nremote: error: Required status check \"DCO\" is expected.\nTo https://github.com/hyperledger-labs/business-partner-agent.git\n ! [remote rejected] fix/from-references-for-ocp4 -> fix/from-references-for-ocp4 (protected branch hook declined)\nerror: failed to push some refs to 'https://github.com/hyperledger-labs/business-partner-agent.git'\njsyro@jsyro-Latitude-5400:~/src/digitrust/b2b-credential-manager$ git log\ncommit da5a268360fb87a88905a794c8d720da8508c337 (HEAD -> fix/from-references-for-ocp4)\nAuthor: Jason Sy <jasyrotuck@gmail.com>\nDate:   Thu Apr 22 11:04:11 2021 -0700\n\n    an even differenter way\n    \n    Signed-off-by: Jason Sy <jasyrotuck@gmail.com>\n```","username":"Jsyro","ts":"2021-04-22T18:08:48.709Z"}
{"msg":"@rjones \nI faced the same problem today again with this  branch ( one I created)\nhttps://github.com/hyperledger-labs/business-partner-agent/compare/feature/fixSeedhandling","username":"frank-bee","ts":"2021-04-23T13:38:09.604Z"}
{"msg":"on the branch there are 2 commits , one with proper sign-off and  one  merge commit ( generated message without sign-off ) . \nWhen  I pushed a third commit (with sign-off again ) I had this error message","username":"frank-bee","ts":"2021-04-23T13:40:08.330Z"}
{"msg":"feel free to push something to that branch for testing, I do not need it anymore (it is merged)","username":"frank-bee","ts":"2021-04-23T13:40:47.751Z"}
{"msg":"sure, don't push directly to those branches. Use a PR from your home account.","username":"rjones","ts":"2021-04-23T15:55:24.306Z"}
{"msg":"","username":"matthewhall78","ts":"2021-04-23T18:46:45.235Z","attachments":[{"type":"file","title":"Clipboard - April 23, 2021 11:46 AM","title_link":"/file-upload/ddub2yxjiLyjvfWAC/Clipboard%20-%20April%2023,%202021%2011:46%20AM","image_url":"/file-upload/ddub2yxjiLyjvfWAC/Clipboard%20-%20April%2023,%202021%2011:46%20AM","image_type":"image/png","image_size":1589222,"url":"/file-upload/ddub2yxjiLyjvfWAC/Clipboard%20-%20April%2023,%202021%2011:46%20AM","remote":false,"fileId":"ddub2yxjiLyjvfWAC","fileName":"Clipboard - April 23, 2021 11:46 AM"}]}
{"msg":"@MoritzKa is this you?","username":"matthewhall78","ts":"2021-04-23T18:46:47.322Z"}
{"msg":"This is a pretty awesome video: https://youtu.be/uaeADiepfXk #likeabosch  It would cool to have something like that for the BPA","username":"matthewhall78","ts":"2021-04-23T18:50:10.046Z"}
{"msg":"","username":"matthewhall78","ts":"2021-04-23T19:27:48.864Z","attachments":[{"type":"file","title":"Clipboard - April 23, 2021 12:27 PM","title_link":"/file-upload/EsTzu2KANFP5mbwz2/Clipboard%20-%20April%2023,%202021%2012:27%20PM","image_url":"/file-upload/EsTzu2KANFP5mbwz2/Clipboard%20-%20April%2023,%202021%2012:27%20PM","image_type":"image/png","image_size":1120461,"url":"/file-upload/EsTzu2KANFP5mbwz2/Clipboard%20-%20April%2023,%202021%2012:27%20PM","remote":false,"fileId":"EsTzu2KANFP5mbwz2","fileName":"Clipboard - April 23, 2021 12:27 PM"}]}
{"msg":"Also, is your team part of the \"Cross-domain Computing Solutions\" group?","username":"matthewhall78","ts":"2021-04-23T19:27:50.174Z"}
{"msg":"@MoritzKa is your team's work connected to the Bosch Trac360 work?\nhttps://www.youtube.com/watch?v=ARzzQbZsaxc&ab_channel=BoschEngineering%26BusinessSolutions","username":"matthewhall78","ts":"2021-04-23T19:54:55.939Z"}
{"msg":"Wish I could rap like him.","username":"MoritzKa","ts":"2021-04-26T12:09:39.357Z"}
{"msg":"our team is part of the corporate research department: https://www.bosch.com/research/blog/economy-of-things/technology/#self-sovereign-identity. But we are in the process of transferring all SSI related projects to Bosch.io (the software department of Bosch) \nlet me know if I can connect you to \"Cross-domain Computing Solutions\" and Trac360 .","username":"MoritzKa","ts":"2021-04-26T12:15:20.667Z"}
{"msg":"our team is part of the corporate research department: https://www.bosch.com/research/blog/economy-of-things/technology/#self-sovereign-identity. But we are in the process of transferring all SSI related projects to Bosch.io (the software department of Bosch). \nLet me know if I can connect you to \"Cross-domain Computing Solutions\" and Trac360 .","username":"MoritzKa","ts":"2021-04-26T12:15:20.667Z"}
{"msg":"I'd be interested to connect with someone working on tracking supply of goods using verifiable credentials.   If Bosch Trac260 is doing that then we should definitely try to collaborate with them.","username":"matthewhall78","ts":"2021-04-26T22:32:15.718Z"}
{"msg":"I'd be interested to connect with someone working on tracking supply of goods using verifiable credentials.   If Bosch Trac360 is doing that then we should definitely try to collaborate with them.","username":"matthewhall78","ts":"2021-04-26T22:32:15.718Z"}
{"msg":"Have PR for issuing credential. This is kind of a placeholder, as we build out the issuance functions, a lot of the components will be built out to support that.  For now, just putting it under Partner and basing the components on existing ones (re-use where possible). I've tracked the issuance in a new table `bpa_credential_exchange`, i know there is a `my_credential` table but that seems to be more about what is actually in the wallet and profile.  https://github.com/hyperledger-labs/business-partner-agent/pull/389","username":"usingetechnology","ts":"2021-04-26T23:04:33.984Z"}
{"msg":"PR up for displaying a QR code to connect personal wallets, use case if only for people that already have access to BPA, there would be an additional feature added to allow users to distribute the invitation (via email) https://github.com/hyperledger-labs/business-partner-agent/pull/399. One outstanding issue related to the aries-client project. I believe the ConnectionRecord class needs to be modified to allow for instances without the 'theirLabel' attribute (class marks it as required, but @ianco mentioned it was optional)\n.\nLooking for feedback, but i have got it to a state for all the PR checks to pass. \n.\nSee you tomorrow morning!","username":"Jsyro","ts":"2021-04-26T23:19:10.535Z"}
{"msg":"PR up for displaying a QR code to connect personal wallets, use case if only for people that already have access to BPA, there would be an additional feature added to allow users to distribute the invitation (via email) https://github.com/hyperledger-labs/business-partner-agent/pull/399. One outstanding issue related to the aries-client project. I believe the ConnectionRecord class needs to be modified to allow for instances without the 'theirLabel' attribute (class marks it as required, but @ianco thinks it should be optional)\n.\nLooking for feedback, but i have got it to a state for all the PR checks to pass. \n.\nSee you tomorrow morning!","username":"Jsyro","ts":"2021-04-26T23:19:10.535Z"}
{"msg":"I doubt that they are doing that already. We could try to convince them to use VCs. Happy to discuss that on a call.","username":"MoritzKa","ts":"2021-04-27T13:36:50.666Z"}
{"msg":"let the record show i was incorrect, it's a method that uses the label, not the model itself.","username":"Jsyro","ts":"2021-04-27T16:01:39.568Z"}
{"msg":"I have a fix for this, I will clean it up and have it ready by tomorrow.","username":"etschelp","ts":"2021-04-27T16:02:59.775Z"}
{"msg":"Thanks @etschelp for helping us get up to speed.","username":"Jsyro","ts":"2021-04-27T16:03:37.251Z"}
{"msg":"your welcome. its really cool working with you guys. so i'm doing my best to support you wherever i can.","username":"etschelp","ts":"2021-04-27T16:07:50.773Z"}
{"msg":"At the this point in the video they mention using blockchain when talking about enterprise systems: https://youtu.be/ARzzQbZsaxc?t=175","username":"matthewhall78","ts":"2021-04-27T19:59:42.422Z"}
{"msg":"This will be important for making sure our schemas are interoperable   https://github.com/w3c-ccg/traceability-vocab/","username":"matthewhall78","ts":"2021-04-27T22:06:24.886Z"}
{"msg":"with the accompanying presentation: https://docs.google.com/presentation/d/15Zc1dAcCUklL28AT4QOuFM50AZ-G_Qa_wmOrjQWQMLk/edit?usp=sharing","username":"matthewhall78","ts":"2021-04-27T22:06:55.088Z"}
{"msg":"Quick update about the Issue Credential and persistence of Credential Exchange records. We had discussed not duplicating data that is available through aca-py. By default, aca-py (wallet) does not persist credential exchange data once a credential exchange is terminated (the credential is issued), so, if BPA wanted to review the credentials it issued, that needs to be stored in our BPA database. There is no redundancy. We could turn the flags on to store permanantly, or a limited amount of data (which would be useful for revocation), or the default (store nothing).  I think we stay with BPA storing the data so we can easily track what was issued etc. The bonus of that is the relationships to Partner and Schema and Cred Def objects, so we don't have to query aca-py, then for each cred ex, lookup the schema, cred def, and partner in the database. I will be making the other changes @etschelp suggested in the PR, but will keep with persistence in the bpa db.","username":"usingetechnology","ts":"2021-04-27T23:28:09.305Z"}
{"msg":"Has left the channel.","username":"rjones","ts":"2021-04-27T23:28:56.393Z","type":"ul"}
{"msg":"@Jsyro It took me longer than expected to fix this. I had to merge my changes that I did for the manual connection request first. Then I had to fix the connection handling. There is a new PR: https://github.com/hyperledger-labs/business-partner-agent/pull/402 Its not 100% complete as I want to extend the tests before merging. But from the functional side it should be done, as long as I did not overlook something.","username":"etschelp","ts":"2021-04-28T14:50:47.074Z"}
{"msg":"I will arrange a call with the colleagues from India and let you know more.","username":"MoritzKa","ts":"2021-04-30T16:55:21.441Z"}
{"msg":"Has joined the channel.","username":"mwklein","ts":"2021-05-04T21:45:41.421Z","type":"uj"}
{"msg":"Still working on PR 409 (https://github.com/hyperledger-labs/business-partner-agent/pull/409). I will put in the schema/cred def management into the Credential Management section, and then I need to use the new components in other parts of the app (Settings, and Partner issue credential).","username":"usingetechnology","ts":"2021-05-05T01:33:16.168Z"}
{"msg":"Trac360 is mainly used by Bosch plants in India right now and are talking with external leads like Siemens about new projects. The mentioned \"Blockchain service\" is outsourced and used for payment settlement. \nShall I make a connection for you?","username":"MoritzKa","ts":"2021-05-05T07:07:23.751Z"}
{"msg":"I've updated the draft PR around proof construction. Still happy to take suggestions if you think i'm heading down the wrong path.","username":"Jsyro","ts":"2021-05-05T23:18:52.611Z"}
{"msg":"I should finish up my PR tomorrow.","username":"usingetechnology","ts":"2021-05-06T04:20:56.942Z"}
{"msg":"Question about BPA Vue app and the agent DID. The did on the dashboard is `status.did` and status is a reserved word, how is `did` getting put into `status`?","username":"usingetechnology","ts":"2021-05-06T16:35:20.722Z"}
{"msg":"PR 409 (https://github.com/hyperledger-labs/business-partner-agent/pull/409) ready for review. Lots or refactoring and tweaks to the UX. This is not perfect, but we can create other issues and tickets to add finishing touches and bug fixes. Would like to get this merged soon because of all the changes to Vue files.","username":"usingetechnology","ts":"2021-05-07T01:27:48.459Z"}
{"msg":"@matthewhall78 let me know if you want talk to the Trac360 team and what time fits you best.","username":"MoritzKa","ts":"2021-05-07T15:08:25.164Z"}
{"msg":"@etschelp @domwoe  - when we commit to the repo, there are a lot of jobs running (pmd, license check, spotbugs) and some external ones (lgtm) - how are you running those locally? do you have anything setup on your local development machines to replicate what happens on push to github?","username":"usingetechnology","ts":"2021-05-10T16:44:15.368Z"}
{"msg":"Before pushing I usually run ```mvn clean install``` which runs all those checks locally.","username":"etschelp","ts":"2021-05-11T10:37:27.063Z"}
{"msg":"OIDC Identity Provider that can read VC's to be used as an authentication method https://github.com/bcgov/vc-authn-oidc.","username":"Jsyro","ts":"2021-05-11T14:20:39.522Z"}
{"msg":"OIDC Identity Provider (keycloak) that can read VC's to be used as an authentication method https://github.com/bcgov/vc-authn-oidc.","username":"Jsyro","ts":"2021-05-11T14:20:39.522Z"}
{"msg":"Keycloak (OIDC) Identity Provider that can read VC's to be used as an authentication method https://github.com/bcgov/vc-authn-oidc.","username":"Jsyro","ts":"2021-05-11T14:20:39.522Z"}
{"msg":"thanks.","username":"usingetechnology","ts":"2021-05-11T14:56:44.112Z"}
{"msg":"Does anyone at Bosch know if this project (https://www.bundesregierung.de/breg-de/aktuelles/hotel-check-in-kuenftig-per-id-wallet-moeglich-1914612) was done using the BPA?","username":"matthewhall78","ts":"2021-05-17T19:16:08.904Z"}
{"msg":"We are participating in this project as an employer issuing corporate IDs to employees. We currently don't use the BPA since currently only issuer capabilities to personal wallets are used and we needed a self-service for employees with Azure AD integration. However, it's a service built of the same pieces (ACA-Py, Java Client, Micronaut, Vue).","username":"domwoe","ts":"2021-05-18T06:02:59.309Z"}
{"msg":"hi everyone,\nRy would be so nice to create repos for us if we want to have the helm charts for BPA and Acapy seperately , see also\nhttps://github.com/hyperledger-labs/business-partner-agent/issues/397","username":"frank-bee","ts":"2021-05-21T09:00:06.459Z"}
{"msg":"I think this makes sense , what do you think?","username":"frank-bee","ts":"2021-05-21T09:00:24.752Z"}
{"msg":"Proposals for the names of those 2 helm chart repos?","username":"frank-bee","ts":"2021-05-21T09:00:39.459Z"}
{"msg":"what about\n- business-partner-agent-chart\n- business-partner-agent-acapy-chart","username":"frank-bee","ts":"2021-05-21T09:25:09.888Z"}
{"msg":"After many of edits, PR 407 is ready for review. I was never able to find a way of writing tests I was happy with and I think we should look into build better testing infrastructures around factories so object creation is as easy as possible. \n\nhttps://github.com/hyperledger-labs/business-partner-agent/pull/407","username":"Jsyro","ts":"2021-05-28T23:30:09.773Z"}
{"msg":"The new  bpa helm repo is up and running\nhttps://github.com/hyperledger-labs/business-partner-agent-chart/tree/main\nLet's soon remove the old one ( as soon as @usingetechnology 's PR is merged - ideally directly in the new repo)\n\n@rjones could you please make the `main` branch the default branch?\nAlso for the other repo : https://github.com/hyperledger-labs/business-partner-agent-acapy-chart","username":"frank-bee","ts":"2021-05-31T13:02:24.059Z"}
{"msg":"The new  bpa helm repo is up and running\nhttps://github.com/hyperledger-labs/business-partner-agent-chart/tree/main\nLet's soon remove the old one ( as soon as @usingetechnology 's PR is merged - ideally directly in the new repo)\n\n@rjones could you please make the `main` branch the default branch?","username":"frank-bee","ts":"2021-05-31T13:02:24.059Z"}
{"msg":"The new  bpa helm repo is up and running\nhttps://github.com/hyperledger-labs/business-partner-agent-chart/tree/main\nLet's soon removed the old one ( as soon as @usingetechnology 's PR is merged - ideally directly in the new repo)\n\n@rjones could you please make the `main` branch the default branch?","username":"frank-bee","ts":"2021-05-31T13:02:24.059Z"}
{"msg":"Has joined the channel.","username":"rjones","ts":"2021-05-31T13:02:24.159Z","type":"uj"}
{"msg":"Also for the other repo : https://github.com/hyperledger-labs/business-partner-agent-acapy-chart","username":"frank-bee","ts":"2021-05-31T13:19:11.877Z"}
{"msg":"one more question @rjones : is there a way that we can track the issues related to the new chart repository ( the bpa one)  in our main bpa project ?","username":"frank-bee","ts":"2021-05-31T15:40:16.471Z"}
{"msg":"one more question @rjones : is there a suitable way that we can track the issues related to the new chart repository ( the bpa one)  in our main bpa project ?","username":"frank-bee","ts":"2021-05-31T15:40:16.471Z"}
{"msg":"we can reference another repo at least by including the repository before the name like kneath/example-project#42\n\nbut seeing the issues of the other (helm) repo in our backlog / project would be better","username":"frank-bee","ts":"2021-05-31T15:46:56.839Z"}
{"msg":"You can reference other issues directly, you don't need any permissions","username":"rjones","ts":"2021-06-01T00:06:11.953Z"}
{"msg":"You could have done it on your own, without my intervention, but I've done it.","username":"rjones","ts":"2021-06-01T00:08:10.940Z"}
{"msg":"thanks @rjones !\nUnfortunately I have not enough rights to change default branches .\nThe `branches` menu does not appear for me under settings .","username":"frank-bee","ts":"2021-06-01T08:57:28.791Z"}
{"msg":"I have had a talk with our PO  @MoritzKa  today about versioning of the bpa releases ( helm chart ).\nWe should find  some kind of release process and agree on some versioning , maybe tonight.","username":"frank-bee","ts":"2021-06-01T08:59:52.066Z"}
{"msg":"Proposal:\n- we have to used semantic versioning for charts anyway\n- we could  use minor changes for \"releases\") the time being : 0.1, 0.2,....  (because we are still are in a general alpha environment where e.g. APIs change)\n- for untested releases we could e.g. add `-alpha.XX`","username":"frank-bee","ts":"2021-06-01T09:05:38.400Z"}
{"msg":"Proposal:\n- we have to used semantic versioning for charts anyway\n- we could  use minor changes for \"releases\") the time being : `0.1`, `0.2`,....  (because we are still are in a general alpha environment where e.g. APIs change)\n- for untested releases we could e.g. add `-alpha.XX`","username":"frank-bee","ts":"2021-06-01T09:05:38.400Z"}
{"msg":"Proposal:\n- we have to used semantic versioning for charts anyway\n- we could  use minor changes for \"releases\") the time being : `0.1`, `0.2`,....  (because we are still are in a general alpha environment where e.g. APIs change)\n- for untested releases we could e.g. add `-alphaXX`","username":"frank-bee","ts":"2021-06-01T09:05:38.400Z"}
{"msg":"Example versions evolving from top to bottom:\n`0.3.0-alpha04` (current version)\n`0.3` (first \"stable release\")\n`0.4-alpha01` (untested new version)\n`0.4-alpha02`\n`0.4` (new release)\n`0.4.1` (urgent bug fix)\n...","username":"frank-bee","ts":"2021-06-01T09:12:59.481Z"}
{"msg":"Example versions evolving from top to bottom:\n`0.3.0-alpha04` (current version)\n`0.3` (first \"stable release\")\n`0.4.0-alpha01` (untested new version)\n`0.4.0-alpha02`\n`0.4` (new release)\n`0.4.1` (urgent bug fix)\n...","username":"frank-bee","ts":"2021-06-01T09:12:59.481Z"}
{"msg":"If you check in a settings file - [here is an example](https://github.com/hyperledger/cactus/blob/main/.github/settings.yml) - you can do it. I apologize, I thought you would have the branches option in the UI.","username":"rjones","ts":"2021-06-01T14:01:50.464Z"}
{"msg":"I added this simple idea of version to this issue\n:https://github.com/hyperledger-labs/business-partner-agent/issues/444\n\nwill document it when  working on the issue...","username":"frank-bee","ts":"2021-06-01T15:08:24.792Z"}
{"msg":"I  bumped the current chart version ( which is somehow tested ) to 0.3.0\nAnd asked @usingetechnology to use 0.4.0-alpha01 for the changes in his  PR ( and ideally create a new bpa docker image with 0.4.0-alpha01 and use that in appVersion).\nAs soon as we tested  0.4.0-alphaXX a bit we can release 0.4.0 (latest at the end of this sprint)","username":"frank-bee","ts":"2021-06-01T15:19:49.068Z"}
{"msg":"i've updated the chart version, but didn't update the appVersion, wasn't sure when we were ready to create a github release.","username":"usingetechnology","ts":"2021-06-01T18:06:48.061Z"}
{"msg":"@usingetechnology  I merged your changes and roughly tested the chart with latest bpa image. seems to work so far :-)","username":"frank-bee","ts":"2021-06-02T13:35:08.197Z"}
{"msg":"great. i used the chart repo yesterday to setup a bpa in one of our namespaces (with keycloak). glad it works for you too.","username":"usingetechnology","ts":"2021-06-02T13:36:24.350Z"}
{"msg":"Had to do a small fix in the schema / values\nnew new chart is released as 0.4.0-alpha08","username":"frank-bee","ts":"2021-06-02T13:36:36.646Z"}
{"msg":"ok, i'll update and pull that in. :thumbup:","username":"usingetechnology","ts":"2021-06-02T13:37:15.058Z"}
{"msg":"Versioning is now simpler , even the git tags for the bpa a just x.x.x ( semantic versioning)\nSo we can do it like this for chart and bpa image / appVersion:\n\n`0.3.0-alpha04` (current version)\n`0.3` (first \"stable release\")\n`0.4.0-alpha01` (untested new version)\n`0.4.0-alpha02`\n`0.4` (new release)\n`0.4.1` (urgent bug fix)\n...\nExample versions evolving from top to bottom:\n`0.3.0-alpha04` (current version)\n`0.3` (first \"stable release\")\n`0.4.0-alpha01` (untested new version)\n`0.4.0-alpha02`\n`0.4` (new release)\n`0.4.1` (urgent bug fix)\n...","username":"frank-bee","ts":"2021-06-02T13:38:32.143Z"}
{"msg":"Versioning is now simpler , even the git tags for the bpa a just x.x.x ( semantic versioning)\nSo we can do it like this for chart and bpa image / appVersion:\n\n`0.3.0-alpha04` (current version)\n`0.3` (first \"stable release\")\n`0.4.0-alpha01` (untested new version)\n`0.4.0-alpha02`\n`0.4` (new release)\n`0.4.1` (urgent bug fix)\n...","username":"frank-bee","ts":"2021-06-02T13:38:32.143Z"}
{"msg":"have a great week , we have holiday tommorow  :-)\nHere you on monday","username":"frank-bee","ts":"2021-06-02T13:39:39.854Z"}
{"msg":"enjoy your long weekend!","username":"usingetechnology","ts":"2021-06-02T13:43:48.545Z"}
{"msg":"Has left the channel.","username":"rjones","ts":"2021-06-02T14:38:38.291Z","type":"ul"}
{"msg":"Hi folks just updated by local BPA environment, started up the two local BPA's and issued a credential.  The updates are all pretty slick, good work! :+1:","username":"ianco","ts":"2021-06-02T18:35:02.339Z"}
{"msg":"I had a couple of issued with the startup scripts, running locally on a Mac, I'll open a PR, but wondering if anyone else is running on a Mac and is able to successfully start up with the scripts in the `scripts/local` directory?","username":"ianco","ts":"2021-06-02T18:35:51.679Z"}
{"msg":"FYI looking into adding Endorser support to BPA, this is the ticket (a hackmd doc is linked in the comments):  https://github.com/bcgov/von/issues/378   ...  interested in any feedback from the community","username":"ianco","ts":"2021-06-03T19:37:54.518Z"}
{"msg":"I'm on Linux and other members are on Windows. `scripts/local-network/docker-compose.yaml` should not contain `extra-hosts` in the services. that extra section should ber reserved for the `-linux.yml` file to resolve an issue. Not sure if that should be in or out for MAC users.","username":"Jsyro","ts":"2021-06-03T23:09:46.676Z"}
{"msg":"cool, let's also put this on the agenda of our weekly meeting as this affects the order of some of the work we have planned. e.g. label a connection or apply policies.","username":"etschelp","ts":"2021-06-07T11:30:59.933Z"}
{"msg":"as discussed in our weekly meeting. here is a demo video that i put together.  this is for a non-technical person that wanted to understand their role in the overall flow. they would be acting strictly as a verifier, and wanted to see what they would do to connect to a mining company and then get proof that the mining company meets certain criterion: is a BC registered business, has a BC mining permit, the mine has a verified TSM (Towards Sustainable Mining) certificate from a 3rd party (Pricewaterhouse Coopers).  There are some times when there is no english audio, but that is because the Japanese audio would still be running. https://www.dropbox.com/s/mw2qlsg22u80eus/mitsubishi-demo-english.mp4?dl=0","username":"usingetechnology","ts":"2021-06-08T15:10:49.064Z"}
{"msg":"@usingetechnology on the terminal you can run `ct install --config ct.yaml --all` to run the helm chart. see https://github.com/helm/chart-testing","username":"frank-bee","ts":"2021-06-08T15:54:43.537Z"}
{"msg":"but this does not install the local cluster, it uses the one configured in kubectl and creates a random namespace","username":"frank-bee","ts":"2021-06-08T15:55:18.669Z"}
{"msg":"thanks @frank-bee , i was running that, wasn't sure about the cluster - good to know!","username":"usingetechnology","ts":"2021-06-08T16:13:44.711Z"}
{"msg":"The use for business wallets requires trust to be built on previous credentials, so we have been exploring how to initialise this trust. Jason Sherman presented a written procedure, and I have drafted a timeline diagram to help explain the procedure. Please review and comment.\n\nhttps://hackmd.io/@cBTgnqf4SLi410m52P6JSw/HkjabY0qO","username":"Jsyro","ts":"2021-06-09T20:18:41.196Z"}
{"msg":"@Jsyro  I've written a proposal for the proof template builder https://hackmd.io/JgMsZMHlT-2qy5Y1oThTMg?both","username":"domwoe","ts":"2021-06-10T12:47:00.609Z"}
{"msg":"I visualized the flow from my perspective a while ago when I read @usingetechnology's proposal. I added the diagram to the document","username":"domwoe","ts":"2021-06-10T13:00:09.792Z"}
{"msg":"awesome stuff guys!","username":"usingetechnology","ts":"2021-06-10T15:40:10.535Z"}
{"msg":"I'm currently working on a design on how to link this with proof templates and rules and also to evaluate what needs to be refactored to achieve that.","username":"etschelp","ts":"2021-06-10T16:12:22.020Z"}
{"msg":"@jsyro","username":"matthewhall78","ts":"2021-06-10T18:55:16.525Z"}
{"msg":"@Jsyro can you update the business level diagram I made in MIRO based on your more technical diagram, so that the business level diagram isn't incorrect.  I don't mind if it glosses over some things that are too technical, but I don't want to to be wrong either.  https://miro.com/app/board/o9J_lfQFP90=/?moveToWidget=3074457358272204211&cot=14","username":"matthewhall78","ts":"2021-06-10T18:55:16.525Z"}
{"msg":"@Jsyro can you update the business level diagram I made in MIRO based on your more technical diagram, so that the business level diagram isn't incorrect.  I don't mind if it glosses over some things that are too technical, but I don't want it to be wrong either.  https://miro.com/app/board/o9J_lfQFP90=/?moveToWidget=3074457358272204211&cot=14","username":"matthewhall78","ts":"2021-06-10T18:55:16.525Z"}
{"msg":"@usingetechnology I made quite a lot of changes to the helm chart. Would be great if you could do a review and test it against your config https://github.com/hyperledger-labs/business-partner-agent-chart/pull/11","username":"frank-bee","ts":"2021-06-11T15:10:27.236Z"}
{"msg":"Most of it is just refactoring but also some renaming of values.\nWhat I fixed is also the schema config which did not work","username":"frank-bee","ts":"2021-06-11T15:11:18.248Z"}
{"msg":"","username":"frank-bee","ts":"2021-06-11T15:23:28.755Z","attachments":[{"type":"file","title":"Clipboard - June 11, 2021 5:23 PM","title_link":"/file-upload/XJ2SBju8KyZpBJ9zC/Clipboard%20-%20June%2011,%202021%205:23%20PM","image_url":"/file-upload/XJ2SBju8KyZpBJ9zC/Clipboard%20-%20June%2011,%202021%205:23%20PM","image_type":"image/png","image_size":70720,"url":"/file-upload/XJ2SBju8KyZpBJ9zC/Clipboard%20-%20June%2011,%202021%205:23%20PM","remote":false,"fileId":"XJ2SBju8KyZpBJ9zC","fileName":"Clipboard - June 11, 2021 5:23 PM"}]}
{"msg":"This is how our config looks now in kubeapps. \nNext week I will also get rid if seed and did which will be generated then....","username":"frank-bee","ts":"2021-06-11T15:24:31.796Z"}
{"msg":"@usingetechnology one idea:\nmaybe you can add your value files ( examples ) to be linted \n\nsee [docu](https://github.com/helm/chart-testing/blob/main/doc/ct_lint.md)\n```\nCharts may have multiple custom values files matching the glob pattern '*-values.yaml' in a directory named 'ci' in the root of the chart's directory. The chart is linted for each of these files. If no custom values file is present, the chart is linted with defaults.\n```","username":"frank-bee","ts":"2021-06-11T15:47:58.976Z"}
{"msg":"ok, frank, just reviewing, trying to see impact on our deployments.  i will run it against openshift and see how it goes.","username":"usingetechnology","ts":"2021-06-11T16:22:17.444Z"}
{"msg":"looks good @frank-bee, just rolled out a couple of instances in one of our namespaces. One thing that I noticed was that `helm upgrade` will set new values and configuration but will not redeploy. I don't know how you are planning to handle this through kubeapps, and we do not have a pipeline yet, so unsure how we will do it in the future... but I used the following commands to install a BPA, then change some configuration and redeploy only the BPA (not the agent).  ```helm upgrade kc2 bpa -f bpa/values-kc.yaml \\\n--install \\\n--set schemas.enabled=true \\\n--set \"bpa.podAnnotations.timestamp=$(date)\" \\\n--set \"acapy.podAnnotations.timestamp=$(date)\"\n```","username":"usingetechnology","ts":"2021-06-11T18:08:28.604Z"}
{"msg":"So that installs if not exists, and sets some timestamps for the agent deployment and the bpa deployment.","username":"usingetechnology","ts":"2021-06-11T18:09:01.870Z"}
{"msg":"```helm upgrade kc2 bpa -f bpa/values-kc.yaml \\\n--install \\\n--set bpa.config.name=\"Keycloak Two!\" \\\n--set schemas.enabled=false \\\n--set \"bpa.podAnnotations.timestamp=$(date)\"\n```","username":"usingetechnology","ts":"2021-06-11T18:09:21.313Z"}
{"msg":"then this will do the upgrade and change values in the configmaps, remove the schemas config, then redeply the bpa because the timestamp annotation changed.","username":"usingetechnology","ts":"2021-06-11T18:10:00.877Z"}
{"msg":"Hi @usingetechnology ,\nI think they recommended way  to  handle this is:\nhttps://helm.sh/docs/howto/charts_tips_and_tricks/#automatically-roll-deployments","username":"frank-bee","ts":"2021-06-14T09:25:49.503Z"}
{"msg":"I will create a PR for that...","username":"frank-bee","ts":"2021-06-14T09:26:20.597Z"}
{"msg":"I can create a PR for that...","username":"frank-bee","ts":"2021-06-14T09:26:20.597Z"}
{"msg":"hi guys, I thought a bit about releasing again.\nPrepared a [Release Drafter](https://github.com/release-drafter/release-drafter) action / workflow which helps managing the releases.\nThe draft for the next release (kind of our first release: 0.6.0) looks like this: https://github.com/hyperledger-labs/business-partner-agent/releases/tag/untagged-a9baaf8e5f9bc8b885d2\n\nWhat about having a release every three weeks? This would fit to our sprint cycles.\nA good date for us would be the 23.6. for the 0.6.0 ( three weeks later 0.7.0 and so on)","username":"frank-bee","ts":"2021-06-14T10:32:28.788Z"}
{"msg":"hi guys, I thought a bit about **releasing** again.\nPrepared a [Release Drafter](https://github.com/release-drafter/release-drafter) action / workflow which helps managing the releases.\nThe draft for the next release (kind of our first release: 0.6.0) looks like this: https://github.com/hyperledger-labs/business-partner-agent/releases/tag/untagged-a9baaf8e5f9bc8b885d2\n\nWhat about having a release every three weeks? This would fit to our sprint cycles.\nA good date for us would be the **23.6. for the 0.6.0** ( three weeks later 0.7.0 and so on)","username":"frank-bee","ts":"2021-06-14T10:32:28.788Z"}
{"msg":"yeah, i saw that, but we don't necessarily change a file, so the checksum won't work, and i don't think we should have a random num either. I think we would lose control over what is rolled out, I think we will deploy the BPA more frequently than the AGENT. And for us, we will have a property overrides using `--set X`, and if we changed one of those values we would want to deploy only what is affected. We can discuss tomorrow.","username":"usingetechnology","ts":"2021-06-14T16:03:53.795Z"}
{"msg":"hmm, my feeling is we might have overengineered the way we parameterize the bpa or even the acapy deployment.\nIn general the deployment \"should know when to do a new roleout\"\nthe only case it does not , is when a value in a referenced configmap changes, not?\nand for that purpose it is fine to create this hash over the configmaps.\nWhich scenario do you have in mind where a) a configmap won't change plus b) the deployment doesn't change either ?","username":"frank-bee","ts":"2021-06-14T16:11:42.504Z"}
{"msg":"does that checksum work against the result of the configmap  or the actual template file? because the template file may not change frequently, but the values we pass in will.  so if a value changes and it redeploys, then that works for us.  and if it deploys when we change a value using `--set` then that is good to.  If it doesn't deploy on changes via `--set` then the caller can force a deployment using the pod annotations as described above. so i think what you","username":"usingetechnology","ts":"2021-06-14T16:15:05.037Z"}
{"msg":"have done will cover most (hopefully all) situatations.  and if not, then the caller can \"force\" deployment.","username":"usingetechnology","ts":"2021-06-14T16:15:45.952Z"}
{"msg":"> does that checksum work against the result of the configmap or the actual template file?\n\nresult","username":"frank-bee","ts":"2021-06-14T16:19:24.535Z"}
{"msg":"see you tommorrow @usingetechnology , I have to leave ( wife is calling ;-) )","username":"frank-bee","ts":"2021-06-14T16:20:02.953Z"}
{"msg":":thumbsup: (about the deploy on result) talk to you tomorrrow","username":"usingetechnology","ts":"2021-06-14T16:22:40.198Z"}
{"msg":"just ran your scripts, called ```helm upgrade kc1 bpa -f bpa/values-kc.yaml \\\n--install \\\n--set bpa.config.name=\"Keycloak BPA 1\"``` and the rollout worked :thumbsup: :thumbsup: nice work!","username":"usingetechnology","ts":"2021-06-14T16:55:17.802Z"}
{"msg":"Why 3 weeks? versus 2 or 1 week?  Our sprint cycles are 2 weeks.","username":"matthewhall78","ts":"2021-06-14T17:14:36.110Z"}
{"msg":"set up some empty temporary BPAs that use the local login (admin/changeme).  All have been deployed using the helm charts from PR (https://github.com/hyperledger-labs/business-partner-agent-chart/pull/15). First one has BCGov UX which is all just configuration from PR(https://github.com/hyperledger-labs/business-partner-agent/pull/477).  ```https://govbc-bpa-dev.apps.silver.devops.gov.bc.ca/\n```","username":"usingetechnology","ts":"2021-06-14T23:39:09.447Z"}
{"msg":"set up some empty temporary BPAs that use the local login (admin/changeme).  All have been deployed using the helm charts from PR (https://github.com/hyperledger-labs/business-partner-agent-chart/pull/15). First one has BCGov UX which is all just configuration from PR(https://github.com/hyperledger-labs/business-partner-agent/pull/477).","username":"usingetechnology","ts":"2021-06-14T23:39:09.447Z"}
{"msg":"https://govbc-bpa-dev.apps.silver.devops.gov.bc.ca/","username":"usingetechnology","ts":"2021-06-14T23:39:15.218Z"}
{"msg":"https://acme-bpa-dev.apps.silver.devops.gov.bc.ca/\nhttps://bizco-bpa-dev.apps.silver.devops.gov.bc.ca/","username":"usingetechnology","ts":"2021-06-14T23:39:31.461Z"}
{"msg":"Hi @matthewhall78 !\nOur sprint cycle is 3 weeks ;-)\nIf we do every week , I think  there is not much time to stabilize.\nIf find it better to have always a version in advance which can be roughly tested (e.g. 0.6.0-alpha01) \nMaybe you can discuss it tonight with my collegues (I cannot join tonight)","username":"frank-bee","ts":"2021-06-15T07:38:14.307Z"}
{"msg":"MichaelWiles","username":"lohan.spies","ts":"2021-06-15T07:44:48.303Z"}
{"msg":"@MichaelWiles","username":"lohan.spies","ts":"2021-06-15T07:44:48.303Z"}
{"msg":"Join us for our weekly BPA call today at 16:00 CET (14:00 UTC)\n\n[Teams Link] (https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2%40thread.v2/0?context=%7b%22Tid%22%3a%220ae51e19-07c8-4e4b-bb6d-648ee58410f4%22%2c%22Oid%22%3a%2222acfef8-21f4-4555-a7a7-5db725a9f554%22%7d)\n\nTopics:\n\n- PR: Customized UX\n- Proof templates\n- Tag a (verified) connection / Rules engine - Input needed here\n- Endorser support","username":"etschelp","ts":"2021-06-15T08:43:31.670Z"}
{"msg":"Join us for our weekly BPA call today at 16:00 CET (14:00 UTC)\n\nTeams Link: https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2%40thread.v2/0?context=%7b%22Tid%22%3a%220ae51e19-07c8-4e4b-bb6d-648ee58410f4%22%2c%22Oid%22%3a%2222acfef8-21f4-4555-a7a7-5db725a9f554%22%7d\n\nTopics:\n\n- PR: Customized UX\n- Proof templates\n- Tag a (verified) connection / Rules engine - Input needed here\n- Endorser support","username":"etschelp","ts":"2021-06-15T08:43:31.670Z"}
{"msg":"Has joined the channel.","username":"echsecutor","ts":"2021-06-15T10:51:25.519Z","type":"uj"}
{"msg":"I was wondering whether I need to rebuild every time I change some frontend setting in `frontend/.env` like the title or logo URL. Would it be possible do read those variables at container-runtime from the environment?","username":"echsecutor","ts":"2021-06-15T15:24:21.885Z"}
{"msg":"What's your goal? If you need that you probably should serve the frontend separately from the backend","username":"domwoe","ts":"2021-06-15T15:39:56.046Z"}
{"msg":"ah, you want to change title/logo. This shouldn't be handled there.","username":"domwoe","ts":"2021-06-15T15:45:07.832Z"}
{"msg":"ah, you want to change title/logo. This shouldn't be handled there. That's related to https://github.com/hyperledger-labs/business-partner-agent/pull/477","username":"domwoe","ts":"2021-06-15T15:45:07.832Z"}
{"msg":"slightly related, yes. There are already options that you can set in the frontend .env, namely `VUE_APP_TITLE` and `VUE_APP_LOGO_URL`. Those are sufficient for me in terms of white labeling. ;) But afaik you can add e.g. an imprint via an .env variable at runtime, which saves rebuilding the whole container. So I was wondering whether you can do the same for the variables in frontend .env","username":"echsecutor","ts":"2021-06-15T15:48:31.327Z"}
{"msg":"Currently you'd need to serve the frontend separately e.g. with npm run serve, then the VUE_APP_X Env variables can be accessed during runtime.","username":"domwoe","ts":"2021-06-15T15:50:26.816Z"}
{"msg":"But we could add it to the settings similar to the imprint URL. If that helps you, you can write an issue","username":"domwoe","ts":"2021-06-15T15:55:10.372Z"}
{"msg":"Ah, I see, there is quite some effort forwarding the imprint through the application.yml in the backend to the UserController to the frontend... never mind. I will just rebuild the container. ;)","username":"echsecutor","ts":"2021-06-15T16:07:56.409Z"}
{"msg":"@matthewhall78 @Jsyro @usingetechnology \nCa we start with a first release **23.6. for the 0.6.0** ( three weeks later 0.7.0 and so on)?\nJust to get some experience on how we do releasing. We can later adopt the cycle time and so on.","username":"frank-bee","ts":"2021-06-16T09:39:18.950Z"}
{"msg":"@matthewhall78 @Jsyro @usingetechnology \nCa we start with a first release **23.6. for the 0.6.0** ( three weeks later 0.7.0 and so on)?\nJust to get some experience on how we do releasing We can later adopt the cycle time and so on.","username":"frank-bee","ts":"2021-06-16T09:39:18.950Z"}
{"msg":"@matthewhall78 @Jsyro @usingetechnology \nCa we start with a first release 23.6. for the 0.6.0 ( three weeks later 0.7.0 and so on)?\nJust to get some experience on how we do releasing We can later adopt the cycle time and so on.","username":"frank-bee","ts":"2021-06-16T09:39:18.950Z"}
{"msg":"I would  create a  0.6.0 docker image on the monday before (on 21.6.) and chart release ( 0.6.0_rc1 ) and leave a note here in the channel.","username":"frank-bee","ts":"2021-06-16T09:43:34.583Z"}
{"msg":"@etschelp I configured VS Code launched by Gitpod for java development. Works quite nice , also debugging.\nI could also add some configuration to the .gitpod.yml so that it works for every developer without even the need to configure anything.\nmy question is:\nshould I add 2 VS Code launch configs: one for backend and one for frontend? Or one combined one ? For the latter I'm not 100% sure how this works. Any help / hints wellcome","username":"frank-bee","ts":"2021-06-16T14:14:31.926Z"}
{"msg":"@etschelp I configured VS Code launched by Gitpod for java development. Works quite nice , also debugging.\nI could also add some configuration to the .gitpod.yml so that it works for every developer without even the need to configure anything.\nmy question is:\nshould I add 2 VS Code launch configs: one for backend and one for frontend? Or one combined one ? For the latter I'm not 100% sure how this works. Any help / hints welcome","username":"frank-bee","ts":"2021-06-16T14:14:31.926Z"}
{"msg":"@etschelp I configured VS Code launched by Gitpod for java development. Works quite nice , also debugging.\nI could also add some configuration to the .gitpod.yml so that it works for every developer without even the need to configure anything.\nmy question is:\nshould I add 2 VS Code launch configs: one for backend and one for frontend development? Or one combined one ? For the latter I'm not 100% sure how this works. Any help / hints welcome.","username":"frank-bee","ts":"2021-06-16T14:14:31.926Z"}
{"msg":"Has joined the channel.","username":"l-wegner","ts":"2021-06-16T14:41:55.890Z","type":"uj"}
{"msg":"maybe I try the following:\n\n1) for the backend I provide a gitpod  init task which pre-builds the dependencies (basically a `mvn clean install`).\nAcapy and DB I start via docker-compose , also in the background.\nPlus a vs-code launch config to have a run / debug configuration.\n\n2) For the frontend I have a gitpod init task which installs the npm dependencies, basically an `npm install` as pre-build.\nI start an npm development server in the background (`npm serve`),  in a gitpod task where I can open it also in the browser or preview.\n\nHmmm , but this has the downside, that for frontend development always the backend has to be started.","username":"frank-bee","ts":"2021-06-16T16:15:13.209Z"}
{"msg":"This seems to be not ideal. \n@usingetechnology  and @Jsyro , didn't one of you develop fronend and backend at the same time ? how?","username":"frank-bee","ts":"2021-06-16T16:16:18.176Z"}
{"msg":"I do basic development using a separate backend and frontend. The main issue is security is disabled.  This allows you to run the backend and have it work with a frontend on a separate server.  I run the backend and frontend through my IDE (IntelliJ) and I can debug with breakpoints in both.","username":"usingetechnology","ts":"2021-06-16T16:20:16.165Z"}
{"msg":"it's a bit awkward, but i have full debugging.  I use docker compose to stand up two agents and 1 bpa, then use my ide to run the second bpa (which has no security and i can debug using an Application configuration) and then i just do `npm serve` to run the frontend for my 2nd bpa, and I can launch a Javascript debug session against that frontend.  Again, I am using IntelliJ, but I think the same could be done with VS Code.","username":"usingetechnology","ts":"2021-06-16T16:25:59.109Z"}
{"msg":"I think that is fine. We have no pipeline yet.","username":"usingetechnology","ts":"2021-06-16T16:28:05.074Z"}
{"msg":"Cool, I thought of configuring something similar @usingetechnology .\nBPA1 is anyway good for testing.\nbut BPA2 I wonder if I can run frontend and backend together but run the frontend in debugging mode (npm serve) , if I change this stuff here:\nhttps://github.com/hyperledger-labs/business-partner-agent/blob/8f1bec60eec1475a065e06fae133f01972796e3c/backend/business-partner-agent/pom.xml#L404\n\nBut hot reloading probably won't work if started with maven? @etschelp","username":"frank-bee","ts":"2021-06-16T17:04:33.440Z"}
{"msg":"@usingetechnology could you share this docker-compose file? I want to make sure that you can used the same file in your setup","username":"frank-bee","ts":"2021-06-16T17:06:11.796Z"}
{"msg":"@usingetechnology could you share this docker-compose file? I want to make sure that you can use the same file in your setup than the one I will configure for gitpod","username":"frank-bee","ts":"2021-06-16T17:06:11.796Z"}
{"msg":"A couple of things. To setup the pod in the background i would simply use `mvn clean compile` as this does not run any checks it should speed up things.\n\nTo do reloads on changes i would propose you take a look at the micronaut maven plugin https://micronaut-projects.github.io/micronaut-maven-plugin/latest/examples/run.html \n\nThis is already in our poms and works for java.\n\nIf you want to server the frontend via the backend and have hot reload on both you have a couple of issues. First: npm serve needs to copy everything it compiles into the backends resource folder. and second the backend then needs to hot reload the jar. I do not know if this is doable, but it might work. maybe with also with symlinks or mounts.\n\nAn other discussion might be breaking up be and fe, but this changes the security setup, especially if you want to serve from multiple domains.","username":"etschelp","ts":"2021-06-17T07:42:40.772Z"}
{"msg":"A couple of things. To setup the pod in the background i would simply use `mvn clean compile` as this does not run any checks it should speed up things.\n\nTo do reloads on changes i would propose you take a look at the micronaut maven plugin https://micronaut-projects.github.io/micronaut-maven-plugin/latest/examples/run.html \n\nThis is already in our poms and works for java.\n\nIf you want to serve the frontend via the backend and have hot reload on both you have a couple of issues. First: npm serve needs to copy everything it compiles into the backends resource folder. and second the backend then needs to hot reload the jar. I do not know if this is doable, but it might work. maybe with some symlink magic.\n\nAn other discussion might be breaking up be and fe, but this changes the security setup, especially if you want to serve from multiple domains.","username":"etschelp","ts":"2021-06-17T07:42:40.772Z"}
{"msg":"I wanted to write a @MicronautTest, where i mock `org/hyperledger/bpa/impl/aries/config/SchemaService.java` by this\n`    @Inject\n    SchemaService schemaService;\n    @MockBean\n    SchemaService schemaService(){\n        return Mockito.mock(SchemaService.class);\n    }`\n\nBut I get an ambiguity error for an inner class for my mock and the actual singleton of some aspect\n` Multiple possible bean candidates found: [org.hyperledger.bpa.controller.api.prooftemplates.$ProofTemplateTest$SchemaService0Definition$Intercepted, org.hyperledger.bpa.impl.aries.config.$SchemaServiceDefinition$Intercepted]`\n\nHow do I mock that correctly?","username":"l-wegner","ts":"2021-06-17T15:46:04.200Z"}
{"msg":"I wanted to write a @MicronautTest, where i mock `org/hyperledger/bpa/impl/aries/config/SchemaService.java` by this\n```   @Inject\n    SchemaService schemaService;\n    @MockBean\n    SchemaService schemaService(){\n        return Mockito.mock(SchemaService.class);\n    }```\n\nBut I get an ambiguity error for an inner class for my mock and the actual singleton of some aspect\n` Multiple possible bean candidates found: [org.hyperledger.bpa.controller.api.prooftemplates.$ProofTemplateTest$SchemaService0Definition$Intercepted, org.hyperledger.bpa.impl.aries.config.$SchemaServiceDefinition$Intercepted]`\n\nHow do I mock that correctly?","username":"l-wegner","ts":"2021-06-17T15:46:04.200Z"}
{"msg":"Solved it. Instead of `@MockBean` I had to specify the class of the bean I want to replace `@MockBean(SchemaService.class)`","username":"l-wegner","ts":"2021-06-17T15:55:28.951Z"}
{"msg":"ok good points @etschelp . Thanks!","username":"frank-bee","ts":"2021-06-18T05:24:45.067Z"}
{"msg":"I will launch the backend and frontend seperatly \nHot-reloading works I think if the java debugging is used.","username":"frank-bee","ts":"2021-06-18T05:26:57.188Z"}
{"msg":"Yes thats how you replace an existing bean from the context with a mocked one. Or if you do not need the full context you can do it with plain mockito like:\n\n```\n@ExtendWith(MockitoExtension.class)\nclass MyTest {\n\n    @Mock\n    private DependencyOfFooService dep;\n\n    @InjectMocks\n    private FooService foo;\n```\nLike this you can mock the dependencies behavior.","username":"etschelp","ts":"2021-06-18T07:49:09.401Z"}
{"msg":"I  created a new helm chart version **0.6.0-alpha09** based on the latest docker  image created on our master.\nWill bump it to our \"first release\" **0.6.0** tomorrow if I hear not veto here :-)","username":"frank-bee","ts":"2021-06-21T09:15:09.577Z"}
{"msg":"I  created a new helm chart version **0.6.0-alpha09** based on the latest docker  image created on our master.\nWill bump it to our \"first release\" **0.6.0** tomorrow if I hear no veto here :-)","username":"frank-bee","ts":"2021-06-21T09:15:09.577Z"}
{"msg":"I  created a new helm chart version ~~0.6.0-alpha09~~  0.6.0-alpha11 based on the latest docker  image created on our master.\nWill bump it to our \"first release\" **0.6.0** tomorrow if I hear no veto here :-)","username":"frank-bee","ts":"2021-06-21T09:15:09.577Z"}
{"msg":"I  created a new helm chart version ~~0.6.0-alpha09~~  **0.6.0-alpha11** based on the latest docker  image created on our master.\nWill bump it to our \"first release\" **0.6.0** tomorrow if I hear no veto here :-)","username":"frank-bee","ts":"2021-06-21T09:15:09.577Z"}
{"msg":"When I opened a new workspace, `mvn clean compile` doesn't make the jar, so the backend never starts.  i had to run `mvn clean install`.  perhaps we can create a new task that creates the jar but does not run the tests.","username":"usingetechnology","ts":"2021-06-21T17:21:47.436Z"}
{"msg":"","username":"usingetechnology","ts":"2021-06-21T18:17:03.080Z","attachments":[{"type":"file","title":"docker-compose.txt","title_link":"/file-upload/LZFP9KtdwGjkMvrTc/docker-compose.txt","url":"/file-upload/LZFP9KtdwGjkMvrTc/docker-compose.txt","remote":false,"fileId":"LZFP9KtdwGjkMvrTc","fileName":"docker-compose.txt"}]}
{"msg":"","username":"usingetechnology","ts":"2021-06-21T18:18:17.535Z","attachments":[{"type":"file","title":"env-example.txt","title_link":"/file-upload/9coazC3Gaz6Goo6r7/env-example.txt","url":"/file-upload/9coazC3Gaz6Goo6r7/env-example.txt","remote":false,"fileId":"9coazC3Gaz6Goo6r7","fileName":"env-example.txt"}]}
{"msg":"My IDE BPA runs on 48080, and I run the run the frontend at 8080 without security to do breakpoints.","username":"usingetechnology","ts":"2021-06-21T18:19:20.153Z"}
{"msg":"For my IDE BPA, i run the `org.hyperledger.bpa.Application` class with ```-Dbpa.acapy.url=http://host.docker.internal:48031\n-Dmicronaut.security.enabled=false\n-Dmicronaut.server.port=48080\n-Dbpa.pg.url=jdbc:postgresql://host.docker.internal:45432/walletuser\n-Dbpa.pg.username=walletuser\n-Dbpa.pg.password=walletpassword\n-Dbpa.host=host.docker.internal:48080\n-Dbpa.scheme=http\n-Dmicronaut.environments=dev\n-Dmicronaut.config.files=classpath:application.yml,classpath:application-dev-bcgov.yml```","username":"usingetechnology","ts":"2021-06-21T18:20:17.719Z"}
{"msg":"and pass in ENV VARS: ```BPA_WEB_MODE=false;BPA_RESOLVER_URL=https://resolver.stage.economyofthings.io;BPA_LEDGER_BROWSER=https://indy-test.bosch-digital.de;BPA_DID_PREFIX=did:sov:iil:;BPA_BOOTSTRAP_UN=admin;BPA_BOOTSTRAP_PW=changeme;ACAPY_ENDPOINT=http://host.docker.internal:48030;AGENT_NAME=Dev BPA;BPA_SCHEMA_BANK_ID=2chG7DuwJiKCXbScynLGZ6:2:bank_account:1.3;BPA_SCHEMA_COMREG_ID=UddsJpBYawZuKoREVGETps:2:commercialregister:1.3;BPA_CREDDEF_REVOCATION_REGISTRY_SIZE=50```","username":"usingetechnology","ts":"2021-06-21T18:21:06.722Z"}
{"msg":"So the VM options and ENV VARs replace what I would do in the docker-compose","username":"usingetechnology","ts":"2021-06-21T18:21:46.421Z"}
{"msg":"thanks @usingetechnology for your hints.\nThe jar problem was introduced yesterday, I fix that.\nHow to launch a 2. BPA we can talk about tonight. I'd like to avoid having too many docker compose files in the code base with a lot of duplication of code.","username":"frank-bee","ts":"2021-06-22T05:55:11.101Z"}
{"msg":"Join us for our weekly BPA call today at 16:00 CET (14:00 UTC)\n\nTeams Link: https://teams.microsoft.com/l/meetup-join/19:meeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2@thread.v2/0?context={\"Tid\":\"0ae51e19-07c8-4e4b-bb6d-648ee58410f4\",\"Oid\":\"22acfef8-21f4-4555-a7a7-5db725a9f554\"}\n\nOngoing Work:\n\n- Manually Tag a connection\n- Proof templates, redesign of the partner details page\n- Simple Rules and Actions to automatically tag a connection\n\nDiscussion:\n\n- Should we upgrade to aca-py 0.7.0-pre.3?\n- ???","username":"etschelp","ts":"2021-06-22T09:39:23.849Z"}
{"msg":"[teams link](https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2%40thread.v2/0?context=%7b%22Tid%22%3a%220ae51e19-07c8-4e4b-bb6d-648ee58410f4%22%2c%22Oid%22%3a%2222acfef8-21f4-4555-a7a7-5db725a9f554%22%7d)","username":"frank-bee","ts":"2021-06-22T10:51:14.723Z"}
{"msg":"BPA 0.6.0 released\nhttps://github.com/hyperledger-labs/business-partner-agent/releases/tag/0.6.0","username":"frank-bee","ts":"2021-06-22T10:51:58.986Z"}
{"msg":"We could also discuss about dev setup and its documentation:\n- What do we propose to developers how the do development (local setup / ledger setup)? If ledger setup , which ledger?","username":"frank-bee","ts":"2021-06-22T12:39:22.217Z"}
{"msg":"We could also discuss about dev setup and its documentation:\n- What do we propose to developers how the do development (local setup / ledger setup)? If ledger setup , which ledger?\n- Does this gitpod stuff make sense or better describe dev in a \"normal IDE\")?\n- For a non-developer, which setup he/she should use do the tutorials? --> 2 BPAs required , Bank required","username":"frank-bee","ts":"2021-06-22T12:39:22.217Z"}
{"msg":"If we agree on some \"green path\" / standard way here, we can afterwards adopt the docu to allow new developers ( and non-developers) to setup their environment","username":"frank-bee","ts":"2021-06-22T12:42:44.167Z"}
{"msg":"@channel Is anyone using the `docker-compose.dev.yml` or `docker-compose-backend-webonly.yml` files?","username":"domwoe","ts":"2021-06-24T06:49:13.427Z"}
{"msg":"I'm using the `docker-compose.custom-acapy.yml` sometimes to build ACA-Py from master or a branch but if no one else needs that I could keep this one locally","username":"domwoe","ts":"2021-06-24T06:51:19.286Z"}
{"msg":"good point dom!\nI refactored the docker compose-files a bit in a way that they can launch 1 or 2 agents.\nOne could use either `docker-compose.yml` or optionally `docker-compose.dev.yml` to overwrite some values.","username":"frank-bee","ts":"2021-06-24T08:14:01.637Z"}
{"msg":"good point dom!\nI refactored the docker compose-files a bit in a way that they can launch 1 or 2 agents.\nOne could use either `docker-compose.yml` plus optionally `docker-compose.dev.yml` to overwrite some values.","username":"frank-bee","ts":"2021-06-24T08:14:01.637Z"}
{"msg":"good point dom!\nI refactored the docker compose-files a bit in a way that they can launch 1 or 2 agents.\n For dev purpose `docker-compose.yml` plus `docker-compose.override.yml` are merged and launched if you just run `docker-compose up` (But the do not contain code duplication)","username":"frank-bee","ts":"2021-06-24T08:14:01.637Z"}
{"msg":"Examples of usage:\n\n1) launch one agent\n` docker-compose up`\n\n2) launch 2 agents\n`docker-compose --profile second_bpa up`\n\n3) overwriting with dev values\n`docker-compose -f docker-compose.yml -f docker-compose.dev.yml up`","username":"frank-bee","ts":"2021-06-24T08:18:15.040Z"}
{"msg":"Examples of usage:\n\n1) launch one agent for development\n` docker-compose up`\n\n2) launch 2 agents for development\n`docker-compose --profile second_bpa up`\n\n3) for \"prod\" usage the compose files are explicitly  mentioned\n`docker-compose -f docker-compose.yml up`","username":"frank-bee","ts":"2021-06-24T08:18:15.040Z"}
{"msg":"Open point:\n1) we could also get rid of `docker-compose.dev.yml` and consider dev setup as the default ?\n\n2) make used of the new compose file(s) in the local setup.\n@Jsy","username":"frank-bee","ts":"2021-06-24T08:20:23.912Z"}
{"msg":"---------------------------------------\n**Open points**:\n1) make used of the new compose file(s) in the local setup.\n@Jsyro or @usingetechnology , could one of you fix that? \n\n2) write a proper developer docu which guides more nicely through the different options (local setup, gitpod, debugging,...)\n\n3) Does anyone need \n`docker-compose.custom-acapy.yml` or `docker-compose-backend-webonly.yml`?\n\n4) Does anyone need the 2 additional Dockerfiles? @etschelp , maybe at least not in our repo root ?","username":"frank-bee","ts":"2021-06-24T08:20:23.912Z"}
{"msg":"---------------------------------------\n**Open points**:\n1) we could also get rid of `docker-compose.dev.yml` and consider dev setup as the default ?\n\n2) make used of the new compose file(s) in the local setup.\n@Jsyro or @usingetechnology , could one of you fix that? \n\n3) write a proper developer docu which guides more nicely through the different options (local setup, gitpod, debugging,...)\n\n4) Does anyone need \n`docker-compose.custom-acapy.yml` or `docker-compose-backend-webonly.yml`?\n\n5) Does anyone need the 2 additional Dockerfiles? @etschelp , maybe at least not in our repo root ?","username":"frank-bee","ts":"2021-06-24T08:20:23.912Z"}
{"msg":"**Open points**:\n1) we could also get rid of `docker-compose.dev.yml` and consider dev setup as the default ?\n\n2) make used of the new compose file(s) in the local setup.\n@Jsyro or @usingetechnology , could one of you fix that? \n\n3) write a proper developer docu which guides more nicely through the different options (local setup, gitpod, debugging,...)","username":"frank-bee","ts":"2021-06-24T08:20:23.912Z"}
{"msg":"@channel after attending the Hyperledger Maintainers meeting this morning, it was suggested that we could have a wiki page on the Hyperledger Labs confluence site. So I reused the template and set up one for us.  Please feel free to contribute to it. and I'd appreciate if someone did a quick review to make sure I haven't left anything from the boiler plate template. https://wiki.hyperledger.org/display/labs/Business+Partner+Agent","username":"matthewhall78","ts":"2021-06-24T16:59:37.758Z"}
{"msg":"Good idea! i'll go over it tomorrow morning","username":"domwoe","ts":"2021-06-24T18:14:26.170Z"}
{"msg":"Awesome!\nHere we recently had the idea to create a user docu for the BPA using https://readthedocs.org/ and host it via github pages. Jared  is working on that.\nQuestion would be , do we need both , WIKI and Readthedocs?","username":"frank-bee","ts":"2021-06-25T06:57:25.355Z"}
{"msg":"Did a few small changes.","username":"domwoe","ts":"2021-06-25T07:18:05.425Z"}
{"msg":"BTW, I changed the handling of env vars in the gitpod setup.\nBefore you start a new gitpod workspace, please clean up the variables here: https://gitpod.io/variables  (the seeds you can keep)","username":"frank-bee","ts":"2021-06-25T12:53:33.848Z"}
{"msg":"have a great weekend :-)","username":"frank-bee","ts":"2021-06-25T12:53:45.657Z"}
{"msg":"I'm nearly done with the aca-py 0.7 migration and the uniresolver dependency is now gone. If you want you can have a look on the PR to check if something is missing. https://github.com/hyperledger-labs/business-partner-agent/pull/467 \nWhats left is a PR in the helm charts repo to do the necessary changes there. When we merge this PR the implication is that everything is now did:sov or did:web, and the prefix is only needed to switch between indy and web modes.","username":"etschelp","ts":"2021-06-25T14:42:05.517Z"}
{"msg":"i'm off for the weekend, I did not have enough time to review @etschelp PR or @domwoe PR. Hopefully @Jsyro can do it, or I will make it a priority Monday morning.","username":"usingetechnology","ts":"2021-06-25T19:19:05.461Z"}
{"msg":"Join us for our weekly BPA call today at 16:00 CET (14:00 UTC)\n\nTeams Link: https://teams.microsoft.com/l/meetup-join/19:meeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2@thread.v2/0?context={\"Tid\":\"0ae51e19-07c8-4e4b-bb6d-648ee58410f4\",\"Oid\":\"22acfef8-21f4-4555-a7a7-5db725a9f554\"}\n\nTopics:\n\n- aca-py 0.7 pre release and native resolver usage\n- Proof templates\n\nPlanned work:\n\n- Initialise trust\n- Endorser support\n- Automatically tag a connection","username":"etschelp","ts":"2021-06-29T12:43:55.776Z"}
{"msg":"Join us for our weekly BPA call today at 16:00 CET (14:00 UTC)\n\nTeams Link: https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2%40thread.v2/0?context=%7b%22Tid%22%3a%220ae51e19-07c8-4e4b-bb6d-648ee58410f4%22%2c%22Oid%22%3a%2222acfef8-21f4-4555-a7a7-5db725a9f554%22%7d\n\nTopics:\n\n- aca-py 0.7 pre release and native resolver usage\n- Proof templates\n\nPlanned work:\n\n- Initialise trust\n- Endorser support\n- Automatically tag a connection","username":"etschelp","ts":"2021-06-29T12:43:55.776Z"}
{"msg":"i have merged the aca-py 0.7 upgrade and http resolver PR","username":"etschelp","ts":"2021-06-29T12:56:49.070Z"}
{"msg":"@frank-bee is this what you were thinking for the name/title configuration in the chart?```  config:\n    security:\n      enabled: true\n    bootstrap:\n      username: admin\n      password: changeme\n    resolver:\n      url: \"{{ printf \\\"https://resolver%s\\\" .Values.global.ingressSuffix }}\"\n    ledger:\n      browserUrlOverride: \"\"\n    name: \"{{ camelcase .Release.Name }}\"\n    scheme: https\n    web:\n      only: false\n    did:\n      # -- Will be otherwise calculated based on global.ledger config\n      prefixOverride: \"\"\n    creddef:\n      revocationRegistrySize: 3000\n    imprint:\n      enabled: false\n      url: \"{{ printf \\\"https://bpa%s/\\\" .Values.global.ingressSuffix }}\"\n    privacyPolicy:\n      enabled: false\n      url: \"{{ printf \\\"https://bpa%s/privacyPolicy\\\" .Values.global.ingressSuffix }}\"\n    title: \"{{ .Values.bpa.config.name }}\"\n    i18n:\n      locale: en\n      fallbackLocale: en\n```","username":"usingetechnology","ts":"2021-06-29T15:03:36.512Z"}
{"msg":"set `title: \"{{ .Values.bpa.config.name }}\"`","username":"usingetechnology","ts":"2021-06-29T15:03:49.795Z"}
{"msg":"@frank-bee thanks for touching up that PR, that will keep it consistent. And thanks for looking into that chart deployment/test issue. Yes, I was very confused why there was that node not being ready.","username":"usingetechnology","ts":"2021-06-30T15:28:53.686Z"}
{"msg":"@etschelp just downloaded and ran the latest code. :clap: Ran @frank-bee docker-compose and connected to BCovrin DEV and the 2 partners resolved!  Great work you guys!  I will be updating my local dev scripts to use these same docker compose files.","username":"usingetechnology","ts":"2021-06-30T17:29:33.962Z"}
{"msg":"maybe readthedocs is for a different purpose than the wiki.  and we can link to the readthedocs source from the wiki.  I just thought it was important to have at least a pointer from the hyperledger labs wiki to our stuff.","username":"matthewhall78","ts":"2021-07-01T00:39:35.771Z"}
{"msg":"Indeed confusing! This problem still exist  I fear. Will keep an eye on that.\nI tested the modified chart against our cluster ( IDU config) and  was able to install it. Will do some more tests today","username":"frank-bee","ts":"2021-07-01T05:28:10.244Z"}
{"msg":"yeah @matthewhall78 , that was a great idea. Like this we will do it.","username":"frank-bee","ts":"2021-07-01T05:29:55.470Z"}
{"msg":"","username":"frank-bee","ts":"2021-07-01T05:38:05.909Z","attachments":[{"type":"file","title":"Clipboard - July 1, 2021 7:38 AM","title_link":"/file-upload/eJuK4JiRyb4dQuTkv/Clipboard%20-%20July%201,%202021%207:38%20AM","image_url":"/file-upload/eJuK4JiRyb4dQuTkv/Clipboard%20-%20July%201,%202021%207:38%20AM","image_type":"image/png","image_size":116374,"url":"/file-upload/eJuK4JiRyb4dQuTkv/Clipboard%20-%20July%201,%202021%207:38%20AM","remote":false,"fileId":"eJuK4JiRyb4dQuTkv","fileName":"Clipboard - July 1, 2021 7:38 AM"}]}
{"msg":"Up and running @usingetechnology :-)\n\n-> Browser name is shown ( \"Title\")\n-> Name still shown as expected\n-> Did not test the changes regarding Acapy 0.7 @etschelp \n-> In the bottom status bar the link text seems to be not set. @usingetechnology does this have to do with internationalization?","username":"frank-bee","ts":"2021-07-01T05:40:39.201Z"}
{"msg":"Jared prepared a nice concept on how we could do our technical documentation.\nWould be great if you can review it: \nhttps://wiki.hyperledger.org/pages/viewpage.action?pageId=54657774\nJust leave a comments there (inline or on the bottom).","username":"frank-bee","ts":"2021-07-01T06:37:33.838Z"}
{"msg":"@frank-bee What seems odd is that the frank agent still has the did:sov:idu prefix. The only way that can happen is if this is set via java opts and not environment variables. In the chart I only see the environment variable. So this must be something that is specific to our setup.","username":"etschelp","ts":"2021-07-01T08:47:07.660Z"}
{"msg":"I did not delete the database which is typical for upgrades","username":"frank-bee","ts":"2021-07-02T08:24:24.431Z"}
{"msg":"@etschelp Would be cool if you can test this. Install the chart in our kubeapps env.  Ideally first install the latest  release and than upgrade to the new alpha.","username":"frank-bee","ts":"2021-07-02T08:28:26.321Z"}
{"msg":"@frank-bee i'll take a look monday morning but yes, that appears to be with that localization PR","username":"usingetechnology","ts":"2021-07-02T22:08:51.768Z"}
{"msg":"@frank-bee i'll take a look monday morning but yes, that appears to be with that localization PR.  in the `locales/en.json`, the property is named incorrectly... change `imprintUrlText` to `imprintUrl`. I'll do a PR on Monday if that isn't fixed by anyone else","username":"usingetechnology","ts":"2021-07-02T22:08:51.768Z"}
{"msg":"I have used the `docker-compose.dev.yml` in order to build + run my local changed version. If you want to change trivial things such as the Logo through `frontend/.env` having such a build container is quite convenient","username":"echsecutor","ts":"2021-07-03T05:53:39.523Z"}
{"msg":"maybe it would be useful to mention the regular meeting + link to this rocket chat in the wiki for people who want to get in touch","username":"echsecutor","ts":"2021-07-03T05:56:23.107Z"}
{"msg":"@echsecutor not sure if I get you righ. dev configuration you would do in `docker-compose.override.yml`, this is what is recommended / described in the docker-compose docu. \nI  you call `docker-compose up` , both files `docker-compose.yml` and `docker-compose.override.yml` are merged .","username":"frank-bee","ts":"2021-07-05T07:41:36.724Z"}
{"msg":"@echsecutor not sure if I get you right. dev configuration you would do in `docker-compose.override.yml`, this is what is recommended / described in the docker-compose docu. \nI  you call `docker-compose up` , both files `docker-compose.yml` and `docker-compose.override.yml` are merged .","username":"frank-bee","ts":"2021-07-05T07:41:36.724Z"}
{"msg":"we could also gitignore `docker-compose.override.yml` if you mean that","username":"frank-bee","ts":"2021-07-05T07:43:11.303Z"}
{"msg":"i just ran the latest chart and BPA into our Openshift environment, set the ledger to use BCovrin Test, and partners resolved and connected to Trinisic wallet. :thumbsup: :thumbsup: Great work you guys!","username":"usingetechnology","ts":"2021-07-06T17:32:06.982Z"}
{"msg":"Having an issue actually issuing a credential to the Trinisic Wallet though... will have to dig in to that.  Probably a mismatch between Trinsic version and acapy version?","username":"usingetechnology","ts":"2021-07-06T17:40:50.590Z"}
{"msg":"Example (I sent a message from Trinsic \"Send a message\" ```2021-07-06 17:37:54,694 aries_cloudagent.messaging.base_handler INFO Received basic message: Send a message\n2021-07-06 17:37:54,694 aries_cloudagent.core.conductor ERROR Exception in message handler:\nTraceback (most recent call last):\n  File \"/home/indy/.pyenv/versions/3.6.13/lib/python3.6/site-packages/aries_cloudagent/core/dispatcher.py\", line 198, in handle_message\n    await handler(context, responder)\n  File \"/home/indy/.pyenv/versions/3.6.13/lib/python3.6/site-packages/aries_cloudagent/protocols/basicmessage/v1_0/handlers/basicmessage_handler.py\", line 38, in handle\n    \"connection_id\": context.connection_record.connection_id,\nAttributeError: 'NoneType' object has no attribute 'connection_id'\n2021-07-06 17:37:54,694 aries_cloudagent.core.conductor ERROR DON'T shutdown on AttributeError 'NoneType' object has no attribute 'connection_id'\n2021-07-06 17:37:54,694 aries_cloudagent.core.dispatcher ERROR Handler error: Dispatcher.handle_message\nTraceback (most recent call last):\n  File \"/home/indy/.pyenv/versions/3.6.13/lib/python3.6/site-packages/aries_cloudagent/core/dispatcher.py\", line 198, in handle_message\n    await handler(context, responder)\n  File \"/home/indy/.pyenv/versions/3.6.13/lib/python3.6/site-packages/aries_cloudagent/protocols/basicmessage/v1_0/handlers/basicmessage_handler.py\", line 38, in handle\n    \"connection_id\": context.connection_record.connection_id,\nAttributeError: 'NoneType' object has no attribute 'connection_id'```","username":"usingetechnology","ts":"2021-07-06T17:41:29.086Z"}
{"msg":"Further update, Trinsic was just very slow to receive the credential (~30 minutes) but it did get there. I also connected and issued to esatus Wallet (and that was very quick).  :rocket:","username":"usingetechnology","ts":"2021-07-06T18:16:08.688Z"}
{"msg":"I fixed the smoke tests for the helm chart.\nJust upgraded the `kind` action to the latest version and the k8s nodes come up again. Let's see if this really solved the problem or if we encounter flaky tests ;-)","username":"frank-bee","ts":"2021-07-07T09:25:13.023Z"}
{"msg":"Is there a reason we use gson and jackson? Which one should I prefer? I am trying to build a more generic org.hyperledger.aries.api.present_proof.PresentProofRequest.ProofRequest.ProofRestrictions using a Map<String,String> for attribute value restricitons. That class uses GSON to serialize it to JSONObject. I know how to achieve my goal  right away with some jackson annotations.","username":"l-wegner","ts":"2021-07-07T13:29:31.820Z"}
{"msg":"Hi team!\nI added a little milestone overview document [here](https://github.com/hyperledger-labs/business-partner-agent/blob/gh-pages/MILESTONES.md). Linked it in our main readme.md.\nThe document is automatically updated several times a day based on issues labeled with `epic` and assigned to a [milestone](https://github.com/hyperledger-labs/business-partner-agent/milestones)\n\nWe could use the milestones to do some kind of release planning!?\nIf you wanna try it , @MoritzKa and @Jsyro kindly create some issues labeled with `epic` -  maybe for the next 3 milestones .\nYou could  just take the most important headlines from your roadmap documents (description not important).\n\nFor the [milestones](https://github.com/hyperledger-labs/business-partner-agent/milestones) I created some with 3 weeks iteration cycle ( current bosch sprint cycle: 0.7, 0.8,...). But we can change this for sure at any time.","username":"frank-bee","ts":"2021-07-07T13:45:56.874Z"}
{"msg":"Hi team!\nI added a little milestone overview document [here](https://github.com/hyperledger-labs/business-partner-agent/blob/gh-pages/MILESTONES.md). Linked it in our main readme.md.\nThe document is automatically updated several times a day based on issues labeled with `epic` and assigned to a [milestone](https://github.com/hyperledger-labs/business-partner-agent/milestones)\n\nWe could use the milestones to do some kind of release planning!?\nIf you wanna try it , @MoritzKa and @Jsyro / @matthewhall78  kindly create some issues labeled with `epic` -  maybe for the next 3 milestones .\nYou could  just take the most important headlines from your roadmap documents (description not important).\n\nFor the [milestones](https://github.com/hyperledger-labs/business-partner-agent/milestones) I created some with 3 weeks iteration cycle ( current bosch sprint cycle: 0.7, 0.8,...). But we can change this for sure at any time.","username":"frank-bee","ts":"2021-07-07T13:45:56.874Z"}
{"msg":"Hi team!\nI added a little milestone overview document [here](https://github.com/hyperledger-labs/business-partner-agent/blob/gh-pages/MILESTONES.md). Linked it in our main readme.md.\nThe document is automatically updated several times a day based on issues labeled with `epic` and assigned to a [milestone](https://github.com/hyperledger-labs/business-partner-agent/milestones?direction=asc&sort=due_date&state=open)\n\nWe could use the milestones to do some kind of release planning!?\nIf you wanna try it , @MoritzKa and @Jsyro / @matthewhall78  kindly create some issues labeled with `epic` -  maybe for the next 3 milestones .\nYou could  just take the most important headlines from your roadmap documents (description not important).\n\nFor the [milestones](https://github.com/hyperledger-labs/business-partner-agent/milestones?direction=asc&sort=due_date&state=open) I created some with 3 weeks iteration cycle ( current bosch sprint cycle: 0.7, 0.8,...). But we can change this for sure at any time.","username":"frank-bee","ts":"2021-07-07T13:45:56.874Z"}
{"msg":"I managed to make it work with gson and have put a pull request.","username":"l-wegner","ts":"2021-07-07T15:37:06.006Z"}
{"msg":"@Jsyro, for these milestone, we should take that roadmap your facilitated building, and group the items, to come up with the milestones.","username":"matthewhall78","ts":"2021-07-08T00:48:42.310Z"}
{"msg":"Did anybody succed to make `@Micronaut` tests run in Intellij directly without executing  `mvn compile` before?\nI am facing this error:\n`org.junit.jupiter.engine.execution.ConditionEvaluationException: Failed to evaluate condition [io.micronaut.test.extensions.junit5.MicronautJunit5Extension]: @MicronautTest used on test but no bean definition for the test present. This error indicates a misconfigured build or IDE. Please add the 'micronaut-inject-java' annotation processor to your test processor path (for Java this is the testAnnotationProcessor scope, for Kotlin kaptTest and for Groovy testCompile). See the documentation for reference: https://micronaut-projects.github.io/micronaut-test/latest/guide/`\nAfter (or maybe before too?) I tried to fix it by fiddling in the Settings->Compiler-> Annotation Processors, I have this problem in `mvn compile` (intellij integration and standalone 3.8.1) more than 30 times.","username":"l-wegner","ts":"2021-07-08T11:24:36.466Z"}
{"msg":"Did anybody succeed to make `@Micronaut` tests run in Intellij directly without executing  `mvn compile` before?\nI am facing this error:\n`org.junit.jupiter.engine.execution.ConditionEvaluationException: Failed to evaluate condition [io.micronaut.test.extensions.junit5.MicronautJunit5Extension]: @MicronautTest used on test but no bean definition for the test present. This error indicates a misconfigured build or IDE. Please add the 'micronaut-inject-java' annotation processor to your test processor path (for Java this is the testAnnotationProcessor scope, for Kotlin kaptTest and for Groovy testCompile). See the documentation for reference: https://micronaut-projects.github.io/micronaut-test/latest/guide/`\nAfter (or maybe before too?) I tried to fix it by fiddling in the Settings->Compiler-> Annotation Processors, I have this problem in `mvn compile` (intellij integration and standalone 3.8.1) more than 30 times.","username":"l-wegner","ts":"2021-07-08T11:24:36.466Z"}
{"msg":"Did anybody succeed to make `@Micronaut` tests run in Intellij directly without executing  `mvn compile` before?\nI am facing this error:\n`org.junit.jupiter.engine.execution.ConditionEvaluationException: Failed to evaluate condition [io.micronaut.test.extensions.junit5.MicronautJunit5Extension]: @MicronautTest used on test but no bean definition for the test present. This error indicates a misconfigured build or IDE. Please add the 'micronaut-inject-java' annotation processor to your test processor path (for Java this is the testAnnotationProcessor scope, for Kotlin kaptTest and for Groovy testCompile). See the documentation for reference: https://micronaut-projects.github.io/micronaut-test/latest/guide/`\nAfter (or maybe before too?) I tried to fix it by fiddling in the Settings->Compiler-> Annotation Processors, I have this problem in `mvn test` (intellij integration and standalone 3.8.1) more than 30 times.","username":"l-wegner","ts":"2021-07-08T11:24:36.466Z"}
{"msg":"I removed the project, deleted the .idea folder, then reimported the project.\nFinally I added manually `$HOME/.m2/repository/io/micronaut/micronaut-inject-java/2.5.7/micronaut-inject-java-2.5.7.jar` to the Annotation Processors, and IntelliJ runs the tests fine now with the integration and mvn and the standalone mvn is working as expected now too.","username":"l-wegner","ts":"2021-07-08T11:51:07.713Z"}
{"msg":"Hi folks, I'm (finally) starting to tackle adding Endorser support to the BPA.  (Thanks to @Jsyro and @usingetechnology for giving me a walkthrough of the backend code yesterday).  First steps - I'm going to:\n\n- add some configuration to specify whether the BPA is an Author, Endorser, or *none* (i.e. current behaviour, just writes stuff to the ledger)\n- add an API to the backend so the client can get this configuration (or is there an existing api I should update?)\n- take a look at the connection support to see what I need to update (Endorser/Author connections need to be configured with meta-data)\n\n... and that's it to start.","username":"ianco","ts":"2021-07-09T15:52:02.009Z"}
{"msg":"Aha:\n`/profile.jsonld`\nor:\n`/api/admin/config`","username":"ianco","ts":"2021-07-09T18:32:52.347Z"}
{"msg":"Awesome! The second one. I think at some point we'll get this config from ACA-Py itself if I understood @esune's plans. So the approach would probably the same as Frank did with the tails server config https://github.com/hyperledger-labs/business-partner-agent/pull/536","username":"domwoe","ts":"2021-07-09T19:52:37.312Z"}
{"msg":"Awesome! The second one. I think at some point we'll get this config from ACA-Py itself if I understood @esune's plans. So the approach would probably be the same as Frank did with the tails server config https://github.com/hyperledger-labs/business-partner-agent/pull/536","username":"domwoe","ts":"2021-07-09T19:52:37.312Z"}
{"msg":"OK I'll take a look thanks","username":"ianco","ts":"2021-07-09T20:00:25.447Z"}
{"msg":"I think we *also* need to include Endorser info in the `/profile.jsonld` endpoint, because Authors need to include the Endorser DID when they sign the transaction (before they send to the Endorser for endorsement), so would be helpful if this was part of the profile","username":"ianco","ts":"2021-07-09T20:50:39.126Z"}
{"msg":"This was working fine before and stopped working after the last IntelliJ update. The annotation processor config should be read from maven, because this is where micronaut-inject-java is defined.","username":"etschelp","ts":"2021-07-12T07:15:37.158Z"}
{"msg":"ah, interesting thought! Would be good if we could talk about the flow tomorrow. To get the profile you'd already need the public DID. 1) If the TA starts with adding the endorser as a partner we already have the public DID","username":"domwoe","ts":"2021-07-12T11:41:47.792Z"}
{"msg":"ah, interesting thought. Would be good if we could talk about the flow tomorrow. To get the profile you'd already need the public DID. So this would only help if you want to crawl the ledger for endorsers. \n\nIf the TA starts with adding the endorser as a partner we already have the public DID\n\nIf we want to start the process with an explicit invitation from the endorser we might need to add additional functionalities","username":"domwoe","ts":"2021-07-12T11:41:47.792Z"}
{"msg":"Ah right you already have the public DID","username":"ianco","ts":"2021-07-12T13:26:32.800Z"}
{"msg":"I won't be able to make the call tomorrow unfortunately as I have a conflict now on Tuesday mornings","username":"ianco","ts":"2021-07-12T13:27:09.053Z"}
{"msg":"I think this is a bit tricky. If we think about what can happen in the UI, there we have:\n\n1. Existing connections\n2. New incoming connections\n3. New outgoing connections\n\nWhat all cases have in common is that we want to add the endorser capability to it. This step will then make the aca-py call to assign the metadata to the connection. \n\nIf we add this capability to the profile we could make this step dependent on this information. But then there are many places where we need to add this. So maybe to keep things simple we could start with the functionality to assign the endorser capability to an existing connection?","username":"etschelp","ts":"2021-07-12T13:50:08.523Z"}
{"msg":"For the authors side of the API I do not think that there is the need for new endpoints. The only switch that is needed in the backend is to add the endorser related info. \n\nAs we have now pending author and endorser tasks I would build upon parc-json's PR https://github.com/hyperledger-labs/business-partner-agent/pull/523","username":"etschelp","ts":"2021-07-12T13:55:49.248Z"}
{"msg":"Re adding connections - I suggest for the first cut, for the Endorser side, when a connection is added it is automatically set as an \"Author\" connection (i.e. the partner is a Transaction Author).  For the Author side, we add a checkbox to \"make this partner an Endorser\" and provide this option when the connection is added, or to add Endorser capability to an existing conection.","username":"ianco","ts":"2021-07-12T14:01:02.012Z"}
{"msg":"For the transaction endorsing workflows, I agree to base on parc-jason's notifications PR","username":"ianco","ts":"2021-07-12T14:01:22.670Z"}
{"msg":"For the authors side: Do we want to support multiple endorsers? If not I would suggest to set the endorser in the settings and not have a set as endorser checkbox for every partner","username":"domwoe","ts":"2021-07-12T14:06:37.484Z"}
{"msg":"So in settings you can select the endorser from your partners (with a public DID and endorser rights)","username":"domwoe","ts":"2021-07-12T14:07:47.206Z"}
{"msg":"In the next aca-py update we will probably set the Endorser as a configuration (for the Author aca-py), so there will be only one.  This work isn't done yet so we don't know exactly what it will look like.","username":"ianco","ts":"2021-07-12T14:08:05.192Z"}
{"msg":"... it will likely require changes to whatever we have implemented in BPA, so I suggest we just keep it simple for now.","username":"ianco","ts":"2021-07-12T14:08:43.525Z"}
{"msg":"Agreed. I don't think we need support for multiple endorsers. And because you probably set it only once (or its even preconfigured) I don't want to bother the user in every partner (add) view","username":"domwoe","ts":"2021-07-12T14:13:35.219Z"}
{"msg":"+1 for using @usingetechnology's task list","username":"domwoe","ts":"2021-07-12T14:22:36.841Z"}
{"msg":"Hi! We are currently trying to use the BPA with the ID Union test network in order to connect to a mobile wallet (Lissi, eSatus,...). Is this currently possible?","username":"echsecutor","ts":"2021-07-14T13:19:39.646Z"}
{"msg":"Should be possible. Do you have issues?","username":"domwoe","ts":"2021-07-14T13:21:38.078Z"}
{"msg":"BCGov Team is testing with Trinsic. We haven't tested it in a while.","username":"domwoe","ts":"2021-07-14T13:22:12.738Z"}
{"msg":"`# Uni Resolver URL\nBPA_RESOLVER_URL=https://resolver.stage.economyofthings.io\n# The ledger prefix that is configured with the Uni Resolver\nBPA_DID_PREFIX=did:sov:idu:\nBPA_LEDGER_BROWSER=https://idu.cloudcompass.ca\n`\nSeems to be working. We can e.g. write schemas to the ledger with the BPA. But connecting to a mobile wallet is not working","username":"echsecutor","ts":"2021-07-14T13:23:29.240Z"}
{"msg":"```\n# Uni Resolver URL\nBPA_RESOLVER_URL=https://resolver.stage.economyofthings.io\n# The ledger prefix that is configured with the Uni Resolver\nBPA_DID_PREFIX=did:sov:idu:\nBPA_LEDGER_BROWSER=https://idu.cloudcompass.ca\n```\nSeems to be working. We can e.g. write schemas to the ledger with the BPA. But connecting to a mobile wallet is not working","username":"echsecutor","ts":"2021-07-14T13:23:29.240Z"}
{"msg":"The eSatus wallet says \"Ungültige EInladung\" after scanning the invite QR Code from BPA. The Lissi Wallet shows the BPA Name and the contact looks good, but no business partner ever shows up in the BPA","username":"echsecutor","ts":"2021-07-14T13:26:01.068Z"}
{"msg":"Are you sure that the wallet can reach the Aries endpoint ?","username":"domwoe","ts":"2021-07-14T13:28:44.528Z"}
{"msg":"I am currently running `docker-compose -f docker-compose.dev.yml up -d` ;)","username":"echsecutor","ts":"2021-07-14T13:28:56.342Z"}
{"msg":"This looks like an old state. Resolver url is not needed any more, ledger prefix is gone and the ledger browser is optional. You only have to configure the genesis url. Invalid Invite can happen in case the endpoint is not available.","username":"etschelp","ts":"2021-07-14T13:28:58.889Z"}
{"msg":"not sure what you mean by merging compose files","username":"echsecutor","ts":"2021-07-14T13:29:18.352Z"}
{"msg":"we have been using the BPA on the iis network together with other BPA instances, but I will check the endpoint reachability","username":"echsecutor","ts":"2021-07-14T13:30:35.068Z"}
{"msg":"I forgot \n```\nACAPY_GENESIS_URL=https://idu.cloudcompass.ca/genesis\n```","username":"echsecutor","ts":"2021-07-14T13:31:05.272Z"}
{"msg":"I forgot to mention\n```\nACAPY_GENESIS_URL=https://idu.cloudcompass.ca/genesis\n```","username":"echsecutor","ts":"2021-07-14T13:31:05.272Z"}
{"msg":"I just tested with esatus app 1.11 on iPhone and it works.","username":"etschelp","ts":"2021-07-14T13:32:30.693Z"}
{"msg":"and of course the esatus app needs to be on he same ledger as well","username":"etschelp","ts":"2021-07-14T13:33:13.246Z"}
{"msg":"ok, thanks for checking, I am also using eSatus 1.11 on Android. I will check whether there might be an issue with our aries endpoint","username":"echsecutor","ts":"2021-07-14T13:41:04.681Z"}
{"msg":"ahhh... error in the routing on our side. Works with Lissi and eSatus wallet :+1:","username":"echsecutor","ts":"2021-07-14T13:53:37.358Z"}
{"msg":"ah, ok, I used to. Now this file is gone. Is there still a build container?","username":"echsecutor","ts":"2021-07-14T13:54:55.254Z"}
{"msg":"(I think)what @frank-bee means is to use `docker-compose -f docker-compose.override.yml` This should produce a local build","username":"domwoe","ts":"2021-07-14T14:00:39.633Z"}
{"msg":"ah wrong :) I should read before I write. docker-compose without specifying a file should already merge the override and the override should create a local image","username":"domwoe","ts":"2021-07-14T14:10:18.109Z"}
{"msg":"@frank-bee - saw the PR for logging configuration. Is it possible to change the configuration/levels without a new build? either via environment variables or by a configMap? We should explore that option at some point.","username":"usingetechnology","ts":"2021-07-14T16:23:31.373Z"}
{"msg":"hi @usingetechnology ! I was ill for some days..back again","username":"frank-bee","ts":"2021-07-15T08:27:51.487Z"}
{"msg":"yup..this was more of a 80% solution.\nwe can refine that for sure","username":"frank-bee","ts":"2021-07-15T08:29:59.630Z"}
{"msg":"log level can be configured quite easily \n```\nControlling Log Levels with Properties\n\nLog levels can be configured via properties defined in application.yml (and environment variables) with the log.level prefix:\n\nlogger:\n    levels:\n        foo.bar: ERROR\n```","username":"frank-bee","ts":"2021-07-15T08:30:18.897Z"}
{"msg":"Since I have a connection to the BPA, lissi and esatus movile wallets are displaying push notifications every minute. Is there some regular background communication going on?","username":"echsecutor","ts":"2021-07-15T08:31:12.133Z"}
{"msg":"Good point, yes. There's a trust ping every minute","username":"domwoe","ts":"2021-07-15T08:32:39.994Z"}
{"msg":"but if we want change other logger configuration we should look how we could nicely do that ( in debug mode , compose and helm )\nProbably the config file has to be mounted into the pod. but we could also check if log4j2 has alternatives ( it has ...)","username":"frank-bee","ts":"2021-07-15T08:32:57.185Z"}
{"msg":"We should be able to turn this off and probably deactivate it by default for connections with mobile wallets","username":"domwoe","ts":"2021-07-15T08:34:17.664Z"}
{"msg":":thumbsup: I can drop an issue to keep track of this point?","username":"echsecutor","ts":"2021-07-15T08:35:11.137Z"}
{"msg":"that would be great! Thanks","username":"domwoe","ts":"2021-07-15T08:35:25.586Z"}
{"msg":"asked our POs to do some testing for the 0.7 pre-release.\nThey face things like\n```\nUnexpected error occurred: No resolver supprting DID \"did:sov:idu:R6WR6n7CQVDjvvmwofHK6S\" loaded.\n501: No resolver supprting DID \"did:sov:idu:R6WR6n7CQVDjvvmwofHK6S\" loaded.\n```","username":"frank-bee","ts":"2021-07-15T08:35:42.295Z"}
{"msg":"anyone knows something about it? IDunion problem?","username":"frank-bee","ts":"2021-07-15T08:36:40.534Z"}
{"msg":"No,  the \"idu\" prefix needs to be dropped","username":"domwoe","ts":"2021-07-15T08:38:01.993Z"}
{"msg":"we should write a developer docu after we tested the compose setup with a local setup ( the latter is still using its own -similar - compose files","username":"frank-bee","ts":"2021-07-15T08:38:41.889Z"}
{"msg":"Ah I remember","username":"frank-bee","ts":"2021-07-15T08:39:19.158Z"}
{"msg":"Our PO's do not pay close attention to our presentations ;)","username":"etschelp","ts":"2021-07-15T09:33:10.786Z"}
{"msg":"Has joined the channel.","username":"jaredweinfurtner","ts":"2021-07-15T12:31:50.753Z","type":"uj"}
{"msg":"I am trying to start the backend to connect my changes to the proof templates. I used the `docker-compose-backend-webonly.yml` and set the flag `-Dbpa.web.only=true` in my application. It fails:\n\n```\n14:16:37.822 [main] ERROR Micronaut - Error starting Micronaut server: Switching from aries to web mode is not supported\njava.lang.RuntimeException: Switching from aries to web mode is not supported\n```\n\nAnyone able to get a local-only backend up and running?","username":"jaredweinfurtner","ts":"2021-07-15T12:40:28.901Z"}
{"msg":"I'd say this one of the docker-compose files we should get rid off :) if you really want to start the BPA in web mode, i.e. with a did:web you have to wipe the database (docker-compose down -v) and set the env variable BPA_WEB_MODE=true","username":"domwoe","ts":"2021-07-15T14:01:19.253Z"}
{"msg":"I'd say this one of the docker-compose files we should get rid off :) if you really want to start the BPA in web mode, i.e. with a did:web identifier instead of a did:sov (indy) identifier you have to wipe the database (docker-compose down -v) and set the env variable BPA_WEB_MODE=true","username":"domwoe","ts":"2021-07-15T14:01:19.253Z"}
{"msg":"BPA 0.7.0 release :-)\nhttps://github.com/hyperledger-labs/business-partner-agent/releases/tag/0.6.0\n(feel free to adjust the release  notes , they are more or less generated and randomly adjusted by me...)","username":"frank-bee","ts":"2021-07-15T14:33:20.201Z"}
{"msg":"BPA 0.7.0 released :-)\nhttps://github.com/hyperledger-labs/business-partner-agent/releases/tag/0.7.0\n(feel free to adjust the release  notes , they are more or less generated and randomly adjusted by me...)","username":"frank-bee","ts":"2021-07-15T14:33:20.201Z"}
{"msg":"@frank-bee  I would like to see the documentation on the Business Partner Connection State and how they move from one to the other.  Is this an ACA-Py documentation thing? or is it something to document as part of our java api wrapper? \n```\n- abandoned\n- active\n- ?\n```","username":"matthewhall78","ts":"2021-07-16T00:06:02.513Z"}
{"msg":"@frank-bee  I would like to see the documentation on the Business Partner Connection State and how they move from one to the other.  Is this an ACA-Py documentation thing? or is it something to document as part of our java api wrapper? \n```\n- abandoned\n- active\n- ?\n```\n\nWhile running an instance of BPA I made a connection to a trinsic wallet, issued a credential, and all was fine.  But after a few minutes the State of the connection now shows \"abandoned\".  But on the other connections we have with other BPA instances that are running the connection state still shows as \"active\".","username":"matthewhall78","ts":"2021-07-16T00:06:02.513Z"}
{"msg":"Hi Matth!\nFor me me this is clearly something we should document in the user documentation  - which we currently do not really separate from developer documentation.\nLet's wait until Jared is back from vacation, he will do the initial separation of user docu. And than there should be a chapter about partner handling ( adding, being added, \"states\",...)\nIf you connect to a trinsic wallet this is technically pure aries / didcom communication I assume . I'm not sure if connection handling is 100% the same as if you would connect to a full BPA. Maybe our experts here can answer that...","username":"frank-bee","ts":"2021-07-16T06:46:10.192Z"}
{"msg":"This is related to this issue: https://github.com/hyperledger-labs/business-partner-agent/issues/548 There BPA tries to performa a trust ping with every active connection and currently sets the state to abandoned if the trust ping is not answered (for a specific period?) I think we should give this state another name, because \"abandoned\" is a state defined in RFC 0023","username":"domwoe","ts":"2021-07-16T06:56:45.701Z"}
{"msg":"This is related to this issue: https://github.com/hyperledger-labs/business-partner-agent/issues/548 There BPA tries to performa a trust ping with every active connection and currently sets the state to abandoned if the trust ping is not answered (for a specific period?) I think we should give this state another name, because \"abandoned\" is a state defined in RFC 0023 (https://github.com/hyperledger/aries-rfcs/blob/master/features/0023-did-exchange/README.md) and can only be arrived at due to a problem report message during the DIDX protocol","username":"domwoe","ts":"2021-07-16T06:56:45.701Z"}
{"msg":"This is related to this issue: https://github.com/hyperledger-labs/business-partner-agent/issues/548 The BPA tries to perform a trust ping with every active connection and currently sets the state to abandoned if the trust ping is not answered (for a specific period?) I think we should give this state another name, because \"abandoned\" is a state defined in RFC 0023 (https://github.com/hyperledger/aries-rfcs/blob/master/features/0023-did-exchange/README.md) and can only be arrived at due to a problem report message during the DIDX protocol","username":"domwoe","ts":"2021-07-16T06:56:45.701Z"}
{"msg":"I have now downloaded the latest version and set only the settings from .env-example. Still working with esatus but I can not issue credentials to the lissi wallet any more","username":"echsecutor","ts":"2021-07-16T15:35:47.076Z"}
{"msg":"I can reproduce this, with the esatus app. No issues with trinsic. Its either the mediator or the wallet. I can not see anything in aca-py's logs. issuing works. the app probably cannot handle the format.","username":"etschelp","ts":"2021-07-16T15:52:18.962Z"}
{"msg":"we upgraded to aca-py 0.7.0 btw. aca-py upgrades are always problematic with the esatus app.","username":"etschelp","ts":"2021-07-16T15:54:11.850Z"}
{"msg":"We should distinguish between what the user needs to see and the aries connection states that we display to debug the states. Active/inactive states are probably enough. In the backend I have to set something. I do not care what. I can add the inactive state again or set the connection to error.","username":"etschelp","ts":"2021-07-16T15:59:18.737Z"}
{"msg":"For a mobile wallet connection, this seems more like a presence indicator. e.g.  Online, Away, or Offline.  But I'm not sure that what the point of the status was for.  In my mind there are at least two separate sets of states.  (Just brainstorming here...)\n1. invitation to connect received, invitation to connect accepted, connection established, connection deleted\n2. Connection active, connection away or idle, connection offline","username":"matthewhall78","ts":"2021-07-16T19:34:56.344Z"}
{"msg":"eSatus is working for me, but Lissi is not working any more. I will investigate if time permits ;)","username":"echsecutor","ts":"2021-07-20T08:34:14.320Z"}
{"msg":"@ianco This link should work: https://media.video.bosch.com/media/2021-04-15_BusinessPartnerAgent_technical_introduction/0_qzan5hy5","username":"domwoe","ts":"2021-07-20T15:08:12.735Z"}
{"msg":"That works, thanks!  I'll watch this today","username":"ianco","ts":"2021-07-20T15:12:14.569Z"}
{"msg":"Btw. are there code walkthroughs for ACA-Py anywhere? I've been implementing minor changes and would be interested in something like this as well.","username":"domwoe","ts":"2021-07-21T06:52:41.164Z"}
{"msg":"@usingetechnology  @Jsyro  how you doing?\nI plan you fix our docker-compose docu in the next days. Let's have it really clean and clear (KISS) ! @domwoe asked me to\nWill add some sentences on how to launch with 2 agents ( default will be one agent).\nDo you still need the local set-up folder? I can also delete it, currently it still has a lot of code duplication.\nIdeally I'd ask you to \"merge it\" with the main compose file -> optionally launch a local agent.","username":"frank-bee","ts":"2021-07-21T11:38:28.656Z"}
{"msg":"docker-compose.custom-acapy.yml I will also delete - if there is no veto here?","username":"frank-bee","ts":"2021-07-21T11:39:32.517Z"}
{"msg":"Would be great to not have different docker-compose files for the local network setup. Should be just an additional step to lunch the network and change the ledger in the env.","username":"domwoe","ts":"2021-07-21T11:55:01.834Z"}
{"msg":"yup, basically the refactoring would be:\n- [start_infra.sh](https://github.com/hyperledger-labs/business-partner-agent/blob/master/scripts/local-network/start_infra.sh) could be moved up to the scripts folder\n- small chapter in the compose readme on how to start local setup\n- remove most of `local setup` folder","username":"frank-bee","ts":"2021-07-21T12:02:45.192Z"}
{"msg":"@Jsyro  could you do that?","username":"frank-bee","ts":"2021-07-21T12:04:01.174Z"}
{"msg":"@matthewhall78 @Jsyro @MoritzKa  shall we use these github milesstones and the related overview document?\nOtherwise I would delete it","username":"frank-bee","ts":"2021-07-21T12:07:38.482Z"}
{"msg":"Not that I know of but that would be a good idea too, I'll suggest it at our scrum","username":"ianco","ts":"2021-07-21T13:50:04.510Z"}
{"msg":"Oh apparently I was actually on this call lol","username":"ianco","ts":"2021-07-21T14:03:36.310Z"}
{"msg":"haha","username":"domwoe","ts":"2021-07-21T14:05:56.022Z"}
{"msg":"i have not been using the `local-network` at all. and i've just been running `docker-compose --profile second_bpa -f docker-compose.yml -f docker-compose.override.yml up bpa-agent1 bpa2` for my local development work. it's been great. so for me, everything can go except for those 2 compose files (and the register dids/env etc)","username":"usingetechnology","ts":"2021-07-21T14:58:08.467Z"}
{"msg":"@etschelp @domwoe @frank-bee  - @Jsyro and I are going to discuss the refactoring of the acapy events -> activity log -> frontend notifications tomorrow morning. do you, or anyone else on your team have thoughts on what you'd like to see or any implementation issues to look out for? anything that must be included?","username":"usingetechnology","ts":"2021-07-22T04:17:33.135Z"}
{"msg":"OK cool, let's wait another day and than I will use the chainsaw to clean up a bit :-)))","username":"frank-bee","ts":"2021-07-22T05:00:02.966Z"}
{"msg":"I think @ianco is working with the local network if I remember correctly. Also @jaredweinfurtner liked the approach of having no remote dependencies when developing.","username":"domwoe","ts":"2021-07-22T07:25:58.240Z"}
{"msg":"I see a lot of interesting challenges with this task, but first some general thoughts.\n\n1. I'm inclined to move decisions on the event state into the event classes itself e.g. connection.isIncoming(), connection.isInvitationRequest() etc. otherwise we will have the same checks all over the place \n2. any code that is called from the activities event handler should never call business logic that is not event related e.g. update a Partner. therefore we should move this into an own package and really be careful about what is public/private. \n3. Currently the BPA has no user concept. Open tasks have no issue with that, as they are either open or done, but things like new connection, new credential might be tricky","username":"etschelp","ts":"2021-07-22T10:30:57.685Z"}
{"msg":"The more specific issue is the event handler design and how to track states. As events are plentiful they can cause performance and storage issues quickly. So filtering is key here. Also I would never store the whole event payload only types and references. \n\nAnother question is, if everything is event based only events can update the state of a task right? This can get hard to track. But anyhow, my first naive approach would be to split up incoming events into tasks and notifications  and store them in one or two big collections where you can easily order by state and dates (here I strongly recommend indices)","username":"etschelp","ts":"2021-07-22T10:42:02.531Z"}
{"msg":"I've been working with the `local` setup.  I can refactor/merge with the parent to remove the duplication.  FYI I don't use `start_infra.sh`, I just start my local von-network manually.","username":"ianco","ts":"2021-07-22T13:12:21.541Z"}
{"msg":"great, thanks for all those points. really need the input to shine light on all the possible issues and tricky areas.  hmm, i hadn't thought about about something like `connection.isIncoming()`... will have to think about that for sure - like you, a concern was having logic scattered about too much.  one thought i had was to create a more BPA event model that the backend would raise to the frontend. Basing it around `ApplicationEventListener`, so any of our code would fire an event like `partnerAdded` and the Event listener would handle that, do whatever needs to be done as far as storage and then send a message over the socket.  Just to isolate all the logic for building the activity/task lists and sending to the frontend.","username":"usingetechnology","ts":"2021-07-22T14:12:18.651Z"}
{"msg":"that would open up the backend/frontend notifications to non-aca-py events, like anything we want to raise that is strictly a BPA mechanism (not sure what yet... maybe like public profile changed)","username":"usingetechnology","ts":"2021-07-22T14:17:23.010Z"}
{"msg":"The application events are a great idea as they give us another design option. The first option would be to fire all frontend events in the webhook handler. Whereas application events could be triggered in the managers. Firing events in the managers might be better in scenarios where you want to be sure that something is in a defined state. As the event handlers are run simultaneously and you cannot rely on the state of the other thread.","username":"etschelp","ts":"2021-07-22T15:45:09.029Z"}
{"msg":"@ianco that would be great.","username":"frank-bee","ts":"2021-07-23T10:09:32.588Z"}
{"msg":"Please also write a small chapter in the docker compose Readme on how to start the local setup.","username":"frank-bee","ts":"2021-07-23T10:10:29.621Z"}
{"msg":"When we have all kinds of setups merged in the script folder we can think of a small CLI (shell script) which can ne used to start various scenarios (1 bpa, 2 bpa, register dids, local setup, expose ports, gitpod) or combinations","username":"frank-bee","ts":"2021-07-23T10:13:52.350Z"}
{"msg":"When we have all kinds of setups merged in the script folder we can think of a small CLI (shell script) which can be used to start various scenarios (1 bpa, 2 bpa, register dids, local setup, expose ports, gitpod) or combinations","username":"frank-bee","ts":"2021-07-23T10:13:52.350Z"}
{"msg":"I'm trying to add query parameters to the authentication URL that is sent to the oauth2 (keycloak) so they can be forwarded to the identity provider. Has anyone done this before. First pass through the docs (https://micronaut-projects.github.io/micronaut-security/1.2.3/guide/index.html#io.micronaut.security.oauth2.configuration.OauthClientConfigurationProperties$OpenIdClientConfigurationProperties$AuthorizationEndpointConfigurationProperties) only shows a full override the url. i'd rather just add the query param to whatever it does by default.","username":"Jsyro","ts":"2021-07-23T18:25:04.783Z"}
{"msg":"I guess you would have to add your own implementation of io.micronaut.security.oauth2.endpoint.authorization.request.AuthorizationRedirectHandler. But i would rather extend DefaultAuthorizationRedirectHandler than add a completely new implementation.","username":"etschelp","ts":"2021-07-26T07:43:42.604Z"}
{"msg":"are you looking to add `kc_idp_hint=BLAH` to the login url?","username":"usingetechnology","ts":"2021-07-27T16:26:29.914Z"}
{"msg":"i need to add a query param `pres_conf_req_id` to the `authorization_url` redirect that micronaut sends to for authentication... \n\nIs `kc_idp_hint` a query param as well?","username":"Jsyro","ts":"2021-07-27T16:28:06.393Z"}
{"msg":"kc_idp_hint is a query param for the login url, saying which provider to prefer","username":"usingetechnology","ts":"2021-07-27T16:28:52.120Z"}
{"msg":"ok, then i might be able to use/re-use/modify that. i'll look for that.","username":"Jsyro","ts":"2021-07-27T16:29:16.857Z"}
{"msg":"i don't see `kc_idp_hint` in our repo at all.","username":"Jsyro","ts":"2021-07-27T16:30:16.155Z"}
{"msg":"maybe you can implement `OauthClientConfiguration` that implements the `Optional<EndpointConfiguration> getAuthorization();` that adds in the `pres_conf_req_id`.","username":"usingetechnology","ts":"2021-07-27T16:36:06.223Z"}
{"msg":"I'll ask our Scrum Master.","username":"matthewhall78","ts":"2021-07-27T23:21:57.939Z"}
{"msg":"Hi folks, FYI I created a hackmd document with a TOC of the materials covered in the overview video (linked above ^^^ somewhere) and some suggestions for further tutorial topics:  https://hackmd.io/_fxYxnsJTuWxZxx1l16B9g?view  ...  this also includes a link to a demo of the endorser work, which is WIP ...","username":"ianco","ts":"2021-07-28T19:52:14.893Z"}
{"msg":"I've got a PR (https://github.com/hyperledger-labs/business-partner-agent/pull/561) that persists the tasks/activities (still reliant on partner existing - not sure if we want to handle when partners are removed), and re-work of the backend events -> front end notifications.  In the backend, the managers publish events as their logic dictates (partner added, partner/connection requested, presentation requested etc), the event handler will then use the message service to push those to the front end (and initiate logic to persist tasks/activities as needed). All the frontend events/notifications are stored in 4 buckets for now (task, partner, presentation, credential) and those are used to show badges on the left hand side navigation and also in tables and the partner screen itself (ex. which presentation request/exchange has been updated).  Once we have all used if for a bit, we may want to adjust what frontend notifications we actually need to surface to the users.  The chat/messages will get re-worked next sprint as we put persistence in.  I am off tomorrow (Friday) and Monday.","username":"usingetechnology","ts":"2021-07-29T22:42:20.887Z"}
{"msg":"OK cool","username":"frank-bee","ts":"2021-07-30T08:05:51.108Z"}
{"msg":"@MoritzKa didn't find time yet, but will get back to me. I will fill the milestones a bit from Bosch sides together with him. \nIt is anyways just meant for a rough overview. If each of us (bcgov and bosch) thinks about 5 -10 epics (\"headlines\") and assigns a milesstone to them , we already have something to discuss.\nAs we'll see where we potentially land e.g. in september or end of the year","username":"frank-bee","ts":"2021-07-30T08:08:10.331Z"}
{"msg":"I put a little diagram together that should help to visualize the design I had in mind. \nhttps://drive.google.com/file/d/1BhrWoUBtV-9Kn9IUyb2HsQ4t2DIToSK9/view?usp=sharing","username":"etschelp","ts":"2021-08-03T15:53:07.302Z"}
{"msg":"Hi folks, there was a note on the Hyperledger Labs mailing list, that lab repos should move from `master` to `main for the default branch. (https://lists.hyperledger.org/g/labs/message/145)\nWe've got two repos which are affected:\n- hyperledger-labs/business-partner-agent\n- hyperledger-labs/acapy-java-client\nThe two chart repos already use `main` as the default branch.","username":"choeppler","ts":"2021-08-03T21:01:31.875Z"}
{"msg":"Hi folks, there was a note on the Hyperledger Labs mailing list, that lab repos should move from `master` to `main` for the default branch. (https://lists.hyperledger.org/g/labs/message/145)\nWe've got two repos which are affected:\n- hyperledger-labs/business-partner-agent\n- hyperledger-labs/acapy-java-client\nThe two chart repos already use `main` as the default branch.","username":"choeppler","ts":"2021-08-03T21:01:31.875Z"}
{"msg":"Do we know why the von-network docker image (https://github.com/bcgov/von-network) is not on docker hub and must be pulled into the project and built locally?","username":"jaredweinfurtner","ts":"2021-08-05T14:55:32.623Z"}
{"msg":"I started a PR to begin with the required changes in business-partner-agent","username":"l-wegner","ts":"2021-08-05T17:08:37.922Z"}
{"msg":"does someone know why we add ?t=1234 to every request that we make through axios? i will remove this.\n\n```\nexport function appAxios(timeout = 0) {\n  const axiosOptions = {\n    timeout: timeout,\n    params: {\n      t: new Date().getTime()\n    }\n  };\n```","username":"etschelp","ts":"2021-08-10T12:34:24.584Z"}
{"msg":"was getting some weird caching, I couldn't figure it out where it was being cached, so this was to force a data refresh.  remove it if you want, we can keep an eye out on any data refresh issues.","username":"usingetechnology","ts":"2021-08-12T23:00:31.046Z"}
{"msg":"","username":"usingetechnology","ts":"2021-08-12T23:03:10.743Z","attachments":[{"type":"file","title":"Screen Shot 2021-08-12 at 3.47.40 PM.png","title_link":"/file-upload/DC2kLxokoF8sqRPhY/Screen%20Shot%202021-08-12%20at%203.47.40%20PM.png","image_url":"/file-upload/DC2kLxokoF8sqRPhY/Screen%20Shot%202021-08-12%20at%203.47.40%20PM.png","image_type":"image/png","image_size":39274,"url":"/file-upload/DC2kLxokoF8sqRPhY/Screen%20Shot%202021-08-12%20at%203.47.40%20PM.png","remote":false,"fileId":"DC2kLxokoF8sqRPhY","fileName":"Screen Shot 2021-08-12 at 3.47.40 PM.png"}]}
{"msg":"We had some user feedback with a lot of confusion on what Credential Management was and they couldn't really see how to issue a new credential. We discussed this morning to rename the screen/navigation and remove the schema maintenance block (so all schema/cred def is done in settings).  So we want to name the navigation and the screen as Issue Credentials and leave the Create/Import schema in Settings. Thoughts?","username":"usingetechnology","ts":"2021-08-12T23:03:56.118Z"}
{"msg":"We had some user feedback with a lot of confusion on what Credential Management was and they couldn't really see how to issue a new credential. We discussed this morning to rename the screen/navigation and remove the schema maintenance block (so all schema/cred def is done in settings).  So we want to name the navigation and the screen as Issue Credentials and leave the Create/Import schema in Settings.","username":"usingetechnology","ts":"2021-08-12T23:03:56.118Z"}
{"msg":"I think that's a good idea. Create/Import schemas is an admin type action.","username":"domwoe","ts":"2021-08-13T07:39:28.143Z"}
{"msg":"Has joined the channel.","username":"schlagtim","ts":"2021-08-13T10:30:06.416Z","type":"uj"}
{"msg":"I'm currently refactoring the issuing part in the backend to also support issuing and receiving indy credentials via the v2 api. See https://github.com/hyperledger-labs/business-partner-agent/pull/574 I did a lot of cleaning up there. Also by doing this I fixed a new bug because the issue list still relies on the partners alias instead of the name to be set. I should be done with this early next week.","username":"etschelp","ts":"2021-08-13T15:57:29.128Z"}
{"msg":"thanks for letting me know @etschelp.  my pr will not change any functionality. just remove/move some UX pieces.  i was going to rename the actual vue files from CredentialManagement to reflect that it is just issuance. But I think I will hold off on that to make it easier for your PR, we can come back and do a small file rename PR afterward.","username":"usingetechnology","ts":"2021-08-13T16:04:00.173Z"}
{"msg":"cool, yes this would make things easier for me","username":"etschelp","ts":"2021-08-13T16:04:43.452Z"}
{"msg":"I've kind of been ignoring this locally, but deployed to openshift today and it doesn't work? What is missing? ```19:09:23.683 [default-nioEventLoopGroup-1-2] ERROR AcaPyAuthFetcher - aca-py webhook authentication failed. Configured bpa.webhook.key: changeme, received x-api-key header: null\n```","username":"usingetechnology","ts":"2021-08-17T19:16:16.956Z"}
{"msg":"I am just using things out of the box, so the BPA is configured with it's webhook value of `changeme` so is this the agent not setting the header correctly? Log from agent: ```2021-08-17 19:10:04,658 aries_cloudagent.transport.outbound.manager ERROR >>> Outbound message failed to deliver, NOT Re-queued.\nTraceback (most recent call last):\n  File \"/home/indy/.pyenv/versions/3.6.13/lib/python3.6/site-packages/aries_cloudagent/transport/outbound/http.py\", line 86, in handle_message\n    f\"Unexpected response status {response.status}, \"\naries_cloudagent.transport.outbound.base.OutboundTransportError: Unexpected response status 401, caused by: Unauthorized\n2021-08-17 19:10:04,659 aries_cloudagent.transport.outbound.manager ERROR Outbound message could not be delivered to http://demo1-bpa-core:80/log/topic/connections/\nTraceback (most recent call last):\n  File \"/home/indy/.pyenv/versions/3.6.13/lib/python3.6/site-packages/aries_cloudagent/transport/outbound/http.py\", line 86, in handle_message\n    f\"Unexpected response status {response.status}, \"\naries_cloudagent.transport.outbound.base.OutboundTransportError: Unexpected response status 401, caused by: Unauthorized```","username":"usingetechnology","ts":"2021-08-17T19:18:54.783Z"}
{"msg":"Why isn't the agent setting the header?","username":"usingetechnology","ts":"2021-08-17T19:19:11.308Z"}
{"msg":"in the mean time i figured out how the current (3 weeks ago ;) ) setup works. Sorry for the confusion","username":"echsecutor","ts":"2021-08-18T07:14:50.477Z"}
{"msg":"are you using the latest chart version 0.8.1?","username":"etschelp","ts":"2021-08-18T07:16:51.072Z"}
{"msg":"There was a typo in 0.8.0","username":"etschelp","ts":"2021-08-18T08:25:46.265Z"}
{"msg":"Both deployments use the same property. https://github.com/hyperledger-labs/business-partner-agent-chart/blob/e69a787854ba2fe9f65cc1f380e9740afe32aab9/charts/bpa/templates/acapy_deployment.yaml#L43","username":"etschelp","ts":"2021-08-18T08:26:24.478Z"}
{"msg":"yes, am using the latest. i found this didn't work using the docker compose files either.  how is the agent adding the value to the header? i can't figure it out. also, you cannot set BPA_WEBHOOK_KEY to \"\" or empty, because that still triggers the class that the bpa.webhook.key is set and it won't load the AcaPyAuthFetcherAllowAll class.  So a few things, on the helm charts we can add a conditional flag to add the BPA_WEBHOOK_KEY to the configmap only when needed. But that doesn't really help on the docker compose... I'll take a look today to see if i can change the compare logic for empty values to just let those pass through... still concerned about the x-api-key header.","username":"usingetechnology","ts":"2021-08-18T14:09:36.499Z"}
{"msg":"have you updated your .env file?","username":"etschelp","ts":"2021-08-18T14:18:13.165Z"}
{"msg":"i guess the issue happens when you do not set the key","username":"etschelp","ts":"2021-08-18T14:22:24.704Z"}
{"msg":"by default, the env file has 'changeme' (both the docker compose and the helm charts), the bpa gets deployed with BPA_WEBHOOK_KEY env var of 'changeme' and the aca-py start up has the `--webhook-url` set with the same value.  but the acapy agent can never successfully connect to bpa webhook, i always get the 401.","username":"usingetechnology","ts":"2021-08-18T15:14:10.948Z"}
{"msg":"can this be an environment issue? where the url gets overwritten because fragments are not allowed. \n\nI got 401 when the value is not set, because then BPA_WEBHOOK_KEY= gets translated into \"\". I added a fix for that case.\n\nhttps://github.com/hyperledger-labs/business-partner-agent/pull/582/files","username":"etschelp","ts":"2021-08-18T15:21:29.687Z"}
{"msg":"We have deployed the 0.8.1 helm chart with all the defaults and it works.","username":"etschelp","ts":"2021-08-18T15:22:35.631Z"}
{"msg":"When  the PR is merged and it is still not working you can set the property to \"\" and then everything is allowed.","username":"etschelp","ts":"2021-08-18T15:25:13.027Z"}
{"msg":"so, when i set it to \"\", it triggers the  AcaPyAuthFetcher class and it fails because the header and key compare fails (which looks like your above fix will correct). the real issue is why isn't the agent setting the header?","username":"usingetechnology","ts":"2021-08-18T15:45:12.914Z"}
{"msg":"my preference would definitely be to just leave it all set and have it work, but i haven't been able to get it to work with a value. :man_shrugging_light_skin_tone:","username":"usingetechnology","ts":"2021-08-18T15:46:30.571Z"}
{"msg":"its a aca-py bug as the header is not set any more. i tried this with an older version and it works","username":"etschelp","ts":"2021-08-18T15:59:45.456Z"}
{"msg":"but i do not get it why its working when we deploy it from the helm chart. for now i propose to not set the property or set it to \"\"","username":"etschelp","ts":"2021-08-18T16:01:37.440Z"}
{"msg":"ahhh, ok. we don't need that security, so we will set to \"\", thanks for that fix!","username":"usingetechnology","ts":"2021-08-18T16:04:50.691Z"}
{"msg":"Hi! I have just pulled the latest version of the BPA and I am missing the config key from the example through which I can set the did prefix (i.e. setting \"did:sov:idu\" instead of \"did:sov\"). Has the mechanism changed to do this?","username":"echsecutor","ts":"2021-08-20T09:45:32.663Z"}
{"msg":"The docs structure changes were merged and I configured the github pages.  The docs are now viewable @ https://labs.hyperledger.org/business-partner-agent/","username":"jaredweinfurtner","ts":"2021-08-20T10:11:58.090Z"}
{"msg":"Yes, BPA now uses the resolver capabilities of aca-py. All dids implicitly belong to the ledger against aca-py is configured. This will change once did:indy is implemented. For now everything is did:sov though.","username":"etschelp","ts":"2021-08-20T15:56:04.645Z"}
{"msg":"i've been working on passing in a receive invitation url to the BPA and allowing it to connect. Been using BPA to BPA, Trinsic Studio to BPA. The BPA can receive an invitation url from another BPA and Trinsic Studio and connect. Although in both cases it kind of reverts to our old way of connecting, so the DIDs are the private ones.  A bigger issue is trying to receive an OOB invitation, using the BPA to generate a OOB invitation, I can receive it in BPA and get up to the point where I need to turn it into an InvitationMessage and pass to Aries Client (call outOfBandReceiveInvitation). Issue is that the generated oob invitation returns a string array for services (which is valid according to aca-py), but our InvitationMessage.services is a list of InvitationMessageServices which is a complex object.  That is also valid according to the aca-py spec, but since our java class can only use the complex object I can't build the message from the generated invitation.  We should discuss tomorrow.","username":"usingetechnology","ts":"2021-08-24T01:46:59.757Z"}
{"msg":"should be fixed now see https://github.com/hyperledger-labs/acapy-java-client/commit/a1a6b3019959246e39e99862fc48328d73f97039 the invitation is now typed, and depending on the type the service list is either a array of strings, or an array of complex objects.","username":"etschelp","ts":"2021-08-24T15:27:39.451Z"}
{"msg":"awesome! thanks","username":"usingetechnology","ts":"2021-08-24T15:28:59.438Z"}
{"msg":"Just a quick follow up, got that all working, except now there is another one... but i think simpler? The handshake protocols don't get serialized (doesn't matter if string or rfc0067)```                                InvitationMessage<String> im = gson.fromJson(decodedBlock,\n                                        InvitationMessage.STRING_TYPE);\n                                // update aries client invitation message to use\n                                // @SerializedName(\"handshake_protocols\")\n                                if (im.getHandshakeProtocols() == null || im.getHandshakeProtocols().size() == 0) {\n                                    im.setHandshakeProtocols((List<String>) o.get(\"handshake_protocols\"));\n                                }\n                                invitation.setInvitationMessage(im);\n```","username":"usingetechnology","ts":"2021-08-25T22:29:30.304Z"}
{"msg":"i've worked around it for now like the above.","username":"usingetechnology","ts":"2021-08-25T22:31:30.227Z"}
{"msg":"If you use Gson gson = GsonConfig.defaultConfig(); you have the same deserialization behavior as the client.","username":"etschelp","ts":"2021-08-26T10:26:23.553Z"}
{"msg":"thanks @etschelp - that worked perfectly.","username":"usingetechnology","ts":"2021-08-26T16:46:52.493Z"}
{"msg":"Currently BPA to BPA connections work but connections to Lissi / eSatus mobile wllets do not. possibly related to this did:sov resolution?","username":"echsecutor","ts":"2021-09-08T15:20:26.272Z"}
{"msg":"Having issues during the merge to main workflow, hitting a 403 trying to push the image.  not sure if there are keys that require updating? ```#10 exporting to image\n167\n#10 exporting manifest sha256:0b88a6d47d3b03e47d45b7b6cc43c7b2f9efeed77a915d3ce35be8353d20be50 0.0s done\n168\n#10 exporting config sha256:7af8c88102b1835d4500f4f6864090accc20833907df72f90f4038c766be35d8 done\n169\n#10 pushing layers\n170\n#10 ...\n171\n\n172\n#12 [auth] hyperledger-labs/business-partner-agent:pull,push token for ghcr.io\n173\n#12 DONE 0.0s\n174\n\n175\n#10 exporting to image\n176\n#10 pushing layers 0.3s done\n177\n#10 ERROR: unexpected status: 403 Forbidden\n178\n------\n179\n > exporting to image:\n180\n------\n181\nerror: failed to solve: unexpected status: 403 Forbidden\n182\nError: buildx failed with: error: failed to solve: unexpected status: 403 Forbidden```","username":"usingetechnology","ts":"2021-09-20T18:55:47.275Z"}
{"msg":"whats weird is that pushing the license image works without any issues just before the failing step. both use the same configuration. also others seem to have the same issue:\n\nhttps://github.com/docker/build-push-action/issues/463","username":"etschelp","ts":"2021-09-21T09:28:29.224Z"}
{"msg":"still failing, i wonder (and I have no idea how to do it) if we temporarily remove the \"edge\" tag, maybe that will work? perhaps it is a \"lock\" on that tag that repeatedly gets updated?","username":"usingetechnology","ts":"2021-09-21T15:16:56.638Z"}
{"msg":"I think the tag is now broken","username":"etschelp","ts":"2021-09-21T15:45:14.911Z"}
{"msg":"its more like: ghcr.io/hyperledger-labs/business-partner-agent:latest","username":"etschelp","ts":"2021-09-21T15:45:28.389Z"}
{"msg":"i just updated to something different","username":"usingetechnology","ts":"2021-09-21T15:45:29.875Z"}
{"msg":"ok, i'll put that in, thanks.","username":"usingetechnology","ts":"2021-09-21T15:45:42.859Z"}
{"msg":"by the way, where is that set/configured? \"${{ steps.preparetags.outputs.tag }}\"","username":"usingetechnology","ts":"2021-09-21T15:46:32.013Z"}
{"msg":"one sep before in the smart tag action","username":"etschelp","ts":"2021-09-21T15:47:10.242Z"}
{"msg":"that one is not maintained any more, so maybe this is also causing issues. is latest works this could be the issue, otherwise i'm thinking its a rate limit","username":"etschelp","ts":"2021-09-21T15:49:10.722Z"}
{"msg":"that one is not maintained any more, so maybe this is also causing issues. if latest works this could be the issue, otherwise i'm thinking its a rate limit","username":"etschelp","ts":"2021-09-21T15:49:10.722Z"}
{"msg":"ok, i'll see ifa different tag works (I will reset later), otherwise, you're probably right about rate limits.","username":"usingetechnology","ts":"2021-09-21T15:50:13.760Z"}
{"msg":"sigh, no change.  will reset the tag.","username":"usingetechnology","ts":"2021-09-21T16:02:16.938Z"}
{"msg":"i do not know if we have the permission to delete old packages. but we already have like 164 packages. what would make sense anyway is to set up a cleanup action that removes all the packages that are not released and are not latest.\n\nhttps://github.com/marketplace/actions/delete-old-packages","username":"etschelp","ts":"2021-09-21T16:16:58.448Z"}
{"msg":"btw. i fixed one of the issues from yesterdays presentation were it was not possible to add the same trusted issuer to a second schema.\n\nhttps://github.com/hyperledger-labs/business-partner-agent/pull/624/commits/18d574b0d7e091502cf3a893b1387b6b62da005e","username":"etschelp","ts":"2021-09-22T11:12:24.822Z"}
{"msg":"Join us for our weekly BPA call today at 16:00 CET (14:00 UTC)\n\nTeams Link: https://teams.microsoft.com/l/meetup-join/19:meeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2@thread.v2/0?context={\"Tid\":\"0ae51e19-07c8-4e4b-bb6d-648ee58410f4\",\"Oid\":\"22acfef8-21f4-4555-a7a7-5db725a9f554\"}\n\nTopics so far:\n\n- Upcoming team changes on the Bosch side\n- Upcoming stories: e.g. Manual credential holder flows, v2 flows etc. any conflicts here?\n- Any preferences on how to merge PR's (squash, vs. keeping the history)?\n- Any ideas on how to fix/workaround the broken push to github packages action?\n- If time permits. What is missing in the BPA to make it more production ready? e.g. distributed sessions, user roles, audit trail","username":"etschelp","ts":"2021-09-28T09:42:54.793Z"}
{"msg":"Join us for our weekly BPA call today at 16:00 CET (14:00 UTC)\n\nTeams Link: https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTAyYTY1ZjktMzJlYS00ZThlLWE1NGItODBhMDRhNmExYmM2%40thread.v2/0?context=%7b%22Tid%22%3a%220ae51e19-07c8-4e4b-bb6d-648ee58410f4%22%2c%22Oid%22%3a%2222acfef8-21f4-4555-a7a7-5db725a9f554%22%7d\n\nTopics so far:\n\n- Upcoming team changes on the Bosch side\n- Upcoming stories: e.g. Manual credential holder flows, v2 flows etc. any conflicts here?\n- Any preferences on how to merge PR's (squash, vs. keeping the history)?\n- Any ideas on how to fix/workaround the broken push to github packages action?\n- If time permits. What is missing in the BPA to make it more production ready? e.g. distributed sessions, user roles, audit trail","username":"etschelp","ts":"2021-09-28T09:42:54.793Z"}
{"msg":"","username":"etschelp","ts":"2021-09-29T13:51:14.000Z","attachments":[{"type":"file","title":"Screen Shot 2021-09-29 at 15.48.23.png","title_link":"/file-upload/eF5DrETHArNrRi2Ty/Screen%20Shot%202021-09-29%20at%2015.48.23.png","image_url":"/file-upload/eF5DrETHArNrRi2Ty/Screen%20Shot%202021-09-29%20at%2015.48.23.png","image_type":"image/png","image_size":127317,"url":"/file-upload/eF5DrETHArNrRi2Ty/Screen%20Shot%202021-09-29%20at%2015.48.23.png","remote":false,"fileId":"eF5DrETHArNrRi2Ty","fileName":"Screen Shot 2021-09-29 at 15.48.23.png"}]}
{"msg":"Hey, just out of curiosity, why is there a edit button on the partners public profile when adding a new partner?","username":"etschelp","ts":"2021-09-29T13:51:18.545Z"}
{"msg":"ha, good find. the org profile / public profile component is reused here. This recent PR added the possibility to edit (https://github.com/hyperledger-labs/business-partner-agent/pull/636https://github.com/hyperledger-labs/business-partner-agent/pull/636) but needs to be removed in this context","username":"domwoe","ts":"2021-09-29T15:15:23.250Z"}
{"msg":"the only reason this button would make sense to me is if it would replace the pen in the partner details. or is this new functionality we want? correcting something in the partners public profile. this can have some unwanted side effects and we should discuss this first.","username":"etschelp","ts":"2021-09-30T09:06:13.783Z"}
{"msg":"btw. I added -new to the package name and now it works again. this makes no sense at all.","username":"etschelp","ts":"2021-09-30T12:13:04.731Z"}
{"msg":"Can someone post the link to today's BPA meeting? We can discuss the above or put a ticket in to make the button available only where it makes sense. The issue was users going to change their Org Name (or other org data) after the profile was created were getting lost. They expect that going to Public Profile would allow them to change it. So this was a compromise that they could immediately jump to the edit page. This button would/will be protected by appropriate roles/permissions. But should be hidden in the above case at all times.","username":"usingetechnology","ts":"2021-10-05T13:51:04.090Z"}
{"msg":"one sec","username":"etschelp","ts":"2021-10-05T14:05:05.403Z"}
{"msg":"got it from syro.  thanks!","username":"usingetechnology","ts":"2021-10-05T14:05:30.986Z"}
{"msg":"@etschelp - i rolled back that bad merge in the chart repo.  i will be making some changes later today more related to ux configuration (I am simplifying the agent logo set up and removing some extra stuff we put in place for bcgov look and feel).","username":"usingetechnology","ts":"2021-10-05T14:36:43.723Z"}
{"msg":"The description of the BPA in the GH repo mainly refers to the masterdata use case. Shouldn't we change it to a more general description: e.g \ne.g. \"The Business Partner Agent allows to manage and exchange company data between organizations in the form of Verifiable Credentials\"?","username":"MoritzKa","ts":"2021-10-13T10:33:23.850Z"}
{"msg":"How do we demonstrate the Credential Offer functionality? we have set the `auto-respond-credential-offer:false` but don't see anything in the holder's FE.","username":"Jsyro","ts":"2021-10-13T18:32:36.013Z"}
{"msg":"This is the holder side, and what's not implemented yet, but also  what I will do next. To see this you have to set: `auto-respond-credential-proposal: false` Then the flow is:\n1. Holder: wallet/document/request verification\n2. Issuer: New exchange pops up state proposal-received\n3. Issuer: Clicks on the exchange accepts it or sends counter-offer\nDenying the proposal is implemented in the backend, but missing in the frontend.","username":"etschelp","ts":"2021-10-14T10:17:26.555Z"}
{"msg":"This is the holder side, and what's not implemented yet, but also what I will do next. To see this you have to set: auto-respond-credential-proposal: false Then the flow is:\n1. Holder: wallet/document/request verification\n2. Issuer: New exchange pops up state proposal-received\n3. Issuer: Clicks on the exchange accepts it or sends counter-offer\nDenying the proposal is implemented in the backend, but missing in the frontend.","username":"etschelp","ts":"2021-10-14T10:17:54.943Z"}
{"msg":"This is the holder side, and what's not implemented yet, but also what I will do next. To see this you have to set: `auto-respond-credential-proposal: false` Then the flow is:\n1. Holder: wallet/document/request verification\n2. Issuer: New exchange pops up state proposal-received\n3. Issuer: Clicks on the exchange accepts it or sends counter-offer\nDenying the proposal is implemented in the backend, but missing in the frontend.","username":"etschelp","ts":"2021-10-14T10:17:54.943Z"}
{"msg":"I have merged my latest changes. Issuer and holder exchanges are now using the same table. This should not cause any issues except that the wallet will be empty after the upgrade as I did not add a migration script to merge the tables.","username":"etschelp","ts":"2021-10-14T15:31:48.951Z"}
{"msg":"ok, thanks @etschelp we will get that into our builds and wipe out our current instances.  quick question, i can't seem to find any handling for the holder to accept or decline a credential offer? if i turn off the auto flag for respond to credential offer, as a holder the exchange just ends?","username":"usingetechnology","ts":"2021-10-14T15:56:11.552Z"}
{"msg":"yes. i have just started working on the holder side :) only the  issuer side is implemented atm. So it is:\n\n`auto-respond-credential-proposal: false\nauto-respond-credential-offer: true`","username":"etschelp","ts":"2021-10-14T15:59:38.192Z"}
{"msg":"yes. i have just started working on the holder side :) only the  issuer side is implemented atm. So it is:\n\n```auto-respond-credential-proposal: false\nauto-respond-credential-offer: true```","username":"etschelp","ts":"2021-10-14T15:59:38.192Z"}
{"msg":"ok :thumbsup: sounds good, just wanted to make sure i wasn't missing something. :)","username":"usingetechnology","ts":"2021-10-14T16:00:41.950Z"}
{"msg":"Hi everyone, in our current sprint we are adding language settings and want to properly internationalize/link all the texts in the entire frontend. For now we won't touch the bcgov.json locale, but it might need adaptation afterwards.","username":"schlagtim","ts":"2021-11-18T09:36:01.714Z"}
{"msg":"Has joined the channel.","username":"leostereo","ts":"2021-11-29T12:02:25.208Z","type":"uj"}
{"msg":"Hi guys , after rebooting my vps , can not get the platform working again.\nafter running the docker-compose up , I got stucked at:\n\"aca-py not ready yet, reason: Failed to connect to bpa-agent1\"\nHow can I fix this ?","username":"leostereo","ts":"2021-11-29T14:54:49.737Z"}
{"msg":"This means that either aca-py did not start up, or that the controller can not access aca-py's endpoint because of a routing issue within docker. Hard to tell without more information. Are you using the top level compose file? Are you running from a tag or the main branch? Do you have any log outputs?","username":"etschelp","ts":"2021-11-30T08:33:30.376Z"}
{"msg":"dear etschelp; \nI agree with you , problem is that the agent can not start.\nThis is what im doing: (on a fresh ubuntu 20)\nfrom, (https://github.com/hyperledger-labs/business-partner-agent/tree/main/scripts)\n\ngit clone https://github.com/hyperledger-labs/business-partner-agent\ncd business-partner-agent/scripts#\n./register-dids.sh\ndocker-compose up\n\nIt beggin building the docker but get stuked at:\n31\nbpa1_1            | 22:44:43.928 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.029 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.131 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.232 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.333 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.435 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.537 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.639 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.740 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.842 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.943 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:45.045 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\n\n\nAfter some time , the \"micronaut is shown ant then continue same message\".\n\n\ng on IPv4 address \"0.0.0.0\", port 5432\nbpa-wallet-db1_1  | 2021-11-30 22:48:09.383 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\nbpa-wallet-db1_1  | 2021-11-30 22:48:09.388 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\nbpa-wallet-db1_1  | 2021-11-30 22:48:09.445 UTC [21] LOG:  database system was shut down at 2021-11-30 22:47:47 UTC\nbpa-wallet-db1_1  | 2021-11-30 22:48:09.457 UTC [1] LOG:  database system is ready to accept connections\n\n\nStrange thing is that after creating a fresh vps and run above steps it works again.","username":"leostereo","ts":"2021-11-30T22:55:49.370Z"}
{"msg":"dear etschelp; \nI agree with you , problem is that the agent can not start.\nThis is what im doing: (on a fresh ubuntu 20)\nfrom, (https://github.com/hyperledger-labs/business-partner-agent/tree/main/scripts)\n\ngit clone https://github.com/hyperledger-labs/business-partner-agent\ncd business-partner-agent/scripts#\n./register-dids.sh\ndocker-compose up\n\nIt beggin building the docker but get stuked at:\n31\nbpa1_1            | 22:44:43.928 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.029 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.131 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.232 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.333 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.435 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.537 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.639 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.740 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.842 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.943 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:45.045 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\n\n\nAfter some time , the \"micronaut\" banner is shown ant then continue same message\".\n\nStrange thing is that after creating a fresh vps and run above steps it works again.","username":"leostereo","ts":"2021-11-30T22:55:49.370Z"}
{"msg":"dear etschelp; \nI agree with you , problem is that the agent can not start.\nThis is what im doing: (on a fresh ubuntu 20)\nfrom, (https://github.com/hyperledger-labs/business-partner-agent/tree/main/scripts)\n\ngit clone https://github.com/hyperledger-labs/business-partner-agent\ncd business-partner-agent/scripts#\n./register-dids.sh\ndocker-compose up\n\nIt beggin building the docker but get stuked at:\n31\nbpa1_1            | 22:44:43.928 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.029 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.131 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.232 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.333 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.435 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.537 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.639 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.740 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.842 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:44.943 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\nbpa1_1            | 22:44:45.045 [main] TRACE AriesClient - aca-py not ready yet, reason: Failed to connect to bpa-agent1/172.19.0.3:8031\n\n\nAfter some time , the \"micronaut\" banner is shown ant then continue same message\".\n\nStrange thing is that after creating a fresh vps and run above steps it works properly.","username":"leostereo","ts":"2021-11-30T22:55:49.370Z"}
{"msg":"Can you provide the full log? There are multiple services defined in the compose file and this service depends on aca-py which is started beforehand and that one probably did not start. If aca-py starts up successfully you will see something like:\n\n````\nscripts-bpa-agent1-1      | :: Public DID Information:                  ::\nscripts-bpa-agent1-1      | ::                                          ::\nscripts-bpa-agent1-1      | ::   - DID: F6dB7dMVHUQSC64qemnBi7          ::\nscripts-bpa-agent1-1      | ::                                          ::\nscripts-bpa-agent1-1      | :: Administration API:                      ::\nscripts-bpa-agent1-1      | ::                                          ::\nscripts-bpa-agent1-1      | ::   - http://0.0.0.0:8031                  ::\nscripts-bpa-agent1-1      | ::                                          ::\nscripts-bpa-agent1-1      | ::                               ver: 0.7.2 ::\nscripts-bpa-agent1-1      | ::::::::::::::::::::::::::::::::::::::::::::::\nscripts-bpa-agent1-1      |\nscripts-bpa-agent1-1      | Listening...\nscripts-bpa-agent1-1      |\n````","username":"etschelp","ts":"2021-12-01T14:43:32.076Z"}
{"msg":"Full , log is extremly large , in fact , it keeps looping.\nI already make it work in other server.\nI would be great for me if you can help me with other issue , can you ?","username":"leostereo","ts":"2021-12-01T14:51:21.008Z"}
{"msg":"Im testing \"demo scenario\" and have some doubts.","username":"leostereo","ts":"2021-12-01T14:52:28.152Z"}
{"msg":"my BPA_WEB_MODE=false so it means im running indy mode.\nafter reading documentation , it is not clear for me the differenci between both modes.\nalso , \nwhen starting demo scenario , it mention as pre requisite to run \"aries\" mode .... (please explain)\nalso  Agent’s endpoint should be publicly available  (does it means I need to launch it using the \"start-with-tunnel.sh\" script ? \nthanks.","username":"leostereo","ts":"2021-12-01T14:57:53.850Z"}
{"msg":"First, the start with tunnel script is for local development where you want to test connections to other bpa or aca-py instances that are not running in your local machine. If you run this on a cloud server for days it's better to expose the endpoints via a proxy (apache, nginx, caddy, traefik, haproxy etc) If this is to much of a hassle you should be aware that ngrok has a 2h limit on the tunnel and you need an account to work arround that.\n\nSecond, the docker-compose filr already starts two agents so you can test agent to agent connections locally.","username":"etschelp","ts":"2021-12-01T15:52:34.908Z"}
{"msg":"The web mode is a speacial flavor where there is no write access to a ledger needed and connecting to the bpa happens via did:web and not did:sov. This means this is great for all usecases where you do not have the endorser role, but still want to be able to hold credentials that are bound to a certain ledger. And yes, publicly available means exposed to the www and not to the host only docker network.","username":"etschelp","ts":"2021-12-01T15:57:27.531Z"}
{"msg":"thanks !!","username":"leostereo","ts":"2021-12-01T15:58:22.074Z"}
{"msg":"is there other sample flow besides \"demo scenario\" ?  to learn more.","username":"leostereo","ts":"2021-12-01T15:59:04.772Z"}
{"msg":"I can strongly recommend the following youtube playlist: https://www.youtube.com/watch?v=TGiiNOoVoJs&list=PL9CV_8JBQHiooHv05idOTrR2eBAJM89LX","username":"etschelp","ts":"2021-12-01T16:47:02.297Z"}
{"msg":"excelent!!!","username":"leostereo","ts":"2021-12-01T22:11:48.716Z"}
{"msg":"Hi guys , \nI successfully ran both agents doing:\ndocker-compose  --profile second_bpa up\nNow I can notice that:\n1 both agents share same login (if I login on first gui I got disconnected from the other and viceversa).\n2 After creating an invitation on agent1 and paste its url in agent2 (adding partner), the invitation is accepted but it stays in \"invitation\" state.\n3 When checking invitation details ,  I can see two strange things:\na _ div:sov:unknown\nb _ Partner does not share a public profile.\n\nAny ideas ? can you helpme checking my setup  ? ... please ...","username":"leostereo","ts":"2021-12-03T00:30:43.320Z"}
{"msg":"To answer your points:\n1. This is how session cookies work, they are shared by domain and if both agents run for example on localhost they overwrite each others cookies. If you are running locally you can turn off security or open your browser tabs in incognito mode or use two different browsers to work arround that.\n2. If you are using the start with tunnels script you need to be aware that only the first agents endpoint is exposed. I do not know on how many servers you are running where, but my guess is that now one endpoint is docker private and the other one is running on ngrok and hence both agents wont find each other. If you are running only the second bpa this is definitely the case. If you are running both agenty locally without start with tunnels there is another issue. If you are running on multiple servers you need to start the first bpa on both. But for debugging you can post me both invitation urls then we can have a closer look. And also some more details on your setup would be helpful.\n3. These are the intricacies of the different flows. If you want full information you have to connect the agents by did:sov:111. You find the agents did in the settings section, only then the did exchange protocol is used and the bpa can resolve all the endpoints that are on the ledger and this also means resolving the public profile. By using the invitation url the connection protocol is used and only peer dids are exchanged. I can reproduce the unknown did issue on the receiving agent. I will have a closer look, but this should not cause any issues as it is only missing information to display.","username":"etschelp","ts":"2021-12-03T09:49:11.372Z"}
{"msg":"Good; \n1 ; you are right , issue is gone when running from incognit session.\n2 ; Let me describe my scenario:\na Both agents are running on same centos vm.\nb Centos vm does not have public ip (I wanted to test if  agent to agent comunication is possible using local ips)\nc Ngrok tunnes are NOT runnin for any instance.\n I can set any scenario you sugest, just let me know wich should be the best setting to test bpa functions.","username":"leostereo","ts":"2021-12-03T14:00:28.684Z"}
{"msg":"I think I see whats wrong. In the .env-example everything is set to localhost. This is of course relative to the container and hence the agents will not find each other. Can you set the following in your .env file?\n````\nBPA_HOST=bpa1:8080\nBPA2_HOST=bpa2:8090\nACAPY_ENDPOINT=http://bpa-agent1:8030\nACAPY2_ENDPOINT=http://bpa-agent1::8040\n````","username":"etschelp","ts":"2021-12-03T15:45:15.939Z"}
{"msg":"I think I see whats wrong. In the .env-example everything is set to localhost. This is of course relative to the container and hence the agents will not find each other. Can you set the following in your .env file?\n````\nBPA_HOST=bpa1:8080\nBPA2_HOST=bpa2:8090\nACAPY_ENDPOINT=http://bpa-agent1:8030\nACAPY2_ENDPOINT=http://bpa-agent2::8040\n````","username":"etschelp","ts":"2021-12-03T15:45:15.939Z"}
{"msg":"I got it working !!! \nI ran one agent on sepàrate servers and using the ngrok tunnels.","username":"leostereo","ts":"2021-12-03T15:57:08.992Z"}
{"msg":"I will test it:\nnow it is as follows:\n[root@monitoreo_wiber scripts]# grep ACAPY2_ENDPOINT .env\nACAPY2_ENDPOINT=http://localhost:8040\n[root@monitoreo_wiber scripts]# grep ACAPY_ENDPOINT .env\nACAPY_ENDPOINT=http://localhost:8030","username":"leostereo","ts":"2021-12-03T16:00:35.472Z"}
{"msg":"I will change and let you kow.","username":"leostereo","ts":"2021-12-03T16:00:50.920Z"}
{"msg":"im so  happy ...","username":"leostereo","ts":"2021-12-03T16:00:58.218Z"}
{"msg":"I will finish with the playlist you recommended and make more test, then come here again.","username":"leostereo","ts":"2021-12-03T16:01:34.059Z"}
{"msg":"the ngrok script overwites the environment variables above, so they are not localhost during runtime in this case.","username":"etschelp","ts":"2021-12-03T16:02:48.532Z"}
{"msg":"glad that it is working now. also you found two bugs, what is much appreciated.","username":"etschelp","ts":"2021-12-03T16:04:14.330Z"}
{"msg":"Has joined the channel.","username":"LedgerXYZ","ts":"2021-12-10T13:05:53.608Z","type":"uj"}
{"msg":"Hello Business Partner Agent friends.  Is there a recommended / endorsed wallet that is fully compatible with the Business Partner Agent based on the following ledger configuration: BCovrin test network or Sovrin builder network?\n\n`What apps have I tried?`\n\n1. Lissi Wallet\n2. Trinsic Wallet\n3. Connect.me\n\n`My initial result`\n\n1. Agent to Wallet Connection:\n\nGiven a user that uses the `bpa` client application,\nAnd the user initiates a partner connection, \nAnd the user uses the qr code method,\nAnd the `bpa` client generates a qr code,\nWhen the user scans the qr code using an android wallet,\nThen the following happens:\n\ni. If Lissi, connection is successful.  However, no DID is passed from wallet to bpa so subsequent communication is impossible.\n\nii. If Trinsic, connection fails. Trinsic Wallet receives bpa wallet data displaying agent name and intention to connect.  However, when user chooses \"approve\", wallet warns of error interpreting connection request.\n\niii. If Connect.me, connection is successful without errors.  `Bpa` initial trust pings are successful.  Future trust pings aren't although communication is still successful.\n\n2. Issue Credential:\n\nGiven a user that has successfully connected a `bpa` application agent with a connect.me wallet,\nWhen the user issues a credential from bpa to Wallet,\nThen the following occurs:\ni.  Credential is sent to Wallet successfully for approval\n\nii.  Wallet displays credential to user for approval\n\niii.  User chooses \"approve\"\n\niv.  Wallet informs user that it is receiving the credential and it will take some time\n\nv.  Bpa errors to user that it has issued an \"illegal\" credential.\n\nvi. Wallet informs user that credential receipt failed.\n\nOther notes:\n1. Lissi and Connect.me do not display what ledger they are connected to. I tested both sovrin builder and bcovrin test ledgers and my experience where as described above. Connect.me is somehow able to connect without preselecting the ledger used.\n2. Trinsic gives the option to choose which ledger to use.\n3. None of the wallets display user DID so that one can connect to bpa using the DID lookup method.","username":"LedgerXYZ","ts":"2021-12-10T13:09:24.177Z"}
{"msg":"I initially posted this question on the Aries Cloud Agent Python channel but subsequently discovered this channel.","username":"LedgerXYZ","ts":"2021-12-10T13:11:04.008Z"}
{"msg":"First of all there is no recommended app, all apps that use indy/aries as a basis should basically work but. \n\nBut for this to work both the app and the bpa need to be on the same ledger. The bpa uses a test ledger that we host and that is not known per default by any app. It could be that the Lissi app has it pre configured but the other two definitely not. \n\nTo switch the ledger of the bpa you have to point the ACAPY_GENESIS_URL property in the .env file to the genesis file of the desired ledger. Connecting and issuing might work even if both are on different ledgers but the app will never be able to save the credential as it can not verify it.\n\nAlso the wallet apps do not work with public dids, only with peer dids behind a mediator so the only way to connect is by way of invitation.","username":"etschelp","ts":"2021-12-10T13:49:02.071Z"}
{"msg":"The Lissi app comes with a array of pre configured ledgers see https://lissi-id.medium.com/the-lissi-wallet-supports-multiple-networks-ledgers-3f46657e0652. Connect.me only is on sovrin main or sovrin builder. With the trinsic wallet you can either import a genesis file or select from a list.","username":"etschelp","ts":"2021-12-10T13:51:39.119Z"}
{"msg":"I will also add that the Trinsic Wallet has a feature that allows a user to generate a connection link.  When that link is input into the bpa `add partner by connection url` an error is also generated. The url appears to be redirect url","username":"LedgerXYZ","ts":"2021-12-10T13:52:02.903Z"}
{"msg":"From what you are describing it sounds like you did not switch the bpas default ledger.","username":"etschelp","ts":"2021-12-10T13:53:12.700Z"}
{"msg":"redirects are not supported.","username":"etschelp","ts":"2021-12-10T13:53:40.714Z"}
{"msg":"@etschelp thanks for your reply.  I missed it before my follow-up comment.  In my .env configuration, I set the `ACAPY_GENESIS_URL` to point to the desired ledger as described in my tests. I am not aware that there is an unknown test ledger.  I assume from your comment that the test ledger's value is replaced when `ACAPY_GENESIS_URL` is set?","username":"LedgerXYZ","ts":"2021-12-10T14:15:00.729Z"}
{"msg":"@etschelp thanks also for pointing me to that link with Lissi's ledger connections","username":"LedgerXYZ","ts":"2021-12-10T14:16:26.418Z"}
{"msg":"I will troubleshoot again and report back","username":"LedgerXYZ","ts":"2021-12-10T14:22:31.621Z"}
{"msg":"I tested today with the Lissi, Trinsic and connect.me apps on sovrin builder net. Connecting works with all three apps. Issuing only with Trinsic and Lissi. The connect.me app behaves odd on the protocol level and sends a credential offer instead of a credential request, so the exchange fails. Btw. I fixed the invitation redirect with the trisic app, so it works now both ways.\n\nThats what I have set for the ledger:\n\n````\nACAPY_GENESIS_URL=https://raw.githubusercontent.com/sovrin-foundation/sovrin/stable/sovrin/pool_transactions_builder_genesis\n````","username":"etschelp","ts":"2021-12-14T14:48:35.345Z"}
{"msg":"Late reply here sorry.  I noticed a while back that the Trinsic redirect invitation url works and I just assumed that I was doing something wrong.","username":"LedgerXYZ","ts":"2021-12-20T07:44:51.092Z"}
{"msg":"Late reply here sorry.  I noticed a while back that the Trinsic redirect invitation url works now and I just assumed that I was doing something wrong.  Thanks for adding that feature.","username":"LedgerXYZ","ts":"2021-12-20T07:44:51.092Z"}
{"msg":"I still can't connect with the Trinsic app.  I get the following error which suggests issues with their servers:","username":"LedgerXYZ","ts":"2021-12-20T07:46:58.454Z"}
{"msg":"```aries_cloudagent.transport.outbound.manager ERROR >>> Error when posting to: https://streetcred-mediator-agent.azurewebsites.net/; Error: (<class 'aries_cloudagent.transport.outbound.base.OutboundTransportError'>, OutboundTransportError('Unexpected response status 405, caused by: Method Not Allowed',)```","username":"LedgerXYZ","ts":"2021-12-20T07:47:50.670Z"}
{"msg":"As a work around I have tried to \"connect\" using the `BPA` - `vc-authn` login feature.  All three wallet applications fail to respond to the presentation request as expected","username":"LedgerXYZ","ts":"2021-12-20T07:52:30.083Z"}
{"msg":"Please enjoy your weekend and should you have time during the weekday next I would really appreciate any assistance / guidance you can offer me","username":"LedgerXYZ","ts":"2021-12-20T07:55:39.467Z"}
{"msg":"Hello all.  Can anyone that have successfully connected BPA to the Trinsic Wallet using the Sovrin Builder Net please kindly share the following configuration:\n1. Environment configuration\n2. Agent docker-compose configuration\n3. BPA docker-compose configuration\n\nI have had no success connecting the two. I want to use Trinsic specifically because it has the messaging functionality which BPA has as well. In all my attempts I either get an error from Trinsic when reading the BPA QR code connection invitation. Or I get a different error when I input the Trinsic connection invitation into the BPA application.\n\nBelow are my current configurations:","username":"LedgerXYZ","ts":"2021-12-24T00:22:15.830Z"}
{"msg":"Environment -","username":"LedgerXYZ","ts":"2021-12-24T00:23:50.406Z"}
{"msg":"`Environment` -","username":"LedgerXYZ","ts":"2021-12-24T00:23:50.406Z"}
{"msg":"```\nAGENT_NAME=Agent\nDOCKERHOST=172.17.0.4\n\n\n# localhost, ip address, dns name\nBPA_SERVICE_NAME=agent-bpa\nBPA_HOST={BPA-DIODE-URL} \nBPA_PORT=9001\nBPA_DEBUG_PORT=10001\nBPA_SCHEME=https\nBPA_CONFIG_FILES=classpath:application.yml,classpath:schemas.yml \n\n# Security\nBPA_SECURITY_ENABLED=true\nBPA_BOOTSTRAP_UN=admin\nBPA_BOOTSTRAP_PW=admin\n\nBPA_WEB_MODE=false\n\n# The Ledger Explorer\nBPA_LEDGER_BROWSER=https://indyscan.io/home/SOVRIN_BUILDERNET\n\n# Resolver\nBPA_RESOLVER_URL=https://{DIODE-URL}.diode.link\nBPA_IMPRINT_URL=https://indyscan.io/home/SOVRIN_BUILDERNET\nBPA_PRIVACY_POLICY_URL=https://indyscan.io/home/SOVRIN_BUILDERNET\nBPA_CREDDEF_REVOCATION_REGISTRY_SIZE=3000\n\n# ------------------------------------------------------------\n# ACA-PY\n# ------------------------------------------------------------\n\nACAPY_GENESIS_URL=https://raw.githubusercontent.com/sovrin-foundation/sovrin/stable/sovrin/pool_transactions_builder_genesis\n\nTAILS_URL=https://{DIODE-URL}.diode.link\n\n#\n# Identity\n#\nSEED={MY-SEED}\n\n#\n# Security\n#\nACAPY_ADMIN_CONFIG=--admin-insecure-mode\n\n#\n# Connectivity\n#\n\nACAPY_ADMIN_PORT=7001\nACAPY_HTTP_PORT=8001\nAGENT_SERVICE_NAME=agent\nACAPY_ENDPOINT=https://{DIODE-URL}.diode.link\nACAPY_ADMIN_URL=https://{DIODE-URL}.diode.link\n\n#\n# Wallet Storage\n#\n\nACAPY_WALLET_TYPE=postgres_storage\nACAPY_WALLET_DATABASE=wallet_db\nACAPY_WALLET_ENCRYPTION_KEY=key\n\n# ------------------------------------------------------------\n# Postgres Storage\n# ------------------------------------------------------------\n\nPOSTGRESQL_HOST=agent-db\nPOSTGRESQL_PORT=5431\n\nDATABASE_SERVICE_NAME=agent-db\nDATABASE_VOLUME_NAME=agent-db\n\nPOSTGRESQL_USER=walletuser\nPOSTGRESQL_PASSWORD=walletpassword```","username":"LedgerXYZ","ts":"2021-12-24T00:24:28.742Z"}
{"msg":"`AGENT`-","username":"LedgerXYZ","ts":"2021-12-24T00:25:21.169Z"}
{"msg":"```version: \"3\"\nservices:\n  agent:\n    image: bcgovimages/aries-cloudagent:py36-1.16-1_0.7.2\n    ports:\n      - ${ACAPY_HTTP_PORT}:${ACAPY_HTTP_PORT}\n      - ${ACAPY_ADMIN_PORT}:${ACAPY_ADMIN_PORT}\n    depends_on:\n      - ${DATABASE_SERVICE_NAME}\n    hostname: ${AGENT_SERVICE_NAME}\n    entrypoint: /bin/bash\n    container_name: ${AGENT_SERVICE_NAME}\n    volumes:\n      - \"./acapy-static-args.yml:/home/indy/acapy-static-args.yml\"\n    command: [\n        \"-c\",\n        \"sleep 5; \\\n        aca-py start \\\n        --tails-server-base-url '${TAILS_URL}' \\\n        --tails-server-upload-url '${TAILS_URL}' \\\n        --auto-respond-presentation-proposal \\\n        --auto-store-credential \\\n        --wallet-type 'indy' \\\n        --log-level info \\\n        --auto-verify-presentation \\\n        --auto-ping-connection \\\n        --auto-provision \\\n        --monitor-ping \\\n        --preserve-exchange-records \\\n        --public-invites \\\n        --plugin 'aries_cloudagent.messaging.jsonld' \\\n        --inbound-transport http '0.0.0.0' ${ACAPY_HTTP_PORT} \\\n        --endpoint '${ACAPY_ENDPOINT}' \\\n        --outbound-transport ws \\\n        --outbound-transport http \\\n        --genesis-url '${ACAPY_GENESIS_URL}' \\\n        --recreate-wallet \\\n        --wallet-name '${ACAPY_WALLET_DATABASE}' \\\n        --wallet-key '${ACAPY_WALLET_ENCRYPTION_KEY}' \\\n        --wallet-storage-type '${ACAPY_WALLET_TYPE}' \\\n        --wallet-storage-config '{\\\"url\\\":\\\"${DOCKERHOST}:${POSTGRESQL_PORT}\\\",\\\"max_connections\\\":5}' \\\n        --wallet-storage-creds '{\\\"account\\\":\\\"${POSTGRESQL_USER}\\\",\\\"password\\\":\\\"${POSTGRESQL_PASSWORD}\\\",\\\"admin_account\\\":\\\"${POSTGRESQL_USER}\\\",\\\"admin_password\\\":\\\"${POSTGRESQL_PASSWORD}\\\"}' \\\n        --seed '${SEED}' \\\n        --admin '0.0.0.0' ${ACAPY_ADMIN_PORT} \\\n        --admin-insecure-mode \\\n        --label '${AGENT_NAME}' \\\n        \"\n      ]\n\n  agent-db:\n    image: \"postgres:12-alpine\"\n    container_name: ${DATABASE_SERVICE_NAME}\n    hostname: ${DATABASE_SERVICE_NAME}\n    environment:\n      - POSTGRES_USER=${POSTGRESQL_USER}\n      - POSTGRES_PASSWORD=${POSTGRESQL_PASSWORD}\n    ports:\n      - ${POSTGRESQL_PORT}:5432\n    volumes:\n      - agent-db:/var/lib/postgresql/data\n\nvolumes:\n  agent-db:\n```","username":"LedgerXYZ","ts":"2021-12-24T00:25:57.307Z"}
{"msg":"`BPA` -","username":"LedgerXYZ","ts":"2021-12-24T00:27:22.132Z"}
{"msg":"```version: \"3\"\nservices:\n#######\n# Business 1\n#######\n  agent-bpa:\n    image: ghcr.io/hyperledger-labs/business-partner-agent-new:edge\n    container_name: ${BPA_SERVICE_NAME}\n    hostname: ${BPA_SERVICE_NAME}\n    environment:\n      JAVA_OPTS: >\n        -Dbpa.acapy.url=${ACAPY_ADMIN_URL}\n        -Dbpa.acapy.apiKey=${ACAPY_ADMIN_URL_API_KEY}\n        -Dmicronaut.security.enabled=${BPA_SECURITY_ENABLED}\n        -Dmicronaut.server.port=${BPA_PORT}\n        -Dmicronaut.environments=dev\n        -Dmicronaut.config.files=${BPA_CONFIG_FILES}\n        -Dbpa.pg.url=jdbc:postgresql://${POSTGRESQL_HOST}/${POSTGRESQL_USER}\n        -Dbpa.pg.username=${POSTGRESQL_USER}\n        -Dbpa.pg.password=${POSTGRESQL_PASSWORD}\n        -Dbpa.host=${BPA_HOST}\n        -Dbpa.scheme=${BPA_SCHEME}\n        -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:${BPA_DEBUG_PORT}\n      BPA_RESOLVER_URL: ${BPA_RESOLVER_URL}\n      BPA_LEDGER_BROWSER: ${BPA_LEDGER_BROWSER}\n      BPA_WEB_MODE: ${BPA_WEB_MODE}\n      BPA_BOOTSTRAP_UN: ${BPA_BOOTSTRAP_UN}\n      BPA_BOOTSTRAP_PW: ${BPA_BOOTSTRAP_PW}\n      ACAPY_ENDPOINT: ${ACAPY_ENDPOINT}\n      AGENT_NAME: ${AGENT_NAME}\n      BPA_IMPRINT_URL: ${BPA_IMPRINT_URL}\n      BPA_PRIVACY_POLICY_URL: ${BPA_PRIVACY_POLICY_URL}\n      BPA_CREDDEF_REVOCATION_REGISTRY_SIZE: ${BPA_CREDDEF_REVOCATION_REGISTRY_SIZE}\n      NODE_ENV: development\n    ports:\n      - ${BPA_PORT}:${BPA_PORT}\n      - ${BPA_DEBUG_PORT}:${BPA_DEBUG_PORT}\n    restart: always\n ```","username":"LedgerXYZ","ts":"2021-12-24T00:27:58.285Z"}
{"msg":"Anyone?","username":"LedgerXYZ","ts":"2021-12-24T13:05:44.676Z"}
{"msg":"Your config looks definitely weird as all your endpoints point to the same url and all the ports are missing. So my very first guess is that no endpoints are exposed and also the wrong endpoints end up on the ledger which will break any connection attempt. Or do you have another script that overwrites the environment variables again? If you are proxying with diode you need to have two tunnels, one for the BPA_HOST and one for the ACAPY_ENDPOINT. see start-with-tunnels.sh.","username":"etschelp","ts":"2022-01-03T16:41:05.744Z"}
{"msg":"My configuration have real values.  I removed them before posting due to privacy concerns.  As for BPA not connecting to the Trinsic Wallet, I have concluded that the issue is likely on their side due to my ability to connect bpa to other wallets","username":"LedgerXYZ","ts":"2022-01-05T14:29:35.785Z"}
{"msg":"You mentioned in your previous post that you were able to connect to Trinsic.  Please test again with an updated trinsic Wallet to see if this is still the case","username":"LedgerXYZ","ts":"2022-01-05T14:30:53.786Z"}
{"msg":"[as](as.com)","username":"LedgerXYZ","ts":"2022-01-08T21:42:53.805Z"}
{"msg":"(as)[tas.com]","username":"LedgerXYZ","ts":"2022-01-08T21:42:53.805Z"}
{"msg":"Dear @etschelp Can you please assist me in resolving my attempt at setting up multitenancy for BPA. \n\nI am absolutely ignorant in Java so please excuse my code. \n\nIn trying to modify the base BPA code to support multitenancy, I edited 3 files.  Using the following edits: \n  \\href{https://github.com/hyperledger-labs/business-partner-agent/blob/a81d173a6b42ff3fa548030668b3ecbd49c4a536/backend/business-partner-agent/src/main/resources/application.yml}{application.yml }\n  ```\n  bpa:\n    acapy:\n      url: ${ACAPY_URL:`http://localhost:8031`}\n      apiKey: ${ACAPY_API_KEY:empty}\n      bearerToken: ${TENANT_TOKEN:empty}\n      endpoint: ${ACAPY_ENDPOINT:`http://localhost:8030`}\n  ```\n   \\href{https://github.com/hyperledger-labs/business-partner-agent/blob/a81d173a6b42ff3fa548030668b3ecbd49c4a536/backend/business-partner-agent/src/main/java/org/hyperledger/bpa/config/AriesClientFactory.java}{AriesClientFactory.java}\n  ```\n  public class AriesClientFactory {\n\n    private static final long FIVE = 300;\n\n    @Value(\"${bpa.acapy.url}\")\n    private String url;\n    @Value(\"${bpa.acapy.apiKey}\")\n    private String apiKey;\n    @Value(\"${bpa.acapy.bearerToken}\")\n    private String bearerToken;\n\n    @Singleton\n    public AriesClient ariesClient() {\n        return AriesClient.builder()\n                .url(url)\n                .apiKey(apiKey)\n                .bearerToken(bearerToken)\n                .client(new OkHttpClient.Builder()\n                        .writeTimeout(FIVE, TimeUnit.SECONDS)\n                        .readTimeout(FIVE, TimeUnit.SECONDS)\n                        .connectTimeout(FIVE, TimeUnit.SECONDS)\n                        .callTimeout(FIVE, TimeUnit.SECONDS)\n                        .build())\n                .build();\n    }\n}\n  ```\n   \\href{https://github.com/hyperledger-labs/business-partner-agent/blob/a81d173a6b42ff3fa548030668b3ecbd49c4a536/backend/business-partner-agent/src/main/java/org/hyperledger/bpa/config/acapy/AcaPyAuthFetcher.java}{AcaPyAuthFetcher.java}\n  ```\n   @Requires(property = \"bpa.webhook.key\")\n@Requires(property = \"bpa.webhook.token\")\npublic class AcaPyAuthFetcher implements AuthenticationFetcher {\n\n    private static final String X_API_KEY = \"x-api-key\";\n    \n    private static final String AUTHORIZATION = \"Authorization\";\n\n    public static final String ROLE_ACA_PY = \"ROLE_ACA_PY\";\n\n    @Value(\"${bpa.webhook.key}\")\n    String apiKey;\n    \n    @Value(\"${bpa.webhook.token}\")\n    String bearerToken;\n\n    @Override\n    public Publisher<Authentication> fetchAuthentication(io.micronaut.http.HttpRequest<?> request) {\n        return Maybe.<Authentication>create(emitter -> {\n            if (HttpMethod.POST.equals(request.getMethod())\n                    && request.getPath().startsWith(AriesWebhookController.WEBHOOK_CONTROLLER_PATH)) {\n                String apiKeyHeader = request.getHeaders().get(X_API_KEY);\n                String tenantTokenHeader = request.getHeaders().get(AUTHORIZATION);\n                log.trace(\"Handling aca-py webhook authentication\");\n                if (StringUtils.isEmpty(apiKey)\n                        || StringUtils.isNotBlank(apiKeyHeader) || StringUtils.isNotBlank (bearerToken) && apiKeyHeader.equals(apiKey) && tenantTokenHeader.equals(bearerToken)) {\n                    emitter.onSuccess(acaPyAuthentication());\n                    log.trace(\"aca-py webhook authentication success\");\n                    return;\n                }\n                log.error(\"aca-py webhook authentication failed. \" +\n                        \"Configured bpa.webhook.key: {}, received x-api-key header: {}, received Authorization header: {}\", apiKey, apiKeyHeader,  tenantTokenHeader);\n            }\n            emitter.onComplete();\n        }).toFlowable();\n    }\n\n    static Authentication acaPyAuthentication() {\n        return Authentication.build(\"aca-py\", List.of(ROLE_ACA_PY));\n    }\n}\n  ```\n  Then I include token in bpa docker container like so: -Dbpa.acapy.bearerToken=${TENANT_TOKEN} under JAVA_OPTS env variable. I also tested as it's own variable like so TENANT_TOKEN: ${TENANT_TOKEN}\n  When I run the container I get an unauthorized error.  Please assist if you can.","username":"LedgerXYZ","ts":"2022-01-08T22:12:33.588Z"}
{"msg":"Please be aware that the bpa itself is not multi tenant ready. There is a story for that that we did not start so far. If you want to connect the bpa's Java backend to a aca-py instance that is running in multi tenant mode, then your first two changes above should be enough. Touching the auth fetcher is not necessary as it checks if aca-py is allowed to call the bpa's webhook not the other way round. Also be aware of all the changes that need to be done to the aca-py configuration and everything that changes in aca-py's behaviour when running in multi tenant mode - https://github.com/hyperledger/aries-cloudagent-python/blob/main/Multitenancy.md","username":"etschelp","ts":"2022-01-10T08:45:25.538Z"}
{"msg":"I can confirm that you're right that the first two changes was all that was needed for multitenancy to work.  My error was due to not supplying the TENANT_TOKEN  variable with an actual token.","username":"LedgerXYZ","ts":"2022-01-10T10:12:41.866Z"}
{"msg":"What are your concerns about the readiness of BPA for multitenancy?","username":"LedgerXYZ","ts":"2022-01-10T10:13:34.126Z"}
{"msg":"For my setup to work, I created a separate postgres database instance to handle BPA concerns.  So far everything seems to work just fine","username":"LedgerXYZ","ts":"2022-01-10T12:27:09.663Z"}
{"msg":"No concerns. I just wanted to say that currently the bpa backend is always bound to a single aca-py wallet and did. But of course it is possible to use a single aca-py instance in multi tenancy mode with multiple bpa backends.","username":"etschelp","ts":"2022-01-10T16:04:44.919Z"}
{"msg":"@etschelp @MoritzKa @schlagtim - happy new year! are we back on for meeting Jan 11 (7am PST)?","username":"usingetechnology","ts":"2022-01-10T17:40:06.172Z"}
{"msg":"@etschelp @MoritzKa @schlagtim - happy new year! are we back on for meeting Jan 11 (7am PST)? (had to change username - it's jason sherman :)","username":"usingetechnology","ts":"2022-01-10T17:40:06.172Z"}
{"msg":"Thanks a million you have been more helpful to me throughout this process than thanks could ever convey","username":"LedgerXYZ","ts":"2022-01-10T19:07:43.480Z"}
{"msg":"you're very welcome","username":"etschelp","ts":"2022-01-11T08:03:10.844Z"}
{"msg":"A happy new year to you too. There are no big news from our end as most people just came back from their holidays this week. But I think having a quick synch makes sense, so yes we are back on :smiley:","username":"etschelp","ts":"2022-01-11T09:07:44.373Z"}
{"msg":"Has joined the channel.","username":"Mahadevan 3","ts":"2022-01-11T18:35:54.514Z","type":"uj"}
{"msg":"Reminder, feel free to join our weekly meeting which takes place every Tuesday at 16:00 CET (15:00 UTC). This is the place to discuss current development activities, ask questions, ask for new features, report a bug etc. \n\nTeams Link:\nhttps://teams.microsoft.com/l/meetup-join/19:meeting_MGU2YWJjNWYtZjQxOC00MjcxLThhMmQtOTMzNGZjOGE3NjFj@thread.v2/0?context={\"Tid\":\"0ae51e19-07c8-4e4b-bb6d-648ee58410f4\",\"Oid\":\"68c9b8cf-6b6f-42d1-918e-69f99cab31e3\"}","username":"etschelp","ts":"2022-01-24T18:15:26.550Z"}
{"msg":"Reminder, feel free to join our weekly meeting which takes place every Tuesday at 16:00 CET (15:00 UTC). This is the place to discuss current development activities, ask questions, ask for new features, report a bug etc. \n\nTeams Link:\nhttps://teams.microsoft.com/l/meetup-join/19:meeting_MGU2YWJjNWYtZjQxOC00MjcxLThhMmQtOTMzNGZjOGE3NjFj@thread.v2/0?context=%7B%22Tid%22:%220ae51e19-07c8-4e4b-bb6d-648ee58410f4%22,%22Oid%22:%2268c9b8cf-6b6f-42d1-918e-69f99cab31e3%22%7D","username":"etschelp","ts":"2022-01-24T18:15:26.550Z"}
{"msg":"Has joined the channel.","username":"regiseloi","ts":"2022-02-02T23:03:54.468Z","type":"uj"}
{"msg":"This chat is now also on discord, you can find it here: https://discord.com/channels/905194001349627914/948240184124788736","username":"etschelp","ts":"2022-03-01T16:04:13.737Z"}
