<meta http-equiv="content-type" content="text/html; charset=utf-8"><p><strong>guoger</strong> (Thu, 02 Nov 2017 01:54:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>chokha</strong> (Sun, 05 Nov 2017 19:41:12 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Thu, 16 Nov 2017 14:09:44 GMT):<br/>
cbf
</p>
<p><strong>cbf</strong> (Thu, 16 Nov 2017 14:12:19 GMT):<br/>
<i>User <em>User_1</em> added by <em>cbf</em>.</i>
</p>
<p><strong>cbf</strong> (Thu, 16 Nov 2017 14:12:19 GMT):<br/>
<i>User <em>User_2</em> added by <em>cbf</em>.</i>
</p>
<p><strong>cbf</strong> (Thu, 16 Nov 2017 14:12:19 GMT):<br/>
<i>User <em>User_3</em> added by <em>cbf</em>.</i>
</p>
<p><strong>HandsomeRoger</strong> (Mon, 20 Nov 2017 08:00:13 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>harsha</strong> (Tue, 21 Nov 2017 15:01:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>jackeyliliang</strong> (Fri, 24 Nov 2017 02:59:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>heath</strong> (Tue, 28 Nov 2017 06:13:08 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Thu, 30 Nov 2017 21:08:01 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/15847/ needs one more +2 to merge please
</p>
<p><strong>tkuhrt</strong> (Wed, 06 Dec 2017 11:08:01 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>muralisr</strong> (Sat, 09 Dec 2017 17:01:46 GMT):<br/>
@guoger  @swetha can you suggest some good doc links for EVM exploration please ?
</p>
<p><strong>guoger</strong> (Sat, 09 Dec 2017 17:02:35 GMT):<br/>
https://github.com/ethereum/wiki/wiki/White-Paper#code-execution white paper explaining Ethereum, which contains a section about EVM
</p>
<p><strong>guoger</strong> (Sat, 09 Dec 2017 17:03:11 GMT):<br/>
https://www.gitbook.com/book/ethereum/frontier-guide/details a lengthy, but detailed guide to Ethereum Frontier release
</p>
<p><strong>guoger</strong> (Sat, 09 Dec 2017 17:03:58 GMT):<br/>
http://yellowpaper.io Ethereum yellow paper, supposed to be definitive and generic, where a spec of EVM can be found
</p>
<p><strong>guoger</strong> (Sat, 09 Dec 2017 17:04:26 GMT):<br/>
(If somebody simply want to learn about Ethereum, white paper is really good material
</p>
<p><strong>guolidong</strong> (Tue, 12 Dec 2017 06:02:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Wed, 13 Dec 2017 21:40:11 GMT):<br/>
@guoger @swetha how are things progressing?
</p>
<p><strong>swetha</strong> (Wed, 13 Dec 2017 22:10:17 GMT):<br/>
@cbf: We have all the pieces we need to run the evm as a chaincode on fabric. We have started looking into the web3 json rpc API needed so that ethereum dApps can communicate with the smart contract and platform. Once we some of the API implemented we should have a POC that we can share/demo. @guoger anything I missed?
</p>
<p><strong>guoger</strong> (Thu, 14 Dec 2017 15:46:27 GMT):<br/>
@swetha after some experiments, I felt it's indeed easier to implement evm as a system chaincode, main reason being that we don't really have a mechanism to dispatch txs to a *singleton user* chaincode based on type, i.e. if the chaincode invoked is _EVM_, send it to _the_ EVM container, otherwise send it to container with corresponding chaincode.
</p>
<p><strong>guoger</strong> (Thu, 14 Dec 2017 15:46:27 GMT):<br/>
@swetha after some experiments, I felt it's indeed easier to implement evm as a system chaincode, main reason being that we don't really have a mechanism to dispatch txs to a *singleton user chaincode* based on type, i.e. if the chaincode invoked is _EVM_, send it to _the_ EVM container, otherwise send it to container with corresponding chaincode.
</p>
<p><strong>guoger</strong> (Thu, 14 Dec 2017 15:47:54 GMT):<br/>
I'm putting pieces together now and should be able to have a working poc early next week
</p>
<p><strong>guoger</strong> (Thu, 14 Dec 2017 16:07:58 GMT):<br/>
To adapt to web3js, maybe we could quickly prototype a JSON RPC server using node-sdk/go-sdk?
</p>
<p><strong>guoger</strong> (Thu, 14 Dec 2017 16:22:03 GMT):<br/>
@muralisr if I understand correctly
1. during _install_, code bytes are put in fs on peer
2. during _instantiate_, we first invoke `lscc` to put ChaincodeData into ledger, then invoke `init` on new user chaincode, where a new container will be launched if not existed.
correct?
</p>
<p><strong>swetha</strong> (Thu, 14 Dec 2017 16:43:00 GMT):<br/>
@guoger: I am working on creating a JSON RPC server that implements a few of the instructions like sendTransaction and thinking to just have that use the go-sdk to talk to fabric. I will try to have something for the POC early next week. 
</p>
<p><strong>guoger</strong> (Thu, 14 Dec 2017 16:44:13 GMT):<br/>
Great!
</p>
<p><strong>cbf</strong> (Thu, 14 Dec 2017 18:01:42 GMT):<br/>
fantasticüëèü§£
</p>
<p><strong>cbf</strong> (Thu, 14 Dec 2017 18:01:42 GMT):<br/>
fantasticüëè
</p>
<p><strong>silasdavis</strong> (Fri, 15 Dec 2017 14:08:01 GMT):<br/>
@swetha it would be good to collaborate on a go-based web3 RPC, this is something I need to build for Burrow
</p>
<p><strong>silasdavis</strong> (Fri, 15 Dec 2017 14:08:12 GMT):<br/>
so let's make it some kind of reusable facade
</p>
<p><strong>muralisr</strong> (Fri, 15 Dec 2017 15:32:00 GMT):<br/>
@guoger to answer your question ^^^, correct.
</p>
<p><strong>muralisr</strong> (Fri, 15 Dec 2017 15:36:32 GMT):<br/>
@guoger `I felt it's indeed easier to implement evm as a system chaincode,` - sounds right to me too.... other nice property, going by your "singleton" comment, is that you can choose between peer wide system chaincode (ie, across all channels) or a syscc per channel
</p>
<p><strong>muralisr</strong> (Fri, 15 Dec 2017 15:37:09 GMT):<br/>
I'm not sure why you'd need the peer wide syscc but its there if you want it
</p>
<p><strong>swetha</strong> (Fri, 15 Dec 2017 16:56:54 GMT):<br/>
@silasdavis: We like that idea too! For the time being we want an end to end POC so we are making an minimal server than we can use to test with. We aren't going to implement more than a couple of the APIs.
</p>
<p><strong>silasdavis</strong> (Fri, 15 Dec 2017 17:04:35 GMT):<br/>
That makes sense, I'll be sure to steal what you do if you get there first, then you'll be able to pull any changes I make based of your stuff 
</p>
<p><strong>silasdavis</strong> (Fri, 15 Dec 2017 17:04:52 GMT):<br/>
Is this code pushed somewhere? 
</p>
<p><strong>swetha</strong> (Fri, 15 Dec 2017 17:09:06 GMT):<br/>
No, not currently. What I have right now is a simple server that does not do anything. I am new to JSON RPC so mostly playing around with it. I will push it all up soon, latest sometime next week and be sure to send you the link
</p>
<p><strong>compleatang</strong> (Sun, 17 Dec 2017 22:26:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Mon, 18 Dec 2017 15:19:55 GMT):<br/>
@swetha  just an update, I pulled in your code, and get most pieces working:
- compiled solidity bytecode can be installed via CLI
- CLI can invoke functions in the same way as other chaincodes, but with the hashed args as defined in Solidity
- an `evmscc` executes the code
One remaining problem (hopefully last problem) is that when EVM actually `PutState` or `GetState`, I got error saying tx context is lost. Not sure why, will investigate tomorrow
</p>
<p><strong>guoger</strong> (Mon, 18 Dec 2017 15:23:40 GMT):<br/>
btw, let's use [this](http://solidity.readthedocs.io/en/develop/introduction-to-smart-contracts.html) example for our demo, and compile it with online compiler [Remix](ethereum.github.io/browser-solidity)! I've been fighting this stupid compiler problem for couple of hours today and realized my local `solc` compiler produces different bytecode than Remix
</p>
<p><strong>guoger</strong> (Mon, 18 Dec 2017 15:23:40 GMT):<br/>
btw, let's use [this](http://solidity.readthedocs.io/en/develop/introduction-to-smart-contracts.html) example for our demo, and compile it with online compiler [Remix](ethereum.github.io/browser-solidity) ! I've been fighting this stupid compiler problem for couple of hours today and realized my local `solc` compiler produces different bytecode than Remix
</p>
<p><strong>swetha</strong> (Mon, 18 Dec 2017 17:23:33 GMT):<br/>
oh that's really interesting, thanks for the tip
</p>
<p><strong>muralisr</strong> (Mon, 18 Dec 2017 20:55:32 GMT):<br/>
@guoger `One remaining problem (hopefully last problem) is that when EVM actually `PutState` or `GetState`, I got error saying tx context is lost. ` - are the Get/Put part of the invoke call to the chaincode (as oppoised to EVM initiating Put / Get outside of the the Invoke) ?
</p>
<p><strong>muralisr</strong> (Mon, 18 Dec 2017 20:55:41 GMT):<br/>
hope not
</p>
<p><strong>muralisr</strong> (Mon, 18 Dec 2017 20:56:19 GMT):<br/>
other possibility is the invoke request on the peer side got tired of waiting for response and timed out
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 01:43:51 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=7YiNQcaDQ4xMyAvpw) @muralisr They are part of invoke. Is new txctx created every time a chaincode is invoked? what `evmscc` does today is:
- call `lscc` to retrieve evm bytecode based on chaincode name
- execute that bytecode in vm
- if bytecode calls `SetStorage`, it's translated to `PutState`
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 01:44:44 GMT):<br/>
What I observed is that txctx (key being `channel name` + `txid`) is deleted after the initial `lscc` call
</p>
<p><strong>swetha</strong> (Tue, 19 Dec 2017 03:53:38 GMT):<br/>
@here We are thinking of doing a demoing our POC, please ping either @guoger or me if you are interesting in joining the call. We are thinking of Wednesday (US folks: 8am PST, 11 am EST, London: 4 pm, China: 12AM)
</p>
<p><strong>swetha</strong> (Tue, 19 Dec 2017 03:53:38 GMT):<br/>
@here We are thinking of doing a demoing our POC, please let @guoger or me known in this channel if you are interested in joining the call. We are thinking of Wednesday (US folks: 8am PST, 11 am EST, London: 4 pm, China: 12AM)
</p>
<p><strong>harsha</strong> (Tue, 19 Dec 2017 03:58:07 GMT):<br/>
I'm interested to learn about this PoC. Please count me in.
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 03:59:04 GMT):<br/>
@harsha great! what time zone are you in? we are waiting for folks to have a consensus on this
</p>
<p><strong>harsha</strong> (Tue, 19 Dec 2017 03:59:14 GMT):<br/>
@guoger IST
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 04:00:09 GMT):<br/>
alright, then proposed time should work for you :)
</p>
<p><strong>zhishui</strong> (Tue, 19 Dec 2017 08:10:20 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 09:45:51 GMT):<br/>
@muralisr after quite some debugging, I found that I wasn
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 09:45:51 GMT):<br/>
@muralisr after quite some debugging, I found that I wasn't updating `stub` for a new `invoke`. Basically I was using the same `stub` when evmscc is init'ed, which obviously contains a stale txid.. stupid mistake
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 09:52:14 GMT):<br/>
but just to get this clear, 
- when `evmscc` is invoked, it has a `chaincode.Handler` associated with it, where `handler.txCtx` has key `mychannel+txid`
- `evmscc` invokes `lscc`, a new instance of handler is created and associated with `lscc`, where `handler.txCtx` has exactly same key `mychannel+txid`
- invocation to `lscc` is finished, and that tx context is deleted

basically, for each chaincode, there will be a handler associated with it. If multiple chaincodes work together to complete one tx, all of them should have same key (channel name + txid) in their own instance of handler, correct?
</p>
<p><strong>muralisr</strong> (Tue, 19 Dec 2017 14:17:40 GMT):<br/>
@guoger can you elaborate on `evmscc invokes lscc` please ? How does it invoke and why ?
</p>
<p><strong>muralisr</strong> (Tue, 19 Dec 2017 14:22:08 GMT):<br/>
@swetha i'd like to join the call ... maybe a bit late though (but will try to be on time at 11EST)
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 15:18:36 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=i4ZcBsC5DB6joHR8i) @muralisr when new contract is installed, bytecode actually is stored in `lscc` namespace. So our `evmscc` needs to call `lscc` to retrieve the code and execute
</p>
<p><strong>guoger</strong> (Tue, 19 Dec 2017 15:19:27 GMT):<br/>
and it does
```
res := stub.InvokeChaincode("lscc", [][]byte{[]byte(lscc.GETDEPSPEC), []byte(stub.GetChannelID()), ccName}, stub.GetChannelID())
```
</p>
<p><strong>muralisr</strong> (Tue, 19 Dec 2017 16:03:06 GMT):<br/>
@guoger I'd have stored the bytes directly in evmscc ...this would be along the lines of the "dynamic chaincode" approach we touched upon in the hackfest. The lscc is used by the fabric to manage its chaincode and execute them . Here the evmscc is executing it and seems  more natural storing the code in evmscc ... you;d also avoid a InvokeChaincode call (could become expensive if you do it often enough)
</p>
<p><strong>muralisr</strong> (Tue, 19 Dec 2017 16:03:06 GMT):<br/>
@guoger I'd have stored the bytes directly in evmscc ...this would be along the lines of the "dynamic chaincode" approach we touched upon in the hackfest. The lscc is used by the fabric to manage its chaincode and execute them . Here the evmscc is executing  code directly and seems  more natural storing the code in evmscc directly as well ... you;d also avoid a InvokeChaincode call (could become expensive if you do it often enough)
</p>
<p><strong>muralisr</strong> (Tue, 19 Dec 2017 16:03:06 GMT):<br/>
@guoger I'd have stored the bytes directly in evmscc namespace...this would be along the lines of the "dynamic chaincode" approach we touched upon in the hackfest. The lscc is used by the fabric to manage its chaincode and execute them . Here the evmscc is executing  code directly and seems  more natural storing the code in evmscc directly as well ... you;d also avoid a InvokeChaincode call (could become expensive if you do it often enough). Also you;d avoid dragging lscc RWset into the TX
</p>
<p><strong>muralisr</strong> (Tue, 19 Dec 2017 16:06:40 GMT):<br/>
ie, in otherwords, evmscc will support an "install" verb directly
</p>
<p><strong>muralisr</strong> (Tue, 19 Dec 2017 17:11:45 GMT):<br/>
but to answer your question `basically, for each chaincode, there will be a handler associated with it. If multiple chaincodes work together to complete one tx, all of them should have same key (channel name + txid) in their own instance of handler, correct?` - yes, that's correct
</p>
<p><strong>tkuhrt</strong> (Tue, 19 Dec 2017 17:14:28 GMT):<br/>
@swetha : If you let me know the details of the call, I can add it to the Hyperledger community calendar.
</p>
<p><strong>swetha</strong> (Tue, 19 Dec 2017 17:28:21 GMT):<br/>
@tkuhrt: That would be great! I think the time is confirmed at US folks: 8am PST, 11 am EST, London: 4 pm, China: 12AM. Currently I am planning on using a Google Hangout: https://hangouts.google.com/call/KP2JqvS0tCDent7vmmmJAAEE. The tool we use may change.
</p>
<p><strong>tkuhrt</strong> (Tue, 19 Dec 2017 17:28:52 GMT):<br/>
Okay...let me know if it changes. I will add the details listed above.
</p>
<p><strong>tkuhrt</strong> (Tue, 19 Dec 2017 17:32:48 GMT):<br/>
Added to the calendar. It would be great if the meeting could be recorded for others to watch later.
</p>
<p><strong>swetha</strong> (Tue, 19 Dec 2017 18:39:39 GMT):<br/>
@tkuhrt, Thats a great idea. I will definitely keep that in mind
</p>
<p><strong>swetha</strong> (Tue, 19 Dec 2017 19:12:19 GMT):<br/>
@tkuhrt: Set up a webex meeting instead so we can record it. 
Here is the link: https://ibm.webex.com/ibm/j.php?MTID=m6d206b302a34a8d806c107c5b370ba53, 
Meeting Password is fabricevm
Video address:
Dial 928304252@ibm.webex.com

Audio connection:
+1-669-234-1178 United States of America Toll
+1-669-234-1178 United States of America Toll
Global call-in numbers

Show toll-free dialing restrictions
Access code: 928 304 252

</p>
<p><strong>swetha</strong> (Tue, 19 Dec 2017 19:12:19 GMT):<br/>
@tkuhrt: Set up a webex meeting instead so we can record it. 
Here is the link: https://ibm.webex.com/ibm/j.php?MTID=m6d206b302a34a8d806c107c5b370ba53, 
Meeting Password is fabricevm
Video address:
Dial 928304252@ibm.webex.com

Audio connection:
+1-669-234-1178 United States of America Toll
+1-669-234-1178 United States of America Toll

</p>
<p><strong>tkuhrt</strong> (Tue, 19 Dec 2017 19:14:10 GMT):<br/>
Great!  I updated the calendar entry. I am looking forward to the recording (as I have a conflict at this time).
</p>
<p><strong>sheehan</strong> (Wed, 20 Dec 2017 16:20:46 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rtemprano</strong> (Wed, 20 Dec 2017 16:53:24 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Wed, 20 Dec 2017 17:41:32 GMT):<br/>
@tkuhrt: Is the a place l can upload recording from the meeting this morning?
</p>
<p><strong>tkuhrt</strong> (Wed, 20 Dec 2017 17:43:48 GMT):<br/>
Yes...let me grant you access to a Google Drive folder...I will DM you
</p>
<p><strong>swetha</strong> (Wed, 20 Dec 2017 17:43:54 GMT):<br/>
Thanks!
</p>
<p><strong>tkuhrt</strong> (Wed, 20 Dec 2017 20:29:16 GMT):<br/>
Swetha uploaded the recording from this morning's demo to: https://drive.google.com/open?id=149FI5gEHLXAN7plzOCBUOyPB_s9AqPAj. Nice job, Swetha and Jay.
</p>
<p><strong>swetha</strong> (Wed, 20 Dec 2017 23:52:02 GMT):<br/>
@guoger & @silasdavis: I have my initial json rpc server code in this repo: https://github.com/swetharepakula/fabric-chaincode-evm/tree/poc-evm-fab-6590 under the `ethserver` dir
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 10:47:41 GMT):<br/>
@swetha thanks for sharing
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 10:50:35 GMT):<br/>
I think we should consider using a json-rpc library to take care of the JSON-RPC details such as: https://github.com/ybbus/jsonrpc
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 11:00:42 GMT):<br/>
I had a look at your demo (well done), I only skimmed it but you lay out the option to a) wrapping burrow, and b) this evmscc chaincode wrapper, and that you took the latter. Can you just describe to me how this intergrates with Burrow exactly?
</p>
<p><strong>guoger</strong> (Thu, 21 Dec 2017 15:51:12 GMT):<br/>
@silasdavis hi, thanks for reviewing our demo! To answer your question, our intention, at least for now, is to integrate Burrow EVM only. Therefore, we took the evm library and wrapped it into _evmscc_ (system chaincode in Fabric) to execute contract bytecode. So we weren't really _wrapping Burrow_.
</p>
<p><strong>guoger</strong> (Thu, 21 Dec 2017 15:52:15 GMT):<br/>
this is the design doc we continuously work on https://docs.google.com/document/d/1xZfdtFiIFvHI7UZAze2xbm5hhgaDHGRBMusozKfpOck/edit?usp=sharing 
</p>
<p><strong>guoger</strong> (Thu, 21 Dec 2017 15:52:15 GMT):<br/>
this is the design doc we continuously work on https://docs.google.com/document/d/1xZfdtFiIFvHI7UZAze2xbm5hhgaDHGRBMusozKfpOck/edit?usp=sharing 
</p>
<p><strong>guoger</strong> (Thu, 21 Dec 2017 15:53:25 GMT):<br/>
@tkuhrt actually it would be nice if you could pin this link or put it in the channel description :)
</p>
<p><strong>guoger</strong> (Thu, 21 Dec 2017 15:53:49 GMT):<br/>
(I don't have moderator permission to do so I guess)
</p>
<p><strong>tkuhrt</strong> (Thu, 21 Dec 2017 16:05:34 GMT):<br/>

</p>
<p><strong>tkuhrt</strong> (Thu, 21 Dec 2017 16:05:41 GMT):<br/>
guoger
</p>
<p><strong>tkuhrt</strong> (Thu, 21 Dec 2017 16:07:17 GMT):<br/>
swetha
</p>
<p><strong>tkuhrt</strong> (Thu, 21 Dec 2017 16:08:56 GMT):<br/>
The design doc we continuously work on https://docs.google.com/document/d/1xZfdtFiIFvHI7UZAze2xbm5hhgaDHGRBMusozKfpOck/edit?usp=sharing
</p>
<p><strong>tkuhrt</strong> (Thu, 21 Dec 2017 16:13:18 GMT):<br/>
Discuss the integration of the EVM with Hyperledger Fabric
</p>
<p><strong>swetha</strong> (Thu, 21 Dec 2017 17:32:14 GMT):<br/>
@silasdavis: I will start playing with that library. I am also looking into this library: https://github.com/gorilla/rpc
</p>
<p><strong>swetha</strong> (Thu, 21 Dec 2017 17:32:14 GMT):<br/>
@silasdavis: I will start playing with that library. I think the library is a client though. I am also looking into this json rpc server library: https://github.com/gorilla/rpc 
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 18:58:24 GMT):<br/>
It looks like gorilla does have a package for json rpc 2.0 now: http://www.gorillatoolkit.org/pkg/rpc/v2/json2
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 18:59:05 GMT):<br/>
actually Burrow uses gorilla for websockets. 
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 19:00:45 GMT):<br/>
also yes clearly you are right it's just a client
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 19:02:05 GMT):<br/>
by the way, this is my first bash at an intermediate interface for all of our RPC layers: https://github.com/hyperledger/burrow/blob/hypermarmot/rpc/service.go#L37-L70 
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 19:03:15 GMT):<br/>
as in the outer RPC is given an instance of that and formulates the concrete RPC
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 19:03:20 GMT):<br/>
for example as in: https://github.com/hyperledger/burrow/blob/hypermarmot/rpc/tm/routes.go#L29-L76 
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 19:05:22 GMT):<br/>
I doubt `Service` is quite right, but if we could iterate on that, possibly split it up so that it might be something you could implement as an service provider on top of fabric and then implement web3 on top of that it would mean we could share a web3 and other end-user APIs
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 19:07:25 GMT):<br/>
I don't know how viable it would be to make the signature of methods like `Subscribe` and `BroadcastTx` generic enough to be implemented by a Burrow and a Fabric (and a Sawtooth??) backend, but it would be interesting to at least considser
</p>
<p><strong>silasdavis</strong> (Thu, 21 Dec 2017 19:08:14 GMT):<br/>
obviously they are based on Burrow types now, but are meant to abstract away from the return types of the corresponding v0 and tm APIs (the two interfaces Burrow has)
</p>
<p><strong>swetha</strong> (Thu, 21 Dec 2017 19:57:45 GMT):<br/>
 I like the sound of sharing the API libraries and just have an underlying interface that is build on top of. Your interface is a good starting point for me to see how well that will fit in with fabric. In terms of those methods `Subscribe` and `BroadcastTx`, you are right they probably have to be tailored to the backend they are talking to. But the concept of those methods are universal, so there probably is some way to make those more generic? 
</p>
<p><strong>sstone1</strong> (Wed, 27 Dec 2017 16:04:24 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>marc0o</strong> (Sat, 30 Dec 2017 19:30:59 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Wed, 10 Jan 2018 09:58:43 GMT):<br/>
@binhn to echo the question you had during our demo
> evm caller account should probably be used to check the ACL of cross-chaincode invocation
My take on this is that the chain of invocation would take place in the same tx context, where original creator of proposal would be used to test ACL, therefore caller account is till ignorable. cc @muralisr 
</p>
<p><strong>binhn</strong> (Wed, 10 Jan 2018 09:58:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>muralisr</strong> (Wed, 10 Jan 2018 13:21:51 GMT):<br/>
@guoger sure, we have other options too re ACL to make it more flexible which we can explore when we need
</p>
<p><strong>ArnabChatterjee</strong> (Fri, 12 Jan 2018 06:27:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>yash-ibm</strong> (Mon, 15 Jan 2018 12:04:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tasmiya_n</strong> (Mon, 15 Jan 2018 12:05:47 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>jtclark</strong> (Fri, 19 Jan 2018 10:52:35 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Brucepark</strong> (Sat, 20 Jan 2018 06:14:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Mon, 22 Jan 2018 07:00:10 GMT):<br/>
just fyi, somebody posted in #burrow-contributors requesting for web3 support :)
</p>
<p><strong>silasdavis</strong> (Fri, 26 Jan 2018 10:30:42 GMT):<br/>
Hi @swetha, happy new year, just saw your commit here: https://github.com/swetharepakula/fabric-chaincode-evm/commit/97d19e22983ca29bfc1618dd29a6d6c98b758b89 I've been working a bit on my intermediate RPC layers - it would be good to talk about how we might share code on Web3. I also have some broader interest in building some kind of compatibility (quite what form I am still thinking through) between Seth, Fabric-EVM, and Burrow - in the sense of transaction mappability and bridging of networks around the lingua franca of the EVM. This is something for the future but it would probably be good for me if I could understand a bit more about the architecture and ideally help write some code with you. 
</p>
<p><strong>silasdavis</strong> (Fri, 26 Jan 2018 10:31:53 GMT):<br/>
Do you think it would be worth having a chat in voice to think through, in the first instance, a common 'Service Provider Interface' for web3?
</p>
<p><strong>swetha</strong> (Fri, 26 Jan 2018 17:33:42 GMT):<br/>
@silasdavis: Happy New Year to you too! Yes, I think have a discussion would be very helpful. What is usually a good time for you?  @guoger @jtclark may want to join us too.
</p>
<p><strong>swetha</strong> (Fri, 26 Jan 2018 17:33:42 GMT):<br/>
@silasdavis: Happy New Year to you too! Yes, I think having a discussion would be very helpful. What is usually a good time for you?  @guoger @jtclark may want to join us too.
</p>
<p><strong>silasdavis</strong> (Fri, 26 Jan 2018 17:37:29 GMT):<br/>
Ah yes in my head that was addressed to all three of you - but we had spoken about the SPI thing before. I keep a fairly random schedule within UTC waking hours (which tends to be heavily baby influenced). 10 am EST?
</p>
<p><strong>swetha</strong> (Fri, 26 Jan 2018 17:38:05 GMT):<br/>
Sure that should work for all of us. I will send out an invite next week
</p>
<p><strong>guoger</strong> (Sat, 27 Jan 2018 01:50:22 GMT):<br/>
works for me!
</p>
<p><strong>silasdavis</strong> (Mon, 29 Jan 2018 14:22:48 GMT):<br/>
Cool, noted you will do invite, Monday is only day I can't do currently
</p>
<p><strong>swetha</strong> (Mon, 29 Jan 2018 18:30:07 GMT):<br/>
@silasdavis, will Wednesday work? 
</p>
<p><strong>silasdavis</strong> (Mon, 29 Jan 2018 19:17:55 GMT):<br/>
Sorry I didn't process that next week was this week when you sent it. I could do Thursday this week.
</p>
<p><strong>swetha</strong> (Mon, 29 Jan 2018 22:25:43 GMT):<br/>
Oh that is okay, would next week be better?
</p>
<p><strong>swetha</strong> (Mon, 29 Jan 2018 22:25:43 GMT):<br/>
Oh that is okay, would next week be better? @silasdavis 
</p>
<p><strong>swetha</strong> (Mon, 29 Jan 2018 22:25:43 GMT):<br/>
Oh that is okay, would next week (first week of Feb) be better? @silasdavis  
</p>
<p><strong>silasdavis</strong> (Tue, 30 Jan 2018 17:43:09 GMT):<br/>
yeah that would work better thans
</p>
<p><strong>swetha</strong> (Tue, 30 Jan 2018 17:48:25 GMT):<br/>
Cool, I will set up something in the first week of Febuary
</p>
<p><strong>swetha</strong> (Wed, 31 Jan 2018 00:59:56 GMT):<br/>
 @adamludvik Would you be interested in the above ^^
</p>
<p><strong>adamludvik</strong> (Wed, 31 Jan 2018 00:59:57 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>adamludvik</strong> (Wed, 31 Jan 2018 21:27:44 GMT):<br/>
@swetha yes, I would be
</p>
<p><strong>guoger</strong> (Thu, 01 Feb 2018 01:18:35 GMT):<br/>
@muralisr I'm trying to see how `init` could fit in Ethereum model... not sure if Ethereum has this notion of _constructor_
</p>
<p><strong>muralisr</strong> (Thu, 01 Feb 2018 01:19:25 GMT):<br/>
@guoger you don't HAVE to implement anything in the `Init`
</p>
<p><strong>muralisr</strong> (Thu, 01 Feb 2018 01:20:09 GMT):<br/>
when the chaincode comes up first time it gives you an opportunnuty to store some state (typically some metadata)
</p>
<p><strong>muralisr</strong> (Thu, 01 Feb 2018 01:20:09 GMT):<br/>
when the chaincode is instantiated it gives you an opportunnuty to store some state (typically some metadata)
</p>
<p><strong>muralisr</strong> (Thu, 01 Feb 2018 01:20:44 GMT):<br/>
so for your purpose you can just return success from Init without doing anything 
</p>
<p><strong>guoger</strong> (Thu, 01 Feb 2018 01:21:33 GMT):<br/>
yeah, that's what I have for now
</p>
<p><strong>muralisr</strong> (Thu, 01 Feb 2018 01:21:53 GMT):<br/>
ok
</p>
<p><strong>guoger</strong> (Thu, 01 Feb 2018 01:21:55 GMT):<br/>
thx!
</p>
<p><strong>muralisr</strong> (Thu, 01 Feb 2018 01:22:05 GMT):<br/>
anytime
</p>
<p><strong>guoger</strong> (Thu, 01 Feb 2018 01:23:00 GMT):<br/>
I pushed my draft patches out, starting from https://gerrit.hyperledger.org/r/#/c/17323/
</p>
<p><strong>guoger</strong> (Thu, 01 Feb 2018 01:23:36 GMT):<br/>
I haven't put you into reviewer list yet cuz I don't want to spam you with all email notification
</p>
<p><strong>guoger</strong> (Thu, 01 Feb 2018 01:24:23 GMT):<br/>
if you have some time, you are very welcome to comment on those :)
</p>
<p><strong>sheehan</strong> (Thu, 01 Feb 2018 01:39:56 GMT):<br/>
Ethereum contracts can have constructors. Is that somehow handled outside of `Init` in Fabric?
</p>
<p><strong>vchengsong</strong> (Thu, 01 Feb 2018 03:51:47 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Thu, 01 Feb 2018 04:17:12 GMT):<br/>
@sheehan hi, thx for feedback! IIUC, constructors in ethereum contract, e.g. solidity, are called every time when it's loaded into an EVM (this is handled by burrow-evm). `init` in Fabric, on the other hand, is an one-time initialization. So I think the statement is correct
>  Is that somehow handled outside of `Init` in Fabric?
</p>
<p><strong>guoger</strong> (Fri, 02 Feb 2018 05:02:41 GMT):<br/>
@muralisr thanks for reviewing the patch! Without an extra field in CLI (and SDK), we will need to lookup _chaincode type_ in `lscc` for *every* invocation, incl. non-evm ones. I felt this is not very organic. What do you think?
> We should not introduce a lang parameter to invoke/query just for doing an under the cover translation for EVM. Better be transparent and make users call "evmscc" directly and take the appropriate parameters directly as invoke args.
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 14:33:15 GMT):<br/>
@guoger let me take a closer look and make sure I wasnt overlooking anything and then respond
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 14:59:07 GMT):<br/>
        ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ cert.pem
The way I understand it, you want to do something like
`peer chaincode invoke -n mycc -l EVM -c '{"Args":["some", "args", "to", "the cc"]}'`
which will internally convert it to call "evmcc" with args {"Args":["mycc", "some", "args", "to", "the cc"]}
I'd just ask users to do this instead
`peer chaincode invoke -n evmscc -c '{"Args":["mycc", "some", "args", "to", "the cc"]}'

Perhaps I'm missing something @guoger ?
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 14:59:07 GMT):<br/>
        ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ cert.pem
The way I understand it, you want to do something like
`peer chaincode invoke -n mycc -l EVM -c '{"Args":["some", "args", "to", "the cc"]}'`
which will internally convert it to call "evmcc" with args {"Args":["mycc", "some", "args", "to", "the cc"]}
I'd just ask users to do this instead
`peer chaincode invoke -n evmscc -c '{"Args":["mycc", "some", "args", "to", "the cc"]}'`

Perhaps I'm missing something @guoger ?
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 14:59:07 GMT):<br/>
The way I understand it, you want to do something like
`peer chaincode invoke -n mycc -l EVM -c '{"Args":["some", "args", "to", "the cc"]}'`
which will internally convert it to call "evmcc" with args {"Args":["mycc", "some", "args", "to", "the cc"]}
I'd just ask users to do this instead
`peer chaincode invoke -n evmscc -c '{"Args":["mycc", "some", "args", "to", "the cc"]}'`

Perhaps I'm missing something @guoger ?
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 14:59:07 GMT):<br/>
The way I understand it, you want to do something like
`peer chaincode invoke -n mycc -l EVM -c '{"Args":["some", "args", "to", "the cc"]}'`
which will internally convert it to call "evmscc" with args {"Args":["mycc", "some", "args", "to", "the cc"]}
I'd just ask users to do this instead
`peer chaincode invoke -n evmscc -c '{"Args":["mycc", "some", "args", "to", "the cc"]}'`

Perhaps I'm missing something @guoger ?
</p>
<p><strong>swetha</strong> (Fri, 02 Feb 2018 17:56:28 GMT):<br/>
@muralisr: I think what Jay mentioned above was to be able to do something like this:
`peer chaincode invoke -n mycc -c '{"Args":["some", "args", "to", "the cc"]}'` where `mycc` is of type EVM bytecode
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:57:26 GMT):<br/>
@swetha right, I understand... to make sure I;m not off my mark, would you agree `peer chaincode invoke -n evmscc -c '{"Args":["mycc", "some", "args", "to", "the cc"]}'` will work ?
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:57:34 GMT):<br/>
or don't you think it won;t even work ?
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:57:34 GMT):<br/>
or do you think it won;t even work ?
</p>
<p><strong>swetha</strong> (Fri, 02 Feb 2018 17:58:30 GMT):<br/>
I think that is a possible solution. I am considering on how that changes the user experience compared to a non evm chaincode
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:58:37 GMT):<br/>
right
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:58:38 GMT):<br/>
ok
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:58:42 GMT):<br/>
we are on the same page then
</p>
<p><strong>swetha</strong> (Fri, 02 Feb 2018 17:59:03 GMT):<br/>
We can definitely make the `evmscc` chaincode invoke function operate in that way
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:59:16 GMT):<br/>
currently we do have many situations where we call system chaincodes directly
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 17:59:23 GMT):<br/>
typically "qscc"
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 18:00:31 GMT):<br/>
a user csan just wrap `peer chaincode invoke -n evmscc -c '{"Args":["mycc", "some", "args", "to", "the cc"]}'` in a shellscript or something (evminvoke.sh) and hide the `evmscc`
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 18:01:08 GMT):<br/>
we should avoid special casing and wrapping and start a precedent
</p>
<p><strong>swetha</strong> (Fri, 02 Feb 2018 18:07:09 GMT):<br/>
Doesn't this also act as a special case though? In all the other chaincodes you are directly calling the chaincode you wish to use. So a user would have to remember that `evm` bytecode  is different. I don't think it is the same situation as using the `qscc` because that is meant for users to invoke when querying the ledger. Saying all of that, I do prefer a solution where we don't add a language flag. just not sure that directly sending calls to the `evmscc` is a better approach.
</p>
<p><strong>swetha</strong> (Fri, 02 Feb 2018 18:08:46 GMT):<br/>
But for now, at least initially, I am okay with users have to directly call `evmscc`. We can always change that in the future. We don't get that ability if we add the language flag. It would not be as easy to remove
</p>
<p><strong>swetha</strong> (Fri, 02 Feb 2018 18:08:46 GMT):<br/>
But for now, I am okay with users have to directly call `evmscc`. We can always change that in the future. We don't get that ability if we add the language flag. It would not be as easy to remove
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 18:41:40 GMT):<br/>
I don't thnk of it as "special case" ... it may be a question of semantics. we can think of the evmscc VM _as_ the chaincode and it manages some code ("mycc") 
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 18:41:40 GMT):<br/>
I don't thnk of it as "special case" ... it may be a question of semantics. we can think of the evmscc _as_ the chaincode and it manages some code ("mycc") 
</p>
<p><strong>muralisr</strong> (Fri, 02 Feb 2018 18:42:00 GMT):<br/>
but sure, we can revisit later
</p>
<p><strong>guoger</strong> (Sun, 04 Feb 2018 13:07:28 GMT):<br/>
Sorry for late response... I'm more inclined to be as close to Fabric semantics as possible, where
> user installs a chaincode `mycc`, and then invokes it
instead of
> user installs a chaincode `mycc`, keep track of the type of it, and look it up when it makes a chaincode invocation.

From a pure Ehereum DApp point of view, we could always translate *all* the invocations to `emvscc` calls in web3 adapter. However, if user may install all different type of chaincode, then it's an overhead for user
</p>
<p><strong>guoger</strong> (Sun, 04 Feb 2018 13:07:32 GMT):<br/>
cc @muralisr @swetha 
</p>
<p><strong>guoger</strong> (Sun, 04 Feb 2018 13:07:32 GMT):<br/>
what do you think? cc @muralisr @swetha 
</p>
<p><strong>muralisr</strong> (Sun, 04 Feb 2018 13:28:22 GMT):<br/>
@guoger in the original spirit of not modifying fabric (and adding evm specific code to CLI falls into that category) I'd say lets not do that for now. as @swetha points out, easy enough to add it later if that;s the right thing to do but hard to remove once its in
</p>
<p><strong>muralisr</strong> (Sun, 04 Feb 2018 13:44:54 GMT):<br/>
as long as we keep changes only to the EVM platfrom and evmscc and rest of the fabric untouched...
</p>
<p><strong>guoger</strong> (Sun, 04 Feb 2018 14:29:30 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=kdgkHdoSKXjzZPP3B) @muralisr had a very brief discussion with @muralisr , for our first MVP (let's call it phase 1), we probably should keep Fabric code as untouched as possible, even though it may twist developer experience a bit, i.e. user needs to keep track of types of installed chaincode, and for `evm` chaincode, it needs to explicitly call `evm`
</p>
<p><strong>guoger</strong> (Sun, 04 Feb 2018 14:29:59 GMT):<br/>
cc @swetha 
</p>
<p><strong>muralisr</strong> (Sun, 04 Feb 2018 15:39:55 GMT):<br/>
@guoger `user needs to keep track of types of installed chaincode` - user does not need the `type of chaincode` (golang, java, etc) at the the time of invoke/query as you are just passing args to the running chaincode. ... unless you are thinkibg of something else which I;m missing. In any case, this does seem to be a good compromise for now
</p>
<p><strong>swetha</strong> (Sun, 04 Feb 2018 20:28:34 GMT):<br/>
@muralisr, the user will have to keep track that for evm chaincodes calls must go to the `evmscc` and the chaincode. So user doesn't have to worry about all other types, just `evm` type
</p>
<p><strong>guoger</strong> (Mon, 05 Feb 2018 01:33:38 GMT):<br/>
@muralisr  yup, users need to at least keep track of evm chaincodes so that they know when to call `evmscc` directly. (obviously for those who use Fabric to run evm code *only*, it's not necessary)
</p>
<p><strong>guoger</strong> (Mon, 05 Feb 2018 02:43:05 GMT):<br/>
also [https://github.com/guoger/fabric/blob/FAB-6590-evm/core/endorser/endorser.go#L156|this part] is quite necessary because we need to *avoid launching evm chaincode*, and dispatch this into `evmscc` instead
</p>
<p><strong>guoger</strong> (Mon, 05 Feb 2018 02:43:05 GMT):<br/>
also [this part|https://github.com/guoger/fabric/blob/FAB-6590-evm/core/endorser/endorser.go#L156] is quite necessary because we need to *avoid launching evm chaincode*, and dispatch this into `evmscc` instead
</p>
<p><strong>guoger</strong> (Mon, 05 Feb 2018 02:43:05 GMT):<br/>
also [this part](https://github.com/guoger/fabric/blob/FAB-6590-evm/core/endorser/endorser.go#L156) is quite necessary because we need to *avoid launching evm chaincode*, and dispatch this into `evmscc` instead
</p>
<p><strong>guoger</strong> (Mon, 05 Feb 2018 09:08:11 GMT):<br/>
We thought about storing evm bytecode into ledger so `evmscc` doesn't need to consult `lscc` for the bytecode for every invocation. However, this doesn't work:
- during instantiation, `lscc` writes `ChaincodeData` with name `mycc`
- `evmscc` writes bytecode to ledger under namespace `evmscc`
- during validation, [this check](https://github.com/hyperledger/fabric/blob/master/core/scc/vscc/validator_onevalidsignature.go#L432) would fail
We probably have 3 options here:
- if it's evm chaincode, use _evmscc_ as `ChaincodeData.Name` instead of _mycc_. (very hacky)
- during invocation, check if bytecode exists in `evmscc` ledger, if not, query `lscc` for bytecode and store it in ledger (cache bytecode)
- rollback to what we had for PoC, where `evmscc` consults `lscc` for every invocation (overhead, but works)
</p>
<p><strong>guoger</strong> (Mon, 05 Feb 2018 09:08:56 GMT):<br/>
I'm more inclined towards the third, and mark the second as future improvement
</p>
<p><strong>guoger</strong> (Mon, 05 Feb 2018 09:09:20 GMT):<br/>
cc @swetha 
</p>
<p><strong>swetha</strong> (Mon, 05 Feb 2018 19:00:57 GMT):<br/>
@guoger: I agree with you. Lets stick with 3 for now, and then we can improve to the  second option as a future improvement
</p>
<p><strong>guoger</strong> (Tue, 06 Feb 2018 08:46:17 GMT):<br/>
update the patch
</p>
<p><strong>guoger</strong> (Tue, 06 Feb 2018 08:46:17 GMT):<br/>
updated the patch
</p>
<p><strong>silasdavis</strong> (Wed, 07 Feb 2018 10:18:47 GMT):<br/>
@swetha @guoger @jtclark just to let you know I've had a stomach bug all night. I think there's a chance I'll rally by the time its our meeting, but just to give you a head's up I might not be able to make it
</p>
<p><strong>guoger</strong> (Wed, 07 Feb 2018 10:49:58 GMT):<br/>
@silasdavis no worries! take care! btw, if you have a quick answer to the question I posted in #burrow-contributors , I'd appreciate it :)
</p>
<p><strong>jtclark</strong> (Wed, 07 Feb 2018 12:56:17 GMT):<br/>
@silasdavis yes, please feel better :-)
</p>
<p><strong>silasdavis</strong> (Wed, 07 Feb 2018 14:21:12 GMT):<br/>
Thanks all I just woke up - feeling a little fuzzy - but I'd like to go ahead with the call just to get things rolling @guoger I'll take a look at that later my PM
</p>
<p><strong>swetha</strong> (Wed, 07 Feb 2018 15:23:54 GMT):<br/>
@silasdavis https://github.com/hyperledger/fabric-sdk-go/blob/master/api/apitxn/chclient/chclient.go#L66-L87
</p>
<p><strong>silasdavis</strong> (Wed, 07 Feb 2018 15:24:55 GMT):<br/>
Some EVM info: https://github.com/pirapira/awesome-ethereum-virtual-machine
</p>
<p><strong>silasdavis</strong> (Wed, 07 Feb 2018 15:30:34 GMT):<br/>
Solidity/EVM compatibility issue we are working through: https://github.com/hyperledger/burrow/issues/674 
</p>
<p><strong>silasdavis</strong> (Wed, 07 Feb 2018 15:32:07 GMT):<br/>
Test cases: https://github.com/monax/bosmarmot/tree/master/monax/tests
</p>
<p><strong>silasdavis</strong> (Wed, 07 Feb 2018 15:35:49 GMT):<br/>
@jtclark https://github.com/monax/bosmarmot/tree/master/test 
</p>
<p><strong>rjones</strong> (Mon, 12 Feb 2018 20:06:28 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>eclairamb</strong> (Sat, 17 Feb 2018 17:59:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>yzhivkov</strong> (Sun, 25 Feb 2018 18:33:28 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kakuzu</strong> (Mon, 26 Feb 2018 20:10:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>wrannaman</strong> (Mon, 26 Feb 2018 21:04:32 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Tue, 27 Feb 2018 09:26:08 GMT):<br/>
I think we do need the concept of *accounts* for evm integration. Take the voting app here as an example: https://solidity.readthedocs.io/en/develop/solidity-by-example.html#voting
when chair person assigns the _right to vote_ to a voter, it actually looks up and update variables using voter's address as the key. And when that actual voter invokes `vote`, the contract checks `msg.sender` to retrieve caller's address, which is used to lookup the map. This can be depicted by following code snippet:
```
    struct Voter {
        uint weight; // weight is accumulated by delegation
        bool voted;  // if true, that person already voted
        address delegate; // person delegated to
        uint vote;   // index of the voted proposal
    }

    /// Give your vote (including votes delegated to you)
    /// to proposal `proposals[proposal].name`.
    function vote(uint proposal) public {
        Voter storage sender = voters[msg.sender];
        require(!sender.voted);
        sender.voted = true;
        sender.vote = proposal;

        // If `proposal` is out of the range of the array,
        // this will throw automatically and revert all
        // changes.
        proposals[proposal].voteCount += sender.weight;
    }
```

I synced up with @swetha today and noticed that to introduce token in Fabric, accounts are also required. In our current poc, we follow the pattern of burrow to *compute account address from public key*, which can be retrieved using `stub.GetCreator()`. I wonder where we could track the effort of token work, and align the design

cc @cbf @mastersingh24 @swetha 
</p>
<p><strong>mastersingh24</strong> (Tue, 27 Feb 2018 09:26:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Tue, 27 Feb 2018 12:26:53 GMT):<br/>
+1 I think that any token support would need an account. It seems to me to be fundamental in many use cases. 
</p>
<p><strong>silasdavis</strong> (Tue, 27 Feb 2018 13:25:11 GMT):<br/>
If the Ethereum world view is anything, it is account(/public key identity)-oriented programming... The `SENDER` and `ORIGIN` opcodes are the way the EVM exposes this. You can and do often build your own domain accounts on top - very often in the case of 'wallet' contracts, such as multisig wallets or just general purpose delegates that have more structure than the native account model (same flavour as @guoger's `Voter` example) - but you still end up tethering those to collections of native accounts since they are the signed source of transactions... I know this has come up before, but I've not fully understood how you are doing without accounts now...?
</p>
<p><strong>salmanbaset</strong> (Tue, 27 Feb 2018 13:59:08 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Tue, 27 Feb 2018 17:34:25 GMT):<br/>
@silasdavis,currently our poc we are limited in the types of contracts we can use. We create an address based on the user's public key, but there is no account associated with the address. Anything that refers back to users becomes a problem. So we are rethinking that piece now
</p>
<p><strong>chandrakanthm</strong> (Wed, 28 Feb 2018 09:54:12 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Thu, 01 Mar 2018 06:38:20 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=eeMyqrQQRJhxWqCn9) @cbf I wonder if there's an ongoing effort that we could join?
</p>
<p><strong>cbf</strong> (Thu, 01 Mar 2018 12:38:48 GMT):<br/>
none has been started, I would suggest a proposal be drafted to start the discussion
</p>
<p><strong>igetgames</strong> (Fri, 02 Mar 2018 17:41:53 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>wrannaman</strong> (Fri, 02 Mar 2018 22:29:16 GMT):<br/>
@guoger I'd be interested in helping draft that if you have some thoughts. Initially I was thinking of putting a spec together for a native token to fabric but it seems like the EVM integration has more momentum. 
</p>
<p><strong>swetha</strong> (Fri, 02 Mar 2018 23:22:42 GMT):<br/>
@wrannaman : That would be great! The EVM integration design doc is here: https://docs.google.com/document/d/1xZfdtFiIFvHI7UZAze2xbm5hhgaDHGRBMusozKfpOck/edit?usp=sharing
We were talking about starting another proposal doc specific to adding accounts to Fabric. I will send that to you once it is started. Probably early next week. Unless you already have something, we would love to work off of what you already have.
</p>
<p><strong>dave.enyeart</strong> (Tue, 06 Mar 2018 17:05:02 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Tue, 06 Mar 2018 18:12:41 GMT):<br/>
dave.enyeart
</p>
<p><strong>guoger</strong> (Thu, 08 Mar 2018 03:47:02 GMT):<br/>
@mastersingh24 I overheard that you guys are planning to change some of system chaincodes, e.g. `lscc` to be plugin. Is it being worked on? We have a problem while writing `evm chaincode` as system chaincode plugin, and I assume you guys would face the same:
- Both `fabric` and `fabric-cc` probably depend on a common pkg, let's say `pkgA`.
- `fabric-cc` sits in a different repo as `fabric`, you need to vendor `pkgA` for both of them.
- then you compile `fabric-cc` to .so lib, it wraps all the dependencies into it, including `pkgA`. 
- `fabric` loads `pkgA`
- `fabric` loads `fabric-cc.so`, which also loads `pkgA`, which is a new instance of it other than the one in previous step
Then we end up loading `pkgA` twice. In our case, we have this `golang.org/x/net/trace`, which registers to an endpoint `/Debug/requests`, and the second attempt would panic due to double-registration.
</p>
<p><strong>guoger</strong> (Thu, 08 Mar 2018 03:48:29 GMT):<br/>
I wonder how you guys plan to solve this problem? We are thinking we could have `fabric-cc` as a git submodule in `fabric` repo, so they would share the same `vendor`. However, this is still inconvenient cuz every time `fabric-cc` needs a new dependency, it needs to be vendored into `fabric`/vendor
</p>
<p><strong>guoger</strong> (Thu, 08 Mar 2018 03:48:36 GMT):<br/>
cc @swetha 
</p>
<p><strong>guoger</strong> (Thu, 08 Mar 2018 03:48:36 GMT):<br/>
cc @swetha @muralisr 
</p>
<p><strong>CodeReaper</strong> (Sun, 18 Mar 2018 17:26:20 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>robinrob</strong> (Mon, 19 Mar 2018 22:16:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ShikarSharma</strong> (Tue, 20 Mar 2018 22:43:04 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sharifahmad2061</strong> (Wed, 21 Mar 2018 17:39:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Sat, 31 Mar 2018 21:09:48 GMT):<br/>
@guoger @swetha I need to demo the fabric-evm code for an analyst briefing on Tuesday
</p>
<p><strong>cbf</strong> (Sat, 31 Mar 2018 21:09:48 GMT):<br/>
@guoger @swetha I'd like to demo the fabric-evm code for an analyst briefing on Tuesday
</p>
<p><strong>cbf</strong> (Sat, 31 Mar 2018 21:09:56 GMT):<br/>
is it in operational shape?
</p>
<p><strong>cbf</strong> (Sat, 31 Mar 2018 21:10:39 GMT):<br/>
I could edit the video down if needed, but doing other fabric and composer live so...
</p>
<p><strong>guoger</strong> (Mon, 02 Apr 2018 09:47:33 GMT):<br/>
@cbf yes, we have both `evm` and `web3` ready for a live demo. We will come up with a complete instruction for you today.
</p>
<p><strong>cbf</strong> (Mon, 02 Apr 2018 11:04:16 GMT):<br/>
you guys rock! ;-)
</p>
<p><strong>swetha</strong> (Tue, 03 Apr 2018 07:03:06 GMT):<br/>
@cbf: We ran into issues for showing `web3`. The most recent `web3` library has API changes, so we don't have those instructions ready yet. If you want to run an e2e test you use this: https://github.com/swetharepakula/fabric/tree/master/examples/first-network. If you want to demo using the peer cli you can follow these instructions: https://github.com/swetharepakula/fabric/blob/master/core/scc/evmscc/Instructions.md. 
cc/ @guoger 
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 11:17:13 GMT):<br/>
building now
</p>
<p><strong>guoger</strong> (Tue, 03 Apr 2018 11:26:05 GMT):<br/>
@cbf let me know if you run into problem
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 11:41:05 GMT):<br/>
I did, but I resolved;-)
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 11:42:05 GMT):<br/>
basically, I had old version of tools installed in my path (I need to fix that) and the byfn.sh path is incorrectly including ../bin but the build outputs to ../../.build/bin 
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 11:42:31 GMT):<br/>
secondly, using 1.1, you need an updated configtx.yaml that includes the capabilities section
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 11:42:39 GMT):<br/>
I'll submit a patch
</p>
<p><strong>guoger</strong> (Tue, 03 Apr 2018 12:02:08 GMT):<br/>
@cbf sounds good! We were actually using e2e_cli for testing purpose and had evmscc implemented as plugin (you could follow steps here https://github.com/guoger/fabric-chaincode-evm to build and run it). However, Swetha had some problems building it, so we decided to go down a safer path for your demo and have evmscc embedded into Fabric
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 13:15:42 GMT):<br/>
so, you guys are tracking the pluggable ESCC yes? assume that will be the vehicle to get this merged/operational
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 13:17:20 GMT):<br/>
https://jira.hyperledger.org/browse/FAB-8729?jql=description%20~%20chaincode%20AND%20statusCategory%20!%3D%20Done%20AND%20type%20!%3D%20Bug%20ORDER%20BY%20updated%20DESC
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 13:17:20 GMT):<br/>
https://jira.hyperledger.org/browse/FAB-8729
</p>
<p><strong>cbf</strong> (Tue, 03 Apr 2018 13:19:03 GMT):<br/>
yacov would have more details
</p>
<p><strong>guoger</strong> (Tue, 03 Apr 2018 14:21:44 GMT):<br/>
oh, we were aware of this work but didn't really know much details. Although we did talk to divyank who helped us with Golang plugin and caveats
</p>
<p><strong>Rumeel_Hussain</strong> (Tue, 03 Apr 2018 15:03:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 11:50:45 GMT):<br/>
that is the path to getting this into 1.2 @swetha @guoger 
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:11:08 GMT):<br/>
do me a favor and share with @yacovm the requirements you have for ESCC and VSCC to implement the pluggable EVMscc
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:11:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:11:44 GMT):<br/>
I have a recording of the next gen endorsement and validation
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:11:48 GMT):<br/>
and a presentation
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:11:50 GMT):<br/>
@guoger 
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:11:54 GMT):<br/>
eg what capabilities you need
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:12:01 GMT):<br/>
of the playback that was when I presented it
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:12:11 GMT):<br/>
@yacovm have you seen their current impl?
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:12:18 GMT):<br/>
I haven't seen anything
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:12:34 GMT):<br/>
also not sure who is "their"
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:12:50 GMT):<br/>
@guoger and @swetha https://chat.hyperledger.org/channel/fabric-evm?msg=uPoEAo4JNApLRZqDa
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:13:08 GMT):<br/>
also https://chat.hyperledger.org/channel/fabric-evm?msg=bmh3rd9378CJhymdJ
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:13:53 GMT):<br/>
hmmm, Chris - I'm a bit overloaded these days so I think it'd make sense that the EVM guys would read the design of the pluggable ESCC and VSCC
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:13:58 GMT):<br/>
and will contact me for issues
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:14:03 GMT):<br/>
does that make sense?
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:14:39 GMT):<br/>
they know better than I can hope to analyze their needs
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:14:54 GMT):<br/>
yes, I am not looking to have you do more... I am hoping that they can help you, so access to the spec would be ideal (I could not find it linked to the JIRA)https://jira.hyperledger.org/browse/FAB-8531
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:15:22 GMT):<br/>
i linked it to the epic
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:15:40 GMT):<br/>
oh wait
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:16:27 GMT):<br/>
ah, this is the problem with the 1.2 dashboard, epics are not included in the set of issues
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:16:30 GMT):<br/>
https://jira.hyperledger.org/browse/FAB-8729
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:17:35 GMT):<br/>
@cbf  https://jira.hyperledger.org/browse/FAB-8729
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:17:41 GMT):<br/>
i linked it to here ^ 
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:17:56 GMT):<br/>
i thought putting it on the epic makes most sense
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:19:09 GMT):<br/>
also @simsc said he will upload my recording to youtube.... 
</p>
<p><strong>simsc</strong> (Wed, 04 Apr 2018 12:19:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:19:17 GMT):<br/>
(any news on that btw? ;) )
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:30:00 GMT):<br/>
nope
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:30:58 GMT):<br/>
I have the recording as a file, I can send it to anyone who wants...
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:34:31 GMT):<br/>
@yacovm operations flow seems to suffer the same issues as chaincode
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:34:42 GMT):<br/>
nope
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:34:53 GMT):<br/>
it compiles the stuff when you install it
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:34:57 GMT):<br/>
not when you load it !
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:35:02 GMT):<br/>
installing the plugin on each peer
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:35:09 GMT):<br/>
oh, that?
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:35:15 GMT):<br/>
it is a hard requirement for me
</p>
<p><strong>cbf</strong> (Wed, 04 Apr 2018 12:35:15 GMT):<br/>
yes
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:35:20 GMT):<br/>
I have nothing to do against that
</p>
<p><strong>yacovm</strong> (Wed, 04 Apr 2018 12:35:25 GMT):<br/>
we can discuss it offline
</p>
<p><strong>victer</strong> (Fri, 13 Apr 2018 11:54:26 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Rednish</strong> (Tue, 17 Apr 2018 19:29:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>navaneethaa</strong> (Wed, 18 Apr 2018 10:47:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Titret</strong> (Thu, 19 Apr 2018 00:53:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>hosemose</strong> (Tue, 24 Apr 2018 04:58:53 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Tue, 24 Apr 2018 16:52:52 GMT):<br/>
review chain starts from https://gerrit.hyperledger.org/r/#/c/18667/
</p>
<p><strong>guoger</strong> (Tue, 24 Apr 2018 16:53:19 GMT):<br/>
@swetha feel free to push your cache changes into it
</p>
<p><strong>guoger</strong> (Tue, 24 Apr 2018 16:53:36 GMT):<br/>
and let's kickoff review process
</p>
<p><strong>cbf</strong> (Tue, 24 Apr 2018 20:05:53 GMT):<br/>
might be easier to separate the vendored gorp from our code in separate CRs
</p>
<p><strong>cbf</strong> (Tue, 24 Apr 2018 20:06:06 GMT):<br/>
vendor stuff first
</p>
<p><strong>cbf</strong> (Tue, 24 Apr 2018 20:07:06 GMT):<br/>
also, we probably should align with use of dep
</p>
<p><strong>cbf</strong> (Tue, 24 Apr 2018 20:07:06 GMT):<br/>
also, we probably should align with use of dep
</p>
<p><strong>cbf</strong> (Tue, 24 Apr 2018 20:07:51 GMT):<br/>
nevermind... I see you are
</p>
<p><strong>cbf</strong> (Tue, 24 Apr 2018 23:42:47 GMT):<br/>
I have some makefile additions once you've addressed my comments
</p>
<p><strong>cbf</strong> (Wed, 25 Apr 2018 11:54:12 GMT):<br/>
I piled on your makefile CR https://gerrit.hyperledger.org/r/c/20995/
</p>
<p><strong>cbf</strong> (Wed, 25 Apr 2018 11:54:16 GMT):<br/>
added linters
</p>
<p><strong>cbf</strong> (Wed, 25 Apr 2018 18:04:49 GMT):<br/>
@guoger thanks for the review, addressed comments https://gerrit.hyperledger.org/r/c/20995/
</p>
<p><strong>guoger</strong> (Thu, 26 Apr 2018 07:23:49 GMT):<br/>
@cbf @swetha rebased remaining patches and i think they are good to go
</p>
<p><strong>cbf</strong> (Thu, 26 Apr 2018 11:00:04 GMT):<br/>
@guoger https://gerrit.hyperledger.org/r/c/20961/6 is a "draft" and while it has all votes, cannot be merged
</p>
<p><strong>cbf</strong> (Thu, 26 Apr 2018 11:01:38 GMT):<br/>
https://gerrit.hyperledger.org/r/c/20963/ needs to be rebased
</p>
<p><strong>cbf</strong> (Thu, 26 Apr 2018 11:02:32 GMT):<br/>
I'll need to rebase mine on yours
</p>
<p><strong>guoger</strong> (Thu, 26 Apr 2018 12:35:25 GMT):<br/>
@cbf rebased
</p>
<p><strong>cbf</strong> (Thu, 26 Apr 2018 13:08:48 GMT):<br/>
I rebased again;-)
</p>
<p><strong>cbf</strong> (Thu, 26 Apr 2018 13:08:56 GMT):<br/>
ready to merge
</p>
<p><strong>cbf</strong> (Thu, 26 Apr 2018 13:10:02 GMT):<br/>
@guoger this is also ready for another +2
</p>
<p><strong>cbf</strong> (Thu, 26 Apr 2018 13:11:28 GMT):<br/>
this one is also ready now https://gerrit.hyperledger.org/r/c/20965
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 13:30:44 GMT):<br/>
I trust we are good for the review with design this morning?
</p>
<p><strong>guoger</strong> (Fri, 27 Apr 2018 13:34:47 GMT):<br/>
yup
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 13:38:26 GMT):<br/>
gr8
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 13:39:05 GMT):<br/>
btw, Marie Wieck wants a demo;-)
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 15:22:11 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 15:35:21 GMT):<br/>
so this works with vanilla solidity code?  You don't have to code against the chaincode interface? 
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 15:36:29 GMT):<br/>
It looks like the State Writer module of the evmscc handles the conversion... is that correct? 
</p>
<p><strong>guoger</strong> (Fri, 27 Apr 2018 15:51:01 GMT):<br/>
@nickgaski we currently supports 0.4.x, and you would be writing pure Solidity code.
</p>
<p><strong>chainsaw</strong> (Fri, 27 Apr 2018 15:51:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Fri, 27 Apr 2018 15:51:38 GMT):<br/>
State Writer piece is converting calls from Burrow EVM to Fabric cc apis
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 15:54:08 GMT):<br/>
thanks Jay.  So in theory, could a single web3 application interface with the evmscc for state information on a Fabric channel and then proxy data to a deployed contract on ethereum main net or private chain?
</p>
<p><strong>guoger</strong> (Fri, 27 Apr 2018 16:23:55 GMT):<br/>
@nickgaski in theory yes. but the data would be bridged externally from fabric to others
</p>
<p><strong>guoger</strong> (Fri, 27 Apr 2018 16:24:46 GMT):<br/>
meaning two networks are still "isolated"
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 16:30:44 GMT):<br/>
right right.  this is very cool work.  nicely done 
</p>
<p><strong>guoger</strong> (Fri, 27 Apr 2018 16:34:23 GMT):<br/>
thx!
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:16:56 GMT):<br/>
@nickgaski we are working on a web3 proxy server as well which translates web3 calls to go-sdk calls
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 19:21:53 GMT):<br/>
oh that's awesome.  so you could set a `web3.provider` against a Fabric node.  
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 19:22:46 GMT):<br/>
@cbf - are there weekly or bi-weekly meetings for this? 
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:25:03 GMT):<br/>
nah, just this channel
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:25:28 GMT):<br/>
though I suppose @guoger and @swetha do hangouts a bit
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:25:48 GMT):<br/>
if you are interested in helping, glad to have it
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:26:24 GMT):<br/>
as for the web3.provider it would be to the proxy
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:26:40 GMT):<br/>
we are still debating best approach to handling the proxy
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:27:17 GMT):<br/>
initially, we think one account per proxy since it has the keys... we are exploring better options, too
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:28:16 GMT):<br/>
presently, we derive the ethereum acct from the user's certificate registered with msp
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:28:41 GMT):<br/>
@nickgaski ^^
</p>
<p><strong>nickgaski</strong> (Fri, 27 Apr 2018 19:34:33 GMT):<br/>
Thanks for the info Chris.  This is some really exciting development.  I'll continue pestering you guys on this channel and hopefully help out as I can.  
</p>
<p><strong>cbf</strong> (Fri, 27 Apr 2018 19:35:26 GMT):<br/>
we'd love feedback from consensys 
</p>
<p><strong>SjirNijssen</strong> (Tue, 01 May 2018 18:42:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Aswath8687</strong> (Tue, 01 May 2018 19:47:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>carlcraig</strong> (Tue, 01 May 2018 21:44:12 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>krisc 4</strong> (Wed, 02 May 2018 03:30:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kevin-s-wang</strong> (Thu, 03 May 2018 02:36:46 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>avlakshmy</strong> (Mon, 07 May 2018 12:49:31 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>avkrishnan</strong> (Tue, 08 May 2018 09:34:28 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Starseven</strong> (Tue, 08 May 2018 11:56:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>JohnH_Traede</strong> (Thu, 10 May 2018 04:43:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>versus</strong> (Mon, 14 May 2018 09:05:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>soc1024</strong> (Sat, 19 May 2018 23:08:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>soc1024</strong> (Sat, 19 May 2018 23:08:22 GMT):<br/>
hi
</p>
<p><strong>soc1024</strong> (Sat, 19 May 2018 23:18:49 GMT):<br/>
i'm writing some kind of multiparty cryptography application in Python, but I want to use fabric as the backend for a "broadcast" component of it
</p>
<p><strong>soc1024</strong> (Sat, 19 May 2018 23:19:27 GMT):<br/>
it's easiest for me to express what i want using Solidity and test it using ethereumjs-testrpc, and I'm hoping it can just run easily on top of fabric-em
</p>
<p><strong>soc1024</strong> (Sat, 19 May 2018 23:19:27 GMT):<br/>
it's easiest for me to express what i want using Solidity and test it using ethereumjs-testrpc, and I'm hoping it can just run easily on top of fabric-evm
</p>
<p><strong>soc1024</strong> (Sat, 19 May 2018 23:19:27 GMT):<br/>
it's easiest for me to express what i want using Solidity and test it using ethereumjs-testrpc and web3, and I'm hoping it can just run easily on top of fabric-evm too
</p>
<p><strong>MenterQuick</strong> (Sun, 20 May 2018 06:14:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Mon, 21 May 2018 01:43:45 GMT):<br/>
@soc1024 that's exactly the use case we'd like to address in this work. I would expect many hiccups though, as this work is still rudimentary, but we are more than happy to help you out!
</p>
<p><strong>soc1024</strong> (Mon, 21 May 2018 01:45:45 GMT):<br/>
@guoger is there a recommended way to run a fabric instance with the evm framework loaded, maybe a simple docker thing? i am looking at https://github.com/swetharepakula/fabric/tree/FAB-6590-poc but do not see the relevant docs or something obvious
</p>
<p><strong>soc1024</strong> (Mon, 21 May 2018 01:46:40 GMT):<br/>
and: cool, thanks!
</p>
<p><strong>guoger</strong> (Mon, 21 May 2018 03:03:59 GMT):<br/>
@soc1024 here's a peer image with evmscc embedded: `docker pull guoger/fabric-peer:evmscc-embedded`, with which you could launch a fabric network using docker-compose. that should give you a good starting point
</p>
<p><strong>guoger</strong> (Mon, 21 May 2018 04:26:40 GMT):<br/>
@jimthematrix hi Jim, saw your comment in JIRA and google doc, thanks a LOT!
- that design doc is a bit outdated comparing to our current implementation w.r.t contract deployment. we indeed inspect `to` field to identify a contract deploy tx.
- if we derive creator from org, instead of individual user, it does align with Fabric architecture. However it does not give a consistent experience to Eth developers. Again, we have not decided on this, and it may change when we finish the design of native accounts in Fabric. We are very much in need of help!
I'll update the design doc to be more consistent with our implementation, as more people may be interested in this work.
</p>
<p><strong>jimthematrix</strong> (Mon, 21 May 2018 04:26:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Mon, 21 May 2018 04:27:13 GMT):<br/>
also, this channel is where we discuss this integration, you are welcome to hang out here :)
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 12:56:58 GMT):<br/>
https://github.com/ConsenSys/Tokens <- contains some tests we might leverage
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 12:57:16 GMT):<br/>
another https://github.com/CryptoverseRocks/token-test-suite
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 12:57:29 GMT):<br/>
more https://github.com/OpenZeppelin/openzeppelin-solidity
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 13:03:00 GMT):<br/>
http://truffleframework.com/tutorials/building-dapps-for-quorum-private-enterprise-blockchains
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 14:49:11 GMT):<br/>
@swetha where is the code you use to derive an ethereum account id from our x509 certs?
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:17:00 GMT):<br/>
@cbf : https://github.com/hyperledger/fabric-chaincode-evm/blob/master/plugin/evmscc.go#L161-L178
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:17:18 GMT):<br/>
And that corresponds to the call `web3.eth.accounts`
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:41:52 GMT):<br/>
oh, interesting...
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:42:02 GMT):<br/>
ok, let me see if I understand correctly
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:43:06 GMT):<br/>
you have a call sent by a fabric account, that just sends the method 'account' and that returns the id string that is derived from the caller's certificate
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:43:15 GMT):<br/>
have I got that right?
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:44:44 GMT):<br/>
@swetha ^^
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:44:58 GMT):<br/>
Yes
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:45:33 GMT):<br/>
One thing we could do is repeat the code that we derive the account address in the proxy
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:45:49 GMT):<br/>
yes, I was thinking where we could leverage this
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:46:24 GMT):<br/>
the problem though is that if I have an ethereum wallet, it is going to sign with a different ec 
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:46:28 GMT):<br/>
Once we introduce accounts into fabric, there also may be a better place/way to derive the account address
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:46:59 GMT):<br/>
I guess we could go with a model that we don't support wallets
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:47:10 GMT):<br/>
my concern though is that that is what will be expected
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:48:47 GMT):<br/>
I think we need to investigate further what is involved to supporting wallets, specifically ethereum ones
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:58:16 GMT):<br/>
yes
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:58:39 GMT):<br/>
also... thinking that we might want to explore a grpc provider?
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:58:47 GMT):<br/>
https://github.com/ethereum/web3.js/blob/develop/lib/web3/httpprovider.js
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:59:02 GMT):<br/>
that might be a bit much
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:59:04 GMT):<br/>
not sure
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:59:15 GMT):<br/>
we don't need to be all things
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:59:24 GMT):<br/>
Currently we do have that http provider, that is what the Proxy is
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:59:32 GMT):<br/>
yes
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 16:59:34 GMT):<br/>
What we could do next is support IPC
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 16:59:38 GMT):<br/>
but, replacing that
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 17:01:21 GMT):<br/>
nah... would need all the support in the proxy itself and still needs certs
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 17:29:56 GMT):<br/>
we need to think though some use cases
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 17:30:50 GMT):<br/>
if I have an account on public ethereum network... do I interact with it on fabric? seems to me only if we actually want to interop between the two
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 17:30:58 GMT):<br/>
not sure we are ready for thet
</p>
<p><strong>cbf</strong> (Mon, 21 May 2018 17:30:58 GMT):<br/>
not sure we are ready for that
</p>
<p><strong>swetha</strong> (Mon, 21 May 2018 17:38:28 GMT):<br/>
I agree, I am not sure we want to do that. I don't see much gain for the user
</p>
<p><strong>guoger</strong> (Tue, 22 May 2018 01:36:35 GMT):<br/>
> if I have an account on public ethereum network... do I interact with it on fabric? seems to me only if we actually want to interop between the two
I'm thinking more of interconnecting two networks, e.g. Ethereum <=> Fabric, so the same transaction could be broadcasted to and processed by both network. Even better, if fabric could become the abstraction layer that glue multiple public network together.
</p>
<p><strong>guoger</strong> (Tue, 22 May 2018 01:37:34 GMT):<br/>
one obvious use case could be the exchange, which is kinda centralized today.
</p>
<p><strong>xixuejia</strong> (Tue, 22 May 2018 02:30:54 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 11:33:43 GMT):<br/>
yes
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 11:34:01 GMT):<br/>
this is what I meant by interop
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 13:14:18 GMT):<br/>
I just added new epic for the proxy service FAB-10273
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 13:15:12 GMT):<br/>
we need to build a development plan for that, but more importantly and urgently, we need to build a test plan for the plugin that includes running a broad range of solidity contracts and finding out what works and what doesn't
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 13:15:52 GMT):<br/>
because for 1.2, we will want to have a solid caveat on where we are so as not to leave people with unfulfilled expectations
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 14:14:34 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=JK5cCR7NJWivRtyYa) @guoger thanks Jay. where can I find more details on the native accounts design for Fabric?
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:45:22 GMT):<br/>
_waves_
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:46:28 GMT):<br/>
@jimthematrix we haven't got a design yet
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:46:53 GMT):<br/>
would love input... have been exploring a few relevant specs etc
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 14:48:29 GMT):<br/>
@cbf @guoger @swetha I read the code in the Swetha's repos and was getting the impression that it's trying to enable a "native" ethereum DApps developer experience by mocking (a subset of) the JSON-RPC APIs via the proxy server that one has to set up with the network config yaml. thinking back on Jay's response above whether the design should cater to a more "fabric-native" experience or "ethereum-native", my observation is that if we want to enable a truly ethereum native experience we would have to ask the developers to get unique certs for each ethereum accounts, and I think that can get really clunky (and scary) really quickly with all those certs to manage
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 14:49:11 GMT):<br/>
(ah ok got it, thanks Chris for clarifying that)
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:55:10 GMT):<br/>
@jimthematrix yeah, if you look above, we've been discussing this
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:56:59 GMT):<br/>
on the one hand, enabling one to use any existing ethereum account in fabric would be great... but it means we need to implement the bitcoin crypto in the msp for signing and validation
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 14:57:01 GMT):<br/>
I think until ethereum introduces org accounts, the current expectation is each transaction can be signed with any random key and it's up to the smart contract to enforce ACL with msg.sender. i wonder if a new MSP impl is in order to accommodate this kind of paradigm
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 14:57:33 GMT):<br/>
ha I think we are saying the same thing
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:57:49 GMT):<br/>
well, cannot be rando sig... was thinking we wanted it to be registered
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:58:38 GMT):<br/>
now, what we were also thinking (well, at least me) is that we could take the id of the account and register that, generating a fabric-specific certificate
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 14:58:39 GMT):<br/>
that can be difficult, with popular client side deterministic key derivation techniques like HD Wallet, each transaction can be signed with a different key
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:59:16 GMT):<br/>
yeah, different thing
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 14:59:26 GMT):<br/>
that's like our idemix
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 15:00:02 GMT):<br/>
"well, cannot be rando sig" - that's the main difference in how ethereum treats identities (until there's org identities) vs. fabric.
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 15:00:41 GMT):<br/>
in ethereum it's really any private key can send transactions and the nodes will happily take them and pass it on to the smart contracts to decide what to do with them
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 15:00:55 GMT):<br/>
even Quorum works the same way
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 15:05:07 GMT):<br/>
fabric could certainly enforce a more organized setup and require keys to be registered first, and issue certs for them, maybe through an authenticated fabric-ca client
</p>
<p><strong>jimthematrix</strong> (Tue, 22 May 2018 15:06:58 GMT):<br/>
"we need to implement the bitcoin crypto in the msp for signing and validation" - this would simply be validating that the signature matches the public key, there's no validating of the identity itself like with PKI certs in fabric today
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 15:24:39 GMT):<br/>
right, quorum is just permissioned vis who can run a node
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 15:24:46 GMT):<br/>
that really isn't full permissioning
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 15:25:00 GMT):<br/>
you cannot just hide behind a firewall
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 15:26:26 GMT):<br/>
right, so I was looking at using fabric-ca-client exactly 
</p>
<p><strong>ahmadzafar</strong> (Tue, 22 May 2018 16:25:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Tue, 22 May 2018 17:37:08 GMT):<br/>
@cbf @guoger @jimthematrix : Though this document is far from complete, Jay and I had started a proposal document to have single place to write down our thoughts: https://docs.google.com/document/d/1mrIgx-GLMRwMKbs04PoDPuqUUt56kpaz1o419sMfbe4/edit?usp=sharing
</p>
<p><strong>swetha</strong> (Tue, 22 May 2018 17:40:49 GMT):<br/>
There is not much design in there yet, more of why we wanted to introduce accounts
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 17:41:41 GMT):<br/>
;-)
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 17:42:00 GMT):<br/>
so, balances and storing the account... I think that needs to be in MVP
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 17:43:27 GMT):<br/>
I need to give more thought, but seems to me that any interest is going to be predicated on being able to run erc contracts
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 17:43:58 GMT):<br/>
thoughts?
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 17:45:50 GMT):<br/>
btw, one of the early adopters wants us to add gas back!
</p>
<p><strong>swetha</strong> (Tue, 22 May 2018 17:47:43 GMT):<br/>
Yes I do think being able to run erc contracts is important. It sounded like people were interested in that last week.
</p>
<p><strong>swetha</strong> (Tue, 22 May 2018 17:48:37 GMT):<br/>
Do they want gas back in the sense they want to configure how much gas per transaction or they want to give accounts a certain amount of gas at a time to rate limit the number of transactions they can run
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 18:00:38 GMT):<br/>
yes
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 18:00:41 GMT):<br/>
exactly
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 18:01:20 GMT):<br/>
I think that we can finagle that for 1.3 but it will be a requirement for one of our sponsor users
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 18:01:51 GMT):<br/>
my understanding is that the idea is that gas will be doled out
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 18:02:05 GMT):<br/>
so it can be used to rate-limit the system generally
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 18:03:14 GMT):<br/>
so, with regards to balances... I'm coming up to speed but it seems that token balances are maintained in the token contract's datastore
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 18:22:43 GMT):<br/>
https://github.com/bokkypoobah/Tokens#fixed-supply-token
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 19:02:03 GMT):<br/>
actually, I tried that one in remix and it has compile errors...
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 19:02:22 GMT):<br/>
still poking around for some samples we can use for testing
</p>
<p><strong>swetha</strong> (Tue, 22 May 2018 19:29:06 GMT):<br/>
We also learned at consensus that Ethereum is looking into combining EOAs and Contract Accounts so that there is only one type of account. Still searching for the actual proposal to see how that would affect us
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 19:38:47 GMT):<br/>
interesting
</p>
<p><strong>cbf</strong> (Tue, 22 May 2018 19:39:03 GMT):<br/>
I'm still trying to sort out where the eoa information is hosted
</p>
<p><strong>swetha</strong> (Tue, 22 May 2018 22:08:47 GMT):<br/>
the refactor has made it in release 0.18.0 of burrow :)
</p>
<p><strong>cbf</strong> (Wed, 23 May 2018 10:44:05 GMT):<br/>
yay
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 00:51:00 GMT):<br/>
https://github.com/christo4ferris/fixedtoken
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 00:51:19 GMT):<br/>
I deployed a simple fixed supply erc20 contract
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 00:51:46 GMT):<br/>
going to develop some tests to interact with it
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 00:52:27 GMT):<br/>
cbf$ node getAddr.js
Address: 44a5026393f2eab185922d69971e1398ae9bd424
Name: Example Fixed Supply Token
Owner: 0x613ac660a26a66a52eadc02cda9f6c7e7326e675
Balance: 1,000,000
Symbol: FIXED
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 01:20:25 GMT):<br/>
ok, will need to understand why I can query the balance but not transfer
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:24:33 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=fs38s7g4dvHRHK4mg) @cbf because we don't support it yet :( the `value` arg is hardcoded 0 when we call burrow evm. main reason is because we didn't implement `balance` api of account, mostly because we don't have account. 
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:26:54 GMT):<br/>
hmmm
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:27:18 GMT):<br/>
the contract manages state 
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:27:39 GMT):<br/>
this isn‚Äôt ether
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:27:46 GMT):<br/>
it is a token
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:32:09 GMT):<br/>
every time evmscc is invoked, we instantiate a brand new `callerAccount` using creator's public address, that is EOA data is not persisted
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:33:03 GMT):<br/>
i guess we could actually have a quick prototype to persist it into ledger, so we load the data from ledger to create `callerAcct`
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:33:15 GMT):<br/>
I am not using eoa data
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:33:24 GMT):<br/>
`balance` is part of eoa data
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:33:53 GMT):<br/>
```
type ConcreteAccount struct {
	Address     Address
	PublicKey   PublicKey
	Sequence    uint64
	Balance     uint64
	Code        Bytecode
	StorageRoot []byte
	Permissions ptypes.AccountPermissions
}
```
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:34:10 GMT):<br/>
here's what an account in burrow would contain
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:34:33 GMT):<br/>
will need to explore this more but that balance is ether if i understand
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:34:39 GMT):<br/>
yes
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:34:48 GMT):<br/>
nothing to do with my contract
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:35:08 GMT):<br/>
oh... you are creating erc20 token
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:35:13 GMT):<br/>
yes
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:35:14 GMT):<br/>
sorry, I misunderstood
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 02:36:30 GMT):<br/>
what error did you get?
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:49:11 GMT):<br/>
none... like I said, I need to look closer
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 02:49:31 GMT):<br/>
just that the orig balance is unchanged
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 11:15:37 GMT):<br/>
ah, interesting... so, the tokens are transferring to the other account but the contract does not seem to be deducting them from the contract balance
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 11:22:53 GMT):<br/>
I can successfully transfer balances to an account, and then from those accounts to/from eachother
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 11:22:53 GMT):<br/>
I can successfully transfer balances to an account, and then from those accounts to/from each other
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 13:03:03 GMT):<br/>
ok, just weird - redeployed and now managing the owner balance correctly
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 13:23:31 GMT):<br/>
ah, found what I messed up initially, the account of the owner is hard coded in the contract (sigh) and I didn't change originally... followed a different tutorial for essentially the same contract and set that correctly... now working as expected. What was weird is that it worked at all
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 14:10:32 GMT):<br/>
@cbf  are you trying this https://github.com/christo4ferris/fixedtoken/blob/master/tok.sol
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:14:14 GMT):<br/>
yes, have it working now
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:14:42 GMT):<br/>
I pushed a new contract etc
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:15:14 GMT):<br/>
@guoger ^^
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:15:36 GMT):<br/>
you can play around with getBalance.js with the deployed contract
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:16:15 GMT):<br/>
btw, have we pulled in the latest from burrow master (v0.18) for the plugin?
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 14:20:49 GMT):<br/>
not yet, it's using develop. I'm making the change now
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:34:37 GMT):<br/>
can you please add tasks (not subtasks) to the epic for the remaining steps... I would include any system and functional testing we need to add to test the plugin itself
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:35:04 GMT):<br/>
we definitely want the plugin itself solid for 1.2 (end of june)
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:35:23 GMT):<br/>
@guoger @swetha 
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:35:54 GMT):<br/>
as for the proxy, we should start work on a plan to harden and get the code into hyerledger
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 14:35:54 GMT):<br/>
as for the proxy, we should start work on a plan to harden and get the code into hyperledger
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 14:58:42 GMT):<br/>
As for the proxy, I am working on updating the proxy: https://github.com/swetharepakula/fabric-chaincode-evm/tree/update-proxy.
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 14:59:01 GMT):<br/>
I will take a look at what else we need for the plugin
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:26:26 GMT):<br/>
so we need to focus on the plugin for now
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:27:24 GMT):<br/>
I was looking at leveraging the fabric/integration "framework" (ginkgo) for testing the plugin
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:27:39 GMT):<br/>
but I also was not keen on a bunch of cut and paste
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:43:08 GMT):<br/>
@guoger digging deeper, I see that the plugin is still using a 1.1 base fabric
</p>
<p><strong>guoger</strong> (Thu, 24 May 2018 15:52:08 GMT):<br/>
i noticed that pluggable plugin is finished this week... will look into that
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:53:03 GMT):<br/>
yes
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:53:15 GMT):<br/>
so we need to strip out redundant packages
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:53:34 GMT):<br/>
where possible
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 15:54:27 GMT):<br/>
thinking logging 
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 16:00:10 GMT):<br/>
in fact, the only logging is debug and that can be removed
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 16:00:24 GMT):<br/>
reducing the need to import flogging
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 16:03:44 GMT):<br/>
that leaves the shim package and protos... protos are likely fine... as is the shim I think
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 17:31:43 GMT):<br/>
I'm thinking that instead of e2e_cli we could do a derivative of fabric/integration with a simple use case of one peer, solo orderer, proxy (when we merge something) and drive some transactions through a series of contracts as a test environment
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 18:11:13 GMT):<br/>
When you say leveraging ginkgo do you mean for the integration tests? The plugin is already using ginkgo
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 18:31:56 GMT):<br/>
yes, but the integration tests go further and deploy a couple peers, orderer etc without needing to build containers etc
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 18:44:27 GMT):<br/>
so it might be a ligter-weight e2e test
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 18:44:27 GMT):<br/>
so it might be a lighter-weight e2e test
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 18:46:28 GMT):<br/>
also, I think we have over-complicated the build
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 18:47:14 GMT):<br/>
we just need to compile the plugin, we don't (to my knowledge) need to build in a fabric environment
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 18:51:04 GMT):<br/>
eg I just manually compiled and then ran e2e
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 19:04:11 GMT):<br/>
Oh that is interesting. We had an issue that if we didn't build it in the fabric environment because of the static referencing we would have a problem with the shared libraries
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 19:05:23 GMT):<br/>
And in terms of removing dependencies, we are using the msp package is pulling in a lot of pieces of fabric, including logging,
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 20:12:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=6TXcEwJPq9oqy6SfE) @cbf Are these the tests? https://github.com/hyperledger/fabric/tree/master/integration
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 20:35:01 GMT):<br/>
yes
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 20:38:33 GMT):<br/>
@swetha can you please add SPDX header to Gopkg.toml in your CR
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 20:38:42 GMT):<br/>
not passing checks
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 20:40:20 GMT):<br/>
Adding it
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 20:41:48 GMT):<br/>
Added another patch with the SPDX header
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 20:43:26 GMT):<br/>
thx
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 20:45:49 GMT):<br/>
@swetha https://gerrit.hyperledger.org/r/c/22309/
</p>
<p><strong>jtclark</strong> (Thu, 24 May 2018 20:52:18 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 21:02:34 GMT):<br/>
I've got the logging
</p>
<p><strong>swetha</strong> (Thu, 24 May 2018 21:06:05 GMT):<br/>
I am looking into the integration tests. I will create a task for that oo
</p>
<p><strong>cbf</strong> (Thu, 24 May 2018 21:12:05 GMT):<br/>
think I'll create a sample app out of the simple contract
</p>
<p><strong>guoger</strong> (Fri, 25 May 2018 03:06:47 GMT):<br/>
looking at https://gerrit.hyperledger.org/r/#/c/22311/1, how do we do logging for `evmscc` then?
</p>
<p><strong>guoger</strong> (Fri, 25 May 2018 03:07:43 GMT):<br/>
i was thinking to have `evmscc` emit logs under name `evmscc`, and `evm` should be under `evmscc/evm`
</p>
<p><strong>guoger</strong> (Fri, 25 May 2018 03:08:07 GMT):<br/>
(`evm` logs are super verbose)
</p>
<p><strong>guoger</strong> (Fri, 25 May 2018 03:26:28 GMT):<br/>
also, why don't we have `hyperledger/fabric-baseimage:x86_64-0.4.8` in docker repo? I only see amd64, s390x and ppc64le...
</p>
<p><strong>cbf</strong> (Fri, 25 May 2018 09:52:51 GMT):<br/>
amd64 is the new x86_64
</p>
<p><strong>guoger</strong> (Fri, 25 May 2018 10:35:56 GMT):<br/>
right...
</p>
<p><strong>cbf</strong> (Fri, 25 May 2018 10:53:01 GMT):<br/>
https://jira.hyperledger.org/browse/FAB-10385
</p>
<p><strong>guoger</strong> (Fri, 25 May 2018 16:40:02 GMT):<br/>
@cbf reply https://gerrit.hyperledger.org/r/#/c/22311/
> those debug statements were not very useful, what logging do you think we need?
I'm more inclined to keep the logger here cuz:
- increase verbosity
- evm logs can be redirected to it. it's currently no-op logger
</p>
<p><strong>cbf</strong> (Fri, 25 May 2018 16:42:48 GMT):<br/>
hmmm
</p>
<p><strong>cbf</strong> (Fri, 25 May 2018 16:43:52 GMT):<br/>
ok 
</p>
<p><strong>cbf</strong> (Fri, 25 May 2018 19:59:04 GMT):<br/>
added a docker image build step and simplified the build
</p>
<p><strong>cbf</strong> (Fri, 25 May 2018 19:59:38 GMT):<br/>
also abandoned the logger CR
</p>
<p><strong>swetha</strong> (Fri, 25 May 2018 21:48:28 GMT):<br/>
I am taking a look at the simplified build process CR
</p>
<p><strong>cbf</strong> (Fri, 25 May 2018 23:20:58 GMT):<br/>
thx
</p>
<p><strong>swetha</strong> (Fri, 25 May 2018 23:46:52 GMT):<br/>
I am not able to build an image that works with the e2e example with the new dockerfile. Have not figured out what the error is quite yet. I am still digging into it
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 00:03:31 GMT):<br/>
hmmm...
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 01:23:17 GMT):<br/>
replied in CR
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 01:47:45 GMT):<br/>
well, the build part I messed up... but now is not loading plugin at all
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 01:48:50 GMT):<br/>
I have multi-stage build correctly building linux image
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 01:49:08 GMT):<br/>
but AFAICT the plugin logic is not being executed
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 01:54:11 GMT):<br/>
hmmm... I think that the latest tag is b0rking me;-) 
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 02:00:48 GMT):<br/>
are you building plugin on your mac?
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:09:35 GMT):<br/>
oh ffs, there's a gotag needed in the peer build
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:09:51 GMT):<br/>
no in a multi-stage build
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:15:04 GMT):<br/>
got it
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:34:28 GMT):<br/>
well, almost
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:40:44 GMT):<br/>
sigh
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:49:51 GMT):<br/>
I'm going yo have to discuss with yacov
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:50:01 GMT):<br/>
it doesn't appear to be working correctly
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:50:24 GMT):<br/>
I had to compile the peer specially to add 'pluginsenabled' tag
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 02:50:41 GMT):<br/>
now it finds the plugin but panics immediately
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:03:59 GMT):<br/>
https://gist.github.com/christo4ferris/563090c5b673f364e646776b4ab28d1e
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:07:08 GMT):<br/>
I pushed another changeset with multistage build that I believe should work
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:07:45 GMT):<br/>
you also need to rebuild the fabric-peer image with GO_TAGS += pluginsenabled nopkcs11
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:08:06 GMT):<br/>
so that it enables the plugin feature and omits all the pkcs11 baggage
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:08:31 GMT):<br/>
I'm beat... will check with Yacov tomorrow
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:27:07 GMT):<br/>
`GO_TAGS=pluginsenabled EXPERIMENTAL=false DOCKER_DYNAMIC_LINK=true make peer-docker`
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:27:24 GMT):<br/>
this is how I build peer today, and we need to install `libltdl-dev` in peer
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:27:44 GMT):<br/>
so dockerfile for peer is also slightly modified
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:28:20 GMT):<br/>
I tried installing libtdl-dev when I built our image
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:28:30 GMT):<br/>
that resulted in a bigger mess
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:28:56 GMT):<br/>
DOCKER_DYNAMIC hmmm
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:29:47 GMT):<br/>
yea....
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:30:26 GMT):<br/>
and I suspect you'll hit another problem because you ought to build plugin *with* peer code, otherwise symbol resolution doesn't work. that's why we had this "weird" build process today
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:30:52 GMT):<br/>
symbol resolution should work
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:39:47 GMT):<br/>
interesting new stack trace
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:39:49 GMT):<br/>
goroutine 1 [running]:
net/http.(*ServeMux).Handle(0x1d64f60, 0x7f7ca55921a2, 0xf, 0x1551100, 0x7f7ca5c711a8)
	/opt/go/src/net/http/server.go:2353 +0x243
net/http.(*ServeMux).HandleFunc(0x1d64f60, 0x7f7ca55921a2, 0xf, 0x7f7ca5c711a8)
	/opt/go/src/net/http/server.go:2368 +0x57
net/http.HandleFunc(0x7f7ca55921a2, 0xf, 0x7f7ca5c711a8)
	/opt/go/src/net/http/server.go:2380 +0x50
github.com/hyperledger/fabric-chaincode-evm/vendor/golang.org/x/net/trace.init.0()
	/opt/gopath/src/github.com/hyperledger/fabric-chaincode-evm/vendor/golang.org/x/net/trace/trace.go:115 +0x44
plugin.open(0xc42023c2e0, 0xf, 0xc420202b60, 0x0, 0x0)
	/opt/go/src/plugin/plugin_dlopen.go:113 +0xb21
plugin.Open(0xc42023c2e0, 0x12, 0x1569320, 0xc420202b60, 0x0)
	/opt/go/src/plugin/plugin.go:32 +0x35
github.com/hyperledger/fabric/core/scc.loadPlugin(0xc42023c2e0, 0x12, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:70 +0x175
github.com/hyperledger/fabric/core/scc.loadSysCCsWithConfig(0xc4200b4370, 0x1, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:51 +0xa6
github.com/hyperledger/fabric/core/scc.loadSysCCs.func1()
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:44 +0x97
sync.(*Once).Do(0x1d83808, 0x14cc720)
	/opt/go/src/sync/once.go:44 +0xbe
github.com/hyperledger/fabric/core/scc.loadSysCCs(0xc4204360a0, 0xc4200b4338, 0xc4204360a0, 0x154dd20)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:38 +0x39
github.com/hyperledger/fabric/core/scc.CreateSysCCs(0x15665a0, 0xc4200b4338, 0xc4204360a0, 0x154dd20, 0xc420487aa0, 0x263, 0x3c0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/register_pluginsenabled.go:20 +0x98
github.com/hyperledger/fabric/peer/node.registerChaincodeSupport(0xc420180bd0, 0xc42003809b, 0x1b, 0x155f3a0, 0xc4200b4270, 0x154dd20, 0xc420487aa0, 0x0, 0x0, 0x12cdf20, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:631 +0x5df
github.com/hyperledger/fabric/peer/node.serve(0x1d83720, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:231 +0xaf8
github.com/hyperledger/fabric/peer/node.glob..func1(0x1c7ccc0, 0x1d83720, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:111 +0x9c
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x1c7ccc0, 0x1d83720, 0x0, 0x0, 0x1c7ccc0, 0x1d83720)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x46d
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x1c7d320, 0x1d65c30, 0xf, 0x2)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x2e4
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x1c7d320, 0x2, 0xffffffffffffffff)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x2b
main.main()
	/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:97 +0x5bf
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:40:37 GMT):<br/>
open calls init on all 
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:41:59 GMT):<br/>
getting closer
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:43:12 GMT):<br/>
pushed another patchset
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:43:17 GMT):<br/>
heading to bed
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:44:48 GMT):<br/>
this is the symbol resolution thing...
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:45:18 GMT):<br/>
basically, plugin and peer rely on `net`, which should be loaded once
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:45:40 GMT):<br/>
although, they resolve to two different symbol, therefore this pkg is loaded twice
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:46:21 GMT):<br/>
they try to register to the same endpoint during `init`, resulting in panic for the second attempt
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 03:47:39 GMT):<br/>
do you see something like "endpoint already in use" before the stack?
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:54:24 GMT):<br/>
well this is a bug with pluggable then
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:55:03 GMT):<br/>
need to tease apart the shim dependencies
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:55:18 GMT):<br/>
they should be minimal
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 03:56:06 GMT):<br/>
literally, all we should need is the interface
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 04:17:09 GMT):<br/>
this is the discussion we had: https://chat.hyperledger.org/channel/fabric-orderer-dev?msg=pjqrayBr4TA5XHRs9
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 04:17:22 GMT):<br/>
so yes, it's a problem for all plugins
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 11:56:43 GMT):<br/>
sigh well, it might be easier to do the following 
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 11:57:08 GMT):<br/>
clone fabric
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 11:58:05 GMT):<br/>
copy fabric-chaincode-evm/plugin into fabric repo
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 11:58:26 GMT):<br/>
copy  fabric-chaincode-evm/statemanager into fabric repo
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 11:59:45 GMT):<br/>
sed the package path names
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 12:00:01 GMT):<br/>
run dep ensure to pick up missing dependencies
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 12:00:08 GMT):<br/>
build plugin
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 13:01:14 GMT):<br/>
that's essentially what `build.sh` does today. instead of copy statemanager to fabric repo, we are copying it to fabric/vendor, so we don't need to sed package path name
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 13:01:44 GMT):<br/>
but i would agree that making shim dependencies minimal is a better approach
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 13:03:39 GMT):<br/>
one more difference is that we are copying fabric to a temp folder, instead of cloning it. but i guess we ought to change it to clone a specific version of fabric
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:07:31 GMT):<br/>
I almost have it
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:07:45 GMT):<br/>
dealing with dep craziness
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:08:25 GMT):<br/>
although one could argue we could build fabric as we need it too
</p>
<p><strong>guoger</strong> (Sat, 26 May 2018 13:08:29 GMT):<br/>
yup, we stick with `govendor` instead of `dep`, because `dep` couldn't output what we wanted
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:08:54 GMT):<br/>
well dep is more precise
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:09:06 GMT):<br/>
which is both a curse and a blessing
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:11:42 GMT):<br/>
LMAO
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:11:46 GMT):<br/>
omg so close
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:12:12 GMT):<br/>
panic: Error opening plugin at path /opt/lib/evmscc.so: plugin.Open("/opt/lib/evmscc"): plugin was built with a different version of package github.com/hyperledger/fabric/idemix

</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:15:29 GMT):<br/>
so yeah, I think building the peer binary in the same stage as we build the plugin will be best
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:19:16 GMT):<br/>
2018-05-26 13:21:25.589 UTC [sccapi] loadSysCCsWithConfig -> INFO 00e Successfully loaded SCC evmscc from path /opt/lib/evmscc.so

</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:19:18 GMT):<br/>
YAY
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:19:25 GMT):<br/>
BUT, now escc missing
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:19:26 GMT):<br/>
weird
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 13:35:45 GMT):<br/>
BOOM!
</p>
<p><strong>cbf</strong> (Sat, 26 May 2018 14:03:15 GMT):<br/>
https://gerrit.hyperledger.org/r/22371
</p>
<p><strong>guoger</strong> (Mon, 28 May 2018 02:11:45 GMT):<br/>
do we have `fabric-buildenv` in docker hub?
</p>
<p><strong>guoger</strong> (Mon, 28 May 2018 02:11:51 GMT):<br/>
also,
```
Step 6/18 : RUN EXECUTABLES=go GO_TAGS=pluginsenabled EXPERIMENTAL=false DOCKER_DYNAMIC_LINK=true make peer
 ---> Running in 0a2a524f442e
.build/bin/peer
CGO_CFLAGS=" " GOBIN=/opt/gopath/src/github.com/hyperledger/fabric/.build/bin go install -tags "pluginsenabled" -ldflags "-X github.com/hyperledger/fabric/common/metadata.Version=1.2.0-snapshot-afdaeb3 -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.4.8 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.Experimental=false" github.com/hyperledger/fabric/peer
# github.com/hyperledger/fabric/common/crypto/tlsgen
common/crypto/tlsgen/key.go:36:20: undefined: x509.MarshalPKCS8PrivateKey
# github.com/hyperledger/fabric/vendor/github.com/docker/docker/pkg/archive
vendor/github.com/docker/docker/pkg/archive/archive.go:364:5: hdr.Format undefined (type *tar.Header has no field or method Format)
vendor/github.com/docker/docker/pkg/archive/archive.go:364:15: undefined: tar.FormatPAX
vendor/github.com/docker/docker/pkg/archive/archive.go:1166:7: hdr.Format undefined (type *tar.Header has no field or method Format)
vendor/github.com/docker/docker/pkg/archive/archive.go:1166:17: undefined: tar.FormatPAX
Makefile:256: recipe for target '.build/bin/peer' failed
make: *** [.build/bin/peer] Error 2
The command '/bin/sh -c EXECUTABLES=go GO_TAGS=pluginsenabled EXPERIMENTAL=false DOCKER_DYNAMIC_LINK=true make peer' returned a non-zero code: 2
make: *** [docker] Error 2
```
</p>
<p><strong>guoger</strong> (Mon, 28 May 2018 09:17:03 GMT):<br/>
@cbf commented on your CR. I propose following changes based on it: https://github.com/guoger/fabric-chaincode-evm/commit/6e08048ee64a00d7eb2e8891b78e807c29407f84
</p>
<p><strong>guoger</strong> (Mon, 28 May 2018 09:17:18 GMT):<br/>
verified locally
</p>
<p><strong>guoger</strong> (Mon, 28 May 2018 09:49:45 GMT):<br/>
except that `buildenv` image is built locally...
</p>
<p><strong>cbf</strong> (Mon, 28 May 2018 10:47:57 GMT):<br/>
yes, buildenv is local only... we could publish I suppose
</p>
<p><strong>cbf</strong> (Mon, 28 May 2018 10:48:47 GMT):<br/>
as for DEBUG v INFO, would be better IMO to set DEBUG locally for checkOSN... the debug in the logs is worthless noise 
</p>
<p><strong>cbf</strong> (Mon, 28 May 2018 18:27:58 GMT):<br/>
@guoger pushed another patchset addressing your comments
</p>
<p><strong>cbf</strong> (Mon, 28 May 2018 18:28:41 GMT):<br/>
once we get to 1.2, we can pull the dependent images and will be much less kludgy
</p>
<p><strong>cbf</strong> (Mon, 28 May 2018 18:29:03 GMT):<br/>
I'll work with ramesh to get the buildenv published - even if only to nexus
</p>
<p><strong>guoger</strong> (Tue, 29 May 2018 02:35:07 GMT):<br/>
@cbf I'm more inclined to keep `evmscc-linux` target, because:
- we still have the option to load `evmscc.so` into a locally built peer, for dev purpose. (building the whole fabric-peer-evm is just too expensive)
- you don't need to hardcode missing pkgs in Dockerfile (sed scripting), and you don't need to build evmscc there at all. you could simply make `evmscc-linux` a dependency for `docker`, as I proposed in my example commit
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:30:38 GMT):<br/>
ok, now I am confused
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:30:47 GMT):<br/>
evmscc-linux is not needed for docker
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:31:21 GMT):<br/>
I can add evmscc-linux to make a linux .so but the dependencies will be wrong
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:31:21 GMT):<br/>
I can add evmscc-linux to make a linux .so but the vendored dependencies will be wrong
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:33:34 GMT):<br/>
I can change GOOS so that it can be overridden by setting the env var 
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:34:00 GMT):<br/>
but it won't work
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:34:13 GMT):<br/>
I was sorely tempted to just remove this
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:39:49 GMT):<br/>
the problem we have, actually, is that the whole concept of plugin scc is flawed given the dependencies we need to pull in
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:57:22 GMT):<br/>
we cannot be expecting developers of SCC plugins to have to jump through these hoops
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 11:57:42 GMT):<br/>
it's just insane
</p>
<p><strong>silasdavis</strong> (Tue, 29 May 2018 12:45:09 GMT):<br/>
Hi guys, great to see you are on Burrow 0.18.0.... Was just looking over code, can someone explain this line: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/plugin/evmscc.go#L87 
</p>
<p><strong>silasdavis</strong> (Tue, 29 May 2018 12:45:42 GMT):<br/>
Looks like the zero value is being used to signal deploy
</p>
<p><strong>silasdavis</strong> (Tue, 29 May 2018 12:46:06 GMT):<br/>
we use `(*Address)(nil)` for this
</p>
<p><strong>silasdavis</strong> (Tue, 29 May 2018 12:46:31 GMT):<br/>
one reason is that `ZeroAddress` is actually used for the global permission account address (dubiously perhaps)
</p>
<p><strong>silasdavis</strong> (Tue, 29 May 2018 12:46:52 GMT):<br/>
having said this, it's probably unambiguous in practice
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 13:20:42 GMT):<br/>
thanks!
</p>
<p><strong>guoger</strong> (Tue, 29 May 2018 14:03:53 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=P6534BeY2tr46v8tD) @cbf we can make it as a dependency for docker, to get rid of sed scripting, cuz hardcoding missing pkgs is just hard to maintain... (obviously we will eventually get rid of it till shim pkgs are torn apart.)
</p>
<p><strong>guoger</strong> (Tue, 29 May 2018 14:04:45 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=CNY8dTLYPKeq4RHiZ) @cbf linux .so is also built within Fabric, so dependencies path are actually correct, which can be used by `make docker`, I've tested this: https://github.com/guoger/fabric-chaincode-evm/commit/6e08048ee64a00d7eb2e8891b78e807c29407f84
</p>
<p><strong>guoger</strong> (Tue, 29 May 2018 14:05:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=DZaEm6yyb9i3xKZN2) @cbf agreed
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 18:14:40 GMT):<br/>
please take a look at the latest patchset... once the base is built, you can build a new plugin in just over a minute, and in ~45 secs once we get libltdl-dev added to baseimage
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 18:15:25 GMT):<br/>
note that what I am trying to accomplish here is slightly broader than just this plugin
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 18:16:11 GMT):<br/>
because frankly, the whole concept of scc plugin is flawed given the mess with vendored dependencies
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:23:10 GMT):<br/>
@cbf: Left a comment on gerrit. I think if we should remove the `make evmscc` because the plugin that created that way can't be used. But I do prefer what Jay suggested with make docker depend on the evmscc build.
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:23:10 GMT):<br/>
@cbf: Left a comment on gerrit. I think we should remove the `make evmscc` because the plugin that created that way can't be used. But I do prefer what Jay suggested with make docker depend on the evmscc build.
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:24:03 GMT):<br/>
I agree, scc plugin logic quite flawed right now. I think in the docs for plugin vscc or escc they explicitly state don't use packages from fabric for the same reason
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:24:22 GMT):<br/>
Some of those problems are also because of how plugins work in Go
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:24:28 GMT):<br/>
right but they do not require the shim
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:25:38 GMT):<br/>
@swetha but the evmscc build step needs the whole convoluted copy-paste net the delta blah blah 
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:26:52 GMT):<br/>
I rather just remove the option then and we give directions to people on how to extract the `evmscc.so` from the docker image
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:27:38 GMT):<br/>
Or actually that is could be what make evmscc does and it will depend on docker
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:27:38 GMT):<br/>
Or actually that is could be what `make evmscc` does and it will depend on docker
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:27:38 GMT):<br/>
Or actually that could be what `make evmscc` does and it will depend on docker
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:27:55 GMT):<br/>
it's also going to leave a bunch of orphaned directories in /tmp every time the build fails
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:28:36 GMT):<br/>
That is true, I don't like that either
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:29:11 GMT):<br/>
I think that the multi-stage is cleaner 
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:30:11 GMT):<br/>
and what I am hoping will fall out of this is a simple pattern that I can make generic for plugins
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:31:02 GMT):<br/>
I agree with that idea, but the only concern is that we have no way to extract the plugin itself.
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:31:30 GMT):<br/>
actually, that isn't quite tru
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:31:30 GMT):<br/>
actually, that isn't quite true
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:32:02 GMT):<br/>
We could pull it out of the docker image
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:32:49 GMT):<br/>
you can reference an image in the COPY from=hyperledger/fabric-peer-evm:latest /opt/lib/evmscc.so to a mounted fs
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:34:04 GMT):<br/>
Yea I was thinking we do that instead of running go build for `make evmscc`? Or we give directions in a Readme and remove that option in the Makefile
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:34:44 GMT):<br/>
thinking
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:39:49 GMT):<br/>
Something similar to these lines: https://github.com/cloudfoundry/diego-release/blob/develop/scripts/get-envoy-binary-from-docker-image.sh#L2-L3
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 19:40:44 GMT):<br/>
actually, you cannot mount volume in build, but you can run the image and copy the file to a mounted volume
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 19:42:08 GMT):<br/>
Yup you can do something similar to what I linked above 
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 20:25:01 GMT):<br/>
yeah that works... incoming patchset thanks
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:00:06 GMT):<br/>
ok, think this is pretty tight now... make evmscc-linux will build the lot and extract the .so to .build/linux/lib
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:00:47 GMT):<br/>
if you JUST change the .go source files (not tests) then it will just build 'docker' target and extract
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:02:15 GMT):<br/>
once I get libltdl-dev into baseimage, then the normal build will be only ~45 secs... only slightly over 1m now
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:02:15 GMT):<br/>
once I get libltdl-dev into baseimage, then the normal build will be only ~45 secs... only slightly over 1m now
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:09:40 GMT):<br/>
@swetha did you validate the build locally? I have a bunch of times and different combinatorial states (make clean, remove .so, modify Gopkg.toml and any .go) and seems clean
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 22:10:25 GMT):<br/>
oh everytime i built i had no issues
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 22:10:56 GMT):<br/>
I did remove previously built docker images before i would run `make docker`
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 22:10:56 GMT):<br/>
I did remove previously built docker images before i ran `make docker`
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:11:32 GMT):<br/>
cool thx
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 22:12:13 GMT):<br/>
I am validating again just to verify
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 22:20:47 GMT):<br/>
@cbf, i missed the integration-test change. We need `./` to prefix the network_setup script
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:29:42 GMT):<br/>
ah, thanks... my path defaults to allow that... fixing
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 22:31:51 GMT):<br/>
good catch thanks... new ps 
</p>
<p><strong>swetha</strong> (Tue, 29 May 2018 23:17:08 GMT):<br/>
@cbf: I am running into an error running the integration-test because `network_setup down` destroys the images needed for `network_setup up` needs. Are you having the same issue?
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 23:46:28 GMT):<br/>
I'm not seeing that
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 23:47:35 GMT):<br/>
oh interesting...
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 23:47:52 GMT):<br/>
it is deleting the peer-evm-base image
</p>
<p><strong>cbf</strong> (Tue, 29 May 2018 23:48:27 GMT):<br/>
I see the problem
</p>
<p><strong>cbf</strong> (Wed, 30 May 2018 00:00:45 GMT):<br/>
fixed
</p>
<p><strong>swetha</strong> (Wed, 30 May 2018 00:00:47 GMT):<br/>
I am trying to figure out what is the best way to achieve the same result
</p>
<p><strong>swetha</strong> (Wed, 30 May 2018 00:00:56 GMT):<br/>
oh nvm
</p>
<p><strong>cbf</strong> (Wed, 30 May 2018 00:11:57 GMT):<br/>
well, the removeUnwantedImages is purging more than it really should
</p>
<p><strong>cbf</strong> (Wed, 30 May 2018 00:12:11 GMT):<br/>
and is not being specific enough
</p>
<p><strong>swetha</strong> (Wed, 30 May 2018 00:23:10 GMT):<br/>
+2 the CR, everything works locally 
</p>
<p><strong>swetha</strong> (Wed, 30 May 2018 00:23:10 GMT):<br/>
+2ed the CR, everything works locally 
</p>
<p><strong>nhrishi</strong> (Wed, 30 May 2018 01:26:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>bur</strong> (Wed, 30 May 2018 10:59:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Wed, 30 May 2018 13:33:55 GMT):<br/>
addressed @guoger comments - clean up dross and add core.yaml as dependency
</p>
<p><strong>jwaup</strong> (Wed, 30 May 2018 13:56:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Wed, 30 May 2018 14:24:08 GMT):<br/>
you probably missed this? https://gerrit.hyperledger.org/r/#/c/22371/10/Dockerfile.base@22
</p>
<p><strong>cbf</strong> (Wed, 30 May 2018 15:32:32 GMT):<br/>
@guoger I answered in a draft comment and never submitted. Here was my response: correct, but I am trying to establish a baseline... the second ensure takes only a few seconds because nothing to be done. I don't want to move this to the Dockerfile.
</p>
<p><strong>cbf</strong> (Wed, 30 May 2018 15:42:51 GMT):<br/>
I just pushed another patchset... I was readying a CR for baseimage to add libltdl-dev but in doing so, realized that we don't seem to need it. I just tested w/o and things look good here
</p>
<p><strong>swetha</strong> (Wed, 30 May 2018 17:18:32 GMT):<br/>
It worked for me locally without the library as well. That is very interesting
</p>
<p><strong>cbf</strong> (Wed, 30 May 2018 18:05:08 GMT):<br/>
I don't recall the issue that it was supposed to be fixing... but possibly the dependencies that caused it have been fixed?
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 02:02:32 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=8WgQX422KiJd6sAiu) @cbf it's pretty hard to solve though... `golang.org/x/net` is dependency of `grpc` and `tendermint`... tearing apart shim interface does not help
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 03:03:41 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=MSozHiMPrmvAw3yHw) @cbf so the issue was go requires it to load plugin... but yeah, it got fixed somehow.. i recall it has something to do with pkcs, and probably fixed in `e91df49c8ad05ec5a9c9dce75e87cc29549aa690` of fabric.. not sure
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 05:49:40 GMT):<br/>

<br/><a href="./assets/EW5xoFX8qEZYusgX3-dep.png">dep.png</a>
</p>
<p><strong>compleatang</strong> (Thu, 31 May 2018 08:53:01 GMT):<br/>
FWIW, our (burrow's) part of that graph should simplify considerably in 0.18.1 with the migration to using go-crypto nearly exclusively. 
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 11:43:22 GMT):<br/>
@guoger can you please do another review? https://gerrit.hyperledger.org/r/c/22371/
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 14:14:56 GMT):<br/>
@swetha the contract in evmscc_test.go doesn't have a license AFAICT
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 14:15:24 GMT):<br/>
I think that we need to use and reference one that does (have an MIT or Apache license)
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 14:22:35 GMT):<br/>
while the voting app is simple maybe an ERC20 token dapp? https://github.com/christo4ferris/fixedtoken/blob/master/tok.sol
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 14:22:52 GMT):<br/>
I couldn't find the voting app with a license 
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 14:23:09 GMT):<br/>
and the ethereum docs don't seem to have a license - just a copyright
</p>
<p><strong>swetha</strong> (Thu, 31 May 2018 16:34:20 GMT):<br/>
Okay I will start digging for that
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 17:16:58 GMT):<br/>
besides, I think having an ERC20 token contract in the tests will be a good signal
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 17:17:19 GMT):<br/>
we can leverage it to also test account support when we get there
</p>
<p><strong>swetha</strong> (Thu, 31 May 2018 17:32:34 GMT):<br/>
I like that idea. For the simpler tests we I found this: https://github.com/katopz/truffle-simple-storage-example/blob/master/contracts/SimpleStorage.sol
</p>
<p><strong>swetha</strong> (Thu, 31 May 2018 17:33:13 GMT):<br/>
But it is the exact same contract as what is on the Solidity documentation but the variables names are changed and then it was committed under the MIT license. I assume we can do the same thing?
</p>
<p><strong>swetha</strong> (Thu, 31 May 2018 17:57:55 GMT):<br/>
@cbf: https://github.com/christo4ferris/fixedtoken/blob/master/tok.sol#L120 that has an extra 2 at the end of the address
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 17:59:25 GMT):<br/>
yes, MIT is fine
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 18:00:29 GMT):<br/>
thanks, I'll fix... must hav ebeen a typo
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 18:12:37 GMT):<br/>
fixed thanks
</p>
<p><strong>swetha</strong> (Thu, 31 May 2018 18:47:27 GMT):<br/>
docker.base
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 18:50:51 GMT):<br/>
everything looks good and works locally! but i'm still struggling to understand why we duplicate evmscc pkg setup in `Dockerfile.base`? @cbf 
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 18:52:37 GMT):<br/>
also, probably you could kill this comment in `Dockerfile`?
> # TODO modify baseimage to include this
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 18:52:49 GMT):<br/>
since we are not installing libltdl anymore
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:01:27 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=LFW3uhkHPm9oJw5ZN) @compleatang awesome! looking forward to that!
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:12:16 GMT):<br/>
the duplication is as follows... I am building a baseline image that has peer with plugins enabled and the merged vendor content
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:12:58 GMT):<br/>
then the Dockerfile starts FROM that image and only needs to run dep ensure for any package changes in the plugin code
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:13:05 GMT):<br/>
much shorter
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:13:19 GMT):<br/>
the first dep ensure takes like 5 minutes
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:13:32 GMT):<br/>
the Dockerfile build takes < minute
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:14:53 GMT):<br/>
oh, now i get it
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:15:57 GMT):<br/>
incoming patchset 14
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:16:21 GMT):<br/>
do you mind adding some comments explaining this while you push patch 14?
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:16:46 GMT):<br/>
sure
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:17:01 GMT):<br/>
just for posterity
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:24:19 GMT):<br/>
also, just thinking of the process of building evmscc against modified fabric...
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:25:06 GMT):<br/>
like if i make some changes in fabric, and wanna see if evmscc could work with it..
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:25:42 GMT):<br/>
but let's get your patch in and fix it later
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:31:48 GMT):<br/>
could add a step that checks the sha, but I think that the simplest thing is to make clean evmscc-linux
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:33:29 GMT):<br/>
i meant that evmscc is built against a freshly cloned fabric, instead of my local changes
</p>
<p><strong>guoger</strong> (Thu, 31 May 2018 19:42:22 GMT):<br/>
gonna sleep now, i'll give +2 tomorrow to your patch 15. sorry I've been a bit picky on this...
</p>
<p><strong>cbf</strong> (Thu, 31 May 2018 19:54:58 GMT):<br/>
no worries, keeping me honest patchset 15 submitted - also fixed issue when you run make integration-test with some stopped containers from a previous test
</p>
<p><strong>cbf</strong> (Fri, 01 Jun 2018 18:52:35 GMT):<br/>
one last patchset to align with v0.18.0 burrow... I had mistakenly picked a constraint from a stale master
</p>
<p><strong>cbf</strong> (Fri, 01 Jun 2018 18:52:58 GMT):<br/>
https://gerrit.hyperledger.org/r/c/22371/
</p>
<p><strong>swetha</strong> (Fri, 01 Jun 2018 20:41:10 GMT):<br/>
Cool, reviewed the new patch. looks good to go
</p>
<p><strong>cbf</strong> (Sat, 02 Jun 2018 11:40:14 GMT):<br/>
thanks
</p>
<p><strong>cbf</strong> (Sat, 02 Jun 2018 11:42:40 GMT):<br/>
now we need to test... how is the integration test "framework" coming?... it would be good if we had the ability to drop in different contracts to test to create a suite
</p>
<p><strong>cbf</strong> (Sat, 02 Jun 2018 11:43:04 GMT):<br/>
I'm working on getting Caliper working
</p>
<p><strong>cbf</strong> (Sat, 02 Jun 2018 11:43:42 GMT):<br/>
trouble is Caliper is a disaster... docs don't match the code, code is a bit tangled and doesn't work with 1.2 quite yet
</p>
<p><strong>guoger</strong> (Sun, 03 Jun 2018 03:22:57 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=6xeMNWttGnaBGPrHQ) @swetha which is it?
</p>
<p><strong>swetha</strong> (Mon, 04 Jun 2018 02:49:15 GMT):<br/>
@cbf, so I haven't been able to get the plugin to run. I am still trying to figure out why that is. The other issue I realized Friday was that I wasn't compiling the plugin within fabric which might cause a problem .
</p>
<p><strong>swetha</strong> (Mon, 04 Jun 2018 02:49:24 GMT):<br/>
@guoger, I reviewed patch 15
</p>
<p><strong>cbf</strong> (Mon, 04 Jun 2018 11:12:55 GMT):<br/>
@swetha are you trying to get it running on the deployed Fabric instance for the demo? Are you using the image generated by the build for Fabric?
</p>
<p><strong>swetha</strong> (Mon, 04 Jun 2018 17:42:04 GMT):<br/>
@cbf, The integration doesn't use an image. It runs the peer locally. Images are only used for kafka and for ccenv
</p>
<p><strong>cbf</strong> (Mon, 04 Jun 2018 20:30:41 GMT):<br/>
ah, right... context matters;-) 
</p>
<p><strong>cbf</strong> (Mon, 04 Jun 2018 20:30:48 GMT):<br/>
we need a native build for that
</p>
<p><strong>cbf</strong> (Mon, 04 Jun 2018 20:31:00 GMT):<br/>
that will be a bit more challenging, I think
</p>
<p><strong>cbf</strong> (Mon, 04 Jun 2018 20:31:28 GMT):<br/>
first, we need a build of peer that has pkcs11 off.
</p>
<p><strong>cbf</strong> (Mon, 04 Jun 2018 20:31:28 GMT):<br/>
first, we need a build of peer that has pkcs11 off.
</p>
<p><strong>cbf</strong> (Mon, 04 Jun 2018 20:32:44 GMT):<br/>
you cannot pull the plugin out of the image to run on a mac, needs to be built natively.
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 21:36:18 GMT):<br/>
sorry, been MIA today... had to put my dog down - cancer sucks... 
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 21:37:16 GMT):<br/>
so, I think that in order to build native, we will need to bring back the rsync process from before
</p>
<p><strong>swetha</strong> (Tue, 05 Jun 2018 22:05:55 GMT):<br/>
@cbf, Sorry to hear that
</p>
<p><strong>swetha</strong> (Tue, 05 Jun 2018 22:06:24 GMT):<br/>
Yup I redoing some of the build process and making it in go
</p>
<p><strong>swetha</strong> (Tue, 05 Jun 2018 22:07:05 GMT):<br/>
build process that I was initially taking from the fabric/integration tests
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 22:43:10 GMT):<br/>
it's still a mess
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 22:43:16 GMT):<br/>
sigh
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 22:43:26 GMT):<br/>
I was trying myself to build native
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 22:43:34 GMT):<br/>
failing miserably
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 22:44:41 GMT):<br/>
tendermint guys mucking with their libs
</p>
<p><strong>cbf</strong> (Tue, 05 Jun 2018 22:50:27 GMT):<br/>
I am just not thinking well today... because nothing makes sense
</p>
<p><strong>swetha</strong> (Tue, 05 Jun 2018 23:00:58 GMT):<br/>
I am thinking it might be better have the plugin and peer built outside of the integration test itself
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 05:25:13 GMT):<br/>
@swetha just thinking more of it, we could actually load evmscc as *user chaincode* for integration test, so we don't need to deal with messy build. and when people use it, it's still loaded as system chaincode
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 06:12:40 GMT):<br/>
just tried and it works!
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 06:13:07 GMT):<br/>
we just need to add a meaningful `main` to evmscc, which is not ran as plugin anyway
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 06:13:07 GMT):<br/>
we just need to add a meaningful `main` to evmscc, which is not ran if loaded as plugin anyway
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 06:15:27 GMT):<br/>
so i think it significantly simplifies the integration test. we just need to copy/clone fabric repo to tmp dir and compile there, which I think you've been doing already
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 06:15:27 GMT):<br/>
so i think it significantly simplifies the integration test as you don't need to deal with plugin build *at all*. we just need to copy/clone fabric repo to tmp dir and compile there, which I think you've been doing already
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 06:17:11 GMT):<br/>
i'll leave that part to you and I'll be working on modifying integration test so we could easily add new contracts, so I don't step on your toes
</p>
<p><strong>compleatang</strong> (Wed, 06 Jun 2018 08:21:00 GMT):<br/>
@cbf sorry to hear about your dog passing. Out of curiosity which tendermint libs were problematic for y'all? They mess with those a lot and we're keen to isolate our downstream to the extent we can... 
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 09:53:48 GMT):<br/>
@compleatang hi, thank you so much for helping us out! [ ](https://chat.hyperledger.org/channel/fabric-evm?msg=qce3sQBw5rBJfK8rs) by looking at this graph, both projects ultimately depend on `x/net/trace`. When we load burrow-evm as a plugin, `init` in `trace` is called for the second time, which triggers a panic because the `/debug/requests` endpoint is registered already.
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 09:54:06 GMT):<br/>
@cbf sorry for your loss....
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 09:58:26 GMT):<br/>
@compleatang so I think it's a problem with grpc, instead of tendermint. (possibly `go-kit/kit` as well)
</p>
<p><strong>cbf</strong> (Wed, 06 Jun 2018 13:17:03 GMT):<br/>
@compleatang go-wire which seems to have been renamed go-amino 
</p>
<p><strong>swetha</strong> (Wed, 06 Jun 2018 16:06:14 GMT):<br/>
@guoger, did you have to run a `dep ensure` or something? Not all of the plugin dependencies are vendored in Fabric
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 17:12:52 GMT):<br/>
no, running evm in user chaincode simply builds it as separate binary, therefore not requiring any deps in fabric
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 17:16:09 GMT):<br/>
just trying to demo the idea: https://github.com/guoger/fabric/commit/9e5c37ffce4c8370bb81c2a238537e0182a2d856
</p>
<p><strong>guoger</strong> (Wed, 06 Jun 2018 17:16:33 GMT):<br/>
and you need to put this to evm plugin main function:
```
func main() {
	err := shim.Start(&EvmChaincode{})
	if err != nil {
		fmt.Fprintf(os.Stderr, "Exiting EVM chaincode: %s", err)
		os.Exit(2)
	}
}
```
</p>
<p><strong>compleatang</strong> (Wed, 06 Jun 2018 17:46:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=uSbLhxFqumtCsDJ57) @cbf thanks. That one we couldn't totally insulate but we're ripping out a bunch of other stuff related to their serialization... 
</p>
<p><strong>compleatang</strong> (Wed, 06 Jun 2018 17:48:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=yx8xLKoLFGMTFbYQi) @guoger do you mean burrow and fabric or burrow and tendermint. We may be able to move the init a level higher in our stack. Cc @seanyoung 
</p>
<p><strong>seanyoung</strong> (Wed, 06 Jun 2018 17:48:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>compleatang</strong> (Wed, 06 Jun 2018 17:48:41 GMT):<br/>
If it was possible for you to dump an issue in burrows repo that would be very helpful. 
</p>
<p><strong>swetha</strong> (Wed, 06 Jun 2018 18:21:43 GMT):<br/>
@guoger: Installing the chaincode as a user chaincode does make the integration test a lot easier. Just realized though we might not be testing the right thing then. We are testing basically the chaincode itself which is what we have before. I thought the point of the integration was to test the plugin piece?
</p>
<p><strong>cbf</strong> (Wed, 06 Jun 2018 20:30:12 GMT):<br/>
a bit of both;-)
</p>
<p><strong>swetha</strong> (Wed, 06 Jun 2018 23:05:39 GMT):<br/>
So here are the integration tests by testing the plugin as an integration test: https://github.com/swetharepakula/fabric-chaincode-evm/tree/new-integration-tests.  I am going to continue figuring out the build process though cause I don't think we get much more value from these tests from the unit tests if we don't test the plugin aspect.
</p>
<p><strong>swetha</strong> (Wed, 06 Jun 2018 23:05:39 GMT):<br/>
So here are the integration tests by testing the plugin as an integration test: https://github.com/swetharepakula/fabric-chaincode-evm/commit/0806ae8b92f6faeec2e30a6d117dd7d3342056b8.  I am going to continue figuring out the build process though cause I don't think we get much more value from these tests from the unit tests if we don't test the plugin aspect.
</p>
<p><strong>swetha</strong> (Wed, 06 Jun 2018 23:06:18 GMT):<br/>
But I think those tests would be a better place for you to start from in terms of plugging in other smart contracts
</p>
<p><strong>swetha</strong> (Wed, 06 Jun 2018 23:06:31 GMT):<br/>
@guoger ^
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 02:17:07 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=DuctrKjjKYP4YCjL3) @swetha in terms of what we are writing tests for, here's what I understand:
\[
\begin{matrix}
 & chaincode & e2e & plugin-loading \\
unit-tests & * & & \\
integration-test-with-user chaincode & * & * & \\
integration-test-with-sys chaincode & * & * & * \\
\end{matrix}
\]
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 02:18:31 GMT):<br/>
as long as we make sure plugin is loadable with current e2e test, I feel we are safe to use user chaincode in integration tests.
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 02:19:46 GMT):<br/>
> I thought the point of the integration was to test the plugin piece?
not only plugin piece. recall we discovered read-your-write bug with integration test.
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:21:13 GMT):<br/>
I think e2e is the same thing as plugin-loading
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:22:03 GMT):<br/>
@guoger, The point is to replace e2e though. We don't want those as our integration tests
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:22:03 GMT):<br/>
@guoger, The point is to replace e2e. We don't want those as our integration tests
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:22:11 GMT):<br/>
if we are having all 3 then I agree with you
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:23:02 GMT):<br/>
And if we are keeping the e2e, then I don't see value add in these integration tests because it running the exact tests as what we have in `evmscc_test.go`
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:23:29 GMT):<br/>
Only difference is using the peer cli, but our e2e would already be testing that
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 02:23:54 GMT):<br/>
> We don't want those as our integration tests
why not? don't we need to make sure it work on Linux OS?
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:24:44 GMT):<br/>
these tests could run both on linux and mac
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 02:25:05 GMT):<br/>
> it running the exact tests as what we have in `evmscc_test.go`
not really.. evmscc_test actually mocks everything, but integration test goes through the whole fabric tx flow
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:26:21 GMT):<br/>
It is mocking out the fabric tx flow which is tested in fabric. We shouldn't be testing that
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:27:13 GMT):<br/>
Right now I see these integration tests testing the ability to add chaincode to Fabric
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:27:42 GMT):<br/>
The plugin aspect I think is more important because that isn't tested in Fabric
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 02:28:07 GMT):<br/>
we have plugin tests in fabric
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:28:21 GMT):<br/>
those only test pluggable endorsement and validation
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 02:55:56 GMT):<br/>
@cbf, Jay and I have been talking about the integration tests. This build problem seems to keep coming  up and we are concerned with the maintainability of that process, especially if we are doing that natively in go. As a compromise we are thinking of keeping the e2e_cli test for system chaincode pluggability and using the new ginkgo integration tests which use the evm as a user chaincode as a way to test out the features of evm with a fabric network. When we add more features or want to test different contracts we can extend just the ginkgo tests. What are your thoughts?
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 03:07:01 GMT):<br/>
also, I tried to load plugin natively on osx and it didn't work because of some exotic seg fault. @swetha is going to give it another try
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 04:00:51 GMT):<br/>
@guoger, Doesn't work natively. I start getting this error: 
```
runtime: bad pointer in frame regexp/syntax.(*compiler).compile at 0xc42026dd30: 0x17
[e][peer-0] fatal error: invalid pointer found on stack
```
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 04:00:51 GMT):<br/>
@guoger, Doesn't work natively. I start getting this error: 
```
[e][peer-0]runtime: bad pointer in frame regexp/syntax.(*compiler).compile at 0xc42026dd30: 0x17
[e][peer-0] fatal error: invalid pointer found on stack
```
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 04:01:58 GMT):<br/>
Hmmm, i think i got something different...don‚Äôt really remember clearly
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 04:02:11 GMT):<br/>
But I didn‚Äôt work for me neither
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 04:02:17 GMT):<br/>
It*
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 04:02:48 GMT):<br/>
im digging to make sure the problem is the plugin. but that error only showed up after changing the config to load the plugin
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 04:06:16 GMT):<br/>
also you could try exact same thing on Linux, so we know for sure it's the OS issue
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 04:08:13 GMT):<br/>
Oh wait one sec, I think I altered the wrong part of the integration code
</p>
<p><strong>swetha</strong> (Thu, 07 Jun 2018 04:09:36 GMT):<br/>
That is a good idea, I will try to run it in a docker image
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 04:30:04 GMT):<br/>
also, just ran a google search on golang plugin for darwin, and some issues may be related:
https://github.com/golang/go/issues/23369
https://github.com/golang/go/issues/24257
</p>
<p><strong>guoger</strong> (Thu, 07 Jun 2018 04:31:30 GMT):<br/>
not sure if it's cherry-picked to 1.10.2 though...
</p>
<p><strong>cbf</strong> (Thu, 07 Jun 2018 13:02:07 GMT):<br/>
I would suggest we defer this (adopting integration test "framework") to 1.3
</p>
<p><strong>cbf</strong> (Thu, 07 Jun 2018 13:02:28 GMT):<br/>
I'd prefer we get some additional cycles testing various contracts
</p>
<p><strong>rangak</strong> (Thu, 07 Jun 2018 14:19:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>abraham</strong> (Fri, 08 Jun 2018 04:24:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>richzhao</strong> (Fri, 08 Jun 2018 14:41:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>silasdavis</strong> (Wed, 13 Jun 2018 23:38:25 GMT):<br/>
Having a look at dependency graph above is showing project level dependencies, which burrow packages are you actually depending on for fabric-evm?
</p>
<p><strong>silasdavis</strong> (Wed, 13 Jun 2018 23:39:06 GMT):<br/>
I'd be surprised if you were hitting x/net/trace from anything in the import graph of burrow/execution/evm
</p>
<p><strong>silasdavis</strong> (Wed, 13 Jun 2018 23:39:55 GMT):<br/>
not sure what behaviour is with plugin, but recent versions of dep can prune unused packages with:

[prune]
  go-tests = true
  unused-packages = true
  non-go = true
</p>
<p><strong>silasdavis</strong> (Wed, 13 Jun 2018 23:39:55 GMT):<br/>
not sure what behaviour is with plugin, but recent versions of dep can prune unused packages with:
```
[prune]
  go-tests = true
  unused-packages = true
  non-go = true
```
</p>
<p><strong>silasdavis</strong> (Wed, 13 Jun 2018 23:40:21 GMT):<br/>
perhaps that will help you avoid the x/net/trace double initialisation
</p>
<p><strong>silasdavis</strong> (Wed, 13 Jun 2018 23:42:38 GMT):<br/>
certainly you shouldn't be seeing a grpc import unless you have the entire burrow project
</p>
<p><strong>silasdavis</strong> (Wed, 13 Jun 2018 23:42:38 GMT):<br/>
same with go-kit provided you are only including the required packages
</p>
<p><strong>swetha</strong> (Thu, 14 Jun 2018 01:33:27 GMT):<br/>
@silasdavis We are dependent on `account`, `binary`, `execution/evm`. Though I think just those 3 seem to pull in a few more. Currently what we have is 
```
  packages = [
    "account",
    "account/state",
    "binary",
    "event",
    "execution/evm",
    "execution/evm/abi",
    "execution/evm/asm",
    "execution/evm/asm/bc",
    "execution/evm/events",
    "execution/evm/sha3",
    "logging",
    "logging/structure",
    "permission",
    "permission/types",
    "process"
  ]
```
</p>
<p><strong>swetha</strong> (Thu, 14 Jun 2018 01:34:06 GMT):<br/>
We do have prune options set in our config
</p>
<p><strong>pauljithink</strong> (Thu, 14 Jun 2018 01:42:51 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Thu, 14 Jun 2018 05:25:30 GMT):<br/>
So I think I have verified the double x/net/trace is not coming from a dependency on burrow. That double initialization happens because the plugin is dependent on fabric.
</p>
<p><strong>guoger</strong> (Thu, 14 Jun 2018 06:06:42 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=gWqQMCBY9w7w8yMCm) @swetha mind elaborating?
</p>
<p><strong>cbf</strong> (Thu, 14 Jun 2018 11:20:58 GMT):<br/>
@swetha, you are getting this in the integration framework? it's definitely coming from Fabric and it is because Go considers the symbols to be different because the paths are different. Again, I think we should defer the integration test work to post 1.2 - not worth banging our heads against this now
</p>
<p><strong>swetha</strong> (Thu, 14 Jun 2018 16:03:27 GMT):<br/>
@cbf , No I just took a quick look at the dependencies for Silas's question
</p>
<p><strong>swetha</strong> (Thu, 14 Jun 2018 16:04:17 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=YPSjoKJqsujJDbqCL) @guoger I meant that we are pulling in a dependency from fabric, namely the shim, which pulls in x/net/trace which is loaded by fabric as well causing the double initialization
</p>
<p><strong>paulananth</strong> (Fri, 15 Jun 2018 12:17:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Thu, 21 Jun 2018 17:14:15 GMT):<br/>
https://gerrit.hyperledger.org/r/23457 
</p>
<p><strong>cbf</strong> (Thu, 21 Jun 2018 17:14:18 GMT):<br/>
please
</p>
<p><strong>cbf</strong> (Thu, 21 Jun 2018 21:02:56 GMT):<br/>
@guoger https://gerrit.hyperledger.org/r/c/23457/1/README.md#15 pls see my comment
</p>
<p><strong>guoger</strong> (Fri, 22 Jun 2018 01:26:09 GMT):<br/>
maybe something like:
> Fabric proxy implements Ethereum compliant JSON RPC interfaces, so that users could use tools, such as Remix, Truffle, etc, to interact with Smart Contract running in EVM.
</p>
<p><strong>guoger</strong> (Fri, 22 Jun 2018 01:26:15 GMT):<br/>
^ @cbf 
</p>
<p><strong>cbf</strong> (Fri, 22 Jun 2018 01:26:41 GMT):<br/>
ok
</p>
<p><strong>cbf</strong> (Fri, 22 Jun 2018 01:28:50 GMT):<br/>
done thanks
</p>
<p><strong>guoger</strong> (Fri, 22 Jun 2018 01:30:01 GMT):<br/>
+2'ed
</p>
<p><strong>cbf</strong> (Fri, 22 Jun 2018 01:33:10 GMT):<br/>
thx
</p>
<p><strong>guoger</strong> (Fri, 22 Jun 2018 02:55:56 GMT):<br/>
@swetha when you have some time, take a look at https://gerrit.hyperledger.org/r/23457 from chris, adding README
</p>
<p><strong>swetha</strong> (Fri, 22 Jun 2018 02:56:20 GMT):<br/>
oh will do, sorry didn't see that change
</p>
<p><strong>swetha</strong> (Fri, 22 Jun 2018 03:00:49 GMT):<br/>
Reviewed it, LGTM
</p>
<p><strong>nvxtien</strong> (Fri, 22 Jun 2018 11:25:52 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sureshtedla</strong> (Sat, 23 Jun 2018 23:32:57 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>GiuseppeLittera</strong> (Mon, 25 Jun 2018 20:06:33 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>baoyangc</strong> (Tue, 26 Jun 2018 11:32:53 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>baoyangc</strong> (Tue, 26 Jun 2018 15:50:09 GMT):<br/>
```shell
docker pull hyperledger/fabric-peer-evm:amd64-latest
Error response from daemon: pull access denied for hyperledger/fabric-peer-evm, repository does not exist or may require 'docker login'
```
 can't pull fabric-peer-evm
</p>
<p><strong>grice_32</strong> (Tue, 26 Jun 2018 15:52:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Tue, 26 Jun 2018 18:34:23 GMT):<br/>
yes, we haven't pushed it yet... need someone to create the repository for us
</p>
<p><strong>cbf</strong> (Wed, 27 Jun 2018 12:21:44 GMT):<br/>
@baoyangc the image has not been pushed 
</p>
<p><strong>jaromil</strong> (Fri, 29 Jun 2018 11:53:03 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>mark.zhang</strong> (Sat, 30 Jun 2018 02:46:29 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tianma323</strong> (Sat, 30 Jun 2018 08:25:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sigma67</strong> (Sun, 01 Jul 2018 19:50:38 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>BabuPallam</strong> (Wed, 04 Jul 2018 22:20:46 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Fri, 06 Jul 2018 20:03:09 GMT):<br/>
@guoger & @cbf : Just submitted initial patch for the proxy: https://gerrit.hyperledger.org/r/#/c/24185/
</p>
<p><strong>EricPetruzzelli</strong> (Sat, 07 Jul 2018 11:59:54 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Telijas</strong> (Mon, 09 Jul 2018 14:21:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 12:52:59 GMT):<br/>
@swetha what are the accounts on the proxy?
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 12:53:06 GMT):<br/>
I need to run the client app locally
</p>
<p><strong>adamludvik</strong> (Tue, 10 Jul 2018 13:17:28 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>swetha</strong> (Tue, 10 Jul 2018 17:16:56 GMT):<br/>
@cbf,looking for them
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:17:11 GMT):<br/>
thx
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:17:55 GMT):<br/>
I seem to be in a mode where the login screen does not successfully "login" and even if I open the vote page, it just beach-balls when I submit a vote
</p>
<p><strong>swetha</strong> (Tue, 10 Jul 2018 17:20:47 GMT):<br/>
Try one of these:
537627a1e9456be6fc015800d23cf91a93555fe6
613ac660a26a66a52eadc02cda9f6c7e7326e675
853c507c8abde6d6d82f2e84cc4ca65f82ae5a09
861256673241f8a9e3b086b1b01e76143253c8fc
</p>
<p><strong>swetha</strong> (Tue, 10 Jul 2018 17:20:47 GMT):<br/>
Try one of these:
```
537627a1e9456be6fc015800d23cf91a93555fe6
613ac660a26a66a52eadc02cda9f6c7e7326e675
853c507c8abde6d6d82f2e84cc4ca65f82ae5a09
861256673241f8a9e3b086b1b01e76143253c8fc
```
</p>
<p><strong>swetha</strong> (Tue, 10 Jul 2018 17:22:37 GMT):<br/>
When you get a chance can you open up the inspect console on the browser and see if there are any error messages you see? I am not seeing the issue currently
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:36:39 GMT):<br/>
those are the ones I tried
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:39:50 GMT):<br/>
BAH
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:40:01 GMT):<br/>
I was putting the user in the password
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:40:08 GMT):<br/>
password is 'some-password'
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:40:11 GMT):<br/>
working now
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 17:40:14 GMT):<br/>
thanks
</p>
<p><strong>swetha</strong> (Tue, 10 Jul 2018 17:47:53 GMT):<br/>
haha, no problem
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 21:13:28 GMT):<br/>
@swetha the CR needs license headers for all the new files
</p>
<p><strong>swetha</strong> (Tue, 10 Jul 2018 21:13:44 GMT):<br/>
Oh yea, forgot about that. Adding them now thanks
</p>
<p><strong>cbf</strong> (Tue, 10 Jul 2018 21:14:07 GMT):<br/>
thx
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 01:56:25 GMT):<br/>
@cbf & @guoger Here is the vendor commit: https://gerrit.hyperledger.org/r/#/c/24183/
</p>
<p><strong>guoger</strong> (Wed, 11 Jul 2018 02:41:21 GMT):<br/>
@swetha how do you plan to do integration test for fabproxy? should we leverage `jest`, or we could go a step further and use `truffle`, etc
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 02:42:47 GMT):<br/>
I was thinking about a couple things. One was to send requests using our current ginkgo test framework and have those run against our e2e example
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 02:44:26 GMT):<br/>
Using truffle and remix is going to require a few more instructions & CORS support. The CORS piece is easy and just waiting on these commits to be merged before pushing that. In regards of using truffle, that will take a little longer
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 02:45:29 GMT):<br/>
The other thing this depends on is how the integration framework will be for the plugin as a whole. If we go down the ginkgo path then i would think it is better to stick to that and not introduce too many languages and types of tests
</p>
<p><strong>guoger</strong> (Wed, 11 Jul 2018 03:38:19 GMT):<br/>
IMO, including web3.js as part of our test pipeline makes more sense
</p>
<p><strong>guoger</strong> (Wed, 11 Jul 2018 03:38:53 GMT):<br/>
so that we are not testing our own expectations, but that of web3.js
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 04:03:44 GMT):<br/>
that is true, but what we really want to make sure is that we implemented the API properly
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 04:04:01 GMT):<br/>
I am going to keep thinking about that
</p>
<p><strong>guoger</strong> (Wed, 11 Jul 2018 04:17:38 GMT):<br/>
I would imagine something like this:
`evm.test.js -> web3.js | fabproxy | fabric | evmscc`
i'm fine with another layer like:
` ginkgo -> fabproxy | fabric | evmscc`
but it seems a bit redundant
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 04:56:02 GMT):<br/>
another ginkgo layer does seem redundant
</p>
<p><strong>jayeshjawale95</strong> (Wed, 11 Jul 2018 07:30:29 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Wed, 11 Jul 2018 08:16:55 GMT):<br/>
@swetha quick question, why do you create new client for every invocation, instead of reusing the same one?
```
func (s *fabSDK) GetChannelClient() (fabproxy.ChannelClient, error) {
	clientChannelContext := s.sdk.ChannelContext(s.channel, fabsdk.WithUser(s.user), fabsdk.WithOrg(s.org))

	return channel.New(clientChannelContext)
}
```
</p>
<p><strong>bramvdbogaerde</strong> (Wed, 11 Jul 2018 10:09:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Wed, 11 Jul 2018 12:15:58 GMT):<br/>
I think that the goal is to support web3, so Jay's suggestion makes sense to me. I agree we want to make sure we have implemented the API properly. Maybe the distinction is ginkgo is UT and use of jasmine or the like for integration test?
</p>
<p><strong>cbf</strong> (Wed, 11 Jul 2018 12:18:44 GMT):<br/>
also, I think that we should move the plugin into the fabric repo. It is too clunky to build and make available, as it stands, and we also cannot take advantage of the ACL support, which is only available to SYSCC. I think that we still want to be able to restrict deploying a contract to admin (or some privileged account), no? @swetha @guoger 
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 16:27:33 GMT):<br/>
@cbf, I think that would solve a lot of our problems
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 16:28:32 GMT):<br/>
@guoger, I thought it kind of starting a connection each time a request came in and not keep connections alive, but realized I never closed the clients, so will push up another patchtoday
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 16:28:32 GMT):<br/>
@guoger, I thought it kind of starting a connection each time a request came in and not keep connections alive, but realized I never closed the clients, so will push up another patch today
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 16:49:51 GMT):<br/>
Nevermind. In this version of the sdk, we can never close the client. I am going to change it to just initialize the channel context once
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 20:30:21 GMT):<br/>
The current version of the SDK and the combination of Fabric 1.2 we have a problem of the sdk not being able invoke or query custom system chaincodes because the sdk queries the Discovery Service for available chaincodes but the `evmscc` will not show up on that list. So patch won't be ready today
</p>
<p><strong>yacovm</strong> (Wed, 11 Jul 2018 20:35:54 GMT):<br/>
System chaincodes have lifecycle, so it's not even possible to discover what peers have them and what peers don't, and obviously SD doesn't support SCCs and won't until we do the lifecycle change which would *maybe* give SCCs their own lifecycle
</p>
<p><strong>yacovm</strong> (Wed, 11 Jul 2018 20:35:54 GMT):<br/>
System chaincodes don't have lifecycle, so it's not even possible to discover what peers have them and what peers don't, and obviously SD doesn't support SCCs and won't until we do the lifecycle change which would *maybe* give SCCs their own lifecycle
</p>
<p><strong>yacovm</strong> (Wed, 11 Jul 2018 20:38:56 GMT):<br/>
The only way is to just not use SD for SCCs üòâ
</p>
<p><strong>yacovm</strong> (Wed, 11 Jul 2018 20:38:56 GMT):<br/>
The only way in the meantime is to just not use SD for SCCs üòâ
</p>
<p><strong>swetha</strong> (Wed, 11 Jul 2018 20:43:08 GMT):<br/>
I agree, I just don't know how to disable that in the SDK. The config didn't seem to have an obvious answers
</p>
<p><strong>BlockchainBusiness</strong> (Mon, 16 Jul 2018 02:31:57 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>vladyslavmunin</strong> (Wed, 18 Jul 2018 15:07:46 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>amongv587</strong> (Thu, 19 Jul 2018 15:05:28 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>karadalex</strong> (Sat, 21 Jul 2018 11:57:27 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>chuojiang</strong> (Wed, 25 Jul 2018 07:32:28 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 13:21:44 GMT):<br/>
@swetha any reason that we need to use syscc for the evmcc? 
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 13:26:43 GMT):<br/>
also, could you please add story points to all the evm jiras? thanks
</p>
<p><strong>guoger</strong> (Wed, 25 Jul 2018 15:55:15 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=c93JaeP2faGKoLfgs) @cbf initially, we did. However, we were trying to follow Fabric work flow as much as possible:
- user deploys an evm contract with a canonical name
- looks up the type of invoked contract by name, if `EVM`, redirecting it to evm cc
this invaded fabric code.
Also, we want to leverage that syscc being automatically deployed to every channel we create.
</p>
<p><strong>guoger</strong> (Wed, 25 Jul 2018 15:55:15 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=c93JaeP2faGKoLfgs) @cbf initially, we did. However, we were trying to follow Fabric work flow as much as possible:
- implement a new type of cc `EVM`, along with `GOLANG` and `JAVA`
- user deploys an evm contract with a canonical name
- looks up the type of invoked contract by name, if `EVM`, redirecting it to evm cc
this invaded fabric code.
Also, we want to leverage that syscc being automatically deployed to every channel we create.
</p>
<p><strong>guoger</strong> (Wed, 25 Jul 2018 15:56:37 GMT):<br/>
although, given current design, we could actually revert to this. And I actually did it when I was too sick of bizarre build.
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 16:38:38 GMT):<br/>
Well, when we deploy a contract, it isn't same as deploying chaincode
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 16:38:42 GMT):<br/>
it is a transaction
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 16:39:07 GMT):<br/>
so we could have single evmcc container and a specific method that deployed the contract(s)
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 16:39:22 GMT):<br/>
@guoger @swetha 
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 16:40:08 GMT):<br/>
I am not thrilled with the UX of the plugin TBH and this makes the whole deployment question much more naturally integrated with CC lifecycle
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 16:40:13 GMT):<br/>
and discovery
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 17:21:49 GMT):<br/>
@cbf I agree that the plugin ux isn't great. Are you thinking we should move away from the syscc completely or that just the plugin aspect of the design?
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 17:23:17 GMT):<br/>
Also is there a scale we typically use for story points?
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 18:01:31 GMT):<br/>
yes, let's just make a plain old chaincode shim/container
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 18:02:23 GMT):<br/>
as for story points, use your best guestimate 1=dayish 2=two 4=week 8=two or more ish
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 18:08:01 GMT):<br/>
Okay I will look into how we can incorporate this into the usual lifecycle workflow we use for Go
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 18:08:38 GMT):<br/>
We may need to postpone the design review tomorrow then
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 18:25:04 GMT):<br/>
@cbf, wait do you mean a regular chaincode?
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 20:12:35 GMT):<br/>
I mean deploy it as regular Go chaincode
</p>
<p><strong>cbf</strong> (Wed, 25 Jul 2018 20:12:49 GMT):<br/>
can we do that?
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 20:58:11 GMT):<br/>
oh okay, yes we can do that in its current situation
</p>
<p><strong>MHBauer</strong> (Wed, 25 Jul 2018 20:58:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 20:58:55 GMT):<br/>
but for future features like admin only contract deployment we would never be able to do that
</p>
<p><strong>ricktobacco</strong> (Wed, 25 Jul 2018 23:35:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ricktobacco</strong> (Wed, 25 Jul 2018 23:36:48 GMT):<br/>
hello, thank you for making this plugin!
</p>
<p><strong>ricktobacco</strong> (Wed, 25 Jul 2018 23:37:46 GMT):<br/>
i am interested in overcoming the following limitations of stock version chaincode (my question is how to go about it if indeed possible)
</p>
<p><strong>ricktobacco</strong> (Wed, 25 Jul 2018 23:39:13 GMT):<br/>
With Gas, it is possible to control the execution of a smart contract. Gas allows you to re-enter smart contract code as many times as necessary, which produces elegant solutions with contract-to-contract interoperability. It is not possible to re-enter chaincode. Say we need to call the second contract from the first and then do a call-back to the first. 
In EVM, everything acts as an account, including smart contract, allowing a contract to act as a user and own assets.
When one smart contract calls another smart contract on EVM, it assumes its own identity versus that of the user (who is calling the first smart contract). This way, a smart contract can always identify what code is calling it. In chaincode, there is currently no built-in way to distinguish between the chaincodes. Thus, the code always assumes the calling user identity. 
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 23:58:49 GMT):<br/>
@ricktobacco: When you use the plugin, there is a different between the EVM smart contract and the chaincode
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 23:58:49 GMT):<br/>
@ricktobacco: When you use the plugin, there is a difference between the EVM smart contract and the chaincode
</p>
<p><strong>swetha</strong> (Wed, 25 Jul 2018 23:59:32 GMT):<br/>
The plugin itself is the chaincode  that runs EVM smart contracts, so we don't go through the usual lifecycle workflow for deploying new EVM bytecode contracts
</p>
<p><strong>swetha</strong> (Thu, 26 Jul 2018 00:01:22 GMT):<br/>
For accounts, Fabric has no concept of accounts as you already mentioned. What we do is we set whoever is invoking the evmscc as the account calling the initial contract
</p>
<p><strong>swetha</strong> (Thu, 26 Jul 2018 00:02:25 GMT):<br/>
In terms of what a contract calling a contract, I don't know what happens on the top of my mind. I have to go through the Burrow EVM code again and get back to you
</p>
<p><strong>swetha</strong> (Thu, 26 Jul 2018 00:03:07 GMT):<br/>
I am curious, what are you trying to do with the plugin. We would love feedback!
</p>
<p><strong>swetha</strong> (Thu, 26 Jul 2018 00:06:04 GMT):<br/>
Also for the time being Gas is hardcoded at 90000 per transaction with the plugin
</p>
<p><strong>Ryan2</strong> (Thu, 26 Jul 2018 06:09:03 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sujanpgowda</strong> (Mon, 30 Jul 2018 13:37:53 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>gatakka</strong> (Tue, 31 Jul 2018 06:26:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>compleatang</strong> (Tue, 31 Jul 2018 15:39:33 GMT):<br/>
assuming y'all haven't done anything crazy with the state (e.g., sharding it and only letting a particular node see part of the EVM state) and it is all available to the EVM container, then the call path will run until completion or exception and then return to you (you being the chaincode level). we test multiple depths or contracts calling contracts and this should be all handled in Burrow EVM. If you run into any challenges tho definitely let us know. 
</p>
<p><strong>compleatang</strong> (Tue, 31 Jul 2018 15:40:11 GMT):<br/>
tl'dr contracts calling contracts should work just fine as it is an internal EVM operation and the EVM execution path won't return until it reaches completion of the code path (or an exception)
</p>
<p><strong>swetha</strong> (Tue, 31 Jul 2018 18:22:29 GMT):<br/>
@compleatang Thanks for that!
</p>
<p><strong>compleatang</strong> (Tue, 31 Jul 2018 21:02:50 GMT):<br/>
np
</p>
<p><strong>samwood</strong> (Wed, 01 Aug 2018 17:33:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>zmaro</strong> (Fri, 03 Aug 2018 15:20:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>pankajanand26</strong> (Fri, 03 Aug 2018 15:34:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 08:35:22 GMT):<br/>
hey i have a question about how read set / write sets are handled in fabric evm
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 08:36:06 GMT):<br/>
i tried to look for this terminology in the design doc but couldn't find it, might be using some of the terms wrong
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 08:36:49 GMT):<br/>
is there one key for basically the entire EVM space? or one for each contract/account? I'm curious what happens when there are simultaneously multiple transactions sent to the endorsers, and at some point they have to determine whether they are in conflict or not
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:04:31 GMT):<br/>
> is there one key for basically the entire EVM space
No, in short, we use composite key `address + key`, where `address` is associated with user account or contract account, and `key` is whatever evm stores a value with. So account is almost a namespace here.
> at some point they have to determine whether they are in conflict or not
they are still validated using fabric validation, meaning version check on RWset by default.
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:04:31 GMT):<br/>
hi, @soc1024 
> is there one key for basically the entire EVM space
No. in short, we use composite key `address + key`, where `address` is associated with user account or contract account, and `key` is whatever evm stores a value with. So account is almost a namespace here.
> at some point they have to determine whether they are in conflict or not
they are still validated using fabric validation, meaning version check on RWset by default.
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:06:56 GMT):<br/>
thanks for the response!
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:07:29 GMT):<br/>
so with `address + key`, `address` is associated with the sender?
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:08:09 GMT):<br/>
maybe i can answer some of my remaining questions by looking at the code, do you have a suggestion where to find RWset, i'll search for tht now
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:09:13 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=oFD976PubXroEisfC) @soc1024 could be, it should depend on the logic in your smart contract.
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:09:39 GMT):<br/>
okay
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:09:46 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=aEjyRzmujchBiERMy) @soc1024 RWset is produced when chaincode shim is invoked.
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:10:45 GMT):<br/>
i'm trying to track down whether my intuition is correct, which is that if there are a lot of simultaneous transactions to the same contract (e.g., there is an Auction contract and lots of people are trying to make incrementally higher bids) then there will be lots of contention, hence many endorsements will fail at the validation stage and have to be re-endorsed again
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:10:46 GMT):<br/>
Burrow evm library depends on https://github.com/hyperledger/fabric-chaincode-evm/blob/master/statemanager/statemanager.go#L15-L21
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:11:58 GMT):<br/>
if you are repeatedly modifying one variable, say `highest_bid`, then yes
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:12:25 GMT):<br/>
but if you maintain a `map[user_addr]bid`, then not
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:12:40 GMT):<br/>
makes sense, OK
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:13:38 GMT):<br/>
to expand on previous question, the code is fairly simple. We translate Burrow ledger interface to Fabric chaincode shim, so it produces RWset as usual
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:13:41 GMT):<br/>
in practice most contracts will do something like `map[user_addr]bid` but also `int totalbids`
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:13:41 GMT):<br/>
in practice most contracts will do something like `map[user_addr]bid` but also `uint totalbids`
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:14:47 GMT):<br/>
yeah... we are aware of the limitation here.. ethereum serialize transactions so it's not a problem for them :P
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:15:19 GMT):<br/>
with special validation/endorsement plugins, this could be mitigated in Fabric as well
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:15:19 GMT):<br/>
with custom validation/endorsement plugins, this could be mitigated in Fabric as well
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:16:47 GMT):<br/>
interesting, i was wondering about this for other applications as well,
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:17:01 GMT):<br/>
it would be nice to have endorsers run their own BFT as a "pre ordering" or something to address such contention
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:17:10 GMT):<br/>
i assume that is what you mean by endorsement plugin s
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:17:20 GMT):<br/>
any links to such? i wasn't aware of any
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:17:46 GMT):<br/>
also is there any discussion / writeup about these limitations? or keywords that people would use to describe it? thanks!
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:17:46 GMT):<br/>
also is there any discussion / writeup about these limitations? or keywords that people would use to describe it? (perhaps not limited to just EVM setting) thanks!
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:18:29 GMT):<br/>
> run their own BFT as a "pre ordering"
mind elaborate?
</p>
<p><strong>guoger</strong> (Mon, 06 Aug 2018 09:19:08 GMT):<br/>
> also is there any discussion / writeup about these limitations?
Unfortunately no, at least to my knowledge. :(
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:20:58 GMT):<br/>
In the hyperledger fabric arxi paper https://arxiv.org/pdf/1801.10228.pdf this is mentioned:
```
s. As the endorsers simulate the proposal
without synchronizing with other endorsers, two endorsers
may execute it on different states of the ledger and produce different
outputs. For the standard endorsement policy which requires
multiple endorsers to produce the same result, this implies that
under high contention of operations accessing the same keys, a
client may not be able to satisfy the endorsement policy. This is a
new consideration compared to primary-backup replication in replicated
databases with synchronization through middleware [40]: a
consequence of the assumption that no single peer is trusted for
correct execution in a blockchain.
We consciously adopted this design, as it considerably simplifies
the architecture and is adequate for typical blockchain applications.
As demonstrated by the approach of Bitcoin, distributed
applications can be formulated such that contention by operations
accessing the same state can be reduced, or eliminated completely
in the normal case (e.g., in Bitcoin, two operations that modify the
same ‚Äúobject‚Äù are not allowed and represent a double-spending
attack [44]). In the future, we plan to gradually enhance the liveness
semantics of Fabric under contention, in particular to support
CRDTs [51] for complementing the current version dependency
checks, as well as a per-chaincode lead-endorser that would act as
a transaction sequencer
```
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:20:58 GMT):<br/>
In the hyperledger fabric arxi paper https://arxiv.org/pdf/1801.10228.pdf this is mentioned:
```
 As the endorsers simulate the proposal
without synchronizing with other endorsers, two endorsers
may execute it on different states of the ledger and produce different
outputs. For the standard endorsement policy which requires
multiple endorsers to produce the same result, this implies that
under high contention of operations accessing the same keys, a
client may not be able to satisfy the endorsement policy. This is a
new consideration compared to primary-backup replication in replicated
databases with synchronization through middleware [40]: a
consequence of the assumption that no single peer is trusted for
correct execution in a blockchain.
We consciously adopted this design, as it considerably simplifies
the architecture and is adequate for typical blockchain applications.
As demonstrated by the approach of Bitcoin, distributed
applications can be formulated such that contention by operations
accessing the same state can be reduced, or eliminated completely
in the normal case (e.g., in Bitcoin, two operations that modify the
same ‚Äúobject‚Äù are not allowed and represent a double-spending
attack [44]). In the future, we plan to gradually enhance the liveness
semantics of Fabric under contention, in particular to support
CRDTs [51] for complementing the current version dependency
checks, as well as a per-chaincode lead-endorser that would act as
a transaction sequencer
```
</p>
<p><strong>soc1024</strong> (Mon, 06 Aug 2018 09:22:30 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=MRx78E9Ahs5Qp9LTd) Basically among a set of endorsers, they could run a BFT protocol among themselves to tentatively agree on a sequence of transactions before signing them. This would invovle, as suggested above, picking one of them as the leader at any given time, and having some policy for switching leaders if the leader crasehs
</p>
<p><strong>cbf</strong> (Mon, 06 Aug 2018 18:20:50 GMT):<br/>
https://gerrit.hyperledger.org/r/c/25115/ please
</p>
<p><strong>swetha</strong> (Mon, 06 Aug 2018 18:25:04 GMT):<br/>
just finished reviewing it
</p>
<p><strong>cbf</strong> (Mon, 06 Aug 2018 18:54:59 GMT):<br/>
merged, we now have automated CI - yay
</p>
<p><strong>swetha</strong> (Mon, 06 Aug 2018 21:55:54 GMT):<br/>
@cbf @guoger: I have been working on a work around the SDK using the discovery service. But if we are going to start recommending people to use the chaincode as a user chaincode, this work around should no longer be necessary
</p>
<p><strong>swetha</strong> (Mon, 06 Aug 2018 21:57:23 GMT):<br/>
Is user chaincode the way we are going to go? The only thing that I can think of as a problem is the admin only deployment of transactions. Which we can't do with plugins anyway, but could do if we made this into a regular system chaincode
</p>
<p><strong>cbf</strong> (Mon, 06 Aug 2018 22:18:35 GMT):<br/>
I think we should go the way of user chaincode 
</p>
<p><strong>colinster</strong> (Tue, 07 Aug 2018 21:15:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Thu, 09 Aug 2018 03:09:27 GMT):<br/>
I think we have an issue with the Jenkins build: https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/2/execution/node/11/log/. 
</p>
<p><strong>swetha</strong> (Thu, 09 Aug 2018 03:12:01 GMT):<br/>
We need a different way to set the $PATH variable
</p>
<p><strong>puneet</strong> (Thu, 09 Aug 2018 09:35:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>silliman</strong> (Thu, 09 Aug 2018 13:07:22 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Thu, 09 Aug 2018 13:21:12 GMT):<br/>
ping Ramesh on #fabric-ci I haven't looked closely but it may be in the Jenkinsfile - meaning we can fix it ourselves
</p>
<p><strong>cbf</strong> (Thu, 09 Aug 2018 13:21:30 GMT):<br/>
@swetha ^^
</p>
<p><strong>swetha</strong> (Thu, 09 Aug 2018 16:20:26 GMT):<br/>
Thanks!
</p>
<p><strong>guoger</strong> (Fri, 10 Aug 2018 07:14:29 GMT):<br/>
reviewing https://gerrit.hyperledger.org/r/c/25315/
I suppose we will be moving to ginkgo-style integration test in follow up patches?
</p>
<p><strong>guoger</strong> (Fri, 10 Aug 2018 07:14:33 GMT):<br/>
cc @swetha 
</p>
<p><strong>cbf</strong> (Fri, 10 Aug 2018 12:13:48 GMT):<br/>
@guoger yeah, I think that @swetha had some of that WIP b4... but now that we are using user chaincode, we can practically cut-n-paste the fabric integration testing of chaincode
</p>
<p><strong>swetha</strong> (Fri, 10 Aug 2018 19:15:21 GMT):<br/>
Yes, trying to put in the commits one at a time. The stuff I had as a wip will be easy to convert and switch over, but don't want to do everything in one commit
</p>
<p><strong>KellyCooper</strong> (Mon, 13 Aug 2018 14:45:01 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Wed, 15 Aug 2018 05:30:24 GMT):<br/>
https://gerrit.hyperledger.org/r/c/25315/ LGTM, cc @cbf @swetha 
</p>
<p><strong>guoger</strong> (Wed, 15 Aug 2018 09:45:06 GMT):<br/>
@swetha i just realized that hyperledger/fabric-ccenv containers are leaked as well, could you confirm?
</p>
<p><strong>swetha</strong> (Wed, 15 Aug 2018 18:21:55 GMT):<br/>
ill double check but the e2e test  should clean up all the evmcc containers it creates
</p>
<p><strong>swetha</strong> (Wed, 15 Aug 2018 18:37:26 GMT):<br/>
I don't have any leaked containers or images on my end. How are you running the e2e?
</p>
<p><strong>guoger</strong> (Thu, 16 Aug 2018 05:10:37 GMT):<br/>
ah, I see, I ctrl-c the e2e in the middle of building cc image, and ccenv is not reaped by `network_setup.sh down`. I guess it's not a problem
</p>
<p><strong>guoger</strong> (Thu, 16 Aug 2018 05:10:50 GMT):<br/>
CR is still +2'ed i think
</p>
<p><strong>swetha</strong> (Thu, 16 Aug 2018 16:15:53 GMT):<br/>
the evmcc images and containers are removed
</p>
<p><strong>KeenWarrior</strong> (Fri, 17 Aug 2018 07:55:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>minskeyguo</strong> (Sat, 18 Aug 2018 20:28:21 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>bdjidi</strong> (Tue, 21 Aug 2018 22:48:01 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Wed, 22 Aug 2018 03:53:38 GMT):<br/>
https://jira.hyperledger.org/browse/FAB-11082
</p>
<p><strong>raheelz</strong> (Wed, 22 Aug 2018 20:24:04 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>compleatang</strong> (Thu, 23 Aug 2018 08:59:19 GMT):<br/>
@swetha @gouger @cbf just to let you all know (and anyone else), that we've set up the #burrow-downstream room. As the burrow EVM gets more use from downstream projects we wanted to set up a place where your team and the Sawtooth team could raise any issues with using the EVM as a library and where we could make sure you all were aware of any changes we've made to the EVM that are relevant for you as part of our release cycle. Hope y'all will join! 
</p>
<p><strong>compleatang</strong> (Thu, 23 Aug 2018 08:59:19 GMT):<br/>
@swetha @guoger  @cbf just to let you all know (and anyone else), that we've set up the #burrow-downstream room. As the burrow EVM gets more use from downstream projects we wanted to set up a place where your team and the Sawtooth team could raise any issues with using the EVM as a library and where we could make sure you all were aware of any changes we've made to the EVM that are relevant for you as part of our release cycle. Hope y'all will join! 
</p>
<p><strong>guoger</strong> (Thu, 23 Aug 2018 09:13:14 GMT):<br/>
awesome! thx @compleatang 
</p>
<p><strong>swetha</strong> (Thu, 23 Aug 2018 17:06:28 GMT):<br/>
Thats great! thanks @compleatang ! 
</p>
<p><strong>SarahM</strong> (Sat, 25 Aug 2018 17:45:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Mon, 27 Aug 2018 11:33:48 GMT):<br/>
hey all, back from vacation... interested in getting a level-set on progress
</p>
<p><strong>guoger</strong> (Mon, 27 Aug 2018 14:39:45 GMT):<br/>
reviewing swetha's CR for fabproxy
</p>
<p><strong>guoger</strong> (Mon, 27 Aug 2018 14:40:48 GMT):<br/>
https://gerrit.hyperledger.org/r/c/25315/ this LGTM, +2'ed
</p>
<p><strong>guoger</strong> (Mon, 27 Aug 2018 14:41:30 GMT):<br/>
https://gerrit.hyperledger.org/r/c/25717 just clean up, LGTM
</p>
<p><strong>guoger</strong> (Mon, 27 Aug 2018 14:42:04 GMT):<br/>
still need some time to review remainings
</p>
<p><strong>asamk</strong> (Mon, 27 Aug 2018 14:56:01 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Mon, 27 Aug 2018 17:12:24 GMT):<br/>
Those are the initial 2 patches that need to be review. I think in total I have 6 that have to do with the fabproxy as well as cleaning up the evm to be used as a user chaincode
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 11:59:09 GMT):<br/>
Hi guys... been ought of the loop for too long, just been trying to catch up with all the progress of fabric-evm
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 11:59:44 GMT):<br/>
regarding support for web3 - looks like you have integration at the web.js level looking at: https://github.com/christo4ferris/votevm
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 12:00:20 GMT):<br/>
which is an approach we were considering too - are you still planning to provide a proxy server serving the json-rpc?
</p>
<p><strong>guoger</strong> (Tue, 28 Aug 2018 13:48:08 GMT):<br/>
@silasdavis yes! and it's currently under review https://gerrit.hyperledger.org/r/c/24185/
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 14:00:40 GMT):<br/>
@guoger great...
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 14:00:53 GMT):<br/>
It's something that we really ought to get a basic version of into Burrow
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 14:01:33 GMT):<br/>
what might be nice is if we were to share your EthService interface and implement against our underlying API
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 14:01:37 GMT):<br/>
then we could share tests
</p>
<p><strong>silasdavis</strong> (Tue, 28 Aug 2018 14:01:42 GMT):<br/>
we would use gorilla too
</p>
<p><strong>swetha</strong> (Wed, 29 Aug 2018 06:38:57 GMT):<br/>
@silasdavis That was my thought process behind the interface, but we would love feedback about whether that works for you a not
</p>
<p><strong>swetha</strong> (Wed, 29 Aug 2018 06:38:57 GMT):<br/>
@silasdavis That was my thought process behind the interface, but we would love feedback about whether that interface works or not
</p>
<p><strong>swetha</strong> (Wed, 29 Aug 2018 06:39:38 GMT):<br/>
There are some fabric specific things that are tied in, but I did want to make it usable outside of fabric
</p>
<p><strong>silasdavis</strong> (Wed, 29 Aug 2018 16:45:11 GMT):<br/>
It would _feel_ good to share elements of implementation too - and when we come to implement `sendTransactionRaw` which will require some kind of serialisation (RLP) and signing converters then we may want to - but I think that our implementation of the interface would end up being pretty thin in Burrow just like yours is against Fabric
</p>
<p><strong>silasdavis</strong> (Wed, 29 Aug 2018 16:46:02 GMT):<br/>
I will try and find some (of somebody's - possibly my) time to see if I can implement something comparable to what you have - would make a lot of sense to share tests (I wonder if it would make sense for them to live somewhere in Burrow?)
</p>
<p><strong>silasdavis</strong> (Wed, 29 Aug 2018 16:48:25 GMT):<br/>
the other thing I was looking at is providing a web3.js 'Provider' against our GRPC interfaces. We now have something very close to that as part of https://github.com/monax/bosmarmot/tree/develop/burrow.js. In some ways this might be the neater integration point. Rather than trying to aim for full general web3 compliance (which will be necessarily partial anyway) I was going to shoot for getting truffle mostly working with us: https://truffleframework.com/ since it has this provider injection already for making mist/metamask work. I don't actually think it needs much of web3 to work...
</p>
<p><strong>swetha</strong> (Wed, 29 Aug 2018 17:04:58 GMT):<br/>
Sure I would love to work with whoever has some time to see how well this could port over to Burrow. In terms of tests, we haven't created integration tests yet but are thinking about using web3 to verify that our proxy implements the APIs correctly.
We also are starting to look into how Truffle can work with the proxy. The idea of the injected provider is an interesting approach, and as you mention we won't get full web3 compliance just because of how the networks work. I have to think a little more about how that would work with Fabric though since we only integrated the VM portion of Burrow, and don't get access to the GRPC interfaces.
</p>
<p><strong>swetha</strong> (Wed, 29 Aug 2018 17:04:58 GMT):<br/>
Sure I would love to work with you or someone else to see how well this could port over to Burrow. In terms of tests, we haven't created integration tests yet but are thinking about using web3 to verify that our proxy implements the APIs correctly.
We also are starting to look into how Truffle can work with the proxy. The idea of the injected provider is an interesting approach, and as you mention we won't get full web3 compliance just because of how the networks work. I have to think a little more about how that would work with Fabric though since we only integrated the VM portion of Burrow, and don't get access to the GRPC interfaces.
</p>
<p><strong>cbf</strong> (Wed, 29 Aug 2018 17:51:13 GMT):<br/>
+1000 to collaborating:-)
</p>
<p><strong>compleatang</strong> (Wed, 29 Aug 2018 19:14:20 GMT):<br/>
Swetha do you guys have a general purpose js client lib? Basically truffles providers allows you to inject your RPC specific calls into their interpretation. It's a pretty thin layer we think if you already have a client side js lib. 
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 05:39:19 GMT):<br/>
We have a node SDK to talk to fabric, which could probably work. The proxy we are developing is written in go though. I haven't spent time on looking into the truffle integration and what we would need there. Our first priority was web3 and then remix
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 06:14:08 GMT):<br/>
@cbf @guoger pushed up some new patches this morning. because of the ordering I think all the commits need another review
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 06:15:07 GMT):<br/>
Also in terms of docs do we want to add something to fabric docs or do we just want something in the chaincode-evm readme for now?
</p>
<p><strong>guoger</strong> (Thu, 30 Aug 2018 06:15:55 GMT):<br/>
docs of?
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 06:24:36 GMT):<br/>
I am thinking the evm chaincode, how they should install and how to connect up the proxy
</p>
<p><strong>guoger</strong> (Thu, 30 Aug 2018 06:26:58 GMT):<br/>
ah, ok, any particular reason why it should go into fabric docs?
</p>
<p><strong>guoger</strong> (Thu, 30 Aug 2018 06:27:23 GMT):<br/>
what time is it for you?
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 06:42:43 GMT):<br/>
Its almost midnight for me
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 06:43:01 GMT):<br/>
No particular reason, but I think people who would be interested would first go to the fabric docs
</p>
<p><strong>guoger</strong> (Thu, 30 Aug 2018 06:45:51 GMT):<br/>
can we embed a pointer to `chaincode-evm` readme [here](https://github.com/hyperledger/fabric/blob/release-1.2/docs/source/chaincode.rst), saying something like:
> Chaincode is a program, written in Go, node.js, *Contract-Oriented Languages*, and eventually in other programming languages such as Java,
</p>
<p><strong>guoger</strong> (Thu, 30 Aug 2018 06:45:51 GMT):<br/>
can we embed a pointer to `chaincode-evm` readme [here](https://github.com/hyperledger/fabric/blob/release-1.2/docs/source/chaincode.rst), saying something like:
> Chaincode is a program, written in Go, node.js, *Contract-Oriented Languages*(pointer goes here), and eventually in other programming languages such as Java,
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 06:46:17 GMT):<br/>
I like that idea
</p>
<p><strong>guoger</strong> (Thu, 30 Aug 2018 06:47:25 GMT):<br/>
(could also be following _Java_, I don't have preference here)
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 06:52:14 GMT):<br/>
hahah, I don't have a preference on that either
</p>
<p><strong>cbf</strong> (Thu, 30 Aug 2018 12:03:57 GMT):<br/>
yeah, we need to update the docs... but a README would be warranted as well
</p>
<p><strong>cbf</strong> (Thu, 30 Aug 2018 12:04:33 GMT):<br/>
please update the README and I will discuss with the doc team where it belongs
</p>
<p><strong>compleatang</strong> (Thu, 30 Aug 2018 12:07:57 GMT):<br/>
Swetha, I'd need to check on remix specifically, but the way eth systems are generally one implements a `provider` that maps / wraps RPC calls to specific end points. This would mean you wouldn't have to do too much "server" side. 
</p>
<p><strong>swetha</strong> (Thu, 30 Aug 2018 16:43:51 GMT):<br/>
Sorry I think I got a little confused. The proxy we are working on that Jay linked above is our web3 provider. Our first priority was to test it against web3 (basic set of APIs to make this work), then add APIs to make Remix, and follow that pattern for the other tools we want to support. In terms of truffle, we would want to be able to use this proxy as well
</p>
<p><strong>compleatang</strong> (Thu, 30 Aug 2018 18:12:56 GMT):<br/>
Ok. 
</p>
<p><strong>guoger</strong> (Mon, 03 Sep 2018 08:58:28 GMT):<br/>
@swetha is [this CR](https://gerrit.hyperledger.org/r/c/25767/) reviewable or it's still WIP
</p>
<p><strong>swetha</strong> (Mon, 03 Sep 2018 19:54:06 GMT):<br/>
That one is reviewable. There is a timing issue when running the tests in jenkins which is causing build failures. Trying to fix those, so the last 2 will need to be reviewed again.
</p>
<p><strong>guoger</strong> (Tue, 04 Sep 2018 02:17:01 GMT):<br/>
@swetha review done.
- left another comment [here](https://gerrit.hyperledger.org/r/c/24185/18/fabproxy/codec.go#34) but I'm ok if it's not addressed. Also, if you want change err assertions in `ethservice_test.go` to `Expect(err).To(MatchError(ContainString()))` in ensuing CRs, I'm also fine with that.
- [this](https://gerrit.hyperledger.org/r/c/25767/) LGTM, +2'ed

will merge remaining CRs all together. Good job!
</p>
<p><strong>swetha</strong> (Tue, 04 Sep 2018 03:06:52 GMT):<br/>
Thanks, I will add the check you were suggesting. I think that makes sense. That is an easy error to return
</p>
<p><strong>swetha</strong> (Tue, 04 Sep 2018 03:20:20 GMT):<br/>
@guoger , made the changes. let me know if i missed something
</p>
<p><strong>guoger</strong> (Tue, 04 Sep 2018 03:39:30 GMT):<br/>
@swetha +2'ed everything, let's wait for @cbf to give another round of review and they are ready to be merged.
</p>
<p><strong>guoger</strong> (Tue, 04 Sep 2018 03:40:38 GMT):<br/>
also, do you guys have a plan for other APIs to support remix?
</p>
<p><strong>guoger</strong> (Tue, 04 Sep 2018 03:40:43 GMT):<br/>
what's Morgan's chat ID?
</p>
<p><strong>swetha</strong> (Tue, 04 Sep 2018 03:41:02 GMT):<br/>
its @MHBauer 
</p>
<p><strong>swetha</strong> (Tue, 04 Sep 2018 03:41:26 GMT):<br/>
For this release I am only planning on the ones needed for remix
</p>
<p><strong>guoger</strong> (Tue, 04 Sep 2018 03:42:02 GMT):<br/>
is @MHBauer going to do it?
</p>
<p><strong>swetha</strong> (Tue, 04 Sep 2018 03:43:03 GMT):<br/>
Yup, and I will help him with that once I finish a few more things for this release
</p>
<p><strong>guoger</strong> (Tue, 04 Sep 2018 03:43:22 GMT):<br/>
cool
</p>
<p><strong>swetha</strong> (Fri, 07 Sep 2018 04:22:08 GMT):<br/>
@guoger @cbf these patches are ready for review now:
https://gerrit.hyperledger.org/r/26086
https://gerrit.hyperledger.org/r/26087
https://gerrit.hyperledger.org/r/26088

</p>
<p><strong>magicianx25</strong> (Sun, 09 Sep 2018 14:48:15 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Mon, 10 Sep 2018 05:55:51 GMT):<br/>
@swetha  @MHBauer I think it's time to consider using a logger
</p>
<p><strong>swetha</strong> (Mon, 10 Sep 2018 06:39:18 GMT):<br/>
i agree! and since fabric is using zap now we can start using zap!
</p>
<p><strong>guoger</strong> (Mon, 10 Sep 2018 06:42:55 GMT):<br/>
does _nwo_ have hard dependencies of couch+kafka/zk, even though we are just using solo in integration test?
</p>
<p><strong>knagware9</strong> (Mon, 10 Sep 2018 14:03:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Mon, 10 Sep 2018 19:48:35 GMT):<br/>
@guoger, I believe so. I took the simplest test they had it is using couch+kafka/zk. I will take another look and see if it is possible to get rid of all those pieces
</p>
<p><strong>swetha</strong> (Mon, 10 Sep 2018 19:48:35 GMT):<br/>
@guoger, I believe so. I don't think those images are used during the test, but I will take another look. I think the integration packages checks for those images before needing them which forces us to pull them even though we don't need it.
</p>
<p><strong>donsonZhang</strong> (Tue, 11 Sep 2018 04:23:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>JaydipMakadia</strong> (Thu, 13 Sep 2018 13:10:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Sat, 15 Sep 2018 10:05:20 GMT):<br/>
@MHBauer https://jira.hyperledger.org/browse/FAB-7983
</p>
<p><strong>guoger</strong> (Sat, 15 Sep 2018 10:07:07 GMT):<br/>
if it's not soo complicated and prevent us from releasing code, let's do it
</p>
<p><strong>guoger</strong> (Sat, 15 Sep 2018 10:15:03 GMT):<br/>
`return fmt.Errorf("need 2 params, got %q", numParams)` why `%q`?
</p>
<p><strong>swetha</strong> (Mon, 17 Sep 2018 17:44:47 GMT):<br/>
@guoger, I was thinking we should tackle the logger after getting all the other jiras done
</p>
<p><strong>swetha</strong> (Mon, 17 Sep 2018 17:51:16 GMT):<br/>
Where is the above line from?
</p>
<p><strong>guoger</strong> (Tue, 18 Sep 2018 00:02:00 GMT):<br/>
That‚Äôs from one of Morgan‚Äôs CR
</p>
<p><strong>djohnkang</strong> (Tue, 18 Sep 2018 06:14:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 01:35:09 GMT):<br/>
@swetha just wanna make sure, in ethereum, they say "web3 provider", not "JSON RPC provider", correct?
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 01:38:43 GMT):<br/>
just a wild idea, maybe we could call fabproxy `fab3` (echoing `web3`)? :P
</p>
<p><strong>swetha</strong> (Wed, 19 Sep 2018 02:40:44 GMT):<br/>
yes web3 provider is I've seen it be called
</p>
<p><strong>swetha</strong> (Wed, 19 Sep 2018 02:41:02 GMT):<br/>
i kind of like fab3
</p>
<p><strong>swetha</strong> (Wed, 19 Sep 2018 02:41:07 GMT):<br/>
time to rebrand :P
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 03:03:58 GMT):<br/>
@swetha just posted some comments https://gerrit.hyperledger.org/r/c/26172/
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 03:04:42 GMT):<br/>
if we all like `fab3`, let's rename it. wdyt @cbf @MHBauer 
</p>
<p><strong>swetha</strong> (Wed, 19 Sep 2018 03:22:58 GMT):<br/>
Only thing to note is that fab3 is not a parallel to web3. But I like the name
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 03:26:19 GMT):<br/>
can we say `fab3 == web3 provider`?
</p>
<p><strong>swetha</strong> (Wed, 19 Sep 2018 03:29:24 GMT):<br/>
yes
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 03:44:38 GMT):<br/>
lulz
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 03:45:18 GMT):<br/>
you do you. but if we're renaming folders, let's make it more 'conventional go project layout'
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 03:45:39 GMT):<br/>
very frustrating day today.
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 03:53:27 GMT):<br/>
theoretically, with current master branch, should remix work?
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 04:12:44 GMT):<br/>
current master? With my two patches, yes, sort of.
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 04:12:58 GMT):<br/>
Depends on what you define as 'work'.
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 04:13:05 GMT):<br/>
I can make a short video if it would help.
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 04:22:29 GMT):<br/>
I'm trying to deploy simplestorage via remix and got some errors
</p>
<p><strong>guoger</strong> (Wed, 19 Sep 2018 04:22:44 GMT):<br/>
so I just wanna make sure it _should_ work before I give another try later
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 06:42:45 GMT):<br/>
should work with the current patches, tho I may have pushed something today that blew everything up trying to refactor.
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 06:42:48 GMT):<br/>
let me try
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 06:46:19 GMT):<br/>
I see gerrit top f1e2b40e912b0b07f991e7ab8dbade6db37fa763f1e2b40e912b0b07f991e7ab8dbade6db37fa763 that works for me
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 06:47:19 GMT):<br/>
`git review -d 26323 `
</p>
<p><strong>MHBauer</strong> (Wed, 19 Sep 2018 06:47:20 GMT):<br/>
that one
</p>
<p><strong>MHBauer</strong> (Thu, 20 Sep 2018 01:13:54 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=E4CEyg36acwFdjrQZ) @guoger q is for quoted
</p>
<p><strong>MHBauer</strong> (Thu, 20 Sep 2018 01:14:33 GMT):<br/>
so what will get printed is `need 2 params, got "4"`
</p>
<p><strong>MHBauer</strong> (Thu, 20 Sep 2018 01:15:02 GMT):<br/>
so, probably not too relevant in this case, but more useful for errs
</p>
<p><strong>guoger</strong> (Thu, 20 Sep 2018 04:27:04 GMT):<br/>
oh, interesting.. i don't that.. but shouldn't quoted be more suitable for string-like msg? anyway, all lgtm
</p>
<p><strong>guoger</strong> (Thu, 20 Sep 2018 04:27:04 GMT):<br/>
oh, interesting.. i don't know that.. but shouldn't quoted be more suitable for string-like msg? anyway, all lgtm
</p>
<p><strong>MHBauer</strong> (Thu, 20 Sep 2018 05:18:11 GMT):<br/>
agree, agree. sort of a habit I've gotten into. usually makes the arguments "stand out" . more sure about what was "added in" rather than part of the original message text.
</p>
<p><strong>MHBauer</strong> (Thu, 20 Sep 2018 05:18:29 GMT):<br/>
keep an eye out.
</p>
<p><strong>guoger</strong> (Thu, 20 Sep 2018 05:53:14 GMT):<br/>
you have me looked up "keep an eye out" :)
</p>
<p><strong>MHBauer</strong> (Fri, 21 Sep 2018 02:17:14 GMT):<br/>
sorry, idioms, I love them.
</p>
<p><strong>MHBauer</strong> (Fri, 21 Sep 2018 02:17:50 GMT):<br/>
In the future, I may do similar things. Please notify me if this happens again. It is good to talk and think about.
</p>
<p><strong>guoger</strong> (Fri, 21 Sep 2018 02:30:30 GMT):<br/>
i mostly want to thank you for expanding me vocabulary :)
</p>
<p><strong>MHBauer</strong> (Fri, 21 Sep 2018 03:05:48 GMT):<br/>
Oh sure. Ask @Swetha, she'll tell you all about my words. I have the best words.
</p>
<p><strong>MHBauer</strong> (Fri, 21 Sep 2018 03:07:16 GMT):<br/>
I think the idioms are probably the hardest thing about a language. 
</p>
<p><strong>MHBauer</strong> (Fri, 21 Sep 2018 03:07:21 GMT):<br/>
Other than maybe puns.
</p>
<p><strong>MHBauer</strong> (Fri, 21 Sep 2018 03:10:52 GMT):<br/>
and yea, if I say something and it seems wrong, or I am not making sense, ask me to clarify.
</p>
<p><strong>raheelz</strong> (Mon, 24 Sep 2018 16:12:02 GMT):<br/>
Hi, had a question regarding setting up locally with docker containers.  Would it be similar to setting up fabric locally, and then installing and instantiating the evm chaincode (evmcc) ?  Next step, I am assuming would be setting up the proxy..
</p>
<p><strong>raheelz</strong> (Mon, 24 Sep 2018 16:12:02 GMT):<br/>
Hi, had a question regarding setting up locally with docker containers.  Would it be similar to setting up fabric locally, and then installing and instantiating the evm chaincode (evmcc) ?  
</p>
<p><strong>cbf</strong> (Mon, 24 Sep 2018 17:28:54 GMT):<br/>
@raheelz yep. See https://github.com/hyperledger/fabric-chaincode-evm#deploying-the-fabric-evm-chaincode
</p>
<p><strong>swetha</strong> (Mon, 24 Sep 2018 18:40:13 GMT):<br/>
@cbf, need another round of reviews for this patch: https://gerrit.hyperledger.org/r/#/c/26172/
</p>
<p><strong>cbf</strong> (Mon, 24 Sep 2018 19:44:19 GMT):<br/>
ok
</p>
<p><strong>swetha</strong> (Mon, 24 Sep 2018 21:51:46 GMT):<br/>
thanks!
</p>
<p><strong>cbf</strong> (Tue, 25 Sep 2018 11:48:42 GMT):<br/>
thank you!
</p>
<p><strong>zacpl</strong> (Fri, 28 Sep 2018 18:37:19 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>grice32</strong> (Thu, 04 Oct 2018 17:35:19 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Barry_CPF</strong> (Fri, 05 Oct 2018 16:10:26 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Fri, 05 Oct 2018 22:47:46 GMT):<br/>
@cbf @guoger pushed up some commits with integration tests for web3 and fab3 (checking spec implementation). We need to update the pipeline job to have node and working out some tweaks in the tests so commits not quite ready for review
</p>
<p><strong>swetha</strong> (Sat, 06 Oct 2018 18:22:21 GMT):<br/>
@cbf & @guoger we need review on this https://gerrit.hyperledger.org/r/#/c/26827/ to get node installed before our integration tests
</p>
<p><strong>guoger</strong> (Mon, 08 Oct 2018 03:54:03 GMT):<br/>
@swetha do integration tests assume peer and orderer docker images to exist locally?
</p>
<p><strong>guoger</strong> (Mon, 08 Oct 2018 03:57:59 GMT):<br/>
and why does [this](https://gerrit.hyperledger.org/r/c/26829/) trigger an update of ginkgo deps?
</p>
<p><strong>guoger</strong> (Mon, 08 Oct 2018 04:29:29 GMT):<br/>
[this](https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-master-x86_64/130/console) says `ginkgo` not found...
</p>
<p><strong>cbf</strong> (Mon, 08 Oct 2018 11:59:04 GMT):<br/>
@swetha @guoger https://gerrit.hyperledger.org/r/c/26827/ some comments
</p>
<p><strong>swetha</strong> (Mon, 08 Oct 2018 16:20:59 GMT):<br/>
@guoger it runs the peer and orderer from $GOPATH/src/github.com/hyperledger/fabric
</p>
<p><strong>swetha</strong> (Mon, 08 Oct 2018 16:21:38 GMT):<br/>
And still trying to figure out the way to trigger it properly. i think i need to manually add to the path
</p>
<p><strong>cbf</strong> (Mon, 08 Oct 2018 16:38:09 GMT):<br/>
add ginkgo to the path?
</p>
<p><strong>cbf</strong> (Mon, 08 Oct 2018 16:38:18 GMT):<br/>
@swetha ^
</p>
<p><strong>cbf</strong> (Mon, 08 Oct 2018 16:40:13 GMT):<br/>
if that's what you're trying to accomplish, see the integration-test target in fabric makefile and also the gotool.ginkgo target in the gotools.mk
</p>
<p><strong>cbf</strong> (Mon, 08 Oct 2018 16:40:52 GMT):<br/>
also we need to vendor the relevant version of ginkgo 
</p>
<p><strong>guoger</strong> (Mon, 08 Oct 2018 17:04:16 GMT):<br/>
ahh, great. I wasn't sure how to add that :)
</p>
<p><strong>guoger</strong> (Mon, 08 Oct 2018 17:04:56 GMT):<br/>
@swetha not sure which message you were trying to address though...
</p>
<p><strong>cbf</strong> (Mon, 08 Oct 2018 17:56:02 GMT):<br/>
we should be getting binaries from Nexus from stable build
</p>
<p><strong>swetha</strong> (Mon, 08 Oct 2018 22:16:27 GMT):<br/>
Yup I did follow what fabric did, but i think this is running slightly differently than fabric is in jenkins which is causing an issue
</p>
<p><strong>swetha</strong> (Mon, 08 Oct 2018 22:16:37 GMT):<br/>
We are vendoring in the same version of ginkgo as fabric
</p>
<p><strong>swetha</strong> (Mon, 08 Oct 2018 22:17:29 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=8wRYwfaQiiwm2JMLe) @guoger That was related to
```
@swetha do integration tests assume peer and orderer docker images to exist locally?

and why does this trigger an update of ginkgo deps?
```
</p>
<p><strong>swetha</strong> (Mon, 08 Oct 2018 22:17:37 GMT):<br/>
Though I think I misunderstood that last part
</p>
<p><strong>guoger</strong> (Tue, 09 Oct 2018 09:30:00 GMT):<br/>
@swetha ah, they are two different questions and you need to click into the hyperlink of [this](https://gerrit.hyperledger.org/r/c/26829/)
</p>
<p><strong>swetha</strong> (Tue, 09 Oct 2018 13:53:17 GMT):<br/>
It didn't trigger an update. that part of ginkgo wasn't vendored in because we dont use it for our tests (the actually ginkgo binary)
</p>
<p><strong>swetha</strong> (Tue, 09 Oct 2018 13:53:26 GMT):<br/>
so we need to add it in order for ci to install it
</p>
<p><strong>tahaf10</strong> (Sat, 13 Oct 2018 07:06:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>SumanPapanaboina</strong> (Sun, 14 Oct 2018 15:36:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fupeng</strong> (Mon, 15 Oct 2018 14:53:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fupeng</strong> (Mon, 15 Oct 2018 14:54:33 GMT):<br/>
Does fabric-evm support events now?
</p>
<p><strong>cbf</strong> (Mon, 15 Oct 2018 15:21:37 GMT):<br/>
@swetha ?
</p>
<p><strong>guoger</strong> (Mon, 15 Oct 2018 15:41:58 GMT):<br/>
@fupeng if you are thinking of `events` in Ethereum term, meaning it can be indexed, which makes tx query faster, then *no*, it's not supported, because we need to change Fabric to make it work.
</p>
<p><strong>guoger</strong> (Mon, 15 Oct 2018 15:43:07 GMT):<br/>
if it's just to support notification, like other Fabric event, then the CR is in gerrit, not merged yet. It's done by a Hyperledger intern and we'll need to revive it.
</p>
<p><strong>fupeng</strong> (Mon, 15 Oct 2018 16:04:08 GMT):<br/>
thanks!  I am using web3.js. Can I use something like  var event = contract.allEvents()  event.watch(...) ?
</p>
<p><strong>fupeng</strong> (Mon, 15 Oct 2018 16:18:40 GMT):<br/>
"Introduction of events in Smart Contracts"  from "Future Work" part of Extend-Hyperledger-Fabric-to-Support-EVM-Contract-and-Web3-Toolings_Jiannan-Guo-_-Swetha-Repakula.pdf
</p>
<p><strong>fupeng</strong> (Mon, 15 Oct 2018 16:19:19 GMT):<br/>
Sorry for the confusion :slight_smile:
</p>
<p><strong>fupeng</strong> (Mon, 15 Oct 2018 16:27:39 GMT):<br/>
From FAB-8078,  I found  "Current Status: Working through final CR to add event support. Testing underway - deliver soon after v1.3" 
</p>
<p><strong>swetha</strong> (Mon, 15 Oct 2018 16:33:36 GMT):<br/>
@fupeng We are currently working with the Hyperledger Intern to finish testing and fixing the CRs. 
I am not sure that the work being reviewed will allow for a generic watch yet. But I have to double check to make sure
</p>
<p><strong>fupeng</strong> (Mon, 15 Oct 2018 16:43:06 GMT):<br/>
Got it! Thanks a lot.  Hope it is to release soon! :slight_smile:
</p>
<p><strong>swetha</strong> (Mon, 15 Oct 2018 16:48:37 GMT):<br/>
Np!
</p>
<p><strong>swetha</strong> (Mon, 15 Oct 2018 17:03:38 GMT):<br/>
@cbf & @guoger I think the node patch is ready for another round of reviews: https://gerrit.hyperledger.org/r/#/c/26827/
</p>
<p><strong>swetha</strong> (Mon, 15 Oct 2018 22:29:40 GMT):<br/>
@cbf, Sorry didn't see that you were debugging the ginkgo issue. I might have messed up the last build by pushing. I will stop looking into that issue
</p>
<p><strong>cbf</strong> (Mon, 15 Oct 2018 22:30:01 GMT):<br/>
I think I sorted things out
</p>
<p><strong>swetha</strong> (Mon, 15 Oct 2018 22:30:27 GMT):<br/>
oh cool
</p>
<p><strong>cbf</strong> (Mon, 15 Oct 2018 22:32:08 GMT):<br/>
the gotool.ginkgo target was never built - also there's no need to build into the .build which was not in the path anyway
</p>
<p><strong>cbf</strong> (Mon, 15 Oct 2018 22:33:48 GMT):<br/>
hmmm... now b0rked
</p>
<p><strong>swetha</strong> (Mon, 15 Oct 2018 22:45:10 GMT):<br/>
i think its the debug line `which ginkgo`
</p>
<p><strong>swetha</strong> (Mon, 15 Oct 2018 22:45:34 GMT):<br/>
wait nope that's not it
</p>
<p><strong>swetha</strong> (Tue, 16 Oct 2018 04:11:58 GMT):<br/>
@cbf I think i figured out why ginkgo isn't installing properly. Something isn't right about the files that are vendored in. I will keep digging
</p>
<p><strong>swetha</strong> (Tue, 16 Oct 2018 04:42:24 GMT):<br/>
ginkgo should be working in the latest patch
</p>
<p><strong>ibmamnt</strong> (Wed, 17 Oct 2018 07:59:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>KOttoni</strong> (Wed, 17 Oct 2018 19:53:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>KOttoni</strong> (Wed, 17 Oct 2018 19:53:12 GMT):<br/>
Hello--Where in the documentation or elsewhere is there information regarding Ethereum compatibility (tx, tokens) in the 1.3 release? I did a search and couldn't find anything. Thanks!
</p>
<p><strong>swetha</strong> (Wed, 17 Oct 2018 20:58:56 GMT):<br/>
@KOttoni In terms of how we to use ethereum the we have an example tutorial that goes through that. In terms of just compatibility we have a design document that covers some of the limitations: https://docs.google.com/document/d/1xZfdtFiIFvHI7UZAze2xbm5hhgaDHGRBMusozKfpOck/edit?usp=sharing
</p>
<p><strong>swetha</strong> (Wed, 17 Oct 2018 20:58:56 GMT):<br/>
@KOttoni In terms of how we to use ethereum the we have an example tutorial that goes through that:https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md. In terms of just compatibility we have a design document that covers some of the limitations: https://docs.google.com/document/d/1xZfdtFiIFvHI7UZAze2xbm5hhgaDHGRBMusozKfpOck/edit?usp=sharing
</p>
<p><strong>swetha</strong> (Wed, 17 Oct 2018 21:00:49 GMT):<br/>
We are not introducing tokens as part of this work. In terms of transactions, we are using the Burrow EVM (0.18.0). We are still working on getting smart contract events, so that is also a limitation
</p>
<p><strong>cbf</strong> (Thu, 18 Oct 2018 14:55:51 GMT):<br/>
@KOttoni while we aren't introducing tokens, you can deploy an ERC20 or other standard contract to create tokens
</p>
<p><strong>cbf</strong> (Thu, 18 Oct 2018 14:56:36 GMT):<br/>
the tx format is consistent with web3 
</p>
<p><strong>AndrewNRise</strong> (Fri, 19 Oct 2018 08:19:40 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>devlintrace</strong> (Fri, 19 Oct 2018 17:32:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>raheelz</strong> (Fri, 19 Oct 2018 19:59:59 GMT):<br/>
Hi, I am working on this project for a code pattern on loyalty points use case with fabric-evm: https://github.com/raheelzubairy/loyalty-points-evm-fabric. I would appreciate any feedback or if anything stands out.  I used the example tutorial for the setup of Fabric-EVM.  And truly liked the idea of creating a smart contract in Solidity and using web3 for the application, with the deployment on Fabric.  Again, please let me know any concerns or feedback. -thanks
</p>
<p><strong>guoger</strong> (Sat, 20 Oct 2018 06:50:01 GMT):<br/>
wow, nice...
</p>
<p><strong>swetha</strong> (Mon, 22 Oct 2018 09:52:58 GMT):<br/>
@raheelz That's awesome.Will let you know if we have any feedback!
</p>
<p><strong>grapebaba</strong> (Wed, 24 Oct 2018 00:59:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>bobsummerwill</strong> (Thu, 25 Oct 2018 06:58:47 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Thu, 25 Oct 2018 17:49:08 GMT):<br/>
@cbf & @guoger I think this patch is ready to be reviewed: https://gerrit.hyperledger.org/r/#/c/26241/
</p>
<p><strong>htinshar</strong> (Mon, 29 Oct 2018 08:50:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 01:46:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 02:03:53 GMT):<br/>
Hi there, is there a way to get the private key to the ethereum address created via instantiating the chaincode and accessible via the fabproxy?
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 02:04:16 GMT):<br/>
(i used raheelz repo readme)
</p>
<p><strong>guoger</strong> (Wed, 31 Oct 2018 05:23:12 GMT):<br/>
@kaustavha sorry i don't understand you question... are you trying to get the priv key that is used to instantiate evm chaincode?
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 08:13:35 GMT):<br/>
i am trying to get the priv key behind the default account given to us. and yes i do believe its used to instantiate evm contracts, its an ethereum account on the evm, but not to instantiate evm chaincode
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 08:14:18 GMT):<br/>
https://github.com/IBM/loyalty-points-evm-fabric
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 08:14:36 GMT):<br/>
if you look at that readme, im trying to get the privkey behind the web3.eth.accounts[0] entity in step 3
</p>
<p><strong>guoger</strong> (Wed, 31 Oct 2018 08:39:21 GMT):<br/>
@kaustavha ah, in that case, it's the priv key you start `fab3`(fabproxy) with. what `evmcc` does is to `stub.GetCreator()` and convert it to address.
</p>
<p><strong>sreeharsha_katta</strong> (Wed, 31 Oct 2018 13:05:38 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 13:37:08 GMT):<br/>
Ah okay so perhaps i can hook into the fab proxy and get it to spit out the privkey then. 
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 13:39:41 GMT):<br/>
So im trying to run the simpleStorage contract but i keep getting errors after deploying the contract
```
myContract.set(10)
Error: Failed to execute transaction: Transaction processing for endorser [localhost:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to deploy code: call error: invalid opcode 4D697373696E67206F70636F64652030783437

```
</p>
<p><strong>kaustavha</strong> (Wed, 31 Oct 2018 13:40:03 GMT):<br/>
```
 myContract.get()
Error: Failed to query the ledger: ChaincodeID and Fcn are required
```
</p>
<p><strong>swetha</strong> (Wed, 31 Oct 2018 22:43:04 GMT):<br/>
@kaustavha I need a little more information about the setup. Those errors look like fab3 isn't properly configured with your network
</p>
<p><strong>swetha</strong> (Wed, 31 Oct 2018 22:44:44 GMT):<br/>
Also the account address that you get that you need for web3, is not the private key. It is an address that is generated from a user's public key. You need it because web3 requires it to be set, but in terms of fabric it looks at the public key of the signed transaction and doesn't pay attention to the converted account address.
</p>
<p><strong>swetha</strong> (Wed, 31 Oct 2018 22:45:11 GMT):<br/>
Is this the tutorial you are looking at https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md ?
</p>
<p><strong>swetha</strong> (Wed, 31 Oct 2018 22:45:11 GMT):<br/>
If you are testing the simple storage contract this might be a better tutorial: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md ?
</p>
<p><strong>swetha</strong> (Wed, 31 Oct 2018 22:47:45 GMT):<br/>
Also what did you need the private key for? The account address that gets spit out is mostly needed to be able to use web3. The address as Jay mentions is just a translation of a person's public key
</p>
<p><strong>swetha</strong> (Wed, 31 Oct 2018 22:49:30 GMT):<br/>
The private key should be in your generated certificates for the user you have specified for fab3 (fabproxy)
</p>
<p><strong>MHBauer</strong> (Wed, 31 Oct 2018 23:35:01 GMT):<br/>
@cbf @guoger , https://gerrit.hyperledger.org/r/#/c/26323/ has gotten a couple rounds of review from @swetha , and should be close. 
</p>
<p><strong>MHBauer</strong> (Wed, 31 Oct 2018 23:35:33 GMT):<br/>
this is the implementaiton of I think the last function necessary in the json-rpc for remix to work as far as I've tested.
</p>
<p><strong>guoger</strong> (Thu, 01 Nov 2018 03:30:28 GMT):<br/>
great, i'll take a look today
</p>
<p><strong>guoger</strong> (Thu, 01 Nov 2018 03:30:31 GMT):<br/>
btw, https://www.the-blockchain.com/2018/10/28/ethereum-now-on-hyperledger-fabric/
</p>
<p><strong>guoger</strong> (Thu, 01 Nov 2018 03:31:08 GMT):<br/>
we are reported :) also, folks in china are chatting about this in wechat groups and excited to try
</p>
<p><strong>htinshar</strong> (Thu, 01 Nov 2018 05:16:07 GMT):<br/>
When I pass long byte code of the smart contract to this command, `peer chaincode invoke -n <chaincodeName> -C hivelocitychannel  -c '{"Args":["0000000000000000000000000000000000000000","'<long byteCode>'"]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/hivelocity.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
`, I've got this error `Error: endorsement failure during invoke. response: status:500 message:"failed to deploy code: call error: REVERT not yet fully implemented`. But when I try to pass short byte code, the command is pass and contract is correctly install. I would like to know, how can I pass long byte code to that command. 
</p>
<p><strong>htinshar</strong> (Thu, 01 Nov 2018 05:16:07 GMT):<br/>
When I pass long byte code of the smart contract to this command, `peer chaincode invoke -n <chaincodeName> -C hivelocitychannel  -c '{"Args":["0000000000000000000000000000000000000000","'<long byteCode>'"]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/hivelocity.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
`,  I have got this error `Error: endorsement failure during invoke. response: status:500 message:"failed to deploy code: call error: REVERT not yet fully implemented`. But when I try to pass short byte code, the command is pass and contract is correctly install. I would like to know, how can I pass long byte code to that command. 
</p>
<p><strong>htinshar</strong> (Thu, 01 Nov 2018 05:16:07 GMT):<br/>
When I pass long byte code of the smart contract to this command, ```peer chaincode invoke -n <chaincodeName> -C hivelocitychannel  -c '{"Args":["0000000000000000000000000000000000000000","'<long byteCode>'"]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/hivelocity.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
```,  I have got this error `Error: endorsement failure during invoke. response: status:500 message:"failed to deploy code: call error: REVERT not yet fully implemented`. But when I try to pass short byte code, the command is pass and contract is correctly install. I would like to know, how can I pass long byte code to that command. 
</p>
<p><strong>htinshar</strong> (Thu, 01 Nov 2018 05:16:07 GMT):<br/>
When I pass long byte code of the smart contract to this command, ```peer chaincode invoke -n <chaincodeName> -C <channelname>  -c '{"Args":["0000000000000000000000000000000000000000","'<long byteCode>'"]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/hivelocity.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
```,  I have got this error `Error: endorsement failure during invoke. response: status:500 message:"failed to deploy code: call error: REVERT not yet fully implemented`. But when I try to pass short byte code, the command is pass and contract is correctly install. I would like to know, how can I pass long byte code to that command. 
</p>
<p><strong>guoger</strong> (Thu, 01 Nov 2018 05:18:50 GMT):<br/>
i don't think there's a problem with the length of bytecode. i suspect the bytecode is erroneous... make sure you are installing compiled bytecode, instead of runtime bytecode
</p>
<p><strong>guoger</strong> (Thu, 01 Nov 2018 05:18:50 GMT):<br/>
i don't think this is a problem with the length of bytecode. i suspect the bytecode is erroneous... make sure you are installing compiled bytecode, instead of runtime bytecode
</p>
<p><strong>htinshar</strong> (Thu, 01 Nov 2018 05:27:39 GMT):<br/>
@guoger This is my test contract `https://ropsten.etherscan.io/address/0x85fd9925754267054c11d3ba7cae31167fde4a45`, I also try with copy the source code to `remix` and get the compiled bytecode from `remix`.  And pass that bytecode to above command, but the error is still happen. 
</p>
<p><strong>htinshar</strong> (Thu, 01 Nov 2018 10:10:27 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=NacdxATbMweTZqxRR) @guoger  I found the bugs, the error is because of I use `oraclize` service in my smart contract.
</p>
<p><strong>swetha</strong> (Thu, 01 Nov 2018 16:56:27 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=prKd3xJ7AB9W8LuPs) @guoger Seems to be a lot of articles coming up about the work!
</p>
<p><strong>MHBauer</strong> (Thu, 01 Nov 2018 17:45:50 GMT):<br/>
wowee
</p>
<p><strong>MHBauer</strong> (Thu, 01 Nov 2018 17:46:03 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=prKd3xJ7AB9W8LuPs) @guoger super duper
</p>
<p><strong>MHBauer</strong> (Thu, 01 Nov 2018 17:47:03 GMT):<br/>
I should pet back on the FRENCH + CHINESE language lessons.
</p>
<p><strong>MHBauer</strong> (Thu, 01 Nov 2018 17:47:12 GMT):<br/>
and typing.
</p>
<p><strong>nrohith</strong> (Fri, 02 Nov 2018 20:46:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>carlosfaria</strong> (Sat, 03 Nov 2018 00:54:03 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Sat, 03 Nov 2018 01:23:50 GMT):<br/>
@MHBauer replied in [your CR](https://gerrit.hyperledger.org/r/c/26323/), LGTM, +2'ed.
</p>
<p><strong>swetha</strong> (Mon, 05 Nov 2018 19:11:20 GMT):<br/>
and with that i believe we have remix support!
</p>
<p><strong>cbf</strong> (Tue, 06 Nov 2018 07:28:29 GMT):<br/>
@MHBauer I tweaked your CR to get it to pass CI https://gerrit.hyperledger.org/r/c/27295/
</p>
<p><strong>cbf</strong> (Tue, 06 Nov 2018 07:28:50 GMT):<br/>
@swetha awesome!
</p>
<p><strong>yoheiueda</strong> (Wed, 07 Nov 2018 01:17:22 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>enriquebusti</strong> (Wed, 07 Nov 2018 12:01:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>matthewphamilton</strong> (Wed, 07 Nov 2018 14:28:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>matthewphamilton</strong> (Wed, 07 Nov 2018 14:30:04 GMT):<br/>
Lots of articles about this work, congrats to everyone. Where can I find documentation to learn more?
</p>
<p><strong>swetha</strong> (Wed, 07 Nov 2018 18:10:25 GMT):<br/>
Our tutorial/doc at the moment is here: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md
</p>
<p><strong>swetha</strong> (Wed, 07 Nov 2018 18:10:25 GMT):<br/>
@matthewphamilton Our tutorial/doc at the moment is here: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md
</p>
<p><strong>matthewphamilton</strong> (Wed, 07 Nov 2018 19:22:05 GMT):<br/>
ty @swetha 
</p>
<p><strong>swetha</strong> (Wed, 07 Nov 2018 19:22:14 GMT):<br/>
Np!
</p>
<p><strong>mkhraisha</strong> (Wed, 07 Nov 2018 21:46:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Thu, 08 Nov 2018 01:26:57 GMT):<br/>
@cbf thanks for looking at https://gerrit.hyperledger.org/r/27295
</p>
<p><strong>VenkatThota</strong> (Thu, 08 Nov 2018 11:10:50 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Afe95</strong> (Sat, 10 Nov 2018 14:38:43 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Mon, 12 Nov 2018 17:18:13 GMT):<br/>
@cbf @guoger @MHBauer https://gerrit.hyperledger.org/r/#/c/26824/ this is finally ready for review
</p>
<p><strong>mkhraisha</strong> (Mon, 12 Nov 2018 20:46:32 GMT):<br/>
Hi, is there any way i can currently see what the transaction did? so if i make a call on a smart contract in the EVMCC to mint 5 tokens to address 1, where would i be able to look for that information?
</p>
<p><strong>swetha</strong> (Mon, 12 Nov 2018 21:54:55 GMT):<br/>
@mkhraisha Are you wanting to see the transaction inputs? You can query the fabric ledger for the transaction using the Fabric txID or you can pass in the txID to getTransactionByHash using Fab3 and web3. The EVMCC does not have any tokens associated with it and accounts will not have any balance either, in case that was what you were asking in the second part of your question. The "account" is generated on the fly from the user's public key but not stored anywhere.
</p>
<p><strong>rameshthoomu</strong> (Tue, 13 Nov 2018 00:55:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rameshthoomu</strong> (Tue, 13 Nov 2018 01:05:50 GMT):<br/>
@swetha ^^
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 01:08:37 GMT):<br/>
Oh great! thanks @rameshthoomu !
</p>
<p><strong>compleatang</strong> (Tue, 13 Nov 2018 04:05:16 GMT):<br/>
That's a sad bot right there! ;-)
</p>
<p><strong>mkhraisha</strong> (Tue, 13 Nov 2018 16:04:36 GMT):<br/>
@swetha When i query the ledger using a fabric txID i get a txHash, a blockHash, a blockNumber, contractAddress ,gasUsed,cumGasUsed and transactionIndex. I would like to know what function was called on the contract. for example in a normal Ethereum TX theres a logs object that in an ERC20 transfer would include from/to/amount etc. If i implement that exact same erc20 in the evmcc how am i able to know my tx details
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 18:35:35 GMT):<br/>
@mkhraisha How are you querying the ledger?
</p>
<p><strong>mkhraisha</strong> (Tue, 13 Nov 2018 18:38:31 GMT):<br/>
from fab3 for example fab3.eth.getTransactionReceipt(tx);
</p>
<p><strong>mkhraisha</strong> (Tue, 13 Nov 2018 18:38:31 GMT):<br/>
@swetha  from fab3 for example fab3.eth.getTransactionReceipt(tx);
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 18:39:48 GMT):<br/>
do `fab3.eth.getTransaction(tx)`
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 18:40:24 GMT):<br/>
that should give you some more information
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 18:42:28 GMT):<br/>
We also don't support logs or events at the moment
</p>
<p><strong>mkhraisha</strong> (Tue, 13 Nov 2018 18:43:15 GMT):<br/>
do you support a way to get all of my transaction history
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 18:44:20 GMT):<br/>
No, we don't have any filtering implemented yet. You have manually go through the blocks
</p>
<p><strong>eetti</strong> (Tue, 13 Nov 2018 18:45:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>mkhraisha</strong> (Tue, 13 Nov 2018 18:46:32 GMT):<br/>
ok thank you
</p>
<p><strong>mkhraisha</strong> (Tue, 13 Nov 2018 19:13:14 GMT):<br/>
@swetha i have attempted to do fab3.eth.getTransaction(tx) however it tells me that it can't find method "eth.getTransactionByHash"
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 20:08:31 GMT):<br/>
@mkhraisha That was a recent change that was added, so try pulling on master and rebuilding fab3
</p>
<p><strong>swetha</strong> (Tue, 13 Nov 2018 20:13:24 GMT):<br/>
@cbf & @guoger, this is ready for review: https://gerrit.hyperledger.org/r/#/c/27295/
</p>
<p><strong>guoger</strong> (Wed, 14 Nov 2018 01:41:02 GMT):<br/>
merged
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 04:39:27 GMT):<br/>
got a more patches to be reviewed: https://gerrit.hyperledger.org/r/#/c/27515/
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 04:39:27 GMT):<br/>
got more patches to be reviewed: https://gerrit.hyperledger.org/r/#/c/27515/
</p>
<p><strong>htinshar</strong> (Wed, 14 Nov 2018 05:06:59 GMT):<br/>
smart contract can call function from another contract in fabric-evm? I have smart contract A and B and both contract are installed under one evm chaincode. Installation and invoke single function is fine. But when I invoke the function from contract A which is calling contract B function, It show `Contract does not have permission to call` error. I'm also pass contact B address in constructor argument when I deploy with web3 js SDK. This is sample test contract ``` contract A  {
   ContractBInterface  contractB;

       constructor(ContractBInterface _stateHolder) public {
        contractB = _stateHolder;
    }

    function getFee() public view returns(uint256) {
         uint256f fee = contractB.getFee();
         return fee;
   }
}
```
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 10:25:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 10:27:31 GMT):<br/>
@swetha I have recently watched the video which explains about `EVM with Fabric`. Can we do `value transaction` using `EVM`? If yes, where does actually does? Inside the Hyperledger Fabric or Etherum Network?
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 10:31:01 GMT):<br/>
https://www.youtube.com/watch?v=Rr1Qi-n8vag => Explained well.
</p>
<p><strong>MuthuT</strong> (Wed, 14 Nov 2018 14:32:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cbf</strong> (Wed, 14 Nov 2018 15:08:50 GMT):<br/>
@hyper-sunder not clear what you mean by a value transaction. Do you mean can you transact token ownership? To be clear, the EVM in the fabric-chaincode-evm is completely independent of the Ethereum network. We don't have Ether, and we don't require gas for smart contract operations. You can deploy an Ethereum smart contract written in Solidity, Vyper or any other valid DSL that can be compiled into EVM bytecode. e.g. you could deploy an ERC20 token contract and leverage it to manage ownership and transfers of a token - where that token exists within the context of the Fabric network in which it was initially created.
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 16:55:25 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=HgKmxmRJL3asRKZFQ) @htinshar @htinshar I am not sure why that error occurred. Is it possible to send me the two contracts you used for me to investigate?
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 16:55:25 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=HgKmxmRJL3asRKZFQ) @htinshar  I am not sure why that error occurred. Is it possible to send me the two contracts you used for me to investigate?
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 17:06:21 GMT):<br/>
@cbf thanks for the reply. The `value transaction` means, transferring `Ether` from one account to another. 
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 17:11:07 GMT):<br/>
@cbf So, EVM is used to run `Ethereum Smart Contract` written Solidity, Vyper or any other valid DSL in `Fabric` without refactoring it? Its not to do with `Ether` coin or token. Am I correct? Kindly correct me if I am wrong
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 17:14:28 GMT):<br/>
@hyper-sunder yes you are correct. If it can be compiled into EVM bytecode it should be able to run in the EVM in fabric. However as Chris mentioned we do not support Ether, value transactions, or any other tokens.
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 17:15:36 GMT):<br/>
@swetha Thanks a lot :)
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 17:15:48 GMT):<br/>
Is there any roadmap for the same?
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 17:16:12 GMT):<br/>
For tokens, no we don't have any plan for adding them as part of the EVM work
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 17:20:15 GMT):<br/>
@swetha fine. For instance, if a `Ethereum Smart Contract` involves some kind of amount transaction and I convert it into bytecode and install install it in `fabric-channel`. In that case how does EVM handles the `amount transfer` part of code? 
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 17:23:11 GMT):<br/>
The asset that is being transferred would have to be part of the smart contract. If you do amount transfer in which you are transferring ether from one account to another, that will fail. We don't store user accounts as we don't need to keep track of balances
</p>
<p><strong>hyper-sunder</strong> (Wed, 14 Nov 2018 17:24:34 GMT):<br/>
@swetha and @cbf thanks a lot for clarification and making me to understand
</p>
<p><strong>swetha</strong> (Wed, 14 Nov 2018 17:24:44 GMT):<br/>
Np!
</p>
<p><strong>htinshar</strong> (Thu, 15 Nov 2018 04:12:39 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=oRJbc84Rs8Kn5e9N6) @swetha @swetha yes, I will send you my test contract address in etherscan. This is contract A-token contract(https://ropsten.etherscan.io/address/0x380e270dd784ad78bffe868739312dc316471463), This is contract B(https://ropsten.etherscan.io/address/0x3df6f9f4bac332a533b8faa419800aadbeedd711#code)
</p>
<p><strong>htinshar</strong> (Thu, 15 Nov 2018 04:12:39 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=oRJbc84Rs8Kn5e9N6) @swetha  yes, I will send you my test contract address in etherscan. This is contract A-token contract(https://ropsten.etherscan.io/address/0x380e270dd784ad78bffe868739312dc316471463), This is contract B(https://ropsten.etherscan.io/address/0x3df6f9f4bac332a533b8faa419800aadbeedd711#code)
</p>
<p><strong>htinshar</strong> (Thu, 15 Nov 2018 04:12:39 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=oRJbc84Rs8Kn5e9N6) @swetha  yes, I will send you my test contract address in etherscan. This is contract A-token contract(https://ropsten.etherscan.io/address/0x380e270dd784ad78bffe868739312dc316471463), This is contract B(https://ropsten.etherscan.io/address/0x3df6f9f4bac332a533b8faa419800aadbeedd711#code). When I invoke `transfer` function from contract A, I got the `Contract does not have permission to call ` error.
</p>
<p><strong>htinshar</strong> (Thu, 15 Nov 2018 04:12:39 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=oRJbc84Rs8Kn5e9N6) @swetha  yes, I will send you my test contract address in etherscan. This is contract A-token contract(https://ropsten.etherscan.io/address/0x380e270dd784ad78bffe868739312dc316471463), This is contract B(https://ropsten.etherscan.io/address/0x3df6f9f4bac332a533b8faa419800aadbeedd711#code). When I invoke `transfer` function from contract A (with web3 sdk), I got the `Contract does not have permission to call ` error.
</p>
<p><strong>knagware9</strong> (Thu, 15 Nov 2018 11:03:17 GMT):<br/>
@swetha I tried to setup EVM smart contract on fabric and able to succefully deploy and invoke smart contract but while using fabproxy not able to get contract address during contract deployment ,.,.where we can check the logs ..please find the error
</p>
<p><strong>knagware9</strong> (Thu, 15 Nov 2018 11:03:47 GMT):<br/>

<br/><a href="./assets/Hn72Diub9uHNQ5zSt-Screenshot from 2018-11-15 16-33-30.png">Screenshot from 2018-11-15 16-33-30.png</a>
</p>
<p><strong>swetha</strong> (Thu, 15 Nov 2018 18:32:38 GMT):<br/>
@knagware9 when you deploy the contract only the transaction hash will be filled in. you get the contract address by getting the transaction receipt for the deployment. 
</p>
<p><strong>swetha</strong> (Thu, 15 Nov 2018 19:22:45 GMT):<br/>
@htinshar When you say contract A what is the actual token you have deployed and how are you initializing the balances?
</p>
<p><strong>htinshar</strong> (Fri, 16 Nov 2018 02:16:46 GMT):<br/>
@swetha when deploy token contract(A), initial token supply is already set up. You might be notice at `INITIAL_SUPPLY` value and set that value to owner `balances[msg.sender] = INITIAL_SUPPLY`.  In that contract when I remove line `349 to 352` (which is calling function from another contract), I can invoke transfer function from `web3` with `fabric proxy`. And also, before migrating to fabric, every function can invoke when I test that contracts with native evm and `web3` sdk.
</p>
<p><strong>htinshar</strong> (Fri, 16 Nov 2018 02:16:46 GMT):<br/>
@swetha when deploy token contract(A), initial token supply is already set up. You might be notice at `INITIAL_SUPPLY` value and set that value to owner `balances[msg.sender] = INITIAL_SUPPLY`.  In that contract when I remove line `349 to 352` (which is calling function from another contract), I can invoke transfer function from `web3` with `fabric proxy`. And also, before migrating to fabric, every function can invoke when I test that contracts with native evm and `web3` sdk. Do you have any example resources for testing fabric evmcc with two smart contract which is calling function through interface?
</p>
<p><strong>htinshar</strong> (Fri, 16 Nov 2018 02:16:46 GMT):<br/>
@swetha Thanks for your reply. When deploy token contract(A), initial token supply is already set up. You might be notice at `INITIAL_SUPPLY` value and set that value to owner `balances[msg.sender] = INITIAL_SUPPLY`. And actual token is custom token which is similar like this contract `https://www.ethereum.org/token`. But I was calling function from another contract in my custom token contract. In my contract when I remove line `349 to 352` (which is calling function from another contract), I can invoke transfer function from `web3` with `fabric proxy`. And also, before migrating to fabric, every function can invoke when I test that contracts with native evm and `web3` sdk. Do you have any example resources for testing fabric evmcc with two smart contract which is calling function through interface?
</p>
<p><strong>bairathirahul</strong> (Fri, 16 Nov 2018 03:43:31 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>knagware9</strong> (Fri, 16 Nov 2018 05:00:26 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=Se5GqcYMaADHYbLeK) @swetha How I can get the transaction receipt ,,we need contract address for next steps
</p>
<p><strong>htinshar</strong> (Fri, 16 Nov 2018 05:12:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=nyb8hGJyyMbPL6wr3) @knagware9 @knagware9 after `deployedContract = SimpleStorage.new([], {data: simpleStorageBytecode}) `, you can get your contract address with this script `address = web3.eth.getTransactionReceipt(deployedContract.transactionHash).contractAddress`(small letter `C` in `contractAddress`)
</p>
<p><strong>htinshar</strong> (Fri, 16 Nov 2018 05:12:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=nyb8hGJyyMbPL6wr3) @knagware9  after `deployedContract = SimpleStorage.new([], {data: simpleStorageBytecode}) `, you can get your contract address with this script `address = web3.eth.getTransactionReceipt(deployedContract.transactionHash).contractAddress`(small letter `C` in `contractAddress`)
</p>
<p><strong>knagware9</strong> (Fri, 16 Nov 2018 05:25:19 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=g3KJxB8o5H224sEpW) @htinshar Thanks it works...actually in the instructions its Capital C  https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md 
</p>
<p><strong>knagware9</strong> (Fri, 16 Nov 2018 07:31:48 GMT):<br/>
@swetha @htinshar I tried to setup https://github.com/IBM/vote-hyperledger-ethereum
</p>
<p><strong>knagware9</strong> (Fri, 16 Nov 2018 07:32:11 GMT):<br/>
everyting works fine but during Vote .its giving error
</p>
<p><strong>knagware9</strong> (Fri, 16 Nov 2018 07:32:22 GMT):<br/>
xample app listening on port 3000!
Error: Failed to query the ledger: Transaction processing for endorser [localhost:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: call error: REVERT not yet fully implemented
    at Object.InvalidResponse (/home/kamlesh/work/src/github.com/hyperledger/web3-fabric-voting-dapp/node_modules/web3/lib/web3/errors.js:38:16)
    at RequestManager.send (/home/kamlesh/work/src/github.com/hyperledger/web3-fabric-voting-dapp/node_modules/web3/lib/web3/requestmanager.js:61:22)

</p>
<p><strong>knagware9</strong> (Fri, 16 Nov 2018 07:33:01 GMT):<br/>

<br/><a href="./assets/3f5YWifabTQ2Bm5xY-Screenshot from 2018-11-16 13-02-44.png">Screenshot from 2018-11-16 13-02-44.png</a>
</p>
<p><strong>htinshar</strong> (Fri, 16 Nov 2018 08:05:24 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=sEwNEvmNtpfWFqhxM) @knagware9 it is working, what value do you put in text box? In `server.js` line `25`, contract is deploy and init `candidateList` with this three value `yes, no, maybe`. So in UI textbox you should add `yes` or `no` or `maybe` with `small letter`.
</p>
<p><strong>knagware9</strong> (Fri, 16 Nov 2018 08:20:01 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=eKeycmSDLpJFHG2ij) @htinshar Thanks...its taking only small letter like yes no
</p>
<p><strong>swetha</strong> (Fri, 16 Nov 2018 18:42:08 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=g3KJxB8o5H224sEpW) @htinshar Thanks for catching that. We will fix that in the readme
</p>
<p><strong>swetha</strong> (Fri, 16 Nov 2018 20:01:31 GMT):<br/>
@htinshar I am able to recreate the error and am looking into it
</p>
<p><strong>swetha</strong> (Fri, 16 Nov 2018 20:41:36 GMT):<br/>
I have created a jira ticket for the problem. Thanks for finding the bug: https://jira.hyperledger.org/browse/FAB-12903
</p>
<p><strong>swetha</strong> (Fri, 16 Nov 2018 20:41:36 GMT):<br/>
I have created a jira issue for the problem. Thanks for finding the bug: https://jira.hyperledger.org/browse/FAB-12903
</p>
<p><strong>swetha</strong> (Fri, 16 Nov 2018 20:49:26 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=pfSBTBmmc6Pthwp9A) @knagware9 Can you make an issue on that repo explaining the problem?
</p>
<p><strong>BellaAdams</strong> (Sat, 17 Nov 2018 00:45:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Sat, 17 Nov 2018 01:40:04 GMT):<br/>
@cbf & @guoger this is ready for review: https://gerrit.hyperledger.org/r/#/c/27624/
</p>
<p><strong>htinshar</strong> (Mon, 19 Nov 2018 03:04:55 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=H9mTfwsWtXpNghSsn) @swetha Thank you 
</p>
<p><strong>knagware9</strong> (Mon, 19 Nov 2018 06:15:10 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=JojymQ8xDfjLtt9sL) @swetha Swetha .its not issue ..just small & capital letter issue 
</p>
<p><strong>snowy13</strong> (Mon, 19 Nov 2018 15:57:19 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Mon, 19 Nov 2018 19:16:31 GMT):<br/>
@cbf @guoger @swetha https://gerrit.hyperledger.org/r/#/c/27497/ should be done. has testing now, full implemented the fuller transaction details.
</p>
<p><strong>swetha</strong> (Mon, 19 Nov 2018 19:28:37 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=7i5mtaoseaQqCjAqE) @knagware9 Even then, I would create a github issue explaining the confusion
</p>
<p><strong>huxiangdong</strong> (Tue, 20 Nov 2018 00:32:28 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Tue, 20 Nov 2018 18:39:11 GMT):<br/>
anybody around know how to troubleshoot the integration tests? 
```
[d][OrdererOrg.orderer] spawned /var/folders/km/qbjq1l4n0hng7j8jtc4kgjv00000gn/T/gexec_artifacts786700117/g779727705/orderer (pid: 8851)
[e][OrdererOrg.orderer] 2018-11-20 10:34:40.822 PST [orderer.common.server] Main -> ERRO 001 failed to parse config:  Error unmarshaling config into struct: 1 error(s) decoding:
[e][OrdererOrg.orderer]
[e][OrdererOrg.orderer] * 'General' has invalid keys: LogFormat, LogLevel
```
I don't know how to begin looking at this.
</p>
<p><strong>MHBauer</strong> (Tue, 20 Nov 2018 18:45:15 GMT):<br/>
works on the server, but I'd like to run it on my machine before pushing
</p>
<p><strong>MHBauer</strong> (Tue, 20 Nov 2018 19:31:40 GMT):<br/>
weird issue involving the gopath, I think.
</p>
<p><strong>MHBauer</strong> (Tue, 20 Nov 2018 19:32:16 GMT):<br/>
tests seem to use fabric in local gopath if it exists, but will download their own if it does not. 
</p>
<p><strong>MHBauer</strong> (Tue, 20 Nov 2018 19:58:24 GMT):<br/>
and it downloads a new copy into the gopath, that's not good.
</p>
<p><strong>MHBauer</strong> (Tue, 20 Nov 2018 21:11:42 GMT):<br/>
pushed additional content to the existing web3 tests in https://gerrit.hyperledger.org/r/27682/

</p>
<p><strong>sanket1211</strong> (Wed, 21 Nov 2018 06:12:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>engiwip</strong> (Wed, 21 Nov 2018 19:11:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>engiwip</strong> (Wed, 21 Nov 2018 19:11:09 GMT):<br/>
Hi
</p>
<p><strong>engiwip</strong> (Wed, 21 Nov 2018 19:12:00 GMT):<br/>
I ve had an issue on docker image
</p>
<p><strong>engiwip</strong> (Wed, 21 Nov 2018 19:12:38 GMT):<br/>
https://github.com/IBM/loyalty-points-evm-fabric/issues/6
</p>
<p><strong>engiwip</strong> (Wed, 21 Nov 2018 19:13:34 GMT):<br/>
any ideas ?
</p>
<p><strong>engiwip</strong> (Wed, 21 Nov 2018 19:22:17 GMT):<br/>
I m trying to install and Instantiate EVM chaincode from docker image
</p>
<p><strong>engiwip</strong> (Wed, 21 Nov 2018 19:47:03 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=uPtTMYpM9YgmFGgMF) @MHBauer Yup I think  too . I've the same problem about export variable into gopath...
</p>
<p><strong>praveen.aloker</strong> (Thu, 22 Nov 2018 05:44:39 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Mon, 26 Nov 2018 20:58:15 GMT):<br/>
@engiwip Are you still having a problem? Looking at the issue, it seems like the right permissions weren't set up. You would have to debug the first network to see why it wasn'
</p>
<p><strong>swetha</strong> (Mon, 26 Nov 2018 20:58:15 GMT):<br/>
@engiwip Are you still having a problem? Looking at the issue, it seems like the right permissions weren't set up. You would have to debug the first network to see why it isn't being accepted
</p>
<p><strong>swetha</strong> (Mon, 26 Nov 2018 20:59:18 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=xvfvQJhBdxBoGNPoo) @engiwip Morgan was referring to integration tests in `fabric-chaincode-evm` repo. I don't think the gopath is the problem you are facing.
</p>
<p><strong>swetha</strong> (Mon, 26 Nov 2018 21:43:52 GMT):<br/>
@cbf & @guoger need another round of reviews on this: https://gerrit.hyperledger.org/r/#/c/27624/
</p>
<p><strong>guoger</strong> (Tue, 27 Nov 2018 08:46:57 GMT):<br/>
@swetha not sure i follow this sentence in commit msg:
> Only return burrow contract accounts that have all the permissions for contract creation and contract invocation
</p>
<p><strong>cbf</strong> (Tue, 27 Nov 2018 12:32:44 GMT):<br/>
unclear to me why we want to give all permissions... can you please relate your reasoning here? @swetha thanks
</p>
<p><strong>swetha</strong> (Tue, 27 Nov 2018 17:43:43 GMT):<br/>
@cbf & @guoger  the permissions here about creating a new contract from a contract and being able to call another contract from a contract
</p>
<p><strong>swetha</strong> (Tue, 27 Nov 2018 17:44:14 GMT):<br/>
We can set it to only allow the second one, and not allow contract creation from a contract
</p>
<p><strong>swetha</strong> (Tue, 27 Nov 2018 17:46:35 GMT):<br/>
but we do need to enable at least contracts calling contracts
</p>
<p><strong>MHBauer</strong> (Tue, 27 Nov 2018 19:16:14 GMT):<br/>
confused on the jira process. do we not touchclosed things? 
</p>
<p><strong>MHBauer</strong> (Tue, 27 Nov 2018 19:17:10 GMT):<br/>
cause Iv'e got a couple against https://jira.hyperledger.org/browse/FAB-11081 but not sure if it should be against a *new* jira. hard to say when something like "integration tests" could ever be tocally complete.
</p>
<p><strong>swetha</strong> (Tue, 27 Nov 2018 20:14:08 GMT):<br/>
@MHBauer I would put your integration tests with the jira associated with the remix instructions
</p>
<p><strong>swetha</strong> (Tue, 27 Nov 2018 20:14:15 GMT):<br/>
that one isn't closed yet
</p>
<p><strong>swetha</strong> (Tue, 27 Nov 2018 20:14:29 GMT):<br/>
i was waiting for the corresponding integration tests to come in before closing that jira
</p>
<p><strong>cbf</strong> (Tue, 27 Nov 2018 20:42:15 GMT):<br/>
@swetha my preference would be to adhere to principe of least privilege 
</p>
<p><strong>cbf</strong> (Tue, 27 Nov 2018 20:42:56 GMT):<br/>
@morgan, if a JIRA is closed prematurely then please reopen it. If you cannot, feel free to ping me
</p>
<p><strong>cbf</strong> (Tue, 27 Nov 2018 20:42:56 GMT):<br/>
@MHBauer , if a JIRA is closed prematurely then please reopen it. If you cannot, feel free to ping me
</p>
<p><strong>swetha</strong> (Tue, 27 Nov 2018 20:43:53 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=S9LmujPXT2F8hyFj8) @cbf I will update the patch to just allow contracts calling other contracts
</p>
<p><strong>cbf</strong> (Tue, 27 Nov 2018 20:43:59 GMT):<br/>
if you are going to use a single JIRA for multiple CRs, then suggest that you indicate this in the CR commit message
</p>
<p><strong>MHBauer</strong> (Tue, 27 Nov 2018 23:07:33 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=CX9zDabZNGFADH9xj) @cbf I think this adds more questions for me. I'm at "How do I JIRA" levels of understanding any interaction.
</p>
<p><strong>MHBauer</strong> (Tue, 27 Nov 2018 23:08:08 GMT):<br/>
@cbf @guoger https://gerrit.hyperledger.org/r/#/c/27652/ is ready
</p>
<p><strong>guoger</strong> (Wed, 28 Nov 2018 02:42:06 GMT):<br/>
@MHBauer is https://gerrit.hyperledger.org/r/c/27653/2 ready? i would like to get it in to have proper logging
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:16:27 GMT):<br/>
@guoger I was hoping we can hold off on that one until after https://gerrit.hyperledger.org/r/#/c/27747/ & https://gerrit.hyperledger.org/r/#/c/27624/
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:16:27 GMT):<br/>
@guoger I was hoping we can hold off on that one until after 
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:17:07 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/27747/
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:17:17 GMT):<br/>
& https://gerrit.hyperledger.org/r/#/c/27321/
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:17:26 GMT):<br/>
the logging patch is easier to rebase than those two
</p>
<p><strong>guoger</strong> (Wed, 28 Nov 2018 03:17:37 GMT):<br/>
got it
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:18:20 GMT):<br/>
but otherwise i do believe the patch is ready to be reviewed
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:19:39 GMT):<br/>
also need another set of reviews on the permissions
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 03:19:39 GMT):<br/>
also need another set of reviews on the permissions patch
</p>
<p><strong>MHBauer</strong> (Wed, 28 Nov 2018 05:34:44 GMT):<br/>
for 27231 is there something I can do?  
</p>
<p><strong>MHBauer</strong> (Wed, 28 Nov 2018 05:34:56 GMT):<br/>
I don't think logging should impact that too adly.
</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 18:31:10 GMT):<br/>
If it seems like 27747 & 27321 will take too long to review then maybe, but rebasing is not going to be simple because the methods are being moved in 27747
</p>
<p><strong>mkhraisha</strong> (Wed, 28 Nov 2018 18:43:35 GMT):<br/>
@swetha when i call a chaincode query like  ` peer chaincode query -n evmcc -C nm-channel -c '{"Args":["account"]}'` it creates a new docker image, is that expected behaviour?

</p>
<p><strong>swetha</strong> (Wed, 28 Nov 2018 18:50:34 GMT):<br/>
@mkhraisha If that is the first thing you are doing with the chaincode, yes it should be creating a new docker image. Fabric peers will create the chaincode container only when it is first invoked/queried
</p>
<p><strong>MHBauer</strong> (Wed, 28 Nov 2018 21:14:03 GMT):<br/>
@cbf whois ry and where do they live here on rocket chat? 
</p>
<p><strong>MHBauer</strong> (Thu, 29 Nov 2018 18:44:56 GMT):<br/>
can I edit someone elses change or is that not possile? 
</p>
<p><strong>swetha</strong> (Thu, 29 Nov 2018 20:31:44 GMT):<br/>
do you mean on gerrit?
</p>
<p><strong>MHBauer</strong> (Thu, 29 Nov 2018 23:08:03 GMT):<br/>
on gerrit, yes.
</p>
<p><strong>MHBauer</strong> (Thu, 29 Nov 2018 23:08:31 GMT):<br/>
wow, what builds the fabproxy binary? there's nothing in the makefile
</p>
<p><strong>MHBauer</strong> (Thu, 29 Nov 2018 23:09:27 GMT):<br/>
what is our release process?
</p>
<p><strong>swetha</strong> (Thu, 29 Nov 2018 23:16:08 GMT):<br/>
We try to go with the Fabric releases which is once a quarter. Fab3 is expected to be built manually by users at the moment
</p>
<p><strong>MHBauer</strong> (Thu, 29 Nov 2018 23:21:04 GMT):<br/>
which means what?
</p>
<p><strong>MHBauer</strong> (Thu, 29 Nov 2018 23:27:50 GMT):<br/>
git ignore looks really weird too.
</p>
<p><strong>swetha</strong> (Fri, 30 Nov 2018 00:33:48 GMT):<br/>
I think that is a remnant from when the evm was supposed to be a chaincode plugin. Most of that is probably unnecessary now
</p>
<p><strong>MHBauer</strong> (Fri, 30 Nov 2018 00:34:46 GMT):<br/>
well, I maed this https://gerrit.hyperledger.org/r/#/c/27827/ to make me happy.
</p>
<p><strong>swetha</strong> (Fri, 30 Nov 2018 01:00:21 GMT):<br/>
@MHBauer https://jira.hyperledger.org/browse/FAB-13065 for the ignored defers
</p>
<p><strong>swetha</strong> (Mon, 03 Dec 2018 02:09:46 GMT):<br/>
@cbf & @guoger we need reviews on the following:
Contract to Contract invocations bug: https://gerrit.hyperledger.org/r/#/c/27624/
Refactor tx receipt in preparation for events code : https://gerrit.hyperledger.org/r/#/c/27747/
Events: https://gerrit.hyperledger.org/r/#/c/27321/
Build Cleanup: https://gerrit.hyperledger.org/r/#/c/27827/
</p>
<p><strong>dave.enyeart</strong> (Mon, 03 Dec 2018 06:35:37 GMT):<br/>
@cbf @swetha Will there be a v1.3 release for fabric-evm still?  Or do you want to skip to v1.4 and release with the other components in mid-December?
</p>
<p><strong>dave.enyeart</strong> (Mon, 03 Dec 2018 06:35:50 GMT):<br/>
Please update the epic and story FixVersions accordingly
</p>
<p><strong>guoger</strong> (Mon, 03 Dec 2018 06:57:12 GMT):<br/>
@swetha pls remind me of the difference of `SentTx` and `Call`?
</p>
<p><strong>guoger</strong> (Mon, 03 Dec 2018 06:57:12 GMT):<br/>
@swetha pls remind me of the difference between `SentTx` and `Call`?
</p>
<p><strong>guoger</strong> (Mon, 03 Dec 2018 08:55:38 GMT):<br/>
@MHBauer have you sorted out your +2 privilege?
</p>
<p><strong>swetha</strong> (Mon, 03 Dec 2018 19:29:16 GMT):<br/>
@guoger Send transaction is submitting a transaction and call is a query
</p>
<p><strong>swetha</strong> (Mon, 03 Dec 2018 19:30:39 GMT):<br/>
@dave.enyeart I thought we already released fabric-evm as part of 1.3. There was an item that we pushed to 1.4. I will update the epic and fix versions.
</p>
<p><strong>MHBauer</strong> (Mon, 03 Dec 2018 20:48:03 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=u2x4DENDLkhHo6M7B) @guoger seems that way
</p>
<p><strong>swetha</strong> (Mon, 03 Dec 2018 21:09:34 GMT):<br/>
@MHBauer can you review https://gerrit.hyperledger.org/r/#/c/27624/ & https://gerrit.hyperledger.org/r/#/c/27747/?
</p>
<p><strong>dave.enyeart</strong> (Mon, 03 Dec 2018 23:26:08 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=ToQ5aXDMXBxyP5ST7) @swetha fabric-chaincode-evm has no tags, no releases, no release notes, that means it has not been released!  @cbf expected to do this sometime after fabric v1.3 shipped.
</p>
<p><strong>swetha</strong> (Mon, 03 Dec 2018 23:28:30 GMT):<br/>
I will work with Chris to get that working. I will get back to you after that has all been resolved
</p>
<p><strong>dave.enyeart</strong> (Mon, 03 Dec 2018 23:28:40 GMT):<br/>
thanks!
</p>
<p><strong>MHBauer</strong> (Tue, 04 Dec 2018 00:48:55 GMT):<br/>
what's the release process? To do a relaese?
</p>
<p><strong>lehors</strong> (Tue, 04 Dec 2018 14:23:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Tue, 04 Dec 2018 22:50:58 GMT):<br/>
some of the copied scripts we have store things into the fabric repo.
</p>
<p><strong>swetha</strong> (Tue, 04 Dec 2018 23:16:02 GMT):<br/>
Yea, as we use them we have been correcting them
</p>
<p><strong>MHBauer</strong> (Tue, 04 Dec 2018 23:17:43 GMT):<br/>
is there a reason we generate our own chaincode stub mock instead of using the one in fabric? 
</p>
<p><strong>arjitkhullar</strong> (Wed, 05 Dec 2018 00:02:15 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Wed, 05 Dec 2018 01:17:56 GMT):<br/>
why are we running both goimports and gofmt? 
</p>
<p><strong>lehors</strong> (Wed, 05 Dec 2018 15:41:47 GMT):<br/>
hi guys,
make integration-test fails for me when run against fabric master
</p>
<p><strong>lehors</strong> (Wed, 05 Dec 2018 15:42:02 GMT):<br/>
it works against fabric 1.3
</p>
<p><strong>lehors</strong> (Wed, 05 Dec 2018 15:42:15 GMT):<br/>
have you tested that?
</p>
<p><strong>guoger</strong> (Wed, 05 Dec 2018 15:44:37 GMT):<br/>
does it say something about logFormat/spec?
</p>
<p><strong>guoger</strong> (Wed, 05 Dec 2018 15:44:37 GMT):<br/>
@lehors  does it say something about logFormat/spec?
</p>
<p><strong>guoger</strong> (Wed, 05 Dec 2018 15:45:59 GMT):<br/>
also we are preparing a release note saying it works against 1.3, not master
</p>
<p><strong>lehors</strong> (Wed, 05 Dec 2018 15:47:42 GMT):<br/>
yeah: [e][configtxgen-create-channel-tx] 2018-12-05 16:40:52.381 CET [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Writing new channel tx
[d][OrdererOrg.orderer] spawned /var/folders/j1/4b3ygtd52x50rcq6czdsylwc0000gn/T/gexec_artifacts987406300/g063322320/orderer (pid: 78218)
[e][OrdererOrg.orderer] 2018-12-05 16:40:52.495 CET [orderer.common.server] Main -> ERRO 001 failed to parse config:  Error unmarshaling config into struct: 1 error(s) decoding:
[e][OrdererOrg.orderer] 
[e][OrdererOrg.orderer] * 'General' has invalid keys: LogFormat, LogLevel

------------------------------
‚Ä¢ Failure in Spec Setup (BeforeEach) [1.955 seconds]

</p>
<p><strong>lehors</strong> (Wed, 05 Dec 2018 15:48:33 GMT):<br/>
‚Ä¢ Failure in Spec Setup (BeforeEach) [1.955 seconds]
EndToEnd [BeforeEach] is able to run evm bytecode contracts 
/Users/lehors/Projects/Go/src/github.com/hyperledger/fabric-chaincode-evm/integration/e2e/e2e_test.go:77

  Timed out after 1.003s.
  Expected
      <<-chan struct {} | len:0, cap:0>: 0xc000474540
  to be closed

  /Users/lehors/Projects/Go/src/github.com/hyperledger/fabric-chaincode-evm/integration/e2e/e2e_test.go:63

</p>
<p><strong>guoger</strong> (Wed, 05 Dec 2018 16:29:10 GMT):<br/>
yeah.. that's expected :( , `orderer.yaml` for v1.3 orderer contained those keys, therefore incompatible with master orderer binary. the fabric we vendored is older than 1.3, however `nwo` integration tests builds fabric peer & orderer on `GOPATH`, which might be master depending on your local repo.
</p>
<p><strong>guoger</strong> (Wed, 05 Dec 2018 16:29:43 GMT):<br/>
but anyway, we should bump our Fabric to v1.3 at least, cc @swetha @MHBauer 
</p>
<p><strong>lehors</strong> (Wed, 05 Dec 2018 16:57:15 GMT):<br/>
yeah, that's safe to do because I tested it against 1.3
</p>
<p><strong>MHBauer</strong> (Wed, 05 Dec 2018 20:26:50 GMT):<br/>
I couldn't build fabric 1.3.0, it was complaing about the javaenv image not existing
</p>
<p><strong>MHBauer</strong> (Thu, 06 Dec 2018 20:49:01 GMT):<br/>
@lehors we should be rebased on tag v1.3.0  very specificially and you should get a nice warning if things are out of sync for us
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 02:28:39 GMT):<br/>
fabproxy rpc needs to handle arrays of requests for batch mode.
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 05:12:01 GMT):<br/>
we'd have to edit gorilla to support it, or use the helpful link provided by golang godoc to find a replacement library. https://godoc.org/?q=json-rpc+2.0
</p>
<p><strong>lehors</strong> (Tue, 11 Dec 2018 13:20:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=abjymTzwM8Jgbt5pr) @MHBauer any idea when support for 1.4 might come?
</p>
<p><strong>lehors</strong> (Tue, 11 Dec 2018 13:20:52 GMT):<br/>
I'm actually curious to know what breaks
</p>
<p><strong>lehors</strong> (Tue, 11 Dec 2018 13:21:29 GMT):<br/>
one would think that 1.4 is backwards compatible with 1.3 and therefore things that work with 1.3 would still work with 1.4... 
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 18:46:10 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=jEsLmpnLNXniZDQNe) @lehors not sure what this would mean, we were based on some version of fabric from July 10, which looks to be v1.1.1 maybe? There wasn't much difficulty at the code level. The main issue was the the integration test framework was changed and we coudl't find a specific image that caused it to blow up.
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 18:46:35 GMT):<br/>
I don't know what our policy is regarding following along.
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 18:46:58 GMT):<br/>
The sdk has it's own versioning scheme.
</p>
<p><strong>lehors</strong> (Tue, 11 Dec 2018 19:53:43 GMT):<br/>
@MHBauer are you saying the problem is within the SDK?
</p>
<p><strong>lehors</strong> (Tue, 11 Dec 2018 19:54:04 GMT):<br/>
I apologize if I appear clueless, it's because I am :-)
</p>
<p><strong>lehors</strong> (Tue, 11 Dec 2018 19:54:30 GMT):<br/>
the error I got when I tried left me puzzled
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:25:26 GMT):<br/>
Ah, we're talking about having master checked out and why doesn't that work. okay.
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:25:48 GMT):<br/>
I've not tried that. I will now
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:31:34 GMT):<br/>
ah, yes, jay has it up above. not something I would know about. 
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:40:44 GMT):<br/>
so, https://github.com/hyperledger/fabric/commit/c209841938d56221b11a095537ebd14a77711fe4#diff-c3e0cc8bbd4e5ea2bf50b91fdff0a01f that broke it with root cause being the use of viperutil.EnhancedExactUnmarshal
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:40:55 GMT):<br/>
https://godoc.org/github.com/hyperledger/fabric/common/viperutil 
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:41:15 GMT):<br/>
I can understand the idea, but that seems a bit strict to me.
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:41:45 GMT):<br/>
@lehors so, it's a breaking change because the code itself is exact about what it needs and will fail otherwise.
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 20:41:57 GMT):<br/>
and the templates in the old version have old fields
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 21:06:08 GMT):<br/>
If I change this sucker here https://github.com/hyperledger/fabric/blob/release-1.4/common/viperutil/config_util.go#L297 to false, it works fine. I'd prefer if it was "warn unused" or something, but I suppose nobody reads logs.
</p>
<p><strong>MHBauer</strong> (Tue, 11 Dec 2018 21:06:20 GMT):<br/>
so, that's the issue. 
</p>
<p><strong>swetha</strong> (Wed, 12 Dec 2018 01:45:02 GMT):<br/>
@lehors I have to verify this, but I believe the evmcc should work with 1.4. Our integration tests just don't pass because we vendored in an older Fabric version for the integration test setup, so the configuration file causes an error when starting up the fabric network because of the change in the orderer keys
</p>
<p><strong>MHBauer</strong> (Wed, 12 Dec 2018 02:14:45 GMT):<br/>
it works fine, yes.
</p>
<p><strong>edwardlee</strong> (Thu, 13 Dec 2018 14:56:02 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>aviralwal</strong> (Mon, 17 Dec 2018 11:48:54 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Tue, 18 Dec 2018 21:24:05 GMT):<br/>
marshalling test has been updated with the new fields from merging the events code https://gerrit.hyperledger.org/r/#/c/27764/
</p>
<p><strong>MHBauer</strong> (Tue, 18 Dec 2018 23:05:18 GMT):<br/>
what would we say to running integration in a container, maybe dind? 
</p>
<p><strong>MHBauer</strong> (Wed, 19 Dec 2018 01:44:28 GMT):<br/>
Is there a way to force the chaincode to build? 
</p>
<p><strong>MHBauer</strong> (Wed, 19 Dec 2018 01:44:53 GMT):<br/>
during the tests, it takes about 80sec a contriner to build it.
</p>
<p><strong>MHBauer</strong> (Wed, 19 Dec 2018 23:01:32 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/28201/  needs a +2 from someone else.
</p>
<p><strong>guoger</strong> (Thu, 20 Dec 2018 02:39:04 GMT):<br/>
+2 and submitted, but left some comments [here](https://gerrit.hyperledger.org/r/c/28201/2//COMMIT_MSG#11) and [here](https://gerrit.hyperledger.org/r/c/28201/2/fabproxy/cmd/main.go#96)
</p>
<p><strong>swetha</strong> (Thu, 20 Dec 2018 05:13:14 GMT):<br/>
made https://jira.hyperledger.org/browse/FAB-13385 & https://jira.hyperledger.org/browse/FAB-13384 to address those
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 15:00:54 GMT):<br/>
hi there,
sadly the first Solidity contract I tried on my own failed to run due to a limitation in the burrow version that we currently use (0.18.0):
"REVERT not yet fully implemented".
It turns out that support for this was added in the very next version 0.19.0. Unfortunately switching version isn't trivial. There were some significant changes that impact our code.
Has anyone looked into this?
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 15:02:19 GMT):<br/>
I saw we already have FAB-13102 for that matter
</p>
<p><strong>guoger</strong> (Thu, 20 Dec 2018 16:28:47 GMT):<br/>
yep, we were notified by burrow team a while ago when they implemented that opcode, and we also made an attempt to bump burrow version, but as you said, it requires significant changes on our side (especially they changed the account pkg). so we decided at that time to focus on finishing other stuff (fab3 etc) and defer this to post v0.1
</p>
<p><strong>MHBauer</strong> (Thu, 20 Dec 2018 20:53:23 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=4DNeAdKkFqka66tME) @swetha I love it when a plan comes together
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 21:10:08 GMT):<br/>
so, nobody asked me but I was curious and started looking into the upgrade of burrow...
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 21:10:36 GMT):<br/>
sadly, while I could get the code to compile against 0.19.0, the integration test fail
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 21:11:36 GMT):<br/>
I might dig in as time permit but with vacation starting it may not be for a while...
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 21:11:36 GMT):<br/>
I might dig in as time permits but with vacation starting it may not be for a while...
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 21:12:04 GMT):<br/>
note that upgrading to 0.19 is merely a first step
</p>
<p><strong>lehors</strong> (Thu, 20 Dec 2018 21:12:53 GMT):<br/>
this is still pretty far behind from the latest version but having looked at the changes it seemed prudent to take an incremental approach rather than trying to jump to the latest version
</p>
<p><strong>MHBauer</strong> (Thu, 20 Dec 2018 21:26:29 GMT):<br/>
yup, I think we're done for the release. last minute rebase of fabric, but this is definitely a thing to do later.
</p>
<p><strong>MHBauer</strong> (Fri, 21 Dec 2018 01:13:08 GMT):<br/>
so no 1.4 official until january
</p>
<p><strong>MHBauer</strong> (Fri, 21 Dec 2018 01:13:19 GMT):<br/>
rc2 based release tomorrow if we can swing it?
</p>
<p><strong>htinshar</strong> (Fri, 21 Dec 2018 09:05:07 GMT):<br/>
I was test contract to contract invoke with latest `evmcc` master branch with this two contracts.

```
contract ContractA { 
     
    uint value; 
     
    function setValue(uint _value) public returns (uint) { 
        value = _value; 
        return value; 
    } 
     
    function getValue() public view returns (uint) { 
        return value; 
    } 
     
} 

```

```
interface ContractAInterface {
    function setValue(uint _val) external returns (uint);
    function getValue() external view returns (uint);
}

contract ContractB { 
     
    ContractAInterface contractA; 
     
    constructor(address _contractAddr) public { 
        contractA = ContractAInterface(_contractAddr); 
    } 
  
    function setValue(uint _value) public returns (uint result) { 
        contractA.setValue(_value); 
        return _value; 
    } 
    
    function getValue() public view returns (uint result) { 
        return contractA.getValue(); 
    } 
     
} 
```
But when I invoke `setValue` and `getValue` function from `ContractB` , I got this error ` status Code: (500) UNKNOWN. Description: failed to execute contract: call error: RETURNDATASIZE not yet implemented`. 
`burrow` or `evmcc` won‚Äôt support contract to contract function calling?
</p>
<p><strong>guoger</strong> (Fri, 21 Dec 2018 09:13:32 GMT):<br/>
@htinshar hi, thanks for reporting this! contract-to-contract invocation is supported, but the opcode `RETURNDATASIZE` is not supported in the vendored version of burrow evm currently (*but it is supported now in newer burrow*). We will bump the burrow version once we release v0.1 (right after Fabric v1.4 is officially cut)
</p>
<p><strong>guoger</strong> (Fri, 21 Dec 2018 09:13:32 GMT):<br/>
@htinshar hi, thanks for reporting this! contract-to-contract invocation is supported, but the opcode `RETURNDATASIZE` is not supported in the vendored version of burrow evm currently ( *but it is supported now in newer burrow* ). We will bump the burrow version once we release v0.1 (right after Fabric v1.4 is officially cut)
</p>
<p><strong>htinshar</strong> (Fri, 21 Dec 2018 09:17:24 GMT):<br/>
@guoger I see, thanks for your reply. I can use this feature in evmcc v0.1.  
</p>
<p><strong>htinshar</strong> (Fri, 21 Dec 2018 09:17:24 GMT):<br/>
@guoger I see, thanks for your reply. I can only use this feature in evmcc v0.1.  
</p>
<p><strong>guoger</strong> (Fri, 21 Dec 2018 09:20:31 GMT):<br/>
sadly not `v0.1`. perhaps `v0.1.1`, cuz upgrading burrow dependency is actually a bit tricky since it introduces many changes, and we don't want to further delay the release as fabric v1.4 is very close to be released. But we did prioritize this and it shouldn't take too long after `v0.1`
</p>
<p><strong>guoger</strong> (Fri, 21 Dec 2018 09:20:51 GMT):<br/>
keep an eye on the repo :)
</p>
<p><strong>MHBauer</strong> (Fri, 21 Dec 2018 18:13:54 GMT):<br/>
@swetha @guoger something to add to release notes?
</p>
<p><strong>merq</strong> (Sat, 22 Dec 2018 03:44:46 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Sun, 23 Dec 2018 19:13:53 GMT):<br/>
@lehors When we talked to Burrow team, they did properly implement the revert op code in a future release as you mention, however when you see that error it most likely means you ran into an error in the contract itself. The revert op code will give you a better error message though.
</p>
<p><strong>MuhammedHafil</strong> (Wed, 26 Dec 2018 06:56:59 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MuhammedHafil</strong> (Wed, 26 Dec 2018 08:20:11 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/first-network-sdk-config.yaml is this config file used here is same as as the config we provide to node sdk? like this one? https://github.com/hyperledger/fabric-samples/blob/release-1.3/balance-transfer/artifacts/network-config.yaml
</p>
<p><strong>lehors</strong> (Wed, 26 Dec 2018 16:55:14 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=TfC9cGpn3h8QqrSFm) @swetha the contract is one of the samples available online and runs fine elsewhere
</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 11:35:13 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 11:39:29 GMT):<br/>
trying to setup loyalty-points-evm-fabrics sample project from :  https://github.com/IBM/loyalty-points-evm-fabric ``````
on running the following command : `./byfn.sh up`
``` It gives following error in terminal
` ____    _____      _      ____    _____ 
/ ___|  |_   _|    / \    |  _ \  |_   _|
\___ \    | |     / _ \   | |_) |   | |  
 ___) |   | |    / ___ \  |  _ <    | |  
|____/    |_|   /_/   \_\ |_| \_\   |_|  

Build your first network (BYFN) end-to-end test

Channel name : mychannel
Creating channel...
+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=1
+ set +x
2018-12-27 11:33:00.531 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- Failed to reach implicit threshold of 1 sub-policies, required 1 remaining: permission denied
!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========
````
Test fails here```

``` 
``` 
``` ```

``` 
</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 11:39:29 GMT):<br/>
trying to setup loyalty-points-evm-fabrics sample project from :  https://github.com/IBM/loyalty-points-evm-fabric ``````
on running the following command : `./byfn.sh up`
``` 
  ____    _____      _      ____    _____ 
/ ___|  |_   _|    / \    |  _ \  |_   _|
\___ \    | |     / _ \   | |_) |   | |  
 ___) |   | |    / ___ \  |  _ <    | |  
|____/    |_|   /_/   \_\ |_| \_\   |_|  

Build your first network (BYFN) end-to-end test

Channel name : mychannel
Creating channel...
+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=1
+ set +x
2018-12-27 11:33:00.531 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- Failed to reach implicit threshold of 1 sub-policies, required 1 remaining: permission denied
!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========
````
Test fails here

</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 11:39:29 GMT):<br/>
trying to setup loyalty-points-evm-fabrics sample project from :  https://github.com/IBM/loyalty-points-evm-fabric ```
on running the following command : `./byfn.sh up`
``` 
 `` ____    _____      _      ____    _____ 
/ ___|  |_   _|    / \    |  _ \  |_   _|
\___ \    | |     / _ \   | |_) |   | |  
 ___) |   | |    / ___ \  |  _ <    | |  
|____/    |_|   /_/   \_\ |_| \_\   |_|  

Build your first network (BYFN) end-to-end test

Channel name : mychannel
Creating channel...
+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=1
+ set +x
2018-12-27 11:33:00.531 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- Failed to reach implicit threshold of 1 sub-policies, required 1 remaining: permission denied
!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========`````

``` 
Test fails here

</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 11:39:29 GMT):<br/>
trying to setup loyalty-points-evm-fabrics sample project from :  https://github.com/IBM/loyalty-points-evm-fabric ```
on running the command : `./byfn.sh up`
``` 
 `` ____    _____      _      ____    _____ 
/ ___|  |_   _|    / \    |  _ \  |_   _|
\___ \    | |     / _ \   | |_) |   | |  
 ___) |   | |    / ___ \  |  _ <    | |  
|____/    |_|   /_/   \_\ |_| \_\   |_|  

Build your first network (BYFN) end-to-end test

Channel name : mychannel
Creating channel...
+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=1
+ set +x
2018-12-27 11:33:00.531 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- Failed to reach implicit threshold of 1 sub-policies, required 1 remaining: permission denied
!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========`````

``` 
Test fails here

</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 11:39:29 GMT):<br/>
trying to setup loyalty-points-evm-fabrics sample project from :  https://github.com/IBM/loyalty-points-evm-fabric ```
on running the command : `./byfn.sh up`
``` 
 `````

`  ____    _____      _      ____    _____ 
/ ___|  |_   _|    / \    |  _ \  |_   _|
\___ \    | |     / _ \   | |_) |   | |  
 ___) |   | |    / ___ \  |  _ <    | |  
|____/    |_|   /_/   \_\ |_| \_\   |_|  

Build your first network (BYFN) end-to-end test

Channel name : mychannel
Creating channel...
+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=1
+ set +x
2018-12-27 11:33:00.531 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- Failed to reach implicit threshold of 1 sub-policies, required 1 remaining: permission denied
!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========`      `````

``` 
Test fails here

</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 11:39:29 GMT):<br/>
trying to setup loyalty-points-evm-fabrics sample project from :  https://github.com/IBM/loyalty-points-evm-fabric ```
on running the command : `./byfn.sh up`
``` 
 `````

`  ____    _____      _      ____    _____ 
/ ___|  |_   _|    / \    |  _ \  |_   _|
\___ \    | |     / _ \   | |_) |   | |  
 ___) |   | |    / ___ \  |  _ <    | |  
|____/    |_|   /_/   \_\ |_| \_\   |_|  

Build your first network (BYFN) end-to-end test

Channel name : mychannel
Creating channel...
+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=1
+ set +x
2018-12-27 11:33:00.531 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: got unexpected status: FORBIDDEN -- Failed to reach implicit threshold of 1 sub-policies, required 1 remaining: permission denied
!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========`      `````

Test fails here

</p>
<p><strong>knagware9</strong> (Thu, 27 Dec 2018 12:18:36 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=erxBbeTNH3vLp2RyA) @rohitsethi just do ./byfn.sh down first and remove docker network docker network prune and then try again..it will work
</p>
<p><strong>rohitsethi</strong> (Thu, 27 Dec 2018 12:33:15 GMT):<br/>
@knagware9  it worked. Thanks
</p>
<p><strong>MuhammedHafil</strong> (Fri, 28 Dec 2018 04:34:37 GMT):<br/>
hey Geeks, Can i ask a very noob question?  where does actually our ethreum smart contract executes with fabric-evm tool? In our fabric blockchain or ethereum network? 

If it works only inside our fabric network all this effort done is only to execute solidity smart contract in fabric? and which state db it uses ?
</p>
<p><strong>MuhammedHafil</strong> (Fri, 28 Dec 2018 04:35:53 GMT):<br/>
@lehors @guoger @swetha , Please try to give an answer . Thanks
</p>
<p><strong>guoger</strong> (Fri, 28 Dec 2018 05:21:28 GMT):<br/>
@MuhammedHafil this is accurate
>  it works only inside our fabric network
</p>
<p><strong>guoger</strong> (Fri, 28 Dec 2018 05:21:51 GMT):<br/>
> which state db it uses
It uses whichever your fabric chooses to use
</p>
<p><strong>guoger</strong> (Fri, 28 Dec 2018 05:22:20 GMT):<br/>
> only to execute solidity smart contract in fabric
and JSON RPC based toolings, e.g. remix, truffle, etc
</p>
<p><strong>guoger</strong> (Fri, 28 Dec 2018 05:22:39 GMT):<br/>
and we plan to support some wallets as well
</p>
<p><strong>MuhammedHafil</strong> (Fri, 28 Dec 2018 05:41:59 GMT):<br/>
Thank you 
</p>
<p><strong>rbailey</strong> (Mon, 31 Dec 2018 17:29:57 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>idavidasilva</strong> (Wed, 02 Jan 2019 14:44:21 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>xaviarias</strong> (Thu, 03 Jan 2019 11:02:59 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>KellyCooper</strong> (Thu, 03 Jan 2019 14:10:39 GMT):<br/>
The Learning Materials Development working group is in need of contributors for our 2019 objectives: edX Fabric update, edX Sawtooth update, edX Iroha tutorial. At this time, over 133,000 learners have participated in the edX courses. If you, or someone you know (university student, freelance developer, researcher, etc) is interested in contributing, please see the worksheet: 2019 Team and Individual/Small Group Objectives, Key Results, Participants and Tasks - https://goo.gl/1HzKaD  The worksheet has two tabs, one for contributions to the group's 2019 OKRs, and a second that notes individual contributions.  Feel free to message or reply with any questions. Thank you, Kelly
</p>
<p><strong>rameshthoomu</strong> (Fri, 04 Jan 2019 15:20:39 GMT):<br/>
@swetha Could you please review this change https://gerrit.hyperledger.org/r/#/c/28373
</p>
<p><strong>Shirikatsu</strong> (Fri, 04 Jan 2019 16:33:52 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Shirikatsu</strong> (Fri, 04 Jan 2019 16:35:20 GMT):<br/>
Hi all, has anybody attempted to deploy this evm chaincode using the CLI here: https://github.com/securekey/fabric-examples/tree/master/fabric-cli
</p>
<p><strong>Shirikatsu</strong> (Fri, 04 Jan 2019 16:35:20 GMT):<br/>
Hi all, the current build on master seems to failing to instantiate. Any news?
</p>
<p><strong>silasdavis</strong> (Fri, 04 Jan 2019 17:12:02 GMT):<br/>
Hello fabric-evm... I wanted to share a project that @seanyoung has started that I think has a lot of potential to grow into something rather interesting. It is a solidity-to-LLVM compiler using modern compiler tooling to generate LLVM IR with an antlr grammar: https://github.com/seanyoung/solang. What we (Burrow) have in mind is using the LLVM WASM backend to create a migration path for existing solidity code and also thinking about WASM-EVM interop within Burrow that can bring with it a host of advantages. In the context of Hyperledger I would like to see WASM emerge as a cross-framework point of integration for different projects (and I know others would too). However this approach is interesting for chaincode written in any LLVM-supported backend architecture and has the advantage of running through sane, mature, modern compiling machinery. 
</p>
<p><strong>cbf</strong> (Fri, 04 Jan 2019 18:32:04 GMT):<br/>
interesting! Thanks @silasdavis 
</p>
<p><strong>MHBauer</strong> (Fri, 04 Jan 2019 18:56:25 GMT):<br/>
oh rust, nice.
</p>
<p><strong>MHBauer</strong> (Fri, 04 Jan 2019 18:57:25 GMT):<br/>
but nightly...
</p>
<p><strong>swetha</strong> (Fri, 04 Jan 2019 19:00:32 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=3tyBPfswAm7N7uDk2) @Shirikatsu Do you have any logs? We haven't had issues instantiating the code on master.
</p>
<p><strong>swetha</strong> (Fri, 04 Jan 2019 19:02:13 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=jBf96vK7porLPsQxK) @rameshthoomu taking a look now
</p>
<p><strong>MHBauer</strong> (Fri, 04 Jan 2019 19:02:30 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=jBf96vK7porLPsQxK) @rameshthoomu I reviewed
</p>
<p><strong>seanyoung</strong> (Sat, 05 Jan 2019 08:57:01 GMT):<br/>
@MHBauer obviously it would be nice to move to rust stable. Once box patterns end up in stable we can move to stable. https://doc.rust-lang.org/1.5.0/book/box-syntax-and-patterns.html
</p>
<p><strong>seanyoung</strong> (Sat, 05 Jan 2019 08:58:57 GMT):<br/>
In the AST we need to use box for recursion (e.g. Expression enum contains Expression). So we need box in this enum. But without the box pattern, how do we match these enums?
</p>
<p><strong>Shirikatsu</strong> (Mon, 07 Jan 2019 09:48:07 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=LNZSwviMvzCTPf6hi) @swetha @swetha 

Using `first-network` in the tutorials, installing evmcc: `peer chaincode install -n evmcc -l golang -v 0 -p github.com/hyperledger/fabric-chaincode-evm/evmcc`
then instantiating: `peer chaincode instantiate -n evmcc -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem`
fails with: 

`2019-01-04 16:50:09.370 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-01-04 16:50:09.371 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 "# github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/event
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/event/emitter.go:75:40: cannot use tags (type map[string]interface {}) as type pubsub.TagMap in argument to em.pubsubServer.PublishWithTags:
	map[string]interface {} does not implement pubsub.TagMap (missing Get method)
# github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:47:50: pubKeyEd25519.Wrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKeyEd25519 has no field or method Wrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:52:28: pk.PubKey.Unwrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKey has no field or method Unwrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:78:2: not enough arguments to return
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:78:18: pk.PubKey.MarshalJSON undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKey has no field or method MarshalJSON)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:82:18: pk.PubKey.UnmarshalJSON undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKey has no field or method UnmarshalJSON)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:141:53: privKeyEd25519.Wrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PrivKeyEd25519 has no field or method Wrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:173:30: pk.PrivKey.Unwrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PrivKey has no field or method Unwrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:188:45: multiple-value pk.PrivKey.Sign() in single-value context
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:192:2: not enough arguments to return
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:192:19: pk.PrivKey.MarshalJSON undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PrivKey has no field or method MarshalJSON)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:192:2: too many errors
" `
</p>
<p><strong>Shirikatsu</strong> (Mon, 07 Jan 2019 09:48:07 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=LNZSwviMvzCTPf6hi) @swetha @swetha 

Using `first-network` in the tutorials on v1.3, installing evmcc: `peer chaincode install -n evmcc -l golang -v 0 -p github.com/hyperledger/fabric-chaincode-evm/evmcc`
then instantiating: `peer chaincode instantiate -n evmcc -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem`
fails with: 

`2019-01-04 16:50:09.370 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-01-04 16:50:09.371 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 "# github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/event
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/event/emitter.go:75:40: cannot use tags (type map[string]interface {}) as type pubsub.TagMap in argument to em.pubsubServer.PublishWithTags:
	map[string]interface {} does not implement pubsub.TagMap (missing Get method)
# github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:47:50: pubKeyEd25519.Wrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKeyEd25519 has no field or method Wrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:52:28: pk.PubKey.Unwrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKey has no field or method Unwrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:78:2: not enough arguments to return
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:78:18: pk.PubKey.MarshalJSON undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKey has no field or method MarshalJSON)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:82:18: pk.PubKey.UnmarshalJSON undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PubKey has no field or method UnmarshalJSON)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:141:53: privKeyEd25519.Wrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PrivKeyEd25519 has no field or method Wrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:173:30: pk.PrivKey.Unwrap undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PrivKey has no field or method Unwrap)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:188:45: multiple-value pk.PrivKey.Sign() in single-value context
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:192:2: not enough arguments to return
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:192:19: pk.PrivKey.MarshalJSON undefined (type "github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/tendermint/go-crypto".PrivKey has no field or method MarshalJSON)
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/evmcc/vendor/github.com/hyperledger/burrow/account/crypto.go:192:2: too many errors
" `
</p>
<p><strong>Shirikatsu</strong> (Mon, 07 Jan 2019 09:49:27 GMT):<br/>
I could be doing this wrong, but I arrive at the same error when I use a different deployment method than using the docker-cli image in the `first-network` example.
</p>
<p><strong>MHBauer</strong> (Mon, 07 Jan 2019 18:28:43 GMT):<br/>
that looks like burro is off somehow
</p>
<p><strong>MHBauer</strong> (Mon, 07 Jan 2019 18:31:02 GMT):<br/>
or tmlibs? 
</p>
<p><strong>MHBauer</strong> (Mon, 07 Jan 2019 18:36:31 GMT):<br/>
ya, somehow your tmlibs is more recent the 0.8.1
</p>
<p><strong>MHBauer</strong> (Mon, 07 Jan 2019 18:37:03 GMT):<br/>
@Shirikatsu have you tried to do somethin to the code or is this a fresh checkout?
</p>
<p><strong>seesemichaelj</strong> (Tue, 08 Jan 2019 01:34:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Shirikatsu</strong> (Tue, 08 Jan 2019 09:55:03 GMT):<br/>
@MHBauer Thanks for the response. It's a fresh checkout of master indeed.
</p>
<p><strong>Shirikatsu</strong> (Tue, 08 Jan 2019 09:55:03 GMT):<br/>
@MHBauer Thanks for the response. On second look, I've run `dep` to grab dependencies that seem to have included different versions of the dependencies. Removing those seems to have fixed the issue :) Thank you
</p>
<p><strong>MHBauer</strong> (Tue, 08 Jan 2019 17:03:14 GMT):<br/>
phew
</p>
<p><strong>MHBauer</strong> (Tue, 08 Jan 2019 18:23:46 GMT):<br/>
@Shirikatsu I think we're both interested in what your impressions are of the chaincode and the proxy when you've had a chance to run through some scenarios.
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 13:15:42 GMT):<br/>
@swetha Is the intent of FAB-13384 to do a complete a renaming of fabproxy to fab3? I'm looking for ways to contribute and would be happy to submit a CR for this :)
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 13:15:42 GMT):<br/>
@swetha Is the intent of FAB-13384 to do a complete renaming of fabproxy to fab3? I'm looking for ways to contribute and would be happy to submit a CR for this :)
</p>
<p><strong>MHBauer</strong> (Wed, 09 Jan 2019 17:58:43 GMT):<br/>
@lehors yes, that's the idea.
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 18:48:29 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=wQBnwReucadv2CnCe) @MHBauer ok, I have done that :-)
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 18:51:45 GMT):<br/>
but we probably need to coordinate because this is impacting a lot of files obviously so anything else is going to require a rebase
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 18:51:45 GMT):<br/>
but we probably need to coordinate because this is impacting a lot of files obviously so anything else in progress is going to require a rebase
</p>
<p><strong>MHBauer</strong> (Wed, 09 Jan 2019 18:55:43 GMT):<br/>
yup, that's why we haven't done it yet.
</p>
<p><strong>MHBauer</strong> (Wed, 09 Jan 2019 18:55:58 GMT):<br/>
waiting for 1.4 twiddle-thumbs
</p>
<p><strong>MHBauer</strong> (Wed, 09 Jan 2019 18:56:38 GMT):<br/>
we need reviews of https://gerrit.hyperledger.org/r/28179 and https://gerrit.hyperledger.org/r/28566
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 19:01:49 GMT):<br/>
ok, I pushed the change I made but can update when you guys are ready
</p>
<p><strong>MHBauer</strong> (Wed, 09 Jan 2019 19:10:17 GMT):<br/>
@swetha maybe we try a gerrit topic branch for the burrow update?
</p>
<p><strong>swetha</strong> (Wed, 09 Jan 2019 19:11:54 GMT):<br/>
that could work. Compared the diff last night: `12 files changed, 531 insertions(+), 435 deletions(-)` That is of all commits excluding vendor. Though a large commit we could actually do it in one. It isn't as big as I was expecting
</p>
<p><strong>swetha</strong> (Wed, 09 Jan 2019 19:12:43 GMT):<br/>
and it looks release is about to come out https://github.com/hyperledger/fabric/blob/release-1.4/CHANGELOG.md
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 19:14:08 GMT):<br/>
yes 1.4 is being released today, announced tomorrow
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 19:14:43 GMT):<br/>
are you guys changed both fabric and burrow at the same time?
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 19:14:43 GMT):<br/>
are you guys changing both fabric and burrow at the same time?
</p>
<p><strong>swetha</strong> (Wed, 09 Jan 2019 19:18:32 GMT):<br/>
nope, the change to fabric is done: https://gerrit.hyperledger.org/r/#/c/28279/
</p>
<p><strong>swetha</strong> (Wed, 09 Jan 2019 19:19:11 GMT):<br/>
we are waiting on the 1.4 release to merge that in
</p>
<p><strong>lehors</strong> (Wed, 09 Jan 2019 19:19:23 GMT):<br/>
ah ok
</p>
<p><strong>swetha</strong> (Wed, 09 Jan 2019 19:20:19 GMT):<br/>
The burrow change we are almost finished with: https://github.com/swetharepakula/fabric-chaincode-evm/tree/update-burrow
</p>
<p><strong>MHBauer</strong> (Thu, 10 Jan 2019 08:40:37 GMT):<br/>
yay stuff merged and reviewed
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:09:41 GMT):<br/>
well, I'm happy to report that all the tests I ran passed now
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:09:54 GMT):<br/>
I reran the whole wokshop scenario: no problem
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:10:29 GMT):<br/>
and then I tried using a different contract that failed before because of a lack of support for revert and it now functions as expected
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:11:50 GMT):<br/>
this is using the update-burrow branch from swethat's github fork
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:11:50 GMT):<br/>
this is using the update-burrow branch from swetha's github fork
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:12:33 GMT):<br/>
I do have one question but that's just me not knowing, how can I create several accounts with some ether to use?
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:13:11 GMT):<br/>
I have this contract that implements an auction and one needs to bid with ether from their account
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:13:46 GMT):<br/>
when I use the Remix JVM env I get a few account preloaded I can use
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:13:46 GMT):<br/>
when I use the Remix JVM env I get a few accounts preloaded I can use
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:14:19 GMT):<br/>
but when I switch to fab3 I get one account with zero eth, which makes it impossible to really test the contract
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:14:32 GMT):<br/>
any hint on how to get around that would be appreciated
</p>
<p><strong>lehors</strong> (Thu, 10 Jan 2019 12:14:46 GMT):<br/>
but otherwise: good job guys :)
</p>
<p><strong>MHBauer</strong> (Thu, 10 Jan 2019 18:18:05 GMT):<br/>
ether doesn't matter
</p>
<p><strong>MHBauer</strong> (Thu, 10 Jan 2019 18:18:19 GMT):<br/>
I think that's in the release notes, but if it isn't we should write that down.
</p>
<p><strong>MHBauer</strong> (Thu, 10 Jan 2019 18:18:47 GMT):<br/>
accounts are tied to the user account accessing fabric, so if you need more accounts, you need to make more fabric users.
</p>
<p><strong>MHBauer</strong> (Thu, 10 Jan 2019 18:22:34 GMT):<br/>
@lehors I made a topic branch and messed up the name, https://gerrit.hyperledger.org/r/#/q/topic:test+(status:open+OR+status:merged) is there a way to merge the whole thing in one go?
</p>
<p><strong>MHBauer</strong> (Thu, 10 Jan 2019 18:22:59 GMT):<br/>
or is it just too bad, so sad, golang is a mess?
</p>
<p><strong>swetha</strong> (Thu, 10 Jan 2019 19:03:51 GMT):<br/>
@lehors About the ether piece. You would have to alter the contract so that it takes in a token contract like ERC 20. Anything that uses native ether won't work in Fabric. Each Fab3 is associated only to a single user, so you won't get the list of accounts like JVM in remix.
</p>
<p><strong>Shirikatsu</strong> (Fri, 11 Jan 2019 14:44:16 GMT):<br/>
@MHBauer @swetha Hey guys, thanks again to you both for the call the other day. It's great to engage with you guys and hopefully we can do some great work together! If you guys are interested and have any questions, you can open issues on the Ion github or visit our gitter for some less formal things :) https://gitter.im/clearmatics/ion
</p>
<p><strong>lehors</strong> (Fri, 11 Jan 2019 15:06:18 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=EJ2oYTwddJes3o88c) @MHBauer unless your contract is payable... I know it doesn't matter in terms of execution cost but I have an auction contract where one bids with ether, I just don't know how to do that here because the account I get from fab3 has zero ether
</p>
<p><strong>lehors</strong> (Fri, 11 Jan 2019 15:07:18 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=wpNanXneW6jAjjuj7) @swetha Ok, I understand. I think this would be worth noting as a limitation in the documentation. Thanks.
</p>
<p><strong>guoger</strong> (Fri, 11 Jan 2019 15:44:15 GMT):<br/>
it would be nice to wire this to fabcoin when it's available
> Anything that uses native ether won't work in Fabric
</p>
<p><strong>MHBauer</strong> (Fri, 11 Jan 2019 18:19:33 GMT):<br/>
ah, okay, I'm not familiar with that part of ether work. we do need to add that to the release notes. 
</p>
<p><strong>lehors</strong> (Fri, 11 Jan 2019 19:51:07 GMT):<br/>
I agree @guoger, that would be cool
</p>
<p><strong>lehors</strong> (Fri, 11 Jan 2019 20:28:16 GMT):<br/>
it would be good to be able to have some substitute, even if it has no real value
</p>
<p><strong>lehors</strong> (Fri, 11 Jan 2019 20:28:16 GMT):<br/>
it would be good to have some substitute, even if it has no real value
</p>
<p><strong>lehors</strong> (Fri, 11 Jan 2019 20:28:50 GMT):<br/>
just so that one can run contracts that use ether
</p>
<p><strong>swetha</strong> (Fri, 11 Jan 2019 22:43:29 GMT):<br/>
@guoger & @cbf we need some reviews:
events integration test: https://gerrit.hyperledger.org/r/#/c/28179/
integration test timeout: https://gerrit.hyperledger.org/r/#/c/28566/
burrow update to 0.23: https://gerrit.hyperledger.org/r/#/c/28596/ & https://gerrit.hyperledger.org/r/#/c/28597/
</p>
<p><strong>swetha</strong> (Fri, 11 Jan 2019 23:01:22 GMT):<br/>
@lehors, @MHBauer the burrow update and fab3 rename conflict with one another. We should determine what order we want them to go in and rebase the other. My preference would be the burrow update first because I think that would be more difficult to rebase
</p>
<p><strong>MHBauer</strong> (Sat, 12 Jan 2019 00:59:30 GMT):<br/>
nobody's PR gets merged until they review two things! :-D
</p>
<p><strong>guoger</strong> (Sat, 12 Jan 2019 01:00:21 GMT):<br/>
reviewing it now
</p>
<p><strong>guoger</strong> (Sat, 12 Jan 2019 01:05:40 GMT):<br/>
when we create  a CR that's related to an existing but closed JIRA, pls open a new JIRA and link to that. So we can have a proper description and keep track of the progress of project (X close, Y in review, Z in progress). I know I may said that if it's really a simple fix, we could simply piggyback that to an old one. but let's not do that anymore, i was wrong.
</p>
<p><strong>MHBauer</strong> (Sat, 12 Jan 2019 01:08:34 GMT):<br/>
ok
</p>
<p><strong>guoger</strong> (Sat, 12 Jan 2019 02:04:56 GMT):<br/>
+2'ed https://gerrit.hyperledger.org/r/c/28179/, w/ some comments there
</p>
<p><strong>swetha</strong> (Sun, 13 Jan 2019 07:57:04 GMT):<br/>
Yup, sorry I had closed the events jira too soon. but the CR was submitted with that jira was open
</p>
<p><strong>swetha</strong> (Sun, 13 Jan 2019 07:57:04 GMT):<br/>
Yup, sorry I had closed the events jira too soon. but the CR was submitted when that jira was open
</p>
<p><strong>lehors</strong> (Sun, 13 Jan 2019 19:54:56 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=oSfqfTGvNgBhsrxLc) @swetha As I said on Jira I too think the Burrow update should be merged first. I'll be happy to rebase my CR once that's done. No worries.
</p>
<p><strong>MHBauer</strong> (Thu, 17 Jan 2019 21:02:18 GMT):<br/>
what's left on release checklist? tweaking release notes &? 
</p>
<p><strong>MHBauer</strong> (Thu, 17 Jan 2019 21:03:29 GMT):<br/>
still need reviews of update-burrow branch, I'd appreciate any eyes and any comments. https://gerrit.hyperledger.org/r/#/q/status:open+project:fabric-chaincode-evm+branch:master+topic:update-burrow
</p>
<p><strong>swetha</strong> (Thu, 17 Jan 2019 23:00:30 GMT):<br/>
@MHBauer still reviews on the release notes
</p>
<p><strong>swetha</strong> (Thu, 17 Jan 2019 23:00:30 GMT):<br/>
@MHBauer still need reviews on the release notes
</p>
<p><strong>swetha</strong> (Thu, 17 Jan 2019 23:00:37 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/28646/
</p>
<p><strong>narendranathreddy</strong> (Mon, 21 Jan 2019 10:01:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>narendranathreddy</strong> (Mon, 21 Jan 2019 11:19:03 GMT):<br/>
instantiate
</p>
<p><strong>narendranathreddy</strong> (Mon, 21 Jan 2019 11:24:18 GMT):<br/>
hello @swetha Swetha I have been trying to instantiate evmcc chaincode, Iam not using fabric samples instead iam using  my modified project  
</p>
<p><strong>narendranathreddy</strong> (Mon, 21 Jan 2019 11:24:34 GMT):<br/>
iam getting package not found error \
</p>
<p><strong>narendranathreddy</strong> (Mon, 21 Jan 2019 11:24:48 GMT):<br/>
proposalResponses:Error: error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 "chaincode/input/src/github.com/evmcc/go/evmcc.go:15:2: cannot find package "github.com/golang/protobuf/proto" in any of:
        /opt/go/src/github.com/golang/protobuf/proto (from $GOROOT)
        /chaincode/input/src/github.com/golang/protobuf/proto (from $GOPATH)
        /opt/gopath/src/github.com/golang/protobuf/proto
chaincode/input/src/github.com/evmcc/go/evmcc.go:16:2: cannot find package "github.com/hyperledger/burrow/account" in any of:
        /opt/go/src/github.com/hyperledger/burrow/account (from $GOROOT)
        /chaincode/input/src/github.com/hyperledger/burrow/account (from $GOPATH)
        /opt/gopath/src/github.com/hyperledger/burrow/account
chaincode/input/src/github.com/evmcc/go/evmcc.go:17:2: cannot find package "github.com/hyperledger/burrow/binary" in any of:
        /opt/go/src/github.com/hyperledger/burrow/binary (from $GOROOT)
        /chaincode/input/src/github.com/hyperledger/burrow/binary (from $GOPATH)
        /opt/gopath/src/github.com/hyperledger/burrow/binary
chaincode/input/src/github.com/evmcc/go/evmcc.go:18:2: cannot find package "github.com/hyperledger/burrow/execution/evm" in any of:
        /opt/go/src/github.com/hyperledger/burrow/execution/evm (from $GOROOT)
        /chaincode/input/src/github.com/hyperledger/burrow/execution/evm (from $GOPATH)
        /opt/gopath/src/github.com/hyperledger/burrow/execution/evm
chaincode/input/src/github.com/evmcc/go/evmcc.go:19:2: cannot find package "github.com/hyperledger/burrow/logging" in any of:
        /opt/go/src/github.com/hyperledger/burrow/logging (from $GOROOT)
        /chaincode/input/src/github.com/hyperledger/burrow/logging (from $GOPATH)
        /opt/gopath/src/github.com/hyperledger/burrow/logging
chaincode/input/src/github.com/evmcc/go/evmcc.go:20:2: cannot find package "github.com/hyperledger/fabric-chaincode-evm/event" in any of:
        /opt/go/src/github.com/hyperledger/fabric-chaincode-evm/event (from $GOROOT)
        /chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/event (from $GOPATH)
        /opt/gopath/src/github.com/hyperledger/fabric-chaincode-evm/event
chaincode/input/src/github.com/evmcc/go/evmcc.go:21:2: cannot find package "github.com/hyperledger/fabric-chaincode-evm/statemanager" in any of:
        /opt/go/src/github.com/hyperledger/fabric-chaincode-evm/statemanager (from $GOROOT)
        /chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/statemanager (from $GOPATH)
        /opt/gopath/src/github.com/hyperledger/fabric-chaincode-evm/statemanager
chaincode/input/src/github.com/evmcc/go/evmcc.go:26:2: cannot find package "golang.org/x/crypto/sha3" in any of:
        /opt/go/src/golang.org/x/crypto/sha3 (from $GOROOT)
        /chaincode/input/src/golang.org/x/crypto/sha3 (from $GOPATH)
        /opt/gopath/src/golang.org/x/crypto/sha3
",Error: error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 "chaincode/input/src/github.com/evmcc/go/evmcc.go:15:2: cannot find package "github.com/golang/protobuf/proto" in any of:
        /opt/go/src/github.com/golang/protobuf/proto (from $GOROOT)
        /chaincode/input/src/github.com/golang/protobuf/proto (from $GOPATH)
        /opt/gopath/src/github.com/golang/protobuf/proto
chaincode/input/src/github.com/evmcc/go/evmcc.go:16:2: cannot find package "github.com/hyperledger/burrow/account" in any of:
        /opt/go/src/github.com/hyperledger/burrow/account (from $GOROOT)
        /chaincode/input/src/github.com/hyperledger/burrow/account (from $GOPATH)
        /opt/gopath/src/github.com/hyperledger/burrow/account

</p>
<p><strong>narendranathreddy</strong> (Mon, 21 Jan 2019 11:25:09 GMT):<br/>
above are peer logs
</p>
<p><strong>narendranathreddy</strong> (Mon, 21 Jan 2019 11:26:13 GMT):<br/>

<br/><a href="./assets/RGeaG7LHNfZfyfpbX-Clipboard - January 21, 2019 3:26 PM">Clipboard - January 21, 2019 3:26 PM</a>
</p>
<p><strong>ycarmel</strong> (Tue, 22 Jan 2019 08:44:28 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Jamie</strong> (Tue, 22 Jan 2019 17:09:33 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>incarose</strong> (Wed, 23 Jan 2019 00:23:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Wed, 23 Jan 2019 18:47:53 GMT):<br/>
@lehors thanks for review
</p>
<p><strong>lehors</strong> (Wed, 23 Jan 2019 19:31:58 GMT):<br/>
you bet
</p>
<p><strong>MHBauer</strong> (Wed, 23 Jan 2019 23:54:34 GMT):<br/>
@swetha so release is out now? 
</p>
<p><strong>MHBauer</strong> (Wed, 23 Jan 2019 23:54:44 GMT):<br/>
Do we have an announcement somewhere?
</p>
<p><strong>swetha</strong> (Wed, 23 Jan 2019 23:56:12 GMT):<br/>
@MHBauer yes the release is out
</p>
<p><strong>swetha</strong> (Wed, 23 Jan 2019 23:56:30 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/releases/tag/v0.1.0
</p>
<p><strong>lehors</strong> (Thu, 24 Jan 2019 15:58:49 GMT):<br/>
congrats! :)
</p>
<p><strong>lehors</strong> (Thu, 24 Jan 2019 16:01:12 GMT):<br/>
you should send an email to the fabric mailing list though
</p>
<p><strong>MHBauer</strong> (Thu, 24 Jan 2019 17:55:56 GMT):<br/>
@guoger thanks for looking at the PRs
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 19:11:07 GMT):<br/>
@lehors forgot about the mailing list. i will do that now
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 20:00:47 GMT):<br/>
@lehors we merged in the burrow update
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 21:14:26 GMT):<br/>
nice! :-)
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:04:08 GMT):<br/>
@swetha hmm... make integration-test fails for me unfortunately :-(
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:05:22 GMT):<br/>
`------------------------------
‚Ä¢ Failure [120.924 seconds]
Fabproxy [It] implements the ethereum json rpc api 
/Users/lehors/Projects/Go/src/github.com/hyperledger/fabric-chaincode-evm/integration/fab3/fab3_test.go:137

  Timed out after 60.005s.
  Expected
      <helpers.JsonRPCError>: {
          Code: -32000,
          Message: "Failed to query the ledger: QueryBlockByTxID failed: Transaction processing for endorser [localhost:30008]: Chaincode status Code: (500) UNKNOWN. Description: Failed to get block for txID cbd18f1d112a60f28f8c1a1fa6211f762a441c824293b38c18e5712db7edd828, error Entry not found in index",
          Data: "",
      }
  to be zero-valued

  /Users/lehors/Projects/Go/src/github.com/hyperledger/fabric-chaincode-evm/integration/fab3/fab3_test.go:198
------------------------------


Summarizing 1 Failure:

[Fail] Fabproxy [It] implements the ethereum json rpc api 
/Users/lehors/Projects/Go/src/github.com/hyperledger/fabric-chaincode-evm/integration/fab3/fab3_test.go:198

Ran 1 of 1 Specs in 137.411 seconds
FAIL! -- 0 Passed | 1 Failed | 0 Pending | 0 Skipped
--- FAIL: TestWeb3 (137.42s)
`
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:06:29 GMT):<br/>
@MHBauer ^^
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 22:10:27 GMT):<br/>
@lehors, unfortunately i think it is a flaky test. are you consistently having that error?
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:11:01 GMT):<br/>
I got it a couple of times, I can try more and will let you know
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 22:12:10 GMT):<br/>
okay, i have seen that error before locally
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 22:12:42 GMT):<br/>
it is definitely a timing issue of some sort, where we query for the block before it has been added
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:13:00 GMT):<br/>
I see
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:13:34 GMT):<br/>
maybe the test should pause
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:13:51 GMT):<br/>
we have pauses in some of the fabric tests
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:16:15 GMT):<br/>
ok, I tried again and it passed
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:16:28 GMT):<br/>
so, not so bad
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 22:18:52 GMT):<br/>
I also accidentally merged another patch in which affects the file `fabproxy/ethservice_types_roundtrip_test.go`, which I think will affect your rebase. So, sorry about that
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:24:31 GMT):<br/>
yes, it did :)
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:24:43 GMT):<br/>
it's ok, I just pushed another rebase
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:25:41 GMT):<br/>
I was like "what?? why does it say there is a merge conflict, I just rebased??" :)
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 22:26:05 GMT):<br/>
hahah, i clicked merge and then realized what I did
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:28:48 GMT):<br/>
well, I'm taking off (it's 11:30pm here) so it's on you now
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:29:33 GMT):<br/>
all the tests passed so I'm confident I didn't make things worse :)
</p>
<p><strong>lehors</strong> (Fri, 25 Jan 2019 22:30:12 GMT):<br/>
ttyl
</p>
<p><strong>MHBauer</strong> (Fri, 25 Jan 2019 22:35:22 GMT):<br/>
rebase looking good, thanks.
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 22:46:10 GMT):<br/>
thanks arnaud! merged it all in :)
</p>
<p><strong>MHBauer</strong> (Fri, 25 Jan 2019 22:54:03 GMT):<br/>
boom, 
</p>
<p><strong>MHBauer</strong> (Fri, 25 Jan 2019 23:00:56 GMT):<br/>
@swetha oh wait, did we fix the contract init events?
</p>
<p><strong>MHBauer</strong> (Fri, 25 Jan 2019 23:01:02 GMT):<br/>
I forgot about that
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 23:01:34 GMT):<br/>
yes i fixed it and added tests for it
</p>
<p><strong>MHBauer</strong> (Fri, 25 Jan 2019 23:01:59 GMT):<br/>
yup, NAILED IT
</p>
<p><strong>MHBauer</strong> (Fri, 25 Jan 2019 23:02:25 GMT):<br/>
I didn't notice the new ones
</p>
<p><strong>swetha</strong> (Fri, 25 Jan 2019 23:17:49 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/evmcc/evmcc_test.go#L598-L650
</p>
<p><strong>MHBauer</strong> (Fri, 25 Jan 2019 23:37:22 GMT):<br/>
nope, didn't read it
</p>
<p><strong>Pradeep_Pentakota</strong> (Sat, 26 Jan 2019 13:42:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>binhn</strong> (Sat, 26 Jan 2019 16:50:16 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>edisinovcic</strong> (Mon, 28 Jan 2019 13:16:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Mon, 28 Jan 2019 17:41:35 GMT):<br/>
I feel like we need to start abstracting some of the stuff like https://github.com/hyperledger/fabric-chaincode-evm/blob/master/evmcc/evmcc_test.go#L603-L606
</p>
<p><strong>MHBauer</strong> (Mon, 28 Jan 2019 17:41:46 GMT):<br/>
the comments are nice, tho
</p>
<p><strong>andrewyu</strong> (Tue, 29 Jan 2019 06:13:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>andrewyu</strong> (Tue, 29 Jan 2019 06:36:38 GMT):<br/>
Hey all, I just put in a pull request, there is an issue which came about from renaming fabproxy to fab3: https://github.com/hyperledger/fabric-chaincode-evm/pull/2
</p>
<p><strong>cbf</strong> (Tue, 29 Jan 2019 14:55:57 GMT):<br/>
@andrewyu please file a JIRA and submit a Gerrit CR per the contributing guidelines in Fabric
</p>
<p><strong>cbf</strong> (Tue, 29 Jan 2019 14:56:11 GMT):<br/>
we only use GH as a mirror of the code managed by Gerrit
</p>
<p><strong>cbf</strong> (Tue, 29 Jan 2019 14:56:31 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/release-1.4/CONTRIBUTING.html
</p>
<p><strong>swetha</strong> (Tue, 29 Jan 2019 18:32:26 GMT):<br/>
I have already created a JIRA for the issue that you can reference in yoru commit: https://jira.hyperledger.org/browse/FAB-13947
</p>
<p><strong>swetha</strong> (Tue, 29 Jan 2019 18:32:26 GMT):<br/>
I have already created a JIRA for the issue that you can reference in your commit: https://jira.hyperledger.org/browse/FAB-13947
</p>
<p><strong>swetha</strong> (Tue, 29 Jan 2019 18:32:38 GMT):<br/>
@andrewyu ^
</p>
<p><strong>andrewyu</strong> (Tue, 29 Jan 2019 21:27:53 GMT):<br/>
ok noted thanks
</p>
<p><strong>swetha</strong> (Tue, 29 Jan 2019 23:05:13 GMT):<br/>
reviews needed for https://gerrit.hyperledger.org/r/#/c/28903/ & https://gerrit.hyperledger.org/r/#/c/28905/
</p>
<p><strong>guoger</strong> (Wed, 30 Jan 2019 15:50:20 GMT):<br/>
@swetha  I'm still in the middle of it. not super familiar with viper but it looks almost good to go. Also i noticed discussion between morgan and i want to put more thoughts to it/
</p>
<p><strong>swetha</strong> (Wed, 30 Jan 2019 18:47:07 GMT):<br/>
sounds good!
</p>
<p><strong>MHBauer</strong> (Wed, 30 Jan 2019 23:32:07 GMT):<br/>
@guoger anything left on https://gerrit.hyperledger.org/r/28566 ? 
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 02:30:16 GMT):<br/>
so for jira, do I task-ize concepts?
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 02:44:37 GMT):<br/>
you lost me there
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 02:44:43 GMT):<br/>
what do you mean?
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 02:45:09 GMT):<br/>
btw, @swetha you might want to rebase your patches
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:36:49 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/28949/ should be a tiny bit more than the minimum viable, and I'll put the filtering work into a follow up, so we can focus on having the next step for truffle.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:37:10 GMT):<br/>
basically, I don't know how to use jira
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:37:18 GMT):<br/>
and we've got a web of dependencies.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:37:31 GMT):<br/>
and I want to get smaller pieces in
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:38:06 GMT):<br/>
thanks for review @guoger 
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:39:38 GMT):<br/>
is there a "proposal" jira thingy?
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:39:47 GMT):<br/>
do you wanna have a quick zoom/slack session?
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:39:53 GMT):<br/>
I think we need to establish a mini-framework or scenario for our block setup
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:40:58 GMT):<br/>
@guoger if you want to, I don't know if @swetha is around.
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:42:12 GMT):<br/>
one quick question first, i'm looking at https://gerrit.hyperledger.org/r/c/28903/, when i build, i'm getting a binary `main`. shouldn't it be `fab3`?
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:42:37 GMT):<br/>
for make? or 
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:42:40 GMT):<br/>
how are you building?
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:42:47 GMT):<br/>
(i mean of course i could `go build -o`, but i thought i should be able to get `fab3` just by `go build`?
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:42:59 GMT):<br/>
it would come out 'cmd' I believe
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:43:11 GMT):<br/>
ah, yes, sorry, it is `cmd`
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:43:14 GMT):<br/>
but why
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:43:18 GMT):<br/>
that's the name of the folder.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:43:18 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=pnsMoDBXyqZRSpnNs) @MHBauer oh, of course...
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:43:29 GMT):<br/>
but not the package? 
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:43:46 GMT):<br/>
confusing, but that's why.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:44:03 GMT):<br/>
don't bring logic in to this and ask go to make sense...
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:44:23 GMT):<br/>
haha
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:44:38 GMT):<br/>
but again, shouldn't we make it produce a binary named `fab3`?
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:44:42 GMT):<br/>
I wrote the makefile, so I use the makefile
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:44:56 GMT):<br/>
and that shoudl produce a fab3
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:45:15 GMT):<br/>
as 'bin/fab3'
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:45:15 GMT):<br/>
as `bin/fab3`
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:45:26 GMT):<br/>
yep
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:45:32 GMT):<br/>
but anyway, just a nit
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:45:47 GMT):<br/>
 ¬Ø\_(„ÉÑ)_/¬Ø
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:45:48 GMT):<br/>
(and a bit surprised when i saw `cmd`)
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:45:53 GMT):<br/>
oh great, that works here too.
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:46:00 GMT):<br/>
lol
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:46:22 GMT):<br/>
well, that's why you normally see a different directory structure.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:46:31 GMT):<br/>
at least, among the go projects I've noticed.
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:46:36 GMT):<br/>
it took me 5 seconds to realize it's shrug
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:46:44 GMT):<br/>
CF stuff seems to shove everything into the top-level.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:47:02 GMT):<br/>
so I can forgove jb & qs .
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:47:02 GMT):<br/>
so `fabric-chaincode-evm/cmd/fab3/main.go`?
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:47:21 GMT):<br/>
ya, something like that is what *I* would expect.
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:47:23 GMT):<br/>
what's jb&qs?
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:47:34 GMT):<br/>
johny berk
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:47:38 GMT):<br/>
and queen swe
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:48:13 GMT):<br/>
i was gonna ask who's johny berk but i guess i'll just keep that to myself
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:49:07 GMT):<br/>
other local here.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:49:21 GMT):<br/>
could have sworn you've met, but maybe not at all now that I think of it.
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 03:49:41 GMT):<br/>
anyway, back on the topic of fab3, 
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 03:49:45 GMT):<br/>
https://zoom.us/j/766717353
</p>
<p><strong>PadmavathyMohan</strong> (Thu, 31 Jan 2019 05:50:11 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 06:54:38 GMT):<br/>
I did a bit restructuring of JIRAs:
*epic* FAB-14000 - _support toolsings in Ethereum ecosystem_
 \vdash *story* FAB-13999 - _As a fabric evm chaincode user, I want to interact with my contract via Ethereum JSON RPC_
                \vdash FAB-13578 - _Implement getStorageAt_
                \vdash etc
 \vdash *story* FAB-14000 - _As a Truffle developer, i want to use Fab3 as backend_
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 06:54:38 GMT):<br/>
I did a bit restructuring of JIRAs:
*epic* FAB-14000 - _support toolsings in Ethereum ecosystem_
 \[\vdash] *story* FAB-13999 - _As a fabric evm chaincode user, I want to interact with my contract via Ethereum JSON RPC_
                \vdash FAB-13578 - _Implement getStorageAt_
                \vdash etc
 \vdash *story* FAB-14000 - _As a Truffle developer, i want to use Fab3 as backend_
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 06:54:38 GMT):<br/>
I did a bit restructuring of JIRAs:
```
*epic* FAB-14000 - _support toolsings in Ethereum ecosystem_
  |- *story* FAB-13999 - _As a fabric evm chaincode user, I want to interact with my contract via Ethereum JSON RPC_
             |- *sub-task* FAB-13578 - _Implement getStorageAt_
             |- etc
  |- *story* FAB-14000 - _As a Truffle developer, i want to use Fab3 as backend_
```
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 06:54:38 GMT):<br/>
I did a bit restructuring of JIRAs:
```
*epic* FAB-14000 - support toolsings in Ethereum ecosystem
  |- *story* FAB-13999 - As a fabric evm chaincode user, I want to interact with my contract via Ethereum JSON RPC
             |- *sub-task* FAB-13578 - Implement getStorageAt
             |- etc
  |- *story* FAB-14000 - As a Truffle developer, i want to use Fab3 as backend
```
</p>
<p><strong>guoger</strong> (Thu, 31 Jan 2019 08:43:28 GMT):<br/>
is https://gerrit.hyperledger.org/r/c/28949 ready for review? or still wip
</p>
<p><strong>huanlv94</strong> (Thu, 31 Jan 2019 09:07:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Thu, 31 Jan 2019 16:13:51 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=eJ969P38sv95CqsgY) @guoger to me, should be done, more work in future stuff
</p>
<p><strong>swetha</strong> (Thu, 31 Jan 2019 18:05:09 GMT):<br/>
@guoger little confused with the restructuring. so we now have an epic in which a story is an issue in it? And why do we pick sub tasks over tasks? Asking just to understand how we should structure things in the future
</p>
<p><strong>swetha</strong> (Thu, 31 Jan 2019 18:05:09 GMT):<br/>
@guoger little confused with the restructuring. so we now have an epic in which a story is an issue in it? And why do we pick sub tasks over tasks? Asking to understand how we should structure things in the futur
</p>
<p><strong>swetha</strong> (Thu, 31 Jan 2019 21:39:02 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=QuT2e9r6ouZTDTjhr) @guoger The only concern I had about going to this directory structure is because the evmcc main cannot go there which would make it seem that the main command is fab3 in this repo which isn't necessarily true. But since more people would be using fab3 day to day and need to build it over evmcc I can put a jira in the backlog to change this. @guoger @MHBauer ^^
</p>
<p><strong>swetha</strong> (Thu, 31 Jan 2019 23:02:10 GMT):<br/>
@MHBauer & @guoger : this patch has been rebased and needs another round of reviews
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 01:57:18 GMT):<br/>
what if we make a toplevel jira epic/story for various refactorings? A holder that we can toss nits under as we see it, so it can be part of a thing that's not blocking anything.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 01:57:33 GMT):<br/>
can add stuff and tackle it separately as we see it.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 01:58:52 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=AE9PKbShwm2F79h27) @swetha I don't know if we actually need to change it, but something about the current structure seems to be violating expectations, even for people who I'd assume would know better.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:00:04 GMT):<br/>
and I don't view cmd as "this is the ONLY relevant thing in the repo",  I view it as, "hey, here's my user visible thing, that a person would want to interact with". 
as we've discussed, evmcc isn't a deliverable, the code is. So I don't understand
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:02:29 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=itTG6XCk5sNYwE9Fw) more than that, we can assign it and assign reviewers I think. then it's "I promise to do this in a follow up or other change, and you promise to review it when you see it".
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:20:49 GMT):<br/>
like how do you write a user story for code changes. that seems silly
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:24:55 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=itTG6XCk5sNYwE9Fw) @MHBauer I agree for some large refactors that we should create jiras. but like the once i suggested in this patch: https://gerrit.hyperledger.org/r/#/c/28949/, since it is an introduction of new code, it would be easier to tackle the refactor at the beginning and never introduce the duplication of code at all. This way we don't accumulate too much technical debt.
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:24:55 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=itTG6XCk5sNYwE9Fw) @MHBauer I agree for some large refactors that we should create jiras. but like the ones i suggested in this patch: https://gerrit.hyperledger.org/r/#/c/28949/, since it is an introduction of new code, it would be easier to tackle the refactor at the beginning and never introduce the duplication of code at all. This way we don't accumulate too much technical debt.
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:26:18 GMT):<br/>
Otherwise for refactors we notice after code as been merged I think you can still add a task JIRA. It doesn't necessarily all have to be user facing
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:31:06 GMT):<br/>
I don't like how it make stuff bigger and confused, that is why I ask.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:31:29 GMT):<br/>
one of my commits is ORANGE
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:31:33 GMT):<br/>
I DON'T LIKE IT
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:34:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=jmmBanmv39ComsHF6) @swetha Ah, don't read them too literally. It's as simple as a tree with height == 2. So, you can just interpret `issue` as stories under epic. We pick sub-task, because you can only create sub-task under story, not task
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:34:45 GMT):<br/>
I made some more, but I can't figure out how to change some of the fields
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:34:55 GMT):<br/>
which one?
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:35:04 GMT):<br/>
what jay said ^
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:35:20 GMT):<br/>
how do I change status
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:35:31 GMT):<br/>
todo to inprogress or inprogrress to done?
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:35:39 GMT):<br/>
click on start working
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:35:40 GMT):<br/>
there is a button in jira
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:35:48 GMT):<br/>
"begin work"?
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:35:53 GMT):<br/>
yep
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:35:57 GMT):<br/>
it's like a state machine
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:36:01 GMT):<br/>
that's silly
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:36:08 GMT):<br/>
you cannot `SetState`, but only `Step`
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:36:10 GMT):<br/>

<br/><a href="./assets/b6GC36nudXcMZQ7B3-Screen Shot 2019-01-31 at 6.35.50 PM.png">Screen Shot 2019-01-31 at 6.35.50 PM.png</a>
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:36:21 GMT):<br/>
that says accept
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:36:23 GMT):<br/>
First thing to do is click `Accept`
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:36:33 GMT):<br/>
Never esen that one
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:36:47 GMT):<br/>
hold on, it looks different here
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:36:55 GMT):<br/>
for FAB-13600
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:37:13 GMT):<br/>
what a terrible tool, I hope we're not paying for it.
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:37:19 GMT):<br/>
i didn't refresh after you did the restructuring
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:37:24 GMT):<br/>
Linux Foundation is paying i guess
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:37:41 GMT):<br/>
oh well, gotta keep atlasian in business
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:37:42 GMT):<br/>
which task are you looking at?
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:37:42 GMT):<br/>
although as open source community user, lower fee i guess
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:37:53 GMT):<br/>
i already put getLogs in progress and assigned to you
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:38:15 GMT):<br/>
so you won't be able to see the same buttons on your task
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:42:39 GMT):<br/>
sometimes if you want to change type of a jira, click on `move`
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:42:59 GMT):<br/>
so you get accept, because I'm assigned?
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:45:20 GMT):<br/>
no on any new task the first button you see there is accept
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:45:29 GMT):<br/>
should add an event to the simple storage contract
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:45:47 GMT):<br/>
the instructor contract already has an event
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:46:30 GMT):<br/>
which i just realized we didn't create a go version of that contract
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:46:31 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/integration/web3/instructor_contract.js
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:46:37 GMT):<br/>
yea, I know
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:46:46 GMT):<br/>
simple storage is easier.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:46:50 GMT):<br/>
:-)
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:46:59 GMT):<br/>
btw, you can click on the workflow next to status
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:47:09 GMT):<br/>
ya, but you can't actually change it there
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:47:17 GMT):<br/>
different type of jira (task, bug) has different workflow
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:47:26 GMT):<br/>
i use a contract with events in the e2e tests
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:47:42 GMT):<br/>
right, because you shouldn't set state in FSM, you should step it
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:47:44 GMT):<br/>
oh nope i dont
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:47:57 GMT):<br/>
(and i don't like it in jira)
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:48:07 GMT):<br/>
silly extra clicks
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:48:38 GMT):<br/>
my preference is for you to use a different contract than altering simple storage, especially because simple storage is kind of like a hello world contract
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:49:24 GMT):<br/>
okay, I've already got LessSimpleStorage.sol written up.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:49:34 GMT):<br/>
has been useful for debugging.
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 02:49:41 GMT):<br/>
lol, that should work
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 02:57:42 GMT):<br/>
oh ya, watch is pretty sweet.
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 02:58:19 GMT):<br/>
until you are watching a thousands of jira
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 03:01:14 GMT):<br/>
I meant ginkgo watch
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 03:01:31 GMT):<br/>
How can I make it open a filter by defaul tfor me?
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 03:01:45 GMT):<br/>
I want component=f-c-e
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 03:05:24 GMT):<br/>
i don' think so... you can store the filter though
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 03:25:44 GMT):<br/>
I made one I think
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 03:43:25 GMT):<br/>
when's the next release?
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 03:45:32 GMT):<br/>
fabric? or fabric-cc-evm?
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 04:02:17 GMT):<br/>
us
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 04:02:23 GMT):<br/>
f-c-e
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 04:32:21 GMT):<br/>
I ask because I wanna get that sweet sweet new burrow out.
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 04:46:57 GMT):<br/>
i guess anything before 1.0 can be very flexible. we can even have a 0.1.1 :)
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 04:53:53 GMT):<br/>
that'd be great.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 04:54:04 GMT):<br/>
rapid releases, continuous even!
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 07:51:18 GMT):<br/>
which counterfeiter version are you guys using?
</p>
<p><strong>guoger</strong> (Fri, 01 Feb 2019 07:51:36 GMT):<br/>
(IIRC, it's not enforced by project, correct?)
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 16:54:38 GMT):<br/>
@guoger im using this sha: c936c3d9d00c3bc9158f53f49cd70ff3214ac0b8
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 16:55:42 GMT):<br/>
if we think we might be altering the mocks often enough we should vendor it in. i will put a jira in
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 19:13:02 GMT):<br/>
yea, we should do that since it has no versions.
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 19:14:05 GMT):<br/>
oh, they made a release!
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 19:14:06 GMT):<br/>
https://github.com/maxbrunsfeld/counterfeiter/releases/tag/v6.0.0
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 19:14:19 GMT):<br/>
https://github.com/maxbrunsfeld/counterfeiter/releases/tag/v6.0.1 
</p>
<p><strong>swetha</strong> (Fri, 01 Feb 2019 19:41:17 GMT):<br/>
nice we can start using those then
</p>
<p><strong>MHBauer</strong> (Fri, 01 Feb 2019 20:11:41 GMT):<br/>
@guoger you seemed happy with https://gerrit.hyperledger.org/r/#/c/29019/ but didn't +2 ?
</p>
<p><strong>pasimoes</strong> (Sat, 02 Feb 2019 00:58:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>lehors</strong> (Mon, 04 Feb 2019 16:59:51 GMT):<br/>
@MHBauer @guoger fyi Jira is set to work that way. It wasn't before. So, don't blame the tool if you don't like it, blame whoever set it up that way. :-) I too think it's a bit clunky - it takes a lot of steps that don't seem really useful - but before we had a mess because nobody knew what process flow was to be followed and you could set the state to any value in any order
</p>
<p><strong>MHBauer</strong> (Mon, 04 Feb 2019 18:49:21 GMT):<br/>
make ssense, but they put the button in the wrong place :-)
</p>
<p><strong>swetha</strong> (Mon, 04 Feb 2019 19:44:42 GMT):<br/>
@andrewyu Are you still intersted in making a fix for https://jira.hyperledger.org/browse/FAB-13947. Please let us know if you need any help from us
</p>
<p><strong>guoger</strong> (Tue, 05 Feb 2019 02:59:38 GMT):<br/>
wow, how did we get jenkins build notification here?
</p>
<p><strong>MHBauer</strong> (Tue, 05 Feb 2019 06:20:37 GMT):<br/>
I blame @swetha 
</p>
<p><strong>MHBauer</strong> (Tue, 05 Feb 2019 06:21:11 GMT):<br/>
I think it posts because it's a failure after merge.
</p>
<p><strong>MHBauer</strong> (Tue, 05 Feb 2019 06:22:07 GMT):<br/>
not sure if it's a jenkins error or if it's the same hang I've been seeing.
</p>
<p><strong>swetha</strong> (Tue, 05 Feb 2019 17:55:03 GMT):<br/>
@guoger I got them to change the jenkins notification to come here instead of the jenkins failure channel
</p>
<p><strong>swetha</strong> (Tue, 05 Feb 2019 17:55:38 GMT):<br/>
Some interruption occurred on build. Nothing to do with our test
</p>
<p><strong>swetha</strong> (Tue, 05 Feb 2019 17:56:08 GMT):<br/>
@MHBauer we solved your hang though. We wouldn't have environment variable collusion on jenkins
</p>
<p><strong>MahmoudKhraisha</strong> (Tue, 05 Feb 2019 20:57:27 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>DJEMOA</strong> (Wed, 06 Feb 2019 13:21:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>DJEMOA</strong> (Wed, 06 Feb 2019 13:25:11 GMT):<br/>
 Hi everyone, please, I would like to know if it is possible to generate ABI and BYTECODE from a chaincode written in Go (for example) as we do in EVM using Solidity smart contract. Thanks in advance.


</p>
<p><strong>MHBauer</strong> (Wed, 06 Feb 2019 18:31:41 GMT):<br/>
@DJEMOA not relevant here, but interesting question.
</p>
<p><strong>MHBauer</strong> (Wed, 06 Feb 2019 18:32:34 GMT):<br/>
on a fabric CC, we have init and invoke, but the args given to each aren't typed, it's all strings/bytes. chaincode does what chaincode does.
</p>
<p><strong>JigneshVasoya</strong> (Fri, 08 Feb 2019 08:59:31 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>pravn1729</strong> (Sun, 10 Feb 2019 08:44:19 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>lehors</strong> (Wed, 13 Feb 2019 17:25:22 GMT):<br/>
at some we're going to have take a serious look at it and nail down the test issue which makes the CI verification fails half the time...
</p>
<p><strong>lehors</strong> (Wed, 13 Feb 2019 17:25:22 GMT):<br/>
at some we're going to have take a serious look at it and nail down the test issue which makes the CI verification fail half the time...
</p>
<p><strong>MHBauer</strong> (Wed, 13 Feb 2019 17:30:43 GMT):<br/>
 I've got a thought on one of them, but not the other.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Feb 2019 17:31:28 GMT):<br/>
well, an interest in both.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Feb 2019 17:32:26 GMT):<br/>
the one for build 156, I think we're trying to fast and need to wait more for stuff to start up, but I can't be sure. we're missing some err checks for sure. 
</p>
<p><strong>MHBauer</strong> (Wed, 13 Feb 2019 17:32:39 GMT):<br/>
for the other one I think we're tearing down in the wrong order.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Feb 2019 17:33:00 GMT):<br/>
might file a pr for each today.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Feb 2019 17:36:51 GMT):<br/>
@lehors also filed a PR  against upstream burrow to fix an issue https://github.com/hyperledger/burrow/pull/1014
</p>
<p><strong>lehors</strong> (Wed, 13 Feb 2019 18:14:55 GMT):<br/>
sounds good
</p>
<p><strong>MHBauer</strong> (Wed, 13 Feb 2019 21:45:19 GMT):<br/>
small change https://gerrit.hyperledger.org/r/#/c/29294/ that I think will help debug.
</p>
<p><strong>guoger</strong> (Thu, 14 Feb 2019 02:00:16 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=bZtAWXrvhsBFE7or3) @lehors fab3 integration tests fail me constantly... :(
</p>
<p><strong>MHBauer</strong> (Thu, 14 Feb 2019 06:55:15 GMT):<br/>
that's a new one that I haven't seen before.
</p>
<p><strong>MHBauer</strong> (Thu, 14 Feb 2019 06:56:05 GMT):<br/>
well, it's a different form of what I've already seen before.
</p>
<p><strong>MHBauer</strong> (Thu, 14 Feb 2019 07:00:07 GMT):<br/>
looks to me like we're turning it off before it's been fully started maybe.
</p>
<p><strong>swetha</strong> (Fri, 15 Feb 2019 02:50:26 GMT):<br/>
I think you are right, the issue is that proxy.Start is run in a separate goroutine, so if a signal comes before the httpServer in the start function is created, shutdown gets called when the httpServer is still nil. We should add both a nil check in the shutdown and add a wait to make sure the httpServer has started up. I will create a jira
</p>
<p><strong>swetha</strong> (Fri, 15 Feb 2019 04:28:14 GMT):<br/>
this CR should prevent the particular error: https://gerrit.hyperledger.org/r/#/c/29320/
</p>
<p><strong>swetha</strong> (Fri, 15 Feb 2019 07:02:54 GMT):<br/>
I think I have a fix for ^^. I will submit a patch tomorrow
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 20:57:48 GMT):<br/>
@swetha is https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-x86_64/181/console this the same as another?
</p>
<p><strong>swetha</strong> (Mon, 18 Feb 2019 20:58:42 GMT):<br/>
yup same as the one right above
</p>
<p><strong>swetha</strong> (Mon, 18 Feb 2019 20:58:50 GMT):<br/>
as in the same error
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 20:59:50 GMT):<br/>
which fixes it? 
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 20:59:58 GMT):<br/>
the refactor into one package?
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 21:00:07 GMT):<br/>
and how? 
</p>
<p><strong>swetha</strong> (Mon, 18 Feb 2019 21:00:35 GMT):<br/>
this one fixes it: https://gerrit.hyperledger.org/r/#/c/29332/. Yup the refactor
</p>
<p><strong>swetha</strong> (Mon, 18 Feb 2019 21:01:35 GMT):<br/>
It fixes it because the fab3 package was already refactored to avoid this issue. The solution is stopping the proxy before bringing down the network because the SDK waits for I believe longer than 30 secs to kill the connection to the network which causes our tests to fail
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 21:02:05 GMT):<br/>
okay, need to look at how that worked in the fab3
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 21:43:56 GMT):<br/>
for this one
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 21:43:57 GMT):<br/>
https://jenkins.hyperledger.org/job/fabric-chaincode-evm-verify-x86_64/183/console
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 21:44:05 GMT):<br/>
I think we need to loop on the first git
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 22:11:34 GMT):<br/>
sounds like we need a loopy thing in a different area than where I thought. good discussion.
</p>
<p><strong>swetha</strong> (Mon, 18 Feb 2019 22:18:35 GMT):<br/>
created two jiras: https://jira.hyperledger.org/browse/FAB-14244 & https://jira.hyperledger.org/browse/FAB-14243 that should help address some of the flakes
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 22:37:01 GMT):<br/>
do we need gocov or manifest-tool in the tools makefile?
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 22:37:36 GMT):<br/>
wish we had something from fabric to vendor/submodule
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 23:02:36 GMT):<br/>
```
```
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 23:02:36 GMT):<br/>
```
```
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 23:02:36 GMT):<br/>
```
Hello Hyperledger Jobbuilder, 

I'd like you to reexamine a change.
```
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 23:02:58 GMT):<br/>
does the bot actually get an email and read it?
</p>
<p><strong>MHBauer</strong> (Mon, 18 Feb 2019 23:03:01 GMT):<br/>
funny
</p>
<p><strong>swetha</strong> (Tue, 19 Feb 2019 04:59:21 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=7BnbbiLNFXrfXEJRH) @MHBauer no we don't need either. Nothing in the makefile should be using it, except for the gotools target, which is addressed in a CR. But the CR doesn't remove those two from the gottols target
</p>
<p><strong>swetha</strong> (Tue, 19 Feb 2019 04:59:21 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=7BnbbiLNFXrfXEJRH) @MHBauer no we don't need either. Nothing in the makefile should be using it, except for the gotools target, which is addressed in a CR. But the CR doesn't remove those two from the gotools target
</p>
<p><strong>cbf</strong> (Wed, 20 Feb 2019 15:48:11 GMT):<br/>
@MHBauer https://gerrit.hyperledger.org/r/c/28352 pls update or abandon
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 18:47:21 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=pfvGqzKZv4FZg6RXX) @swetha can we shove removing them into another place where we're editing the tools makefile, or should it be a separate jira....
</p>
<p><strong>swetha</strong> (Wed, 20 Feb 2019 18:56:53 GMT):<br/>
@MHBauer I am ambivalent to removing them. I don't mind them staying in gotools as long as we aren't installing them in CI when we aren't using them. If you want them removed I can update this CR: https://gerrit.hyperledger.org/r/#/c/29322/ to add that change
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 19:08:21 GMT):<br/>
ya, that avoids installing them now,, so it achieves the goal, I guess, but I'm more at 'why leave it in'
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 19:08:27 GMT):<br/>
but, eh, dunno.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 21:05:00 GMT):<br/>
how about metrics? future topic? 
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 22:02:28 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=SeR7TY5Lb9CGnizp8) solved by https://gerrit.hyperledger.org/r/29370 I'm pretty sure
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 22:10:31 GMT):<br/>
@swetha we still want to do async-filters, right? people have been asking for it?
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 22:10:44 GMT):<br/>
e.g. newFilter, getFilterChanges, uninstallFilter ?
</p>
<p><strong>swetha</strong> (Wed, 20 Feb 2019 22:11:41 GMT):<br/>
@MHBauer yes
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 22:12:31 GMT):<br/>
cool
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 22:16:53 GMT):<br/>
@swetha looks like fabric just ignores it https://jira.hyperledger.org/browse/FAB-12172
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 22:17:33 GMT):<br/>
https://github.com/hyperledger/fabric/blob/release-1.4/Gopkg.toml#L14-L16
</p>
<p><strong>swetha</strong> (Wed, 20 Feb 2019 22:20:26 GMT):<br/>
But they are only ignoring the one package. It doesn't say how they dealt with the other packages. Also tagging cobra as noverify doesn't seem like the right thing when we aren't doing anything special to the cobra packages
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 23:19:53 GMT):<br/>
since the build machine seems pretty powerful, I wonder if we can do a `make -J4` or something
</p>
<p><strong>MHBauer</strong> (Wed, 20 Feb 2019 23:44:55 GMT):<br/>
@swetha where do you want dep mentioned?
</p>
<p><strong>swetha</strong> (Wed, 20 Feb 2019 23:55:32 GMT):<br/>
Lets actually address mentioning dep in the README as part of this: https://jira.hyperledger.org/browse/FAB-14059
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:00:02 GMT):<br/>
@swetha any recommendation to debug this
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:00:03 GMT):<br/>
```
```
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:00:03 GMT):<br/>
```
Failure [91.924 seconds]
[BeforeSuite] BeforeSuite
/Users/mhb/go/src/github.com/hyperledger/fabric-chaincode-evm/integration/fab3/fab3_suite_test.go:45

  Timed out after 60.003s.
  Expected process to exit.  It did not.

  /Users/mhb/go/src/github.com/hyperledger/fabric-chaincode-evm/vendor/github.com/hyperledger/fabric/integration/nwo/deploy.go:108
------------------------------
```
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:00:18 GMT):<br/>
failing in suite setup? not sure what to think
</p>
<p><strong>swetha</strong> (Thu, 21 Feb 2019 21:00:25 GMT):<br/>
the network didn't come up
</p>
<p><strong>swetha</strong> (Thu, 21 Feb 2019 21:00:47 GMT):<br/>
either the network didn't come up or the chaincode didn't deploy
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:01:02 GMT):<br/>
any idea why it would happen over and over? 
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:01:30 GMT):<br/>
some leftover that never got cleaned up
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:01:50 GMT):<br/>
```
docker ps
CONTAINER ID        IMAGE                                   COMMAND                  CREATED              STATUS              PORTS               NAMES
4e1f8add8ab0        hyperledger/fabric-ccenv:amd64-latest   "/bin/sh -c 'GOPATH=‚Ä¶"   About a minute ago   Up About a minute                       relaxed_benz
```
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:01:59 GMT):<br/>
any idea what causes this to hang around osme times?
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:03:04 GMT):<br/>
so finnicky.
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:03:23 GMT):<br/>
wasn't that.
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:56:42 GMT):<br/>
I think the interrupt tests are in the wrong place.
</p>
<p><strong>MHBauer</strong> (Thu, 21 Feb 2019 21:59:00 GMT):<br/>
other than the fact that it won't run without having a fabric tot connect to :rolling_eyes: 
</p>
<p><strong>braduf</strong> (Tue, 05 Mar 2019 00:04:59 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>bjwswang</strong> (Tue, 05 Mar 2019 06:43:40 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>klenik</strong> (Wed, 06 Mar 2019 11:25:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>lehors</strong> (Wed, 06 Mar 2019 18:06:20 GMT):<br/>
@MHBauer you might want to look at the discussion on Fabric's gerrit review policy: https://chat.hyperledger.org/channel/fabric-maintainers?msg=K4xWe7W42iXyghvdb
</p>
<p><strong>lehors</strong> (Wed, 06 Mar 2019 18:06:20 GMT):<br/>
@MHBauer @swetha you might want to look at the discussion on Fabric's gerrit review policy: https://chat.hyperledger.org/channel/fabric-maintainers?msg=K4xWe7W42iXyghvdb
</p>
<p><strong>lehors</strong> (Wed, 06 Mar 2019 18:07:03 GMT):<br/>
also: "Fabric-CA has recently moved from two +2 review policy to non-author code review (NACR) which requires one +2. "
</p>
<p><strong>lehors</strong> (Wed, 06 Mar 2019 18:08:29 GMT):<br/>
I think given the very small group of maintainers you have it would make sense to get a less restrictive policy
</p>
<p><strong>swetha</strong> (Wed, 06 Mar 2019 19:42:40 GMT):<br/>
@lehors That's interesting. I like the idea of NACR, and totally agree a less restrictive policy would be good for us, not to mention would reduce the bottleneck we are currently facing in terms of reviews
</p>
<p><strong>swetha</strong> (Wed, 06 Mar 2019 19:44:18 GMT):<br/>
@guoger what do you think? I know you have talked about a single +2 as well
</p>
<p><strong>guoger</strong> (Thu, 07 Mar 2019 00:21:44 GMT):<br/>
Yep, totally agree...
</p>
<p><strong>MHBauer</strong> (Thu, 07 Mar 2019 18:32:58 GMT):<br/>
3 & 4, I'll help werie
</p>
<p><strong>MHBauer</strong> (Thu, 07 Mar 2019 18:33:02 GMT):<br/>
review*
</p>
<p><strong>guoger</strong> (Fri, 08 Mar 2019 02:49:13 GMT):<br/>
docs merged with some comments
</p>
<p><strong>MHBauer</strong> (Fri, 08 Mar 2019 07:22:18 GMT):<br/>
comments filed as ticket?
</p>
<p><strong>MHBauer</strong> (Fri, 08 Mar 2019 07:22:23 GMT):<br/>
or on an existing ticket
</p>
<p><strong>guoger</strong> (Fri, 08 Mar 2019 10:17:58 GMT):<br/>
@MHBauer just on those merged CRs
</p>
<p><strong>Suma</strong> (Fri, 08 Mar 2019 14:49:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Fri, 08 Mar 2019 19:08:58 GMT):<br/>
thanks @guoger !
</p>
<p><strong>Yogendrasri</strong> (Mon, 11 Mar 2019 14:04:39 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Yogendrasri</strong> (Mon, 11 Mar 2019 14:05:16 GMT):<br/>
We are looking to create Ethereum ERC 20 tokens but within HL Fabric runtime. we have found that we need to use fab proxy to connect to Eth VM in HL Fabric env. And that there is a constraint of one user per fab proxy, This is a issue because we need to move tokens between users, and this means that if we need to create 5k users, which also implies that we need to create 5K Fab Proxies. is there any way fab proxy constraint can be managed/eliminated? 
</p>
<p><strong>guoger</strong> (Mon, 11 Mar 2019 15:09:12 GMT):<br/>
It should be doable when offline signing is enabled in SDK. @swetha should be able to have a more detailed answer @Yogendrasri [ ](https://chat.hyperledger.org/channel/fabric-evm?msg=is2WAm9dJHhEcTACG)
</p>
<p><strong>guoger</strong> (Mon, 11 Mar 2019 15:10:07 GMT):<br/>
Basically user should be able to sign the tx with their own private key, and fab3 will simply forward the signed tx 
</p>
<p><strong>swetha</strong> (Mon, 11 Mar 2019 20:54:07 GMT):<br/>
@Yogendrasri, Currently, as you said, we don't have the ability for fab3 to act as different users. We do want to support offline signing which would result in implemnting `eth_sendRawTransaction`. This way the transactions are formed and signed outside of fab3 and then can be sent in through a single fab3 regardless of the user. However our current blocker for that is that the Fabric Go SDK, which is the library we use to interact with the Fabric network, does not currently support that feature. Can you tell me more about how your network will look in terms of orgs, and users per org? And if fab3 were to support more than one user at a time, how would you divide out the users amongst the different fab3? In general, my reluctance of supporting multiple users is because fab3 becomes more of a centralized component in that design.
</p>
<p><strong>swetha</strong> (Mon, 11 Mar 2019 20:54:07 GMT):<br/>
@Yogendrasri, Currently, as you said, we don't have the ability for fab3 to act as different users. We do want to support offline signing which would result in implemnting `eth_sendRawTransaction`. This way the transactions are formed and signed outside of fab3 and then can be sent in through a single fab3 regardless of the user. However our current blocker for that is that the Fabric Go SDK, which is the library we use to interact with the Fabric network, does not currently support that feature. Can you tell me more about how your network will look in terms of orgs, and users per org? And if fab3 were to support more than one user at a time, how would you divide out the users amongst the different fab3? In general, my reluctance to supporting multiple users is because fab3 becomes more of a centralized component in that design.
</p>
<p><strong>swetha</strong> (Mon, 11 Mar 2019 20:54:07 GMT):<br/>
@Yogendrasri, Currently, as you said, we don't have the ability for fab3 to act as different users. We do want to support offline signing which would result in implemnting `eth_sendRawTransaction`. This way the transactions are formed and signed outside of fab3 and then can be sent in through a single fab3 regardless of the user. However our current blocker for that is that the Fabric Go SDK, which is the library we use to interact with the Fabric network, does not currently support that feature. Can you tell me more about how your network will look in terms of orgs, and users per org? And if fab3 were to support more than one user at a time, how would you divide out the users amongst the different fab3 instances? In general, my reluctance to supporting multiple users is because fab3 becomes more of a centralized component in that design.
</p>
<p><strong>KyunghoKim</strong> (Tue, 12 Mar 2019 03:08:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Yogendrasri</strong> (Tue, 12 Mar 2019 12:10:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=pheLBmXm7Jb6frBwW) @swetha Thank you Swetha for your response
</p>
<p><strong>bh4rtp</strong> (Wed, 13 Mar 2019 00:42:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:54:05 GMT):<br/>
some time in the recent past we made a wiki page
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:54:24 GMT):<br/>
there hasn't been anything on it until today (I had thought I had posted something, but perhaps never saved)
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:54:25 GMT):<br/>
https://wiki.hyperledger.org/display/fabric/Fabric+Chaincode+EVM
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:54:25 GMT):<br/>
https://wiki.hyperledger.org/display/fabric/Fabric+Chaincode+EVM
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:54:45 GMT):<br/>
I'd like to pin it, but I don't think I have perms.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:55:19 GMT):<br/>
As part of this, I'd like to solicitate the community to have a discussion on when we do releases. 
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:55:45 GMT):<br/>
We made a 1.4 based release and then increased drastically the compatibility by updating burrow.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:56:16 GMT):<br/>
I think we should make releases more often, and less tied to fabric releases. 
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 02:56:33 GMT):<br/>
need to figure out a way to make a poll or something.
</p>
<p><strong>guoger</strong> (Wed, 13 Mar 2019 03:08:55 GMT):<br/>

</p>
<p><strong>guoger</strong> (Wed, 13 Mar 2019 03:09:13 GMT):<br/>
pinned for you. i don't have permission to promote you to be moderator though...
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 03:24:31 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=8DLFdMvwxT57Jz2SC) @MHBauer I like the quarterly approach. It doesn't necessarily need to be tied to fabric release as in we don't wait for them. It makes it easy for us to aim for features. I also don't think a monthly release is doable because of the time it takes to get patches in.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 03:43:29 GMT):<br/>
@lehors ^the wiki we started. I'd also like to get your perspective on a 'community inclusion checklist' so we behave appropriately.
</p>
<p><strong>cbf</strong> (Wed, 13 Mar 2019 11:17:20 GMT):<br/>
IMO, we should strive for matching the quarterly fabric releases
</p>
<p><strong>cbf</strong> (Wed, 13 Mar 2019 11:17:45 GMT):<br/>
however, more frequent is also acceptable
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 18:09:17 GMT):<br/>
do we have a hyperledger docs type thing, or an etherpad? would be good to have everybody write down their opinion and try to make sense of it.
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 18:45:37 GMT):<br/>
Updated this patch to now be a burrow upgrade: https://gerrit.hyperledger.org/r/#/c/29565/
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:14:15 GMT):<br/>
sweet
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:14:34 GMT):<br/>
@swetha can I get a quick response on the getlogs comment? 
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:14:54 GMT):<br/>
I added an earliest somewhere else, what are we thinking to have it there? 
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:15:00 GMT):<br/>
doesn't matter to me, should be quick to add.
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:15:00 GMT):<br/>
the earliest paramter?
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:16:04 GMT):<br/>
In other one we add the earliest parameter but since we mock the blocks out i though it would be nice to add in earliest in the integration test so it tests all those pieces without any mocks
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:16:04 GMT):<br/>
In the other one we add the earliest parameter but since we mock the blocks out i though it would be nice to add in earliest in the integration test so it tests all those pieces without any mocks
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:16:04 GMT):<br/>
In the other one we add the earliest parameter but since we mock the blocks out i thoughy it would be nice to add in earliest in the integration test so it tests all those pieces without any mocks
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:16:04 GMT):<br/>
In the other one we add the earliest parameter but since we mock the blocks out i thought it would be nice to add in earliest in the integration test so it tests all those pieces without any mocks
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:17:17 GMT):<br/>
so it isn't about testing "earliest" more just verifying that we didn't make any assumptions that we shouldn't have on the block type
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:18:20 GMT):<br/>
eh? it's an integration test, how'd we mock the blocks?
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:18:26 GMT):<br/>
now I'm very concerned
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:18:43 GMT):<br/>
I thought the "earliest" was in a unit test not in the integration
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:18:50 GMT):<br/>
we mock blocks out in the unit test
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:18:55 GMT):<br/>
I commented it on it
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:19:04 GMT):<br/>
the usage
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:19:10 GMT):<br/>
twice, I think.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:19:22 GMT):<br/>
hard to keep track of all these changes though
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:19:59 GMT):<br/>
yup, my bad yes didn't see the new comments
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:20:03 GMT):<br/>
only once
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:20:06 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/28949/29/integration/fab3/fab3_test.go@241 241
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:20:23 GMT):<br/>
i think we are fine then, ill respond on the patch too
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:20:34 GMT):<br/>
oh, left a debug in there, dang it.
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:20:42 GMT):<br/>
well, it only prints on failure, so....
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:20:47 GMT):<br/>
the Fprintln?
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:20:49 GMT):<br/>
:-D
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:20:55 GMT):<br/>
i thought that was intentional
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:20:59 GMT):<br/>
yes
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:21:01 GMT):<br/>
very intentional
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 19:21:09 GMT):<br/>
ill remember that for the future :P
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:21:21 GMT):<br/>
it's the one that got away
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 19:21:47 GMT):<br/>
I should make a shortcut for "fmt.Fprintln(GinkgoWriter, )" and have it leave the cursor after the comma
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 21:57:38 GMT):<br/>
@MHBauer just added some new comments to the minimum getLogs. I think we need to move where with do the genesis block test to avoid flaky tests
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 22:24:19 GMT):<br/>
ya, was worried about that in a different case, but it appears to be relevant here
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 22:24:26 GMT):<br/>
what's the flag for randomize all the things?
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 22:26:50 GMT):<br/>
any idea what causes '      cannot connect to Docker endpoint'
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 22:43:48 GMT):<br/>
where are you seeing that error?
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 22:44:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=NMFrdxjpNQ6G7oJjZ) @MHBauer `--randomizeAllSpecs`
</p>
<p><strong>swetha</strong> (Wed, 13 Mar 2019 22:44:46 GMT):<br/>
when tests run in ci, they get randomized through  `scripts/run-integration-tests.sh`
</p>
<p><strong>MHBauer</strong> (Wed, 13 Mar 2019 23:44:48 GMT):<br/>
neat. I run that sometimes.
</p>
<p><strong>MHBauer</strong> (Thu, 14 Mar 2019 04:29:23 GMT):<br/>
@guoger on a merge spree tonight!
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:24:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:25:12 GMT):<br/>
Hi Guys what's the goal of this project ?
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:33:47 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=XiHE9RcaTFNAoxeE7) @AhmedRebai The goal is to enable one to use the Hyperledger Fabric permissioned blockchain platform to interact with Ethereum smart contracts written in an EVM compatible language such as Solidity or Vyper.
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:33:56 GMT):<br/>
see https://github.com/hyperledger/fabric-chaincode-evm/
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:34:24 GMT):<br/>
but what's the main advantages of this interaction ? 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:34:53 GMT):<br/>
you mean integration?
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:34:57 GMT):<br/>
we can use implement smart contract in chaincode for hyperldger-fabric and is running well 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:35:04 GMT):<br/>
yes integration ! 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:35:25 GMT):<br/>
if you're already using fabric natively than you probably don't have a use for this
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:36:17 GMT):<br/>
this is really for people who started with ethereum and have developed smart contracts, clients, and skills they want to bring to a Fabric network
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:36:43 GMT):<br/>
can you tell me some use cases of this integration ? 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:37:12 GMT):<br/>
it is easy to start with Ethereum because there is a testnet anyone can use
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:37:35 GMT):<br/>
so many people start with Ethereum
</p>
<p><strong>hssanbenrhouma</strong> (Thu, 14 Mar 2019 08:37:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:38:05 GMT):<br/>
yet, they eventually realize it has limitations that makes it hardly suitable for production systems
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:38:11 GMT):<br/>
but it depends in the use case to implement the ethereuem technology or the hyperldger-fabric 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:38:44 GMT):<br/>
so, this integration can help them transition to Fabric
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:38:58 GMT):<br/>
for a junior developer having experience with  Ethereuem smart contract and  hyperledger-fabric 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:40:13 GMT):<br/>
so the goal of this integration it to make it easy for those who have started with Ethereuem 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:40:24 GMT):<br/>
correct
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:40:29 GMT):<br/>
to start with hyperledger ? 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:40:32 GMT):<br/>
;) 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:40:37 GMT):<br/>
hyperledger fabric
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:40:49 GMT):<br/>
yes hyeperledger fabric 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:40:50 GMT):<br/>
hyperledger is a consortium not a software
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:40:58 GMT):<br/>
yes yes i know :D 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:41:17 GMT):<br/>
but it's not ready yet for production mode 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:42:40 GMT):<br/>
i'm currently Blockchain developer intern , we are participating in a bootcamp to learn the blockchain technology (from bitcoin , ethereuem and now Hyperledger-fabric ) 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:43:35 GMT):<br/>
the task of this week is to explore this repository , trying to make it working and build a use case based in fabric-chaincode-evm

</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:44:26 GMT):<br/>
so, if you have already developed some solidity contract and fab3 client you could try to run it on a fabric network with this
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:44:40 GMT):<br/>
there are some restrictions though
</p>
<p><strong>hssanbenrhouma</strong> (Thu, 14 Mar 2019 08:44:47 GMT):<br/>
@lehors  one question : in medical chain project, they used both hyperledger fabric and ethereum 
hyperledger-fabric for private blockchain (doctors, pharmacies and hospitals) and the ethereum public blockchain for patients interactions with the private network
is that have any relation with borrow project (fabric evm) ?
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:44:49 GMT):<br/>
it won't work if your contract is payable
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:44:57 GMT):<br/>
because there is no Ether in Fabric
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:45:08 GMT):<br/>
burrow
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:45:14 GMT):<br/>
yes, it very much does
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:45:24 GMT):<br/>
this integration leverage's the burrow evm
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:45:24 GMT):<br/>
this integration leverages the burrow evm
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 08:46:01 GMT):<br/>
essentiallly it installs the burrow evm as a fabric chaincode
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 08:51:46 GMT):<br/>
so the network is implemented with fabric and the smart contract with Solidity running in EVm ? to interact with Ethereuem smart contract in hyperldger environment we should use Fab3 client ? 
</p>
<p><strong>guoger</strong> (Thu, 14 Mar 2019 09:05:23 GMT):<br/>
@AhmedRebai you could use fabric sdk or cli as well. Fab3 implements a subset of JSON RPC, so you can use web3.js lib, as well as some other tooling such as Remix. Truffle is WIP
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 09:43:24 GMT):<br/>
@AhmedRebai if you already developed a web3 client it would be interesting for your project to try and reuse it by connecting to the fab3 proxy
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 09:44:53 GMT):<br/>
the flow becomes web3 client -> fab3 proxy -> fabric peer -> evm chaincode -> evm burrow -> ethereum contract
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 09:44:53 GMT):<br/>
the flow becomes web3 client -> fab3 proxy -> fabric peer -> evm chaincode -> burrow evm -> ethereum contract
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 09:45:50 GMT):<br/>
the two ends should be reusable as is
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 09:46:12 GMT):<br/>
as if they were running on an Ethereum network
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 10:17:08 GMT):<br/>
sorry i'm having an issue while trying to install Fab3 client 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 10:21:27 GMT):<br/>

<br/><a href="./assets/B8ToESCJcCWLpRhAP-error.png">error.png</a>
</p>
<p><strong>HELASOUISSI</strong> (Thu, 14 Mar 2019 14:08:02 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>HELASOUISSI</strong> (Thu, 14 Mar 2019 14:12:34 GMT):<br/>
hello what is the main file of this project that runs the netwrok  and the containers ?
</p>
<p><strong>HELASOUISSI</strong> (Thu, 14 Mar 2019 14:18:01 GMT):<br/>
because i'm having an issue while running this command !
</p>
<p><strong>HELASOUISSI</strong> (Thu, 14 Mar 2019 14:18:16 GMT):<br/>

<br/><a href="./assets/Fk9AAmkAz8Sg3ZsJH-Capture du 2019-03-14 15-17-18.png">Capture du 2019-03-14 15-17-18.png</a>
</p>
<p><strong>HELASOUISSI</strong> (Thu, 14 Mar 2019 14:18:44 GMT):<br/>
peer command was not found !
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 14:52:40 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=2GcSk3YEMzkizSW3n) @HELASOUISSI the peer command is part of Fabric
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 14:53:10 GMT):<br/>
you can download the binary following the fabric installation instructions
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 14:54:19 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/latest/install.html
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 16:20:44 GMT):<br/>
hi @lehors what's the utility of Fab3 ? 
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 16:24:13 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=vdW8cQ4z6NTS5fMrm) @AhmedRebai fab3 is a proxy, it allows a web3 client to connect to a fabric network
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 16:24:27 GMT):<br/>
without modification
</p>
<p><strong>lehors</strong> (Thu, 14 Mar 2019 16:24:53 GMT):<br/>
for the web3 client, it is as if it is connected to ethereum
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 16:27:16 GMT):<br/>
so my data is stored in ethereuem smart contract ? 
</p>
<p><strong>AhmedRebai</strong> (Thu, 14 Mar 2019 16:27:30 GMT):<br/>
it's public or deployed in hyperledger network ?
</p>
<p><strong>swetha</strong> (Thu, 14 Mar 2019 17:19:46 GMT):<br/>
@AhmedRebai Fab3 is just a proxy. Currently it is stateless. When you use it, it will connect to the Fabric network of your choosing. So all the data and contracts will be deployed to that network you connected Fab3 to.
</p>
<p><strong>swetha</strong> (Thu, 14 Mar 2019 17:21:03 GMT):<br/>
Were you able to build fab3? The error you sent above is because your the fabric-chaincode-evm is not in the gopath
</p>
<p><strong>MarioPissardo</strong> (Thu, 14 Mar 2019 22:31:24 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>AhmedRebai</strong> (Fri, 15 Mar 2019 09:39:47 GMT):<br/>
thanks @swetha 
</p>
<p><strong>raj_shekhar</strong> (Mon, 18 Mar 2019 05:52:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fastchain</strong> (Mon, 18 Mar 2019 07:49:22 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fastchain</strong> (Mon, 18 Mar 2019 07:53:00 GMT):<br/>
Hello everyone!
Which project from https://github.com/hyperledger/fabric-chaincode-evm and https://github.com/hyperledger/burrow is the most mature?  Which one is the bect to run Solidity contracts.  
</p>
<p><strong>fastchain</strong> (Mon, 18 Mar 2019 07:53:00 GMT):<br/>
Hello everyone!
Which project from https://github.com/hyperledger/fabric-chaincode-evm and https://github.com/hyperledger/burrow is the most mature?  Which one is the best to run Solidity contracts?
</p>
<p><strong>silasdavis</strong> (Mon, 18 Mar 2019 09:33:03 GMT):<br/>
fabric-chaincode-evm uses the Burrow code as a library so in terms of execution you should see parity - modulo the version of Burrow being used - fabric-evm is due an upgrade shortly, however fabric-chaincode-evm has fab3 (coming to Burrow too in the medium term) which means you can use web3 tooling. The biggest difference with Burrow is that it uses Tendermint consensus and operationally is a bit simpler (it's a single Go binary) because it doesn't have the notion of different chaincode. 
</p>
<p><strong>klenik</strong> (Mon, 18 Mar 2019 10:07:11 GMT):<br/>
Hi All! When [interacting with a deployed smart contract](https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md#interacting-with-a-deployed-contract), what is the standard way to derive the function hashes? And are there any (syntactic) constraints I need to consider when passing multiple arguments to a smart contract function? 
If these are implementation-independent EVM rules, just point me to the appropriate docs, thanks :)
</p>
<p><strong>fastchain</strong> (Mon, 18 Mar 2019 10:12:22 GMT):<br/>
@silasdavis  thank you!
</p>
<p><strong>klenik</strong> (Mon, 18 Mar 2019 14:26:58 GMT):<br/>
found the ABI encoding spec and related helpful libs in the meantime
</p>
<p><strong>MHBauer</strong> (Mon, 18 Mar 2019 18:00:17 GMT):<br/>
small one ready to merge https://gerrit.hyperledger.org/r/#/c/30069/ 
</p>
<p><strong>leowu</strong> (Mon, 18 Mar 2019 20:12:12 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>leowu</strong> (Mon, 18 Mar 2019 20:12:16 GMT):<br/>
Hi everyone. I am new into Hyperledger burrow. I have a question about it. So I know that for burrow we are using Smart Contract instead of Chaincode in the Burrow EVM. So is that possible that we can run the Chaincode and the Solidity Smart Contract Simultaneously? 
</p>
<p><strong>leowu</strong> (Mon, 18 Mar 2019 20:12:33 GMT):<br/>
I have successfully installed and run the fabric-chainode-evm and the vote-hyperledger-ethereum and the web3-fabric-voting-dapp. But I just wondering that is it possible I can deploy the Chaincode instead and run Chaincode and Smart Contract simultaneously. 
</p>
<p><strong>MHBauer</strong> (Mon, 18 Mar 2019 20:18:57 GMT):<br/>
burrow is a different project. We use the burrow EVM as a chaincode. solidity compiled to evm byte code runs in the chaincode. I don't understan dthe last question.
</p>
<p><strong>noyonthe1</strong> (Tue, 19 Mar 2019 05:47:32 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>AhmedRebai</strong> (Tue, 19 Mar 2019 09:04:10 GMT):<br/>
Hi, I Have a question, I just deployed my hyper ledger fabric network and fixing the evm instantiation, my smart contract is implemented with ethereuem and deployed, but how to set which channel should we connect to interact with the smart contract? how the permission advantage is implemented? 
</p>
<p><strong>leowu</strong> (Tue, 19 Mar 2019 13:35:31 GMT):<br/>
@MHBauer Thx. What I am asking is Can we deploy two Smart Contract (ex: one is Go-lang chaincode and the other one is Solidity Smart Contract) at the same time and let them interact with each other? Is it possible?
</p>
<p><strong>leowu</strong> (Tue, 19 Mar 2019 14:53:46 GMT):<br/>
For example, I created the web3-fabric-voting-dapp which I used the vote.sol as my Smart Contract. So right now I want to deploy another Chaincode written in Go-lang and I want to Get the result of the voting. Just something like interacting with two smart contracts but in different language. Is that possible?
</p>
<p><strong>raphaelbenoit</strong> (Tue, 19 Mar 2019 16:35:21 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>klenik</strong> (Tue, 19 Mar 2019 17:23:43 GMT):<br/>
@MHBauer When deploying a bytecode (compiled from Solidity with solc-js), how can I "pass" the constructor arguments? Evmcc forwards the bytecode both as code and input. Did I miss something on the client-side?
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 17:35:14 GMT):<br/>
EVM cc isn't configured to do anything outside of it's domain. 
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 17:36:16 GMT):<br/>
an external chaincode should be able to access the data if it's on the same channel, but you'd have to know where the data is stored and how to parse it. We've not made any plans for that to be easy at the moment.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 17:37:47 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=RrRefwuwegtGmzD7Y) @AhmedRebai deploying the evmcc must have been done on a channel. The fab3 proxy takes an sdk configuration for the details on how to connect, as well as flags speciying the ccname and channel name.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 17:38:40 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=q9LKJ9uBpdPqAAQqW) @klenik Can you send me an example contract? I'm not sure how the evmcc could be involved here.
</p>
<p><strong>klenik</strong> (Tue, 19 Mar 2019 18:13:21 GMT):<br/>
@MHBauer The dummy contract:
```
pragma solidity ^0.4.24;

contract Abs {
    int public dummyValue;
    constructor(int y) public {
        dummyValue = y;
    }
    
    function abs(int x) public pure returns (int) {
        int y = x;
        if (y < 0) y *= -1;
        assert(y >= 0);
        return y;
    }
}
```

If I compile it, I get a `bytecode`, that I can [pass to evmcc](https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md#deploying-a-contract). Then [this line in evmcc](https://github.com/hyperledger/fabric-chaincode-evm/blob/125e0855da3ba2600bf0456317fca5eaa232db7f/evmcc/evmcc.go#L133) passes this `bytecode` to the Burrow EVM both as `code` and `input`. Where can I squash in my dummy integer parameter? Should it be part of the `bytecode` somehow? 
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 18:36:33 GMT):<br/>
gonna try and run it, may have a newtest case.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 18:40:56 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=KSW6GPZm366awTk3b) @klenik sounds like you're interacting with the CC directly, and not through fab3?
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 18:54:02 GMT):<br/>
If I use remix attached to fab3, it shows a constructor argument when I deploy.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:10:07 GMT):<br/>
d'ise
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:10:14 GMT):<br/>
but yea, it doesn't seem to work correctly to me.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:11:37 GMT):<br/>
I'm going to make a jira ticket.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:17:44 GMT):<br/>
nope, nevermind, I'm a dummy.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:17:45 GMT):<br/>
works fine.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:18:06 GMT):<br/>
turns out every negative number is less than a positive number, who knew?
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:20:37 GMT):<br/>
I can make a short video if it would help, but I modified the contract a little bit to make sure that the value was present.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:20:47 GMT):<br/>
```
```
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:20:47 GMT):<br/>
```
pragma solidity ^0.5;

contract Abs {
    int public dummyValue;
    constructor(int y) public {
        dummyValue = y;
    }
    
    function abs(int x) public view returns (int) {
        int y = x;
        if (y < dummyValue) {
            y *= -1;
        }
        return y;
    }
```
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:21:50 GMT):<br/>
probably could have just returned dummyValue directly, but oh well.
</p>
<p><strong>klenik</strong> (Tue, 19 Mar 2019 19:22:20 GMT):<br/>
@MHBauer Yep, I'm interacting with evmcc directly through HL Caliper (adding the fabric-evm support to it right now). So if it works through Remix->fab3, then the value of `y` must be encoded in the `bytecode` somehow, since the CC doesn't receive additional arguments
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:22:50 GMT):<br/>
caliper is the perf thingy?
</p>
<p><strong>klenik</strong> (Tue, 19 Mar 2019 19:24:35 GMT):<br/>
Yes. And since it has a solid Fabric support already, adding Solidity (or any EVM bytecode) support through your CC is quite straightforward, except for this constructor part. But I think it's because of my lack of EVM knowledge
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:25:17 GMT):<br/>
yes, well we have some idiosyncracies specific to the domain
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:25:24 GMT):<br/>
I need to go give a docker presentation.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 19:25:33 GMT):<br/>
we should talk. I need to do some perf testing.
</p>
<p><strong>klenik</strong> (Tue, 19 Mar 2019 19:25:55 GMT):<br/>
:thumbsup: DM me any time
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:17:36 GMT):<br/>
@klenik I added some debug logs, and it looks like it's appended on the end.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:17:48 GMT):<br/>
`0x608060405234801561001057600080fd5b506040516020806101078339810180604052602081101561003057600080fd5b8101908080519060200190929190505050806000819055505060b0806100576000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c806370469c26146037578063fdae7476146053575b600080fd5b603d606f565b6040518082815260200191505060405180910390f35b60596075565b6040518082815260200191505060405180910390f35b60005481565b6000806000549050809150509056fea165627a7a723058204266cdf6237856aca030627567b9d04d635f1d0a0ec89f5d3e032f9629943d2700290000000000000000000000000000000000000000000000000000000000000063` 
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:18:03 GMT):<br/>
see the bunch of 00 with 63 at the end? that's the argument
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:20:16 GMT):<br/>
and if I run the compiler, I get the same output 
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:20:25 GMT):<br/>
```
 docker run --rm -i ethereum/solc:0.5.6 --combined-json bin - < Constructor.sol | jq .
{
  "contracts": {
    "<stdin>:Abs": {
      "bin": "608060405234801561001057600080fd5b506040516020806101078339810180604052602081101561003057600080fd5b8101908080519060200190929190505050806000819055505060b0806100576000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c806370469c26146037578063fdae7476146053575b600080fd5b603d606f565b6040518082815260200191505060405180910390f35b60596075565b6040518082815260200191505060405180910390f35b60005481565b6000806000549050809150509056fea165627a7a72305820875f1f67a2d0ee19e2841694206eb2a2a9ac337955d41c4ac87ef92af3b626810029"
    }
  },
  "version": "0.5.6+commit.b259423e.Linux.g++"
}
```
just without the appended argument
</p>
<p><strong>klenik</strong> (Tue, 19 Mar 2019 21:29:10 GMT):<br/>
@MHBauer So I just need to encode the argument list according to the EVM spec (just like with a normal function call) and simply append it at the end? I'll give it a try. Thanks for the quick help! 
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:46:52 GMT):<br/>
yup, looks like that when I send it.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:47:04 GMT):<br/>
all we do is take the arg and shove it directly into the evmcc
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 21:47:16 GMT):<br/>
no nothing, maybe a 0x on the front.
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 22:21:24 GMT):<br/>
@guoger https://gerrit.hyperledger.org/r/#/c/28949/ nits addressed I believe.
</p>
<p><strong>guoger</strong> (Tue, 19 Mar 2019 23:05:48 GMT):<br/>
Will look into it today @MHBauer [ ](https://chat.hyperledger.org/channel/fabric-evm?msg=2wi54Z346yufrsust)
</p>
<p><strong>MHBauer</strong> (Tue, 19 Mar 2019 23:17:11 GMT):<br/>
thankee, hope I didn't wake you
</p>
<p><strong>seokm0</strong> (Wed, 20 Mar 2019 02:27:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 13:50:26 GMT):<br/>
@MHBauer When I try to instantiate the evmcc in a `fabric-peer` container, the dependencies are not available by default. What's the easiest way to make the `vendor` directory available in the container? Can I install it together with the evmcc? Or should I mount the vendor dir into the container's gopath?
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 15:19:24 GMT):<br/>
@MHBauer Currently I try to `dep ensure` locally based on the GoPkg.lock in the fabric-evm repo then install evmcc with the vendor dir. Is there an easier approach?
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 18:52:18 GMT):<br/>
I mount the whole project  at the gopath location
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 18:52:22 GMT):<br/>
`        - ~/go/src/github.com/hyperledger/fabric-chaincode-evm:/opt/gopath/src/github.com/hyperledger/fabric-chaincode-evm `
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 18:52:38 GMT):<br/>
@klenik 
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 19:30:19 GMT):<br/>
@MHBauer That would work, but I'm trying to add evmcc to the Caliper examples, so I need it to be as self-contained as possible. So I'm trying to figure out the dependencies of evmcc minus the fabric deps, since they're present in the peer image. If you have this list ready, don't hold it back :)
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 19:41:16 GMT):<br/>
I don't understand.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 19:43:41 GMT):<br/>
yes, it depends on fabric
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 19:44:14 GMT):<br/>
@klenik have you tried `go list`? 
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 19:47:00 GMT):<br/>
@klenik  https://gist.github.com/MHBauer/071f9d26f002ddadbee0a95b608f1f55 does this help?
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 19:47:26 GMT):<br/>
otherwise, I'm not sure I understand the issue of what you are trying to do.
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 20:08:46 GMT):<br/>
@MHBauer I'd like to install&instantiate evmcc through the Fabric SDK. My current solution is to copy the repo's vendor folder plus its own packages in the client's chaincode folder:
```
evmcc/
  - vendor/  # repo's vendor content + event, eventmanager and statemanager dirs in github.com/hyperledger/fabric-chaincode-evm
  - evmcc.go
```
So the cc is installed with its dependencies (and this is how it should be). But his results in a 30+MB vendor folder, and I think/hope most of it comes from the vendored fabric deps, which are present in the peer image, so I'd like to remove those.
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 20:08:46 GMT):<br/>
@MHBauer I'd like to install&instantiate evmcc through the Fabric SDK. My current solution is to copy the repo's vendor folder plus its own packages in the client's chaincode folder:
```
evmcc/
  - vendor/  # repo's vendor content + event, eventmanager and statemanager dirs in github.com/hyperledger/fabric-chaincode-evm
  - evmcc.go
```
So the cc is installed with its dependencies (and this is how it should be). But this results in a 30+MB vendor folder, and I think/hope most of it comes from the vendored fabric deps, which are present in the peer image, so I'd like to remove those.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:10:01 GMT):<br/>
sounds like you're rearranging the project.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:10:09 GMT):<br/>
not sure how to help you there.
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 20:12:09 GMT):<br/>
unless you know a quick way to remove the **fabric-only** dependencies, this'll be a manual labour from my part :/
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:13:18 GMT):<br/>
I blame go.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:13:44 GMT):<br/>
a lot of it looks like golang.org/x/text and golang.org/x/sys
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:14:38 GMT):<br/>
the other half is a mix of stuff under github, only about 5.8m is hyperledger.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:15:39 GMT):<br/>
not the largest vendor folder I've seen, by far, so I'm trying to help, but I still don't understand the real problem you're trying to solve.
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 20:26:30 GMT):<br/>
From a Caliper example point-of-view: I'd like to include evmcc as a sample chaincode (plus some solidity contracts), but committing its 30+MB dependencies is a bit extreme. Users cloning the Caliper repo would not like me :) 
(30MB for EVM support is awesome, but putting it in the Caliper repo is brrrr). It works for now on my dev fork, I'm far from merging so I don't need to come up with a more lightweight solution right now. But any thoughts on this topic (~What are the still required dependencies of evmcc, given that the fabric deps are available) is appreciated.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:28:23 GMT):<br/>
what are the fabric deps exactly? we can diff the two lists
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:28:33 GMT):<br/>
also diff against the deps of fab3
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:28:46 GMT):<br/>
want to exclude the fab3 deps, 
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:28:52 GMT):<br/>
along with the fabric deps.
</p>
<p><strong>MHBauer</strong> (Wed, 20 Mar 2019 20:34:04 GMT):<br/>
it's not going to be small, it's going to be emvmcc -> burrow -> a bunch of stuff.
</p>
<p><strong>klenik</strong> (Wed, 20 Mar 2019 20:38:26 GMT):<br/>
Fabric's vendor folder is almost 30MB, and those are available in the peer image. So basically I should do `{fabric-chaincode-evm vendor}\({fabric-chaincode-evm vendor} intersect {fabric vendor})`. Hopefully that would work
</p>
<p><strong>gWOLF3</strong> (Thu, 21 Mar 2019 18:14:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>gWOLF3</strong> (Thu, 21 Mar 2019 18:16:18 GMT):<br/>
hey guys, n00b question, whats the difference between this channel and #burrow? I though burrow was hyperledger fabric's EVM implementation. Or is it more abstract from fabric?
</p>
<p><strong>Khaled.MH</strong> (Sun, 24 Mar 2019 22:27:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>yanli133</strong> (Mon, 25 Mar 2019 06:53:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Tue, 26 Mar 2019 04:47:39 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/30396/ is tiny change 
</p>
<p><strong>MHBauer</strong> (Tue, 26 Mar 2019 04:47:51 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/29565/ is big but good.
</p>
<p><strong>cbf</strong> (Tue, 26 Mar 2019 10:25:35 GMT):<br/>
I see a new tendermint/crypto but no license
</p>
<p><strong>cbf</strong> (Tue, 26 Mar 2019 10:27:47 GMT):<br/>
the repo does have the BSD with the go authors copyright
</p>
<p><strong>cbf</strong> (Tue, 26 Mar 2019 10:27:47 GMT):<br/>
the repo does have the BSD with the go authors copyright LICENSE file
</p>
<p><strong>swetha</strong> (Tue, 26 Mar 2019 17:18:19 GMT):<br/>
I don't think the tendermint license file got updated as part of the burrow update. 
</p>
<p><strong>MHBauer</strong> (Tue, 26 Mar 2019 18:23:37 GMT):<br/>
thanks for cleaning up after my jiras guys
</p>
<p><strong>MHBauer</strong> (Tue, 26 Mar 2019 18:24:01 GMT):<br/>
is there a way we can work towards automating that?
</p>
<p><strong>MHBauer</strong> (Tue, 26 Mar 2019 18:25:47 GMT):<br/>
is there a way to encode a version-ish into the chaincode itself? I would find it useful to know what version/pr I'm running in my environment.
</p>
<p><strong>swetha</strong> (Tue, 26 Mar 2019 21:05:20 GMT):<br/>
there is a version that is connected to the chaincode that is running. but that is user provided at the time of installation and wouldn't necessarily correlate to the build
</p>
<p><strong>MHBauer</strong> (Tue, 26 Mar 2019 21:28:59 GMT):<br/>
yea, I want a software revision, not a version
</p>
<p><strong>guoger</strong> (Wed, 27 Mar 2019 16:17:59 GMT):<br/>
@swetha do we know how can `BLOCKHASH` opcode be invoked?
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:18:24 GMT):<br/>
I was just looking into that
</p>
<p><strong>guoger</strong> (Wed, 27 Mar 2019 16:18:31 GMT):<br/>
@MHBauer i'll get to your in-review CR tomorrow...
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:18:50 GMT):<br/>
i think it is similar to the sender variable
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:19:11 GMT):<br/>
https://solidity.readthedocs.io/en/v0.4.24/units-and-global-variables.html#special-variables-and-functions
</p>
<p><strong>guoger</strong> (Wed, 27 Mar 2019 16:22:13 GMT):<br/>
https://medium.com/coinmonks/is-block-blockhash-block-number-1-okay-14a28e40cc4b
</p>
<p><strong>guoger</strong> (Wed, 27 Mar 2019 16:22:33 GMT):<br/>
i fear this func is used sometimes to generate random number
</p>
<p><strong>guoger</strong> (Wed, 27 Mar 2019 16:24:22 GMT):<br/>
we could of course return the actual block hash, with a limitation that *current block hash* is not available
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:30:17 GMT):<br/>
I don't think we have access to that from the stub
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:30:28 GMT):<br/>
i guess we could do an invoke chaincode 
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:30:31 GMT):<br/>
and get the ledger info?
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:32:00 GMT):<br/>
Though at the same time I think we are opening ourselves up for the possibility that transactions won't get endorsed because if the peers get new blocks and endorsement is done at different times, the block hash can be different
</p>
<p><strong>guoger</strong> (Wed, 27 Mar 2019 16:38:56 GMT):<br/>
Can we probably examine what this func is mostly used for? We could also say this should always take static argument, instead using a relative number, such as last block - 1. I also think we should merge yours now and revisit
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 16:46:09 GMT):<br/>
Okay i will make a change to improve the comments and add a note in the README as a limitation for right now. And we can look more into what we should be returning here
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 17:02:00 GMT):<br/>
what's all the attention on blockhash about?
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 17:36:38 GMT):<br/>
about the stub we added in for block hash
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 17:47:57 GMT):<br/>
oh, the panic is tied to an opcode?
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 17:54:09 GMT):<br/>
yup
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 17:57:38 GMT):<br/>
that's super bizarre now
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 17:57:44 GMT):<br/>
now I'm concerned again, okay
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 17:57:55 GMT):<br/>
I think we need a FAQ section on our intern proposal.
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 17:58:13 GMT):<br/>
or a link to our wiki page. something less formal.
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:25:19 GMT):<br/>
@swetha added some test cases to show handling of empty addresses
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 18:26:13 GMT):<br/>
cool, will take a look in a bit
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:29:27 GMT):<br/>
and now the error index as well
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 18:44:55 GMT):<br/>
So in regards to the blockhash. I did a little investigating. I am not clear on how we error if asked for a block that hasn't been created yet. But the idea is that the blockhash is queried on a certain block number. We could implement that and add a note stating to be careful of querying for a block number that hasn't been created yet or the latest block as that will either error or can cause discrepencies between the generated read and write sets. If that seems like a reasonable approach I can add that change in the burrow update now. Or I can add it in a subsequent jira/patch which gives us more time to figure out our options
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 18:45:08 GMT):<br/>
@MHBauer @guoger ^^
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:46:11 GMT):<br/>
I'd want a test case to run both before and after the change.
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:46:15 GMT):<br/>
As it is, I'm fine with it.
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:46:24 GMT):<br/>
we'll hear about it if we break someone.
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 18:47:31 GMT):<br/>
Yes, I will definitely be adding tests about the blockhash. more concerned about what is the actual behavior we want from the blockhash
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 18:48:00 GMT):<br/>
and whether we want it in the current patch or in a subsequent one, because it will  make this patch larger
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 18:48:06 GMT):<br/>
it is not a small addition
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:48:16 GMT):<br/>
sounds like it gets a number and returns the hash of that number
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:48:23 GMT):<br/>
very straightforward.
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:48:33 GMT):<br/>
now
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 18:48:38 GMT):<br/>
burrow doesn't give us a way to error
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:48:41 GMT):<br/>
if you ask for a block in the future
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:49:08 GMT):<br/>
I would have to assume that the evm enforces that, otherwise it seems like a grievous oversight
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:49:35 GMT):<br/>
or we return some tombstone, 
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:49:45 GMT):<br/>
so, again, I need more understanding ofhow that function is used.
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 18:49:56 GMT):<br/>
the more I learn, the less it seems I know.
</p>
<p><strong>swetha</strong> (Wed, 27 Mar 2019 19:00:03 GMT):<br/>
I am going to say lets review the current burrow update as is with the panic. I've added a note in the readme saying that blockhash is not supported. The blockhash change I will make in another patch/jira. There are still a few open questions in my mind like the error cases, and also whether we have to be concerned with permissioning in terms of chaincode invoking other chaincodes etc
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 19:00:19 GMT):<br/>
:+1: 
</p>
<p><strong>MHBauer</strong> (Wed, 27 Mar 2019 19:19:34 GMT):<br/>
topic filters should be closer now given feedback on addresses
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 00:27:29 GMT):<br/>
we need to talk about how the evmcc stuff will conflict if there's a couple in the same channel.
</p>
<p><strong>guoger</strong> (Thu, 28 Mar 2019 10:00:09 GMT):<br/>
@swetha merged your CR with a [minor comment](https://gerrit.hyperledger.org/r/c/29565/7/README.md#77)
</p>
<p><strong>guoger</strong> (Thu, 28 Mar 2019 10:58:51 GMT):<br/>
@MHBauer when i run `ginkgo` in types pkg for https://gerrit.hyperledger.org/r/c/29095/, it says no tests found, and i need to run `ginkgo bootstrap` there.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 11:19:33 GMT):<br/>
what's that do?
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 11:21:40 GMT):<br/>
I've never ginkgo'd before.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 11:22:54 GMT):<br/>
It's weird, if I were to make a matric, (and I should).
</p>
<p><strong>guoger</strong> (Thu, 28 Mar 2019 11:30:05 GMT):<br/>
you wake up at a very weird time :joy: 
</p>
<p><strong>guoger</strong> (Thu, 28 Mar 2019 11:31:06 GMT):<br/>
how do you run UT for types pkg?
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 16:11:21 GMT):<br/>
he needs to add a suite file in types and change this line to so that the types package is looked at
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 16:11:21 GMT):<br/>
he needs to add a suite file in types and change this line: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Makefile#L29 to so that the types package is looked at
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 16:13:34 GMT):<br/>
@MHBauer ginkgo bootstrap just creates the suite file for the test. It takes care of all file creation and syntax
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 16:13:34 GMT):<br/>
@MHBauer ginkgo bootstrap just creates the suite file for the test. It takes care of all file creation and syntax. Also the piece that connects ginkgo to go test
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 17:27:15 GMT):<br/>
what
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 17:27:42 GMT):<br/>
I'm fixing that, that's ridiculous. We have computers.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:13:20 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/30505/ okay
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:13:30 GMT):<br/>
that's the fix, merge that real quick and we can move on
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:15:49 GMT):<br/>
@swetha 
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:20:25 GMT):<br/>
@MHBauer reviewing, don't agree with all of them
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:20:37 GMT):<br/>
particularly adding -cover
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:21:42 GMT):<br/>
why not?
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:22:41 GMT):<br/>
because i don't think thats a good mesaure of a test suite
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:22:51 GMT):<br/>
if someone is interested they can run themselves
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:22:51 GMT):<br/>
if someone is interested they can run it themselves
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:23:42 GMT):<br/>
what do you mean? 
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:24:03 GMT):<br/>
I find it useful at a glance to know if my changes are changing thing.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:30:33 GMT):<br/>
I'm not tied to `-p` that was only done in the integraion tests I think now.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:31:59 GMT):<br/>
the `-p` should work, but yes the integration tests should work with parallel i think. but since they interact with the same environment in fab3 not sure what the consequences would be to enable parallel on integration tests. something to investigate
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:32:33 GMT):<br/>
cover, i think is find if you want to use it locally. but the second we make it part of the unit test target we are tagging are suites with that number and i don't think that is a good thing
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:32:33 GMT):<br/>
cover, i think is fine if you want to use it locally. but the second we make it part of the unit test target we are tagging are suites with that number and i don't think that is a good thing
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:32:33 GMT):<br/>
cover, i think is fine if you want to use it locally. but when we make it part of the unit test target we are tagging are suites with that number and i don't think that is a good thing
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:32:33 GMT):<br/>
cover, i think is fine if you want to use it locally. but when we make it part of the unit test target we are tagging our suites with that number and i don't think that is a good thing
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:33:19 GMT):<br/>
tagging?
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:33:28 GMT):<br/>
implicitly tagging
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:33:35 GMT):<br/>
I don't understand
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:33:58 GMT):<br/>
i don't want something like fab3 suite -> 50% coverage
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:34:08 GMT):<br/>
we aren't at 50%, but just as an example
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:34:30 GMT):<br/>
It also gives an impression that is a number we are care about and work to improve which we dont
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:35:10 GMT):<br/>
we have no enforcement mechanism or policy. I can write that down
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:35:31 GMT):<br/>
I prefer that it isn't run with our tests by default
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:36:04 GMT):<br/>
and I prefer to get lots of information out of things that I run.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:37:04 GMT):<br/>
i don't find value in the cover percentage and thinks it gives the wrong impression. basically i don't think it is accurate information
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:37:35 GMT):<br/>
to whether or not code is executing?
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:37:50 GMT):<br/>
I'm not asking for us to target a number, and have no intention to
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:38:21 GMT):<br/>
when I write a test, I need to know if it's executing the code, the number indicates that.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:38:33 GMT):<br/>

(really, the profile)
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:39:32 GMT):<br/>
I feel like we are going into the direction of targeting a number by starting to "publish" a number
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:39:47 GMT):<br/>
and it feels like "publishing" because this is what is run in our ci
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:41:27 GMT):<br/>
I can see that argument, but what would make it disregardable
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:41:43 GMT):<br/>
something in Contributing?
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:42:32 GMT):<br/>
not sure that would stop people to going to targeting a number
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:42:49 GMT):<br/>
I don't know what that means. What does that look like?
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:43:21 GMT):<br/>
the first issue I see that says "more tests  for increased code coverage" I'm closing.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:43:32 GMT):<br/>
that's a misuse of the tool
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:44:07 GMT):<br/>
if the makefile is only for CI
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:44:28 GMT):<br/>
then I need a morgan.mk to include my personal runners.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:44:41 GMT):<br/>
cause I need something in the repo to do development.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:46:36 GMT):<br/>
I can start doing conditionals on the environment to detect the build system and remove the flag, but it seems excessive.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:46:47 GMT):<br/>
though perhaps we need something like that already.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:48:03 GMT):<br/>
I think that is excessive. Our makfile isn't only for ci, but ci is one of the main uses for it. I will say i don't use the makefile while I develop. I run it once before i push so i run everything that is on ci
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:49:23 GMT):<br/>
well what do you run? let's add some of that.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:49:34 GMT):<br/>
If others are okay with the cover profile being produced at each run, im okay with it. But if it is up to me I prefer it not there
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:49:39 GMT):<br/>
I was going to suggest adding a watch, but I figured that't be kicked back.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:50:16 GMT):<br/>
i do a watch on the repo im working on and i do tdd so i know the code i add is getting tested because i start with failing tests
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:50:50 GMT):<br/>
thats more of a process than an actual command
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:51:19 GMT):<br/>
I think we all know I'm not strict tdd.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:52:00 GMT):<br/>
i didn't say its a requirement, just how i develop and why i don't really use the makefile
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:52:02 GMT):<br/>
and there is no possible mechanism to enforce that.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:52:17 GMT):<br/>
that doesn't really explain that.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:53:14 GMT):<br/>
the make file also doesn't focus on packages
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:53:17 GMT):<br/>
tdd doesn't explain not using the makefile.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:53:19 GMT):<br/>
which i don't think it shouldn't
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:53:23 GMT):<br/>
to be more explicit
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:53:37 GMT):<br/>
doesn't focus on packages?
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:53:38 GMT):<br/>
just more difficult to run/test things with the makefile
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:53:58 GMT):<br/>
i use focuses, ginkgo watch, package specific tests etc
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:54:12 GMT):<br/>
well is there something we can add to make it more easy/useful
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:54:15 GMT):<br/>
doing a make unit-test isn't useful to me when im developing. its something i do at the very end
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:54:25 GMT):<br/>
and if not, can we document what is easier
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:54:51 GMT):<br/>
no, im okay with how i do things. i don't think its the job of the makefile to adapt to my development style
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:55:11 GMT):<br/>
also not sure what could be made into a target there which would be easier than just typing out the command
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:55:13 GMT):<br/>
there aren't exactly a lot of people here.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:55:39 GMT):<br/>
people have been using the makefile to build and run things. just not for development
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:55:44 GMT):<br/>
I understand that, but how do people know what to type if we don't write it down?
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:56:16 GMT):<br/>
that puts the burden of teaching people how to use ginkgo on us
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:56:47 GMT):<br/>
in terms of teaching people tdd, everyone has their own style with that
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:57:05 GMT):<br/>
i am not using special features of ginkgo
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:57:05 GMT):<br/>
well, we use ginkgo
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:57:10 GMT):<br/>
so, yes, we have to do that.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:57:21 GMT):<br/>
no, we show them how to run the integration tests and the unit tests
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:57:26 GMT):<br/>
how
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:57:27 GMT):<br/>
which you can still run using go test
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:58:05 GMT):<br/>
the commands are in our repo for running integration and unit tests
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:58:07 GMT):<br/>
that's a distraction from a more useful flow.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:58:18 GMT):<br/>
in the makefile, or where else?
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:58:24 GMT):<br/>
in the makefile
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 18:58:40 GMT):<br/>
I think we need more of a devguide.
</p>
<p><strong>swetha</strong> (Thu, 28 Mar 2019 18:59:06 GMT):<br/>
i would agree if we had more active developers
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 19:00:17 GMT):<br/>
well, I'm thinking I'll put some words into contributing.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 19:34:33 GMT):<br/>
pushed a big update. 
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 19:34:49 GMT):<br/>
I really couldn't come up with a good reason not to make a new make target.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 19:41:39 GMT):<br/>
we don't have a mechanism, or a way to track it over time right now anyway, so I'm fine with dropping it in CI.
</p>
<p><strong>MHBauer</strong> (Thu, 28 Mar 2019 19:41:50 GMT):<br/>
I think it's an interesting SIGNAL, but should not be a TARGET.
</p>
<p><strong>rameshthoomu</strong> (Fri, 29 Mar 2019 13:54:34 GMT):<br/>
Could you please review this https://gerrit.hyperledger.org/r/#/c/30448/
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 16:56:27 GMT):<br/>
@rameshthoomu taking a look now
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 17:52:09 GMT):<br/>
Looking to add diagrams to the readme, which of the following seems better?
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 17:52:22 GMT):<br/>

<br/><a href="./assets/8ceDcSGTSs5gL4qet-EndToEnd.jpg">EndToEnd.jpg</a>
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 17:54:59 GMT):<br/>

<br/><a href="./assets/oPrqH4WiYsrYmvnDF-EVMCC-Arch.jpg">EVMCC-Arch.jpg</a>
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 17:58:29 GMT):<br/>
@lehors @MHBauer @guoger  ^^
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 18:10:34 GMT):<br/>
not sure the arch thing is useful for readme, maybe in a dev doc location
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 18:11:03 GMT):<br/>
e2e image is sweet, but might want to complicate it up, or provide two versions, one that has more complications so people understand how to use it.
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 18:17:32 GMT):<br/>
what would be the complications?
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 18:18:06 GMT):<br/>
The arch diagram shows a little better how evmcc and fab3 fit in the fabric world. we can simplify it a bit
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 18:18:18 GMT):<br/>
don't need to have all the different components labeled
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 18:19:23 GMT):<br/>
but im in between how detailed the diagram should be versus not. the intention is to show how fab3 and evmcc fit in fabric as well as showing that the dapp and smart contract are the pieces that can stay the same from ethereum. with that in mind, im leaning towards the end to end
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 18:21:50 GMT):<br/>
e2e for sure, 
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 18:22:01 GMT):<br/>
I mean, multiple fa3s, one for each user type thing.
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 18:22:11 GMT):<br/>
show that the fa3 is not the point, the evmcc is still the point.
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 19:32:13 GMT):<br/>
@lehors are you still around? I'm not sure how to say it differently for https://gerrit.hyperledger.org/r/#/c/30505/2/CONTRIBUTING.md@28  I wrote a comment on your comment, but I want to be clear. We had a big discussion yesterday.  starts at https://chat.hyperledger.org/channel/fabric-evm?msg=EWxzBmbSYsoTsGtaB
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:23:23 GMT):<br/>
@swetha I think for the README a highlevel diagram is all that's needed - I don't think the intended audience would necessarily be familiar with fabric's architecture and really benefit from a lot of details involving some of the internals of fabric such as the state manager vs ledger
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:24:08 GMT):<br/>
now, I think there may be a way to improve the first one to be closer to the real thing, which might somewhere in between those two diagrams you have
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:24:08 GMT):<br/>
now, I think there may be a way to improve the first one to be closer to the real thing, which might be somewhere in between those two diagrams you have
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:34:01 GMT):<br/>
@MHBauer thanks for the pointer to yesterday's discussion but this doesn't tell me WHY @swetha doesn't want to look at test coverage only that she doesn't
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:34:26 GMT):<br/>
what am I missing?
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 21:34:36 GMT):<br/>
Hahah, i don't mind looking at it. I just think it should be an local development tool not on ci
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:35:47 GMT):<br/>
well, you could say the same thing about formatting and linting then
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:36:29 GMT):<br/>
it is useful to have all these things done automatically as part of the CI because it informs us on the status of the code and helps us improve the overall quality
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 21:36:31 GMT):<br/>
Formatting and linting though we are following and enforcing
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 21:36:38 GMT):<br/>
I can't say the same about test coverage
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:36:43 GMT):<br/>
exactly
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:36:52 GMT):<br/>
why treating coverage differently??
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 21:37:05 GMT):<br/>
And part of the test coverage is on integration tests which we can't get an accurate cover profile of
</p>
<p><strong>swetha</strong> (Fri, 29 Mar 2019 21:37:17 GMT):<br/>
So I feel like the numbers are inaccurate and give the wrong impression
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:37:28 GMT):<br/>
ok, that's a better answer :)
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 21:37:47 GMT):<br/>
I'm fine with either of you changing the wording.
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:37:54 GMT):<br/>
typically coverage would be done on unit tests
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 21:39:11 GMT):<br/>
What mechanism does core fabric have? where are the reports?
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 21:39:21 GMT):<br/>
I've never seen it, so I want to know and follow if there is.
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:41:00 GMT):<br/>
it's in fabric/scripts
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:41:05 GMT):<br/>
it's in the Makefile
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:41:43 GMT):<br/>
as we can run the unit-tests collecting coverage
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:41:43 GMT):<br/>
we can run the unit-tests collecting coverage
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:42:10 GMT):<br/>
now, I have to admit not to know the latest on that and I'm not sure we do that systematically anymore
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:42:45 GMT):<br/>
we've had to turn off a whole bunch of things because the CI was taking too long to complete
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:43:19 GMT):<br/>
so, we now have different levels of testing and the one that gets triggered on every push isn't as thorough as it used to be
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:43:33 GMT):<br/>
so I don't think we do coverage at every run
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:44:30 GMT):<br/>
but we do have all the mechanics in place and keep an eye on coverage so that we don't go off rail
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:44:59 GMT):<br/>
@cbf should be able to tell where we stand nowadays
</p>
<p><strong>lehors</strong> (Fri, 29 Mar 2019 21:49:08 GMT):<br/>
@cbf how/when do we measure test coverage for fabric nowadays? and what's the target set at?
</p>
<p><strong>MHBauer</strong> (Fri, 29 Mar 2019 23:01:23 GMT):<br/>
and do we have benchmarks.... 
</p>
<p><strong>guoger</strong> (Sat, 30 Mar 2019 02:07:15 GMT):<br/>
i think we have coverage on UT at least in Fabric
</p>
<p><strong>klenik</strong> (Mon, 01 Apr 2019 14:07:55 GMT):<br/>
[Technical question] Can I utilize the `value` and `gas` variables passed to Burrow's EVM in evmcc? `value` would be of interest for me, since I'm trying to test some contracts (recreate vulnerabilities) from the public world that transfer ether. But since this EVM is picked out of its context and put under Fabric, I'm not sure how the initial `value` values/balances are bootstrapped. 
</p>
<p><strong>cbf</strong> (Mon, 01 Apr 2019 15:51:37 GMT):<br/>
test coverage metrics are stupid, but if you want a number, I can give you one
</p>
<p><strong>cbf</strong> (Mon, 01 Apr 2019 15:52:14 GMT):<br/>
I set the bar at 85% but again, this is almost meaningless
</p>
<p><strong>cbf</strong> (Mon, 01 Apr 2019 15:52:35 GMT):<br/>
it should be high, but not too high
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 17:00:16 GMT):<br/>
@klenik Neither `value` or `gas` is configurable from the user. There currently is no native underlying token in Fabric so transfering tokens from one account to another is not doable through just the evmcc. If you need tokens, we expect you create your own token contract, and use that for your purposes as ERC20 contracts will work with the evmcc. 
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 17:00:35 GMT):<br/>
Only contract accounts are stored on the ledger, and user accounts are generated on the fly
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 17:00:51 GMT):<br/>
We do this because we don't keep any balance associated with a user
</p>
<p><strong>klenik</strong> (Mon, 01 Apr 2019 17:51:50 GMT):<br/>
@swetha Thanks, confirmed my suspicions :thumbsup: 
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 17:54:05 GMT):<br/>
@klenik As a related question, would you want gas to be configurable? If so what use case do you see that helping? We made gas hardcoded for the time being but would be open to making it configurable given enough reasoning as to why that would be useful in the Fabric setting
</p>
<p><strong>klenik</strong> (Mon, 01 Apr 2019 17:58:39 GMT):<br/>
Well, Fabric allows setting the execution timeout of transactions. Gas has the same purpose for the EVM. So a hardcoded gas value is effectively a limit for a Fabric transaction targeting evmcc, regardless of the Fabric-level setting. But since EVM codes aren't that "big", I'd be surprised if this would be a real limitation and not just a theoretical one. 
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 18:03:48 GMT):<br/>
That was our though process too. But just wanted to get another perspective
</p>
<p><strong>klenik</strong> (Mon, 01 Apr 2019 18:04:04 GMT):<br/>
[This statemanager interface](https://github.com/hyperledger/fabric-chaincode-evm/blob/413ebda94d103ff563786c572a27444d472e0cb8/statemanager/statemanager.go#L19) has a few more corresponding methods defined on Burrow's ReaderWriter (or something like this) interface, right? As I see these are the high level storage/account operations. So if I wanted to hack together a quick-and-dirty balance support, is this the right place to start?
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 18:08:24 GMT):<br/>
You probably don't need to do too much in the statemanager interface because the it blindly saves the accounts that it is given. The account is the burrow account type so it should have the ability to store a balance. You may need to add a cache for accounts depending on you plan on accessing accounts that you have just written to in the same transaction: https://github.com/hyperledger/fabric-chaincode-evm/blob/413ebda94d103ff563786c572a27444d472e0cb8/statemanager/statemanager.go#L31
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 18:09:55 GMT):<br/>
The work has to be done in the [evmc](https://github.com/hyperledger/fabric-chaincode-evm/blob/413ebda94d103ff563786c572a27444d472e0cb8/evmcc/evmcc.go)
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 18:10:37 GMT):<br/>
You would have do edit it so it creates an account for a user it hasn't seen before and give it a starting balance
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 18:13:37 GMT):<br/>
And then you would have to do some arg parsing be able to accept `value` as an arg pass that along to the vm.call invocation
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 18:15:14 GMT):<br/>
I think we should link to the wiki in our README
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 18:15:27 GMT):<br/>
that way we can put stuff in easire than making a PR
</p>
<p><strong>klenik</strong> (Mon, 01 Apr 2019 18:22:57 GMT):<br/>
@swetha Cool, thanks for the detailed guide! Any thoughts about bootstrapping certain accounts with initial balances? Who will mint the first "coin"? Haven't looked into the design docs of Fabric's token support, but I guess the identity that deploys the evmcc chaincode should have a say in the initial distribution of a certain amount of "coin". Although a Remix-style approach would also be fine for me, e.g., giving a fix initial amount for every newly encountered user
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 18:49:39 GMT):<br/>
@klenik no coins, no tokens. We haven't looked into fabric tokens in any detail, but it's the obvious thing to gonnect too.
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 18:52:50 GMT):<br/>
@lehors  @swetha  Should i take out the code coverage paragraph? Everybody seems confused about it.
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 18:54:49 GMT):<br/>
@klenik I would say thats really up to what you are trying to test out and what works out the easiest. One thing to note is the tips I gave above only add balances to users in the evmcc world. None of those balances would transfer to the rest of fabric
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 18:54:56 GMT):<br/>
I want to get https://gerrit.hyperledger.org/r/#/c/30505/ merged or fixed so it can be merged. I didn't think it was that controversial.
</p>
<p><strong>lehors</strong> (Mon, 01 Apr 2019 18:55:40 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=tbFaPfPRsyzpf4TrQ) @MHBauer I think you could rewrite it to say exactly what you mean. Just don't be cheap on the number of words. :-)
</p>
<p><strong>lehors</strong> (Mon, 01 Apr 2019 18:56:13 GMT):<br/>
seriously, there is just too much compacted in that one or two sentences
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 18:57:09 GMT):<br/>
Hmn, okay, I'll try. 
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 18:58:21 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=AQcjYNKhanSnbryu3) I would also say that there is work in Fabric to introduce tokens. We haven't looked into that and what that could mean for the EVM but something you might be interested in
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:04:09 GMT):<br/>
okay, here we go again. smaller, more direct, sentences.
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:04:25 GMT):<br/>
It'd be great if we didn't run the builld for docs-only changes.
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 19:33:42 GMT):<br/>
Made comments on the patch
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 19:34:47 GMT):<br/>
@MHBauer also realized I merged the address filter for getLogs prematurely. Since right now the types tests are not being run in ci
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:37:44 GMT):<br/>
what, why not? didn't I add the suite?
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:38:33 GMT):<br/>
15:06:34 [1553897158] Types Suite - 19/19 specs ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ SUCCESS! 4.383135ms PASS 
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:38:37 GMT):<br/>
looks like it's running
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 19:40:10 GMT):<br/>
oh whoops my bad. oh its the '-r'
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 19:40:52 GMT):<br/>
sorry i thought a change was necessary in the makefile
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:44:07 GMT):<br/>
yea, that whole thing makes no sense, which is why I'm trying to fix it
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:44:14 GMT):<br/>
(it make a little sense)
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:53:44 GMT):<br/>
needs some integration tests, which I'm not looking forward to writing https://gerrit.hyperledger.org/r/#/c/29170/
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:53:58 GMT):<br/>
change is already yellow sized, groan
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:55:04 GMT):<br/>
maybe it's time for that refactor.
</p>
<p><strong>lehors</strong> (Mon, 01 Apr 2019 19:57:36 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=NZxubQBs8ASXuRATR) @MHBauer Amen to that! Mind you, I said that about 3 years ago and a couple of times a plugin was set to allow you to direct the CI not to run by simply adding "[ci-skip] to the commit message but it caused problems so they had to turn it off. I find that very annoying.
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 19:58:03 GMT):<br/>
I'd have to learn how to jenkins I think.
</p>
<p><strong>swetha</strong> (Mon, 01 Apr 2019 20:05:24 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=A59rgnRPPhvqYcXAr) @MHBauer you also need to add docs
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 20:25:47 GMT):<br/>
docs is easy, link to https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_getlogs
</p>
<p><strong>MHBauer</strong> (Mon, 01 Apr 2019 20:25:52 GMT):<br/>
:-D
</p>
<p><strong>ZichengWang</strong> (Mon, 01 Apr 2019 20:41:36 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 19:26:31 GMT):<br/>
@swetha good suggestions. pr is back to yellow sized
</p>
<p><strong>swetha</strong> (Tue, 02 Apr 2019 19:36:33 GMT):<br/>
glad i could be of help :)
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 19:44:20 GMT):<br/>
I wonder if I can send bluethanks to external people?
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 20:30:09 GMT):<br/>
@lehors @swetha let's iterate! https://gerrit.hyperledger.org/r/30505 
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 20:30:41 GMT):<br/>
@swetha  https://gerrit.hyperledger.org/r/#/c/29170/ should be pretty complete now. 
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 20:31:26 GMT):<br/>
this process makes me wonder about things, but not too closely...
</p>
<p><strong>swetha</strong> (Tue, 02 Apr 2019 21:29:26 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=Jm2rfoECFLpeS7iER) @MHBauer I don't see a new patch, but replied to the comments
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 21:52:32 GMT):<br/>
oh, did I forget?
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 21:52:40 GMT):<br/>
arg
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 21:53:10 GMT):<br/>
:-(
</p>
<p><strong>MHBauer</strong> (Tue, 02 Apr 2019 21:55:52 GMT):<br/>
okay, silly thing looks up to me now
</p>
<p><strong>guoger</strong> (Wed, 03 Apr 2019 09:07:45 GMT):<br/>
i see Morgan in https://gerrit.hyperledger.org/r/c/30566/, and probably we could jus reference it in our contribution guideline
</p>
<p><strong>MHBauer</strong> (Wed, 03 Apr 2019 18:16:37 GMT):<br/>
I can turn it into a blog, but I didn't like the "very good coverage", 
</p>
<p><strong>MHBauer</strong> (Wed, 03 Apr 2019 18:16:39 GMT):<br/>
meaningless
</p>
<p><strong>MHBauer</strong> (Wed, 03 Apr 2019 18:17:18 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=w6ioy2ad3RiR43xWj) @lehors commit message isn't a great place for that, but interesting concept. need to learn jenkins, I guess.
</p>
<p><strong>cbf</strong> (Wed, 03 Apr 2019 18:57:47 GMT):<br/>
we don't do a full build for doc-only changes
</p>
<p><strong>MHBauer</strong> (Wed, 03 Apr 2019 18:59:55 GMT):<br/>
How is that done? jenkins config or makefile git magic?
</p>
<p><strong>MHBauer</strong> (Wed, 03 Apr 2019 20:21:18 GMT):<br/>
more tests, back to orange sized.
</p>
<p><strong>swetha</strong> (Wed, 03 Apr 2019 20:56:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=foHQBzGcYpA9cueKg) @MHBauer I am curious how this is done too
</p>
<p><strong>cbf</strong> (Wed, 03 Apr 2019 21:26:44 GMT):<br/>
I believe that you need to tag the commit message as docs or something - ask Ramesh
</p>
<p><strong>guoger</strong> (Thu, 04 Apr 2019 03:28:36 GMT):<br/>
https://gerrit.hyperledger.org/r/c/29170/#message-aa7bf5e6_2f5fd913
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 03:29:34 GMT):<br/>
"It would be helpful for readers to include the example from design doc as code comment."  swetha's example? or which?
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 03:30:34 GMT):<br/>
I agree generally, I wasn't sure what would be too much, or hold it up. 
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 03:30:54 GMT):<br/>
I can add mucho docs tomorrow/thursday & friday, as I document everything else.
</p>
<p><strong>guoger</strong> (Thu, 04 Apr 2019 03:36:09 GMT):<br/>
basically the topic matching rules, i.e.
```
[] "anything"
[A] "A in first position (and anything after)"
[null, B] "anything in first position AND B in second position (and anything after)"
[A, B] "A in first position AND B in second position (and anything after)"
[[A, B], [A, B]] "(A OR B) in first position AND (A OR B) in second position (and anything after)"
```
i need to go back to that design doc several times to refresh my memory while reading code
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 14:49:36 GMT):<br/>
to me that's not a fully complete description of things.
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 14:49:47 GMT):<br/>
but sure.
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 15:59:42 GMT):<br/>
@swetha where is the documentation for each function?
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 16:01:20 GMT):<br/>
ah, fa3 instructions
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 16:01:29 GMT):<br/>
those in any order?
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 16:01:29 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=xyPkCoEJKqPof9Gxs) @MHBauer no i don't think i put them in a specific order. maybe the order they are in the file?
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 18:01:42 GMT):<br/>
can we move fab3_instructions.md to the fab3 folder.
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 18:01:42 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=Gi7oXi87hw9TQRmFW) @MHBauer mmmm, i think as we collect more docs it would be better to have a docs directory but for right now i think top level just makes it more visible when people first look at the repo
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 18:02:44 GMT):<br/>
and is there a reason eventmanager and statemanager aren't in evmcc?
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 18:39:38 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=GwDXb2jMrcS4GJN7F) @MHBauer We had a discussion about that at the beginning of the project. We settled on we don't want to have a nested repo and want most of it at the top level
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 18:42:24 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=8fNXK4y2hM5R8zSZn) @guoger @MHBauer and I went back and forth on understanding the topic matching rules. we need to add a little more to about adding null on the later indices to the effect of 
`if i explicitly put null in an index it means i don‚Äôt care about the value but i do care that it exists`
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 18:42:24 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=8fNXK4y2hM5R8zSZn) @guoger @MHBauer and I went back and forth on understanding the topic matching rules. we need to add a little more about adding null on the later indices to the effect of 
`if i explicitly put null in an index it means i don‚Äôt care about the value but i do care that it exists`
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 18:51:45 GMT):<br/>

<br/><a href="./assets/n2ZZrvWNWaXjhQsHH-Screen Shot 2019-04-04 at 9.47.52 AM.png">Screen Shot 2019-04-04 at 9.47.52 AM.png</a>
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 18:52:21 GMT):<br/>
@lehors does that seem like a middle ground from the original images?
</p>
<p><strong>lehors</strong> (Thu, 04 Apr 2019 19:05:24 GMT):<br/>
@swetha yes, that's pretty nice!
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 19:09:50 GMT):<br/>
Yay, I will add that to the README
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 19:16:58 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=cxpsYmwXXoH9do5LA) @swetha looks messy
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 19:19:44 GMT):<br/>
i voiced the same opinion when the decision was made
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 19:20:28 GMT):<br/>
but the counter argument is that this isn't a large project so having everything top level and not hidden was a better approach
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 20:35:58 GMT):<br/>
I disagree, it implies that somehow, other things might rely on them, but it's specific to the evmcc
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 20:37:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=44ggeprbZD2o9RJZE) @swetha can you make it bigger when you render it? or make it an SVG?
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 20:43:43 GMT):<br/>
the one here is just a screenshot
</p>
<p><strong>swetha</strong> (Thu, 04 Apr 2019 20:43:55 GMT):<br/>
the image i created should be bigger
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 20:49:54 GMT):<br/>
VEKTOR GRAFIX
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 23:40:29 GMT):<br/>
bizarre rebase error. should be fixed now. https://gerrit.hyperledger.org/r/#/c/30752/4
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 23:40:29 GMT):<br/>
bizarre rebase error. should be fixed now. https://gerrit.hyperledger.org/r/#/c/30752
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 23:45:06 GMT):<br/>
```
```
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 23:45:14 GMT):<br/>
```
16:41:00 ‚Ä¢ SUCCESS! 58.412517386s PASS
16:41:40 [1554421188] Fab3 - 13/13 specs ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ SUCCESS! 48.129590624s PASS
16:41:41 
16:41:41 Ginkgo ran 2 suites in 1m53.059008053s
16:41:41 Test Suite Passed
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // timestamps
[Pipeline] }
[Pipeline] // node
[Pipeline] }
[Pipeline] // timeout
[Pipeline] End of Pipeline
Finished: ABORTED
```
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 23:45:16 GMT):<br/>
wut
</p>
<p><strong>MHBauer</strong> (Thu, 04 Apr 2019 23:45:26 GMT):<br/>
oh, wrong 
</p>
<p><strong>swetha</strong> (Fri, 05 Apr 2019 17:18:17 GMT):<br/>
Pipeline?
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 17:52:54 GMT):<br/>
wrong build. not sure how I was looking at it.
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 19:12:15 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/30755/ should be good and tested.
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 19:12:25 GMT):<br/>
untis and integrations.
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 19:12:56 GMT):<br/>
it's tending towards orange, but it isn't a lot of implementation, mainly use of a new ledger query requires mock.
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 21:21:11 GMT):<br/>
for 
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 21:21:42 GMT):<br/>
@swetha 
https://gerrit.hyperledger.org/r/#/c/30752/6/Fab3_Instructions.md@305
how about adding " All visible events will be matched against, which will include other instances of the EVM chaincode operating with different chaincode IDs." 
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 21:22:12 GMT):<br/>
but up above, at 296, after the "these log objects ... on the transaction"
</p>
<p><strong>swetha</strong> (Fri, 05 Apr 2019 21:22:59 GMT):<br/>
yea that sounds good
</p>
<p><strong>MHBauer</strong> (Fri, 05 Apr 2019 21:36:20 GMT):<br/>
should be out now.
</p>
<p><strong>tcurdt</strong> (Sat, 06 Apr 2019 14:51:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tcurdt</strong> (Sat, 06 Apr 2019 15:36:33 GMT):<br/>
let's say I use the azure hyperledger farbric deployment - is there an easy way to add the evm? (so one can use web3+solidity)
</p>
<p><strong>swetha</strong> (Sun, 07 Apr 2019 06:14:28 GMT):<br/>
@tcurdt I am not familiar with the azure service. But you should be able to install the evm as you would any chaincode
</p>
<p><strong>guoger</strong> (Sun, 07 Apr 2019 12:04:32 GMT):<br/>
not sure is it's something with my env but when i run [this integration test](https://gerrit.hyperledger.org/r/c/30755/5/integration/fab3/fab3_test.go#346) i got following error:
```
[e][Org1.peer0] 2019-04-07 20:01:34.780 CST [endorser] SimulateProposal -> ERRO 06b [testchannel][b46e07d5] failed to invoke chaincode name:"qscc" , error: transaction returned with failure: proto: field "protos.Response.Message" contains invalid UTF-8
[e][Org1.peer0] github.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:265
[e][Org1.peer0] github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:239
[e][Org1.peer0] github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/endorser/support.go:147
[e][Org1.peer0] github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/endorser/endorser.go:142
[e][Org1.peer0] github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/endorser/endorser.go:237
[e][Org1.peer0] github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/endorser/endorser.go:456
[e][Org1.peer0] github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61
[e][Org1.peer0] github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32
[e][Org1.peer0] github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler.func1
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:169
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:31
[e][Org1.peer0] github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/common/grpclogging/server.go:91
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34
[e][Org1.peer0] github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:30
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:39
[e][Org1.peer0] github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:171
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:982
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1208
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1
[e][Org1.peer0] 	/Users/guoger/workspace/go-project/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686
[e][Org1.peer0] runtime.goexit
[e][Org1.peer0] 	/usr/local/go/src/runtime/asm_amd64.s:1337
```
(although the whole test actually passes...)
</p>
<p><strong>guoger</strong> (Sun, 07 Apr 2019 12:04:42 GMT):<br/>
@MHBauer ^^^^
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:48:03 GMT):<br/>
that's a peer blowing up
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:48:14 GMT):<br/>
I haven't seen that
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:48:21 GMT):<br/>
and I'm not even sure where to start troubleshooting.
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:48:38 GMT):<br/>
but if you're running it with 'go test' I'd say something in 1.4.1 or 2.0 is blowing up
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:48:56 GMT):<br/>
and if you've got 1.4.0 checked out, I've not an idea where to start.
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:57:37 GMT):<br/>
I'll start it running with ginkgo and let it go, but if it doesn't FAIL, then I can chalk down that fabric is pretty resilient.
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:57:50 GMT):<br/>
cause we certainly aren't retrying during the test.
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 04:58:46 GMT):<br/>
overall I think it's ready if we can squeeze it in.
</p>
<p><strong>Shezay</strong> (Mon, 08 Apr 2019 13:55:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Shezay</strong> (Mon, 08 Apr 2019 13:57:17 GMT):<br/>
Hi, I have a question about Fab3, if I set the user parameter of a Fab3 instance and then connect using web3, is there anything that prevents some other person from connecting with web3 to my proxy with my user?
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 15:21:05 GMT):<br/>
there's no encryption or anything, but the fact that it's running locally for you makes it inaccessible.
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:44:47 GMT):<br/>
@guoger ran into the same problem doing some manual testing:
```
curl http://127.0.0.1:5000 -X POST -H "Content-Type:application/json" -d '{
  "jsonrpc":"2.0",
  "method": "eth_getLogs",
  "id":1,
  "params":[{"blockHash":"0xa21538254a4d6dc0115619151029d24833655b401d85bbe06d6c3ba791ca1345"}]
}' | jq .
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   499  100   344  100   155    306    138  0:00:01  0:00:01 --:--:--   306
{
  "jsonrpc": "2.0",
  "error": {
    "code": -32000,
    "message": "failed to find block by block hash: QueryBlockByHash failed: Transaction processing for endorser [169.63.236.150:30110]: Chaincode status Code: (500) UNKNOWN. Description: transaction returned with failure: proto: field \"protos.Response.Message\" contains invalid UTF-8",
    "data": null
  },
  "id": 1
}
```
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:46:53 GMT):<br/>
huh
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:47:36 GMT):<br/>
im investigating futher
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:47:37 GMT):<br/>
how do the fab3 logs look?
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:47:42 GMT):<br/>
fab3 logs have nothign
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:47:42 GMT):<br/>
fab3 logs have nothing
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:47:47 GMT):<br/>
ill turn on debug in a second
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:47:49 GMT):<br/>
did you turn debug on?
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:47:50 GMT):<br/>
okay
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:48:08 GMT):<br/>
(we should make a jira fo rthat, or switch to flogging)
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:48:23 GMT):<br/>
also capitalized 'H' in blockHash but don't think that is the problem
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:48:31 GMT):<br/>
?
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:48:40 GMT):<br/>
it's capitalized more than it's not in the example.
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:48:47 GMT):<br/>
so, I went with it.
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:50:31 GMT):<br/>
i think spec doesn't have it capitalized but looks like go took care of that?
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:51:03 GMT):<br/>
spec has btoh
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:51:07 GMT):<br/>
```
blockhash: DATA, 32 Bytes - (optional) With the addition of EIP-234 (Geth >= v1.8.13 or Parity >= v2.1.0), blockHash is a new filter option which restricts the logs returned to the single block with the 32-byte hash blockHash. Using blockHash is equivalent to fromBlock = toBlock = the block number with hash blockHash. If blockHash is present in the filter criteria, then neither fromBlock nor toBlock are allowed.
```
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:51:11 GMT):<br/>
but more blockHash
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 19:51:14 GMT):<br/>
than blockhash
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:52:59 GMT):<br/>
debug logs don't have anything unfortunately: 
```
looking for block by hash	{"method": "GetLogs"}
2019-04-08T12:52:19.863-0700	DEBUG	fab3.ethservice	fab3/ethservice.go:230	Received a request for GetBlockByNumber
2019-04-08T12:52:19.863-0700	DEBUG	fab3.ethservice	fab3/ethservice.go:232	Params are : [latest false]
2019-04-08T12:52:20.224-0700	DEBUG	fab3.ethservice	fab3/ethservice.go:285	block has transaction hash:18ec90417c244d6ffdb1273ae2635440ff02d71e949cb3ce0bb71c21ead5d5f5
2019-04-08T12:52:20.224-0700	DEBUG	fab3.ethservice	fab3/ethservice.go:313	asked for blocklatestfound block{0x16 0xa21538254a4d6dc0115619151029d24833655b401d85bbe06d6c3ba791ca1345 0xcb864f24525655384466020957c79f60d341f77da29b756fa2d7ff36b51b0133 [0x18ec90417c244d6ffdb1273ae2635440ff02d71e949cb3ce0bb71c21ead5d5f5]}
```
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 19:55:14 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=EsB2vfc4C4tCizteS) @MHBauer yea but the name of the field says blockhash. and looks like the new docs also use blockhash. either way that isn't the thing causing the error: https://github.com/ethereum/EIPs/blob/4e169dcb6e1d237c9f2e75eb347efb3c94b54f74/EIPS/eip-1474.md
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 20:07:00 GMT):<br/>
I guess, "what does geth say" 
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 20:08:19 GMT):<br/>
maddeningly inconsistent.
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 20:13:56 GMT):<br/>
geth accepts both
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 20:14:02 GMT):<br/>
but returns blockHash
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 20:14:17 GMT):<br/>
it doesn't really matter, because go seems to be handling this for us?
</p>
<p><strong>swetha</strong> (Mon, 08 Apr 2019 20:20:36 GMT):<br/>
The problem has to do with how we decode the hash and send it to the ledger. looking into what format it needs to be in
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 20:22:24 GMT):<br/>
how the heck is the test not failing?
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 20:23:57 GMT):<br/>
oh shoot, I made the proto mistake, I think.
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 20:30:23 GMT):<br/>
looks like it.
</p>
<p><strong>MHBauer</strong> (Mon, 08 Apr 2019 22:52:26 GMT):<br/>
should probably flag up pprof so we can attach the debugger if necessary
</p>
<p><strong>MHBauer</strong> (Tue, 09 Apr 2019 01:10:47 GMT):<br/>
@guoger good catch
</p>
<p><strong>MHBauer</strong> (Tue, 09 Apr 2019 01:10:51 GMT):<br/>
some furious coding later
</p>
<p><strong>MHBauer</strong> (Tue, 09 Apr 2019 01:11:00 GMT):<br/>
we fixed the huge bug
</p>
<p><strong>MHBauer</strong> (Tue, 09 Apr 2019 01:11:01 GMT):<br/>
https://gerrit.hyperledger.org/r/#/c/30755/
</p>
<p><strong>guoger</strong> (Tue, 09 Apr 2019 02:18:50 GMT):<br/>
> I don't think contracts are a part of the definition of dapp. I thought dapp was to an app and smart contract was sort of the backend. The goal here is to use terminology that ethereum users are familiar with and that they would understand they can bring these pieces pretty much unaltered. If not dapp what would be the right word?

I think Frontend is probably the closest. DApp in ethereum would include smart contracts
</p>
<p><strong>guoger</strong> (Tue, 09 Apr 2019 02:18:50 GMT):<br/>
> I don't think contracts are a part of the definition of dapp. I thought dapp was to an app and smart contract was sort of the backend. The goal here is to use terminology that ethereum users are familiar with and that they would understand they can bring these pieces pretty much unaltered. If not dapp what would be the right word?

I think Frontend is probably the closest. DApp in ethereum would include smart contracts @swetha 
</p>
<p><strong>swetha</strong> (Tue, 09 Apr 2019 02:25:37 GMT):<br/>
would web3 app work?
</p>
<p><strong>swetha</strong> (Tue, 09 Apr 2019 02:27:10 GMT):<br/>

<br/><a href="./assets/SMo6NofMjTqwth6Ym-EndToEnd.png">EndToEnd.png</a>
</p>
<p><strong>swetha</strong> (Tue, 09 Apr 2019 02:27:15 GMT):<br/>
@guoger ^^
</p>
<p><strong>guoger</strong> (Tue, 09 Apr 2019 02:27:47 GMT):<br/>
ah, that's actually better :)
</p>
<p><strong>swetha</strong> (Tue, 09 Apr 2019 02:30:21 GMT):<br/>
i like that, and i will push that up
</p>
<p><strong>MHBauer</strong> (Tue, 09 Apr 2019 02:38:38 GMT):<br/>
I'm fine with this
</p>
<p><strong>MHBauer</strong> (Tue, 09 Apr 2019 02:39:07 GMT):<br/>
@guoger the -1 is to see if you guys can +2 over it. I've never seen that 
</p>
<p><strong>guoger</strong> (Tue, 09 Apr 2019 02:39:48 GMT):<br/>
:joy: 
</p>
<p><strong>MHBauer</strong> (Wed, 10 Apr 2019 14:13:37 GMT):<br/>
looks like we have a release! https://github.com/hyperledger/fabric-chaincode-evm/releases/tag/v0.2.0
</p>
<p><strong>MHBauer</strong> (Wed, 10 Apr 2019 14:47:23 GMT):<br/>
If/when we send out an email I'd like to get people to drop suggestions for the next release in this wiki page, or a doc or something: https://wiki.hyperledger.org/display/fabric/2019-07+July+Release+Planning?src=contextnavpagetreemode
</p>
<p><strong>MHBauer</strong> (Wed, 10 Apr 2019 20:49:58 GMT):<br/>
should we schedule a retro?
</p>
<p><strong>MHBauer</strong> (Wed, 10 Apr 2019 20:50:06 GMT):<br/>
Should we schedule a release planning meeting coming up?
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 18:47:45 GMT):<br/>
lookign at jiras
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 18:47:54 GMT):<br/>
https://jira.hyperledger.org/browse/FAB-15116 is actually more interesting.
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 18:48:06 GMT):<br/>
cause go 1.10 can't generate mocks with the counterfeiter we have
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 18:48:18 GMT):<br/>
so, we should switch to some version of 1.11 
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 18:49:11 GMT):<br/>
also 1.10 is technically unsupported now.
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 18:57:37 GMT):<br/>
well, https://gerrit.hyperledger.org/r/30906 for it, we can discuss there.
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 20:42:24 GMT):<br/>
@swetha do you like/not-like/care-about the 'enable and use bold in the jenkins build-output' changes?
</p>
<p><strong>swetha</strong> (Thu, 11 Apr 2019 20:43:06 GMT):<br/>
I am indifferent. I am okay either way
</p>
<p><strong>swetha</strong> (Thu, 11 Apr 2019 20:43:14 GMT):<br/>
@MHBauer ^
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 20:59:08 GMT):<br/>
thinking I'll edit the PR myself, rebase it, etc.
</p>
<p><strong>MHBauer</strong> (Thu, 11 Apr 2019 22:46:26 GMT):<br/>
@swetha https://gerrit.hyperledger.org/r/#/c/30448/ check it
</p>
<p><strong>Akatsuki</strong> (Fri, 12 Apr 2019 03:26:33 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>guoger</strong> (Fri, 12 Apr 2019 03:50:20 GMT):<br/>
@MHBauer why are we upgrading go-sdk dep? 
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 14:52:59 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=SF5SaGjkefQ5mzcmZ) @guoger seemed like something we've been talking about doing for a while and I wanted to get that out of the way.
</p>
<p><strong>guoger</strong> (Fri, 12 Apr 2019 16:03:58 GMT):<br/>
ok, i was just wondering whether there's a specific change in new version that we want to pull in. In this case, wouldn't it be better to upgrade once sdk 1.0 is official?
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 16:53:45 GMT):<br/>
I don't have any confidence in their 1.0 meaning anything.
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 16:54:11 GMT):<br/>
it will be module based, which I don't know if is good or bad for us.
</p>
<p><strong>swetha</strong> (Fri, 12 Apr 2019 18:37:44 GMT):<br/>
i thought we wanted the new block hash code
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 19:04:49 GMT):<br/>
they don't have that, 
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 19:05:06 GMT):<br/>
there's a lot of missing stuff in the fabric files they've copied.
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 19:12:01 GMT):<br/>
and the types are still different, so we still can't use upstream
</p>
<p><strong>swetha</strong> (Fri, 12 Apr 2019 21:13:22 GMT):<br/>
oh in that case do we really gain anything from the upgrade?
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 22:33:44 GMT):<br/>
I'm not sure. We'd be at the most advanced version before switching to modules. It may be easier to upgrade in the future, but I'm not sure.
</p>
<p><strong>MHBauer</strong> (Fri, 12 Apr 2019 22:33:44 GMT):<br/>
What impact are we having with the current configuration?
</p>
<p><strong>mallikarjunasai995</strong> (Sat, 13 Apr 2019 11:38:01 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Mon, 15 Apr 2019 19:52:35 GMT):<br/>
@MHBauer , @rameshthoomu wants to switch back the third party images to use the actual images and has suggestions to keep the build time short still:
"
This is what we follow on every new fabric-baseimage release

1) When a new fabric baseimage is out.. say 0.4.16
2) Some repos are required fabric baseimages and thirdparty images.. we update this line and submit patch to ci-managment repo to cache the images https://github.com/hyperledger/ci-management/blob/master/packer/provision/docker.sh#L131
3) It depends on dependent repository owner to update the configuration files (Makefile or ci.properties files) to download latest released version.. 

If you want to automate this.. We can do this way in Makefile

curl -L https://raw.githubusercontent.com/hyperledger/fabric/master/Makefile > Makefile && BASEIMAGE_RELEASE=$(cat Makefile | grep "BASEIMAGE_RELEASE =" | awk '{print $3}')
and one more https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Makefile#L86 we don't have amd64-latest tag in hyperledger dockerhub.
you can use "latest" or specific release version from here https://hub.docker.com/r/hyperledger/fabric-javaenv/tags
"
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 19:54:51 GMT):<br/>
I don't want to manually deal with any of this, since we don't actually use the images.
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 19:55:09 GMT):<br/>
 What impact are we having with the current configuration?
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 19:55:39 GMT):<br/>
I didn't configure the existing pipeline to use latest
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 19:55:44 GMT):<br/>
and nobody should use latest.
</p>
<p><strong>rameshthoomu</strong> (Mon, 15 Apr 2019 19:55:56 GMT):<br/>
@MHBauer we can automate this as suggested above..
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 19:56:08 GMT):<br/>
I'm not responsible for the existing naming scheme either. 
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 19:57:35 GMT):<br/>
automate it in some commonly available place for everyone to use.
</p>
<p><strong>rameshthoomu</strong> (Mon, 15 Apr 2019 19:57:56 GMT):<br/>
yes..
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 19:58:16 GMT):<br/>
because I don't want to maintain it, and have it break when upstream changes some thing.
</p>
<p><strong>rameshthoomu</strong> (Mon, 15 Apr 2019 19:59:05 GMT):<br/>
ok that makes sense... Let me push change to fix these issues..
</p>
<p><strong>rameshthoomu</strong> (Mon, 15 Apr 2019 19:59:23 GMT):<br/>
will let you know the update..
</p>
<p><strong>swetha</strong> (Mon, 15 Apr 2019 19:59:42 GMT):<br/>
Thanks
</p>
<p><strong>swetha</strong> (Mon, 15 Apr 2019 22:43:22 GMT):<br/>
We are going to be having a release planning meeting for the fabric-evm. 
Thursday 8:00AM PDT
Meeting Link: https://ibm.webex.com/ibm/j.php?MTID=mf71b4c786845929feaea96f26e563765
</p>
<p><strong>swetha</strong> (Mon, 15 Apr 2019 22:43:22 GMT):<br/>
We are going to be having a release planning meeting for the fabric-evm. 
Thursday 8:00AM PDT
Meeting Link: https://ibm.webex.com/ibm/j.php?MTID=mf71b4c786845929feaea96f26e563765
Password: fabric-evm
</p>
<p><strong>swetha</strong> (Mon, 15 Apr 2019 22:43:22 GMT):<br/>
We are going to be having a release planning meeting for the fabric-evm. Thursday 8:00AM PDT

</p>
<p><strong>swetha</strong> (Mon, 15 Apr 2019 22:44:13 GMT):<br/>
I am working on getting that and more details such as dial in numbers into the community calendar. Will update with calendar event as soon as I get it.
</p>
<p><strong>swetha</strong> (Mon, 15 Apr 2019 22:45:04 GMT):<br/>
@MHBauer @guoger @lehors @cbf ^^
</p>
<p><strong>MHBauer</strong> (Mon, 15 Apr 2019 23:07:48 GMT):<br/>
@klenik ^
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:06:33 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:18:37 GMT):<br/>
Hi guys I'm new and I was having an issue with the very first step of mounting the EVM, I can't seem to update the docker-compose-cli.yaml file with the volumes in the fabric-evm-chaincode
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:18:54 GMT):<br/>

<br/><a href="./assets/o4XEGCfuQYGNXDBKj-Screen Shot 2019-04-16 at 16.18.15.png">Screen Shot 2019-04-16 at 16.18.15.png</a>
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:23:35 GMT):<br/>
@MattWilson8 why not? What error?
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:23:42 GMT):<br/>
it's a file. 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:23:46 GMT):<br/>
https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network/docker-compose-cli.yaml#L80-L85
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:24:40 GMT):<br/>
my diff looks like 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:24:51 GMT):<br/>
```
diff --git a/first-network/docker-compose-cli.yaml b/first-network/docker-compose-cli.yaml
index a18bbc2..e295d0d 100644
--- a/first-network/docker-compose-cli.yaml
+++ b/first-network/docker-compose-cli.yaml
@@ -80,6 +80,7 @@ services:
     volumes:
         - /var/run/:/host/var/run/
         - ./../chaincode/:/opt/gopath/src/github.com/chaincode
+        - ./../../fabric-chaincode-evm/:/opt/gopath/src/github.com/hyperledger/fabric-chaincode-evm/
         - ./crypto-config:/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/
         - ./scripts:/opt/gopath/src/github.com/hyperledger/fabric/peer/scripts/
         - ./channel-artifacts:/opt/gopath/src/github.com/hyperledger/fabric/peer/channel-artifacts
```
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:38:54 GMT):<br/>
Well for one I'm not entirely sure which repo/directory I'm meant to copy the command into, I'll send a screenshot of what happens when I try to 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:39:49 GMT):<br/>

<br/><a href="./assets/KckveJtS3CmokjhER-Screen Shot 2019-04-16 at 16.40.24.png">Screen Shot 2019-04-16 at 16.40.24.png</a>
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:40:35 GMT):<br/>
Sorry if I'm being oblivious, any help would be appreciated 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:42:32 GMT):<br/>
okay, what are you reading?
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:42:35 GMT):<br/>
where is it?
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:42:44 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md#build-and-start-the-evm
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:43:04 GMT):<br/>
it looks like you have the file, and you're in the right directory from that screenshot
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:43:09 GMT):<br/>
Following this video as well https://www.youtube.com/watch?v=VbdJVu8bTaw
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:43:33 GMT):<br/>
so, now edit the file
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:44:36 GMT):<br/>
Ahh now I get it 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:44:54 GMT):<br/>
Thank you 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:46:04 GMT):<br/>
a really quick skim of that, doesn't look like it's done in the video, b
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 15:46:48 GMT):<br/>
Yea he just jump cuts and leaves that bit out 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:51:46 GMT):<br/>
I'm sure there's other recordings, but not sure any of them have that in it
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 15:52:05 GMT):<br/>
maybe some time we can make one
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:09:32 GMT):<br/>
Hi again, I tried to instantiate the chaincode on my channel and got this error
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:09:44 GMT):<br/>

<br/><a href="./assets/FKjMh4zR7XXMPMcKh-Screen Shot 2019-04-16 at 17.08.44.png">Screen Shot 2019-04-16 at 17.08.44.png</a>
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:10:20 GMT):<br/>
This is from the same tutorial page as previously mentioned
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:12:51 GMT):<br/>
what are you running on?
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:14:07 GMT):<br/>
that's an avx instruction.
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:14:14 GMT):<br/>
Mac terminal
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:15:31 GMT):<br/>
well, unless you're using a computer from 2006, I can't see why that would happen.
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:16:05 GMT):<br/>
If you could paste the three lines of errors it would help me paste it into google and see what's up
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:16:42 GMT):<br/>
Error: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 "# github.com/hyperledger/fabric-chaincode-evm/vendor/github.com/tmthrgd/go-hex
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s:66: unrecognized instruction "VPCMPGTB"
chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s:68: unrecognized instruction "VPCMPGTB"
asm: assembly of chaincode/input/src/github.com/hyperledger/fabric-chaincode-evm/vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s failed"
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:20:31 GMT):<br/>
nope, I got nothing. some hits for other instructions, but it's possible in our dependencies somewhere it's broken
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:20:46 GMT):<br/>
It looks like your version of the fabric-chaincode-evm isnt compiling 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:21:35 GMT):<br/>
https://github.com/hyperledger/burrow/issues/905 is the closest thing I could find, and again, only triggered by running on an old computer.
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:21:49 GMT):<br/>
risky question, but how old is this mac?
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:22:10 GMT):<br/>
2015 version 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:22:40 GMT):<br/>
Macbook Pro
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:23:13 GMT):<br/>
ya, should be fine, that's @swetha 's machine.
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:26:07 GMT):<br/>
I'm basically trying to run EVM smart contracts in hyperledger fabric for the purpose of benchmarking them, using the Caliper tool. I tired using the IBM cloud tutorial where you create a cluster but in that example the kubernetes version doesn't support docker anymore so you can't instantiate the chaincode 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:26:34 GMT):<br/>
I don't know if any of you are familiar with that example
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:27:15 GMT):<br/>
Have you altered the fabric chaincode evm code? 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:28:18 GMT):<br/>
No I haven't altered any code 
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:28:20 GMT):<br/>
And whi he repo are you using for the cloud tutorial? I maintain one of them. We have a solution to docker but requires a 2 step process
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:30:05 GMT):<br/>
https://github.com/swetharepakula/fabric-evm-ibm-container-service/
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:30:28 GMT):<br/>
That one, which i assume is yours?
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:30:41 GMT):<br/>
Yes, that is mine
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:30:53 GMT):<br/>
There is a branch there that is `dind`
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:31:10 GMT):<br/>
that is meant to solve the problem that iks no longer uses docker
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:31:39 GMT):<br/>
but instantiating will still fail after about 20-30 min and then you have to re run the instantiation for the network to work
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:31:56 GMT):<br/>
I haven't figured out how to improve that
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:32:06 GMT):<br/>
But lets try to solve your current issue
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:32:32 GMT):<br/>
Right ok
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:32:55 GMT):<br/>
Just so I understand what you are doing, you are using a modified version of this file: https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network/docker-compose-cli.yaml?
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:33:32 GMT):<br/>
Yes I modified it with cli:
    volumes:
      - ./../../fabric-chaincode-evm:/opt/gopath/src/github.com/hyperledger/fabric-chaincode-evm
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:33:42 GMT):<br/>
As stated in the tutorial 
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:34:28 GMT):<br/>
and you are using Fabric 1.4?
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:34:45 GMT):<br/>
Not sure
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:34:52 GMT):<br/>
Is there a quick way to check that?
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:35:32 GMT):<br/>
if you run `docker images` you should be able to see what you have downloaded
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:36:35 GMT):<br/>
Right no I'm not 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:36:48 GMT):<br/>
Theres a lot of files but it looks like I'm using 1.2
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:37:49 GMT):<br/>
Hmm, okay. It should still work with 1.2 but perhaps there is something we added that doesn't
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:38:36 GMT):<br/>
outside of the cli container, can you run `make build` in the `fabric-chaincode-evm` repository? 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:39:07 GMT):<br/>

<br/><a href="./assets/2zx9qCpLdywJzxhcc-Screen Shot 2019-04-16 at 17.38.46.png">Screen Shot 2019-04-16 at 17.38.46.png</a>
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:39:15 GMT):<br/>
Thats my docker images and I will try to run that now 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:39:16 GMT):<br/>
oh, what version of go is 1.2 compiled with?
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:39:33 GMT):<br/>
you know what, nah
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:39:41 GMT):<br/>
that should have been supported for years.
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:39:43 GMT):<br/>
Our go requirement should only affect fab3
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:40:57 GMT):<br/>
nope, I'm wrong
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:40:58 GMT):<br/>
```
```
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:41:01 GMT):<br/>
‚ûú  evmcc git:(master) ‚úó go version
go version go1.9.7 linux/amd64
‚ûú  evmcc git:(master) ‚úó pwd     
/home/mhb/go/src/github.com/hyperledger/fabric-chaincode-evm/evmcc
‚ûú  evmcc git:(master) ‚úó go build
# github.com/hyperledger/fabric-chaincode-evm/vendor/github.com/tmthrgd/go-hex
../vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s:66: unrecognized instruction "VPCMPGTB"
../vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s:68: unrecognized instruction "VPCMPGTB"
asm: assembly of ../vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s failed
```
```
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:41:01 GMT):<br/>
```
‚ûú  evmcc git:(master) ‚úó go version
go version go1.9.7 linux/amd64
‚ûú  evmcc git:(master) ‚úó pwd     
/home/mhb/go/src/github.com/hyperledger/fabric-chaincode-evm/evmcc
‚ûú  evmcc git:(master) ‚úó go build
# github.com/hyperledger/fabric-chaincode-evm/vendor/github.com/tmthrgd/go-hex
../vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s:66: unrecognized instruction "VPCMPGTB"
../vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s:68: unrecognized instruction "VPCMPGTB"
asm: assembly of ../vendor/github.com/tmthrgd/go-hex/hex_decode_amd64.s failed
```
```
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:41:28 GMT):<br/>
running the make build now 
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:41:31 GMT):<br/>
that's evmcc deps, swetha.
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:41:50 GMT):<br/>
So we need at least 1.10 for evmcc as well
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:41:53 GMT):<br/>
so, yea, if 1.2 is based on go 1.19
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:42:00 GMT):<br/>
1.9*, then it won't work.
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:42:02 GMT):<br/>

<br/><a href="./assets/mBq8dFdXmbB3mDChm-Screen Shot 2019-04-16 at 17.42.38.png">Screen Shot 2019-04-16 at 17.42.38.png</a>
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:42:17 GMT):<br/>
Okay so I think Morgan figured out the issue
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:42:20 GMT):<br/>
dang I hate go.
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:42:32 GMT):<br/>
The peer version of 1.2 doesn't have a go version that supports the evmcc
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:42:35 GMT):<br/>
yea, need to up to 1.3 or 1.4
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:42:41 GMT):<br/>
You need to upgrade your fabric images
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:42:47 GMT):<br/>
how would i do that?
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:42:56 GMT):<br/>
good job guys, we figured it out!
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:43:14 GMT):<br/>
Thanks so much I would've been lost without you both!
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:43:35 GMT):<br/>
while the go-hex guy was amenable to supporting pentium 4s, I don't think he'll care about supporting go 1.9
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:43:44 GMT):<br/>
 ¬Ø\_(„ÉÑ)_/¬Ø
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:43:45 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/latest/install.html
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 16:44:04 GMT):<br/>
coffee break time
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:44:34 GMT):<br/>
Try `curl -sSL http://bit.ly/2ysbOFE | bash -s -- 1.4.0 1.4.0 0.4.15`. This should download the 1.4.0 version of all the images
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:44:54 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/release-1.4/install.html
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:46:04 GMT):<br/>
Ok wil do 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:46:10 GMT):<br/>
Thanks again
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:48:52 GMT):<br/>
Ok so now I've downloaded the right fabric version I should be able to run the "fabric-chaincode-evm" tutorial again with more success 
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:49:55 GMT):<br/>
I'll keep you guys updated just because the library I'm at closes in 15 mins and I need to go home and have dinner etc 
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:52:05 GMT):<br/>
No problem
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:52:35 GMT):<br/>
We ran a workshop at HGF: https://www.youtube.com/watch?v=N_ulmO2-xZQ
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:53:15 GMT):<br/>
That is another resource that might help you
</p>
<p><strong>MattWilson8</strong> (Tue, 16 Apr 2019 16:55:39 GMT):<br/>
Will give it a watch thanks! 
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 16:57:38 GMT):<br/>
np!
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 17:11:01 GMT):<br/>
we should link that video in the reamde
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 17:11:12 GMT):<br/>
that's an official vedo
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:16:58 GMT):<br/>
oh that's true
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:18:05 GMT):<br/>
For those interested we are planning on having a release planning meeting for the Fabric EVM tomorrow.  The event is on the community calendar.
[Calendar Details] (https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW0gc3JlcGFrdUB1cy5pYm0uY29t&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tYThlMWY1MDRhMjNmMjRiNjFjZjg5Y2UwOWE4ZDM2Y2IwMjJhZWUwZg&ctz=America/Los_Angeles&hl=en&es=0)
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:18:05 GMT):<br/>
For those interested we are planning on having a release planning meeting for the Fabric EVM tomorrow.  The event is on the community calendar.
[Calendar Details](https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW0gc3JlcGFrdUB1cy5pYm0uY29t&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tYThlMWY1MDRhMjNmMjRiNjFjZjg5Y2UwOWE4ZDM2Y2IwMjJhZWUwZg&ctz=America/Los_Angeles&hl=en&es=0)
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:18:05 GMT):<br/>
For those interested we are planning on having a release planning meeting for the Fabric EVM tomorrow.  The [event](https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW0gc3JlcGFrdUB1cy5pYm0uY29t&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tYThlMWY1MDRhMjNmMjRiNjFjZjg5Y2UwOWE4ZDM2Y2IwMjJhZWUwZg&ctz=America/Los_Angeles&hl=en&es=0)) is on the community calendar.
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:18:05 GMT):<br/>
For those interested we are planning on having a release planning meeting for the Fabric EVM tomorrow.  The [event](https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW0gc3JlcGFrdUB1cy5pYm0uY29t&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tYThlMWY1MDRhMjNmMjRiNjFjZjg5Y2UwOWE4ZDM2Y2IwMjJhZWUwZg&ctz=America/Los_Angeles&hl=en&es=0) is on the community calendar.
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:18:05 GMT):<br/>
For those interested we are planning on having a release planning meeting for the Fabric EVM tomorrow.  The [event](https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW0gc3JlcGFrdUB1cy5pYm0uY29t&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tYThlMWY1MDRhMjNmMjRiNjFjZjg5Y2UwOWE4ZDM2Y2IwMjJhZWUwZg&ctz=America/Los_Angeles&hl=en&es=0) is on the community calendar.
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:18:05 GMT):<br/>
For those interested we are planning on having a release planning meeting for the Fabric EVM tomorrow.  The [event](https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW0gc3JlcGFrdUB1cy5pYm0uY29t&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tYThlMWY1MDRhMjNmMjRiNjFjZjg5Y2UwOWE4ZDM2Y2IwMjJhZWUwZg&ctz=America/Los_Angeles&hl=en&es=0) is on the community calendar.
</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 17:20:52 GMT):<br/>
@swetha do you have power here? I have no special rocket-chat perms
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:29:31 GMT):<br/>
I don't think I have power, but what were you thinking? I can try
</p>
<p><strong>swetha</strong> (Tue, 16 Apr 2019 17:30:06 GMT):<br/>

</p>
<p><strong>MHBauer</strong> (Tue, 16 Apr 2019 17:47:27 GMT):<br/>
YOU HAVE THE POWAH!
</p>
<p><strong>fastchain</strong> (Wed, 17 Apr 2019 03:45:11 GMT):<br/>
Hello!   Is there any  roadmap for a fab3 proxy development?  Is there a milestone for a compatibility with web3(j,js,py) client library ?   Thank you/
</p>
<p><strong>cbf</strong> (Wed, 17 Apr 2019 12:49:22 GMT):<br/>
there is a call today at 11 am ET Event URL: https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW0gc3JlcGFrdUB1cy5pYm0uY29t&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tYThlMWY1MDRhMjNmMjRiNjFjZjg5Y2UwOWE4ZDM2Y2IwMjJhZWUwZg&ctz=America/Los_Angeles&hl=en&es=0
</p>
<p><strong>guoger</strong> (Wed, 17 Apr 2019 15:03:21 GMT):<br/>
@here evm release plan meeting starts: https://zoom.us/j/6223336701 
</p>
<p><strong>swetha</strong> (Wed, 17 Apr 2019 15:58:45 GMT):<br/>
From the discussion in the EVM call:
our repo: https://github.com/hyperledger/fabric-chaincode-evm
workshop: https://youtu.be/N_ulmO2-xZQ & https://youtu.be/W4HHeM61CbY
</p>
<p><strong>cbf</strong> (Wed, 17 Apr 2019 16:21:51 GMT):<br/>
posted the recording on the meeting page
</p>
<p><strong>MHBauer</strong> (Wed, 17 Apr 2019 16:21:53 GMT):<br/>
@swetha thanks for arranging the call!
</p>
<p><strong>MHBauer</strong> (Wed, 17 Apr 2019 16:22:02 GMT):<br/>
@cbf thanks for recording and posting!
</p>
<p><strong>cbf</strong> (Wed, 17 Apr 2019 16:22:10 GMT):<br/>
yep
</p>
<p><strong>swetha</strong> (Wed, 17 Apr 2019 22:03:13 GMT):<br/>
We will be having a monthly meeting to discuss the Fabric EVM: https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW1fUjIwMTkwNTE1VDE1MDAwMCBzcmVwYWt1QHVzLmlibS5jb20&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tMWRmZWExNTRmZTg0MTNlZjU5YTczMDAxNWYwZjc1NTVlMDk0MjY2NA&ctz=America/Los_Angeles&hl=en&es=0
</p>
<p><strong>swetha</strong> (Wed, 17 Apr 2019 22:03:13 GMT):<br/>
We will be having a monthly meeting to discuss the Fabric EVM: https://calendar.google.com/calendar/event?action=VIEW&eid=NHAwNjJlaXNnc2I3Zmg4OXYyanY3cDlpcW1fUjIwMTkwNTE1VDE1MDAwMCBzcmVwYWt1QHVzLmlibS5jb20&tok=NzIjbGludXhmb3VuZGF0aW9uLm9yZ19uZjl1NjRnOWs5cnZkOWY4dnA0dnVyMjNiMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29tMWRmZWExNTRmZTg0MTNlZjU5YTczMDAxNWYwZjc1NTVlMDk0MjY2NA&ctz=America/Los_Angeles&hl=en&es=0
</p>
<p><strong>swetha</strong> (Wed, 17 Apr 2019 22:03:18 GMT):<br/>

</p>
<p><strong>Pradeep_Pentakota</strong> (Thu, 18 Apr 2019 01:46:40 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=8XwodSaRKDXt4zCY3) @swetha Thanks @swetha For the link
</p>
<p><strong>fastchain</strong> (Thu, 18 Apr 2019 04:39:23 GMT):<br/>
@cbf  Thank you for a link! Unfortunately I was not able to attend due time difference. Could you please share a link to th page with a recording? Thank you.


</p>
<p><strong>fastchain</strong> (Thu, 18 Apr 2019 04:48:19 GMT):<br/>
Dear all, could you please explain how can I  use few addresses to interact with  contract on the channel?  Manual says "However we do have a mechanism to generate a user account address from the user's public key. " Since I'm working with standart(by manuals)  docker setup with few nodes and few organisations, what exactly 'user's public key' means. Is it a key of the node, or something different? Thank you.
</p>
<p><strong>fastchain</strong> (Thu, 18 Apr 2019 04:48:19 GMT):<br/>
Dear all, is it possible to swith between orgnisation users  in fab3_proxy without restart?
</p>
<p><strong>fastchain</strong> (Thu, 18 Apr 2019 04:48:19 GMT):<br/>
Dear all, is it possible to switch between orgnisation's users  in fab3_proxy without restart?
</p>
<p><strong>MHBauer</strong> (Thu, 18 Apr 2019 13:25:48 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=dZqFvupu8mDjnrnkS) @fastchain https://wiki.hyperledger.org/display/fabric/2019-07+July+Release+Planning contains meeting data and the recording
</p>
<p><strong>MHBauer</strong> (Thu, 18 Apr 2019 13:26:50 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=QHcEsRFD7a7F8DtyS) @fastchain no. although multiple instances can run at the same time
</p>
<p><strong>MHBauer</strong> (Thu, 18 Apr 2019 17:17:47 GMT):<br/>
 I updated the meeting page with notes from during the meeting: https://wiki.hyperledger.org/display/fabric/2019-07+July+Release+Planning

 

</p>
<p><strong>MHBauer</strong> (Fri, 19 Apr 2019 02:16:14 GMT):<br/>
rebasing https://gerrit.hyperledger.org/r/#/c/29149/ soon
</p>
<p><strong>fastchain</strong> (Fri, 19 Apr 2019 03:04:18 GMT):<br/>
@MHBauer  Thank you for this links. 
Right now I'm figuring out how to use fabric-evm to speed up state transitions in contracts for local groups (advanced state channels). 
fabric-evm looks like best available option to achieve this. But there is som lack of APIs, which I'm developing by myself.
 Since you have "Truffle support" and "web3.py" in your  plans may be we can collaborate somehow? I can push commits for review.
</p>
<p><strong>MHBauer</strong> (Fri, 19 Apr 2019 04:02:59 GMT):<br/>
I don't understand, but communication channels are open here if you have some ideas. We'd want to make sure we're all on the same page before you start working.
</p>
<p><strong>fastchain</strong> (Fri, 19 Apr 2019 05:53:36 GMT):<br/>
@MHBauer 

> We'd want to make sure we're all on the same page before you start working.
How can I help with this?


>I don't understand, but communication channels are open here if you have some ideas.
what exactly should be explained?

</p>
<p><strong>guoger</strong> (Fri, 19 Apr 2019 07:17:51 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=PSR6Knce8nCgCLXbW) @fastchain I cannot understand this either... in particular, i'd appreciate if you could elaborate on:
- state transition
- local groups (advanced state channel)
- lack of APIs
(obviously all in the context of fabric and evm chaincode)
</p>
<p><strong>Khaled.MH</strong> (Fri, 19 Apr 2019 10:57:01 GMT):<br/>
Hello , when i try to deploy two smart contracts and make interactions between both of them, using import i find that the "import" option not yet implemented ! 
</p>
<p><strong>fastchain</strong> (Fri, 19 Apr 2019 11:12:10 GMT):<br/>
@guoger 
"state transition" - many transactions. For example: we have ERC20 contract where few holders(from 2 to 10) create  too much transactions (it means main chain can't handle needed tnx/s rate) of operations between each other. So they can setup there's own HL network, transfer tokens with bridge service ( interledger or swaps), process transactions with acceptable speed and then  write the  final  settlement on the  mainchain  (using same bridges).

 "local groups" - group of token holders who needs speedy transactions. 

"lack of APIs" -  when I try to send transactions with web3py, it tries to read block Gas Limit (to check if transaction acceptable ), but there is no such field in GetBlock API, so I have to patch  fab3proxy to make it work.  Truffle also doesn't  work "from the box".  (what's happen there I've not researched yet,  I can't  debug JS fast ) and so on 
</p>
<p><strong>fastchain</strong> (Fri, 19 Apr 2019 11:12:10 GMT):<br/>
@guoger 
"state transition" - many transactions. For example: we have ERC20 contract where few holders(from 2 to 10) create  too much transactions (it means main chain can't handle needed tnx/s rate) between each other. So they can setup there's own HL network, transfer tokens with bridge service ( interledger or swaps), process transactions with acceptable speed and then  write the  final  settlement on the  mainchain  (using same bridges).

 "local groups" - group of token holders who needs speedy transactions. 

"lack of APIs" -  when I try to send transactions with web3py, it tries to read block Gas Limit (to check if transaction acceptable ), but there is no such field in GetBlock API, so I have to patch  fab3proxy to make it work.  Truffle also doesn't  work "from the box".  (what's happen there I've not researched yet,  I can't  debug JS fast ) and so on 
</p>
<p><strong>fastchain</strong> (Fri, 19 Apr 2019 11:12:10 GMT):<br/>
@guoger 
"state transition" - many transactions. For example: we have ERC20 contract where few holders(from 2 to 10) create  too much transactions (it means main chain can't handle needed tnx/s rate) between each other. So they can setup there's own HL network, transfer tokens with bridge service ( interledger or swaps), process transactions with acceptable speed and then  write the  final  settlement on the  mainchain  (using same bridges) . By main chain I mean main Ethereum chain with POW 

 "local groups" - group of token holders who needs speedy transactions. 

"lack of APIs" -  when I try to send transactions with web3py, it tries to read block Gas Limit (to check if transaction acceptable ), but there is no such field in GetBlock API, so I have to patch  fab3proxy to make it work.  Truffle also doesn't  work "from the box".  (what's happen there I've not researched yet,  I can't  debug JS fast ) and so on 
</p>
<p><strong>MHBauer</strong> (Fri, 19 Apr 2019 15:29:35 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=KxbuDepSF2KyMh4pp) @Khaled.MH I am not familiar with import, is that an opcode?
</p>
<p><strong>Khaled.MH</strong> (Fri, 19 Apr 2019 16:31:25 GMT):<br/>
@MHBauer import it's an option to interact a second smart contract  import "SecondSmartContract.sol"
import statements that are very similar to those available in JavaScript 
</p>
<p><strong>MHBauer</strong> (Fri, 19 Apr 2019 16:34:30 GMT):<br/>
@fastchain 
1.  ERC20 should work. I'm not aware of the txn rate limits based on how the contracts are written. Fabric should go as fast as consensus occurs, which isn't POW based.
2. 
3. 
</p>
<p><strong>MHBauer</strong> (Fri, 19 Apr 2019 16:34:30 GMT):<br/>
@fastchain 
1.  ERC20 should work. I'm not aware of the txn rate limits based on how the contracts are written. Fabric should go as fast as consensus occurs, which isn't POW based.
2. neat
3. we have blockbynumber. it'd be nice to hear about the apis you need so we can press forward and maybe integrate some of your work. truffle support is a current goal, we're not 100% there yet. 
</p>
<p><strong>swetha</strong> (Fri, 19 Apr 2019 19:30:24 GMT):<br/>
@fastchain We don't have truffle support yet as @MHBauer said. We are working towards that. In regards to GetBlock, can you look at this jira I have created for your issue https://jira.hyperledger.org/browse/FAB-15233. Please attach logs and relevant code bits from web3.py that you think are relevant. If you have a fix you would like to submit please submit under this Jira, we would love the help!
</p>
<p><strong>swetha</strong> (Fri, 19 Apr 2019 19:30:24 GMT):<br/>
@fastchain We don't have truffle support yet as @MHBauer said. We are working towards that and have JIRAs open outlining what needs to be added to get that support. In regards to GetBlock, can you look at this jira I have created for your issue https://jira.hyperledger.org/browse/FAB-15233. Please attach logs and relevant code bits from web3.py that you think are relevant. If you have a fix you would like to submit please submit under this Jira, we would love the help!
</p>
<p><strong>swetha</strong> (Fri, 19 Apr 2019 19:33:00 GMT):<br/>
@Khaled.MH Import should work. We have tested previously. It is a solidity concept and the compiler should be dealing with the import. Fab3/EVMCC only deal with the compiled bytecode. Can you send us the sample code and a way to reproduce the error? If possible it would be great if you can open a JIRA: https://jira.hyperledger.org/projects/FAB/issues/FAB-11237?filter=allopenissues with all that information
</p>
<p><strong>PallabPaul</strong> (Mon, 22 Apr 2019 03:47:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fastchain</strong> (Mon, 22 Apr 2019 08:49:54 GMT):<br/>
@swetha  hello! since I can't comment https://jira.hyperledger.org/browse/FAB-1523 (I don't have an account), how can  submit a comments? Is it OK to use github issues? 
</p>
<p><strong>swetha</strong> (Mon, 22 Apr 2019 15:42:21 GMT):<br/>
@fastchain, We don't use Github issues. They will be automatically closed if opened. For Jira you need a linux foundation account. If you already have one you can use that to login 
</p>
<p><strong>swetha</strong> (Mon, 22 Apr 2019 15:43:40 GMT):<br/>
You will need a Linux Foundation ID to submit changes and PRs
</p>
<p><strong>guoger</strong> (Mon, 22 Apr 2019 15:56:07 GMT):<br/>
> "state transition" - many transactions. For example: we have ERC20 contract where few holders(from 2 to 10) create too much transactions (it means main chain can't handle needed tnx/s rate) between each other. So they can setup there's own HL network, transfer tokens with bridge service ( interledger or swaps), process transactions with acceptable speed and then write the final settlement on the mainchain (using same bridges) . By main chain I mean main Ethereum chain with POW 
lightning network of some sort, implemented with Fabric?
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 05:13:19 GMT):<br/>
@guoger  hi! not lightning yet (but it's also possible), but more like interledger
</p>
<p><strong>AkilaVasanthakumar</strong> (Tue, 23 Apr 2019 06:01:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 08:46:13 GMT):<br/>
@swetha  hello!
It looks there is a bug in response on eth_gettransactionreceipt


POST / HTTP/1.1
Host: 127.0.0.1:5000
User-Agent: python-requests/2.21.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Type: application/json
Content-Length: 148

{"jsonrpc": "2.0", "method": "eth_getTransactionReceipt", "params": ["0x29e61ce83fda0e791744050b305876b67b9a810440acfe7c0b3e12b93466f44c"], "id": 7}HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
X-Content-Type-Options: nosniff
Date: Tue, 23 Apr 2019 08:38:31 GMT
Content-Length: 383

{"jsonrpc":"2.0","result":{"transactionHash":"0x29e61ce83fda0e791744050b305876b67b9a810440acfe7c0b3e12b93466f44c","transactionIndex":"0x0","blockHash":"0xf157191f07683ceaccda1d4f40daa0f4bcd9a835137c4c9dad9285d357620a02","blockNumber":"0x24b","contractAddress":"","gasUsed":0,"cumulativeGasUsed":0,"to":"0x734138f6316c9eE4662A1FC562d20dbb3cd848fb","logs":null,"status":"0x1"},"id":7}

accrording to 
https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_gettransactionreceipt

contractAddress should be null if not created (as logs in this example). 

</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 08:46:13 GMT):<br/>
@swetha  hello!
It looks like there is a bug in response on eth_gettransactionreceipt


POST / HTTP/1.1
Host: 127.0.0.1:5000
User-Agent: python-requests/2.21.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Type: application/json
Content-Length: 148

{"jsonrpc": "2.0", "method": "eth_getTransactionReceipt", "params": ["0x29e61ce83fda0e791744050b305876b67b9a810440acfe7c0b3e12b93466f44c"], "id": 7}HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
X-Content-Type-Options: nosniff
Date: Tue, 23 Apr 2019 08:38:31 GMT
Content-Length: 383

{"jsonrpc":"2.0","result":{"transactionHash":"0x29e61ce83fda0e791744050b305876b67b9a810440acfe7c0b3e12b93466f44c","transactionIndex":"0x0","blockHash":"0xf157191f07683ceaccda1d4f40daa0f4bcd9a835137c4c9dad9285d357620a02","blockNumber":"0x24b","contractAddress":"","gasUsed":0,"cumulativeGasUsed":0,"to":"0x734138f6316c9eE4662A1FC562d20dbb3cd848fb","logs":null,"status":"0x1"},"id":7}

accrording to 
https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_gettransactionreceipt

contractAddress should be null if not created (as logs in this example). 

</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 09:20:25 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 09:24:59 GMT):<br/>
hi i'm using the evm with fabric and trying to interact with deployed smart contracts using the web3 library i just built a very simple smart contract with a feature to return the sender's address like that 
   function test() view public returns(address){
       return msg.sender;
   }
it's working fine but what i don't understand is the address i'm getting in return i never set that address and i don't know from where it's coming can anyone explain that to me and how i can change that address to set addresses i know and want to receive transactions from  
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 09:38:02 GMT):<br/>
@ahmedahmed  are you calling test() method or sendiing transaction?
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 09:39:05 GMT):<br/>
could you please show sa JS code
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 09:48:40 GMT):<br/>
@swetha  unfortunately I don't have a linux foundation account. And I don't know how to get.
@MHBauer 
About web3py: I've created small routing proxy, to solve two problems:
1. Support of multiple accounts in one web3py instance. (the cluster of fab3 proxies is transparent for a client script)
2. To  fix easely  bugs in fab3 RPC without changing fab3proxy code (since I have no access anyway) .

https://github.com/fastchain/fabric-chaincode-evm/blob/web3py/fab3/fab3_tooling/fab3py/router.py

</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 09:48:40 GMT):<br/>
@MHBauer  @swetha  unfortunately I don't have a linux foundation account. And I don't know how to get.

About web3py: I've created small routing proxy, to solve two problems:
1. Support of multiple accounts in one web3py instance. (the cluster of fab3 proxies is transparent for a client script)
2. To  fix easely  bugs in fab3 RPC without changing fab3proxy code (since I have no access anyway) .

https://github.com/fastchain/fabric-chaincode-evm/blob/web3py/fab3/fab3_tooling/fab3py/router.py

</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 09:50:41 GMT):<br/>
here is my code in the js 
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 09:50:43 GMT):<br/>
router.get('/test',function (req, res, next) {
	var web3 = new Web3();
	web3.setProvider(new web3.providers.HttpProvider("http://192.168.247.129:5000"));
	web3.eth.defaultAccount ='0xf6209a59e758c23c7fc24ddf8ee049d9f92d72a8';
	console.log(web3.eth.defaultAccount);
	var LoyaltyContract = web3.eth.contract(static.abiPerscription);
    myContract = LoyaltyContract.at(static.scAccess);
    var idsList = myContract.test();
	res.json(idsList);
});

</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 09:51:28 GMT):<br/>
as you can see i set the web3.eth.defaultAccount ='0xf6209a59e758c23c7fc24ddf8ee049d9f92d72a8';
but the return result is always 0xa811ae82a805a8fd1eaa153449084e80dafdbb55
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 09:52:04 GMT):<br/>
what is the output of web3.eth.listAccounts() ?
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 09:52:04 GMT):<br/>
@ahmedahmed 
what is the output of web3.eth.listAccounts() ?

try to define the caller: myContract.test().call({from: web3.eth.defaultAccount}
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 09:59:55 GMT):<br/>
i did this 
   mySmartContract.methods.test().call({from:web3.eth.defaultAccount}, (error, result) => {
        if(error)
        res.json("error");
        else
        res.json(result);
    });
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 10:00:02 GMT):<br/>
but i get that error 
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 10:00:14 GMT):<br/>
Given address &quot;&quot; is not a valid Ethereum address
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 10:01:17 GMT):<br/>
no idea why i even tried to pass a static one and i got the same error  
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 10:02:06 GMT):<br/>
and web3.eth.listAccounts() wasn't recognized as a function 
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 10:07:58 GMT):<br/>
try this web3.eth.accounts
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 10:14:29 GMT):<br/>

<br/><a href="./assets/wBy2Bv6JEfTpEsDNK-Clipboard - April 23, 2019 12:14 PM">Clipboard - April 23, 2019 12:14 PM</a>
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 10:14:47 GMT):<br/>

<br/><a href="./assets/M6qZSTBLpMbFJRvjW-Clipboard - April 23, 2019 12:14 PM">Clipboard - April 23, 2019 12:14 PM</a>
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 11:03:18 GMT):<br/>
i think that i need to create the new account this way before using it : web3.eth.personal.newAccount(password, [callback])

</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 11:04:35 GMT):<br/>
but still i have this error 
UnhandledPromiseRejectionWarning: Error: Node error: {"code":-32000,"message":"rpc: can't find service \"personal.NewAccount\"","data":null}
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 11:04:47 GMT):<br/>
any idea why ?
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 11:34:26 GMT):<br/>
@ahmedahmed 

it's not implemented
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Fab3_Instructions.md
</p>
<p><strong>fastchain</strong> (Tue, 23 Apr 2019 11:35:31 GMT):<br/>
the only available key is deriveted from the user's certificate (private part) which is generated for hyperledger network  
</p>
<p><strong>silliman</strong> (Tue, 23 Apr 2019 14:26:54 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>silliman</strong> (Tue, 23 Apr 2019 14:26:59 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>ahmedahmed</strong> (Tue, 23 Apr 2019 15:33:01 GMT):<br/>
do you have a document that includes all the solidity implemented features so that i can know which ones are to use and which to avoid 
please 
</p>
<p><strong>MHBauer</strong> (Tue, 23 Apr 2019 15:45:21 GMT):<br/>
@fastchain this links to the information to make a linuxfoundation account https://hyperledger-fabric.readthedocs.io/en/release-1.4/Gerrit/lf-account.html#creating-a-linux-foundation-id
what's needed to sign in to rocket chat? I use a lf account I think, but I suppose it could only be email
</p>
<p><strong>MHBauer</strong> (Tue, 23 Apr 2019 15:45:32 GMT):<br/>
oh whoa, I'm way behind
</p>
<p><strong>MHBauer</strong> (Tue, 23 Apr 2019 15:48:04 GMT):<br/>
@ahmedahmed details in https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Fab3_Instructions.md#eth_accounts should explain the details behind accounts.
</p>
<p><strong>MHBauer</strong> (Tue, 23 Apr 2019 15:48:47 GMT):<br/>
the short version is, the account is generated from the fabric keys, and there's no way to give an account as an argument. 
</p>
<p><strong>fastchain</strong> (Wed, 24 Apr 2019 05:42:17 GMT):<br/>
@MHBauer  Thank you!
</p>
<p><strong>fastchain</strong> (Wed, 24 Apr 2019 05:44:26 GMT):<br/>
@guoger  @MHBauer @swetha  
Hello!
I have a contract which can create different contract, and when I'm calling contract creation method I recieve this:
POST / HTTP/1.1
Host: 127.0.0.1:5000
User-Agent: python-requests/2.21.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Type: application/json
Content-Length: 249

{"jsonrpc": "2.0", "id": 34, "method": "eth_call", "params": [{"from": "0xBa3e5697A84905B7A34A3855F7E609196878F46B", "gas": "0x3d0900", "gasPrice": "0x174876e800", "to": "0x40b5ee1c640509ec975c651b41993e2183df11ae", "data": "0xa1ee8c78"}, "latest"]}HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
X-Content-Type-Options: nosniff
Date: Wed, 24 Apr 2019 05:40:15 GMT
Content-Length: 459

{"jsonrpc":"2.0","error":{"code":-32000,"message":"Failed to query the ledger: Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: Account/contract 40B5EE1C640509EC975C651B41993E2183DF11AE does not have permission createContract\nStack trace: [state.go:97 vm.go:105 vm.go:748 vm.go:167 vm.go:141 evmcc.go:165 handler.go:273 asm_amd64.s:2361]","data":null},"id":34}

</p>
<p><strong>fastchain</strong> (Wed, 24 Apr 2019 05:44:26 GMT):<br/>
@guoger  @MHBauer @swetha  
Hello!
I have a contract which can create different contract, and when I'm calling contract creation method I get this:

-----
POST / HTTP/1.1
Host: 127.0.0.1:5000
User-Agent: python-requests/2.21.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Type: application/json
Content-Length: 249

{"jsonrpc": "2.0", "id": 34, "method": "eth_call", "params": [{"from": "0xBa3e5697A84905B7A34A3855F7E609196878F46B", "gas": "0x3d0900", "gasPrice": "0x174876e800", "to": "0x40b5ee1c640509ec975c651b41993e2183df11ae", "data": "0xa1ee8c78"}, "latest"]}

-----------
HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
X-Content-Type-Options: nosniff
Date: Wed, 24 Apr 2019 05:40:15 GMT
Content-Length: 459

{"jsonrpc":"2.0","error":{"code":-32000,"message":"Failed to query the ledger: Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: Account/contract 40B5EE1C640509EC975C651B41993E2183DF11AE does not have permission createContract\nStack trace: [state.go:97 vm.go:105 vm.go:748 vm.go:167 vm.go:141 evmcc.go:165 handler.go:273 asm_amd64.s:2361]","data":null},"id":34}


Is it possible somehow to enable contracts creation? 
Thanks!
</p>
<p><strong>MHBauer</strong> (Wed, 24 Apr 2019 18:16:32 GMT):<br/>
@fastchain is it possible to get an example contract that does this? I've not done that before.
</p>
<p><strong>swetha</strong> (Wed, 24 Apr 2019 19:23:48 GMT):<br/>
@fastchain We currently don't allow for contracts to create other contracts. We have only allowed contract to contract invocations
</p>
<p><strong>swetha</strong> (Wed, 24 Apr 2019 19:25:52 GMT):<br/>
Can you explain more about the use case? We have started with the approach to be more limiting and loosen restrictions, so we are willing to make changes, but do need some feedback as why this is a feature we should support
</p>
<p><strong>fastchain</strong> (Thu, 25 Apr 2019 04:09:47 GMT):<br/>
@swetha   hello!
In may case I have multiple participants who manages different instances of the same smart contract.All this contracts are linked with each other ( for token exchange operations), so it's critical to guarantee, that each contract doesn't have any backdoors or patches. And the most convenient way to achieve this is to use "contract-producer" which can create different instances of the same smart contract .  Does it makes sense?

by the way, if i'll just disable the security check in the sources, will it make a trick? Or there is some deeper impact is needed?
Thank you!

@MHBauer 
https://solidity.readthedocs.io/en/v0.4.21/control-structures.html#creating-contracts

</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 04:41:45 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=MLC4v6RskawhPpeQ8) @fastchain The code change on our side is simple. But we have to think about how to make the contract creation permission configurable. The enforcement happens in the Burrow code not the evm
</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 04:41:45 GMT):<br/>
@fastchain The code change on our side is simple. But we have to think about how to make the contract creation permission configurable. The enforcement happens in the Burrow of evm code not the evmcc
</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 04:43:16 GMT):<br/>
And thanks for giving that use case 
</p>
<p><strong>klkumar369</strong> (Thu, 25 Apr 2019 05:58:15 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fastchain</strong> (Thu, 25 Apr 2019 06:19:35 GMT):<br/>
@swetha 
>The code change on our side is simple. 

Where and what should be changed ? (I need this info for tests)
I've already tried  to add permissions here  https://github.com/hyperledger/fabric-chaincode-evm/blob/6404c8dc4455f63200e190b02b21f8e5f402c966/evmcc/evmcc.go#L33
and then reinstall the evmcc with (after network restart)

peer chaincode install -n evmcc -l golang -v 0 -p github.com/hyperledger/fabric-chaincode-evm/evmcc

but with no luck :slight_frown:
</p>
<p><strong>MHBauer</strong> (Thu, 25 Apr 2019 08:14:22 GMT):<br/>
that looks like the right place. if you have some tests you can share, it would help us understand what to look at and debug.
</p>
<p><strong>fastchain</strong> (Thu, 25 Apr 2019 10:01:43 GMT):<br/>
@MHBauer 

I've started a fabric/fabric-samples/first-network (in docker).  And then I map my  version of evmcc sources into  container:

root@ff2056688976:~# grep createContract /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/evmcc/evmcc.go
const ContractPermFlags = permission.Call | permission.Send | createContract


after this I install  evmcc chaincode: 

peer chaincode install -n evmcc -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc

And then I do this:

peer chaincode instantiate -n evmcc -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</p>
<p><strong>fastchain</strong> (Thu, 25 Apr 2019 10:01:43 GMT):<br/>
@MHBauer 

I've started a fabric/fabric-samples/first-network (in docker).  And then I map my  version of evmcc sources into  container:

root@ff2056688976:~# grep createContract /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/evmcc/evmcc.go
const ContractPermFlags = permission.Call | permission.Send | permission.CreateContract


after this I install  evmcc chaincode: 

peer chaincode install -n evmcc -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc

And then I do this:

peer chaincode instantiate -n evmcc -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</p>
<p><strong>fastchain</strong> (Thu, 25 Apr 2019 10:01:56 GMT):<br/>
if you need more details please ask. 
</p>
<p><strong>compleatang</strong> (Thu, 25 Apr 2019 11:46:58 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=KaKsS8EAxDir4qDFc) @swetha FWIW, it's an **extremely** common pattern in EVM land to leverage "factory" contracts which are contracts that create other contracts. the children contracts are often treated as individual "objects" within the chain. as @fastchain says, this also gives assurance about the included code.
</p>
<p><strong>AhmedRebai</strong> (Thu, 25 Apr 2019 13:49:16 GMT):<br/>
Hi everyone i need help
</p>
<p><strong>AhmedRebai</strong> (Thu, 25 Apr 2019 13:49:31 GMT):<br/>
i'm getting this error when i'm deploying my smart contract 
</p>
<p><strong>AhmedRebai</strong> (Thu, 25 Apr 2019 13:49:46 GMT):<br/>
result is{"jsonrpc":"2.0","error":{"code":-32000,"message":"rpc: can't find method \"eth.NewBlockFilter\"","data":null},"id":12}

</p>
<p><strong>fastchain</strong> (Thu, 25 Apr 2019 15:29:09 GMT):<br/>
@AhmedRebai  https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Fab3_Instructions.md
</p>
<p><strong>MHBauer</strong> (Thu, 25 Apr 2019 15:44:33 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=txeMumb8qjf69CEHF) @fastchain the actual bytecodes/contracts. I can pull one from the solidity docs if that exactly what you're using. 
</p>
<p><strong>MHBauer</strong> (Thu, 25 Apr 2019 15:45:16 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=XDHXeu8chrKWE3GYt) @AhmedRebai not implemented, I think newblockfilter is similiar to newfilter, which we are implementing.
</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 17:34:12 GMT):<br/>
@compleatang thanks! I think now the question is how do tie the permissioning back to something the user can configured. Currently the way the evmcc is setup, it is an all or nothing so we need to look into that
</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 17:35:50 GMT):<br/>
@fastchain The line you have is right. You need to tag on `permission.CreateContract` and possibly `permission.CreateAccount`
</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 17:37:36 GMT):<br/>
Also were you able to create an LFID? As Morgan stated, it should be the same credentials you use to interact with rocket.chat
</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 17:46:02 GMT):<br/>
I created a jira to track this issue: https://jira.hyperledger.org/browse/FAB-15280
</p>
<p><strong>swetha</strong> (Thu, 25 Apr 2019 17:53:32 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=jit3npHiJ8tGRM4PL) @fastchain Sorry, I missed this message earlier. Made a JIRA to track this: https://jira.hyperledger.org/browse/FAB-15281
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 02:57:06 GMT):<br/>
@fastchain I did a quick check, adding `permission.CreateContract` to https://github.com/hyperledger/fabric-chaincode-evm/blob/6404c8dc4455f63200e190b02b21f8e5f402c966/evmcc/evmcc.go#L33 allows contract to contract creation. For reference I tested against this contract: https://solidity.readthedocs.io/en/v0.5.7/contracts.html#creating-contracts. Above you had `createContract`. Not sure if that is the exact code you added, but if it is that probably is your error. If that is not it, can you send us sample contracts so we can investigate further
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 03:23:33 GMT):<br/>
@fastchain The fix I mentioned about should solve the contract creation problem. However I don't think the new contract address can be relayed back to the user yet
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 03:27:14 GMT):<br/>
I think the contract creating thingy has to store the new addresses.
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 03:40:02 GMT):<br/>
That would be my guess, but remix showed me something different with the vm
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 03:40:02 GMT):<br/>
That was what I thought, but remix showed me something different with the vm
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 03:45:24 GMT):<br/>
Okay, confirmed that should be the case with geth
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 03:45:41 GMT):<br/>
as reference this is the contract I use to test with: https://solidity.readthedocs.io/en/v0.5.7/contracts.html#creating-contracts
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 04:08:37 GMT):<br/>
@swetha I've added *permission.CreateAccount* but with no luck - the behaviour is the same.
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 04:17:28 GMT):<br/>
@swetha  I've successfully logged in to Jira, thanks for clarification about the LFID.
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 04:20:34 GMT):<br/>
@fastchain and in combination with CreateAccount 
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 04:20:36 GMT):<br/>
?
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 04:21:00 GMT):<br/>
oh nevermind
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 04:21:19 GMT):<br/>
issue was updated, I'll wait for a patch to think about it.
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 04:23:36 GMT):<br/>
@MHBauer 
this is my permissions setup in evmcc.go 

const ContractPermFlags = permission.Call | permission.Send | permission.CreateContract | permission.CreateAccount
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 04:42:06 GMT):<br/>
@MHBauer  @swetha 

I have a feeling I'm doing something wrong because  even I  cut permissions with const ContractPermFlags = permission.Call in evmcc.go 
and restart the network (I install evmcc with *peer chaincode install -n evmcc -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc* ) I can still create transactions and deploy contracts.  What could be missing?
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 04:46:25 GMT):<br/>
You don't need permission.CreateAccount, just the permission.createContract
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 04:47:51 GMT):<br/>
Did you instantiate the evmcc? Do you have multiple versions of the evmcc installed?
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 04:47:53 GMT):<br/>
@fastchain 
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 05:01:29 GMT):<br/>
I perform following steps:
1. I setup the new netwoek with* ./byfn.sh up*  (https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network/byfn.sh)
2. then a attach to *cli* container with *docker exec -it cli bash*
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 05:01:29 GMT):<br/>
@swetha  I perform the following steps:
1. I setup the new netwoek with* ./byfn.sh up*  (https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network/byfn.sh)
2. then a attach to *cli* container with *docker exec -it cli bash*
3. install evmcc  *peer chaincode install -n evmcc -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc*     fastchain/fabric-chaincode-evm/evmcc - patched code
4.peer chaincode instantiate -n evmcc -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

5. running cluster of fab3 proxys 

FAB3_CCID="evmcc" FAB3_CHANNEL="mychannel" FAB3_CONFIG="/opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/working.yaml" FAB3_ORG="org2" FAB3_PORT="5000" FAB3_USER="User1" /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/bin/fab3 &
FAB3_CCID="evmcc" FAB3_CHANNEL="mychannel" FAB3_CONFIG="/opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/working.yaml" FAB3_ORG="org2" FAB3_PORT="5001" FAB3_USER="User2" /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/bin/fab3 &
....

6.the start my tests which ends up with an exception
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 05:01:29 GMT):<br/>
@swetha  I perform the following steps:
1. I setup the new netwoek with* ./byfn.sh up*  (https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network/byfn.sh)
2. then a attach to *cli* container with *docker exec -it cli bash*
3. install evmcc  *peer chaincode install -n evmcc -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc*     fastchain/fabric-chaincode-evm/evmcc - patched code
4.peer chaincode instantiate -n evmcc -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

5. running cluster of fab3 proxys 

FAB3_CCID="evmcc" FAB3_CHANNEL="mychannel" FAB3_CONFIG="/opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/working.yaml" FAB3_ORG="org2" FAB3_PORT="5000" FAB3_USER="User1" /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/bin/fab3 &
FAB3_CCID="evmcc" FAB3_CHANNEL="mychannel" FAB3_CONFIG="/opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/working.yaml" FAB3_ORG="org2" FAB3_PORT="5001" FAB3_USER="User2" /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/bin/fab3 &
....

6.I start my tests which ends up with an exception
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 05:18:12 GMT):<br/>
literally the only part we care about is 6
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 05:18:27 GMT):<br/>
I'm not sure how many ways I can say it
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 05:18:33 GMT):<br/>
but what are you doing in 6
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 06:24:35 GMT):<br/>
@MHBauer  sorry for delay. Since the original smart contracts are the subject of IP, it took time to prepare a test.  I've attached a script to https://jira.hyperledger.org/browse/FAB-15280 
</p>
<p><strong>fastchain</strong> (Fri, 26 Apr 2019 06:24:35 GMT):<br/>
@MHBauer  sorry for delay. Since the original smart contracts are the subject of IP, it took time to prepare a test.  I've attached a test script to https://jira.hyperledger.org/browse/FAB-15280 
</p>
<p><strong>Fias</strong> (Fri, 26 Apr 2019 06:49:50 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ahmedahmed</strong> (Fri, 26 Apr 2019 15:23:59 GMT):<br/>
hi i want to know if it's possible to use signed transactions and if yes is it a good idea ?? thanks in advance 
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 16:09:15 GMT):<br/>
@ahmedahmed fab3 currently does not allow users to pass through raw transactions that have been signed outside of fab3
</p>
<p><strong>ahmedahmed</strong> (Fri, 26 Apr 2019 16:33:22 GMT):<br/>
thank you but is it going to be integrated in the near future ??
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 17:30:09 GMT):<br/>
I don't think near future. We are limited currently by the functionality of the Fabric Go SDK. It is a feature we want to add, possibly later in the year
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 17:39:52 GMT):<br/>
@fastchain I will take a look at the script, but is it possible to send us the original contract? 
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 17:39:52 GMT):<br/>
@fastchain I will take a look at the script
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 17:40:17 GMT):<br/>
This contract works:
```
pragma solidity ^0.5.0;

contract SimpleStorage {
    uint storedData;

    function set(uint x) public {
        storedData = x;
    }

    function get() public view returns (uint) {
        return storedData;
    }
}

contract SimpleStorageCreator {
    event NewContract(address indexed simpleStorageAddress);
    function createSimpleStorage() public returns (address simpleStorageAddress){
        address addr = address(new SimpleStorage());
        emit NewContract(addr);
        return addr;
    }
}
```
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 17:43:19 GMT):<br/>
@fastchain I tested with your contract through remix and the contract creation is successful. Can you send us the changes you made in evmcc.go again?
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 17:44:31 GMT):<br/>
This is not the cause of the problem, but we don't have a native token in fab3, so you wont be able to do this function 
```
function createAndEndowD(uint arg, uint amount) public payable {
        // Send ether along with the creation
        D newD = (new D).value(amount)(arg);
    }
```
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 19:24:48 GMT):<br/>
hmn, maybe that is real root cause for generic failure.
</p>
<p><strong>MHBauer</strong> (Fri, 26 Apr 2019 19:25:08 GMT):<br/>
what does the failure look like for using ether? is it clear? can we improve that?
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 19:30:10 GMT):<br/>
The failure he is having doesn't have to do with that function. I am able to deploy his contract as is
</p>
<p><strong>swetha</strong> (Fri, 26 Apr 2019 19:30:43 GMT):<br/>
My guess is that evmcc is not updated on the peer and it is still running the old code
</p>
<p><strong>fastchain</strong> (Sat, 27 Apr 2019 14:14:43 GMT):<br/>
@swetha thanks, Interesting.

>My guess is that evmcc is not updated on the peer and it is still running the old code

I'm not an expert in HL deployment, how can I make sure I'm using patched version of evmmc? Thanks.
</p>
<p><strong>swetha</strong> (Sat, 27 Apr 2019 20:24:45 GMT):<br/>
@fastchain In the cli container what do you get as the output of:
```
peer chaincode list - - installed
```
and
```
peer chaincode list - - instantiated
```
</p>
<p><strong>swetha</strong> (Sat, 27 Apr 2019 20:24:45 GMT):<br/>
@fastchain In the cli container what do you get as the output of:
```
peer chaincode list -- installed
```
and
```
peer chaincode list -- instantiated
```
</p>
<p><strong>swetha</strong> (Sat, 27 Apr 2019 20:24:45 GMT):<br/>
@fastchain In the cli container what do you get as the output of:
```
peer chaincode list --installed
```
and
```
peer chaincode list --instantiated
```
</p>
<p><strong>swetha</strong> (Sat, 27 Apr 2019 20:24:45 GMT):<br/>
@fastchain In the cli container what do you get as the output of:
```
peer chaincode list --installed
```
and
```
peer chaincode list --instantiated
```
</p>
<p><strong>swetha</strong> (Sat, 27 Apr 2019 20:25:09 GMT):<br/>
Also are you bringing down the network everytime you make a change in the evmcc? 
</p>
<p><strong>fastchain</strong> (Sun, 28 Apr 2019 11:45:31 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=7Kgx6tJMkKEG75prJ) >Also are you bringing down the network everytime you make a change in the evmcc?
I'm doing this
</p>
<p><strong>fastchain</strong> (Sun, 28 Apr 2019 11:45:31 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=7Kgx6tJMkKEG75prJ) >Also are you bringing down the network everytime you make a change in the evmcc?
@swetha  I'm doing this
</p>
<p><strong>swetha</strong> (Sun, 28 Apr 2019 18:05:05 GMT):<br/>
Have you run `. /byfn.sh down`? In between your tests? 
</p>
<p><strong>swetha</strong> (Sun, 28 Apr 2019 18:05:05 GMT):<br/>
Have you run `./byfn.sh down`? In between your tests? 
</p>
<p><strong>swetha</strong> (Sun, 28 Apr 2019 18:05:25 GMT):<br/>
Have you run `. /byfn.sh down`? In between your tests?
</p>
<p><strong>swetha</strong> (Sun, 28 Apr 2019 18:05:51 GMT):<br/>
Were you able to run the commands I asked? 
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 02:40:15 GMT):<br/>
@swetha  Hello! Yes, I've run this commands.

Please see the full log here: https://pastebin.com/RQjcDdi4
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 02:54:20 GMT):<br/>
what exactly happening during installation? It looks like there is some builder script which is setup to work with a defined git commit, but not the latest version of the sources. 
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 03:33:06 GMT):<br/>
@fastchain The script is for the byfn.sh tutorial. It installs an example chaincode. I doesn't use git to my knowledge. It will install based on what is mounted into the container from the host machine.

In your script you run fab3 without building. Are you building it outside of the script after your changes? You need to rebuild the binary for the changes to take effect. Also is there a reason you are running fab3 from inside the container?

Another thing is I notice you are not using the fabric-chaincode-evm source code directly and a fork. Are all the changes just on your fork?
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 03:33:06 GMT):<br/>
@fastchain The script is for the byfn.sh tutorial. It installs an example chaincode. It doesn't use git to my knowledge. It will install based on what is mounted into the container from the host machine. This should not affect your test.

In your script you run fab3 without building. Are you building it outside of the script after your changes? You need to rebuild the binary for the changes to take effect. Also is there a reason you are running fab3 from inside the container?

Another thing is I notice you are not using the fabric-chaincode-evm source code directly and a fork. Are all the changes just on your fork?
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 03:36:06 GMT):<br/>
Can you run the peer chaincode list commands after you install the evmcc?
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 03:40:45 GMT):<br/>
And on this line of the script: `cat /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/fab3/netservice.go` can you change that to look at the evmcc.go file?
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 03:56:25 GMT):<br/>
@swetha  I'm sorry I've confused you. I missed the point that net_version is the part of fab3 proxy, but not evmcc..

>Are you building it outside of the script after your changes? 
No. So If I change something in evmcc.go, I have to rebuild fab3 proxy as well ?

>Also is there a reason you are running fab3 from inside the container?
I find it more convenient.

>Another thing is I notice you are not using the fabric-chaincode-evm source code directly and a fork. Are all the changes just on your fork?
Yes, all my changes just in /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm

>Can you run the peer chaincode list commands after you install the evmcc?
```
root@c6d881d9017f:~# peer chaincode list -C mychannel --instantiated
Get instantiated chaincodes on channel mychannel:
Name: evmcc, Version: 0, Path: github.com/fastchain/fabric-chaincode-evm/evmcc, Escc: escc, Vscc: vscc
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Escc: escc, Vscc: vscc
root@c6d881d9017f:~# peer chaincode list --installed
Get installed chaincodes on peer:
Name: evmcc, Version: 0, Path: github.com/fastchain/fabric-chaincode-evm/evmcc, Id: b8d176e63c19b5b912b8b5a35462fe7a9ef5c32ce7e0852ef2b631b9391ad5ca
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Id: e128f70653ac5518820478becd8acf4dd2b24e4e40602a307a84f0ea40871d29
````

>And on this line of the script: `cat /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/fab3/netservice.go` can you change that to look at the evmcc.go file?

https://pastebin.com/NeUG1KnW
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 03:56:25 GMT):<br/>
@swetha  I'm sorry I've confused you. I missed the point that net_version is the part of fab3 proxy, but not evmcc..

>Are you building it outside of the script after your changes? 
No  I don't build it, I use unpatched version. So If I change something in evmcc.go, I have to rebuild fab3 proxy as well ?

>Also is there a reason you are running fab3 from inside the container?
I find it more convenient.

>Another thing is I notice you are not using the fabric-chaincode-evm source code directly and a fork. Are all the changes just on your fork?
Yes, all my changes just in /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm

>Can you run the peer chaincode list commands after you install the evmcc?
```
root@c6d881d9017f:~# peer chaincode list -C mychannel --instantiated
Get instantiated chaincodes on channel mychannel:
Name: evmcc, Version: 0, Path: github.com/fastchain/fabric-chaincode-evm/evmcc, Escc: escc, Vscc: vscc
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Escc: escc, Vscc: vscc
root@c6d881d9017f:~# peer chaincode list --installed
Get installed chaincodes on peer:
Name: evmcc, Version: 0, Path: github.com/fastchain/fabric-chaincode-evm/evmcc, Id: b8d176e63c19b5b912b8b5a35462fe7a9ef5c32ce7e0852ef2b631b9391ad5ca
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Id: e128f70653ac5518820478becd8acf4dd2b24e4e40602a307a84f0ea40871d29
````

>And on this line of the script: `cat /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/fab3/netservice.go` can you change that to look at the evmcc.go file?

https://pastebin.com/NeUG1KnW
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 03:56:25 GMT):<br/>
@swetha  I'm sorry I've confused you. I missed the point that net_version is the part of fab3 proxy, but not evmcc..

>Are you building it outside of the script after your changes? 
No  I don't build it, I use unpatched version. So If I change something in evmcc.go, I have to rebuild fab3 proxy as well ?

>Also is there a reason you are running fab3 from inside the container?
I find it more convenient in my setup.  Because of some docker issues  with a network. 

>Another thing is I notice you are not using the fabric-chaincode-evm source code directly and a fork. Are all the changes just on your fork?
Yes, all my changes just in /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm

>Can you run the peer chaincode list commands after you install the evmcc?
```
root@c6d881d9017f:~# peer chaincode list -C mychannel --instantiated
Get instantiated chaincodes on channel mychannel:
Name: evmcc, Version: 0, Path: github.com/fastchain/fabric-chaincode-evm/evmcc, Escc: escc, Vscc: vscc
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Escc: escc, Vscc: vscc
root@c6d881d9017f:~# peer chaincode list --installed
Get installed chaincodes on peer:
Name: evmcc, Version: 0, Path: github.com/fastchain/fabric-chaincode-evm/evmcc, Id: b8d176e63c19b5b912b8b5a35462fe7a9ef5c32ce7e0852ef2b631b9391ad5ca
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Id: e128f70653ac5518820478becd8acf4dd2b24e4e40602a307a84f0ea40871d29
````

>And on this line of the script: `cat /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/fab3/netservice.go` can you change that to look at the evmcc.go file?

https://pastebin.com/NeUG1KnW
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 04:16:51 GMT):<br/>
I am not sure what is the reason for your error.  My recommendation is to restart docker itself and start fresh
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 04:17:18 GMT):<br/>
No if you make changes to the evmcc you don't need to rebuild fab3. But if you change anything in the fab3 directory you will have to rebuild.
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 04:17:21 GMT):<br/>
@fastchain 
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 04:20:04 GMT):<br/>
@swetha  ok, thank you for your time and efforts! I'll try redo  everything from scratch.
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 05:25:04 GMT):<br/>
@swetha  just to make it clear, this is the only line which should be changed in evmcc. go https://github.com/hyperledger/fabric-chaincode-evm/blob/master/evmcc/evmcc.go#L32 . And it's the only change that should  be made?
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 05:33:19 GMT):<br/>
@fastchain yes
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 05:33:30 GMT):<br/>
It is the only change I made
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 05:33:53 GMT):<br/>
I only needed permission.CreateContract
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 06:04:06 GMT):<br/>
@swetha  It looks like I've I found a workaround. 
when I use evmcc2 instead of evmcc in install and instantiate commands, contract deployment works without exceptions. I don't have an explanation for such behaviour, yet.
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 06:28:20 GMT):<br/>
Right now, I'm continuing integration tests and here is next strange issue:

```
POST / HTTP/1.1
Content-Type: application/json
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Linux x64) node.js/11.14.0 v8/7.0.276.38-node.18
Content-Length: 232

{"jsonrpc":"2.0","id":34,"method":"eth_call","params":[{"from":"0x52485A6876A8D7E70DD5CB2A706B7d909842A57e","gas":"0x3d0900","gasPrice":"0x174876e800","to":"0x81e7a7e1c27221c49666c7b007d79f7553f60a13","data":"0xa1ee8c78"},"latest"]}


HTTP/1.0 200 OK
Content-Type: application/json
Content-Length: 298
Server: Werkzeug/0.15.2 Python/3.7.3
Date: Mon, 29 Apr 2019 06:18:55 GMT

{"jsonrpc":"2.0","error":{"code":-32000,"message":"Failed to query the ledger: Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted","data":null},"id":34}

```

Could you please tell, where is the the right place to start to debuging.
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 06:48:02 GMT):<br/>
@fastchain I am not familiar with that error. It is coming from your smart contract so you need to investigate that. Remember there is no ether/native token in fabric so you have to deploy a token like a ERC 20 contract to use tokens
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 07:11:06 GMT):<br/>
>Remember there is no ether/native token in fabric so you have to deploy a token like a ERC 20 contract to use tokens

I don't use it as well. Is it possible to enable any low level EVM debug output? The function which raises this exception has calls other functions, so the exception could happen in any of them.  Tests for all possible combinations could be a quite  big project. So it's look reasonable  to get  evm traces somehow. 
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 07:11:06 GMT):<br/>
>Remember there is no ether/native token in fabric so you have to deploy a token like a ERC 20 contract to use tokens

I don't use native tokens. Is it possible to enable any low level EVM debug output? The function which raises this exception has calls other functions, so the exception could happen in any of them.  Tests for all possible combinations could be a quite  big project. So it's look reasonable  to get  evm traces somehow. 
</p>
<p><strong>fastchain</strong> (Mon, 29 Apr 2019 07:11:06 GMT):<br/>
>Remember there is no ether/native token in fabric so you have to deploy a token like a ERC 20 contract to use tokens

I don't use native tokens. Is it possible to enable any low level EVM debug output? The function which raises this exception  calls other functions, so the exception could be raised in any of them.  Tests for all possible combinations could be a quite  big project. So it's look reasonable  to get  evm traces somehow. 
</p>
<p><strong>swetha</strong> (Mon, 29 Apr 2019 16:21:10 GMT):<br/>
There is no low level EVM debug at the moment. I have to think how we would do that. Maybe try debugging on remix? It should be using the same instructions
</p>
<p><strong>MHBauer</strong> (Mon, 29 Apr 2019 19:25:36 GMT):<br/>
like is said, we don't have too much introspection capabilitiy into the evm. Maybe try a setup of burrow directly to see if the same error occurs with that. I'll grep for the "revereted" bits 
</p>
<p><strong>fastchain</strong> (Tue, 30 Apr 2019 11:19:03 GMT):<br/>
@MHBauer  got. I'll try to do this.

@swetha  
>Maybe try debugging on remix? It should be using the same instructions
I'm using ganache testing framework and ethereum private network and contract doesn't produce exeptions( on both).

I've just accidentally found that ecrecover precompiled smart contract is disabled.
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/vendor/github.com/hyperledger/burrow/execution/evm/native.go#L75

Is it a permanent decision?
</p>
<p><strong>fastchain</strong> (Tue, 30 Apr 2019 11:23:16 GMT):<br/>
Or it's a question for a #burrow  channel?
</p>
<p><strong>fastchain</strong> (Tue, 30 Apr 2019 12:47:03 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=yvstr9x85WdRTsumg) I've localized the bug. It looks like (not 100% sure) burrow evm doesn't support nested contract deployment.

here is the code which triggers the bug 
https://pastebin.com/anuNT9nX


</p>
<p><strong>fastchain</strong> (Tue, 30 Apr 2019 12:47:03 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=yvstr9x85WdRTsumg) I've localized the bug. It looks like (not 100% sure) burrow evm doesn't support nested (contract creates contract which creats contruct in constructor) contract deployment.

here is the code which triggers the bug 
https://pastebin.com/anuNT9nX


</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 13:58:24 GMT):<br/>
hi can anyone  share with me an example of how to import or call a smart contract from an other that work with fabric-evm 
</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 13:58:34 GMT):<br/>
thanks in advance 
</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 14:32:14 GMT):<br/>
pragma solidity >=0.4.25 <0.6.0;
contract Test1 { 

function doIt() public returns(string memory){
    return "test!!!!!!!!!!!!!!";
} 
    
}



/////////////////////
</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 14:32:15 GMT):<br/>
pragma solidity >=0.4.25 <0.6.0;
import "./1.sol";
contract Test2 { 

    address accessSC = 0xdc04977a2078c8ffdf086d618d1f961b6c546222;
    Test1 x = Test1(accessSC);

    function doTest() public view returns(string){
        return x.doIt();
    }
    
    function doTest1() public view returns(string){
        return "ok";
    }
    
}
</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 14:32:56 GMT):<br/>
here is the code i was trying to do the import with but it's not working and i get this error 
</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 14:33:38 GMT):<br/>
Error: endorsement failure during query. response: status:500 message:"failed to execute contract: call error: RETURNDATASIZE not yet implemented" 
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 15:32:34 GMT):<br/>
@ahmedahmed That error is not because of the import. You are using v0.1 and `RETURNDATASIZE` was not implemented in the version of burrow used in that version of the evmcc
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 15:32:34 GMT):<br/>
@ahmedahmed That error is not because of the import. I am assuming you are using v0.1 since `RETURNDATASIZE` was not implemented in the version of burrow used in that version of the evmcc
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 15:33:13 GMT):<br/>
It is one of the limitation of that release: https://github.com/hyperledger/fabric-chaincode-evm/blob/release-0.1/release_notes/v0.1.0.md#limitations
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 15:33:59 GMT):<br/>
You have two options, either use the newer release of the evmcc as it has a newer version of the burrow evm which has that opcode implemented
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 15:34:27 GMT):<br/>
or use a solidity compiler that is less than or equal to 0.4.21
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 15:36:37 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=ncvdBb3JHLo88CtKA) @fastchain Yes, they are a better channel to ask that question
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 15:41:46 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=nT8MmzGdjLLtM79he) @fastchain That will help us debug. I saw some of the conversation in the #burrow channel. Does a newer version of burrow fix the issue? From what I remember 0.24.4 to 0.25 should have no changes in the evm, which is why we didn't do an upgrade
</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 15:52:01 GMT):<br/>
can u please share a link for that new version  of evmcc that u know may work ?
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 16:01:07 GMT):<br/>
@ahmedahmed https://github.com/hyperledger/fabric-chaincode-evm/releases
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 16:01:23 GMT):<br/>
Sorry, meant to link this one: https://github.com/hyperledger/fabric-chaincode-evm/releases/tag/v0.2.0
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 16:02:32 GMT):<br/>
We create a tag for each release so you can do `git checkout v0.2.0`
</p>
<p><strong>ahmedahmed</strong> (Tue, 30 Apr 2019 16:14:58 GMT):<br/>
thanks a lot just one more question  if i pull this git repository : https://github.com/hyperledger/fabric-chaincode-evm would it contain that last version of evmcc ?
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 16:32:34 GMT):<br/>
the default branch is master
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 16:45:31 GMT):<br/>
when you clone a repository you should get all the branches, tags currently on the remote
</p>
<p><strong>MHBauer</strong> (Tue, 30 Apr 2019 19:12:50 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=22AgYmg6uRH43RoBL) @swetha this is more work than I was thinking. get filters has three types of returns based on the filter type created.
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 21:04:57 GMT):<br/>
@MHBauer can you break it into smaller pieces like how you tackled getLogs?
</p>
<p><strong>MHBauer</strong> (Tue, 30 Apr 2019 21:16:08 GMT):<br/>
of course, but the point is it's multiple interacting bits, some of which were not planned.
</p>
<p><strong>swetha</strong> (Tue, 30 Apr 2019 21:31:13 GMT):<br/>
All the filtering is a big piece, at least as i understood it. I was expecting it would take time to get it all in 
</p>
<p><strong>MHBauer</strong> (Tue, 30 Apr 2019 23:43:15 GMT):<br/>
Yea, for all filtering. Was hoping to be done with just logs in place.
</p>
<p><strong>MHBauer</strong> (Tue, 30 Apr 2019 23:43:29 GMT):<br/>
need to re-evaluate some thoughts for blocks and txns 
</p>
<p><strong>fastchain</strong> (Wed, 01 May 2019 03:37:33 GMT):<br/>
@swetha Hello! how can I use newer version of borrow in evmcc?  Just clone it in fabric-chaincode-evm/vendor/github.com/hyperledger/burrow or something else? thanks.
</p>
<p><strong>MHBauer</strong> (Wed, 01 May 2019 04:12:34 GMT):<br/>
you'd have to update the dep, with dep, the program.
</p>
<p><strong>MHBauer</strong> (Wed, 01 May 2019 04:12:50 GMT):<br/>
and then fix everything that breaks
</p>
<p><strong>MHBauer</strong> (Wed, 01 May 2019 04:17:02 GMT):<br/>
and we'd be interested in doing that, or having it eventually, but it's not a priority right now if we don't have a bug or demonstration/test to justify doing so.
</p>
<p><strong>swetha</strong> (Wed, 01 May 2019 05:41:01 GMT):<br/>
@fastchain Morgan gave the overview of the process and we would love a patch if you can make one. Did you try the test Casey mentioned against the different versions of Burrow to verify the error? 
</p>
<p><strong>fastchain</strong> (Wed, 01 May 2019 06:25:11 GMT):<br/>
@swetha  hello! I've built the most recent version of borrow, the executed the test, but the test has failed. Details are here https://github.com/hyperledger/burrow/pull/1102 
</p>
<p><strong>fastchain</strong> (Wed, 01 May 2019 06:46:45 GMT):<br/>
@MHBauer  got it.
>and then fix everything that breaks
do you have test set do identify broken?

</p>
<p><strong>fastchain</strong> (Wed, 01 May 2019 06:46:45 GMT):<br/>
@MHBauer  got it.
>and then fix everything that breaks
do you have test set to identify broken?

</p>
<p><strong>fastchain</strong> (Wed, 01 May 2019 06:46:45 GMT):<br/>
@MHBauer  got it.
>and then fix everything that breaks
is there any tests  to identify broken?

</p>
<p><strong>fastchain</strong> (Wed, 01 May 2019 06:46:45 GMT):<br/>
@MHBauer  got it.
>and then fix everything that breaks
are there any tests  to identify broken?

</p>
<p><strong>MHBauer</strong> (Wed, 01 May 2019 18:06:10 GMT):<br/>
I mostly mean compilation errors, but if anything deep has changed, it should be very very obvious.
</p>
<p><strong>MHBauer</strong> (Wed, 01 May 2019 18:06:31 GMT):<br/>
`make checks integration-test` should do everything we'll need for a successful checkin
</p>
<p><strong>swetha</strong> (Wed, 01 May 2019 18:35:30 GMT):<br/>
@fastchain My recommendation is to first make sure the tests with burrow passes before upgrading it in the evmcc. We want to make sure that the new version of burrow has the fix you need before pulling it in
</p>
<p><strong>MHBauer</strong> (Wed, 01 May 2019 18:37:44 GMT):<br/>
^that
</p>
<p><strong>ahmedahmed</strong> (Thu, 02 May 2019 18:05:35 GMT):<br/>

<br/><a href="./assets/R2nPzMy5YQqFwL6s6-Screenshot from 2019-05-02 11-01-12.png">Screenshot from 2019-05-02 11-01-12.png</a>
</p>
<p><strong>ahmedahmed</strong> (Thu, 02 May 2019 18:05:38 GMT):<br/>
hi i'm trying to run fab3 i just cloned the latest version of fabric-evm so i run this command "make fab3" and it generated a fab3 file but when i run to execute it i get this error can anyone help me with that 

</p>
<p><strong>MHBauer</strong> (Thu, 02 May 2019 18:07:33 GMT):<br/>
you have to give it your sdk config so it can connect to a faric network where the chaincode is running.
</p>
<p><strong>ahmedahmed</strong> (Thu, 02 May 2019 18:10:30 GMT):<br/>
yeah thanks for your quick answer that was exactly the problem THANK YOU :D
</p>
<p><strong>MHBauer</strong> (Thu, 02 May 2019 18:10:54 GMT):<br/>
very welcome
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 10:12:25 GMT):<br/>
hi i'm trying to use events and logs with fabric-evm so i wrote this code to get me the logs but i'm not getting anything back 
var myEvent = myContract.birthCertifcateEvent({}, {fromBlock: 0, toBlock: 'latest'});
    myEvent.get((error, response)=>
    {
 
          return res.json(response);
       
    });
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 10:13:11 GMT):<br/>
actually  it just keeps on loading nothing no errors or results 
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 13:15:45 GMT):<br/>

<br/><a href="./assets/rNDSpdwDKvDfKqHGy-Clipboard - May 3, 2019 3:14 PM">Clipboard - May 3, 2019 3:14 PM</a>
</p>
<p><strong>swetha</strong> (Fri, 03 May 2019 15:58:21 GMT):<br/>
@ahmedahmed my guess is that the function on the backend is using asynchronous filters on the backend that we don't support yet. Try sending a request for get logs 
</p>
<p><strong>swetha</strong> (Fri, 03 May 2019 15:59:33 GMT):<br/>
In your screenshot lines 11-15 are the indexed topics of your event 
</p>
<p><strong>swetha</strong> (Fri, 03 May 2019 16:00:25 GMT):<br/>
Line 12 should be the keccek sum of your event signature 
</p>
<p><strong>swetha</strong> (Fri, 03 May 2019 16:01:40 GMT):<br/>
Is your screenshot the request or response? 
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 16:32:11 GMT):<br/>
this screenshot is for  myContract.birthCertifcateEvent({}, {fromBlock: 0, toBlock: 'latest'});
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 16:37:53 GMT):<br/>
i tried this 
var myEvent = myContract.birthCertifcateEvent({}, {fromBlock: 'earliest', toBlock: 'latest'}).get(x=>{});
res.json(myEvent); 
and as a result i got the following response 
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 16:38:17 GMT):<br/>

<br/><a href="./assets/bqmTQjM8s6voWrn2o-Clipboard - May 3, 2019 6:38 PM">Clipboard - May 3, 2019 6:38 PM</a>
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 16:39:13 GMT):<br/>
i added the call back in the get() because it was required 
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 16:46:04 GMT):<br/>
other ways  when u suggested that i send a request for get logs what did u mean exactly sry  because i didn't 
</p>
<p><strong>MHBauer</strong> (Fri, 03 May 2019 16:54:31 GMT):<br/>
we think the backend code uses async filters https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_newfilter which aren't supported yet.
supported filters for logs is https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_getlogs
</p>
<p><strong>ahmedahmed</strong> (Fri, 03 May 2019 17:00:44 GMT):<br/>
ok  so  it's not possible to get the logs using the web3 library because it's asynchronous  ? 
</p>
<p><strong>MHBauer</strong> (Fri, 03 May 2019 18:00:29 GMT):<br/>
not unless you can tune it
</p>
<p><strong>MHBauer</strong> (Fri, 03 May 2019 18:00:31 GMT):<br/>
to use that.
</p>
<p><strong>MHBauer</strong> (Fri, 03 May 2019 18:00:45 GMT):<br/>
otherwise it still needs to be implemented.
</p>
<p><strong>swetha</strong> (Fri, 03 May 2019 18:13:43 GMT):<br/>
@ahmedahmed until it is implemented try using web3.eth.getBlock or web3.eth.getTransactionReceipt. Those should have the logs for your contract as well
</p>
<p><strong>swetha</strong> (Fri, 03 May 2019 18:14:30 GMT):<br/>
otherwise you can hit the fab3 yourself with the method eth_getLogs: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Fab3_Instructions.md#eth_getlogs
</p>
<p><strong>MHBauer</strong> (Fri, 03 May 2019 19:09:13 GMT):<br/>
8uyy;'
</p>
<p><strong>ahmedahmed</strong> (Sat, 04 May 2019 06:08:31 GMT):<br/>
thanks again for your help that was very constructive for me :D
</p>
<p><strong>ahmedahmed</strong> (Sat, 04 May 2019 13:27:02 GMT):<br/>
hello again 
this time i'm trying to create a factory smart contract like this 
but the problem whenever i call the function that creates the new smart contract i get this error 
generic error: Account/contract EBAB35950F82D7F8C93B87F9F622350829B64108 does not have permission createContract 
</p>
<p><strong>ahmedahmed</strong> (Sat, 04 May 2019 13:30:00 GMT):<br/>
contract Bakery {

  // index of created contracts

  address[] public contracts;

  // useful to know the row count in contracts index

  function getContractCount() public  constant returns(uint contractCount)
  {
    return contracts.length;
  }

  // deploy a new contract

  function newCookie()  public   returns(address newContract)
  {
    Cookie c = new Cookie();
    contracts.push(c);
    return c;
  }
}


contract Cookie {

  // suppose the deployed contract has a purpose

  function getFlavor() public constant returns (string flavor)
  {
    return "mmm ... chocolate chip";
  }    
}
</p>
<p><strong>ahmedahmed</strong> (Sat, 04 May 2019 13:32:20 GMT):<br/>

<br/><a href="./assets/vQz3PHmfQ5nrYj7xx-Clipboard - May 4, 2019 3:28 PM">Clipboard - May 4, 2019 3:28 PM</a>
</p>
<p><strong>ahmedahmed</strong> (Sat, 04 May 2019 13:33:46 GMT):<br/>

<br/><a href="./assets/r2H9bPhHLAHJWc36Y-Clipboard - May 4, 2019 3:26 PM">Clipboard - May 4, 2019 3:26 PM</a>
</p>
<p><strong>ahmedahmed</strong> (Sat, 04 May 2019 13:36:26 GMT):<br/>
actually EBAB35950F82D7F8C93B87F9F622350829B64108 is the address of the smart conract i deployed to be the factory 
</p>
<p><strong>swetha</strong> (Sat, 04 May 2019 17:25:09 GMT):<br/>
@ahmedahmed currently there is not support for contract creation through a contract. There is a discussion above on how to achieve that if you are want that feature: https://chat.hyperledger.org/channel/fabric-evm?msg=GMgtiHfpKwtvm9Kjs
</p>
<p><strong>swetha</strong> (Sat, 04 May 2019 17:25:09 GMT):<br/>
@ahmedahmed currently there is not support for contract creation through a contract. There is a discussion above on how to achieve that if you want that feature: https://chat.hyperledger.org/channel/fabric-evm?msg=GMgtiHfpKwtvm9Kjs
</p>
<p><strong>alexmatson</strong> (Sun, 05 May 2019 22:01:24 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fastchain</strong> (Mon, 06 May 2019 05:47:18 GMT):<br/>
@swetha  Hello Is there any way to get a version of burrowEVM used in chaincodeevm build ?  thank you!
</p>
<p><strong>fastchain</strong> (Mon, 06 May 2019 06:30:13 GMT):<br/>
@MHBauer 
I've updated burrow EVM in evmcc, but with no luck:


1. I've download a compatible  version of solc (according to burrow manual)

make bin/solc

2. created  version of contract which runs in last available version of burrow. (there is some issue with msg.sender variable, so I just removed this variable) 
```
pragma solidity ^0.5.1;

contract D {
    //address x;
    constructor() public payable {
        //x =z;
    }
}
contract X {
    //address z;
    constructor() public payable {
        D d = new D();
    }
}
contract C {
 

    function createD() public {
        X newX = new X();
    }
}
```

3. Moved the latest  available version (dev branch) of burrow to  the vendor folder in fabric-chaincode-evm.

4. Ran test compilation of evmmc

make bin/evmcc

with no issues. 


4. Launched a new network 

./byfn.sh down
./byfn.sh up


5. Installed evmmc 

```
peer chaincode install -n evmcc2 -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc
```

6. Initiated evmmc

```
peer chaincode instantiate -n evmcc2 -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
```

7. Launched fab3 proxy
```
FAB3_CCID="evmcc2" FAB3_CHANNEL="mychannel" FAB3_CONFIG="/opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/working.yaml" FAB3_ORG="org2" FAB3_PORT="5000" FAB3_USER="User1" /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/bin/fab3 

``
8. Tried to deploy contract and got the same exception 

```
{'code': -32000, 'message': 'Failed to execute transaction: Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted', 'data': None}

```

it looks like an  issue could be somewhere at the junction.. 
Do you have any Ideas what to do next?
Thanks.  
 
```
</p>
<p><strong>fastchain</strong> (Mon, 06 May 2019 06:30:13 GMT):<br/>
@MHBauer 
I've updated burrow EVM in evmcc, but with no luck:


1. I've download a compatible  version of solc (according to burrow manual)

make bin/solc

2. created  version of contract which runs in last available version of burrow. (there is some issue with msg.sender variable, so I just removed this variable) 
```
pragma solidity ^0.5.1;

contract D {
    //address x;
    constructor() public payable {
        //x =z;
    }
}
contract X {
    //address z;
    constructor() public payable {
        D d = new D();
    }
}
contract C {
 

    function createD() public {
        X newX = new X();
    }
}
```

3. Moved the latest  available version (dev branch) of burrow to  the vendor folder in fabric-chaincode-evm.

4. Ran test compilation of evmmc

make bin/evmcc

with no issues. 


4. Launched a new network 

./byfn.sh down
./byfn.sh up


5. Installed evmmc 

```
peer chaincode install -n evmcc2 -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc
```

6. Initiated evmmc

```
peer chaincode instantiate -n evmcc2 -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
```

7. Launched fab3 proxy
```
FAB3_CCID="evmcc2" FAB3_CHANNEL="mychannel" FAB3_CONFIG="/opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/working.yaml" FAB3_ORG="org2" FAB3_PORT="5000" FAB3_USER="User1" /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/bin/fab3 

``
8. Tried to deploy contract and got the same exception 

```
{'code': -32000, 'message': 'Failed to execute transaction: Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted', 'data': None}

```

it looks like an  issue could be somewhere at the junction.. 
Do you have any Ideas what to do next?
Thanks.  
 

</p>
<p><strong>fastchain</strong> (Mon, 06 May 2019 06:30:13 GMT):<br/>
@MHBauer 
I've updated burrow EVM in evmcc, but with no luck:


1. I've download a compatible  version of solc (according to burrow manual)

make bin/solc

2. created  version of contract which runs in last available version of burrow. (there is some issue with msg.sender variable, so I just removed this variable) 
```
pragma solidity ^0.5.1;

contract D {
    //address x;
    constructor() public payable {
        //x =z;
    }
}
contract X {
    //address z;
    constructor() public payable {
        D d = new D();
    }
}
contract C {
 

    function createD() public {
        X newX = new X();
    }
}
```

3. Moved the latest  available version (dev branch) of burrow to  the vendor folder in fabric-chaincode-evm.

4. Ran test compilation of evmmc

make bin/evmcc

with no issues. 


4. Launched a new network 

./byfn.sh down
./byfn.sh up


5. Installed evmmc 

```
peer chaincode install -n evmcc2 -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc
```

6. Initiated evmmc

```
peer chaincode instantiate -n evmcc2 -v 0 -C mychannel -c '{"Args":[]}' -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
```

7. Launched fab3 proxy
```
FAB3_CCID="evmcc2" FAB3_CHANNEL="mychannel" FAB3_CONFIG="/opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/working.yaml" FAB3_ORG="org2" FAB3_PORT="5000" FAB3_USER="User1" /opt/gopath/src/github.com/fastchain/fabric-chaincode-evm/bin/fab3 

```
8. Tried to deploy contract and got the same exception 

```
{'code': -32000, 'message': 'Failed to execute transaction: Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted', 'data': None}

```

it looks like an  issue could be somewhere at the junction.. 
Do you have any Ideas what to do next?
Thanks.  
 

</p>
<p><strong>MHBauer</strong> (Mon, 06 May 2019 16:22:15 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=smLg9NxCMF8k3PvbR) @fastchain burrow details https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Gopkg.toml#L9-L10 
</p>
<p><strong>MHBauer</strong> (Mon, 06 May 2019 16:22:30 GMT):<br/>
I assume we can still check out that tag of burrow and run it.
</p>
<p><strong>swetha</strong> (Mon, 06 May 2019 19:05:34 GMT):<br/>
We use 0.24.4, https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Gopkg.toml#L8-L10. As Morgan said you should be able to checkout that tag in burrow or that release and test using their binaries
</p>
<p><strong>swetha</strong> (Mon, 06 May 2019 19:06:43 GMT):<br/>
In regards to the steps you outlined above, you don't need to download the solc binary when using the fabric evm because we don't compile contracts. Burrow has a deploy tool that will compile contracts which is why they ask you to download solc, which is only necessary if you are testing against a burrow node
</p>
<p><strong>fastchain</strong> (Mon, 06 May 2019 23:08:33 GMT):<br/>
@swetha  hello!
>In regards to the steps you outlined above, you don't need to download the solc binary when using the fabric evm because we don't compile contracts. 

I understand. I used solc to compile a contract to check that contract's bytecode works  in burrow standalone setup. And then I used this code for bmcc chaincode deployment.


@MHBauer  thanks for this tip!

 
</p>
<p><strong>fastchain</strong> (Mon, 06 May 2019 23:08:33 GMT):<br/>
@swetha  hello!
>In regards to the steps you outlined above, you don't need to download the solc binary when using the fabric evm because we don't compile contracts. 

I understand. I used solc to compile a contract to check that contract's bytecode works  in burrow standalone setup. And then I used this code for bmcc chaincode deployment.



 
</p>
<p><strong>fastchain</strong> (Mon, 06 May 2019 23:12:19 GMT):<br/>
@MHBauer thanks! this file Gopkg.toml is used during *make bin/evmcc* operation only, or during  *peer chaincode install -n evmcc2 -l golang -v 0 -p github.com/fastchain/fabric-chaincode-evm/evmcc* as well?

</p>
<p><strong>swetha</strong> (Mon, 06 May 2019 23:19:04 GMT):<br/>
 @fastchain that file is used only during development when updating dependencies or ensuring dependencies are correct
</p>
<p><strong>MHBauer</strong> (Mon, 06 May 2019 23:20:06 GMT):<br/>
you were asking for the version, that's where "what version we have" is written down.
</p>
<p><strong>MHBauer</strong> (Mon, 06 May 2019 23:20:23 GMT):<br/>
it's processed by dep, the tool https://github.com/golang/dep
</p>
<p><strong>MHBauer</strong> (Mon, 06 May 2019 23:24:50 GMT):<br/>
and so, to start your upgrade process, i'd expect something like `dep ensure -update github.com/hyperledger/burrow@0.25.0` or edit the toml and then run `dep ensure`
</p>
<p><strong>Jasonyou</strong> (Tue, 07 May 2019 00:11:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fahadkheratker</strong> (Tue, 07 May 2019 06:43:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fahadkheratker</strong> (Tue, 07 May 2019 08:30:48 GMT):<br/>
Hello, each time a eth smart contract over fabric-chaincode-evm is invoked , three transaction are added to the block chain
</p>
<p><strong>fahadkheratker</strong> (Tue, 07 May 2019 08:31:00 GMT):<br/>
can anybody tell me the significance of the same?
</p>
<p><strong>fahadkheratker</strong> (Tue, 07 May 2019 08:31:22 GMT):<br/>
and the correct way to filter these transactions?
</p>
<p><strong>fahadkheratker</strong> (Tue, 07 May 2019 08:33:05 GMT):<br/>
i have an event listener listening my blockchain transactions, need to filter transactions over fabric-chaincode-evm accordingly
</p>
<p><strong>Ulysses</strong> (Tue, 07 May 2019 08:46:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fastchain</strong> (Tue, 07 May 2019 09:00:39 GMT):<br/>
@MHBauer 
I've ```dep ensure  -update -v``` with 
```
[[constraint]]
  version = "0.25.0"
  name = "github.com/hyperledger/burrow"
```
in Gopkg.toml

and then  relaunched network.  with no luck 
```
Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted', 'data': None
```
:head_bandage:
</p>
<p><strong>fastchain</strong> (Tue, 07 May 2019 09:00:39 GMT):<br/>
@MHBauer 
I've ```dep ensure  -update -v ```  with 
```
[[constraint]]
  version = "0.25.0"
  name = "github.com/hyperledger/burrow"
```
in Gopkg.toml

and then  relaunched network.  with no luck 
```
Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted', 'data': None
```
:head_bandage:
</p>
<p><strong>fastchain</strong> (Tue, 07 May 2019 09:00:39 GMT):<br/>
@MHBauer 
I've ``` dep ensure  -update -v ```  with 
```
[[constraint]]
  version = "0.25.0"
  name = "github.com/hyperledger/burrow"
```
in Gopkg.toml

and then  relaunched network.  with no luck 
```
Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted', 'data': None
```
:head_bandage:
</p>
<p><strong>fastchain</strong> (Tue, 07 May 2019 09:00:39 GMT):<br/>
@MHBauer 
I've 
``` 
dep ensure  -update -v 
``` 
 with 
```
[[constraint]]
  version = "0.25.0"
  name = "github.com/hyperledger/burrow"
```
in Gopkg.toml

and then  relaunched network.  with no luck 
```
Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: error 16 - execution reverted: execution reverted', 'data': None
```
:head_bandage:
</p>
<p><strong>swetha</strong> (Tue, 07 May 2019 18:25:59 GMT):<br/>
What are the 3 transactions? There should only be one transaction per evmcc invocation
</p>
<p><strong>swetha</strong> (Tue, 07 May 2019 18:27:31 GMT):<br/>
We have a couple problems here in debugging. I am not clear that the Burrow update will solve your problem, so until we solve that we won't know if the problem is that the bug is still there or if the code change is taking effect, as this was a problem earlier for you
</p>
<p><strong>swetha</strong> (Tue, 07 May 2019 18:27:58 GMT):<br/>
@fastchain ^^
</p>
<p><strong>swetha</strong> (Tue, 07 May 2019 18:28:08 GMT):<br/>
@fahadkheratker ^^
</p>
<p><strong>MHBauer</strong> (Tue, 07 May 2019 22:08:44 GMT):<br/>
looks like rocket does threading now.
</p>
<p><strong>fastchain</strong> (Tue, 07 May 2019 23:50:12 GMT):<br/>
here are filtered logs from container docker logs peer0.org1.example.com -f 2>&1 | grep -via gossip | grep -via discovery
https://pastebin.com/vuG6KaAi

does it make any sense?


>so until we solve that we won't know if the problem is 

OK. I'll roll back to 24
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 00:10:24 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=ttoQQnoSRvwML27R7) the logs don't really show what the problem is. I don't think 24 versus 25 is the problem. If we are able to verify that burrow in general results in the same thing or doesn't that will help us narrow down the search
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 00:11:04 GMT):<br/>
In the burrow channel I think sean gave some ideas as to what caused the error. do any of those apply? 
</p>
<p><strong>fastchain</strong> (Wed, 08 May 2019 01:30:29 GMT):<br/>
You mean this message 

https://chat.hyperledger.org/channel/burrow?msg=nJ3Ggm9pCRPypRqMD ?
</p>
<p><strong>fastchain</strong> (Wed, 08 May 2019 01:30:29 GMT):<br/>
Do you mean this message  ?

https://chat.hyperledger.org/channel/burrow?msg=nJ3Ggm9pCRPypRqMD ?
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 01:56:48 GMT):<br/>
yes that's the one
</p>
<p><strong>guoger</strong> (Wed, 08 May 2019 01:57:38 GMT):<br/>
UI is a bit odd tho...
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 01:57:50 GMT):<br/>
very weird
</p>
<p><strong>guoger</strong> (Wed, 08 May 2019 01:58:38 GMT):<br/>
looks like rocket does threading now.
</p>
<p><strong>fastchain</strong> (Wed, 08 May 2019 02:51:46 GMT):<br/>
it looks like none of this is applicable to test contract :(

is there any way to get a debug output from burrow when it runs with evmcc ?
</p>
<p><strong>fastchain</strong> (Wed, 08 May 2019 02:51:46 GMT):<br/>
it looks like none of this is applicable to the test contract :(

is there any way to get a debug output from burrow when it runs with evmcc ?
</p>
<p><strong>fastchain</strong> (Wed, 08 May 2019 03:40:00 GMT):<br/>
Dear all. Is there any way to forward  an evmcc debug log  to the stdout  (to read with 'docker logs')?  
</p>
<p><strong>fastchain</strong> (Wed, 08 May 2019 03:40:00 GMT):<br/>
Dear all, Is there any way to forward  an evmcc debug log  to the stdout  (to read with 'docker logs')?  
</p>
<p><strong>fastchain</strong> (Wed, 08 May 2019 04:34:40 GMT):<br/>
to get this kind of  messages 
https://github.com/hyperledger/burrow/blob/c44fbec9feab53f2e537ddde830505fea90e6f98/deploy/jobs/jobs_contracts.go#L478
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:19:09 GMT):<br/>
not as it is. you'd have to do research to figure out how to hook it up.
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:19:19 GMT):<br/>
look for `var evmLogger = logging.NewNoopLogger()`
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:26:21 GMT):<br/>
if you can figure out a way to shoehorn the flogging logger , or just implement it with fmt.Println() you'll get output to docker logs.
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:35:47 GMT):<br/>
looking back through the code, the vm doesn't have a lot of log entries
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:38:06 GMT):<br/>
if you want the opcodes, you can look for 
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:38:08 GMT):<br/>
	vm := evm.NewVM(newParams(), callerAddr, nonce, evmLogger)

</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:38:20 GMT):<br/>
and then add after it 
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:38:22 GMT):<br/>
	evm.DebugOpcodes(vm)
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:38:48 GMT):<br/>
and if you want even more, find in burrow code
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:38:48 GMT):<br/>
	// Uncomment for quick and dirty debug
	//fmt.Printf(format, a...)

</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:38:52 GMT):<br/>
and uncomment it
</p>
<p><strong>MHBauer</strong> (Wed, 08 May 2019 06:39:45 GMT):<br/>
you'll need to implement the logger for the first one to work.
</p>
<p><strong>klenik</strong> (Wed, 08 May 2019 11:11:51 GMT):<br/>
Hi All! I've run into some strange behavior that I can't really explain, could you give me some insights about the EVMCC and EVM interaction?

Full disclosure: I'm using a [modified EVMCC](https://github.com/aklenik/caliper/blob/fabric-evm/src/adapters/fabric-ccp/src/evmcc/evmcc.go) which exposes the `value` and `nonce` variables to the caller (and some extra timing logs). But the core logic is the same, plus I don't use the value, just the nonce in the next scenario. 

So the scenario is the following. I have a simple token contract that has a `transfer` function with an additional `balances` backing field/map and using safemath. The gist of the relevant code is this:
```
mapping(address => uint256) public balances;
function transfer(address _receiver, uint256 _value) public returns (bool) {
	require(_value > 0 && balances[msg.sender] >= _value);
	balances[msg.sender] = balances[msg.sender].sub(_value);
	balances[_receiver] = balances[_receiver].add(_value);
	return true;
}
```

Nothing interesting so far. I have two version of this contract
</p>
<p><strong>fahadkheratker</strong> (Wed, 08 May 2019 11:27:44 GMT):<br/>
@swetha  my application network is down at the moment ill get back to you with the same issue asap
</p>
<p><strong>fahadkheratker</strong> (Wed, 08 May 2019 11:28:33 GMT):<br/>
Also does any one know how to convert the fabric evm payload to readable string?
</p>
<p><strong>fahadkheratker</strong> (Wed, 08 May 2019 11:28:33 GMT):<br/>
\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\003\350
</p>
<p><strong>klenik</strong> (Wed, 08 May 2019 12:00:24 GMT):<br/>
@fahadkheratker I use [this](https://github.com/ethereumjs/ethereumjs-abi) npm package on the client side to encode/decode arguments/results
</p>
<p><strong>klenik</strong> (Wed, 08 May 2019 12:00:46 GMT):<br/>
@MHBauer @swetha Hi All! This will be long, sorry :) 
I've run into some strange behavior and I can't really explain what I see, so could you give me some insights about the EVMCC and EVM interactions? Continued in the thread below, since now we have this awesome feature.
</p>
<p><strong>klenik</strong> (Wed, 08 May 2019 12:01:01 GMT):<br/>
Full disclosure: I'm using a [modified EVMCC](https://github.com/aklenik/caliper/blob/fabric-evm/src/adapters/fabric-ccp/src/evmcc/evmcc.go) which exposes the `value` and `nonce` variables to the caller (and some extra timing logs). But the core logic is the same, plus I don't use the value, just the nonce in the next scenario. 

So the scenario is the following. I have a simple token contract that has a `transfer` function with an additional `balances` backing field/map and using SafeMath. The gist of the relevant code is this:
```
using SafeMath for uint256;
mapping(address => uint256) public balances;
function transfer(address _receiver, uint256 _value) public returns (bool) {
	require(_value > 0 && balances[msg.sender] >= _value);
	balances[msg.sender] = balances[msg.sender].sub(_value);
	balances[_receiver] = balances[_receiver].add(_value);
	return true;
}
```

Nothing interesting so far. I have two versions of this contract, C1 and C2, but their transfer functions are identical (their whole bytecode is not). I have 2 Fabric identities/certs (client[1|2]). 
I test C1 and C2 independently, on totally clean and separate Fabric networks, but with the same identities (that's why I exposed the nonce, so the contract address generation and the nonce passed to the EVM can be deterministic). The contracts and identities got the same addresses in both tests, I've verified this.

I can deploy both contracts successfully, and client1 get a lot of token in the constructor. Now I call transfer on a clean system with client1: transfer 1000 tokens to client2. And it works in both cases, but there's something strange going on under the hood. Namely, the two contract calls produce a different writeset, but a same readset.

In both cases, there are 3 matching reads (across C1 and C2): 
1. `calleeCode := evmCache.GetCode(calleeAddr)` in EVMCC, with the `contract address` as the key, at version `2.0` (1st block: instantiate EVMCC; 2nd block: deploy EMV contract, so the version comes from this). I assume this read is produced by `statemanager.GetAccount`, based on the key.
2-3: `balances[msg.sender]` and `balances[_receiver]` also produce 1-1 reads (the other access calls are answered from the EVM State's cache). First part of the key is the contract address, plus an extra part, guessing it's the map's key encoded somehow. Guessing these reads are produced by `statemanager.GetStorage`. And so far still good, it returns a version 2.0 answer and a nil, since the second user has 0 tokens, hence not in the map at this point.

Regarding the write set, there are 3 writes:
1-2: Setting `balances[msg.sender]` and `balances[_receiver]` produces 1-1 write, with matching keys and values (across C1 and C2). 
3. However, there's a 3rd write, with the contract address as the key, and a really long value (in hex encoded form, 7116 characters for C1 and 7072 for C2). I guess it's produced by `statemanager.UpdateAccount`. What does this 3rd write represents? The map-related storages are already updated by the previous reads. Plus the two value are almost identical, apart from the length and randomly distributed hex characters around the end...

So what happens here? Functionally, from the client's POV, everything is fine, but this write set difference really botheres me, especially since I don't know where it comes from and everything else matches. Both execution should be deterministic, as ensured by the manually provided nonces.

I've arrived to the following hypothesis by the time I've finished writing this message: the entire Account object is updated/saved, which includes the bytecode of the contract, which is different, hence the different write value. Can someone confirm this? I don't see the bytecode directly in the written value, but I guess Account.Encode() can obscure it somehow.
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 15:59:56 GMT):<br/>
If you are using the peer cli, unfortunately no there is no way to really decode that. Try using fab3, ir takes care of the the encoding to make it in hex
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 15:59:56 GMT):<br/>
If you are using the peer cli, unfortunately no there is no way to really decode that. Try using fab3, it takes care of the the encoding to make it in hex
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 16:04:54 GMT):<br/>
I believe that is correct. There was also a difference in how Burrow dealt with writes so the two releases of the evm will have different writes. I am assuming you are using the same version of the EVM in both cases.
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 16:05:12 GMT):<br/>
So that is probably not the situation
</p>
<p><strong>swetha</strong> (Wed, 08 May 2019 16:08:49 GMT):<br/>
I would have to verify by the opcodes to see where that 3rd write is being generated from. Callstate in the burrow code will use the EVMCC statemanger: https://github.com/hyperledger/burrow/blob/v0.24.4/execution/evm/vm.go#L226-L991
</p>
<p><strong>ahmedahmed</strong> (Thu, 09 May 2019 09:46:53 GMT):<br/>
hi do you think that the use of fabric-evm add an other level of security to fabric because  it stores the smart contract in the ledger and not outside of it like regular chain codes  is that true ?
</p>
<p><strong>MHBauer</strong> (Thu, 09 May 2019 17:32:24 GMT):<br/>
too big for a thread
</p>
<p><strong>MHBauer</strong> (Thu, 09 May 2019 17:32:35 GMT):<br/>
this whole conversation is like one inch wide and nine pages long
</p>
<p><strong>swetha</strong> (Thu, 09 May 2019 17:37:11 GMT):<br/>
Why do you feel that is another level of security? They are two different approaches, I don't necessarily think one is more secure over the other. Are you worried about the code been changed when it is on the file system? Because the fabric system, through the endorsement policy, will ensure that everyone is arriving to the same answer
</p>
<p><strong>swetha</strong> (Thu, 09 May 2019 17:37:33 GMT):<br/>
we can try the discussion option next time. They apparently create sub channels
</p>
<p><strong>MHBauer</strong> (Thu, 09 May 2019 17:38:42 GMT):<br/>
this tells me we should do more logging in the evmcc, 
</p>
<p><strong>MHBauer</strong> (Thu, 09 May 2019 17:38:50 GMT):<br/>
so we can see all the writes.
</p>
<p><strong>MHBauer</strong> (Thu, 09 May 2019 17:39:17 GMT):<br/>
@klenik it's too much work to figure out what changed in your fork of the code.
</p>
<p><strong>MHBauer</strong> (Thu, 09 May 2019 17:39:39 GMT):<br/>
@klenik is the evm contracts/bytecode in the repo as well? 
</p>
<p><strong>MHBauer</strong> (Thu, 09 May 2019 17:39:49 GMT):<br/>
would help us repro and triage eventually
</p>
<p><strong>klenik</strong> (Fri, 10 May 2019 10:06:59 GMT):<br/>
@MHBauer @swetha I'll put together a MWE tomorrow with the crypto materials, contract sources and bytecodes, and I'll try to reproduce the issue(?) in the original evmcc 
</p>
<p><strong>swetha</strong> (Fri, 10 May 2019 15:07:43 GMT):<br/>
That would be great! 
</p>
<p><strong>MHBauer</strong> (Fri, 10 May 2019 17:40:36 GMT):<br/>
What's great?
</p>
<p><strong>swetha</strong> (Fri, 10 May 2019 18:39:53 GMT):<br/>
oh that was in response to the thread. It looks like app on the phone doesn't distinguish between the channel and the thread
</p>
<p><strong>swetha</strong> (Fri, 10 May 2019 18:40:02 GMT):<br/>
That would be great!
</p>
<p><strong>MHBauer</strong> (Fri, 10 May 2019 19:07:55 GMT):<br/>
neat
</p>
<p><strong>Ulysses</strong> (Mon, 13 May 2019 02:46:21 GMT):<br/>
hi, everyone, i'm confused about that can i interact with a smart contract which is not deployed on fabric-evm? Sorry for my stupid question and
</p>
<p><strong>Ulysses</strong> (Mon, 13 May 2019 02:52:56 GMT):<br/>
Hi, i'm confused about that can i interact with a smart contact which is *not* deployed on EVMCC ? Sorry for my stupid question and grungy English
</p>
<p><strong>MHBauer</strong> (Mon, 13 May 2019 06:13:46 GMT):<br/>
WHat is "I"?
</p>
<p><strong>MHBauer</strong> (Mon, 13 May 2019 06:14:14 GMT):<br/>
evm contracts have no concept of fabric to be able to interact with them.
</p>
<p><strong>umtyzc</strong> (Mon, 13 May 2019 07:05:58 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>umtyzc</strong> (Mon, 13 May 2019 07:09:11 GMT):<br/>
Hi, I ran  ‚Äúgo build -o fab3 ./fabproxy/cmd‚Äù , but give a error ‚Äúassembly of vendor hex_decode_amd64.s failed‚Äù. Can you help me for this problem? 
</p>
<p><strong>Ulysses</strong> (Mon, 13 May 2019 07:20:19 GMT):<br/>
@MHBauer  Sorry:sweat_smile: 
Can a smart contact deployed on EVMCC interact with a smart contact deployed on EthereumÔºü
</p>
<p><strong>swetha</strong> (Mon, 13 May 2019 11:47:26 GMT):<br/>
@Ulysses , no a smart contract deployed on EVMCC cannot interact with a smart contract deployed on ethereum. The EVMCC only allows portability of ethereum contracts and dapps
</p>
<p><strong>swetha</strong> (Mon, 13 May 2019 11:48:06 GMT):<br/>
@umtyzc What version of go are you using?
</p>
<p><strong>umtyzc</strong> (Mon, 13 May 2019 12:43:15 GMT):<br/>
Hi swetha, go version 1.9.2
</p>
<p><strong>swetha</strong> (Mon, 13 May 2019 15:39:57 GMT):<br/>
@umtyzc Fab3 requires at least Go 1.10 to compile. Here are the requirements: https://github.com/hyperledger/fabric-chaincode-evm#current-dependencies. Also the version you are using seems older as the code you are referring to has fabproxy in it. I recommend updating to our most recent release or master
</p>
<p><strong>umtyzc</strong> (Mon, 13 May 2019 15:46:20 GMT):<br/>
Thanks @swetha 
</p>
<p><strong>Ulysses</strong> (Tue, 14 May 2019 01:54:39 GMT):<br/>
Thanks for your help @swetha 
</p>
<p><strong>fahadkheratker</strong> (Tue, 14 May 2019 07:12:15 GMT):<br/>
how can i view logs of evmcc
</p>
<p><strong>fahadkheratker</strong> (Tue, 14 May 2019 07:12:19 GMT):<br/>
?
</p>
<p><strong>ahmedahmed</strong> (Tue, 14 May 2019 10:20:43 GMT):<br/>
i asked this question earlier here  is a link https://chat.hyperledger.org/channel/fabric-evm?msg=zaHjfKp2oWoycsFYy
</p>
<p><strong>ahmedahmed</strong> (Tue, 14 May 2019 10:21:51 GMT):<br/>
i have a question: is it possible to change the gas value ?? if yes how or in which file is it set ??
</p>
<p><strong>fahadkheratker</strong> (Tue, 14 May 2019 10:44:02 GMT):<br/>
Yeah it would be great if we had a way to logs fabric evm 
</p>
<p><strong>ahmedahmed</strong> (Tue, 14 May 2019 11:34:51 GMT):<br/>
i have a question: is it possible to change the gas value ?? if yes how or in which file is it set ??
</p>
<p><strong>fahadkheratker</strong> (Tue, 14 May 2019 11:36:54 GMT):<br/>
Also One more query, is there a way to update fabric-evm - (evmcc) whenever a new version is released
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:30:54 GMT):<br/>
@fahadkheratker there are currently not too many logs produce from the evmcc yet. But if you want those logs you can find them, depending on your setup, by getting logs of the container that is running the evmcc. 
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:31:32 GMT):<br/>
If you are looking for logs/events that are produced from your contracts, we don't yet support asynchronous event support. But the events are consumable through the eth_getLogs method
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:33:16 GMT):<br/>
In terms of updating the evmcc, we currently don't make the versions compatible with each other, which means updating might not work if there have been changes in the data model. In general though you should be able to upgrade any chaincode by installing the new version and then running a `peer chaincode update` command
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:34:14 GMT):<br/>
I believe for right not, v0.1 of the evmcc cannot be upgraded to v0.2
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:35:23 GMT):<br/>
@ahmedahmed No it is not possible to change the gas value dynamically. Right now it is hardcoded here: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/evmcc/evmcc.go#L91. Why do you want to change the gas value? Is the value too small?
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:35:53 GMT):<br/>
We made it very high to ensure that transactions should have enough gas to complete
</p>
<p><strong>ahmedahmed</strong> (Tue, 14 May 2019 12:43:07 GMT):<br/>
actually i have a  smart contract that is a bit big i'm using web3 to deploy the smart contract by passing the byte code 
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:59:00 GMT):<br/>
Just curious, what gas limit do you need for your smart contract to work? Typically would you deploy a contract that big on the ethereum network?
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 12:59:33 GMT):<br/>
@ahmedahmed ^^
</p>
<p><strong>ahmedahmed</strong> (Tue, 14 May 2019 13:19:54 GMT):<br/>
when i tested the smart contract in remix the default gas limit value : 3000000 was not enough so i had to set it to 4000000 and in some cases 5000000
</p>
<p><strong>MHBauer</strong> (Tue, 14 May 2019 17:08:12 GMT):<br/>
I was gonna say that 10k doesn't seem like a lot, but burrow has everything valued at 1.
</p>
<p><strong>MHBauer</strong> (Tue, 14 May 2019 19:17:28 GMT):<br/>
@swetha Oh man, we have a meeting tomorrow morning. Gonna be short, I think.
</p>
<p><strong>swetha</strong> (Tue, 14 May 2019 19:59:39 GMT):<br/>
@MHBauer I have a conflict tomorrow, so won't be able to attend
</p>
<p><strong>fahadkheratker</strong> (Wed, 15 May 2019 05:26:08 GMT):<br/>
@swetha thanks for your response, we are planning to use fabric-evm in our production application, however if there are any updates in the evm or any fixes or changes we would mostly like to get an update of that as well if the versions are not compatible we will be unable to do so. Please comment on this query! 
</p>
<p><strong>fahadkheratker</strong> (Wed, 15 May 2019 05:27:14 GMT):<br/>
Also i get that fabric-evm cannot be updated at the moment but what about solidity smartcontract can they be updated over the evm? for eg smartcontract.sol (v1) can be upgraded to smartcontract.sol (v2)
</p>
<p><strong>umtyzc</strong> (Wed, 15 May 2019 08:36:35 GMT):<br/>
Hi, I want to assign assign loyalty contract with web3 using the contract's ABI.               LoyaltyContract = web3.eth.contract(LoyaltyABI)           Error = Reference error loyaltyABI not defined.  
</p>
<p><strong>umtyzc</strong> (Wed, 15 May 2019 08:38:16 GMT):<br/>
Solved.  [ ](https://chat.hyperledger.org/channel/fabric-evm?msg=3g7wWslhRFf1AilCjC)
</p>
<p><strong>klenik</strong> (Wed, 15 May 2019 08:40:38 GMT):<br/>
@MHBauer Hmm, this is an interesting fact, thx. Do you know by any chance what was the reasoning behind this? It's strange that everything matches the EVM yellow paper specification, except the gas costs of operations :thinking: 
</p>
<p><strong>umtyzc</strong> (Wed, 15 May 2019 08:52:58 GMT):<br/>
Now, I want to create a new member using web-app.  Can you help?                             Failed to query the ledger: Transaction processing for endorser [localhost:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: call error: Invalid jump dest
</p>
<p><strong>ahmedahmed</strong> (Wed, 15 May 2019 10:43:19 GMT):<br/>
hi fabric is taking more and more space on my hard disk i tried shutting down the network and creating a new one but still i can't recover any space 
is possible that some files or docker images need to be removed manually ??
</p>
<p><strong>fahadkheratker</strong> (Wed, 15 May 2019 11:41:34 GMT):<br/>
yes 
</p>
<p><strong>fahadkheratker</strong> (Wed, 15 May 2019 11:41:38 GMT):<br/>
clear docker cahc
</p>
<p><strong>fahadkheratker</strong> (Wed, 15 May 2019 11:41:40 GMT):<br/>
cache*
</p>
<p><strong>fahadkheratker</strong> (Wed, 15 May 2019 11:41:47 GMT):<br/>
using docker system prune
</p>
<p><strong>ahmedahmed</strong> (Wed, 15 May 2019 11:53:04 GMT):<br/>
thanks @fahadkheratker but  i have a running  network is going to go down or i'm i going to lose the config if i run  docker system prune  ???
</p>
<p><strong>ahmedahmed</strong> (Wed, 15 May 2019 12:07:03 GMT):<br/>
i tried docker system prune  -a  nothing much happened :(
</p>
<p><strong>fahadkheratker</strong> (Wed, 15 May 2019 12:11:50 GMT):<br/>
what is your system config?
</p>
<p><strong>swetha</strong> (Wed, 15 May 2019 12:34:47 GMT):<br/>
@fahadkheratker no, a solidity smart contract can't be upgraded. Its the same situation as in Ethereum
</p>
<p><strong>swetha</strong> (Wed, 15 May 2019 12:35:29 GMT):<br/>
@umtyzc I am not sure what you are trying. I need more information about what you are calling.
</p>
<p><strong>swetha</strong> (Wed, 15 May 2019 12:36:21 GMT):<br/>
@ahmedahmed docker prune should not affect anything is running
</p>
<p><strong>umtyzc</strong> (Wed, 15 May 2019 12:41:18 GMT):<br/>
I am trying to implement loyalty-points-evm-fabric example. @swetha I have reached the last step. I can start the dapp.js application on localhost:8000 but give a error. 
</p>
<p><strong>umtyzc</strong> (Wed, 15 May 2019 12:43:05 GMT):<br/>
Error details: Failed to query the ledger: Transaction processing for endorser [localhost:7051]: Chaincode status Code: (500) UNKNOWN. Description: failed to execute contract: call error: Invalid jump dest
</p>
<p><strong>swetha</strong> (Wed, 15 May 2019 12:55:47 GMT):<br/>
What is the actual command you are trying to run that causes that error
</p>
<p><strong>lehors</strong> (Wed, 15 May 2019 14:54:15 GMT):<br/>
@swetha do you actually plan to have the call today? I'm guessing not, given that you're at Consensus...
</p>
<p><strong>lehors</strong> (Wed, 15 May 2019 14:54:29 GMT):<br/>
https://wiki.hyperledger.org/display/fabric/Fabric+Chaincode+EVM
</p>
<p><strong>swetha</strong> (Wed, 15 May 2019 15:27:18 GMT):<br/>
@MHBauer should be running it
</p>
<p><strong>MHBauer</strong> (Wed, 15 May 2019 18:07:25 GMT):<br/>
I panicked. Computer crashed and i couldn't get it to start,, so I went in to "get ready to go in to work mode" and failed to consider the obvious solution of "use my own personal computer" until I got to work here.  I apologize. 
</p>
<p><strong>MHBauer</strong> (Wed, 15 May 2019 18:08:12 GMT):<br/>
I think our main update right now, is we don't have enough time to work on this in relation to trying to fill gaps on fabric 2.0. 
</p>
<p><strong>fahadkheratker</strong> (Thu, 16 May 2019 09:45:50 GMT):<br/>
any idea how to debug evmcc?
</p>
<p><strong>fahadkheratker</strong> (Thu, 16 May 2019 12:32:02 GMT):<br/>

<br/><a href="./assets/46DWpFC8MEMPts9Km- Clipboard - May 16, 2019 6:01 PM"> Clipboard - May 16, 2019 6:01 PM</a>
</p>
<p><strong>swetha</strong> (Thu, 16 May 2019 12:51:11 GMT):<br/>
Seems like your application isn't able to connect to the peer
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 05:05:52 GMT):<br/>
any idea on how do we debug the above issue?
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 05:06:04 GMT):<br/>
also is there nay way to debug evmcc?
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 05:06:52 GMT):<br/>

<br/><a href="./assets/YctfZjsyLCz2pxNku-ethereum-get-set.zip">ethereum-get-set.zip</a>
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:02:54 GMT):<br/>
I have also setup a channel based even listener on my channel to listen to my blocks and to detect changes to ledger
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:03:07 GMT):<br/>
the following is the output of the chain code
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:03:32 GMT):<br/>

<br/><a href="./assets/AMco9vyY2EAinkZRr-fahadkheratker - Fri May 17 2019 11:33:13 GMT+0530 (India Standard Time).txt">fahadkheratker - Fri May 17 2019 11:33:13 GMT+0530 (India Standard Time).txt</a>
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:05:37 GMT):<br/>
There are three blocks

During invoking of Block 1 , i had initialised value "ab" to "fahad" and as you can see there are two values in the write state, the first value i do not know what it is, the second value is my data.
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:07:24 GMT):<br/>
then when invoking block 2 i updated "ab" to "fahad v2" and there were three entries in the write states , 1st unclear value [ chaincode data maybe], second value is blank and the 3rd value is my data
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:07:24 GMT):<br/>
then when invoking block 2 i updated "ab" to "fahad v2" and there were three entries in the write states , 1st unknown value [ chaincode data maybe], second value is blank and the 3rd value is my data
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:09:09 GMT):<br/>
then when invoking the 3rd block i updated "ab" to "" and there are three states again , 1st unknown value [ chaincode data maybe], second value is blank and third value is the key "ab" with some unknown string
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:10:42 GMT):<br/>
@swetha  can you please check the chain code and the write state and explain me why is this happening and what is  happening and give some clarity towards the process
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:12:58 GMT):<br/>
we have a channel based block listener that reads writes states to determine what value is added in the block chain such that we do not have to query the block chain everytime and have a record of all transaction and states.
</p>
<p><strong>fahadkheratker</strong> (Fri, 17 May 2019 06:13:14 GMT):<br/>
Please look in to this.
</p>
<p><strong>MHBauer</strong> (Fri, 17 May 2019 22:45:04 GMT):<br/>
what has your listener to do with the question? 
</p>
<p><strong>MHBauer</strong> (Fri, 17 May 2019 22:45:20 GMT):<br/>
The reads are the reads and the writes are the writes. It's how the chaincode works.
</p>
<p><strong>circlespainter</strong> (Sat, 18 May 2019 07:41:02 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fahadkheratker</strong> (Sat, 18 May 2019 11:03:02 GMT):<br/>
You can check the listener output and see what the evm is writing
</p>
<p><strong>fahadkheratker</strong> (Sat, 18 May 2019 11:09:44 GMT):<br/>
the thing is  when i am setting the property ab to blank during the third write the value that is written to the ledger is the name of the property that is ab with some added string
</p>
<p><strong>fahadkheratker</strong> (Sat, 18 May 2019 11:09:49 GMT):<br/>
i dont understand this behavior
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 04:39:11 GMT):<br/>
@fahadkheratker I haven't had time to dig through. Quick glance the 3 keys seem to make sense. I believe the first is the contract account, the second is the mapping in which you are storing the keys in your contract, and the third is the key,value pair in the mapping of which you are altering
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:06:35 GMT):<br/>
After you do the third block and you query the key value is ab returning something other than blank?
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:13:45 GMT):<br/>
yes
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:15:54 GMT):<br/>
this is what is written in the second block's last write states


          "value": "Fahadv2\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u000e"
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:16:21 GMT):<br/>
and the below is written in the third block's last write state


  "value": "ab\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000"
        
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:21:36 GMT):<br/>
as you can see Fahadv2 is replaced by the property name itself in the last block
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:21:46 GMT):<br/>
shouldnt it be blank insteaD?
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:22:15 GMT):<br/>
and what is this value "\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000" what encoding is this , is this garbage value?
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:27:43 GMT):<br/>
okI think `"\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000` is just a series of empty bytes
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:27:51 GMT):<br/>
are you using the peer cli?
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:28:17 GMT):<br/>
basically you are getting the raw bits back, you should encode into hex
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:30:56 GMT):<br/>
yes i am using peer cli
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:33:25 GMT):<br/>
post encoding to hex how to convert it into readable string?
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:42:15 GMT):<br/>
you have to use the sdk
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:42:27 GMT):<br/>
or when you query you can provide `--hex'
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:42:27 GMT):<br/>
or when you query you can provide `--hex`
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:42:46 GMT):<br/>
but recommendation is to use an sdk to interact with the evmcc
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:42:46 GMT):<br/>
but recommendation is to use an sdk to interact with a fabric network
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:43:00 GMT):<br/>
for the evmcc specifically use fab3
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:44:43 GMT):<br/>
we are using node sdk can we do it with that?
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:46:27 GMT):<br/>
yes
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:46:44 GMT):<br/>
you an do that and do everything manually
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:46:44 GMT):<br/>
you can do that and do everything manually
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 05:46:58 GMT):<br/>
or you can use fab3, which allows you to use ethereum clients like remix or web3.js
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:56:41 GMT):<br/>
actually we already have a lot of micro services up and running so we are avoiding fab3 implementation.
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:57:07 GMT):<br/>
we have already manually implemented the code to invoke and query from our peers directly
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 05:57:21 GMT):<br/>
only this remaining is to convert this raw data into readable data
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 06:19:02 GMT):<br/>
then you can do it using the node sdk
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 06:19:18 GMT):<br/>
just change the encoding of the returned values of your invokes and queries
</p>
<p><strong>klenik</strong> (Mon, 20 May 2019 08:38:20 GMT):<br/>
@fahadkheratker I use the following npm package to encode and decode arguments and return values
https://www.npmjs.com/package/ethereumjs-abi

Pros: just supply the "readable" values plus the param/return part of the solidity method signature, and the package will encode/decode it according to the solidity spec (handling even complex structures) 
</p>
<p><strong>gregdhill</strong> (Mon, 20 May 2019 11:14:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 12:42:06 GMT):<br/>
@klenik thanks 
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 12:42:27 GMT):<br/>
@swetha i have successfully decoded the payloads on node
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 12:44:14 GMT):<br/>
however still unsure about the value that is written in the third block. It should be blank  but instead the key name is being written in the last state of the third block
</p>
<p><strong>fahadkheratker</strong> (Mon, 20 May 2019 12:44:21 GMT):<br/>
why is it so?
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 18:23:51 GMT):<br/>
the last block is storing both the key and the value
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 18:23:56 GMT):<br/>
the value in this case is empty bytes
</p>
<p><strong>swetha</strong> (Mon, 20 May 2019 18:24:00 GMT):<br/>
the key is ab
</p>
<p><strong>fahadkheratker</strong> (Tue, 21 May 2019 04:38:58 GMT):<br/>
any particular reason for this behaviour?
</p>
<p><strong>fahadkheratker</strong> (Tue, 21 May 2019 04:39:15 GMT):<br/>
as all blocks are only storing the value of the keys
</p>
<p><strong>fahadkheratker</strong> (Tue, 21 May 2019 04:39:40 GMT):<br/>
only the last block is saving both the key and value when blank value is assigned
</p>
<p><strong>fahadkheratker</strong> (Tue, 21 May 2019 05:21:13 GMT):<br/>
whenever a blank value is set , the key value both are stored in the write state.
</p>
<p><strong>fahadkheratker</strong> (Tue, 21 May 2019 05:21:16 GMT):<br/>
why is it so?
</p>
<p><strong>fahadkheratker</strong> (Tue, 21 May 2019 05:21:20 GMT):<br/>
can you please help?
</p>
<p><strong>MHBauer</strong> (Tue, 21 May 2019 20:23:51 GMT):<br/>
@fahadkheratker that's what the burrow evm gives as writes. We're passing whatever it does through.
</p>
<p><strong>fahadkheratker</strong> (Wed, 22 May 2019 09:32:27 GMT):<br/>
@swetha there is an issue, i have set up the fab3 server and the web3 client, then i deployed the solidity smart contract below and tried to set a blank value to a property (A) of object called "state" of type "mapping", the service was successfully executed, however when i tried to retrieve the same property again through web3 and fab3 setup my client broke. and in the "Write States" the name of the property was saved instead of a blank value

this is indeed a bug. as my fab3 and web3 client also broke when querying this.
</p>
<p><strong>fahadkheratker</strong> (Wed, 22 May 2019 09:32:29 GMT):<br/>
pragma solidity ^0.4.0;

contract GetSetContract{

    mapping (string => string) state;
    event StateSaveEvent(string key, string value);

    function get(string memory key) public view returns(string) {
        string memory value = state[key];
        
        require(!equal(value, ''));
        
        return value;
    }

    function set(string memory key, string memory value) public {
        state[key] = value;

        emit StateSaveEvent(key, value);
    }
    
    function compare(string _a, string _b) internal returns (int) {
        bytes memory a = bytes(_a);
        bytes memory b = bytes(_b);
        uint minLength = a.length;
        if (b.length < minLength) minLength = b.length;
        
        for (uint i = 0; i < minLength; i ++)
            if (a[i] < b[i])
                return -1;
            else if (a[i] > b[i])
                return 1;
        if (a.length < b.length)
            return -1;
        else if (a.length > b.length)
            return 1;
        else
            return 0;
    }
    
    function equal(string _a, string _b) internal returns (bool) {
        return compare(_a, _b) == 0;
    }
}
</p>
<p><strong>fahadkheratker</strong> (Wed, 22 May 2019 09:32:58 GMT):<br/>

<br/><a href="./assets/2SJnYw7MR7GfJqbeG-ethereum-get-set.zip">ethereum-get-set.zip</a>
</p>
<p><strong>MHBauer</strong> (Wed, 22 May 2019 14:06:38 GMT):<br/>
you know there's a require that's supposed to crash it when it's a blank value?
</p>
<p><strong>MHBauer</strong> (Wed, 22 May 2019 14:08:24 GMT):<br/>
additionally, I'm still not sure if this can run require.
</p>
<p><strong>swetha</strong> (Wed, 22 May 2019 14:09:07 GMT):<br/>
@fahadkheratker were you having issues when you tried this just with the peer cli or the node sdk?
</p>
<p><strong>swetha</strong> (Wed, 22 May 2019 14:12:45 GMT):<br/>
and what is the error you are seeing?
</p>
<p><strong>MHBauer</strong> (Thu, 23 May 2019 01:51:39 GMT):<br/>
@klenik any update on your fork-ish to make a caliper bench?
</p>
<p><strong>fahadkheratker</strong> (Thu, 23 May 2019 05:33:15 GMT):<br/>
@swetha fab3 package
</p>
<p><strong>swetha</strong> (Thu, 23 May 2019 17:11:31 GMT):<br/>
@fahadkheratker What is the error you are seeing? As @MHBauer pointed out, your contract will error when get something that is blank
</p>
<p><strong>swetha</strong> (Thu, 23 May 2019 17:11:31 GMT):<br/>
@fahadkheratker What is the error you are seeing? As @MHBauer pointed out, your contract will error when you get something that is blank
</p>
<p><strong>klenik</strong> (Thu, 23 May 2019 20:10:00 GMT):<br/>
@MHBauer My fork-ish was a quick-and-not-so-dirty integration, so it'll be some time (2 weeks maybe) before I can add it to the Caliper repo. 
(But it will be a nice addition, an Ethereum adapter is also WIP, and Burrow has some initial support, so the EVM will be covered from every angle soon :P )
</p>
<p><strong>swetha</strong> (Thu, 23 May 2019 20:38:04 GMT):<br/>
@klenik very cool! looking forward to seeing that
</p>
<p><strong>Ulysses</strong> (Fri, 24 May 2019 01:49:10 GMT):<br/>
Hi everyone, how can smart contract(deployed on Fabric) written in solidity invoke chaincode?  
</p>
<p><strong>MHBauer</strong> (Fri, 24 May 2019 01:56:37 GMT):<br/>
Cannot.
</p>
<p><strong>MHBauer</strong> (Fri, 24 May 2019 01:57:01 GMT):<br/>
evm can only talk to evm
</p>
<p><strong>Ulysses</strong> (Fri, 24 May 2019 02:06:42 GMT):<br/>
:no_mouth: 
</p>
<p><strong>Ulysses</strong> (Fri, 24 May 2019 02:10:03 GMT):<br/>
Thank you for helping me .
</p>
<p><strong>MHBauer</strong> (Fri, 24 May 2019 02:11:47 GMT):<br/>
think about it realistically, tho. What concept of fabric has the evm? How would an evm call fabric?
</p>
<p><strong>guoger</strong> (Mon, 03 Jun 2019 03:06:54 GMT):<br/>
wasm intern 2019 summer
</p>
<p><strong>guoger</strong> (Mon, 03 Jun 2019 03:07:54 GMT):<br/>
wasm intern 2019 summer
</p>
<p><strong>hyper-sunder</strong> (Wed, 05 Jun 2019 05:05:39 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>MHBauer</strong> (Wed, 19 Jun 2019 14:59:21 GMT):<br/>
https://wiki.hyperledger.org/display/fabric/Fabric+Chaincode+EVM meeting very soon
</p>
<p><strong>lehors</strong> (Wed, 19 Jun 2019 15:05:56 GMT):<br/>
nobody wants to say hi to you...
</p>
<p><strong>lehors</strong> (Wed, 19 Jun 2019 15:12:10 GMT):<br/>
you're not on mute but we like to make you suffer thinking you might be ;-)
</p>
<p><strong>kenty</strong> (Wed, 17 Jul 2019 02:25:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>annumberhocker</strong> (Fri, 02 Aug 2019 18:37:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>conanoc</strong> (Tue, 13 Aug 2019 08:50:32 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>madiazp</strong> (Thu, 22 Aug 2019 08:31:04 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>madiazp</strong> (Thu, 22 Aug 2019 08:38:16 GMT):<br/>
Hi, I've got a "error 9 - call stack overflow: int64 overflow from word: ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩl
" from the evmcc.go when it use the call method https://github.com/hyperledger/fabric-chaincode-evm/blob/master/evmcc/evmcc.go#L148, is that bc of the smartcontract code being too large? or the arguments? or something else that I'm missing?
</p>
<p><strong>madiazp</strong> (Thu, 22 Aug 2019 08:40:40 GMT):<br/>
the function in the smartcontract is something like this dd129313": "verifyTx(uint256[2],uint256[2][2],uint256[2],uint256[1]), and I don't want to paste the smartcontract code but is pretty large
</p>
<p><strong>swetha</strong> (Mon, 26 Aug 2019 18:09:17 GMT):<br/>
@madiazp I am taking a look. Sorry for the delay
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:32:17 GMT):<br/>
@swetha No problem, I've got this answere from the burrow team https://github.com/hyperledger/burrow/issues/1224
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:33:09 GMT):<br/>
It will be really good if I (We) can see the logs from burrow
</p>
<p><strong>swetha</strong> (Mon, 26 Aug 2019 22:33:17 GMT):<br/>
@madiazp Oh great that they responded
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:33:29 GMT):<br/>
"We have an option that would help you debug which opcode caused the error: https://github.com/hyperledger/burrow/blob/develop/execution/evm/options.go#L11-L13 but it looks like fabric-evm doesn't currently expose any switch to make that run."
</p>
<p><strong>swetha</strong> (Mon, 26 Aug 2019 22:33:46 GMT):<br/>
Adding an option for burrow logs is on our list
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:33:54 GMT):<br/>
Nice!
</p>
<p><strong>swetha</strong> (Mon, 26 Aug 2019 22:34:15 GMT):<br/>
We haven't gotten to it yet, unfortunately
</p>
<p><strong>swetha</strong> (Mon, 26 Aug 2019 22:34:27 GMT):<br/>
Were you able to get to the core of your issue?
</p>
<p><strong>MHBauer</strong> (Mon, 26 Aug 2019 22:34:28 GMT):<br/>
I think the issue was it just dumped it on stdout, and isn't configurable.
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:35:09 GMT):<br/>
Not yet, today I will run the test told by the burrow team
</p>
<p><strong>MHBauer</strong> (Mon, 26 Aug 2019 22:35:22 GMT):<br/>
:+1: 
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:36:38 GMT):<br/>
If I get something weird I would let you know
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:36:47 GMT):<br/>
(in the test)
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 22:36:56 GMT):<br/>
will*
</p>
<p><strong>swetha</strong> (Mon, 26 Aug 2019 23:02:00 GMT):<br/>
I am also experimenting with the logs. If there is a quick way for you to enable it locally I will let you know as well
</p>
<p><strong>madiazp</strong> (Mon, 26 Aug 2019 23:03:06 GMT):<br/>
that would be great, thanks
</p>
<p><strong>MHBauer</strong> (Mon, 26 Aug 2019 23:45:03 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=JYgt8PB8amCqdiFm4) this code irritates me. there's a way to turn it on, but not off...
</p>
<p><strong>MHBauer</strong> (Mon, 26 Aug 2019 23:46:11 GMT):<br/>
I do retract the previous statement I made about stdout logging, they appear to log to a logger now.
</p>
<p><strong>MHBauer</strong> (Mon, 26 Aug 2019 23:49:41 GMT):<br/>
I suppose we always use a fresh instance of the vm, so, it could be made into a startup configuration, or read from the ledger. Bit difficult.
</p>
<p><strong>swetha</strong> (Tue, 27 Aug 2019 00:33:57 GMT):<br/>
@madiazp Here is a commit I added on my fork that turns on the logging in burrow: https://github.com/swetharepakula/fabric-chaincode-evm/commit/27a43d5ff4e2b9c3eb72f70a5314393cd66731e0
</p>
<p><strong>swetha</strong> (Tue, 27 Aug 2019 00:34:09 GMT):<br/>
As Morgan mentioned, there is no way to turn it off currently
</p>
<p><strong>swetha</strong> (Tue, 27 Aug 2019 00:34:55 GMT):<br/>
To get those changes, I recommend installing the evmcc again with the logging changes with a new version and then upgrading the evmcc to the new version. That should turn on the logging for you
</p>
<p><strong>madiazp</strong> (Tue, 27 Aug 2019 02:00:21 GMT):<br/>
Oh thanks a lot, I would try to do a merge in my local repo, I've changed a lot of things for my purposes
</p>
<p><strong>madiazp</strong> (Tue, 27 Aug 2019 02:00:36 GMT):<br/>
will* again
</p>
<p><strong>guoger</strong> (Tue, 27 Aug 2019 02:03:19 GMT):<br/>
@swetha do we want to migrate to github?
</p>
<p><strong>swetha</strong> (Tue, 27 Aug 2019 02:06:07 GMT):<br/>
@guoger yes we should
</p>
<p><strong>guoger</strong> (Tue, 27 Aug 2019 02:06:46 GMT):<br/>
is the github pipeline thing free? or we need to coordinate with LF to sort out CI
</p>
<p><strong>swetha</strong> (Tue, 27 Aug 2019 02:18:28 GMT):<br/>
Are we still sticking with jenkins?
</p>
<p><strong>swetha</strong> (Tue, 27 Aug 2019 02:18:56 GMT):<br/>
I believe pipeline is free for open source/public projects?
</p>
<p><strong>guoger</strong> (Tue, 27 Aug 2019 02:37:08 GMT):<br/>
that's how i understand it, so no jenkins, but azure pipelines
</p>
<p><strong>MHBauer</strong> (Tue, 27 Aug 2019 19:26:21 GMT):<br/>
azure pipeline?
</p>
<p><strong>MHBauer</strong> (Tue, 27 Aug 2019 19:26:28 GMT):<br/>
I just got access to the github version
</p>
<p><strong>MHBauer</strong> (Tue, 27 Aug 2019 19:26:36 GMT):<br/>
not sure I can share that access
</p>
<p><strong>madiazp</strong> (Wed, 28 Aug 2019 00:28:11 GMT):<br/>
Hi again. So it was the amount of gas https://github.com/hyperledger/fabric-chaincode-evm/blob/master/evmcc/evmcc.go#L87. I've put a random value var gas uint64 = 10123122000 and kind of worked (I had no output but I think is related to the smart contract and not the fabric-cc-evm, and it ran successfully without error)
</p>
<p><strong>vikas.kundz</strong> (Wed, 28 Aug 2019 05:07:31 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Wed, 28 Aug 2019 20:47:29 GMT):<br/>
@madiazp that's great! Interesting error though. I am used to see a not enough gas error for that situation
</p>
<p><strong>swetha</strong> (Wed, 28 Aug 2019 20:48:09 GMT):<br/>
Are most of the smart contracts that you write a similar size which would require gas limits higher than 90000?
</p>
<p><strong>swetha</strong> (Wed, 28 Aug 2019 20:48:09 GMT):<br/>
Are most of the smart contracts that you write a similar size which would require gas limits higher than 10000?
</p>
<p><strong>madiazp</strong> (Wed, 28 Aug 2019 20:58:36 GMT):<br/>
the sc that I used in this case it was one auto generated by ZoKrates https://github.com/Zokrates/ZoKrates. I'm really new with smart contract but the tiny ones that I made to test fabric-cc-evm worked just fine. The smart contracts generated by ZoKrates are really large bc of the zk-SNARK implementations.
</p>
<p><strong>madiazp</strong> (Wed, 28 Aug 2019 21:02:36 GMT):<br/>
but yeah it was odd to me too. I'll make more test about gas and why throw an overflow instead of a "not enough gas" error
</p>
<p><strong>madiazp</strong> (Thu, 29 Aug 2019 01:39:14 GMT):<br/>
Here is a more detailed update https://github.com/hyperledger/burrow/issues/1224#issuecomment-525984271
</p>
<p><strong>conanoc</strong> (Thu, 29 Aug 2019 09:50:01 GMT):<br/>
I have two questions about fabric-evm. 
1. evmcc is replacing "from account" or caller address to the creater's ID. This creater's ID will be the ID of Fab3 and it is strange that Fab3 replaces the caller address with it's own address. Some Ethereum Dapp will not work if it's JSON-RPC proxy replaces the caller address. For example, Ethereum wallet will not able to send ERC20 tokens to other accounts using Fab3. Is there any reason why Fab3 replaces the caller addess?
2. Ethereum Dapps usually send signed transaction to the proxy and this ensures that the transaction is valid and it will not be modified in the middle until it is included in the block. evmcc does not seem to check the signature of the transaction, and it does not save the transaction as the original form. It's a problem because it executes the transaction without validation and the stored transaction cannot be verified that it's not tampered.
</p>
<p><strong>swetha</strong> (Thu, 29 Aug 2019 20:23:57 GMT):<br/>
@conanoc 
1. So in this case Fab3 would be connected to your wallet. When you start up you indicate the identity that you want to use. Fab3 does not actually replace the address. It just removes whatever is provided because the EVM gets the address by the submitting signature. Fab3 will sign the transaction with the identity you have chosen to use and from the signature the EVM on the fabric node will be able to determine the caller address. So there is no way to actually insert an caller address. We currently do not support Ethereum wallets. One of the biggest reasons is because the certificate algorithms are different from Ethereum and Fabric so the certs cannot be shared.
2. Fab3 does not have the ability to send signed transactions. One of the blocks for this is that the underlying fabric client  (fabric-go-sdk) does not accept signed transactions yet. When the feature is added, there will need to be some thought on design because of the differences in Ethereum and Fabric certs. 
By the time the transaction comes to the EVMCC, the fabric node has already verified the signature of the transactions. And for the transaction to be added to a block, various nodes must generate the same read write sets. Each node would be verifying the transaction signature 
</p>
<p><strong>madiazp</strong> (Thu, 29 Aug 2019 20:49:00 GMT):<br/>
when I submit a smart contract to the ledger via the ZeroAddress, it get added in the chain right? so other smart contract in the chain can use it? for example If I submit a solidity library as a smart contract  another smart contract could import it with its address.
</p>
<p><strong>swetha</strong> (Thu, 29 Aug 2019 20:57:03 GMT):<br/>
@madiazp That is correct
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 02:45:17 GMT):<br/>
@swetha Thanks for your explanation. I think fabric transaction can just embed ethereum transaction as data and treat ethereum as one of the apps using fabric. fabric-evm could support ethereum wallets if evmcc does not replace the caller account. You mentioned that certificate algorithms are different from Ethereum and Fabric, but why do they have be the same? The thing fabric-evm has to do with the ethereum signature is to validate the signature of the ethereum transaction. As for the transaction added in the block, Ethereum Dapps will only care whether it's the same transaction as the one they submitted and if it can be verified with the signature attached in the transaction that it's not tamperd.
</p>
<p><strong>swetha</strong> (Fri, 30 Aug 2019 03:06:31 GMT):<br/>
@conanoc The algorithms don't necessarily need to be the same, but an ethereum identity is not associated to anything on the fabric side. It would mean the EVMCC would have added functionality about storing ethereum certs, and need to do the validation, which is already being done by the Fabric Peer. Saying that, we have thought about the approach you have mentioned, but have not settled on how to handle it. Questions that come up is whether that ethereum identity/certificate can be anonymous, which is different from Fabric. If we say ethereum identity needs to be connected to a fabric identity, it means maintaining two types of identity management. Ethereum Dapps would still be able to see it as the same transaction, as the caller address will be the same as the identity that signed the transaction to begin with. It would only be different if the Dapp tried to put in a callee address that it was not using to sign the transaction.

I am also curious to understand the use case of needed an ethereum certificate over using the fabric one? What are the benefits gained?
</p>
<p><strong>swetha</strong> (Fri, 30 Aug 2019 03:06:31 GMT):<br/>
@conanoc The algorithms don't necessarily need to be the same, but an ethereum identity is not associated to anything on the fabric side. It would mean the EVMCC would have added functionality about storing ethereum certs, and need to do the validation, which is already being done by the Fabric Peer. Saying that, we have thought about the approach you have mentioned, but have not settled on how to handle it. Questions that come up is whether that ethereum identity/certificate can be anonymous, which is different from Fabric. If we say ethereum identity needs to be connected to a fabric identity, it means maintaining two types of identity management. Ethereum Dapps would still be able to see it as the same transaction, as the caller address will be the same as the identity that signed the transaction to begin with. It would only be different if the Dapp tried to put in a callee address that it was not using to sign the transaction.

I am also curious to understand the use case of needing an ethereum certificate over using the fabric one? What are the benefits gained?
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 04:16:42 GMT):<br/>
@swetha "If we say ethereum identity needs to be connected to a fabric identity" I want to argue the opposite. I think fabric need not worry about ethereum identity. Because fabric need not worry about the internal ID system of the apps running on fabric. Ethereum is an app running on fabric. But currently, evmcc is touching the internal account of the app named "ethereum".
I'd like to clarify this confusion. An ethereum node which serves evm-JSON-RPC can have two roles. One is serving the user running the node. The user is running a Dapp and a node on the his computer. He is the single user of the computer. The node has accounts generated by the user and the Dapp will use that accounts. The second role is serving multiple users as a proxy. The users are running Dapp on their own computers but are not running ethereum nodes. They use a proxy node which supports JSON-RPC. In this case, the users have their own accounts and they send transactions signed with their own certificate to the proxy. 
I've talked about this second case and you seem to considering only the first case. I think the second case is more common when we consider the ethereum nodes for the enterprise.
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 06:41:02 GMT):<br/>
Not sure i fully understand the question here but here's my response:

>  I think fabric need not worry about ethereum identity.
Ultimately a tx needs to be signed by a signer, which needs to be 1-1 mapped to an account addr within Fabric, so the evm will know who's calling the contract. In another word, as long as evm itself doesn't manage an address space and does not do authentication, Fabric is going to be "worrying about ethereum" identity.

as for submitting a signed tx via proxy or having a light node doing that for you, is orthogonal to this problem.
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 06:41:02 GMT):<br/>
@conanoc  Not sure i fully understand the question here but here's my response:

>  I think fabric need not worry about ethereum identity.
Ultimately a tx needs to be signed by a signer, which needs to be 1-1 mapped to an account addr within Fabric, so the evm will know who's calling the contract. In another word, as long as evm itself doesn't manage an address space and does not do authentication, Fabric is going to be "worrying about ethereum" identity.

as for submitting a signed tx via proxy or having a light node doing that for you, is orthogonal to this problem.
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 09:55:09 GMT):<br/>
@guoger  Yeah. I was actually talking about signed tx. I agree that generating 1-1 mapped account for handling unsigned tx or doing some command line jobs can be a convenient way. What I wanted to say was fabric identity can be and should be independent to the ethereum identity.
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 09:58:16 GMT):<br/>
@conanoc are you suggesting that we double sign the tx - `F(E(m))`, where F is for fabric and E for ethereum?
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 09:58:54 GMT):<br/>
Sure.
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 10:01:28 GMT):<br/>
E(m) is necessary because it will be done offline usually and F(m') will be done by fabric's existing logic.
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 10:03:35 GMT):<br/>
It may be confusing what tx mean here. I mean the fabric tx not the ethereum tx.
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 10:10:43 GMT):<br/>
ok i see. My confusion was actually around `fabric need not worry about ethereum identity`, because technically it does - it needs to get addr from pubkey.
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 10:11:47 GMT):<br/>
so it's not completely agnostic to ethereum identity in the sense that if ethereum changes the way it encodes addr, then evmcc is broken
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 10:12:31 GMT):<br/>
Right.
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 10:12:53 GMT):<br/>
but anyway, i agree that we should be more compatible with wallets, and i don't think this require drastic change to out implementation
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 10:12:53 GMT):<br/>
but anyway, i agree that we should be more friendly with wallets, and i don't think this require drastic change to out implementation
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 10:12:53 GMT):<br/>
but anyway, i agree that we should be more friendly to wallets, and i don't think this require drastic change to out implementation
</p>
<p><strong>guoger</strong> (Fri, 30 Aug 2019 10:13:26 GMT):<br/>
let's see what others think when they wake up @swetha @MHBauer 
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 10:17:23 GMT):<br/>
I was confused that fab3 was already handling signed tx via eth_sendTrasaction RPC. I didn't know signed tx only sent via eth_sendRawTransaction RPC.
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 10:18:47 GMT):<br/>
So I thought evmcc was replacing the caller address of the signed ethereum tx.
</p>
<p><strong>conanoc</strong> (Fri, 30 Aug 2019 10:22:33 GMT):<br/>
I think every thing will be clear when we implement eth_sendRawTransaction RPC. :smile: 
</p>
<p><strong>swetha</strong> (Fri, 30 Aug 2019 16:44:59 GMT):<br/>
So in this scenario E(M) where E is ethereum is purely meant for encryption purposes. If this is the purpose then doing F(E(m)) is not a problem. My concern here is that Fab3 if it is doing F(x), where x is any transaction, is that it should not be used as a proxy that multiple users can use. Because from a fabric transaction standpoint only one user is submitting those transactions. I know Jay and I have talked about F(E(m)) as a way to introduce wallet support sooner than later. However, even if we don't care about the E(m) algorithm or identity, we should care that F(x) is done per user, not a group. If we break this, it opens the door for pseudo anonymous transactions which I feel like is a departure from Fabric. 

To be able to make fab3 a proxy that does no signing and simply acts as a way to send transactions, then I think the identity used needs to be one recognized by the system. This option requires that 1. either we support ethereum signing algorithm or 2. waiting on signing transactions through the go sdk. Though as I think about it we could support 2 now and leave it up to the user to figure out how to sign the transaction.

If we support F(E(m)) I think we are then making Fab3 1-1 to a user. If we try to support using Fabric ways of submitting signed transactions we would be able to make fab3 more lightweight and simply a proxy.
</p>
<p><strong>swetha</strong> (Fri, 30 Aug 2019 16:45:10 GMT):<br/>
@conanoc , @guoger 
</p>
<p><strong>conanoc</strong> (Sat, 31 Aug 2019 01:54:07 GMT):<br/>
@swetha Isn't F(x) done on the peer not on Fab3? Fab3 could have no function of signing. E(m) will be done on the ethereum Dapps, e,g, Wallets and sent to Fab3 via eth_sendRawTrasaction. Fab3 only checks the validity of the signature and bypasses the transaction to evmcc. F(x) will be done on the endorsing peers as usual. In this scenario, E(m) is not done when Fab3 is serving eth_sendTransaction because Fab3 is creating ethereum tx itself. I think it's not a problem because the ethereum tx is created by Fab3 itself, which means Fab3 don't have to verify the tx.
</p>
<p><strong>swetha</strong> (Sat, 31 Aug 2019 02:04:10 GMT):<br/>
F(x) validation is done on the peer side, but the actual signing currently is done on Fab3. So to submit anything it needs to be signed by an identity recognized by Fabric. Say we allow an ethereum cert to sign a transaction and send the raw transaction. That signed ethereum tx must be signed by with a fabric cert. Whether this is done through fab3 or outside, it doesn't matter. This is where you need to have a fabric identity.
</p>
<p><strong>swetha</strong> (Sat, 31 Aug 2019 02:06:01 GMT):<br/>
So what the role of Fab3 is in that end to end can change based on how the fabric signing is done
</p>
<p><strong>swetha</strong> (Sat, 31 Aug 2019 02:06:19 GMT):<br/>
@conanoc 
</p>
<p><strong>conanoc</strong> (Mon, 02 Sep 2019 02:45:06 GMT):<br/>
I got what you mean. Thank you for your explanation. @swetha @guoger 
</p>
<p><strong>silasdavis</strong> (Mon, 02 Sep 2019 12:14:27 GMT):<br/>
@swetha I have found a bit of time for us to finally take a look at integrating the fab3 web3 code into Burrow. Last time we spoke it was with regards to an intern which we didn't get but I remember you saying you had the go ahead in principle to spin https://github.com/hyperledger/fabric-chaincode-evm/tree/master/fab3 out into it sown repo?

Is that still the case, not sure what kind of overhead that represents for you. Provided the import tree from the fab3 sub-package is fairly clean it is not a huge deal for us to start integrating by depending on fabric-chaincode-evm. Longer term if it makes it into Burrow master it would be preferable for it to be its own thing.





</p>
<p><strong>silasdavis</strong> (Mon, 02 Sep 2019 12:14:27 GMT):<br/>
@swetha I have found a bit of time for us to finally take a look at integrating the fab3 web3 code into Burrow. Last time we spoke it was with regards to an intern which we didn't get but I remember you saying you had the go ahead in principle to spin https://github.com/hyperledger/fabric-chaincode-evm/tree/master/fab3 out into it sown repo?

Is that still the case, not sure what kind of overhead that represents for you. Provided the import tree from the fab3 sub-package is fairly clean it is not a huge deal for us to start integrating by depending on fabric-chaincode-evm. Longer term if it makes it into Burrow master it would be preferable for it to be its own thing.
</p>
<p><strong>silasdavis</strong> (Mon, 02 Sep 2019 12:14:27 GMT):<br/>
@swetha I have found a bit of time for us to finally take a look at integrating the fab3 web3 code into Burrow. Last time we spoke it was with regards to an intern which we didn't get but I remember you saying you had the go ahead in principle to spin https://github.com/hyperledger/fabric-chaincode-evm/tree/master/fab3 out into it sown repo?

Is that still the case? I'm not sure what kind of overhead that represents for you. Provided the import tree from the fab3 sub-package is fairly clean it is not a huge deal for us to start integrating by depending on fabric-chaincode-evm. Longer term if it makes it into Burrow master it would be preferable for it to be its own thing.
</p>
<p><strong>silasdavis</strong> (Mon, 02 Sep 2019 12:15:13 GMT):<br/>
Also reading above I think there will be some coordination needed if/when we add wallet support - assuming this involves `sendRawTransaction`.
</p>
<p><strong>silasdavis</strong> (Mon, 02 Sep 2019 12:15:53 GMT):<br/>
One piece we could definitely collaborate on is writing a Apache 2 golang RLP codec to pull out the eth transaction data
</p>
<p><strong>swetha</strong> (Tue, 03 Sep 2019 16:52:50 GMT):<br/>
@silasdavis I have to check if we still have the go ahead to move fab3 out. A few things that have changed from then to know, is that fabric and its sub components have been slowly moving from gerrit to github repositories. This involves changes in our CI/CD.  I am thinking if I get the go ahead again, it would be best to coordinate with the move to github for the fabric-chaincode-evm.

In regards to fab3 imports. They should be fairly clean. We are also trying to separate out the evmcc and fab3 code in the repository to make the evmcc easier to install as well as give us more flexibility with out dependencies between evmcc and fab3. Here is a wip branch of that code: https://github.com/swetharepakula/fabric-chaincode-evm/tree/split-evmcc-fab3. 
</p>
<p><strong>MHBauer</strong> (Tue, 03 Sep 2019 20:32:54 GMT):<br/>
why did we think https://jira.hyperledger.org/browse/FAB-13768 was a problem? I can recall we kind of all independently think so, but the 'why' doesn't come to me anymore...
</p>
<p><strong>swetha</strong> (Wed, 04 Sep 2019 00:34:53 GMT):<br/>
@MHBauer The user address creation is not a problem in its current form. The issue was originally created to move towards being more similar to how ethereum generates address. As in directly getting the sum from the user's public key. The issue will not have much a change from a user perspective other than their user address being different
</p>
<p><strong>MHBauer</strong> (Wed, 04 Sep 2019 00:41:59 GMT):<br/>
well let's get it in the issue.
</p>
<p><strong>swetha</strong> (Wed, 04 Sep 2019 04:26:24 GMT):<br/>
There should be a comment from earlier today saying something similar
</p>
<p><strong>MHBauer</strong> (Wed, 04 Sep 2019 05:24:23 GMT):<br/>
SUPER
</p>
<p><strong>madiazp</strong> (Thu, 05 Sep 2019 06:24:34 GMT):<br/>
Hi, from where does the evmcc import the burrow package? They're not in the fabric-cli container's gopath, nor the peer's, and even when I remove the burrow files from the gopath of my local machine the chaincode is still installed and invokated with no problems. 
</p>
<p><strong>madiazp</strong> (Thu, 05 Sep 2019 06:26:58 GMT):<br/>
I want to modify something on the evm/vm.go of the burrow package, but I'm not sure what path is the one that evmcc is using. 
</p>
<p><strong>guoger</strong> (Thu, 05 Sep 2019 06:36:06 GMT):<br/>
IINM, it's in `vendor` dir
</p>
<p><strong>madiazp</strong> (Thu, 05 Sep 2019 06:38:35 GMT):<br/>
oh I see... Thanks!
</p>
<p><strong>Shezay</strong> (Thu, 05 Sep 2019 06:43:48 GMT):<br/>
Hi,I've been having an issue with fab3 for a few days now. I'm trying the getLogs call like in Fab3 Instructions: https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Fab3_Instructions.md#eth_getlogs however, I'm getting this message:
{"jsonrpc":"2.0","error":{"code":-32000,"message":"rpc: can't find method \"eth.GetLogs\"","data":null},"id":1}``
I don't know what I'm doing wrong, because it used to work before.
Any help is appreciated, thanks
</p>
<p><strong>swetha</strong> (Thu, 05 Sep 2019 13:58:43 GMT):<br/>
@Shezay what is the request you are sending?
</p>
<p><strong>Shezay</strong> (Fri, 06 Sep 2019 05:56:46 GMT):<br/>
@swetha I'm sending the request from the example
curl http://127.0.0.1:5000 -X POST -H "Content-Type:application/json" -d '{
  "jsonrpc":"2.0",
  "method": "eth_getLogs",
  "id":1,
  "params":[
    {"fromBlock":"earliest",
    "address":"0x...",
    "topics":[]}]
}'
with a valid address of a smart contract I've deployed on the network and empty topics. But get the "can't find method getLogs" message.
</p>
<p><strong>swetha</strong> (Fri, 06 Sep 2019 06:09:02 GMT):<br/>
@Shezay what version of the code are you using?
</p>
<p><strong>swetha</strong> (Fri, 06 Sep 2019 06:11:40 GMT):<br/>
That error means that getLogs was not implemented. We introduced that api in our second release. So v0.2, v0.3 and master should not be having that problem
</p>
<p><strong>swetha</strong> (Fri, 06 Sep 2019 06:11:55 GMT):<br/>
If you are switching between versions, also check to make sure to rebuild fab3
</p>
<p><strong>swetha</strong> (Fri, 06 Sep 2019 06:11:55 GMT):<br/>
If you are switching between versions, also check to make sure you are rebuilding fab3
</p>
<p><strong>Shezay</strong> (Fri, 06 Sep 2019 06:29:23 GMT):<br/>
@swetha I thought it might have been that, so tried with the master and v0.2, and it didn't work with either. I rebuilt it, even installed evmcc again just in case. So at this point I thought it might have been something with a configuration file that is wrong, but idk if there's anything that may cause that problem?
I did use fab3 to deploy some contracts and it worked, so idk why it wouldn't with that. 
I'll rebuild it again using the master branch just in case, and see if it works though
</p>
<p><strong>Shezay</strong> (Fri, 06 Sep 2019 06:52:06 GMT):<br/>
@swetha So I just removed the previous fabric-chaincode-evm directory, got the master branch, 
did the make fab3 command, 
restarted my cli container, installed the evm chaincode as evmcc2
set the Fab3 variables, started it, and sent the request and it still says it cannot find the getLogs method. I'm sorry if this is not getting anywhere haha but I'm a bit lost. I'm thinking of starting a brand new network on another machine and test it there. Just in case there is something wrong with this network or something
</p>
<p><strong>Shezay</strong> (Fri, 06 Sep 2019 11:11:54 GMT):<br/>
@swetha just tried it on another machine with a previous configuration, and it worked. So there must be something wrong with some of my changes
</p>
<p><strong>swetha</strong> (Fri, 06 Sep 2019 15:32:47 GMT):<br/>
@Shezay where/what are the changes you are making? Are you touching the codec file? Changes to the config file will not affect how fab3 works. That error is coming purely from the library we use to process the requests 
</p>
<p><strong>MHBauer</strong> (Fri, 06 Sep 2019 15:42:18 GMT):<br/>
The issue must exist in a Fab3 change.
</p>
<p><strong>Shezay</strong> (Sat, 07 Sep 2019 17:31:42 GMT):<br/>
The reason why I don't believe the issue is in Fab3 itself is because I tried rebuilding it using version 0.2 and it kept giving me that issue. And on another machine, using 0.2 it didn't? I mean, I don't know I could be way wrong haha
And no, @swetha I haven't touched any fab3 files. I was mostly speaking about maybe something being spelled wrong or wrong paths or something like that.
</p>
<p><strong>swetha</strong> (Sat, 07 Sep 2019 18:58:01 GMT):<br/>
@Shezay So the error is coming because the gorilla rpc library we use can't find a method eth.GetLogs, which should be corresponding to https://github.com/hyperledger/fabric-chaincode-evm/blob/release-0.2/fab3/ethservice.go#L388. Gorilla figures out what to look for from this file: https://github.com/hyperledger/fabric-chaincode-evm/blob/release-0.2/fab3/codec.go#L38-L51. Basically it takes eth_getLogs and turns it into eth.GetLogs. The error happens at the fab3 level. The request can't be processed, so it is returning the error, but it has not passed on the request to the fabric network yet.

If there are not spelling errors and changes to those files, I am not sure why that error is happening. My only guess is that it could be because the args you are passing in does not match what getLogs is expecting. But if you are seeing on a clean clone of the repo and compiling your request is working, that tells me it has be linked to the changes you have.
</p>
<p><strong>Shezay</strong> (Sun, 08 Sep 2019 15:39:46 GMT):<br/>
@swetha ohh i see

Thought as much, thank you so much for taking your time answering this. I'll look more into, see if I can find what was off
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 18:10:24 GMT):<br/>
@swetha Do you by any chance have a timeline for this update?
https://github.com/swetharepakula/fabric-chaincode-evm/tree/split-evmcc-fab3
A self-contained evmcc vendor dir would be a huge help :) 
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 18:17:42 GMT):<br/>
@klenik some of your struggles were part of the motivation of doing the split. :grinning:  Code wise I think the work is almost ready, it needs a little rebasing with some of the new patches. The difficult thing is going to be the reviews as the change touches almost every file. Most are renames, but we still want to be careful. So I see the review process taking a while. So in regards to a concrete timeline, I don't have one. We do want that in our next release, but I am not sure when that will be
</p>
<p><strong>MHBauer</strong> (Fri, 13 Sep 2019 18:32:36 GMT):<br/>
lol.
</p>
<p><strong>MHBauer</strong> (Fri, 13 Sep 2019 18:33:04 GMT):<br/>
pretty sure I already reviewed it.
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:13:34 GMT):<br/>
yes, you started reviewing and had suggestions as well as more things you wanted to look at it
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 19:13:47 GMT):<br/>
@swetha glad I could contribute to your pile of todos üòÅ then I think I'll do some unofficial testing on your branch 
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:14:57 GMT):<br/>
Yes, @MHBauer we did go through some initial reviews, but iirc they weren't complete and more exploratory to make sure I wasn't missing anything obvious. Also I am not sure the suggestions that came out of that have been completely incorporated into the branch
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:14:57 GMT):<br/>
Yes, @MHBauer we did go through some initial reviews, but iirc they weren't complete and were more exploratory to make sure I wasn't missing anything obvious. Also I am not sure the suggestions that came out of that have been completely incorporated into the branch
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:15:42 GMT):<br/>
@klenik functionality wise that branch should be the same as testing on master of fabric-chaincode-evm :)
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:16:22 GMT):<br/>
might be a little different in terms of what is vendored as now their is more flexibility
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:16:22 GMT):<br/>
might be a little different in terms of what is vendored as now there is more flexibility
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 19:16:39 GMT):<br/>
@swetha awesome! Hopefully I won't break it with my own added mods üòÖ
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:17:53 GMT):<br/>
haha, look forward to hearing your feedback!
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 19:20:55 GMT):<br/>
Any reason for also vendoring the fabric modules? They should be available inside the peer image, shouldn't they? (I'm a golang vendor novice, so forgive me if it's a stupid question) 
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 19:29:37 GMT):<br/>
(at least the chaincodes I've seen so far haven't vendored them, and can still access the stub and other modules) 
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:30:32 GMT):<br/>
@klenik Mostly ease of developing and testing outside of a fabric peer image
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 19:32:27 GMT):<br/>
Shouldn't cloning the fabric source into gopath would achieve the same? And it'd also decrease the evmcc vendor folder size (and wouldn't bind it to a specific fabric version) 
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:45:32 GMT):<br/>
yes what you said makes sense in efforts to reduce the vendor folder size
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:45:57 GMT):<br/>
though I think we open the door to more development issues depending on fabric in someone's gopath
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:47:12 GMT):<br/>
Versioning can become a problem, especially for someone who is also developing on fabric. Though fabric in terms of user functionality might not have breaking changes, they could have changes in the individual functions internally that we use or depend on. 
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:48:29 GMT):<br/>
We probably get hit on this in our testing more than our chaincode as we depend on a lot of the testing helpers and utils in the fabric repo
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:48:36 GMT):<br/>
and those change version to version
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:52:13 GMT):<br/>
What you brought up though is interesting and I haven't really given it much thought before. Our current vendoring was a product of just how we/I were/was used to development for a go project, but I think it would be valuable to explore removing fabric from the evmcc vendor
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 19:52:37 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=4uv46S73EYXbhbkZ5) I haven't considered this aspect. In this case it makes perfect sense to vendor fabric modules :ok_hand: 
</p>
<p><strong>klenik</strong> (Fri, 13 Sep 2019 19:53:42 GMT):<br/>
I don't know whether devDependency concept exists in go, but that would be a good solution for this 
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 19:54:43 GMT):<br/>
The more I think about it, the verisioning I think is the biggest issue, because right now we don't depend on the version of fabric available in the peer. And most chaincodes to my knowledge don't depend on modules in fabric as much as we do, so I feel like there is also more possibility of errors in that way too. But I am not sure
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 20:00:25 GMT):<br/>
Dev dependencies is one thought. I don't think that is a built in concept and would be more about how a specific project is managed
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 20:01:32 GMT):<br/>
I would love to hear what you learn if you experiment with removing fabric from the vendor directory. Definitely would be open to that as long as we figured out a way to keep development easy enough
</p>
<p><strong>swetha</strong> (Fri, 13 Sep 2019 20:01:47 GMT):<br/>
@MHBauer & @guoger may have more thoughts on the subject as well
</p>
<p><strong>MHBauer</strong> (Sat, 14 Sep 2019 04:40:49 GMT):<br/>
modules and stop vendoring
</p>
<p><strong>MHBauer</strong> (Sat, 14 Sep 2019 04:41:00 GMT):<br/>
ut I dunno how any of it works in real life
</p>
<p><strong>klenik</strong> (Sun, 15 Sep 2019 09:09:59 GMT):<br/>
How about using a hierarchical vendor structure? Something like this:
```
repo-root/
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ evmcc/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vendor/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ runtime deps without fabric
‚îÇ   ‚îî‚îÄ‚îÄ fab3/
‚îÇ       ‚îî‚îÄ‚îÄ vendor/
‚îÇ           ‚îî‚îÄ‚îÄ runtime deps
‚îî‚îÄ‚îÄ vendor/
    ‚îî‚îÄ‚îÄ dev&test deps
```
This way you still bind the fabric modules to your repo for dev&test, and evmcc is not packaged with fabric. Haven't tried such a structure yet, but _in theory_ it sounds doable (and maintainable)
</p>
<p><strong>charyorde</strong> (Sun, 15 Sep 2019 14:24:35 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Sun, 15 Sep 2019 15:17:10 GMT):<br/>
Does that even work? I'm not sure that would help.
</p>
<p><strong>MHBauer</strong> (Sun, 15 Sep 2019 15:17:43 GMT):<br/>
and its not really different from the three folders we have to move towards right now.
</p>
<p><strong>klenik</strong> (Sun, 15 Sep 2019 21:01:29 GMT):<br/>
From this: https://golang.org/cmd/go/#hdr-Vendor_Directories
> Code below a directory named "vendor" is importable only by code in the directory tree rooted at the parent of "vendor", and only using an import path that omits the prefix up to and including the vendor element.

So the evmcc code would see the union of packages in `reporoot/vendor` and `evmcc/vendor`, but the different types of deps are still kept separated (if I understood the above rule correctly, kind of like node_modules for Node.js). 
(I haven't tried the modules feature yet, seems cleaner than vendoring, but a multi-module repo is still discouraged in the go wiki.)
Anyway, these are just some ideas, you probably know the reqs and constraints of your repo better
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 12:38:44 GMT):<br/>
@MHBauer @swetha 
I've run into a strange behavior for a contract. An event marshalling error occurs after deploying a Solidity contract. I've gathered every related info in this gist: https://gist.github.com/aklenik/0f02e12a4a4c0461aedbd5249d3d8f0d
So far this is the only contract that produced the error (tried other contracts with/without constructor arguments, those worked fine).
Can you also reproduce this in the master branch? (I'm working with the fork of @swetha )
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 21:41:31 GMT):<br/>
@klenik which contract are you deploying?
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 21:43:16 GMT):<br/>
This: https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/payment/escrow
(included the exact source in the gist above)
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 21:45:37 GMT):<br/>
(RefundEscrow.sol)
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:20:13 GMT):<br/>
so i don't get an error when i deploy the refund escrow contract and put my user address as the argument to the constructor!
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:20:13 GMT):<br/>
so i don't get an error when i deploy the refund escrow contract and put my user address as the argument to the constructor
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:35:09 GMT):<br/>
What are the actual transactions you are running that are producing the error?
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:36:22 GMT):<br/>
I see one log in the deployment and if I am reading the contracts correctly I believe that is what is expected?
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 22:37:34 GMT):<br/>
Haven't got that far, the deploy step returned the mentioned error for me. It couldn't marshal the chaincode event (which is the first 8 byte of the new contract address), complaining about invalid UTF8 string :/
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 22:38:09 GMT):<br/>
Did you compile the source, or deployed the bytecode directly from the gist?
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 22:39:57 GMT):<br/>
(the same line for event encoding works for other contracts... that's why I found it strange)
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:43:51 GMT):<br/>
Oh I just saw the piece at the bottom of the gist.
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:44:00 GMT):<br/>
I took the file and put it in remix and deployed it
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:45:18 GMT):<br/>
Is the bytcode in the file with an address added to the end already?
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 22:52:10 GMT):<br/>
The second bytecode contains the argument
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 22:52:46 GMT):<br/>
(the first is just the output of the compiler)
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 22:57:16 GMT):<br/>
Okay, cool. Just realized I was using remix with the inbuilt vm. Retrying now with the peer cli and the directions you gave
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 23:09:32 GMT):<br/>
@klenik So I keep running into a timeout issue, that is something I have not seen before. But the one time I have not got the timeout issue the contract deployed fine and I am able to query the beneficiary
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 23:10:57 GMT):<br/>
Yeah, on the client side it manifests as a timeout, because the peer raises a timeout, since it doesn't get a response from the CC. Which is halted because of a marshalling error. The CC container logs contain the actual issue
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 23:15:25 GMT):<br/>
Interesting, I don't see any logs in the CC container
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 23:15:39 GMT):<br/>
And in the peer logs it is as you said
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 23:16:25 GMT):<br/>
But this exercise does seem to indicate that the problem exists on master
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 23:17:02 GMT):<br/>
Ah, yeah, I changed the logging in the `main` function to: `logger.Errorf("Error starting EVM chaincode: %+v", err)`
`%+v` will give you the detailed error
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 23:18:36 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=gjZegZTGaNLBCd2kr) Or maybe in the Burrow EVM. The contract address is returned from an EVM module. Although there is a slicing in evmcc before it's added to the events
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 23:22:01 GMT):<br/>
Would you be willing to convert the gist you made into a jira issue?
</p>
<p><strong>klenik</strong> (Mon, 16 Sep 2019 23:23:13 GMT):<br/>
Sure, I'll raise the issue tomorrow :thumbsup: 
</p>
<p><strong>swetha</strong> (Mon, 16 Sep 2019 23:24:54 GMT):<br/>
thanks!
</p>
<p><strong>klenik</strong> (Tue, 17 Sep 2019 11:32:14 GMT):<br/>
@swetha https://jira.hyperledger.org/browse/FAB-16620
</p>
<p><strong>swetha</strong> (Tue, 17 Sep 2019 17:29:24 GMT):<br/>
thanks @klenik !
</p>
<p><strong>swetha</strong> (Tue, 17 Sep 2019 22:23:13 GMT):<br/>
@here Our monthly meeting for the Fabric Chaincode EVM is tomorrow at 8 AM PST
Meeting Event: https://calendar.google.com/calendar/event?eid=NGdxaGpjYXNsYjRjZjVobG1vY3RobnFicnRfMjAxOTA5MThUMTUwMDAwWiBsaW51eGZvdW5kYXRpb24ub3JnX25mOXU2NGc5azlydmQ5Zjh2cDR2dXIyM2IwQGc&ctz=America/Los_Angeles


</p>
<p><strong>swetha</strong> (Tue, 17 Sep 2019 22:23:21 GMT):<br/>
Please feel free to add to agenda here: https://wiki.hyperledger.org/display/fabric/September+18th+2019
</p>
<p><strong>MHBauer</strong> (Wed, 18 Sep 2019 21:16:50 GMT):<br/>
@BrettLogan I think if there was going to be some help doing the cutover we'd be fine with it. I can move my open changes if we lose that.
</p>
<p><strong>BrettLogan</strong> (Wed, 18 Sep 2019 21:16:50 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Wed, 18 Sep 2019 21:18:19 GMT):<br/>
I think we had some questions about the amount of people required to do a merge. go from 2 to 1.
</p>
<p><strong>swetha</strong> (Wed, 18 Sep 2019 22:52:12 GMT):<br/>
Yes, we were wondering what is the process to change the policy from 2 maintainers to a single non-author maintainer
</p>
<p><strong>swetha</strong> (Wed, 18 Sep 2019 22:52:51 GMT):<br/>
though that might be a question for the hyperledger staff who are doing the actual gerrit to github migration
</p>
<p><strong>MHBauer</strong> (Wed, 18 Sep 2019 23:28:24 GMT):<br/>
@swetha this is what it would look like in travis. https://github.com/MHBauer/fabric-chaincode-evm/pull/3/files
</p>
<p><strong>MHBauer</strong> (Wed, 18 Sep 2019 23:28:42 GMT):<br/>
could matrix the go and node versions if we wanted.
</p>
<p><strong>swetha</strong> (Wed, 18 Sep 2019 23:47:33 GMT):<br/>
To track our migration: https://wiki.hyperledger.org/display/fabric/Migration+to+Github
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:00:50 GMT):<br/>
To move to the one +2 for merges, open a Jira with the proposal. Then make the Jira proposal public in the fabric-maintainers and fabric-evm with a few days of debate (specify a debate deadline). Then have your maintainers vote at the end of that period by commenting on the Jira. Assuming a majority of maintainers vote yes, it is trivial in GitHub to change to one +2, which Ry will do for the repo with proof of the Jira passing majority
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:00:50 GMT):<br/>
To move to the one +2 for merges, open a Jira with the proposal. Then make the Jira proposal public in the fabric-maintainers and fabric-evm with a few days of debate (specify a debate deadline). Then have your maintainers vote at the end of that period by commenting on the Jira. Assuming a majority of votes, it is trivial in GitHub to change to one +2
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:00:50 GMT):<br/>
To move to the one +2 for merges, open a Jira with the proposal. Then make the Jira proposal public in the fabric-maintainers and fabric-evm with a few days of debate (specify a debate deadline). Then have your maintainers vote at the end of that period by commenting on the Jira. Assuming a majority of votes, it is trivial in GitHub to change to one +2, which Ry will do for us with proof of the Jira passing majority
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:00:50 GMT):<br/>
To move to the one +2 for merges, open a Jira with the proposal. Then make the Jira proposal public in the fabric-maintainers and fabric-evm with a few days of debate (specify a debate deadline). Then have your maintainers vote at the end of that period by commenting on the Jira. Assuming a majority of votes, it is trivial in GitHub to change to one +2, which Ry will do for the repo with proof of the Jira passing majority
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:07:00 GMT):<br/>
@MHBauer @swetha There are two options for the migration in terms of CI, I can recreate your current Jenkins pipeline in Azure, and then once you have all of the changes merged that you want merged, I will have LF cut the mirror and you will take over from there (with the blessing of your maintainers). You then completely own your CI and you can edit and maintain it however you see fit (this is definitely the easier and faster option). The other option is you fork the repo, get an Azure Pipelines account yourself, tie your forked repo to it, and create a new pipeline that does what you want it to do. Then when you are happy with the state of this pipeline you built, you will take your Azure YAML, commit it to the hyperledger fabric-chaincode-evm repo in gerrit, and then we can flip the switch and switch to GitHub (this path is time dependent on you forming an Azure YAML file you are happy with).
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:07:00 GMT):<br/>
@MHBauer @swetha There are two options for the migration in terms of CI, I can recreate your current Jenkins pipeline in Azure, and then once you have all of the changes merged that you want merged, I will have LF cut the mirror and you will take over from there. You then completely own your CI and you can edit and maintain it however you see fit (this is definitely the easier and faster option). The other option is you fork the repo, get an Azure Pipelines account yourself, tie your forked repo to it, and create a new pipeline that does what you want it to do. Then when you are happy with the state of this pipeline you built, you will take your Azure YAML, commit it to the hyperledger fabric-chaincode-evm repo in gerrit, and then we can flip the switch and switch to GitHub (this path is time dependent on you forming an Azure YAML file you are happy with).
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:07:45 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=SdADG8SBB2GE7pyEa) majority of voters or majority of maintainers? we've got like 6 maintainers listed, but only 2+1 really do anything 
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:08:34 GMT):<br/>
Modified it to say majority of maintainers
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:10:56 GMT):<br/>
While I agree, only a few actually maintain it, this is the process we have followed in Fabric in the past for things like this. We had at one time also proposed going to one +2 in Fabric (never followed through with it), and this was what the maintainers and LF felt was the best way to put it in the public and make sure the change was valid
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:10:56 GMT):<br/>
While I agree, only a few actually maintain it, this is the process we have followed in Fabric in the past for things like this. We had at one time also proposed going to one +2 in Fabric (never followed through with it), and this was what the maintainers and LF felt was the best way to put it in the public and make sure the move was valid
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:11:52 GMT):<br/>
yea, sounds good.
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:11:54 GMT):<br/>
It's one of those things that really need a better process spelled out by the TSC and added to the charter.
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:12:05 GMT):<br/>
I'm fine with it. We'll have to maybe track down some pepole.
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:12:20 GMT):<br/>
I can write that up if it helps.
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:12:23 GMT):<br/>
I can get Gari and Jay, I talk to both of them almost every day
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:12:26 GMT):<br/>
meeting is too early for me to go to
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:13:49 GMT):<br/>
I'd rather do the first option, let someone else try and figure it out.
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 00:13:52 GMT):<br/>
I think we will be able to get Gari, Jay, and Chris on board
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:13:58 GMT):<br/>
It's not a complicated build.
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 00:14:05 GMT):<br/>
so that itself if 5/6 ?
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:14:06 GMT):<br/>
I'll be honest, if you could write the Jira for it, that would be a huge help, the amount of doc I am in the midst of writing for contribution guidelines is eating at my cycles
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:14:28 GMT):<br/>
for us specifically, or the process in general?
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:14:40 GMT):<br/>
The process in general
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:14:58 GMT):<br/>
Since we are moving Fabric next week, we need to make sure the doc is 100% updated now
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:17:26 GMT):<br/>
If EVM wants to go with option #1, then the only thing the EVM maintainers need to do, is get in what you want with Gerrit, and vote on the change to one +2. Then if everyone is agreement they are ready to move, we can flip the switch. That whole process takes about 5 minutes (quite trivial)
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:17:52 GMT):<br/>
I'll take care of setting up everything in Azure, and giving you a base pipeline
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:18:09 GMT):<br/>
alright, I think some of the smaller things we can merge. I'm personally fine with making new PRs on the other side.
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 00:18:26 GMT):<br/>
I am with Morgan, I think option 1 will be nice
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 00:18:47 GMT):<br/>
We can merge the smaller changes in and at the same time finish the jira proposal + debate
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:19:15 GMT):<br/>
Also, you have 4 branches, do you want all 4 to run through CI. In Fabric's core repos we are only taking master and our LTS (release-1.4) branches
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:20:01 GMT):<br/>
You can always add them later, but when I create the initial definition file I just want to make sure the branches you want included, all work
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 00:20:02 GMT):<br/>
We just need to track master
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 00:20:34 GMT):<br/>
we haven't had much need to add to the release branches after the fact so I don't think we need that setup right now
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:20:37 GMT):<br/>
yes, only one branch
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:21:36 GMT):<br/>
Perfect, I will get this file done asap, (should be trivial, your current pipeline is quite simple). Then once you've all closed out the other loops we can go ahead with the migration
</p>
<p><strong>BrettLogan</strong> (Thu, 19 Sep 2019 00:21:40 GMT):<br/>
Thanks both of you!
</p>
<p><strong>MHBauer</strong> (Thu, 19 Sep 2019 00:21:46 GMT):<br/>
:+1: 
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 00:22:30 GMT):<br/>
Thanks !
</p>
<p><strong>swetha</strong> (Thu, 19 Sep 2019 01:01:17 GMT):<br/>
@muralisr , @MHBauer , @guoger , @cbf , @mastersingh24 we need majority maintainer approval on this proposal to change the number of required reviews: https://jira.hyperledger.org/browse/FAB-16649
</p>
<p><strong>conanoc</strong> (Fri, 20 Sep 2019 09:24:20 GMT):<br/>
@swetha I opened a jira for eth_sendRawTransaction RPC. https://jira.hyperledger.org/browse/FAB-16667 and put the ticket number to the commit message of https://gerrit.hyperledger.org/r/c/fabric-chaincode-evm/+/33600
</p>
<p><strong>swetha</strong> (Fri, 20 Sep 2019 18:09:51 GMT):<br/>
@conanoc Thanks for making the issue
</p>
<p><strong>swetha</strong> (Fri, 20 Sep 2019 18:55:55 GMT):<br/>
@conanoc We are in the middle of trying to move from gerrit to github to host our repository. Would you be willing to resubmit your CR using github pull requests after the merge. I think your patches/feature will require some discussion before they can be merged in
</p>
<p><strong>swetha</strong> (Fri, 20 Sep 2019 18:55:55 GMT):<br/>
@conanoc We are in the middle of trying to move from gerrit to github to host our repository. Would you be willing to resubmit your CR using github pull requests after the merge. I think your patches/feature will require some discussion before they can be merged in. The move has not been done yet, but you would have to resubmit after we make the switch
</p>
<p><strong>swetha</strong> (Fri, 20 Sep 2019 19:16:37 GMT):<br/>
@BrettLogan & @rjones The proposal to change the review policy has already got majority votes and we are almost done clearing all the CRs in gerrit. I think we can aim for beginning of next week to make the switch? /cc @MHBauer @guoger 
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:16:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:17:46 GMT):<br/>
@swetha sure
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:18:25 GMT):<br/>
There are only a few open CRs: https://gerrit.hyperledger.org/r/q/project:fabric-chaincode-evm+status:open
</p>
<p><strong>MHBauer</strong> (Fri, 20 Sep 2019 19:20:13 GMT):<br/>
I'm abandoning mine
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:20:58 GMT):<br/>
I can break the CI mirror at any time, but I don't have anything to do with the CI part, so we would need to work with @BrettLogan and @sykesm 
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:20:58 GMT):<br/>
I can break the Gerrit mirror at any time, but I don't have anything to do with the CI part, so we would need to work with @BrettLogan and @sykesm 
</p>
<p><strong>sykesm</strong> (Fri, 20 Sep 2019 19:20:59 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Fri, 20 Sep 2019 19:22:25 GMT):<br/>
ah, okay. I've got a travis config we could use until the jenkins is converted to azure, but I guess that means we wait.
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:23:01 GMT):<br/>
Sorry, I said CI when I meant Gerrit.
</p>
<p><strong>swetha</strong> (Fri, 20 Sep 2019 19:30:16 GMT):<br/>
There are only 2 CRs left, that I want to confirm with the submitter before we abandon them and then I am okay making the switch
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:41:54 GMT):<br/>
To prep for this, I've added you all (in CODEOWNERS) in the Maintainer role for https://github.com/hyperledger/fabric-chaincode-evm
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:45:05 GMT):<br/>
please wait to merge this: https://gerrit.hyperledger.org/r/c/fabric-chaincode-evm/+/33643
</p>
<p><strong>rjones</strong> (Fri, 20 Sep 2019 19:47:02 GMT):<br/>
until all of the other CRs are either merged or abandoned.
</p>
<p><strong>MHBauer</strong> (Fri, 20 Sep 2019 19:51:01 GMT):<br/>
cool
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 18:17:22 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=cGDNjDZTNcthjuRmo) @conanoc Have you seen this? I'm confused by the PR stack now as it looks like there's two different top commits, and three total.
</p>
<p><strong>rjones</strong> (Mon, 23 Sep 2019 19:35:41 GMT):<br/>
@MHBauer should we just mark the repo read-only and move on?
</p>
<p><strong>rjones</strong> (Mon, 23 Sep 2019 19:35:52 GMT):<br/>
I'm OOF today so Tuesday works for me
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 19:36:59 GMT):<br/>
That's my opinion, but I think we need to get the CI working. I'm in no rush. 
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 20:06:29 GMT):<br/>
I think Tuesday should work. Still waiting on confirmation from @conanoc about moving his CR stack to github.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 20:18:19 GMT):<br/>
OOF, out of florida?
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 20:23:31 GMT):<br/>
ah, a search says something something you used to work for microsoft or with someone from microsoft who said taht.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 20:57:25 GMT):<br/>
At this point, I'm confident we can cut over and use travis or github actions if necessary. 
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 21:49:05 GMT):<br/>
I would rather not keep switching through ci/cds. I am okay moving over to github without ci being ready and we just waiting on ci to be ready before merging any code changes
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 21:50:23 GMT):<br/>
ya, sure. I'm not sure what azure pipes gets us the others don't.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 21:51:18 GMT):<br/>
I'm not about to let it have the permissions it wants on my account to find otu.
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 21:57:02 GMT):<br/>
Our ci pipeline is fairly small & simple, so my guess is that all of the options out there will work for our needs. However if fabric is moving to azure pipelines, then I think we should use that as well. We are a sub component, so I think we should go with that approach for consistency and ease for people who are contributing across the different fabric repos
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:03:07 GMT):<br/>
that is not a good arument.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:03:26 GMT):<br/>
but sure. eagerly await the transition.
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:22:01 GMT):<br/>
Is there something that travis or github actions gets us that azure pipelines dont?
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:24:47 GMT):<br/>
no idea, not going to let azure have the permissions it's asking for. The travis one is at least very simple. Five or so lines.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:25:04 GMT):<br/>
actions is a huge mess.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:25:55 GMT):<br/>
other hyperledger projects are using other things. 
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:26:09 GMT):<br/>
we're not even using the same jenkins setup as fabric core, so the continuity there is nil already.
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:30:29 GMT):<br/>
To what I have read of the CI/CD task force it looks like the other options being used were looked at. Not have the same jenkins setup did cause issues for us when we needed help in the past
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:31:58 GMT):<br/>
Here we will have more control so maybe it won't be a problem
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:32:14 GMT):<br/>
I would say that, yes. The other team required to do anything.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:32:21 GMT):<br/>
Was the problem.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:32:31 GMT):<br/>
Though why did we choose to have a different jenkins setup?
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:32:44 GMT):<br/>
We didn't, they were trying to move all projects to jenkins pipelines
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:33:02 GMT):<br/>
I think other than fabric core, the sub components were moved to the pipelines
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:33:18 GMT):<br/>
lol, that never happened in the end, did it?
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:33:41 GMT):<br/>
I think by then the task force started about looking at ci/cd and handling it differently
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:33:41 GMT):<br/>
I think by then the task force started looking at ci/cd and handling it differently
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:34:43 GMT):<br/>
ah, 
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:34:49 GMT):<br/>
task force sounds so awesome
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:34:55 GMT):<br/>
can we form a task force?
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:35:25 GMT):<br/>
This is the ci/cd task force page on the wiki https://wiki.hyperledger.org/pages/viewpage.action?pageId=6428757
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:35:44 GMT):<br/>
ya, I've seen it.
</p>
<p><strong>MHBauer</strong> (Mon, 23 Sep 2019 22:40:53 GMT):<br/>
not a lot of info there.
</p>
<p><strong>swetha</strong> (Mon, 23 Sep 2019 22:42:32 GMT):<br/>
https://wiki.hyperledger.org/pages/viewpage.action?pageId=16322259 has some of the notes of why they looked at azure I think
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 01:04:39 GMT):<br/>
Fabric itself is going to AZP. Some projects want to use Github Actions, which are basically rebranded AZP
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 03:05:42 GMT):<br/>
https://gerrit.hyperledger.org/r/c/fabric-chaincode-evm/+/33678
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 03:07:59 GMT):<br/>
@swetha @MHBauer The initial file replicating what exists today in Jenkins.
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 03:13:07 GMT):<br/>
https://dev.azure.com/btl5037/Fabric-Chaincode-EVM/_build/results?buildId=188&view=logs
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 03:13:07 GMT):<br/>
https://dev.azure.com/btl5037/Fabric-Chaincode-EVM/_build/results?buildId=188&view=results
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 03:13:24 GMT):<br/>
Here is a link to a successful run of it, if you want to verify or take a look at the logs
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 03:13:24 GMT):<br/>
Here is a link to a successful run of it, if you want to take a look at the logs
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 03:53:06 GMT):<br/>
@BrettLogan @swetha @MHBauer if you want to enable AZP I can invite you to the Hyperledger AZP org
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 03:53:29 GMT):<br/>
swetha
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 03:53:34 GMT):<br/>
swetha
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 03:53:40 GMT):<br/>
MHBauer
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 16:21:57 GMT):<br/>
@BrettLogan Thanks. The pipeline looks great!
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:26:54 GMT):<br/>
@rjones so everything but yours and azp is merged.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:27:04 GMT):<br/>
I think we merge the pipeline and then yours and then someone hits a switch?
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 16:31:23 GMT):<br/>
@MHBauer merge the azo
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 16:31:23 GMT):<br/>
@MHBauer merge the azp
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:31:32 GMT):<br/>
I thought I did?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:31:38 GMT):<br/>
I did "submit"
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:31:41 GMT):<br/>
is that not merge?
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 16:31:44 GMT):<br/>
i see the update now
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 16:32:14 GMT):<br/>
Merged Ry's change
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 16:32:19 GMT):<br/>
I think we are ready!
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:32:35 GMT):<br/>
Ry seems ready.
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 16:33:56 GMT):<br/>
I'm ready
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:34:19 GMT):<br/>
good, we're all ready then.
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 16:38:26 GMT):<br/>
The last step would be for someone ( @BrettLogan ? ) to remove everything from the ci-managament repo
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:41:07 GMT):<br/>
is that the part that read-only's gerrit?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:41:18 GMT):<br/>
or the part that runs the jenkins pipeline?
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 16:56:47 GMT):<br/>
the part that runs the Jenkins pipeline. Since you aren't using it/
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 16:56:55 GMT):<br/>
yay
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 16:58:14 GMT):<br/>
if you go here: https://dev.azure.com/Hyperledger/ and log in with your GitHub SSO credentials, you should show up and be able to see how things are going
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:01:01 GMT):<br/>
https://gerrit.hyperledger.org/r/c/ci-management/+/33701 @BrettLogan @sykesm 
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:04:52 GMT):<br/>
swetha already getting on it.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:13:00 GMT):<br/>
aww, you closed it.
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:13:08 GMT):<br/>
?
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:13:37 GMT):<br/>
Oh I see: https://github.com/hyperledger/fabric-chaincode-evm/pull/8
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:13:55 GMT):<br/>
Is the pipeline results going to show up as a check in GH?
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:14:01 GMT):<br/>
yes
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:14:15 GMT):<br/>
I just enabled that. I couldn't do that until it had run once
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:14:19 GMT):<br/>
and can we get a "build success" badge or something? not that we'll ever merge anything that fails I suppose.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:14:22 GMT):<br/>
NEAT!
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:15:03 GMT):<br/>
this is why I have like 500 abandoned PRs called "Create DCO"; I can't enable the DCO bot until it fails once.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:16:47 GMT):<br/>
lol
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:26:54 GMT):<br/>
I have strong feelings about GitHub :)
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:27:06 GMT):<br/>
OK - I think you guys are on your way, right? nothing more needed?
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:27:27 GMT):<br/>
You might edit the CODEOWNERS file to point to the actual people you want doing reviews
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 17:28:29 GMT):<br/>

Ry, did you install LGTM in the Hyperledger Org?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:28:33 GMT):<br/>
how so? 
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 17:28:47 GMT):<br/>
Or did Microsoft do it once they bought LGTM last week
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 17:29:50 GMT):<br/>
oh that's a good idea! I didn't think about that
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 17:30:15 GMT):<br/>
@rjones & @BrettLogan Is there a way to get github & jira integrations?
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 17:31:03 GMT):<br/>
Not at the moment. The integration is only supported with the SaaS version of Jira, not the onprem
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 17:31:58 GMT):<br/>
ahh okay
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 17:32:12 GMT):<br/>
Thanks everyone for their help! 
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:32:59 GMT):<br/>
@BrettLogan I installed LGTM last week
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 17:33:21 GMT):<br/>
It should only be in an advisory role, I didn't make it required anywhere
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:35:09 GMT):<br/>
and so what does that do? 
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 17:38:22 GMT):<br/>
It's unfortunately misidentifying projects. It thinks Fabric-CA is a python project
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 17:44:25 GMT):<br/>
It thinks fabric-evm is javascript
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:44:34 GMT):<br/>
is that based on looking at only the change tho?
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 17:44:57 GMT):<br/>
nope it says that on the readme pr
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 17:44:57 GMT):<br/>
Would it see a go project if we made a go change?
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 18:35:28 GMT):<br/>
I don't have super strong feelings about the plugin. Gari asked for some other plugin as well
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 18:39:42 GMT):<br/>
OK. Go is not supported so I will disable it here.
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 18:39:50 GMT):<br/>
https://lgtm.com/help/lgtm/analysis-faqs#which-languages-are-supported
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 18:40:48 GMT):<br/>
I disabled it on `fabric` and `fabric-ca`
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:06:17 GMT):<br/>
lol
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:13:03 GMT):<br/>
I don't have access to the setting, but can we enable the "dismiss stale pull request approvals when new commits are pushed" ?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:13:16 GMT):<br/>
@swetha I think we want that ^
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:13:47 GMT):<br/>
I think you have the power to enable that?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:13:55 GMT):<br/>
no
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:13:58 GMT):<br/>
its in the file isn't it
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:14:02 GMT):<br/>
I can see the settings tab, but I can't do anything with it.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:14:13 GMT):<br/>
it's totally blank for options for me.
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:14:23 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/.github/stale.yml
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:14:46 GMT):<br/>
@MHBauer try now ;)
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:14:53 GMT):<br/>
that's inactivity
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:15:08 GMT):<br/>
Think of that file as a placeholder for now, OK?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:15:19 GMT):<br/>
lol, I think it's reloading. just got a 500
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:15:30 GMT):<br/>
I added it when *fabric* were on Gerrit, and I didn't want valid PRs to get killed now
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:15:30 GMT):<br/>
I added it when `*fabric*` were on Gerrit, and I didn't want valid PRs to get killed now
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:16:03 GMT):<br/>
yay, okay, I can see the buttons now, I did want to discuss it a little, but I do think it's a thing we want on.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:16:08 GMT):<br/>
thank you ry
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:16:19 GMT):<br/>
OK. I know that's different on different projects. Some of them don't want that, some do
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:17:08 GMT):<br/>
thanks ry!
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:17:34 GMT):<br/>
@MHBauer the option basically requires another review if code in the commit changes?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:17:44 GMT):<br/>
that is my understanding, yes
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:17:50 GMT):<br/>
like for #9, you pushed an update
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:17:57 GMT):<br/>
and crhis approval is still in effect.
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:18:20 GMT):<br/>
i thought he approved it a second time
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:18:32 GMT):<br/>
i just rebased it now
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:18:34 GMT):<br/>
I don't see that.
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:18:55 GMT):<br/>
either way i think enabling the option seems correct
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:19:13 GMT):<br/>
okay, I'll clicky the button
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:19:56 GMT):<br/>
and now I kind of miss prow.
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:20:41 GMT):<br/>
your approval is after my most recent pushes right?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:21:44 GMT):<br/>
that's what it appears
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:21:53 GMT):<br/>
your change 13 minutes, my approval 10 minutes
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:22:48 GMT):<br/>
 i was confused with chris's approval too which is why im verifying now. the settings change doesn't affect current pull requests
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:23:01 GMT):<br/>
I mean
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:23:05 GMT):<br/>
yea, it doesn't go back in time
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:23:12 GMT):<br/>
it's an as happens thing.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:23:41 GMT):<br/>
so now master merge pipeline is running.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:23:43 GMT):<br/>
yay
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:23:46 GMT):<br/>
\o/
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:25:42 GMT):<br/>
if you want prow... :)
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 19:26:59 GMT):<br/>
do you want LGTM disabled on this repo?
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:27:34 GMT):<br/>
Yea I think we can disable LGTM if it doesn't support go yet
</p>
<p><strong>swetha</strong> (Tue, 24 Sep 2019 19:30:06 GMT):<br/>
Thanks Ry!
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:35:31 GMT):<br/>
I don't know what it does. says something about vulnerability analysis 
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:56:04 GMT):<br/>
hmn, something is funky about the pipeline
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:56:29 GMT):<br/>
@BrettLogan is the pipeline job after a merge? or is it the pr/branch itself?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:56:59 GMT):<br/>
Can we have it do both? one to ensure the branch builds at all, but then the merge to ensure it merges cleanly?
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 19:57:18 GMT):<br/>
I'm asking because I see references to non-existent lines in the build failure.
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 20:03:05 GMT):<br/>
(I'm going to drop out of here - if you need me, reach out)
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 20:03:53 GMT):<br/>
bye bye
</p>
<p><strong>rjones</strong> (Tue, 24 Sep 2019 20:05:54 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 20:18:30 GMT):<br/>
I wonder if we have control of pre-recieve hooks.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 20:18:48 GMT):<br/>
or maybe need a bot to scan the commit messaegs or something.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 20:31:26 GMT):<br/>
besides lgtm, I'm more curious about dependabot and pull panda.
</p>
<p><strong>BrettLogan</strong> (Tue, 24 Sep 2019 20:33:00 GMT):<br/>
For PR's it runs all 3 jobs. For merges it runs just unit tests. I'd you want all 3 to run on a merge remove the conditions clauses
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 20:34:02 GMT):<br/>
hmn, not what I meant, but I was also being a dope.
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 20:34:12 GMT):<br/>
left out some new files, whoops!
</p>
<p><strong>MHBauer</strong> (Tue, 24 Sep 2019 20:34:28 GMT):<br/>
I like that the pipeline is in a ci directory
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:12:56 GMT):<br/>
@swetha @guoger not sure I agree with the setting `Require branches to be up to date before merging This ensures pull requests targeting a matching branch have been tested with the latest code. This setting will not take effect unless at least one status check is enabled (see below). ` in github
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:14:23 GMT):<br/>
Unless we can have github run the merging tests on the outcome of the merge before making the merge, I am okay with that setting
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:14:34 GMT):<br/>
I would like to get rid of all the merge commits though
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:14:57 GMT):<br/>
I disagree, don't edit my work.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:18:13 GMT):<br/>
anyway, it's a learning process 
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:23:30 GMT):<br/>
I meant is I would like the fast forward commits. We don't need to have merge commits if the code is forced to be rebased on the master before being merged in
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:23:30 GMT):<br/>
I meant I would like the fast forward commits. We don't need to have merge commits if the code is forced to be rebased on the master before being merged in
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:23:46 GMT):<br/>
True, but that's not what that does.
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:24:26 GMT):<br/>
I understand, that is a setting I would like. Otherwise I like having the forced rebase because it means we can see the tests run once before we merge the code in
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:25:02 GMT):<br/>
I can agree to that, but not what that does.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:25:43 GMT):<br/>
Being a small enough project, anyway.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:27:25 GMT):<br/>
lunch?
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:29:43 GMT):<br/>

<br/><a href="./assets/dG8JZ96xca3RPwfAr-Screen Shot 2019-09-27 at 12.29.19 PM.png">Screen Shot 2019-09-27 at 12.29.19 PM.png</a>
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:30:04 GMT):<br/>
I would like to dissable `Allow merge commits`, and `Automatically delete head branches`
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:30:16 GMT):<br/>
I think the last option should be left to the person who submitted the PR
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:30:59 GMT):<br/>
hmn, lemme see.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:32:10 GMT):<br/>
ehh, it keeps my stuff clean.
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:32:39 GMT):<br/>
But not everyone would know that is the outcome
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:32:52 GMT):<br/>
So? it's merged? pull it back out yourself.
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:33:08 GMT):<br/>
deleting branches on someone else's repo doesn't seem right
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:33:11 GMT):<br/>
`Deleted branches will still be able to be restored.`
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:33:24 GMT):<br/>
I don't think that is good enough
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:33:24 GMT):<br/>
lemme see how true that is
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:33:40 GMT):<br/>
We shouldn't be deleting it to begin with
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:33:52 GMT):<br/>
You and me might like the feature since we contribute often and we have many branches
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:34:04 GMT):<br/>
Don't think that necessarily applies to everyone submitting a request
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:34:35 GMT):<br/>
I don't understand
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:34:50 GMT):<br/>
what are you doing to do with it after it's merged?
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:36:25 GMT):<br/>
its not a branch on our repo. I think that should mean we should not do anything destructive, regardless of whether we can recover from it or not
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:36:27 GMT):<br/>
I'm somewhat with you on dataloss, destruction of other people's information, but in practice, I don't understand.
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:37:15 GMT):<br/>
I am just thinking about it as other people's information. In practice don't 100% understand, but I can see it happen if they develop on their forked master and keep using that to submit PRs
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 19:37:43 GMT):<br/>
It shouldn't be up to us to dictate how someone does their branch management
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:38:33 GMT):<br/>
but they'd have to do something to it to it to submit it again
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:39:01 GMT):<br/>
I'm trying to think up the cases.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:39:06 GMT):<br/>
We're going to force them to rebase
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:39:15 GMT):<br/>
then after it's merged in to master
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:39:32 GMT):<br/>
anything they create, they have to pull and rebase 
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:39:59 GMT):<br/>
I dunno. I don't feel strongly, but I do end up with a zillion branch references.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:40:13 GMT):<br/>
for the other thing, rebasing
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:40:37 GMT):<br/>
I'd be fine with that button if it didn't 'rebase-anyway' even if the current commit was up to date.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:40:37 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-evm?msg=MAak6WPbruox4kjiD) it doesn't rebase unless someone clicks rebase
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 19:40:53 GMT):<br/>
So, if we want to do manual merging into master, that's fine, but don't use the button.
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 20:41:52 GMT):<br/>
So perhaps we turn off the option you mentioned about and then we only allow rebase merging that might solve the problem?
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 20:42:58 GMT):<br/>
I dunno. I need to experiment again.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 20:43:18 GMT):<br/>
The answer might just be, "don't use the button, try and do things manually"
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 20:43:32 GMT):<br/>
I'm comfortable with git, but others might not be.
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 20:45:46 GMT):<br/>
manually as in locally? I didn't think we are allowed to do that directly, since it is a protected branch 
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 20:55:36 GMT):<br/>
hmn, haven't tried. maybe when yours is ready
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 21:03:44 GMT):<br/>
@swetha the checks didn't run.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 21:03:53 GMT):<br/>
weird
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 21:05:30 GMT):<br/>
checks are still running. maybe azp doesn't have any free vms right now?
</p>
<p><strong>swetha</strong> (Fri, 27 Sep 2019 21:06:00 GMT):<br/>
one thing we can look into is to not run code checks on doc changes
</p>
<p><strong>BrettLogan</strong> (Fri, 27 Sep 2019 21:14:33 GMT):<br/>
There is a 10 parallel job limit in AZP by default. If you need more jobs, I can open a support ticket and request they bump it up
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:28:53 GMT):<br/>
I can't see anything running right now
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:29:18 GMT):<br/>
@BrettLogan and I don't see any related to the push she made.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:29:30 GMT):<br/>
so if it's 10 jobs for the whole org, we're never going to have enough.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:29:48 GMT):<br/>
or we need a button to push it if it doesn't see anything.
</p>
<p><strong>BrettLogan</strong> (Fri, 27 Sep 2019 22:33:14 GMT):<br/>
Ah. I misunderstood. I thought Swetha was saying her jobs were queued but not running. In which case AZP may not report back to the checks API that the job had started. You can also comment on your PR with `/azp list` to see available comment triggers. Though we may not have permissions set up correctly for that, I have to check. As Maintainers on the repo you may have a high enough level to do so. 
</p>
<p><strong>BrettLogan</strong> (Fri, 27 Sep 2019 22:33:26 GMT):<br/>
And the 10 jobs is per project, not for the whole org
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:49:59 GMT):<br/>
ooh
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:50:06 GMT):<br/>
comment triggers, did not know that was a thing.
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:50:49 GMT):<br/>
ah, okay, and for the record, as context, we're specifically talking about this pr https://github.com/hyperledger/fabric-chaincode-evm/pull/12
</p>
<p><strong>MHBauer</strong> (Fri, 27 Sep 2019 22:52:28 GMT):<br/>
that was very nice. thank you @BrettLogan :ok_hand: 
</p>
<p><strong>BrettLogan</strong> (Fri, 27 Sep 2019 22:58:40 GMT):<br/>
Yea. If you implement stages you can get much more granular on what you can control via comments. Currently your only option is to trigger the entire pipeline. 
</p>
<p><strong>MHBauer</strong> (Sat, 28 Sep 2019 00:19:11 GMT):<br/>
more to read about.
</p>
<p><strong>cbf</strong> (Wed, 09 Oct 2019 18:13:08 GMT):<br/>
curious as to whether there are any inhibitors to moving off Gerrit for the evm chaincode... thoughts?
</p>
<p><strong>BrettLogan</strong> (Wed, 09 Oct 2019 18:19:26 GMT):<br/>
We actually migrated EVM off Gerrit about two weeks ago
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 18:29:13 GMT):<br/>
:+1: 
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 18:29:43 GMT):<br/>
If there's anything left over there, we're not concerned and it can be turned off.
</p>
<p><strong>BrettLogan</strong> (Wed, 09 Oct 2019 18:31:26 GMT):<br/>
https://gerrit.hyperledger.org/r/admin/repos
</p>
<p><strong>BrettLogan</strong> (Wed, 09 Oct 2019 18:31:32 GMT):<br/>
Nope, the repo is marked read-only
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 18:46:04 GMT):<br/>
I have no concerns.
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 18:46:18 GMT):<br/>
@cbf are we advertising gerrit somewhere that needs to be corrected?
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 18:46:32 GMT):<br/>
older blogs, probably
</p>
<p><strong>silasdavis</strong> (Wed, 09 Oct 2019 19:33:42 GMT):<br/>
@swetha cc https://github.com/perlin-network/life/pull/93
</p>
<p><strong>silasdavis</strong> (Wed, 09 Oct 2019 19:33:51 GMT):<br/>
avoids replace directive pain
</p>
<p><strong>swetha</strong> (Wed, 09 Oct 2019 19:35:11 GMT):<br/>
perfect! i was just looking into how the burrow upgrade will look in the evmcc
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 19:46:48 GMT):<br/>
???
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 19:48:57 GMT):<br/>
@klenik @swetha https://github.com/hyperledger/fabric-chaincode-evm/pull/16 looks like we're still after a test case to trigger it? 
</p>
<p><strong>swetha</strong> (Wed, 09 Oct 2019 20:04:44 GMT):<br/>
Yes we need to play around with the test case a little more
</p>
<p><strong>swetha</strong> (Wed, 09 Oct 2019 20:05:38 GMT):<br/>
I just did a quick test with the same inputs as Attila used. I have not investigated why it didn't cause the problem. I will look into it soon
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 20:17:21 GMT):<br/>
I'm not sure time is well spent on finding an exact case of fabric certificates that cause the issue.
</p>
<p><strong>swetha</strong> (Wed, 09 Oct 2019 20:27:16 GMT):<br/>
If I have to look for another combination, I am not going to add the test. I need to make sure I didn't miss a mock or something
</p>
<p><strong>klenik</strong> (Wed, 09 Oct 2019 20:29:49 GMT):<br/>
@swetha Could you please send me the link to your fork/branch you're experimenting on with the tests? I'll also try to reproduce the issue in that environment
</p>
<p><strong>swetha</strong> (Wed, 09 Oct 2019 20:32:16 GMT):<br/>
@klenik I just added a wip commit on the pr branch: https://github.com/swetharepakula/fabric-chaincode-evm/tree/event-name-error
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 21:25:24 GMT):<br/>
it's something we can generate once and reuse. we're looking for a 8byte pattern that fails utf8.Valid() 
</p>
<p><strong>MHBauer</strong> (Wed, 09 Oct 2019 21:25:43 GMT):<br/>
grr, I didn't want a thread
</p>
<p><strong>cbf</strong> (Thu, 10 Oct 2019 15:04:02 GMT):<br/>
I guess I missed the memo;-) been traveling too much
</p>
<p><strong>cbf</strong> (Thu, 10 Oct 2019 15:04:18 GMT):<br/>
but in the Fabric docs, we don't mention this
</p>
<p><strong>cbf</strong> (Thu, 10 Oct 2019 15:04:40 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/latest/CONTRIBUTING.html
</p>
<p><strong>cbf</strong> (Thu, 10 Oct 2019 15:09:01 GMT):<br/>
eg we point in our CONTRIBUTING.md to the doc above, yet that does not mention that we have transitioned to GitHub
</p>
<p><strong>swetha</strong> (Thu, 10 Oct 2019 15:15:17 GMT):<br/>
I missed both of those. I will make some PRs to have those be more accurate
</p>
<p><strong>swetha</strong> (Thu, 10 Oct 2019 19:22:23 GMT):<br/>
submitted this https://gerrit.hyperledger.org/r/#/c/fabric/+/33937/ to fix fabric docs
</p>
<p><strong>swetha</strong> (Wed, 16 Oct 2019 15:03:59 GMT):<br/>
@here Fabric Chaincode EVM Meeting starting now https://zoom.us/my/hyperledger.community.backup
</p>
<p><strong>swetha</strong> (Wed, 16 Oct 2019 15:04:26 GMT):<br/>
Agenda: https://wiki.hyperledger.org/display/fabric/2019-10-16
</p>
<p><strong>swetha</strong> (Thu, 17 Oct 2019 18:02:46 GMT):<br/>
@MHBauer we did want to enable this feature on github right?
```
Dismiss stale pull request approvals when new commits are pushed
```
</p>
<p><strong>MHBauer</strong> (Thu, 17 Oct 2019 19:27:37 GMT):<br/>
yes, right? I agree to that. We can put all the settings in a jira and make it official_
</p>
<p><strong>swetha</strong> (Thu, 17 Oct 2019 19:32:41 GMT):<br/>
Just verifying before i turn it on. It would match what we had in gerrit
</p>
<p><strong>MHBauer</strong> (Thu, 17 Oct 2019 19:41:58 GMT):<br/>
make sense to me to match that as well.
</p>
<p><strong>swetha</strong> (Thu, 17 Oct 2019 20:27:54 GMT):<br/>
only problem is it doesn't differentiate a rebase
</p>
<p><strong>MHBauer</strong> (Thu, 17 Oct 2019 22:35:39 GMT):<br/>
ah, no biggie.
</p>
<p><strong>MHBauer</strong> (Thu, 17 Oct 2019 22:35:48 GMT):<br/>
just hit the button before that, or do it manually.
</p>
<p><strong>MHBauer</strong> (Thu, 17 Oct 2019 22:58:24 GMT):<br/>
not sure if I have tried a manual rebase, but the worst that happens is you manually close the issue
</p>
<p><strong>swetha</strong> (Fri, 18 Oct 2019 00:25:21 GMT):<br/>
I did the manual rebase and force pushed to the branch. it made the review required
</p>
<p><strong>swetha</strong> (Fri, 18 Oct 2019 00:25:48 GMT):<br/>
Next time I will try the button. Not sold on letting github rebase my branches, but we can give it try on a simple pr
</p>
<p><strong>MHBauer</strong> (Fri, 18 Oct 2019 01:41:28 GMT):<br/>
not push to branch, push to master.
</p>
<p><strong>swetha</strong> (Fri, 18 Oct 2019 04:16:49 GMT):<br/>
Oh that's right, i should have tried that
</p>
<p><strong>BrettLogan</strong> (Wed, 30 Oct 2019 12:46:05 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>hawkinggg</strong> (Mon, 04 Nov 2019 07:12:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>lehors</strong> (Wed, 20 Nov 2019 16:01:41 GMT):<br/>
hi there
</p>
<p><strong>lehors</strong> (Wed, 20 Nov 2019 16:01:44 GMT):<br/>
is there a call today?
</p>
<p><strong>swetha</strong> (Wed, 20 Nov 2019 16:06:26 GMT):<br/>
Agenda: https://wiki.hyperledger.org/display/fabric/2019-11-19
</p>
<p><strong>greg2git</strong> (Wed, 20 Nov 2019 16:40:51 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>greg2git</strong> (Wed, 20 Nov 2019 16:41:15 GMT):<br/>
hello guys, great call, thank you
</p>
<p><strong>swetha</strong> (Wed, 20 Nov 2019 19:11:27 GMT):<br/>
@greg2git Thank you for joining!
</p>
<p><strong>MHBauer</strong> (Thu, 21 Nov 2019 21:24:10 GMT):<br/>
hi @greg2git thanks for beingthere.
</p>
<p><strong>maciejjedrzejczyk</strong> (Tue, 17 Dec 2019 07:07:38 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>swetha</strong> (Wed, 18 Dec 2019 16:01:16 GMT):<br/>
Fabric EVM Meeting today. Agenda: https://wiki.hyperledger.org/display/fabric/2019-12-18
Zoom: https://zoom.us/j/6223336701
</p>
<p><strong>swetha</strong> (Wed, 18 Dec 2019 16:01:16 GMT):<br/>
Fabric EVM Meeting now. Agenda: https://wiki.hyperledger.org/display/fabric/2019-12-18
Zoom: https://zoom.us/j/6223336701
</p>
<p><strong>maciejjedrzejczyk</strong> (Thu, 19 Dec 2019 06:20:42 GMT):<br/>
Hi, could you please point me to an up to date tutorial that explains how to deploy all components of Fabric EVM?
</p>
<p><strong>swetha</strong> (Thu, 19 Dec 2019 14:58:30 GMT):<br/>
Hi @maciejjedrzejczyk, the tutorial in the repo should be up to date. If you run into any issues, please let us know
</p>
<p><strong>ChaoLiu</strong> (Sat, 21 Dec 2019 17:17:47 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Thu, 09 Jan 2020 23:00:37 GMT):<br/>
go 1.11 is already not being updated anymore. I need to make a record of whatever upstream policy is so I can stop thinking about this.
</p>
<p><strong>MHBauer</strong> (Wed, 15 Jan 2020 16:01:29 GMT):<br/>
meeting comping up as soon as I load zoom.
</p>
<p><strong>MHBauer</strong> (Wed, 15 Jan 2020 16:34:16 GMT):<br/>
Thanks for attending, here's the meeting page with recording https://wiki.hyperledger.org/display/fabric/2020-01-15
</p>
<p><strong>Ewkoll</strong> (Mon, 17 Feb 2020 09:19:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Franz</strong> (Fri, 28 Feb 2020 15:58:02 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Abhishekkishor</strong> (Thu, 12 Mar 2020 19:44:20 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Thu, 19 Mar 2020 15:13:06 GMT):<br/>
Is there a meeting now? I can't find the slack channel
</p>
<p><strong>Franz</strong> (Fri, 20 Mar 2020 11:25:38 GMT):<br/>
Hi, I'm trying web31.2.0 to interact with the network, but calling methods of smart contract the output is [ [Object] ]. Do you know why ? 
</p>
<p><strong>gokulalex</strong> (Fri, 20 Mar 2020 12:05:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>MHBauer</strong> (Fri, 20 Mar 2020 18:13:28 GMT):<br/>
The web3 we have in our tests is very old. Before 1.0
</p>
<p><strong>Franz</strong> (Sun, 22 Mar 2020 18:02:53 GMT):<br/>
I know. In all the examples is used web3@0.20.2. There's some guide or example that use web3@1.0 or greater to deploy and test smart contract ?
</p>
<p><strong>swetha</strong> (Tue, 24 Mar 2020 18:19:38 GMT):<br/>
No we don't have any samples for 1.0 or greater, but 1.0 and greater does work
</p>
<p><strong>Franz</strong> (Tue, 24 Mar 2020 18:40:49 GMT):<br/>
Thanks 
</p>
<p><strong>Franz</strong> (Tue, 24 Mar 2020 19:09:51 GMT):<br/>
Hello I'm running a simple smart contract that add or spend points among registered users _(address, name, points, isRegistered)_. When I run the clients and call the methods the _eth address_ is always the same, calling `web3.eth.getAccounts(console.log)` there's always just one account from beginning to end of the console running. *1)* If I call `web3.eth.accounts.create()` what happens to the created accounts ? *2)* The only one account is associated to fab3 instance running? *3)* How can I create and call methods from different accounts (_e.g `registerUser `with different msg.sender address_) in order to test my smart contract?
</p>
<p><strong>Franz</strong> (Tue, 24 Mar 2020 19:09:51 GMT):<br/>
Hello I'm running a simple smart contract that add or spend points among registered users _(address, name, points, isRegistered)_. When I run the clients and call the methods the _eth address_ is always the same, calling `web3.eth.getAccounts(console.log)` there's always just one account from beginning to end of the console running. If I call `web3.eth.accounts.create()` what happens to the created accounts ? The only one account is associated to fab3 instance running? How can I create and call methods from different accounts (_e.g `registerUser `with different msg.sender address_) in order to test my smart contract?
</p>
<p><strong>swetha</strong> (Tue, 24 Mar 2020 20:56:08 GMT):<br/>
Each fab3 can only have one account at a time. It is one to one with the user that the fab3 instance is started with. Fab3 puts the sender address and ignores what is passed in
</p>
<p><strong>swetha</strong> (Tue, 24 Mar 2020 20:56:45 GMT):<br/>
If you want more accounts, you need to have multiple fab3 instances and more users created in fabric 
</p>
<p><strong>swetha</strong> (Tue, 24 Mar 2020 21:00:36 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Fab3_Instructions.md
</p>
<p><strong>swetha</strong> (Tue, 24 Mar 2020 21:01:44 GMT):<br/>
Those are the subset of the ethereum json rpc api we support and the current restrictions
</p>
<p><strong>Franz</strong> (Thu, 26 Mar 2020 10:01:56 GMT):<br/>
Thanks a lot :) I finally understood
</p>
<p><strong>Franz</strong> (Tue, 31 Mar 2020 11:44:37 GMT):<br/>
Hello everybody. I've a doubt about` loyalty-points-evm-fabric`. How the example handle the membership application side. I understand how works fab3 and integration but How client recognize the User(belong to Org1 or Org2) that call method inside smart contract. e.g the method registerMember could be called only by User belonging to Org2 and so on. so how application filter the request ?
</p>
<p><strong>swetha</strong> (Wed, 01 Apr 2020 07:18:07 GMT):<br/>
I am not familiar with the details of that example, but I think the application roles don't necessarily translate into Fabric users. The app is more defining users from the app's perspective. I recommend asking one of the contributors of the project for more information. 
</p>
<p><strong>matanyahu</strong> (Mon, 06 Apr 2020 17:54:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Franz</strong> (Fri, 10 Apr 2020 09:29:35 GMT):<br/>
Hello there's a way to link metamask (own eth address) to Fab3 in order to interact with ethereum network too ? My goal is move erc20 token on a ethereum network starting from fabric chaincode. there's a way to do that ? 
</p>
<p><strong>MHBauer</strong> (Thu, 16 Apr 2020 21:30:22 GMT):<br/>
No, fab3 talks to fabric network, and there is no concept of talking to a mainnet or fork.
</p>
<p><strong>Franz</strong> (Thu, 23 Apr 2020 15:58:04 GMT):<br/>
Hi. If I run the chaincode-evm in net mode the only way to see all transactions logs is to run `docker logs containerID` ?  There's a way (e.g using fab3) to print all blockchain transactions log at higher level ? 
</p>
<p><strong>MHBauer</strong> (Thu, 23 Apr 2020 17:30:40 GMT):<br/>
I am not sure what is meant by "net mode". Which container logs are you looking at? The chaincode? Which transaction logs are you trying to look for? Fabric or evm? We store evm logs into fabric logs, but in a somewhat custom way as json. 

for evm logs through fab3 we've implemented the rpc call https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Fab3_Instructions.md#eth_getLogs

There is a partially completed implementation of the asynchronous log follower, https://github.com/hyperledger/fabric-chaincode-evm/pull/27 but it still needs some work.
</p>
<p><strong>Franz</strong> (Fri, 24 Apr 2020 09:31:24 GMT):<br/>
I saw in some opened topics(e.g on stackoverflow ) that talk about "net mode" and "dev mode". "net mode" should mean the standard mode running the peers and all net components inside docker containers. 
</p>
<p><strong>Franz</strong> (Fri, 24 Apr 2020 09:31:24 GMT):<br/>
I saw in some opened topics(e.g on stackoverflow ) that talk about "net mode" and "dev mode". "net mode" should mean the standard mode running the peers and all net components inside docker containers.  ```
```
I'm trying to look the blockchain transactions log, when an endorsing peer verify a transaction and the orderer release a new block. at "lower level". If I look inside docker containers I could see all the transactions processed and block released, but can I see that informations at "higher level" in order to insert that transactions log inside my dapp ?  
I tryed eth_getLogs in several way but it return "can't find method getLogs" message
</p>
<p><strong>Franz</strong> (Fri, 24 Apr 2020 09:31:24 GMT):<br/>
I saw in some opened topics(e.g on stackoverflow ) that talk about "net mode" and "dev mode". "net mode" should mean the standard mode running the peers and all net components inside docker containers.  ```
```
I'm trying to look the blockchain transactions log, when an endorsing peer verify a transaction and the orderer release a new block. at "lower level". If I look inside docker containers I could see all the transactions processed and block released, but can I see that informations at "higher level" in order to insert that transactions log inside my dapp ?  
``` 
I tryed eth_getLogs in several way but it return "can't find method getLogs" message``` 
</p>
<p><strong>Franz</strong> (Fri, 24 Apr 2020 09:31:24 GMT):<br/>
I saw in some opened topics(e.g on stackoverflow ) that talk about "net mode" and "dev mode". "net mode" should mean the standard mode running the peers and all net components inside docker containers.  ```
```
I'm trying to look the blockchain transactions log, when an endorsing peer verify a transaction and the orderer release a new block. at "lower level". If I look inside docker containers I could see all the transactions processed and block released, but can I see that informations at "higher level" in order to insert that transactions log inside my dapp ?  
``` 
I tryed eth_getLogs in several way but it return "can't find method getLogs" message
</p>
<p><strong>swetha</strong> (Fri, 24 Apr 2020 18:30:42 GMT):<br/>
So from the fabric chaincode evm side there is no change based on the modes you mentioned. I am not familiar with those terms. In general the evm chaincode logs will be found looking at the docker logs for that container, or where the other chaincode logs are. Fab3 only logs to stdout right now and only shows INFO level logging. At the moment neither the evm and fab3 log every request so having a transaction log would not work. You can query for all the blocks using fab3 and json rpc api. 
</p>
<p><strong>Franz</strong> (Sat, 25 Apr 2020 08:19:44 GMT):<br/>
Thanks a lot for the help üôÇ
</p>
<p><strong>Franz</strong> (Sat, 25 Apr 2020 08:30:53 GMT):<br/>
At this link https://wiki.hyperledger.org/display/fabric/Raw+Transaction+Design I saw that @MHBauer  conceptualize to introduce metamask in raw transaction process. There's architecture design limit to develop it ?  
</p>
<p><strong>MHBauer</strong> (Mon, 27 Apr 2020 17:37:05 GMT):<br/>
That's information we came up together of the work required. It was never put to full planning. 
</p>
<p><strong>magdasta</strong> (Wed, 06 May 2020 14:13:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>magdasta</strong> (Wed, 06 May 2020 14:13:30 GMT):<br/>
Hi! I've been playing around with HLF for only a few days, so please forgive me if it's a lame question, but I couldn't find an answer. Is it possible to use evmcc with fabric 2.0? If so, are there any tutorials or docs? And if not, when it's planned to be supported?
</p>
<p><strong>MHBauer</strong> (Wed, 06 May 2020 18:04:36 GMT):<br/>
It's a go chaincode, so I can't think of any reason it wouldn't work.
</p>
<p><strong>abrinckm</strong> (Tue, 12 May 2020 13:47:21 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Franz</strong> (Wed, 13 May 2020 08:20:30 GMT):<br/>
*[Fab3]* Hello I build and run a new network with  3 Orgs( 1 peer per org ) and 2 channels (channel12 and channel23). When I run the fab3 proxy appear the error "`Error: Failed to create Fabric SDK Client: failed to initialize configuration: unable to load endpoint config: failed to initialize endpoint config from config backend: network configuration load failed: failed to load channel configs: failed to load channel peers: unable to find MSP ID for peer : peer0.org3.example.com`" . I modified the config file `network-sdk-config.yaml` in order to add peer0.org3.example.com and the channel12 and channel23. Some tips for that error ? 
</p>
<p><strong>Franz</strong> (Wed, 13 May 2020 15:22:47 GMT):<br/>
SOLVED. It 'was a simple typo :grimacing: 
</p>
<p><strong>MHBauer</strong> (Wed, 13 May 2020 16:26:37 GMT):<br/>
Oh, I hate those so much. 
</p>
<p><strong>Franz</strong> (Fri, 15 May 2020 09:05:49 GMT):<br/>
There's a way to run transaction of an ERC20 token over a public Blockchain(Ethereum) starting from my private fabric chaincode(smart contract) ?
</p>
<p><strong>conanoc</strong> (Tue, 19 May 2020 10:07:52 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>MHBauer</strong> (Tue, 19 May 2020 19:37:05 GMT):<br/>
You ought to be able to run erc20 contracts in evm-chaincode, but there is no connection from chaincode-evm to public networks. That would have to be done outside of chaincode-evm.
</p>
<p><strong>Franz</strong> (Wed, 20 May 2020 08:56:50 GMT):<br/>
Thanks for the reply. I would like to study if it's possible to implement a mapping mechanism between eth wallets and fabric users, storing the eth wallet(couple of keys) instead of generate it on the fly when run fab3, and link it to a x.509 certificate of fabric user. I saw that on github repo of Fab3 there's not a docs about files goal, but just how to use it. Where is generated the eth wallet during fab3 running ? in types.go ? and where is stored the keys once it is generated ? Every other kind of tips and advise about argument are so much appreciate :)
</p>
<p><strong>MHBauer</strong> (Wed, 20 May 2020 15:45:45 GMT):<br/>
the mapping mecahism would be the msp from the diagram.
</p>
<p><strong>MHBauer</strong> (Wed, 20 May 2020 15:46:07 GMT):<br/>
The address in fab3 is generated from the fabric auth
</p>
<p><strong>MHBauer</strong> (Wed, 20 May 2020 18:09:33 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/59deb68bba4dd870905ee57aca767a7421bd4b56/evmcc/evmcc.go#L205-L233


</p>
<p><strong>Franz</strong> (Wed, 20 May 2020 18:30:35 GMT):<br/>
Thanks a lot for advise. I pay attention to the code during this days. So approximately it should work in the following way: the fab3 run -> call account function in evmcc chaincode -> the account function check identity and generate an eth address starting from "IdentityToAddress" -> this eth address is used to invoke smart contract  
</p>
<p><strong>Franz</strong> (Wed, 20 May 2020 18:30:35 GMT):<br/>
so the eth account generated isn't completly random but "semi-random" generated starting from address of own fabric certificate ?
</p>
<p><strong>MHBauer</strong> (Wed, 20 May 2020 19:19:13 GMT):<br/>
must recall that fab3 is using a fabric identity
</p>
<p><strong>MHBauer</strong> (Wed, 20 May 2020 20:53:50 GMT):<br/>
that is passed through to evmcc, which unpacks it to convert to a evm address.
</p>
<p><strong>Franz</strong> (Thu, 21 May 2020 08:15:44 GMT):<br/>
so the eth account address generated isn't completly random but "semi-random"?
</p>
<p><strong>MHBauer</strong> (Thu, 21 May 2020 14:22:56 GMT):<br/>
more arbitrary, than random, https://github.com/hyperledger/fabric-chaincode-evm/blob/59deb68bba4dd870905ee57aca767a7421bd4b56/evmcc/address/converter.go

</p>
<p><strong>MHBauer</strong> (Thu, 21 May 2020 14:23:04 GMT):<br/>
sha3 of public key
</p>
<p><strong>swetha</strong> (Thu, 21 May 2020 14:42:25 GMT):<br/>
One other thing to note is that the eth address used for the from field is always rewritten by fab3 to use the address generated from the public key of the transaction 
</p>
<p><strong>Franz</strong> (Fri, 22 May 2020 10:00:15 GMT):<br/>
So correct me if I'm wrong. Fab3 instance run -> connect as UserX of OrgX to evmcc -> evm chaincode check identity, take fabric identity, umarshall keyPub and perform sha3(keyPub) to generate eth address -> from now each chaincode invokation is done using eth account chaincode side otherwise fabric network side use fabric identity. my dubts is 1. where is stored the eth account ? 2. the fabric auth is performed chaincode side or network side ? 
</p>
<p><strong>MHBauer</strong> (Fri, 22 May 2020 17:28:14 GMT):<br/>
not sure what's mean by "where is eth account stored" account is an address, and the address generation has been shown above.

2. fabric auth is done during fab3 -> fabric communication.
</p>
<p><strong>swetha</strong> (Fri, 22 May 2020 18:24:36 GMT):<br/>
The eth account is not stored anywhere. Every fabric transaction needs a fabric identity, so using that public key which is sent with the transaction, fabric knows the account. The account address is always generated on the fly. 
</p>
<p><strong>Franz</strong> (Sat, 23 May 2020 08:19:06 GMT):<br/>
Okay so there isn't created a real eth wallet with a couple of keys (with a storing mechanism for KeyPrivate). but it's created just the eth public key used for transaction over the evm ?
</p>
<p><strong>MHBauer</strong> (Wed, 27 May 2020 00:46:01 GMT):<br/>
yes, correct.
</p>
<p><strong>swetha</strong> (Wed, 27 May 2020 01:01:19 GMT):<br/>
There are fabric pub/priv key pair that is used. That private key is needed to sign the fabric transaction which has the evm transaction within it 
</p>
<p><strong>SuperSeiyan</strong> (Fri, 07 Aug 2020 06:08:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>charyorde</strong> (Mon, 17 Aug 2020 01:06:33 GMT):<br/>
Anyone has experience building a custom token on EVM with no gas, runs on own VM and can interoperate with IBM Blockchain? Please DM for project
</p>
<p><strong>charyorde</strong> (Tue, 25 Aug 2020 16:56:20 GMT):<br/>
@MHBauer With fabric release 2.2, which docker file do I add the fabric-chaincode-evm? There's no docker-compose-cli in fabric release 2.2
</p>
<p><strong>MHBauer</strong> (Tue, 25 Aug 2020 18:38:47 GMT):<br/>
what are you working through?
</p>
<p><strong>charyorde</strong> (Tue, 25 Aug 2020 19:00:35 GMT):<br/>
I don't your question
</p>
<p><strong>MHBauer</strong> (Tue, 25 Aug 2020 19:04:32 GMT):<br/>
What are you doing? Following a guide? Where does comopse-cli figure in to your process?
</p>
<p><strong>charyorde</strong> (Tue, 25 Aug 2020 19:15:03 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md
</p>
<p><strong>MHBauer</strong> (Tue, 25 Aug 2020 19:17:05 GMT):<br/>
ah, yes, we have not migrated to a 2.0 based process nor the `test-network` instead of `first-network`.
</p>
<p><strong>charyorde</strong> (Tue, 25 Aug 2020 19:17:13 GMT):<br/>
I'm using the test-network on relese 2.2
</p>
<p><strong>MHBauer</strong> (Tue, 25 Aug 2020 19:17:30 GMT):<br/>
we should probably not be linking to master for our links.
</p>
<p><strong>NizomjonKhajiev</strong> (Mon, 31 Aug 2020 13:09:36 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>NizomjonKhajiev</strong> (Mon, 31 Aug 2020 13:09:37 GMT):<br/>
Hi
</p>
<p><strong>sstone1</strong> (Thu, 03 Sep 2020 07:13:57 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>gregdhill</strong> (Thu, 03 Sep 2020 13:34:12 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>jaromil</strong> (Thu, 08 Oct 2020 15:19:15 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>ErnestoGomez</strong> (Wed, 11 Nov 2020 17:16:35 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ErnestoGomez</strong> (Wed, 11 Nov 2020 17:16:35 GMT):<br/>
Hello, How can I get the address from a public key?
I tried using keccak256(PuK), Sha2-256(PuK), and Sha3-256(PuK) but no result match the address associated with this PuK
</p>
<p><strong>ErnestoGomez</strong> (Mon, 16 Nov 2020 18:15:50 GMT):<br/>
Ok, I got the solution
Sha3-256(0x3059301306072a8648ce3d020106082a8648ce3d030107034200:PubK)
</p>
<p><strong>ErnestoGomez</strong> (Mon, 16 Nov 2020 18:16:07 GMT):<br/>
concatenate 3059301306072a8648ce3d020106082a8648ce3d030107034200 and the publickey
</p>
<p><strong>pouya</strong> (Sun, 29 Nov 2020 11:02:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>bh4rtp</strong> (Sun, 10 Jan 2021 00:47:46 GMT):<br/>
Hi, what is the use of fabric-evm? I am using the SDK accessing the fabric network.
</p>
<p><strong>HansrajRami</strong> (Mon, 11 Jan 2021 15:35:59 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>HansrajRami</strong> (Tue, 12 Jan 2021 07:24:06 GMT):<br/>
Hi I was setting up this on fabric 2.2.1 
evmcc chaincode working perfect

But fab3 proxy is not running
Does fab3 proxy works with fabric 2.2.x ??
</p>
<p><strong>HansrajRami</strong> (Tue, 12 Jan 2021 13:13:23 GMT):<br/>
I've tried this example https://github.com/hyperledger/fabric-chaincode-evm/blob/master/examples/EVM_Smart_Contracts.md

With first network example in fabric samples repo
But fabric version is 2 

I am having this error while starting fab3 proxy 

```
Error: Failed to create Fabric SDK Channel Client: failed to create channel context: failed to get client context to create channel client: getting private key from cert failed: Failed getting key for SKI [[195 186 252 66 222 59 87 132 88 84 30 189 208 4 67 84 65 93 59 65 204 231 202 219 251 121 53 38 15 172 231 228]]: Key with SKI c3bafc42de3b578458541ebdd0044354415d3b41cce7cadbfb7935260face7e4 not found in /tmp/msp/keystore
```
</p>
<p><strong>barankilic</strong> (Sun, 31 Jan 2021 15:54:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>CANEREMEC</strong> (Fri, 26 Mar 2021 08:32:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>RobertBetschinger</strong> (Fri, 28 May 2021 10:21:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>jimthematrix</strong> (Mon, 07 Jun 2021 16:01:53 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>Shritesh99</strong> (Fri, 16 Jul 2021 04:58:27 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Shritesh99</strong> (Fri, 16 Jul 2021 05:12:59 GMT):<br/>
Hello, I am the Mentee for this year's "Implement cross-chain contract invocation using Servicemesh way" project. I have installed fabric EVM chaincode on Fabric 2.2, I am not able to invoke the EVM starting transaction using command ``` peer chaincode invoke -o localhost:7050 --tls --cafile $ORDERER_CA -C mychannel -n evmcc --peerAddresses localhost:7051 --tlsRootCertFiles $PEER0_ORG1_CA --peerAddresses localhost:9051 --tlsRootCertFiles $PEER0_ORG2_CA -c '{"Args":[]}'
```
</p>
<p><strong>Shritesh99</strong> (Fri, 16 Jul 2021 05:12:59 GMT):<br/>
Hello, I am the Mentee for this year's "Implement cross-chain contract invocation using Servicemesh way" project. I have installed fabric EVM chaincode on Fabric 2.2, I am not able to invoke the EVM starting transaction using command 
``` peer chaincode invoke -o localhost:7050 --tls --cafile $ORDERER_CA -C mychannel -n evmcc --peerAddresses localhost:7051 --tlsRootCertFiles $PEER0_ORG1_CA --peerAddresses localhost:9051 --tlsRootCertFiles $PEER0_ORG2_CA -c '{"Args":[]}'
```
</p>
<p><strong>Shritesh99</strong> (Fri, 16 Jul 2021 05:12:59 GMT):<br/>
Hello, I am the Mentee for this year's "Implement cross-chain contract invocation using Servicemesh way" project. I have installed fabric EVM chaincode on Fabric 2.2, I am not able to invoke the EVM starting transaction using the command:
``` peer chaincode invoke -o localhost:7050 --tls --cafile $ORDERER_CA -C mychannel -n evmcc --peerAddresses localhost:7051 --tlsRootCertFiles $PEER0_ORG1_CA --peerAddresses localhost:9051 --tlsRootCertFiles $PEER0_ORG2_CA -c '{"Args":[]}'
```
I have also logged into thechaincode docker container and here are the logs of it.
```
2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> WARN 001 Error: logger: invalid log level for shim log level: warn2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> INFO 002 Chaincode (build level: 2.3.2) starting up ...
```
</p>
<p><strong>Shritesh99</strong> (Fri, 16 Jul 2021 05:12:59 GMT):<br/>
Hello, I am the Mentee for this year's "Implement cross-chain contract invocation using Servicemesh way" project. I have installed fabric EVM chaincode on Fabric 2.2, I am not able to invoke the EVM starting transaction using the command:
```peer chaincode invoke -o localhost:7050 --tls --cafile $ORDERER_CA -C mychannel -n evmcc --peerAddresses localhost:7051 --tlsRootCertFiles $PEER0_ORG1_CA --peerAddresses localhost:9051 --tlsRootCertFiles $PEER0_ORG2_CA -c '{"Args":[]}'
```
I have also logged into thechaincode docker container and here are the logs of it.
```
2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> WARN 001 Error: logger: invalid log level for shim log level: warn2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> INFO 002 Chaincode (build level: 2.3.2) starting up ...
```
</p>
<p><strong>Shritesh99</strong> (Fri, 16 Jul 2021 05:12:59 GMT):<br/>
Hello, I am the Mentee for this year's "Implement cross-chain contract invocation using Servicemesh way" project. I have installed fabric EVM chaincode on Fabric 2.2, I am not able to invoke the EVM starting transaction using the command:
```
peer chaincode invoke -o localhost:7050 --tls --cafile $ORDERER_CA -C mychannel -n evmcc --peerAddresses localhost:7051 --tlsRootCertFiles $PEER0_ORG1_CA --peerAddresses localhost:9051 --tlsRootCertFiles $PEER0_ORG2_CA -c '{"Args":[]}'
```
I have also logged into thechaincode docker container and here are the logs of it.
```
2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> WARN 001 Error: logger: invalid log level for shim log level: warn
2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> INFO 002 Chaincode (build level: 2.3.2) starting up ...
```
</p>
<p><strong>Shritesh99</strong> (Fri, 16 Jul 2021 05:12:59 GMT):<br/>
Hello, I am the Mentee for this year's "Implement cross-chain contract invocation using Servicemesh way" project. I have installed fabric EVM chaincode on Fabric 2.2, I am not able to invoke the EVM starting transaction using the command:
```
peer chaincode invoke -o localhost:7050 --tls --cafile $ORDERER_CA -C mychannel -n evmcc --peerAddresses localhost:7051 --tlsRootCertFiles $PEER0_ORG1_CA --peerAddresses localhost:9051 --tlsRootCertFiles $PEER0_ORG2_CA -c '{"Args":[]}'
```
I have also logged into the EVM chaincode docker container and here are the logs of it.
```
2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> WARN 001 Error: logger: invalid log level for shim log level: warn
2021-07-16 05:03:10.185 UTC [shim] setupChaincodeLogging -> INFO 002 Chaincode (build level: 2.3.2) starting up ...
```
</p>
<p><strong>kaushambi</strong> (Fri, 20 Aug 2021 13:57:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>maciejjedrzejczyk</strong> (Wed, 06 Oct 2021 12:16:08 GMT):<br/>
Hi, I am considering the use of fabric-evm in my future project but wanted to confirm if it has been successfully tested against HLF 2.x (preferrably 2.3)?
</p>
<p><strong>barankilic</strong> (Mon, 11 Oct 2021 12:02:41 GMT):<br/>
On the projects Github page (https://github.com/hyperledger/fabric-chaincode-evm), Hyperledger Fabric v1.4 is listed as dependency. I _guess_ it will not work with Fabric 2.x.

I am not related to this project, but it looks like it is currently not maintained (or the development is finished and there is no need to change things.)
</p>
<p><strong>gsarkar</strong> (Fri, 10 Dec 2021 08:23:36 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>gsarkar</strong> (Fri, 10 Dec 2021 08:23:37 GMT):<br/>
I have followed the link ( https://github.com/hyperledger/fabric-chaincode-evm ) to install EVM chaincode on Hyperledger Fabric. I also deployed the ERC721 solidity smart contract on the EVM chaincode. While querying the owner address through the function in the ERC721 smart contract, I'm getting the owner address as   "AAAAAAAAAAAAAAAAMeGlXRSvGKRwCB3ufvC6Xg6YlE0=" from  EVM chaincode compared to the owner address of "0x5B38Da6a701c568545dCfcB03FcB875f56beddC4" from the same ERC721 smart contract on Ethereum. It looks like there are 2 different encoding standards followed between EVM and Ethereum. Please suggest how to resolve the issue.   Please note that I'm also getting additional characters like nulls and line breaks during the response from ERC721 smart contract on EVM chaincode.
</p>
<p><strong>tkuhrt</strong> (Mon, 03 Jan 2022 20:31:21 GMT):<br/>
@MHBauer @swetha : Is the EVM chaincode still supported? We are looking to move Hyperledger Burrow to a Dormant state, and I would like to understand the impact to this integration.
</p>
<p><strong>tkuhrt</strong> (Mon, 03 Jan 2022 20:31:21 GMT):<br/>
@MHBauer @swetha : Is the EVM chaincode still supported? We are looking to move Hyperledger Burrow to a Dormant state (at the request of the maintainers), and I would like to understand the impact to this integration.
</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:35:17 GMT):<br/>

</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:35:17 GMT):<br/>

</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:35:17 GMT):<br/>

</p>
