{"msg":"Has joined the channel.","username":"markparz","ts":"2017-02-03T00:14:55.204Z","type":"uj"}
{"msg":"@yacovm ","username":"C0rWin","ts":"2017-02-03T00:27:42.557Z"}
{"msg":"Has joined the channel.","username":"yacovm","ts":"2017-02-03T00:27:42.584Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mastersingh24","ts":"2017-02-03T00:49:53.148Z","type":"uj"}
{"msg":"Ah?","username":"yacovm","ts":"2017-02-03T00:51:25.426Z"}
{"msg":"hello gents","username":"mastersingh24","ts":"2017-02-03T00:56:09.168Z"}
{"msg":"Has joined the channel.","username":"salmanbaset","ts":"2017-02-03T01:20:28.577Z","type":"uj"}
{"msg":"Has joined the channel.","username":"grapebaba","ts":"2017-02-03T01:39:53.420Z","type":"uj"}
{"msg":"How was the hackathon @mastersingh24 ?","username":"yacovm","ts":"2017-02-03T01:40:24.821Z"}
{"msg":"Has joined the channel.","username":"didnotgetagoodname","ts":"2017-02-03T03:57:19.495Z","type":"uj"}
{"msg":"hey - was getting on a flight earlier.  it was pretty good.  some good conversations on various subjects and looks like people are very interested in the new 1.0 architecture","username":"mastersingh24","ts":"2017-02-03T04:26:03.779Z"}
{"msg":"we are clearly going to need to get some good docs out with the alpha","username":"mastersingh24","ts":"2017-02-03T04:26:05.367Z"}
{"msg":"@mastersingh24 aloha","username":"C0rWin","ts":"2017-02-03T07:49:09.718Z"}
{"msg":"You definitely need to make it to Israel, probably some hackathon with all startups we have here","username":"C0rWin","ts":"2017-02-03T07:49:51.424Z"}
{"msg":"Has joined the channel.","username":"JonathanLevi","ts":"2017-02-03T07:58:56.161Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cca88","ts":"2017-02-03T08:20:39.957Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jdockter","ts":"2017-02-03T11:38:26.136Z","type":"uj"}
{"msg":"Has joined the channel.","username":"silliman","ts":"2017-02-03T13:56:30.237Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AdnanC","ts":"2017-02-03T14:24:27.368Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gormand","ts":"2017-02-03T14:42:47.570Z","type":"uj"}
{"msg":"count me in!","username":"mastersingh24","ts":"2017-02-03T14:48:21.443Z"}
{"msg":"Has joined the channel.","username":"kletkeman","ts":"2017-02-03T15:19:28.011Z","type":"uj"}
{"msg":"Has joined the channel.","username":"danacr","ts":"2017-02-03T15:23:53.362Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Nishi","ts":"2017-02-03T18:31:37.730Z","type":"uj"}
{"msg":"Has joined the channel.","username":"karkal","ts":"2017-02-03T19:52:23.117Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rickr","ts":"2017-02-03T20:24:48.639Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jiangyaoguo","ts":"2017-02-04T01:31:10.059Z","type":"uj"}
{"msg":"Has joined the channel.","username":"David.Yan","ts":"2017-02-04T03:29:48.575Z","type":"uj"}
{"msg":"Has joined the channel.","username":"genggjh","ts":"2017-02-04T03:44:15.230Z","type":"uj"}
{"msg":"Has joined the channel.","username":"muralisr","ts":"2017-02-04T14:46:46.358Z","type":"uj"}
{"msg":"me too please :-)","username":"muralisr","ts":"2017-02-04T14:47:20.635Z"}
{"msg":"Has joined the channel.","username":"ray","ts":"2017-02-05T08:42:19.768Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mandler","ts":"2017-02-05T10:47:17.041Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rascal-3","ts":"2017-02-05T14:06:39.464Z","type":"uj"}
{"msg":"I need to know some of 1.0","username":"rascal-3","ts":"2017-02-05T14:09:13.671Z"}
{"msg":"hmm","username":"yacovm","ts":"2017-02-05T14:17:38.705Z"}
{"msg":"?","username":"yacovm","ts":"2017-02-05T14:17:39.906Z"}
{"msg":"ah","username":"rascal-3","ts":"2017-02-05T14:40:25.082Z"}
{"msg":"sorry, I will catch up!","username":"rascal-3","ts":"2017-02-05T14:40:36.321Z"}
{"msg":"Has joined the channel.","username":"Honglei","ts":"2017-02-05T23:53:46.704Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bryanhuang","ts":"2017-02-06T04:32:56.251Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jojocheung","ts":"2017-02-06T07:32:12.789Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gennadyl","ts":"2017-02-06T08:19:52.151Z","type":"uj"}
{"msg":"Has joined the channel.","username":"david.peyronnin","ts":"2017-02-06T09:48:35.688Z","type":"uj"}
{"msg":"Has joined the channel.","username":"harrijk","ts":"2017-02-06T15:14:08.421Z","type":"uj"}
{"msg":"Has joined the channel.","username":"weeds","ts":"2017-02-06T20:24:50.488Z","type":"uj"}
{"msg":"Has joined the channel.","username":"crazybit","ts":"2017-02-07T05:31:43.187Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zlliu","ts":"2017-02-07T08:18:10.765Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vitaly.ilinykh","ts":"2017-02-07T08:41:02.045Z","type":"uj"}
{"msg":"Has joined the channel.","username":"raghavsood","ts":"2017-02-07T08:49:02.040Z","type":"uj"}
{"msg":"I'm here","username":"mastersingh24","ts":"2017-02-07T12:57:50.701Z"}
{"msg":"so you want me to start?","username":"mastersingh24","ts":"2017-02-07T12:58:04.366Z"}
{"msg":"I am. \nSo, https://jira.hyperledger.org/browse/FAB-2007 deals with adding support for gossip to expose endpoints to peers according to whether they are in the same org as the source peer or not","username":"yacovm","ts":"2017-02-07T12:58:24.429Z"}
{"msg":"I'm addressing this in the following way- in the `AliveMessage` I'm adding another field that's a remote endpoint.","username":"yacovm","ts":"2017-02-07T12:58:59.727Z"}
{"msg":"I'm addressing this in the following way- in the `AliveMessage` I'm adding another field that's an internal endpoint.","username":"yacovm","ts":"2017-02-07T12:58:59.727Z"}
{"msg":"to simplify things:","username":"yacovm","ts":"2017-02-07T12:59:21.013Z"}
{"msg":"When an `AliveMessage` is propagated from peer to peer, once the `AliveMessage` has crossed to a peer that's in a different org, the inner endpoint is deleted. ","username":"yacovm","ts":"2017-02-07T13:00:25.499Z"}
{"msg":"now... a peer may start without a remote endpoint, just an inner endpoint","username":"yacovm","ts":"2017-02-07T13:00:54.285Z"}
{"msg":"ok - that makes sense - so then all we need in the peer config is some property called something like \"advertiseAddress\" ","username":"mastersingh24","ts":"2017-02-07T13:02:46.799Z"}
{"msg":"yeah. The idea I thought of is the following:","username":"yacovm","ts":"2017-02-07T13:03:03.470Z"}
{"msg":"since you can use \"listenAddress\" for the internal / default address","username":"mastersingh24","ts":"2017-02-07T13:03:17.017Z"}
{"msg":"Now when you have 2 endpoints in the AliveMessage, you also have 2 signatures:","username":"yacovm","ts":"2017-02-07T13:03:19.497Z"}
{"msg":"1 on the whole message, with the external endpoint which can be nil","username":"yacovm","ts":"2017-02-07T13:03:28.113Z"}
{"msg":"and 1 on the inner endpoint","username":"yacovm","ts":"2017-02-07T13:03:32.391Z"}
{"msg":"so if the messages \"crosses\" an organization boundry- the last peer that forwards it- deletes the inner endpoint, and doesn't need to re-sign the actual message which it can't since he may not be the source peer","username":"yacovm","ts":"2017-02-07T13:04:12.976Z"}
{"msg":"but we have a problem","username":"yacovm","ts":"2017-02-07T13:04:16.379Z"}
{"msg":"Let's say a peer `p` has been initialized without a remote endpoint and joins a channel","username":"yacovm","ts":"2017-02-07T13:04:32.494Z"}
{"msg":"it contacts an anchor peer, tells it about itself","username":"yacovm","ts":"2017-02-07T13:04:38.816Z"}
{"msg":"and now the anchor peer, which may be in a different org- publishes that peer's alive message with the inner endpoint in the \"best\" case and with *no endpoint* in the worst case","username":"yacovm","ts":"2017-02-07T13:05:17.842Z"}
{"msg":"so what I want to do is something as the following which I think it's also a cool concept","username":"yacovm","ts":"2017-02-07T13:05:33.619Z"}
{"msg":"peers that don't have external endpoints, are \"invisible\" to outside orgs","username":"yacovm","ts":"2017-02-07T13:05:44.891Z"}
{"msg":"and may not join channels that are cross-orgs","username":"yacovm","ts":"2017-02-07T13:05:54.812Z"}
{"msg":"I mean- the gossip part won't support cross-org channel messages for them","username":"yacovm","ts":"2017-02-07T13:06:18.442Z"}
{"msg":"would they still be able to connect and pull across orgs for say something like block/state transfer?","username":"mastersingh24","ts":"2017-02-07T13:06:57.977Z"}
{"msg":"no","username":"yacovm","ts":"2017-02-07T13:07:09.012Z"}
{"msg":"if they have no external endpoint, i don't think they should","username":"yacovm","ts":"2017-02-07T13:07:26.923Z"}
{"msg":"if you want the peer to be able to do that, start it up correctly","username":"yacovm","ts":"2017-02-07T13:07:34.728Z"}
{"msg":"you may even of course, have the same endpoint in both fields","username":"yacovm","ts":"2017-02-07T13:07:43.340Z"}
{"msg":"you may even of course, have the same endpoint in both configs(internal and external)","username":"yacovm","ts":"2017-02-07T13:07:43.340Z"}
{"msg":"so basically, if a peer wants to participate in cross-org gossip (of course scoped to a channel), it must have an \"advertiseAddress\" in its config?","username":"mastersingh24","ts":"2017-02-07T13:11:01.112Z"}
{"msg":"of course, you could trick the system and populate this with a non-routable address as well and still be able to \"connect\" to someone else","username":"mastersingh24","ts":"2017-02-07T13:11:46.123Z"}
{"msg":"and then no one will be able to connect to that peer","username":"yacovm","ts":"2017-02-07T13:12:32.367Z"}
{"msg":"so why do that?","username":"yacovm","ts":"2017-02-07T13:12:44.467Z"}
{"msg":"he could always get blocks from peers in its org that did publish an external address","username":"yacovm","ts":"2017-02-07T13:13:02.653Z"}
{"msg":"but that peer could still make an outbound connection to another peer and given that the GRPC connection is duplex, the peer it connected to could still send it messages and vice versa","username":"mastersingh24","ts":"2017-02-07T13:13:30.069Z"}
{"msg":"yes I understand that","username":"yacovm","ts":"2017-02-07T13:13:46.200Z"}
{"msg":"agree - no reason to do it - but you could do it  :)","username":"mastersingh24","ts":"2017-02-07T13:13:50.988Z"}
{"msg":"but- I don't see the use case","username":"yacovm","ts":"2017-02-07T13:13:51.114Z"}
{"msg":"oh yeah","username":"yacovm","ts":"2017-02-07T13:13:56.792Z"}
{"msg":"but I also want users to be able not to config the peer/gossip in a way that causes problems that are hard to \"debug\"","username":"yacovm","ts":"2017-02-07T13:14:19.297Z"}
{"msg":"Now, having said that- there is an alternative for this, however- and it is to create 2 membership overlays: 1 for inter-organization membership, and 1 for intra-organization membership.\nThe implementation is much simpler, but it of course induces \"double\" the messages in a certain sense. ","username":"yacovm","ts":"2017-02-07T13:14:30.840Z"}
{"msg":"but I'm fine with saying that you need to specifically populate an address that will be used for gossip and if you don't have it, no cross-org gossip","username":"mastersingh24","ts":"2017-02-07T13:14:31.074Z"}
{"msg":"simplifies things a bit plus makes it clear what needs to happen to participate","username":"mastersingh24","ts":"2017-02-07T13:15:01.470Z"}
{"msg":"I think I want to go with the 1st way at first, and if I'll see that it doesn't work well I might switch to the 2nd","username":"yacovm","ts":"2017-02-07T13:15:01.786Z"}
{"msg":"ok","username":"mastersingh24","ts":"2017-02-07T13:15:10.247Z"}
{"msg":"so you're ok with that \"invisible peer\" idea?","username":"yacovm","ts":"2017-02-07T13:15:19.067Z"}
{"msg":"I think so - as I said, the only drawback is that an \"invisible\" peer cannot \"pull\", but I think it's ok to say \"hey - if you are not willing to expose yourself, you can't play in cross-org gossip\"","username":"mastersingh24","ts":"2017-02-07T13:16:48.665Z"}
{"msg":"it can pull from its own org","username":"yacovm","ts":"2017-02-07T13:16:58.604Z"}
{"msg":"right","username":"mastersingh24","ts":"2017-02-07T13:17:05.274Z"}
{"msg":"and it will most likely have an anchor peer to pull from, anyway","username":"yacovm","ts":"2017-02-07T13:17:16.690Z"}
{"msg":"good point","username":"mastersingh24","ts":"2017-02-07T13:17:24.513Z"}
{"msg":"ok I just wanted to make sure we agree on the idea.\n@C0rWin if you have some comments you're welcome","username":"yacovm","ts":"2017-02-07T13:18:51.568Z"}
{"msg":"so I suggest we explicitly add an item to the peer yaml config  - maybe we call it \"advertiseAddress\" and put it under the \"gossip\" section?  ","username":"mastersingh24","ts":"2017-02-07T13:19:03.455Z"}
{"msg":"*advertisedAddress*","username":"yacovm","ts":"2017-02-07T13:19:22.518Z"}
{"msg":"sounds good","username":"mastersingh24","ts":"2017-02-07T13:19:30.705Z"}
{"msg":"Kafka uses something like that as well","username":"mastersingh24","ts":"2017-02-07T13:19:41.046Z"}
{"msg":"ok. Thanks Gari. ","username":"yacovm","ts":"2017-02-07T13:19:57.188Z"}
{"msg":"@yacovm so we will have two addresses advertisedAddress - for across org (but maybe different from anchor address, listenAddress - internal listen address) ?","username":"muralisr","ts":"2017-02-07T13:25:03.622Z"}
{"msg":"So, now the gossip in the peer would advertise to peers in its own org both addresses, and to peers outside- only the external, and if the external address isn't specified, that peer won't be published to peers outside of the org.","username":"yacovm","ts":"2017-02-07T13:27:12.868Z"}
{"msg":"The listenAddress has nothing to do with that","username":"yacovm","ts":"2017-02-07T13:27:20.009Z"}
{"msg":"I'm not talking about https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L58-L64","username":"yacovm","ts":"2017-02-07T13:27:33.890Z"}
{"msg":"ok. I saw `since you can use \"listenAddress\" for the internal / default address` from @mastersingh24 and wanted to make sure","username":"muralisr","ts":"2017-02-07T13:30:03.582Z"}
{"msg":"so if there's an `advertisedAddress` a peer from across the org can communicate with that","username":"muralisr","ts":"2017-02-07T13:31:08.996Z"}
{"msg":"and if not ?","username":"muralisr","ts":"2017-02-07T13:31:32.183Z"}
{"msg":"if peer won't have `advertiseAddress` it won't be able to communicate with other orgs (at least directly)","username":"C0rWin","ts":"2017-02-07T13:37:33.227Z"}
{"msg":" its not a \"requirement\" that we have advertisedAddress right ?","username":"muralisr","ts":"2017-02-07T13:39:32.505Z"}
{"msg":"just trying to understand what we have to tell users to do ","username":"muralisr","ts":"2017-02-07T13:40:44.898Z"}
{"msg":"not it's not, but if you'd like your peer to be able to communicate with external peers from different orgs, only then you will have to setup this parameter","username":"C0rWin","ts":"2017-02-07T13:43:03.293Z"}
{"msg":"sorry, let me play \"dumb user\" (likely a true description of me :-) )... in what circumstance should I specify `advertiseAddress`","username":"muralisr","ts":"2017-02-07T14:26:44.839Z"}
{"msg":"it's `advertisedAddress`","username":"yacovm","ts":"2017-02-07T14:28:05.277Z"}
{"msg":"and when you want your peer to connect to different orgs","username":"yacovm","ts":"2017-02-07T14:28:15.556Z"}
{"msg":"@muralisr  - we actually played a similar trick in v0.6 with  `peer.listenAddress` and `peer.address` for the discovery protocol.  Basically discovery would advertise `peer.address` if present (for example this might be the expose IP:Port used by a Docker container whereas `listenAddress` was actually binding to localhost in the container which of course is not routable)","username":"mastersingh24","ts":"2017-02-07T14:30:33.302Z"}
{"msg":"Has joined the channel.","username":"cbf","ts":"2017-02-07T15:12:59.381Z","type":"uj"}
{"msg":"Has joined the channel.","username":"adc","ts":"2017-02-07T15:18:00.822Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mpage","ts":"2017-02-07T15:31:28.647Z","type":"uj"}
{"msg":"Has joined the channel.","username":"troyronda","ts":"2017-02-07T16:33:01.828Z","type":"uj"}
{"msg":"Has joined the channel.","username":"robear","ts":"2017-02-07T16:34:44.564Z","type":"uj"}
{"msg":"Hi @yacovm in the demo https://www.youtube.com/watch?v=Di4y1gauoKc , out of the first 10 peers, what as the leader setup? peer0 set to leader?","username":"AdnanC","ts":"2017-02-07T20:10:47.582Z"}
{"msg":"@AdnanC  the demo is quite old, it was only for demonstrating development process. \nWe're in a much much more advanced stage of gossip and we have multi-channel support now, and also soon dynamic leader election.\nAlso notice that there wasn't any talk about channels in the demo, since it was made in a very early stage of V1.0 development.\n\nAs for the demo- there wasn't really a leader, we were using a peer that was disseminating blocks manually.","username":"yacovm","ts":"2017-02-07T20:20:16.441Z"}
{"msg":"(by manually I mean- it was hardcoded to disseminate new blocks when it got them, and wasn't selected by some leader election)","username":"yacovm","ts":"2017-02-07T20:21:09.135Z"}
{"msg":"ok","username":"AdnanC","ts":"2017-02-07T20:21:23.105Z"}
{"msg":"Of course if you have questions, feel free to ask","username":"yacovm","ts":"2017-02-07T20:21:26.725Z"}
{"msg":"Thanks, are there any other recent demo/plabacks?","username":"AdnanC","ts":"2017-02-07T20:21:45.445Z"}
{"msg":"Hmm, I'm afraid that's the most up to date playback we have at the moment.","username":"yacovm","ts":"2017-02-07T20:24:41.371Z"}
{"msg":"ok, thanks. Will ask questions as you suggested :)","username":"AdnanC","ts":"2017-02-07T20:25:04.016Z"}
{"msg":"About the changeset https://gerrit.hyperledger.org/r/#/c/5163/, is this the usecase? \n\"when the peers are are on different hostmachines, the endpoint will be overriden and set to the IP address of the respective machines so that Gossip data dissemination can take place.\" ","username":"AdnanC","ts":"2017-02-07T20:38:13.340Z"}
{"msg":"of course.","username":"yacovm","ts":"2017-02-07T20:42:26.728Z"}
{"msg":"for example if you're running your peer in docker and its local IP is 172.20.0.3","username":"yacovm","ts":"2017-02-07T20:42:49.605Z"}
{"msg":"Has joined the channel.","username":"rahulhegde","ts":"2017-02-07T20:44:20.063Z","type":"uj"}
{"msg":"Has joined the channel.","username":"beauson45","ts":"2017-02-07T20:57:08.243Z","type":"uj"}
{"msg":"you would want remote peers to connect to an ip address that is routable from them, @AdnanC ","username":"yacovm","ts":"2017-02-07T20:57:34.199Z"}
{"msg":"right, ok.","username":"AdnanC","ts":"2017-02-07T20:58:35.912Z"}
{"msg":"Has joined the channel.","username":"mgk","ts":"2017-02-07T22:08:41.960Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xixuejia","ts":"2017-02-08T01:39:21.849Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ckeyer","ts":"2017-02-08T02:07:19.922Z","type":"uj"}
{"msg":"Has joined the channel.","username":"johnm","ts":"2017-02-08T02:27:03.592Z","type":"uj"}
{"msg":"Has joined the channel.","username":"niteshsolanki","ts":"2017-02-08T08:55:04.091Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MichalMalka","ts":"2017-02-08T09:48:21.358Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jvsteiner","ts":"2017-02-08T11:01:50.863Z","type":"uj"}
{"msg":"@yacovm Hi, about the code-review, I just found that I created the chain with security-enabled.  So, it's not a bug.  I'll abandon that review.  Thanks very much for the explanation.","username":"Honglei","ts":"2017-02-08T11:09:49.972Z"}
{"msg":"of course, thank you for trying to patch our code!","username":"yacovm","ts":"2017-02-08T11:10:43.707Z"}
{"msg":"Has joined the channel.","username":"patsToms","ts":"2017-02-08T11:50:26.113Z","type":"uj"}
{"msg":"Has joined the channel.","username":"divyank","ts":"2017-02-08T14:51:08.038Z","type":"uj"}
{"msg":"Has joined the channel.","username":"haidong","ts":"2017-02-08T14:51:38.507Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vbortnik","ts":"2017-02-08T16:14:04.489Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jkirke","ts":"2017-02-08T16:33:33.175Z","type":"uj"}
{"msg":"Has joined the channel.","username":"StevenLanders","ts":"2017-02-08T19:44:19.057Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xiejunxi","ts":"2017-02-09T03:28:12.257Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chenxl","ts":"2017-02-09T03:32:07.246Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kenzhang","ts":"2017-02-10T01:12:08.780Z","type":"uj"}
{"msg":"Has joined the channel.","username":"regorge","ts":"2017-02-10T23:14:38.493Z","type":"uj"}
{"msg":"Has joined the channel.","username":"smithsj","ts":"2017-02-11T08:49:33.029Z","type":"uj"}
{"msg":"Hi, I posted 3 JIRA tasks which are pretty easy to do, for anyone who wants to contribute to fabric code.\nAny help will be greatly appreciated :) \nhttps://jira.hyperledger.org/browse/FAB-2205\nhttps://jira.hyperledger.org/browse/FAB-2206\nhttps://jira.hyperledger.org/browse/FAB-2207","username":"yacovm","ts":"2017-02-13T09:01:18.551Z"}
{"msg":"Has joined the channel.","username":"coolsvap","ts":"2017-02-13T09:04:42.548Z","type":"uj"}
{"msg":":thumbsup:","username":"grapebaba","ts":"2017-02-13T10:10:54.053Z"}
{"msg":"Has joined the channel.","username":"pards","ts":"2017-02-13T15:44:24.713Z","type":"uj"}
{"msg":"Has joined the channel.","username":"fz","ts":"2017-02-14T00:03:32.430Z","type":"uj"}
{"msg":"Has joined the channel.","username":"joshhus","ts":"2017-02-14T18:13:09.827Z","type":"uj"}
{"msg":"Fabric v1.0 gossip doc, proposed: https://gerrit.hyperledger.org/r/#/c/5717/","username":"joshhus","ts":"2017-02-14T18:13:52.852Z"}
{"msg":"Thanks. we'll take a look and comment.","username":"yacovm","ts":"2017-02-14T18:15:22.833Z"}
{"msg":"Has joined the channel.","username":"lehors","ts":"2017-02-14T21:54:06.822Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zwsyjj","ts":"2017-02-15T02:15:05.919Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jansony1","ts":"2017-02-15T17:26:34.499Z","type":"uj"}
{"msg":"Patch 2 comments responded to and incorporated in patch 3, thanks: https://gerrit.hyperledger.org/r/#/c/5717/3/docs/gossip.md","username":"joshhus","ts":"2017-02-15T21:57:33.456Z"}
{"msg":"Has joined the channel.","username":"wutongtree","ts":"2017-02-16T09:51:26.854Z","type":"uj"}
{"msg":"Has joined the channel.","username":"murrekatt","ts":"2017-02-16T10:12:09.049Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nickgaski","ts":"2017-02-16T15:50:53.596Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alviontaran","ts":"2017-02-16T16:19:19.012Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ylsGit","ts":"2017-02-17T02:28:37.425Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RajkumarNatarajan","ts":"2017-02-17T03:56:08.005Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xbee","ts":"2017-02-18T10:42:51.946Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dave.enyeart","ts":"2017-02-18T12:15:57.151Z","type":"uj"}
{"msg":"Hello gossipers, would it be possible to reduce the amount of gossip trace?  The same gossip bytes fill the debug log every second over and over, even when there are no transactions go through the system, making it nearly impossible to find actual transactions in the debug. Here is one second of peer debug when nothing is happening:","username":"dave.enyeart","ts":"2017-02-18T12:21:38.131Z"}
{"msg":"Hey Dave","username":"yacovm","ts":"2017-02-18T12:22:00.971Z"}
{"msg":"so, a question","username":"yacovm","ts":"2017-02-18T12:22:07.388Z"}
{"msg":"are you using debug?","username":"yacovm","ts":"2017-02-18T12:22:14.545Z"}
{"msg":"or info level?","username":"yacovm","ts":"2017-02-18T12:22:17.736Z"}
{"msg":"the gossip inherits its logging levels from the \"node\" logging attribute","username":"yacovm","ts":"2017-02-18T12:22:33.814Z"}
{"msg":"as the rest of the peer...","username":"yacovm","ts":"2017-02-18T12:22:43.416Z"}
{"msg":"```2017-02-18 11:58:22.532 UTC [gossip/comm#-1] Probe -> DEBU 8ee Entering, endpoint: 0.0.0.0:7051 PKIID: []\n2017-02-18 11:58:22.532 UTC [gossip/comm#-1] Probe -> DEBU 8ef Returning <nil>\n2017-02-18 11:58:22.533 UTC [gossip/comm#-1] Send -> INFO 8f0 Entering, sending tag:EMPTY memReq:<selfInformation:<tag:EMPTY signature:\"0D\\002 \\016\\000=V\\3779\\332\\0234\\263\\323.mD\\361\\222(pf'q\\303v\\226\\027G\\251\\217\\0050\\272\\353\\002 k\\236\\227\\252\\222\\236\\364\\231\\272cW\\033\\257\\253L/\\025\\366\\337$\\354\\201\\2369\\224\\273\\300\\342q\\240\\331\\334\" aliveMsg:<membership:<pkiID:\"\\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\" internalEndpoint:<endpoint:\"0.0.0.0:7051\" signature:\"0D\\002 *)\\236\\351\\341\\306\\302\\316d\\314;\\305\\317h\\226W\\235z7fa\\311\\326[\\250\\237h\\261W\\257'\\246\\002 $ \\277\\003\\261\\305Vn\\262\\310q\\205E$9\\321\\275\\313\\036@PA\\031\\326m\\002\\367H\\323\\315\\312\\371\" > > timestamp:<inc_number:1487418651979294534 seqNum:232 > > > known:\"G\\275\\025Q\\003V;I\\234\\3703\\365A97:\\033\\365$-W\\036\\367\\020\\324\\226\\341:\\001W s\" >  to  1 peers\n```","username":"dave.enyeart","ts":"2017-02-18T12:22:56.493Z"}
{"msg":"actually it wouldnt let me paste it, it was too much","username":"dave.enyeart","ts":"2017-02-18T12:23:16.201Z"}
{"msg":"peer debug","username":"dave.enyeart","ts":"2017-02-18T12:23:19.767Z"}
{"msg":"well- if the peer is in debug","username":"yacovm","ts":"2017-02-18T12:23:27.513Z"}
{"msg":"what do you expect me to do?","username":"yacovm","ts":"2017-02-18T12:23:33.086Z"}
{"msg":"could you maybe print out the bytes the first time, and then only print them again if they change?","username":"dave.enyeart","ts":"2017-02-18T12:23:37.418Z"}
{"msg":"that's impossible logic-wise. ","username":"yacovm","ts":"2017-02-18T12:23:52.622Z"}
{"msg":"look at the sequence numbers","username":"yacovm","ts":"2017-02-18T12:24:01.401Z"}
{"msg":"they increase","username":"yacovm","ts":"2017-02-18T12:24:03.107Z"}
{"msg":"I'm trying to understand though","username":"yacovm","ts":"2017-02-18T12:24:13.073Z"}
{"msg":"if you're after the DEBUG messages or the INFO one you pasted here?","username":"yacovm","ts":"2017-02-18T12:24:29.143Z"}
{"msg":"I see pages of gossip trace when nothing is happening in the system","username":"dave.enyeart","ts":"2017-02-18T12:24:30.052Z"}
{"msg":"would you agree to a situation","username":"yacovm","ts":"2017-02-18T12:24:49.788Z"}
{"msg":"in which the gossip comm layer prints the Send() method in debug","username":"yacovm","ts":"2017-02-18T12:24:59.929Z"}
{"msg":"instead of INFO as it is now?","username":"yacovm","ts":"2017-02-18T12:25:03.356Z"}
{"msg":"because- what do you expect me to do with debug messages? we have debug messages as the rest of the system","username":"yacovm","ts":"2017-02-18T12:25:33.451Z"}
{"msg":"```2017-02-18 11:58:22.534 UTC [gossip/comm#-1] authenticateRemotePeer -> DEBU 8f4 Sending tag:EMPTY signature:\"\\030\\001r\\313\\007\\n \\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\\022\\246\\007\\n\\007DEFAULT\\022\\232\\007-----BEGIN -----\\nMIICjDCCAjKgAwIBAgIUBEVwsSx0TmqdbzNwleNBBzoIT0wwCgYIKoZIzj0EAwIw\\nfzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\\nbiBGcmFuY2lzY28xHzAdBgNVBAoTFkludGVybmV0IFdpZGdldHMsIEluYy4xDDAK\\nBgNVBAsTA1dXVzEUMBIGA1UEAxMLZXhhbXBsZS5jb20wHhcNMTYxMTExMTcwNzAw\\nWhcNMTcxMTExMTcwNzAwWjBjMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGgg\\nQ2Fyb2xpbmExEDAOBgNVBAcTB1JhbGVpZ2gxGzAZBgNVBAoTEkh5cGVybGVkZ2Vy\\nIEZhYnJpYzEMMAoGA1UECxMDQ09QMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE\\nHBuKsAO43hs4JGpFfiGMkB/xsILTsOvmN2WmwpsPHZNL6w8HWe3xCPQtdG/XJJvZ\\n+C756KEsUBM3yw5PTfku8qOBpzCBpDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYw\\nFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFOFC\\ndcUZ4es3ltiCgAVDoyLfVpPIMB8GA1UdIwQYMBaAFBdnQj2qnoI/xMUdn1vDmdG1\\nnEgQMCUGA1UdEQQeMByCCm15aG9zdC5jb22CDnd3dy5teWhvc3QuY29tMAoGCCqG\\nSM49BAMCA0gAMEUCIDf9Hbl4xn3z4EwNKmilM9lX2Fq4jWpAaRVB97OmVEeyAiEA\\n25aDPQHGGq2AvhKT0wvt08cX1GTGCIbfmuLpMwKQj38=\\n-----END -----\\n\" conn:<pkiID:\"\\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\" cert:\"\\n\\007DEFAULT\\022\\232\\007-----BEGIN -----\\nMIICjDCCAjKgAwIBAgIUBEVwsSx0TmqdbzNwleNBBzoIT0wwCgYIKoZIzj0EAwIw\\nfzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\\nbiBGcmFuY2lzY28xHzAdBgNVBAoTFkludGVybmV0IFdpZGdldHMsIEluYy4xDDAK\\nBgNVBAsTA1dXVzEUMBIGA1UEAxMLZXhhbXBsZS5jb20wHhcNMTYxMTExMTcwNzAw\\nWhcNMTcxMTExMTcwNzAwWjBjMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGgg\\nQ2Fyb2xpbmExEDAOBgNVBAcTB1JhbGVpZ2gxGzAZBgNVBAoTEkh5cGVybGVkZ2Vy\\nIEZhYnJpYzEMMAoGA1UECxMDQ09QMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE\\nHBuKsAO43hs4JGpFfiGMkB/xsILTsOvmN2WmwpsPHZNL6w8HWe3xCPQtdG/XJJvZ\\n+C756KEsUBM3yw5PTfku8qOBpzCBpDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYw\\nFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFOFC\\ndcUZ4es3ltiCgAVDoyLfVpPIMB8GA1UdIwQYMBaAFBdnQj2qnoI/xMUdn1vDmdG1\\nnEgQMCUGA1UdEQQeMByCCm15aG9zdC5jb22CDnd3dy5teWhvc3QuY29tMAoGCCqG\\nSM49BAMCA0gAMEUCIDf9Hbl4xn3z4EwNKmilM9lX2Fq4jWpAaRVB97OmVEeyAiEA\\n25aDPQHGGq2AvhKT0wvt08cX1GTGCIbfmuLpMwKQj38=\\n-----END -----\\n\" >  to 127.0.0.1:35198\n```","username":"dave.enyeart","ts":"2017-02-18T12:25:36.986Z"}
{"msg":"yeah, that's a debug message though","username":"yacovm","ts":"2017-02-18T12:25:45.402Z"}
{"msg":"definitely shouldnt be info","username":"dave.enyeart","ts":"2017-02-18T12:25:58.571Z"}
{"msg":"it's not info","username":"yacovm","ts":"2017-02-18T12:26:03.904Z"}
{"msg":"it's debug","username":"yacovm","ts":"2017-02-18T12:26:05.179Z"}
{"msg":"there is some INFO each second","username":"dave.enyeart","ts":"2017-02-18T12:26:17.070Z"}
{"msg":"much more DEBUG","username":"dave.enyeart","ts":"2017-02-18T12:26:22.389Z"}
{"msg":"and I think that logging levels should be fine-grained per peer sub-component","username":"yacovm","ts":"2017-02-18T12:26:26.863Z"}
{"msg":"the \"some INFO\" - unless I'm mistaken is only the Send() isn't it?","username":"yacovm","ts":"2017-02-18T12:26:44.501Z"}
{"msg":"right, but when there issue people turn on DEBUG for the entire peer and then they cant find the problem through the gossip gorp","username":"dave.enyeart","ts":"2017-02-18T12:26:54.372Z"}
{"msg":"There are a few INFOs","username":"dave.enyeart","ts":"2017-02-18T12:27:34.079Z"}
{"msg":"2017-02-18 11:58:22.536 UTC [gossip/comm#-1] GossipStream -> INFO 8fa Servicing 127.0.0.1:35198","username":"dave.enyeart","ts":"2017-02-18T12:27:39.191Z"}
{"msg":"yeah I agree here- but the solution I think is appropriate is to be able to control which sub-component of a peer needs its logging levels adjusted","username":"yacovm","ts":"2017-02-18T12:27:40.961Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=hi6MggrwJZYSSjM88)  \nI think it should stay INFO because it means a new peer connected to you","username":"yacovm","ts":"2017-02-18T12:28:14.194Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=hi6MggrwJZYSSjM88","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=hi6MggrwJZYSSjM88","remote":true,"fileId":null,"fileName":null}]}
{"msg":"2017-02-18 11:58:47.530 UTC [gossip/comm#-1] Send -> INFO 929 Entering, sending channel:\"myc1\" tag:CHAN_OR_ORG stateInfoPullReq:<>  to  0 peers\n","username":"dave.enyeart","ts":"2017-02-18T12:28:20.403Z"}
{"msg":"yeah, that's the send() I was talking about","username":"yacovm","ts":"2017-02-18T12:28:34.070Z"}
{"msg":"I can make it debug","username":"yacovm","ts":"2017-02-18T12:28:37.706Z"}
{"msg":"if you'd like","username":"yacovm","ts":"2017-02-18T12:28:39.803Z"}
{"msg":"2017-02-18 12:17:33.100 UTC [gossip/comm#-1] authenticateRemotePeer -> DEBU 12ea Authenticated 127.0.0.1:7051\n2017-02-18 12:17:33.101 UTC [gossip/comm#-1] createConnection -> DEBU 12eb Exiting\n2017-02-18 12:17:33.101 UTC [gossip/comm#-1] sendToEndpoint -> DEBU 12ec Exiting\n2017-02-18 12:17:33.101 UTC [gossip/comm#-1] authenticateRemotePeer -> DEBU 12ed Authenticated 127.0.0.1:35396\n2017-02-18 12:17:33.101 UTC [gossip/comm#-1] GossipStream -> INFO 12ee Servicing 127.0.0.1:35396\n2017-02-18 12:17:33.102 UTC [gossip/comm#-1] serviceConnection -> WARN 12ef Closing reading from stream\n2017-02-18 12:17:33.102 UTC [gossip/comm#-1] writeToStream -> WARN 12f0 Closing writing to stream\n2017-02-18 12:17:33.102 UTC [gossip/comm#-1] readFromStream -> WARN 12f1 [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] canceling read because closing\n2017-02-18 12:17:33.102 UTC [gossip/comm#-1] readFromStream -> WARN 12f2 [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] Got error, aborting: EOF\n2017-02-18 12:17:33.102 UTC [gossip/comm#-1] func2 -> INFO 12f3 Client 127.0.0.1:35396  disconnected\n20","username":"dave.enyeart","ts":"2017-02-18T12:29:14.642Z"}
{"msg":"but as long as the gossip logging modules are inherited from the peer, I can't do anything about the debug messages","username":"yacovm","ts":"2017-02-18T12:29:19.452Z"}
{"msg":"WARNs also","username":"dave.enyeart","ts":"2017-02-18T12:29:40.451Z"}
{"msg":"hmmm- can you share the docker-compose file you used?","username":"yacovm","ts":"2017-02-18T12:30:48.327Z"}
{"msg":"using today's vagrant","username":"dave.enyeart","ts":"2017-02-18T12:31:14.467Z"}
{"msg":"no docker","username":"dave.enyeart","ts":"2017-02-18T12:31:22.868Z"}
{"msg":"so the peer/core.yaml?","username":"yacovm","ts":"2017-02-18T12:31:31.503Z"}
{"msg":"using the default, no changes","username":"dave.enyeart","ts":"2017-02-18T12:31:49.925Z"}
{"msg":"aha I see","username":"yacovm","ts":"2017-02-18T12:31:53.449Z"}
{"msg":"1 sec","username":"yacovm","ts":"2017-02-18T12:31:54.411Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L72","username":"yacovm","ts":"2017-02-18T12:32:10.347Z"}
{"msg":"but starting peer with CORE_LOGGING_LEVEL=DEBUG","username":"dave.enyeart","ts":"2017-02-18T12:32:11.811Z"}
{"msg":"remove this bootstrap line","username":"yacovm","ts":"2017-02-18T12:32:13.723Z"}
{"msg":"and you won't see (I hope) the WARNings","username":"yacovm","ts":"2017-02-18T12:32:23.109Z"}
{"msg":"not all the gorp has sequence numbers.. for the stuff without sequence numbers can you print the gorp only the first time?","username":"dave.enyeart","ts":"2017-02-18T12:33:08.051Z"}
{"msg":"gorp?","username":"yacovm","ts":"2017-02-18T12:33:20.844Z"}
{"msg":"or remove sequence numbers from the gorp","username":"dave.enyeart","ts":"2017-02-18T12:33:27.367Z"}
{"msg":"this is gorp:","username":"dave.enyeart","ts":"2017-02-18T12:33:41.104Z"}
{"msg":"2017-02-18 12:20:28.157 UTC [gossip/comm#-1] authenticateRemotePeer -> DEBU 14a3 Received pkiID:\"\\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\" cert:\"\\n\\007DEFAULT\\022\\232\\007-----BEGIN -----\\nMIICjDCCAjKgAwIBAgIUBEVwsSx0TmqdbzNwleNBBzoIT0wwCgYIKoZIzj0EAwIw\\nfzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\\nbiBGcmFuY2lzY28xHzAdBgNVBAoTFkludGVybmV0IFdpZGdldHMsIEluYy4xDDAK\\nBgNVBAsTA1dXVzEUMBIGA1UEAxMLZXhhbXBsZS5jb20wHhcNMTYxMTExMTcwNzAw\\nWhcNMTcxMTExMTcwNzAwWjBjMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGgg\\nQ2Fyb2xpbmExEDAOBgNVBAcTB1JhbGVpZ2gxGzAZBgNVBAoTEkh5cGVybGVkZ2Vy\\nIEZhYnJpYzEMMAoGA1UECxMDQ09QMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE\\nHBuKsAO43hs4JGpFfiGMkB/xsILTsOvmN2WmwpsPHZNL6w8HWe3xCPQtdG/XJJvZ\\n+C756KEsUBM3yw5PTfku8qOBpzCBpDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYw\\nFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFOFC\\ndcUZ4es3ltiCgAVDoyLfVpPIMB8GA1UdIwQYMBaAFBdnQj2qnoI/xMUdn1vDmdG1\\nnEgQMCUGA1UdEQQeMByCCm15aG9zdC5jb22CDnd3dy5teWhvc3QuY29tMAoGCCqG\\nSM49BAMCA0gAMEUCIDf9Hbl4xn3z4EwNKmilM9lX2Fq4jWpAaRVB97OmVEeyAiEA\\n25aDPQHGGq2AvhKT0wvt08cX1GTGCIbfmuLpMwKQj38=\\n-----END -----\\n\"  from 127.0.0.1:35430\n","username":"dave.enyeart","ts":"2017-02-18T12:33:43.158Z"}
{"msg":"when a peer authenticates to a different peer, we print in DEBUG the message","username":"yacovm","ts":"2017-02-18T12:34:29.303Z"}
{"msg":"meaningless bytes to the administrator","username":"dave.enyeart","ts":"2017-02-18T12:34:30.973Z"}
{"msg":"why meaningless? look","username":"yacovm","ts":"2017-02-18T12:34:37.608Z"}
{"msg":"you have the PEM here!","username":"yacovm","ts":"2017-02-18T12:34:40.495Z"}
{"msg":"you can take this PEM","username":"yacovm","ts":"2017-02-18T12:34:48.464Z"}
{"msg":"and understand who that peer was","username":"yacovm","ts":"2017-02-18T12:34:52.618Z"}
{"msg":"ok, just print it the first time","username":"dave.enyeart","ts":"2017-02-18T12:34:53.449Z"}
{"msg":"I can't","username":"yacovm","ts":"2017-02-18T12:34:57.349Z"}
{"msg":"this is logically not possible","username":"yacovm","ts":"2017-02-18T12:35:08.665Z"}
{"msg":"ok, maybe we need multiple levels of debug then","username":"dave.enyeart","ts":"2017-02-18T12:35:31.796Z"}
{"msg":"I think what we really need is something else","username":"yacovm","ts":"2017-02-18T12:35:40.895Z"}
{"msg":"the ability to define a fine-grained mapping","username":"yacovm","ts":"2017-02-18T12:35:50.879Z"}
{"msg":"of which peer sub-component starts in which logging level","username":"yacovm","ts":"2017-02-18T12:35:58.710Z"}
{"msg":"btw you can turn all these off with the peer logging control CLI did you know that?","username":"yacovm","ts":"2017-02-18T12:36:12.746Z"}
{"msg":"(just making sure you did)","username":"yacovm","ts":"2017-02-18T12:36:19.835Z"}
{"msg":"i think there is component level debug, but when somebody doesnt know what the problem is they always turn on peer-wide debug","username":"dave.enyeart","ts":"2017-02-18T12:36:21.018Z"}
{"msg":"there isn't, and it doesn't really work","username":"yacovm","ts":"2017-02-18T12:36:37.966Z"}
{"msg":"the reason it doesn't is that everyone in this project defines a logger with:","username":"yacovm","ts":"2017-02-18T12:36:53.791Z"}
{"msg":"logging.getModule(mySubcomponent/sub-subcomponent)","username":"yacovm","ts":"2017-02-18T12:37:09.179Z"}
{"msg":"therefore it's impossible to fine-tune these things","username":"yacovm","ts":"2017-02-18T12:37:19.507Z"}
{"msg":"ok, at least for me can you provide the instructions to enable all peer debug except gossip?","username":"dave.enyeart","ts":"2017-02-18T12:37:20.634Z"}
{"msg":"yeah sure :)","username":"yacovm","ts":"2017-02-18T12:37:29.599Z"}
{"msg":"1 sec","username":"yacovm","ts":"2017-02-18T12:37:32.342Z"}
{"msg":"not to insult you, but i care about all debug except gossip :)","username":"dave.enyeart","ts":"2017-02-18T12:38:03.765Z"}
{"msg":"hehe, you're not","username":"yacovm","ts":"2017-02-18T12:38:14.128Z"}
{"msg":"1 sec I'll build the peer","username":"yacovm","ts":"2017-02-18T12:38:49.915Z"}
{"msg":"I think also I need to open a JIRA for that","username":"yacovm","ts":"2017-02-18T12:39:33.915Z"}
{"msg":"maybe someone will take up the challange","username":"yacovm","ts":"2017-02-18T12:39:44.621Z"}
{"msg":"and do this","username":"yacovm","ts":"2017-02-18T12:39:47.189Z"}
{"msg":"this is an open source project after all","username":"yacovm","ts":"2017-02-18T12:40:00.741Z"}
{"msg":"`./build/bin/peer logging`","username":"yacovm","ts":"2017-02-18T12:40:18.624Z"}
{"msg":"you have there \"setLevel\"","username":"yacovm","ts":"2017-02-18T12:40:28.863Z"}
{"msg":"so the gossip sub-component you need to silence is the thing in [ ] ","username":"yacovm","ts":"2017-02-18T12:40:46.426Z"}
{"msg":"ok, i havent used that before, can you provide the statement i'd need?","username":"dave.enyeart","ts":"2017-02-18T12:41:25.659Z"}
{"msg":"yeah sure","username":"yacovm","ts":"2017-02-18T12:41:31.542Z"}
{"msg":"let me try first before","username":"yacovm","ts":"2017-02-18T12:41:34.694Z"}
{"msg":"```\nyacovm@yacoVM ~/OBC/shared/gopath/src/github.com/hyperledger/fabric (master) $ ./build/bin/peer logging setlevel gossip/comm WARNING\n2017-02-18 14:32:49.520 IST [loggingCmd] setLevel -> INFO 001 Log level set for peer module 'gossip/comm': WARNING\n2017-02-18 14:32:49.520 IST [main] main -> INFO 002 Exiting.....\nyacovm@yacoVM ~/OBC/shared/gopath/src/github.com/hyperledger/fabric (master) $ \nyacovm@yacoVM ~/OBC/shared/gopath/src/github.com/hyperledger/fabric (master) $ \nyacovm@yacoVM ~/OBC/shared/gopath/src/github.com/hyperledger/fabric (master) $ less out.log \nyacovm@yacoVM ~/OBC/shared/gopath/src/github.com/hyperledger/fabric (master) $ ./build/bin/peer logging setlevel gossip/gossip WARNING\n2017-02-18 14:33:02.852 IST [loggingCmd] setLevel -> INFO 001 Log level set for peer module 'gossip/gossip': WARNING\n2017-02-18 14:33:02.852 IST [main] main -> INFO 002 Exiting.....\nyacovm@yacoVM ~/OBC/shared/gopath/src/github.com/hyperledger/fabric (master) $ ./build/bin/peer logging setlevel gossip/discovery WARNING\n2017-02-18 14:33:08.061 IST [loggingCmd] setLevel -> INFO 001 Log level set for peer module 'gossip/discovery': WARNING\n```","username":"yacovm","ts":"2017-02-18T12:44:10.949Z"}
{"msg":"so, basically if you see a log entry that has: `[gossip/subcomponent#identifier]`","username":"yacovm","ts":"2017-02-18T12:44:43.387Z"}
{"msg":"you can do `peer logging setlevel gossip/subcomponent WARNING`","username":"yacovm","ts":"2017-02-18T12:44:59.415Z"}
{"msg":"you can also set to error of course...","username":"yacovm","ts":"2017-02-18T12:45:05.104Z"}
{"msg":"great, thank you, will give it a try","username":"dave.enyeart","ts":"2017-02-18T12:45:15.982Z"}
{"msg":"no problem, and I also opened: https://jira.hyperledger.org/browse/FAB-2351 ","username":"yacovm","ts":"2017-02-18T12:49:40.739Z"}
{"msg":"@dave.enyeart ","username":"yacovm","ts":"2017-02-18T12:49:43.063Z"}
{"msg":"Nice and quiet now:","username":"dave.enyeart","ts":"2017-02-18T12:53:05.760Z"}
{"msg":"peer logging setlevel gossip/comm#-1 WARNING\npeer logging setlevel gossip/discovery#0.0.0.0:7051 WARNING","username":"dave.enyeart","ts":"2017-02-18T12:53:09.496Z"}
{"msg":"please do silence the INFO and WARNING messages that still come out","username":"dave.enyeart","ts":"2017-02-18T12:54:16.637Z"}
{"msg":"ah so you need the thing after the # too? ","username":"yacovm","ts":"2017-02-18T12:54:24.049Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2017-02-18T12:54:27.492Z"}
{"msg":"I see","username":"yacovm","ts":"2017-02-18T12:54:32.654Z"}
{"msg":"can you paste them?","username":"yacovm","ts":"2017-02-18T12:54:41.246Z"}
{"msg":"the INFO and WARNINGs I pasted above","username":"dave.enyeart","ts":"2017-02-18T12:54:56.775Z"}
{"msg":"i'll get you a clean one...","username":"dave.enyeart","ts":"2017-02-18T12:55:19.649Z"}
{"msg":"I think the WARNING should go away if you delete the bootstrap config param","username":"yacovm","ts":"2017-02-18T12:55:28.946Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L72","username":"yacovm","ts":"2017-02-18T12:55:35.930Z"}
{"msg":"Here are the INFO and WARNINGs without the DEBUG:","username":"dave.enyeart","ts":"2017-02-18T12:57:53.455Z"}
{"msg":"```2017-02-18 12:45:23.194 UTC [gossip/comm#-1] GossipStream -> INFO 459 Servicing 127.0.0.1:35522\n2017-02-18 12:45:23.195 UTC [gossip/comm#-1] serviceConnection -> WARN 45a Closing reading from stream\n2017-02-18 12:45:23.195 UTC [gossip/comm#-1] writeToStream -> WARN 45b Closing writing to stream\n2017-02-18 12:45:23.195 UTC [gossip/comm#-1] readFromStream -> WARN 45c [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] canceling read because closing\n2017-02-18 12:45:23.195 UTC [gossip/comm#-1] readFromStream -> WARN 45d [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] Got error, aborting: EOF\n2017-02-18 12:45:23.195 UTC [gossip/comm#-1] func2 -> INFO 45e Client 127.0.0.1:35518  disconnected\n2017-02-18 12:45:23.195 UTC [gossip/comm#-1] serviceConnection -> WARN 45f Closing reading from stream\n2017-02-18 12:45:23.196 UTC [gossip/comm#-1] func2 -> INFO 460 Client 127.0.0.1:35522  disconnected\n2017-02-18 12:45:23.196 UTC [gossip/comm#-1] readFromStream -> WARN 461 [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] canceling read because closing\n2017-02-18 12:45:23.196 UTC [gossip/comm#-1] writeToStream -> WARN 462 Closing writing to stream\n2017-02-18 12:45:23.196 UTC [gossip/comm#-1] serviceConnection -> WARN 463 Closing reading from stream\n2017-02-18 12:45:23.196 UTC [gossip/comm#-1] writeToStream -> WARN 464 Closing writing to stream\n2017-02-18 12:45:23.196 UTC [gossip/comm#-1] readFromStream -> WARN 465 [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] canceling read because closing\n2017-02-18 12:45:23.196 UTC [gossip/comm#-1] writeToStream -> WARN 466 Closing writing to stream\n2017-02-18 12:45:23.975 UTC [gossip/comm#-1] Send -> INFO 467 Entering, sending tag:EMPTY signature:\"0D\\002 S\\006\\354?\\2457\\226X\\361&\\360\\311\\217\\302\\236+o8-z-B\\027p\\276\\260\\231\\021\\371B\\272t\\002 /X\\007\\037\\351\\245\\201\\323\\017h\\r\\205\\234`Z\\\"3\\\\\\234\\345\\321\\357d\\240\\213\\010\\363\\010\\270\\036\\256F\" aliveMsg:<membership:<pkiID:\"\\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\" internalEndpoint:<endpoint:\"0.0.0.0:7051\" signature:\"0E\\002!\\000\\2010\\217W\\033\\253+\\301E\\302\\177d8\\327m\\317'K\\272{\\225\\312.\\307\\301\\254\\272U\\232L\\020\\t\\002 \\021\\277\\255\\246\\310\\245\\336\\201c\\3346\\266~\\0264T\\343^CQUgk5\\204\\334\\371\\364R\\216y\\353\" > > timestamp:<inc_number:1487421497968425368 seqNum:219 > >  to  0 peers\n2017-02-18 12:45:26.005 UTC [gossip/comm#-1] Send -> INFO 468 Entering, sending channel:\"myc1\" tag:CHAN_OR_ORG stateInfoPullReq:<>  to  0 peers\n2017-02-18 12:45:26.009 UTC [gossip/comm#-1] Send -> INFO 469 Entering, sending channel:\"myc1\" tag:CHAN_OR_ORG signature:\"0D\\002 \\007N\\226H\\326Yuf$\\265\\356V^9'5\\231T\\005\\377\\374'\\370\\344\\333\\277&\\256\\rXy^\\002 \\030\\257\\227\\277\\267\\342\\373J)\\3336=\\366\\020h\\270,w\\235\\262J\\235\\003j,\\265X$\\241!\\237\\024\" stateInfo:<metadata:\"\\000\\000\\000\\000\\000\\000\\000\\002\" timestamp:<inc_number:11651379494838206464 seqNum:1487421498020314379 > pkiID:\"\\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\" >  to  0 peers```","username":"dave.enyeart","ts":"2017-02-18T12:58:00.964Z"}
{"msg":"i'm ok now, just asking you remove those by default for others","username":"dave.enyeart","ts":"2017-02-18T12:58:35.213Z"}
{"msg":"wait I don't understand","username":"yacovm","ts":"2017-02-18T12:58:54.361Z"}
{"msg":"have you managed to silence them or not?","username":"yacovm","ts":"2017-02-18T12:59:00.415Z"}
{"msg":"yes, i can silence them now.  changed it back to INFO so that I could show you the INFOs and WARNINGs that come out.  These should be DEBUG.","username":"dave.enyeart","ts":"2017-02-18T12:59:48.377Z"}
{"msg":"when the system is at rest, the INFO/WARNING log should be empty","username":"dave.enyeart","ts":"2017-02-18T13:00:24.268Z"}
{"msg":"Hmm, yeah maybe you're right.","username":"yacovm","ts":"2017-02-18T13:00:25.848Z"}
{"msg":"I mean about the DEBUG, not about the \"when the system is at rest\"","username":"yacovm","ts":"2017-02-18T13:00:45.290Z"}
{"msg":"The system may be at rest to you","username":"yacovm","ts":"2017-02-18T13:00:51.649Z"}
{"msg":"but gossip might do lots of things","username":"yacovm","ts":"2017-02-18T13:00:56.016Z"}
{"msg":"therefore I think the optimal thing to do is to implement FAB-2351 I just opened","username":"yacovm","ts":"2017-02-18T13:01:14.349Z"}
{"msg":"when the system is at steady state and not processing any transactions,  the INFO/WARNING log should be empty","username":"dave.enyeart","ts":"2017-02-18T13:02:17.326Z"}
{"msg":"INFO is fine for initialization, but not steady state.","username":"dave.enyeart","ts":"2017-02-18T13:03:27.878Z"}
{"msg":"@dave.enyeart  https://gerrit.hyperledger.org/r/#/c/6197/","username":"yacovm","ts":"2017-02-18T13:10:32.048Z"}
{"msg":"+1 Thanks!","username":"dave.enyeart","ts":"2017-02-18T13:12:37.555Z"}
{"msg":"np and tnx for bringing this up","username":"yacovm","ts":"2017-02-18T13:13:09.523Z"}
{"msg":"Has joined the channel.","username":"warm3snow","ts":"2017-02-21T05:18:31.288Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jessilb","ts":"2017-02-21T11:41:00.319Z","type":"uj"}
{"msg":"Has joined the channel.","username":"agaragiola","ts":"2017-02-21T21:01:08.550Z","type":"uj"}
{"msg":"Has joined the channel.","username":"psa","ts":"2017-02-22T15:55:49.841Z","type":"uj"}
{"msg":"Has joined the channel.","username":"v_thirugnanam","ts":"2017-02-26T23:35:57.379Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bkvellanki","ts":"2017-03-01T20:15:20.779Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Donald Liu","ts":"2017-03-02T01:22:01.784Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yoshtec","ts":"2017-03-03T18:46:10.792Z","type":"uj"}
{"msg":"@yacovm @C0rWin Looking at joinChain() resilience... @manish-sethi and I are trying to make the createLedger() call more resilient if there are any problems (e.g. cant connect to state database).  Question - would it be possible to createLedger(), then createChain() and InitChain(), before committing the genesis block to ledger?  So that gossip and everything can get initialized for the chain before the genesis block is committed.  This way, if there is a problem committing the genesis block (e.g. cant connect to state database), then the genesis block could be gossipped later like any other block, after the problem gets resolved. Or must the genesis block be treated as a special case and therefore must get written before createChain() and InitChain()?","username":"dave.enyeart","ts":"2017-03-07T12:36:32.490Z"}
{"msg":"Has joined the channel.","username":"manish-sethi","ts":"2017-03-07T12:36:32.648Z","type":"uj"}
{"msg":"@dave.enyeart ","username":"C0rWin","ts":"2017-03-07T12:38:00.853Z"}
{"msg":"@dave.enyeart  part of the gossip is the state transfer capabilities","username":"C0rWin","ts":"2017-03-07T12:38:00.853Z"}
{"msg":"which assumes it starts with valid ledger which has at least one block (genesis) committed, so it could track the proper order of blocks comming","username":"C0rWin","ts":"2017-03-07T12:39:06.315Z"}
{"msg":"Ok, I suspected as much, so the genesis block needs to get written prior to createChain() and initChain()","username":"dave.enyeart","ts":"2017-03-07T12:39:51.215Z"}
{"msg":"currently yes","username":"C0rWin","ts":"2017-03-07T12:40:02.840Z"}
{"msg":"while I can imagine how this could be changed/refactored so the state transfer layer would be initialized upon some event/callback from the ledger once it become ready","username":"C0rWin","ts":"2017-03-07T12:40:40.022Z"}
{"msg":"also it seems, that there are many other parts will fail on the way before the gossip","username":"C0rWin","ts":"2017-03-07T12:41:29.258Z"}
{"msg":"and what exactly does 'ready' mean?  do you need some config from the genesis block?  or could ready mean that the ledger infrastructure is in place, even if the genesis block is not there yet","username":"dave.enyeart","ts":"2017-03-07T12:41:45.992Z"}
{"msg":"trying to see if genesis block itself could be gossipped later","username":"dave.enyeart","ts":"2017-03-07T12:42:21.013Z"}
{"msg":"ready, ledger infrastructure is in place and block committed. ","username":"C0rWin","ts":"2017-03-07T12:42:25.309Z"}
{"msg":"I think this is doable","username":"C0rWin","ts":"2017-03-07T12:42:59.221Z"}
{"msg":"but, the callback may not be until after the peer is restarted.  it may require a restart to fix up the state database, etc","username":"dave.enyeart","ts":"2017-03-07T12:43:39.973Z"}
{"msg":"wait","username":"C0rWin","ts":"2017-03-07T12:43:59.260Z"}
{"msg":"of peer need to be restarted not sure what is the problem here?","username":"C0rWin","ts":"2017-03-07T12:44:17.883Z"}
{"msg":"ledger infra is in place, you trying to commit GB, but failing, then restarting the peer to resolve the problem... Right?","username":"C0rWin","ts":"2017-03-07T12:44:45.204Z"}
{"msg":"you will have to call join again and submit GB anyway, no?","username":"C0rWin","ts":"2017-03-07T12:45:08.248Z"}
{"msg":"you need to initialize all MSP infrastructure using GB","username":"C0rWin","ts":"2017-03-07T12:45:27.652Z"}
{"msg":"I'm just failing to see the exact flow you trying to solve currently","username":"C0rWin","ts":"2017-03-07T12:45:53.832Z"}
{"msg":"with the current design we get into an inconsistent state, where ledger thinks it is created, but genesis block did not get committed yet.  re-join will fail since you cannot re-create ledger","username":"dave.enyeart","ts":"2017-03-07T12:46:29.042Z"}
{"msg":"we can do a larger re-design... but just wanted to check if it would be possible to 'catch up' the genesis block later via gossip, after the problem is resolved.","username":"dave.enyeart","ts":"2017-03-07T12:47:20.898Z"}
{"msg":"if the invalid state of ledger could be propagated somehow to the gossip state layer ","username":"C0rWin","ts":"2017-03-07T12:48:39.504Z"}
{"msg":"then there should not be a problem I guess","username":"C0rWin","ts":"2017-03-07T12:48:55.479Z"}
{"msg":"of course the evil in details","username":"C0rWin","ts":"2017-03-07T12:49:04.066Z"}
{"msg":"but seems that it has to work","username":"C0rWin","ts":"2017-03-07T12:49:20.113Z"}
{"msg":"let me ask this... does the gossip 'registration' get persisted somewhere?  upon peer startup how do you know which channels to gossip on?","username":"dave.enyeart","ts":"2017-03-07T12:49:56.932Z"}
{"msg":"we get this info from GB","username":"C0rWin","ts":"2017-03-07T12:50:19.864Z"}
{"msg":"```// Initialize sets up any chains that the peer has from the persistence. This\n// function should be called at the start up when the ledger and gossip\n// ready\nfunc Initialize(init func(string)) {\n\tchainInitializer = init\n\n\tvar cb *common.Block\n\tvar ledger ledger.PeerLedger\n\tledgermgmt.Initialize()\n\tledgerIds, err := ledgermgmt.GetLedgerIDs()\n\tif err != nil {\n\t\tpanic(fmt.Errorf(\"Error in initializing ledgermgmt: %s\", err))\n\t}\n\tfor _, cid := range ledgerIds {\n\t\tpeerLogger.Infof(\"Loading chain %s\", cid)\n\t\tif ledger, err = ledgermgmt.OpenLedger(cid); err != nil {\n\t\t\tpeerLogger.Warningf(\"Failed to load ledger %s(%s)\", cid, err)\n\t\t\tpeerLogger.Debugf(\"Error while loading ledger %s with message %s. We continue to the next ledger rather than abort.\", cid, err)\n\t\t\tcontinue\n\t\t}\n\t\tif cb, err = getCurrConfigBlockFromLedger(ledger); err != nil {\n\t\t\tpeerLogger.Warningf(\"Failed to find config block on ledger %s(%s)\", cid, err)\n\t\t\tpeerLogger.Debugf(\"Error while looking for config block on ledger %s with message %s. We continue to the next ledger rather than abort.\", cid, err)\n\t\t\tcontinue\n\t\t}\n\t\t// Create a chain if we get a valid ledger with config block\n\t\tif err = createChain(cid, ledger, cb); err != nil {\n\t\t\tpeerLogger.Warningf(\"Failed to load chain %s(%s)\", cid, err)\n\t\t\tpeerLogger.Debugf(\"Error reloading chain %s with message %s. We continue to the next chain rather than abort.\", cid, err)\n\t\t\tcontinue\n\t\t}\n\n\t\tInitChain(cid)\n\t}\n}\n```","username":"C0rWin","ts":"2017-03-07T12:50:58.671Z"}
{"msg":"ok.  and if there is a later config update, you get this info from the later config block, or always from genesis block?","username":"dave.enyeart","ts":"2017-03-07T12:51:02.133Z"}
{"msg":"this is the code of peer initialization right?","username":"C0rWin","ts":"2017-03-07T12:51:06.203Z"}
{"msg":"so it basically iterates over ledgers and recreates the infrastructure entities to allow peer to operate across all channels it was subscribed to","username":"C0rWin","ts":"2017-03-07T12:51:53.856Z"}
{"msg":"so if you won't have GB commited","username":"C0rWin","ts":"2017-03-07T12:52:01.636Z"}
{"msg":"restarting the peer you will have to somehow resubmit the GB","username":"C0rWin","ts":"2017-03-07T12:52:17.738Z"}
{"msg":"if there is later config block you will read update from it","username":"C0rWin","ts":"2017-03-07T12:55:12.848Z"}
{"msg":"makes sense.... with current flow it is possible for ledger to get created, but no genesis block, since they are separate calls:","username":"dave.enyeart","ts":"2017-03-07T12:55:18.779Z"}
{"msg":"```// CreateChainFromBlock creates a new chain from config block\nfunc CreateChainFromBlock(cb *common.Block) error {\n\tcid, err := utils.GetChainIDFromBlock(cb)\n\tif err != nil {\n\t\treturn err\n\t}\n\tvar ledger ledger.PeerLedger\n\tif ledger, err = createLedger(cid); err != nil {\n\t\treturn err\n\t}\n\n\tif err := ledger.Commit(cb); err != nil {\n\t\tpeerLogger.Errorf(\"Unable to get genesis block committed into the ledger, chainID %v\", cid)\n\t\treturn err\n\t}\n\n\treturn createChain(cid, ledger, cb)\n}```","username":"dave.enyeart","ts":"2017-03-07T12:55:23.643Z"}
{"msg":"ok","username":"C0rWin","ts":"2017-03-07T12:55:40.951Z"}
{"msg":"but, probably the intermediate solution will be to destroy ledger if you cannot commit the block","username":"C0rWin","ts":"2017-03-07T12:56:18.639Z"}
{"msg":"probably createLedger needs to accept genesis block, so that we can be in a consistent state (all success or all fail)","username":"dave.enyeart","ts":"2017-03-07T12:56:25.968Z"}
{"msg":"since anyhow you will restart the peer to solve the problem, right?","username":"C0rWin","ts":"2017-03-07T12:56:39.470Z"}
{"msg":"there is an error state","username":"C0rWin","ts":"2017-03-07T12:56:59.299Z"}
{"msg":"right, its just a question of whether the 'rollback' should be handled in this joinChain code, or abstracted within the createLedger() code","username":"dave.enyeart","ts":"2017-03-07T12:57:38.609Z"}
{"msg":"ok","username":"C0rWin","ts":"2017-03-07T12:57:56.238Z"}
{"msg":"so basically you trying to achieve the ability in case of problem with ledger, to restart the peer and get the GB via gossip w/o a need to explicitly call join channel once again?","username":"C0rWin","ts":"2017-03-07T12:58:45.893Z"}
{"msg":"just exploring if that is an option","username":"dave.enyeart","ts":"2017-03-07T12:59:15.735Z"}
{"msg":"I'd say we have to be very careful here, since in that case I'm not sure peer will be able to build gossip membership","username":"C0rWin","ts":"2017-03-07T12:59:31.508Z"}
{"msg":"membership build based on the anchor peers info","username":"C0rWin","ts":"2017-03-07T12:59:48.653Z"}
{"msg":"@C0rWin: In addition to `Initialize` that initializes the existing chain, does gossip also take care of the chains that are supposed to be on a peer (e.g., peer was down when the chain got created)?","username":"manish-sethi","ts":"2017-03-07T12:59:53.423Z"}
{"msg":"so if no GB available","username":"C0rWin","ts":"2017-03-07T12:59:54.564Z"}
{"msg":"you have to explicitly join() each peer when the peer is up","username":"dave.enyeart","ts":"2017-03-07T13:00:27.166Z"}
{"msg":"> In addition to `Initialize` that initializes the existing chain, does gossip also take care of the chains that are supposed to be on a peer (e.g., peer was down when the chain got created)?\nHow that even possible?","username":"C0rWin","ts":"2017-03-07T13:00:32.414Z"}
{"msg":"peer was down...","username":"C0rWin","ts":"2017-03-07T13:00:38.325Z"}
{"msg":"there is no magic in here","username":"C0rWin","ts":"2017-03-07T13:00:49.382Z"}
{"msg":"peer is running gossip code","username":"C0rWin","ts":"2017-03-07T13:00:54.653Z"}
{"msg":"i think Manish did not know that an explicit join() was required","username":"dave.enyeart","ts":"2017-03-07T13:01:09.946Z"}
{"msg":"so, who keeps track what all peers are supposed to be part of a chain?","username":"manish-sethi","ts":"2017-03-07T13:01:11.332Z"}
{"msg":"orderering service has the membership info in genesis block","username":"dave.enyeart","ts":"2017-03-07T13:02:04.708Z"}
{"msg":"no-no-no","username":"C0rWin","ts":"2017-03-07T13:02:25.212Z"}
{"msg":"and peer explicitly raise a join request by some manual operation?","username":"manish-sethi","ts":"2017-03-07T13:02:30.123Z"}
{"msg":"ordering service has membership on the org level","username":"C0rWin","ts":"2017-03-07T13:02:35.774Z"}
{"msg":"no one actually has the global knowledge which peer has to be part of the channel","username":"C0rWin","ts":"2017-03-07T13:02:49.706Z"}
{"msg":"every peer is part of an org, which is part of a membership, right","username":"dave.enyeart","ts":"2017-03-07T13:03:11.575Z"}
{"msg":"> and peer explicitly raise a join request by some manual operation?\nyes, you need explicitly call join channel for peer","username":"C0rWin","ts":"2017-03-07T13:03:13.508Z"}
{"msg":"> every peer is part of an org, which is part of a membership, right\ncorrect, but you cannot tell which peers included in the channel","username":"C0rWin","ts":"2017-03-07T13:03:43.645Z"}
{"msg":"based on the info from ordering service","username":"C0rWin","ts":"2017-03-07T13:03:55.361Z"}
{"msg":"OK, and during that explicit join call, you obtain a GB and create a new ledger","username":"manish-sethi","ts":"2017-03-07T13:04:06.823Z"}
{"msg":"you mean, which peers 'should' be part of the channel?  or which peers have actually joined the channel?","username":"dave.enyeart","ts":"2017-03-07T13:04:13.613Z"}
{"msg":"both","username":"C0rWin","ts":"2017-03-07T13:04:26.148Z"}
{"msg":"can't you tell from the peer's org which channel's it is authorized to join?","username":"dave.enyeart","ts":"2017-03-07T13:04:46.085Z"}
{"msg":"yes","username":"C0rWin","ts":"2017-03-07T13:05:42.997Z"}
{"msg":"but that doesn't mean this peer has to be in that channel","username":"C0rWin","ts":"2017-03-07T13:05:58.463Z"}
{"msg":"in that sense if org A part of the channel XXX","username":"C0rWin","ts":"2017-03-07T13:06:10.712Z"}
{"msg":"every single peer from org A","username":"C0rWin","ts":"2017-03-07T13:06:17.474Z"}
{"msg":"ok, peer has the option to join the channel","username":"dave.enyeart","ts":"2017-03-07T13:06:24.106Z"}
{"msg":"So, join is a manual operation initiated at a peer and during that explicit join call, you obtain a GB and create a new ledger?","username":"manish-sethi","ts":"2017-03-07T13:06:37.002Z"}
{"msg":"allowed to be part of that channel","username":"C0rWin","ts":"2017-03-07T13:06:37.927Z"}
{"msg":"correct manish, so i think the proper design would be for createLedger() to accept the genesis block and it either atomically succeeds or fails","username":"dave.enyeart","ts":"2017-03-07T13:07:23.181Z"}
{"msg":"Yes, that's right.","username":"manish-sethi","ts":"2017-03-07T13:08:07.576Z"}
{"msg":"ok, we can go work that offline and free up Artem :)","username":"dave.enyeart","ts":"2017-03-07T13:08:45.070Z"}
{"msg":"Yes, sure","username":"manish-sethi","ts":"2017-03-07T13:09:22.776Z"}
{"msg":"I suspect this would be a post-beta enhancement","username":"dave.enyeart","ts":"2017-03-07T13:09:40.771Z"}
{"msg":"@dave.enyeart @manish-sethi I'd be happy to follow up on this later","username":"C0rWin","ts":"2017-03-07T13:12:07.911Z"}
{"msg":"From ledger changes point of view, it should take a couple of days. The changes in the higher layer should be easy because even now mostly it would have been create ledger and commit GB in continuous statements","username":"manish-sethi","ts":"2017-03-07T13:12:33.682Z"}
{"msg":"correct.  currently it looks like this:","username":"dave.enyeart","ts":"2017-03-07T13:13:04.785Z"}
{"msg":"```// CreateChainFromBlock creates a new chain from config block\nfunc CreateChainFromBlock(cb *common.Block) error {\n\tcid, err := utils.GetChainIDFromBlock(cb)\n\tif err != nil {\n\t\treturn err\n\t}\n\tvar ledger ledger.PeerLedger\n\tif ledger, err = createLedger(cid); err != nil {\n\t\treturn err\n\t}\n\n\tif err := ledger.Commit(cb); err != nil {\n\t\tpeerLogger.Errorf(\"Unable to get genesis block committed into the ledger, chainID %v\", cid)\n\t\treturn err\n\t}\n\n\treturn createChain(cid, ledger, cb)\n}```","username":"dave.enyeart","ts":"2017-03-07T13:13:09.474Z"}
{"msg":"we need to simply combine createLedger and commit of genesis block into one atomic function call","username":"dave.enyeart","ts":"2017-03-07T13:13:46.922Z"}
{"msg":"yes","username":"manish-sethi","ts":"2017-03-07T13:14:34.418Z"}
{"msg":"we should not introduce this churn for beta... therefore we have time and can do it post-beta","username":"dave.enyeart","ts":"2017-03-07T13:14:53.074Z"}
{"msg":"thanks @dave.enyeart :-)","username":"muralisr","ts":"2017-03-07T13:15:23.907Z"}
{"msg":"sure, Murali's joined hands are making my lol :-)","username":"manish-sethi","ts":"2017-03-07T13:15:59.750Z"}
{"msg":"Murali has enough problems on his hands without us introducing churn :)","username":"dave.enyeart","ts":"2017-03-07T13:16:26.254Z"}
{"msg":"yes, indeed","username":"manish-sethi","ts":"2017-03-07T13:16:40.123Z"}
{"msg":"> we need to simply combine createLedger and commit of genesis block into one atomic function call\n```\n   err := createLedger(gb)\n```\n\n^^^ I would imagine it will look like this?","username":"C0rWin","ts":"2017-03-07T13:16:50.325Z"}
{"msg":"not problems of his own making :)","username":"dave.enyeart","ts":"2017-03-07T13:16:57.421Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2017-03-07T13:17:08.800Z"}
{"msg":"createLedger(cid, gb)","username":"dave.enyeart","ts":"2017-03-07T13:17:41.430Z"}
{"msg":"cid part of gb","username":"C0rWin","ts":"2017-03-07T13:17:52.139Z"}
{"msg":"looks redundant","username":"C0rWin","ts":"2017-03-07T13:17:57.357Z"}
{"msg":"no?","username":"C0rWin","ts":"2017-03-07T13:17:58.573Z"}
{"msg":"you dont want to force ledger to parse config :)","username":"dave.enyeart","ts":"2017-03-07T13:18:14.357Z"}
{"msg":"ok","username":"C0rWin","ts":"2017-03-07T13:18:29.103Z"}
{"msg":"ledger is 'dumb' wrt config","username":"dave.enyeart","ts":"2017-03-07T13:18:41.259Z"}
{"msg":"yes, but before calling this, the caller would have to check 'exist(ledgerID)' because, a crash may have happened during a join operation but join actually succeeded at the ledger level.","username":"manish-sethi","ts":"2017-03-07T13:18:54.190Z"}
{"msg":"@dave.enyeart is there JIRA item for this effort?","username":"C0rWin","ts":"2017-03-07T13:19:23.384Z"}
{"msg":"i will create it now","username":"dave.enyeart","ts":"2017-03-07T13:19:32.680Z"}
{"msg":"So, at next join request, it should be checked first whether the last time the ledger create was succeeded","username":"manish-sethi","ts":"2017-03-07T13:19:58.538Z"}
{"msg":"I just want to subscribe to it to follow the development of this","username":"C0rWin","ts":"2017-03-07T13:20:33.748Z"}
{"msg":"@C0rWin just curious what other components (in addition to ledger) are involved in join operation. They also maintain some state or for them it doesn't matter?","username":"manish-sethi","ts":"2017-03-07T13:21:40.499Z"}
{"msg":"@manish-sethi MSP configs loaded from GB","username":"C0rWin","ts":"2017-03-07T13:22:47.310Z"}
{"msg":"I'd guess it also involved in join operation in some way or another","username":"C0rWin","ts":"2017-03-07T13:23:23.997Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-2676 : Need to atomically createLedger and commit genesis block","username":"dave.enyeart","ts":"2017-03-07T13:24:49.409Z"}
{"msg":"So, from ledger point of view the two calls `Exists(ledgerId)` (which is already there) and `Create(GB)` should be enough? Even if a crash happens during a join and a join is re-initiated after a restart?","username":"manish-sethi","ts":"2017-03-07T13:25:09.012Z"}
{"msg":"i believe that's right","username":"dave.enyeart","ts":"2017-03-07T13:26:34.137Z"}
{"msg":"@C0rWin - does that sound reasonable to you? I am asking because you have better visibility about the overall join operation","username":"manish-sethi","ts":"2017-03-07T13:27:32.139Z"}
{"msg":"Just chiming in to say that it is design to be impossible to gossip a genesis block of a channel","username":"yacovm","ts":"2017-03-07T13:29:30.149Z"}
{"msg":"Just chiming in to say that it is designed to be impossible to gossip a genesis block of a channel","username":"yacovm","ts":"2017-03-07T13:29:30.149Z"}
{"msg":"ok, further confirms our decision :)","username":"dave.enyeart","ts":"2017-03-07T13:29:57.810Z"}
{"msg":"OK, @yacovm. whenever you get time... It would be good if you or Artem can confirm that the above two APIs are good enough for the join operation to survive a crash.","username":"manish-sethi","ts":"2017-03-07T13:32:24.701Z"}
{"msg":"I think Artem is right ","username":"yacovm","ts":"2017-03-07T13:40:20.309Z"}
{"msg":"","username":"yacovm","ts":"2017-03-07T13:40:30.218Z","attachments":[{"title":"File Uploaded: Capture.PNG","title_link":"/file-upload/BdDa9XD7HGGtbkfgd/Capture.PNG","image_url":"/file-upload/BdDa9XD7HGGtbkfgd/Capture.PNG","image_type":"image/png","image_size":42821,"url":"/file-upload/BdDa9XD7HGGtbkfgd/Capture.PNG","remote":false,"fileId":"BdDa9XD7HGGtbkfgd"}]}
{"msg":"if the commit fails,the peer shouldn't advance further in the join-channel flow","username":"yacovm","ts":"2017-03-07T13:41:00.643Z"}
{"msg":"My personal opinion is that if the commit fails it's probably because the DB isn't accessible, right? \nSo the join operation should be synchronous and block until it succeeds, and it should return a failure status all from that `joinChain` operation all the way back to the gRPC connection of the CLI/SDK with a failure status","username":"yacovm","ts":"2017-03-07T13:43:35.497Z"}
{"msg":"My personal opinion is that the join operation should be synchronous and block until it succeeds, and it should return a failure status all from that `joinChain` operation all the way back to the gRPC connection of the CLI/SDK with a failure status","username":"yacovm","ts":"2017-03-07T13:43:35.497Z"}
{"msg":"My personal opinion is that the join operation should be synchronous and block until it succeeds, and it should return a failure status from that `joinChain` operation all the way back to the gRPC connection of the CLI/SDK with a failure status","username":"yacovm","ts":"2017-03-07T13:43:35.497Z"}
{"msg":"> So, from ledger point of view the two calls `Exists(ledgerId)` (which is already there) and `Create(GB)` should be enough? Even if a crash happens during a join and a join is re-initiated after a restart?\n^^^ Can you please elaborate how do you envision the restart flow?","username":"C0rWin","ts":"2017-03-07T13:48:53.933Z"}
{"msg":"What exactly do you assume? @dave.enyeart @manish-sethi ^^^^","username":"C0rWin","ts":"2017-03-07T13:49:20.277Z"}
{"msg":"I think we'll have to get further into the detailed design and then get back to you on recovery scenarios","username":"dave.enyeart","ts":"2017-03-07T13:58:52.171Z"}
{"msg":"sounds, good, so once you will figure out details will be able to confirm whenever proposed two API's are sufficient to handle crash recovery","username":"C0rWin","ts":"2017-03-07T14:15:13.683Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=QJYQQMmTu8Dd5M33k) @C0rWin What I assume is that when a join operation is initiated, first call should be `Exists(ledgerId)` - which if returns true that means the ledger is already created  - most likely in a previous attempt during which peer may have crashed. If the `Exists` returns false then `Create(GB)` call should be made. If this call return successfully then ledger is created otherwise not.","username":"manish-sethi","ts":"2017-03-07T16:07:54.572Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=QJYQQMmTu8Dd5M33k","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=QJYQQMmTu8Dd5M33k","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi @yacovm a few questions about gossip 1)is the gossip leader the only peer that calls ordering service Deliver in an organization? 2) will Gossip layer take endorser the same as committer or differently when selecting the gossip leader inside an organization?","username":"xixuejia","ts":"2017-03-08T14:47:12.203Z"}
{"msg":"1) Yes\n2) There is nothing in gossip that relates to endorsements ","username":"yacovm","ts":"2017-03-08T14:53:24.368Z"}
{"msg":"thanks!","username":"xixuejia","ts":"2017-03-08T15:03:24.934Z"}
{"msg":"I asked question 2 because I think endorser should always keep latest state inside an org, (being gossip leader would help), though this is not critical","username":"xixuejia","ts":"2017-03-08T15:09:04.571Z"}
{"msg":"Has joined the channel.","username":"Suma","ts":"2017-03-08T15:43:10.301Z","type":"uj"}
{"msg":"Has joined the channel.","username":"berserkr","ts":"2017-03-09T00:54:42.099Z","type":"uj"}
{"msg":"@yacovm @C0rWin I believe committing peer can process blocks from various channels in parallel, and call ledger.Commit() in parallel (one thread with one Commit() ongoing per channel).  @Senthil1 was asking how this worked.  And I as well would like to understand the high level gossip procedure for block dissemination from orderer to committing peer (we can assume all peers are leaders for now, to keep the answer simple).","username":"dave.enyeart","ts":"2017-03-09T17:04:38.698Z"}
{"msg":"Has joined the channel.","username":"Senthil1","ts":"2017-03-09T17:04:38.751Z","type":"uj"}
{"msg":"If this is documented somewhere, feel free to point me :)","username":"dave.enyeart","ts":"2017-03-09T17:15:45.664Z"}
{"msg":"@dave.enyeart not sure what exactly you are looking for, while dissemination procedure is very simple. Gossip leaders pulls out blocks from ordering service and distribute them across other peers. If peers receives same block which was already processed twice it simply drops it.","username":"C0rWin","ts":"2017-03-09T17:58:30.887Z"}
{"msg":"@C0rWin I'm looking for the multi-threading behavior.  Can the blocks be pulled from ordering service and committed to ledger in parallel?  I'm assuming one thread doing this in parallel per channel, right?","username":"dave.enyeart","ts":"2017-03-09T18:03:21.850Z"}
{"msg":"@dave.enyeart pulling of blocks out of ordering service and block dissemination two decoupled processes same for block commits ","username":"C0rWin","ts":"2017-03-09T18:26:15.543Z"}
{"msg":"ok, this is what we want to understand better.  what is the sequence of processes, and which processes can be done in parallel?","username":"dave.enyeart","ts":"2017-03-09T18:26:59.228Z"}
{"msg":"@dave.enyeart can you please be more specific? sending blocks, processing blocks to the ledger and pulling blocks out of ordering service all this are parallel processes ","username":"C0rWin","ts":"2017-03-09T18:29:47.638Z"}
{"msg":"I mean, what is the degree of parallelization?  I assume you get blocks for ordering service one at a time, and then commit it to ledger, and then get next block from orderering service?   And this process is done in parallel for each channel?","username":"dave.enyeart","ts":"2017-03-09T18:32:23.744Z"}
{"msg":"Looking for the one paragraph high level explanation of the flow.","username":"dave.enyeart","ts":"2017-03-09T18:32:58.961Z"}
{"msg":"if there are 3 peer nodes, they all get the blocks in parallel right?","username":"berserkr","ts":"2017-03-09T18:36:58.147Z"}
{"msg":"peer nodes would do things sequentially per channel","username":"berserkr","ts":"2017-03-09T18:37:11.931Z"}
{"msg":"parallelization happens at the peer level rather than thread level right?","username":"berserkr","ts":"2017-03-09T18:38:03.098Z"}
{"msg":"yes, 3 leader peers would process blocks in parallel.  Let's understand from @C0rWin the sequencing/parallelization within each leader peer.","username":"dave.enyeart","ts":"2017-03-09T18:39:52.818Z"}
{"msg":"I went through the code to understand the steps: What i understood is the following (correct me if I am wrong). \n\n(1) `InitializeChannel()` in _gossip/service/gossip_service.go_ is called to create a channel which in turn calls `NewGossipStateProvider()` in _gossip/state/state.go_ and `StartDeliveryForChannel()` in _core/deliverservice/deliveryclient.go_\n(2) As a result, 4 go routines (i.e., *threads*) are created for this channel: `listen()`, `deliverPayloads()`, `antiEntropy()`, `DeliverBlocks()`\n(3) `DeliverBlocks()` in _core/deliverservice/blocksprovider/blocksprovider.go_ fetches block from ordering service for that channel and gossip the block to other peers (non-leaders)\n(4) `deliverPayloads()` in _gossip/state/state.go_ , on receiving a block, calls committer to commit the block.\n\nWhat we wanted to know was the point (2). ","username":"Senthil1","ts":"2017-03-09T18:47:41.776Z"}
{"msg":"What do you mean \"was the point\"?","username":"yacovm","ts":"2017-03-09T18:54:47.268Z"}
{"msg":"4 threads are created, yes, but each does something different","username":"berserkr","ts":"2017-03-09T18:55:43.459Z"}
{"msg":"not what we are asking","username":"berserkr","ts":"2017-03-09T18:55:54.996Z"}
{"msg":"@yacovm The question remains - what is the degree of parallelization (for deliverBlocks() and deliverPayloads()? I assume you get blocks for ordering service one at a time, and then commit it to ledger, and then get next block from orderering service? And this process is done in parallel for each channel?","username":"dave.enyeart","ts":"2017-03-09T19:02:58.675Z"}
{"msg":"Willl answer once i get home","username":"yacovm","ts":"2017-03-09T19:03:24.007Z"}
{"msg":"no hurry!","username":"dave.enyeart","ts":"2017-03-09T19:03:29.709Z"}
{"msg":"@dave.enyeart process of pulling blocks and committing to the ledger completely decoupled, the communication between these two via queueing and yes this done in parallel for each channel","username":"C0rWin","ts":"2017-03-09T19:04:59.437Z"}
{"msg":"are asking because this because you trying to see whenever you need to take care of synchronization and locks while blocks are committed?","username":"C0rWin","ts":"2017-03-09T19:05:40.496Z"}
{"msg":"are you asking because this because you trying to see whenever you need to take care of synchronization and locks while blocks are committed?","username":"C0rWin","ts":"2017-03-09T19:05:40.496Z"}
{"msg":"are you asking because you trying to see whenever you need to take care of synchronization and locks while blocks are committed?","username":"C0rWin","ts":"2017-03-09T19:05:40.496Z"}
{"msg":"each peer has a queue, one thread pulls block, puts on queue, anoher thread reads block from queue, commits to ledger","username":"berserkr","ts":"2017-03-09T19:07:18.073Z"}
{"msg":"that is the level of parallelism right?","username":"berserkr","ts":"2017-03-09T19:07:26.926Z"}
{"msg":"yes","username":"C0rWin","ts":"2017-03-09T19:08:01.149Z"}
{"msg":"not: channel 1 has 2 threads, channel 2 has two threads, channel 3 has 2 threads... ","username":"berserkr","ts":"2017-03-09T19:08:10.606Z"}
{"msg":"ok","username":"berserkr","ts":"2017-03-09T19:08:12.192Z"}
{"msg":"makes sense","username":"berserkr","ts":"2017-03-09T19:08:14.035Z"}
{"msg":"Thanks @C0rWin, that answers the question.  We are doing some perf test and want to understand the parallelism.","username":"dave.enyeart","ts":"2017-03-09T19:08:38.224Z"}
{"msg":"Thanks @C0rWin, that answers the question.  We are doing some perf test and wanted to understand the parallelism.","username":"dave.enyeart","ts":"2017-03-09T19:08:38.224Z"}
{"msg":"Thanks @C0rWin, that answers the question.  We are doing some perf test and wanted to understand the parallelism. Ensure we are getting the perf benefits of multi-channel, etc.","username":"dave.enyeart","ts":"2017-03-09T19:08:38.224Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma) @yacovm \n\n(2) As a result, 4 go routines (i.e., *threads*) are created ~this~ per channel `listen()`, `deliverPayloads()`, `antiEntropy()`, `DeliverBlocks()`\n\nI meant that I was looking for the above answer.","username":"Senthil1","ts":"2017-03-09T19:13:07.984Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma) @yacovm \n(2) As a result, 4 go routines (i.e., *threads*) are created ~this~ per channel `listen()`, `deliverPayloads()`, `antiEntropy()`, `DeliverBlocks()`\nI meant that I was looking for the above answer.","username":"Senthil1","ts":"2017-03-09T19:13:07.984Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma) @yacovm \n(2) As a result, 4 go routines (i.e., *threads*) are created ~this~ per channel `listen()`, `deliverPayloads()`, `antiEntropy()`, `DeliverBlocks()`\nI meant that I was looking for the above answer (to understand the parallelism) .","username":"Senthil1","ts":"2017-03-09T19:13:07.984Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pCiQbrscXyrDxN8Ma","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thanks @C0rWin for the clarification. ","username":"Senthil1","ts":"2017-03-09T19:14:12.489Z"}
{"msg":"@Senthil1  so it is the latter, per channel? so you have 4 channels, a total of 4 x4 threads are created?","username":"berserkr","ts":"2017-03-09T19:18:26.014Z"}
{"msg":"Yes. ","username":"Senthil1","ts":"2017-03-09T19:19:46.773Z"}
{"msg":"interesting, thanks for the clarification @Senthil1 @C0rWin ","username":"berserkr","ts":"2017-03-09T19:21:25.273Z"}
{"msg":"Has joined the channel.","username":"samirsadeghi","ts":"2017-03-09T20:02:28.712Z","type":"uj"}
{"msg":"Has joined the channel.","username":"scottz","ts":"2017-03-09T20:51:48.297Z","type":"uj"}
{"msg":"In v1.0 today, should things work if I bring up a network of peers where all of them set  CORE_PEER_GOSSIP_ORGLEADER=false. Will they self elect? Or do I misunderstand how this is supposed to work?","username":"scottz","ts":"2017-03-09T20:58:04.995Z"}
{"msg":"@scottz  you can turn on leader election","username":"yacovm","ts":"2017-03-09T20:59:01.128Z"}
{"msg":"and then they will","username":"yacovm","ts":"2017-03-09T20:59:03.074Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L74-L77","username":"yacovm","ts":"2017-03-09T20:59:59.412Z"}
{"msg":"cool.  for every peer, right?","username":"scottz","ts":"2017-03-09T21:01:20.958Z"}
{"msg":"yes","username":"yacovm","ts":"2017-03-09T21:03:57.476Z"}
{"msg":"Thanks. Trying it.  And Wow! There are lots of config parameters...","username":"scottz","ts":"2017-03-09T21:07:36.586Z"}
{"msg":"well","username":"yacovm","ts":"2017-03-09T21:08:12.636Z"}
{"msg":"please don't press the red button","username":"yacovm","ts":"2017-03-09T21:08:21.535Z"}
{"msg":"whatever you do ;)","username":"yacovm","ts":"2017-03-09T21:08:26.634Z"}
{"msg":"BTW- all the \"time-durations\" need to be equal across all peers ","username":"yacovm","ts":"2017-03-09T21:10:53.780Z"}
{"msg":"I'd say that most of the parameters there is to tune gossip performance ","username":"C0rWin","ts":"2017-03-09T21:15:17.124Z"}
{"msg":"so they configured to the proper values and this is very important to keep they consistent across peers","username":"C0rWin","ts":"2017-03-09T21:15:58.119Z"}
{"msg":"thanks. and by the way it worked with self election. but you probably knew that would work...","username":"scottz","ts":"2017-03-09T22:25:02.892Z"}
{"msg":"Has joined the channel.","username":"JatinderBali","ts":"2017-03-10T15:44:08.058Z","type":"uj"}
{"msg":"Hi, @rahulhegde was wondering how to reduce the logs from gossip component in the peer log.","username":"AdnanC","ts":"2017-03-10T20:30:29.263Z"}
{"msg":"True - I would like to know how can reduce logs of gossip at peer startup. I tried using peer logging setlevel <logger-name> however it goes in a hung state eventually.","username":"rahulhegde","ts":"2017-03-10T20:37:50.243Z"}
{"msg":"True - I would like to know how can reduce logs level (to ERROR) of gossip at peer startup. I tried using peer logging setlevel <logger-name> however this command goes in a hung state eventually.","username":"rahulhegde","ts":"2017-03-10T20:37:50.243Z"}
{"msg":"what do you mean goes in a hung state? the command doesn't end?","username":"yacovm","ts":"2017-03-10T21:14:00.502Z"}
{"msg":"yes @yacom","username":"rahulhegde","ts":"2017-03-10T21:20:22.493Z"}
{"msg":"that's a bug, perhaps @wlahti  knows or can help troubleshoot as he implemented this","username":"yacovm","ts":"2017-03-10T21:22:50.696Z"}
{"msg":"Has joined the channel.","username":"wlahti","ts":"2017-03-10T21:22:50.746Z","type":"uj"}
{"msg":"hmmm, very odd. I've never seen that or heard of any issues. what kind of setup are you using, @rahulhegde? docker containers? I don't use the setlevel command all that often these days but it was definitely working for me late last week.","username":"wlahti","ts":"2017-03-10T21:26:36.910Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj) @wlahti \nThis is Fabric CI Channel provided 4th March Images which has scrolling GOSSIP related logs.\nDave gave me - \npeer logging setlevel gossip/comm#-1 ERROR\npeer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR\npeer logging setlevel gossip/gossip#0.0.0.0:7051 ERROR","username":"rahulhegde","ts":"2017-03-10T21:35:28.790Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj) @wlahti \nThis is Fabric CI Channel provided 4th March Images which has scrolling GOSSIP related logs.\nDave gave me - \npeer logging setlevel gossip/comm#-1 ERROR\npeer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR\npeer logging setlevel gossip/gossip#0.0.0.0:7051 ERROR\n\n` peer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR ` went in a hang state.","username":"rahulhegde","ts":"2017-03-10T21:35:28.790Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj) @wlahti \nThis is Fabric CI Channel provided 4th March Images which has scrolling GOSSIP related logs.\nDave gave me - \npeer logging setlevel gossip/comm#-1 ERROR\npeer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR\npeer logging setlevel gossip/gossip#0.0.0.0:7051 ERROR\n\n` peer logging setlevel gossip/comm#-1 ERROR ` went through well - but I could see logs scrolling from the logger.\n` peer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR ` went in a hang state.","username":"rahulhegde","ts":"2017-03-10T21:35:28.790Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj) @wlahti \nThis is Fabric CI Channel provided 4th March Images which has scrolling GOSSIP related logs.\nDave gave me - \npeer logging setlevel gossip/comm#-1 ERROR\npeer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR\npeer logging setlevel gossip/gossip#0.0.0.0:7051 ERROR\n\n` peer logging setlevel gossip/comm#-1 ERROR ` went through well - but I could see logs scrolling from this instance logger.\n` peer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR ` went in a hang state.","username":"rahulhegde","ts":"2017-03-10T21:35:28.790Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JiPi6nTnFFXTTjNRj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Will how is your configurable-per-subcomponent JIRA item going?","username":"yacovm","ts":"2017-03-10T21:36:38.437Z"}
{"msg":"I recall Dave/Binh assigned it to you no?","username":"yacovm","ts":"2017-03-10T21:36:48.886Z"}
{"msg":"@wlahti ","username":"yacovm","ts":"2017-03-10T21:36:56.385Z"}
{"msg":"It can solve rahulhedge's problem","username":"yacovm","ts":"2017-03-10T21:40:31.463Z"}
{"msg":"It can solve rahulhegde's problem","username":"yacovm","ts":"2017-03-10T21:40:31.463Z"}
{"msg":"I haven't had much time to look into the subcomponent JIRA yet. Other things have taken priority. ","username":"wlahti","ts":"2017-03-10T21:41:53.400Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=2kBYpst3BqpcjidkD) Here has been my goto solution: docker-compose up --force-recreate * 2>&1  | grep -v 'UTC \\[gossip/'*","username":"rickr","ts":"2017-03-13T02:18:17.446Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=2kBYpst3BqpcjidkD","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=2kBYpst3BqpcjidkD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"antoniovassell","ts":"2017-03-13T16:30:41.909Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MadhavaReddy","ts":"2017-03-14T03:02:48.135Z","type":"uj"}
{"msg":"Hi All, i started 1.0 using docker-compose file which is present /e2c_cli, though all containers are running however peers are not doing anything, the only log that i see in peer0 is ","username":"MadhavaReddy","ts":"2017-03-14T03:04:49.882Z"}
{"msg":"2017-03-14 02:25:08.945 UTC [gossip/comm#-1] GossipStream -> ERRO 00f Authentication failed\n2017-03-14 02:25:09.227 UTC [gossip/comm#-1] GossipStream -> ERRO 010 Authentication failed\n2017-03-14 02:25:33.948 UTC [gossip/comm#-1] GossipStream -> ERRO 011 Authentication failed\n2017-03-14 02:25:34.230 UTC [gossip/comm#-1] GossipStream -> ERRO 012 Authentication failed\n2017-03-14 02:25:58.950 UTC [gossip/comm#-1] GossipStream -> ERRO 013 Authentication failed\n2017-03-14 02:25:59.232 UTC [gossip/comm#-1] GossipStream -> ERRO 014 Authentication failed\n2017-03-14 02:26:23.969 UTC [gossip/comm#-1] GossipStream -> ERRO 015 Authentication failed\n2017-03-14 02:26:24.235 UTC [gossip/comm#-1] GossipStream -> ERRO 016 Authentication failed\n","username":"MadhavaReddy","ts":"2017-03-14T03:04:51.168Z"}
{"msg":"above, apart from this no entries found in other peer container logs, could you please help me to fix this issue","username":"MadhavaReddy","ts":"2017-03-14T03:05:32.393Z"}
{"msg":"What do you see in logs of peers 1-3?","username":"yacovm","ts":"2017-03-14T08:01:55.104Z"}
{"msg":"Has joined the channel.","username":"ruslan.kryukov","ts":"2017-03-14T15:54:40.221Z","type":"uj"}
{"msg":"Has joined the channel.","username":"a-p-g","ts":"2017-03-14T16:43:22.169Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lignyxg","ts":"2017-03-14T17:32:39.802Z","type":"uj"}
{"msg":"@yacovm not even single entry in other peer logs","username":"MadhavaReddy","ts":"2017-03-14T19:47:30.115Z"}
{"msg":"All i again tried to \"docker-compose-no-tls.yaml\" but still the same issue","username":"MadhavaReddy","ts":"2017-03-14T19:48:04.277Z"}
{"msg":"2017-03-14 19:44:06.951 UTC [gossip/comm#-1] GossipStream -> ERRO 001 Authentication failed\n2017-03-14 19:44:07.267 UTC [gossip/comm#-1] GossipStream -> ERRO 002 Authentication failed\n2017-03-14 19:44:31.953 UTC [gossip/comm#-1] GossipStream -> ERRO 003 Authentication failed\n2017-03-14 19:44:32.271 UTC [gossip/comm#-1] GossipStream -> ERRO 004 Authentication failed\n2017-03-14 19:44:56.956 UTC [gossip/comm#-1] GossipStream -> ERRO 005 Authentication failed\n2017-03-14 19:44:57.273 UTC [gossip/comm#-1] GossipStream -> ERRO 006 Authentication failed\n2017-03-14 19:45:21.973 UTC [gossip/comm#-1] GossipStream -> ERRO 007 Authentication failed\n2017-03-14 19:45:22.276 UTC [gossip/comm#-1] GossipStream -> ERRO 008 Authentication failed\n2017-03-14 19:45:46.976 UTC [gossip/comm#-1] GossipStream -> ERRO 009 Authentication failed\n2017-03-14 19:45:47.278 UTC [gossip/comm#-1] GossipStream -> ERRO 00a Authentication failed\n2017-03-14 19:46:11.978 UTC [gossip/comm#-1] GossipStream -> ERRO 00b Authentication failed\n2017-03-14 19:46:12.281 UTC [gossip/comm#-1] GossipStream -> ERRO 00c Authentication failed\n2017-03-14 19:46:36.999 UTC [gossip/comm#-1] GossipStream -> ERRO 00d Authentication failed\n2017-03-14 19:46:37.285 UTC [gossip/comm#-1] GossipStream -> ERRO 00e Authentication failed\n","username":"MadhavaReddy","ts":"2017-03-14T19:48:09.973Z"}
{"msg":"i only see auth failed and not even a single entry in other peer containers","username":"MadhavaReddy","ts":"2017-03-14T19:48:43.271Z"}
{"msg":"please help me resolve the issue ","username":"MadhavaReddy","ts":"2017-03-14T19:49:01.280Z"}
{"msg":"can you turn on debug in all peers and try again?","username":"yacovm","ts":"2017-03-14T19:54:47.914Z"}
{"msg":"If I start fabric with genesis method file, gossip spams to log with message:\n\npeer-01    | 2017-03-15 08:49:54.127 UTC [gossip/gossip#IP:7051] PeersOfChannel -> WARN 094 No such channel [116 101 115 116 99 104 97 105 110 105 100]\n\n116 101 bla bla bla - is testchainid word\n","username":"ruslan.kryukov","ts":"2017-03-15T08:51:59.207Z"}
{"msg":"my config block contains my own channel name and orderer in this case doesn't know about testchainid\n\nBut when I start peer with command \"peer node start\", it starts with default channel testchainid, right? After that I send command \"peer join\" to my channel, but gossip still sends a lot of messages \"no such channel\"","username":"ruslan.kryukov","ts":"2017-03-15T08:55:14.004Z"}
{"msg":"yeah","username":"yacovm","ts":"2017-03-15T08:56:41.576Z"}
{"msg":"because if you start without the --testchainid false flag","username":"yacovm","ts":"2017-03-15T08:56:54.388Z"}
{"msg":"the peers announce that they are part of \"testchainid\"","username":"yacovm","ts":"2017-03-15T08:57:03.408Z"}
{"msg":"` --peer-defaultchain=false`","username":"yacovm","ts":"2017-03-15T08:57:25.809Z"}
{"msg":"use this when starting the peer","username":"yacovm","ts":"2017-03-15T08:57:30.811Z"}
{"msg":"@ruslan.kryukov  also you can `git pull` now and rebuild the peer, you won't see these messages anymore.\nThanks @mastersingh24  for the merge","username":"yacovm","ts":"2017-03-15T09:07:07.319Z"}
{"msg":"Oh, good, thanks","username":"ruslan.kryukov","ts":"2017-03-15T09:08:06.543Z"}
{"msg":"Has joined the channel.","username":"mychewcents","ts":"2017-03-15T12:28:56.888Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RahulBagaria","ts":"2017-03-17T04:02:27.054Z","type":"uj"}
{"msg":"Hi All am trying to run 1.0 env from e2e_cli folder using no tls yaml file and am seeing below error in peer docker logs, i ran generateCfgTrx.sh script before i ran docker-compose cmd, please note i comment script in yaml file","username":"MadhavaReddy","ts":"2017-03-17T16:48:10.872Z"}
{"msg":"2017-03-17 16:44:47.681 UTC [gossip/comm#-1] GossipStream -> ERRO 196 Authentication failed\n2017-03-17 16:44:50.557 UTC [gossip/pull#172.19.0.3:7051] Hello -> DEBU 197 Sending hello to 172.19.0.4:7051\n2017-03-17 16:44:50.557 UTC [gossip/comm#-1] Send -> DEBU 198 Entering, sending GossipMessage: tag:EMPTY hello:<nonce:3440579354231278675 msg_type:IDENTITY_MSG > , Envelope: 16 bytes, Signature: 0 bytes to  1 peers\n2017-03-17 16:44:50.558 UTC [gossip/comm#-1] sendToEndpoint -> DEBU 199 Entering, Sending to 172.19.0.4:7051 , msg: GossipMessage: tag:EMPTY hello:<nonce:3440579354231278675 msg_type:IDENTITY_MSG > , Envelope: 16 bytes, Signature: 0 bytes\n2017-03-17 16:44:50.558 UTC [gossip/comm#-1] sendToEndpoint -> DEBU 19a Exiting\n","username":"MadhavaReddy","ts":"2017-03-17T16:48:22.867Z"}
{"msg":"please help me on this issue","username":"MadhavaReddy","ts":"2017-03-17T16:48:53.256Z"}
{"msg":"What's the issue?","username":"yacovm","ts":"2017-03-17T16:53:46.979Z"}
{"msg":"2017-03-17 16:44:47.681 UTC [gossip/comm#-1] GossipStream -> ERRO 196 Authentication failed","username":"MadhavaReddy","ts":"2017-03-17T16:54:45.400Z"}
{"msg":"and when i try to create new channel in CLI container","username":"MadhavaReddy","ts":"2017-03-17T16:55:19.491Z"}
{"msg":"root@72a84d8de556:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel create -o orderer0:7050 -c mychannel -f crypto/orderer/channel.tx\n2017-03-17 16:49:51.090 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'channel'\n2017-03-17 16:49:51.090 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-17 16:49:51.090 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-17 16:49:53.127 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP\n2017-03-17 16:49:53.127 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity\n2017-03-17 16:49:53.127 UTC [msp] GetLocalMSP -> DEBU 006 Returning existing local MSP\n2017-03-17 16:49:53.127 UTC [msp] GetDefaultSigningIdentity -> DEBU 007 Obtaining default signing identity\n2017-03-17 16:49:53.127 UTC [msp] Sign -> DEBU 008 Sign: plaintext: 0ADD070A1508021A0608B1A7B0C60522...00120D1A0B08FFFFFFFFFFFFFFFFFF01\n2017-03-17 16:49:53.128 UTC [msp] Sign -> DEBU 009 Sign: digest: 3CEA3D149469841D625A8383FB0A50AD18F19D375502C79AABE5302804BE4365\nGot status  &{FORBIDDEN}\nError receiving: EOF\nError: EOF\n","username":"MadhavaReddy","ts":"2017-03-17T16:55:26.845Z"}
{"msg":"root@72a84d8de556:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel create -o orderer:7050 -c mychannel\n2017-03-17 16:49:23.970 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'channel'\n2017-03-17 16:49:23.970 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-17 16:49:23.970 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\nError connecting: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure\nError: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure\n","username":"MadhavaReddy","ts":"2017-03-17T16:55:43.625Z"}
{"msg":"prefix your `peer channel create` with the MSP folder","username":"yacovm","ts":"2017-03-17T17:08:58.723Z"}
{"msg":"`CORE_PEER_MSPCONFIGPATH=blablabla CORE_PEER_LOCALMSPID=yourMSPID peer channel create -o orderer0:7050 -c mychannel -f crypto/orderer/channel.tx`","username":"yacovm","ts":"2017-03-17T17:10:09.986Z"}
{"msg":"i tried that also it was giving similar error","username":"MadhavaReddy","ts":"2017-03-17T17:10:11.207Z"}
{"msg":"Also another tip","username":"yacovm","ts":"2017-03-17T17:10:23.269Z"}
{"msg":"CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer0/localMspConfig CORE_PEER_ADDRESS=peer0:7051 CORE_PEER_LOCALMSPID=\"Org0MSP\" peer channel create -o orderer0:7050 -c mychannel -f crypto/orderer/channel.tx","username":"MadhavaReddy","ts":"2017-03-17T17:10:24.860Z"}
{"msg":"if you get a status FORBIDDEN ","username":"yacovm","ts":"2017-03-17T17:10:35.701Z"}
{"msg":"look at the orderer logs","username":"yacovm","ts":"2017-03-17T17:10:40.586Z"}
{"msg":"ok","username":"MadhavaReddy","ts":"2017-03-17T17:10:56.929Z"}
{"msg":"wait, are you inside docker, or outside?","username":"yacovm","ts":"2017-03-17T17:10:58.976Z"}
{"msg":"peer0 works only inside docker","username":"yacovm","ts":"2017-03-17T17:11:05.890Z"}
{"msg":"am inside cli container","username":"MadhavaReddy","ts":"2017-03-17T17:12:05.747Z"}
{"msg":"ok","username":"yacovm","ts":"2017-03-17T17:12:27.562Z"}
{"msg":"it should work ","username":"yacovm","ts":"2017-03-17T17:12:36.534Z"}
{"msg":"does the e2e_cli/network_setup script run successfully?","username":"yacovm","ts":"2017-03-17T17:13:04.159Z"}
{"msg":"i ran only \"generateCfgTrx.sh\"","username":"MadhavaReddy","ts":"2017-03-17T17:13:55.860Z"}
{"msg":"script","username":"MadhavaReddy","ts":"2017-03-17T17:14:00.363Z"}
{"msg":"and commented \"command: /bin/bash -c './scripts/script.sh ${CHANNEL_NAME}; '\" this inside yaml file","username":"MadhavaReddy","ts":"2017-03-17T17:14:36.298Z"}
{"msg":"root@72a84d8de556:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer0/localMspConfig CORE_PEER_ADDRESS=peer0:7051 CORE_PEER_LOCALMSPID=\"Org0MSP\" peer channel create -o orderer0:7050 -c mychannel -f crypto/orderer/channel.tx\n2017-03-17 17:15:29.287 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'channel'\n2017-03-17 17:15:29.287 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-17 17:15:29.287 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\nError: Got unexpected status: BAD_REQUEST\nUsage:\n","username":"MadhavaReddy","ts":"2017-03-17T17:15:59.381Z"}
{"msg":"with configpath and mspid am getting bad request error","username":"MadhavaReddy","ts":"2017-03-17T17:16:36.987Z"}
{"msg":"so, @MadhavaReddy  can you please continue this discussion in the #fabric channel? It's not something related to gossip :)","username":"yacovm","ts":"2017-03-17T17:16:52.528Z"}
{"msg":"I suggest you first try running the `network_setup.sh up` in the e2e_cli","username":"yacovm","ts":"2017-03-17T17:17:31.454Z"}
{"msg":"actually if i remove peer logging in yaml file am seeing below error in docker logs","username":"MadhavaReddy","ts":"2017-03-17T17:17:51.212Z"}
{"msg":"2017-03-17 16:37:25.653 UTC [gossip/comm#-1] GossipStream -> ERRO 001 Authentication failed\n2017-03-17 16:37:26.056 UTC [gossip/comm#-1] GossipStream -> ERRO 002 Authentication failed\n2017-03-17 16:37:50.654 UTC [gossip/comm#-1] GossipStream -> ERRO 003 Authentication failed\n2017-03-17 16:37:51.057 UTC [gossip/comm#-1] GossipStream -> ERRO 004 Authentication failed","username":"MadhavaReddy","ts":"2017-03-17T17:18:09.798Z"}
{"msg":"this will only show in peer0","username":"MadhavaReddy","ts":"2017-03-17T17:18:34.603Z"}
{"msg":"that's the least of your concerns, however","username":"yacovm","ts":"2017-03-17T17:18:34.620Z"}
{"msg":":-) fine then","username":"MadhavaReddy","ts":"2017-03-17T17:18:47.797Z"}
{"msg":"thank u","username":"MadhavaReddy","ts":"2017-03-17T17:18:51.430Z"}
{"msg":"np.","username":"yacovm","ts":"2017-03-17T17:18:55.366Z"}
{"msg":"do i need to run both network_setup.sh up as well as generateCfgTrx.sh script? last question :-)","username":"MadhavaReddy","ts":"2017-03-17T17:19:49.706Z"}
{"msg":"or only network_setup.sh","username":"MadhavaReddy","ts":"2017-03-17T17:20:05.505Z"}
{"msg":"ah","username":"yacovm","ts":"2017-03-17T17:26:57.464Z"}
{"msg":"@MadhavaReddy  only `./network_setup.sh up`","username":"yacovm","ts":"2017-03-17T17:27:12.829Z"}
{"msg":"thank you @yacovm will run it","username":"MadhavaReddy","ts":"2017-03-17T17:27:44.306Z"}
{"msg":"@yacovm fyi the CLI container existed once network_setup.sh execution is completed even same with generateCfgTrx.sh script, that means its not allowing to create a new channel from cli","username":"MadhavaReddy","ts":"2017-03-17T17:58:18.317Z"}
{"msg":"Why does that mean it?","username":"yacovm","ts":"2017-03-17T17:59:27.230Z"}
{"msg":"Existed or exited?","username":"yacovm","ts":"2017-03-17T18:00:18.375Z"}
{"msg":"Has joined the channel.","username":"rameshthoomu","ts":"2017-03-17T19:47:10.418Z","type":"uj"}
{"msg":"Has joined the channel.","username":"akashmar","ts":"2017-03-17T19:48:20.417Z","type":"uj"}
{"msg":"@MadhavaReddy Please see this [ ](https://chat.hyperledger.org/channel/fabric?msg=WSCTkFgcmr9QmW73Q) @rameshthoomu ","username":"rameshthoomu","ts":"2017-03-17T19:48:33.399Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=WSCTkFgcmr9QmW73Q","url":"https://chat.hyperledger.org/channel/fabric?msg=WSCTkFgcmr9QmW73Q","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I'm getting this gossip error even though I've made the certificates of all peer orgs available on each peer:\n```\n2017-03-17 19:51:39.157 UTC [gossip/comm#-1] authenticateRemotePeer -> WARN 1dd Identity store rejected 10.13.218.182:56098 : Peer Identity [0a 08 70 65 65 72 4f 72 67 32 12 f8 05 2d 2d 2d 2d 2d 42 45 47 49 4e 20 2... etc] cannot be validated. No MSP found able to do that.\n2017-03-17 19:51:39.157 UTC [gossip/comm#-1] GossipStream -> ERRO 1de Authentication failed\n```\nIs there something I missing? If I disable gossip security, then it completely disregards the MSP configuration and uses DEFAULT org instead.","username":"akashmar","ts":"2017-03-17T19:49:39.542Z"}
{"msg":"Oh, dont use the ignore security thing","username":"yacovm","ts":"2017-03-17T19:51:45.573Z"}
{"msg":"It doesnt work anymore","username":"yacovm","ts":"2017-03-17T19:51:50.685Z"}
{"msg":"We should remove it :worried:","username":"yacovm","ts":"2017-03-17T19:52:06.935Z"}
{"msg":"Yeah I figured that out after I went looking into the code. So I removed it","username":"akashmar","ts":"2017-03-17T19:52:20.560Z"}
{"msg":"Now I'm stuck with the above error","username":"akashmar","ts":"2017-03-17T19:52:31.308Z"}
{"msg":"The error you're getting is that you get a message signed by a peer from a dofferent org","username":"yacovm","ts":"2017-03-17T19:52:45.284Z"}
{"msg":"And that peer does not share any channel with you","username":"yacovm","ts":"2017-03-17T19:52:58.605Z"}
{"msg":"So gossip is only intended for peers within the same org?","username":"akashmar","ts":"2017-03-17T19:53:18.331Z"}
{"msg":"Of course not","username":"yacovm","ts":"2017-03-17T19:53:25.724Z"}
{"msg":"I was just typing","username":"yacovm","ts":"2017-03-17T19:53:29.792Z"}
{"msg":"Its a configuration problem :wink:","username":"yacovm","ts":"2017-03-17T19:53:39.164Z"}
{"msg":"Something isnt configured right","username":"yacovm","ts":"2017-03-17T19:54:04.614Z"}
{"msg":"I had a feeling I was missing something. How do I configure it properly?","username":"akashmar","ts":"2017-03-17T19:54:15.280Z"}
{"msg":"Has joined the channel.","username":"Rymd","ts":"2017-03-17T19:54:37.516Z","type":"uj"}
{"msg":"Ahhh... Thats a bit hard to explain. Perhaps tell about your setup","username":"yacovm","ts":"2017-03-17T19:54:44.404Z"}
{"msg":"How many peers, orgs etc","username":"yacovm","ts":"2017-03-17T19:54:51.565Z"}
{"msg":"I have 4 peers in 4 different orgs and 1 orderer","username":"akashmar","ts":"2017-03-17T19:55:11.078Z"}
{"msg":"I'm running each container on a separate host","username":"akashmar","ts":"2017-03-17T19:55:33.387Z"}
{"msg":"Okay, how did you generate the certs?","username":"yacovm","ts":"2017-03-17T19:56:41.004Z"}
{"msg":"using the cryptogen utility from the repo","username":"akashmar","ts":"2017-03-17T19:56:52.488Z"}
{"msg":"this is the current environment for each peer:\n```\nenvironment:\n      - CORE_PEER_ADDRESS=${PEER_ADDRESS}\n      - CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock\n      - CORE_LOGGING_LEVEL=DEBUG\n      - CORE_PEER_NETWORKID=${PEER_NAME}\n      - CORE_NEXT=true\n      - CORE_PEER_ENDORSER_ENABLED=true\n      - CORE_PEER_COMMITTER_ENABLED=true\n      - CORE_PEER_ID=${PEER_NAME}\n      - CORE_PEER_PROFILE_ENABLED=false\n      - CORE_PEER_COMMITTER_LEDGER_ORDERER=${ORDERER_ADDRESS}\n      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=${PEER_ADDRESS}\n      - CORE_PEER_LOCALMSPID=${MSP_ID}\n      - CORE_PBFT_GENERAL_N=4\n      - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft\n      - CORE_PBFT_GENERAL_TIMEOUT_REQUEST=10s\n      - CORE_PEER_CFG=/etc/hyperledger/fabric\n      - CORE_PEER_TLS_ENABLED=false\n      - CORE_PEER_GOSSIP_USELEADERELECTION=true\n      - CORE_PEER_GOSSIP_ORGLEADER=false\n```","username":"akashmar","ts":"2017-03-17T19:57:45.114Z"}
{"msg":"Cool ","username":"yacovm","ts":"2017-03-17T19:57:52.077Z"}
{"msg":"Nicr!","username":"yacovm","ts":"2017-03-17T19:57:55.249Z"}
{"msg":"Nice","username":"yacovm","ts":"2017-03-17T19:57:55.249Z"}
{"msg":"Hmmm","username":"yacovm","ts":"2017-03-17T19:58:43.768Z"}
{"msg":"Where is local msp dir?","username":"yacovm","ts":"2017-03-17T19:58:51.058Z"}
{"msg":"the default one is /etc/hyperledger/fabric/msp/sampleconfig. I'm just mounting the certificates there","username":"akashmar","ts":"2017-03-17T19:59:22.273Z"}
{"msg":"here's the actual environment from docker container itself:\n```\n\"CORE_PEER_ID=org1peer1\",\n                \"CORE_PEER_COMMITTER_LEDGER_ORDERER=10.13.218.180:7050\",\n                \"GOPATH=/opt/gopath\",\n                \"CORE_PEER_GOSSIP_USELEADERELECTION=true\",\n                \"CORE_PEER_COMMITTER_ENABLED=true\",\n                \"CORE_PBFT_GENERAL_N=4\",\n                \"CORE_PBFT_GENERAL_TIMEOUT_REQUEST=10s\",\n                \"CORE_PEER_ADDRESS=10.13.218.181:7051\",\n                \"CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock\",\n                \"CORE_PEER_CFG=/etc/hyperledger/fabric\",\n                \"CORE_PEER_TLS_ENABLED=false\",\n                \"CORE_PEER_GOSSIP_ORGLEADER=false\",\n                \"CORE_LOGGING_LEVEL=DEBUG\",\n                \"CORE_PEER_LOCALMSPID=peerOrg1\",\n                \"CORE_PEER_PROFILE_ENABLED=false\",\n                \"CORE_PEER_NETWORKID=org1peer1\",\n                \"CORE_PEER_GOSSIP_EXTERNALENDPOINT=10.13.218.181:7051\",\n                \"CORE_PEER_ENDORSER_ENABLED=true\",\n                \"CORE_NEXT=true\",\n                \"CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft\",\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"PEER_CFG_PATH=/etc/hyperledger/fabric\",\n                \"CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/msp/sampleconfig\"\n```","username":"akashmar","ts":"2017-03-17T20:00:49.588Z"}
{"msg":"Has joined the channel.","username":"saism","ts":"2017-03-17T20:00:57.033Z","type":"uj"}
{"msg":"ah but it needs to be different for each peer!","username":"yacovm","ts":"2017-03-17T20:01:22.935Z"}
{"msg":"are you somehow providing a different mount volume for each peer?","username":"yacovm","ts":"2017-03-17T20:01:34.837Z"}
{"msg":"it is, this is the one from org1peer1","username":"akashmar","ts":"2017-03-17T20:01:38.440Z"}
{"msg":"how do you ensure that peer0 and peer1 have different MSPCONFIGPATHs?","username":"yacovm","ts":"2017-03-17T20:02:09.390Z"}
{"msg":"they're running on different hosts. they each get the MSPs from their own local dirs","username":"akashmar","ts":"2017-03-17T20:02:32.550Z"}
{"msg":"but they're in docker","username":"yacovm","ts":"2017-03-17T20:03:00.031Z"}
{"msg":"are they not","username":"yacovm","ts":"2017-03-17T20:03:01.911Z"}
{"msg":"?","username":"yacovm","ts":"2017-03-17T20:03:03.269Z"}
{"msg":"yes, but each container is running on a different host. I've copied the MSPs for each peer org to each host, and i'm mounting it there locally","username":"akashmar","ts":"2017-03-17T20:03:53.509Z"}
{"msg":"ah got it","username":"yacovm","ts":"2017-03-17T20:04:15.153Z"}
{"msg":"`\"CORE_PEER_GOSSIP_EXTERNALENDPOINT=10.13.218.181:7051`","username":"yacovm","ts":"2017-03-17T20:04:32.811Z"}
{"msg":"Nice!","username":"yacovm","ts":"2017-03-17T20:04:35.432Z"}
{"msg":"did you read all the fabric code or something?","username":"yacovm","ts":"2017-03-17T20:04:50.802Z"}
{"msg":"i'm getting there :)","username":"akashmar","ts":"2017-03-17T20:05:17.560Z"}
{"msg":"okay","username":"yacovm","ts":"2017-03-17T20:06:29.954Z"}
{"msg":"next question","username":"yacovm","ts":"2017-03-17T20:06:31.798Z"}
{"msg":"have you created a channel","username":"yacovm","ts":"2017-03-17T20:06:37.371Z"}
{"msg":"with the configtxgen","username":"yacovm","ts":"2017-03-17T20:06:40.246Z"}
{"msg":"and all","username":"yacovm","ts":"2017-03-17T20:06:41.394Z"}
{"msg":"not yet, this happens when I start the peers. I've tried creating a channel and that is successful, but I can't join it. I keep saying error 'No such channel' in the peer logs after I join","username":"akashmar","ts":"2017-03-17T20:08:09.988Z"}
{"msg":"ahhhh","username":"yacovm","ts":"2017-03-17T20:08:34.868Z"}
{"msg":"great!","username":"yacovm","ts":"2017-03-17T20:08:37.059Z"}
{"msg":"so basically","username":"yacovm","ts":"2017-03-17T20:08:52.905Z"}
{"msg":"you didn't create a channel?","username":"yacovm","ts":"2017-03-17T20:09:02.021Z"}
{"msg":"I don't understand","username":"yacovm","ts":"2017-03-17T20:09:43.181Z"}
{"msg":"you created a channel but haven't joined the peers?","username":"yacovm","ts":"2017-03-17T20:09:50.128Z"}
{"msg":"i can create the channel but I haven't joined the peers","username":"akashmar","ts":"2017-03-17T20:11:30.981Z"}
{"msg":"ah","username":"yacovm","ts":"2017-03-17T20:11:36.853Z"}
{"msg":"that's great","username":"yacovm","ts":"2017-03-17T20:11:38.728Z"}
{"msg":"it means my code works","username":"yacovm","ts":"2017-03-17T20:11:43.351Z"}
{"msg":"so here is the deal","username":"yacovm","ts":"2017-03-17T20:11:45.763Z"}
{"msg":"peers in different orgs *are not supposed to be able to communicate unless they share a channel*","username":"yacovm","ts":"2017-03-17T20:12:03.270Z"}
{"msg":"I just created the channel and joined the peers and the errors disappeared :)","username":"akashmar","ts":"2017-03-17T20:13:39.044Z"}
{"msg":"which confirms your point","username":"akashmar","ts":"2017-03-17T20:13:54.404Z"}
{"msg":"I can't believe you doubted me @akashmar :O","username":"yacovm","ts":"2017-03-17T20:15:01.590Z"}
{"msg":"I never did, I was trying that while you were typing :)","username":"akashmar","ts":"2017-03-17T20:15:19.603Z"}
{"msg":"That was actually very helpful little discussion","username":"saism","ts":"2017-03-17T20:16:02.952Z"}
{"msg":"that rule you mentioned, is that documented somewhere?","username":"akashmar","ts":"2017-03-17T20:16:03.924Z"}
{"msg":"Hmm, let me see","username":"yacovm","ts":"2017-03-17T20:17:38.786Z"}
{"msg":"well not really because I don't think we have a _ public _ document that describes *both gossip and MSP* ","username":"yacovm","ts":"2017-03-17T20:18:35.857Z"}
{"msg":"We are working on such a doc however!","username":"yacovm","ts":"2017-03-17T20:18:45.809Z"}
{"msg":"But it's an architectural security constraint","username":"yacovm","ts":"2017-03-17T20:19:01.665Z"}
{"msg":"I see","username":"akashmar","ts":"2017-03-17T20:19:13.072Z"}
{"msg":"you don't want your peers to be able to talk to any organization, unless there is a reason to, right?","username":"yacovm","ts":"2017-03-17T20:19:14.451Z"}
{"msg":"You're right, it makes sense","username":"akashmar","ts":"2017-03-17T20:19:37.016Z"}
{"msg":"Are you able to help me with chaincode deployment, I have another problem there","username":"akashmar","ts":"2017-03-17T20:20:17.764Z"}
{"msg":"I don't think I can because I'm not a chaincode developer but I can give it a shot, but in any case please do *not* ask chaincode questions in this channel :)","username":"yacovm","ts":"2017-03-17T20:21:04.692Z"}
{"msg":"Ask in some other channel and tag me","username":"yacovm","ts":"2017-03-17T20:21:13.462Z"}
{"msg":"but if it's something complicated I don't believe I would be able to","username":"yacovm","ts":"2017-03-17T20:21:29.539Z"}
{"msg":"is there a channel specifically for chaincode?","username":"akashmar","ts":"2017-03-17T20:22:09.831Z"}
{"msg":"I don't think so. Ask in #fabric or in #fabric-questions ","username":"yacovm","ts":"2017-03-17T20:22:36.558Z"}
{"msg":"Has joined the channel.","username":"GeorgeSamman","ts":"2017-03-20T03:51:38.357Z","type":"uj"}
{"msg":"Question about message store expiration - do we want to configure expiration timeout using yaml for each type of message? ","username":"gennadyl","ts":"2017-03-20T15:04:01.138Z"}
{"msg":"I think not. It's best to make the period a function of some other duration","username":"yacovm","ts":"2017-03-20T15:07:21.619Z"}
{"msg":"Has joined the channel.","username":"Xiao","ts":"2017-03-21T08:08:04.732Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thojest","ts":"2017-03-21T10:22:30.648Z","type":"uj"}
{"msg":"hey guys i have a question... im still using v0.6","username":"thojest","ts":"2017-03-21T10:23:35.117Z"}
{"msg":"Is it possible to have a network of peer nodes on laptop 1 in docker containers","username":"thojest","ts":"2017-03-21T10:23:54.177Z"}
{"msg":"and then connect a node on ANOTHER laptop to this existing network?","username":"thojest","ts":"2017-03-21T10:24:12.344Z"}
{"msg":"i try to explain where i see the problem","username":"thojest","ts":"2017-03-21T10:32:18.563Z"}
{"msg":"so suppose on laptop 1 we have a network of 4 peer nodes including the root node vp0","username":"thojest","ts":"2017-03-21T10:32:42.583Z"}
{"msg":"now i try to connect from laptop2 another peer node lets call it vp4","username":"thojest","ts":"2017-03-21T10:33:04.534Z"}
{"msg":"then vp4 finds vp0 BUT","username":"thojest","ts":"2017-03-21T10:33:24.031Z"}
{"msg":"vp0 tells vp4 now the ip addresses of the docker containers on laptop1","username":"thojest","ts":"2017-03-21T10:33:37.875Z"}
{"msg":"BUT vp4 thinks these ip addresses are on the network","username":"thojest","ts":"2017-03-21T10:33:55.821Z"}
{"msg":"thus vp4 only gets the connection to vp0 the rootnode but it cannot communicate to vp1-3","username":"thojest","ts":"2017-03-21T10:34:18.009Z"}
{"msg":"So first of all- this channel is dedicated to the gossip component which is only in V1.0\nSecond- yes it's possible. You need to configure port forwarding and also set this address to the external address of the laptop: https://github.com/hyperledger/fabric/blob/v0.6/peer/core.yaml#L93 ","username":"yacovm","ts":"2017-03-21T10:38:28.206Z"}
{"msg":"sry didnt know about the restrictions of this channel but thanks","username":"thojest","ts":"2017-03-21T10:40:41.938Z"}
{"msg":"np","username":"yacovm","ts":"2017-03-21T10:41:03.013Z"}
{"msg":"@yacovm hmm getting the same problem","username":"thojest","ts":"2017-03-21T10:57:04.269Z"}
{"msg":"in which channel should i ask this question?","username":"thojest","ts":"2017-03-21T10:57:24.055Z"}
{"msg":"#fabric ","username":"yacovm","ts":"2017-03-21T11:10:31.900Z"}
{"msg":"Has joined the channel.","username":"mdevilliers","ts":"2017-03-21T16:34:08.424Z","type":"uj"}
{"msg":"Has joined the channel.","username":"matanyahu","ts":"2017-03-23T10:54:28.460Z","type":"uj"}
{"msg":"Has joined the channel.","username":"joe-alewine","ts":"2017-03-24T13:58:17.537Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kostas","ts":"2017-03-24T16:14:27.047Z","type":"uj"}
{"msg":"Enlighten me a bit on this one:","username":"kostas","ts":"2017-03-24T16:14:42.349Z"}
{"msg":"> However, to gossip a block to a peer will require that the ``/Channel/Application/Readers`` policy be satisfied.","username":"kostas","ts":"2017-03-24T16:14:56.261Z"}
{"msg":"From `policies.rst`.","username":"kostas","ts":"2017-03-24T16:15:05.956Z"}
{"msg":"Hey Kostas how you doing?","username":"yacovm","ts":"2017-03-24T16:15:29.230Z"}
{"msg":"Why wouldn't we consult the `/Channel/Readers` policy for gossiping as well?","username":"kostas","ts":"2017-03-24T16:15:35.351Z"}
{"msg":"Hey Yacov, doing well.","username":"kostas","ts":"2017-03-24T16:15:41.368Z"}
{"msg":"I'm sure there's a good reason. `/Channel/Readers` only for those allowed to reach out to the ordering service directly?","username":"kostas","ts":"2017-03-24T16:16:12.470Z"}
{"msg":"(But if that's the case... I have follow-up questions.)","username":"kostas","ts":"2017-03-24T16:16:34.177Z"}
{"msg":"Isn't channel readers for everyone including ordering service or something ?","username":"yacovm","ts":"2017-03-24T16:19:38.620Z"}
{"msg":"I'm not an expert on this policies thing but I'd assume that the channel application readers is a more restrictive requirement isn't it?","username":"yacovm","ts":"2017-03-24T16:20:40.736Z"}
{"msg":"Don't quite know and I'm researching this now. There should be (and I'm sure there is) a good argument as to why we do both `Channel/Readers-Writers` and `Channel/Application/Readers-Writers`. Will keep on digging.","username":"kostas","ts":"2017-03-24T16:25:07.103Z"}
{"msg":"Don't quite know and I'm researching this now. There should be (and I'm sure there is) a good argument as to why we do both `Channel/Readers-Writers` and `Channel/Application/Readers-Writers`. Off the top of my head though, I can't come up with a good, intuitive answer. Will keep on digging.","username":"kostas","ts":"2017-03-24T16:25:07.103Z"}
{"msg":"To be honest","username":"yacovm","ts":"2017-03-24T16:25:47.154Z"}
{"msg":"We don't really consult these policies directly","username":"yacovm","ts":"2017-03-24T16:26:05.387Z"}
{"msg":"we invoke a function that the MSP layer gives us ","username":"yacovm","ts":"2017-03-24T16:26:13.706Z"}
{"msg":"I'd ask in #fabric-crypto instead","username":"yacovm","ts":"2017-03-24T16:26:21.508Z"}
{"msg":"For my edification, do you plan to consult policies specific in the config eventually?","username":"kostas","ts":"2017-03-24T20:02:23.843Z"}
{"msg":"For my edification, do you plan to consult policies specified in the config eventually?","username":"kostas","ts":"2017-03-24T20:02:23.843Z"}
{"msg":"(Also, what is the function that you're using from the MSP layer?)","username":"kostas","ts":"2017-03-24T20:02:45.362Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/gossip/api/crypto.go\nimplemented in https://github.com/hyperledger/fabric/blob/master/peer/gossip/mcs/mcs.go","username":"yacovm","ts":"2017-03-24T20:07:47.880Z"}
{"msg":"And these policies stem from a config","username":"yacovm","ts":"2017-03-24T20:08:12.335Z"}
{"msg":"Has joined the channel.","username":"nhrishi","ts":"2017-03-27T13:06:59.343Z","type":"uj"}
{"msg":"@C0rWin, @yacovm - Can you guys have a look at https://gerrit.hyperledger.org/r/#/c/7303/.\nThis CR make some changes in ledger. However, one of the gossip tests is failing which appears totally unrelated to me.\n\n```\n03:18:22 unit-tests_1  | ?   \tgithub.com/hyperledger/fabric/gossip/common\t[no test files]\n03:18:44 unit-tests_1  | ok  \tgithub.com/hyperledger/fabric/gossip/discovery\t7.652s\tcoverage: 83.2% of statements\n03:19:06 unit-tests_1  | --- FAIL: TestPartition (3.10s)\n03:19:06 unit-tests_1  | \tassertions.go:219: \n                        \n\tError Trace:\telection_test.go:330\n03:19:06 unit-tests_1  | \t\t\n\tError:\t\tShould be true\n03:19:06 unit-tests_1  | \t\t\n\tMessages:\tLeadership callback result is wrong for p0\n03:19:06 unit-tests_1  | \t\t\n03:19:06 unit-tests_1  | FAIL\n03:19:06 unit-tests_1  | coverage: 95.5% of statements\n03:19:06 unit-tests_1  | FAIL\tgithub.com/hyperledger/fabric/gossip/election\t7.166s\n03:19:06 unit-tests_1  | error: exit status 1\n03:19:06 unit-tests_1  | panic: EOF\n03:19:06 unit-tests_1  | \n03:19:06 unit-tests_1  | goroutine 1 [running]:\n03:19:06 unit-tests_1  | panic(0x4daca0, 0xc420068020)\n03:19:06 unit-tests_1  | \t/opt/go/src/runtime/panic.go:500 +0x1a1\n03:19:06 unit-tests_1  | main.main()\n03:19:06 unit-tests_1  | \t/opt/gotools/obj/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x15fd\n```","username":"manish-sethi","ts":"2017-03-31T04:54:41.903Z"}
{"msg":"This is indeed unrelated, @manish-sethi.\nIt was supposed to be fixed in https://gerrit.hyperledger.org/r/#/c/7493/\nBut I pulled your patch set (2) and it appears that https://gerrit.hyperledger.org/r/#/c/7493/ didn't fix it... @C0rWin maybe we need to do that callback synchronous after all? I've never seen these failures before when it was changed to async.\nYour build, however- failed again.\nI opened a JIRA yesterday https://jira.hyperledger.org/browse/FAB-2944 ","username":"yacovm","ts":"2017-03-31T08:18:04.904Z"}
{"msg":"This is indeed unrelated, @manish-sethi \nIt was supposed to be fixed in https://gerrit.hyperledger.org/r/#/c/7493/\nBut I pulled your patch set (2) and it appears that https://gerrit.hyperledger.org/r/#/c/7493/ didn't fix it... @C0rWin maybe we need to do that callback synchronous after all? I've never seen these failures before when it was changed to async.\nYour build, however- failed again.\nI opened a JIRA yesterday https://jira.hyperledger.org/browse/FAB-2944 ","username":"yacovm","ts":"2017-03-31T08:18:04.904Z"}
{"msg":"This is indeed unrelated, @manish-sethi \nIt was supposed to be fixed in https://gerrit.hyperledger.org/r/#/c/7493/\nBut I pulled your patch set (2) and it appears that https://gerrit.hyperledger.org/r/#/c/7493/ didn't fix it... @C0rWin maybe we need to do that callback synchronous after all? I've never seen these failures before when it was changed to async. Or- maybe we were just wrong in the evaluation of the reason it fails.\nYour build, however- failed again.\nI opened a JIRA yesterday https://jira.hyperledger.org/browse/FAB-2944 ","username":"yacovm","ts":"2017-03-31T08:18:04.904Z"}
{"msg":"@yacovm for me, all the tests had passed in my local vagrant. Yes, in the latest failure some of the other tests failed - though the last patch did not change anything other than fixing some indentation in proto file.","username":"manish-sethi","ts":"2017-03-31T08:22:51.784Z"}
{"msg":"Let's see what happens in the latest build","username":"manish-sethi","ts":"2017-03-31T08:24:04.967Z"}
{"msg":"Has joined the channel.","username":"choas","ts":"2017-04-02T18:11:52.480Z","type":"uj"}
{"msg":"```\n2017-04-02 20:54:52.004 UTC [gossip/election] IsLeader -> DEBU 99c [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] : Returning true\n2017-04-02 20:54:52.004 UTC [gossip/gossip#172.25.0.2:7051] Gossip -> WARN 99d Failed obtaining gossipChannel of [109 121 99 104 97 110 110 101 108] aborting\n2017-04-02 20:54:52.004 UTC [gossip/election] waitForInterrupt -> DEBU 99e [31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133] : Entering\n```\nMay i know what is the significance of this warning and can be avoided? ","username":"rahulhegde","ts":"2017-04-02T20:56:44.660Z"}
{"msg":"this is a debug message","username":"yacovm","ts":"2017-04-02T21:02:38.829Z"}
{"msg":"why would you want to avoid this?","username":"yacovm","ts":"2017-04-02T21:03:02.631Z"}
{"msg":"I don't won't to avoid it but need to know what is wrong in the configuration to warn me?","username":"rahulhegde","ts":"2017-04-02T21:25:50.126Z"}
{"msg":"I don't won't to avoid it but need to know what is wrong in the configuration to warn me? May be a documentation will also help @yacovm. Thanks.","username":"rahulhegde","ts":"2017-04-02T21:25:50.126Z"}
{"msg":"I don't won't to avoid it but need to know what is wrong in the configuration to warn me? May be a documentation will also help @yacovm . Thanks.","username":"rahulhegde","ts":"2017-04-02T21:25:50.126Z"}
{"msg":"I don't won't to avoid it but need to know what is wrong in the configuration to warn me? May be a documentation should be helpful, @yacovm  . Thanks.","username":"rahulhegde","ts":"2017-04-02T21:25:50.126Z"}
{"msg":"Has joined the channel.","username":"bobbiejc","ts":"2017-04-03T15:56:39.870Z","type":"uj"}
{"msg":"naive question.  Does gossip communicate between peers using GRPC?","username":"bobbiejc","ts":"2017-04-03T15:57:20.177Z"}
{"msg":"and .. is it involved in the dissemination of blocks from the ordering service?  ","username":"bobbiejc","ts":"2017-04-03T15:59:13.482Z"}
{"msg":"@david.enyeart ^^","username":"bobbiejc","ts":"2017-04-03T15:59:29.360Z"}
{"msg":"@bobbiejc yes. It uses the same gRPC server as the peer","username":"yacovm","ts":"2017-04-03T16:17:02.049Z"}
{"msg":"and regarding the dissemination - correct","username":"yacovm","ts":"2017-04-03T16:17:08.882Z"}
{"msg":"for leader to non-leader peers Gossip is used.  How about from ordering service to leaders?  Is that still Gossip (over gRPC)?","username":"dave.enyeart","ts":"2017-04-03T16:17:50.467Z"}
{"msg":"no","username":"yacovm","ts":"2017-04-03T16:20:59.066Z"}
{"msg":"that code is in `core/deliveryservice`","username":"yacovm","ts":"2017-04-03T16:21:08.399Z"}
{"msg":"but... it sort-of goes through gossip","username":"yacovm","ts":"2017-04-03T16:21:29.430Z"}
{"msg":"I mean package wise","username":"yacovm","ts":"2017-04-03T16:21:46.031Z"}
{"msg":"Bobbie is trying to explain to some newbies (that dont know the code).  so conceptually can you explain sort-of","username":"dave.enyeart","ts":"2017-04-03T16:21:49.567Z"}
{"msg":"not communication wise","username":"yacovm","ts":"2017-04-03T16:21:51.550Z"}
{"msg":"ah ","username":"yacovm","ts":"2017-04-03T16:21:53.365Z"}
{"msg":"so don't mention it","username":"yacovm","ts":"2017-04-03T16:21:55.931Z"}
{"msg":"depends on whether you want to know the code, or want to know the big picture","username":"yacovm","ts":"2017-04-03T16:22:11.209Z"}
{"msg":"so from big picture, we can just say that leader peers get blocks from ordering service via grpc?","username":"dave.enyeart","ts":"2017-04-03T16:22:35.984Z"}
{"msg":"yeah directly via gRPC by calling `Deliver` on the ordering service","username":"yacovm","ts":"2017-04-03T16:23:45.583Z"}
{"msg":"ok cool.  and furthermore dissemination between leader peers and non-leaders is via gossip","username":"dave.enyeart","ts":"2017-04-03T16:24:07.635Z"}
{"msg":"is Gossip used anywhere besides state transfer and leader to non-leader dissemination?","username":"dave.enyeart","ts":"2017-04-03T16:24:55.008Z"}
{"msg":"what do you mean anywhere","username":"yacovm","ts":"2017-04-03T16:25:20.863Z"}
{"msg":"as a function for fabric?","username":"yacovm","ts":"2017-04-03T16:25:46.302Z"}
{"msg":"are these the only two functional interactions that gossis is involved in?  1)  state transfer and 2 ) leader to non-leader dissemination","username":"dave.enyeart","ts":"2017-04-03T16:25:52.151Z"}
{"msg":"right","username":"dave.enyeart","ts":"2017-04-03T16:26:03.755Z"}
{"msg":"yeah basically","username":"yacovm","ts":"2017-04-03T16:26:59.278Z"}
{"msg":"ok thx","username":"dave.enyeart","ts":"2017-04-03T16:27:07.579Z"}
{"msg":"np","username":"yacovm","ts":"2017-04-03T16:27:09.830Z"}
{"msg":"thanks!","username":"bobbiejc","ts":"2017-04-03T17:08:28.687Z"}
{"msg":"Given this message in FAB-2949, am I right to assume that this functionality is not yet in?\n\n> Peer to Ordering service: The configuration blocks come with a set of endpoints of ordering service nodes. We (Haifa team) are working on a set of change sets, that enable the peer to re-connect to different ordering service nodes out of the set defined in the configuration block, should the current ordering service node become unreachable.","username":"kostas","ts":"2017-04-03T21:10:26.820Z"}
{"msg":"Given this message in [FAB-2949](https://jira.hyperledger.org/browse/FAB-2949), am I right to assume that this functionality is not yet in?\n\n> Peer to Ordering service: The configuration blocks come with a set of endpoints of ordering service nodes. We (Haifa team) are working on a set of change sets, that enable the peer to re-connect to different ordering service nodes out of the set defined in the configuration block, should the current ordering service node become unreachable.","username":"kostas","ts":"2017-04-03T21:10:26.820Z"}
{"msg":"@kostas there is still one working item in progress to finalize this","username":"C0rWin","ts":"2017-04-03T21:23:10.657Z"}
{"msg":"@COrW","username":"kostas","ts":"2017-04-03T21:23:25.388Z"}
{"msg":"there is no reconnection strategy to ordering service committed yet","username":"C0rWin","ts":"2017-04-03T21:23:51.086Z"}
{"msg":"@C0rWin: Got it, thanks. Can you @ me and @mrshah-ibm when this is merged?","username":"kostas","ts":"2017-04-03T21:24:04.935Z"}
{"msg":"Has joined the channel.","username":"mrshah-ibm","ts":"2017-04-03T21:24:05.023Z","type":"uj"}
{"msg":"Sure","username":"C0rWin","ts":"2017-04-03T21:24:19.958Z"}
{"msg":"I can provide you the JIRA item to track","username":"C0rWin","ts":"2017-04-03T21:24:32.058Z"}
{"msg":"That'll be great.","username":"kostas","ts":"2017-04-03T21:24:39.384Z"}
{"msg":"Also, I am dealing with an issue where the restarted peer cannot read blocks from a restarted orderer. Looking at the logs now, from your side what is the component I should be focusing on? I am guessing `deliveryClient` right?","username":"kostas","ts":"2017-04-03T21:27:30.407Z"}
{"msg":"yep","username":"yacovm","ts":"2017-04-03T21:32:04.594Z"}
{"msg":"@kostas https://jira.hyperledger.org/browse/FAB-2759","username":"C0rWin","ts":"2017-04-03T21:33:33.225Z"}
{"msg":"I am running a test, with two orgs, create a channel, and attempt peers to join the channel but I see error in peer logs; gossip is saying: \"Tried joining channel test1 but our org( DEFAULT ), isn't among the orgs of the channel: [PeerOrg1 PeerOrg2] , aborting.\"  Can anyone suggest anything that might be configured wrong? Why is gossip on the peer using \"DEFAULT\" instead of PeerOrg1? I am trying to run this inside vagrant, using PTE and node sdk; a colleague does not see the error when running same test without using vagrant, so I think the certs are all correct, which is why I am confused.","username":"scottz","ts":"2017-04-05T15:35:23.864Z"}
{"msg":"Immediately after, I see another log (I think the ascii translation of the bytes is \"testOrg1\"):    [gossip/gossip#172.19.0.5:7051] UpdateChannelMetadata -> DEBU 2c0 No such channel [116 101 115 116 79 114 103 49]","username":"scottz","ts":"2017-04-05T15:37:03.834Z"}
{"msg":"Immediately after, I see another log (I think the ascii translation of the bytes is \"test1\"):    [gossip/gossip#172.19.0.5:7051] UpdateChannelMetadata -> DEBU 2c0 No such channel [116 101 115 116 49]","username":"scottz","ts":"2017-04-05T15:37:03.834Z"}
{"msg":"... using git commit commit fa3d88cd Release 1.0.0-alpha","username":"scottz","ts":"2017-04-05T15:39:35.249Z"}
{"msg":"Hey @scottz .\nThis is a message that the gossip layer prints in order to notify to the operator that the peer's MSP-ID (DEFAULT) isn't one of the organizations in the configuration block.","username":"yacovm","ts":"2017-04-05T17:20:46.873Z"}
{"msg":"I guess the peer has started with a wrong MSP ID config","username":"yacovm","ts":"2017-04-05T17:21:08.479Z"}
{"msg":"the certs might be ok but the MSP_ID isn't derived from the certs, but from `core/peer.yaml`","username":"yacovm","ts":"2017-04-05T17:21:32.835Z"}
{"msg":"now, the \"No such channel\" message you see- is that the gossip component received a metadata update invocation from the peer (upper layers) but since the \"join channel\" on the gossip failed, it doesn't know what to do with it","username":"yacovm","ts":"2017-04-05T17:22:25.012Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L240 this sets that value","username":"yacovm","ts":"2017-04-05T17:23:16.608Z"}
{"msg":"@yacovm  In docker-compose.yml, for peer0 and peer1, we had set CORE_PEER_LOCALMSPID=Peer1MSP, which should override the value \"DEFAULT\" defined in fabric/peer/core.yaml.","username":"scottz","ts":"2017-04-05T18:08:22.712Z"}
{"msg":"Even so- why is it Peer1MSP and not as the log error wants you to? PeerOrg1?","username":"yacovm","ts":"2017-04-05T18:10:08.968Z"}
{"msg":"Peer1MSP is the ID of the organization. (DEFAULT is the chainID too.) PeerOrg1 is the Name.orgListFromConfig() returns the list of names.","username":"scottz","ts":"2017-04-05T19:34:56.783Z"}
{"msg":"They *have* to be the same in the configtx.yaml ","username":"yacovm","ts":"2017-04-05T19:38:18.059Z"}
{"msg":"Ummm, that makes no sense. First, the code should not print an ID and compare it to names. Second: then why do we have two variables? We should eliminate one. Third: values are not the same for example in fabric/common/configtx/tool/configtx.yaml Organizations / &OrdererOrg1 (Name:OrdererOrg1, ID:Orderer1MSP)","username":"scottz","ts":"2017-04-05T21:02:17.282Z"}
{"msg":">  First, the code should not print an ID and compare it to names\nWhich code? The code that prints the log you described in gossip?\n> Second: then why do we have two variables? We should eliminate one. \nI have said that long ago, but I do not make the calls. And I guess you mean two config options, not variables, right?\n> Third: values are not the same for example in fabric/common/configtx/tool/configtx.yaml\nThey should be the same for the peers, if you want things to work.","username":"yacovm","ts":"2017-04-05T21:05:13.098Z"}
{"msg":"yes. yes. yes, ok. I will create 3 bugs for these items, and a 4th bug for the original error I was asking about \"Tried joining channel ...\".  Maybe one or more will not be fixed, but we will try.","username":"scottz","ts":"2017-04-05T21:08:19.442Z"}
{"msg":"wait","username":"yacovm","ts":"2017-04-05T21:08:42.337Z"}
{"msg":"wait","username":"yacovm","ts":"2017-04-05T21:08:47.607Z"}
{"msg":"3 bugs?","username":"yacovm","ts":"2017-04-05T21:08:48.938Z"}
{"msg":"what's the first?","username":"yacovm","ts":"2017-04-05T21:08:55.876Z"}
{"msg":"about the 4th one","username":"yacovm","ts":"2017-04-05T21:09:14.225Z"}
{"msg":"How is this a bug?","username":"yacovm","ts":"2017-04-05T21:09:17.804Z"}
{"msg":"This is a warning that I put in the code, on request of @bmos299 ","username":"yacovm","ts":"2017-04-05T21:09:30.106Z"}
{"msg":"Has joined the channel.","username":"bmos299","ts":"2017-04-05T21:09:30.172Z","type":"uj"}
{"msg":"where is the bug exactly? ","username":"yacovm","ts":"2017-04-05T21:09:41.781Z"}
{"msg":"@scottz hi, can you please explain, how misconfiguration turned to be the bug?","username":"C0rWin","ts":"2017-04-05T21:15:07.605Z"}
{"msg":"I mean there is clearly wrong configuration provided","username":"C0rWin","ts":"2017-04-05T21:15:25.291Z"}
{"msg":"you've been alerted about it","username":"C0rWin","ts":"2017-04-05T21:15:31.748Z"}
{"msg":"what is the bug here?","username":"C0rWin","ts":"2017-04-05T21:15:35.627Z"}
{"msg":"So I understand that misconfiguration itself is a bug, but you just need to fix and provide a correct one","username":"C0rWin","ts":"2017-04-05T21:16:27.810Z"}
{"msg":"or you would like to be alerted in different way?","username":"C0rWin","ts":"2017-04-05T21:16:45.749Z"}
{"msg":"also how this gossip related?","username":"C0rWin","ts":"2017-04-05T21:16:55.939Z"}
{"msg":"1. bug is for inconsistency in the log:  \"our org ( ID ) isn't among ( list of Org Names )\". ","username":"scottz","ts":"2017-04-05T21:17:39.170Z"}
{"msg":"This is not an inconsistency","username":"yacovm","ts":"2017-04-05T21:17:54.406Z"}
{"msg":"this is on purpose","username":"yacovm","ts":"2017-04-05T21:18:02.669Z"}
{"msg":"it prints the name of your org","username":"yacovm","ts":"2017-04-05T21:18:07.792Z"}
{"msg":"and the names of the orgs in the block","username":"yacovm","ts":"2017-04-05T21:18:13.307Z"}
{"msg":"no it does not.","username":"scottz","ts":"2017-04-05T21:18:18.474Z"}
{"msg":"it prints the ID of the org","username":"scottz","ts":"2017-04-05T21:18:22.635Z"}
{"msg":"and the names of the orgs in the block.","username":"scottz","ts":"2017-04-05T21:18:36.419Z"}
{"msg":"(2.) The whole thing about the name and ID being required to be the same ... I will create a different bug for that one.","username":"scottz","ts":"2017-04-05T21:19:25.151Z"}
{"msg":"exactly!","username":"yacovm","ts":"2017-04-05T21:19:36.096Z"}
{"msg":"that's what its supposed to print :)","username":"yacovm","ts":"2017-04-05T21:19:43.404Z"}
{"msg":"why don't you just print both the org name AND org ID and state that the org name and ID must match for gossip to work, plus it must be in the list of possible org names","username":"scottz","ts":"2017-04-05T21:22:15.419Z"}
{"msg":" ... if indeed that is a requirement - and I have not heard a reason WHY that must be so.","username":"scottz","ts":"2017-04-05T21:22:43.646Z"}
{"msg":"there is no such thing as org name","username":"yacovm","ts":"2017-04-05T21:23:02.138Z"}
{"msg":"to the peer there is only org ID","username":"yacovm","ts":"2017-04-05T21:23:37.157Z"}
{"msg":"as for the rest","username":"yacovm","ts":"2017-04-05T21:23:50.558Z"}
{"msg":"it's up to the operator of the environment to take care that the org ID of the peer matches one of the orgs in the config block","username":"yacovm","ts":"2017-04-05T21:24:31.939Z"}
{"msg":">  ... if indeed that is a requirement - and I have not heard a reason WHY that must be so. \nOK, this is a different problem, still not a bug though. maybe a JIRA story at best","username":"yacovm","ts":"2017-04-05T21:25:01.314Z"}
{"msg":"> ... if indeed that is a requirement - and I have not heard a reason WHY that must be so.\n^^^ This is very explicit requirement, since you need to make sure peer belongs to the org and eligible to participate","username":"C0rWin","ts":"2017-04-05T21:27:36.211Z"}
{"msg":"Profiles:\n\n    # SampleSingleMSPSolo defines a configuration which contains a single MSP\n    # definition (the MSP sampleconfig).\n    testOrg:\n        Orderer:\n            <<: *OrdererDefaults\n            Organizations:\n                - *OrdererOrg1\n        Application:\n            <<: *ApplicationDefaults\n            Organizations:\n                - *PeerOrg1\n                - *PeerOrg2\nOrganizations:\n\n    - &PeerOrg1\n        Name: PeerOrg1\n        ID: Peer1MSP\n","username":"scottz","ts":"2017-04-05T21:30:51.936Z"}
{"msg":"So Name and ID needs to be the same","username":"yacovm","ts":"2017-04-05T21:31:30.168Z"}
{"msg":"So Name and ID need to be the same","username":"yacovm","ts":"2017-04-05T21:31:30.168Z"}
{"msg":"As you can see from this snippet of a configtx.yaml file, the PeerOrg contains both a Name and an ID. Are you saying they need to be the same?","username":"scottz","ts":"2017-04-05T21:31:30.632Z"}
{"msg":"yes","username":"C0rWin","ts":"2017-04-05T21:32:16.798Z"}
{"msg":"Why isn't that explained in this file configtx.yaml?","username":"scottz","ts":"2017-04-05T21:35:30.346Z"}
{"msg":"An MSP ID is not the same as an Org name.","username":"scottz","ts":"2017-04-05T21:35:52.005Z"}
{"msg":"Org name, is just a friendly representation of an organization","username":"yacovm","ts":"2017-04-05T21:36:18.444Z"}
{"msg":"but in practice it needs to be the same","username":"yacovm","ts":"2017-04-05T21:36:27.499Z"}
{"msg":"in order for stuff to work","username":"yacovm","ts":"2017-04-05T21:36:33.169Z"}
{"msg":"this was discussed ","username":"yacovm","ts":"2017-04-05T21:36:43.380Z"}
{"msg":"before the alpha version was released","username":"yacovm","ts":"2017-04-05T21:36:59.728Z"}
{"msg":"regarding why it's not explained- maybe you have a point there. You can open a bug for that I guess","username":"yacovm","ts":"2017-04-05T21:37:22.886Z"}
{"msg":"ok.","username":"scottz","ts":"2017-04-05T21:38:24.613Z"}
{"msg":"And I still say your code illegally compares an ID with Names (even if they are \"suppposed to be the same\"), and it would help if you printed both the name and the ID in this log. Can you agree to that?","username":"scottz","ts":"2017-04-05T21:40:48.344Z"}
{"msg":"No, because I only have access to one of them","username":"yacovm","ts":"2017-04-05T21:41:13.233Z"}
{"msg":"That's the API we were given","username":"yacovm","ts":"2017-04-05T21:41:19.564Z"}
{"msg":"I work with what I have","username":"yacovm","ts":"2017-04-05T21:41:29.217Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/common/config/api.go#L48\nThis ^ is the API that needs to be changed in order to support what you want","username":"yacovm","ts":"2017-04-05T21:46:58.737Z"}
{"msg":"You're basically saying- why are 2 configuration attributes are in the configtx.yaml file, but they need to be the same?\nI agree, but the people that are in charge of the config, and on the API above that I put in the link are roaming in the #fabric-consensus  channel :)","username":"yacovm","ts":"2017-04-05T21:48:17.878Z"}
{"msg":"I can not do anything about that, as I only consume an API that I was given.","username":"yacovm","ts":"2017-04-05T21:48:36.173Z"}
{"msg":"How can they have anything to say about the PEER's Name and ID config parameters? Or are you saying they must match within an Orderer org too?","username":"scottz","ts":"2017-04-05T21:52:59.638Z"}
{"msg":"it has nothing to do with a peer's name","username":"yacovm","ts":"2017-04-05T21:53:22.841Z"}
{"msg":"a peer belongs to some organization","username":"yacovm","ts":"2017-04-05T21:53:43.399Z"}
{"msg":"the organization is identified by the MSP id","username":"yacovm","ts":"2017-04-05T21:53:51.139Z"}
{"msg":"Having said that, @scottz I'm off for the rest of the night. \nIf you have deeper questions about the configuration I suggest you ask in #fabric-consensus  as they are responsible for that.\nIf you have further questions about gossip, you are free to ask here.","username":"yacovm","ts":"2017-04-05T21:55:36.425Z"}
{"msg":"(But I'm going now so... this would have to wait for tomorrow :) )","username":"yacovm","ts":"2017-04-05T21:56:11.612Z"}
{"msg":"(But I'm going now so... this would have to wait for tomorrow :) or if C0rwin is still awake)","username":"yacovm","ts":"2017-04-05T21:56:11.612Z"}
{"msg":"ok","username":"scottz","ts":"2017-04-05T21:57:06.755Z"}
{"msg":"@yacovm you could have mentioned that you already opened FAB-2499","username":"scottz","ts":"2017-04-05T22:52:43.547Z"}
{"msg":"Have you already opened another one?","username":"yacovm","ts":"2017-04-05T22:53:26.703Z"}
{"msg":"I guess this was not very clear what exactly you are trying to claim","username":"C0rWin","ts":"2017-04-05T23:31:38.299Z"}
{"msg":"as you stated there is something wrong from gossip functionality perpective","username":"C0rWin","ts":"2017-04-05T23:32:14.225Z"}
{"msg":"and clear gossip acted as expected","username":"C0rWin","ts":"2017-04-05T23:32:34.105Z"}
{"msg":"Has joined the channel.","username":"AmberZhang","ts":"2017-04-06T07:16:15.553Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lizhih","ts":"2017-04-06T09:43:55.727Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=neqQ3pPjWFvTrAyPK) @yacovm Actually, Organizations returns ApplicationOrg, which contains Org, which contains method MSPID() in addition to Name(). Maybe that method did not exist before, but it seems to me that you can add a bit of code to orgListFromConfig() that digs a bit deeper for the MSPID instead of just taking the Name? Then you would be comparing ID to a list of IDs, and you would not be forcing user to set ID equal to Name.","username":"scottz","ts":"2017-04-06T16:21:15.458Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=neqQ3pPjWFvTrAyPK","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=neqQ3pPjWFvTrAyPK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Yeah, @scottz , nice observation! :) @C0rWin  what do you think? ","username":"yacovm","ts":"2017-04-06T16:34:06.734Z"}
{"msg":"thanks. I agree that seems to be the best solution, and would clean up all the items I mentioned. hopefully that will work.","username":"scottz","ts":"2017-04-06T16:50:34.497Z"}
{"msg":"@yacovm @C0rWin can you guys add a note to FAB-2499 (and maybe change the title), and take ownership of it, to get that done? if so, then I won't create any more bugs/issues.","username":"scottz","ts":"2017-04-07T13:33:02.258Z"}
{"msg":"This has nothing to do with gossip, please ask #fabric-consensus ","username":"C0rWin","ts":"2017-04-07T13:34:37.374Z"}
{"msg":"They own the API","username":"C0rWin","ts":"2017-04-07T13:34:50.071Z"}
{"msg":"I think he pointed out a way of not changing the API though","username":"yacovm","ts":"2017-04-07T13:35:07.953Z"}
{"msg":"Scott, we'll take a closer look next week","username":"yacovm","ts":"2017-04-07T13:35:17.928Z"}
{"msg":"and discuss it internally","username":"yacovm","ts":"2017-04-07T13:35:21.255Z"}
{"msg":"ok. let me know next week. thanks.","username":"scottz","ts":"2017-04-07T13:38:29.598Z"}
{"msg":"Has left the channel.","username":"mychewcents","ts":"2017-04-09T12:09:05.772Z","type":"ul"}
{"msg":"Has joined the channel.","username":"zian","ts":"2017-04-10T13:58:34.201Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jeroiraz","ts":"2017-04-10T18:40:30.595Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ratnakar","ts":"2017-04-11T13:41:40.691Z","type":"uj"}
{"msg":"@yacovm In a two peer organization when CORE_PEER_GOSSIP_ORGLEADER=true for an anchor peer in each organization, while CORE_PEER_GOSSIP_ORGLEADER=false only on non-anchor peers, then processing transactions on those non-anchor peers fails with following error\n```\n failed to obtain cds for end2end - transaction not found end2end/mychannel\n```\n\nIs this a valid configuation ? If not, then why not ?","username":"Ratnakar","ts":"2017-04-11T16:47:48.703Z"}
{"msg":"@yacovm @C0rWin , In a two peer organization when CORE_PEER_GOSSIP_ORGLEADER=true for an anchor peer in each organization, while CORE_PEER_GOSSIP_ORGLEADER=false only on non-anchor peers, then processing transactions on those non-anchor peers fails with following error\n```\n failed to obtain cds for end2end - transaction not found end2end/mychannel\n```\n\nIs this a valid configuation ? If not, then why not ?","username":"Ratnakar","ts":"2017-04-11T16:47:48.703Z"}
{"msg":"you have a peer in one of the organizations that is set to ORGLEADER=true and the other peer shows you this error?","username":"yacovm","ts":"2017-04-11T16:50:34.191Z"}
{"msg":"Anyway- I just checked:\nI modified and set useleaderelection to false in the peer-base and then turned on orgleader on the anchor peers, and ran the e2e test and it passed","username":"yacovm","ts":"2017-04-11T16:54:11.412Z"}
{"msg":"so \"works for me\" :)","username":"yacovm","ts":"2017-04-11T16:54:24.037Z"}
{"msg":"@yacovm My bad , I should have tried e2e_cli example too , I was using docker-compose file from node-sdk repo https://github.com/hyperledger/fabric-sdk-node/blob/master/test/fixtures/docker-compose.yaml\n\nThe difference I see between thes two docker-compose files is that , In e2e_cli example we have `CORE_PEER_GOSSIP_SKIPHANDSHAKE=true`","username":"Ratnakar","ts":"2017-04-11T18:14:53.555Z"}
{"msg":"yep. that should be there too.","username":"yacovm","ts":"2017-04-11T18:15:15.155Z"}
{"msg":"but you could've also looked at the logs","username":"yacovm","ts":"2017-04-11T18:15:23.112Z"}
{"msg":"gossip complains when this option isn't set","username":"yacovm","ts":"2017-04-11T18:15:29.925Z"}
{"msg":"and logs a WARN/ERR","username":"yacovm","ts":"2017-04-11T18:15:33.462Z"}
{"msg":"I disabled DEBUG as i see too much logging when I ran some tests ...","username":"Ratnakar","ts":"2017-04-11T18:16:59.953Z"}
{"msg":"Thankyou for point it I shall check it out ","username":"Ratnakar","ts":"2017-04-11T18:17:21.165Z"}
{"msg":"I don't think it's in debug","username":"yacovm","ts":"2017-04-11T18:18:25.389Z"}
{"msg":"So I understand  when TLS is enabled this flag is must be set, but I would also like to know why we don't  see any issue when we send transactions on `Anchor peers`.","username":"Ratnakar","ts":"2017-04-11T18:19:32.532Z"}
{"msg":"So now I understand  when TLS is enabled this flag is must be set `CORE_PEER_GOSSIP_SKIPHANDSHAKE=true`, but I would also like to know why we don't  see any issue when we send transactions on `Anchor peers`.","username":"Ratnakar","ts":"2017-04-11T18:19:32.532Z"}
{"msg":"Can you please explain ","username":"Ratnakar","ts":"2017-04-11T18:19:39.174Z"}
{"msg":"I don't understand what you're asking","username":"yacovm","ts":"2017-04-11T18:20:41.562Z"}
{"msg":"what transactions","username":"yacovm","ts":"2017-04-11T18:20:44.307Z"}
{"msg":"Invokes/Query on anchor peer works but fails on non-anchor peers","username":"Ratnakar","ts":"2017-04-11T18:21:21.500Z"}
{"msg":"ah because they can't communicate because of TLS expects mutual-TLS, unless SKIPHANDSHAKE is true","username":"yacovm","ts":"2017-04-11T18:22:43.158Z"}
{"msg":"we don't have mutual TLS yet","username":"yacovm","ts":"2017-04-11T18:22:47.961Z"}
{"msg":"so we use on-way TLS","username":"yacovm","ts":"2017-04-11T18:22:52.179Z"}
{"msg":"since you made one non-leader and one-leader, if they can't communicate... they can't send each other blocks","username":"yacovm","ts":"2017-04-11T18:23:14.797Z"}
{"msg":"Thankyou @yacovm that explains all :)","username":"Ratnakar","ts":"2017-04-11T18:35:42.315Z"}
{"msg":"np","username":"yacovm","ts":"2017-04-11T18:36:07.689Z"}
{"msg":"Has joined the channel.","username":"Lin-YiTang","ts":"2017-04-11T21:20:04.528Z","type":"uj"}
{"msg":"Has joined the channel.","username":"subbu165","ts":"2017-04-12T11:03:05.037Z","type":"uj"}
{"msg":"Has left the channel.","username":"subbu165","ts":"2017-04-12T11:03:39.008Z","type":"ul"}
{"msg":"Can peers only perform a gossip bootstrap within their own organization?","username":"harrijk","ts":"2017-04-12T17:37:41.447Z"}
{"msg":"The bootstrap should only contain such","username":"yacovm","ts":"2017-04-12T18:03:10.974Z"}
{"msg":"Does it only make sense to set a gossip external endpoint on a peer that has been designated an anchor peer as defined in a configtx.yaml file?","username":"harrijk","ts":"2017-04-12T18:11:02.448Z"}
{"msg":"So- I'd say, anchor peers *should have* external endpoints","username":"yacovm","ts":"2017-04-12T18:14:35.079Z"}
{"msg":"for other peers- depends on installation.","username":"yacovm","ts":"2017-04-12T18:14:44.002Z"}
{"msg":"if you think a peer has an external endpoint (routable from other orgs) and you have a mechanism for resurrecting it, in case it dies, I'd advise simply make it an anchor peer","username":"yacovm","ts":"2017-04-12T18:15:26.923Z"}
{"msg":"you can have many anchor peers per org","username":"yacovm","ts":"2017-04-12T18:15:32.137Z"}
{"msg":"I'm wondering what mechanism gossip is using to ensure that an enrollment certificate belong to a peer and not a client? Is this somewhere in a config txn or in the cert or other?","username":"troyronda","ts":"2017-04-13T00:05:36.487Z"}
{"msg":"I'm wondering what mechanism gossip is using to ensure that an enrollment certificate belongs to a peer and not a client? Is this somewhere in a config txn or in the cert or other?","username":"troyronda","ts":"2017-04-13T00:05:36.487Z"}
{"msg":"@troyronda clients don't have the code to speak with peers. I'm not sure what is your concern here","username":"yacovm","ts":"2017-04-13T06:03:09.062Z"}
{"msg":"You should be worried from something else, I'd say- that someone takes a peer, and gives it a client certificate, and that will be validated. No?","username":"yacovm","ts":"2017-04-13T06:04:17.083Z"}
{"msg":"I don't understand - they can download the peer code from github :)","username":"troyronda","ts":"2017-04-13T10:56:58.681Z"}
{"msg":"My concern is that a client who got a certificate and with that is allowed to pretend to be a peer, they could intercept all the gossip traffic","username":"troyronda","ts":"2017-04-13T10:58:05.460Z"}
{"msg":"This must not be allowed especially since clients should not see all the data in the ledger network.","username":"troyronda","ts":"2017-04-13T10:58:30.304Z"}
{"msg":"This must not be allowed especially since clients must not see all the data in the ledger network.","username":"troyronda","ts":"2017-04-13T10:58:30.304Z"}
{"msg":"If you are implying that not having user chaincode takes away the attack, this is not the case -- the blocks and gossip traffic can have sensitive data that doesn't require code to interpret.","username":"troyronda","ts":"2017-04-13T11:10:03.400Z"}
{"msg":"user chaincode?","username":"yacovm","ts":"2017-04-13T11:16:02.108Z"}
{"msg":"look","username":"yacovm","ts":"2017-04-13T11:16:33.461Z"}
{"msg":"I'll exlpain","username":"yacovm","ts":"2017-04-13T11:16:36.428Z"}
{"msg":"In gossip, in order for 2 peers to communicate they need to perform a secure handshake","username":"yacovm","ts":"2017-04-13T11:17:13.778Z"}
{"msg":"the secure handshake uses the signing identity of the peer (meaning- the peer needs a private key, and a peer's identity)","username":"yacovm","ts":"2017-04-13T11:17:56.017Z"}
{"msg":"Now... if from some reason, a client's certificate and a client's private can be used for that - that's a problem but there is nothing that can be done in the gossip code for that since we just use the MSP infrastructure","username":"yacovm","ts":"2017-04-13T11:19:50.185Z"}
{"msg":"ok - i mentioned the chaincode because that's the code the client wouldn't have. the rest of the peer code, they can obtain.","username":"troyronda","ts":"2017-04-13T11:20:42.122Z"}
{"msg":"who should i ask regarding the MSP infrastrucuture","username":"troyronda","ts":"2017-04-13T11:20:51.852Z"}
{"msg":"@elli-androulaki ","username":"yacovm","ts":"2017-04-13T11:22:29.261Z"}
{"msg":"Has joined the channel.","username":"elli-androulaki","ts":"2017-04-13T11:22:29.389Z","type":"uj"}
{"msg":"The question you need to ask is - is there a way to differentiate from a client's cert to a peer's cert?","username":"yacovm","ts":"2017-04-13T11:23:38.964Z"}
{"msg":"@smithbk ^^","username":"troyronda","ts":"2017-04-13T11:24:01.742Z"}
{"msg":"Has joined the channel.","username":"smithbk","ts":"2017-04-13T11:24:01.804Z","type":"uj"}
{"msg":"it also depends on the MSP types that you have in the system","username":"yacovm","ts":"2017-04-13T11:24:04.735Z"}
{"msg":"if for example you have both an MSP of type X and an MSP of type Y, and the PKI- infrastructure of the \"network\" only provides identities of type X to clients, and identities of type Y to peers, then you're safe, no?","username":"yacovm","ts":"2017-04-13T11:24:50.211Z"}
{"msg":"Yeh.. but there are ongoing discussions on restricting eventHub to needing clients to be on the same MSP as the peer in 1.0 ( @binhn)","username":"troyronda","ts":"2017-04-13T11:27:28.488Z"}
{"msg":"Has joined the channel.","username":"binhn","ts":"2017-04-13T11:27:28.551Z","type":"uj"}
{"msg":"I am aware of these discussions","username":"yacovm","ts":"2017-04-13T11:28:47.376Z"}
{"msg":"But I still don't see your point regarding gossip","username":"yacovm","ts":"2017-04-13T11:28:57.486Z"}
{"msg":"aha I see","username":"yacovm","ts":"2017-04-13T11:29:05.044Z"}
{"msg":"You're saying the following:","username":"yacovm","ts":"2017-04-13T11:29:09.938Z"}
{"msg":"since a client can connect to a peer, it means its certificate is (perhaps) likely to be validated by the peer's MSP - and that means that a client's certificate can be used as a peer certficate","username":"yacovm","ts":"2017-04-13T11:29:48.971Z"}
{"msg":"right?","username":"yacovm","ts":"2017-04-13T11:29:50.447Z"}
{"msg":"yes","username":"troyronda","ts":"2017-04-13T11:30:16.675Z"}
{"msg":"Well- I'd say it's a sound concern, but it's not a gossip issue at all :) \nWe just blindly invoke methods that the MSP layer provides. If the MSP layer can make it so a client's certificate can not be validated by the implementation of the API between gossip and the MSP, then you're safe.","username":"yacovm","ts":"2017-04-13T11:31:55.733Z"}
{"msg":"i hear ya - i was just browsing the gossip code to see if there was something additional (didn't find so asked) :)","username":"troyronda","ts":"2017-04-13T11:32:56.249Z"}
{"msg":"understood. ","username":"yacovm","ts":"2017-04-13T11:33:18.752Z"}
{"msg":"The API I'm talking about, @troyronda  is in https://github.com/hyperledger/fabric/blob/master/gossip/api/crypto.go btw","username":"yacovm","ts":"2017-04-13T11:34:58.280Z"}
{"msg":"Right, essentially currently peers implicitly include in their \"trustzone\" nodes that are members of the same msp as the peer (have valid identities under the same MSP). The underlying assumption was here that msps map to orgs in a 1-1 fashion and that clients and peers do not need to be distinguished.","username":"elli-androulaki","ts":"2017-04-13T14:39:59.348Z"}
{"msg":"Clients must not be trusted at the same level as peers","username":"troyronda","ts":"2017-04-13T14:52:29.424Z"}
{"msg":"Has joined the channel.","username":"vpaprots","ts":"2017-04-13T17:09:11.881Z","type":"uj"}
{"msg":"Has joined the channel.","username":"LordGoodman","ts":"2017-04-18T08:09:42.245Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Gaurav_Impro","ts":"2017-04-19T09:53:11.921Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ioctl","ts":"2017-04-22T16:34:29.776Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Willson","ts":"2017-04-25T14:27:43.933Z","type":"uj"}
{"msg":"@yacovm I'm looking for more info on the differences between the way peers talk to each other -- \"information-scoped messages\" as referenced here https://gerrit.hyperledger.org/r/#/c/8273/1 by @elli-androulaki -- when the peers were given their certs by multiple CA instances as compared to entirely separate MSPs (operating in one consortium/network whathaveyou)","username":"joe-alewine","ts":"2017-04-25T14:29:39.507Z"}
{"msg":"How would it influence decision making on behalf of potential users about whether to go with a single MSP with multiple instances as compared to multiple MSPs. I'm new to the docs team so I realize this might not be the ideal question/way to phrase the question","username":"joe-alewine","ts":"2017-04-25T14:31:17.125Z"}
{"msg":"can you point me to the line please?","username":"yacovm","ts":"2017-04-25T14:33:10.456Z"}
{"msg":"Lines 76 and 85. And I'm sorry, it's \"organization scoped messages\" not \"information\"","username":"joe-alewine","ts":"2017-04-25T14:34:54.311Z"}
{"msg":"ah ok I'll explain briefly ok?","username":"yacovm","ts":"2017-04-25T14:35:18.307Z"}
{"msg":"Sure. I appreciate it","username":"joe-alewine","ts":"2017-04-25T14:35:24.307Z"}
{"msg":"So in gossip there are messages that are sent between peers that are about a specific channel - in example, ledger blocks, or metadata information","username":"yacovm","ts":"2017-04-25T14:35:46.491Z"}
{"msg":"and the rest are messages sent between peers just for maintaining the infrastructure itself, like membership","username":"yacovm","ts":"2017-04-25T14:36:10.882Z"}
{"msg":"Maintaining it how? A \"hey is everyone still here?\" kind of thing?","username":"joe-alewine","ts":"2017-04-25T14:36:44.200Z"}
{"msg":"yeah","username":"yacovm","ts":"2017-04-25T14:36:48.873Z"}
{"msg":"ah wait you're in the docs team","username":"yacovm","ts":"2017-04-25T14:36:53.690Z"}
{"msg":"with Nick and co?","username":"yacovm","ts":"2017-04-25T14:36:57.265Z"}
{"msg":"Yeah. He gave me the think","username":"joe-alewine","ts":"2017-04-25T14:37:03.955Z"}
{"msg":"link","username":"joe-alewine","ts":"2017-04-25T14:37:07.575Z"}
{"msg":"ah","username":"yacovm","ts":"2017-04-25T14:37:12.400Z"}
{"msg":"so basically","username":"yacovm","ts":"2017-04-25T14:37:29.722Z"}
{"msg":"diff. MSPs are diff orgs","username":"yacovm","ts":"2017-04-25T14:37:50.379Z"}
{"msg":"Has joined the channel.","username":"rmohta","ts":"2017-04-25T14:39:59.161Z","type":"uj"}
{"msg":"Yeah I've got that. I'm working on gathering some information on a \"best practices\" doc and I wanted some more info on the differences. Is this ability to \"maintain the infrastructure\" a feature important enough that it might influence network starters on how they set up membership services? ","username":"joe-alewine","ts":"2017-04-25T14:40:26.400Z"}
{"msg":"so","username":"yacovm","ts":"2017-04-25T14:40:45.101Z"}
{"msg":"I'm a tad busy at the moment but since you're in the docs team we simply do a google hangout at a later point today?","username":"yacovm","ts":"2017-04-25T14:41:18.966Z"}
{"msg":"it's easier to explain that way ","username":"yacovm","ts":"2017-04-25T14:41:47.586Z"}
{"msg":"I've never done a google hangout before but I'll try to figure how","username":"joe-alewine","ts":"2017-04-25T14:43:11.262Z"}
{"msg":"@yacovm Doesn't seem too difficult, though of course saying that is tempting fate. If there's a time later today that's convenient, give me a heads up","username":"joe-alewine","ts":"2017-04-25T15:01:37.775Z"}
{"msg":"Thanks","username":"joe-alewine","ts":"2017-04-25T15:01:46.175Z"}
{"msg":"Has joined the channel.","username":"ashutosh_kumar","ts":"2017-04-25T15:02:15.522Z","type":"uj"}
{"msg":"maybe later on today","username":"yacovm","ts":"2017-04-25T15:04:38.526Z"}
{"msg":"I'm just really busy atm ","username":"yacovm","ts":"2017-04-25T15:04:43.459Z"}
{"msg":"I gotcha. No worries. And if not, tomorrow ","username":"joe-alewine","ts":"2017-04-25T15:05:13.370Z"}
{"msg":"I gotcha. No worries. And if not, some other time ","username":"joe-alewine","ts":"2017-04-25T15:05:13.370Z"}
{"msg":"@joe-alewine you still there?","username":"yacovm","ts":"2017-04-25T16:46:05.134Z"}
{"msg":"Stepped out for a few minutes. Just got back","username":"joe-alewine","ts":"2017-04-25T16:55:27.304Z"}
{"msg":"@yacovm ","username":"joe-alewine","ts":"2017-04-25T16:55:35.204Z"}
{"msg":"hmm ok so want to do a quick hangout?","username":"yacovm","ts":"2017-04-25T16:55:54.261Z"}
{"msg":"Has joined the channel.","username":"rangak","ts":"2017-04-26T04:05:44.617Z","type":"uj"}
{"msg":"Has left the channel.","username":"raghavsood","ts":"2017-04-26T04:23:20.842Z","type":"ul"}
{"msg":"Has joined the channel.","username":"swangbj","ts":"2017-04-26T09:35:11.103Z","type":"uj"}
{"msg":"Has joined the channel.","username":"LoveshHarchandani","ts":"2017-04-27T06:44:54.336Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mskim","ts":"2017-04-28T07:29:39.170Z","type":"uj"}
{"msg":"Has joined the channel.","username":"wsh_bob","ts":"2017-04-28T08:12:13.175Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vugranam","ts":"2017-04-28T12:13:30.511Z","type":"uj"}
{"msg":"Has left the channel.","username":"jkirke","ts":"2017-04-28T15:04:17.001Z","type":"ul"}
{"msg":"Has joined the channel.","username":"s.narayanan","ts":"2017-05-01T14:27:25.945Z","type":"uj"}
{"msg":"is it possible to turn gossip off ? Specifically we have a scenario where we have 2 orgs with 2 endorser nodes, each node being set up to receive blocks directly from orderer. In this scenario, the client is asking if gossip can be turned off altogether.  Appreciate instructions on how to do this. Thanks","username":"s.narayanan","ts":"2017-05-01T14:33:27.018Z"}
{"msg":"Can you share why is the client asking such a request? \nIs there some other problem that he's trying to avoid?","username":"yacovm","ts":"2017-05-01T14:38:34.197Z"}
{"msg":"Is it a logging verbosity issue?\nYou can make all peers connect directly to the ordering service by toggling these 2 environment variables:\nhttps://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L74-L83\nThe above makes the peer connect to the ordering service regardless what other peers say. ","username":"yacovm","ts":"2017-05-01T14:40:25.073Z"}
{"msg":"They are just interested in knowing if this is mandatory to use because in a small scale deployment they see it as unnecessary overhead. They understand as the number of nodes scale , there is benefit to using it.  Presume that if you want peers to connect to orderer, you need to specify use leader election: false and orgleader: true. However I presume in this case gossip is still used under the covers?","username":"s.narayanan","ts":"2017-05-01T14:57:58.119Z"}
{"msg":"It is always used if you have anchor peers","username":"yacovm","ts":"2017-05-01T15:12:50.744Z"}
{"msg":"Or bootstrap peers","username":"yacovm","ts":"2017-05-01T15:12:55.151Z"}
{"msg":"@yacovm   thanks.  Logical question is if it necessary to specify either (anchor or bootstrap).   Is it fair to say there is no way to disable gossip?","username":"s.narayanan","ts":"2017-05-01T15:41:37.713Z"}
{"msg":"well if you have 0 anchor peers in the channel","username":"yacovm","ts":"2017-05-01T16:34:45.659Z"}
{"msg":"in every channel","username":"yacovm","ts":"2017-05-01T16:34:50.923Z"}
{"msg":"and also no bootstrap peers","username":"yacovm","ts":"2017-05-01T16:34:59.998Z"}
{"msg":"then gossip doesn't do anything","username":"yacovm","ts":"2017-05-01T16:35:09.907Z"}
{"msg":"@yacovm thanks","username":"s.narayanan","ts":"2017-05-01T17:27:37.793Z"}
{"msg":"sure","username":"yacovm","ts":"2017-05-01T17:27:49.193Z"}
{"msg":"Has joined the channel.","username":"himansri","ts":"2017-05-04T11:27:17.216Z","type":"uj"}
{"msg":"Has joined the channel.","username":"William.Z","ts":"2017-05-04T13:05:13.523Z","type":"uj"}
{"msg":"Has joined the channel.","username":"akash42145","ts":"2017-05-08T04:08:14.169Z","type":"uj"}
{"msg":"Has joined the channel.","username":"amber-zhang","ts":"2017-05-09T00:53:46.412Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bhargav18","ts":"2017-05-09T22:39:35.962Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thakkarparth007","ts":"2017-05-10T12:50:35.302Z","type":"uj"}
{"msg":"Has joined the channel.","username":"silentspark","ts":"2017-05-11T08:06:20.091Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eGDdJq3P4nmY8mp9x) @troyronda @elli-androulaki So today we cannot differentiate if a transaction was initiated by a client or a peer? Or which client (if I have multiple)?","username":"rmohta","ts":"2017-05-12T06:27:56.643Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eGDdJq3P4nmY8mp9x","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eGDdJq3P4nmY8mp9x","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rmohta, this is correct; at least the type of the identity is not exposed directly by the interface of the MSP. However, one can leverage the OU field in X.509 certificates and an OU suffice/prefix to denote a peer/client.","username":"elli-androulaki","ts":"2017-05-12T07:02:07.431Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=5nQvaHydFMF7LfZsA) @elli-androulaki Cool. One last question - is that (OU field) something we can extract in chaincode? Or it should be SDK's job to send that as part of invoke to chain code?","username":"rmohta","ts":"2017-05-12T18:13:59.757Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=5nQvaHydFMF7LfZsA","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=5nQvaHydFMF7LfZsA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rmohta, the chaincode can obtain the transaction creator's identity (marschalled SerializedIdentity structure). SerializedIdentity consists of the msp identifier of the MSP that identity belongs to and (for the default and only MSP supported currently by Fabric) a marshalled X.509 certificate. \nThe OU field is exportable currently only by manually (at the chaincode side) unmarshalling the creator's identity and the subsequent X.509 cert structure and leveraging X.509 cert lib to obtain the OU field. \nIn the future this will be easier as we will provide either some extension to the SHIM or some invocable system chaincode that would provide membership service provider calls based on the state of each MSP on the channel/chain. ","username":"elli-androulaki","ts":"2017-05-13T18:07:54.192Z"}
{"msg":"@rmohta, the chaincode can obtain the transaction creator's identity (marschalled SerializedIdentity structure). SerializedIdentity consists of the msp identifier of the MSP that identity belongs to and (for the default and only MSP supported currently by Fabric) a marshalled X.509 certificate. \nThe OU field is exportable currently only by manually (at the chaincode side) unmarshalling the creator's identity and the subsequent X.509 cert structure and leveraging X.509 cert lib to obtain the OU field. \n\nIn the future this will be easier as we aim to provide either some extension to the SHIM or some invocable (system?) chaincode that would provide membership service provider calls based on the state of each MSP on the channel/chain. A proposal for the design of this will be out post v1.","username":"elli-androulaki","ts":"2017-05-13T18:07:54.192Z"}
{"msg":"Has joined the channel.","username":"Amjadnz","ts":"2017-05-15T15:07:16.811Z","type":"uj"}
{"msg":"@elli-androulaki - thanks by the way it was very insightful.","username":"Amjadnz","ts":"2017-05-15T15:10:28.955Z"}
{"msg":"hello guys , maybe this question is a bit silly, does the orderer delivers blocks to commiter by gossip?","username":"Willson","ts":"2017-05-16T05:33:55.909Z"}
{"msg":"Well hello there, Willson","username":"rocket.cat","ts":"2017-05-16T05:33:55.942Z"}
{"msg":"@Willson some peers connect to the ordering service themselves and some not.\nThose that do not, receive blocks from other peers, via gossip","username":"yacovm","ts":"2017-05-16T06:34:12.160Z"}
{"msg":"thanks yacovm, how the peers that connect to the ordering service get block ?","username":"Willson","ts":"2017-05-16T06:57:00.291Z"}
{"msg":"@Willson via gRPC.\nin short - The peer sends a `Deliver` request to the ordering service with a descriptor of what to fetch (channel, which block to start from, etc.) and then it keeps the connection open and whenever new blocks are formed, they are pushed to the peer.","username":"yacovm","ts":"2017-05-16T08:45:14.685Z"}
{"msg":" Are only anchor peers of an organization allowed to gossip with (anchor) peers of other organizations?","username":"Senthil1","ts":"2017-05-16T08:53:14.914Z"}
{"msg":" Are only anchor peers of an organization allowed to gossip with (anchor) peers of other organizations? @yacovm ","username":"Senthil1","ts":"2017-05-16T08:53:14.914Z"}
{"msg":"@yacovm As I expected. but what port does the orderer connect to with peers?  7050? except for this not found in the configtx.yaml file and env variable ","username":"Willson","ts":"2017-05-16T09:13:54.390Z"}
{"msg":"The peers connect to the ordering service, port 7050 but obviously that's configurable","username":"yacovm","ts":"2017-05-16T09:23:32.250Z"}
{"msg":"it is found","username":"yacovm","ts":"2017-05-16T09:23:37.602Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/sampleconfig/configtx.yaml#L139","username":"yacovm","ts":"2017-05-16T09:24:00.340Z"}
{"msg":"@Willson ^^","username":"yacovm","ts":"2017-05-16T09:24:03.489Z"}
{"msg":"yep, it is existing in configtx.yaml, both the sdk client and peers connecting to ordering service are used 7050?","username":"Willson","ts":"2017-05-16T09:28:16.649Z"}
{"msg":"yes","username":"yacovm","ts":"2017-05-16T10:20:25.855Z"}
{"msg":"Has joined the channel.","username":"Michal Malka","ts":"2017-05-16T11:14:15.326Z","type":"uj"}
{"msg":"@yacovm  thank you for your replys","username":"Willson","ts":"2017-05-16T11:48:07.909Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=DCxJ25nuZRX5qR3Yi) @elli-androulaki @yacovm  some help needed here - if you can please? I want to decode the x509 cert from the chaincode. Using docker environment. Once I instantiate the chaincode I am calling the stub.GetCreator() method and passing to the x509.ParseCertificate - it is complaining about not finding msp.SerializedIdentity.","username":"Amjadnz","ts":"2017-05-18T06:03:54.161Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=DCxJ25nuZRX5qR3Yi","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=DCxJ25nuZRX5qR3Yi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"```x509.ParseCertificate(msp.SerializedIdentity(stub.GetCreator()).IdBytes())```","username":"Amjadnz","ts":"2017-05-18T06:04:04.193Z"}
{"msg":"```Error: Error endorsing chaincode: rpc error: code = 2 desc = Error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 \"# github.com/hyperledger/fabric/examples/chaincode/go/tts/sc/v1/userrole\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/tts/sc/v1/userrole/UserRole.go:203: undefined: msp.SerializedIdentity\n\"```","username":"Amjadnz","ts":"2017-05-18T06:05:03.379Z"}
{"msg":"When i try to force the proto directory (where msp resides in hyperledger source) in YAML file - get the following error","username":"Amjadnz","ts":"2017-05-18T06:05:52.843Z"}
{"msg":"```Error: Error endorsing chaincode: rpc error: code = 2 desc = Error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 \"chaincode/input/src/github.com/hyperledger/fabric/protos/peer/admin.pb.go:73:8: cannot find package \"github.com/golang/protobuf/proto\" in any of:\n\t/opt/go/src/github.com/golang/protobuf/proto (from $GOROOT)\n\t/chaincode/input/src/github.com/golang/protobuf/proto (from $GOPATH)\n\t/opt/gopath/src/github.com/golang/protobuf/proto\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/admin.pb.go:76:8: cannot find package \"github.com/golang/protobuf/ptypes/empty\" in any of:\n\t/opt/go/src/github.com/golang/protobuf/ptypes/empty (from $GOROOT)\n\t/chaincode/input/src/github.com/golang/protobuf/ptypes/empty (from $GOPATH)\n\t/opt/gopath/src/github.com/golang/protobuf/ptypes/empty\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/chaincode.pb.go:10:8: cannot find package \"github.com/golang/protobuf/ptypes/timestamp\" in any of:\n\t/opt/go/src/github.com/golang/protobuf/ptypes/timestamp (from $GOROOT)\n\t/chaincode/input/src/github.com/golang/protobuf/ptypes/timestamp (from $GOPATH)\n\t/opt/gopath/src/github.com/golang/protobuf/ptypes/timestamp\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/init.go:19:8: cannot find package \"github.com/op/go-logging\" in any of:\n\t/opt/go/src/github.com/op/go-logging (from $GOROOT)\n\t/chaincode/input/src/github.com/op/go-logging (from $GOPATH)\n\t/opt/gopath/src/github.com/op/go-logging\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/admin.pb.go:80:2: cannot find package \"google.golang.org/grpc\" in any of:\n\t/opt/go/src/google.golang.org/grpc (from $GOROOT)\n\t/chaincode/input/src/google.golang.org/grpc (from $GOPATH)\n\t/opt/gopath/src/google.golang.org/grpc\n\"\nUsage:\n```","username":"Amjadnz","ts":"2017-05-18T06:06:10.985Z"}
{"msg":"Thats not how toy do it","username":"yacovm","ts":"2017-05-18T06:11:38.090Z"}
{"msg":"Thats not how you do it","username":"yacovm","ts":"2017-05-18T06:11:38.090Z"}
{"msg":"You cant give the x509 library input that is a fabric struct","username":"yacovm","ts":"2017-05-18T06:20:34.973Z"}
{"msg":"The SerializedIdentity has 2 fields","username":"yacovm","ts":"2017-05-18T06:26:41.230Z"}
{"msg":"you need to take the one that isn't an MSPID","username":"yacovm","ts":"2017-05-18T06:26:47.578Z"}
{"msg":"and use that as raw bytes to the `ParseCertficate`","username":"yacovm","ts":"2017-05-18T06:27:01.530Z"}
{"msg":"and use that as raw bytes to the `ParseCertficate`\nSomething like `x509.ParseCertificate(stub.GetCreator().IdBytes())`","username":"yacovm","ts":"2017-05-18T06:27:01.530Z"}
{"msg":"@Amjadnz ^","username":"yacovm","ts":"2017-05-18T06:27:11.613Z"}
{"msg":"Has joined the channel.","username":"bmkor","ts":"2017-05-18T09:53:24.155Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=c4kPpxrCvo9Wfh9MK) @yacovm Doing exactly the same. Default peer images are complaining of not able to find msp.SerializedIdentity. Do we need to change something in yaml tonpoint to hyperledger source?","username":"Amjadnz","ts":"2017-05-18T09:55:03.004Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=c4kPpxrCvo9Wfh9MK","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=c4kPpxrCvo9Wfh9MK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Ok got it what you were saying","username":"Amjadnz","ts":"2017-05-18T09:56:15.103Z"}
{"msg":"thanks man would try again","username":"Amjadnz","ts":"2017-05-18T09:56:22.843Z"}
{"msg":"Sure","username":"yacovm","ts":"2017-05-18T09:58:12.425Z"}
{"msg":"Hi folks. Say if I got a peer removed from the network for some days and then rejoin, what would happen on that peer? I guess it would first connect to the anchor peer and then sync the chain information from another peer. How that rejoined peer to decide which peer to get information from?","username":"bmkor","ts":"2017-05-18T10:03:06.178Z"}
{"msg":"What do you mean information @bmkor ?","username":"yacovm","ts":"2017-05-18T10:42:21.906Z"}
{"msg":"like the missing ledger states?","username":"bmkor","ts":"2017-05-18T10:43:30.943Z"}
{"msg":"like the missing ledger data?","username":"bmkor","ts":"2017-05-18T10:43:30.943Z"}
{"msg":"ah","username":"yacovm","ts":"2017-05-18T10:44:23.324Z"}
{"msg":"so it will get it from some peer in the channel","username":"yacovm","ts":"2017-05-18T10:44:40.816Z"}
{"msg":"the some peers are just some randomly chosen? ","username":"bmkor","ts":"2017-05-18T10:45:12.114Z"}
{"msg":"those peers are just some randomly chosen? ","username":"bmkor","ts":"2017-05-18T10:45:12.114Z"}
{"msg":"randomly chosen but from peers in the channel","username":"yacovm","ts":"2017-05-18T10:47:44.632Z"}
{"msg":"Thanks. I just found this on the rst\n```\nGossip-based broadcasting operates by peers receiving messages from other peers on the channel, and then forwarding these messages to a number of randomly-selected peers on the channel, where this number is a configurable constant. \n```","username":"bmkor","ts":"2017-05-18T10:49:07.926Z"}
{"msg":"Thanks a lot. @yacovm :)","username":"bmkor","ts":"2017-05-18T10:49:29.836Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=aRR4tEpov9KJyxhcN) @yacovm - can you please advise on the below?","username":"Amjadnz","ts":"2017-05-18T13:13:06.114Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=aRR4tEpov9KJyxhcN","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=aRR4tEpov9KJyxhcN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"the error message is ","username":"Amjadnz","ts":"2017-05-18T13:13:22.258Z"}
{"msg":"```Error: Error endorsing chaincode: rpc error: code = 2 desc = Error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 \"chaincode/input/src/github.com/hyperledger/fabric/protos/peer/admin.pb.go:73:8: cannot find package \"github.com/golang/protobuf/proto\" in any of:\n\t/opt/go/src/github.com/golang/protobuf/proto (from $GOROOT)\n\t/chaincode/input/src/github.com/golang/protobuf/proto (from $GOPATH)\n\t/opt/gopath/src/github.com/golang/protobuf/proto\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/admin.pb.go:76:8: cannot find package \"github.com/golang/protobuf/ptypes/empty\" in any of:\n\t/opt/go/src/github.com/golang/protobuf/ptypes/empty (from $GOROOT)\n\t/chaincode/input/src/github.com/golang/protobuf/ptypes/empty (from $GOPATH)\n\t/opt/gopath/src/github.com/golang/protobuf/ptypes/empty\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/chaincode.pb.go:10:8: cannot find package \"github.com/golang/protobuf/ptypes/timestamp\" in any of:\n\t/opt/go/src/github.com/golang/protobuf/ptypes/timestamp (from $GOROOT)\n\t/chaincode/input/src/github.com/golang/protobuf/ptypes/timestamp (from $GOPATH)\n\t/opt/gopath/src/github.com/golang/protobuf/ptypes/timestamp\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/init.go:19:8: cannot find package \"github.com/op/go-logging\" in any of:\n\t/opt/go/src/github.com/op/go-logging (from $GOROOT)\n\t/chaincode/input/src/github.com/op/go-logging (from $GOPATH)\n\t/opt/gopath/src/github.com/op/go-logging\nchaincode/input/src/github.com/hyperledger/fabric/protos/peer/admin.pb.go:80:2: cannot find package \"google.golang.org/grpc\" in any of:\n\t/opt/go/src/google.golang.org/grpc (from $GOROOT)\n\t/chaincode/input/src/google.golang.org/grpc (from $GOPATH)\n\t/opt/gopath/src/google.golang.org/grpc\n\"\n```","username":"Amjadnz","ts":"2017-05-18T13:13:25.953Z"}
{"msg":"And my code is as follows:","username":"Amjadnz","ts":"2017-05-18T13:14:44.312Z"}
{"msg":"```x509Cert, err := x509.ParseCertificate(stub.GetCreator().IdBytes())\n\n\tif len(x509Cert.Subject.CommonName) > 0 {\n\t\tfmt.Printf(\"Common Name of the cert :\\n%s\\n\", x509Cert.Subject.CommonName)\n\t}\n```","username":"Amjadnz","ts":"2017-05-18T13:14:47.455Z"}
{"msg":"Not really","username":"yacovm","ts":"2017-05-18T13:16:35.555Z"}
{"msg":"Also this isn't gossip related ","username":"yacovm","ts":"2017-05-18T13:17:42.167Z"}
{"msg":"ask in #fabric-peer-endorser-committer ","username":"yacovm","ts":"2017-05-18T13:17:50.312Z"}
{"msg":"In the documentation on Gossip messaging:","username":"bmkor","ts":"2017-05-18T14:14:05.031Z"}
{"msg":"\"Peers maintain channel membership by collecting these alive messages; if no peer receives an alive message from a specific peer, this \"dead\" peer is eventually purged from channel membership.\"","username":"bmkor","ts":"2017-05-18T14:14:45.797Z"}
{"msg":"Where are these alive or dead information saved?","username":"bmkor","ts":"2017-05-18T14:15:10.317Z"}
{"msg":"@bmkor this information is not persisted anywhere, it's maintained internally inside discovery layer","username":"C0rWin","ts":"2017-05-18T14:17:30.468Z"}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of to a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n`, what would be the expected time for this new peer forming a clique? [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of to a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n`, what would be the expected time for this new peer forming a clique (N >> n)? [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of to a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n`, what would be the expected time for this new peer forming a clique (`N >> n`)? [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of to a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n` where `N >> n` , what would be the expected time for this new peer talked to all peers at least once? [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of to a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n` where `N >> n` , what would be the expected time for this new peer talked to all peers at least once (say network traffic latency and processing time are negligible) [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n` where `N >> n` , what would be the expected time for this new peer talked to all peers at least once (say network traffic latency and processing time are negligible) [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n` where `N >> n` , what would be the expected time for this new peer talked to all peers at least once (say network traffic latency and processing time are negligible) or if the randomness means uniform, each peer got a chance of `n/N` being selected, then the expected time for visiting all peers once would be `N*(n/N) = n`?  [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n` where `N >> n` , what would be the expected time for this new peer talked to all peers at least once (say network traffic latency and processing time are negligible) ?  [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n` where `N >> n` , what would be the expected time for this new peer talked to all peers at least once (say network traffic latency and processing time are negligible) ?  My thought: suppose the randomness is uniform, the expected time for choosing a particular peer, r, would be `E(T_r) = 1*(n/N) = n/N` and the expected total time to choose all peers is `Sum E(T_r) = N*(n/N) = N` [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I got a further question. Say a new peer, after joining a channel, connected to an anchor peer of a peer network (size: `N+1`), assuming the number of randomly-selected peers on the channel has been set to `n` where `N >> n` , what would be the expected time for this new peer talked to all peers at least once (say network traffic latency and processing time are negligible) ?  [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7) @yacovm ","username":"bmkor","ts":"2017-05-19T01:22:13.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eq2FtxoYq6jftS8T7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"10 seconds ","username":"yacovm","ts":"2017-05-19T05:12:30.238Z"}
{"msg":"Constant? 10 sec[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=NmmJFQ7RzDFnS2ArG) @yacovm ","username":"bmkor","ts":"2017-05-19T05:14:35.977Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=NmmJFQ7RzDFnS2ArG","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=NmmJFQ7RzDFnS2ArG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"well every node sends an alive message once per about 5 seconds","username":"yacovm","ts":"2017-05-19T06:29:57.984Z"}
{"msg":"so if you're a new node in the network","username":"yacovm","ts":"2017-05-19T06:30:12.763Z"}
{"msg":"5 seconds passed and you send an alive to other nodes","username":"yacovm","ts":"2017-05-19T06:30:26.532Z"}
{"msg":"after 5 seconds these nodes would send you (but indirectly) an alive message too","username":"yacovm","ts":"2017-05-19T06:30:55.691Z"}
{"msg":"so you \"know about them\" after that","username":"yacovm","ts":"2017-05-19T06:31:07.093Z"}
{"msg":"if you asked how much until you have actually communicated with all of them","username":"yacovm","ts":"2017-05-19T06:31:22.701Z"}
{"msg":"depends if you want an expectence (E(X)) or an upper bound. But why do you ask? Why is this important?","username":"yacovm","ts":"2017-05-19T06:32:13.829Z"}
{"msg":"Thanks @yacovm I meant to know how long will a peer expect to wait if in a peer network, one of the peers got the most updated ledger data.","username":"bmkor","ts":"2017-05-19T09:18:53.996Z"}
{"msg":"Thanks @yacovm I meant to estimate how long will a peer to wait if in a peer network, one of the peers got the most updated ledger data.","username":"bmkor","ts":"2017-05-19T09:18:53.996Z"}
{"msg":"Thanks @yacovm I meant to estimate how long will a peer have to wait if in a peer network, one of the peers just got updated its ledger data.","username":"bmkor","ts":"2017-05-19T09:18:53.996Z"}
{"msg":"Ah I misunderstood. The update process is from orderer broadcasting. My bad. Please ignore my question.","username":"bmkor","ts":"2017-05-19T09:25:46.310Z"}
{"msg":"No it is also from peers","username":"yacovm","ts":"2017-05-19T09:28:39.090Z"}
{"msg":"Am not at home at the momemt, hard to elaborate","username":"yacovm","ts":"2017-05-19T09:28:53.097Z"}
{"msg":"Has joined the channel.","username":"anik","ts":"2017-05-19T09:49:49.261Z","type":"uj"}
{"msg":"@bmkor so basically a peer may get blocks from the ordering service directly or via some other peer","username":"yacovm","ts":"2017-05-19T09:56:15.946Z"}
{"msg":"you meant those peer committers?","username":"bmkor","ts":"2017-05-19T09:57:48.697Z"}
{"msg":"Every peer is a committer","username":"yacovm","ts":"2017-05-19T10:16:56.427Z"}
{"msg":"Let me try to understand this from reading the codes.","username":"bmkor","ts":"2017-05-19T10:33:44.303Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=WptF8Ha2DbomtLdP2) @Amjadnz Resolved it by parsing the cert into pem encoding and all went fine.","username":"Amjadnz","ts":"2017-05-19T11:09:15.996Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=WptF8Ha2DbomtLdP2","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=WptF8Ha2DbomtLdP2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=bsxmvYrWPCzazxnLZ) @bmkor expected time of peer to talk with others is of order O(logN).","username":"C0rWin","ts":"2017-05-19T15:25:34.078Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=bsxmvYrWPCzazxnLZ","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=bsxmvYrWPCzazxnLZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thanks ","username":"bmkor","ts":"2017-05-19T23:42:09.294Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=u87kDJC24vWvA2RPp) @yacovm Thanks - Following up wit CC-DEV channel","username":"Amjadnz","ts":"2017-05-20T08:48:36.238Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=u87kDJC24vWvA2RPp","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=u87kDJC24vWvA2RPp","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Jay","ts":"2017-05-22T10:26:24.442Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bmalavan","ts":"2017-05-24T08:12:48.671Z","type":"uj"}
{"msg":"Has joined the channel.","username":"srvnnp","ts":"2017-05-24T13:39:20.878Z","type":"uj"}
{"msg":"Has joined the channel.","username":"duwenhui","ts":"2017-05-26T06:09:12.149Z","type":"uj"}
{"msg":"Has joined the channel.","username":"guruce","ts":"2017-06-05T07:29:04.168Z","type":"uj"}
{"msg":"After a leading peer has been elected, how do I know which peer became leader?","username":"AdnanC","ts":"2017-06-05T19:49:22.563Z"}
{"msg":"read the logs?","username":"yacovm","ts":"2017-06-05T19:50:32.730Z"}
{"msg":"read the logs","username":"yacovm","ts":"2017-06-05T19:50:46.511Z"}
{"msg":"ok thanks","username":"AdnanC","ts":"2017-06-05T19:51:24.935Z"}
{"msg":"I believe there is no other direct way?","username":"AdnanC","ts":"2017-06-05T19:51:50.646Z"}
{"msg":"not without writing lots of code","username":"yacovm","ts":"2017-06-05T19:53:06.309Z"}
{"msg":"ok","username":"AdnanC","ts":"2017-06-05T19:53:24.413Z"}
{"msg":"Has left the channel.","username":"jdockter","ts":"2017-06-05T20:52:33.182Z","type":"ul"}
{"msg":"Has left the channel.","username":"smithbk","ts":"2017-06-07T15:46:41.629Z","type":"ul"}
{"msg":"Has joined the channel.","username":"DDmitry","ts":"2017-06-08T14:24:21.494Z","type":"uj"}
{"msg":"@yacovm https://jira.hyperledger.org/browse/FAB-4475","username":"AdnanC","ts":"2017-06-08T20:02:06.909Z"}
{"msg":"Has joined the channel.","username":"Calvin_Heo","ts":"2017-06-09T09:01:33.461Z","type":"uj"}
{"msg":"What is the \"default\" state of gossip leader and gossip election? in other words, if someone downloads Fabric, builds the docker images, and ups the network without anything on the dockercompose files regarding gossip-----what will be the value of leder_election and is_leader?","username":"AdnanC","ts":"2017-06-09T17:57:01.428Z"}
{"msg":"What is the \"default\" state of gossip leader and gossip election? in other words, if someone downloads Fabric, builds the docker images, and ups the network without anything on the dockercompose files regarding gossip-----what will be the value of leader_election and is_leader? @yacovm ","username":"AdnanC","ts":"2017-06-09T17:57:01.428Z"}
{"msg":"What is the \"default\" state of gossip leader and gossip election? in other words, if someone downloads Fabric, builds the docker images, and ups the network without anything on the dockercompose files regarding gossip-----what will be the value of leder_election and is_leader? @yacovm ","username":"AdnanC","ts":"2017-06-09T17:57:01.428Z"}
{"msg":"is it going to use `sampleconfig/core.yaml` ands use the values there?","username":"AdnanC","ts":"2017-06-09T17:58:02.726Z"}
{"msg":"yeah","username":"yacovm","ts":"2017-06-09T18:14:47.459Z"}
{"msg":"Has joined the channel.","username":"jrezwan","ts":"2017-06-11T16:16:54.451Z","type":"uj"}
{"msg":"Has joined the channel.","username":"william123","ts":"2017-06-12T13:44:41.896Z","type":"uj"}
{"msg":"@yacovm https://jira.hyperledger.org/browse/FAB-4586 this is very similar to the other one I filed last week. ","username":"AdnanC","ts":"2017-06-12T21:35:54.214Z"}
{"msg":"@AdnanC so when you queried for the value in step (4) you did it for the peer that was restarted?","username":"yacovm","ts":"2017-06-12T21:45:50.042Z"}
{"msg":"yes","username":"AdnanC","ts":"2017-06-12T21:46:09.138Z"}
{"msg":"1 sec, let me check if I attached the correct one, (I did both)","username":"AdnanC","ts":"2017-06-12T21:47:28.011Z"}
{"msg":"1 sec, let me check if I attached the correct one, (I did both leader and non leader)","username":"AdnanC","ts":"2017-06-12T21:47:28.011Z"}
{"msg":"yes, the non leader, the one that was restarted ","username":"AdnanC","ts":"2017-06-12T21:49:07.927Z"}
{"msg":"so you stopped the non leader in org2, did an invoke on org1, then started the peer in org2 that was restarted and waited for the query to give the right result","username":"yacovm","ts":"2017-06-12T21:50:23.285Z"}
{"msg":"right?","username":"yacovm","ts":"2017-06-12T21:50:24.027Z"}
{"msg":"@AdnanC I tried doing exactly what you did but can't reproduce :(","username":"yacovm","ts":"2017-06-12T22:12:06.708Z"}
{"msg":"","username":"yacovm","ts":"2017-06-12T22:27:13.136Z","attachments":[{"title":"File Uploaded: Capture.PNG","title_link":"/file-upload/Gj5fPQSfaeqPexgkc/Capture.PNG","image_url":"/file-upload/Gj5fPQSfaeqPexgkc/Capture.PNG","image_type":"image/png","image_size":73368,"url":"/file-upload/Gj5fPQSfaeqPexgkc/Capture.PNG","remote":false,"fileId":"Gj5fPQSfaeqPexgkc","fileName":"Capture.PNG"}]}
{"msg":"that's all I did and it works for me... verified twice","username":"yacovm","ts":"2017-06-12T22:27:28.457Z"}
{"msg":"","username":"yacovm","ts":"2017-06-12T22:28:48.843Z","attachments":[{"title":"File Uploaded: Capture.PNG","title_link":"/file-upload/5dbgo8rTocwi4RCpk/Capture.PNG","image_url":"/file-upload/5dbgo8rTocwi4RCpk/Capture.PNG","image_type":"image/png","image_size":454280,"url":"/file-upload/5dbgo8rTocwi4RCpk/Capture.PNG","remote":false,"fileId":"5dbgo8rTocwi4RCpk","fileName":"Capture.PNG"}]}
{"msg":"Has joined the channel.","username":"lm_nop","ts":"2017-06-12T23:14:32.552Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lprao","ts":"2017-06-14T04:09:37.426Z","type":"uj"}
{"msg":"Hi,\n\nI am using fabric(1.0.0-alpha) in \"dev\" mode on a classic TwoOrg topology with 4 peers, 2 CAs, 1 SDK(fabric-sdk-go). When i initiate a transaction(chaincode_example02) to peer1(in Org1), peer1 is able to execute the chaincode but peer2(also in Org1) sees a \"No such channel\" error -\n\n[36m2017-06-06 00:58:01.312 UTC [gossip/gossip#23.0.0.12:7056] handleMessage -> DEBU 228\u001b[0m Entering, [156 43 33 171 114 249 57 151 235 35 197 207 85 206 60 90 178 209 11 90 101 229 107 30 108 214 245 107 90 240 230 193] sent us GossipMessage: channel:\"testchannel\" tag:CHAN_OR_ORG state_info_pull_req:<> , Envelope: 18 bytes, Signature: 0 bytes\n\n[36m2017-06-06 00:58:01.313 UTC [gossip/gossip#23.0.0.12:7056] handleMessage -> DEBU 229\u001b[0m No such channel [116 101 115 116 99 104 97 110 110 101 108] discarding message GossipMessage: channel:\"testchannel\" tag:CHAN_OR_ORG state_info_pull_req:<> , Envelope: 18 bytes, Signature: 0 bytes\n\n[36m2017-06-06 00:58:01.313 UTC [gossip/gossip#23.0.0.12:7056] handleMessage -> DEBU 22a\u001b[0m Exiting\n\n[36m2017-06-06 00:58:01.320 UTC [gossip/gossip#23.0.0.12:7056] handleMessage -> DEBU 22b\u001b[0m Entering, [156 43 33 171 114 249 57 151 235 35 197 207 85 206 60 90 178 209 11 90 101 229 107 30 108 214 245 107 90 240 230 193] sent us GossipMessage: channel:\"testchannel\" tag:CHAN_OR_ORG state_info:<metadata:\"\\000\\000\\000\\000\\000\\000\\000\\002\" timestamp:<inc_number:11651379494838206464 seq_num:1496710679495846341 > pki_id:\"\\234+!\\253r\\3719\\227\\353#\\305\\317U\\316<Z\\262\\321\\013Ze\\345k\\036l\\326\\365kZ\\360\\346\\301\" > , Envelope: 84 bytes, Signature: 71 bytes\n\n[36m2017-06-06 00:58:01.322 UTC [gossip/gossip#23.0.0.12:7056] handleMessage -> DEBU 22c\u001b[0m No such channel [116 101 115 116 99 104 97 110 110 101 108] discarding message GossipMessage: channel:\"testchannel\" tag:CHAN_OR_ORG state_info:<metadata:\"\\000\\000\\000\\000\\000\\000\\000\\002\" timestamp:<inc_number:11651379494838206464 seq_num:1496710679495846341 > pki_id:\"\\234+!\\253r\\3719\\227\\353#\\305\\317U\\316<Z\\262\\321\\013Ze\\345k\\036l\\326\\365kZ\\360\\346\\301\" > , Envelope: 84 bytes, Signature: 71 bytes\n\n\nWould someone please tell me how to go about fixing this?","username":"lprao","ts":"2017-06-14T04:09:48.083Z"}
{"msg":"This is a debug messgae","username":"yacovm","ts":"2017-06-14T06:17:38.003Z"}
{"msg":"Message","username":"yacovm","ts":"2017-06-14T06:17:41.385Z"}
{"msg":"It doesnt mean you should fix this","username":"yacovm","ts":"2017-06-14T06:17:56.376Z"}
{"msg":"Also, @lprao what do you mean by dev mode?","username":"yacovm","ts":"2017-06-14T06:18:23.408Z"}
{"msg":"@yacovm By \"dev\" mode i mean all peers are running as linux processes(--peer-chaincodedev==true) and not in docker containers. The actual command is - \"./build/bin/peer node start --peer-chaincodedev=true --peer-defaultchain=false >> /tmp/fabric_peer_console.log 2>&1 &\"","username":"lprao","ts":"2017-06-14T08:30:51.993Z"}
{"msg":"ah so first of all","username":"yacovm","ts":"2017-06-14T08:31:08.804Z"}
{"msg":"the default chain thing","username":"yacovm","ts":"2017-06-14T08:31:11.009Z"}
{"msg":"it doesn't exist anymore","username":"yacovm","ts":"2017-06-14T08:31:16.026Z"}
{"msg":"and second- ok now I get what you mean","username":"yacovm","ts":"2017-06-14T08:31:22.443Z"}
{"msg":"yeah there is indeed that dev mode thing","username":"yacovm","ts":"2017-06-14T08:31:28.929Z"}
{"msg":"anyway I wouldn't worry about it - it's DEBUG message","username":"yacovm","ts":"2017-06-14T08:31:41.025Z"}
{"msg":"not WARN","username":"yacovm","ts":"2017-06-14T08:31:42.925Z"}
{"msg":"hmm, but peer2 does not execute the chaincode(chaincode_example02) and so the ledger is empty","username":"lprao","ts":"2017-06-14T08:34:38.289Z"}
{"msg":"it has nothing to do with gossip","username":"yacovm","ts":"2017-06-14T08:34:48.380Z"}
{"msg":"ok","username":"lprao","ts":"2017-06-14T08:35:05.278Z"}
{"msg":"which is the right channel to discuss this issue? i have tried chaincode-dev but haven't heard back.","username":"lprao","ts":"2017-06-14T08:36:06.947Z"}
{"msg":"what issue","username":"yacovm","ts":"2017-06-14T08:36:34.009Z"}
{"msg":"the chaincode not running on peer2.","username":"lprao","ts":"2017-06-14T08:37:08.546Z"}
{"msg":"ah I guess either #fabric  or #chaincode-dev ","username":"yacovm","ts":"2017-06-14T08:37:26.909Z"}
{"msg":"ok, thanks.","username":"lprao","ts":"2017-06-14T08:37:43.658Z"}
{"msg":"How do I disable gossip protocol? Specifically scenario where  the peers need to connect directly to the orderer to deliver block. Appreciate instruction/guidance to do this","username":"s.narayanan","ts":"2017-06-16T14:52:41.448Z"}
{"msg":"you can take these 2 configuration keys https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L87-L92","username":"yacovm","ts":"2017-06-16T14:53:32.793Z"}
{"msg":"set `orgLeader` to true","username":"yacovm","ts":"2017-06-16T14:53:40.119Z"}
{"msg":"and the `useLeaderElection` to false","username":"yacovm","ts":"2017-06-16T14:53:45.925Z"}
{"msg":"but this doesn't really disable gossip, just makes all the peers to connect to the ordering service","username":"yacovm","ts":"2017-06-16T14:54:03.079Z"}
{"msg":"@yacovm thanks. since we are using docker images for peers presume this has to be done through an environment variable setting in docker  compose file? ","username":"s.narayanan","ts":"2017-06-16T14:56:05.691Z"}
{"msg":"yes.","username":"yacovm","ts":"2017-06-16T14:56:26.943Z"}
{"msg":"make all the characters uppercase","username":"yacovm","ts":"2017-06-16T14:56:31.353Z"}
{"msg":"and also","username":"yacovm","ts":"2017-06-16T14:56:34.441Z"}
{"msg":"prefix with: CORE_PEER_GOSSIP","username":"yacovm","ts":"2017-06-16T14:56:44.580Z"}
{"msg":"i.e CORE_PEER_GOSSIP_ORGLEADER=true","username":"yacovm","ts":"2017-06-16T14:56:55.194Z"}
{"msg":"@yacovm thanks. Presume it would also be CORE_PEER_GOSSIP_USELEADERELECTION=false. Also what is the reason disabling gossip protocol is not supported?  If all peers are leaders one can presumably avoid the chattiness of gossip protocol? ","username":"s.narayanan","ts":"2017-06-16T15:00:47.056Z"}
{"msg":"just don't put anything in the anchor peers","username":"yacovm","ts":"2017-06-16T15:01:21.125Z"}
{"msg":"and don't put anything in the bootstrap peers","username":"yacovm","ts":"2017-06-16T15:01:26.570Z"}
{"msg":"and this effectively disables","username":"yacovm","ts":"2017-06-16T15:01:30.683Z"}
{"msg":"@yacovm what do you mean by 'don't put anything in the anchor peers'   do you mean don't actually define any, or something else?   (same question for bootstrap peers)","username":"silliman","ts":"2017-06-16T15:07:29.363Z"}
{"msg":"exactly","username":"yacovm","ts":"2017-06-16T15:09:35.626Z"}
{"msg":"not to define any","username":"silliman","ts":"2017-06-16T15:10:08.400Z"}
{"msg":"yes","username":"yacovm","ts":"2017-06-16T15:10:24.321Z"}
{"msg":"Has joined the channel.","username":"sfukazu","ts":"2017-06-19T06:34:53.868Z","type":"uj"}
{"msg":"Has joined the channel.","username":"roj","ts":"2017-06-19T10:42:35.804Z","type":"uj"}
{"msg":"Has joined the channel.","username":"reubent 1","ts":"2017-06-19T16:15:07.344Z","type":"uj"}
{"msg":"Hello! I'm getting a stack dump when the gossip service is not liking the certificate chain. I'm obviously doing something silly but I am pretty sure this still shouldn't happen:\n```\n2017-06-19 16:14:20.954 UTC [sccapi] RegisterSysCC -> INFO 02a system chaincode qscc(github.com/hyperledger/fabric/core/chaincode/qscc) registered\n2017-06-19 16:14:20.954 UTC [nodeCmd] serve -> DEBU 02b Running peer\n2017-06-19 16:14:20.954 UTC [msp] GetLocalMSP -> DEBU 02c Returning existing local MSP\n2017-06-19 16:14:20.954 UTC [msp] GetLocalMSP -> DEBU 02d Returning existing local MSP\n2017-06-19 16:14:20.954 UTC [msp] GetDefaultSigningIdentity -> DEBU 02e Obtaining default signing identity\n2017-06-19 16:14:20.955 UTC [gossip/service] func1 -> INFO 02f Initialize gossip with endpoint peer0 and bootstrap set [127.0.0.1:7051]\n2017-06-19 16:14:20.955 UTC [msp] GetLocalMSP -> DEBU 030 Returning existing local MSP\n2017-06-19 16:14:20.955 UTC [msp] DeserializeIdentity -> INFO 031 Obtaining identity\n2017-06-19 16:14:20.955 UTC [msp/identity] newIdentity -> DEBU 032 Creating identity instance for ID &{GospelTest c05fd73ae4c3fa9bf21f53780b33796d7e9888790f24e3b92ac0d3c0b6096c2a}\n2017-06-19 16:14:20.955 UTC [msp] GetLocalMSP -> DEBU 033 Returning existing local MSP\n2017-06-19 16:14:20.955 UTC [msp] Validate -> DEBU 034 MSP GospelTest validating identity\n2017-06-19 16:14:20.956 UTC [msp] getCertificationChain -> DEBU 035 MSP GospelTest getting certification chain\npanic: runtime error: index out of range\n\ngoroutine 1 [running]:\npanic(0xc9c680, 0xc4200160a0)\n\t/opt/go/src/runtime/panic.go:500 +0x1a1\ngithub.com/hyperledger/fabric/gossip/integration.newConfig(0xc42020a688, 0x5, 0xc42000c442, 0xa, 0xc42033d770, 0x1, 0x1, 0x20)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/integration/integration.go:37 +0x6ea\ngithub.com/hyperledger/fabric/gossip/integration.NewGossipComponent(0xc420084b00, 0x52b, 0x580, 0xc42020a688, 0x5, 0xc42016e780, 0x13d3fa0, 0xc42033d940, 0x13e45e0, 0xc420330d50, ...)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/integration/integration.go:79 +0x93\ngithub.com/hyperledger/fabric/gossip/service.InitGossipServiceCustomDeliveryFactory.func1()\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:146 +0x41d\nsync.(*Once).Do(0x1423388, 0xc4201536b8)\n\t/opt/go/src/sync/once.go:44 +0xdb\ngithub.com/hyperledger/fabric/gossip/service.InitGossipServiceCustomDeliveryFactory(0xc420084b00, 0x52b, 0x580, 0xc42020a688, 0x5, 0xc42016e780, 0x13d3ea0, 0x14232b8, 0x13e45e0, 0xc420330d50, ...)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:157 +0x139\ngithub.com/hyperledger/fabric/gossip/service.InitGossipService(0xc420084b00, 0x52b, 0x580, 0xc42026d050, 0xf, 0xc42016e780, 0x13e45e0, 0xc420330d50, 0x13d3fa0, 0xc42033d940, ...)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:129 +0x13a\ngithub.com/hyperledger/fabric/peer/node.serve(0x14232b8, 0x0, 0x0, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:174 +0x71c\ngithub.com/hyperledger/fabric/peer/node.glob..func1(0x13ca260, 0x14232b8, 0x0, 0x0, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:70 +0x3f\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x13ca260, 0x14232b8, 0x0, 0x0, 0x13ca260, 0x14232b8)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 +0x234\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x13ca8c0, 0xf, 0xc420010455, 0xa)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 +0x367\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x13ca8c0, 0x1b, 0xc420010455)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 +0x2b\nmain.main()\n\t/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:117 +0x54e\n```","username":"reubent 1","ts":"2017-06-19T16:17:25.965Z"}
{"msg":"Any ideas?","username":"reubent 1","ts":"2017-06-19T16:17:57.942Z"}
{"msg":"uh, can you please open a JIRA and upload the `sampleconfig` folder","username":"yacovm","ts":"2017-06-19T16:21:54.845Z"}
{"msg":"and tag me (@ yacovm) in the JIRA?","username":"yacovm","ts":"2017-06-19T16:22:03.092Z"}
{"msg":"Hi, Yacov, more than happy to do so - I'm not running using the sample config though","username":"reubent 1","ts":"2017-06-19T16:23:30.612Z"}
{"msg":"I can give you a copy of the MSP if it helps?","username":"reubent 1","ts":"2017-06-19T16:23:40.854Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-4867\n\nThank you :)","username":"reubent 1","ts":"2017-06-19T16:34:51.616Z"}
{"msg":"that's what I meant @reubent 1 ","username":"yacovm","ts":"2017-06-19T16:35:03.216Z"}
{"msg":"@C0rWin ^","username":"yacovm","ts":"2017-06-19T16:44:35.251Z"}
{"msg":"@reubent 1 in `core.yaml` you have attached into FAB-4867","username":"C0rWin","ts":"2017-06-19T21:26:54.513Z"}
{"msg":"```    # Gossip related configuration\n    gossip:\n        # Bootstrap set to initialize gossip with.\n        # This is a list of peers that the peer reaches out to at startup.\n        # Important: The endpoints here have to be endpoints of peers in the same\n        # organization, because the peer would refuse connecting to these endpoints\n        # unless they are in the same organization as the peer.\n        bootstrap: 127.0.0.1:7051\n\n        # NOTE: orgLeader and useLeaderElection parameters are mutual exclusive\n        # setting both to true would result in the termination of the peer, since this is undefined\n        # state.\n\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service\n        useLeaderElection: false\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: true\n\n        # ID of this instance\n        endpoint: peer0\n        # Maximum count of blocks we store in memory```","username":"C0rWin","ts":"2017-06-19T21:27:00.579Z"}
{"msg":"the endpoint parameter missing port number","username":"C0rWin","ts":"2017-06-19T21:27:15.966Z"}
{"msg":"hence the failure","username":"C0rWin","ts":"2017-06-19T21:27:21.668Z"}
{"msg":"I will add a patch to provide more meaningful error message and handle the failure more graceful, rather than panicking with simple stack trace","username":"C0rWin","ts":"2017-06-19T21:28:08.063Z"}
{"msg":"Has joined the channel.","username":"bh4rtp","ts":"2017-06-20T05:45:37.165Z","type":"uj"}
{"msg":"hi, i have a question. the e2e_cli example network is used. i want to deploy peer0, pee1, orderer, couchdb on manager host, and peer2, peer3 and cli on worker host.\nto simplify the deploy, the volume option is skipped by below steps:\n1. start up network_setup.sh and do not run any command, i.e. orderer, peer node start.\n2. backup volume directories using `tar cvf fabric.tar ./dirs` on the containers and export the containers into tar files.\n3. import the tar files, run the images and restore volume directories by `tar xvf fabric.tar`\n4. export again the containers, now the images will have all the files required to run.\nthe docker swarm are installed on the two hosts. and a overlay network is created on the manager host. when starting the network, and `docker logs peer0`, there is a panic error.","username":"bh4rtp","ts":"2017-06-20T05:57:21.499Z"}
{"msg":"hi, i have a question. the e2e_cli example network is used. i want to deploy peer0, pee1, orderer, couchdb on manager host, and peer2, peer3 and cli on worker host.\nto simplify the deploy, the volume option is skipped by below steps:\n1. start up network_setup.sh and do not run any command, i.e. orderer, peer node start.\n2. backup volume directories using `tar cvf fabric.tar ./dirs` on the containers and export the containers into tar files.\n3. import the tar files, run the images and restore volume directories by `tar xvf fabric.tar`\n4. export again the containers, now the images will have all the files required to run.\nthe docker swarm is installed on the two hosts. and an overlay network named `hyp-net` is created on the manager host. when starting the network, and `docker logs peer0`, there is a panic error.","username":"bh4rtp","ts":"2017-06-20T05:57:21.499Z"}
{"msg":"```2017-06-19 19:42:40.160 CST [gossip/discovery] handleAliveMessage -> ERRO 1ce Bad configuration detected: Received AliveMessage from a peer with the same PKI-ID as myself: tag:EMPTY alive_msg:<membership:<endpoint:\"peer0.org1.example.com:7051\" pki_id:\"\\344#X\\002\\274xf~\\336\\264!3p\\201_\\255\\246\\277Q\\006\\3253R[\\341YC\\315\\354\\256\\374\\235\" > timestamp:<inc_num:1497872559240600128 seq_num:2 > identity:\"\\n\\007Org1MSP\\022\\232\\007-----BEGIN -----\\nMIICizCCAjKgAwIBAgIUBEVwsSx0TmqdbzNwleNBBzoIT0wwCgYIKoZIzj0EAwIw\\nfzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\\nbiBGcmFuY2lzY28xHzAdBgNVBAoTFkludGVybmV0IFdpZGdldHMsIEluYy4xDDAK\\nBgNVBAsTA1dXVzEUMBIGA1UEAxMLZXhhbXBsZS5jb20wHhcNMTYxMTExMTcwNzAw\\nWhcNMTcxMTExMTcwNzAwWjBjMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGgg\\nQ2Fyb2xpbmExEDAOBgNVBAcTB1JhbGVpZ2gxGzAZBgNVBAoTEkh5cGVybGVkZ2Vy\\nIEZhYnJpYzEMMAoGA1UECxMDQ09QMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE\\nHBuKsAO43hs4JGpFfiGMkB/xsILTsOvmN2WmwpsPHZNL6w8HWe3xCPQtdG/XJJvZ\\n+C756KEsUBM3yw5PTfku8qOBpzCBpDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYw\\nFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFOFC\\ndcUZ4es3ltiCgAVDoyLfVpPIMB8GA1UdIwQYMBaAFBdnQj2qnoI/xMUdn1vDmdG1\\nnEgQMCUGA1UdEQQeMByCCm15aG9zdC5jb22CDnd3dy5teWhvc3QuY29tMAoGCCqG\\nSM49BAMCA0cAMEQCIDf9Hbl4xn3z4EwNKmilM9lX2Fq4jWpAaRVB97OmVEeyAiAk\\naXzB/jnlU39B7Wws9BIr9c8mSOEPF6VY1uGP+dKV0g==\\n-----END -----\\n\" >```","username":"bh4rtp","ts":"2017-06-20T05:57:42.188Z"}
{"msg":"what is the cause of this problem? ","username":"bh4rtp","ts":"2017-06-20T05:58:36.537Z"}
{"msg":"@C0rWin Many thanks - I was sure it was something I was doing wrong","username":"reubent 1","ts":"2017-06-20T08:18:22.360Z"}
{"msg":"Has joined the channel.","username":"dongqi","ts":"2017-06-20T08:35:36.164Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rcyrus","ts":"2017-06-21T19:13:25.996Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SDChoi","ts":"2017-06-23T02:21:13.823Z","type":"uj"}
{"msg":"@yacovm  I think it was you who previously provided to me some helpful information. I have 2 followup questions:","username":"scottz","ts":"2017-06-23T15:52:32.683Z"}
{"msg":"\"A reasoning behind having bootstrap peers is to peers of the organization to find each other and\nto know each other before you make some of them join the channel.\"\n  --->  QUESTION: Why is this helpful?\n\n\"Another reasoning is that technically you can create a channel without any anchor peer in your organization.\nSo having a bootstrap peer(s) for your org is very very important in such a case.\"\n  --->  QUESTION: Why would you do this, in production network?\n","username":"scottz","ts":"2017-06-23T15:52:54.681Z"}
{"msg":"I try not to provide unhelpful information if I can","username":"yacovm","ts":"2017-06-23T15:53:03.154Z"}
{"msg":"> Why is this helpful?\nBecause if you take a look, for example - in the e2e - first you create a channel without any anchor peers, and then you send 2 subsequent config transactions that add anchor peers.\nNow, in case the peers are configured to use leader election, without bootstrap peers they won't see each other at channel join, and will all connect to the ordering service, until the config update that adds anchor peers would happen for each organization.","username":"yacovm","ts":"2017-06-23T15:55:06.910Z"}
{"msg":"Now if they had anchor peers, they could upon channel join - do leader election, and then not all to connect to the ordering service","username":"yacovm","ts":"2017-06-23T15:55:36.659Z"}
{"msg":">  QUESTION: Why would you do this, in production network?\nbecause you have access control over the config items of various organizations, so the admin that creates the channel, say from orgA - can't add into the genesis block, anchor peer of orgB","username":"yacovm","ts":"2017-06-23T15:56:31.420Z"}
{"msg":"Also another important thing","username":"yacovm","ts":"2017-06-23T16:00:15.065Z"}
{"msg":"if you have a set of peers, and they are configured not to use leader election","username":"yacovm","ts":"2017-06-23T16:00:25.490Z"}
{"msg":"and only 1 of them is configured to be a leader with `orgLeader=true`","username":"yacovm","ts":"2017-06-23T16:00:35.891Z"}
{"msg":"the rest is false","username":"yacovm","ts":"2017-06-23T16:00:38.914Z"}
{"msg":"well, and you don't have bootstrap peers","username":"yacovm","ts":"2017-06-23T16:00:46.262Z"}
{"msg":"the ones that have the `orgLeader=false` won't be able to get the config block that adds anchor peers","username":"yacovm","ts":"2017-06-23T16:01:15.937Z"}
{"msg":"In the second question - ok, so it makes sense that each admin could add their own anchor peer. But, if all the peers in one particular organization get restarted at same time, or a new org is added, then I think they would need to know an anchor peer in ANOTHER org, or else they couldn't sync up state database. Hmmm... or maybe could they simply get all the necessary blocks from the orderer again, and (re)create their state database that way?","username":"scottz","ts":"2017-06-23T16:02:52.973Z"}
{"msg":"an anchor peer in another org works though","username":"yacovm","ts":"2017-06-23T16:04:36.469Z"}
{"msg":"what's the problem?","username":"yacovm","ts":"2017-06-23T16:04:39.487Z"}
{"msg":"when peers are restarted they don't need to re-create their state database","username":"yacovm","ts":"2017-06-23T16:05:01.397Z"}
{"msg":"it's persisted","username":"yacovm","ts":"2017-06-23T16:05:03.672Z"}
{"msg":"unless you take out the disks or wipe out the file system","username":"yacovm","ts":"2017-06-23T16:05:20.313Z"}
{"msg":"Just trying to think of various (not-so-happy-path) scenarios.   So... it seems we really DO need to use anchor peers, one in each org, or we could not reconfig to add a new org to an existing network.","username":"scottz","ts":"2017-06-23T16:08:50.430Z"}
{"msg":"no, that's not true","username":"yacovm","ts":"2017-06-23T16:09:38.242Z"}
{"msg":"you can always use leaderElection","username":"yacovm","ts":"2017-06-23T16:09:43.210Z"}
{"msg":"and then you don't need anchor peers","username":"yacovm","ts":"2017-06-23T16:09:48.198Z"}
{"msg":"and then you don't need all anchor peers","username":"yacovm","ts":"2017-06-23T16:09:48.198Z"}
{"msg":"then, they are just \"nice to have\"","username":"yacovm","ts":"2017-06-23T16:10:02.480Z"}
{"msg":"Using bootstrap peers and leader election would allow the peers in an org to work together, but they could not sync state database from other orgs without contacting an anchor peer in another org. Wouldn't they need to do that? it seems you are saying, in the case of restarting all peers in one org, that they would not need to do so. But in the case of adding a new org, is it necessary? (or maybe not because the new org should NOT have access to the blocks that existed before the new org was added.)","username":"scottz","ts":"2017-06-23T16:16:40.635Z"}
{"msg":"Using bootstrap peers and leader election would allow the peers in an org to work together, but they could not sync state database from other orgs without contacting an anchor peer in another org. Wouldn't they need to do that? it seems you are saying, in the case of restarting all peers in one org, that they would not need to do so. ","username":"scottz","ts":"2017-06-23T16:16:40.635Z"}
{"msg":"well but don't forget - you just need 1 anchor peer ","username":"yacovm","ts":"2017-06-23T16:27:40.878Z"}
{"msg":"to be alive","username":"yacovm","ts":"2017-06-23T16:27:42.774Z"}
{"msg":"and if all peers know about it","username":"yacovm","ts":"2017-06-23T16:27:55.867Z"}
{"msg":"they can contact it","username":"yacovm","ts":"2017-06-23T16:27:59.585Z"}
{"msg":"an anchor peer isn't a gateway or something","username":"yacovm","ts":"2017-06-23T16:28:12.656Z"}
{"msg":"OK. But if there are no anchor peers anywhere, and if we are booting the first new peer in a channel in a newly added org, could that peer get all blocks from orderer? In other words, can we function without anchorpeers, and should we test that configuration?  (I have heard that if the ledger is huge, then the orderer might not deliver all the blocks in the channel ledger, which means the peer would be required to sync the whole blockchain from another peer, which means an anchor peer in another organziation, since this is the first peer to come up in a new org.) ","username":"scottz","ts":"2017-06-23T17:38:51.430Z"}
{"msg":"well if there are no anchor peers anywhere and you're booting the first new peer in a channel on a new org, so obviously that peer doesn't know anyone else but itself, right?","username":"yacovm","ts":"2017-06-23T17:42:07.357Z"}
{"msg":"so it can only obtain blocks from the ordering service","username":"yacovm","ts":"2017-06-23T17:42:35.632Z"}
{"msg":"but I don't see where you're getting at","username":"yacovm","ts":"2017-06-23T17:42:41.449Z"}
{"msg":"> which means the peer would be required to sync the whole blockchain from another peer, which means an anchor peer in another organziation, since this is the first peer to come up in a new org\nWell it doesn't work that way. You not always choose to sync from an anchor peer. It depends on if you know other peers or not","username":"yacovm","ts":"2017-06-23T17:43:42.983Z"}
{"msg":"also you do it in \"batches\"","username":"yacovm","ts":"2017-06-23T17:44:38.594Z"}
{"msg":"each batch you select a peer again","username":"yacovm","ts":"2017-06-23T17:44:44.017Z"}
{"msg":"so you probably won't select the same peer over and over","username":"yacovm","ts":"2017-06-23T17:44:56.121Z"}
{"msg":"unless it's.... the only one you know","username":"yacovm","ts":"2017-06-23T17:45:01.309Z"}
{"msg":"Has joined the channel.","username":"clessor","ts":"2017-06-23T19:23:27.990Z","type":"uj"}
{"msg":"@yacovm  ok, that helps. In summary: If we want to configure a network, without anchor peers, it could work. In that case, we would have to use a bootstrap peer in each org, and every other initialized peer in an org would contact the bootstrap_peer. The first orgleader peer in an org would retrieve the whole blockchain from the orderer, and new peers would sync state from that one (or from neighbor peers).","username":"scottz","ts":"2017-06-23T21:25:53.533Z"}
{"msg":"Someone else asks: in my scenario, where we start and join first peer in a newly added org (and it is orgleader), when the other orgs do have anchor peers: the peer is the only one in its org. Does it sync from anchor peer(s) in other orgs, or does it read/deliver all blocks from orderer, or both?","username":"scottz","ts":"2017-06-23T22:18:35.138Z"}
{"msg":"leader election is per channel and organization, hence if peer is the only one node in the org, it will be declared a leader, connect to the ordering service and pull the blocks","username":"C0rWin","ts":"2017-06-23T22:41:16.198Z"}
{"msg":"","username":"yacovm","ts":"2017-06-24T06:40:32.662Z","attachments":[{"title":"File Uploaded: Capture.PNG","title_link":"/file-upload/nqAK5y59ADdjpW7NN/Capture.PNG","image_url":"/file-upload/nqAK5y59ADdjpW7NN/Capture.PNG","image_type":"image/png","image_size":12095,"url":"/file-upload/nqAK5y59ADdjpW7NN/Capture.PNG","remote":false,"fileId":"nqAK5y59ADdjpW7NN","fileName":"Capture.PNG"}]}
{"msg":"@scottz I edited my message above","username":"yacovm","ts":"2017-06-24T06:40:42.557Z"}
{"msg":"In case that wasn't clear, I wasn't implying you don't need APs if you have LE on","username":"yacovm","ts":"2017-06-24T06:40:55.129Z"}
{"msg":"New questions. We are considering a test (without leader election) to set exactly 2 leaders per org, instead of just one. Is that recommended? I would think so, in case one stops. And the peers would get their blocks from whichever leader is operating, right?","username":"scottz","ts":"2017-06-26T16:01:43.246Z"}
{"msg":"New questions. We are considering a test (without leader election) to set exactly 2 leaders per org, instead of just one. Is that recommended? I would think so, in case one of the orgleader peers stops. And the nonleader peers in an org would get their blocks from whichever leader is operating, right?","username":"scottz","ts":"2017-06-26T16:01:43.246Z"}
{"msg":"what is the scenario exactly?","username":"yacovm","ts":"2017-06-26T16:02:15.723Z"}
{"msg":"have 2 leaders statically configured","username":"yacovm","ts":"2017-06-26T16:02:23.163Z"}
{"msg":"and some number of other peers","username":"yacovm","ts":"2017-06-26T16:02:27.700Z"}
{"msg":"and \"stop\" on of the leaders?","username":"yacovm","ts":"2017-06-26T16:02:34.616Z"}
{"msg":"and to ensure blocks still reach the other peers?","username":"yacovm","ts":"2017-06-26T16:02:44.714Z"}
{"msg":"yes","username":"scottz","ts":"2017-06-26T16:03:04.253Z"}
{"msg":"You can test it, if you want","username":"yacovm","ts":"2017-06-26T16:03:45.434Z"}
{"msg":"oh, that raises another question. Do all the nonleader peers get the new blocks from an orgleader directly? Or if we had 10 peers, could some remote peers get from neighboring nonleaders.","username":"scottz","ts":"2017-06-26T16:05:09.464Z"}
{"msg":"the latter","username":"yacovm","ts":"2017-06-26T16:05:31.318Z"}
{"msg":"ok cool.  And I guess my first question was more to get confirmation that the network of peers within an org is somewhat dynamic. e.g. if one peer gets its blocks from orgleader1, and orgleader1 goes down, then it would get blocks via orgleader2 (instead of waiting for orgleader1 to restart and retrieve all the missed blocks itself from teh orderer and forward them). I guess you answered that already that the peers could get blocks via any orgleader. ","username":"scottz","ts":"2017-06-26T16:08:40.343Z"}
{"msg":"I was talking about multiple leaders in the same org","username":"yacovm","ts":"2017-06-26T16:10:47.899Z"}
{"msg":"just to be sure","username":"yacovm","ts":"2017-06-26T16:10:50.844Z"}
{"msg":"obtaining blocks from other orgs is *sloooow*","username":"yacovm","ts":"2017-06-26T16:10:58.249Z"}
{"msg":"sorry. yes that is all I meant - from other orgleaders within the same org.","username":"scottz","ts":"2017-06-26T16:11:38.041Z"}
{"msg":"But that raises another question. I thought I saw a \"fix\" merged a few weeks ago that prevents blocks to be shared between orgs. I must have misunderstood, since you are saying we definitely CAN get blocks from different orgs.","username":"scottz","ts":"2017-06-26T16:12:51.876Z"}
{"msg":"yeah but we have 2 ways of doing that","username":"yacovm","ts":"2017-06-26T16:13:28.626Z"}
{"msg":"it disabled one of them ;)","username":"yacovm","ts":"2017-06-26T16:13:40.259Z"}
{"msg":"Nice tracking though","username":"yacovm","ts":"2017-06-26T16:14:01.635Z"}
{"msg":"ok.","username":"scottz","ts":"2017-06-26T16:14:05.290Z"}
{"msg":"if I ever want to hire a private eye I would know where to look for","username":"yacovm","ts":"2017-06-26T16:14:26.361Z"}
{"msg":"thanks. Then... are there any criteria / restrictions about the sharing across orgs?","username":"scottz","ts":"2017-06-26T16:14:49.941Z"}
{"msg":"yeah, the block needs to be committed into the ledger","username":"yacovm","ts":"2017-06-26T16:15:07.737Z"}
{"msg":"only such blocks can be shared across orgs","username":"yacovm","ts":"2017-06-26T16:15:13.472Z"}
{"msg":"The only usecase I can think of ... if useLeaderElection=false and if there are no orgleaders running in one org, then those peers could get blocks from other org. ","username":"scottz","ts":"2017-06-26T16:17:22.374Z"}
{"msg":"Well they can always get them regardless","username":"yacovm","ts":"2017-06-26T16:18:14.350Z"}
{"msg":"Based on values in fabric/sampleconfig/core.yaml (except all peers have useLeaderElection=true and orgLeader=false),  when I stop an orgleader peer, how long can I expect for the next leader to be elected (worst case)?  Is it membershipSampleInterval + leaderAliveThreshold + leaderElectionDuration (16s)?","username":"scottz","ts":"2017-06-26T16:36:43.216Z"}
{"msg":"Has joined the channel.","username":"SotirisAlfonsos","ts":"2017-06-27T10:58:23.432Z","type":"uj"}
{"msg":"Hello. I want to change the default gossip port for peers:7051 to make it org specific. Could someone help me with that?","username":"SotirisAlfonsos","ts":"2017-06-27T11:00:04.975Z"}
{"msg":"Hello. I want to change the default gossip port for peers:7051 to make it org specific. Could someone help me with that?\n\n```peer0.org3.example.com    | 2017-06-27 11:46:02.597 UTC [gossip/discovery] func1 -> WARN 1a0 Could not connect to {127.0.0.1:7051 [] [] 127.0.0.1:7051} : x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs\npeer1.org2.example.com    | 2017-06-27 11:46:03.982 UTC [gossip/discovery] func1 -> WARN 19f Could not connect to {127.0.0.1:7051 [] [] 127.0.0.1:7051} : x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs\npeer1.org3.example.com    | 2017-06-27 11:46:04.743 UTC [gossip/discovery] func1 -> WARN 1a0 Could not connect to {127.0.0.1:7051 [] [] 127.0.0.1:7051} : x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs\npeer0.org2.example.com    | 2017-06-27 11:46:06.277 UTC [gossip/discovery] func1 -> WARN 19f Could not connect to {127.0.0.1:7051 [] [] 127.0.0.1:7051} : x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs\n```","username":"SotirisAlfonsos","ts":"2017-06-27T11:00:04.975Z"}
{"msg":"Do you mean","username":"yacovm","ts":"2017-06-27T12:43:10.063Z"}
{"msg":"only for gossip protocol","username":"yacovm","ts":"2017-06-27T12:43:13.146Z"}
{"msg":"or for all the peer gRPC services (proposals from clients, etc.) ? ","username":"yacovm","ts":"2017-06-27T12:43:27.422Z"}
{"msg":"@yacovm the idea is to redirect certain connections, so all peer grpc services. I think client to docker to docker is easy. I think my error is coming from not setting up the gossip properly. For example, in my case, i do not know why org2 tries to connect to the port specified for org1.","username":"SotirisAlfonsos","ts":"2017-06-27T12:49:10.473Z"}
{"msg":"@yacovm the idea is to redirect certain connections, so all peer grpc services. I think client to docker is easy. I think my error is coming from not setting up the gossip properly. For example, in my case, i do not know why org2 tries to connect to the port specified for org1.","username":"SotirisAlfonsos","ts":"2017-06-27T12:49:10.473Z"}
{"msg":"@yacovm the idea is to redirect certain connections, so all peer grpc services. I think client to docker is easy. My error is coming from not setting up the gossip properly. For example, in my case, i do not know why org2 tries to connect to the port specified for org1.","username":"SotirisAlfonsos","ts":"2017-06-27T12:49:10.473Z"}
{"msg":"Did you try to set CORE_PEER_ENDPOINT?","username":"yacovm","ts":"2017-06-27T13:06:42.316Z"}
{"msg":"@yacovm Yes but the problem seems to come from CORE_PEER_ADDRESS. Let me try again though","username":"SotirisAlfonsos","ts":"2017-06-27T13:11:21.288Z"}
{"msg":"No does not work. ","username":"SotirisAlfonsos","ts":"2017-06-27T13:56:39.487Z"}
{"msg":"Has joined the channel.","username":"webdaford","ts":"2017-06-27T18:49:06.437Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rezamt","ts":"2017-06-29T04:22:56.602Z","type":"uj"}
{"msg":"Hello. I am getting a connect failed when i try to connect to a peer with a port other than `7051`\n\nMy peer settings.\n\n```peer0.org2.example.com:\n    container_name: peer0.org2.example.com\n    extends:\n      file:   base.yaml\n      service: peer-base\n    environment:\n      - CORE_PEER_ID=peer0.org2.example.com\n      - CORE_PEER_LOCALMSPID=Org2MSP\n      - CORE_PEER_ADDRESS=peer0.org2.example.com:8051\n      - CORE_PEER_GOSSIP_ENDPOINT=peer0.org2.example.com:8051\n      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org2.example.com:8051\n      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:8051\n    ports:\n      - 8051:8051\n      - 8053:8053\n    volumes:\n        - ./crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/:/etc/hyperledger/crypto/peer\n    depends_on:\n      - orderer.example.com```","username":"SotirisAlfonsos","ts":"2017-06-29T09:57:08.578Z"}
{"msg":"Hello. I am getting a connect failed when i try to connect to a peer with a port other than `7051`\n\nMy peer settings.\n\n```peer0.org2.example.com:\n    container_name: peer0.org2.example.com\n    extends:\n      file:   base.yaml\n      service: peer-base\n    environment:\n      - CORE_PEER_ID=peer0.org2.example.com\n      - CORE_PEER_LOCALMSPID=Org2MSP\n      - CORE_PEER_ADDRESS=peer0.org2.example.com:8051\n      - CORE_PEER_GOSSIP_ENDPOINT=peer0.org2.example.com:8051\n      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org2.example.com:8051\n      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:8051\n    ports:\n      - 8051:8051\n      - 8053:8053\n    volumes:\n        - ./crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/:/etc/hyperledger/crypto/peer\n    depends_on:\n      - orderer.example.com```\n\nAny suggestions?","username":"SotirisAlfonsos","ts":"2017-06-29T09:57:08.578Z"}
{"msg":"Are you telling me that it still binds to 7051?","username":"yacovm","ts":"2017-06-29T10:11:29.412Z"}
{"msg":"ahhhh","username":"yacovm","ts":"2017-06-29T10:12:03.757Z"}
{"msg":"peer.listenAddress","username":"yacovm","ts":"2017-06-29T10:12:07.458Z"}
{"msg":"@SotirisAlfonsos ","username":"yacovm","ts":"2017-06-29T10:12:11.538Z"}
{"msg":"change the CORE_PEER_LISTENADDRESS","username":"yacovm","ts":"2017-06-29T10:12:25.791Z"}
{"msg":"@yacovm yep that was it. Now the peers are getting the message but the response takes way to long. I will have to play with it a bit more. Thanks for the help","username":"SotirisAlfonsos","ts":"2017-06-29T10:42:15.372Z"}
{"msg":"sure","username":"yacovm","ts":"2017-06-29T10:42:26.661Z"}
{"msg":"How does an orgLeader peer choose which orderer to connect to? is it random? is there a peer or gossip log that indicates which orderer address/port?","username":"scottz","ts":"2017-06-30T19:15:54.338Z"}
{"msg":"How does an orgLeader peer choose which orderer to connect to? is it random choice of one of the orderers in the genesis block? is there a peer or gossip log that indicates which orderer address/port?","username":"scottz","ts":"2017-06-30T19:15:54.338Z"}
{"msg":"@scottz yes, the choice of orderer endpoint is random selection","username":"C0rWin","ts":"2017-06-30T19:27:03.061Z"}
{"msg":"Has joined the channel.","username":"ariannagolf","ts":"2017-06-30T20:36:58.725Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alburt","ts":"2017-07-03T10:49:16.019Z","type":"uj"}
{"msg":"Hello, i would like to block the communication from the orderer to one of my peers? Any suggestions on how can i approach that?","username":"SotirisAlfonsos","ts":"2017-07-04T08:06:11.599Z"}
{"msg":"what do you mean exactly block the communication","username":"yacovm","ts":"2017-07-04T08:19:29.502Z"}
{"msg":"and why?","username":"yacovm","ts":"2017-07-04T08:19:32.484Z"}
{"msg":"you simply want the peer not to connect to the ordering service or you want it not to be able to connect at all?","username":"yacovm","ts":"2017-07-04T08:19:49.349Z"}
{"msg":"@yacovm I want to test my network with network delays and package loss. The only way i see, apart from blocking the entire veth of a peer, is to block a specific communication channel. \nWhat i am trying to do is make the orderer broadcast eventually not reach one peer (e.g. peer0).","username":"SotirisAlfonsos","ts":"2017-07-04T08:23:33.061Z"}
{"msg":"@C0rWin ","username":"yacovm","ts":"2017-07-04T08:23:53.483Z"}
{"msg":"^","username":"yacovm","ts":"2017-07-04T08:23:58.550Z"}
{"msg":"what about iptable rules?","username":"yacovm","ts":"2017-07-04T08:24:53.219Z"}
{"msg":"it'll be the simplest","username":"yacovm","ts":"2017-07-04T08:24:55.803Z"}
{"msg":"@SotirisAlfonsos consider to take a look on this https://github.com/worstcase/blockade","username":"C0rWin","ts":"2017-07-04T08:25:15.953Z"}
{"msg":"you can have decent network setup with docker, while leveraging blockade you can test different network disruption use cases ","username":"C0rWin","ts":"2017-07-04T08:25:47.661Z"}
{"msg":"duplicate packets, slow networking, segmentation","username":"C0rWin","ts":"2017-07-04T08:26:03.850Z"}
{"msg":"I am trying to use iptables but it does not seem to have the effect that i want on the network. @C0rWin i was not aware of this tool, seems like exactly what i need. Will take a look at it today. Thank you both","username":"SotirisAlfonsos","ts":"2017-07-04T08:29:48.007Z"}
{"msg":"@C0rWin nice tool but as far as i have tested i can isolate a container like with tc or iptables on the veth of a container. But i do not want to delay every incoming connection. I would like to delay only the path from a -> b, and not everything that goes to b. But thank you anyway. I am open for new suggestions. ","username":"SotirisAlfonsos","ts":"2017-07-04T11:43:35.080Z"}
{"msg":"Has joined the channel.","username":"qizhang","ts":"2017-07-05T15:04:52.393Z","type":"uj"}
{"msg":"@yacovm Hi, I have a question regarding to whether and how a peer can detect a missing block in its ledger. In Fabric, each peer maintains a full copy of the ledger/blockchain (let's assume there is only one channel in the network). What will happen if a peer lost one of its blocks in the blockchain (e.g. another process on the peer accidentally wiped out the disk area that stores the block)? Will this peer be able to detect that this block is missing? If yes, how will the peer detect it and how is it going to repair? Thanks!","username":"qizhang","ts":"2017-07-05T15:06:41.513Z"}
{"msg":"as long as you have the first block and you're able to communicate with peers","username":"yacovm","ts":"2017-07-05T15:07:31.052Z"}
{"msg":"you will reach some peer","username":"yacovm","ts":"2017-07-05T15:07:38.920Z"}
{"msg":"and sync from its blocks","username":"yacovm","ts":"2017-07-05T15:07:44.618Z"}
{"msg":"@yacovm I see, but how is a peer going to detect that a block is missing? Does a peer periodically scan its ledger?","username":"qizhang","ts":"2017-07-05T15:08:24.475Z"}
{"msg":"I see, but how is a peer going to detect that a block is missing? Is the peer going to periodically scan its ledger?","username":"qizhang","ts":"2017-07-05T15:08:24.475Z"}
{"msg":"@yacovm I see, but how is a peer going to detect that a block is missing? Is the peer going to periodically scan its ledger?","username":"qizhang","ts":"2017-07-05T15:08:24.475Z"}
{"msg":"it doesn't need to periodically scan ","username":"yacovm","ts":"2017-07-05T15:10:13.757Z"}
{"msg":"it keeps track of the block number","username":"yacovm","ts":"2017-07-05T15:10:19.235Z"}
{"msg":"and sees the block numbers of his friends","username":"yacovm","ts":"2017-07-05T15:10:24.138Z"}
{"msg":"they gossip this data","username":"yacovm","ts":"2017-07-05T15:10:28.026Z"}
{"msg":"@yacovm Thanks! I understand, but still not that clear. Let's say in a network of 4 peers (peer1 to peer4), peer1 - peer3 all have block 1,2,3,4,5,6, but peer 4 only has block 1,3,4,5,6. When will peer 4 see the block numbers of the other peers and find that it is missing block 2?","username":"qizhang","ts":"2017-07-05T15:14:55.186Z"}
{"msg":"@yacovm Thanks! I understand more, but still not quite clear. Let's say in a network of 4 peers (peer1 to peer4), peer1 - peer3 all have block 1,2,3,4,5,6, but peer 4 only has block 1,3,4,5,6. When will peer 4 see the block numbers of the other peers and find that it is missing block 2?","username":"qizhang","ts":"2017-07-05T15:14:55.186Z"}
{"msg":"@yacovm Thanks! I understand, but still not quite clear. Let's say in a network of 4 peers (peer1 to peer4), peer1 - peer3 all have block 1,2,3,4,5,6, but peer 4 only has block 1,3,4,5,6. When will peer 4 see the block numbers of the other peers and find that it is missing block 2?","username":"qizhang","ts":"2017-07-05T15:14:55.186Z"}
{"msg":"when?","username":"yacovm","ts":"2017-07-05T15:22:51.311Z"}
{"msg":"well it will see they have block 4 after a few seconds","username":"yacovm","ts":"2017-07-05T15:23:13.191Z"}
{"msg":"How can I enable gossip across peers from different orgs?","username":"divyank","ts":"2017-07-05T19:05:21.659Z"}
{"msg":"define the external endpoint","username":"yacovm","ts":"2017-07-05T20:18:32.844Z"}
{"msg":"in the config","username":"yacovm","ts":"2017-07-05T20:18:36.291Z"}
{"msg":"@yacovm Do I also need to configure TLS settings to ensure an Org1 peer can talk to an Org2 peer? (I'm using a default network setup like fabric/examples/e2e_cli)","username":"divyank","ts":"2017-07-05T20:57:14.003Z"}
{"msg":"good question","username":"yacovm","ts":"2017-07-05T20:57:35.815Z"}
{"msg":"when you make the peers join the channel","username":"yacovm","ts":"2017-07-05T20:57:44.200Z"}
{"msg":"fabric will do that for you ;)","username":"yacovm","ts":"2017-07-05T20:57:49.068Z"}
{"msg":"(magic)","username":"yacovm","ts":"2017-07-05T20:57:58.900Z"}
{"msg":"@yacovm trying to gain some insight into the magic :)\nAre the trusted roots for TLS configured based on the Organization CAs for each channel?","username":"divyank","ts":"2017-07-06T17:10:45.041Z"}
{"msg":"Yeah","username":"yacovm","ts":"2017-07-06T18:56:22.278Z"}
{"msg":"So basically when you define a channel","username":"yacovm","ts":"2017-07-06T18:56:33.480Z"}
{"msg":"You put in the genesis block the root CA certs","username":"yacovm","ts":"2017-07-06T18:56:44.686Z"}
{"msg":"When the peers get them, they update their root ca cert pool","username":"yacovm","ts":"2017-07-06T18:57:15.518Z"}
{"msg":"For the connections between peers","username":"yacovm","ts":"2017-07-06T18:57:32.037Z"}
{"msg":"Has joined the channel.","username":"DannyWong","ts":"2017-07-08T03:27:35.287Z","type":"uj"}
{"msg":"Has joined the channel.","username":"eliranbi","ts":"2017-07-10T17:38:14.533Z","type":"uj"}
{"msg":"https://chat.hyperledger.org/channel/fabric-consensus?msg=6ftKc3fXW6fcdRJth","username":"eliranbi","ts":"2017-07-10T17:40:47.594Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-consensus?msg=6ftKc3fXW6fcdRJth","url":"https://chat.hyperledger.org/channel/fabric-consensus?msg=6ftKc3fXW6fcdRJth","remote":true,"fileId":null,"fileName":null}]}
{"msg":"what do you mean how?","username":"yacovm","ts":"2017-07-10T19:09:10.337Z"}
{"msg":"it is done via the same mechanism","username":"yacovm","ts":"2017-07-10T19:09:15.907Z"}
{"msg":"the time difference doesn't matter","username":"yacovm","ts":"2017-07-10T19:09:23.587Z"}
{"msg":"Has joined the channel.","username":"gauthampamu","ts":"2017-07-11T21:18:02.259Z","type":"uj"}
{"msg":"@yacov Regarding https://gerrit.hyperledger.org/r/#/c/11377/ , is there an error log that announces that the peer dropped a gossip message? It would be good to announce a block was dropped. ","username":"scottz","ts":"2017-07-11T21:54:42.436Z"}
{"msg":"@yacovm  Regarding https://gerrit.hyperledger.org/r/#/c/11377/ , is there an error log that announces that the peer dropped a gossip message? It would be good to announce a block was dropped. ","username":"scottz","ts":"2017-07-11T21:54:42.436Z"}
{"msg":"Since the other peers don't know what they never received, what happens later, after dropping blocks 500-1000, when traffic slows down? Does block number 1001 get delivered and disseminated to all the peers? Do all the nonleader peers ever get the missed blocks? Won't they become confused when they notice the gap in blocknumbers? ","username":"scottz","ts":"2017-07-11T21:56:27.051Z"}
{"msg":"It is logged ","username":"yacovm","ts":"2017-07-11T22:01:39.187Z"}
{"msg":"But that change set isn't related","username":"yacovm","ts":"2017-07-11T22:02:08.121Z"}
{"msg":"But that change set isn't related to dropping a message","username":"yacovm","ts":"2017-07-11T22:02:08.121Z"}
{"msg":"I think you have a mistake in the change set, Scott","username":"yacovm","ts":"2017-07-11T22:02:46.769Z"}
{"msg":"I know you didn't add a log with that changeset. I just wanted to know if there was a log - what we can look for while testing to see if a block/message gets dropped. Can you share exactly what it looks like?","username":"scottz","ts":"2017-07-11T22:05:59.414Z"}
{"msg":"wait","username":"yacovm","ts":"2017-07-11T22:08:15.263Z"}
{"msg":"let's make sure we are in sync","username":"yacovm","ts":"2017-07-11T22:08:20.500Z"}
{"msg":"are you talking about dropping messages *because of overflow (too many messages per second)* or dropping messages of blocks that are not verified?","username":"yacovm","ts":"2017-07-11T22:08:51.685Z"}
{"msg":"the change set you linked refers to the latter","username":"yacovm","ts":"2017-07-11T22:09:04.777Z"}
{"msg":"I did mean the first one. But now that you mention it, can you answer both?","username":"scottz","ts":"2017-07-11T22:10:53.659Z"}
{"msg":"so the 2nd one - is printed https://gerrit.hyperledger.org/r/#/c/11377/4/gossip/gossip/channel/channel.go@428","username":"yacovm","ts":"2017-07-11T22:11:25.215Z"}
{"msg":"ok","username":"scottz","ts":"2017-07-11T22:12:18.297Z"}
{"msg":"the latter - nope, not printed. \nhttps://github.com/hyperledger/fabric/blob/master/gossip/comm/conn.go#L262-L263\nWe can add a print post v1 in DEBUG","username":"yacovm","ts":"2017-07-11T22:12:26.371Z"}
{"msg":"the former  - nope, not printed. \nhttps://github.com/hyperledger/fabric/blob/master/gossip/comm/conn.go#L262-L263\nWe can add a print post v1 in DEBUG","username":"yacovm","ts":"2017-07-11T22:12:26.371Z"}
{"msg":"That's odd, I was sure we had a DEBUG print, I guess it got deleted","username":"yacovm","ts":"2017-07-11T22:13:02.364Z"}
{"msg":"we can create a jira for that.  hmmm. If I lose a block on the send buffer, then another peer will not receive a block. That seems more serious than a DEBUG log.","username":"scottz","ts":"2017-07-11T22:14:29.577Z"}
{"msg":"It's not that simple","username":"yacovm","ts":"2017-07-11T22:14:45.011Z"}
{"msg":"you just compromised the ledger","username":"scottz","ts":"2017-07-11T22:14:46.758Z"}
{"msg":"it's much more complicated","username":"yacovm","ts":"2017-07-11T22:14:48.696Z"}
{"msg":"nah","username":"yacovm","ts":"2017-07-11T22:14:50.359Z"}
{"msg":"I'll elaborate","username":"yacovm","ts":"2017-07-11T22:15:01.366Z"}
{"msg":"If you lose a block via a connection buffer overflow, the block may still get to that peer via a different peer","username":"yacovm","ts":"2017-07-11T22:15:48.445Z"}
{"msg":"also - in gossip we have reconciliation","username":"yacovm","ts":"2017-07-11T22:16:12.723Z"}
{"msg":"eventually you will see that you're missing a block that some other peer has","username":"yacovm","ts":"2017-07-11T22:16:30.297Z"}
{"msg":"and you would fetch the block from that peer","username":"yacovm","ts":"2017-07-11T22:16:38.941Z"}
{"msg":"BTW dropping messages is probably the *only thing* you can do if you have to \"keep the system running\". \nOtherwise - the system may deadlock","username":"yacovm","ts":"2017-07-11T22:17:58.533Z"}
{"msg":"BTW dropping messages is probably the *only thing* you can do if you have to \"keep the system running\". \nOtherwise - the system may get \"Stuck\"","username":"yacovm","ts":"2017-07-11T22:17:58.533Z"}
{"msg":"think about it - if you have a network where you input data into it in a rate that exceeds the network consumption - you will get stuck. ","username":"yacovm","ts":"2017-07-11T22:18:54.383Z"}
{"msg":"hmmm. ok. then the way to test this would be to run bursty traffic for awhile, and then after a longer while can query and confirm all blocks eventually were delivered to all peers.","username":"scottz","ts":"2017-07-11T22:23:36.304Z"}
{"msg":"yeah","username":"yacovm","ts":"2017-07-11T22:24:33.575Z"}
{"msg":"ok. thanks. gotta run. have a good night!","username":"scottz","ts":"2017-07-11T22:24:48.824Z"}
{"msg":"Hello. Where can i define the peers that the orderer should message on broadcast? Is it `AnchorPeers`?","username":"SotirisAlfonsos","ts":"2017-07-14T09:27:05.410Z"}
{"msg":"Has joined the channel.","username":"yifanxiang","ts":"2017-07-14T09:27:38.014Z","type":"uj"}
{"msg":"There is leader election mechanism which engages selection of peers which connects to ordering service, basically no need to manually define it","username":"C0rWin","ts":"2017-07-14T09:30:37.021Z"}
{"msg":"if you need it, you can turn leader election off and make static selection, but please note, that this approach is not resilient to failures and if your peer which connects to ordering service will fails, you will have to bring him up again manually ","username":"C0rWin","ts":"2017-07-14T09:31:52.073Z"}
{"msg":"in case of leader election on, such peer will be reselected once failure will be detected (a few seconds)","username":"C0rWin","ts":"2017-07-14T09:32:39.175Z"}
{"msg":"@SotirisAlfonsos ^^^","username":"C0rWin","ts":"2017-07-14T09:33:10.827Z"}
{"msg":"this is a part of `core.yaml` you might be interesting in","username":"C0rWin","ts":"2017-07-14T09:34:19.062Z"}
{"msg":"```\n    # Gossip related configuration\n    gossip:\n        # Bootstrap set to initialize gossip with.\n        # This is a list of other peers that this peer reaches out to at startup.\n        # Important: The endpoints here have to be endpoints of peers in the same\n        # organization, because the peer would refuse connecting to these endpoints\n        # unless they are in the same organization as the peer.\n        bootstrap: 127.0.0.1:7051\n\n        # NOTE: orgLeader and useLeaderElection parameters are mutual exclusive.\n        # Setting both to true would result in the termination of the peer\n        # since this is undefined state. If the peers are configured with\n        # useLeaderElection=false, make sure there is at least 1 peer in the\n        # organization that its orgLeader is set to true.\n\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: false\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: true\n```","username":"C0rWin","ts":"2017-07-14T09:34:24.549Z"}
{"msg":"you either use leader election, hence making `useLeaderElection:true` or select peer as a leader statically `orgLeader: true`....","username":"C0rWin","ts":"2017-07-14T09:35:14.007Z"}
{"msg":"these parameters are mutual exclusive ","username":"C0rWin","ts":"2017-07-14T09:35:27.396Z"}
{"msg":"@C0rWin hmm. Currently i am dropping packets from the orderer to peer0. But peer1 seems to not get the packets either. Leader election is on. My bootstrap is different though. ","username":"SotirisAlfonsos","ts":"2017-07-14T09:35:44.335Z"}
{"msg":"> dropping packets\n\ndo you mean deliver packets?","username":"C0rWin","ts":"2017-07-14T09:36:38.069Z"}
{"msg":"are peer0 and peer1 in same org?","username":"C0rWin","ts":"2017-07-14T09:36:55.377Z"}
{"msg":"have you configured either of them to bootstrap set?","username":"C0rWin","ts":"2017-07-14T09:37:18.139Z"}
{"msg":"Yes they are in the same org. Applying package loss to the connection so they do not receive the new blocks. ","username":"SotirisAlfonsos","ts":"2017-07-14T09:38:26.125Z"}
{"msg":"Yes they are in the same org. Applying package loss to the connection so they do not receive the new blocks. Basically he can not communicate with the orderer. but peer1 experiences the same package loss. For some reason","username":"SotirisAlfonsos","ts":"2017-07-14T09:38:26.125Z"}
{"msg":"ok, but peer0 is alive and peer1 can see it?","username":"C0rWin","ts":"2017-07-14T09:39:20.786Z"}
{"msg":"Yes they are both alive","username":"SotirisAlfonsos","ts":"2017-07-14T09:39:48.757Z"}
{"msg":"do you know which one of them is a leader?","username":"C0rWin","ts":"2017-07-14T09:40:44.243Z"}
{"msg":"Did you join both peers to the channel?","username":"yacovm","ts":"2017-07-14T09:49:28.327Z"}
{"msg":"@yacovm Yes. so let me elaborate a bit because the details i provided so far are not sufficient. I create the containers where org1 belongs to two channels and controls 2 peers ( `peer0.org1.example.com` `peer1.org1.example.com` ). I am triggering the network delays. So an iptables rule that classifies the packets going from the `orderer` to `peer0.org1.example.com`. Then with a `tc qdisc` i apply package loss 100% to those packets. \n\nNow i run my code that goes: user enrollment, channel creation, join channels, install chaincode. Everything works up to that point. Now i am sending two instantiates, one for each channel, and sending them both to `org1`. The instantiates are signed by both `peer0.org1.example.com` `peer1.org1.example.com`, and now i would expect for the orderer to send the block to the peers. `peer0.org1.example.com` should not receive the block, and he does not. But i would expect that `peer1.org1.example.com` would receive the block, but he does not.","username":"SotirisAlfonsos","ts":"2017-07-14T10:07:49.447Z"}
{"msg":"@yacovm Yes. so let me elaborate a bit because the details i provided so far are not sufficient. I create the containers where org1 belongs to two channels and controls 2 peers ( `peer0.org1.example.com` `peer1.org1.example.com` ). I am triggering the network delays. So an iptables rule that classifies the packets going from the `orderer` to `peer0.org1.example.com`. Then with a `tc qdisc` i apply package loss 100% to those packets. \n\nNow i run my code that goes: user enrollment, channel creation, join channels, install chaincode. Everything works up to that point. Now i am sending two instantiates, one for each channel, and sending them both to `org1`. The instantiates are signed by both `peer0.org1.example.com` `peer1.org1.example.com`, and now i would expect for the orderer to send the block to the peers. `peer0.org1.example.com` should not receive the block, and he does not. But i would expect that `peer1.org1.example.com` would receive the block, but he does not.\n\nI can see on the logs\n```peer0.org1.example.com    | 2017-07-14 09:49:19.638 UTC [ConnProducer] NewConnection -> ERRO 057 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded\npeer0.org1.example.com    | 2017-07-14 09:49:19.639 UTC [deliveryClient] connect -> ERRO 058 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]```\n\nbut nothing for peer1. ","username":"SotirisAlfonsos","ts":"2017-07-14T10:07:49.447Z"}
{"msg":"@yacovm Yes. so let me elaborate a bit because the details i provided so far are not sufficient. I create the containers where org1 belongs to two channels and controls 2 peers ( `peer0.org1.example.com` `peer1.org1.example.com` ). I am triggering the network delays. So an iptables rule that classifies the packets going from the `orderer` to `peer0.org1.example.com`. Then with a `tc qdisc` i apply package loss 100% to those packets. \n\nNow i run my code that goes: user enrollment, channel creation, join channels, install chaincode. Everything works up to that point. Now i am sending two instantiates, one for each channel, and sending them both to `org1`. The instantiates are signed by both `peer0.org1.example.com` `peer1.org1.example.com`, and now i would expect for the orderer to send the block to the peers. `peer0.org1.example.com` should not receive the block, and he does not. But i would expect that `peer1.org1.example.com` would receive the block, but he does not.\n\nI can see on the logs\n```peer0.org1.example.com    | 2017-07-14 09:49:19.638 UTC [ConnProducer] NewConnection -> ERRO 057 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded\npeer0.org1.example.com    | 2017-07-14 09:49:19.639 UTC [deliveryClient] connect -> ERRO 058 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]```\n\nbut nothing for peer1. As an AnchorPeer for `org1` i only have  `peer0.org1.example.com`. ","username":"SotirisAlfonsos","ts":"2017-07-14T10:07:49.447Z"}
{"msg":"Upload the dockrfiles","username":"yacovm","ts":"2017-07-14T10:32:18.359Z"}
{"msg":"The compose","username":"yacovm","ts":"2017-07-14T10:32:27.712Z"}
{"msg":"its a bit of a mess but:\nhttps://github.com/SotirisAlfonsos/TempKafkaSet/blob/master/docker-compose.yaml\nhttps://github.com/SotirisAlfonsos/TempKafkaSet/blob/master/base.yaml","username":"SotirisAlfonsos","ts":"2017-07-14T10:41:18.198Z"}
{"msg":"@SotirisAlfonsos let's try something shall wel?","username":"yacovm","ts":"2017-07-14T12:16:13.094Z"}
{"msg":"*shall we","username":"yacovm","ts":"2017-07-14T12:16:15.656Z"}
{"msg":"kill the peer that can't connect to the orderer","username":"yacovm","ts":"2017-07-14T12:16:24.723Z"}
{"msg":"and see if the other peer - gets these drops of blocks","username":"yacovm","ts":"2017-07-14T12:16:38.525Z"}
{"msg":"and see if the other peer - gets these droppings of packets","username":"yacovm","ts":"2017-07-14T12:16:38.525Z"}
{"msg":"sounds good. give me a sec","username":"SotirisAlfonsos","ts":"2017-07-14T12:16:58.963Z"}
{"msg":"Side note. I dropped the packets from the `orderer` to `peer1.org1.example.com`. Now i see 2 messages on peer1 failing to connect to the orderer.\n\n```2017-07-14 12:16:13.561 UTC [ConnProducer] NewConnection -> ERRO 03b Failed connecting to orderer.example.com:7050 , error: context deadline exceeded\n2017-07-14 12:16:13.561 UTC [deliveryClient] connect -> ERRO 03c Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]```\n\nBut after that he got the blocks. I guess from `peer0.org1.example.com`","username":"SotirisAlfonsos","ts":"2017-07-14T12:23:35.934Z"}
{"msg":"I don't get it","username":"yacovm","ts":"2017-07-14T12:24:14.304Z"}
{"msg":"I told you to kill peer0 ","username":"yacovm","ts":"2017-07-14T12:25:23.172Z"}
{"msg":"so how does peer1 get the blocks if peer0 is now dead?","username":"yacovm","ts":"2017-07-14T12:25:32.655Z"}
{"msg":"This is a case where the only connection with package loss is `orderer` -> `peer1`. I did not try your suggestion yet. was running another test","username":"SotirisAlfonsos","ts":"2017-07-14T12:26:16.173Z"}
{"msg":"setting it up now","username":"SotirisAlfonsos","ts":"2017-07-14T12:26:28.403Z"}
{"msg":"ah","username":"yacovm","ts":"2017-07-14T12:26:34.942Z"}
{"msg":"so it seems like @C0rWin 's theory is correct","username":"yacovm","ts":"2017-07-14T12:26:48.607Z"}
{"msg":"try what i said though","username":"yacovm","ts":"2017-07-14T12:26:54.027Z"}
{"msg":"start everything from scratch","username":"yacovm","ts":"2017-07-14T12:26:59.309Z"}
{"msg":"make the packet loss from peer0 to the orderer","username":"yacovm","ts":"2017-07-14T12:27:06.567Z"}
{"msg":"ensure peer1 doesn't get the blocks","username":"yacovm","ts":"2017-07-14T12:27:11.157Z"}
{"msg":"and then kill peer0","username":"yacovm","ts":"2017-07-14T12:27:15.593Z"}
{"msg":"and see that peer1 gets the blocks","username":"yacovm","ts":"2017-07-14T12:27:19.796Z"}
{"msg":"I'm on mobile from now on so will be a bit non responsive, but pleas write your results here","username":"yacovm","ts":"2017-07-14T12:28:14.161Z"}
{"msg":"Yes @C0rWin was right. After killing `peer0`, `peer1` tries to connect to him ( but fails ) and then gets the blocks, i guess because he became the leader.","username":"SotirisAlfonsos","ts":"2017-07-14T12:36:36.973Z"}
{"msg":"But is there a way to solve that? Can i specify a timer for leader election?","username":"SotirisAlfonsos","ts":"2017-07-14T12:39:55.224Z"}
{"msg":"We will","username":"yacovm","ts":"2017-07-14T12:40:49.662Z"}
{"msg":"Can you open a jira?","username":"yacovm","ts":"2017-07-14T12:41:07.222Z"}
{"msg":"I do not have an account. I will request one and create a jira","username":"SotirisAlfonsos","ts":"2017-07-14T12:43:33.085Z"}
{"msg":"Ah its ok if you dont have i'll open a jira","username":"yacovm","ts":"2017-07-14T12:56:32.718Z"}
{"msg":"no i did i am just searching to tag you","username":"SotirisAlfonsos","ts":"2017-07-14T13:08:20.290Z"}
{"msg":"Great. thanks for the help","username":"SotirisAlfonsos","ts":"2017-07-14T13:09:17.989Z"}
{"msg":"Same username","username":"yacovm","ts":"2017-07-14T13:09:18.988Z"}
{"msg":"Has joined the channel.","username":"toddinpal","ts":"2017-07-15T13:50:47.817Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cre8bidio","ts":"2017-07-17T00:45:53.138Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qsmen","ts":"2017-07-17T06:37:44.108Z","type":"uj"}
{"msg":"it is always said blockchain is based on p2p communication.  one peer sends information to another peeer or an peer broadcast information to every peer?","username":"qsmen","ts":"2017-07-17T07:08:17.908Z"}
{"msg":"Has joined the channel.","username":"dushyantbehl","ts":"2017-07-17T07:57:08.003Z","type":"uj"}
{"msg":"Has joined the channel.","username":"narayanprusty","ts":"2017-07-18T11:49:16.055Z","type":"uj"}
{"msg":"Does peers sync only from peers of the same organization and orderer it is connected to or do they also sync from peers of other organizations of the same channel.\nBasically I want to know if peers of different organizations connect to each other and sync up.","username":"narayanprusty","ts":"2017-07-18T11:49:21.588Z"}
{"msg":"all orgs of the same channel ","username":"yacovm","ts":"2017-07-18T11:50:05.790Z"}
{"msg":"Ok. It means yes. ","username":"narayanprusty","ts":"2017-07-18T11:52:32.964Z"}
{"msg":"it does","username":"yacovm","ts":"2017-07-18T11:54:38.596Z"}
{"msg":"Has joined the channel.","username":"BhavishaDawda","ts":"2017-07-19T19:24:06.802Z","type":"uj"}
{"msg":"Has joined the channel.","username":"linyuadam","ts":"2017-07-20T05:50:07.721Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rush_mwright","ts":"2017-07-20T14:49:25.482Z","type":"uj"}
{"msg":"Has joined the channel.","username":"indirajith","ts":"2017-07-21T10:21:16.426Z","type":"uj"}
{"msg":"@yacovm @C0rWin Does state transfer recompute block hashes and therefore verify chain integrity as it is being transferred?  If not, do you agree it would be a good feature to verify chain integrity as it goes?  This would ensure that one corrupted/tampered peer would not bleed into others.","username":"dave.enyeart","ts":"2017-07-25T21:00:31.007Z"}
{"msg":"@binhn Note that code was written to Verify the integrity of the chain for https://jira.hyperledger.org/browse/FAB-609.  I'd still like us to consider it for a next release, even if we don't have cross-peer verification yet.","username":"dave.enyeart","ts":"2017-07-25T21:02:25.519Z"}
{"msg":"the integrity is preserved by each step","username":"yacovm","ts":"2017-07-25T21:02:46.756Z"}
{"msg":"you can't do forward hash chain verification","username":"yacovm","ts":"2017-07-25T21:03:06.762Z"}
{"msg":"only backwards","username":"yacovm","ts":"2017-07-25T21:03:08.915Z"}
{"msg":"since the ledger is built onwards","username":"yacovm","ts":"2017-07-25T21:03:17.281Z"}
{"msg":"it is verified via signatures","username":"yacovm","ts":"2017-07-25T21:03:23.036Z"}
{"msg":"state transfer verifies signatures of the blocks","username":"C0rWin","ts":"2017-07-25T21:03:26.212Z"}
{"msg":"```\t\tif err := s.mcs.VerifyBlock(common2.ChainID(s.chainID), payload.SeqNum, payload.Data); err != nil {\n\t\t\tlogger.Warningf(\"Error verifying block with sequence number %d, due to %s\", payload.SeqNum, err)\n\t\t\treturn uint64(0), err\n\t\t}```","username":"C0rWin","ts":"2017-07-25T21:03:50.204Z"}
{"msg":"doesn't ledger do chain validation while commits the block?","username":"C0rWin","ts":"2017-07-25T21:04:15.471Z"}
{"msg":"@dave.enyeart doesn't ledger do chain validation while commits the block?","username":"C0rWin","ts":"2017-07-25T21:04:15.471Z"}
{"msg":"i mean if somebody altered data in peerA block 100 post-commit, would that tampered data flow to downstream state transferred peers?","username":"dave.enyeart","ts":"2017-07-25T21:06:44.499Z"}
{"msg":"i meant a verification of block hashes. i guess a complete verification would require checking block hashes and signatures?","username":"dave.enyeart","ts":"2017-07-25T21:07:56.948Z"}
{"msg":"how you can alter it? is signed","username":"C0rWin","ts":"2017-07-25T21:08:07.795Z"}
{"msg":"how you can alter it? it signed","username":"C0rWin","ts":"2017-07-25T21:08:07.795Z"}
{"msg":"whose signature is it? an orderer?  and where is it? in metadata?","username":"dave.enyeart","ts":"2017-07-25T21:08:39.426Z"}
{"msg":"orderer, and yes metadata.","username":"C0rWin","ts":"2017-07-25T21:12:11.509Z"}
{"msg":"but again, I do not understand, didn't ledger ensures to verify hash of previous block while committing the new block?","username":"C0rWin","ts":"2017-07-25T21:14:01.888Z"}
{"msg":"'ledger' only does state validation.  'committer' does other validations.","username":"dave.enyeart","ts":"2017-07-25T21:14:53.194Z"}
{"msg":"you mean MVCC validation @dave.enyeart ","username":"yacovm","ts":"2017-07-25T21:25:45.510Z"}
{"msg":"right?","username":"yacovm","ts":"2017-07-25T21:25:51.128Z"}
{"msg":"i mean, nothing in ledger component verifies hashes across blocks. not MVCC or any other ledger code. Discussed with @yacovm that this is acceptable since peer trusts orderer and the data is verified against orderer signature.","username":"dave.enyeart","ts":"2017-07-25T22:23:13.638Z"}
{"msg":"i mean, nothing in ledger component verifies hashes across blocks. not MVCC or any other ledger code. Discussed with @yacovm that this is acceptable since peer trusts orderer and the block is verified against orderer signature.","username":"dave.enyeart","ts":"2017-07-25T22:23:13.638Z"}
{"msg":"and to answer my original question... i agree that since state transfer is verifying block against orderer signature, that there is no chance to corrupted/tampered data bleeding into other peers via state transfer","username":"dave.enyeart","ts":"2017-07-25T22:25:07.560Z"}
{"msg":"and to answer my original question... i agree that since state transfer is verifying block against orderer signature, that there is no chance of corrupted/tampered data bleeding into other peers via state transfer","username":"dave.enyeart","ts":"2017-07-25T22:25:07.560Z"}
{"msg":"Has joined the channel.","username":"Rachitga","ts":"2017-07-26T08:41:49.944Z","type":"uj"}
{"msg":"Hello All, I wanted to know if in the present architecture a malicious orderer is handled or not. Lets say an orderer service node is malicious and drops transactions and forms false blocks, the committers connected to this orderer have difference in the ledgers maintained by them. Do the peers then get the correct ledger by assuming a gossip protocol between them or gossip only happens when the peers are out of sync. ","username":"Rachitga","ts":"2017-07-26T08:43:27.085Z"}
{"msg":"there is no byzantine support with regard to orderers","username":"yacovm","ts":"2017-07-26T08:54:03.389Z"}
{"msg":"at v1.0","username":"yacovm","ts":"2017-07-26T08:54:04.789Z"}
{"msg":"okay so its not byzantine fault tolerant, but is it crash fault tolerant?","username":"Rachitga","ts":"2017-07-26T08:57:52.835Z"}
{"msg":"@yacovm , okay so its not byzantine fault tolerant, but is it crash fault tolerant?","username":"Rachitga","ts":"2017-07-26T08:57:52.835Z"}
{"msg":"What is?","username":"yacovm","ts":"2017-07-26T09:09:11.561Z"}
{"msg":"committers","username":"Rachitga","ts":"2017-07-26T09:17:13.042Z"}
{"msg":"so it depends on the aspect","username":"yacovm","ts":"2017-07-26T09:30:17.709Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=a6aZPkJgh32SdmNo9) @dave.enyeart What if someone spoofs the identity of an orderer, wtih a man-in-the-middle attack? (Should the peer really trust the orderer, without validation of hashes, etc?)","username":"scottz","ts":"2017-07-26T15:15:55.157Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=a6aZPkJgh32SdmNo9","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=a6aZPkJgh32SdmNo9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"you mean MITM and impersonate the orderer @scottz ?","username":"yacovm","ts":"2017-07-26T15:34:16.345Z"}
{"msg":"yes","username":"scottz","ts":"2017-07-26T15:34:40.321Z"}
{"msg":"we have TLS in place","username":"yacovm","ts":"2017-07-26T15:37:18.238Z"}
{"msg":"and the root CA certs are loaded from the config block","username":"yacovm","ts":"2017-07-26T15:37:29.261Z"}
{"msg":"should be impossible","username":"yacovm","ts":"2017-07-26T15:37:31.436Z"}
{"msg":"unless there is a bug in the code","username":"yacovm","ts":"2017-07-26T15:37:41.597Z"}
{"msg":"if there are only two members in a channel and the two members are behind two different NATs  respectively without public IP, it would be very difficult for them to form the same ledger.","username":"qsmen","ts":"2017-07-28T09:03:11.672Z"}
{"msg":"if there are only two members in a channel and the two members are behind two different NATs  respectively without public IP, is  it  difficult for them to form the same ledger?","username":"qsmen","ts":"2017-07-28T09:03:11.672Z"}
{"msg":"it is very difficult for them to run the gossip protocol","username":"qsmen","ts":"2017-07-28T09:05:19.429Z"}
{"msg":"maybe it is impossible to set up such a channel","username":"qsmen","ts":"2017-07-28T09:14:50.771Z"}
{"msg":"IPV","username":"qsmen","ts":"2017-07-28T09:15:55.157Z"}
{"msg":"IPV6 is greatly needed ","username":"qsmen","ts":"2017-07-28T09:15:55.157Z"}
{"msg":"how would IPv6 help?","username":"yacovm","ts":"2017-07-28T09:34:29.019Z"}
{"msg":"if every peer has ipv6 address, then the gossip will run, then no problem","username":"qsmen","ts":"2017-07-28T09:37:45.895Z"}
{"msg":"but he is behind a NAT","username":"yacovm","ts":"2017-07-28T09:45:23.477Z"}
{"msg":"Your port forwarding is also a good method if I can configure the NAT. @yacovm ","username":"qsmen","ts":"2017-07-28T09:46:44.895Z"}
{"msg":"you mean if a computer is behind a NAT, it is impossible to have a public IP?","username":"qsmen","ts":"2017-07-28T09:47:53.646Z"}
{"msg":"yes","username":"yacovm","ts":"2017-07-28T09:48:04.413Z"}
{"msg":"ok","username":"qsmen","ts":"2017-07-28T09:48:08.493Z"}
{"msg":"i see.","username":"qsmen","ts":"2017-07-28T09:48:14.405Z"}
{"msg":"i need to go, bye","username":"yacovm","ts":"2017-07-28T09:48:19.778Z"}
{"msg":"thank you ","username":"qsmen","ts":"2017-07-28T09:48:28.004Z"}
{"msg":"byebye","username":"qsmen","ts":"2017-07-28T09:48:32.513Z"}
{"msg":"Hi, is there any function that related with a peer fetching a block from its neighbors? Thanks!","username":"qizhang","ts":"2017-07-30T21:34:23.329Z"}
{"msg":"@qizhang there is no direct API to fetch a block from other peers. there is a logic which detects a gap and request missing block based on ledger height advertised by channel peers.","username":"C0rWin","ts":"2017-07-30T22:44:53.184Z"}
{"msg":"there are two type of messages responsible for that","username":"C0rWin","ts":"2017-07-30T22:45:21.360Z"}
{"msg":"```// State transfer\n\n// RemoteStateRequest is used to ask a set of blocks\n// from a remote peer\nmessage RemoteStateRequest {\n    uint64 start_seq_num = 1;\n    uint64 end_seq_num = 2;\n}\n\n// RemoteStateResponse is used to send a set of blocks\n// to a remote peer\nmessage RemoteStateResponse {\n    repeated Payload payloads = 1;\n}\n```","username":"C0rWin","ts":"2017-07-30T22:45:36.520Z"}
{"msg":"Thanks @C0rWin ","username":"qizhang","ts":"2017-07-31T18:27:38.185Z"}
{"msg":"Hi Guys, one question, on a node failure, how does gossip request the missing data from peers?","username":"berserkr","ts":"2017-08-02T03:49:34.271Z"}
{"msg":"and if a block is fetched, does it validate anything? or does it just apply the changes in the write sets?","username":"berserkr","ts":"2017-08-02T03:50:32.862Z"}
{"msg":"@berserkr it knows its own ledger height and other peers ledge height","username":"yacovm","ts":"2017-08-02T05:17:18.080Z"}
{"msg":"It verifiee the signature of the orderer on the block","username":"yacovm","ts":"2017-08-02T05:17:37.466Z"}
{"msg":"@qizhang PayloadsBuffer is a gossip artifact, I'm re-posting your question over here","username":"dave.enyeart","ts":"2017-08-02T10:49:48.857Z"}
{"msg":">Hi, is the \"PayloadsBuffer\" a peer local buffer that stores the blocks before committing them to the ledger? Do these blocks include those received from either the orderer or the other peers? Thanks!","username":"dave.enyeart","ts":"2017-08-02T10:49:53.214Z"}
{"msg":"Nice classification Dave.\n @qizhang yes both from the orderer and from peers","username":"yacovm","ts":"2017-08-02T10:51:26.489Z"}
{"msg":"Thanks @dave.enyeart @yacovm . ","username":"qizhang","ts":"2017-08-02T14:06:43.683Z"}
{"msg":"Given that I have multiple ordering nodes in an ordering service (with a single kafka-zookeeper cluster), when i create a channel and make the peer join the channel, will gossip connects to all orderers in the ordering service for receiving the block or only one chosen at random or load balanced? ","username":"Senthil1","ts":"2017-08-05T10:28:48.892Z"}
{"msg":"chosen at random","username":"yacovm","ts":"2017-08-05T10:40:39.506Z"}
{"msg":"when disconnects - chosen at random again.\nwhen receives a bad status from the orderer - chosen at random out of the other orderer nodes","username":"yacovm","ts":"2017-08-05T10:41:13.718Z"}
{"msg":"thank @yacovm ","username":"Senthil1","ts":"2017-08-05T14:54:11.201Z"}
{"msg":"thanks @yacovm ","username":"Senthil1","ts":"2017-08-05T14:54:11.201Z"}
{"msg":"@MeenakshiSingh Moving your question here...","username":"dave.enyeart","ts":"2017-08-05T15:11:42.374Z"}
{"msg":"Has joined the channel.","username":"MeenakshiSingh","ts":"2017-08-05T15:11:42.464Z","type":"uj"}
{"msg":">I have a couple of doubts: 1. What exactly does the environment variable `CORE_PEER_GOSSIP_BOOTSTRAP` does? Does it enable gossip only between peers belonging to the same organization, and if so, if there are 4 peers within the same org, does each have to have a comma separated ip address list of all other peers in `CORE_PEER_GOSSIP_BOOTSTRAP`. A link/reference to documentation with all the env variables for 1.0 with explanation would be helpful. 2. What are anchor peers and what are their roles. Does the `CORE_PEER_GOSSIP_ORGLEADER` set the anchor peer?","username":"dave.enyeart","ts":"2017-08-05T15:11:47.143Z"}
{"msg":"So the bootstrap is a list of peers in the org that the peer knows. It uses them as a bootstrapping for membership.","username":"yacovm","ts":"2017-08-05T15:52:18.694Z"}
{"msg":"if there are 4 peers within the same org - so they need to have a bootstrap list of some of the peers in the org, such that the transitive closure would be the entire group of 4 peers","username":"yacovm","ts":"2017-08-05T15:52:54.524Z"}
{"msg":"i.e `p0,p1,p2,p3` you would need something like `p0: p1, p2: p1, p3: p1` etc. but not - `p0: p1, p1: p0, p2:p3, p3:p2`","username":"yacovm","ts":"2017-08-05T15:53:35.565Z"}
{"msg":"anchor peers are peers from any org that participate in the channel","username":"yacovm","ts":"2017-08-05T15:53:53.175Z"}
{"msg":"they are in a way - bootstrap peers for cross organization","username":"yacovm","ts":"2017-08-05T15:54:04.964Z"}
{"msg":"the orgLeader variable doesn't set the anchor peer - it is set via the config block","username":"yacovm","ts":"2017-08-05T15:54:17.914Z"}
{"msg":"@MeenakshiSingh ^","username":"yacovm","ts":"2017-08-05T15:54:28.855Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=t7fhSfkjgkbPCzzZQ) @yacovm Ok..So, this means that for communication within the organization peers use gossip and nominated/representative (anchor peers) from each organization participate in communication via channel?","username":"MeenakshiSingh","ts":"2017-08-05T16:52:59.763Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=t7fhSfkjgkbPCzzZQ","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=t7fhSfkjgkbPCzzZQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"No.","username":"yacovm","ts":"2017-08-05T17:01:55.007Z"}
{"msg":"The communication is p2p regardless of the anchor / bootstrap peers","username":"yacovm","ts":"2017-08-05T17:02:11.628Z"}
{"msg":"they are just there to let the peers \"know each other\"","username":"yacovm","ts":"2017-08-05T17:02:20.440Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=iL2qx4jbjgxEFWGrw) @yacovm so multiple peers can become anchor peers and participate in channels from an organization?","username":"MeenakshiSingh","ts":"2017-08-05T17:07:21.286Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=iL2qx4jbjgxEFWGrw","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=iL2qx4jbjgxEFWGrw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes","username":"yacovm","ts":"2017-08-05T17:07:36.332Z"}
{"msg":"Hi..I am trying to run 2 peers on the same node. I generated the required crypto-materials with fabric-ca and kept in respective folders in mspconfig directory. Upon running the compose file, I am getting the following ```peer1.org2.example.com    | 2017-08-06 04:58:14.008 UTC [flogging] setModuleLevel -> DEBU 1c4 Module 'grpc' logger enabled for log level 'ERROR'\npeer1.org2.example.com    | 2017-08-06 04:58:14.009 UTC [nodeCmd] func5 -> INFO 1c5 Starting profiling server with listenAddress = 0.0.0.0:6060\npeer2.org2.example.com    | 2017-08-06 04:58:14.100 UTC [gossip/comm] authenticateRemotePeer -> WARN 1c6 Identity store rejected 35.176.134.190:7051 : Peer Identity [0a 07 4f 72 67 32 4d 53 50 12 fe 06 2d 2d 2d 2d 2d 42 45 47 49 4e 20 2d 2d 2d 2d 2d 0a 4d 49 49 43 64 6a 43 43 41 68 32 67 41 77 49 42 41 67 49 55 42 4b 57 42 78 61 41 61 50 53 50 50 70 58 76 69 64 64 31 73 6b 45 55 51 64 71 6f 77 43 67 59 49 4b 6f 5a 49 7a 6a 30 45 41 77 49 77 0a 67 5a 73 78 43 7a 41 4a 42 67 4e 56 42 41 59 54 41 6c 56 54 4d 52 6b 77 46 77 59 44 56 51 51 49 45 78 42 4f 62 33 4a 30 61 43 42 44 59 57 78 70 5a 6d 39 79 62 6d 6c 68 4d 52 45 77 44 77 59 44 0a 56 51 51 48 45 77 68 54 59 57 34 67 53 47 39 7a 5a 54 45 67 4d 42 34 47 41 31 55 45 43 68 4d 58 53 47 6c 30 59 57 4e 6f 61 53 42 42 62 57 56 79 61 57 4e 68 49 45 78 70 62 57 6c 30 5a 57 51 78 0a 49 54 41 66 42 67 4e 56 42 41 73 54 47 46 4a 6c 63 32 56 68 63 6d 4e 6f 49 45 46 75 5a 47 41 31 55 45 43 68 4d 4c 0a 53 48 6c 77 5a 58 4a 73 5a 57 52 6e 5a 58 49 78 44 7a 41 4e 42 67 4e 56 42 41 73 54 42 6b 5a 68 59 6e 4a 70 59 7a 45 4f 4d 41 77 47 41 31 55 45 41 78 4d 46 63 47 56 6c 63 6a 45 77 57 54 41 54 0a 42 67 63 71 68 6b 6a 4f 50 51 49 42 42 67 67 71 68 6b 6a 4f 50 51 4d 42 42 77 4e 43 41 41 53 4f 45 54 48 62 62 69 41 32 41 46 4e 66 51 49 4d 72 2b 61 65 45 75 39 6d 47 4f 78 64 34 32 70 62 6c 0a 56 54 53 42 2b 59 52 36 6b 65 39 36 72 57 57 31 56 38 69 55 6e 2b 75 36 6e 66 4b 55 45 34 36 37 77 36 64 31 4f 48 74 6f 65 71 71 36 4b 4f 32 62 2b 68 6b 6c 6f 33 77 77 65 6a 41 4f 42 67 4e 56 0a 48 51 38 42 41 66 38 45 42 41 4d 43 42 34 41 77 44 41 59 44 56 52 30 54 41 51 48 2f 42 41 49 77 41 44 41 64 42 67 4e 56 48 51 34 45 46 67 51 55 49 4c 31 33 34 59 36 77 44 4a 4b 56 6c 77 39 59 0a 53 76 59 67 4f 6b 63 44 76 4b 63 77 48 77 59 44 56 52 30 6a 42 42 67 77 46 6f 41 55 43 79 2f 74 76 53 45 70 62 65 75 38 46 47 74 47 65 70 4b 74 6c 48 58 78 6a 65 30 77 47 67 59 44 56 52 30 52 0a 42 42 4d 77 45 59 49 50 61 58 41 74 4d 54 63 79 4c 54 4d 78 4c 54 45 79 4c 54 67 77 4d 41 6f 47 43 43 71 47 53 4d 34 39 42 41 4d 43 41 30 63 41 4d 45 51 43 49 48 4b 47 36 75 4c 44 49 2f 6e 61 0a 30 69 6b 6d 63 2b 49 41 72 31 65 4c 6c 6d 51 7a 63 44 35 44 52 5a 42 49 31 69 67 4c 52 76 77 53 41 69 41 35 30 64 39 42 6c 36 76 39 42 33 68 59 57 33 39 56 75 51 78 33 42 32 55 5a 31 4d 48 66 0a 56 69 37 4e 58 64 45 32 75 59 6e 2b 61 77 3d 3d 0a 2d 2d 2d 2d 2d 45 4e 44 20 2d 2d 2d 2d 2d 0a] cannot be validated. No MSP found able to do that.\npeer2.org2.example.com    | 2017-08-06 04:58:14.100 UTC [gossip/comm] Handshake -> WARN 1c7 Authentication failed: Peer Identity [0a 07 4f 72 67 32 4d 53 50 12 fe 06 2d 2d 2d 2d 2d 42 45 47 49 4e 20 2d 2d 2d 2d 2d 0a 4d 49 49 43 64 6a 43 43 41 68 32 67 41 77 49 42 41 67 49 55 42 4b 57 42 78 61 41 61 50 53 50 50 70 58 76 69 64 64 31 73 6b 45 55 51 64 71 6f 77 43 67 59 49 4b 6f 5a 49 7a 6a 30 45 41 77 49 77 0a 67 5a 73 78 43 7a 41 4a 42 67 4e 56 42 41 59 54 41 6c 56 54 4d 52 6b 77 46 77 59 44 56 51 51 49 45 78 42 4f 62 33 4a 30 61 43 42 44 59 57 78 70 5a 6d 39 79 62 6d 6c 68 4d 52 45 77 44 77 59 44 0a 56 51 51 48 45 77 68 54 59 57 34 67 53 47 39 7a 5a 54 45 67 4d 42 34 47 41 31 55 45 43 68 4d 58 53 47 6c 30 59 57 4e 6f 61 53 42 42 62 57 56 79 61 57 4e 68 49 45 78 70 62 57 6c 30 5a 57 51 78 0a 49 54 41 66 42 67 4e 56 42 41 73 54 47 46 4a 6c 63 32 56 68 63 6d 4e 6f 49 45 46 75 5a 43 42 45 5a 58 5a 6c 62 47 39 77 62 57 56 75 64 44 45 5a 4d 42 63 47 41 31 55 45 41 78 4d 51 5a 6d 46 69 0a 63 6d 6c 6a 4c 57 4e 68 4c 58 4e 6c 63 6e 5a 6c 63 6a 41 65 46 77 30 78 4e 7a 41 34 4d 44 55 78 4e 6a 51 77 4d 44 42 61 46 77 30 78 4f 44 41 34 4d 44 55 78 4e 6a 51 77 4d 44 42 61 4d 46 30 78 0a 43 7a 41 4a 42 67 4e 56 42 41 59 54 41 6c 56 54 4d 52 63 77 46 51 59 44 56 51 51 49 45 77 35 4f 62 33 4a 30 61 43 42 44 59 58 4a 76 62 47 6c 75 59 54 45 55 4d 42 49 47 41 31  44 49 2f 6e 61 0a 30 69 6b 6d 63 2b 49 41 72 31 65 4c 6c 6d 51 7a 63 44 35 44 52 5a 42 49 31 69 67 4c 52 76 77 53 41 69 41 35 30 64 39 42 6c 36 76 39 42 33 68 59 57 33 39 56 75 51 78 33 42 32 55 5a 31 4d 48 66 0a 56 69 37 4e 58 64 45 32 75 59 6e 2b 61 77 3d 3d 0a 2d 2d 2d 2d 2d 45 4e 44 20 2d 2d 2d 2d 2d 0a] cannot be validated. No MSP found able to do that.```","username":"MeenakshiSingh","ts":"2017-08-06T05:19:31.616Z"}
{"msg":"This is a setup problem","username":"yacovm","ts":"2017-08-06T05:40:21.983Z"}
{"msg":"Has joined the channel.","username":"nnao","ts":"2017-08-06T05:52:38.556Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=kH5teDiFY8TiixPHP) @yacovm You mean in certificate generation? After starting the peers I did `docker exec i t <container-id> /bin/bash` and the certificates are getting uploaded correctly in the /etc/hyperledger/msp/peer directory as defined in docker-compose file","username":"MeenakshiSingh","ts":"2017-08-06T06:17:23.616Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=kH5teDiFY8TiixPHP","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=kH5teDiFY8TiixPHP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"are the peers in the same channel? ","username":"yacovm","ts":"2017-08-06T06:55:33.342Z"}
{"msg":"in the same org?","username":"yacovm","ts":"2017-08-06T06:55:35.485Z"}
{"msg":"more info would help","username":"yacovm","ts":"2017-08-06T06:55:40.980Z"}
{"msg":"Has joined the channel.","username":"rohitrocket","ts":"2017-08-06T06:56:33.831Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=dd29pfTLK5NwrHjG2) @yacovm the peers are in the same organization. I haven't created the channel yet. Just setup the fabric-ca, generated the certificates, kept them in mspconfig directory structure and started the docker-compose. Here is the content of my docker-compose file:                                                                                                                                                                                                                                       #\n# Copyright IBM Corp All Rights Reserved\n#\n# SPDX-License-Identifier: Apache-2.0\n#\nversion: '2'\n\nnetworks:\nbasic:\n\nservices:\npeer1.org2.example.com:\ncontainer_name: peer1.org2.example.com\nimage: hyperledger/fabric-peer:x86_64-1.0.0\nenvironment:\n- CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock\n- CORE_PEER_ID=peer1.org2.example.com\n- CORE_PEER_ADDRESSAUTODETECT=false\n- CORE_PEER_ENDORSER_ENABLED=true\n- CORE_PEER_TLS_ENABLED=false\n- CORE_PEER_GOSSIP_ORGLEADER=false\n- CORE_PEER_GOSSIP_USELEADERELECTION=true\n- CORE_PEER_PROFILE_ENABLED=true\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=X.X.X.190:7051\n- CORE_LOGGING_PEER=debug\n- CORE_CHAINCODE_LOGGING_LEVEL=DEBUG\n- CORE_PEER_LOCALMSPID=Org2MSP\n- CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/msp/peer/\n- CORE_PEER_ADDRESS=X.X.X.190:7051\n# # the following setting starts chaincode containers on the same\n# # bridge network as the peers\n# # https://docs.docker.com/compose/networking\n- CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=${COMPOSE_PROJECT_NAME}_basic\n- CORE_LEDGER_STATE_STATEDATABASE=CouchDB\n- CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=couchdb1:5984\nworking_dir: /opt/gopath/src/github.com/hyperledger/fabric\ncommand: peer node start\n# command: peer node start --peer-chaincodedev=true\nports:\n- 7051:7051\n- 7053:7053\nvolumes:\n#- /var/run/:/host/var/run/\n#- ./crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp:/etc/hyperledger/msp/peer\n- /home/ubuntu/crypto-material/Org2/Peer1/mspconfig:/etc/hyperledger/msp/peer\n#- ./crypto-config/peerOrganizations/org1.example.com/users:/etc/hyperledger/msp/users\n#- ./config:/etc/hyperledger/configtx\ndepends_on:\n#- orderer.example.com\n- couchdb1 \nnetworks:\n- basic\n\npeer2.org2.example.com:\ncontainer_name: peer2.org2.example.com\nimage: hyperledger/fabric-peer:x86_64-1.0.0\nenvironment:\n- CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock\n- CORE_PEER_ID=peer2.org2.example.com\n- CORE_PEER_ADDRESSAUTODETECT=false\n- CORE_PEER_ENDORSER_ENABLED=true\n- CORE_PEER_TLS_ENABLED=false\n- CORE_PEER_GOSSIP_ORGLEADER=false\n- CORE_PEER_GOSSIP_USELEADERELECTION=true\n- CORE_PEER_PROFILE_ENABLED=true \n- CORE_LOGGING_PEER=debug\n- CORE_CHAINCODE_LOGGING_LEVEL=DEBUG\n- CORE_PEER_LOCALMSPID=Org1MSP\n- CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/msp/peer/\n- CORE_PEER_ADDRESS=X.X.X.190:8051\n- CORE_PEER_GOSSIP_BOOTSTRAP=X.X.X.190:7051\n# # the following setting starts chaincode containers on the same\n# # bridge network as the peers\n# # https://docs.docker.com/compose/networking\n- CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=${COMPOSE_PROJECT_NAME}_basic\n- CORE_LEDGER_STATE_STATEDATABASE=CouchDB\n- CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=couchdb2:5984\nworking_dir: /opt/gopath/src/github.com/hyperledger/fabric\ncommand: peer node start\n# command: peer node start --peer-chaincodedev=true\nports:\n- 8051:8051\n- 8053:8053\nvolumes:\n#- /var/run/:/host/var/run/\n#- ./crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp:/etc/hyperledger/msp/peer\n- /home/ubuntu/crypto-material/Org2/Peer2/mspconfig:/etc/hyperledger/msp/peer\n#- ./crypto-config/peerOrganizations/org1.example.com/users:/etc/hyperledger/msp/users\n#- ./config:/etc/hyperledger/configtx\ndepends_on:\n#- orderer.example.com\n- couchdb2\nnetworks:\n- basic\n\ncouchdb1:\ncontainer_name: couchdb1\nimage: hyperledger/fabric-couchdb:x86_64-1.0.0\nports:\n- 5984:5984\nenvironment:\nDB_URL: http://localhost:5984/member_db\nnetworks:\n- basic\n\ncouchdb2:\ncontainer_name: couchdb2\nimage: hyperledger/fabric-couchdb:x86_64-1.0.0\nports:\n- 6984:5984\nenvironment:\nDB_URL: http://localhost:5984/member_db\nnetworks:\n- basic ","username":"MeenakshiSingh","ts":"2017-08-06T07:05:07.068Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=dd29pfTLK5NwrHjG2","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=dd29pfTLK5NwrHjG2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I really can't understand anything this way","username":"yacovm","ts":"2017-08-06T07:07:42.713Z"}
{"msg":"can you please describe the setup in words?","username":"yacovm","ts":"2017-08-06T07:07:48.792Z"}
{"msg":"I setup the fabric-ca server and client. I registered and enrolled 2 roles: admin and 2 peers viz, peer1 and peer2. This generated the public/private keys for each role and the cacerts. As per the documentation: https://media.readthedocs.org/pdf/hyperledger-fabric/latest/hyperledger-fabric.pdf --page 74, I created the mspconfig directory for each peer with admincerts, cacerts, keystore and signcerts as subdirectories. I copied the required certificates in the respective subdirectorires and the mentioned the path  `/home/ubuntu/crypto-material/Org1/Peer1/mspconfig` for mounting it to the docker container. Then I started docker-compose.","username":"MeenakshiSingh","ts":"2017-08-06T07:15:44.235Z"}
{"msg":"so you have only 1 org?","username":"yacovm","ts":"2017-08-06T07:16:26.481Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=ZgT67yAp35LfcZiWb) @yacovm yes","username":"MeenakshiSingh","ts":"2017-08-06T07:37:04.503Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ZgT67yAp35LfcZiWb","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ZgT67yAp35LfcZiWb","remote":true,"fileId":null,"fileName":null}]}
{"msg":"aha","username":"yacovm","ts":"2017-08-06T07:41:18.053Z"}
{"msg":"so if that doesn't work - it means you have a bad setup of the stuff inside the MSPDir","username":"yacovm","ts":"2017-08-06T07:41:31.642Z"}
{"msg":"in any case","username":"yacovm","ts":"2017-08-06T07:41:34.011Z"}
{"msg":"that's not a gossip issue :(","username":"yacovm","ts":"2017-08-06T07:41:38.167Z"}
{"msg":"The peers don't know each other","username":"yacovm","ts":"2017-08-06T07:41:44.104Z"}
{"msg":"The peers don't know each other and when they connect to each other","username":"yacovm","ts":"2017-08-06T07:41:44.104Z"}
{"msg":"and can't verify each other's certificate","username":"yacovm","ts":"2017-08-06T07:41:50.543Z"}
{"msg":"I think there is a misconfiguration ","username":"yacovm","ts":"2017-08-06T07:42:15.420Z"}
{"msg":"ah wait","username":"yacovm","ts":"2017-08-06T07:42:30.531Z"}
{"msg":"if its the same org","username":"yacovm","ts":"2017-08-06T07:42:35.006Z"}
{"msg":"why do you have there - 2 different MSPIDs?","username":"yacovm","ts":"2017-08-06T07:42:41.462Z"}
{"msg":"`- CORE_PEER_LOCALMSPID=Org1MSP` and `- CORE_PEER_LOCALMSPID=Org2MSP` ? ","username":"yacovm","ts":"2017-08-06T07:42:51.332Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=id2shrBAwk4rEFeu4) @yacovm srry...m still very new to this. Nice catch!..changed the mspid to org2 and its working.. Thanks a lot :)","username":"MeenakshiSingh","ts":"2017-08-06T07:49:28.494Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=id2shrBAwk4rEFeu4","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=id2shrBAwk4rEFeu4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"y204990","ts":"2017-08-06T16:25:36.597Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=CRacRxjGDEuCZgb5C) @yacovm \nDoes this declaration indicates ` p0 ` is always the Gossip Organization Leader?","username":"rahulhegde","ts":"2017-08-06T17:46:28.113Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=CRacRxjGDEuCZgb5C","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=CRacRxjGDEuCZgb5C","remote":true,"fileId":null,"fileName":null}]}
{"msg":"no","username":"yacovm","ts":"2017-08-06T18:37:25.678Z"}
{"msg":"Has joined the channel.","username":"sh","ts":"2017-08-06T22:22:29.002Z","type":"uj"}
{"msg":"A question regarding gossip non-leader: if a peer is set up as a) non-leader and b) no leader election, c) and the leader peer is online\nwill the non-leader peer ever get blocks from the orderer directly?","username":"AdnanC","ts":"2017-08-07T16:38:57.706Z"}
{"msg":"I would guess the answer is no, but I see in some cases (if the non-leader was down for some time and comes back up) it gets blocks from the orderer","username":"AdnanC","ts":"2017-08-07T16:50:58.449Z"}
{"msg":"impossible","username":"yacovm","ts":"2017-08-07T16:53:14.269Z"}
{"msg":"@AdnanC does non leader peer have bootstrap set of peers? ","username":"C0rWin","ts":"2017-08-07T17:32:04.121Z"}
{"msg":"Or is there anchor peers in the channel?","username":"C0rWin","ts":"2017-08-07T17:32:31.018Z"}
{"msg":"@C0rWin it has a bootstrap peer (which is the same as the selected leader) and the anchor peer is also the same","username":"AdnanC","ts":"2017-08-07T19:03:22.701Z"}
{"msg":"This is why it get in sync then","username":"C0rWin","ts":"2017-08-07T19:03:53.970Z"}
{"msg":"you mean it gets blocks from the leader?","username":"AdnanC","ts":"2017-08-07T19:04:31.371Z"}
{"msg":"It builds gossip membership and leader forwards block to it","username":"C0rWin","ts":"2017-08-07T19:04:31.744Z"}
{"msg":"Yes, exactly ","username":"C0rWin","ts":"2017-08-07T19:04:41.479Z"}
{"msg":"That was my expectation too","username":"AdnanC","ts":"2017-08-07T19:04:52.039Z"}
{"msg":"but I corrupted the blocks i the leader","username":"AdnanC","ts":"2017-08-07T19:05:04.849Z"}
{"msg":"but it still ends up with correct blocks","username":"AdnanC","ts":"2017-08-07T19:05:21.425Z"}
{"msg":"but the non-leader still ends up with correct blocks","username":"AdnanC","ts":"2017-08-07T19:05:21.425Z"}
{"msg":"I observe that if I disconnect the orderer, it does not get the blocks anymore","username":"AdnanC","ts":"2017-08-07T19:05:45.116Z"}
{"msg":"so here's the flow of operations: .....","username":"AdnanC","ts":"2017-08-07T19:06:07.397Z"}
{"msg":"1. spin up 4 peer, 2 org network where the lower numbered peers are \"selected\" as leader and gossip elections is turned off for all\n2. After some time, I stop non-leader of org1 and both the peers of org2\n3. 5 transactions in org1 leader\n5. Manually corrupt the ledgerfile in org1 leader\n4. restart the non-leader of the org1\n5. Query the nonleader\n\nI expected that non-leader will not have the full ledger, but it has","username":"AdnanC","ts":"2017-08-07T19:09:17.618Z"}
{"msg":"1. spin up 4 peer, 2 org network where the lower numbered peers are \"selected\" as leader and gossip elections is turned off for all\n2. After some time, I stop non-leader of org1 and both the peers of org2\n3. 5 transactions in org1 leader\n5. Manually corrupt the ledgerfile in org1 leader\n4. restart the non-leader of the org1\n5. Query the nonleader\n\nI expected that non-leader will *not* have the full ledger, as it is supposed to get them from its leader's ledger (which is corrupted)but I observe that the non-leader has all the correct blocks","username":"AdnanC","ts":"2017-08-07T19:09:17.618Z"}
{"msg":"if I stop the orderer, then I see that non-leader has the expected, curtailed ledger","username":"AdnanC","ts":"2017-08-07T19:09:46.415Z"}
{"msg":"if I stop the ordere before non-leader comes back up, then I see that non-leader has the expected, curtailed ledger","username":"AdnanC","ts":"2017-08-07T19:09:46.415Z"}
{"msg":"if I stop the orderer before non-leader comes back up, then I see that non-leader has the expected, curtailed ledger","username":"AdnanC","ts":"2017-08-07T19:09:46.415Z"}
{"msg":"if I stop the orderer before non-leader comes back up(i,e. before step 4), then I see that non-leader has the expected, curtailed ledger @C0rWin ","username":"AdnanC","ts":"2017-08-07T19:09:46.415Z"}
{"msg":"Interesting ","username":"C0rWin","ts":"2017-08-07T19:19:14.011Z"}
{"msg":"Could you please report JIRA and tag me in?","username":"C0rWin","ts":"2017-08-07T19:19:45.533Z"}
{"msg":"sure. Is there a easy way to verify (maybe from the logs) that a peer is actually getting blocks from the the orderer?","username":"AdnanC","ts":"2017-08-07T19:20:53.553Z"}
{"msg":"I guess maybe the leader still has the blocks in its memory","username":"yacovm","ts":"2017-08-07T19:25:41.558Z"}
{"msg":"and the non leader that comes alive","username":"yacovm","ts":"2017-08-07T19:25:48.188Z"}
{"msg":"receives them via pull","username":"yacovm","ts":"2017-08-07T19:25:51.348Z"}
{"msg":"before it receives them via state transfer?","username":"yacovm","ts":"2017-08-07T19:26:00.826Z"}
{"msg":"Yes, that's possible ","username":"C0rWin","ts":"2017-08-07T19:26:09.120Z"}
{"msg":"we can fetch up to 100 blocks at a time IIRC","username":"yacovm","ts":"2017-08-07T19:26:11.211Z"}
{"msg":"so 5 blocks won't cut it ;)","username":"yacovm","ts":"2017-08-07T19:26:16.097Z"}
{"msg":"We have expiration so can check it easily ","username":"C0rWin","ts":"2017-08-07T19:26:42.423Z"}
{"msg":"also - I'm not an expert on levelDB but from what I know - LSM tree-type DBs have a level 0 that is stored in memory. it's usually a few tens of MBs","username":"yacovm","ts":"2017-08-07T19:26:48.217Z"}
{"msg":"yep","username":"yacovm","ts":"2017-08-07T19:27:02.707Z"}
{"msg":"he just needs to wait... how many time was it again? :thinking:  ","username":"yacovm","ts":"2017-08-07T19:27:17.580Z"}
{"msg":"Need to look in the code, connected from mobile","username":"C0rWin","ts":"2017-08-07T19:27:44.091Z"}
{"msg":"should be like 10 min @AdnanC ","username":"yacovm","ts":"2017-08-07T19:28:45.283Z"}
{"msg":"from step1 to step 5 is like maybe 2 minutes","username":"AdnanC","ts":"2017-08-07T19:29:12.654Z"}
{"msg":"Fabric is full of so many mechanisms, so hard to test :grin:  ","username":"yacovm","ts":"2017-08-07T19:29:27.349Z"}
{"msg":"A question, how does leveldb come in play here? Gossip transfers only ledger blocks, not the statedb things, right?","username":"AdnanC","ts":"2017-08-07T19:30:09.402Z"}
{"msg":"A question, I am wondering how does leveldb come in play here... Gossip transfers only ledger blocks, not the statedb things, right?","username":"AdnanC","ts":"2017-08-07T19:30:09.402Z"}
{"msg":"ah right I forgot","username":"yacovm","ts":"2017-08-07T19:31:38.776Z"}
{"msg":"yeah yeah","username":"yacovm","ts":"2017-08-07T19:31:47.261Z"}
{"msg":"you're right, my bad","username":"yacovm","ts":"2017-08-07T19:31:49.927Z"}
{"msg":"My head is in sideDB mode from CRing something","username":"yacovm","ts":"2017-08-07T19:32:42.527Z"}
{"msg":"ok :)","username":"AdnanC","ts":"2017-08-07T19:32:53.173Z"}
{"msg":"Has joined the channel.","username":"smcambria22","ts":"2017-08-07T19:58:37.762Z","type":"uj"}
{"msg":"@C0rWin https://jira.hyperledger.org/browse/FAB-5651","username":"AdnanC","ts":"2017-08-07T21:39:43.170Z"}
{"msg":"```\n\n\u001b[36m2017-08-07 21:30:19.084 UTC [gossip/gossip] handleMessage -> DEBU af8\u001b[0m Entering, 172.18.0.5:7051 [5 44 185 46 104 194 176 45 64 104 113 115 124 27 109 10 119 69 173 36 41 135 147 41 40 98 34 138 243 34 17 7] sent us GossipMessage: Channel: [98 101 104 97 118 101 115 121 115 116 101 115 116], nonce: 0, tag: CHAN_AND_ORG DataUpdate: Type: BLOCK_MSG, items: 4, nonce: 5077589437772028536, Envelope: 19533 bytes, Signature: 0 bytes\n```","username":"yacovm","ts":"2017-08-07T21:50:58.777Z"}
{"msg":"```\n\u001b[36m2017-08-07 21:30:19.084 UTC [gossip/gossip] handleMessage -> DEBU af8\u001b[0m Entering, 172.18.0.5:7051 [5 44 185 46 104 194 176 45 64 104 113 115 124 27 109 10 119 69 173 36 41 135 147 41 40 98 34 138 243 34 17 7] sent us GossipMessage: Channel: [98 101 104 97 118 101 115 121 115 116 101 115 116], nonce: 0, tag: CHAN_AND_ORG DataUpdate: Type: BLOCK_MSG, items: 4, nonce: 5077589437772028536, Envelope: 19533 bytes, Signature: 0 bytes\n```","username":"yacovm","ts":"2017-08-07T21:50:58.777Z"}
{"msg":"this is from `non-leader-log.txt`","username":"yacovm","ts":"2017-08-07T21:51:20.059Z"}
{"msg":"Has joined the channel.","username":"Hangyu","ts":"2017-08-08T09:00:36.867Z","type":"uj"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.  '''*Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable.*'''","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.  \"Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable\"","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.  '''Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable'''","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.  'Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable'","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.  \\n'Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable'","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"{I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it. \\n\"Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable\"}","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.   \"Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable\"","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.   `Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable`","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I read the following example from *Problem 3* section in this document https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit , but not quite understand it.   ```Consider now the case where you have a batchTimeout of 1 second, and two OSNs. A batch has just been cut and a new transaction comes in via, say, OSN1. It gets posted to the partition. OSN2 reads it at time t=5s and sets a timer that will fire at t=6s. OSN1 reads this transaction from the partition at time t=5.6s and sets its own timer accordingly. A second transaction is posted to the partition and is read by OSN2 at t=6.2s, and by OSN1 at t=6.5s. We are now in a situation where the OSN1 has cut a block with both of these transactions, whereas OSN2 cut a block with just the first of them. The two OSNs have now diverged and are outputting different sequences of blocks  this is unacceptable```","username":"qizhang","ts":"2017-08-08T18:34:44.274Z"}
{"msg":"I hope this is the correct place to ask, please let me know if it is not :-)","username":"qizhang","ts":"2017-08-08T18:36:09.659Z"}
{"msg":"*OSN2 reads it at time t=5s and sets a timer that will fire at t=6s*, does it mean that OSN2 sets a timer when it reads a block from the partition?","username":"qizhang","ts":"2017-08-08T18:38:12.893Z"}
{"msg":"the ordering service node has a batch timeout that defines the frequency of it cutting blocks","username":"yacovm","ts":"2017-08-08T20:05:04.822Z"}
{"msg":"not sure about the implementation though","username":"yacovm","ts":"2017-08-08T20:05:19.924Z"}
{"msg":"the right place to ask is #fabric-consensus ","username":"yacovm","ts":"2017-08-08T20:05:30.539Z"}
{"msg":" A question regarding Gossip state transfers: Does a \"pull\" do state transfers too, or is it only for exchanging block  recieve information etc? (reading the design docs) ","username":"AdnanC","ts":"2017-08-08T20:35:20.837Z"}
{"msg":"pull has nothing to do with a state transfer ","username":"C0rWin","ts":"2017-08-08T20:55:39.859Z"}
{"msg":"pull used to query for latest updates on neighbors sliding window of blocks","username":"C0rWin","ts":"2017-08-08T20:56:27.066Z"}
{"msg":"while state transfer is actually querying the ledger and capable to replicate whole ledger","username":"C0rWin","ts":"2017-08-08T20:56:59.724Z"}
{"msg":"Thanks","username":"AdnanC","ts":"2017-08-08T20:57:43.731Z"}
{"msg":"And the State transfer, is it of two types, based on how large is the data transfer / or how long have a network been up before a peer joins?","username":"AdnanC","ts":"2017-08-08T20:58:30.159Z"}
{"msg":"@AdnanC of two types? what do you mean?","username":"C0rWin","ts":"2017-08-08T21:02:44.844Z"}
{"msg":"From the design document, section 1.2, it sounds like there are two types, one for peers that missed a couple blocks (due to network hiccup etc)\\and another for peers that are joining a channel that has been up fore  while","username":"AdnanC","ts":"2017-08-08T21:04:21.334Z"}
{"msg":"From the design document, section 1.2, it sounds like there are two types, one for peers that missed a couple blocks (due to network hiccup etc)\\and another for peers that are joining a channel that has been up for a  while","username":"AdnanC","ts":"2017-08-08T21:04:21.334Z"}
{"msg":"From the design document, section 1.2, it sounds like there are two types, one for peers that missed a couple blocks (due to network hiccup etc) and another for peers that are joining a channel that has been up for a  while","username":"AdnanC","ts":"2017-08-08T21:04:21.334Z"}
{"msg":"this are two use cases ","username":"C0rWin","ts":"2017-08-08T21:06:47.719Z"}
{"msg":"while the mechanism is the same","username":"C0rWin","ts":"2017-08-08T21:06:53.042Z"}
{"msg":"Ah ok","username":"AdnanC","ts":"2017-08-08T21:06:57.642Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=jWYTGmWdCPm73eDJw) @AdnanC Can we manually tweak the couchDB to add or remove the transactions? If so, how is that possible?","username":"MeenakshiSingh","ts":"2017-08-09T06:51:09.377Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=jWYTGmWdCPm73eDJw","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=jWYTGmWdCPm73eDJw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@MeenakshiSingh moving your question to #fabric-ledger as it's more appropriate channel to answer this question","username":"C0rWin","ts":"2017-08-09T07:29:04.321Z"}
{"msg":"Hello. I do not know if this is the right channel for this question but i can not find a better fit. On large numbers of transactions (1000tps, 4 peer endorsement), i get an ssl error, or connection failed from the client to the peers ( peers do not crash ). I assume that it might be because i reach the limit of ssl connections. Is my assumption true, or could i configure this number? ( i tried increasing the number of file descriptors but did not change anything)","username":"SotirisAlfonsos","ts":"2017-08-09T13:43:25.006Z"}
{"msg":"this has nothing to do with gossip though","username":"yacovm","ts":"2017-08-09T13:44:54.723Z"}
{"msg":"I know. It is not really related to any of the channels. ","username":"SotirisAlfonsos","ts":"2017-08-09T13:48:10.870Z"}
{"msg":"ah ok","username":"yacovm","ts":"2017-08-09T13:51:06.557Z"}
{"msg":"that's interesting","username":"yacovm","ts":"2017-08-09T13:51:15.541Z"}
{"msg":"by the way","username":"yacovm","ts":"2017-08-09T13:51:17.122Z"}
{"msg":"do you remember that other error you reported about back then?","username":"yacovm","ts":"2017-08-09T13:51:25.047Z"}
{"msg":"you opened a JIRA","username":"yacovm","ts":"2017-08-09T13:51:28.524Z"}
{"msg":"remember","username":"yacovm","ts":"2017-08-09T13:51:30.275Z"}
{"msg":"?","username":"yacovm","ts":"2017-08-09T13:51:31.323Z"}
{"msg":"Yes","username":"SotirisAlfonsos","ts":"2017-08-09T13:52:42.387Z"}
{"msg":"so I fixed it!","username":"yacovm","ts":"2017-08-09T13:52:50.207Z"}
{"msg":"you can try and check","username":"yacovm","ts":"2017-08-09T13:52:54.333Z"}
{"msg":"Yes i saw it was fixed :)","username":"SotirisAlfonsos","ts":"2017-08-09T13:53:10.570Z"}
{"msg":"I have not managed to synchronize to release yet though","username":"SotirisAlfonsos","ts":"2017-08-09T13:53:44.667Z"}
{"msg":"But after all the issue was on the leader election timer, or was the same peer being reelected? Just curious","username":"SotirisAlfonsos","ts":"2017-08-09T13:58:18.575Z"}
{"msg":"there was no relinquishing of leadership","username":"yacovm","ts":"2017-08-09T13:58:43.558Z"}
{"msg":"in case of unable to connect to the orderer","username":"yacovm","ts":"2017-08-09T13:58:50.924Z"}
{"msg":"Ah i thought there was a timer for leader election. ","username":"SotirisAlfonsos","ts":"2017-08-09T14:00:02.602Z"}
{"msg":"So a peer remains the leader as long as he is connected","username":"SotirisAlfonsos","ts":"2017-08-09T14:00:31.460Z"}
{"msg":"Hello to gossip information within a channel, the peer should know the rest of peers in the channel. How does the peer know the others? Thank you","username":"qsmen","ts":"2017-08-11T05:53:12.187Z"}
{"msg":"It knows the anchor peers","username":"yacovm","ts":"2017-08-11T05:54:13.288Z"}
{"msg":"From the config block","username":"yacovm","ts":"2017-08-11T05:54:28.138Z"}
{"msg":"it first send its own address to anchor peer, and get back other peer's address?","username":"qsmen","ts":"2017-08-11T05:56:40.512Z"}
{"msg":"ok, thank you, Yacovm","username":"qsmen","ts":"2017-08-11T05:57:32.435Z"}
{"msg":"Something like this, yes","username":"yacovm","ts":"2017-08-11T06:07:45.141Z"}
{"msg":"ok, thank you again,Yacovm.","username":"qsmen","ts":"2017-08-11T06:30:03.604Z"}
{"msg":"Has joined the channel.","username":"dnzdlklc","ts":"2017-08-11T09:29:05.288Z","type":"uj"}
{"msg":"Has joined the channel.","username":"suryalanka","ts":"2017-08-14T15:07:28.319Z","type":"uj"}
{"msg":"Hi, what does the following warnings in the peer logs suggest? ```2017-08-11 21:03:28.213 UTC [blocksProvider] DeliverBlocks -> WARN 50cb6 Failed adding payload of 38279 because: Ledger height is at 31126, cannot enqueue block with sequence of 38279\n2017-08-11 21:03:28.225 UTC [blocksProvider] DeliverBlocks -> WARN 50cb7 Failed adding payload of 38193 because: Ledger height is at 29737, cannot enqueue block with sequence of 38193\n2017-08-11 21:03:28.246 UTC [blocksProvider] DeliverBlocks -> WARN 50cb8 Failed adding payload of 38295 because: Ledger height is at 30012, cannot enqueue block with sequence of 38295```","username":"suryalanka","ts":"2017-08-14T15:09:12.031Z"}
{"msg":"We are seeing the above warnings in the endorser peers in the organization","username":"suryalanka","ts":"2017-08-14T15:10:08.913Z"}
{"msg":"That happens if you get blocks that are \"too far\"","username":"yacovm","ts":"2017-08-14T15:11:04.292Z"}
{"msg":"from your ledger's height","username":"yacovm","ts":"2017-08-14T15:11:07.996Z"}
{"msg":"in example- if your peer is *really behind* other peers","username":"yacovm","ts":"2017-08-14T15:11:26.621Z"}
{"msg":"and they send your peer a block that is really really \"in the future\" with regard to your peer","username":"yacovm","ts":"2017-08-14T15:11:43.710Z"}
{"msg":"then your peer - refuses to enqueue the block to memory and simply throws it away","username":"yacovm","ts":"2017-08-14T15:11:55.197Z"}
{"msg":"(it will get the block eventually)","username":"yacovm","ts":"2017-08-14T15:12:02.083Z"}
{"msg":"This is a protection mechanism so your memory won't explode ;)","username":"yacovm","ts":"2017-08-14T15:12:14.736Z"}
{"msg":"By the way how did you know to ask in this channel @suryalanka  ? ","username":"yacovm","ts":"2017-08-14T15:12:59.317Z"}
{"msg":"we found `Ledger height is at 30012, cannot enqueue block with sequence of 38295` snippet in the gossip code (gossip/state/state.go)","username":"suryalanka","ts":"2017-08-14T15:14:35.133Z"}
{"msg":"ah, ok","username":"yacovm","ts":"2017-08-14T15:14:46.073Z"}
{"msg":"Thank you, how do I verify that the block is delivered?","username":"suryalanka","ts":"2017-08-14T15:19:02.374Z"}
{"msg":"you look at the logs","username":"yacovm","ts":"2017-08-14T15:19:39.308Z"}
{"msg":"and you can also use events","username":"yacovm","ts":"2017-08-14T15:19:46.789Z"}
{"msg":"you can subscribe to block events from `{node, go}-SDK`","username":"yacovm","ts":"2017-08-14T15:20:03.971Z"}
{"msg":"you can subscribe to block events from `{node, go}SDK`","username":"yacovm","ts":"2017-08-14T15:20:03.971Z"}
{"msg":"thank you","username":"suryalanka","ts":"2017-08-14T16:15:56.489Z"}
{"msg":"@yacov surya and I are still troubleshooting some peers connections to orderers - and we see 3 hours of nothing but that same long 'cannot enqueue block'. more on that later.","username":"scottz","ts":"2017-08-14T16:26:59.131Z"}
{"msg":"A different question:  when we start a network, peers choose randomly which orderer to connect for delivered blocks. However, if we stop the orderer that it is connected to, then (from a small test sample) it looks like a peer will always attempt to connect first to orderer0 (and then move in sequence looking through the rest of the orderers list, which is fine). It seems the peer should choose randomly. Otherwise, we could see all peers connected to the same orderer (for example after restarting all the orderers once). Would you agree?","username":"scottz","ts":"2017-08-14T16:28:06.927Z"}
{"msg":"How many are there?","username":"yacovm","ts":"2017-08-14T17:25:30.363Z"}
{"msg":">  @yacov surya and I are still troubleshooting some peers connections to orderers - and we see 3 hours of nothing but that same long 'cannot enqueue block'. more on that later. \nSo you claim that the peer connects to the orderer, but emits this message?! @scottz ","username":"yacovm","ts":"2017-08-14T17:46:22.925Z"}
{"msg":"This shouldn't be possible, since for each block the peer pulls - it puts it into that payload buffer in-order","username":"yacovm","ts":"2017-08-14T17:46:50.457Z"}
{"msg":"Maybe the peer is not a leader and gets the block from some other peer?","username":"yacovm","ts":"2017-08-14T17:47:35.227Z"}
{"msg":"@yacovm every peer in the org is org leader","username":"suryalanka","ts":"2017-08-14T18:23:00.162Z"}
{"msg":"@yacovm every peer in the org is org leader in this case","username":"suryalanka","ts":"2017-08-14T18:23:00.162Z"}
{"msg":"More information can be useful","username":"yacovm","ts":"2017-08-14T18:24:24.783Z"}
{"msg":"how many peers per org, etc.","username":"yacovm","ts":"2017-08-14T18:24:28.638Z"}
{"msg":"is leader election on? etc. etc.","username":"yacovm","ts":"2017-08-14T18:24:34.604Z"}
{"msg":"each organization has 2 peers(one peer is endorser and other is committer). `CORE_PEER_GOSSIP_ORGLEADER` is set to `true` for both the peers.","username":"suryalanka","ts":"2017-08-14T18:28:44.593Z"}
{"msg":"Interesting... ","username":"yacovm","ts":"2017-08-14T19:02:10.694Z"}
{"msg":"And which peer emits these warnings?","username":"yacovm","ts":"2017-08-14T19:02:33.167Z"}
{"msg":"What is the setup? Docker compose? What did you do to make it happen?","username":"yacovm","ts":"2017-08-14T19:06:19.353Z"}
{"msg":"And... are you in the office in the next 2 hours or so? ","username":"yacovm","ts":"2017-08-14T19:06:43.506Z"}
{"msg":"@suryalanka ","username":"yacovm","ts":"2017-08-14T19:10:54.460Z"}
{"msg":"@yacovm endorser is emitting those warnings","username":"suryalanka","ts":"2017-08-14T19:12:06.195Z"}
{"msg":"Only 1 of the peers?","username":"yacovm","ts":"2017-08-14T19:12:49.440Z"}
{"msg":"yes","username":"suryalanka","ts":"2017-08-14T19:12:57.841Z"}
{"msg":"Are both in the channel? Is he connected to the orderer?","username":"yacovm","ts":"2017-08-14T19:13:08.724Z"}
{"msg":"yes both the peers joined the channel... committer is getting the blocks, but not the endorser","username":"suryalanka","ts":"2017-08-14T19:14:13.578Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=sFcPys2yEzy6FqsTE) @yacovm yes, I will be available","username":"suryalanka","ts":"2017-08-14T19:14:53.738Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=sFcPys2yEzy6FqsTE","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=sFcPys2yEzy6FqsTE","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I'll contact you when i get home, dont move :wink:","username":"yacovm","ts":"2017-08-14T19:18:43.797Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=zA5xvgjpWS9ubMh6S) @suryalanka what is the rate? how is that possible that there is such a gap of almost 8k blocks?","username":"C0rWin","ts":"2017-08-14T20:07:12.788Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=zA5xvgjpWS9ubMh6S","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=zA5xvgjpWS9ubMh6S","remote":true,"fileId":null,"fileName":null}]}
{"msg":"how mane printouts like these do you see?","username":"C0rWin","ts":"2017-08-14T20:07:31.969Z"}
{"msg":"can you use QSCC and check ledger height at each peer?","username":"C0rWin","ts":"2017-08-14T20:07:48.303Z"}
{"msg":"@yacovm when a node fails and needs to use gossip to catch up, it will see the latest block size to be blah, at this point, it requests blocks from peers via gossip? If so, I assume read/write sets are passed around right? In this scenario, there is no validation done? Just directly apply read sets?","username":"berserkr","ts":"2017-08-14T23:42:48.148Z"}
{"msg":"@yacovm when a node fails and needs to use gossip to catch up, it will see the latest block size to be blah, at this point, it requests blocks from peers via gossip? If so, I assume read/write sets are passed around right? In this scenario, there is no validation done? Just directly apply write sets?","username":"berserkr","ts":"2017-08-14T23:42:48.148Z"}
{"msg":"@berserkr  there is valodation","username":"yacovm","ts":"2017-08-15T05:01:50.866Z"}
{"msg":"Hello. I am blocking the network connection on both peers in an org so they do not get the new blocks. When i reconnect, the leader gets the blocks but he does not gossip them to the second peer. ( The second peer closed the endpoint connection to the leader while they were both offline ). How can i re-establish the gossip connection? I am still in beta so could this just be an old issue?","username":"SotirisAlfonsos","ts":"2017-08-16T08:47:20.859Z"}
{"msg":"Hmmm anything interesting im the logs?","username":"yacovm","ts":"2017-08-16T09:24:18.274Z"}
{"msg":"```2017-08-16 08:11:16.595 UTC [gossip/discovery] getDeadMembers -> WARN 07b Haven't heard from p<\n                                                                                                  \\\\e\\}e`({ for 26.075709713s\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07c Entering [[112 209 212 222 156 60 11 92 214 218 146 161 92 140 101 159 92 185 209 125 192 231 136 0 209 241 101 170 96 160 40 123]]\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07d Closing connection to Endpoint: peer1.org1.example.com:7056, InternalEndpoint: peer1.org1.example.com:7056, PKI-ID: [112 209 212 222 156 60 11 92 214 218 146 161 92 140 101 159 92 185 209 125 192 231 136 0 209 241 101 170 96 160 40 123], Metadata: []\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07e Exiting\n2017-08-16 08:17:08.261 UTC [blocksProvider] DeliverBlocks -> WARN 07f [mychannel] Receive error: Attempts (1) or elapsed time (6m44.286605248s) exhausted\n2017-08-16 08:17:09.215 UTC [blocksProvider] DeliverBlocks -> WARN 080 [mychannel2] Receive error: Attempts (1) or elapsed time (6m44.901977168s) exhausted\n```","username":"SotirisAlfonsos","ts":"2017-08-16T09:27:29.611Z"}
{"msg":"```2017-08-16 08:11:16.595 UTC [gossip/discovery] getDeadMembers -> WARN 07b Haven't heard from p<\n                                                                                                  \\\\e\\}e`({ for 26.075709713s\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07c Entering [[112 209 212 222 156 60 11 92 214 218 146 161 92 140 101 159 92 185 209 125 192 231 136 0 209 241 101 170 96 160 40 123]]\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07d Closing connection to Endpoint: peer1.org1.example.com:7056, InternalEndpoint: peer1.org1.example.com:7056, PKI-ID: [112 209 212 222 156 60 11 92 214 218 146 161 92 140 101 159 92 185 209 125 192 231 136 0 209 241 101 170 96 160 40 123], Metadata: []\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07e Exiting\n2017-08-16 08:17:08.261 UTC [blocksProvider] DeliverBlocks -> WARN 07f [mychannel] Receive error: Attempts (1) or elapsed time (6m44.286605248s) exhausted\n2017-08-16 08:17:09.215 UTC [blocksProvider] DeliverBlocks -> WARN 080 [mychannel2] Receive error: Attempts (1) or elapsed time (6m44.901977168s) exhausted\n```\n\nThat is right when i disconnected both peers. When they are back they are not gossiping anymore. I send a transaction which they both sign but again non leader does not receive the gossip about the block","username":"SotirisAlfonsos","ts":"2017-08-16T09:27:29.611Z"}
{"msg":"```2017-08-16 08:11:16.595 UTC [gossip/discovery] getDeadMembers -> WARN 07b Haven't heard from p<\n                                                                                                  \\\\e\\}e`({ for 26.075709713s\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07c Entering [[112 209 212 222 156 60 11 92 214 218 146 161 92 140 101 159 92 185 209 125 192 231 136 0 209 241 101 170 96 160 40 123]]\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07d Closing connection to Endpoint: peer1.org1.example.com:7056, InternalEndpoint: peer1.org1.example.com:7056, PKI-ID: [112 209 212 222 156 60 11 92 214 218 146 161 92 140 101 159 92 185 209 125 192 231 136 0 209 241 101 170 96 160 40 123], Metadata: []\n2017-08-16 08:11:16.595 UTC [gossip/discovery] expireDeadMembers -> WARN 07e Exiting\n2017-08-16 08:17:08.261 UTC [blocksProvider] DeliverBlocks -> WARN 07f [mychannel] Receive error: Attempts (1) or elapsed time (6m44.286605248s) exhausted\n2017-08-16 08:17:09.215 UTC [blocksProvider] DeliverBlocks -> WARN 080 [mychannel2] Receive error: Attempts (1) or elapsed time (6m44.901977168s) exhausted\n```\n\nThat is right when i disconnected both peers. When they are back they are not gossiping anymore. I send a transaction which they both sign but again the non leader does not receive the gossip about the block","username":"SotirisAlfonsos","ts":"2017-08-16T09:27:29.611Z"}
{"msg":"so @SotirisAlfonsos ","username":"yacovm","ts":"2017-08-16T12:03:41.181Z"}
{"msg":"you're saying that you blocked connection between peers?","username":"yacovm","ts":"2017-08-16T12:03:56.755Z"}
{"msg":"and they don't reconnect?","username":"yacovm","ts":"2017-08-16T12:04:05.128Z"}
{"msg":"they are supposed to re-connect periodically","username":"yacovm","ts":"2017-08-16T12:04:14.718Z"}
{"msg":"They did not reconnect. Even when i invoked and queried transactions on them. By the way, when they disconnected, they both closed the endpoint with each other. In case you recall, was there a change on that from beta to rc? ","username":"SotirisAlfonsos","ts":"2017-08-16T12:09:34.476Z"}
{"msg":"how much time passed?","username":"yacovm","ts":"2017-08-16T12:10:04.703Z"}
{"msg":"between the time you disconnected","username":"yacovm","ts":"2017-08-16T12:10:15.771Z"}
{"msg":"until the time you re-connected?","username":"yacovm","ts":"2017-08-16T12:10:20.533Z"}
{"msg":"> By the way, when they disconnected, they both closed the endpoint with each other.\nMakes sense","username":"yacovm","ts":"2017-08-16T12:10:29.452Z"}
{"msg":"10 minutes give or take","username":"SotirisAlfonsos","ts":"2017-08-16T12:15:28.430Z"}
{"msg":"hmmm","username":"yacovm","ts":"2017-08-16T12:20:37.501Z"}
{"msg":"why are you using beta though? :(","username":"yacovm","ts":"2017-08-16T12:20:44.894Z"}
{"msg":"can't you upgrade to release?","username":"yacovm","ts":"2017-08-16T12:20:56.077Z"}
{"msg":"Did not have the time to do so. Will try to sync next week and will get back to you.","username":"SotirisAlfonsos","ts":"2017-08-16T12:32:41.090Z"}
{"msg":"ok cool thanks\n","username":"yacovm","ts":"2017-08-16T12:36:54.899Z"}
{"msg":"Has joined the channel.","username":"kelvinzhong","ts":"2017-08-17T14:56:56.435Z","type":"uj"}
{"msg":"@yacovm we also cross this problem","username":"kelvinzhong","ts":"2017-08-17T14:59:09.664Z"}
{"msg":"on which version?","username":"yacovm","ts":"2017-08-17T14:59:33.693Z"}
{"msg":"1.0","username":"kelvinzhong","ts":"2017-08-17T14:59:43.265Z"}
{"msg":"we got three peers distribute in different PC","username":"kelvinzhong","ts":"2017-08-17T15:00:04.260Z"}
{"msg":"likes few hours, it would have a chance some peers disconnect with the others and never reconnect","username":"kelvinzhong","ts":"2017-08-17T15:00:52.591Z"}
{"msg":"hmmm really?","username":"yacovm","ts":"2017-08-17T15:01:16.721Z"}
{"msg":"what do they print when they disconnect?","username":"yacovm","ts":"2017-08-17T15:01:27.701Z"}
{"msg":"why do they disconnect though?","username":"yacovm","ts":"2017-08-17T15:02:30.994Z"}
{"msg":"i haven't look into the logs, but it appears so, after one day, we execute another transaction, one of the peer didn't receive the transaction, the block height is less than others","username":"kelvinzhong","ts":"2017-08-17T15:02:51.542Z"}
{"msg":"interesting... so you basically keep the peers online and after a day they disconnect?","username":"yacovm","ts":"2017-08-17T15:03:22.610Z"}
{"msg":"unless we restart the peer, it would not synchronize with the others","username":"kelvinzhong","ts":"2017-08-17T15:03:35.918Z"}
{"msg":"I see","username":"yacovm","ts":"2017-08-17T15:03:42.876Z"}
{"msg":"I'll check it out","username":"yacovm","ts":"2017-08-17T15:03:47.653Z"}
{"msg":"thanks ","username":"yacovm","ts":"2017-08-17T15:03:50.997Z"}
{"msg":"but if you can show me logs","username":"yacovm","ts":"2017-08-17T15:04:00.506Z"}
{"msg":"that'd help ","username":"yacovm","ts":"2017-08-17T15:04:02.451Z"}
{"msg":"seems the peers on the same computer would not happen","username":"kelvinzhong","ts":"2017-08-17T15:04:34.597Z"}
{"msg":"if the peers are in the same computer it doesn't happen","username":"yacovm","ts":"2017-08-17T15:05:07.588Z"}
{"msg":"but in different computers it does?","username":"yacovm","ts":"2017-08-17T15:05:11.442Z"}
{"msg":"i'm not sure, since our environment now all in different computers","username":"kelvinzhong","ts":"2017-08-17T15:05:38.493Z"}
{"msg":"ok, any chance you get me some logs to look at ?","username":"yacovm","ts":"2017-08-17T15:05:53.049Z"}
{"msg":"but when i test on the same computer haven't appear this error","username":"kelvinzhong","ts":"2017-08-17T15:06:29.790Z"}
{"msg":"","username":"kelvinzhong","ts":"2017-08-17T15:07:18.006Z","attachments":[{"title":"File Uploaded: Clipboard - 20178171106","title_link":"/file-upload/aPP5PGsFxnD4F7saj/Clipboard - 20178171106","image_url":"/file-upload/aPP5PGsFxnD4F7saj/Clipboard - 20178171106","image_type":"image/png","image_size":140622,"url":"/file-upload/aPP5PGsFxnD4F7saj/Clipboard - 20178171106","remote":false,"fileId":"aPP5PGsFxnD4F7saj","fileName":"Clipboard - 20178171106"}]}
{"msg":"i'm not sure if this is the right logs for this issue","username":"kelvinzhong","ts":"2017-08-17T15:07:27.853Z"}
{"msg":"no no","username":"yacovm","ts":"2017-08-17T15:08:21.637Z"}
{"msg":"i need gossip logs","username":"yacovm","ts":"2017-08-17T15:08:24.464Z"}
{"msg":"i don't have now...let me check tomorrow","username":"kelvinzhong","ts":"2017-08-17T15:09:00.575Z"}
{"msg":"ok cool","username":"yacovm","ts":"2017-08-17T15:09:07.943Z"}
{"msg":"thanks","username":"yacovm","ts":"2017-08-17T15:09:09.177Z"}
{"msg":"here is 11PM now","username":"kelvinzhong","ts":"2017-08-17T15:09:09.595Z"}
{"msg":"understood","username":"yacovm","ts":"2017-08-17T15:09:15.848Z"}
{"msg":"btw, the eventhub also would disconnect sometimes, where should i ask","username":"kelvinzhong","ts":"2017-08-17T15:10:13.537Z"}
{"msg":"btw, the eventhub would also disconnect sometimes, where should i ask","username":"kelvinzhong","ts":"2017-08-17T15:10:13.537Z"}
{"msg":"in #fabric-peer-endorser-committer ","username":"yacovm","ts":"2017-08-17T15:10:20.864Z"}
{"msg":"thanks","username":"kelvinzhong","ts":"2017-08-17T15:10:26.849Z"}
{"msg":"sure","username":"yacovm","ts":"2017-08-17T15:10:31.128Z"}
{"msg":"Has joined the channel.","username":"Eman0","ts":"2017-08-17T20:24:22.473Z","type":"uj"}
{"msg":"I know that the genesis block contains the anchor peers addresses. But when one of them sends alive message, how do the others know that this message is from that anchor peer?  is it just from the source IP? ","username":"Eman0","ts":"2017-08-17T21:07:22.455Z"}
{"msg":"why do they need to know that the message is from an anchor peer?","username":"yacovm","ts":"2017-08-17T21:57:19.431Z"}
{"msg":"it doesn't matter which peer the message is from","username":"yacovm","ts":"2017-08-17T21:57:30.637Z"}
{"msg":"Actually, I just want to know how peers learn the addresses of each other's. So when a peer receives an \"alive\" message, how does it know the address of the sender?","username":"Eman0","ts":"2017-08-17T23:35:47.394Z"}
{"msg":"Actually, I just want to know how peers learn the addresses of each other's","username":"Eman0","ts":"2017-08-18T05:47:39.501Z"}
{"msg":"each peer gossips about its own address to other peers","username":"yacovm","ts":"2017-08-18T06:53:01.730Z"}
{"msg":"Has joined the channel.","username":"CarlXK","ts":"2017-08-18T08:36:32.491Z","type":"uj"}
{"msg":"Is that in the \"alive\" message ? And is the purpose of anchor peers just to be discovered by newly connected peers ? ","username":"Eman0","ts":"2017-08-18T13:31:07.276Z"}
{"msg":"Yep","username":"yacovm","ts":"2017-08-18T13:47:36.111Z"}
{"msg":"@kelvinzhong  @SotirisAlfonsos I tried reproducing your problem with a modified peer that has a 1 Minute times where it does a re-scan and expiration of certificates (instead of the default hours and day ) and it doesn't reproduce :(","username":"yacovm","ts":"2017-08-19T10:31:43.763Z"}
{"msg":"Could it be that it's something with the network in your environment?","username":"yacovm","ts":"2017-08-19T10:32:07.283Z"}
{"msg":"Has joined the channel.","username":"sampath06","ts":"2017-08-19T11:22:16.266Z","type":"uj"}
{"msg":"@yacovm  sadly, we just reproduce this problem...one of the peer disconnect with the others, the block high is less than the others. but we forget to open the debug logs......so we have to wait for the problem occurs next time:joy:","username":"kelvinzhong","ts":"2017-08-21T03:30:57.231Z"}
{"msg":"@yacovm  sadly, we just reproduce this problem...one of the peer disconnect with the others, the block height is less than the others. but we forget to open the debug logs......so we have to wait for the problem occurs next time:joy:","username":"kelvinzhong","ts":"2017-08-21T03:30:57.231Z"}
{"msg":"@yacovm  sadly, we just reproduce this problem...one of the peer disconnect with the others, the block height is less than the others. but we forgot to open the debug logs......so we have to wait for the problem occurs next time:joy:","username":"kelvinzhong","ts":"2017-08-21T03:30:57.231Z"}
{"msg":"You dont","username":"yacovm","ts":"2017-08-21T05:47:32.928Z"}
{"msg":"You can change debug level dynamically while the leer is running","username":"yacovm","ts":"2017-08-21T05:47:50.602Z"}
{"msg":"But that might br too late...","username":"yacovm","ts":"2017-08-21T05:48:03.460Z"}
{"msg":"But that might be too late...","username":"yacovm","ts":"2017-08-21T05:48:03.460Z"}
{"msg":":joy: yes, we will wait....","username":"kelvinzhong","ts":"2017-08-21T05:54:13.407Z"}
{"msg":"@yacovm BTW, how to change the debug level dynamically...we used to change the docker-compose file setting....","username":"kelvinzhong","ts":"2017-08-21T06:25:31.717Z"}
{"msg":"Wait actually i'm not sure that still works","username":"yacovm","ts":"2017-08-21T06:26:49.893Z"}
{"msg":"well...if it still working please let me know:grin:","username":"kelvinzhong","ts":"2017-08-21T06:34:30.196Z"}
{"msg":"one more question:grin:   the setting \"- CORE_PEER_GOSSIP_ORGLEADER=true\", it's stand for the leader peer that orderer would send the transaction first, or it's stand for the anchor peer that would communicate across the organization?","username":"kelvinzhong","ts":"2017-08-21T06:40:48.526Z"}
{"msg":"i saw the example from fabric-java-sdk, all peers set as CORE_PEER_GOSSIP_EXTERNALENDPOINT, but there are comment line of CORE_PEER_GOSSIP_BOOTSTRAP and CORE_PEER_GOSSIP_ORGLEADER, not sure what would be the usage of those, could you share how to choose the setting of those?","username":"kelvinzhong","ts":"2017-08-21T06:48:17.219Z"}
{"msg":"`./build/bin/peer logging setlevel gossip DEBUG`","username":"yacovm","ts":"2017-08-21T06:49:59.336Z"}
{"msg":"@kelvinzhong ^","username":"yacovm","ts":"2017-08-21T06:50:04.984Z"}
{"msg":"So the org leader setting makes gossip connect to the ordering service ","username":"yacovm","ts":"2017-08-21T06:50:44.082Z"}
{"msg":"there is another setting that makes gossip discuss who will connect to the orderer on behalf of the other peers","username":"yacovm","ts":"2017-08-21T06:51:05.928Z"}
{"msg":"and then some peer is elected and it is the one that connects to the orderer","username":"yacovm","ts":"2017-08-21T06:51:18.541Z"}
{"msg":"per channel, of course","username":"yacovm","ts":"2017-08-21T06:51:21.470Z"}
{"msg":"thanks for the explaination! ","username":"kelvinzhong","ts":"2017-08-21T06:54:02.013Z"}
{"msg":"`CORE_PEER_GOSSIP_EXTERNALENDPOINT` - makes your peer evailable to external organizations","username":"yacovm","ts":"2017-08-21T06:54:51.334Z"}
{"msg":"`CORE_PEER_GOSSIP_BOOTSTRAP` - a peer or a few peers from your org that gossip connects to them upon startup to establish membership","username":"yacovm","ts":"2017-08-21T06:56:08.028Z"}
{"msg":"@kelvinzhong ^","username":"yacovm","ts":"2017-08-21T06:56:13.571Z"}
{"msg":"cool!","username":"kelvinzhong","ts":"2017-08-21T06:56:43.745Z"}
{"msg":"but the anchor peer seems has been set in the genesis block, why would it need to be set in the compose file","username":"kelvinzhong","ts":"2017-08-21T06:58:55.281Z"}
{"msg":"and the leader peer could be chosen automatically right?","username":"kelvinzhong","ts":"2017-08-21T06:59:44.272Z"}
{"msg":"bootstrap","username":"yacovm","ts":"2017-08-21T06:59:44.314Z"}
{"msg":"not anchor","username":"yacovm","ts":"2017-08-21T06:59:45.438Z"}
{"msg":"they are different","username":"yacovm","ts":"2017-08-21T06:59:49.639Z"}
{"msg":"CORE_PEER_GOSSIP_EXTERNALENDPOINT` - makes your peer evailable to external organizations","username":"kelvinzhong","ts":"2017-08-21T06:59:56.297Z"}
{"msg":"i mean this one ","username":"kelvinzhong","ts":"2017-08-21T07:00:00.230Z"}
{"msg":">  and the leader peer could be chosen automatically right? \nif leader election is on, yes","username":"yacovm","ts":"2017-08-21T07:00:01.786Z"}
{"msg":"this has nothing to do with anchor peers","username":"yacovm","ts":"2017-08-21T07:00:12.283Z"}
{"msg":"well... as i read from the doc says the anchor peer is used to communicate with different organization, is that correct?","username":"kelvinzhong","ts":"2017-08-21T07:01:31.169Z"}
{"msg":"yes and no. It is used to know about peers from other organizations","username":"yacovm","ts":"2017-08-21T07:02:28.861Z"}
{"msg":"but once the peers know each other they don't need the anchor peer anymore","username":"yacovm","ts":"2017-08-21T07:02:37.544Z"}
{"msg":"unless they are shut down, that is","username":"yacovm","ts":"2017-08-21T07:02:44.798Z"}
{"msg":"that's new....","username":"kelvinzhong","ts":"2017-08-21T07:02:55.196Z"}
{"msg":"That's not new","username":"yacovm","ts":"2017-08-21T07:03:00.885Z"}
{"msg":"thanks very much for this","username":"kelvinzhong","ts":"2017-08-21T07:03:04.730Z"}
{"msg":"i haven't seen this from the doc","username":"kelvinzhong","ts":"2017-08-21T07:03:29.601Z"}
{"msg":"what doc","username":"yacovm","ts":"2017-08-21T07:04:57.547Z"}
{"msg":"http://hyperledger-fabric.readthedocs.io/en/latest/","username":"kelvinzhong","ts":"2017-08-21T07:05:13.635Z"}
{"msg":"once there has the design doc for the fabric.... i probably learn from that","username":"kelvinzhong","ts":"2017-08-21T07:08:12.500Z"}
{"msg":"Has joined the channel.","username":"vdods","ts":"2017-08-23T23:10:04.203Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=t3Z6GGW6k3yQ4Nv8Q) @yacovm  Could we provide a list of peers to be bootstrap peers in core.yaml, or using docker-compose?\n```","username":"scottz","ts":"2017-08-24T21:54:49.094Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=t3Z6GGW6k3yQ4Nv8Q","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=t3Z6GGW6k3yQ4Nv8Q","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=t3Z6GGW6k3yQ4Nv8Q) @yacovm  Are you saying we could somehow provide a LIST of peers to be bootstrap peers in core.yaml?\n```\npeer:\n    gossip:\n        bootstrap: 127.0.0.1:7051\n```\nAnd can we specify more than one using docker-compose when using config variable CORE_PEER_GOSSIP_BOOTSTRAP? Or are you implying we could simply specify a different bootstrap peer when we configure each peer?\n```\n  peer0.org1.example.com:\n    environment:\n      - CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org1.example.com:7051\n\n  peer1.org1.example.com:\n    environment:\n      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051\n```","username":"scottz","ts":"2017-08-24T21:54:49.094Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=t3Z6GGW6k3yQ4Nv8Q","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=t3Z6GGW6k3yQ4Nv8Q","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has left the channel.","username":"nnao","ts":"2017-08-25T17:57:59.091Z","type":"ul"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=AqGTogz7qJEjSpcNL) \n","username":"yacovm","ts":"2017-08-25T19:28:24.967Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=AqGTogz7qJEjSpcNL","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=AqGTogz7qJEjSpcNL","remote":true,"fileId":null,"fileName":null}]}
{"msg":">  Are you saying we could somehow provide a LIST of peers to be bootstrap peers in core.yaml?\nYes.\n> And can we specify more than one using docker-compose when using config variable CORE_PEER_GOSSIP_BOOTSTRAP?\nShould work. \n @scottz ","username":"yacovm","ts":"2017-08-25T19:29:09.134Z"}
{"msg":"Has joined the channel.","username":"rsherwood","ts":"2017-08-31T14:13:35.937Z","type":"uj"}
{"msg":"In our network we expect to have only one peer per organization. If a peer has to recover, for example  by catching up  with missing blocks,  where will the peer request blocks from ? Will it go to peers of other organizations on the channel or will it go to one of the orderers for redelivery ? If its peers of other organizations where would it get the address other peer from ? ","username":"rsherwood","ts":"2017-08-31T14:24:07.145Z"}
{"msg":"> Will it go to peers of other organizations on the channel or will it go to one of the orderers for redelivery \nBoth if it's configured to use leader election\n>  If its peers of other organizations where would it get the address other peer from ? \nFrom the anchor peers of the channel","username":"yacovm","ts":"2017-08-31T14:35:41.301Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=SNJ5ytwiyNHzJRh5Z) @yacovm  How do I know if a peer is  configured to use leader election?     In the config transcation I've seen I've not notice the anchor peer being configured. Is this a mandatory field for an MSP ? If these are not specified does it not go to the other organization ?","username":"rsherwood","ts":"2017-08-31T15:01:52.040Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=SNJ5ytwiyNHzJRh5Z","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=SNJ5ytwiyNHzJRh5Z","remote":true,"fileId":null,"fileName":null}]}
{"msg":"CORE_PEER_GOSSIP_LEADER_ELECTION=true","username":"yacovm","ts":"2017-08-31T15:08:18.783Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=KARQp86aDMNFhHyKK) @yacovm  Sorry I'm what familiar with this setting what does this do?    If the system goes to other member peers or the order is there any priority as to which happens ?","username":"rsherwood","ts":"2017-08-31T16:10:40.100Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=KARQp86aDMNFhHyKK","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=KARQp86aDMNFhHyKK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"daijianw","ts":"2017-09-01T03:57:08.227Z","type":"uj"}
{"msg":"Has joined the channel.","username":"VictoriaH","ts":"2017-09-08T15:22:25.407Z","type":"uj"}
{"msg":"Has left the channel.","username":"kostas","ts":"2017-09-08T20:18:00.956Z","type":"ul"}
{"msg":"Can anyone tell me why the following warnings occur? Thanks!","username":"qizhang","ts":"2017-09-12T15:52:28.652Z"}
{"msg":"Can anyone tell me why the following warnings occur? I have a Fabric network with 1 org and 2 peers (peer0 and peer1). The client is sending request to both peers, but this warnings ONLY occur in peer0. Thanks!","username":"qizhang","ts":"2017-09-12T15:52:28.652Z"}
{"msg":"Can anyone tell me why the following warnings occur? I have a Fabric network with 1 org and 2 peers (peer0 and peer1). The client is sending request to both peers, but these warnings ONLY occur in peer0. Thanks!","username":"qizhang","ts":"2017-09-12T15:52:28.652Z"}
{"msg":"Can anyone tell me why the following warnings occur? I have a Fabric network with 1 org and 2 peers (peer0 and peer1). The client is sending requests to both peers, but these warnings ONLY occur in peer0. Thanks!","username":"qizhang","ts":"2017-09-12T15:52:28.652Z"}
{"msg":"`peer0.org1.example.com    | 2017-09-12 15:46:56.522 UTC [gossip/state] handleStateResponse -> WARN 2311 Payload with sequence number 4657 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.523 UTC [gossip/state] handleStateResponse -> WARN 2312 Payload with sequence number 4658 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.524 UTC [gossip/state] handleStateResponse -> WARN 2313 Payload with sequence number 4659 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.525 UTC [gossip/state] handleStateResponse -> WARN 2314 Payload with sequence number 4660 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.526 UTC [gossip/state] handleStateResponse -> WARN 2315 Payload with sequence number 4661 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.527 UTC [gossip/state] handleStateResponse -> WARN 2316 Payload with sequence number 4662 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.528 UTC [gossip/state] handleStateResponse -> WARN 2317 Payload with sequence number 4663 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.528 UTC [gossip/state] handleStateResponse -> WARN 2318 Payload with sequence number 4664 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.529 UTC [gossip/state] handleStateResponse -> WARN 2319 Payload with sequence number 4665 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.530 UTC [gossip/state] handleStateResponse -> WARN 231a Payload with sequence number 4666 was received earlier`","username":"qizhang","ts":"2017-09-12T15:52:43.454Z"}
{"msg":"```peer0.org1.example.com    | 2017-09-12 15:46:56.522 UTC [gossip/state] handleStateResponse -> WARN 2311 Payload with sequence number 4657 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.523 UTC [gossip/state] handleStateResponse -> WARN 2312 Payload with sequence number 4658 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.524 UTC [gossip/state] handleStateResponse -> WARN 2313 Payload with sequence number 4659 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.525 UTC [gossip/state] handleStateResponse -> WARN 2314 Payload with sequence number 4660 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.526 UTC [gossip/state] handleStateResponse -> WARN 2315 Payload with sequence number 4661 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.527 UTC [gossip/state] handleStateResponse -> WARN 2316 Payload with sequence number 4662 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.528 UTC [gossip/state] handleStateResponse -> WARN 2317 Payload with sequence number 4663 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.528 UTC [gossip/state] handleStateResponse -> WARN 2318 Payload with sequence number 4664 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.529 UTC [gossip/state] handleStateResponse -> WARN 2319 Payload with sequence number 4665 was received earlier\npeer0.org1.example.com    | 2017-09-12 15:46:56.530 UTC [gossip/state] handleStateResponse -> WARN 231a Payload with sequence number 4666 was received earlier```","username":"qizhang","ts":"2017-09-12T15:52:43.454Z"}
{"msg":"@qizhang I think it's nothing to worry about, it happens when you get a block from the orderer or from some peer while trying to do state transfer ","username":"yacovm","ts":"2017-09-12T17:07:59.642Z"}
{"msg":"( @C0rWin correct me if I'm wrong)","username":"yacovm","ts":"2017-09-12T17:08:33.935Z"}
{"msg":"You might want to try to turn the logging verbosity level to debug","username":"yacovm","ts":"2017-09-12T17:08:59.423Z"}
{"msg":"and see what messages you receive besides it","username":"yacovm","ts":"2017-09-12T17:09:10.143Z"}
{"msg":"thanks @yacovm ","username":"qizhang","ts":"2017-09-12T17:14:30.514Z"}
{"msg":"do you have any thought on why these warnings only occur in peer0 but not peer1? @yacovm ","username":"qizhang","ts":"2017-09-12T17:15:08.491Z"}
{"msg":"The message was actually from the function 'antiEntropy()', and this function is supposed to run on each peer, right?","username":"qizhang","ts":"2017-09-12T17:15:58.355Z"}
{"msg":"The message was actually from the function `antiEntropy()`, and this function is supposed to run on each peer, right?","username":"qizhang","ts":"2017-09-12T17:15:58.355Z"}
{"msg":">  do you have any thought on why these warnings only occur in peer0 but not peer1? @yacovm \nMy bet would be that peer0 doesn't connect to the ordering service, and peer1 does.","username":"yacovm","ts":"2017-09-12T17:17:41.620Z"}
{"msg":"You can verify it from logs...","username":"yacovm","ts":"2017-09-12T17:17:43.450Z"}
{"msg":">  The message was actually from the function `antiEntropy()`, and this function is supposed to run on each peer, right? \nWell yeah, but there is a place in the code where it checks if it's needed to fetch blocks from other peers... if you're the most up to date peer, you don't fetch blocks from peers","username":"yacovm","ts":"2017-09-12T17:18:18.390Z"}
{"msg":"I see. Can you let me know how to verify from the logs that whether a peer has connecte to the orderer?","username":"qizhang","ts":"2017-09-12T17:19:01.503Z"}
{"msg":"Also, even if peer0 does not connect to the orderer, why it receives blocks that it already has?","username":"qizhang","ts":"2017-09-12T17:19:55.236Z"}
{"msg":"Also, even if peer0 does not connect to the orderer, why it keep receiving blocks that it already has?","username":"qizhang","ts":"2017-09-12T17:19:55.236Z"}
{"msg":"Also, even if peer0 does not connect to the orderer, why it keeps receiving blocks that it already has?","username":"qizhang","ts":"2017-09-12T17:19:55.236Z"}
{"msg":"yeah of course","username":"yacovm","ts":"2017-09-12T17:20:50.321Z"}
{"msg":"it prints it....","username":"yacovm","ts":"2017-09-12T17:20:53.379Z"}
{"msg":">  Also, even if peer0 does not connect to the orderer, why it keeps receiving blocks that it already has? \nbecause it might fetch N blocks at a time, because it batches them","username":"yacovm","ts":"2017-09-12T17:21:23.469Z"}
{"msg":"but it might already received them from a peer","username":"yacovm","ts":"2017-09-12T17:21:31.740Z"}
{"msg":"Normally, a peer is supposed to receive blocks from the orderer, right?","username":"qizhang","ts":"2017-09-12T17:23:37.254Z"}
{"msg":"If it does not connect to the orderer, the peer then needs to ask its neighbor peers for the blocks. Then, if it receives blocks from its neighbors, why it still receives those blocks from the orderer?","username":"qizhang","ts":"2017-09-12T17:25:10.231Z"}
{"msg":"Has joined the channel.","username":"CallMain","ts":"2017-09-14T07:12:09.332Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yuanlv","ts":"2017-09-15T21:51:02.918Z","type":"uj"}
{"msg":"Has left the channel.","username":"vdods","ts":"2017-09-17T18:59:49.172Z","type":"ul"}
{"msg":"Has joined the channel.","username":"yyyyyyy9","ts":"2017-09-20T01:43:59.899Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Colonel_HLE","ts":"2017-09-20T12:20:12.598Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thirdstage","ts":"2017-09-21T05:45:24.386Z","type":"uj"}
{"msg":"Has joined the channel.","username":"HYOSEOPKWON","ts":"2017-09-21T05:51:16.559Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SimonOberzan","ts":"2017-09-21T08:17:23.834Z","type":"uj"}
{"msg":"Hi. I had a network with 2 organizations with 2 peers each. I have added another peer to Org2, and peer0.org2 (gossip bootstrap and anchor peer) & peer1.org2 seem fine but peers peer0.org1 and peer1.org1 keep giving following errors: ```[gossip/comm] func1 -> WARN 490 peer2.org2.example.com:7051, PKIid:[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58] isn't responsive: EOF\n[gossip/discovery] expireDeadMembers -> WARN 491 Entering [[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58]]\n[gossip/discovery] expireDeadMembers -> WARN 492 Closing connection to Endpoint: peer2.org2.example.com:7051, InternalEndpoint: , PKI-ID: [72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58], Metadata: []\n[gossip/discovery] expireDeadMembers -> WARN 493 Exiting ```","username":"SimonOberzan","ts":"2017-09-21T10:52:41.602Z"}
{"msg":"Hi. I had a network with 2 organizations with 2 peers each. I have added another peer to Org2, and peer0.org2 (gossip bootstrap and anchor peer) & peer1.org2 seem fine but peers peer0.org1 and peer1.org1 keep giving following errors: ```[gossip/comm] func1 -> WARN 490 peer2.org2.example.com:7051, PKIid:[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58] isn't responsive: EOF\n[gossip/discovery] expireDeadMembers -> WARN 491 Entering [[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58]]\n[gossip/discovery] expireDeadMembers -> WARN 492 Closing connection to Endpoint: peer2.org2.example.com:7051, InternalEndpoint: , PKI-ID: [72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58], Metadata: []\n[gossip/discovery] expireDeadMembers -> WARN 493 Exiting ```\nHow can I make peer of Org1 \"accept\" the new peer? Or should I disable the external gossip endpoint, and what would be the advantage/disadvantage?","username":"SimonOberzan","ts":"2017-09-21T10:52:41.602Z"}
{"msg":"Hi. I had a network with 2 organizations with 2 peers each. I have added another peer to Org2, and peer0.org2 (gossip bootstrap and anchor peer) & peer1.org2 seem fine but peers peer0.org1 and peer1.org1 keep giving following errors: ```[gossip/comm] func1 -> WARN 490 peer2.org2.example.com:7051, PKIid:[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58] isn't responsive: EOF\n[gossip/discovery] expireDeadMembers -> WARN 491 Entering [[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58]]\n[gossip/discovery] expireDeadMembers -> WARN 492 Closing connection to Endpoint: peer2.org2.example.com:7051, InternalEndpoint: , PKI-ID: [72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58], Metadata: []\n[gossip/discovery] expireDeadMembers -> WARN 493 Exiting ```\nLogs of the new peer: \n```[gossip/comm] authenticateRemotePeer -> WARN 1c8 Identity store rejected 172.20.0.3:43412 : Peer Identity [0a 07 4f...] cannot be validated. No MSP found able to do that.\n[gossip/comm] GossipStream -> ERRO 1c9 Authentication failed: Peer Identity [0a 07 4f...] cannot be validated. No MSP found able to do that.\n[gossip/gossip] handleMessage -> WARN 1cc Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:\"peer0.org1.example.com:7051\" pki_id:\"$\\275\\207,\\336I\\243I\\355\\313\\\\\\300\\310\\207\\246\\222\\0346\\032w\\321Z\\217\\0079\\211\\234\\201\\216\\255\\266\\177\" > timestamp:<inc_num:1505990941617943451 seq_num:108 > > , Envelope: 83 bytes, Signature: 71 bytes isn't valid```\nHow can I make peer of Org1 \"accept\" the new peer? Or should I disable the external gossip endpoint, and what would be the advantage/disadvantage?","username":"SimonOberzan","ts":"2017-09-21T10:52:41.602Z"}
{"msg":"Hi. I had a network with 2 organizations with 2 peers each. I have added another peer to Org2, and peer0.org2 (gossip bootstrap and anchor peer) & peer1.org2 seem fine but peers peer0.org1 and peer1.org1 keep giving following errors: ```[gossip/comm] func1 -> WARN 490 peer2.org2.example.com:7051, PKIid:[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58] isn't responsive: EOF\n[gossip/discovery] expireDeadMembers -> WARN 491 Entering [[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58]]\n[gossip/discovery] expireDeadMembers -> WARN 492 Closing connection to Endpoint: peer2.org2.example.com:7051, InternalEndpoint: , PKI-ID: [72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58], Metadata: []\n[gossip/discovery] expireDeadMembers -> WARN 493 Exiting ```\nLogs of the new peer: \n```[gossip/comm] authenticateRemotePeer -> WARN 1c8 Identity store rejected 172.20.0.3:43412 : Peer Identity [0a 07 4f...] cannot be validated. No MSP found able to do that.\n[gossip/comm] GossipStream -> ERRO 1c9 Authentication failed: Peer Identity [0a 07 4f...] cannot be validated. No MSP found able to do that.\n[gossip/gossip] handleMessage -> WARN 1cc Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:\"peer0.org1.example.com:7051\" pki_id:\"$\\275\\207,\\336I\\243I\\355\\313\\\\\\300\\310\\207\\246\\222\\0346\\032w\\321Z\\217\\0079\\211\\234\\201\\216\\255\\266\\177\" > timestamp:<inc_num:1505990941617943451 seq_num:108 > > , Envelope: 83 bytes, Signature: 71 bytes isn't valid```\nHow can I make peers of Org1 \"accept\" the new peer? Or should I disable the external gossip endpoint, and what would be the advantage/disadvantage?","username":"SimonOberzan","ts":"2017-09-21T10:52:41.602Z"}
{"msg":"Hi. I had a network with 2 organizations with 2 peers each. I have added another peer to Org2, and peer0.org2 (gossip bootstrap and anchor peer) & peer1.org2 seem fine but peers peer0.org1 and peer1.org1 keep giving following errors: ```[gossip/comm] func1 -> WARN 490 peer2.org2.example.com:7051, PKIid:[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58] isn't responsive: EOF\n[gossip/discovery] expireDeadMembers -> WARN 491 Entering [[72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58]]\n[gossip/discovery] expireDeadMembers -> WARN 492 Closing connection to Endpoint: peer2.org2.example.com:7051, InternalEndpoint: , PKI-ID: [72 126 38 46 227 64 227 123 167 189 213 77 113 92 32 12 16 209 206 157 93 166 4 30 240 80 13 109 231 102 174 58], Metadata: []\n[gossip/discovery] expireDeadMembers -> WARN 493 Exiting ```\nLogs of the new peer: \n```[gossip/comm] authenticateRemotePeer -> WARN 1c8 Identity store rejected 172.20.0.3:43412 : Peer Identity [0a 07 4f...] cannot be validated. No MSP found able to do that.\n[gossip/comm] GossipStream -> ERRO 1c9 Authentication failed: Peer Identity [0a 07 4f...] cannot be validated. No MSP found able to do that.\n[gossip/gossip] handleMessage -> WARN 1cc Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:\"peer0.org1.example.com:7051\" pki_id:\"$\\275\\207,\\336I\\243I\\355\\313\\\\\\300\\310\\207\\246\\222\\0346\\032w\\321Z\\217\\0079\\211\\234\\201\\216\\255\\266\\177\" > timestamp:<inc_num:1505990941617943451 seq_num:108 > > , Envelope: 83 bytes, Signature: 71 bytes isn't valid```\nHow can I make peers of Org1 \"accept\" the new peer? Or should I disable the external gossip endpoint, and what would be the advantages/disadvantages of that?","username":"SimonOberzan","ts":"2017-09-21T10:52:41.602Z"}
{"msg":"@SimonOberzan it looks like the MSP of the new peer isnt configuree correctly","username":"yacovm","ts":"2017-09-21T11:35:57.152Z"}
{"msg":"@SimonOberzan it looks like the MSP of the new peer isnt configured correctly","username":"yacovm","ts":"2017-09-21T11:35:57.152Z"}
{"msg":"@yacovm Do you have any suggestion on how I can check what is wrong? Those are my environmental variables on the new peer:\n```- CORE_PEER_ID=peer2.org2.example.com\n- CORE_PEER_ADDRESS=peer2.org2.example.com:7051\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer2.org2.example.com:7051\n- CORE_PEER_DISCOVERY_ROOTNODE=peer0.org2.example.com:7051\n- CORE_PEER_CHAINCODELISTENADDRESS=peer2.org2.example.com:7052\n- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051\n- CORE_PEER_LOCALMSPID=Org2MSP\n- CORE_PEER_ADDRESSAUTODETECT=true","username":"SimonOberzan","ts":"2017-09-21T11:43:34.545Z"}
{"msg":"@yacovm Do you have any suggestion on how I can check what is wrong? Those are my environmental variables on the new peer:\n```- CORE_PEER_ID=peer2.org2.example.com\n- CORE_PEER_ADDRESS=peer2.org2.example.com:7051\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer2.org2.example.com:7051\n- CORE_PEER_DISCOVERY_ROOTNODE=peer0.org2.example.com:7051\n- CORE_PEER_CHAINCODELISTENADDRESS=peer2.org2.example.com:7052\n- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051\n- CORE_PEER_LOCALMSPID=Org2MSP\n- CORE_PEER_ADDRESSAUTODETECT=true\n- CORE_PEER_GOSSIP_USELEADERELECTION=true","username":"SimonOberzan","ts":"2017-09-21T11:43:34.545Z"}
{"msg":"@yacovm Do you have any suggestion on how I can check what is wrong? Those are my environmental variables on the new peer:\n```- CORE_PEER_ID=peer2.org2.example.com\n- CORE_PEER_ADDRESS=peer2.org2.example.com:7051\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer2.org2.example.com:7051\n- CORE_PEER_DISCOVERY_ROOTNODE=peer0.org2.example.com:7051\n- CORE_PEER_CHAINCODELISTENADDRESS=peer2.org2.example.com:7052\n- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051\n- CORE_PEER_LOCALMSPID=Org2MSP\n- CORE_PEER_ADDRESSAUTODETECT=true\n- CORE_PEER_GOSSIP_USELEADERELECTION=true\n- CORE_PEER_GOSSIP_ORGLEADER=false","username":"SimonOberzan","ts":"2017-09-21T11:43:34.545Z"}
{"msg":"@yacovm Do you have any suggestion on how I can check what is wrong? Those are my environmental variables on the new peer:\n```- CORE_PEER_ID=peer2.org2.example.com\n- CORE_PEER_ADDRESS=peer2.org2.example.com:7051\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer2.org2.example.com:7051\n- CORE_PEER_DISCOVERY_ROOTNODE=peer0.org2.example.com:7051\n- CORE_PEER_CHAINCODELISTENADDRESS=peer2.org2.example.com:7052\n- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051\n- CORE_PEER_LOCALMSPID=Org2MSP\n- CORE_PEER_ADDRESSAUTODETECT=true\n- CORE_PEER_GOSSIP_USELEADERELECTION=true\n- CORE_PEER_GOSSIP_ORGLEADER=false\n- CORE_PEER_PROFILE_ENABLED=false\n- CORE_PEER_TLS_ENABLED=false","username":"SimonOberzan","ts":"2017-09-21T11:43:34.545Z"}
{"msg":"@yacovm Do you have any suggestion on how I can check what is wrong? Those are my environmental variables on the new peer:\n```- CORE_PEER_ID=peer2.org2.example.com\n- CORE_PEER_ADDRESS=peer2.org2.example.com:7051\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer2.org2.example.com:7051\n- CORE_PEER_DISCOVERY_ROOTNODE=peer0.org2.example.com:7051\n- CORE_PEER_CHAINCODELISTENADDRESS=peer2.org2.example.com:7052\n- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051\n- CORE_PEER_LOCALMSPID=Org2MSP\n- CORE_PEER_ADDRESSAUTODETECT=true\n- CORE_PEER_GOSSIP_USELEADERELECTION=true\n- CORE_PEER_GOSSIP_ORGLEADER=false\n- CORE_PEER_PROFILE_ENABLED=false\n- CORE_PEER_TLS_ENABLED=false\n- CORE_VM_ENDPOINT=172.16.67.239:2375\n- CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=cello_net_solo","username":"SimonOberzan","ts":"2017-09-21T11:43:34.545Z"}
{"msg":"@yacovm Do you have any suggestion on how I can check what is wrong? Those are my environmental variables on the new peer:\n```- CORE_PEER_ID=peer2.org2.example.com\n- CORE_PEER_ADDRESS=peer2.org2.example.com:7051\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer2.org2.example.com:7051\n- CORE_PEER_DISCOVERY_ROOTNODE=peer0.org2.example.com:7051\n- CORE_PEER_CHAINCODELISTENADDRESS=peer2.org2.example.com:7052\n- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051\n- CORE_PEER_LOCALMSPID=Org2MSP\n- CORE_PEER_ADDRESSAUTODETECT=true\n- CORE_PEER_GOSSIP_USELEADERELECTION=true\n- CORE_PEER_GOSSIP_ORGLEADER=false\n- CORE_PEER_PROFILE_ENABLED=false\n- CORE_PEER_TLS_ENABLED=false\n- CORE_VM_ENDPOINT=172.16.67.239:2375\n- CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=cello_net_solo```\nI registered and erolled the peer on CA2 and used generated msp.","username":"SimonOberzan","ts":"2017-09-21T11:43:34.545Z"}
{"msg":"What about the msp id?","username":"yacovm","ts":"2017-09-21T11:48:49.980Z"}
{"msg":"- CORE_PEER_LOCALMSPID=Org2MSP? Is ther any other msp id?","username":"SimonOberzan","ts":"2017-09-21T11:51:17.754Z"}
{"msg":"Thats the one","username":"yacovm","ts":"2017-09-21T12:22:51.579Z"}
{"msg":"Anyone can explain what does the following function do? The comment does not seem to be clear to me. Thanks!","username":"qizhang","ts":"2017-09-22T04:47:20.323Z"}
{"msg":"```\t// Deliver in order messages into the incoming channel\n\tgo s.deliverPayloads()```","username":"qizhang","ts":"2017-09-22T04:47:44.621Z"}
{"msg":"@qizhang blocks are gossiped hence received at arbitrary order, this method leverages buffer which takes care to commit blocks to the ledger according to the natural order","username":"C0rWin","ts":"2017-09-22T06:59:34.485Z"}
{"msg":"@C0rWin I know that each peer has a buffer to store the received blocks, does this method receives the gossiped blocks and put them into the buffer, so that the committing routine can commit the blocks from the buffer to the ledger, Or this method takes the block from the buffer and then calls the committing routine to commit to the ledger?","username":"qizhang","ts":"2017-09-22T16:11:50.435Z"}
{"msg":"@qizhang this method polls buffer and commits the next in oder block once available ","username":"C0rWin","ts":"2017-09-22T18:52:39.394Z"}
{"msg":"@C0rWin You mentioned that the blocks come to the buffer in an arbitrary order, and I saw that this method just pops each block out of the buffer and then commit. Does it mean that this method commit the block in the same order that the blocks arrive in the buffer, which is also arbitrary?","username":"qizhang","ts":"2017-09-22T19:34:09.564Z"}
{"msg":"@qizhang buffer takes care to re-order blocks in natural order, hence blocks are committed in the original order according to sequence numbers generated by orderer ","username":"C0rWin","ts":"2017-09-23T08:07:59.060Z"}
{"msg":"Has joined the channel.","username":"avi-nyc","ts":"2017-09-24T00:03:36.494Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yushan","ts":"2017-09-26T09:16:57.428Z","type":"uj"}
{"msg":"If the client does not register any event, does the Fabric server still generate events but just not send them?","username":"qizhang","ts":"2017-09-29T17:59:49.158Z"}
{"msg":"it's just like pub/sub works","username":"yacovm","ts":"2017-09-29T18:04:38.164Z"}
{"msg":"and the answer is yes","username":"yacovm","ts":"2017-09-29T18:04:44.683Z"}
{"msg":"but this isn't related to gossip","username":"yacovm","ts":"2017-09-29T18:04:49.837Z"}
{"msg":"Thanks @yacovm . Yeah, but I was not sure which channel shall I ask, please advise.","username":"qizhang","ts":"2017-09-29T18:10:19.090Z"}
{"msg":"#fabric-peer-endorser-committer ","username":"yacovm","ts":"2017-09-29T18:10:29.999Z"}
{"msg":"OK, I am going to join","username":"qizhang","ts":"2017-09-29T18:10:57.536Z"}
{"msg":"Has joined the channel.","username":"CodeReaper","ts":"2017-10-02T15:03:08.566Z","type":"uj"}
{"msg":"Hey, I was wondering if I start a byfn network and the start a peer separately and assign that peer's gossip external endpoint to the core peer, Will that peer update all the blocks into its own ledger by itself??","username":"CodeReaper","ts":"2017-10-02T15:05:40.896Z"}
{"msg":"Or do i require some process beforehand??","username":"CodeReaper","ts":"2017-10-02T15:06:00.288Z"}
{"msg":"what is a core peer?","username":"yacovm","ts":"2017-10-02T15:09:41.216Z"}
{"msg":"Anchor peer? is'nt that the one mentioned in the compose file?? Will it sync itself with any peer it has its core_peer_address set to for that matter?","username":"CodeReaper","ts":"2017-10-02T15:41:04.126Z"}
{"msg":"I don't understand what you're asking, sorry.","username":"yacovm","ts":"2017-10-02T15:46:05.891Z"}
{"msg":"can you rephrase?","username":"yacovm","ts":"2017-10-02T15:46:07.847Z"}
{"msg":"I have a docker network running, supposedly of byfn network. Now If i start a separate peer setting all the defaults of any other peer in the network. will the peer sync all the blocks in its own ledger by itself?","username":"CodeReaper","ts":"2017-10-02T15:49:17.464Z"}
{"msg":"ah so the peer needs: \n1) To join a channel\n2) To know some anchor peer. I'm not sure if byfn has anchor peers in the configtx.yaml","username":"yacovm","ts":"2017-10-02T15:50:38.176Z"}
{"msg":"but, *very important - do not forget!* \nYou have to give your peer a new certificate. ","username":"yacovm","ts":"2017-10-02T15:50:53.128Z"}
{"msg":"do not give it a certificate of an existing peer","username":"yacovm","ts":"2017-10-02T15:50:59.959Z"}
{"msg":"Yes this was gonna be the second question, but i was wondering if the syncing process requires a certificate.","username":"CodeReaper","ts":"2017-10-02T15:51:48.211Z"}
{"msg":"Fabric is a blockchain for a permissioned network","username":"yacovm","ts":"2017-10-02T15:53:15.951Z"}
{"msg":"everything you do that interacts with another network node","username":"yacovm","ts":"2017-10-02T15:53:24.935Z"}
{"msg":"requires some authentication ;)","username":"yacovm","ts":"2017-10-02T15:53:28.740Z"}
{"msg":"so, in gossip's case we have a check in the code that sees if someone uses the same certificate as some other peer","username":"yacovm","ts":"2017-10-02T15:53:51.500Z"}
{"msg":"now, what will happen is that both peers won't be able to \"see\" each other","username":"yacovm","ts":"2017-10-02T15:55:49.846Z"}
{"msg":"they'll just complain that there is some peer with the same certificate, but with a different endpoint than their own","username":"yacovm","ts":"2017-10-02T15:56:06.189Z"}
{"msg":"Got it, thanks.","username":"CodeReaper","ts":"2017-10-02T15:56:23.198Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=wi2fWCodW6qYWGT3J) How can i achieve this","username":"CodeReaper","ts":"2017-10-02T15:56:47.930Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=wi2fWCodW6qYWGT3J","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=wi2fWCodW6qYWGT3J","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=XWec7EmzP92dZ36Xc) How can i achieve this","username":"CodeReaper","ts":"2017-10-02T15:57:21.424Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=XWec7EmzP92dZ36Xc","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=XWec7EmzP92dZ36Xc","remote":true,"fileId":null,"fileName":null}]}
{"msg":"register and enroll the peer from inside the peer itself??","username":"CodeReaper","ts":"2017-10-02T15:57:56.852Z"}
{"msg":"Not sure how that would work","username":"CodeReaper","ts":"2017-10-02T15:58:05.686Z"}
{"msg":"The peer doesnt have direct communication with the CA I think","username":"CodeReaper","ts":"2017-10-02T15:58:52.542Z"}
{"msg":"Do I register from a peer whose already enrolled, sounds right to me","username":"CodeReaper","ts":"2017-10-02T15:59:50.828Z"}
{"msg":"not from within the peer","username":"yacovm","ts":"2017-10-02T16:27:22.295Z"}
{"msg":"externally with a commandline","username":"yacovm","ts":"2017-10-02T16:27:28.239Z"}
{"msg":"sorry for the rapid fire @yacovm , I have just 2 more queries. \n1)You said a peer needs to join a channel. does that mean it will it sync blocks of that particular channel only? That would disrupt the chain right? So maybe it will just commit changes from other channels also, updating its world state and the blockchain. ","username":"CodeReaper","ts":"2017-10-02T16:40:21.531Z"}
{"msg":"2)\"To know some anchor peer\". Will it be the peer the new peer should set its core_peer_gossip_address to?? How exactly will it know a peer.","username":"CodeReaper","ts":"2017-10-02T16:42:19.006Z"}
{"msg":"Has joined the channel.","username":"AlekNS","ts":"2017-10-04T05:14:22.060Z","type":"uj"}
{"msg":"@CodeReaper  dont know why or how i forgot about these pending questions :slight_smile: . I guess i'm overwhelmed with questions these days. So w.r.t 1)yes. Why would it distrupt the chain? Syncing blocks is a read. 2) the anxhor peer(s) are just endpoints of known prers, encoded in configuration blocks. ","username":"yacovm","ts":"2017-10-06T15:30:43.978Z"}
{"msg":"Has joined the channel.","username":"Asara","ts":"2017-10-06T20:43:21.671Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yoheiueda","ts":"2017-10-11T05:27:53.375Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tennenjl","ts":"2017-10-11T14:39:41.537Z","type":"uj"}
{"msg":"Has joined the channel.","username":"baramustafa","ts":"2017-10-11T22:27:58.196Z","type":"uj"}
{"msg":"Has joined the channel.","username":"asaningmaxchain","ts":"2017-10-12T00:33:32.882Z","type":"uj"}
{"msg":"Has left the channel.","username":"william123","ts":"2017-10-12T13:41:23.364Z","type":"ul"}
{"msg":"Has joined the channel.","username":"minollo","ts":"2017-10-12T14:58:32.740Z","type":"uj"}
{"msg":"Hi @yacovm ; I have been exploring the concept of leader peers in the past few days; sorry if my questions are naive or basic - I have  been looking for answers elsewhere, but I couldn't find them. From what I understand, in order to actually have a single leader peer elected in the context of a channel, for a single org, I need to explicitly configure gossip.bootstrap before I start the peers and join them to a channel; that's required to make sure each peer node knows which other peer nodes it needs to interact with in the context of gossip - I believe. Is there any possibility (or any future plan) to make it possible for peers to \"discover\" each other through the ordering service or other means? Relying on the configuration files settings for a leader peer to be elected (a setting which is not even required) seems to be quite error prone - and I suppose it also forces peer nodes to be bounced if I want a new peer to be recognized in the election process.","username":"minollo","ts":"2017-10-12T15:05:17.841Z"}
{"msg":"Hi @yacovm ; I have been exploring the concept of leader peers in the past few days; sorry if my questions are naive or basic - I have  been looking for answers elsewhere, but I couldn't find them. From what I understand, in order to actually have a single leader peer elected in the context of a channel, for a single org, I need to explicitly configure gossip.bootstrap before I start the peers and join them to a channel; that's required to make sure each peer node knows which other peer nodes it needs to interact with in the context of gossip - I believe. Is there any possibility (or any future plan) to make it possible for peers to \"discover\" each other through the ordering service or other means? Relying on the configuration files settings for a leader peer to be elected (a setting which is not even required) seems to be quite error prone - and I suppose it also forces peer nodes to be bounced if I want a new peer to be recognized in the election process.\nIn general, I'm trying to understand if I should rely on the concept of leader peer, to possibly assigning some specific roles to the leader peer moving forward; right now, the fact that leader peers seem to be an \"optional\" entity, surprises me a little.","username":"minollo","ts":"2017-10-12T15:05:17.841Z"}
{"msg":"@minollo well - you can also use anchor peers","username":"yacovm","ts":"2017-10-12T15:18:32.270Z"}
{"msg":"you don't have to use bootstrap peers","username":"yacovm","ts":"2017-10-12T15:18:38.632Z"}
{"msg":"if your org has an anchor peer you don't need a bootstrap peer.","username":"yacovm","ts":"2017-10-12T15:18:48.182Z"}
{"msg":"@yacovm perhaps I'm missing something, but I can't find a good description of the role of anchor and leader peers and how they operate.  They're barely mentioned at all in the hyperledger architecture section.  Is there a good description somewhere of what they do and how they do it?","username":"toddinpal","ts":"2017-10-12T15:29:35.737Z"}
{"msg":"I can just explain it here","username":"yacovm","ts":"2017-10-12T15:30:01.847Z"}
{"msg":"yeah, but I suspect others have similar questions...  Seems like a good section for the architecture section of the documentation","username":"toddinpal","ts":"2017-10-12T15:30:46.768Z"}
{"msg":"I agree with @toddinpal that an explanation of the architecture in the documentation would help; but in the meanwhile, @yacovm , I would be happy to hear here about the role of anchor and leader peers, and for what purposes I can/should rely on one or the other. My initial understanding of anchor peers (and the reason why I didn't pay much attention to them) is that they can be >1 for a channel/org - while I was looking for a peer (what I was assuming should be the leader peer) to have a unique role in the context of a channel/org...","username":"minollo","ts":"2017-10-12T15:35:41.780Z"}
{"msg":"an anchor peer is an endpoint of a peer from an organization\nthat is useful for multi-organizational channels\nin which the orgs can find the peers of other organizations using the anchor peers\ni.e org0 and org1 each have an anchor peer: peer0.org0 and peer0.org1\nso the update tx is sent to the channel to all organizations\nand with that - peer0.org1 can know about peer0.org0 and can tell peer1.org1, peer2.org1, etc. about peer0.org0 but also about peer1.org0, peer2.org0\nbecause peer0.org0 knows about peer1.org0, and peer2.org0 and would tell other organizations about them","username":"yacovm","ts":"2017-10-12T16:07:01.310Z"}
{"msg":"a leader peer is the peer (in an org) that connects to the orderer","username":"yacovm","ts":"2017-10-12T16:07:11.527Z"}
{"msg":"on behalf of its organization, for the channel","username":"yacovm","ts":"2017-10-12T16:07:22.684Z"}
{"msg":"a leader peer is per channel and for an org","username":"yacovm","ts":"2017-10-12T16:07:29.372Z"}
{"msg":"@yacovm , thanks for the explanation; luckily enough, that fits the understanding I had. And I am apparently correct in focusing on leader peers, as I was looking for that one peer with a special role in the context of one channel for an org. Going back to my original question(s), it looks like the notion of the leader peer is not \"mandated\", but optional - and entirely driven by configuration files. Is that ever going to change (so that I can count on the fact that I will *always* have a single leader peer per channel, per org? Is that always going to be driven by the gossip configuration information?","username":"minollo","ts":"2017-10-12T16:18:05.628Z"}
{"msg":"it's not strictly via config files","username":"yacovm","ts":"2017-10-12T16:18:41.151Z"}
{"msg":"a leader can be statically set via the config","username":"yacovm","ts":"2017-10-12T16:18:52.475Z"}
{"msg":"or it can be dynamically elected by its peers","username":"yacovm","ts":"2017-10-12T16:19:00.278Z"}
{"msg":"(pun itended)","username":"yacovm","ts":"2017-10-12T16:19:03.592Z"}
{"msg":"(pun intended)","username":"yacovm","ts":"2017-10-12T16:19:03.592Z"}
{"msg":"> so that I can count on the fact that I will *always* have a single leader peer per channel, per org\nNo one promises you that","username":"yacovm","ts":"2017-10-12T16:19:30.447Z"}
{"msg":"why do you have such a need?","username":"yacovm","ts":"2017-10-12T16:19:52.691Z"}
{"msg":"I was looking for a peer who would a role of possibly storing information in some peculiar way - either because I might want to replicate at least one peer's ledger in a slow but resilient storage, or because I might want to store state or history in a persistence storage which allows me to run richer queries than what couchdb state queries or leveldb history iterations allow me to do. And that would need to be per channel, per org - which fits quite well with the way a leader peer is defined. Makes sense?\nBTW, one more question specific to leader peers and gossip protocol: assuming that gossip is configured to have peers elect a leader, I assume there is a mechanism to make sure that if the current leader is no more responsive a new one is elected; is that assumption correct? If yes, how long would it typically take for the new leader to be elected after the old one dies?","username":"minollo","ts":"2017-10-12T16:25:09.213Z"}
{"msg":"I understand your odd need, but I'm not sure how you're going to accomplish that - store in the state in a storage that isn't couch or levelDB. are you going to change the fabric code?","username":"yacovm","ts":"2017-10-12T16:27:02.979Z"}
{"msg":"> I assume there is a mechanism to make sure that if the current leader is no more responsive a new one is elected; is that assumption correct?\nOf course.","username":"yacovm","ts":"2017-10-12T16:27:24.324Z"}
{"msg":"> If yes, how long would it typically take for the new leader to be elected after the old one dies? \nhmm it's configurable:\n```\n        election:\n            # Longest time peer waits for stable membership during leader election startup (unit: second)\n            startupGracePeriod: 15s\n            # Interval gossip membership samples to check its stability (unit: second)\n            membershipSampleInterval: 1s\n            # Time passes since last declaration message before peer decides to perform leader election (unit: second)\n            leaderAliveThreshold: 10s\n            # Time between peer sends propose message and declares itself as a leader (sends declaration message) (unit: second)\nleaderElectionDuration: 5s","username":"yacovm","ts":"2017-10-12T16:28:27.203Z"}
{"msg":"the above are the defaults","username":"yacovm","ts":"2017-10-12T16:28:32.228Z"}
{"msg":"Excellent, that helps a lot, thanks!","username":"minollo","ts":"2017-10-12T16:29:12.483Z"}
{"msg":"Has joined the channel.","username":"jeffgarratt","ts":"2017-10-12T17:46:10.328Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jyellick","ts":"2017-10-12T17:46:17.930Z","type":"uj"}
{"msg":"@yacovm @jyellick getting this error from non-upgraded peers when upgrading from 1.0.3 -> master branch","username":"jeffgarratt","ts":"2017-10-12T17:47:21.288Z"}
{"msg":"```2017-10-12 17:44:41.310 UTC [gossip/comm] createConnection -> WARN 3cf Remote endpoint claims to be a different peer, expected [124 221 79 7 0 236 182 116 79 110 214 197 15 194 2 53 151 130 178 225 166 85 26 121 93 13 105 124 95 241 23\n1 155] but got [132 147 215 211 28 42 217 236 228 175 192 198 194 101 124 238 159 102 125 255 140 192 66 95 245 223 6 118 143 186 157 39]","username":"jeffgarratt","ts":"2017-10-12T17:47:24.487Z"}
{"msg":"hmmm... let me ask you something","username":"yacovm","ts":"2017-10-12T17:48:51.721Z"}
{"msg":"how much time pass between the upgrades?","username":"yacovm","ts":"2017-10-12T17:49:04.156Z"}
{"msg":"did you upgrade one of the peers?","username":"yacovm","ts":"2017-10-12T17:49:23.626Z"}
{"msg":"and the other peer complains about this?","username":"yacovm","ts":"2017-10-12T17:49:31.840Z"}
{"msg":"So the scenario is- you upgrade one of the peers and the other one complains?","username":"yacovm","ts":"2017-10-12T17:50:31.293Z"}
{"msg":"Basically, this may happen if you replace a peer's identity and then restart it. \nThe peer that tries to reconnect to the peer that was restarted assumes it is a certain peer and it sees a different peer on the other side","username":"yacovm","ts":"2017-10-12T17:56:41.740Z"}
{"msg":"therefore, it suspects it, and aborts the connection.","username":"yacovm","ts":"2017-10-12T17:56:53.208Z"}
{"msg":"It's none fatal, unless it's an anchor peer or a bootstrap peer. ","username":"yacovm","ts":"2017-10-12T17:57:09.869Z"}
{"msg":"Generally, what you can do is just wait for a while until the peer is considered \"really dead\" by the peer that re-connects","username":"yacovm","ts":"2017-10-12T17:57:52.538Z"}
{"msg":"so it will not try to re-connect to that ip:port anymore","username":"yacovm","ts":"2017-10-12T17:58:01.000Z"}
{"msg":"Upgrade some of the peers","username":"jyellick","ts":"2017-10-12T17:58:26.177Z"}
{"msg":"There was no identity replacement though, only upgrading the binary","username":"jyellick","ts":"2017-10-12T17:58:41.127Z"}
{"msg":"ah but the master branch changed the `Serialize()` method","username":"yacovm","ts":"2017-10-12T17:59:06.865Z"}
{"msg":"ah but the master branch changed the `mspIdentity.Serialize()` method","username":"yacovm","ts":"2017-10-12T17:59:06.865Z"}
{"msg":"so to gossip it is in a way a change of the identity ;)","username":"yacovm","ts":"2017-10-12T17:59:16.210Z"}
{"msg":"So... what's the fix? Does it just work after a while?","username":"jyellick","ts":"2017-10-12T18:05:45.626Z"}
{"msg":"It should. ","username":"yacovm","ts":"2017-10-12T18:05:52.716Z"}
{"msg":"you can do something else though","username":"yacovm","ts":"2017-10-12T18:06:03.513Z"}
{"msg":"when you launch the upgraded peer","username":"yacovm","ts":"2017-10-12T18:06:09.200Z"}
{"msg":"if it's in the same org, for example - give it the none-upgrade peer","username":"yacovm","ts":"2017-10-12T18:06:20.384Z"}
{"msg":"as a bootstrap peer","username":"yacovm","ts":"2017-10-12T18:06:25.042Z"}
{"msg":"then it'll connect to it","username":"yacovm","ts":"2017-10-12T18:06:32.473Z"}
{"msg":"instead the other way around","username":"yacovm","ts":"2017-10-12T18:06:36.698Z"}
{"msg":"and since it's a fresh PKI-ID, it'll be OK","username":"yacovm","ts":"2017-10-12T18:06:48.022Z"}
{"msg":"In the bdd, each peer points to the other","username":"jyellick","ts":"2017-10-12T18:07:03.434Z"}
{"msg":"How long is the timeout before things should 'just work'?","username":"jyellick","ts":"2017-10-12T18:07:21.248Z"}
{"msg":"wdym to the other? like `--> --> -->` in a circle?","username":"yacovm","ts":"2017-10-12T18:07:24.790Z"}
{"msg":"We also tried restarting the peer binary","username":"jyellick","ts":"2017-10-12T18:07:26.927Z"}
{"msg":"if you restart both of them it should work 100%","username":"yacovm","ts":"2017-10-12T18:07:37.639Z"}
{"msg":"since the memory is wiped out","username":"yacovm","ts":"2017-10-12T18:07:41.543Z"}
{"msg":"PeerA points to PeerB points to PeerA, yes","username":"jyellick","ts":"2017-10-12T18:07:44.878Z"}
{"msg":"did you try restarting both?","username":"yacovm","ts":"2017-10-12T18:07:59.598Z"}
{"msg":"not yet","username":"jeffgarratt","ts":"2017-10-12T18:08:03.137Z"}
{"msg":"just to check the claim","username":"yacovm","ts":"2017-10-12T18:08:04.380Z"}
{"msg":"can give it a go","username":"jeffgarratt","ts":"2017-10-12T18:08:05.616Z"}
{"msg":"Not at the same time","username":"jyellick","ts":"2017-10-12T18:08:16.070Z"}
{"msg":"hmmm wait a second","username":"yacovm","ts":"2017-10-12T18:08:47.368Z"}
{"msg":"if the bootstrap configuration points in a circle","username":"yacovm","ts":"2017-10-12T18:09:07.718Z"}
{"msg":"that means they should be connected","username":"yacovm","ts":"2017-10-12T18:09:14.302Z"}
{"msg":"the upgraded peer should be connected to the none upgraded","username":"yacovm","ts":"2017-10-12T18:09:24.321Z"}
{"msg":"can you perhaps do `tcpdump` or `netstat` and confirm?","username":"yacovm","ts":"2017-10-12T18:09:34.307Z"}
{"msg":"or, if the gossip logs are in DEBUG you should see lots of noise","username":"yacovm","ts":"2017-10-12T18:10:11.366Z"}
{"msg":"We are still getting the warning after 35 minutes","username":"jyellick","ts":"2017-10-12T18:11:06.538Z"}
{"msg":"right but I'm trying to figure out - are they connected?","username":"yacovm","ts":"2017-10-12T18:11:49.272Z"}
{"msg":"or not?","username":"yacovm","ts":"2017-10-12T18:11:54.945Z"}
{"msg":"We restarted peer3, with an updated binary.  Then restarted peer2 with the existing binary because of the warning","username":"jyellick","ts":"2017-10-12T18:11:57.404Z"}
{"msg":"I don't know if they are connected, but the spamming of that warning would seem to imply to me that they are not?","username":"jyellick","ts":"2017-10-12T18:12:13.623Z"}
{"msg":"who are the peers in the story? just peer3 and peer2?","username":"yacovm","ts":"2017-10-12T18:12:36.072Z"}
{"msg":"Yes, peer2 and peer3 are the only two peers in an org","username":"jyellick","ts":"2017-10-12T18:12:55.574Z"}
{"msg":"(peer0 and peer1 are Org1, peer2 and peer3 are Org2, we upgraded peer3 with a binary from master, saw the warning, restarted peer2 with the existing v1.0.3 binary)","username":"jyellick","ts":"2017-10-12T18:13:45.992Z"}
{"msg":"peer0 and peer2 are anchor peers","username":"jyellick","ts":"2017-10-12T18:14:08.811Z"}
{"msg":"Though external endpoint is not set for anyone, so there should be no cross org gossip","username":"jyellick","ts":"2017-10-12T18:14:40.158Z"}
{"msg":"> we upgraded peer3 with a binary from master, saw the warning, restarted peer2 with the existing v1.0.3 binary\nhmm?","username":"yacovm","ts":"2017-10-12T18:14:54.836Z"}
{"msg":"so you upgraded both?","username":"yacovm","ts":"2017-10-12T18:15:02.235Z"}
{"msg":"No, peer2 and peer3 were executing with the v1.0.3 binary","username":"jyellick","ts":"2017-10-12T18:15:16.065Z"}
{"msg":"We stopped peer3, upgraded his binary to master, then started him again","username":"jyellick","ts":"2017-10-12T18:15:25.678Z"}
{"msg":"We saw the warning, suspected it was a cache problem from peer2, so, simply restarted peer2 (no change in binary)","username":"jyellick","ts":"2017-10-12T18:15:41.584Z"}
{"msg":"wait so you restarted both peers? ","username":"yacovm","ts":"2017-10-12T18:15:55.192Z"}
{"msg":"Yes","username":"jyellick","ts":"2017-10-12T18:15:58.795Z"}
{"msg":"Not at the same time, first peer3, then peer2","username":"jyellick","ts":"2017-10-12T18:16:12.894Z"}
{"msg":"hmmm let me take a look how much time an identity can even circulate before it's purged","username":"yacovm","ts":"2017-10-12T18:17:25.860Z"}
{"msg":"ok so it's an hour. but I still don't understand how can 35 minutes pass and a peer attempts to probe another peer","username":"yacovm","ts":"2017-10-12T18:18:35.165Z"}
{"msg":"the fact that it expects a certain PKI-ID says that it got that from a previous AliveMessage","username":"yacovm","ts":"2017-10-12T18:19:00.385Z"}
{"msg":"wait a second","username":"yacovm","ts":"2017-10-12T18:19:23.840Z"}
{"msg":"BDD is docker","username":"yacovm","ts":"2017-10-12T18:19:27.291Z"}
{"msg":"and in docker you get random IP addresses","username":"yacovm","ts":"2017-10-12T18:19:33.892Z"}
{"msg":"well, semi random","username":"yacovm","ts":"2017-10-12T18:19:50.950Z"}
{"msg":"... I still don't understand how can 35 min pass and still have warnings though","username":"yacovm","ts":"2017-10-12T18:20:21.241Z"}
{"msg":"ah wait","username":"yacovm","ts":"2017-10-12T18:22:37.677Z"}
{"msg":"ok I think I understand what's going on @jyellick / @jeffgarratt ","username":"yacovm","ts":"2017-10-12T18:23:38.894Z"}
{"msg":"when a peer connects to an anchor peer or a bootstrap peer it computes its PKI-ID","username":"yacovm","ts":"2017-10-12T18:23:51.710Z"}
{"msg":"so we have a v1.0.3 peers that computes the PKI-ID and expects the upgraded peer on the other side to identify itself in a certain way","username":"yacovm","ts":"2017-10-12T18:24:24.448Z"}
{"msg":"so we have a v1.0.3 peers that computes the PKI-ID and expects the upgraded peer on the other side to identify itself in a certain way and present its PKI-ID which is computed differently.","username":"yacovm","ts":"2017-10-12T18:24:24.448Z"}
{"msg":"but since the computation is different... they will never be able to communicate","username":"yacovm","ts":"2017-10-12T18:24:53.983Z"}
{"msg":"but since the computation is different... they will never be able to communicate because the side that opens the connection suspects the other side is not who it expects he is.","username":"yacovm","ts":"2017-10-12T18:24:53.983Z"}
{"msg":"I don't see that as a problem","username":"jeffgarratt","ts":"2017-10-12T18:25:34.249Z"}
{"msg":"So... gossip will be broken in a mixed v1.0.x v1.1 network forever?","username":"jyellick","ts":"2017-10-12T18:25:42.266Z"}
{"msg":"most folks will coordinate the upgrade process I presume","username":"jeffgarratt","ts":"2017-10-12T18:25:44.066Z"}
{"msg":"yep!","username":"yacovm","ts":"2017-10-12T18:25:49.308Z"}
{"msg":"good nough","username":"jeffgarratt","ts":"2017-10-12T18:25:58.923Z"}
{"msg":"I'm sorry, my code is over-paranoid :( ","username":"yacovm","ts":"2017-10-12T18:26:10.162Z"}
{"msg":"so you would assume once I upgrade both peers, gossip should reestablish?","username":"jeffgarratt","ts":"2017-10-12T18:26:25.447Z"}
{"msg":"yep","username":"yacovm","ts":"2017-10-12T18:26:30.207Z"}
{"msg":"k.. will verify","username":"jeffgarratt","ts":"2017-10-12T18:26:33.603Z"}
{"msg":"thnx!","username":"jeffgarratt","ts":"2017-10-12T18:26:35.703Z"}
{"msg":"sure.","username":"yacovm","ts":"2017-10-12T18:26:42.867Z"}
{"msg":"@mastersingh24 so looks like we won't get mixed peers gossiping anyway.... ^ ","username":"yacovm","ts":"2017-10-12T18:28:29.657Z"}
{"msg":"@jyellick @jeffgarratt something suddenly strikes me as odd. Did no peer complain about handshake problems?","username":"yacovm","ts":"2017-10-12T18:31:21.545Z"}
{"msg":"when they handshake, they exchange PKI-IDs and verify the PKI-IDs match the expected computation... ","username":"yacovm","ts":"2017-10-12T18:32:25.647Z"}
{"msg":"should be some `c.logger.Warningf(\"Identity store rejected %s : %v\", remoteAddress, err)` message IIUC","username":"yacovm","ts":"2017-10-12T18:33:15.784Z"}
{"msg":"do not see that","username":"jeffgarratt","ts":"2017-10-12T18:34:31.173Z"}
{"msg":"@yacovm  do not see that","username":"jeffgarratt","ts":"2017-10-12T18:34:31.173Z"}
{"msg":"@jyellick @jeffgarratt I take back what I said:\n>  so we have a v1.0.3 peers that computes the PKI-ID and expects the upgraded peer on the other side to identify itself in a certain way and present its PKI-ID which is computed differently. \n>  but since the computation is different... they will never be able to communicate because the side that opens the connection suspects the other side is not who it expects he is. \nI don't think the PKI-ID computation changed between the versions. I'll look into this myself and investigate. ","username":"yacovm","ts":"2017-10-12T20:06:03.112Z"}
{"msg":"@jyellick  , @jeffgarratt I did it locally it everything seems to work for me :/ ","username":"yacovm","ts":"2017-10-12T21:17:50.346Z"}
{"msg":"I started both peers as v1.0.3","username":"yacovm","ts":"2017-10-12T21:18:03.662Z"}
{"msg":"and then killed one of them and restarted it as a v1.1","username":"yacovm","ts":"2017-10-12T21:18:16.880Z"}
{"msg":"and they gossip just fine","username":"yacovm","ts":"2017-10-12T21:18:22.054Z"}
{"msg":"Do you want to help me reproduce this?","username":"yacovm","ts":"2017-10-12T21:18:55.833Z"}
{"msg":"only I did it with VMs not with BDD or docker","username":"yacovm","ts":"2017-10-12T21:19:20.801Z"}
{"msg":"ok so I'm pretty sure it's from the discovery module trying to re-connect to the dead peer that is PKI-ID was `x` and after the upgrade it changed because the implementation of `Serialize()` changed to `y`","username":"yacovm","ts":"2017-10-12T22:37:02.179Z"}
{"msg":"however I'm not sure why it's not purging the message from memory fast enough...","username":"yacovm","ts":"2017-10-12T22:38:10.538Z"}
{"msg":"@jyellick , @jeffgarratt @mastersingh24  I investigated this issue, the TLDR is that there is no bug and everything is working as expected:\n1) Have 2 peers in v1.0.3\n2) Upgrade one of them to v1.1\nThe v1.0.3 peer now has the new upgraded peer in its alive view, but since https://gerrit.hyperledger.org/r/#/c/13265/17/msp/identities.go@181 was merged, it now sees this peer as a completely different peer because its identity now serialized into new bytes.\nNow, it still has the old incarnation of the peer (when it was v1.0.3) in its \"dead\" view and attempts to re-connect to it.\nWhen it reconnects to it, it does it in 2 stages:\n   - Probes it via a gRPC RPC which succeeds\n   - Sends it a membership request to merge its membership view with the peer's view, but gossip is a paranoid communication middleware, and when it establishes connection with new peers it knew before - it expects their PKI-ID to match what it was before (this is so a malicious org won't publish membership with endpoints of an existing org and thus isolate peers from other peers). The communication that re-establishes to the re-incarnated peer performs a handshake (that succeeds) and returns the new PKI-ID (one that it is already connected to, but it's irrelevant) and then it rejects the connection (hence the `createConnection` warning in the log) and complains. \n\nI did an experiment and it seems that after ~ 16 minutes it stops reconnecting because it forgets the peer (by purging it from the dead member list).\nThis time duration is computed by multiplying `20` by `peer.gossip.aliveExpirationTimeout`.\nI tested this on a recompiled v1.0.3 peer on which I added a printf to the part where it deletes the message from the dead list and indeed after that print, there were no new warnings or attempts of reconnections. ","username":"yacovm","ts":"2017-10-13T20:37:53.423Z"}
{"msg":"@jyellick , @jeffgarratt @mastersingh24  I investigated this issue, the TLDR is that there is no bug and everything is working as expected:\n1) Have 2 peers in v1.0.3\n2) Upgrade one of them to v1.1\nThe v1.0.3 peer now has the new upgraded peer in its alive view, but since https://gerrit.hyperledger.org/r/#/c/13265/17/msp/identities.go@181 was merged, it now sees this peer as a completely different peer because its identity now serialized into new bytes.\nNow, it still has the old incarnation of the peer (when it was v1.0.3) in its \"dead\" view and attempts to re-connect to it.\nWhen it reconnects to it, it does it in 2 stages:\n   - Probes it via a gRPC RPC which succeeds\n   - Sends it a membership request to merge its membership view with the peer's view, but gossip is a paranoid communication middleware, and when it establishes connection with new peers it knew before - it expects their PKI-ID to match what it was before (this is so a malicious org won't publish membership with endpoints of an existing org and thus isolate peers from other peers). The communication that re-establishes to the re-incarnated peer performs a handshake (that succeeds) and returns the new PKI-ID (one that it is already connected to, but it's irrelevant) and then it rejects the connection because of the mismatch (hence the `createConnection` warning in the log) and complains. \n\nI did an experiment and it seems that after ~ 16 minutes it stops reconnecting because it forgets the peer (by purging it from the dead member list).\nThis time duration is computed by multiplying `20` by `peer.gossip.aliveExpirationTimeout`.\nI tested this on a recompiled v1.0.3 peer on which I added a printf to the part where it deletes the message from the dead list and indeed after that print, there were no new warnings or attempts of reconnections. ","username":"yacovm","ts":"2017-10-13T20:37:53.423Z"}
{"msg":"@jyellick , @jeffgarratt @mastersingh24  I investigated this issue, the TLDR is that there is no bug and everything is working as expected:\n1) Have 2 peers in v1.0.3\n2) Upgrade one of them to v1.1\nThe v1.0.3 peer now has the new upgraded peer in its alive view, but since https://gerrit.hyperledger.org/r/#/c/13265/17/msp/identities.go@181 was merged, it now sees this peer as a completely different peer because its identity now serialized into new bytes.\nNow, it still has the old incarnation of the peer (when it was v1.0.3) in its \"dead\" view and attempts to re-connect to it.\nWhen it reconnects to it, it does it in 2 stages:\n   - Probes it via a gRPC RPC which succeeds\n   - Sends it a membership request to merge its membership view with the peer's view, but gossip is a paranoid communication middleware, and when it establishes connection with new peers it knew before - it expects their PKI-ID to match what it was before (this is so a malicious org won't isolate peers from other peers). The communication that re-establishes to the re-incarnated peer performs a handshake (that succeeds) and returns the new PKI-ID (one that it is already connected to, but it's irrelevant) and then it rejects the connection because of the mismatch (hence the `createConnection` warning in the log) and complains. \n\nI did an experiment and it seems that after ~ 16 minutes it stops reconnecting because it forgets the peer (by purging it from the dead member list).\nThis time duration is computed by multiplying `20` by `peer.gossip.aliveExpirationTimeout`.\nI tested this on a recompiled v1.0.3 peer on which I added a printf to the part where it deletes the message from the dead list and indeed after that print, there were no new warnings or attempts of reconnections. ","username":"yacovm","ts":"2017-10-13T20:37:53.423Z"}
{"msg":"How about the TLDR; what should the admin do on upgrade?","username":"jyellick","ts":"2017-10-13T20:47:57.387Z"}
{"msg":"just upgrade and wait for the errors to fade","username":"yacovm","ts":"2017-10-13T20:48:15.491Z"}
{"msg":"I tested and they did after 16 min ","username":"yacovm","ts":"2017-10-13T20:48:25.436Z"}
{"msg":"So wait, is it supposed to be a **seamless** upgrade from v1.0.3 to v1.1?","username":"Asara","ts":"2017-10-13T20:48:48.072Z"}
{"msg":"Well gossip is backward compatible","username":"yacovm","ts":"2017-10-13T20:49:19.804Z"}
{"msg":"We are striving to allow a mixed-network rolling style upgrade.  Where some peers may be upgraded and others may not.","username":"jyellick","ts":"2017-10-13T20:50:19.279Z"}
{"msg":"Presently, on restart, the peer changes the way it computes its own PKI-ID which will cause a little log spam from the gossip layer as it tries to sort things out.  After 16 minutes, the log spam should go away and things should be fine again.","username":"jyellick","ts":"2017-10-13T20:50:54.465Z"}
{"msg":"Presently, on upgrade, the peer changes the way it computes its own PKI-ID which will cause a little log spam from the gossip layer as it tries to sort things out.  After 16 minutes, the log spam should go away and things should be fine again.","username":"jyellick","ts":"2017-10-13T20:50:54.465Z"}
{"msg":"wait, lets be accurate!","username":"yacovm","ts":"2017-10-13T20:51:10.141Z"}
{"msg":"it's not the computation that changes, but the serialized identity","username":"yacovm","ts":"2017-10-13T20:51:26.594Z"}
{"msg":"Also... if you have time and mind merging https://gerrit.hyperledger.org/r/#/c/14217/ Jason, it would help :) \nIt's related to this","username":"yacovm","ts":"2017-10-13T20:52:26.460Z"}
{"msg":"> but since https://gerrit.hyperledger.org/r/#/c/13265/17/msp/identities.go@181 was merged\n\nI'm a little confused why that change was snuck into that CR.  It seems like, doing this 'right', we should have tied the serialization style to the MSP version added recently by @adc ","username":"jyellick","ts":"2017-10-13T20:52:57.100Z"}
{"msg":"how would that have helped?","username":"yacovm","ts":"2017-10-13T20:53:45.441Z"}
{"msg":"His change set is only good for verifier MSPs","username":"yacovm","ts":"2017-10-13T20:54:09.184Z"}
{"msg":"while the identity in the story is produced by the local MSP","username":"yacovm","ts":"2017-10-13T20:54:20.503Z"}
{"msg":"also Jason don't forget - gossip is cross channel. There is no notion of \"act now as v1.1\" in gossip","username":"yacovm","ts":"2017-10-13T20:54:58.638Z"}
{"msg":"you can only have 1 identity for your peer at least for now...","username":"yacovm","ts":"2017-10-13T20:55:23.985Z"}
{"msg":"14217 seems unmergeable to me as is.  This affects the output of `Validate`, no?","username":"jyellick","ts":"2017-10-13T20:57:03.555Z"}
{"msg":"it's gossip validate","username":"yacovm","ts":"2017-10-13T20:57:17.606Z"}
{"msg":"it's only used in gossip ","username":"yacovm","ts":"2017-10-13T20:57:23.181Z"}
{"msg":"Oh, I see, I missed that","username":"jyellick","ts":"2017-10-13T20:58:00.695Z"}
{"msg":"that's the function that validates identities for gossip... it was written by @adc ","username":"yacovm","ts":"2017-10-13T20:58:03.173Z"}
{"msg":"we have an interface that is implemented from the MSP building blocks and we use it as a black box so we can mock it for tests","username":"yacovm","ts":"2017-10-13T20:58:29.719Z"}
{"msg":"Though it does seem worth arguing that `Valdate` in the MSP in `V1_1` should also invoke this method","username":"jyellick","ts":"2017-10-13T20:58:36.751Z"}
{"msg":">  Though it does seem worth arguing that `Valdate` in the MSP in `V1_1` should also invoke this method \nI don't understand... can you elaborate?","username":"yacovm","ts":"2017-10-13T20:59:03.429Z"}
{"msg":"(This goes back to my general dissatisfaction with the identity interface, that it requires caching and synchronization, because there's no type differentiation based on the checks which have been performed against the identity)","username":"jyellick","ts":"2017-10-13T20:59:39.581Z"}
{"msg":"If the PEM field for the type is set incorrectly for an identity, would we not want `Validate` to fail for that identity?","username":"jyellick","ts":"2017-10-13T21:00:18.913Z"}
{"msg":"If the PEM field for the type is set incorrectly for an identity, would we not want `msp.Validate` to fail for that identity?","username":"jyellick","ts":"2017-10-13T21:00:18.913Z"}
{"msg":"If the PEM field for the type is set incorrectly for an identity, would we not want `SerializedIdentity.Validate` to fail for that identity?","username":"jyellick","ts":"2017-10-13T21:00:18.913Z"}
{"msg":"so @adc told me he will follow up on this ","username":"yacovm","ts":"2017-10-13T21:00:48.519Z"}
{"msg":"but in a different CR and this will be based on the compatibility","username":"yacovm","ts":"2017-10-13T21:01:02.531Z"}
{"msg":"otherwise we'll fork.","username":"yacovm","ts":"2017-10-13T21:01:07.513Z"}
{"msg":"But this can go in :)","username":"yacovm","ts":"2017-10-13T21:01:14.455Z"}
{"msg":"Understood, I was clicking the `->` button and hadn't noticed we had switched out of the `msp` dir and into `gossip`","username":"jyellick","ts":"2017-10-13T21:05:47.584Z"}
{"msg":"that's peer/gossip, not gossip :rolling_eyes: ","username":"yacovm","ts":"2017-10-13T21:06:13.987Z"}
{"msg":"Has joined the channel.","username":"Francis-Guttridge","ts":"2017-10-16T16:01:42.515Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rohitadivi","ts":"2017-10-16T21:42:23.919Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JosephChang","ts":"2017-10-18T13:09:09.639Z","type":"uj"}
{"msg":" If I want add a peer to multiple channels at a time, do I need to take care that the channel-join requests take place one after another?\nRight now, I was adding a peer to 8 channels at once, and got this in peer logs:\n\n```\n2017-10-18 21:09:08.978 UTC [gossip/state] directMessage -> WARN 19f Received state transfer request for channel ch5 while expecting channel ch6 skipping request...\n2017-10-18 21:09:08.978 UTC [gossip/state] directMessage -> WARN 19e Received state transfer request for channel ch5 while expecting channel ch7 skipping request...\n```\n\nThis seems to have caused a deadlock - as the peer doesn't join any other channels after joining one of the 8","username":"thakkarparth007","ts":"2017-10-18T21:15:41.109Z"}
{"msg":" If I want add a peer to multiple channels at a time, do I need to take care that the channel-join requests take place one after another?\nRight now, I was adding a peer to 8 channels at once, and got this in peer logs:\n```\n2017-10-18 21:09:08.978 UTC [gossip/state] directMessage -> WARN 19f Received state transfer request for channel ch5 while expecting channel ch6 skipping request...\n2017-10-18 21:09:08.978 UTC [gossip/state] directMessage -> WARN 19e Received state transfer request for channel ch5 while expecting channel ch7 skipping request...\n```\n\nThis seems to have caused a deadlock - as the peer doesn't join any other channels after joining one of the 8","username":"thakkarparth007","ts":"2017-10-18T21:15:41.109Z"}
{"msg":"@yacovm, any idea?","username":"thakkarparth007","ts":"2017-10-18T21:30:56.724Z"}
{"msg":"hmm what fabric version is that, first of all?","username":"yacovm","ts":"2017-10-18T21:37:34.879Z"}
{"msg":"1","username":"thakkarparth007","ts":"2017-10-18T21:41:27.291Z"}
{"msg":"v1","username":"thakkarparth007","ts":"2017-10-18T21:41:27.291Z"}
{"msg":"I was going through the code, and doesn't look like it should happen.\n\n```\ngossipChan, _ := g.Accept(func(message interface{}) bool {\n\t\t// Get only data messages\n\t\treturn message.(*proto.GossipMessage).IsDataMsg() &&\n\t\t\tbytes.Equal(message.(*proto.GossipMessage).Channel, []byte(chainID))\n\t}, false)\n```\n\nin NewGossipStateProvider should filter out messages of different channels, and thus that warning should never be shown","username":"thakkarparth007","ts":"2017-10-18T21:42:46.172Z"}
{"msg":"But that's being shown in directMessage(), not sure how that works.","username":"thakkarparth007","ts":"2017-10-18T21:43:22.090Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release/gossip/state/state.go#L162 \nPerhaps here we need to add the chainID equality condition too?","username":"thakkarparth007","ts":"2017-10-18T21:45:55.339Z"}
{"msg":"@C0rWin ^","username":"yacovm","ts":"2017-10-18T21:49:18.479Z"}
{"msg":"I think he is on to something","username":"yacovm","ts":"2017-10-18T21:49:25.939Z"}
{"msg":"```\t\tconnInfo := receivedMsg.GetConnectionInfo()\n\t\tauthErr := mcs.VerifyByChannel(msg.Channel, connInfo.Identity, connInfo.Auth.Signature, connInfo.Auth.SignedData)\n\t\tif authErr != nil {\n\t\t\tlogger.Warning(\"Got unauthorized nodeMetastate transfer request from\", string(connInfo.Identity))\n\t\t\treturn false\n\t\t}\nreturn true```","username":"C0rWin","ts":"2017-10-18T21:51:05.210Z"}
{"msg":"isn't this code should implicitly take care of chanID?","username":"C0rWin","ts":"2017-10-18T21:51:22.616Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release/gossip/state/state.go#L152","username":"C0rWin","ts":"2017-10-18T21:51:32.036Z"}
{"msg":"oh","username":"C0rWin","ts":"2017-10-18T21:51:52.279Z"}
{"msg":"so I think the problem is that the filter just doesn't explicitly filter by channel","username":"yacovm","ts":"2017-10-18T21:51:54.374Z"}
{"msg":"but there is still (I think) no real problem, it just spams the logs","username":"yacovm","ts":"2017-10-18T21:52:12.543Z"}
{"msg":"I think because same identity appear in both channels","username":"C0rWin","ts":"2017-10-18T21:52:15.735Z"}
{"msg":"I _ think _ the logic still should work","username":"yacovm","ts":"2017-10-18T21:52:19.621Z"}
{"msg":"so we need to add an explicit check","username":"C0rWin","ts":"2017-10-18T21:52:22.091Z"}
{"msg":"yep. ","username":"yacovm","ts":"2017-10-18T21:52:30.973Z"}
{"msg":"thanks @thakkarparth007 ","username":"yacovm","ts":"2017-10-18T21:52:35.907Z"}
{"msg":"good catch","username":"C0rWin","ts":"2017-10-18T21:52:41.201Z"}
{"msg":"Yay.","username":"thakkarparth007","ts":"2017-10-18T21:53:21.935Z"}
{"msg":"Okay, so can I just add that ```bytes.Equal(message.(*proto.GossipMessage).Channel, []byte(chainID)``` condition somewhere in remoteMsgFilter and it'll work?","username":"thakkarparth007","ts":"2017-10-18T21:54:13.630Z"}
{"msg":"I don't understand what the second argument to Accept does, that's why I'm asking this","username":"thakkarparth007","ts":"2017-10-18T21:54:37.256Z"}
{"msg":"I don't understand what the second argument to g.Accept() does, that's why I'm asking this","username":"thakkarparth007","ts":"2017-10-18T21:54:37.256Z"}
{"msg":"yes it should.","username":"yacovm","ts":"2017-10-18T21:57:48.729Z"}
{"msg":"the 2nd argument is passthrough","username":"yacovm","ts":"2017-10-18T21:57:55.724Z"}
{"msg":"it indicates to the gossip whether it should just return the Accept() of the comm layer","username":"yacovm","ts":"2017-10-18T21:58:09.309Z"}
{"msg":"or return the Accept() of its own layer","username":"yacovm","ts":"2017-10-18T21:58:16.408Z"}
{"msg":"you want to fix it @thakkarparth007 ?","username":"yacovm","ts":"2017-10-18T21:58:25.906Z"}
{"msg":"(upload a fix to gerrit, etc.)","username":"yacovm","ts":"2017-10-18T21:58:31.531Z"}
{"msg":"Okay sure,","username":"thakkarparth007","ts":"2017-10-18T22:01:54.894Z"}
{"msg":"but I'm not familiar with gerrit PRs. I've mostly used github.","username":"thakkarparth007","ts":"2017-10-18T22:02:06.046Z"}
{"msg":"oh it's easy - install `git-review`","username":"yacovm","ts":"2017-10-18T22:02:21.418Z"}
{"msg":"Okay, I'll check it out. Do I need to do anything on the JIRA? ","username":"thakkarparth007","ts":"2017-10-18T22:03:14.893Z"}
{"msg":"yes. you need to open a JIRA and explain the problem, basically","username":"yacovm","ts":"2017-10-18T22:05:37.631Z"}
{"msg":"and then when you push the change set,","username":"yacovm","ts":"2017-10-18T22:05:47.060Z"}
{"msg":"the title needs to be:","username":"yacovm","ts":"2017-10-18T22:05:49.397Z"}
{"msg":"[JIRA-xxx] when xxx is the number of the JIRA","username":"yacovm","ts":"2017-10-18T22:05:58.736Z"}
{"msg":"\"[JIRA-xxx] bla bla bla \"when xxx is the number of the JIRA","username":"yacovm","ts":"2017-10-18T22:05:58.736Z"}
{"msg":"I mean - to be prefixed","username":"yacovm","ts":"2017-10-18T22:06:18.888Z"}
{"msg":"Oh okay. I'll get the patch ready, and ping you for details. ","username":"thakkarparth007","ts":"2017-10-18T22:07:11.556Z"}
{"msg":"Hi everyone, I got the following problem when starting a Fabric network, any thought? Thanks!","username":"qizhang","ts":"2017-10-19T15:20:39.877Z"}
{"msg":"```2017-10-18 21:16:20.040 UTC [gossip/comm] authenticateRemotePeer -> WARN 00c Identity store rejected 172.18.0.11:56762 : failed classifying identity: Unable to extract msp.Identity from peer Identity: Peer Identity [0a 08 50 ...... 2d 2d 0a] cannot be validated. No MSP found able to do that.\n2017-10-18 21:16:20.040 UTC [gossip/comm] GossipStream -> ERRO 00d Authentication failed: failed classifying identity: Unable to extract msp.Identity from peer Identity: Peer Identity [0a 08 50 ...... 2d 2d 0a] cannot be validated. No MSP found able to do that.```","username":"qizhang","ts":"2017-10-19T15:20:42.143Z"}
{"msg":"That's not a gossip problem, that's a configuration problem","username":"yacovm","ts":"2017-10-19T15:22:54.028Z"}
{"msg":"the identity isn't valid","username":"yacovm","ts":"2017-10-19T15:22:59.990Z"}
{"msg":"it seems to me you forgot to add some peer to a channel","username":"yacovm","ts":"2017-10-19T15:23:38.790Z"}
{"msg":"so a peer contacts another peer but their handshake fails because they have no common channel. \nThey are probably in different organizations","username":"yacovm","ts":"2017-10-19T15:24:05.192Z"}
{"msg":"hmm.. will take a look, thanks for the hint @yacovm ","username":"qizhang","ts":"2017-10-19T15:37:27.256Z"}
{"msg":"Has joined the channel.","username":"sanchezl","ts":"2017-10-23T19:13:21.973Z","type":"uj"}
{"msg":"","username":"sanchezl","ts":"2017-10-23T19:14:34.624Z","attachments":[{"type":"file","title":"Orderer - Peer Join-2.png","title_link":"/file-upload/NZQSGKntFj5gdw5cP/Orderer - Peer Join-2.png","image_url":"/file-upload/NZQSGKntFj5gdw5cP/Orderer - Peer Join-2.png","image_type":"image/png","image_size":65575,"url":"/file-upload/NZQSGKntFj5gdw5cP/Orderer - Peer Join-2.png","remote":false,"fileId":"NZQSGKntFj5gdw5cP","fileName":"Orderer - Peer Join-2.png"}]}
{"msg":"@yacovm , @C0rWin Can you please comment on my Peer Join state chart? ","username":"sanchezl","ts":"2017-10-23T19:15:20.027Z"}
{"msg":"Hi everyone, I got following messages from peer log, what could go wrong?","username":"qizhang","ts":"2017-10-23T19:36:46.829Z"}
{"msg":"```peer1.org7.example.com    | 2017-10-23 19:14:48.555 UTC [gossip/state] queueNewMessage -> WARN 461 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1289\npeer1.org7.example.com    | 2017-10-23 19:14:48.555 UTC [gossip/state] queueNewMessage -> WARN 462 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1288\npeer1.org7.example.com    | 2017-10-23 19:14:48.555 UTC [gossip/state] queueNewMessage -> WARN 463 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1287\npeer1.org7.example.com    | 2017-10-23 19:14:48.556 UTC [gossip/state] queueNewMessage -> WARN 464 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1290\npeer0.org2.example.com    | 2017-10-23 19:14:48.607 UTC [gossip/state] queueNewMessage -> WARN 44b Failed adding payload: Ledger height is at 696, cannot enqueue block with sequence of 1302\npeer0.org2.example.com    | 2017-10-23 19:14:48.609 UTC [gossip/state] queueNewMessage -> WARN 44c Failed adding payload: Ledger height is at 696, cannot enqueue block with sequence of 1304\npeer0.org2.example.com    | 2017-10-23 19:14:48.609 UTC [gossip/state] queueNewMessage -> WARN 44d Failed adding payload: Ledger height is at 696, cannot enqueue block with sequence of 1303```","username":"qizhang","ts":"2017-10-23T19:36:58.091Z"}
{"msg":"@qizhang what fabric version?","username":"yacovm","ts":"2017-10-23T21:40:15.682Z"}
{"msg":"@sanchezl I'd say its somewhat accurate but it doesn't really say anything useful apart that peers can be either leaders or not be leaders and can be behind or not. What is the goal of the flow chart? ","username":"yacovm","ts":"2017-10-23T21:41:36.972Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=YNZZFdfYMR5iwHujf) @yacovm The one thing the diagram clearly states - which is missing from other descriptions I've seen - is that the recovery procedure is different for leader peers vs. non-leader peers.","username":"minollo","ts":"2017-10-23T22:17:48.412Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=YNZZFdfYMR5iwHujf","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=YNZZFdfYMR5iwHujf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"well but if leader election is on then a leader can become a non leader and vice versa ","username":"yacovm","ts":"2017-10-23T22:18:46.845Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=uJu9BjvHYqJbWt37t) @yacovm Understood; but doesn't that change then the recovery procedure for that peer - if it was a leader, and now it isn't anymore?","username":"minollo","ts":"2017-10-23T22:38:26.879Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=uJu9BjvHYqJbWt37t","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=uJu9BjvHYqJbWt37t","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=YNZZFdfYMR5iwHujf) @yacovm I'm looking at adding orderer archiving support and the chart is my attempt to understand just what/when the peer needs something from the orderer. In this instance, I see that a non-leader peer does not need anything from the orderer, while a leader peer will need at most, at minimum, the blocks needed to stay up-to-date, at worst, all blocks from block #1.","username":"sanchezl","ts":"2017-10-24T00:10:27.816Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=YNZZFdfYMR5iwHujf","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=YNZZFdfYMR5iwHujf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=tMJg84NFYArs7o6CR) I am using the master branch of Fabric, since there are some recent updates included.","username":"qizhang","ts":"2017-10-24T15:41:46.361Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=tMJg84NFYArs7o6CR","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=tMJg84NFYArs7o6CR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@qizhang - does the peer's ledger height advance, or not?","username":"yacovm","ts":"2017-10-24T16:29:32.848Z"}
{"msg":"@yacovm yes, it does. All the peers end with the same ledger height","username":"qizhang","ts":"2017-10-24T17:42:17.814Z"}
{"msg":"so what is the problem? that they emit warnings?","username":"yacovm","ts":"2017-10-24T17:43:04.544Z"}
{"msg":"yes, they just emit warnings, no other problems ","username":"qizhang","ts":"2017-10-24T17:48:09.482Z"}
{"msg":"yes, they just emit tons of such warnings, no other problems ","username":"qizhang","ts":"2017-10-24T17:48:09.482Z"}
{"msg":"Has joined the channel.","username":"indira.kalagara","ts":"2017-10-25T12:22:37.402Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rishabh1102","ts":"2017-10-27T12:31:04.326Z","type":"uj"}
{"msg":"Hey all, I had a question, what is the best way to minimize gossip time?","username":"rishabh1102","ts":"2017-10-27T12:31:34.946Z"}
{"msg":"I was getting around 400s Gossip time in a 16peer set up, but it suddenly went up to 2.5s in 32peers","username":"rishabh1102","ts":"2017-10-27T12:32:44.030Z"}
{"msg":"400ms*","username":"rishabh1102","ts":"2017-10-27T12:32:51.645Z"}
{"msg":"Has joined the channel.","username":"Vadim","ts":"2017-10-27T12:34:21.457Z","type":"uj"}
{"msg":"hmm, 400ms - what are you measuring?","username":"yacovm","ts":"2017-10-27T13:06:45.279Z"}
{"msg":"@rishabh1102  - How exactly are you measuring gossip time?  And what exactly is your setup - e.g. how many peers per org, etc","username":"mastersingh24","ts":"2017-10-27T13:06:46.126Z"}
{"msg":"@yacovm   :)","username":"mastersingh24","ts":"2017-10-27T13:06:53.615Z"}
{"msg":"We made experiments of our own for ~ 16 nodes and they were much less in the latency part. I remember the average number was much lower than 400ms.\nFor 32 peers you would probably need to crank up the `propagatePeerNum` property","username":"yacovm","ts":"2017-10-27T13:09:49.237Z"}
{"msg":"Where is this property set in docker compose? Do you have an example?","username":"rishabh1102","ts":"2017-10-27T13:10:59.176Z"}
{"msg":"since it's x2 the peer number, it makes sense to increase the `propagatePeerNum` at least by 1, but I'd say that 6 peers is a good number, because log(32) is 5 so make it 6 to be certain","username":"yacovm","ts":"2017-10-27T13:11:18.495Z"}
{"msg":"ah so the property is not set, therefore it is inherited by core.yaml","username":"yacovm","ts":"2017-10-27T13:11:50.306Z"}
{"msg":"which is 3....","username":"yacovm","ts":"2017-10-27T13:11:53.611Z"}
{"msg":"also make sure you have at least 4 cores per peer","username":"yacovm","ts":"2017-10-27T13:12:50.864Z"}
{"msg":"I have 16 peers and 1 orderer. The block size is 5, so for every 6th successive transaction, I have to wait a certain amount of time before sending it, otherwise it fails","username":"rishabh1102","ts":"2017-10-27T13:14:10.418Z"}
{"msg":"That waiting time is how I'm measuring gossip time","username":"rishabh1102","ts":"2017-10-27T13:14:19.057Z"}
{"msg":"What do you mean \"fails\"?  Are you trying to update the same record?","username":"mastersingh24","ts":"2017-10-27T13:15:26.202Z"}
{"msg":"5 what? inches? KB? apples?","username":"yacovm","ts":"2017-10-27T13:15:30.728Z"}
{"msg":"5 what? inches? KB? apples? transactions?","username":"yacovm","ts":"2017-10-27T13:15:30.728Z"}
{"msg":"5 transactions","username":"rishabh1102","ts":"2017-10-27T13:15:40.747Z"}
{"msg":"haha","username":"rishabh1102","ts":"2017-10-27T13:16:12.942Z"}
{"msg":"`MaxMessageCount: 5` ?","username":"yacovm","ts":"2017-10-27T13:16:32.149Z"}
{"msg":"Yes","username":"rishabh1102","ts":"2017-10-27T13:16:37.024Z"}
{"msg":"And what does fail mean?","username":"mastersingh24","ts":"2017-10-27T13:16:46.015Z"}
{"msg":"right, tha'ts probably MVCC","username":"yacovm","ts":"2017-10-27T13:17:22.924Z"}
{"msg":"but do transactions 1,2,3 succeed?","username":"yacovm","ts":"2017-10-27T13:17:37.681Z"}
{"msg":"The following Happens:\nCycle 1 -> 1,2,3,4,5 -> All Succeed\nCycle 2-> 1,2,3,3,5 -> 1 fails unless I make my SDK sleep for a certain amount of time, and this repeats on every 1 of the cycle","username":"rishabh1102","ts":"2017-10-27T13:18:46.103Z"}
{"msg":">  That waiting time is how I'm measuring gossip time \nThis is really not an ideal way to measure gossip. If you want to bench a component of an entire system you should isolate it, for example- measure the time it takes for the leader peer to propagate blocks to the peers.","username":"yacovm","ts":"2017-10-27T13:18:51.127Z"}
{"msg":"why does the transaction fail?","username":"yacovm","ts":"2017-10-27T13:19:14.031Z"}
{"msg":"is it invalidated by MVCC or what?","username":"yacovm","ts":"2017-10-27T13:19:18.435Z"}
{"msg":"By fail, I get 2 types of errors","username":"rishabh1102","ts":"2017-10-27T13:19:25.419Z"}
{"msg":"But, mostly its the following error: Transaction has Failed The proposal responses do not have consistent read write sets","username":"rishabh1102","ts":"2017-10-27T13:19:53.371Z"}
{"msg":"Also, my main aim isn't benchmarking, it is to get the total transaction latency down at the moment","username":"rishabh1102","ts":"2017-10-27T13:20:42.911Z"}
{"msg":"where is that error? the peer or the SDK?","username":"yacovm","ts":"2017-10-27T13:20:48.072Z"}
{"msg":"SDK","username":"rishabh1102","ts":"2017-10-27T13:20:52.651Z"}
{"msg":"But I'm assuming that its because not all peers give the same result for the transaction, which would be because not all are updated when I send the new transaction to them","username":"rishabh1102","ts":"2017-10-27T13:21:30.406Z"}
{"msg":"How can I manually set propogatePeerNum?","username":"rishabh1102","ts":"2017-10-27T13:22:26.081Z"}
{"msg":"`CORE_PEER_GOSSIP_PROPAGATEPEERNUM=`","username":"yacovm","ts":"2017-10-27T13:25:44.307Z"}
{"msg":"Thanks, I tried changing the variable, but the gossip time is still the same","username":"rishabh1102","ts":"2017-10-27T14:22:06.007Z"}
{"msg":"Is there any other setting which has to be changed along with this?","username":"rishabh1102","ts":"2017-10-27T14:22:22.199Z"}
{"msg":"I told you that running 16 peers in docker on a single physical machine isn't such a good idea...","username":"yacovm","ts":"2017-10-27T15:07:52.819Z"}
{"msg":"Has joined the channel.","username":"srongzhe","ts":"2017-10-29T13:28:34.761Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Jonny","ts":"2017-10-30T06:45:42.580Z","type":"uj"}
{"msg":"Has joined the channel.","username":"KnightTuring","ts":"2017-11-02T16:32:41.071Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nickyng","ts":"2017-11-10T03:46:16.477Z","type":"uj"}
{"msg":"hi all, i would like to ask whether there is any way to let the gossip leader to retry connecting back to orderer after the connection exhausted?\n`2017-11-10 02:29:13.674 UTC [blocksProvider] DeliverBlocks -> WARN 7d3 [channel01] Receive error: Attempts (1) or elapsed time (10m19.967564472s) exhausted` \nOn my network, when the gossip leader peer is unable to reach the orderer, based on current Fabric (using v1.0.0) deliveryClient reConnectTotalTimeThreshold = 5 minutes, after this threshold, the connection will be exhausted. \nWhen the orderer is resumed reachable, the gossip leader won't retry to connect back even the block provider event is being deregister & register again:\n```\n2017-11-10 02:39:00.733 UTC [eventhub_producer] validateEventMessage -> DEBU 7d4 ValidateEventMessage starts for signed event 0xc42155d4a0\n2017-11-10 02:39:00.737 UTC [eventhub_producer] deRegisterHandler -> DEBU 7d5 deregistering event type: BLOCK\n2017-11-10 02:39:00.743 UTC [eventhub_producer] Chat -> DEBU 7d6 Received EOF, ending Chat\n2017-11-10 02:39:00.757 UTC [eventhub_producer] validateEventMessage -> DEBU 7d7 ValidateEventMessage starts for signed event 0xc421ce42a0\n2017-11-10 02:39:00.759 UTC [eventhub_producer] registerHandler -> DEBU 7d8 registering event type: BLOCK\n```\nThe block providers can only be resumed when restarting the gossip leader, .\n```\n2017-11-10 03:36:14.846 UTC [deliveryClient] StartDeliverForChannel -> DEBU 362 This peer will pass blocks from orderer service to other peers for channel channel01\n2017-11-10 03:36:14.859 UTC [deliveryClient] RequestBlocks -> DEBU 363 Starting deliver with block [33] for channel channel01\n```\nOn one side, the current reConnectTotalTimeThreshold at 5 mins is too idea. There is already setter function but not yet available as a parameter for peer start up configuration.\nIs there any other way to let the gossip leader to resume orderer connection for blocks provider purpose? \nThanks.","username":"nickyng","ts":"2017-11-10T04:06:09.330Z"}
{"msg":"@nickyng in v1.1 you can customize this 5 minute time","username":"yacovm","ts":"2017-11-10T07:18:33.035Z"}
{"msg":"@yacovm thanks. I can see the it will be configurable in v1.1... while we are using v1.0 having app built and tested, and thus, not at a good moment to look into v1.1 which is so-called a preview now... \nthat's why would like to get advice whether another means to resume it on v1.0 ?? thanks a lot....","username":"nickyng","ts":"2017-11-10T10:16:47.513Z"}
{"msg":"Just cherry pick the changr set","username":"yacovm","ts":"2017-11-10T11:21:36.433Z"}
{"msg":"And compile the peer","username":"yacovm","ts":"2017-11-10T11:21:41.373Z"}
{"msg":"It might work","username":"yacovm","ts":"2017-11-10T11:21:45.383Z"}
{"msg":"Has joined the channel.","username":"knagware9","ts":"2017-11-10T17:29:14.847Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rajasekharpippalla","ts":"2017-11-14T05:56:52.390Z","type":"uj"}
{"msg":"Oracle ---->>> verification module\n\nJPMorgan ---->>> verification module\n\n1. Oracle as well as JPMorgan has done transactions with verfication module. \n2. Now verification module can have information for both Oracle and JPMorgan.\n3. Oracle should not have access for JPMorgan data and vice-versa. \n\nHow can we implement this kind of requirement? Can we implement this by using channels and how we can implement if we have any chances? ","username":"rajasekharpippalla","ts":"2017-11-14T05:57:01.882Z"}
{"msg":"@rajasekharpippalla this channel is for gossip related questions, moved your question into #fabric","username":"C0rWin","ts":"2017-11-14T07:35:12.880Z"}
{"msg":"Has joined the channel.","username":"shahdhruv 2","ts":"2017-11-17T19:26:42.144Z","type":"uj"}
{"msg":"Has joined the channel.","username":"marksta","ts":"2017-11-21T09:03:31.940Z","type":"uj"}
{"msg":"Does Hyperledger fabric has its own implementation of Gossip protocol or some library is used?","username":"shahdhruv 2","ts":"2017-11-22T09:07:45.144Z"}
{"msg":"its own","username":"yacovm","ts":"2017-11-22T09:12:57.467Z"}
{"msg":"Has joined the channel.","username":"jojialex2","ts":"2017-11-22T11:14:32.691Z","type":"uj"}
{"msg":"Hi, Please help on the following error :\npeer chaincode instantiate using kafka orderer giving following error,\n\n[34;1mpeer0.org1.example.com    |[0m [33m2017-11-22 10:47:31.505 UTC [gossip/comm] sendToEndpoint -> WARN 54d[0m Failed obtaining connection for 172.18.0.15:7051, PKIid:[71 88 115 27 28 222 244 157 196 20 206 87 238 41 173 71 185 195 175 121 236 34 206 183 63 153 178 63 241 226 254 204] reason: x509: cannot validate certificate for 172.18.0.15 because it doesn't contain any IP SANs","username":"jojialex2","ts":"2017-11-22T11:14:35.499Z"}
{"msg":"@jojialex2  ","username":"yacovm","ts":"2017-11-22T11:44:50.069Z"}
{"msg":"the problem is that the TLS certificate of your peer, doesn't have IP SANs","username":"yacovm","ts":"2017-11-22T11:45:02.286Z"}
{"msg":"you didn't generate it correctly","username":"yacovm","ts":"2017-11-22T11:46:01.087Z"}
{"msg":"Any reference ? ","username":"jojialex2","ts":"2017-11-22T13:44:09.207Z"}
{"msg":"reference to what?","username":"yacovm","ts":"2017-11-22T14:12:21.176Z"}
{"msg":"you can just use hostnames instead of ip addresses","username":"yacovm","ts":"2017-11-22T14:12:44.120Z"}
{"msg":"Thank you, But I am using hostnames in configtx.yaml file. I am not getting any error for channel, join channel, update anchors, and chaincode install, but this getting while chaincode instantiate. where should I give this hostnames instead of address ?","username":"jojialex2","ts":"2017-11-23T04:14:10.950Z"}
{"msg":"Thank you, But I am using hostnames in configtx.yaml file. I am not getting any error for channel, join channel, update anchors, and chaincode install, but this getting while chaincode instantiate. where should I give this hostnames instead of Ip address ?","username":"jojialex2","ts":"2017-11-23T04:14:10.950Z"}
{"msg":"Thank you, But I am using hostnames in configtx.yaml file. I am not getting any error for channel, join channel, update anchors, and chaincode install, but this getting while chaincode instantiate. where should I give this hostnames instead of ip address ?","username":"jojialex2","ts":"2017-11-23T04:14:10.950Z"}
{"msg":"You are *not* getting this error at instantiate. ","username":"yacovm","ts":"2017-11-23T07:43:44.320Z"}
{"msg":"this error is from the gossip logs and orthogonal to instantiate","username":"yacovm","ts":"2017-11-23T07:43:54.265Z"}
{"msg":" I am not clear, I just start use the hyperledger fabric version 1.0.4","username":"jojialex2","ts":"2017-11-23T08:27:28.079Z"}
{"msg":" I am not clear, I just start useing the hyperledger fabric version 1.0.4","username":"jojialex2","ts":"2017-11-23T08:27:28.079Z"}
{"msg":"this is my file ","username":"jojialex2","ts":"2017-11-23T08:27:33.913Z"}
{"msg":"OrdererOrgs:\n  - Name: ExampleCom\n    Domain: example.com\n    Specs:\n      - Hostname: orderer0\n      - Hostname: orderer1\n      - Hostname: orderer2\n\nPeerOrgs:\n  - Name: Org1ExampleCom\n    Domain: org1.example.com\n    Template:\n      Count: 2\n    Users:\n      Count: 1\n\n  - Name: Org2ExampleCom\n    Domain: org2.example.com\n    Template:\n      Count: 2\n    Users:\n      Count: 1","username":"jojialex2","ts":"2017-11-23T08:28:12.988Z"}
{"msg":"How to resolve this error. ","username":"jojialex2","ts":"2017-11-23T08:29:03.001Z"}
{"msg":"x509: cannot validate certificate for 172.18.0.15 because it doesn't contain any IP SANs","username":"jojialex2","ts":"2017-11-23T08:29:18.553Z"}
{"msg":"what is the full error?","username":"yacovm","ts":"2017-11-23T08:29:48.365Z"}
{"msg":"the full line","username":"yacovm","ts":"2017-11-23T08:29:49.922Z"}
{"msg":"also what is the CORE_PEER_ADDRESS of the peers in the docker-compose file?","username":"yacovm","ts":"2017-11-23T08:30:09.203Z"}
{"msg":"I have given ","username":"jojialex2","ts":"2017-11-23T08:30:23.995Z"}
{"msg":"no you have not... ","username":"yacovm","ts":"2017-11-23T08:30:37.430Z"}
{"msg":"that's the configtx.yaml","username":"yacovm","ts":"2017-11-23T08:30:49.582Z"}
{"msg":"","username":"jojialex2","ts":"2017-11-23T08:34:37.922Z","attachments":[{"type":"file","title":"feature.zip","title_link":"/file-upload/T8DFq9tEMyHy3brXN/feature.zip","url":"/file-upload/T8DFq9tEMyHy3brXN/feature.zip","remote":false,"fileId":"T8DFq9tEMyHy3brXN","fileName":"feature.zip"}]}
{"msg":"Can you please check .. ","username":"jojialex2","ts":"2017-11-23T08:34:53.622Z"}
{"msg":"what is the while error?","username":"yacovm","ts":"2017-11-23T08:36:12.505Z"}
{"msg":"feature\\configs\\onfigtx.yaml","username":"jojialex2","ts":"2017-11-23T08:36:13.317Z"}
{"msg":"feature\\configs\\configtx.yaml","username":"jojialex2","ts":"2017-11-23T08:36:22.259Z"}
{"msg":"right right","username":"yacovm","ts":"2017-11-23T08:36:25.817Z"}
{"msg":"what is the whole error?","username":"yacovm","ts":"2017-11-23T08:36:28.337Z"}
{"msg":"the whole line","username":"yacovm","ts":"2017-11-23T08:36:33.492Z"}
{"msg":"[36mpeer1.org1.example.com    |[0m [36m2017-11-23 06:05:16.400 UTC [gossip/channel] handleStateInfSnapshot -> DEBU 4a9[0m Channel businesschannel : Couldn't find or\ng identity of peer 4LLztr#e Gc`z message sent from bsYq&Enr&{*F\n[34;1mpeer0.org2.example.com    |[0m [33m2017-11-23 06:05:28.494 UTC [gossip/comm] sendToEndpoint -> WARN 4cf[0m Failed obtaining connection for 172.18.0.15:7051, P\nKIid:[238 112 58 88 121 252 77 159 184 81 143 231 242 33 108 248 60 2 103 96 44 251 194 35 105 24 236 178 192 233 186 83] reason: x509: cannot validate certificate for\n172.18.0.15 because it doesn't contain any IP SANs\n","username":"jojialex2","ts":"2017-11-23T08:37:24.329Z"}
{"msg":"From Cli","username":"jojialex2","ts":"2017-11-23T08:38:06.518Z"}
{"msg":"[006 11-23 06:05:17.14 UTC] [github.com/hyperledger/fabric/msp] main.Execute.ExecuteC.execute.func1.chaincodeDeploy.instantiate.GetSignedProposal.Sign -> DEBU Sign: pla\nintext: 0AB9070A6C08031A0B089DCAD9D00510...65436F6D0A04657363630A0476736363\n[007 11-23 06:05:17.14 UTC] [github.com/hyperledger/fabric/msp] main.Execute.ExecuteC.execute.func1.chaincodeDeploy.instantiate.GetSignedProposal.Sign -> DEBU Sign: dig\nest: EA73D6034071816EA269C7EE280A8BDE09A5C8DC8D92BEA1A0DCBE7669849FFB\nError: Error endorsing chaincode: rpc error: code = Unknown desc = timeout expired while starting chaincode mycc:1.0(networkid:feature,peerid:peer0.org1.example.com,tx:\ne5f11039155d8ea10225655f64ddd17c0230793d966705879f3662aee51e47ca)","username":"jojialex2","ts":"2017-11-23T08:38:10.130Z"}
{"msg":"Please find the log file ","username":"jojialex2","ts":"2017-11-23T09:14:09.027Z"}
{"msg":"","username":"jojialex2","ts":"2017-11-23T09:14:40.040Z","attachments":[{"type":"file","title":"log.zip","title_link":"/file-upload/WwnLKWr3ChowXBQBN/log.zip","url":"/file-upload/WwnLKWr3ChowXBQBN/log.zip","remote":false,"fileId":"WwnLKWr3ChowXBQBN","fileName":"log.zip"}]}
{"msg":"`image: dockersrv02.ad.infosys.com/george.alexander/fabric-peer:x86_64-1.1.0-preview`","username":"yacovm","ts":"2017-11-23T09:18:23.178Z"}
{"msg":"what is this?","username":"yacovm","ts":"2017-11-23T09:18:25.450Z"}
{"msg":"who is george alexander? ","username":"yacovm","ts":"2017-11-23T09:18:49.563Z"}
{"msg":"this is we pushed into our local hub","username":"jojialex2","ts":"2017-11-23T09:18:56.717Z"}
{"msg":"to avoid multiple down load ","username":"jojialex2","ts":"2017-11-23T09:19:20.092Z"}
{"msg":"ok I have an idea - can you please open a JIRA  http://jira.hyperledger.org/ ","username":"yacovm","ts":"2017-11-23T09:19:27.618Z"}
{"msg":"attach to the JIRA issue your zip files","username":"yacovm","ts":"2017-11-23T09:19:38.830Z"}
{"msg":"the feature.zip","username":"yacovm","ts":"2017-11-23T09:19:43.126Z"}
{"msg":"and write here the JIRA issue","username":"yacovm","ts":"2017-11-23T09:19:49.754Z"}
{"msg":"I'll take a look later today when I have time...","username":"yacovm","ts":"2017-11-23T09:19:55.960Z"}
{"msg":"ok shure .. ","username":"jojialex2","ts":"2017-11-23T09:20:14.239Z"}
{"msg":"sorry","username":"jojialex2","ts":"2017-11-23T09:20:35.245Z"}
{"msg":"ok sure ","username":"jojialex2","ts":"2017-11-23T09:20:38.480Z"}
{"msg":"Has joined the channel.","username":"jackeyliliang","ts":"2017-11-24T02:59:06.830Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MohitYadav2317","ts":"2017-11-24T07:10:31.582Z","type":"uj"}
{"msg":"Hi I am using CLI for chaincode instantiate , once the console get stuck after this message \n[31;1mpeer0.org1.example.com |[0m [36m2017-11-24 11:40:29.631 UTC [dockercontroller] createContainer -> DEBU 3d6[0m Created container: feature-peer0.org1.example\n.com-mycc-1.0-69b833ea5b04412aed03b0935d4ea03b1b0d2b1788b7b308262c5fe39c29eee3\n  \nIn CLI getting the time out after some time,  .\n\n[006 11-24 11:40:29.43 UTC] [github.com/hyperledger/fabric/msp] main.Execute.ExecuteC.execute.func1.chaincodeDeploy.instantiate.GetSignedProposal.Sign -> DEBU Sign: dig\nest: 9F86E80C3F14B0F14959DC3781573F95542DE8C2F9E135871804A31E2FD9BFD8\nError: Error endorsing chaincode: rpc error: code = Unknown desc = Timeout expired while starting chaincode mycc:1.0(networkid:feature,peerid:peer0.org1.example.com,tx:\n66a909cd6c86b389b73e2760bc86417b9b3047cc85b48f69e86803326a092b1d)\n\nIs any one get this kind of error\n\nPlease help","username":"jojialex2","ts":"2017-11-24T11:47:40.559Z"}
{"msg":"hi all, i wanted to know in what use case will anchor peers interact? usually a client calls peers with the proposal and so what exactly is the reason for anchor peer creation? ","username":"MohitYadav2317","ts":"2017-11-24T14:40:43.516Z"}
{"msg":"@MohitYadav2317 anchor peers are to establish cross org membership","username":"yacovm","ts":"2017-11-24T16:31:58.705Z"}
{"msg":"Has joined the channel.","username":"egeek","ts":"2017-11-29T11:16:04.080Z","type":"uj"}
{"msg":"@yacovm what are cross org membership? in physical world, there is no cross org membership. ","username":"bh4rtp","ts":"2017-12-01T07:04:35.784Z"}
{"msg":"@yacovm what is cross org membership? in physical world, there is no cross org membership. ","username":"bh4rtp","ts":"2017-12-01T07:04:35.784Z"}
{"msg":"Why?","username":"yacovm","ts":"2017-12-01T07:38:19.332Z"}
{"msg":"Has joined the channel.","username":"ArnabChatterjee","ts":"2017-12-01T08:28:32.037Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bizhenchao1201","ts":"2017-12-03T09:26:23.787Z","type":"uj"}
{"msg":"Has joined the channel.","username":"elewis787","ts":"2017-12-05T17:53:42.479Z","type":"uj"}
{"msg":"Hey all ! I am trying to learn more about blockchain gossip protocols  ( and p2p in general ) Looking through some of the gossip code for fabric is seems to be somewhat similar to the raft protocol. Can anyone explain the difference or confirm that it is loosely  based on raft ? ","username":"elewis787","ts":"2017-12-05T17:57:25.439Z"}
{"msg":"It is nowhere near raft","username":"yacovm","ts":"2017-12-05T18:35:17.877Z"}
{"msg":"mind explain a little more why ? I have been reading through the gossip/election code. The pseudo code for identify a leader is what got me thinking about raft. ","username":"elewis787","ts":"2017-12-05T18:38:30.879Z"}
{"msg":"oh that","username":"yacovm","ts":"2017-12-05T19:15:13.902Z"}
{"msg":"so, the main difference is... that the LE in gossip, favors availability / progress over consistency ","username":"yacovm","ts":"2017-12-05T19:15:37.905Z"}
{"msg":"in other words, if you have a partition, some leader will get elected","username":"yacovm","ts":"2017-12-05T19:15:48.815Z"}
{"msg":"even if the partition is you as a peer, is isolated from the rest - you'll simply elect yourself as a leader","username":"yacovm","ts":"2017-12-05T19:16:13.601Z"}
{"msg":"@elewis787 ^","username":"yacovm","ts":"2017-12-05T19:16:25.345Z"}
{"msg":"I see. So the actual data dissemination is weakly consistent meaning some nodes may be out of sync ? ","username":"elewis787","ts":"2017-12-05T19:18:33.232Z"}
{"msg":"no no no","username":"yacovm","ts":"2017-12-05T19:21:29.342Z"}
{"msg":"this has nothing to do with it","username":"yacovm","ts":"2017-12-05T19:21:34.414Z"}
{"msg":"the leader election only determines who will connect to the orderer","username":"yacovm","ts":"2017-12-05T19:21:46.327Z"}
{"msg":"that's all","username":"yacovm","ts":"2017-12-05T19:21:48.133Z"}
{"msg":"the peers want only 1 peer to connect to the orderer, from all the organization","username":"yacovm","ts":"2017-12-05T19:22:06.224Z"}
{"msg":"and the rest to receive the blocks via gossip","username":"yacovm","ts":"2017-12-05T19:22:11.985Z"}
{"msg":"of course the ledger, is identical among all peers (strong consistency in that aspect)","username":"yacovm","ts":"2017-12-05T19:23:01.217Z"}
{"msg":"otherwise it wouldn't be a blockchain right?","username":"yacovm","ts":"2017-12-05T19:23:06.553Z"}
{"msg":"I see. That makes sense thanks for the explanation ! ","username":"elewis787","ts":"2017-12-05T19:25:59.427Z"}
{"msg":"Has joined the channel.","username":"samwood","ts":"2017-12-05T20:12:13.111Z","type":"uj"}
{"msg":"@yacovm can you please expand on that? If the blocks are disseminated via gossip which is not strongly consistent, then how is the ledger identical among all the peers? ","username":"samwood","ts":"2017-12-05T20:21:30.126Z"}
{"msg":"The leader election isn't strongly consistent","username":"yacovm","ts":"2017-12-05T20:23:53.689Z"}
{"msg":"the replication is","username":"yacovm","ts":"2017-12-05T20:23:58.452Z"}
{"msg":"each block, gets put into the ledger by order","username":"yacovm","ts":"2017-12-05T20:24:15.846Z"}
{"msg":"and is verified ","username":"yacovm","ts":"2017-12-05T20:24:19.834Z"}
{"msg":"does the leader wait until the other peers have received the block before committing it? ","username":"samwood","ts":"2017-12-05T20:27:30.751Z"}
{"msg":"no...","username":"yacovm","ts":"2017-12-05T20:29:58.815Z"}
{"msg":"I'm having trouble seeing how it's strongly consistent. Suppose there are 2 peers, p1 and p2. Suppose a client queries a CC for key \"k\", which has value \"v1\" at time t1. Specifically, suppose query(p1, k)@t1 = v1, and query(p2, k)@t1 = v1. Now suppose \"k\" has been updated to \"v2\", and p1 is the leader. Could there not be a race where query(p1, k)@t2 = v2 and query(p2, k)@t2 = v1?","username":"samwood","ts":"2017-12-05T21:15:45.935Z"}
{"msg":"I'm having trouble seeing how it's strongly consistent. Suppose there are 2 peers, p1 and p2. Suppose a client queries a CC for key \"k\", which has value \"v1\" at time t1. Specifically, suppose query(p1, k)@t1 = v1, and query(p2, k)@t1 = v1. Now suppose \"k\" has been updated to \"v2\", and p1 is the leader. Could there not be a race where query(p1, k)@t2 = v2 and query(p2, k)@t3 = v1?","username":"samwood","ts":"2017-12-05T21:15:45.935Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=K3Nmq7eDiQad8cTHu) @samwood Leader means being responsible to pull blocks with ordered transactions from the ordering service and take care of blocks dissemination within the org, I'm not sure how this related to the consistency and scenario you've described? also as @yacovm mentioned, election isn't strongly consistent, e.g. there could be a case where an org will have more than one leader, but in that case the only implication will be that two peers pulling blocks from the ordering instead of one.","username":"C0rWin","ts":"2017-12-05T22:09:53.943Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=K3Nmq7eDiQad8cTHu","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=K3Nmq7eDiQad8cTHu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"and to your point, yes it's possible that if ledger height on two different peer not the same, you might query and see different results","username":"C0rWin","ts":"2017-12-05T22:11:42.980Z"}
{"msg":"although, this has no relation to the gossip leader election ","username":"C0rWin","ts":"2017-12-05T22:12:07.608Z"}
{"msg":"@C0rWin sure, but this is a result of the block replication which seems to be eventually consistent, correct?","username":"samwood","ts":"2017-12-05T22:12:31.974Z"}
{"msg":"what is the result of block replication?","username":"C0rWin","ts":"2017-12-05T22:12:57.931Z"}
{"msg":"generally speaking, yes, state update is eventually consistent ","username":"C0rWin","ts":"2017-12-05T22:13:37.911Z"}
{"msg":"I'm having trouble reconciling your comment \"yes it's possible that if ledger height on two different peer not the same, you might query and see different results \" , with yacovm's earlier comment \"of course the ledger, is identical among all peers (strong consistency in that aspect) \"","username":"samwood","ts":"2017-12-05T22:13:38.905Z"}
{"msg":"well, there is a latency in the network","username":"C0rWin","ts":"2017-12-05T22:14:23.892Z"}
{"msg":"so it might be the case where peer p1 at ledger height 100, while peer p2 at 99","username":"C0rWin","ts":"2017-12-05T22:14:49.090Z"}
{"msg":"wrt, state up until block 99, both ledger are equal ","username":"C0rWin","ts":"2017-12-05T22:15:16.891Z"}
{"msg":"wrt state,  up until block 99, both ledger are equal ","username":"C0rWin","ts":"2017-12-05T22:15:16.891Z"}
{"msg":"wrt state,  up until block 99, both ledgers are equal ","username":"C0rWin","ts":"2017-12-05T22:15:16.891Z"}
{"msg":"also blocks applied and delivered to the ledger according to the sequence number","username":"C0rWin","ts":"2017-12-05T22:17:17.918Z"}
{"msg":"so say peer p2, from my example which at block num 99 will get block 110, it will still wait until it will get block number 100","username":"C0rWin","ts":"2017-12-05T22:17:59.329Z"}
{"msg":"OK, thanks. Do leaders commit their blocks as soon as they receive them from the orderer? Just to clarify, they don't communicate with other leaders or peers before committing blocks correct? (e.g, a 2 phase commit)","username":"samwood","ts":"2017-12-05T22:21:38.777Z"}
{"msg":"there is no need for 2 phase commit here","username":"C0rWin","ts":"2017-12-05T22:23:24.938Z"}
{"msg":"leader commits the block as soon as it gets it","username":"C0rWin","ts":"2017-12-05T22:23:48.962Z"}
{"msg":"what will be the reason to communicate with other leaders? ","username":"C0rWin","ts":"2017-12-05T22:24:42.984Z"}
{"msg":"block signed with OSN","username":"C0rWin","ts":"2017-12-05T22:24:57.694Z"}
{"msg":"could be easily verified ","username":"C0rWin","ts":"2017-12-05T22:25:09.660Z"}
{"msg":"sorry, what's OSN?","username":"samwood","ts":"2017-12-05T22:25:16.688Z"}
{"msg":"Ordering Service Node","username":"C0rWin","ts":"2017-12-05T22:25:23.453Z"}
{"msg":"To be honest I don't think that strong vs weak consistency are right terminologies to describe peers. \n","username":"yacovm","ts":"2017-12-05T22:29:05.617Z"}
{"msg":"Usually when you talk about strong vs weak you think about replicated state machines vs. systems that may return a false result but eventually converge","username":"yacovm","ts":"2017-12-05T22:30:21.582Z"}
{"msg":"however - in fabric, each time you query a peer (assuming it is honest) - it will return to you a result that was correct to some point in time","username":"yacovm","ts":"2017-12-05T22:30:47.932Z"}
{"msg":"it may not be the latest result","username":"yacovm","ts":"2017-12-05T22:30:53.006Z"}
{"msg":"but it is always \"correct\"","username":"yacovm","ts":"2017-12-05T22:31:04.859Z"}
{"msg":"it just may be in the past, and the peer isn't updated yet","username":"yacovm","ts":"2017-12-05T22:31:42.297Z"}
{"msg":"Even in replicated state machines, a replica or two might be lagging behind","username":"yacovm","ts":"2017-12-05T22:31:59.105Z"}
{"msg":"the difference is that in fabric, most peers might be lagging behind","username":"yacovm","ts":"2017-12-05T22:32:40.478Z"}
{"msg":"its because the consensus isn't done in the peers","username":"yacovm","ts":"2017-12-05T22:32:51.923Z"}
{"msg":"thanks for the explanations @C0rWin @yacovm ","username":"samwood","ts":"2017-12-05T22:36:36.058Z"}
{"msg":"I agree that the strong/weak consistency terminology is confusing. |When I think of strong consistency I think that all peers will agree on a value before any of them return it to a client. E..g, all peers appear to be at the same height from the perspective of the client","username":"samwood","ts":"2017-12-05T22:39:51.352Z"}
{"msg":"So in that case it is not","username":"yacovm","ts":"2017-12-05T22:41:34.434Z"}
{"msg":"i gather the orderer maintains a current block height and rejects transactions that read data from a block height that is less than the current block height (per the \"read-write set semantics\" section in the docs) ? ","username":"samwood","ts":"2017-12-05T22:57:43.534Z"}
{"msg":"No, orderers blidly order transactions ","username":"yacovm","ts":"2017-12-05T22:58:35.026Z"}
{"msg":"*blindly","username":"yacovm","ts":"2017-12-05T22:58:39.549Z"}
{"msg":"You throw trnsactions into them and they cut identical blocks","username":"yacovm","ts":"2017-12-05T22:59:00.566Z"}
{"msg":"(identical across all orderers)","username":"yacovm","ts":"2017-12-05T22:59:10.890Z"}
{"msg":"They are strongly consistant :wink:","username":"yacovm","ts":"2017-12-05T22:59:20.886Z"}
{"msg":"Though, it is also not a good way of describing","username":"yacovm","ts":"2017-12-05T22:59:58.747Z"}
{"msg":"Bevause the strong consistency comes from kafka","username":"yacovm","ts":"2017-12-05T23:00:09.009Z"}
{"msg":"hmm, just thinking out loud here, but if the orderer isn't enforcing the read-write set semantics and the peers aren't strongly consistent (per discussion above)) then are there not situations then that could put the network in an inconsistent state? ","username":"samwood","ts":"2017-12-05T23:00:26.193Z"}
{"msg":"An orderer node might be behind too","username":"yacovm","ts":"2017-12-05T23:00:36.208Z"}
{"msg":"If he cant connect to kafka","username":"yacovm","ts":"2017-12-05T23:00:51.477Z"}
{"msg":"So, the read-write logical semantics are enforced at commit","username":"yacovm","ts":"2017-12-05T23:01:34.587Z"}
{"msg":"i guess i'm confused what commit means -- this is after the tx has been endorsed, and included in a block by the orderer?","username":"samwood","ts":"2017-12-05T23:07:09.770Z"}
{"msg":"is it possible for 2 peers to be at the same height and have different world state ?","username":"samwood","ts":"2017-12-05T23:09:13.049Z"}
{"msg":"It is not possible","username":"yacovm","ts":"2017-12-05T23:11:43.299Z"}
{"msg":"Yes, commit is when the transaction comes into the ledger","username":"yacovm","ts":"2017-12-05T23:12:08.968Z"}
{"msg":"c","username":"C0rWin","ts":"2017-12-05T23:15:08.659Z"}
{"msg":"@samwood https://hyperledger-fabric.readthedocs.io/en/latest/arch-deep-dive.html","username":"yacovm","ts":"2017-12-05T23:17:16.196Z"}
{"msg":"read up to 4 non-including","username":"yacovm","ts":"2017-12-05T23:17:50.645Z"}
{"msg":"Has joined the channel.","username":"crozzy","ts":"2017-12-05T23:26:48.119Z","type":"uj"}
{"msg":"Has left the channel.","username":"manish-sethi","ts":"2017-12-05T23:49:40.672Z","type":"ul"}
{"msg":"Has joined the channel.","username":"ngeorge","ts":"2017-12-07T11:40:03.914Z","type":"uj"}
{"msg":"Hi all, in the fabric docs it was given \"Anchor peer is a peer node on a channel that all other peers can discover and communicate with.\" My understanding is that the communication between peers of different orgs is through these anchor peers. To test that, I brought down the anchor peer of OrgA and triggered an invoke transaction on a peer of another Org. Later queried the non anchor peer of OrgA and I could still get the latest result for query. So, what exactly means by \" all other peers can discover and communicate with\"?","username":"ngeorge","ts":"2017-12-07T11:41:00.207Z"}
{"msg":"Has joined the channel.","username":"mbharadwaj","ts":"2017-12-07T11:44:33.187Z","type":"uj"}
{"msg":"so the peers learn about peers of other organization","username":"yacovm","ts":"2017-12-07T11:55:46.322Z"}
{"msg":"by contacting the anchor peer(s)","username":"yacovm","ts":"2017-12-07T11:55:54.168Z"}
{"msg":"and then they exchange information about peers","username":"yacovm","ts":"2017-12-07T11:56:01.607Z"}
{"msg":"Has joined the channel.","username":"JayJong","ts":"2017-12-07T12:23:02.337Z","type":"uj"}
{"msg":"Has joined the channel.","username":"PetrVlasekCA","ts":"2017-12-08T10:19:00.933Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Lakshmipadmaja","ts":"2017-12-08T14:43:45.668Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alvaradojl","ts":"2017-12-09T16:23:20.190Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hayato","ts":"2017-12-10T12:01:52.448Z","type":"uj"}
{"msg":"Has joined the channel.","username":"guolidong","ts":"2017-12-12T05:58:11.536Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Khaled.MH","ts":"2017-12-13T14:56:39.305Z","type":"uj"}
{"msg":"Has joined the channel.","username":"david_dornseifer","ts":"2017-12-14T00:38:49.495Z","type":"uj"}
{"msg":"@yacovm i use the orderer,peer binary to start the node, and i create the channel and then join the channel ,but when i join, i find a problem.can you give me some clue?","username":"asaningmaxchain","ts":"2017-12-14T02:04:02.974Z"}
{"msg":"https://pastebin.com/aRhZw25E this is the peer info log","username":"asaningmaxchain","ts":"2017-12-14T02:04:55.855Z"}
{"msg":"well it seems you can't connect to the orderer.example","username":"yacovm","ts":"2017-12-14T08:03:37.553Z"}
{"msg":"can you try to get into the container and lookup the hostname?","username":"yacovm","ts":"2017-12-14T08:03:50.091Z"}
{"msg":"maybe it doesn't know it or something","username":"yacovm","ts":"2017-12-14T08:03:55.806Z"}
{"msg":"Hi @yacovm . Can you let me know why are we not joining anchor peers in the channel and the balance-transfer example? I want to know the benefit and disadvantage if any of defining anchor peers. Also, please let me know what is the effect of not having anchor peers on election or behavior of leading peer. Thank you.","username":"ArnabChatterjee","ts":"2017-12-18T12:12:00.025Z"}
{"msg":"@ArnabChatterjee you need anchor peers to be able to connect two different organization, think of it like a cross org bootstrap set, it's orthogonal to the concept of leader election and presence or absence of anchors has no effect on leader election","username":"C0rWin","ts":"2017-12-18T12:21:15.252Z"}
{"msg":"leader election purpose is to choose the peer responsible to get connected to the ordering service and pull the blocks via gossip to rest of the peers","username":"C0rWin","ts":"2017-12-18T12:22:28.179Z"}
{"msg":"peers monitoring availability of the leader peer and in case it's down or not reachable for some reason a new leader has been elected ","username":"C0rWin","ts":"2017-12-18T12:23:09.429Z"}
{"msg":"while wrt anchor peers, you need them so two organization will be able to advertise and share membership of peers within the channel","username":"C0rWin","ts":"2017-12-18T12:23:44.005Z"}
{"msg":"Thanks @C0rWin . How does setting anchor peer enable other orgs to discover peers in my org? Does it somehow expose my endorsing peers to allow for endorsement or something like that? ","username":"ArnabChatterjee","ts":"2017-12-18T12:31:14.516Z"}
{"msg":"no","username":"C0rWin","ts":"2017-12-18T12:31:41.553Z"}
{"msg":"setting anchor peers and config update transaction","username":"C0rWin","ts":"2017-12-18T12:31:56.518Z"}
{"msg":"setting anchor peers is a config update transaction","username":"C0rWin","ts":"2017-12-18T12:31:56.518Z"}
{"msg":"once it get applied within orgs, anchors peers get learned and used to bridge the membership across peers","username":"C0rWin","ts":"2017-12-18T12:32:24.674Z"}
{"msg":"peers in fact shares local membership views via anchors","username":"C0rWin","ts":"2017-12-18T12:33:03.437Z"}
{"msg":"Has joined the channel.","username":"zhishui","ts":"2017-12-19T08:10:36.391Z","type":"uj"}
{"msg":"Has joined the channel.","username":"EricYang","ts":"2018-01-03T06:48:00.973Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gurel","ts":"2018-01-03T17:45:46.098Z","type":"uj"}
{"msg":"Has joined the channel.","username":"allonblocks21","ts":"2018-01-04T11:06:16.070Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sykesm","ts":"2018-01-05T18:58:57.705Z","type":"uj"}
{"msg":"Hi. I'm new to the code base and looking at ways to speed up some of the unit test coverage. I've noticed there are a lot of sleeps in the gossip/comm package. One of the patterns in the tests it to setup two comm instances, start go routines to handle messages, and then send messages across the comm instances. Between the two calls to send, there's a sleep.\n\nWhen the sleep is removed, the tests fail. It looks like this happens because of a race between client connections and server connections. Basically, client connections from a->b created by `Send` are closed (and the associated output buffer with the pending message is drained) when the connection from b->a is established and the `onConnected` callback is driven.\n\nThe sleep is clearly avoiding this issue but is losing the message the correct behavior? Should everything in the send queue be dropped on the floor when the message target initiates a connection concurrently?","username":"sykesm","ts":"2018-01-05T19:22:41.266Z"}
{"msg":"uh, I don't think it has to do with queues, actually. ","username":"yacovm","ts":"2018-01-05T19:27:09.088Z"}
{"msg":"i'ts basically because gossip keeps a single connection to a peer","username":"yacovm","ts":"2018-01-05T19:27:19.980Z"}
{"msg":"so if you connect to someone and someone connects to you at the same time...","username":"yacovm","ts":"2018-01-05T19:27:42.951Z"}
{"msg":"you might \"succeed\" but then the connection is closed on the other side","username":"yacovm","ts":"2018-01-05T19:28:09.470Z"}
{"msg":"because he did the same thing","username":"yacovm","ts":"2018-01-05T19:28:16.537Z"}
{"msg":"So, help me out. TestBasic in gossip/comm/comm_test.go","username":"sykesm","ts":"2018-01-05T19:28:42.560Z"}
{"msg":"I'm guessing it's the \"most basic\" flow that exists.","username":"sykesm","ts":"2018-01-05T19:29:02.333Z"}
{"msg":"the `onConnection` callback happening when b connects back to a is closing the connection from a to b","username":"sykesm","ts":"2018-01-05T19:29:23.881Z"}
{"msg":"I get *why* that's happening. ","username":"sykesm","ts":"2018-01-05T19:29:40.660Z"}
{"msg":"I get *why* that's happening. (single connection between peers is desired)","username":"sykesm","ts":"2018-01-05T19:29:40.660Z"}
{"msg":"going back to the goal (remove the sleeps), what is expected?","username":"sykesm","ts":"2018-01-05T19:30:42.604Z"}
{"msg":"if you want to make tests faster I don't think the comm package is the right place, actually","username":"yacovm","ts":"2018-01-05T19:30:46.033Z"}
{"msg":"there are much worse places :(","username":"yacovm","ts":"2018-01-05T19:30:52.474Z"}
{"msg":"like gossip/service","username":"yacovm","ts":"2018-01-05T19:30:56.457Z"}
{"msg":"I'm starting somewhere - new to code so i picked some places.","username":"sykesm","ts":"2018-01-05T19:31:11.482Z"}
{"msg":"This is one.","username":"sykesm","ts":"2018-01-05T19:31:13.482Z"}
{"msg":">  going back to the goal (remove the sleeps), what is expected? \nwhat do you mean what is expected? ","username":"yacovm","ts":"2018-01-05T19:31:49.955Z"}
{"msg":"The test is structured where it's sending a message, sleeping, and sending a message. Should it be structured (instead) to send a message and simply expect the target to receive it?","username":"sykesm","ts":"2018-01-05T19:32:31.158Z"}
{"msg":"oh, ","username":"yacovm","ts":"2018-01-05T19:33:05.366Z"}
{"msg":"Is dropping the contents of the send queue expected? (possibly - since it's no blocking)","username":"sykesm","ts":"2018-01-05T19:33:08.398Z"}
{"msg":"no, the point was to to have both instances send each other","username":"yacovm","ts":"2018-01-05T19:33:24.911Z"}
{"msg":"the sleep between is because the code doesn't support that concurrent event :/ ","username":"yacovm","ts":"2018-01-05T19:33:51.086Z"}
{"msg":"but the test is artificially working around the race for a positive outcome - and there are other ways that take less real time","username":"sykesm","ts":"2018-01-05T19:34:06.549Z"}
{"msg":"when 2 peers create connections, at the very same instance","username":"yacovm","ts":"2018-01-05T19:34:06.638Z"}
{"msg":"yeah there are","username":"yacovm","ts":"2018-01-05T19:34:21.008Z"}
{"msg":"we can make the test","username":"yacovm","ts":"2018-01-05T19:34:23.972Z"}
{"msg":"check if the 2nd peer got the message from the 1st","username":"yacovm","ts":"2018-01-05T19:34:38.397Z"}
{"msg":"and then continue","username":"yacovm","ts":"2018-01-05T19:34:43.802Z"}
{"msg":"that's what I did.","username":"sykesm","ts":"2018-01-05T19:34:44.350Z"}
{"msg":"went down to ~4ms","username":"sykesm","ts":"2018-01-05T19:34:48.698Z"}
{"msg":"ok","username":"yacovm","ts":"2018-01-05T19:34:49.550Z"}
{"msg":"cool we've gained a second :)","username":"yacovm","ts":"2018-01-05T19:35:06.913Z"}
{"msg":"but I wanted to ask explicitly about the fact that the onConnection happening on the server - it closes the client connection and drops all pending messages","username":"sykesm","ts":"2018-01-05T19:35:29.538Z"}
{"msg":"that really seems odd - we didn't \"drain\" it by sending - we dropped them","username":"sykesm","ts":"2018-01-05T19:35:46.600Z"}
{"msg":"local tests are down to 6m for me (so it's not just this)","username":"sykesm","ts":"2018-01-05T19:36:01.993Z"}
{"msg":"yes we did","username":"yacovm","ts":"2018-01-05T19:36:29.975Z"}
{"msg":"well this is because implementing detection that a connections happens from the other side while you are connecting to that side is much more complex","username":"yacovm","ts":"2018-01-05T19:36:58.192Z"}
{"msg":"to just have a naive implementation that replaces the connection always","username":"yacovm","ts":"2018-01-05T19:37:10.040Z"}
{"msg":"but don't you think it's more cost-effective to go after \"slow\" tests (i.e the service package, they are not parallelized)?","username":"yacovm","ts":"2018-01-05T19:39:57.574Z"}
{"msg":"than to re-write a test that takes 1 second :neutral_face: ","username":"yacovm","ts":"2018-01-05T19:40:20.075Z"}
{"msg":"what do you mean down to 6m?","username":"yacovm","ts":"2018-01-05T19:40:47.008Z"}
{"msg":"I think you've answered my question so I'll swizzle the tests.","username":"sykesm","ts":"2018-01-05T19:41:27.496Z"}
{"msg":"What do I mean? I mean with changes I've made locally in the unit test scripts, simple parallel execution across packages has brought the unit test execution to under 6m.","username":"sykesm","ts":"2018-01-05T19:42:02.114Z"}
{"msg":"the entire UT?","username":"yacovm","ts":"2018-01-05T19:42:19.521Z"}
{"msg":"Now I'm going package by package for the long poles","username":"sykesm","ts":"2018-01-05T19:42:28.379Z"}
{"msg":"the entire UT suite?","username":"yacovm","ts":"2018-01-05T19:42:30.583Z"}
{"msg":"gossip is along pole","username":"sykesm","ts":"2018-01-05T19:42:31.997Z"}
{"msg":"yes. why does that surprise?","username":"sykesm","ts":"2018-01-05T19:42:38.178Z"}
{"msg":"because only the compilation time of each of them is very high","username":"yacovm","ts":"2018-01-05T19:42:54.490Z"}
{"msg":"ah you made them run concurrently","username":"yacovm","ts":"2018-01-05T19:43:21.346Z"}
{"msg":"sure - because right now they get built package by package and the intermediate isn't saved","username":"sykesm","ts":"2018-01-05T19:43:23.566Z"}
{"msg":"ah I tried this in the past... but the CI server couldn't handle the stress :(","username":"yacovm","ts":"2018-01-05T19:43:37.147Z"}
{"msg":"if you actually let the go tooling do what it's supposed to do, life would be good","username":"sykesm","ts":"2018-01-05T19:43:42.726Z"}
{"msg":"it worked on my machine but failed in CI","username":"yacovm","ts":"2018-01-05T19:43:46.899Z"}
{"msg":"i need to get with ramesh at some point - code coverage is the other nit","username":"sykesm","ts":"2018-01-05T19:44:17.838Z"}
{"msg":"fixed in go 1.10 - but that's a month or two out","username":"sykesm","ts":"2018-01-05T19:44:27.846Z"}
{"msg":"ok","username":"yacovm","ts":"2018-01-05T19:45:59.484Z"}
{"msg":"fwiw, bccsp/{factory,pkcs11} (already did sw), core/deliverservice{,blocksprovider}, ","username":"sykesm","ts":"2018-01-05T19:48:36.407Z"}
{"msg":"yeah the problem with BCCSP is that it's CPU-intensive but it's not parallel IIRC","username":"yacovm","ts":"2018-01-05T19:49:16.994Z"}
{"msg":"so if you parallelize it it should run faster","username":"yacovm","ts":"2018-01-05T19:49:28.188Z"}
{"msg":"I addressed sw to make it parallel","username":"sykesm","ts":"2018-01-05T19:49:34.808Z"}
{"msg":"makes sense :)","username":"yacovm","ts":"2018-01-05T19:49:41.467Z"}
{"msg":"that was last month. port reuse in gossip is what brought me down this path in parallel - so I'll get back to what I was doing. thanks for the answer.","username":"sykesm","ts":"2018-01-05T19:50:21.791Z"}
{"msg":"port resuse?","username":"yacovm","ts":"2018-01-05T19:51:48.020Z"}
{"msg":"*reuse","username":"yacovm","ts":"2018-01-05T19:51:54.332Z"}
{"msg":"we use different ports for everything","username":"yacovm","ts":"2018-01-05T19:52:02.298Z"}
{"msg":"we use different ports for every test","username":"yacovm","ts":"2018-01-05T19:52:02.298Z"}
{"msg":"except... in gossip/service I think","username":"yacovm","ts":"2018-01-05T19:52:10.459Z"}
{"msg":"@sykesm ","username":"yacovm","ts":"2018-01-05T19:52:30.350Z"}
{"msg":"perhaps. but\n\n```\n--- FAIL: TestAccept (0.01s)\npanic: listen tcp :7611: bind: address already in use [recovered]\n\tpanic: listen tcp :7611: bind: address already in use\n...\n--- FAIL: TestSendByCriteria (0.02s)\npanic: listen tcp :20000: bind: address already in use [recovered]\n\tpanic: listen tcp :20000: bind: address already in use\n...\n```","username":"sykesm","ts":"2018-01-05T19:56:28.676Z"}
{"msg":"odd","username":"yacovm","ts":"2018-01-05T19:56:51.111Z"}
{"msg":"how come this never happens in CI?","username":"yacovm","ts":"2018-01-05T19:57:06.103Z"}
{"msg":"or on my machine","username":"yacovm","ts":"2018-01-05T19:57:12.510Z"}
{"msg":"nothing runs in parallel in ci","username":"sykesm","ts":"2018-01-05T19:57:12.937Z"}
{"msg":"ohhhhh","username":"yacovm","ts":"2018-01-05T19:57:18.586Z"}
{"msg":"you run tests from different packages in parallel ","username":"yacovm","ts":"2018-01-05T19:57:28.450Z"}
{"msg":"anyway, it would be great if CI time would be reduced","username":"yacovm","ts":"2018-01-05T19:57:54.658Z"}
{"msg":"so appreciate your efforts in trying","username":"yacovm","ts":"2018-01-05T19:58:05.574Z"}
{"msg":"I simply use go the way it was intended to be used `go test ./...`","username":"sykesm","ts":"2018-01-05T19:58:19.360Z"}
{"msg":"this runs everything in parallel?","username":"yacovm","ts":"2018-01-05T19:58:32.762Z"}
{"msg":"yes, I'm finding all kinds of other issues","username":"sykesm","ts":"2018-01-05T19:58:34.473Z"}
{"msg":"it runs packages in parallel, not tests in the package","username":"sykesm","ts":"2018-01-05T19:58:49.825Z"}
{"msg":"but some of the tests are marked as parallel as well (not done by me)","username":"sykesm","ts":"2018-01-05T19:58:58.457Z"}
{"msg":"back when I tried, I simply made a script that batches them into `K` groups for a configurable `K` but I encountered timeouts in tests","username":"yacovm","ts":"2018-01-05T19:59:10.306Z"}
{"msg":"but there are other issues - code that assumes link flags are set","username":"sykesm","ts":"2018-01-05T19:59:11.271Z"}
{"msg":"so I dropped it","username":"yacovm","ts":"2018-01-05T19:59:12.911Z"}
{"msg":"go tests runs n commands/test binaries in parallel. those commands can be compilation or test binaries or linkers or whatever. by default 'n' is MAXGOPROCS. ","username":"sykesm","ts":"2018-01-05T20:00:04.963Z"}
{"msg":"and does it run them in the same process","username":"yacovm","ts":"2018-01-05T20:00:20.772Z"}
{"msg":"or different proceses?","username":"yacovm","ts":"2018-01-05T20:00:24.728Z"}
{"msg":"or different processes?","username":"yacovm","ts":"2018-01-05T20:00:24.728Z"}
{"msg":"in ci, -p 1 is explcitly set in one build time and in the other they explicitly run package by package","username":"sykesm","ts":"2018-01-05T20:00:35.554Z"}
{"msg":"in ci, -p 1 is explcitly set in one build and in the other they explicitly run package by package","username":"sykesm","ts":"2018-01-05T20:00:35.554Z"}
{"msg":"different processes","username":"sykesm","ts":"2018-01-05T20:00:53.175Z"}
{"msg":"cool","username":"yacovm","ts":"2018-01-05T20:00:56.428Z"}
{"msg":"so a hurdle you'll likely experience is also the ledger tests, I think","username":"yacovm","ts":"2018-01-05T20:01:13.861Z"}
{"msg":"they write to the file system","username":"yacovm","ts":"2018-01-05T20:01:17.209Z"}
{"msg":"I'll find things all over. that doesn't scare me","username":"sykesm","ts":"2018-01-05T20:01:26.563Z"}
{"msg":"I just can't work on a project that takes an hour to build. I won't.","username":"sykesm","ts":"2018-01-05T20:01:46.373Z"}
{"msg":"Has left the channel.","username":"DannyWong","ts":"2018-01-09T03:55:57.510Z","type":"ul"}
{"msg":"Has joined the channel.","username":"tamycova","ts":"2018-01-09T11:40:06.573Z","type":"uj"}
{"msg":"Hi. I wanted to know how faulty peer nodes are brought back in sync using gossip. Any ideas?","username":"ArnabChatterjee","ts":"2018-01-12T00:50:41.021Z"}
{"msg":"Specifically, I wanted to know more about the mentioned \"anti-entropy\" mechanism. Thanks. @yacovm @C0rWin ","username":"ArnabChatterjee","ts":"2018-01-12T00:54:59.279Z"}
{"msg":"Has joined the channel.","username":"SjirNijssen","ts":"2018-01-15T08:46:31.203Z","type":"uj"}
{"msg":"Has joined the channel.","username":"olrraju","ts":"2018-01-16T01:52:29.424Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qylixin","ts":"2018-01-17T06:08:31.921Z","type":"uj"}
{"msg":"Has joined the channel.","username":"javrevasandeep","ts":"2018-01-17T08:22:24.565Z","type":"uj"}
{"msg":"Has left the channel.","username":"SimonOberzan","ts":"2018-01-17T12:54:50.338Z","type":"ul"}
{"msg":"Has joined the channel.","username":"mogamboizer","ts":"2018-01-17T23:47:33.010Z","type":"uj"}
{"msg":"How can I monitor gossip traffic between dockerized peers running on the same host, any gui-tool? :mag: ","username":"mogamboizer","ts":"2018-01-17T23:51:23.037Z"}
{"msg":"How can I *monitor gossip traffic* between dockerized peers running on the same host, any gui-tool? :mag: ","username":"mogamboizer","ts":"2018-01-17T23:51:23.037Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=S96j423RZ9Ahtx8po) @mogamboizer wireshark?","username":"C0rWin","ts":"2018-01-18T07:38:54.145Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=S96j423RZ9Ahtx8po","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=S96j423RZ9Ahtx8po","remote":true,"fileId":null,"fileName":null}]}
{"msg":"or alternatively turn on gossip logs to debug","username":"yacovm","ts":"2018-01-18T08:34:01.839Z"}
{"msg":"`CORE_LOGGING_GOSSIP=DEBUG`","username":"yacovm","ts":"2018-01-18T08:34:20.561Z"}
{"msg":"Has joined the channel.","username":"Ammu","ts":"2018-01-18T13:36:23.165Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=xmRhnCq5q6P8M9e9o) @yacovm Thanks that is useful.","username":"mogamboizer","ts":"2018-01-18T16:48:48.615Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=xmRhnCq5q6P8M9e9o","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=xmRhnCq5q6P8M9e9o","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=r4WJTMXT2XsBG7bqZ) @C0rWin any tips on how to best setup wireshark filtering on the docker host? I used the \"any\" interface and see a lot of encrypted traffic.","username":"mogamboizer","ts":"2018-01-18T16:50:52.138Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=r4WJTMXT2XsBG7bqZ","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=r4WJTMXT2XsBG7bqZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"may I ask why you want to see the raw traffic?","username":"yacovm","ts":"2018-01-18T16:51:33.820Z"}
{"msg":"it's protobuf... it's binary anyway","username":"yacovm","ts":"2018-01-18T16:51:39.566Z"}
{"msg":"it's not human-readable like HTTP","username":"yacovm","ts":"2018-01-18T16:51:47.296Z"}
{"msg":"you need tools and the proto schema to see that anyway","username":"yacovm","ts":"2018-01-18T16:51:55.491Z"}
{"msg":"which is, kinda worthless since the gossip logs, well - print in debug the messages anyway","username":"yacovm","ts":"2018-01-18T16:52:10.339Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=BHXwT4KM4T8q9TevW) @yacovm just curious to see the exchange, didn't setup CORE_LOGGING_GOSSIP yet I assume that will show the messaging details. ","username":"mogamboizer","ts":"2018-01-18T16:56:18.763Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=BHXwT4KM4T8q9TevW","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=BHXwT4KM4T8q9TevW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes","username":"yacovm","ts":"2018-01-18T16:56:27.780Z"}
{"msg":"@yacovm Do peers ever gossip blocks across organizations? Or is that reserved strictly for things like private data?","username":"jyellick","ts":"2018-01-18T19:09:45.908Z"}
{"msg":"not via classic gossip but via point-to-point state transfer, and only if they were already committed","username":"yacovm","ts":"2018-01-18T19:10:28.077Z"}
{"msg":"private data is transferred in 2 ways:","username":"yacovm","ts":"2018-01-18T19:10:48.798Z"}
{"msg":"1) When state transfer (block transfer which is cross-org too) occurs, the peer piggybacks related private data on these messages","username":"yacovm","ts":"2018-01-18T19:11:29.577Z"}
{"msg":"2) When the gossip coordinator (`gossip/privdata/coordinator.go`) detects missing private data that it doesn't have on disk, it fetches from other peers","username":"yacovm","ts":"2018-01-18T19:12:05.801Z"}
{"msg":"for the latter its also cross org","username":"yacovm","ts":"2018-01-18T19:12:14.234Z"}
{"msg":"but it's only private data","username":"yacovm","ts":"2018-01-18T19:12:18.521Z"}
{"msg":"and we ask the MSP to check if it's eligible","username":"yacovm","ts":"2018-01-18T19:12:26.028Z"}
{"msg":"I guess you're asking for config changes?","username":"yacovm","ts":"2018-01-18T19:12:34.403Z"}
{"msg":"Note that gossip doesn't use the ACL management ","username":"yacovm","ts":"2018-01-18T19:12:46.559Z"}
{"msg":"only channel config","username":"yacovm","ts":"2018-01-18T19:12:51.261Z"}
{"msg":"oh I also forgot","username":"yacovm","ts":"2018-01-18T19:14:25.282Z"}
{"msg":"that peers also send private data upon endorsement","username":"yacovm","ts":"2018-01-18T19:14:31.828Z"}
{"msg":"according to latest config","username":"yacovm","ts":"2018-01-18T19:14:36.743Z"}
{"msg":"It was actually a more generic question I was dm-ed, since I did not know the answer, I thought I would ask here.\n\n> not via classic gossip but via point-to-point state transfer, and only if they were already committed\n\nJust to confirm, for 'classic gossip', blocks are gossiped speculatively (a peer may re-broadcast a block to another peer, prior to the commitment time validation checks).\n\nFor \"point to point state transfer\", this would be a peer responding to an explicit request for a block? Will this happen automatically if an org is partitioned from the ordering service (but not to another peer org which has a connection to the orderer)","username":"jyellick","ts":"2018-01-18T19:14:42.065Z"}
{"msg":"yes and yes","username":"yacovm","ts":"2018-01-18T19:15:02.479Z"}
{"msg":"Great, thanks @yacovm !","username":"jyellick","ts":"2018-01-18T19:15:22.120Z"}
{"msg":">  this would be a peer responding to an explicit request for a block?\nThe peer detects a fellow peer that has a higher ledger height than his","username":"yacovm","ts":"2018-01-18T19:15:38.586Z"}
{"msg":"and thus asks for a block from the highest one","username":"yacovm","ts":"2018-01-18T19:15:48.380Z"}
{"msg":"and then asks for a block from the highest one","username":"yacovm","ts":"2018-01-18T19:15:48.380Z"}
{"msg":"One final question -- does the point-to-point state transfer involve the  gossip 'leader'? Or is 'leader' only related to the ordering service?","username":"jyellick","ts":"2018-01-18T19:17:30.195Z"}
{"msg":"the latter :)","username":"yacovm","ts":"2018-01-18T19:17:45.691Z"}
{"msg":"Perfect, thanks again!","username":"jyellick","ts":"2018-01-18T19:18:00.100Z"}
{"msg":"sure, anytime","username":"yacovm","ts":"2018-01-18T19:18:03.541Z"}
{"msg":"Has joined the channel.","username":"B2BProgrammer","ts":"2018-01-19T08:10:14.530Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=GgSCsqQMb6kfZWPCd) Any ideas @yacovm @C0rWin ","username":"ArnabChatterjee","ts":"2018-01-19T10:13:59.849Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=GgSCsqQMb6kfZWPCd","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=GgSCsqQMb6kfZWPCd","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=GgSCsqQMb6kfZWPCd) Any ideas @yacovm @C0rWin .Specifically, I wanted to know more about the mentioned \"anti-entropy\" mechanism.","username":"ArnabChatterjee","ts":"2018-01-19T10:13:59.849Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=GgSCsqQMb6kfZWPCd","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=GgSCsqQMb6kfZWPCd","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Do you have specific question?","username":"C0rWin","ts":"2018-01-19T14:14:06.310Z"}
{"msg":"Anti entropy is a common technique in gossip leterature ","username":"C0rWin","ts":"2018-01-19T14:14:32.748Z"}
{"msg":"Has joined the channel.","username":"Brucepark","ts":"2018-01-20T06:14:48.884Z","type":"uj"}
{"msg":"can anyone help for this error","username":"Ammu","ts":"2018-01-20T11:54:20.097Z"}
{"msg":"","username":"Ammu","ts":"2018-01-20T11:54:20.896Z","attachments":[{"type":"file","title":"chaincode.png","title_link":"/file-upload/kNhGNF3GCMur4y7YM/chaincode.png","image_url":"/file-upload/kNhGNF3GCMur4y7YM/chaincode.png","image_type":"image/png","image_size":147376,"url":"/file-upload/kNhGNF3GCMur4y7YM/chaincode.png","remote":false,"fileId":"kNhGNF3GCMur4y7YM","fileName":"chaincode.png"}]}
{"msg":"Please ask in #fabric @Ammu ","username":"C0rWin","ts":"2018-01-20T12:15:42.050Z"}
{"msg":"Has joined the channel.","username":"anishman","ts":"2018-01-23T00:58:37.298Z","type":"uj"}
{"msg":"Hello everyone, I have a question regarding the sync of peer node(s) once they are stopped and restarted. Is there some specific standard logs in the peer container that confirms that the peer has been brought back to sync with the remaining peers? I'm looking at the peer container logs but to no avail.  Thanks beforehand.","username":"anishman","ts":"2018-01-23T01:33:04.286Z"}
{"msg":"Hello everyone, I have a question regarding the sync of peer node(s) once they are stopped and restarted. Is there some specific standard logs in the peer container that confirms that the peer has been brought back to sync with the remaining peers? I'm looking at the peer container logs but to no avail.  Thanks beforehand.  @yacovm ","username":"anishman","ts":"2018-01-23T01:33:04.286Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=8HBjXzvRfYeX3v2MX) @C0rWin - Thanks. I want to know if there is any specific mechanism that is carried out. For example, if I am having 4 peer nodes and 3 of them are faultuy, is there any kind of implicit consensus running at the gossip level that will come into action and bring all 4 of them in sync. I am interested in knowing if something like BFT is implemented?","username":"ArnabChatterjee","ts":"2018-01-23T04:13:52.007Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=8HBjXzvRfYeX3v2MX","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=8HBjXzvRfYeX3v2MX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=8HBjXzvRfYeX3v2MX) @C0rWin - Thanks. I want to know if there is any specific mechanism that is carried out. For example, if I am having 4 peer nodes and 3 of them are faultuy, is there any kind of implicit consensus running at the gossip level that will come into action and bring all 4 of them in sync. I am interested in knowing if something like BFT is implemented? If yes, then how and what is the details of the implementation. ","username":"ArnabChatterjee","ts":"2018-01-23T04:13:52.007Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=8HBjXzvRfYeX3v2MX","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=8HBjXzvRfYeX3v2MX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"front end application what are the things we need to use for hyper ledger fabrics\n?","username":"Ammu","ts":"2018-01-23T06:06:45.098Z"}
{"msg":"Has joined the channel.","username":"ankitkamra","ts":"2018-01-23T08:03:01.448Z","type":"uj"}
{"msg":"@anishman there is no such thing","username":"yacovm","ts":"2018-01-23T10:34:59.957Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=68JmpJ3SXHd3DitNq) @ArnabChatterjee the anti entropy in context of gossip is mechanism to take care to bring partitioned nodes or newly connected nodes up to speed by taking care to replicate missing blocks. There is no consensus running at gossip level, there is a layer which leverages natural order of blocks sequence numbers given from ordering service to maintain same order while forwarding block for commit into the ledger. There is block verification in place to check the integrity, hence not really sure why you mention BFT in this context.","username":"C0rWin","ts":"2018-01-23T12:12:18.771Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=68JmpJ3SXHd3DitNq","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=68JmpJ3SXHd3DitNq","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=vXrDaFgFGJcxfDXLs) @Ammu could you please forward your question to #fabric channel as not strictly related to gossip component ","username":"C0rWin","ts":"2018-01-23T12:13:09.356Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=vXrDaFgFGJcxfDXLs","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=vXrDaFgFGJcxfDXLs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@C0rWin - Thank you so much for your inputs. Any further hints, what this block verification covers? Do you mean VSCC?","username":"ArnabChatterjee","ts":"2018-01-23T14:05:07.495Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=9PxkZxhaJXJ8ZWtxy) @ArnabChatterjee no, I mean signatures of the ordering service, e.g. we do not want to disseminate forged block","username":"C0rWin","ts":"2018-01-23T14:06:21.564Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=9PxkZxhaJXJ8ZWtxy","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=9PxkZxhaJXJ8ZWtxy","remote":true,"fileId":null,"fileName":null}]}
{"msg":"thank you so much.","username":"ArnabChatterjee","ts":"2018-01-23T14:07:26.789Z"}
{"msg":"@yacovm - Hi, I was looking at https://www.youtube.com/watch?v=qpFzZRNKKp0. Here, What do you mean by Consensus node? Leading peer?","username":"ArnabChatterjee","ts":"2018-01-23T14:08:02.286Z"}
{"msg":"ordering node","username":"yacovm","ts":"2018-01-23T14:17:36.791Z"}
{"msg":"wow it's a very old demo","username":"yacovm","ts":"2018-01-23T14:17:42.177Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=nT75CLCza2Pg8jGdT) @yacovm You don't think its relevant any more?","username":"ArnabChatterjee","ts":"2018-01-23T23:37:17.861Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=nT75CLCza2Pg8jGdT","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=nT75CLCza2Pg8jGdT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"StevenXu","ts":"2018-01-24T01:20:46.883Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=J8m7YHDBfn3YsCXj2) @yacovm  thanks a lot for the reply. ","username":"anishman","ts":"2018-01-24T05:34:35.612Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=J8m7YHDBfn3YsCXj2","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=J8m7YHDBfn3YsCXj2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"in couchdb how to set primary key and foreign keys?","username":"Ammu","ts":"2018-01-24T10:54:51.581Z"}
{"msg":"@Ammu please ask this in #fabric-ledger ","username":"yacovm","ts":"2018-01-24T11:01:21.040Z"}
{"msg":"Has joined the channel.","username":"novusopt","ts":"2018-01-24T17:12:02.025Z","type":"uj"}
{"msg":"Hi, I am observing following log messages\n```2018-01-24 17:10:32.835 UTC [gossip/comm] createConnection -> WARN 2d00 Remote endpoint claims to be a different peer, expected [106 142 75 11 126 62 160 113 178 193 205 134 222 109 14 241 56 244 244 246 42 48 218 9 59 173 66 106 109 46 93 92] but got [44 203 37 178 247 63 230 106 164 47 187 81 109 70 172 249 216 208 152 177 57 140 15 117 134 155 170 140 30 37 238 131]\n2018-01-24 17:10:32.835 UTC [gossip/comm] sendToEndpoint -> WARN 2d01 Failed obtaining connection for 0.0.0.0:7051, PKIid:[106 142 75 11 126 62 160 113 178 193 205 134 222 109 14 241 56 244 244 246 42 48 218 9 59 173 66 106 109 46 93 92] reason: Authentication failure````\r","username":"novusopt","ts":"2018-01-24T17:12:52.889Z"}
{"msg":"can someone explain what does this mean?","username":"novusopt","ts":"2018-01-24T17:13:07.032Z"}
{"msg":"```2018-01-24 17:13:12.862 UTC [gossip/discovery] expireDeadMembers -> WARN 3be6 Entering [[254 218 99 74 23 130 124 238 222 77 20 100 40 102 250 235 86 132 245 53 245 187 249 17 21 200 231 116 1 117 94 24]]\n2018-01-24 17:13:12.862 UTC [gossip/discovery] expireDeadMembers -> WARN 3be7 Closing connection to Endpoint: peer2.org1.dbg-ledger.de:7051, InternalEndpoint: 0.0.0.0:7051, PKI-ID: [254 218 99 74 23 130 124 238 222 77 20 100 40 102 250 235 86 132 245 53 245 187 249 17 21 200 231 116 1 117 94 24], Metadata: []\n2018-01-24 17:13:12.862 UTC [gossip/discovery] expireDeadMembers -> WARN 3be8 Exiting```","username":"novusopt","ts":"2018-01-24T17:13:53.306Z"}
{"msg":"```2018-01-24 17:13:12.862 UTC [gossip/discovery] expireDeadMembers -> WARN 3be6 Entering [[254 218 99 74 23 130 124 238 222 77 20 100 40 102 250 235 86 132 245 53 245 187 249 17 21 200 231 116 1 117 94 24]]\n2018-01-24 17:13:12.862 UTC [gossip/discovery] expireDeadMembers -> WARN 3be7 Closing connection to Endpoint: peer2.org1.my-ledger.com:7051, InternalEndpoint: 0.0.0.0:7051, PKI-ID: [254 218 99 74 23 130 124 238 222 77 20 100 40 102 250 235 86 132 245 53 245 187 249 17 21 200 231 116 1 117 94 24], Metadata: []\n2018-01-24 17:13:12.862 UTC [gossip/discovery] expireDeadMembers -> WARN 3be8 Exiting```","username":"novusopt","ts":"2018-01-24T17:13:53.306Z"}
{"msg":"that's a misconfiguration","username":"yacovm","ts":"2018-01-24T17:15:08.086Z"}
{"msg":"most chances are - you used the same certificate for 2 peers","username":"yacovm","ts":"2018-01-24T17:15:26.484Z"}
{"msg":"@yacovm Does the gossip protocol not allow multiple peers to share a certificate?","username":"toddinpal","ts":"2018-01-24T20:40:19.492Z"}
{"msg":"of course not","username":"yacovm","ts":"2018-01-24T20:40:27.969Z"}
{"msg":"why?","username":"toddinpal","ts":"2018-01-24T20:40:40.812Z"}
{"msg":"because a certificate is an identity of a node","username":"yacovm","ts":"2018-01-24T20:40:51.347Z"}
{"msg":"and if I want to have copies of that node for HA?","username":"toddinpal","ts":"2018-01-24T20:41:50.263Z"}
{"msg":"The nodes have unique IP addresses","username":"toddinpal","ts":"2018-01-24T20:42:07.371Z"}
{"msg":"don't do that","username":"yacovm","ts":"2018-01-24T20:45:05.732Z"}
{"msg":"don't use your own HA methods","username":"yacovm","ts":"2018-01-24T20:45:14.979Z"}
{"msg":"if you want HA just have more peers with different certificates","username":"yacovm","ts":"2018-01-24T20:45:22.493Z"}
{"msg":"really, fabric does HA for you so you won't have to","username":"yacovm","ts":"2018-01-24T20:45:29.209Z"}
{"msg":"yet for an OSN, we need to do our own HA as the SDKs only support specifying a single url for the ordering service","username":"toddinpal","ts":"2018-01-24T20:52:51.817Z"}
{"msg":"oh, they do?","username":"yacovm","ts":"2018-01-24T20:53:25.521Z"}
{"msg":":/ ","username":"yacovm","ts":"2018-01-24T20:53:28.688Z"}
{"msg":"at least the node.js SDK you specify a single url for the orderer...","username":"toddinpal","ts":"2018-01-24T20:54:14.882Z"}
{"msg":"no list/array of urls...   so we can hide multiple OSNs behind a load balancer...","username":"toddinpal","ts":"2018-01-24T20:54:53.491Z"}
{"msg":"yes, you can","username":"yacovm","ts":"2018-01-24T20:56:04.063Z"}
{"msg":"make it a network-level LB","username":"yacovm","ts":"2018-01-24T20:56:14.588Z"}
{"msg":"right...","username":"toddinpal","ts":"2018-01-24T20:56:21.575Z"}
{"msg":"have to think some more about peers though","username":"toddinpal","ts":"2018-01-24T20:56:29.091Z"}
{"msg":"@yacovm thanks for the response I will check. One more question what is the difference between CORE_PEER_GOSSIP_EXTERNALENDPOINT and CORE_PEER_GOSSIP_BOOTSTRAP?","username":"novusopt","ts":"2018-01-25T06:35:52.027Z"}
{"msg":"I have checked and each peer has a different certificate...","username":"novusopt","ts":"2018-01-25T07:12:31.434Z"}
{"msg":"Bootstrap is a peer it contacts when in starts up in order to know other peers im the network","username":"yacovm","ts":"2018-01-25T08:29:00.657Z"}
{"msg":"External endpoont is the address you publish to peers in other organizations","username":"yacovm","ts":"2018-01-25T08:29:22.278Z"}
{"msg":"@yacovm thx","username":"novusopt","ts":"2018-01-25T14:37:19.921Z"}
{"msg":"I found my issue","username":"novusopt","ts":"2018-01-25T14:41:28.268Z"}
{"msg":"I didnt set CORE_PEER_GOSSIP_ENDPOINT","username":"novusopt","ts":"2018-01-25T14:41:57.175Z"}
{"msg":"Has joined the channel.","username":"niyuelin","ts":"2018-01-26T08:49:20.614Z","type":"uj"}
{"msg":"Has joined the channel.","username":"guoger","ts":"2018-01-31T03:28:49.370Z","type":"uj"}
{"msg":"a quick question, how is leander election done in Fabric if not statically configured? ","username":"guoger","ts":"2018-01-31T03:31:07.696Z"}
{"msg":"never mind, found in code :P","username":"guoger","ts":"2018-01-31T03:33:54.078Z"}
{"msg":"where our data's will store in couchdb?","username":"Ammu","ts":"2018-01-31T07:34:08.217Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=ekiaRFE78jTJCX2X4) @Ammu please forward your question to #fabric-ledger ","username":"C0rWin","ts":"2018-01-31T08:05:48.122Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ekiaRFE78jTJCX2X4","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ekiaRFE78jTJCX2X4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Dark_Knight","ts":"2018-01-31T13:57:07.581Z","type":"uj"}
{"msg":"Hello everyone, I am working on Hyperledger Fabric Consensus network. I wanted to know if it is possible to implement the rollback mechanism in case of transaction failure and if yes, which type of Consensus has to be employed. Or if some other properties have also to be taken into consideration?","username":"Dark_Knight","ts":"2018-01-31T13:57:13.356Z"}
{"msg":"please forward this question to #fabric-orderer  ","username":"yacovm","ts":"2018-01-31T14:04:07.463Z"}
{"msg":"Has joined the channel.","username":"frankz","ts":"2018-02-01T03:11:30.539Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MartinKrmer","ts":"2018-02-01T10:17:33.349Z","type":"uj"}
{"msg":"Hey, is this channel alive?","username":"MartinKrmer","ts":"2018-02-01T10:34:31.114Z"}
{"msg":"of course!","username":"yacovm","ts":"2018-02-01T10:38:36.612Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=RHe8DiLKDSKg9XJkP) @MartinKrmer ping","username":"C0rWin","ts":"2018-02-01T11:38:01.481Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=RHe8DiLKDSKg9XJkP","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=RHe8DiLKDSKg9XJkP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"","username":"MartinKrmer","ts":"2018-02-01T11:38:15.256Z","attachments":[{"type":"file","title":"thumbnail_image001.jpg","title_link":"/file-upload/W9T6Ecm8waYkCPJ2y/thumbnail_image001.jpg","image_url":"/file-upload/W9T6Ecm8waYkCPJ2y/thumbnail_image001.jpg","image_type":"image/jpeg","image_size":48437,"url":"/file-upload/W9T6Ecm8waYkCPJ2y/thumbnail_image001.jpg","remote":false,"fileId":"W9T6Ecm8waYkCPJ2y","fileName":"thumbnail_image001.jpg"}]}
{"msg":"no sure I'm following your question","username":"C0rWin","ts":"2018-02-01T11:39:35.345Z"}
{"msg":"what is so specific there to gossip in your schema? ","username":"C0rWin","ts":"2018-02-01T11:39:50.257Z"}
{"msg":"The modelling is a little bit freestyle, but the right part should be gossip","username":"MartinKrmer","ts":"2018-02-01T11:40:05.677Z"}
{"msg":"ah?","username":"C0rWin","ts":"2018-02-01T11:40:14.540Z"}
{"msg":"\"Peer Communication Fabric\" ","username":"MartinKrmer","ts":"2018-02-01T11:40:30.873Z"}
{"msg":"gossip intend to be used to distribute blocks across the peers","username":"C0rWin","ts":"2018-02-01T11:40:40.627Z"}
{"msg":"of course scalable ","username":"C0rWin","ts":"2018-02-01T11:40:57.402Z"}
{"msg":"Yes I know but is it feasible to theoretically apply gossip for the peers: patient + all of his healthcare provider","username":"MartinKrmer","ts":"2018-02-01T11:41:52.326Z"}
{"msg":"in such a schema =(","username":"MartinKrmer","ts":"2018-02-01T11:42:22.782Z"}
{"msg":"apply to do what?","username":"C0rWin","ts":"2018-02-01T11:43:46.933Z"}
{"msg":"use case","username":"MartinKrmer","ts":"2018-02-01T11:50:51.716Z"}
{"msg":"@MartinKrmer is it possible to apply tcp/ip to email sending?","username":"Vadim","ts":"2018-02-01T11:52:08.953Z"}
{"msg":"Did not yet think about it, but theoretically yes, would it make more feasible?","username":"MartinKrmer","ts":"2018-02-01T11:56:51.252Z"}
{"msg":"Besides; do the peers need to be online both for using gossip tranmission?","username":"MartinKrmer","ts":"2018-02-01T11:58:38.436Z"}
{"msg":"I think I've lost the context ","username":"C0rWin","ts":"2018-02-01T11:59:17.794Z"}
{"msg":"how this is all connected together? gossip, email sending, tcp... :/","username":"C0rWin","ts":"2018-02-01T12:00:16.069Z"}
{"msg":"as a matter of fact, gossip runs over tcp/ip","username":"C0rWin","ts":"2018-02-01T12:00:42.595Z"}
{"msg":"@C0rWin I was trying to show him that his question makes little sense in that form","username":"Vadim","ts":"2018-02-01T12:00:48.124Z"}
{"msg":"> Besides; do the peers need to be online both for using gossip tranmission?\n\npeer has to be online and connected to accept the communication and being able to receive message ","username":"C0rWin","ts":"2018-02-01T12:02:09.194Z"}
{"msg":"there is a way to sync up off lines nodes, not directly connected to gossip though ","username":"C0rWin","ts":"2018-02-01T12:02:30.730Z"}
{"msg":"also, there is no such thing as submitting peer","username":"C0rWin","ts":"2018-02-01T12:02:51.432Z"}
{"msg":"I have to admit your diagram makes very little sense to me ","username":"C0rWin","ts":"2018-02-01T12:03:07.412Z"}
{"msg":"even less, speaking of gossip context ","username":"C0rWin","ts":"2018-02-01T12:04:37.333Z"}
{"msg":"what exactly you are trying to achieve? ","username":"C0rWin","ts":"2018-02-01T12:04:50.261Z"}
{"msg":"Sorry I may expressed myself wrong; I would like to model a architecture that enables all healthcare provider to share information with the patient as well as help the healthcare provider to synchronize their data","username":"MartinKrmer","ts":"2018-02-01T12:07:00.708Z"}
{"msg":"(with healthcare provider I mean the physician etc where the patient has \"account\")","username":"MartinKrmer","ts":"2018-02-01T12:10:13.532Z"}
{"msg":"I may messed-up gossip with https://github.com/hyperledger-archives/fabric/wiki/Next-Consensus-Architecture-Proposal -> submitting node","username":"MartinKrmer","ts":"2018-02-01T12:10:59.001Z"}
{"msg":"Has joined the channel.","username":"shailaja.mahara","ts":"2018-02-07T05:58:16.627Z","type":"uj"}
{"msg":"m working on CentOS and even after installing golang, I am getting an error while running the command: go get -u --tags nopkcs11 github.com/hyperledger/fabric/core/chaincode/shim\nThe error is: bash: go: command not found...\ni'm trying to compile the chaincode, following the official docs guidelines.\nI followed the the docs to install Go as well\nexport GOPATH=$HOME/go\nexport PATH=$PATH:$GOPATH/bin","username":"shailaja.mahara","ts":"2018-02-08T05:12:59.143Z"}
{"msg":"Has joined the channel.","username":"volkanbaran","ts":"2018-02-09T09:00:05.471Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ohmeraka","ts":"2018-02-12T16:22:57.185Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ryan2","ts":"2018-02-13T14:45:37.770Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vudathasaiomkar","ts":"2018-02-14T07:12:53.481Z","type":"uj"}
{"msg":"If an org leader fails to send correct blocks to the rest of the peers in an org, how would the rest of the nodes slecet a next source to get valid blocks ?","username":"niteshsolanki","ts":"2018-02-15T04:02:38.396Z"}
{"msg":"If an org leader fails to send correct blocks to the rest of the peers in an org, how would the rest of the nodes select the next source to get valid blocks ?","username":"niteshsolanki","ts":"2018-02-15T04:02:38.396Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=JfXP38hLFufFbBHGW) @niteshsolanki if there is network partition, that means other nodes won't see a leader for a while, hence will re-elect new leader. otherwise three is a pull mechanism which help other nodes in sync","username":"C0rWin","ts":"2018-02-15T22:40:07.372Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JfXP38hLFufFbBHGW","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=JfXP38hLFufFbBHGW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"eclairamb","ts":"2018-02-17T17:59:05.282Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vitiko","ts":"2018-02-19T11:42:40.873Z","type":"uj"}
{"msg":"I am trying to setup up peers on different servers. How do they discover each other? Any bootstrapping needs to be done?\n","username":"sampath06","ts":"2018-02-22T14:16:59.932Z"}
{"msg":"yes","username":"yacovm","ts":"2018-02-22T14:17:07.215Z"}
{"msg":"@sampath06 ","username":"yacovm","ts":"2018-02-22T14:17:09.099Z"}
{"msg":"You have ways in which peers discover each other","username":"yacovm","ts":"2018-02-22T14:17:23.371Z"}
{"msg":"peers that are in the same org, do that via the gossip.bootstrap parameter ","username":"yacovm","ts":"2018-02-22T14:17:38.462Z"}
{"msg":"peers of different orgs, discover each other via anchor peers","username":"yacovm","ts":"2018-02-22T14:17:47.726Z"}
{"msg":"So I set the anchor peer to peer0 and am trying to bring up peer1 on another server. Peer0 comes up and joins the channel correctly. But when trying to bring peer1 up, I am getting the following error\n```\npeer1.fi1.com    | 2018-02-22 14:17:54.330 UTC [gossip/discovery] func1 -> WARN 1df Could not connect to {127.0.0.1:7051 [] [] 127.0.0.1:7051 <nil>} : x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs\n```","username":"sampath06","ts":"2018-02-22T14:20:12.088Z"}
{"msg":"aha, very good","username":"yacovm","ts":"2018-02-22T14:20:33.400Z"}
{"msg":"configtx.yaml has\n```\n        AnchorPeers:\n            # AnchorPeers defines the location of peers which can be used\n            # for cross org gossip communication.  Note, this value is only\n            # encoded in the genesis block in the Application section context\n            - Host: peer0.fi1.com\n              Port: 7051\n```","username":"sampath06","ts":"2018-02-22T14:20:55.071Z"}
{"msg":"it has nothing to do with anchor peers though","username":"yacovm","ts":"2018-02-22T14:20:58.334Z"}
{"msg":"that message is when it tries to connect to the bootstrap peer","username":"yacovm","ts":"2018-02-22T14:21:07.855Z"}
{"msg":"that is in `core.yaml`","username":"yacovm","ts":"2018-02-22T14:21:15.037Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L136","username":"yacovm","ts":"2018-02-22T14:21:29.011Z"}
{"msg":"what version are you running?","username":"yacovm","ts":"2018-02-22T14:21:42.753Z"}
{"msg":"are you running with docker?","username":"yacovm","ts":"2018-02-22T14:22:14.349Z"}
{"msg":"Yes.. using latest \n```\nhyperledger/fabric-peer        latest                 f00c5d490d19        3 weeks ago         170MB\nhyperledger/fabric-peer        x86_64-1.1.0-alpha     f00c5d490d19        3 weeks ago         170MB\n```","username":"sampath06","ts":"2018-02-22T14:23:29.286Z"}
{"msg":"So how do I change it when the peer0 is on a different server?","username":"sampath06","ts":"2018-02-22T14:23:43.728Z"}
{"msg":"ok then what is the value of `CORE_PEER_GOSSIP_BOOTSTRAP` ? ","username":"yacovm","ts":"2018-02-22T14:23:49.027Z"}
{"msg":"are you using docker-compose?","username":"yacovm","ts":"2018-02-22T14:24:06.235Z"}
{"msg":"yes. havent set the value. Let me try setting that to peer0 and see if that works. ","username":"sampath06","ts":"2018-02-22T14:25:58.249Z"}
{"msg":"@yacovm Am getting the following error now\n```\npeer1.fi1.com    | 2018-02-22 14:35:11.482 UTC [gossip/discovery] func1 -> WARN 1df Could not connect to {peer0.fi1.com:7051 [] [] peer0.fi1.com:7051 <nil>} : context deadline exceeded\n```\nHave set the remote address mapping in extra_hosts in the compose file\n```\n    extra_hosts:\n        - \"peer0.fi1.com:52.187.146.176\"\n```\nAny help?","username":"sampath06","ts":"2018-02-22T14:36:52.047Z"}
{"msg":"1) first try to log into the container and see if the address is resolved\n2) Try to see if the port is reachable\n3) Set `CORE_LOGGING_GRPC=debug` in the environment variables, it might be a TLS mis-configuration","username":"yacovm","ts":"2018-02-22T14:38:13.270Z"}
{"msg":"@yacovm Thank you so much. Fixed the issue. The port was not open in Azure where it is hosted. ","username":"sampath06","ts":"2018-02-22T14:45:46.455Z"}
{"msg":"no prob, happy to help :)","username":"yacovm","ts":"2018-02-22T14:45:58.706Z"}
{"msg":"Hi, does somebody know how to approach this problem? ```[gossip/discovery] func1 -> WARN 031 Could not connect to {peer0.org1:7051 [] [] peer0.org1} : x509: certificate signed by unknown authority```\n","username":"david_dornseifer","ts":"2018-02-22T15:41:21.384Z"}
{"msg":"Hi, does somebody know how to approach this problem? ```[gossip/discovery] func1 -> WARN 031 Could not connect to {peer0.org1:7051 [] [] peer0.org1:7051} : x509: certificate signed by unknown authority```\n","username":"david_dornseifer","ts":"2018-02-22T15:41:21.384Z"}
{"msg":"a similar one: ```[gossip/gossip] func1 -> WARN 030 Deep probe of peer0.org2:7051 failed: x509: certificate signed by unknown authority```","username":"david_dornseifer","ts":"2018-02-22T15:43:54.220Z"}
{"msg":"@david_dornseifer I'd guess that's a misconfiguration issue","username":"yacovm","ts":"2018-02-22T15:55:58.202Z"}
{"msg":"@yacovm hmm think the x509 cert for the orgs should be distributed via the channel config right? - the tls section ","username":"david_dornseifer","ts":"2018-02-22T15:57:13.024Z"}
{"msg":"correct","username":"yacovm","ts":"2018-02-22T15:57:22.307Z"}
{"msg":"unless its in the same org, which is not the case here","username":"yacovm","ts":"2018-02-22T15:57:44.800Z"}
{"msg":"hmm ok, already checked it but i'll have another look :) - there is no no need to distribute the tls root cas to the peers manually right? ","username":"david_dornseifer","ts":"2018-02-22T15:59:17.633Z"}
{"msg":"you only need the root cert of the peer's org to be present in `tls/ca.cert`","username":"yacovm","ts":"2018-02-22T15:59:58.759Z"}
{"msg":"thx - will check the config again ","username":"david_dornseifer","ts":"2018-02-22T16:00:33.733Z"}
{"msg":"Has joined the channel.","username":"Wangrj","ts":"2018-02-23T00:56:20.026Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SriramaSharma","ts":"2018-02-23T03:46:37.761Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SashiKanth","ts":"2018-02-23T08:08:05.451Z","type":"uj"}
{"msg":"Hi,\n\nInorder to able to have a setup of different peers in different servers,\ndo i need to have docker swarm and have a overlay network setup","username":"SashiKanth","ts":"2018-02-23T08:20:09.439Z"}
{"msg":"no","username":"yacovm","ts":"2018-02-23T09:24:25.870Z"}
{"msg":"Hi,\nI got this error when connecting a peer to the already exsiting fabric network, but the peer resides in different host\n\nFailed to dial 10.0.0.6:7050: connection error: desc = \"transport: authentication handshake failed: x509: cannot validate certificate for 10.0.0.6 because it doesn't contain any IP SANs\"; please retry.","username":"SashiKanth","ts":"2018-02-24T08:05:03.142Z"}
{"msg":"@yacovm  @david_dornseifer I am facing the same issue. Were you able to resolve it. When I try to connect the peers using the CORE_PEER_GOSSIP_BOOTSTRAP variable, I am hitting the following errors\n```","username":"sampath06","ts":"2018-02-25T16:21:44.706Z"}
{"msg":"@yacovm  @david_dornseifer I am facing the same issue. Were you able to resolve it. When I try to connect the peers using the CORE_PEER_GOSSIP_BOOTSTRAP variable, I am hitting the following errors\n```\npeer0.fi1.com    | 2018-02-25 16:21:31.164 UTC [gossip/discovery] func1 -> WARN 1f6 Could not connect to {peer0.anchor1.com:7051 [] [] peer0.anchor1.com:7051 <nil>} : x509: certificate signed by unknown authority\n```\n\n```\npeer0.anchor1.com    | 2018-02-25 16:21:56.179 UTC [grpc] Printf -> DEBU 1ed grpc: Server.Serve failed to complete security handshake from \"52.187.146.176:37578\": remote error: tls: bad certificate\n```","username":"sampath06","ts":"2018-02-25T16:21:44.706Z"}
{"msg":"I don't see anything, it's empty","username":"yacovm","ts":"2018-02-25T16:22:09.836Z"}
{"msg":"oh","username":"yacovm","ts":"2018-02-25T16:22:16.424Z"}
{"msg":"Sorry.. Hit enter by mistake. Edited it","username":"sampath06","ts":"2018-02-25T16:22:25.591Z"}
{"msg":"... ","username":"yacovm","ts":"2018-02-25T16:22:44.510Z"}
{"msg":"did you put a bootstrap peer of another organization?","username":"yacovm","ts":"2018-02-25T16:22:54.663Z"}
{"msg":"Yes.. ","username":"sampath06","ts":"2018-02-25T16:23:05.308Z"}
{"msg":"bootstrap peers are *only* peers in your own organization","username":"yacovm","ts":"2018-02-25T16:23:09.606Z"}
{"msg":"Ah.. Ok","username":"sampath06","ts":"2018-02-25T16:23:17.639Z"}
{"msg":"actually, even if the handshake would succeed, gossip would reject it :)","username":"yacovm","ts":"2018-02-25T16:23:22.672Z"}
{"msg":"claiming it's a foreign organization","username":"yacovm","ts":"2018-02-25T16:23:30.535Z"}
{"msg":"How do the peers of different organisation join the network. Is it just through the channel join?","username":"sampath06","ts":"2018-02-25T16:23:47.304Z"}
{"msg":"yes'","username":"yacovm","ts":"2018-02-25T16:24:15.557Z"}
{"msg":"Great. Thanks for the quick help again","username":"sampath06","ts":"2018-02-25T16:24:51.737Z"}
{"msg":"Has joined the channel.","username":"yzhivkov","ts":"2018-02-25T18:34:27.066Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kapilAtrey","ts":"2018-02-26T09:05:41.888Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mflipw","ts":"2018-02-26T11:05:33.140Z","type":"uj"}
{"msg":"Hi,\nI got this error when connecting a peer to the already exsiting fabric network, but the peer resides in different host\n\nFailed to dial 10.0.0.6:7050: connection error: desc = \"transport: authentication handshake failed: x509: cannot validate certificate for 10.0.0.6 because it doesn't contain any IP SANs\"; please retry.","username":"SashiKanth","ts":"2018-02-27T10:23:04.224Z"}
{"msg":"you can use a cryptogen of version v1.1","username":"yacovm","ts":"2018-02-27T10:24:30.772Z"}
{"msg":"and then it will add IP SANs to the certificates","username":"yacovm","ts":"2018-02-27T10:24:38.956Z"}
{"msg":"@SashiKanth ","username":"yacovm","ts":"2018-02-27T10:24:40.141Z"}
{"msg":"where can i get cryptogen of version v1.1 ..... I cant find it ...","username":"SashiKanth","ts":"2018-02-27T10:44:14.541Z"}
{"msg":"where can i get cryptogen of version v1.1 ..... I cant find it ...\n@yacovm","username":"SashiKanth","ts":"2018-02-27T10:44:50.355Z"}
{"msg":"clone https://github.com/hyperledger/fabric.git and switch to the master branch","username":"yacovm","ts":"2018-02-27T10:45:41.384Z"}
{"msg":"and compile it","username":"yacovm","ts":"2018-02-27T10:45:43.024Z"}
{"msg":"via: `make cryptogen`","username":"yacovm","ts":"2018-02-27T10:45:54.518Z"}
{"msg":"ok thanks ","username":"SashiKanth","ts":"2018-02-27T10:46:28.808Z"}
{"msg":"@yacovm \nIs there any way that i can generate the certs without cryptogen ","username":"SashiKanth","ts":"2018-02-27T11:03:34.050Z"}
{"msg":"yes with openssl","username":"yacovm","ts":"2018-02-27T11:04:09.504Z"}
{"msg":"by providing the same crypto-config.yaml file ","username":"SashiKanth","ts":"2018-02-27T11:04:39.984Z"}
{"msg":"??","username":"SashiKanth","ts":"2018-02-27T11:04:42.983Z"}
{"msg":"","username":"Ammu","ts":"2018-02-27T11:15:44.625Z","attachments":[{"type":"file","title":"stsrt.png","title_link":"/file-upload/6mg3ZSndgmZprbDHr/stsrt.png","image_url":"/file-upload/6mg3ZSndgmZprbDHr/stsrt.png","image_type":"image/png","image_size":120727,"url":"/file-upload/6mg3ZSndgmZprbDHr/stsrt.png","remote":false,"fileId":"6mg3ZSndgmZprbDHr","fileName":"stsrt.png"}]}
{"msg":"can any1 solve this error? ","username":"Ammu","ts":"2018-02-27T11:15:49.670Z"}
{"msg":"this isn't related to this channel @Ammu ","username":"yacovm","ts":"2018-02-27T11:18:11.854Z"}
{"msg":"@yacovm \n","username":"SashiKanth","ts":"2018-02-27T11:28:01.002Z"}
{"msg":"curl -sSL https://goo.gl/6wtTN5 | bash -s 1.1.0-alpha\n\nstill it has got cryptogen v 1.0.5 \nbut not v 1.1","username":"SashiKanth","ts":"2018-02-27T11:28:29.835Z"}
{"msg":"uh oh...","username":"yacovm","ts":"2018-02-27T11:28:38.132Z"}
{"msg":"@mastersingh24 ^ ","username":"yacovm","ts":"2018-02-27T11:28:45.353Z"}
{"msg":"I just ran the download script and I get 1.1.0-alpha binaries ...","username":"mastersingh24","ts":"2018-02-27T15:54:23.035Z"}
{"msg":"```\nGaris-MacBook-Pro:fabric-samples gsingh$ ./bin/cryptogen version\ncryptogen:\n Version: 1.1.0-alpha\n Go version: go1.9\n OS/Arch: darwin/amd64\n```","username":"mastersingh24","ts":"2018-02-27T15:55:15.972Z"}
{"msg":"Has joined the channel.","username":"chandrakanthm","ts":"2018-02-28T09:54:44.740Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dampuero","ts":"2018-02-28T15:06:44.504Z","type":"uj"}
{"msg":"Has joined the channel.","username":"joaquimpedrooliveira","ts":"2018-03-01T13:00:35.023Z","type":"uj"}
{"msg":"Hello, all. I have a question regarding gossip configuration in a network with multiple peers from multiple orgs: what happens if I don't configure the env variables `CORE_PEER_GOSSIP_*` in peer config?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:02:44.266Z"}
{"msg":"it uses the core.yamll values","username":"yacovm","ts":"2018-03-01T13:05:36.932Z"}
{"msg":"from the `core.yaml` file","username":"yacovm","ts":"2018-03-01T13:05:40.740Z"}
{"msg":"So in this case all peers will be configured as \"org leaders\" and receive blocks directly from the orderer service, is this correct?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:08:45.951Z"}
{"msg":"yes","username":"yacovm","ts":"2018-03-01T13:10:24.492Z"}
{"msg":"I think","username":"yacovm","ts":"2018-03-01T13:10:26.475Z"}
{"msg":"In this scenario, what happens to a newly connected peer? Does it receive the existing blocks from the orderer?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:12:19.699Z"}
{"msg":"Another question: configuring the env variables `CORE_PEER_GOSSIP_*` is considered *mandatory* or *optional* in a network with many orgs and many peers?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:18:22.377Z"}
{"msg":"depends on what you want","username":"yacovm","ts":"2018-03-01T13:28:17.979Z"}
{"msg":"please elaborate. I'm trying to understand how to properly configure a network but really don't know the implications, even after reading the docs (fabric.readthedocs.io/en/release/gossip.html)","username":"joaquimpedrooliveira","ts":"2018-03-01T13:34:10.780Z"}
{"msg":"I appreciate your help :)","username":"joaquimpedrooliveira","ts":"2018-03-01T13:34:31.658Z"}
{"msg":"so, you need to define a bootstrap list for your peers for your org","username":"yacovm","ts":"2018-03-01T13:35:35.108Z"}
{"msg":"ummm... and also define anchor peers in the configtx.yaml","username":"yacovm","ts":"2018-03-01T13:35:43.959Z"}
{"msg":"I think that's basically it, the rest should work out of the box","username":"yacovm","ts":"2018-03-01T13:35:53.558Z"}
{"msg":"I understand these are the steps needed to properly configure gossip, right?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:39:37.948Z"}
{"msg":"That's ok to me","username":"joaquimpedrooliveira","ts":"2018-03-01T13:39:49.832Z"}
{"msg":"What I trying to figure out is what are the impacts of not configuring the gossip and use the default config","username":"joaquimpedrooliveira","ts":"2018-03-01T13:40:24.665Z"}
{"msg":"ah - all peers will connect to the orderer","username":"yacovm","ts":"2018-03-01T13:41:08.541Z"}
{"msg":"that's it basically","username":"yacovm","ts":"2018-03-01T13:41:11.587Z"}
{"msg":"Ok...but do peer discovery and channel membership, ledger dissemination and update ledger data for newly connected peers will work fine?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:43:11.459Z"}
{"msg":"Ok...but will peer discovery and channel membership, ledger dissemination and update ledger data for newly connected peers work fine?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:43:11.459Z"}
{"msg":"I'm assuming it will, but the messages will be receveid from the orderer instead of from other peers, but I want to be sure I'm understanding correctly. :)","username":"joaquimpedrooliveira","ts":"2018-03-01T13:44:06.727Z"}
{"msg":"And when all peers connected to the orderer starts to impact the network performance?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:47:16.562Z"}
{"msg":">  Ok...but will peer discovery and channel membership, ledger dissemination and update ledger data for newly connected peers work fine? \nit will not","username":"yacovm","ts":"2018-03-01T13:47:44.995Z"}
{"msg":"unless you have anchor peers","username":"yacovm","ts":"2018-03-01T13:47:56.850Z"}
{"msg":"then it would","username":"yacovm","ts":"2018-03-01T13:48:07.542Z"}
{"msg":"but you also need to configure your endpoint","username":"yacovm","ts":"2018-03-01T13:48:14.690Z"}
{"msg":"`CORE_PEER_GOSSIP_ENDPOINT`","username":"yacovm","ts":"2018-03-01T13:48:23.731Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=xWf8NsJFJPmFrj3zK) @yacovm pointing to the anchor peer?","username":"joaquimpedrooliveira","ts":"2018-03-01T13:55:39.626Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=xWf8NsJFJPmFrj3zK","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=xWf8NsJFJPmFrj3zK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"in the configtx.yaml","username":"yacovm","ts":"2018-03-01T14:02:40.445Z"}
{"msg":"sorry, I'm in a call so can't really elaborate","username":"yacovm","ts":"2018-03-01T14:02:46.427Z"}
{"msg":"No problem, I can wait :)","username":"joaquimpedrooliveira","ts":"2018-03-01T14:09:03.828Z"}
{"msg":"please write concrete questions","username":"yacovm","ts":"2018-03-01T14:16:37.901Z"}
{"msg":"and I'll answer when I am back","username":"yacovm","ts":"2018-03-01T14:16:41.970Z"}
{"msg":"@joaquimpedrooliveira ","username":"yacovm","ts":"2018-03-01T14:16:50.424Z"}
{"msg":"Has joined the channel.","username":"AndrewRy 1","ts":"2018-03-01T16:29:45.518Z","type":"uj"}
{"msg":"- What is the impact of not configuring the gossip (use the default config)\n- If gossip is not enabled but anchor peers are defined in `configtx.yaml` and peer address is configured in `CORE_PEER_GOSSIP_EXTERNALENDPOINT`, do we have the same benefits from configuring gossip?\n- When all peers are connected to the orderer (as org leaders), is there any performance degradation due to network size?\n- In what situations/scenarios configuring gossip properly in a network is recommended?","username":"joaquimpedrooliveira","ts":"2018-03-01T17:09:36.832Z"}
{"msg":"- What is the impact of not configuring the gossip (use the default config)?\n- If gossip is not enabled but anchor peers are defined in `configtx.yaml` and peer address is configured in `CORE_PEER_GOSSIP_EXTERNALENDPOINT`, do we have the same benefits from configuring gossip?\n- When all peers are connected to the orderer (as org leaders), is there any performance degradation due to network size?\n- In what situations/scenarios configuring gossip properly in a network is recommended?","username":"joaquimpedrooliveira","ts":"2018-03-01T17:09:36.832Z"}
{"msg":">  - What is the impact of not configuring the gossip (use the default config)?\nYou need anchor peers to know of other peers. If you had `CORE_PEER_GOSSIP_BOOTSTRAP` too then you could know of peers in your own org.\n> - If gossip is not enabled but anchor peers are defined in `configtx.yaml` and peer address is configured in `CORE_PEER_GOSSIP_EXTERNALENDPOINT`, do we have the same benefits from configuring gossip?\nif you have external endpoint, your peer is visible to other orgs and it is conversing with peers from other orgs. But keep in mind you need to configure `CORE_PEER_ADDRESS` to have gossip with peers in your own org.\n> - When all peers are connected to the orderer (as org leaders), is there any performance degradation due to network size?\nYou will hit a bandwidth bottleneck at the orderer if the network can't keep up, but that's it.\n> - In what situations/scenarios configuring gossip properly in a network is recommended? \nwhen you have lots of peers and lots of organizations, and when you use the v1.1 feature called \"side DB\" - gossip is used in that to pass data between peers.\n\n @joaquimpedrooliveira - ^","username":"yacovm","ts":"2018-03-01T17:59:45.578Z"}
{"msg":"Thank you very much for you help, @yacovm ! :)","username":"joaquimpedrooliveira","ts":"2018-03-01T18:15:36.240Z"}
{"msg":"np","username":"yacovm","ts":"2018-03-01T18:16:02.719Z"}
{"msg":"one last question, @yacovm: what do you mean by \"lots of peers\" and \"lots of organizations\"?","username":"joaquimpedrooliveira","ts":"2018-03-01T18:44:13.233Z"}
{"msg":"many","username":"yacovm","ts":"2018-03-01T18:44:30.043Z"}
{"msg":"more than 10, 50 or 100? :)","username":"joaquimpedrooliveira","ts":"2018-03-01T18:44:41.172Z"}
{"msg":"how big","username":"joaquimpedrooliveira","ts":"2018-03-01T18:44:47.464Z"}
{"msg":"it depends on the block creation rate and the bandwidth the orderers can give and their amount","username":"yacovm","ts":"2018-03-01T18:45:05.783Z"}
{"msg":"just do the math","username":"yacovm","ts":"2018-03-01T18:45:12.218Z"}
{"msg":"if you have too many peers pulling too many blocks","username":"yacovm","ts":"2018-03-01T18:45:21.932Z"}
{"msg":"and the bandwidth is too low","username":"yacovm","ts":"2018-03-01T18:45:27.139Z"}
{"msg":"then you are bottle-necked by bandwidth ","username":"yacovm","ts":"2018-03-01T18:45:38.519Z"}
{"msg":"ok, got it! thanks!","username":"joaquimpedrooliveira","ts":"2018-03-01T18:45:59.214Z"}
{"msg":"Is it common to see gossip messages like:\n```2018-03-01 20:03:26.192 UTC [gossip/channel] handleStateInfSnapshot -> DEBU 3da Channel defaultchannel : Couldn't find org identity of peer \niSZ(\u001a message sent from g]Np9                                                                                                       \u001dW46\nJ\u0011so                          m\u0003\n```","username":"joaquimpedrooliveira","ts":"2018-03-01T20:09:42.790Z"}
{"msg":"Is it common to see gossip messages like this?\n```2018-03-01 20:03:26.192 UTC [gossip/channel] handleStateInfSnapshot -> DEBU 3da Channel defaultchannel : Couldn't find org identity of peer \niSZ(\u001a message sent from g]Np9                                                                                                       \u001dW46\nJ\u0011so                          m\u0003\n```","username":"joaquimpedrooliveira","ts":"2018-03-01T20:09:42.790Z"}
{"msg":"using Fabric 1.0.6","username":"joaquimpedrooliveira","ts":"2018-03-01T20:09:52.309Z"}
{"msg":"@joaquimpedrooliveira does it happen constantly or has it stopped after a while?","username":"yacovm","ts":"2018-03-01T21:19:28.208Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=ifFkjDqxrvwd4BfbM) @yacovm Stopped after a while.","username":"joaquimpedrooliveira","ts":"2018-03-02T12:23:31.910Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ifFkjDqxrvwd4BfbM","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ifFkjDqxrvwd4BfbM","remote":true,"fileId":null,"fileName":null}]}
{"msg":"then it's ok","username":"yacovm","ts":"2018-03-02T12:23:43.489Z"}
{"msg":"thanks!","username":"joaquimpedrooliveira","ts":"2018-03-02T12:29:42.815Z"}
{"msg":"Has joined the channel.","username":"nirro","ts":"2018-03-06T13:40:21.456Z","type":"uj"}
{"msg":"dave.enyeart","username":"rjones","ts":"2018-03-06T18:12:55.972Z","type":"subscription-role-added"}
{"msg":"yacovm","username":"dave.enyeart","ts":"2018-03-06T20:07:01.446Z","type":"subscription-role-added"}
{"msg":"C0rWin","username":"dave.enyeart","ts":"2018-03-06T20:07:07.550Z","type":"subscription-role-added"}
{"msg":"Has joined the channel.","username":"ShereenSallam","ts":"2018-03-08T12:33:11.290Z","type":"uj"}
{"msg":"User <em>User_1</em> added by <em>ShereenSallam</em>.","username":"ShereenSallam","ts":"2018-03-08T12:33:14.281Z","type":"au"}
{"msg":"Has joined the channel.","username":"TobiasN","ts":"2018-03-12T00:14:14.196Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MoulaliMvg","ts":"2018-03-12T05:22:11.523Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jspark84","ts":"2018-03-13T13:16:06.912Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tuancm","ts":"2018-03-13T16:12:37.723Z","type":"uj"}
{"msg":"CORE_PEER_GOSSIP_EXTERNALENDPOINT\nCORE_PEER_GOSSIP_BOOTSTRAP\n\nwhy is this env variables for !!!!\n\n?","username":"SashiKanth","ts":"2018-03-16T11:41:14.574Z"}
{"msg":"Has joined the channel.","username":"chenjun-bj","ts":"2018-03-17T01:02:51.963Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pankajcheema","ts":"2018-03-19T05:46:14.936Z","type":"uj"}
{"msg":"Has joined the channel.","username":"wjzheng","ts":"2018-03-20T19:06:42.918Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ShikarSharma","ts":"2018-03-20T22:43:11.692Z","type":"uj"}
{"msg":"Has left the channel.","username":"marksta","ts":"2018-03-23T19:41:48.156Z","type":"ul"}
{"msg":"\n@yacovm  I encountered this phenomenon when I tried to measure performance of fabric through multi-thread. \nThe time spent in block committing phase were huge, nearly taking up 90% of the total. \nhere is the logging message embedded in the source \n```\n2018/03/23 14:40:40.858 [INFO ] START SEND OS REQUESTID=0.3381804038376005  f822028580ce3e5aaf46ba45446cef535e3022b48e32a19febcfd3283983d5dc\n2018/03/23 14:40:40.863 [INFO ] END SEND OS REQUESTID=0.3381804038376005  f822028580ce3e5aaf46ba45446cef535e3022b48e32a19febcfd3283983d5dc\n2018/03/23 14:40:42.316 [INFO ] BLOCK COMMIT REQUESTID=0.3381804038376005 f822028580ce3e5aaf46ba45446cef535e3022b48e32a19febcfd3283983d5dc\n\n```\nfrom which you can see that it took 1449ms in the blocking committing.\nI was wondering what are causing this delay. \nMy guess would be something happened in one of the goroutine waiting for request? Or the influences from gossip?\n","username":"Hangyu","ts":"2018-03-26T00:33:21.481Z"}
{"msg":"by the way, I was using fabric1.0.0","username":"Hangyu","ts":"2018-03-26T00:44:01.707Z"}
{"msg":"@Hangyu how mane peers did you have while doing your measurements? Which state DB engine have you used? What was the endorsement policy? How many transactions do you have in the block? What was the average throughput? ","username":"C0rWin","ts":"2018-03-26T12:11:46.855Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=X8xdG5tXWYk8HiKe4) @SashiKanth \n\n`CORE_PEER_GOSSIP_EXTERNALENDPOINT ` - this is the endpoint peer will advertise to make peers from other organizations to get connected to it (needed if your peers behind a NAT for instance)\n`CORE_PEER_GOSSIP_BOOTSTRAP ` -  this is the set of peers to be used to build the initial membership","username":"C0rWin","ts":"2018-03-26T12:15:18.038Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=X8xdG5tXWYk8HiKe4","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=X8xdG5tXWYk8HiKe4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"yoshihara.y","ts":"2018-03-27T00:36:20.774Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=2wpimxN5jbg5GNFZ9) @C0rWin My apologies for the incomplete information.\npeer number: 4 peers from 4 organizations\nstate DB engine: levelDB\nendorsement policy: require signatures from all organizations\ntransaction number in a block: 10\naverage throughout: 100 TPS","username":"Hangyu","ts":"2018-03-27T02:26:28.840Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=2wpimxN5jbg5GNFZ9","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=2wpimxN5jbg5GNFZ9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"thakurnikk","ts":"2018-03-27T06:31:07.624Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ruffsl","ts":"2018-03-27T16:20:54.083Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qingsongGuo","ts":"2018-03-30T07:22:49.111Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ericmvaughn","ts":"2018-03-30T22:32:46.949Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JiuZhuYou","ts":"2018-03-31T10:39:46.125Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jarvis26","ts":"2018-03-31T15:51:19.449Z","type":"uj"}
{"msg":"Hi.. I am using `CORE_PEER_GOSSIP_ORGLEADER and CORE_PEER_GOSSIP_USELEADERELECTION` settings in my fabric network which consists of 3 organizations with 3 peer each. I have set `CORE_PEER_GOSSIP_ORGLEADER=true` for one peer in each organization and false for the others and `CORE_PEER_GOSSIP_USELEADERELECTION=false` for all the peers. Now, only my leaders are getting the blocks delivered and all the non leaders aren't. Could anybody please help me on this. Thanks.","username":"jarvis26","ts":"2018-03-31T15:53:26.393Z"}
{"msg":"@jarvis26 looks like you don't have bootstrap peers or anchor peers, and the non leaders don't know about the leader peers and vice versa. ","username":"yacovm","ts":"2018-03-31T19:58:43.542Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=chSbafbjJRsg8tSEL) @yacovm ok..so, ideally what should be given in bootstrap peers, other peers of the same organization or they can belong to different organizations. Also, how and what do I set the anchor peers to?","username":"MeenakshiSingh","ts":"2018-04-01T05:57:17.763Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=chSbafbjJRsg8tSEL","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=chSbafbjJRsg8tSEL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@MeenakshiSingh - the same org only. Read the comments in the core.yaml.","username":"yacovm","ts":"2018-04-01T07:50:41.188Z"}
{"msg":"you set anchor peers via a config update","username":"yacovm","ts":"2018-04-01T07:50:47.828Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=iKDT5TMqvZR8N2p98) @yacovm ok..so while creating the channel genesis, I created the org anchor peers using the configtxgen tool. This gave me channel anchor peer artifacts. Now, what do I use these for?","username":"MeenakshiSingh","ts":"2018-04-01T08:02:53.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=iKDT5TMqvZR8N2p98","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=iKDT5TMqvZR8N2p98","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=iKDT5TMqvZR8N2p98) @yacovm ok..so while creating the channel genesis, I created the org anchor peers using the configtxgen tool. This gave me channel anchor peer artifacts. Now, what do I use these for?  `Anchor peers - used to advertise peers from different organization to eventually build up shared membership view of all peers in the channels from all organizations.` How does this happen?","username":"MeenakshiSingh","ts":"2018-04-01T08:02:53.773Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=iKDT5TMqvZR8N2p98","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=iKDT5TMqvZR8N2p98","remote":true,"fileId":null,"fileName":null}]}
{"msg":"not sure what you're asking","username":"yacovm","ts":"2018-04-01T08:37:29.651Z"}
{"msg":"but you need to submit the anchor peer transaction to the orderer","username":"yacovm","ts":"2018-04-01T08:37:41.591Z"}
{"msg":"I executed the following commands for generating the channel and anchor peer artifacts:","username":"MeenakshiSingh","ts":"2018-04-01T08:55:05.825Z"}
{"msg":"```CONFIGTXGEN=/opt/gopath/src/github.com/hyperledger/fabric/build/bin/configtxgen\n$CONFIGTXGEN -profile TwoOrgsOrdererGenesis -outputBlock genesis.block\n$CONFIGTXGEN -profile TwoOrgsChannel -outputCreateChannelTx channel1.tx -channelID channel1\n$CONFIGTXGEN -profile TwoOrgsChannel -outputAnchorPeersUpdate Org1MSPanchors.tx -channelID channel1 -asOrg Org1MSP\n$CONFIGTXGEN -profile TwoOrgsChannel -outputAnchorPeersUpdate Org2MSPanchors.tx -channelID channel1 -asOrg Org2MSP```","username":"MeenakshiSingh","ts":"2018-04-01T08:55:11.179Z"}
{"msg":"Not sure where these `Org1MSPanchors.tx` and `Org2MSPanchors.tx` would be used as I am able to create and transact upon a channel which I create using the `channel1.tx` artifact.","username":"MeenakshiSingh","ts":"2018-04-01T08:56:53.692Z"}
{"msg":"look at the e2e_cli in examples folder","username":"yacovm","ts":"2018-04-01T09:04:36.135Z"}
{"msg":"specifically in script/script.sh","username":"yacovm","ts":"2018-04-01T09:04:42.493Z"}
{"msg":"How do a I work out how many signing operations there will be for peer / client / orders  (non tls signing that is) in steady state ? I need this to make sure that our HSMs have sufficient capacity. I really want the answer for fabric 1.0 but it would be useful to know if this would change with 1.1.\nIts clear that the submitter /   endorsers will each sign for a transaction, as will the orderers each sign once per block. \nI've read that the gossip protocol also uses signed blocks for \"keep alive\".\nAre there \"keep alive\" between peers and orderer ? Is that per channel ? Does it sign again each message ?\nIf we put anchor peers into the config how does that add to the signing? \nIf we have multiple peers in an organisation how does that affect the signing ?\n","username":"rsherwood","ts":"2018-04-02T14:49:56.506Z"}
{"msg":"signed blocks for keep alives?","username":"yacovm","ts":"2018-04-02T14:52:37.983Z"}
{"msg":"we send signed \"alive messages\" for keep alives","username":"yacovm","ts":"2018-04-02T14:52:58.708Z"}
{"msg":"the keep alive between peers and orderers are at the grpc level","username":"yacovm","ts":"2018-04-02T14:53:09.805Z"}
{"msg":"Does the peer sign those blocks ?","username":"rsherwood","ts":"2018-04-02T15:46:22.859Z"}
{"msg":"Does the peer sign those blocks ? Read the blocks says \"Online peers indicate their availability by continually broadcasting alive messages, with each containing the public key infrastructure (PKI) ID and the *signature* of the sender over the message.\" \n\"Although TLS certs are also used, it is the peer certificates that are authenticated in the gossip layer. \"\n","username":"rsherwood","ts":"2018-04-02T15:46:22.859Z"}
{"msg":"Does the peer sign those blocks ? Read the docs says \"Online peers indicate their availability by continually broadcasting alive messages, with each containing the public key infrastructure (PKI) ID and the *signature* of the sender over the message.\" \n\"Although TLS certs are also used, it is the peer certificates that are authenticated in the gossip layer. \"\n","username":"rsherwood","ts":"2018-04-02T15:46:22.859Z"}
{"msg":"peers don't sign blocks","username":"yacovm","ts":"2018-04-02T16:09:08.646Z"}
{"msg":"peers broadcast their ledger height","username":"yacovm","ts":"2018-04-02T16:10:27.447Z"}
{"msg":"to other peers","username":"yacovm","ts":"2018-04-02T16:10:29.079Z"}
{"msg":"Sorry did not mean blocks . Do peers sign keep alive massages ? So do they sign these ledger heights ?","username":"rsherwood","ts":"2018-04-02T16:18:14.612Z"}
{"msg":"Sorry did not mean blocks . Do peers sign keep alive massages ? So do they sign these ledger heights ?  If they do how often do they resign. Every time they broadcast >","username":"rsherwood","ts":"2018-04-02T16:18:14.612Z"}
{"msg":"Sorry did not mean blocks . Do peers sign keep alive massages ? So do they sign these ledger heights ?  If they do how often do they resign. Every time they broadcast ?","username":"rsherwood","ts":"2018-04-02T16:18:14.612Z"}
{"msg":"yeah they sign alive messages","username":"yacovm","ts":"2018-04-02T16:21:05.684Z"}
{"msg":"how often - its configurable","username":"yacovm","ts":"2018-04-02T16:21:11.665Z"}
{"msg":"are you worried that HSM is costly or something?","username":"yacovm","ts":"2018-04-02T16:21:20.086Z"}
{"msg":"it should be one in a few seconds","username":"yacovm","ts":"2018-04-02T16:21:45.734Z"}
{"msg":"HSMs only support a certain number of signing operations per second depending on the key types and lengths used.","username":"rsherwood","ts":"2018-04-02T16:22:18.889Z"}
{"msg":"well but we sign once every few seconds","username":"yacovm","ts":"2018-04-02T16:22:31.967Z"}
{"msg":"so it's a fraction per second","username":"yacovm","ts":"2018-04-02T16:22:38.908Z"}
{"msg":"like, for example- once in 5 seconds","username":"yacovm","ts":"2018-04-02T16:22:50.723Z"}
{"msg":"Is that once per second per channel ?","username":"rsherwood","ts":"2018-04-02T16:22:51.590Z"}
{"msg":"i think that's the default","username":"yacovm","ts":"2018-04-02T16:22:54.294Z"}
{"msg":"so we have alive messages that are global and cross channel","username":"yacovm","ts":"2018-04-02T16:23:04.534Z"}
{"msg":"and special messages per channel","username":"yacovm","ts":"2018-04-02T16:23:09.846Z"}
{"msg":"think of them as alive messages per channel","username":"yacovm","ts":"2018-04-02T16:23:21.463Z"}
{"msg":"So if we have 13 channels that's 13 signings per \"configured interval\" per peer. ","username":"rsherwood","ts":"2018-04-02T16:24:03.938Z"}
{"msg":"Are there keepalives on the peer to order coms as well ?","username":"rsherwood","ts":"2018-04-02T16:24:57.492Z"}
{"msg":"well ","username":"yacovm","ts":"2018-04-02T16:26:09.524Z"}
{"msg":"if you have 13 channels","username":"yacovm","ts":"2018-04-02T16:26:12.655Z"}
{"msg":"just increase the time of the state info message sending","username":"yacovm","ts":"2018-04-02T16:26:19.645Z"}
{"msg":"to like - once in 13 seconds","username":"yacovm","ts":"2018-04-02T16:26:26.287Z"}
{"msg":"but you need to do it globally across channel ideally","username":"yacovm","ts":"2018-04-02T16:26:39.778Z"}
{"msg":"to all peers in the channel","username":"yacovm","ts":"2018-04-02T16:26:46.497Z"}
{"msg":"so, between peers and orderers - there is a gRPC level keepalive","username":"yacovm","ts":"2018-04-02T16:27:00.315Z"}
{"msg":"so no ECDSA signing","username":"yacovm","ts":"2018-04-02T16:27:04.205Z"}
{"msg":"it's like a tcp level ping-pong","username":"yacovm","ts":"2018-04-02T16:27:13.216Z"}
{"msg":"and there is a connection for each channel between peer and orderer","username":"yacovm","ts":"2018-04-02T16:27:25.781Z"}
{"msg":"So we just get a single setup signed message per channel per peer between peer and orderer and after that messages (but encrypted at the TCP level).","username":"rsherwood","ts":"2018-04-02T16:29:37.496Z"}
{"msg":"yeah exactly!","username":"yacovm","ts":"2018-04-02T16:30:54.594Z"}
{"msg":"to be more specific:","username":"yacovm","ts":"2018-04-02T16:30:58.827Z"}
{"msg":"the peer sends to the orderer- \"hey, can you start giving me block for channel X starting from sequence N?\"","username":"yacovm","ts":"2018-04-02T16:31:15.697Z"}
{"msg":"the orderer checks the certificate","username":"yacovm","ts":"2018-04-02T16:31:20.800Z"}
{"msg":"either complies or rejects","username":"yacovm","ts":"2018-04-02T16:31:28.591Z"}
{"msg":"and starting from that point - the connection is encrypted via TLS","username":"yacovm","ts":"2018-04-02T16:31:40.855Z"}
{"msg":"*per channel*","username":"yacovm","ts":"2018-04-02T16:31:46.107Z"}
{"msg":"if you're concerned about HSM performance","username":"yacovm","ts":"2018-04-02T16:31:58.746Z"}
{"msg":"what you *really* need to be afraid of","username":"yacovm","ts":"2018-04-02T16:32:06.130Z"}
{"msg":"is the validation of transactions :(","username":"yacovm","ts":"2018-04-02T16:32:14.212Z"}
{"msg":"imagine a block that has 150 transactions","username":"yacovm","ts":"2018-04-02T16:32:19.090Z"}
{"msg":"the peer, validates them `n` at a time, when `n` is number of cores","username":"yacovm","ts":"2018-04-02T16:32:51.006Z"}
{"msg":"but, if you can only do `x` hsm operations in a second","username":"yacovm","ts":"2018-04-02T16:33:08.780Z"}
{"msg":"then.... you know","username":"yacovm","ts":"2018-04-02T16:33:17.092Z"}
{"msg":"depends on how big `x` is","username":"yacovm","ts":"2018-04-02T16:33:27.073Z"}
{"msg":"what is its estimated size btw?","username":"yacovm","ts":"2018-04-02T16:33:35.490Z"}
{"msg":"how many HSM signature verification can you do in a second?","username":"yacovm","ts":"2018-04-02T16:33:48.479Z"}
{"msg":" We have 4 gemalto HSMs  (for availability) . So we can do a lot. I forget the numbers.  When we calculated we allowed for a signature for the submitter & 3 endorsers per transactions and 3 orderers per block.  But did not know about the gossip signatures.  ","username":"rsherwood","ts":"2018-04-02T16:40:04.460Z"}
{"msg":"and i'm telling you that gossip signatures should be the least of your worries","username":"yacovm","ts":"2018-04-02T16:41:33.605Z"}
{"msg":"you should worry about validation of transactions","username":"yacovm","ts":"2018-04-02T16:41:45.825Z"}
{"msg":"that's where the big money is","username":"yacovm","ts":"2018-04-02T16:41:49.126Z"}
{"msg":"Given that we don't have anchor peers specified , and are on 1.0.6 and only have one peer per organisation , how do I   make sure that the peer does not attempt to sign gossip blocks unnecessarily ?","username":"rsherwood","ts":"2018-04-02T16:43:04.360Z"}
{"msg":"Do you know if there is a variable that gets checks to say \"don't bother with gossip\" ? ","username":"rsherwood","ts":"2018-04-02T16:43:48.233Z"}
{"msg":"if you don't have anchor peers and don't have bootstrap peers too","username":"yacovm","ts":"2018-04-02T16:44:02.301Z"}
{"msg":"then there is no gossip","username":"yacovm","ts":"2018-04-02T16:44:05.548Z"}
{"msg":"and peers don't sign blocks","username":"yacovm","ts":"2018-04-02T16:44:16.748Z"}
{"msg":"they sign messages","username":"yacovm","ts":"2018-04-02T16:44:19.928Z"}
{"msg":"Does the fabric work that out before signing  the height of its channel or only afterwards ?","username":"rsherwood","ts":"2018-04-02T16:46:44.331Z"}
{"msg":"Does the fabric work that out before signing  the height of its channel or only afterwards ?  We have had a problem with the HSMs and CPU and in the stack trace I did see calls relating to example and I was juts a bit worried we might still be signing.    gossip. goroutine 182 [select]:\ngithub.com/hyperledger/fabric/gossip/gossip/channel.(*gossipChannel).periodicalInvocation(0xc4216c70e0, 0xc42145f4d0, 0xc4202f0960)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:223 +0x12c\ncreated by github.com/hyperledger/fabric/gossip/gossip/channel.NewGossipChannel\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:204 +0x81e","username":"rsherwood","ts":"2018-04-02T16:46:44.331Z"}
{"msg":"hi, anyone here? seems i got a gossip tls issue","username":"grapebaba","ts":"2018-04-03T03:57:43.469Z"}
{"msg":"","username":"grapebaba","ts":"2018-04-03T03:58:11.296Z","attachments":[{"type":"file","title":"Clipboard - 2018431203","title_link":"/file-upload/dy42m8xBmLj3h4Yfn/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","image_url":"/file-upload/dy42m8xBmLj3h4Yfn/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","image_type":"image/png","image_size":1165256,"url":"/file-upload/dy42m8xBmLj3h4Yfn/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","remote":false,"fileId":"dy42m8xBmLj3h4Yfn","fileName":"Clipboard - 2018431203"}]}
{"msg":"","username":"grapebaba","ts":"2018-04-03T03:58:20.830Z","attachments":[{"type":"file","title":"Clipboard - 2018431203","title_link":"/file-upload/XZCsR9DTut5LqbYE5/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","image_url":"/file-upload/XZCsR9DTut5LqbYE5/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","image_type":"image/png","image_size":520891,"url":"/file-upload/XZCsR9DTut5LqbYE5/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","remote":false,"fileId":"XZCsR9DTut5LqbYE5","fileName":"Clipboard - 2018431203"}]}
{"msg":"","username":"grapebaba","ts":"2018-04-03T03:58:32.548Z","attachments":[{"type":"file","title":"Clipboard - 2018431203","title_link":"/file-upload/BfzjeWt3YLC5c5ZR8/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","image_url":"/file-upload/BfzjeWt3YLC5c5ZR8/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","image_type":"image/png","image_size":85281,"url":"/file-upload/BfzjeWt3YLC5c5ZR8/Clipboard%20-%202018%E5%B9%B44%E6%9C%883%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B903%E5%88%86","remote":false,"fileId":"BfzjeWt3YLC5c5ZR8","fileName":"Clipboard - 2018431203"}]}
{"msg":"Well that's a DNS SAN not an ip SAN","username":"yacovm","ts":"2018-04-03T07:15:57.661Z"}
{"msg":"@grapebaba ","username":"yacovm","ts":"2018-04-03T07:16:01.259Z"}
{"msg":"how to fix this issue?","username":"grapebaba","ts":"2018-04-03T07:17:41.150Z"}
{"msg":"is it a wrong configuration","username":"grapebaba","ts":"2018-04-03T07:17:58.060Z"}
{"msg":"hmmm, do your anchor peers have IP addresses?","username":"yacovm","ts":"2018-04-03T08:03:25.600Z"}
{"msg":"all use domain","username":"grapebaba","ts":"2018-04-03T11:06:54.974Z"}
{"msg":":( ","username":"yacovm","ts":"2018-04-03T11:07:03.445Z"}
{"msg":"Has joined the channel.","username":"Rumeel_Hussain","ts":"2018-04-03T15:04:09.317Z","type":"uj"}
{"msg":"@yacovm in my environment two org both have three peers, if i set CORE_PEER_GOSSIP_BOOTSTRAP=peer0 for all three peers each org, the error will raise ","username":"grapebaba","ts":"2018-04-04T07:36:43.211Z"}
{"msg":"if i remove CORE_PEER_GOSSIP_BOOTSTRAP=peer0 and have all peers set CORE_PEER_GOSSIP_EXTERNALENDPOINT, the error will disappear","username":"grapebaba","ts":"2018-04-04T07:37:44.429Z"}
{"msg":"but i only want to set CORE_PEER_GOSSIP_EXTERNALENDPOINT for anchor peer","username":"grapebaba","ts":"2018-04-04T07:38:05.031Z"}
{"msg":"you're setting `peer0` for both orgs?!! @grapebaba ","username":"yacovm","ts":"2018-04-04T08:33:37.936Z"}
{"msg":"no","username":"grapebaba","ts":"2018-04-04T08:33:45.947Z"}
{"msg":"each org have a peer0","username":"grapebaba","ts":"2018-04-04T08:34:12.592Z"}
{"msg":"oh ok","username":"yacovm","ts":"2018-04-04T08:35:01.390Z"}
{"msg":"but it needs to be `peer0.org2tac-com` etc.","username":"yacovm","ts":"2018-04-04T08:35:11.753Z"}
{"msg":"not just \"peer0\"","username":"yacovm","ts":"2018-04-04T08:35:14.233Z"}
{"msg":"yeah","username":"grapebaba","ts":"2018-04-04T08:35:20.521Z"}
{"msg":"exactly","username":"grapebaba","ts":"2018-04-04T08:35:37.282Z"}
{"msg":"do you have `peer.gossip.endpoint` configured?","username":"yacovm","ts":"2018-04-04T08:37:53.177Z"}
{"msg":"i am just doing BYFN, Create & \"Join Channel \" up to this step i have done, so when i shut down my system, from staring i need to do?? following this link http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#create-join-channel","username":"Ammu","ts":"2018-04-04T13:47:42.272Z"}
{"msg":"Has joined the channel.","username":"richzhao","ts":"2018-04-04T15:56:25.213Z","type":"uj"}
{"msg":"@yacovm no, what's that?","username":"grapebaba","ts":"2018-04-05T15:08:56.161Z"}
{"msg":"hmmm ","username":"yacovm","ts":"2018-04-05T15:09:22.001Z"}
{"msg":"there has to be some ip address configured instead of a host...","username":"yacovm","ts":"2018-04-05T15:09:32.742Z"}
{"msg":"somewhere","username":"yacovm","ts":"2018-04-05T15:09:37.482Z"}
{"msg":"Hi , I got a confusion on CORE_PEER_GOSSIP_BOOTSTRAP\nexample, The Org0 has 2 peer peer0 and peer1\nwhy starting peer0 have to bootstrap gossip peer1 and vice verse as below\npeer0.org1.example.com:\n\tenvironment:\n\t\t- CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org1.example.com:7051 \npeer1.org1.example.com:\n\tenvironment:\n\t\t- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051\nhttps://github.com/hyperledger/fabric-test/blob/master/feature/docker-compose/docker-compose-kafka.yml","username":"Ryan2","ts":"2018-04-08T07:15:43.694Z"}
{"msg":"Hi , I got a confusion on CORE_PEER_GOSSIP_BOOTSTRAP\nexample, The Org0 has 2 peer peer0 and peer1\nwhy starting peer0 have to bootstrap gossip peer1 and vice verse as below\n\"peer0.org1.example.com:\n\tenvironment:\n\t\t- CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org1.example.com:7051 \npeer1.org1.example.com:\n\tenvironment:\n\t\t- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051\"\n(source: https://github.com/hyperledger/fabric-test/blob/master/feature/docker-compose/docker-compose-kafka.yml)","username":"Ryan2","ts":"2018-04-08T07:15:43.694Z"}
{"msg":"Hi, I got a issue, when adding new Org into network, \nafter running join command, new peer (belong to newly added Org) got error \n\n`\u001b[31m2018-04-08 14:23:31.860 UTC [gossip/comm] authenticateRemotePeer -> ERRO 056\u001b[0m Failed verifying signature from 127.32.1.131:7051 : Failed to reach implicit threshold of 1 sub-policies, required 1 remaining`\n(127.32.1.131 is peer 0 on Org0)\nHow do fix the error?","username":"Ryan2","ts":"2018-04-08T14:44:21.448Z"}
{"msg":"Hi, I got an issue, when adding new Org into network, \nafter running join command, new peer (belong to newly added Org) got error \n\n`\u001b[31m2018-04-08 14:23:31.860 UTC [gossip/comm] authenticateRemotePeer -> ERRO 056\u001b[0m Failed verifying signature from 127.32.1.131:7051 : Failed to reach implicit threshold of 1 sub-policies, required 1 remaining`\n(127.32.1.131 is peer 0 on Org0)\nHow do fix the error?","username":"Ryan2","ts":"2018-04-08T14:44:21.448Z"}
{"msg":"Hi, I got an issue while adding new Org into network, \nafter running join command, new peer (belong to newly added Org) got error \n\n`\u001b[31m2018-04-08 14:23:31.860 UTC [gossip/comm] authenticateRemotePeer -> ERRO 056\u001b[0m Failed verifying signature from 127.32.1.131:7051 : Failed to reach implicit threshold of 1 sub-policies, required 1 remaining`\n(127.32.1.131 is peer 0 on Org0)\nHow do fix the error?","username":"Ryan2","ts":"2018-04-08T14:44:21.448Z"}
{"msg":"Hi, \nQ1: I got an issue while adding new Org into network, \nafter running join command, new peer (belong to newly added Org) got error \n\n`\u001b[31m2018-04-08 14:23:31.860 UTC [gossip/comm] authenticateRemotePeer -> ERRO 056\u001b[0m Failed verifying signature from 127.32.1.131:7051 : Failed to reach implicit threshold of 1 sub-policies, required 1 remaining`\n(127.32.1.131 is peer 0 on Org0)\nHow do fix the error?\n\nQ2: Hi, My Org0 have peer0 and peer1, peer0 start bootstrap peer1 and peer1 start bootstrap peer0, but I got error msg as below, Why this happens and how to fix?\n2018-04-09 04:54:29.447 UTC [gossip/comm] authenticateRemotePeer -> WARN 04b Identity store rejected 175.32.1.147:40470 : Peer Identity [0a 07 4f 72 67 31 4d 53 ... 50 12 c7 06 2d 2d 2d 2d ] cannot be validated. No MSP found able to do that.\n2018-04-09 04:54:29.447 UTC [gossip/comm] GossipStream -> ERRO 04c Authentication failed: Peer Identity [0a 07 4f 72 67 31 4d 53 50 12 ..4e 20 43 45 52 54 49 46  43 50 5] cannot be validated. No MSP found able to do that.\n\nhelp me out!","username":"Ryan2","ts":"2018-04-08T14:44:21.448Z"}
{"msg":"Hi, \nQ1: I got an issue while adding new Org into network, \nafter running join command, new peer (belong to newly added Org) got error \n\n`\u001b[31m2018-04-08 14:23:31.860 UTC [gossip/comm] authenticateRemotePeer -> ERRO 056\u001b[0m Failed verifying signature from 127.32.1.131:7051 : Failed to reach implicit threshold of 1 sub-policies, required 1 remaining`\n(127.32.1.131 is peer 0 on Org0)\nHow do fix the error?\n\nQ2: Hi, My Org0 have peer0 and peer1, peer0 start bootstrap peer1 and peer1 start bootstrap peer0, but I got error msg as below, Why this happens and how to fix?\n2018-04-09 04:54:29.447 UTC [gossip/comm] authenticateRemotePeer -> WARN 04b Identity store rejected 175.32.1.147:40470 : Peer Identity [0a 07 4f 72 67 31 4d 53 ... 50 12 c7 06 2d 2d 2d 2d ] cannot be validated. No MSP found able to do that.\n2018-04-09 04:54:29.447 UTC [gossip/comm] GossipStream -> ERRO 04c Authentication failed: Peer Identity [0a 07 4f 72 67 31 4d 53 50 12 ..4e 20 43 45 52 54 49 46  43 50 5] cannot be validated. No MSP found able to do that.\n\n","username":"Ryan2","ts":"2018-04-08T14:44:21.448Z"}
{"msg":"Hi, \nI got an issue while adding new Org into network, \nafter running join command, new peer (belong to newly added Org) got error \n\n`\u001b[31m2018-04-08 14:23:31.860 UTC [gossip/comm] authenticateRemotePeer -> ERRO 056\u001b[0m Failed verifying signature from 127.32.1.131:7051 : Failed to reach implicit threshold of 1 sub-policies, required 1 remaining`\n(127.32.1.131 is peer 0 on Org0)\nHow do fix the error?\n","username":"Ryan2","ts":"2018-04-08T14:44:21.448Z"}
{"msg":"Has joined the channel.","username":"davidgsmits","ts":"2018-04-12T13:49:11.707Z","type":"uj"}
{"msg":"Has joined the channel.","username":"neharprodduturi","ts":"2018-04-16T06:54:03.567Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AnilOner","ts":"2018-04-16T13:36:53.103Z","type":"uj"}
{"msg":"","username":"Ammu","ts":"2018-04-17T10:14:55.018Z","attachments":[{"type":"file","title":"Capture.PNG","title_link":"/file-upload/YQiR8ucT7KJKfRSeK/Capture.PNG","image_url":"/file-upload/YQiR8ucT7KJKfRSeK/Capture.PNG","image_type":"image/png","image_size":24270,"url":"/file-upload/YQiR8ucT7KJKfRSeK/Capture.PNG","remote":false,"fileId":"YQiR8ucT7KJKfRSeK","fileName":"Capture.PNG"}]}
{"msg":"Has joined the channel.","username":"tushad","ts":"2018-04-17T17:32:57.317Z","type":"uj"}
{"msg":"Has joined the channel.","username":"NoorFairoza","ts":"2018-04-17T18:08:25.718Z","type":"uj"}
{"msg":"it is assumed that they can decode the messages online without public keys.","username":"bh4rtp","ts":"2018-04-18T00:54:37.817Z"}
{"msg":"Has joined the channel.","username":"dsl","ts":"2018-04-19T04:24:54.343Z","type":"uj"}
{"msg":"Hi,\nI am relatively new to fabric. I have gone through the documentation and I am working with a few samples in hand. I am not able to find out a configuration file which is mentioning the gossip protocol for the network. \n1) Can anyone please guide me to find out where I can do the configuration? \n2) Also where can I find the list of peers in the organisation to whom the leader can communicate?","username":"dsl","ts":"2018-04-19T07:42:55.916Z"}
{"msg":"1) https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/core.yaml#L130","username":"yacovm","ts":"2018-04-19T08:13:47.432Z"}
{"msg":"2) peers in the org communicate with all peers in the same org","username":"yacovm","ts":"2018-04-19T08:14:09.478Z"}
{"msg":"@yacovm  Thanks. But none of the samples seems to have such a file in it.","username":"dsl","ts":"2018-04-19T12:00:20.347Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=s6hNGFgS5btF46LeW) @dsl answered to you in private. What file is this that you are looking for?","username":"joaquimpedrooliveira","ts":"2018-04-19T13:40:32.115Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=s6hNGFgS5btF46LeW","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=s6hNGFgS5btF46LeW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"asaningmaxchain123","ts":"2018-04-19T16:07:08.549Z","type":"uj"}
{"msg":"@yacovm the peer use the gossip to sync ledger data,the range is org-scoped or channel-scoped?","username":"asaningmaxchain123","ts":"2018-04-19T16:22:50.752Z"}
{"msg":"@asaningmaxchain123 channel","username":"yacovm","ts":"2018-04-19T16:58:42.751Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=eZvq9EQFiWtvb2LMX) @yacovm but here?","username":"asaningmaxchain123","ts":"2018-04-19T23:17:52.888Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eZvq9EQFiWtvb2LMX","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=eZvq9EQFiWtvb2LMX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"they communicate","username":"yacovm","ts":"2018-04-20T10:28:36.263Z"}
{"msg":"but that doesn't mean they send blocks","username":"yacovm","ts":"2018-04-20T10:28:46.092Z"}
{"msg":"what's the propose of the `peers in the org communicate with all peers in the same org`","username":"asaningmaxchain123","ts":"2018-04-22T04:57:28.715Z"}
{"msg":"Has joined the channel.","username":"hrt031293","ts":"2018-04-23T11:37:45.815Z","type":"uj"}
{"msg":"Hi, can you know how to avoid this\nhttps://chat.hyperledger.org/channel/fabric-orderer?msg=ZJwjPBQtZeRQExNdn","username":"Ryan2","ts":"2018-04-23T23:45:49.889Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-orderer?msg=ZJwjPBQtZeRQExNdn","url":"https://chat.hyperledger.org/channel/fabric-orderer?msg=ZJwjPBQtZeRQExNdn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi, do you know how to avoid this\nhttps://chat.hyperledger.org/channel/fabric-orderer?msg=ZJwjPBQtZeRQExNdn","username":"Ryan2","ts":"2018-04-23T23:45:49.889Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-orderer?msg=ZJwjPBQtZeRQExNdn","url":"https://chat.hyperledger.org/channel/fabric-orderer?msg=ZJwjPBQtZeRQExNdn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"answered you in #fabric-questions  @Ryan2 ","username":"yacovm","ts":"2018-04-24T00:05:16.651Z"}
{"msg":"thank you @yacovm ","username":"Ryan2","ts":"2018-04-24T00:05:44.146Z"}
{"msg":"Has joined the channel.","username":"hosemose","ts":"2018-04-24T04:59:05.981Z","type":"uj"}
{"msg":"hi..can we define multiple peers for bootstrap within the same organization against the `CORE_PEER_GOSSIP_BOOTSTRAP`. i.e., if there are n peers in an organization then for each peer mention n-1 other peers as bootstrap peers irrespective of which one is the anchor peer or the leader peer for the organization?","username":"MeenakshiSingh","ts":"2018-04-27T11:02:23.197Z"}
{"msg":"@MeenakshiSingh yeah - just separate them with spaces","username":"yacovm","ts":"2018-04-27T12:13:13.061Z"}
{"msg":"it should work","username":"yacovm","ts":"2018-04-27T12:13:15.666Z"}
{"msg":"this code actually treats this as an array and not as a single string","username":"yacovm","ts":"2018-04-27T12:13:37.103Z"}
{"msg":"ok.. Also, how does the gossip ensure byzantine failures as mentioned here: ```Gossip messaging is continuous, and\neach peer on a channel is constantly receiving current and consistent ledger data from multiple peers. Each gossiped\nmessage is signed, thereby allowing Byzantine participants sending faked messages to be easily identified and the\ndistribution of the message(s) to unwanted targets to be prevented. Peers affected by delays, network partitions, or\nother causes resulting in missed blocks will eventually be synced up to the current ledger state by contacting peers in\npossession of these missing blocks```","username":"MeenakshiSingh","ts":"2018-04-27T12:40:54.583Z"}
{"msg":"it is mentioned how ","username":"yacovm","ts":"2018-04-27T12:50:39.344Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=nWjCjQxLYdShDxGti) @yacovm Just separating with spaces isn't working. While sourcing CORE_PEER_GOSSIP_BOOTSTRAP=ip1:7051 ip2:7051 I am getting an error at ip2 sying invalid identifier.","username":"MeenakshiSingh","ts":"2018-04-27T13:11:42.790Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=nWjCjQxLYdShDxGti","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=nWjCjQxLYdShDxGti","remote":true,"fileId":null,"fileName":null}]}
{"msg":"it works for me....","username":"yacovm","ts":"2018-04-27T13:14:21.052Z"}
{"msg":"```\n2018-04-27 16:13:59.572 IDT [gossip/discovery] func1 -> WARN 022 Could not connect to {p2:7051 [] [] p2:7051 <nil> <nil>} : context deadline exceeded\n2018-04-27 16:13:59.573 IDT [gossip/discovery] func1 -> WARN 023 Could not connect to {p1:7051 [] [] p1:7051 <nil> <nil>} : context deadline exceeded\n```","username":"yacovm","ts":"2018-04-27T13:14:24.564Z"}
{"msg":"","username":"yacovm","ts":"2018-04-27T13:14:53.034Z","attachments":[{"type":"file","title":"Clipboard - April 27, 2018 4:14 PM","title_link":"/file-upload/wyGwaySkqBeti9wkh/Clipboard%20-%20April%2027,%202018%204:14%20PM","image_url":"/file-upload/wyGwaySkqBeti9wkh/Clipboard%20-%20April%2027,%202018%204:14%20PM","image_type":"image/png","image_size":28129,"url":"/file-upload/wyGwaySkqBeti9wkh/Clipboard%20-%20April%2027,%202018%204:14%20PM","remote":false,"fileId":"wyGwaySkqBeti9wkh","fileName":"Clipboard - April 27, 2018 4:14 PM"}]}
{"msg":"can we not do this in environment variables?","username":"MeenakshiSingh","ts":"2018-04-27T13:16:41.097Z"}
{"msg":"you need `\"`","username":"yacovm","ts":"2018-04-27T13:18:00.005Z"}
{"msg":"`\"p1 p2\"`","username":"yacovm","ts":"2018-04-27T13:18:15.299Z"}
{"msg":"thanks...that worked","username":"MeenakshiSingh","ts":"2018-04-27T13:20:17.595Z"}
{"msg":"Has joined the channel.","username":"chainsaw","ts":"2018-04-27T15:51:45.168Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=337NBH37ggAKk58hR) As for my earlier question, could you please elaborate on a few points:\n1. `each peer on a channel is constantly receiving current and consistent ledger data from multiple peers.` --> does the gossip message encapsulate all the data present in the ledger or only the world state..that is to say that gossip messages ensure ledger consistency/validation or transaction/worldstate validation? If its entire ledger then wouldn't gossip messages themselves become too heavy and add to latency? \n2. How does the Gossip messages ensure sync between the peers? Can two lagging peers who haapen to have same number of blocks, will be allowed to participate in endorsement?\n3. Now, since the gossip messages are signed, we can trust the handshake and hence any byzantine participants can be identified. However, how is the trust established as the peers do not possess certificates of other peers?\n4. If in a network of 4 nodes (2 peers per org), if certificate of two peers, one in each org is compromised and the EP is AND(Org1MSP.member, Org2MSP.member), would gossip be able to identify this?\n5. Is there a rule of thumb on how to securely define EPs based on the network?","username":"MeenakshiSingh","ts":"2018-04-27T17:51:33.416Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=337NBH37ggAKk58hR","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=337NBH37ggAKk58hR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@yacovm [ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=337NBH37ggAKk58hR) As for my earlier question, could you please elaborate on a few points:\n1. `each peer on a channel is constantly receiving current and consistent ledger data from multiple peers.` --> does the gossip message encapsulate all the data present in the ledger or only the world state..that is to say that gossip messages ensure ledger consistency/validation or transaction/worldstate validation? If its entire ledger then wouldn't gossip messages themselves become too heavy and add to latency? \n2. How does the Gossip messages ensure sync between the peers? Can two lagging peers who haapen to have same number of blocks, will be allowed to participate in endorsement?\n3. Now, since the gossip messages are signed, we can trust the handshake and hence any byzantine participants can be identified. However, how is the trust established as the peers do not possess certificates of other peers?\n4. If in a network of 4 nodes (2 peers per org), if certificate of two peers, one in each org is compromised and the EP is AND(Org1MSP.member, Org2MSP.member), would gossip be able to identify this?\n5. Is there a rule of thumb on how to securely define EPs based on the network?","username":"MeenakshiSingh","ts":"2018-04-27T17:51:33.416Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=337NBH37ggAKk58hR","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=337NBH37ggAKk58hR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"we replicate only ledger","username":"yacovm","ts":"2018-04-27T17:53:54.110Z"}
{"msg":">  If its entire ledger then wouldn't gossip messages themselves become too heavy and add to latency\nwell, no one said it's cheap. ","username":"yacovm","ts":"2018-04-27T17:54:29.013Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=RJn7mWkZ7rHv4wbxJ) @yacovm ok, so this is for the lagging peer to get the missing blocks. This is one aspect of gossip, I presume. How do they really ensure sync, does this also require bundling of the entire data? ","username":"MeenakshiSingh","ts":"2018-04-27T18:13:50.177Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=RJn7mWkZ7rHv4wbxJ","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=RJn7mWkZ7rHv4wbxJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"block by block","username":"yacovm","ts":"2018-04-27T18:14:39.939Z"}
{"msg":"in batches","username":"yacovm","ts":"2018-04-27T18:14:45.007Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=Dh87c4jiQnQfX5oEf) @yacovm ok.","username":"MeenakshiSingh","ts":"2018-04-27T18:16:39.208Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=Dh87c4jiQnQfX5oEf","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=Dh87c4jiQnQfX5oEf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Could you please explain these as well. I would really be helpful.","username":"MeenakshiSingh","ts":"2018-04-27T18:18:33.883Z"}
{"msg":"Could you please explain these as well. It would really be helpful.","username":"MeenakshiSingh","ts":"2018-04-27T18:18:33.883Z"}
{"msg":"*2*. Can two lagging peers who haapen to have same number of blocks, will be allowed to participate in endorsement?\n*3*. Now, since the gossip messages are signed, we can trust the handshake and hence any byzantine participants can be identified. However, how is the trust established as the peers do not possess certificates of other peers?\n*4*. If in a network of 4 nodes (2 peers per org), if certificate of two peers, one in each org is compromised and the EP is AND(Org1MSP.member, Org2MSP.member), would gossip be able to identify this?\n*5*. Is there a rule of thumb on how to securely define EPs based on the network?","username":"MeenakshiSingh","ts":"2018-04-27T18:19:21.246Z"}
{"msg":"3) the rule is simple... 2 peers can talk to each other, only if they are either in the same organization (have same root CA) or they are both in some same channel","username":"yacovm","ts":"2018-04-27T18:20:01.795Z"}
{"msg":"Hi...I wanted to test a couple of samples with side db feature. Can somebody point me to its documentation or a getting started guide.","username":"MeenakshiSingh","ts":"2018-04-30T09:12:24.206Z"}
{"msg":"@MeenakshiSingh please ask on #fabric-ledger channel","username":"C0rWin","ts":"2018-04-30T13:43:12.893Z"}
{"msg":"Has joined the channel.","username":"JackStrohm","ts":"2018-04-30T16:05:12.260Z","type":"uj"}
{"msg":"Ive got 3 peers but they are having trouble gossiping.  Can anyone help me?\n\npeer0 gives me this:\n\npeer0.org1.example.com    | 2018-04-30 16:47:26.794 UTC [gossip/service] func1 -> INFO 06c Initialize gossip with endpoint peer0.org1.example.com:7051 and bootstrap set [peer0.org1.example.com:7051]\npeer0.org1.example.com    | 2018-04-30 16:47:26.796 UTC [gossip/discovery] NewDiscoveryService -> INFO 076 Started { [] [115 248 30 86 68 248 12 185 3 149 23 119 90 20 155 83 143 82 117 213 199 184 228 141 219 75 110 189 246 183 219 86] peer0.org1.example.com:7051 <nil>} incTime is 1525106846796740300\npeer0.org1.example.com    | 2018-04-30 16:47:26.796 UTC [gossip/gossip] NewGossipService -> INFO 077 Creating gossip service with self membership of { [] [115 248 30 86 68 248 12 185 3 149 23 119 90 20 155 83 143 82 117 213 199 184 228 141 219 75 110 189 246 183 219 86] peer0.org1.example.com:7051 <nil>}\npeer0.org1.example.com    | 2018-04-30 16:47:26.798 UTC [gossip/gossip] NewGossipService -> WARN 082 External endpoint is empty, peer will not be accessible outside of its organization\npeer0.org1.example.com    | 2018-04-30 16:47:26.798 UTC [gossip/discovery] periodicalSendAlive -> DEBU 090 Sleeping 5s\npeer0.org1.example.com    | 2018-04-30 16:47:26.799 UTC [gossip/discovery] periodicalReconnectToDead -> DEBU 091 Sleeping 25s\npeer0.org1.example.com    | 2018-04-30 16:47:26.799 UTC [gossip/gossip] start -> INFO 092 Gossip instance peer0.org1.example.com:7051 started\npeer0.org1.example.com    | 2018-04-30 16:47:26.799 UTC [gossip/discovery] Connect -> DEBU 093 Skipping connecting to myself\npeer0.org1.example.com    | 2018-04-30 16:47:26.799 UTC [gossip/gossip] syncDiscovery -> DEBU 096 Entering discovery sync with interval 4s\npeer0.org1.example.com    | 2018-04-30 16:47:27.409 UTC [gossip/comm] authenticateRemotePeer -> ERRO 1e8 Failed verifying signature from 172.18.0.8:51212 : could not determine the validity of the signature: Failed verifing with opts [<nil>]: Failed unmashalling signature [failed unmashalling signature [asn1: structure error: tags don't match (16 vs {class:0 tag:24 length:1 isCompound:false}) {optional:false explicit:false application:false defaultValue:<nil> tag:<nil> stringType:0 timeType:0 set:false omitEmpty:false} ECDSASignature @2]]\n\npeer1 and peer2 look like this:\n\npeer1.org1.example.com    | 2018-04-30 16:47:27.428 UTC [gossip/service] func1 -> INFO 05b Initialize gossip with endpoint peer1.org1.example.com:7051 and bootstrap set [peer0.org1.example.com:7051]\npeer1.org1.example.com    | 2018-04-30 16:47:27.430 UTC [gossip/discovery] NewDiscoveryService -> INFO 064 Started { [] [1 191 177 145 12 122 164 90 201 44 59 167 15 254 87 133 54 197 175 116 134 70 112 235 70 250 159 11 41 232 214 233] peer1.org1.example.com:7051} incTime is 1525106847430366351\npeer1.org1.example.com    | 2018-04-30 16:47:27.430 UTC [gossip/gossip] NewGossipService -> INFO 065 Creating gossip service with self membership of { [] [1 191 177 145 12 122 164 90 201 44 59 167 15 254 87 133 54 197 175 116 134 70 112 235 70 250 159 11 41 232 214 233] peer1.org1.example.com:7051}\npeer1.org1.example.com    | 2018-04-30 16:47:27.431 UTC [gossip/gossip] NewGossipService -> WARN 06f External endpoint is empty, peer will not be accessible outside of its organization\npeer1.org1.example.com    | 2018-04-30 16:47:27.431 UTC [gossip/discovery] periodicalSendAlive -> DEBU 07c Sleeping 5s\npeer1.org1.example.com    | 2018-04-30 16:47:27.432 UTC [gossip/discovery] periodicalReconnectToDead -> DEBU 07d Sleeping 25s\npeer1.org1.example.com    | 2018-04-30 16:47:27.432 UTC [gossip/gossip] start -> INFO 07e Gossip instance peer1.org1.example.com:7051 started\npeer1.org1.example.com    | 2018-04-30 16:47:27.432 UTC [gossip/discovery] Connect -> DEBU 07f Entering {peer0.org1.example.com:7051 [] [] peer0.org1.example.com:7051}\npeer1.org1.example.com    | 2018-04-30 16:47:27.432 UTC [gossip/discovery] Connect -> DEBU 080 Exiting\npeer1.org1.example.com    | 2018-04-30 16:47:27.433 UTC [gossip/gossip] syncDiscovery -> DEBU 084 Entering discovery sync with interval 4s\npeer1.org1.example.com    | 2018-04-30 16:47:27.452 UTC [gossip/comm] func1 -> WARN 1d5 peer0.org1.example.com:7051, PKIid:[115 248 30 86 68 248 12 185 3 149 23 119 90 20 155 83 143 82 117 213 199 184 228 141 219 75 110 189 246 183 219 86] isn't responsive: EOF","username":"JackStrohm","ts":"2018-04-30T17:04:12.385Z"}
{"msg":"Has joined the channel.","username":"acbellini","ts":"2018-05-01T21:10:25.410Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kevin-s-wang","ts":"2018-05-03T02:38:10.448Z","type":"uj"}
{"msg":"Hello everyone,\nDid anyone present her, done the `Adding an Org to a Channel`??\nI m facing a problem...","username":"hrt031293","ts":"2018-05-07T11:38:07.153Z"}
{"msg":"Has joined the channel.","username":"lclclc","ts":"2018-05-08T12:52:44.085Z","type":"uj"}
{"msg":"Has joined the channel.","username":"migrenaa","ts":"2018-05-08T13:18:14.198Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gut","ts":"2018-05-08T14:43:25.345Z","type":"uj"}
{"msg":"@yacovm \"2 peers can talk to each other, only if they are either in the same organization (have same root CA)\"\nDoes it mean that if two orgs have the same rootCA (e.g. Let's Encrypt in a future) their peers will be supposed to be in the same org?","username":"gut","ts":"2018-05-08T14:48:43.761Z"}
{"msg":"same root CA... and as long as you don't have OUs","username":"yacovm","ts":"2018-05-08T14:58:40.720Z"}
{"msg":"Does the orderer keeps all history data in its ledger(I read some documents and found this module, haven't check in repo)? Can a leader peer pull all blocks only from orderer to catch up latest world state, or does it need to talk to other organizations' leader peer? Any sources or document would be helpful.","username":"lclclc","ts":"2018-05-09T02:36:25.629Z"}
{"msg":"[Actually, I have same root and each org has its own OU, but individuals are not configured yet :sweat_smile:](https://chat.hyperledger.org/channel/fabric-gossip?msg=pAeD8o79sHKX2ZuH7) @yacovm ","username":"gut","ts":"2018-05-09T11:40:30.679Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pAeD8o79sHKX2ZuH7","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=pAeD8o79sHKX2ZuH7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hello everyone,\nI want to know that, if I want to create a project in fabric, then what should be the basic architecture?\nThanks for the help","username":"hrt031293","ts":"2018-05-09T11:57:33.391Z"}
{"msg":"Has joined the channel.","username":"akshaylawange001","ts":"2018-05-09T19:38:03.474Z","type":"uj"}
{"msg":"@hrt031293 If you mean a very basic one to start, you can check \"byfn\" configuration. Nevertheless, maybe #fabric-questions is the channel where they can help you better.","username":"gut","ts":"2018-05-10T08:41:29.177Z"}
{"msg":"@gut OK,thanks","username":"hrt031293","ts":"2018-05-10T10:39:58.043Z"}
{"msg":"Is there anyone, who can explain me that what's going on, in this topic\n`http://hyperledger-fabric.readthedocs.io/en/latest/channel_update_tutorial.html#add-the-org3-crypto-material`??","username":"hrt031293","ts":"2018-05-10T10:40:47.461Z"}
{"msg":"","username":"hrt031293","ts":"2018-05-10T13:12:42.674Z","attachments":[{"type":"file","title":"Screenshot from 2018-05-10 18-03-05.png","title_link":"/file-upload/fdJCa6pQRGp8BCDGp/Screenshot%20from%202018-05-10%2018-03-05.png","image_url":"/file-upload/fdJCa6pQRGp8BCDGp/Screenshot%20from%202018-05-10%2018-03-05.png","image_type":"image/png","image_size":236265,"url":"/file-upload/fdJCa6pQRGp8BCDGp/Screenshot%20from%202018-05-10%2018-03-05.png","remote":false,"fileId":"fdJCa6pQRGp8BCDGp","fileName":"Screenshot from 2018-05-10 18-03-05.png"}]}
{"msg":"","username":"hrt031293","ts":"2018-05-10T13:12:42.674Z","attachments":[{"type":"file","title":"Screenshot from 2018-05-10 18-03-05.png","title_link":"/file-upload/fdJCa6pQRGp8BCDGp/Screenshot%20from%202018-05-10%2018-03-05.png","image_url":"/file-upload/fdJCa6pQRGp8BCDGp/Screenshot%20from%202018-05-10%2018-03-05.png","image_type":"image/png","image_size":236265,"url":"/file-upload/fdJCa6pQRGp8BCDGp/Screenshot%20from%202018-05-10%2018-03-05.png","remote":false,"fileId":"fdJCa6pQRGp8BCDGp","fileName":"Screenshot from 2018-05-10 18-03-05.png"}]}
{"msg":"Was wondering if anyone here can help with https://jira.hyperledger.org/browse/FAB-10000","username":"divyank","ts":"2018-05-10T15:26:26.653Z"}
{"msg":"Was wondering if anyone here can help with FAB-10000","username":"divyank","ts":"2018-05-10T15:26:26.653Z"}
{"msg":"@divyank  -  I can't figure out the environment from the text in `Environment`","username":"yacovm","ts":"2018-05-10T15:28:29.906Z"}
{"msg":"can you just pour everything into the JIRA description?","username":"yacovm","ts":"2018-05-10T15:28:39.412Z"}
{"msg":"Sure","username":"divyank","ts":"2018-05-10T15:29:26.826Z"}
{"msg":"way to hit issue # 10,000 :)","username":"troyronda","ts":"2018-05-10T15:43:20.676Z"}
{"msg":"way to hit jira # 10,000 :)","username":"troyronda","ts":"2018-05-10T15:43:20.676Z"}
{"msg":"@troyronda yeah... I'm honored that JIRA 10,000 is gossip ;) ","username":"yacovm","ts":"2018-05-10T15:48:05.193Z"}
{"msg":"lol","username":"troyronda","ts":"2018-05-10T15:48:17.329Z"}
{"msg":"BTW - I had a chat with @divyank  - once he posts the docker-compose he's using to reproduce to JIRA i'll immediately take a look (and solve it)","username":"yacovm","ts":"2018-05-10T15:48:51.179Z"}
{"msg":"also i implemented collection support for service discovery https://gerrit.hyperledger.org/r/#/c/21645/","username":"yacovm","ts":"2018-05-10T15:49:05.674Z"}
{"msg":"cool, thanks","username":"troyronda","ts":"2018-05-10T15:49:05.707Z"}
{"msg":"all left now is cc2cc support :) ","username":"yacovm","ts":"2018-05-10T15:49:12.154Z"}
{"msg":"but i still need to update the client implementation in go","username":"yacovm","ts":"2018-05-10T15:49:27.720Z"}
{"msg":"to expose an API for that...","username":"yacovm","ts":"2018-05-10T15:49:37.734Z"}
{"msg":"sure, looking forward to full support in the Go SDK.","username":"troyronda","ts":"2018-05-10T15:50:42.232Z"}
{"msg":"yup, looking forward to full support in the Go SDK.","username":"troyronda","ts":"2018-05-10T15:50:42.232Z"}
{"msg":"Hi, I am getting error when peers try to get in sync after starting the network. The network starts perfectly, but when we look at one of the org log we got this :","username":"akshaylawange001","ts":"2018-05-10T18:04:50.370Z"}
{"msg":"`2018-05-10 17:41:47.714 UTC [gossip/comm] func1 -> WARN 2398 peer1.org1.example.com:7051, PKIid:[78 228 20 118 241 29 246 96 60 245 91 194 173 188 52 134 131 124 240 240 36 224 151 8 63 73 242 97 100 239 233 188] isn't responsive: EOF\n2018-05-10 17:41:47.715 UTC [gossip/discovery] expireDeadMembers -> WARN 2399 Entering [[78 228 20 118 241 29 246 96 60 245 91 194 173 188 52 134 131 124 240 240 36 224 151 8 63 73 242 97 100 239 233 188]]\n2018-05-10 17:41:47.715 UTC [gossip/discovery] expireDeadMembers -> WARN 239a Closing connection to Endpoint: peer1.org1.example.com:7051, InternalEndpoint: , PKI-ID: [78 228 20 118 241 29 246 96 60 245 91 194 173 188 52 134 131 124 240 240 36 224 151 8 63 73 242 97 100 239 233 188], Metadata: []\n2018-05-10 17:41:47.715 UTC [gossip/discovery] expireDeadMembers -> WARN 239b Exiting\n2018-05-10 17:41:49.205 UTC [gossip/gossip] Gossip -> WARN 239c Failed obtaining gossipChannel of [114 101 112 111 51 99 104 97 110 110 101 108] aborting\n`","username":"akshaylawange001","ts":"2018-05-10T18:04:53.770Z"}
{"msg":"can anyone explain?","username":"akshaylawange001","ts":"2018-05-10T18:05:51.883Z"}
{"msg":"Hi everyone,\nAnyone please tell me, that is it necessary to convert the json files into protobuf (.pb) files, in the \"Adding an Org to a Channel\" tutorial??","username":"hrt031293","ts":"2018-05-14T06:34:49.454Z"}
{"msg":"Hi everyone,\nAnyone please tell me, that is it necessary to convert the json files into protobuf (.pb) files, in the \"Adding an Org to a Channel\" tutorial??","username":"hrt031293","ts":"2018-05-14T08:06:40.401Z"}
{"msg":"Has joined the channel.","username":"versus","ts":"2018-05-14T09:05:48.917Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IgorSim","ts":"2018-05-14T09:05:53.405Z","type":"uj"}
{"msg":"Has joined the channel.","username":"buridiaditya","ts":"2018-05-15T08:21:25.529Z","type":"uj"}
{"msg":" Hi. I've got a theoretical error. Is not directly related to the gossip service, but with race conditions on endorsement. Let's say...\nIf there are two endorsers belonging to different orgs that are acting over the same variable, that variable is modified over the same state. I think, one of them is going to have an error on commitment and the winner will successfully modify the variable state. But: \n1. Which error is going to have the first client?\n2. From who?\n3. Is there any standardized mechanism to assure the order of commitment?","username":"gut","ts":"2018-05-15T08:27:41.635Z"}
{"msg":"Has joined the channel.","username":"sauravverma","ts":"2018-05-15T10:30:08.878Z","type":"uj"}
{"msg":"@yacovm @C0rWin if the `externalEndpoint` doesn't set,it doesn't use gossip to spread msg cross the orgs?","username":"asaningmaxchain123","ts":"2018-05-15T16:10:25.186Z"}
{"msg":"if you don't set an external endpoint to a peer then it is only visible to its own organization","username":"yacovm","ts":"2018-05-15T16:12:57.802Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-05-15T16:22:55.910Z","attachments":[{"type":"file","title":"Clipboard - May 16, 2018 12:22 AM","title_link":"/file-upload/mJAiceWGXmnMjenRo/Clipboard%20-%20May%2016,%202018%2012:22%20AM","image_url":"/file-upload/mJAiceWGXmnMjenRo/Clipboard%20-%20May%2016,%202018%2012:22%20AM","image_type":"image/png","image_size":28016,"url":"/file-upload/mJAiceWGXmnMjenRo/Clipboard%20-%20May%2016,%202018%2012:22%20AM","remote":false,"fileId":"mJAiceWGXmnMjenRo","fileName":"Clipboard - May 16, 2018 12:22 AM"}]}
{"msg":"in the e2e_cli example , it use the the *anchors.tx to set the `externalEndpointe`","username":"asaningmaxchain123","ts":"2018-05-15T16:24:22.830Z"}
{"msg":"?","username":"asaningmaxchain123","ts":"2018-05-15T16:24:32.825Z"}
{"msg":"the peer will use the *anchor.tx to update the `AnchorPeer`","username":"asaningmaxchain123","ts":"2018-05-15T16:32:13.648Z"}
{"msg":"from source code,the peer will use the *anchor.tx to update the `AnchorPeer`","username":"asaningmaxchain123","ts":"2018-05-15T16:32:13.648Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-05-15T16:32:27.182Z","attachments":[{"type":"file","title":"Clipboard - May 16, 2018 12:32 AM","title_link":"/file-upload/pxDNS5AuoKimw8XbZ/Clipboard%20-%20May%2016,%202018%2012:32%20AM","image_url":"/file-upload/pxDNS5AuoKimw8XbZ/Clipboard%20-%20May%2016,%202018%2012:32%20AM","image_type":"image/png","image_size":103075,"url":"/file-upload/pxDNS5AuoKimw8XbZ/Clipboard%20-%20May%2016,%202018%2012:32%20AM","remote":false,"fileId":"pxDNS5AuoKimw8XbZ","fileName":"Clipboard - May 16, 2018 12:32 AM"}]}
{"msg":"if one channel create by two org,the orgs can't communicate with each other?","username":"asaningmaxchain123","ts":"2018-05-16T00:16:11.173Z"}
{"msg":"@yacovm @C0rWin i want to know the fabric how to use the gossip? so i have some question, 1) how to know each other,2)how to got the block from other peer","username":"asaningmaxchain123","ts":"2018-05-16T14:45:18.201Z"}
{"msg":"@asaningmaxchain123 have you seen this one? http://hyperledger-fabric.readthedocs.io/en/release-1.1/gossip.html","username":"C0rWin","ts":"2018-05-16T23:51:32.673Z"}
{"msg":"yes","username":"asaningmaxchain123","ts":"2018-05-16T23:51:52.976Z"}
{"msg":"Has left the channel.","username":"gut","ts":"2018-05-18T10:38:34.886Z","type":"ul"}
{"msg":"Has joined the channel.","username":"JulesMiller","ts":"2018-05-21T01:42:17.702Z","type":"uj"}
{"msg":"Do anchor peers have to know and communicate with each other directly? I have a consortium network distributed in 2 machines. Machine 1 has the kafka orderers and org1 peers, machine2 has org2 peers. Both machine has different docker-compose bootstrapped networks and they don't use Swarm or something to communicate with other. Machine2's docker-compose file has `extra-hosts` to let org2 cli understand the public address of orderer containers, but I don't list public address of peer containers of org1. Then network is working fine, when I invoke chaincode in org1 cli, I can see the ledger is updated in org2. But the org2 peer's log has a lot of warning: \n```\n2018-05-21 11:48:56.328 UTC [gossip/discovery] func1 -> WARN 13d Could not connect to {peer0.didi.com:7051 [] [] peer0.didi.com:7051 <nil>} : context deadline exceeded\n2018-05-21 11:49:24.330 UTC [gossip/gossip] func1 -> WARN 13e Deep probe of peer0.didi.com:7051 failed: context deadline exceeded\ngithub.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).learnAnchorPeers.func1\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:249\ngithub.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:152\nruntime.goexit\n\t/opt/go/src/runtime/asm_amd64.s:2337\n```\n\nLooks like the anchor peer of org2 want to gossip with anchor peer of org1? Does the gossip protocol work really like this, not through orderers->leading peers -> normal peers, but also has anchor peers involved?","username":"lclclc","ts":"2018-05-21T12:30:11.031Z"}
{"msg":"If my guess is correct, when the consortium is large(take, for examle, 10 orgs), I have to pointed out every org's anchor peer in every machine's docker-compose file?","username":"lclclc","ts":"2018-05-21T12:31:11.628Z"}
{"msg":"I went through the code and found that the `InitGossipService` in gossip_service.go does not send request to pull missing blocks rather it accepts any incoming gossip messages and sends membership request. Can anybody tell me where to look at and what initiates the thread to send a request message to pull missing blocks from broadcast peers?","username":"buridiaditya","ts":"2018-05-21T13:01:11.797Z"}
{"msg":"I went through the code and found that the `InitGossipService` in gossip_service.go does not send request to pull missing blocks rather it accepts any incoming gossip messages and sends membership request. Can anybody tell me where to look at and what initiates the thread to send a request message to pull missing blocks from leader/orderer/peer of same organisation?","username":"buridiaditya","ts":"2018-05-21T13:01:11.797Z"}
{"msg":"Hey can anyone help me with this. I cannot figure out how the process of sharing missing blocks starts.\n1. From Pull request - Cannot locate the code where such a request is created and sent.\n2. Random Push of message blocks - Cannot locate this either. \nWhen a peer starts it just sends the membership request and connects to bootstrap peers a thread for accepting blocks starts. Where is the code for checking if its ledger is lacking behind and sending a pull message requesting missing blocks ?? Please help.","username":"buridiaditya","ts":"2018-05-22T06:24:01.539Z"}
{"msg":"Has joined the channel.","username":"asp 25","ts":"2018-05-22T19:29:25.531Z","type":"uj"}
{"msg":"","username":"Ammu","ts":"2018-05-23T11:06:29.377Z","attachments":[{"type":"file","title":"medium.png","title_link":"/file-upload/9ng5T5ygnkHPJZHdr/medium.png","image_url":"/file-upload/9ng5T5ygnkHPJZHdr/medium.png","image_type":"image/png","image_size":80638,"url":"/file-upload/9ng5T5ygnkHPJZHdr/medium.png","remote":false,"fileId":"9ng5T5ygnkHPJZHdr","fileName":"medium.png"}]}
{"msg":"Can anyone tell me, that how can I use my local storage file as a chaincode, for the installation of the chaincode?","username":"hrt031293","ts":"2018-05-25T11:39:35.452Z"}
{"msg":"Hello,\nWhat should be the value of the `-p` in the  command, for installing the chaincode?\nThe command is \"peer chaincode install\".\n","username":"hrt031293","ts":"2018-05-28T09:28:52.769Z"}
{"msg":"Has joined the channel.","username":"sourishkrout","ts":"2018-05-29T20:48:42.696Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AlexanderZhovnuvaty","ts":"2018-05-30T11:37:17.679Z","type":"uj"}
{"msg":"How is the state request gossip i.e by calling `RequestBlocksInRange` different from the pull-based gossip which uses pull engine","username":"buridiaditya","ts":"2018-05-30T12:39:08.762Z"}
{"msg":"Has joined the channel.","username":"rogerwilcos","ts":"2018-05-30T23:15:18.178Z","type":"uj"}
{"msg":"","username":"hrt031293","ts":"2018-05-31T12:12:09.891Z","attachments":[{"type":"file","title":"Screenshot from 2018-05-31 15-44-28.png","title_link":"/file-upload/6tKaMq36We2igE7Nr/Screenshot%20from%202018-05-31%2015-44-28.png","image_url":"/file-upload/6tKaMq36We2igE7Nr/Screenshot%20from%202018-05-31%2015-44-28.png","image_type":"image/png","image_size":255425,"url":"/file-upload/6tKaMq36We2igE7Nr/Screenshot%20from%202018-05-31%2015-44-28.png","remote":false,"fileId":"6tKaMq36We2igE7Nr","fileName":"Screenshot from 2018-05-31 15-44-28.png"}]}
{"msg":"Has joined the channel.","username":"nagap","ts":"2018-05-31T19:32:44.452Z","type":"uj"}
{"msg":"Has joined the channel.","username":"VinayChaudharyOfficial","ts":"2018-06-01T04:55:23.973Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Aswath8687","ts":"2018-06-01T20:09:24.186Z","type":"uj"}
{"msg":"Has joined the channel.","username":"demonkm","ts":"2018-06-03T02:26:57.777Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sambhavdutt","ts":"2018-06-05T15:38:38.644Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vish146","ts":"2018-06-06T18:16:53.378Z","type":"uj"}
{"msg":"Has joined the channel.","username":"abraham","ts":"2018-06-08T05:43:29.954Z","type":"uj"}
{"msg":"Has joined the channel.","username":"paulananth","ts":"2018-06-15T12:18:40.416Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nvxtien","ts":"2018-06-22T11:27:01.698Z","type":"uj"}
{"msg":"i am reviewing the peer log. there are numerous gossip messages. but from peer0.org1.example.com, i cannot find any gossip message from org2.example.com. how to explain it?","username":"bh4rtp","ts":"2018-06-22T12:34:54.472Z"}
{"msg":"@yacovm I am running a blockchain network which includes 2 orgs with 3 peers for each org in multihost environment. I am using fabric-ca to generate peers and orderer certificates. some days back all of the services got stopped suddenly. I restarted all of the services but unfortunately by mistake, i recreated the peer1-org1 instead of just restart it. So i fetch the 0 block first from peer1-org1 and then make the peer1-org1 to rejoin the existing channel, I installed the chaincode and upgraded the chaincode. Now I am getting the below warning messages in all of the peer logs\n[gossip/comm] sendToEndpoint -> WARN 4892 Failed obtaining connection for peer1-org1:7051, PKIid:[130 169 200 147 151 98 112 245 155 234 176 88 178 195 88 136 118 154 94 91 90 37 108 90 11 182 83 100 124 97 165 32] reason: Authentication failure\n2018-06-22 11:53:38.850 UTC [gossip/comm] createConnection -> WARN 4893 Remote endpoint claims to be a different peer, expected [130 169 200 147 151 98 112 245 155 234 176 88 178 195 88 136 118 154 94 91 90 37 108 90 11 182 83 100 124 97 165 32] but got [145 36 196 71 163 229 254 88 77 111 22 190 1 82 18 34 22 29 131 206 156 183 56 117 145 1 57 57 153 74 85 108]\n\n\n\n\n\n","username":"javrevasandeep","ts":"2018-06-25T17:47:10.369Z"}
{"msg":"Do i need to update the anchor peers again since peer1-org1 rejoined the channel. And when i am updating the anchor peers, I am getting the below error message\nError: got unexpected status: BAD_REQUEST -- error authorizing update: error validating ReadSet: readset expected key [Group]  /Channel/Application/org1 at version 0, but got version 1\n","username":"javrevasandeep","ts":"2018-06-25T17:50:06.105Z"}
{"msg":"Below given is the channel config_block.json which i got with \"peer channel fetch config $CONFIG_BLOCK_FILE -c $CHANNEL_NAME $ordererArgs\"\nhttps://hastebin.com/ruketageno.json ","username":"javrevasandeep","ts":"2018-06-25T17:53:34.224Z"}
{"msg":"could you please verify this channel config file and let me know whether you find any issue with this config file","username":"javrevasandeep","ts":"2018-06-25T17:54:42.749Z"}
{"msg":"Give the peers half an hour to adjust","username":"yacovm","ts":"2018-06-25T18:06:02.243Z"}
{"msg":"@javrevasandeep ","username":"yacovm","ts":"2018-06-25T18:06:12.213Z"}
{"msg":"They need time to forget the old mapping","username":"yacovm","ts":"2018-06-25T18:06:33.153Z"}
{"msg":"yesterday i did the same. I waited for exactly half an hour and then restarted peer1-org1 but still could able to see these messages popping up again in each peer logs","username":"javrevasandeep","ts":"2018-06-25T18:07:21.840Z"}
{"msg":"@yacovm yesterday i did the same. I waited for exactly half an hour and then restarted peer1-org1 but still could able to see these messages popping up again in each peer logs","username":"javrevasandeep","ts":"2018-06-25T18:07:21.840Z"}
{"msg":"should i wait for more than half an hour?","username":"javrevasandeep","ts":"2018-06-25T18:07:40.168Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=aqFXM4Nd7Gaet64ur) @yacovm yesterday i did the same. I waited for exactly half an hour and then restarted peer1-org1 but still could able to see these messages popping up again in each peer logs\nshould i wait for more than half an hour?","username":"javrevasandeep","ts":"2018-06-25T18:14:24.288Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=aqFXM4Nd7Gaet64ur","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=aqFXM4Nd7Gaet64ur","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=GNH5GnZN7pX5Y36ki) Just now i recheck the logs and found something more in the peer1-org1 logs. \nhttps://hastebin.com/dexarihego.hs","username":"javrevasandeep","ts":"2018-06-25T18:23:18.344Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=GNH5GnZN7pX5Y36ki","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=GNH5GnZN7pX5Y36ki","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"mark.zhang","ts":"2018-06-30T02:46:44.016Z","type":"uj"}
{"msg":"Has joined the channel.","username":"suchith.arodi","ts":"2018-07-03T18:23:28.691Z","type":"uj"}
{"msg":"Has joined the channel.","username":"BabuPallam","ts":"2018-07-04T22:20:53.023Z","type":"uj"}
{"msg":"Has joined the channel.","username":"NoLimitHoldem","ts":"2018-07-11T06:17:44.040Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jayeshjawale95","ts":"2018-07-11T07:30:32.803Z","type":"uj"}
{"msg":"hi, one question about service discovery, i checked it (using CLI discover) and it works fine.  What i don't understand is the following: fabric client SDK need to have access to TLS certificate of the peer(s) in order to be able to send endorsment proposal to that peer(s).  But, i can't seem to find TLS of the peer in any of the query responses that i executed (peer membership, configuration, endorsers). Am i missing something?","username":"IgorSim","ts":"2018-07-12T10:59:12.144Z"}
{"msg":">  fabric client SDK need to have access to TLS certificate of the peer(s) in order to be able to send endorsment proposal to that peer(s)\nof course that's not true.... where did you get that from? @IgorSim ","username":"yacovm","ts":"2018-07-12T11:05:16.313Z"}
{"msg":"hm, then what client need in case TLS is enabled on peer ? I though client need CORE_PEER_TLS_CERT_FILE ","username":"IgorSim","ts":"2018-07-12T11:08:01.566Z"}
{"msg":"the client needs its *OWN* TLS certificate","username":"yacovm","ts":"2018-07-12T11:10:23.355Z"}
{"msg":"notice that when you use the `discover` command you can mention your TLS certificate, right?","username":"yacovm","ts":"2018-07-12T11:10:48.149Z"}
{"msg":"that's right","username":"IgorSim","ts":"2018-07-12T11:11:25.559Z"}
{"msg":"``--tlsKey=`","username":"yacovm","ts":"2018-07-12T11:11:31.479Z"}
{"msg":"`--tlsKey=`","username":"yacovm","ts":"2018-07-12T11:11:31.479Z"}
{"msg":"and `--tlsCert`","username":"yacovm","ts":"2018-07-12T11:11:41.554Z"}
{"msg":"but you don't have to... right? ","username":"yacovm","ts":"2018-07-12T11:11:48.992Z"}
{"msg":"that's because if you don't put - the `discover` command in the background generates one for you","username":"yacovm","ts":"2018-07-12T11:12:04.643Z"}
{"msg":"and uses that","username":"yacovm","ts":"2018-07-12T11:12:08.525Z"}
{"msg":"but you don't need the TLS of the peer, obviously","username":"yacovm","ts":"2018-07-12T11:12:22.602Z"}
{"msg":"if i understand right, tlsKey and tlsCert are used only if TLS client authentication is turned ON at peer side, is that corect?","username":"IgorSim","ts":"2018-07-12T11:15:10.773Z"}
{"msg":"if i understand right, tlsKey and tlsCert should be used only if TLS client authentication is turned ON at peer side, is that corect?","username":"IgorSim","ts":"2018-07-12T11:15:10.773Z"}
{"msg":"yep @IgorSim ","username":"yacovm","ts":"2018-07-12T11:26:58.135Z"}
{"msg":"but... service discovery enforces client TLS authentication at the application level","username":"yacovm","ts":"2018-07-12T11:27:22.079Z"}
{"msg":"but the `discover` CLI - creates a TLS certificate for you, if you don't specify one in the config","username":"yacovm","ts":"2018-07-12T11:27:45.018Z"}
{"msg":"yes, tnx, i see what you just explained in the documentation, that is clear","username":"IgorSim","ts":"2018-07-12T11:40:02.390Z"}
{"msg":"going back to my question, i will try to explain it better.  Maybe i should ask in sdk-java channel, but anyway here it is: When channel is initialized and peer is added to channel you can specify few peer properties . \nOne of them is called:  'pemFile' - File location for x509 pem certificate for SSL\nI thought this property basically represents CORE_PEER_TLS_CERT_FILE, if not then what is it?","username":"IgorSim","ts":"2018-07-12T13:37:06.460Z"}
{"msg":"@IgorSim that is a *peer* configuration","username":"yacovm","ts":"2018-07-12T13:37:58.663Z"}
{"msg":"not a *client* config ;) ","username":"yacovm","ts":"2018-07-12T13:38:02.600Z"}
{"msg":"that's right, CORE_PEER_TLS_CERT_FILE is indeed peer configuration but does client, i guess client==SDK, right :) , need that certificate during channel initialization, i.e. when adding a peer ?  ","username":"IgorSim","ts":"2018-07-12T13:49:03.529Z"}
{"msg":"I don't understand what you're asking","username":"yacovm","ts":"2018-07-12T13:55:17.466Z"}
{"msg":"Let's say i'm using Fabric Java SDK, that means in order to be able to transact with HLF from Java SDK i need to initialize channel and add endorsing peer(s) and orderer to the channel.\nAPI looks like this, for example:\nChannel channel = client.newChannel(<channel_name>);\nchannel.addPeer(client.newPeer(<peer name>, <peer location>, *<peer properties>*)\nI'm asking about <peer properties>, one of supported properties is called 'pemFile' , i'm asking what does it represents.\nI hope its clearer now\n","username":"IgorSim","ts":"2018-07-12T14:10:04.368Z"}
{"msg":"Let's say i'm using Fabric Java SDK, that means in order to be able to transact with HLF from Java SDK i need to initialize channel and add endorsing peer(s) and orderer to the channel.\nAPI looks like this, for example:\nChannel channel = client.newChannel(<channel_name>);\nchannel.addPeer(client.newPeer(<peer name>, <peer location>, *<peer properties>*)\nI'm asking about <peer properties>, one of supported properties is called 'pemFile' , i'm asking what does it represents.\nI hope its clear now\n","username":"IgorSim","ts":"2018-07-12T14:10:04.368Z"}
{"msg":"oh","username":"yacovm","ts":"2018-07-12T14:12:35.789Z"}
{"msg":"so I think it's the *CA certificate* of the peer ;) ","username":"yacovm","ts":"2018-07-12T14:12:44.958Z"}
{"msg":"so I think it's the *TLS CA certificate* of the peer ;) ","username":"yacovm","ts":"2018-07-12T14:12:44.958Z"}
{"msg":"but let's ask @rickr  ... he would know for sure","username":"yacovm","ts":"2018-07-12T14:13:15.106Z"}
{"msg":"https://github.com/hyperledger/fabric-sdk-java/blob/c5c31b8100f62a146220cffb6d304921dfce5829/src/main/java/org/hyperledger/fabric/sdk/HFClient.java#L286-L297\ntrust certificates ","username":"rickr","ts":"2018-07-12T14:24:10.073Z"}
{"msg":"@rickr  yeah, i see, thanks, let's say peer doesn't have mutual TLS enabled, that means 'clientKeyFile' and 'clientCertFile' can be skipped. I'm not clear about 'pemFile' and unfortunately java doc doesn't help me as well. If for example i set 'pemFile' to  CORE_PEER_TLS_CERT_FILE then SDK works fine.\nBut, is that right setting, that is what i'm trying to understand...... I guess not because as far i understood discovery service doesn't return that value hence i can't 'dynamically' add and configure all peers in the channel ","username":"IgorSim","ts":"2018-07-12T14:31:52.095Z"}
{"msg":"how do you know that discovery doesn't return that value @IgorSim  ? ","username":"yacovm","ts":"2018-07-12T14:36:16.989Z"}
{"msg":"well, i executed supported server-side queries but i don't see it in the response, maybe i'm missing something...that lead me to ask myself question, what is pemFile, what does it represents","username":"IgorSim","ts":"2018-07-12T14:38:28.274Z"}
{"msg":"so far, when i used SDK, i set pemFile=CORE_PEER_TLS_CERT_FILE","username":"IgorSim","ts":"2018-07-12T14:39:15.545Z"}
{"msg":"does that make sense? :)","username":"IgorSim","ts":"2018-07-12T14:39:25.630Z"}
{"msg":"If the peer your doing discovery on is TLS enabled you're going to have provide a trust chain for that server certificate (the peer)   that's what the pemBytes and pemFile are for. You'll also need the client* if the server (peer) is enforcing mutual TLS","username":"rickr","ts":"2018-07-12T14:42:25.000Z"}
{"msg":"so basically, executing discovery configuration query will return the trust chain under: msps/<organization_MSP>/tls_root_certs , is that correct @yacovm ?","username":"IgorSim","ts":"2018-07-13T05:17:05.536Z"}
{"msg":"yeah... it returns all the MSP config @IgorSim ","username":"yacovm","ts":"2018-07-13T07:10:27.548Z"}
{"msg":"ok, tnx","username":"IgorSim","ts":"2018-07-13T09:11:54.476Z"}
{"msg":"Has joined the channel.","username":"louisliu2048","ts":"2018-07-18T02:20:11.291Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IsaacWong","ts":"2018-07-18T04:54:04.206Z","type":"uj"}
{"msg":"Has joined the channel.","username":"braduf","ts":"2018-07-24T21:05:37.284Z","type":"uj"}
{"msg":"@yacovm @IgorSim I am facing issue while doing the invoke. It seems to be VSCC endorsement failure kind of error. Below given are the peer0Org1 logs\n2018-07-25 05:59:45.983 UTC [shim] func1 -> DEBU 74d [0ebe1dea]Received message TRANSACTION from shim\n2018-07-25 05:59:45.983 UTC [shim] handleMessage -> DEBU 74e [0ebe1dea]Handling ChaincodeMessage of type: TRANSACTION(state:ready)\n2018-07-25 05:59:45.984 UTC [shim] beforeTransaction -> DEBU 74f [0ebe1dea]Received TRANSACTION, invoking transaction on chaincode(Src:ready, Dst:ready)\n2018-07-25 05:59:45.984 UTC [vscc] Invoke -> DEBU 750 VSCC invoked\n2018-07-25 05:59:45.984 UTC [vscc] deduplicateIdentity -> DEBU 751 Signature set is of size 1 out of 1 endorsement(s)\n2018-07-25 05:59:45.984 UTC [vscc] Invoke -> WARN 752 Endorsement policy failure for transaction txid=bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9, err: signature set did not satisfy policy\n2018-07-25 05:59:45.984 UTC [shim] func1 -> DEBU 753 [0ebe1dea]Transaction completed. Sending COMPLETED\n2018-07-25 05:59:45.984 UTC [shim] func1 -> DEBU 754 [0ebe1dea]Move state message COMPLETED\n2018-07-25 05:59:45.985 UTC [shim] handleMessage -> DEBU 755 [0ebe1dea]Handling ChaincodeMessage of type: COMPLETED(state:ready)\n2018-07-25 05:59:45.985 UTC [shim] func1 -> DEBU 756 [0ebe1dea]send state message COMPLETED\n2018-07-25 05:59:45.985 UTC [chaincode] processStream -> DEBU 757 [0ebe1dea]Received message COMPLETED from shim\n2018-07-25 05:59:45.985 UTC [chaincode] handleMessage -> DEBU 758 [0ebe1dea]Fabric side Handling ChaincodeMessage of type: COMPLETED in state ready\n2018-07-25 05:59:45.985 UTC [chaincode] handleMessage -> DEBU 759 [0ebe1dea-fd85-43b1-a291-b5aa50093a48]HandleMessage- COMPLETED. Notify\n2018-07-25 05:59:45.985 UTC [chaincode] notify -> DEBU 75a notifying Txid:0ebe1dea-fd85-43b1-a291-b5aa50093a48, channelID:mychannel\n2018-07-25 05:59:45.985 UTC [chaincode] Execute -> DEBU 75b Exit\n2018-07-25 05:59:45.985 UTC [lockbasedtxmgr] Done -> DEBU 75c Done with transaction simulation / query execution [bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9]\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] VSCCValidateTxForCC -> DEBU 75d VSCCValidateTxForCC completes for envbytes 0xc421e98800\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] VSCCValidateTx -> DEBU 75e VSCCValidateTx completes for env 0xc423166e10 envbytes 0xc421e98800\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] validateTx -> ERRO 75f VSCCValidateTx for transaction txId = bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9 returned error: VSCC error: endorsement policy failure, err: signature set did not satisfy policy\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] validateTx -> DEBU 760 validateTx completes for block 0xc42359a640 env 0xc423166e10 txn 0\n2018-07-25 05:59:45.986 UTC [committer/txvalidator] Validate -> DEBU 761 got result for idx 0, code 10\n2018-07-25 05:59:45.986 UTC [committer/txvalidator] Validate -> DEBU 762 END Block Validation\n2018-07-25 05:59:45.987 UTC [kvledger] CommitWithPvtData -> DEBU 763 Channel [mychannel]: Validating state for block [4]\n2018-07-25 05:59:45.987 UTC [lockbasedtxmgr] ValidateAndPrepare -> DEBU 764 Validating new block with num trans = [1]\n2018-07-25 05:59:45.987 UTC [valimpl] ValidateAndPrepareBatch -> DEBU 765 ValidateAndPrepareBatch() for block number = [4]\n2018-07-25 05:59:45.987 UTC [valimpl] ValidateAndPrepareBatch -> DEBU 766 preprocessing ProtoBlock...\n2018-07-25 05:59:45.987 UTC [valimpl] preprocessProtoBlock -> WARN 767 Channel [mychannel]: Block [4] Transaction index [0] TxId [bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9] marked as invalid by committer. Reason code [ENDORSEMENT_POLICY_FAILURE]","username":"javrevasandeep","ts":"2018-07-25T06:24:01.491Z"}
{"msg":"@javrevasandeep is this gossip related?","username":"yacovm","ts":"2018-07-25T06:26:12.204Z"}
{"msg":"Has joined the channel.","username":"zmaro","ts":"2018-08-03T15:21:03.796Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dvliman","ts":"2018-08-04T02:40:47.864Z","type":"uj"}
{"msg":"Has joined the channel.","username":"akshay.sood","ts":"2018-08-04T06:47:10.527Z","type":"uj"}
{"msg":"Has joined the channel.","username":"1234","ts":"2018-08-18T14:52:05.142Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chandrika","ts":"2018-08-19T12:22:35.100Z","type":"uj"}
{"msg":"Hi Expert, I am currently using Fabric 1.2 and have setup my network in 3 ubuntu servers each with 1 org, 1couch, 1 ca, 1 cli, 1 orderer, 1 kakfa and 1 zookeeper..\nmy channel creation is also working and i can install the chaincodes in all the 3 peers\ninstantiate the chaincode in one of the peers...\nThen i am trying to leverage the private data collection feature of Fabric 1.2. while doing so, i observed when i am firing the invoke command, i am getting an error in my 2nd peer's log whcih says - \"Do not know any peer in the channel( mychannel ) that matches the policies , aborting\n[gossip/privdata] fetchFromPeers -> WARN 494 Failed fetching private data for block 2 from peers: Empty membership\"\ndue to which when i am trying to query the data in my second peer who has the access to the private data, i am not getting the same and an error is thrown again which says - \"Error: endorsement failure during query. response: status:500 message:\"{\\\"Error\\\":\\\"Failed to get state for marble1\\\"}\"\n\"\nin my peer log i found this eeror - \" HandleTransaction -> ERRO 6eb [4d08c75d] Failed to handle GET_STATE. error: Private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x2, TxNum:0x0}, Private data version = (*version.Height)(nil)\"","username":"chandrika","ts":"2018-08-19T12:31:51.696Z"}
{"msg":". I took the same network which you shared. Only difference which i did is - I am using network_mode=host and trying to setup the network in 3 separate vms. Rest of the configurations i didnt change really... The error is saying something like this - \"2018-08-18 09:10:22.837 UTC [gossip/privdata] fetch -> WARN 534 Do not know any peer in the channel( mychannel ) that matches the policies , aborting\n2018-08-18 09:10:22.837 UTC [gossip/privdata] fetchFromPeers -> WARN 535 Failed fetching private data for block 2 from peers: Empty membership\n\"","username":"chandrika","ts":"2018-08-19T12:31:51.753Z"}
{"msg":"Can someone please help me with the correct gossip configuration on each of these vms?","username":"chandrika","ts":"2018-08-19T12:31:51.819Z"}
{"msg":"Hi Expert, I am currently using Fabric 1.2 and have setup my network in 3 ubuntu servers each with 1 org, 1couch, 1 ca, 1 cli, 1 orderer, 1 kakfa and 1 zookeeper..\nmy channel creation is also working and i can install the chaincodes in all the 3 peers\ninstantiate the chaincode in one of the peers...\nThen i am trying to leverage the private data collection feature of Fabric 1.2. while doing so, i observed when i am firing the invoke command, i am getting an error in my 2nd peer's log whcih says - \"Do not know any peer in the channel( mychannel ) that matches the policies , aborting\n[gossip/privdata] fetchFromPeers -> WARN 494 Failed fetching private data for block 2 from peers: Empty membership\"\ndue to which when i am trying to query the data in my second peer who has the access to the private data, i am not getting the same and an error is thrown again which says - \"Error: endorsement failure during query. response: status:500 message:\"{\\\"Error\\\":\\\"Failed to get state for marble1\\\"}\"\n\"\nin my peer log i found this eeror - \" HandleTransaction -> ERRO 6eb [4d08c75d] Failed to handle GET_STATE. error: Private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x2, TxNum:0x0}, Private data version = (*version.Height)(nil)\"\n. I took the same network which you shared. Only difference which i did is - I am using network_mode=host and trying to setup the network in 3 separate vms. Rest of the configurations i didnt change really... The error is saying something like this - \"2018-08-18 09:10:22.837 UTC [gossip/privdata] fetch -> WARN 534 Do not know any peer in the channel( mychannel ) that matches the policies , aborting\n2018-08-18 09:10:22.837 UTC [gossip/privdata] fetchFromPeers -> WARN 535 Failed fetching private data for block 2 from peers: Empty membership","username":"chandrika","ts":"2018-08-19T12:31:51.869Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/latest/discovery-cli.html","username":"yacovm","ts":"2018-08-19T13:13:15.308Z"}
{"msg":"use this please","username":"yacovm","ts":"2018-08-19T13:13:17.512Z"}
{"msg":"specifically - `discover peers`","username":"yacovm","ts":"2018-08-19T13:13:28.073Z"}
{"msg":"download it from https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/","username":"yacovm","ts":"2018-08-19T13:13:34.234Z"}
{"msg":"and then tell me if your peers see other peers ","username":"yacovm","ts":"2018-08-19T13:13:40.312Z"}
{"msg":"Has joined the channel.","username":"moyating","ts":"2018-08-20T03:30:55.160Z","type":"uj"}
{"msg":"In our current 1.0 configuration we don't have any anchor peer definitions ( we wanted our recovery to go back to the orderer and we only have one peer per organisation) .    I see that read the docs for  the service discovery says \"and uses the network metadata information maintained by the gossip communication layer to find out which peers are online. \" If we move to 1.2 will the service discovery service work correctly if we don't have anchor peers defined ? ","username":"rsherwood","ts":"2018-08-20T09:05:04.512Z"}
{"msg":"it will only work for the peer's organization @rsherwood ","username":"yacovm","ts":"2018-08-20T09:50:07.539Z"}
{"msg":"and the peers won't know about other peers","username":"yacovm","ts":"2018-08-20T09:50:13.335Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=ghXca3aLCjGY8Wrvv) @yacovm How much of the service discovery will not work ?    It says \"With service discovery, applications no longer need to specify which peers they need endorsements from. The SDK can simply send a query to the discovery service asking which peers are needed given a channel and a chaincode ID. The discovery service will then compute a descriptor comprised of two objects:With service discovery, applications no longer need to specify which peers they need endorsements from. The SDK can simply send a query to the discovery service asking which peers are needed given a channel and a chaincode ID. The discovery service will then compute a descriptor comprised of two objects:\"         Will the discovery service correctly identify the peers in other organisations, but not which are up to date , or will more that this not work ? ","username":"rsherwood","ts":"2018-08-20T10:16:14.308Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ghXca3aLCjGY8Wrvv","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ghXca3aLCjGY8Wrvv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"so, endorsement policies that require AND from some organizations","username":"yacovm","ts":"2018-08-20T10:21:31.260Z"}
{"msg":"won't work","username":"yacovm","ts":"2018-08-20T10:21:33.331Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=HAS8kDqAWX7t69S2i) @yacovm Given that most of endorsement policy's have an \"AND\"  between organization , I think you  are saying that the \"Endorsement query\" will not work . What about the   \"Peer membership query\" I assume that will not work either ? ","username":"rsherwood","ts":"2018-08-20T10:34:23.956Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=HAS8kDqAWX7t69S2i","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=HAS8kDqAWX7t69S2i","remote":true,"fileId":null,"fileName":null}]}
{"msg":"it will work","username":"yacovm","ts":"2018-08-20T10:43:41.465Z"}
{"msg":"look, not having anchor peers also makes you unable to use private data for inter-organizations","username":"yacovm","ts":"2018-08-20T10:44:10.356Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=ibM66QxhiQS8RuZEa) @yacovm Hi , right now we don't use the private member data, although I can see a way it would be useful to us . We are planning our upgrade to 1.2 and I'm just trying to workout what we need to change, and what will work given that we don't want to make too many application changes, given there is limited budget.   ","username":"rsherwood","ts":"2018-08-20T10:55:36.267Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ibM66QxhiQS8RuZEa","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ibM66QxhiQS8RuZEa","remote":true,"fileId":null,"fileName":null}]}
{"msg":"you need to add anchor peers","username":"yacovm","ts":"2018-08-20T10:59:18.040Z"}
{"msg":"> given there is limited budget. \nI can give you a 100% discount and you can have anchor peers for free","username":"yacovm","ts":"2018-08-20T10:59:41.079Z"}
{"msg":"> given there is limited budget. \nI can give you a 100% discount and you can have anchor peers for free","username":"yacovm","ts":"2018-08-20T10:59:41.079Z"}
{"msg":"how does that sound?","username":"yacovm","ts":"2018-08-20T10:59:44.975Z"}
{"msg":"if you don't tend to constantly add and remove peers from the channel you can just make them all anchor peers","username":"yacovm","ts":"2018-08-20T11:00:19.830Z"}
{"msg":"","username":"C0rWin","ts":"2018-08-20T11:29:36.099Z","attachments":[{"url":null,"remote":true,"fileId":null,"fileName":null}],"type":"message_pinned"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=MigSoPDsYzdg2rt2v) @yacovm Thanks @yacovm for your suggestion, I followed your steps and found that my 1st peer is unable to discover other peers. No other MSPs are being shown in the output json after i fire the discover command for peers. Can you please suggest what can i do to make other peers discoverable?","username":"chandrika","ts":"2018-08-20T12:27:32.592Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=MigSoPDsYzdg2rt2v","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=MigSoPDsYzdg2rt2v","remote":true,"fileId":null,"fileName":null}]}
{"msg":"did you join it to the channel?","username":"yacovm","ts":"2018-08-20T12:28:09.932Z"}
{"msg":"do you have anchor peers?","username":"yacovm","ts":"2018-08-20T12:28:13.984Z"}
{"msg":"yes. I did join all the peers in the channel. and i have the follwoing anchor peer configuration in my configtx.yaml","username":"chandrika","ts":"2018-08-20T12:29:21.820Z"}
{"msg":"you need to issue a config update for anchor peers separately ","username":"yacovm","ts":"2018-08-20T12:29:56.056Z"}
{"msg":"not in the genesis block","username":"yacovm","ts":"2018-08-20T12:29:59.983Z"}
{"msg":"after the channel is created","username":"yacovm","ts":"2018-08-20T12:30:04.316Z"}
{"msg":"how to do that? any help? any suggestion?","username":"chandrika","ts":"2018-08-20T12:30:41.801Z"}
{"msg":"yes","username":"yacovm","ts":"2018-08-20T12:30:46.690Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release-1.2/examples/e2e_cli/scripts/script.sh#L110-L125","username":"yacovm","ts":"2018-08-20T12:31:24.418Z"}
{"msg":"ok thanks .. let me check","username":"chandrika","ts":"2018-08-20T12:32:05.579Z"}
{"msg":"do i have to update the channel with anchor peers after its creation?","username":"chandrika","ts":"2018-08-20T12:33:56.772Z"}
{"msg":"Thanks a lot @yacovm .. its working now... :)","username":"chandrika","ts":"2018-08-20T12:38:33.184Z"}
{"msg":"Has joined the channel.","username":"OviiyaDominic","ts":"2018-08-21T07:11:37.435Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bdjidi","ts":"2018-08-21T22:48:04.963Z","type":"uj"}
{"msg":"Hi , I have setup my network with 6 orgs ; two peers each , 1 orderer , 6 CA's and 2 channels. During channel creation and join i get an orderer log stating \"identity 0 does not satisfy principal: the identity is a member of a different MSP ... \" . Can someone help me with the solution for this error?","username":"OviiyaDominic","ts":"2018-08-22T04:35:27.000Z"}
{"msg":"","username":"OviiyaDominic","ts":"2018-08-22T04:36:38.577Z","attachments":[{"type":"file","title":"anchor peer update .png","title_link":"/file-upload/7Ad6cJX237aWsGftp/anchor%20peer%20update%20.png","image_url":"/file-upload/7Ad6cJX237aWsGftp/anchor%20peer%20update%20.png","image_type":"image/png","image_size":352736,"url":"/file-upload/7Ad6cJX237aWsGftp/anchor%20peer%20update%20.png","remote":false,"fileId":"7Ad6cJX237aWsGftp","fileName":"anchor peer update .png"}]}
{"msg":"2-0","username":"1234","ts":"2018-08-22T04:37:07.734Z"}
{"msg":"Has joined the channel.","username":"nukulsharma","ts":"2018-08-24T09:06:30.928Z","type":"uj"}
{"msg":"Hi \nI have couple of queries - \n1. Private Data collections - I could not find private data history , GetHistoryForKey - returns only public data \nNote: i am using public data as normal ledger , whilst only private data as Collections \n2. Is there any way i can find say recent 10 blocks from ledger, i dont see any API for it. The one we have is getBlockByTxID , which become quite tedious , since first we need to invoke transaction history and then invoke for each one of them to get Block . Any simpler way to this ?","username":"nukulsharma","ts":"2018-08-24T09:06:54.287Z"}
{"msg":"@OviiyaDominic ","username":"1234","ts":"2018-08-24T09:14:58.639Z"}
{"msg":"Hi - I'm trying to get the discover command to work. I've setup BYFN (which has GOSSIP running). I've created the config file using the cmd discover (with private key and cert of Admin and TLSCA cert). When I run the following command from within the fabricsamples/bin directory I get an error:\n\n$ ../bin/discover --configFile org1conf.yaml peers --channel mychannel  --server peer0.org1.example.com:7051\n[failed connecting to peer0.org1.example.com:7051: failed connecting to discovery service: failed to create new connection: context deadline exceeded]\n\nI've tried multiple host/port combinations and checked the keys/cert in the configfile. Any suggestions on how to debug this please? Thanks!","username":"gormand","ts":"2018-08-24T13:42:25.427Z"}
{"msg":"Has joined the channel.","username":"Sileymane","ts":"2018-08-24T16:52:43.409Z","type":"uj"}
{"msg":"@gormand did you run this from the CLI container?","username":"yacovm","ts":"2018-08-24T18:30:17.618Z"}
{"msg":"The address needs to be resolvable","username":"yacovm","ts":"2018-08-24T18:30:30.776Z"}
{"msg":"Hi @yacovm , On my mac I ran it from the /bin directory after installing FabricSamples. For the peer URL I've used 0.0.0.0:7051. I can see this command is making connection to the peer as I've turned on gRPC trace on the peer and can see:\n\ngrpc: Server.Serve failed to complete security handshake from \"192.168.192.1:44144\": remote error: tls: bad certificate\n\nI've tried various combinations of certificates but can't seem to resolve this problem.\n\nMy config file looks like:\n\ndaves-mbp-2:first-network gormand$ cat org1conf.yaml \nversion: 0\ntlsconfig:\n  certpath: \"\"\n  keypath: \"\"\n  peercacertpath: /Users/blockchain/fabric-samples/fabric-samples/first-network/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt\n  timeout: 0s\nsignerconfig:\n  mspid: Org1MSP\n  identitypath: /Users/blockchain/fabric-samples/fabric-samples/first-network/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts/Admin@org1.example.com-cert.pem\n  keypath: /Users/blockchain/fabric-samples/fabric-samples/first-network/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/keystore/c273401c5cbcaaa618950b2be4410ec6b640611dfd979870259c9f258547237f_sk\n\nThe command looks like:\n\n../bin/discover --configFile ./org1conf.yaml peers --channel mychannel  --server 0.0.0.0:7051\n\nThanks for your help!","username":"gormand","ts":"2018-08-26T15:31:23.981Z"}
{"msg":"no... don't do that","username":"yacovm","ts":"2018-08-26T16:32:12.695Z"}
{"msg":"don't use 0.0.0.0","username":"yacovm","ts":"2018-08-26T16:32:16.243Z"}
{"msg":"let's make an experiment ","username":"yacovm","ts":"2018-08-26T16:32:31.386Z"}
{"msg":"add to your `/etc/hosts` the peer as 127.0.0.1","username":"yacovm","ts":"2018-08-26T16:32:44.963Z"}
{"msg":"and then use `--server 127.0.0.1:7051` @gormand ","username":"yacovm","ts":"2018-08-26T16:32:55.647Z"}
{"msg":"Has joined the channel.","username":"qiangjiyi","ts":"2018-08-28T02:10:36.566Z","type":"uj"}
{"msg":"Hi @yacovm , Some good news. Within in the *CLI* container I installed the *fabric-samples bin* directory to get the *discover* command and then ran the command successfully using the same privkey and certs as above. As I was in the CLI container on the same docker network as the peers I specified the host url as *peer0.org1.example.com:7051*. It responded in an instant. \n\nI've still not been able to get the discover command working from my host mac to the peer running in the docker container though :( I checked */etc/hosts* and it has *127.0.0.1\tlocalhost* so I specified *127.0.0.1:7051* as the url but I still get the *tls bad certificate* message in the peer logs.","username":"gormand","ts":"2018-08-28T10:44:13.357Z"}
{"msg":"no, you need to put only the IP address @gormand ","username":"yacovm","ts":"2018-08-28T10:46:07.910Z"}
{"msg":"not the entire URL....","username":"yacovm","ts":"2018-08-28T10:46:10.866Z"}
{"msg":"associate `127.0.0.1` with `peer0.org1.example.com`","username":"yacovm","ts":"2018-08-28T10:46:38.382Z"}
{"msg":"in the `/etc/hosts`","username":"yacovm","ts":"2018-08-28T10:46:41.479Z"}
{"msg":"Hi @yacovm , that worked!! Adding `127.0.0.1 peer0.org1.example.com` to the hosts file has fixed the connection issue. Do you know why this is needed?","username":"gormand","ts":"2018-08-28T11:33:52.583Z"}
{"msg":"because when you do the TLS handshake","username":"yacovm","ts":"2018-08-28T11:37:44.616Z"}
{"msg":"the remote peer presents its certificate","username":"yacovm","ts":"2018-08-28T11:37:51.146Z"}
{"msg":"that has `peer0.org1.example.com`","username":"yacovm","ts":"2018-08-28T11:37:57.241Z"}
{"msg":"and you expect 127.0.0.1","username":"yacovm","ts":"2018-08-28T11:38:06.439Z"}
{"msg":"so your client denies the connection","username":"yacovm","ts":"2018-08-28T11:38:11.032Z"}
{"msg":"Hi @yacovm thank you, that makes sense. Thanks for your help!","username":"gormand","ts":"2018-08-28T11:52:57.527Z"}
{"msg":"hi, i have one q, not sure if its related  to gossip protocol, anyway here it is. I have simple network that contains 3 ORGs, 2 of them are having  one peer, 3rd ORG is owning an ordering node(solo). Each organization peer is also an anchor peer and leading peer. Network was working fine for few days/weeks, but yesterday i noticed that one of the peers was missing few blocks. I checked orderer logs and saw that missing block(s) were delivered to both peers. I guess these are the messages indicating the delivery:\n [common/deliver] deliverBlocks -> DEBU 1587^[[0m [channel: xx] Delivering block for (..) for peer1Org1:52502\n [common/deliver] deliverBlocks -> DEBU 1589^[[0m [channel: xx] Delivering block for (..) for peer1Org2:33476\nNext, i check peer logs, i noticed messages like the one below doesn't exist on peer which was missing few blocks\n[blocksProvider] DeliverBlocks -> DEBU 9d9000^[[0m [xx] Adding payload locally, buffer seqNum = [33], peers number [1]\n[blocksProvider] DeliverBlocks -> DEBU 9d9001^[[0m [xx] Gossiping block [33], peers number [1]\nDoes it mean block never reached the peer? Does orderer have some kind of re-try in this case? I didn't see anything in the logs.\nI was also wondering if somehow problematic peer will understand that its own ledger height is not up-to-date(through gossip message or other kind of message coming from peer from the other ORG) and will try to 'pull' the missing blocks, or that's not how it works by design?\nBtw, when i restarted peer container,  peer received missing blocks. It looks like peer was  'stuck' for some reason or there was network issue between orderer <->peer. \nOne more thing, are gossip protocol functionalities (sync ledger data for ex)relevant only for peers from same org or also for cross-org?\n\n\n  ","username":"IgorSim","ts":"2018-08-29T06:34:06.257Z"}
{"msg":"hi, i have one q, not sure if its related  to gossip protocol, anyway here it is. I have simple network that contains 3 ORGs, 2 of them are having  one peer, 3rd ORG is owning an ordering node(solo). Each organization peer is also an anchor peer and leading peer. Network was working fine for few days/weeks, but yesterday i noticed that one of the peers was missing few blocks. I checked orderer logs and saw that missing block(s) were delivered to both peers. I guess these are the messages indicating the delivery:\n [common/deliver] deliverBlocks -> DEBU 1587^[[0m [channel: xx] Delivering block for (..) for peer1Org1:52502\n [common/deliver] deliverBlocks -> DEBU 1589^[[0m [channel: xx] Delivering block for (..) for peer1Org2:33476\nNext, i check peer logs, i noticed messages like the one below doesn't exist on peer which was missing few blocks\n[blocksProvider] DeliverBlocks -> DEBU 9d9000^[[0m [xx] Adding payload locally, buffer seqNum = [33], peers number [1]\n[blocksProvider] DeliverBlocks -> DEBU 9d9001^[[0m [xx] Gossiping block [33], peers number [1]\nDoes it mean block never reached the peer? Does orderer have some kind of re-try in this case? I didn't see anything in the logs.\nI was also wondering if somehow problematic peer will understand that its own ledger height is not up-to-date(through gossip message or other kind of message coming from peer from the other ORG) and will try to 'pull' the missing blocks, or that's not how it works by design?\nBtw, when i restarted peer container,  peer received missing blocks. It looks like peer was  'stuck' for some reason or there was network issue between orderer <->peer. \nOne more thing, are gossip protocol functionalities (sync ledger data for ex)relevant only for peers from same org or also for cross-org?\n\n\n  ","username":"IgorSim","ts":"2018-08-29T06:34:06.257Z"}
{"msg":"hi, i have one q, not sure if its related  to gossip protocol, anyway here it is. I have simple network that contains 3 ORGs, 2 of them are having  one peer, 3rd ORG is owning an ordering node(solo). Each organization peer is also an anchor peer and leading peer. Network was working fine for few days/weeks, but yesterday i noticed that one of the peers was missing few blocks. I checked orderer logs and saw that missing block(s) were delivered to both peers. I guess these are the messages indicating the delivery:\n\n [common/deliver] deliverBlocks -> DEBU 1587^[[0m [channel: xx] Delivering block for (..) for peer1Org1:52502\n [common/deliver] deliverBlocks -> DEBU 1589^[[0m [channel: xx] Delivering block for (..) for peer1Org2:33476\n\nNext, i check peer logs, i noticed messages like the one below doesn't exist on peer which was missing few blocks\n\n[blocksProvider] DeliverBlocks -> DEBU 9d9000^[[0m [xx] Adding payload locally, buffer seqNum = [33], peers number [1]\n[blocksProvider] DeliverBlocks -> DEBU 9d9001^[[0m [xx] Gossiping block [33], peers number [1]\n\nDoes it mean block never reached the peer? Does orderer have some kind of re-try in this case? I didn't see anything in the logs.\nI was also wondering if somehow problematic peer will understand that its own ledger height is not up-to-date(through gossip message or other kind of message coming from peer from the other ORG) and will try to 'pull' the missing blocks, or that's not how it works by design?\nBtw, when i restarted peer container,  peer received missing blocks. It looks like peer was  'stuck' for some reason or there was network issue between orderer <->peer. \nOne more thing, are gossip protocol functionalities (sync ledger data for ex)relevant only for peers from same org or also for cross-org?\n\n\n  ","username":"IgorSim","ts":"2018-08-29T06:34:06.257Z"}
{"msg":"Has joined the channel.","username":"jdfigure","ts":"2018-08-30T20:06:32.546Z","type":"uj"}
{"msg":"Guys, any clue or direction for further investigation will be really appreciated...","username":"IgorSim","ts":"2018-09-02T20:16:18.659Z"}
{"msg":"oh i missed it","username":"yacovm","ts":"2018-09-02T20:22:11.730Z"}
{"msg":"let me read","username":"yacovm","ts":"2018-09-02T20:22:13.881Z"}
{"msg":"what do you mean missing a block, Igor?","username":"yacovm","ts":"2018-09-02T20:23:00.820Z"}
{"msg":"what version is that?","username":"yacovm","ts":"2018-09-02T20:23:10.394Z"}
{"msg":"what version of fabric is that?","username":"yacovm","ts":"2018-09-02T20:23:10.394Z"}
{"msg":"and how can we investigate now when you restarted the peer??? :facepalm: ","username":"yacovm","ts":"2018-09-02T20:23:31.563Z"}
{"msg":"and how can we investigate now when you restarted the peer??? @IgorSim ","username":"yacovm","ts":"2018-09-02T20:23:31.563Z"}
{"msg":"when someone dies in a crime scene the policy always says not to move the body....","username":"yacovm","ts":"2018-09-02T20:24:07.258Z"}
{"msg":"when someone dies in a crime scene the police always says not to move the body....","username":"yacovm","ts":"2018-09-02T20:24:07.258Z"}
{"msg":"If it happens again please tell and tag me","username":"yacovm","ts":"2018-09-02T20:30:53.549Z"}
{"msg":"i have all the logs","username":"IgorSim","ts":"2018-09-02T20:36:46.769Z"}
{"msg":"fabric 1.2","username":"IgorSim","ts":"2018-09-02T20:37:06.421Z"}
{"msg":"@yacovm  'missing a block'..i mean peer from the second ORG  was missing few blocks,  although in orderer logs i saw that ordered is delivering the blocks to that peer, have no idea if they reached, it looks like they didn't","username":"IgorSim","ts":"2018-09-02T20:39:53.698Z"}
{"msg":"@yacovm  'missing a block'..i mean peer from the second ORG  was missing few blocks,  although in orderer logs i saw that orderer is delivering the blocks to that peer, have no idea if they reached, it looks like they didn't","username":"IgorSim","ts":"2018-09-02T20:39:53.698Z"}
{"msg":"what do you mean missing a block? did he get the blocks after?","username":"yacovm","ts":"2018-09-02T20:41:42.845Z"}
{"msg":"@IgorSim ","username":"yacovm","ts":"2018-09-02T20:41:46.858Z"}
{"msg":"only after restart","username":"IgorSim","ts":"2018-09-02T20:41:54.548Z"}
{"msg":"smells to me like a ledger deadlock. We had a bug fixed in v1.2","username":"yacovm","ts":"2018-09-02T20:42:18.981Z"}
{"msg":"that involves this kind of thing","username":"yacovm","ts":"2018-09-02T20:42:28.226Z"}
{"msg":"but I don't remember if a fix was released","username":"yacovm","ts":"2018-09-02T20:42:34.852Z"}
{"msg":"oh","username":"yacovm","ts":"2018-09-02T20:43:14.924Z"}
{"msg":"if it was released in 1.2, or planned to be realeased in 1.3 not sure i understand you","username":"IgorSim","ts":"2018-09-02T20:43:17.314Z"}
{"msg":"right... we didn't release 1.2.1","username":"yacovm","ts":"2018-09-02T20:43:20.874Z"}
{"msg":"i think we'll release it either this or next week","username":"yacovm","ts":"2018-09-02T20:43:28.048Z"}
{"msg":"i see","username":"IgorSim","ts":"2018-09-02T20:43:33.436Z"}
{"msg":"let me show you the bug, hold on","username":"yacovm","ts":"2018-09-02T20:43:40.738Z"}
{"msg":"which bug is this one, can you tell me jira id?","username":"IgorSim","ts":"2018-09-02T20:43:45.108Z"}
{"msg":"ok","username":"IgorSim","ts":"2018-09-02T20:43:47.248Z"}
{"msg":"https://github.com/hyperledger/fabric/commit/912e6a9ad217040e89e03eb5aed7060fbdc25632","username":"yacovm","ts":"2018-09-02T20:44:26.181Z"}
{"msg":"FAB-11094","username":"yacovm","ts":"2018-09-02T20:44:35.567Z"}
{"msg":"so there was a bug in the ledger that made block commit get stuck ","username":"yacovm","ts":"2018-09-02T20:45:17.944Z"}
{"msg":"and that prevent peer from receiving new blocks?","username":"IgorSim","ts":"2018-09-02T20:46:27.902Z"}
{"msg":"if the ledger is stuck...","username":"yacovm","ts":"2018-09-02T20:46:56.997Z"}
{"msg":"obviously it won't commit new blocks","username":"yacovm","ts":"2018-09-02T20:47:04.520Z"}
{"msg":"to commit a block you need to obtain a lock","username":"yacovm","ts":"2018-09-02T20:47:11.230Z"}
{"msg":"and if the lock is held and isn't released... ;) ","username":"yacovm","ts":"2018-09-02T20:47:19.735Z"}
{"msg":"but i don't know if this is the case in your problem","username":"yacovm","ts":"2018-09-02T20:47:29.531Z"}
{"msg":"did you restart the peer via docker?","username":"yacovm","ts":"2018-09-02T20:47:43.677Z"}
{"msg":"yes","username":"IgorSim","ts":"2018-09-02T20:47:47.506Z"}
{"msg":"next time if you restart the peer - do something else","username":"yacovm","ts":"2018-09-02T20:47:50.548Z"}
{"msg":"`docker exec -it <container> /bin/bash`","username":"yacovm","ts":"2018-09-02T20:47:58.103Z"}
{"msg":"and then `pkill -SIGABRT peer`","username":"yacovm","ts":"2018-09-02T20:48:05.047Z"}
{"msg":"this would make the peer die but also write to stderr the goroutine stack trace","username":"yacovm","ts":"2018-09-02T20:48:16.321Z"}
{"msg":"it will show if a deadlock occurred or not","username":"yacovm","ts":"2018-09-02T20:48:25.965Z"}
{"msg":"ok, tnx for the tip....","username":"IgorSim","ts":"2018-09-02T20:49:44.006Z"}
{"msg":"@yacovm regarding what we discussed yesterday and related bug....can you please shae few more details  regarding 'frequent Deliver cancellations' , what does it mean and when such condition can occurs..thanks","username":"IgorSim","ts":"2018-09-03T08:33:03.280Z"}
{"msg":"@yacovm regarding what we discussed yesterday and related bug....can you please share few more details  regarding 'frequent Deliver cancellations' , what does it mean and when such condition can occurs..thanks","username":"IgorSim","ts":"2018-09-03T08:33:03.280Z"}
{"msg":"it's when you use the new event channel service","username":"yacovm","ts":"2018-09-03T08:41:50.956Z"}
{"msg":"@yacovm hi, we encountered the problem again, this time on different environment but symptoms looks the same. Goroutine stack trace can be found at https://pastebin.com/KSXuXNZt ...can you please check and let me know  if this is related to the bug","username":"IgorSim","ts":"2018-09-05T13:08:28.318Z"}
{"msg":"@IgorSim ","username":"yacovm","ts":"2018-09-05T13:10:00.081Z"}
{"msg":"that's not all the stack trace though","username":"yacovm","ts":"2018-09-05T13:10:05.698Z"}
{"msg":"it only has 1 goroutine","username":"yacovm","ts":"2018-09-05T13:10:22.147Z"}
{"msg":"ok, i can paste entire stack trace..i will do it bit later and let you know, tnx","username":"IgorSim","ts":"2018-09-05T13:11:28.464Z"}
{"msg":"@yacovm i have entire stack trace, its ~17K lines, 1,7mb, can i upload to some service (for ex uploadfiles.io) and send you download link or you prefer other means?","username":"IgorSim","ts":"2018-09-05T14:11:35.239Z"}
{"msg":"yeah ","username":"yacovm","ts":"2018-09-05T14:12:01.486Z"}
{"msg":"upload to the internet","username":"yacovm","ts":"2018-09-05T14:12:04.619Z"}
{"msg":"https://ufile.io/2iyjm","username":"IgorSim","ts":"2018-09-05T14:12:24.637Z"}
{"msg":"woohoooo","username":"yacovm","ts":"2018-09-05T14:13:30.739Z"}
{"msg":"```\ngoroutine 453 [semacquire, 18 minutes]:\nsync.runtime_Semacquire(0xc421fe4fec)\n\t/opt/go/src/runtime/sema.go:56 +0x39\nsync.(*RWMutex).RLock(0xc421fe4fe0)\n\t/opt/go/src/sync/rwmutex.go:50 +0x49\ngithub.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc42201fc70, 0x0, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c\ngithub.com/hyperledger/fabric/core/committer.(*LedgerCommitter).LedgerHeight(0xc42035e0e0, 0xc422bff0e0, 0x2, 0x2)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:140 +0x37\ngithub.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).addPayload(0xc4203bfc00, 0xc42210cbc0, 0xc42044a701, 0xc42030be60, 0xc422f87d70)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:751 +0xf7\ngithub.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).AddPayload(0xc4203bfc00, 0xc42210cbc0, 0xc42211019c, 0x4)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:739 +0x5a\ngithub.com/hyperledger/fabric/gossip/service.(*gossipServiceImpl).AddPayload(0xc4204b45a0, 0xc42211019c, 0x4, 0xc42210cbc0, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:343 +0xba\ngithub.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).DeliverBlocks(0xc4205ba500)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:188 +0xe0d\ngithub.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).launchBlockProvider(0xc42039f830, 0xc42211019c, 0x4, 0xc4205961a0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:179 +0x1b8\ncreated by github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).StartDeliverForChannel\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:166 +0x601\n\n```","username":"yacovm","ts":"2018-09-05T14:13:35.491Z"}
{"msg":"so","username":"yacovm","ts":"2018-09-05T14:13:58.943Z"}
{"msg":"I think it's that `Deliver` bug which I talked about","username":"yacovm","ts":"2018-09-05T14:14:09.096Z"}
{"msg":"@IgorSim ","username":"yacovm","ts":"2018-09-05T14:14:15.409Z"}
{"msg":"but let me make sure with Manish","username":"yacovm","ts":"2018-09-05T14:14:25.264Z"}
{"msg":"@manish-sethi - the stack trace here... that he uploaded to `https://ufile.io/2iyjm`","username":"yacovm","ts":"2018-09-05T14:14:42.006Z"}
{"msg":"Has joined the channel.","username":"manish-sethi","ts":"2018-09-05T14:14:42.400Z","type":"uj"}
{"msg":"could you take a look and tell if you think it's that ledger deadlock from back then?","username":"yacovm","ts":"2018-09-05T14:14:54.587Z"}
{"msg":"ok,  that will be helpfull, we're setting up production env...this is blocker for us..yo mention it will be released in 1.2.1?","username":"IgorSim","ts":"2018-09-05T14:14:55.262Z"}
{"msg":"he's running v1.2.0 ","username":"yacovm","ts":"2018-09-05T14:15:01.410Z"}
{"msg":"can you perhaps apply a local patch to your environment?","username":"yacovm","ts":"2018-09-05T14:15:14.359Z"}
{"msg":"I can just give you a git diff","username":"yacovm","ts":"2018-09-05T14:15:20.787Z"}
{"msg":"and apply the change on the peer ?","username":"IgorSim","ts":"2018-09-05T14:15:53.431Z"}
{"msg":"yes","username":"yacovm","ts":"2018-09-05T14:15:57.519Z"}
{"msg":"ok, pls give me that","username":"IgorSim","ts":"2018-09-05T14:16:05.527Z"}
{"msg":"it's the stuff from https://github.com/hyperledger/fabric/commit/912e6a9ad217040e89e03eb5aed7060fbdc25632 ","username":"yacovm","ts":"2018-09-05T14:16:22.134Z"}
{"msg":"i see","username":"IgorSim","ts":"2018-09-05T14:16:27.215Z"}
{"msg":"btw, are there plans for 1.2.1 or next release is 1.3?","username":"IgorSim","ts":"2018-09-05T14:16:57.374Z"}
{"msg":"https://gerrit.hyperledger.org/r/changes/24217/revisions/912e6a9ad217040e89e03eb5aed7060fbdc25632/patch?zip","username":"yacovm","ts":"2018-09-05T14:17:01.431Z"}
{"msg":"download this","username":"yacovm","ts":"2018-09-05T14:17:04.585Z"}
{"msg":"this is a git patch","username":"yacovm","ts":"2018-09-05T14:17:08.014Z"}
{"msg":">  btw, are there plans for 1.2.1 or next release is 1.3? \ngood question.... @mastersingh24 , @IgorSim is waiting for v1.2.1 what is the ETA?","username":"yacovm","ts":"2018-09-05T14:17:28.542Z"}
{"msg":"thank you","username":"IgorSim","ts":"2018-09-05T14:19:56.474Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=Xt8qXyJbtakcoCPSX) @yacovm Yes, this is the same issue...","username":"manish-sethi","ts":"2018-09-05T14:35:52.729Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=Xt8qXyJbtakcoCPSX","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=Xt8qXyJbtakcoCPSX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@yacovm , how i can apply the patch on the peer? If i understand right, peer binary is part of the 'fabric-ca' image (under /usr/local/bin/)..does it mean i need to build the peer (get sources, apply patch, build the peer) and then use this new patched version?","username":"IgorSim","ts":"2018-09-07T07:51:30.968Z"}
{"msg":"you need to build it","username":"yacovm","ts":"2018-09-07T08:02:30.878Z"}
{"msg":"how is that part of the fabric-ca ???","username":"yacovm","ts":"2018-09-07T08:02:41.721Z"}
{"msg":"you need to clone the fabric repo, - specifically checkout branch `release-1.2` ","username":"yacovm","ts":"2018-09-07T08:03:08.283Z"}
{"msg":"and then apply the patch and then run `make peer-docker`","username":"yacovm","ts":"2018-09-07T08:03:16.803Z"}
{"msg":"sorry, i meant fabric-ca-peer","username":"IgorSim","ts":"2018-09-07T08:19:58.786Z"}
{"msg":"tnx for answer","username":"IgorSim","ts":"2018-09-07T08:20:55.884Z"}
{"msg":" Error: failed to create deliver client: orderer client failed to connect to orderer.example.com:7050: failed to create new connection: context deadline exceeded\"\nwhile creating the channel i am facing the error ","username":"Ammu","ts":"2018-09-07T10:45:55.562Z"}
{"msg":"Has joined the channel.","username":"yousaf","ts":"2018-09-08T14:33:10.884Z","type":"uj"}
{"msg":"@Ammu probably you would have restarted your network. You may have left some old containers running that might be causing conflicts. so first stop and remove the old docker containers then try again.","username":"yousaf","ts":"2018-09-08T14:52:50.545Z"}
{"msg":"Has joined the channel.","username":"raviyelleni","ts":"2018-09-09T04:45:28.273Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=nPn5rJoR2sJE3KX6B) @yacovm hi, i got some similar issue, but is the private data not synchronized, i haven't look into the weather the block height is up-to-date, but one of the peer work fine at first, but later it doesn't update the transaction any more, even restart the peer won't help.","username":"kelvinzhong","ts":"2018-09-10T06:12:28.471Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=nPn5rJoR2sJE3KX6B","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=nPn5rJoR2sJE3KX6B","remote":true,"fileId":null,"fileName":null}]}
{"msg":"this issue does not happened all the time, but indeed i encounter for few times, i not sure if it's relate to the connection are base on the public network ip, once i change to test in localhost and use the domain inside docker network, seems won't trigger this issue.","username":"kelvinzhong","ts":"2018-09-10T06:16:14.608Z"}
{"msg":"this issue does not happened all the time, but indeed i encounter for few times, i'm not sure if it's related to the peer connection are base on the public network ip, once i change to test in localhost and use the domain inside docker network for connection, seems won't trigger this issue.","username":"kelvinzhong","ts":"2018-09-10T06:16:14.608Z"}
{"msg":"What similar issue? ","username":"yacovm","ts":"2018-09-10T07:02:08.087Z"}
{"msg":"Similar to what?","username":"yacovm","ts":"2018-09-10T07:02:16.697Z"}
{"msg":"some peer won't synchronized the transaction at some point","username":"kelvinzhong","ts":"2018-09-10T10:03:14.834Z"}
{"msg":"can you give some more information please?","username":"yacovm","ts":"2018-09-10T10:03:53.935Z"}
{"msg":"i'm not sure is the private data didn't synchronized or the block didn't synchronized","username":"kelvinzhong","ts":"2018-09-10T10:03:56.146Z"}
{"msg":"were there any warning in the logs?","username":"yacovm","ts":"2018-09-10T10:03:58.386Z"}
{"msg":"well you can check the height of the peer","username":"yacovm","ts":"2018-09-10T10:04:06.562Z"}
{"msg":"what version are you using?","username":"yacovm","ts":"2018-09-10T10:04:18.986Z"}
{"msg":"1.2","username":"kelvinzhong","ts":"2018-09-10T10:04:22.013Z"}
{"msg":"i will try next time, if the peer are connected by public network ip, this would happened","username":"kelvinzhong","ts":"2018-09-10T10:05:19.810Z"}
{"msg":"ok then use the discovery CLI to see:\n1) Does the peer know other peers\n2) The ledger height of the peer","username":"yacovm","ts":"2018-09-10T10:05:23.904Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/latest/discovery-cli.html","username":"yacovm","ts":"2018-09-10T10:05:32.251Z"}
{"msg":"and always disconnected to the client side","username":"kelvinzhong","ts":"2018-09-10T10:05:36.943Z"}
{"msg":"okay  i will try next time","username":"kelvinzhong","ts":"2018-09-10T10:05:55.751Z"}
{"msg":"it seems all fine in local test","username":"kelvinzhong","ts":"2018-09-10T10:06:10.288Z"}
{"msg":"Has joined the channel.","username":"JaydipMakadia","ts":"2018-09-13T13:09:07.460Z","type":"uj"}
{"msg":"Hi...I am trying to configure cross organization gossip using anchor peers. I have successfully updated the channel configuration with the anchor peer updates on the channel. But the individual peers are not able to communicate with each other. Following are the peer logs:","username":"MeenakshiSingh","ts":"2018-09-19T18:27:51.536Z"}
{"msg":"","username":"MeenakshiSingh","ts":"2018-09-19T18:28:21.078Z","attachments":[{"type":"file","title":"Clipboard - September 19, 2018 11:58 PM","title_link":"/file-upload/NLhwtjq7eijQnisH9/Clipboard%20-%20September%2019,%202018%2011:58%20PM","image_url":"/file-upload/NLhwtjq7eijQnisH9/Clipboard%20-%20September%2019,%202018%2011:58%20PM","image_type":"image/png","image_size":70814,"url":"/file-upload/NLhwtjq7eijQnisH9/Clipboard%20-%20September%2019,%202018%2011:58%20PM","remote":false,"fileId":"NLhwtjq7eijQnisH9","fileName":"Clipboard - September 19, 2018 11:58 PM"}]}
{"msg":"right... they can't connect.","username":"yacovm","ts":"2018-09-19T18:35:04.365Z"}
{"msg":"you need to troubleshoot why","username":"yacovm","ts":"2018-09-19T18:35:09.914Z"}
{"msg":"how do I do that? I am able to normally invoke transactions over the network that means peers are discoverable.","username":"MeenakshiSingh","ts":"2018-09-19T18:37:45.829Z"}
{"msg":"how did you deduce that?","username":"yacovm","ts":"2018-09-19T18:38:55.887Z"}
{"msg":"the fact that you can connect to peers, doesn't mean the peers can connect to one another...","username":"yacovm","ts":"2018-09-19T18:39:07.678Z"}
{"msg":"you can try to log into the peer's container, or VM","username":"yacovm","ts":"2018-09-19T18:39:21.176Z"}
{"msg":"and try to connect from there, to the address it tries (but fails) to connect","username":"yacovm","ts":"2018-09-19T18:39:35.191Z"}
{"msg":"what protocol does gossip use for communicating? Do I need to enable any other protocol for inbound traffic other than tcp on 7051?","username":"MeenakshiSingh","ts":"2018-09-19T18:48:22.567Z"}
{"msg":"it uses gRPC over TLS ","username":"yacovm","ts":"2018-09-19T18:49:40.246Z"}
{"msg":"any specific configuration required for tls?","username":"MeenakshiSingh","ts":"2018-09-19T18:50:24.418Z"}
{"msg":"any specific configuration required for tls at the peers?","username":"MeenakshiSingh","ts":"2018-09-19T18:50:24.418Z"}
{"msg":"no...","username":"yacovm","ts":"2018-09-19T19:03:57.799Z"}
{"msg":"tested by allowing all traffic, irrespective of protocols. Still no luck. I am able to ping one host from another. ","username":"MeenakshiSingh","ts":"2018-09-19T19:17:12.373Z"}
{"msg":"any other suggestions?","username":"MeenakshiSingh","ts":"2018-09-19T19:18:08.441Z"}
{"msg":"yes","username":"yacovm","ts":"2018-09-19T19:56:41.695Z"}
{"msg":"turn on gRPC logging","username":"yacovm","ts":"2018-09-19T19:56:47.716Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release-1.2/sampleconfig/core.yaml#L50","username":"yacovm","ts":"2018-09-19T19:57:37.852Z"}
{"msg":"@MeenakshiSingh ","username":"yacovm","ts":"2018-09-19T19:57:41.073Z"}
{"msg":"Enabled debug level logs - looks like its failing to get a tls handshake. @yacovm - here are the logs - https://pastebin.com/gZ4ASii2 Could you please take a look.","username":"MeenakshiSingh","ts":"2018-09-20T07:37:34.286Z"}
{"msg":"Enabled debug level logs - looks like its failing to get a tls handshake. @yacovm - here are the logs - https://pastebin.com/zbXEihcu Could you please take a look. ","username":"MeenakshiSingh","ts":"2018-09-20T07:37:34.286Z"}
{"msg":"Let me guess @MeenakshiSingh you didnt add the anchor peer to the channel?","username":"yacovm","ts":"2018-09-20T08:27:31.052Z"}
{"msg":"I did. All peers are added to the channel - peer channel join command.","username":"MeenakshiSingh","ts":"2018-09-20T08:33:34.762Z"}
{"msg":"the network is tls enabled - is that the cause of ```Err :connection error: desc = \"transport: authentication handshake failed: x509: certificate signed by unknown authority (possibly because of \\\"x509: ECDSA verification failure\\\" while trying to verify candidate authority certificate \\\"fabric-ca-server\\\")\" ``` Do I need to provide some specific TLS settings?","username":"MeenakshiSingh","ts":"2018-09-20T08:37:37.616Z"}
{"msg":"Lol what is that certificate?","username":"yacovm","ts":"2018-09-20T08:38:03.009Z"}
{"msg":"I think you messed up the certificates when you created the channel","username":"yacovm","ts":"2018-09-20T08:38:26.779Z"}
{"msg":"Umm..messed up? How?","username":"MeenakshiSingh","ts":"2018-09-20T08:39:32.897Z"}
{"msg":"Should I regenerate the certificates and bootstrap the network again?","username":"MeenakshiSingh","ts":"2018-09-20T08:42:33.562Z"}
{"msg":"So i dont know what you should do","username":"yacovm","ts":"2018-09-20T09:23:00.399Z"}
{"msg":"I am using this command peer channel upgrade and getting this error.......Error: could not assemble transaction, err Proposal response was not successful, error code 500, msg cannot get package for chaincode (mycc:2.0)....any solution?","username":"yousaf","ts":"2018-09-20T11:41:34.131Z"}
{"msg":"Has joined the channel.","username":"hyperlearner","ts":"2018-09-21T11:15:29.680Z","type":"uj"}
{"msg":"hi while trying private data collection in balance transfer i got the following error 'Requested to send to at least 1 peers, but know only of 0 suitable peers\n'\n\n  \n\nwhat is the relationship between requiredPeerCount and maxPeerCount","username":"hyperlearner","ts":"2018-09-21T11:17:56.633Z"}
{"msg":"read all about the private data policies here: https://hyperledger-fabric.readthedocs.io/en/latest/private-data-arch.html.  i asked you to post over here for troubleshooting gossip on balance transfer's network...","username":"dave.enyeart","ts":"2018-09-21T11:20:37.477Z"}
{"msg":"`requiredPeerCount` is states how many peer *at least* private data has to be distributed to","username":"C0rWin","ts":"2018-09-21T11:21:24.520Z"}
{"msg":"`maxPeerCount` is the maximum number of peers to sent data to, has to be greater than `requiredPeerCount`","username":"C0rWin","ts":"2018-09-21T11:22:02.061Z"}
{"msg":"looks like gossip is not configured at all for balance transfer network: https://github.com/hyperledger/fabric-samples/blob/release-1.2/balance-transfer/artifacts/docker-compose.yaml","username":"dave.enyeart","ts":"2018-09-21T11:24:07.502Z"}
{"msg":"i'd suggest use first-network sample network, which is pre-configured for gossip and known to support private data","username":"dave.enyeart","ts":"2018-09-21T11:24:25.947Z"}
{"msg":"Has joined the channel.","username":"Sreesha","ts":"2018-09-21T11:51:31.164Z","type":"uj"}
{"msg":"Can we integrate fabric-ca examples with balance-transfer","username":"Sreesha","ts":"2018-09-21T12:17:23.837Z"}
{"msg":"Iam unable to use certificates generated by fabric-ca to run balance-transfer examples","username":"Sreesha","ts":"2018-09-21T12:35:22.455Z"}
{"msg":"During Channel creation it throws error SERVICE UNAVAILABLE\n","username":"Sreesha","ts":"2018-09-21T12:35:51.000Z"}
{"msg":"::::::::::::::::","username":"Sreesha","ts":"2018-09-21T12:36:15.413Z"}
{"msg":"===========>Inside Sendbroadcast\nE0921 18:09:38.936522004    7808 ssl_transport_security.c:177] ssl_info_callback: error occured.\n\nE0921 18:09:38.936576862    7808 ssl_transport_security.c:921] Handshake failed with fatal error SSL_ERROR_SSL: error:14094412:SSL routines:ssl3_read_bytes:sslv3 alert bad certificate.\nerror: [Orderer.js]: sendBroadcast - on error: \"Error: Connect Failed\\n    at ClientDuplexStream._emitStatusIfDone (/hyperledger1.1/fabric-samples/balance-transferca/node_modules/grpc/src/node/src/client.js:255:19)\\n    at ClientDuplexStream._readsDone (/hyperledger1.1/fabric-samples/balance-transferca/node_modules/grpc/src/node/src/client.js:221:8)\\n    at readCallback (/hyperledger1.1/fabric-samples/balance-transferca/node_modules/grpc/src/node/src/client.js:283:12)\"\n[2018-09-21 18:09:38.941] [ERROR] Create-Channel - Error: SERVICE_UNAVAILABLE\n","username":"Sreesha","ts":"2018-09-21T12:36:56.181Z"}
{"msg":"Has joined the channel.","username":"standrew03","ts":"2018-09-23T15:44:22.318Z","type":"uj"}
{"msg":"Has joined the channel.","username":"VirendraSolanke","ts":"2018-09-28T18:07:59.641Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zacpl","ts":"2018-09-28T18:37:04.144Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Bartb0","ts":"2018-10-02T10:52:55.320Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Mozer18","ts":"2018-10-02T18:25:18.595Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=J8JKTKodvbnrJ6CYy) @MeenakshiSingh please check your docker config, i've faced the same error.","username":"Mozer18","ts":"2018-10-02T19:00:11.369Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=J8JKTKodvbnrJ6CYy","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=J8JKTKodvbnrJ6CYy","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"MaddaliPadmaja","ts":"2018-10-03T07:14:15.267Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mrjdomingus","ts":"2018-10-04T08:11:31.749Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qiangqinqq","ts":"2018-10-06T07:35:21.080Z","type":"uj"}
{"msg":"in the docker-compose.yaml of `fabric-samples/balance-transfer`, `CORE_PEER_GOSSIP_BOOTSTRAP` and `CORE_PEER_GOSSIP_EXTERNALENDPOINT` are set like this:\n```peer0.org1.example.com:\n    container_name: peer0.org1.example.com\n    environment:\n      - CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org1.example.com:7051      \n      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org1.example.com:7051\n    ports:\n      - 7051:7051\n      - 7053:7053\n\n  peer1.org1.example.com:\n    container_name: peer1.org1.example.com\n    environment:\n      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051      \n      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer1.org1.example.com:7051\n    ports:\n      - 7056:7051\n      - 7058:7053```","username":"bh4rtp","ts":"2018-10-07T07:29:57.495Z"}
{"msg":"how to set these env for 4 peers?","username":"bh4rtp","ts":"2018-10-07T07:30:20.237Z"}
{"msg":"@bh4rtp what do you mean \"for 4 peers\" ? ","username":"yacovm","ts":"2018-10-07T12:08:25.364Z"}
{"msg":"@yacovm 4 peers for org1. does `balance-transfer` mistake to configure gossip like above?","username":"bh4rtp","ts":"2018-10-07T12:17:49.745Z"}
{"msg":"should `peer0.org1.example.com` remove the `CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org1.example.com:7051`?","username":"bh4rtp","ts":"2018-10-07T12:19:09.834Z"}
{"msg":"no... ","username":"yacovm","ts":"2018-10-07T12:20:04.345Z"}
{"msg":"why do you think that?","username":"yacovm","ts":"2018-10-07T12:20:08.223Z"}
{"msg":"i don't understand they are cross configure.","username":"bh4rtp","ts":"2018-10-07T12:22:29.199Z"}
{"msg":"i don't understand why they are cross configured.","username":"bh4rtp","ts":"2018-10-07T12:22:29.199Z"}
{"msg":"it is different from e2e example in fabric https://github.com/hyperledger/fabric/blob/77c3aa6ce5b0cfba93bfda009095886dbcadff91/examples/e2e_cli/base/docker-compose-base.yaml#L64.","username":"bh4rtp","ts":"2018-10-07T12:24:48.175Z"}
{"msg":"why is it different?","username":"yacovm","ts":"2018-10-07T12:26:10.115Z"}
{"msg":"use the configuration in the e2e ","username":"yacovm","ts":"2018-10-07T12:26:18.026Z"}
{"msg":"it's more up to date","username":"yacovm","ts":"2018-10-07T12:26:22.778Z"}
{"msg":"so i think `balance-transfer` makes a mistake here.","username":"bh4rtp","ts":"2018-10-07T12:29:28.162Z"}
{"msg":"probably","username":"yacovm","ts":"2018-10-07T12:36:39.155Z"}
{"msg":"Has joined the channel.","username":"MikeRichardson","ts":"2018-10-08T16:10:51.348Z","type":"uj"}
{"msg":"Has joined the channel.","username":"waxer","ts":"2018-10-12T12:30:05.680Z","type":"uj"}
{"msg":"\nMy all docker containers of peers and orderer are exiting except the cli container when i run docker-compose command to up my network. What could be the reason? Any info related to this? \n\n","username":"yousaf","ts":"2018-10-13T22:31:19.480Z"}
{"msg":"run `docker ps -a` @yousaf  and then do `docker logs`","username":"yacovm","ts":"2018-10-13T22:37:59.886Z"}
{"msg":"Has joined the channel.","username":"SumanPapanaboina","ts":"2018-10-14T15:36:41.720Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Glen","ts":"2018-10-18T12:55:45.549Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kh.nguyen","ts":"2018-10-19T00:21:16.184Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AndrewNRise","ts":"2018-10-19T08:20:09.070Z","type":"uj"}
{"msg":"why decentralization? ","username":"Ammu","ts":"2018-10-22T07:07:44.160Z"}
{"msg":"in blockchain","username":"Ammu","ts":"2018-10-22T07:07:48.759Z"}
{"msg":"all advantages in centralized itself we are getting right? ","username":"Ammu","ts":"2018-10-22T07:08:39.361Z"}
{"msg":"Has joined the channel.","username":"cagdast","ts":"2018-10-25T07:42:30.191Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mrlinjun","ts":"2018-11-01T02:37:14.653Z","type":"uj"}
{"msg":"","username":"mrlinjun","ts":"2018-11-01T02:39:09.169Z","attachments":[{"type":"file","title":"Clipboard - November 1, 2018 10:39 AM","title_link":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_type":"image/png","image_size":38637,"url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","remote":false,"fileId":"kCuXGuLDKvJJAdhk5","fileName":"Clipboard - November 1, 2018 10:39 AM"}]}
{"msg":"","username":"mrlinjun","ts":"2018-11-01T02:39:09.169Z","attachments":[{"type":"file","title":"Clipboard - November 1, 2018 10:39 AM","title_link":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_type":"image/png","image_size":38637,"url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","remote":false,"fileId":"kCuXGuLDKvJJAdhk5","fileName":"Clipboard - November 1, 2018 10:39 AM"}]}
{"msg":"","username":"mrlinjun","ts":"2018-11-01T02:39:09.169Z","attachments":[{"type":"file","title":"Clipboard - November 1, 2018 10:39 AM","title_link":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_type":"image/png","image_size":38637,"url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","remote":false,"fileId":"kCuXGuLDKvJJAdhk5","fileName":"Clipboard - November 1, 2018 10:39 AM"}]}
{"msg":"","username":"mrlinjun","ts":"2018-11-01T02:39:09.169Z","attachments":[{"type":"file","title":"Clipboard - November 1, 2018 10:39 AM","title_link":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_type":"image/png","image_size":38637,"url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","remote":false,"fileId":"kCuXGuLDKvJJAdhk5","fileName":"Clipboard - November 1, 2018 10:39 AM"}]}
{"msg":"","username":"mrlinjun","ts":"2018-11-01T02:39:09.169Z","attachments":[{"type":"file","title":"Clipboard - November 1, 2018 10:39 AM","title_link":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","image_type":"image/png","image_size":38637,"url":"/file-upload/kCuXGuLDKvJJAdhk5/Clipboard%20-%20November%201,%202018%2010:39%20AM","remote":false,"fileId":"kCuXGuLDKvJJAdhk5","fileName":"Clipboard - November 1, 2018 10:39 AM"}]}
{"msg":"@yacovm ","username":"mrlinjun","ts":"2018-11-01T02:41:58.287Z"}
{"msg":"Has joined the channel.","username":"githubcpc","ts":"2018-11-01T09:43:05.692Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IgarashiTakashi","ts":"2018-11-01T13:46:44.142Z","type":"uj"}
{"msg":"@mrlinjun i am facing this warning too. have you solved?","username":"bh4rtp","ts":"2018-11-03T02:31:21.655Z"}
{"msg":"Has joined the channel.","username":"DirkKrueger","ts":"2018-11-03T13:59:28.043Z","type":"uj"}
{"msg":"Has joined the channel.","username":"awes0menessInc","ts":"2018-11-06T03:37:27.652Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sigma67","ts":"2018-11-06T08:49:01.791Z","type":"uj"}
{"msg":"Has joined the channel.","username":"enriquebusti","ts":"2018-11-07T12:01:21.336Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ivanovv","ts":"2018-11-10T21:04:29.405Z","type":"uj"}
{"msg":"Hi, I have similar issue as the hyperlearner above. Went through the docs. I'm using the fabric sdk java. I'm also attaching more info from the logs. Could somebody elaborate on the possible reasons?! Thanks in advance.","username":"ivanovv","ts":"2018-11-10T21:15:20.281Z"}
{"msg":"","username":"ivanovv","ts":"2018-11-10T21:16:37.116Z","attachments":[{"type":"file","title":"privateCollectionIssue.txt","title_link":"/file-upload/HAwgmnXb5xZtuYgMn/privateCollectionIssue.txt","url":"/file-upload/HAwgmnXb5xZtuYgMn/privateCollectionIssue.txt","remote":false,"fileId":"HAwgmnXb5xZtuYgMn","fileName":"privateCollectionIssue.txt"}]}
{"msg":"Has left the channel.","username":"AlexanderZhovnuvaty","ts":"2018-11-12T11:05:54.064Z","type":"ul"}
{"msg":"Has joined the channel.","username":"maozhuzi","ts":"2018-11-12T13:47:47.811Z","type":"uj"}
{"msg":"Has joined the channel.","username":"h4995974","ts":"2018-11-15T22:03:21.483Z","type":"uj"}
{"msg":"Hello everyone. \n\nWe're receiving the following error when trying to spin up peers inside a kubernetes pods. `2018-11-15 21:52:25.172 UTC [gossip/gossip] handleMessage -> WARN 01f Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:\"peer1-example-com:7051\" pki_id:\"<4\\244\\375\\307\\024\\367\\177\\005\\344\\270\\244\\351\\372+\\206\\310 \\274\\016\\367\\357\\007\\323\\201m\\370\\355[v\\376h\" > timestamp:<inc_num:1542318725147953871 seq_num:16 > > , Envelope: 83 bytes, Signature: 70 bytes Secret payload: 16 bytes, Secret Signature: 71 bytes isn't valid`\nAny ideas?","username":"h4995974","ts":"2018-11-15T22:03:22.868Z"}
{"msg":"@h4995974 do you receive it over and over again?","username":"yacovm","ts":"2018-11-15T22:59:24.681Z"}
{"msg":"Hi everyone. I have a query, the ports which we assign to our peers in fabric network, why they start from 7050 ? and how much peers can we create? Since we have limited number of ports in our computers like maximum 65535 ??","username":"yousaf","ts":"2018-11-16T09:13:35.295Z"}
{"msg":"Has joined the channel.","username":"BellaAdams","ts":"2018-11-17T00:45:59.225Z","type":"uj"}
{"msg":"Has joined the channel.","username":"huxiangdong","ts":"2018-11-20T00:31:20.792Z","type":"uj"}
{"msg":"node registerUser.js\n Store path:/home/ubuntu/.hfc-key-store\nSuccessfully loaded admin from persistence\nFailed to register: Error: fabric-ca request register failed with errors [[{\"code\":20,\"message\":\"Authentication failure\"}]]\n","username":"Ammu","ts":"2018-11-22T13:28:29.115Z"}
{"msg":"Hi,","username":"ivanovv","ts":"2018-11-23T16:15:22.697Z"}
{"msg":"Hi,\n\nI have a question, regarding the \"requiredPeerCount\" parameter on Private Data collection configuration and the corrsponding gossip SendByCriteria() implementation:\nWhich peers are evaluated to be disseminated to? Is there a preference to disseminate to the Anchor peers of other organisations or all peers (same & different organisations) are equally treated?\n\nBest Regards,\nVenko","username":"ivanovv","ts":"2018-11-23T16:26:28.013Z"}
{"msg":"all peers in the channel","username":"yacovm","ts":"2018-11-23T16:37:32.425Z"}
{"msg":"no preference to anchor peers","username":"yacovm","ts":"2018-11-23T16:37:38.722Z"}
{"msg":"all peers are equally treated","username":"yacovm","ts":"2018-11-23T16:37:46.129Z"}
{"msg":"@yacovm I thought there was a best effort attempt to distribute private data to multiple organizations","username":"dave.enyeart","ts":"2018-11-23T16:57:19.569Z"}
{"msg":"nope... that's not how it is","username":"yacovm","ts":"2018-11-23T17:01:17.080Z"}
{"msg":"so you might send to N peers within 1 org, and completely miss the other orgs","username":"dave.enyeart","ts":"2018-11-23T17:01:46.424Z"}
{"msg":"that's correct","username":"yacovm","ts":"2018-11-23T17:01:55.577Z"}
{"msg":"at least the intent was to distribute across orgs best effort, do we need to open a new jira?","username":"dave.enyeart","ts":"2018-11-23T17:02:08.743Z"}
{"msg":"do you know a lot of settings where you have a single org that is huge and other smaller satellite orgs with a few peers?","username":"yacovm","ts":"2018-11-23T17:02:56.939Z"}
{"msg":"if you put the max peers big enough I think you're good to go","username":"yacovm","ts":"2018-11-23T17:03:33.247Z"}
{"msg":"also - when you have a minimum threshold and a maximum threshold","username":"yacovm","ts":"2018-11-23T17:04:16.972Z"}
{"msg":"what does it mean to do a best attempt to round-robin across the orgs?","username":"yacovm","ts":"2018-11-23T17:04:38.830Z"}
{"msg":"i know a lot of networks have 2-3 peers per org... and it would be better not to double up, rather better to distribute widely.  and on the pull side, we could favor peers local to the org","username":"dave.enyeart","ts":"2018-11-23T17:04:41.393Z"}
{"msg":"on the pull side we favor the endorsers","username":"yacovm","ts":"2018-11-23T17:05:39.769Z"}
{"msg":"best effort would mean distribute to all orgs first before doubling up","username":"dave.enyeart","ts":"2018-11-23T17:05:50.765Z"}
{"msg":"yeah, pull side should favor endorsers first, then same org peers, then others","username":"dave.enyeart","ts":"2018-11-23T17:06:09.236Z"}
{"msg":"why same org peers? speed?","username":"yacovm","ts":"2018-11-23T17:06:25.758Z"}
{"msg":"speed, co-location, trust","username":"dave.enyeart","ts":"2018-11-23T17:06:44.734Z"}
{"msg":"you don't need trust, you have the hash","username":"yacovm","ts":"2018-11-23T17:06:57.315Z"}
{"msg":"so what is the intent of distributing across orgs ? data availability? ","username":"yacovm","ts":"2018-11-23T17:07:08.796Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2018-11-23T17:07:13.663Z"}
{"msg":"open a JIRA and we'll see what can be done ;) ","username":"yacovm","ts":"2018-11-23T17:07:28.183Z"}
{"msg":"if you distribute everything to OrgA and then OrgA goes away you're toast","username":"dave.enyeart","ts":"2018-11-23T17:07:41.145Z"}
{"msg":"not with reconciliation ","username":"yacovm","ts":"2018-11-23T17:07:55.640Z"}
{"msg":"we don't want to count on reconciliation, reconciliation is a worst case backstop","username":"dave.enyeart","ts":"2018-11-23T17:08:26.276Z"}
{"msg":"ok","username":"yacovm","ts":"2018-11-23T17:08:37.873Z"}
{"msg":"so open a JIRA","username":"yacovm","ts":"2018-11-23T17:08:48.320Z"}
{"msg":"will do","username":"dave.enyeart","ts":"2018-11-23T17:08:51.202Z"}
{"msg":"@yacovm https://jira.hyperledger.org/browse/FAB-12982","username":"dave.enyeart","ts":"2018-11-23T17:19:57.249Z"}
{"msg":"@C0rWin ^ ","username":"yacovm","ts":"2018-11-23T17:22:08.680Z"}
{"msg":"@dave.enyeart can this be considered small enough to be backported to v1.4 ? ","username":"yacovm","ts":"2018-11-23T17:24:24.420Z"}
{"msg":"or do we only backport bug fixes?","username":"yacovm","ts":"2018-11-23T17:24:31.469Z"}
{"msg":"We would first get it into master (for v1.4). If it passes all tests well including system tests, and if the code appears low risk, we can consider backport to v1.3 at that time.","username":"dave.enyeart","ts":"2018-11-23T17:29:08.390Z"}
{"msg":"That being said, v1.4 is our target long term support release and we'd encourage people to move to v1.4","username":"dave.enyeart","ts":"2018-11-23T17:29:40.824Z"}
{"msg":"Backporting functions is a slippery slope, need to be very judicious about it","username":"dave.enyeart","ts":"2018-11-23T17:30:19.958Z"}
{"msg":"Backporting enhancements is a slippery slope, need to be very judicious about it","username":"dave.enyeart","ts":"2018-11-23T17:30:19.958Z"}
{"msg":"@dave.enyeart what's the time window for v1.4 development? isn't that end of month?","username":"yacovm","ts":"2018-11-23T17:41:50.747Z"}
{"msg":"@yacovm (comment on post @6:06 PM) \nI have a simple setup: 1 host, 1 docker network, 3 orgs x 1 peer.  \nOrgA writes to private collections onlyA & onlyB. Setting is for both \"requiredPeerCount=0\". The data is Not written to the ponlyB database within an hour+ (the hash ends up in the honlyB database almost immediately).\nAfter setting up \"requiredPeerCount=1\" the data was available for OrgB within seconds (as expected).\nThese are just observations for those 2 use cases. I definitely have to play more on the case, but it seems (for now to me, and it could be that I'm wrong) that being able to push targeted during the endorsement phase helps.\n\nThanks,\nVenko\n","username":"ivanovv","ts":"2018-11-26T08:56:19.870Z"}
{"msg":"@ivanovv setting `requiredPeerCount=0` has semantic of not distributing private data at endorsement time","username":"C0rWin","ts":"2018-11-26T09:03:46.494Z"}
{"msg":"@C0rWin Yes, I expected that... But it \"never\" occurred. At least not within 1+ hour.","username":"ivanovv","ts":"2018-11-26T09:08:02.131Z"}
{"msg":"OrgA writes to private collections onlyA & onlyB. Setting is for both \"requiredPeerCount=0\". The data is Not written to the ponlyB database within an hour+\"\"","username":"ivanovv","ts":"2018-11-26T09:08:02.131Z"}
{"msg":"Yes","username":"ivanovv","ts":"2018-11-26T09:08:02.131Z"}
{"msg":"not following you","username":"C0rWin","ts":"2018-11-26T09:08:28.648Z"}
{"msg":"if it's expected it shall never occur even after 100+ hours ","username":"C0rWin","ts":"2018-11-26T09:09:18.034Z"}
{"msg":"oh, I see, you are saying that peer of ponlyB, commits block and doesn't pull the data?","username":"C0rWin","ts":"2018-11-26T09:10:05.348Z"}
{"msg":"and with requiredPeersCout=1 we will have feedback","username":"ivanovv","ts":"2018-11-26T09:10:51.729Z"}
{"msg":"@ivanovv on what version are you testing it?","username":"C0rWin","ts":"2018-11-26T09:12:32.029Z"}
{"msg":"1.3","username":"ivanovv","ts":"2018-11-26T09:12:36.587Z"}
{"msg":"@C0rWin Could you please confirm that with \"requiredPeerCount=0\"\n\"if it's expected it shall (dissemination) never occur even after 100+ hours\"","username":"ivanovv","ts":"2018-11-26T09:14:50.242Z"}
{"msg":"let me clarify ","username":"C0rWin","ts":"2018-11-26T09:15:10.401Z"}
{"msg":"there are two aspects of data dissemination ","username":"C0rWin","ts":"2018-11-26T09:15:23.453Z"}
{"msg":"while tx endorsed peer should try to push private data based on `requiredPeerCount` number of peers ","username":"C0rWin","ts":"2018-11-26T09:16:02.506Z"}
{"msg":"so if this is set to 0 peer will never tries to push anything","username":"C0rWin","ts":"2018-11-26T09:17:10.090Z"}
{"msg":"however ","username":"C0rWin","ts":"2018-11-26T09:17:19.123Z"}
{"msg":"there is a second part, where peer while getting next block to commit extract info about missing private data pieces and tries to pull them ","username":"C0rWin","ts":"2018-11-26T09:18:09.945Z"}
{"msg":"what I meant to say is that with `requiredPeerCount=0` data will be never pushed, even after 100 hours :)","username":"C0rWin","ts":"2018-11-26T09:18:43.349Z"}
{"msg":"but definitely peer should be able to pull it during commit time","username":"C0rWin","ts":"2018-11-26T09:18:58.242Z"}
{"msg":"And in my case the second phase did not happen within an hour+","username":"ivanovv","ts":"2018-11-26T09:20:25.262Z"}
{"msg":"And according one video there is a timeout of about an hour after which the second peer will dtop trying to retreave the data and this peer will not be able to deliver the private data anymore.","username":"ivanovv","ts":"2018-11-26T09:21:31.231Z"}
{"msg":"And according to one video there is a timeout of about an hour after which the second peer will dtop trying to retreave the data and this peer will not be able to deliver the private data anymore.","username":"ivanovv","ts":"2018-11-26T09:21:31.231Z"}
{"msg":"And according to one video there is a timeout of about an hour after which the second peer will stop trying to retrieve the data and this peer will not be able to deliver the private data anymore.","username":"ivanovv","ts":"2018-11-26T09:21:31.231Z"}
{"msg":"And according to one video there is a timeout of about an hour after which the second peer will stop trying to retrieve the data and this peer will not be able to deliver the private data to the apps anymore.","username":"ivanovv","ts":"2018-11-26T09:21:31.231Z"}
{"msg":"can you run your peers in debug mode?","username":"C0rWin","ts":"2018-11-26T09:26:33.541Z"}
{"msg":"and collect logs?","username":"C0rWin","ts":"2018-11-26T09:26:38.867Z"}
{"msg":"I'd be glad to take a look on this closer ","username":"C0rWin","ts":"2018-11-26T09:26:54.059Z"}
{"msg":"@C0rWin Yes, I will do. Is there something in the logs that deserves to pay more attention at? I believe I can stop logging about a minute after the transaction gets committed (everything is local 3 orgs x 1 peer & 2 cpu's). requiredPeerCount will be 0. OK?","username":"ivanovv","ts":"2018-11-26T09:32:13.989Z"}
{"msg":"@C0rWin \nHi, I believe that even with requiredPeerCount=0 the peer will try to disseminate messages to (up to the maxPeerCount) other peers.\nIt will just not throw an exception.\nMy conclusion is based on the code in:\nhttps://github.com/hyperledger/fabric/blob/c45fde94b72a0f2fad7db37dff54d08ed4b280a8/gossip/gossip/gossip_impl.go\nline: 645 & 654.\n\nBest regards,\nVenko Ivanov\n\nPS. the same was implicitly suggested by Dave & yakovm.","username":"ivanovv","ts":"2018-11-26T09:58:04.967Z"}
{"msg":"@dave.enyeart  \nHi, I believe that even with requiredPeerCount=0 the peer will try to disseminate messages to (up to the maxPeerCount) other peers.\nIt will just not throw an exception.\nMy conclusion is based on the code in:\nhttps://github.com/hyperledger/fabric/blob/c45fde94b72a0f2fad7db37dff54d08ed4b280a8/gossip/gossip/gossip_impl.go\nline: 645 & 654.\n\nBest regards,\nVenko Ivanov\n\nPS. the same was implicitly suggested by Dave & yakovm.","username":"ivanovv","ts":"2018-11-26T09:58:04.967Z"}
{"msg":"@ivanovv that's right. what was your maxPeerCount? Still need your debug for both A and B too understand why thee private data wasn't pulled at commit time.","username":"dave.enyeart","ts":"2018-11-26T11:52:18.418Z"}
{"msg":"@ivanovv that's right. what was your maxPeerCount? Still need your debug for both A and B too understand why the private data wasn't pulled at commit time.","username":"dave.enyeart","ts":"2018-11-26T11:52:18.418Z"}
{"msg":"@ivanovv can you please post here you collection config?","username":"C0rWin","ts":"2018-11-26T12:09:32.843Z"}
{"msg":"@C0rWin Most probably this was the problem. \nLooking in the code for my previous post I saw that with maxPeerCount = 0 it will not try to disseminate at endorsement time at all... \nI've fixed this (based on info I've got from David on the fabric-ledger thread) last Friday and it worked... \nThe reason I expected it to work was based on previous tests (AFAI remember) when OrgA was writing to collectionOrgA&OrgB and everything worked with both params set to 0. \nThanks for the help!\n\nBest regards,\nVenko","username":"ivanovv","ts":"2018-11-26T13:30:51.542Z"}
{"msg":"@dave.enyeart  Most probably this was the problem. \nLooking in the code for my previous post I saw that with maxPeerCount = 0 it will not try to disseminate at endorsement time at all... \nI've fixed this (based on info I've got from David on the fabric-ledger thread) last Friday and it worked... \nThe reason I expected it to work was based on previous tests (AFAI remember) when OrgA was writing to collectionOrgA&OrgB and everything worked with both params set to 0. \nThanks for the help!\n\nBest regards,\nVenko","username":"ivanovv","ts":"2018-11-26T13:30:51.542Z"}
{"msg":"@dave.enyeart  Most probably this was the problem. \nLooking in the code for my previous post I saw that with maxPeerCount = 0 it will not try to disseminate at endorsement time at all... \nI've fixed this (based on info I've got from you on the fabric-ledger thread) last Friday and it worked... \nThe reason I expected it to work was based on previous tests (AFAI remember) when OrgA was writing to collectionOrgA&OrgB and everything worked with both params set to 0. \nThanks for the help!\n\nBest regards,\nVenko","username":"ivanovv","ts":"2018-11-26T13:30:51.542Z"}
{"msg":"Has left the channel.","username":"joaquimpedrooliveira","ts":"2018-11-27T13:40:06.040Z","type":"ul"}
{"msg":"Has joined the channel.","username":"me020523","ts":"2018-11-28T03:14:25.273Z","type":"uj"}
{"msg":"Hello. I am running a hyperledger fabric network with 4 kafkas, for my dev env, they are running on a single VM. Yesterday my VM ran out of memory and 3 of the kafkas died. The last one threw an error that a leader election failed. If a leader kafka dies, one of the followers should become a leader immediately. So even with one kafka the network shouldn't die. I tried to reproduce the issue, I am killing kafka containers, but now everything is working fine. Do you have an idea what might cause the problem?","username":"migrenaa","ts":"2018-11-30T08:23:14.235Z"}
{"msg":"Hello. I am running a hyperledger fabric network with 4 kafkas, 1 peer, 2 orderers, for my dev env, they are running on a single VM. Yesterday my VM ran out of memory and 3 of the kafkas died. The last one threw an error that a leader election failed. If a leader kafka dies, one of the followers should become a leader immediately. So even with one kafka the network shouldn't die. I tried to reproduce the issue, I am killing kafka containers, but now everything is working fine. Do you have an idea what might cause the problem?","username":"migrenaa","ts":"2018-11-30T08:23:14.235Z"}
{"msg":"Hello. I am running a hyperledger fabric network with 4 kafkas, 1 peer, 2 orderers, for my dev env, they are running on a single VM. Yesterday the VM ran out of memory and 3 of the kafkas died. The last one threw an error that a leader election failed. If a leader kafka dies, one of the followers should become a leader immediately. So even with one kafka the network should work fine I tried to reproduce the issue, I am killing kafka containers, but now everything is working fine. Do you have an idea what might cause the problem?","username":"migrenaa","ts":"2018-11-30T08:23:14.235Z"}
{"msg":"@migrenaa this isn't related to fabric gossip","username":"yacovm","ts":"2018-11-30T09:32:40.027Z"}
{"msg":"please post it in #fabric-orderer ","username":"yacovm","ts":"2018-11-30T09:32:47.853Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=ibnHRps2zkHd58Qkz) @yacovm ok thanks :) ","username":"migrenaa","ts":"2018-11-30T10:00:58.212Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ibnHRps2zkHd58Qkz","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=ibnHRps2zkHd58Qkz","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"dongming","ts":"2018-12-01T16:29:05.818Z","type":"uj"}
{"msg":"@yacovm I am trying to update the anchor peer in the channel, and I see the following warning message in the peer log \n```\n2018-12-01 16:26:06.353 UTC [gossip/gossip] learnAnchorPeers -> INFO 070 Learning about the configured anchor peers of PeerOrg4 for channel testorgschannel1 : [{peer0.org4.example.com 7067}]\n2018-12-01 16:26:06.353 UTC [gossip/service] updateEndpoints -> WARN 071 Failed to update ordering service endpoints, due to Channel with testorgschannel1 id was not found\n2018-12-01 16:26:06.357 UTC [committer/txvalidator] Validate -> INFO 072 [testorgschannel1] Validated block [5] in 122ms\n2018-12-01 16:26:06.373 UTC [kvledger] CommitWithPvtData -> INFO 073 [testorgschannel1] Committed block [5] with 1 transaction(s) in 10ms (state_validation=1ms block_commit=6ms state_commit=1ms)\n2018-12-01 16:26:06.394 UTC [gossip/comm] func1 -> WARN 074 peer0.org3.example.com:7065, PKIid:[72 232 27 3 230 161 244 55 230 28 218 144 10 30 129 109 90 176 107 8 194 47 55 77 221 198 180 215 207 169 228 195] isn't responsive: EOF\n2018-12-01 16:26:06.394 UTC [gossip/discovery] expireDeadMembers -> WARN 075 Entering [[72 232 27 3 230 161 244 55 230 28 218 144 10 30 129 109 90 176 107 8 194 47 55 77 221 198 180 215 207 169 228 195]]\n2018-12-01 16:26:06.394 UTC [gossip/discovery] expireDeadMembers -> WARN 076 Closing connection to Endpoint: peer0.org3.example.com:7065, InternalEndpoint: , PKI-ID: [72 232 27 3 230 161 244 55 230 28 218 144 10 30 129 109 90 176 107 8 194 47 55 77 221 198 180 215 207 169 228 195], Metadata: []\n2018-12-01 16:26:06.394 UTC [gossip/discovery] expireDeadMembers -> WARN 077 Exiting\n```\n\n","username":"dongming","ts":"2018-12-01T16:30:24.908Z"}
{"msg":"Does this mean that the peer cannot communicate with other anchor peers on the channel","username":"dongming","ts":"2018-12-01T16:31:00.821Z"}
{"msg":"no","username":"yacovm","ts":"2018-12-01T16:33:08.984Z"}
{"msg":"Has joined the channel.","username":"arjitkhullar","ts":"2018-12-05T00:02:19.211Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Pradeep_Pentakota","ts":"2018-12-05T01:41:16.389Z","type":"uj"}
{"msg":"Has joined the channel.","username":"edwardlee","ts":"2018-12-13T14:56:10.616Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aviralwal","ts":"2018-12-17T11:49:04.221Z","type":"uj"}
{"msg":"Has joined the channel.","username":"merq","ts":"2018-12-22T03:45:03.490Z","type":"uj"}
{"msg":"Has joined the channel.","username":"deelthor","ts":"2019-01-07T10:04:29.821Z","type":"uj"}
{"msg":"Hey guys! In our current setup we have 2 peers and 2 orderers. We have a specific transaction which is executed every 15 min. So every 15 min I see something like this in the Peer Logs: `2018-10-11 01:15:29.224 UTC [gossip/privdata] StoreBlock -> INFO 719c Received block [33327]`\n`2018-10-11 01:15:29.758 UTC [kvledger] CommitWithPvtData -> INFO 719d Channel [bccchannel]: Committed block [33327] with 1 transaction(s)` . After sometime though the logs wont show up anymore and nothing is written to the ledger. After a restart of the peer, the logs show up again. My assumption is that the connection between Orderer and Peer gets lost/was closed. Does anyone have an idea why this could happen? Any help is very much appreciated!","username":"deelthor","ts":"2019-01-07T10:04:36.112Z"}
{"msg":"> nothing is written to the ledger\n@deelthor how do you check this? do you see any errors on the log? are you subscribed to events? have you checked tx status to see it's valid?","username":"C0rWin","ts":"2019-01-07T10:46:18.753Z"}
{"msg":"> nothing is written to the ledger\n@deelthor  how do you check this? do you see any errors on the log? are you subscribed to events? have you checked tx status to see it's valid?","username":"C0rWin","ts":"2019-01-07T10:46:18.753Z"}
{"msg":"> nothing is written to the ledger\nhow do you check this? do you see any errors on the log? are you subscribed to events? have you checked tx status to see it's valid? @deelthor ","username":"C0rWin","ts":"2019-01-07T10:46:18.753Z"}
{"msg":"I cannot query the data which should be created by the transaction. After a restart of the peers I can see the data appearing. ","username":"deelthor","ts":"2019-01-07T11:38:41.066Z"}
{"msg":"I cannot query the data which should be created by the transaction. After a restart of the peers I can see the data appearing. @C0rWin ","username":"deelthor","ts":"2019-01-07T11:38:41.066Z"}
{"msg":"Does anyone have any idea why / when the previously described behaviour might occur?","username":"deelthor","ts":"2019-01-08T18:16:12.092Z"}
{"msg":"@deelthor do you see anything else in the logs? it block is committed, hence you should be able to see the data. are you sure you client doesn't cache anything?","username":"C0rWin","ts":"2019-01-08T22:57:14.788Z"}
{"msg":"Has joined the channel.","username":"spacemandev","ts":"2019-01-11T12:11:32.752Z","type":"uj"}
{"msg":"Has joined the channel.","username":"robertbrown","ts":"2019-01-11T19:50:41.967Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ycarmel","ts":"2019-01-22T08:44:54.988Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Jamie","ts":"2019-01-22T17:09:25.589Z","type":"uj"}
{"msg":"Has joined the channel.","username":"incarose","ts":"2019-01-23T00:23:22.811Z","type":"uj"}
{"msg":"Has joined the channel.","username":"allanlee2019","ts":"2019-01-24T17:14:28.435Z","type":"uj"}
{"msg":"Has left the channel.","username":"binhn","ts":"2019-01-26T16:50:00.723Z","type":"ul"}
{"msg":"Has joined the channel.","username":"lip-inagora","ts":"2019-01-28T00:22:06.620Z","type":"uj"}
{"msg":"Has joined the channel.","username":"samirbalabantaray","ts":"2019-01-29T09:25:20.463Z","type":"uj"}
{"msg":"```2019-02-08 10:54:44.112 UTC [gossip/comm] GossipStream -> ERRO e9342 Authentication failed: failed classifying identity: Unable to extract msp.Identity from peer Identity: Peer Identity``` Any1 faced this issue before?","username":"JayJong","ts":"2019-02-08T10:55:05.774Z"}
{"msg":"```2019-02-08 10:54:44.112 UTC [gossip/comm] GossipStream -> ERRO e9342 Authentication failed: failed classifying identity: Unable to extract msp.Identity from peer Identity: Peer Identity[] cannot be validated. No MSP found able to do that.``` Any1 faced this issue before?","username":"JayJong","ts":"2019-02-08T10:55:05.774Z"}
{"msg":"you haven't added the anchor peer to the channel @JayJong ","username":"yacovm","ts":"2019-02-08T12:01:52.603Z"}
{"msg":"@yacovm thanks for the pointer! I have another qn, im using fabric v1.3, after setting the network with 15 peers and installed chaincode, my peer logs kept increasing to the point where i do not have enough disk space because of gossip/gossip and gossip/comm DEBUG logs. Is this normal? Is it possible that i dun receive the debug logs and just listen to ERROR logs?","username":"JayJong","ts":"2019-02-09T21:30:47.747Z"}
{"msg":"yeah it's possible","username":"yacovm","ts":"2019-02-09T21:32:02.903Z"}
{"msg":"set the environment variable `CORE_LOGGING_GOSSIP=WARNING`","username":"yacovm","ts":"2019-02-09T21:32:28.315Z"}
{"msg":"I want to have gossip of WARNING level and the rest at DEBUG level. I defined CORE_LOGGING_LEVEL=DEBUG and CORE_LOGGING_GOSSIP=WARNING in my docker compose but it seems that gossip was still at debug level. Any way i could get what i want? ","username":"JayJong","ts":"2019-02-10T15:39:08.076Z"}
{"msg":"@wlahti ^ ","username":"yacovm","ts":"2019-02-10T15:54:51.346Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=3Zyktty9yuwCjrRjJ) @JayJong The logging levels of the peer and orderer commands are controlled by a logging specification, which is set via the FABRIC_LOGGING_SPEC environment variable.","username":"knagware9","ts":"2019-02-11T05:34:50.582Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=3Zyktty9yuwCjrRjJ","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=3Zyktty9yuwCjrRjJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"may be that is the reason its still in debug mode , if you try with FABRIC_LOGGING_SPEC = WARNING , may be it works","username":"knagware9","ts":"2019-02-11T05:35:57.013Z"}
{"msg":"@knagware9 thanks for the reply, im aware that FABRIC_LOGGING_SPEC has replaced CORE_LOGGING_LEVEL in v1.4. My current workabout for my situation is that im writing CORE_LOGGING_LEVEL=debug:gossip/gossip,gossip/comm,gossip/discovery,gossip/pull,gossip/election=warning","username":"JayJong","ts":"2019-02-11T06:27:18.681Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=vYmgmFXNwwe5sxLvi) @JayJong Okay ","username":"knagware9","ts":"2019-02-11T06:40:45.249Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=vYmgmFXNwwe5sxLvi","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=vYmgmFXNwwe5sxLvi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@JayJong I'm assuming you're using a version of Fabric pre-1.4? And yes, in the later versions before 1.4, the environment variable overrides (e.g. CORE_LOGGING_GOSSIP, CORE_LOGGING_MSP) aren't really functional. Some concurrency issues with the logging package we used required some changes that \"broke\" those overrides. Glad you found the spec functionality that's always been available via CORE_LOGGING_LEVEL. ","username":"wlahti","ts":"2019-02-11T12:46:48.194Z"}
{"msg":"@wlahti yes, im using v1.3 currently but im upgrading to v1.4 soon. Do i still have to do `FABRIC_LOGGING_SPEC=debug:gossip/gossip,gossip/comm,gossip/discovery,gossip/pull,gossip/election=warning` for v1.4 or is there a cleaner way?","username":"JayJong","ts":"2019-02-11T17:01:37.339Z"}
{"msg":"for v1.4, you should be able to use `FABRIC_LOGGING_SPEC=debug:gossip=warning` to set any logger that begins with `gossip` to warning","username":"wlahti","ts":"2019-02-11T17:03:02.742Z"}
{"msg":"@wlahti Ok, thanks for the help!","username":"JayJong","ts":"2019-02-12T02:34:51.762Z"}
{"msg":"Has joined the channel.","username":"SatoshiNishishita","ts":"2019-02-13T01:28:06.027Z","type":"uj"}
{"msg":"Has left the channel.","username":"danacr","ts":"2019-02-14T20:05:05.085Z","type":"ul"}
{"msg":"Has joined the channel.","username":"ping40","ts":"2019-02-22T04:13:38.075Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cjml1982","ts":"2019-03-07T07:32:53.439Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jtrayfield","ts":"2019-03-11T19:11:05.831Z","type":"uj"}
{"msg":"Has joined the channel.","username":"KyunghoKim","ts":"2019-03-12T03:08:59.312Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MHBauer","ts":"2019-03-12T18:49:17.756Z","type":"uj"}
{"msg":"Hi, I have multiple organizations with one peer per org. when I instantiate chaincode, Init() is only called in the chaincode for the peer I instantiate on. it's never called on the other peers.\nhow is the data that's set in Init() supposed to get to the other peers? is it supposed to be propagated by gossip?","username":"jtrayfield","ts":"2019-03-12T21:51:15.028Z"}
{"msg":"the init transactions gets into the next block, @jtrayfield ","username":"yacovm","ts":"2019-03-12T22:14:37.905Z"}
{"msg":"and it gets either from orderer or via gossip","username":"yacovm","ts":"2019-03-12T22:14:45.164Z"}
{"msg":"Has joined the channel.","username":"yanli133","ts":"2019-03-25T06:56:28.127Z","type":"uj"}
{"msg":"Has joined the channel.","username":"krishnatejap","ts":"2019-03-25T11:47:20.569Z","type":"uj"}
{"msg":"Hi All,\n\nWe are intending to run a fabric network with 26 organizations comprising of:\n\t- one orderer (\"solo\" based consensus)\n\t- two peers per organizations each having a couchdb database. Out of two, one peer is designated\n\tas the Anchor peer and are setting \"CORE_PEER_GOSSIP_USELEADERELECTION=true\" for electing the\n\tleader dynamically.\n\nOn the whole, we are spinning 105 containers (52 peers + 52 couchdb + one orderer).\nWe based our network configuration on the \"BYFN\" example. In addition to this,\nwe are setting the values of \"CORE_PEER_TLS_CLIENTAUTHREQUIRED\" and \"ORDERER_GENERAL_TLS_CLIENTAUTHREQUIRED\"\nto \"true\" - also set the value of \"ORDERER_GENERAL_TLS_CLIENTROOTCAS\" to contain the list of client CA's.\nWe were able to successfully spin off a network with 14 organizations but when tried to extend it for 12 more\norganizations, we are facing multiple issues - by extending, I meant we are trying to create the peers for\n26 organizations at one go. We are running the network on a single machine.\n\nWe were able to create the channel and join the peers to the channel. But when doing an \"Anchor\" peer update,\nthe network stops when updating the \"Anchor\" peer for the 19th organization with the following error: \"Context deadline exceeded.\"\n\nWe added a sleep of 100 seconds between each update and set the following environment variables.\n\t- CORE_PEER_GOSSIP_ALIVETIMEINTERVAL=100s\n    - CORE_PEER_GOSSIP_ALIVEEXPIRATIONTIMEOUT=100s\n    - CORE_PEER_GOSSIP_RECONNECTINTERVAL=100s\n    - CORE_PEER_GOSSIP_DIALTIMEOUT=1000s\n    - CORE_PEER_GOSSIP_RESPONSEWAITTIME=1000s\n    - CORE_PEER_DISCOVERY_PERIOD=300s\n    - CORE_PEER_DISCOVERY_TOUCHPERIOD=30s\n    - CORE_LEDGER_STATE_COUCHDBCONFIG_REQUESTTIMEOUT=300s\n    - CORE_PEER_KEEPALIVE=300s\n    - CORE_PEER_KEEPALIVE_CLIENT_INTERVAL=300s\n\nWe aren't sure if they are required, but assuming that it would, we tried but failed.\nThis time, the anchor peer update was successful, despite the following errors/warnings:\n\n2019-03-25 11:04:35.518 UTC [gossip/comm] sendToEndpoint -> WARN a8c Failed obtaining connection for peer0.organization17.com:7051, PKIid:[213 58 75 254 200 30 208 175 202 1 180 210 202 31 30 144 176 199 65 190 121 87 70 35 133 236 10 32 167 113 116 112] reason: context deadline exceeded\n\n2019-03-25 11:07:36.109 UTC [gossip/discovery] func1 -> WARN b4c Could not connect to {peer0.organization6.com:7051 [] [] peer0.organization6.com:7051 <nil> <nil>} : context deadline exceeded\n2019-03-25 11:07:36.203 UTC [gossip/gossip] func1 -> WARN b4d Deep probe of peer0.organization18.com:7051 failed: context deadline exceeded\ngithub.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).learnAnchorPeers.func1\n        /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:247\ngithub.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1\n        /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:159\nruntime.goexit\n        /opt/go/src/runtime/asm_amd64.s:2361\n\t\t\nWe also see that the docker containers for some of the peers are exited with error code \"2\" - however, the OOMKiller flag is set to false.\nWe aren't sure where we are going wrong as we don't see an issue with the system resources nor the docker engine.\nRequest your help in fixing the issue. #fabric-gossip #fabric ","username":"krishnatejap","ts":"2019-03-25T12:27:06.074Z"}
{"msg":"are you running in docker?","username":"yacovm","ts":"2019-03-25T15:06:58.715Z"}
{"msg":"Hi @yacovm , we are not running in docker.","username":"krishnatejap","ts":"2019-03-25T16:47:28.219Z"}
{"msg":"@yacovm , We tried setting up the system using the Fabric versions V1.3 and V1.4 but were unable to do so.","username":"krishnatejap","ts":"2019-03-25T16:48:27.022Z"}
{"msg":"@yacovm , each peer and the orderer is run as a container. ","username":"krishnatejap","ts":"2019-03-25T17:20:04.467Z"}
{"msg":"Please excuse me for the confusion","username":"krishnatejap","ts":"2019-03-25T17:20:14.501Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-gossip?msg=4yCGxsNv6rojxeRWX) Hi Team, any update on the issue please?","username":"krishnatejap","ts":"2019-03-27T15:04:07.924Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=4yCGxsNv6rojxeRWX","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=4yCGxsNv6rojxeRWX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"try to see why it doesn't connect","username":"yacovm","ts":"2019-03-27T15:05:58.383Z"}
{"msg":"run `tcpdump -w out.log`","username":"yacovm","ts":"2019-03-27T15:06:04.052Z"}
{"msg":"and open it with wireshark","username":"yacovm","ts":"2019-03-27T15:06:06.813Z"}
{"msg":"and see if this is a network problem or a TLS issue","username":"yacovm","ts":"2019-03-27T15:06:17.717Z"}
{"msg":"Has joined the channel.","username":"plato","ts":"2019-04-01T22:02:10.522Z","type":"uj"}
{"msg":"@yacovm I have 5 orgs on my network and I can invoke the chaincode function and everything works fine even private collection works well on my network but I'm facing with this  WARN cfd Message GossipMessage: tag:CHAN_OR_ORG state_info:<timestamp ..chaincodes:<name:\"slc_0313\" version:\"1.0\" > > > , Envelope: 136 bytes, Signature: 71 bytes isn't valid,is there anything wrong \n\n``` \n```","username":"plato","ts":"2019-04-01T22:05:05.099Z"}
{"msg":"@yacovm I have 5 orgs on my network and I can invoke the chaincode function and everything works fine even private collection works well on my network but I'm facing with this  WARN cfd Message GossipMessage: tag:CHAN_OR_ORG state_info:<timestamp ..chaincodes:<name:\"slc_0313\" version:\"1.0\" > > > , Envelope: 136 bytes, Signature: 71 bytes isn't valid,is there anything wrong \n\n``` \n","username":"plato","ts":"2019-04-01T22:05:05.099Z"}
{"msg":"","username":"plato","ts":"2019-04-01T22:06:36.401Z","attachments":[{"type":"file","title":"gossip.gossip] handleMessage -> WARN ","title_link":"/file-upload/Bu9oXHpXMpAppTYn4/gossip.gossip%5D%20handleMessage%20-%3E%20WARN%20","image_url":"/file-upload/Bu9oXHpXMpAppTYn4/gossip.gossip%5D%20handleMessage%20-%3E%20WARN%20","image_type":"image/png","image_size":280781,"url":"/file-upload/Bu9oXHpXMpAppTYn4/gossip.gossip%5D%20handleMessage%20-%3E%20WARN%20","remote":false,"fileId":"Bu9oXHpXMpAppTYn4","fileName":"gossip.gossip] handleMessage -> WARN "}]}
{"msg":"","username":"plato","ts":"2019-04-01T22:06:36.401Z","attachments":[{"type":"file","title":"gossip.gossip] handleMessage -> WARN ","title_link":"/file-upload/Bu9oXHpXMpAppTYn4/gossip.gossip%5D%20handleMessage%20-%3E%20WARN%20","image_url":"/file-upload/Bu9oXHpXMpAppTYn4/gossip.gossip%5D%20handleMessage%20-%3E%20WARN%20","image_type":"image/png","image_size":280781,"url":"/file-upload/Bu9oXHpXMpAppTYn4/gossip.gossip%5D%20handleMessage%20-%3E%20WARN%20","remote":false,"fileId":"Bu9oXHpXMpAppTYn4","fileName":"gossip.gossip] handleMessage -> WARN "}]}
{"msg":"does it repeat?","username":"yacovm","ts":"2019-04-02T12:32:41.772Z"}
{"msg":"Hello @yacovm , when calling service discovery from a peer, I encountered an issue that the peer only returned a sub set of endorsers from time to time. How long should I wait before a peer can get a full list of endorsers list for a specific chaincode?","username":"xixuejia","ts":"2019-04-02T13:11:47.422Z"}
{"msg":"@xixuejia hmm you can see why it doesn't select all of them","username":"yacovm","ts":"2019-04-02T13:19:09.696Z"}
{"msg":"for example try to do a peer membership query","username":"yacovm","ts":"2019-04-02T13:19:15.823Z"}
{"msg":"and see if it has them in the view","username":"yacovm","ts":"2019-04-02T13:19:20.694Z"}
{"msg":"if I repeat doing service discovery, say I have 2 orgs with 2 peers per org, the peer will might return 1, 2, 3, 4 peers","username":"xixuejia","ts":"2019-04-02T13:27:53.544Z"}
{"msg":"that seems unpredicatable","username":"xixuejia","ts":"2019-04-02T13:28:03.634Z"}
{"msg":"when you do a peer query?","username":"yacovm","ts":"2019-04-02T13:29:29.602Z"}
{"msg":"@xixuejia ","username":"yacovm","ts":"2019-04-02T13:29:32.652Z"}
{"msg":"yes","username":"xixuejia","ts":"2019-04-02T13:30:08.703Z"}
{"msg":"and the peer query returns to you not all peers?","username":"yacovm","ts":"2019-04-02T13:41:11.925Z"}
{"msg":"correct","username":"xixuejia","ts":"2019-04-02T13:48:25.583Z"}
{"msg":"I did encounter this in v1.3 and v1.4","username":"xixuejia","ts":"2019-04-02T13:48:52.759Z"}
{"msg":"hmm this is most likely not a bug in discovery, but actually the peers themselves have an unstable membership view","username":"yacovm","ts":"2019-04-02T13:49:34.064Z"}
{"msg":"check the logs to see if the peers complain about some errors or somethign","username":"yacovm","ts":"2019-04-02T13:49:52.087Z"}
{"msg":"and check if the peers communicate with one another","username":"yacovm","ts":"2019-04-02T13:50:08.545Z"}
{"msg":"if it is a bug somewhere, i would guess it might be a bug in gossip that it sometimes doesn't return an external endpoint ","username":"yacovm","ts":"2019-04-02T13:50:53.016Z"}
{"msg":"but i don't think it can be a bug in discovery... the code path for membership query is very simple ","username":"yacovm","ts":"2019-04-02T13:51:19.456Z"}
{"msg":"so check for the logs first please :) ","username":"yacovm","ts":"2019-04-02T13:51:26.398Z"}
{"msg":"I can see logs like ```2019-04-02 13:32:36.132 UTC [nodeCmd] func9 -> INFO 01d Starting profiling server with listenAddress = 0.0.0.0:6060\n2019-04-02 13:32:37.129 UTC [gossip/comm] func1 -> WARN 01e peer1.org1.example.com:7051, PKIid:[109 3 56 61 77 38 219 195 76 245 21 241 45 192 238 190 205 104 103 68 115 35 52 204 70 155 222 253 23 78 73 47] isn't responsive: rpc error: code = Unavailable desc = transport is closing\n2019-04-02 13:32:37.129 UTC [gossip/discovery] expireDeadMembers -> WARN 01f Entering [[109 3 56 61 77 38 219 195 76 245 21 241 45 192 238 190 205 104 103 68 115 35 52 204 70 155 222 253 23 78 73 47]]\n2019-04-02 13:32:37.129 UTC [gossip/discovery] expireDeadMembers -> WARN 020 Closing connection to Endpoint: peer1.org1.example.com:7051, InternalEndpoint: peer1.org1.example.com:7051, PKI-ID: [109 3 56 61 77 38 219 195 76 245 21 241 45 192 238 190 205 104 103 68 115 35 52 204 70 155 222 253 23 78 73 47], Metadata: []\n2019-04-02 13:32:37.129 UTC [gossip/discovery] expireDeadMembers -> WARN 021 Exiting```","username":"xixuejia","ts":"2019-04-02T13:52:22.525Z"}
{"msg":"aha","username":"yacovm","ts":"2019-04-02T13:52:37.189Z"}
{"msg":"ok so it's because of it","username":"yacovm","ts":"2019-04-02T13:52:41.054Z"}
{"msg":"I don't know why it expire dead members. all these peers run in a single machine","username":"xixuejia","ts":"2019-04-02T13:52:58.870Z"}
{"msg":"how many peers do you have?","username":"yacovm","ts":"2019-04-02T13:53:12.168Z"}
{"msg":"2*2=4 peers","username":"xixuejia","ts":"2019-04-02T13:53:23.691Z"}
{"msg":"how many channels?","username":"yacovm","ts":"2019-04-02T13:53:31.703Z"}
{"msg":"10","username":"xixuejia","ts":"2019-04-02T13:53:35.899Z"}
{"msg":"oh i see","username":"yacovm","ts":"2019-04-02T13:59:22.838Z"}
{"msg":"so, you need more CPUs :( ","username":"yacovm","ts":"2019-04-02T13:59:27.577Z"}
{"msg":"the message verification is too costly and i never had the time to optimize it","username":"yacovm","ts":"2019-04-02T13:59:40.923Z"}
{"msg":"check `top` ","username":"yacovm","ts":"2019-04-02T14:00:07.387Z"}
{"msg":"see if the CPU is on 100%","username":"yacovm","ts":"2019-04-02T14:00:12.798Z"}
{"msg":":ok_hand: haha. let me check. Thanks for your help @yacovm ","username":"xixuejia","ts":"2019-04-02T14:02:35.520Z"}
{"msg":"it's not 100%, average to ~50%","username":"xixuejia","ts":"2019-04-02T14:04:07.712Z"}
{"msg":"hmmm odd. ","username":"yacovm","ts":"2019-04-02T14:06:17.310Z"}
{"msg":"so you don't need more CPUs then i think","username":"yacovm","ts":"2019-04-02T14:06:32.443Z"}
{"msg":"but seems like the peer only started","username":"yacovm","ts":"2019-04-02T14:06:49.768Z"}
{"msg":"it takes some time for things to stabilize","username":"yacovm","ts":"2019-04-02T14:06:54.865Z"}
{"msg":"if you want like 30 seconds","username":"yacovm","ts":"2019-04-02T14:07:01.323Z"}
{"msg":"how is that then?","username":"yacovm","ts":"2019-04-02T14:07:04.247Z"}
{"msg":"sure, I will retry it later. Thanks @yacovm ","username":"xixuejia","ts":"2019-04-02T14:16:49.754Z"}
{"msg":"Hi @yacovm  with the suggestions you provided last week, I found that the cpu usage was ~100% when I do cc instantiate, and I did service discovery immediately after cc instantiate, I think that caused the issue I encountered. I gave it a 5s sleep after cc instantiate and I no longer encounter that problem. Thanks for your help!","username":"xixuejia","ts":"2019-04-09T05:26:35.832Z"}
{"msg":"@xixuejia cool ","username":"yacovm","ts":"2019-04-09T07:57:24.412Z"}
{"msg":"glad i could help","username":"yacovm","ts":"2019-04-09T07:57:28.978Z"}
{"msg":"I have a quick question about private data propagation:\n\nStarting in v 1.4 peers from organizations that are added to a private data collection definition automatically fetch private data committed to the collection before they joined.\n\nMy question is whether they receive historical write-set information (so that this information can be used to audit past transactions) - or whether they just receive contemporary data?\n\nMy question is related to this: https://stackoverflow.com/questions/51960671/history-for-private-data-in-hyperledger-fabric\n\nHelp clarifying these points appreciated.","username":"zacpl","ts":"2019-04-10T11:28:48.331Z"}
{"msg":"@zacpl in v1.4... peers from newly added orgs will receive the historical private write-sets for collections that they join, and their private state database will be updated if the private data represents the latest keys/values. The piece that is not there is APIs to query this information: https://jira.hyperledger.org/browse/FAB-5094","username":"dave.enyeart","ts":"2019-04-10T20:29:26.376Z"}
{"msg":"Thanks @dave.enyeart !\n\nSomehow missed that on jira: only spotted FAB-5093...\n\nwill stay posted","username":"zacpl","ts":"2019-04-11T11:06:55.708Z"}
{"msg":"Has joined the channel.","username":"mistogans","ts":"2019-04-24T06:59:05.771Z","type":"uj"}
{"msg":"Hi, we are seeing problems with the gossip membership list on every peer in our Fabric network. In summary, the membership list is very unstable and peers constantly drop out of each other's list every few seconds. Below is a snippet of our logs.\n\n```2019-04-25 01:51:55.608 UTC [gossip.discovery] expireDeadMembers -> WARN d202 Exiting\n2019-04-25 01:51:59.140 UTC [gossip.channel] reportMembershipChanges -> INFO d203 Membership view has changed. peers went offline:  [[peer0.org11.example.com:7051 ]] , current view:  [[peer0.org10.example.com:7051 ] [peer0.org13.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org15.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org18.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org22.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org8.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ]]\n2019-04-25 01:52:05.712 UTC [comm.grpc.server] 1 -> INFO d204 unary call completed {\"grpc.start_time\": \"2019-04-25T01:52:05.712Z\", \"grpc.service\": \"gossip.Gossip\", \"grpc.method\": \"Ping\", \"grpc.request_deadline\": \"2019-04-25T01:52:07.712Z\", \"grpc.peer_address\": \"10.0.9.41:44594\", \"grpc.peer_subject\": \"CN=peer0.org22.example.com,L=San Francisco,ST=California,C=US\", \"grpc.code\": \"OK\", \"grpc.call_duration\": \"157.975s\"}\n2019-04-25 01:52:09.140 UTC [gossip.channel] reportMembershipChanges -> INFO d205 Membership view has changed. peers went online:  [[peer0.org11.example.com:7051 ]] , current view:  [[peer0.org15.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org18.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org22.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org8.example.com:7051 ] [peer0.org11.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org10.example.com:7051 ] [peer0.org13.example.com:7051 ]]\n2019-04-25 01:52:09.353 UTC [comm.grpc.server] 1 -> INFO d206 streaming call completed {\"grpc.start_time\": \"2019-04-25T01:49:29.299Z\", \"grpc.service\": \"gossip.Gossip\", \"grpc.method\": \"GossipStream\", \"grpc.peer_address\": \"10.0.9.3:39924\", \"grpc.peer_subject\": \"CN=peer0.org13.example.com,L=San Francisco,ST=California,C=US\", \"error\": \"rpc error: code = Canceled desc = context canceled\", \"grpc.code\": \"Canceled\", \"grpc.call_duration\": \"2m40.05450849s\"}\n2019-04-25 01:52:13.110 UTC [gossip.discovery] getDeadMembers -> WARN d207 Haven't heard from [228 6 93 182 126 13 90 123 11 24 161 26 85 17 97 232 130 132 194 172 229 28 198 59 93 41 219 118 182 70 42 5] for 25.629033151s\n2019-04-25 01:52:13.113 UTC [gossip.discovery] expireDeadMembers -> WARN d208 Entering [e4065db67e0d5a7b0b18a11a551161e88284c2ace51cc63b5d29db76b6462a05]\n2019-04-25 01:52:13.113 UTC [gossip.discovery] expireDeadMembers -> WARN d209 Closing connection to Endpoint: peer0.org18.example.com:7051, InternalEndpoint: , PKI-ID: e4065db67e0d5a7b0b18a11a551161e88284c2ace51cc63b5d29db76b6462a05, Metadata:\n2019-04-25 01:52:13.114 UTC [gossip.discovery] expireDeadMembers -> WARN d20a Exiting\n2019-04-25 01:52:14.140 UTC [gossip.channel] reportMembershipChanges -> INFO d20b Membership view has changed. peers went offline:  [[peer0.org18.example.com:7051 ]] , current view:  [[peer0.org8.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org13.example.com:7051 ] [peer0.org11.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org10.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org15.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org22.example.com:7051 ]]```\n\nFabric network setup: 23 Organisations. They are hosted on 2 VMs on a docker swarm legacy setup. There will be 1 peer per org (23 peers total) and 1 ca per org (23 CAs total). There is a SOLO orderer setup, with only one channel that every org and peer will join. There are 2 chaincodes instantiated on the channel, and both will be installed on every peer. One of the chaincodes use private data collections. Our VMs are 16G CPU and 32GB Memory each.","username":"mistogans","ts":"2019-04-25T01:57:11.048Z"}
{"msg":"Hi, we are seeing problems with the gossip membership list on every peer in our Fabric network. In summary, the membership list is very unstable and peers constantly drop out of each other's list every few seconds. Below is a snippet of our logs from one of the peers.\n\n```2019-04-25 01:51:55.608 UTC [gossip.discovery] expireDeadMembers -> WARN d202 Exiting\n2019-04-25 01:51:59.140 UTC [gossip.channel] reportMembershipChanges -> INFO d203 Membership view has changed. peers went offline:  [[peer0.org11.example.com:7051 ]] , current view:  [[peer0.org10.example.com:7051 ] [peer0.org13.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org15.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org18.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org22.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org8.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ]]\n2019-04-25 01:52:05.712 UTC [comm.grpc.server] 1 -> INFO d204 unary call completed {\"grpc.start_time\": \"2019-04-25T01:52:05.712Z\", \"grpc.service\": \"gossip.Gossip\", \"grpc.method\": \"Ping\", \"grpc.request_deadline\": \"2019-04-25T01:52:07.712Z\", \"grpc.peer_address\": \"10.0.9.41:44594\", \"grpc.peer_subject\": \"CN=peer0.org22.example.com,L=San Francisco,ST=California,C=US\", \"grpc.code\": \"OK\", \"grpc.call_duration\": \"157.975s\"}\n2019-04-25 01:52:09.140 UTC [gossip.channel] reportMembershipChanges -> INFO d205 Membership view has changed. peers went online:  [[peer0.org11.example.com:7051 ]] , current view:  [[peer0.org15.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org18.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org22.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org8.example.com:7051 ] [peer0.org11.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org10.example.com:7051 ] [peer0.org13.example.com:7051 ]]\n2019-04-25 01:52:09.353 UTC [comm.grpc.server] 1 -> INFO d206 streaming call completed {\"grpc.start_time\": \"2019-04-25T01:49:29.299Z\", \"grpc.service\": \"gossip.Gossip\", \"grpc.method\": \"GossipStream\", \"grpc.peer_address\": \"10.0.9.3:39924\", \"grpc.peer_subject\": \"CN=peer0.org13.example.com,L=San Francisco,ST=California,C=US\", \"error\": \"rpc error: code = Canceled desc = context canceled\", \"grpc.code\": \"Canceled\", \"grpc.call_duration\": \"2m40.05450849s\"}\n2019-04-25 01:52:13.110 UTC [gossip.discovery] getDeadMembers -> WARN d207 Haven't heard from [228 6 93 182 126 13 90 123 11 24 161 26 85 17 97 232 130 132 194 172 229 28 198 59 93 41 219 118 182 70 42 5] for 25.629033151s\n2019-04-25 01:52:13.113 UTC [gossip.discovery] expireDeadMembers -> WARN d208 Entering [e4065db67e0d5a7b0b18a11a551161e88284c2ace51cc63b5d29db76b6462a05]\n2019-04-25 01:52:13.113 UTC [gossip.discovery] expireDeadMembers -> WARN d209 Closing connection to Endpoint: peer0.org18.example.com:7051, InternalEndpoint: , PKI-ID: e4065db67e0d5a7b0b18a11a551161e88284c2ace51cc63b5d29db76b6462a05, Metadata:\n2019-04-25 01:52:13.114 UTC [gossip.discovery] expireDeadMembers -> WARN d20a Exiting\n2019-04-25 01:52:14.140 UTC [gossip.channel] reportMembershipChanges -> INFO d20b Membership view has changed. peers went offline:  [[peer0.org18.example.com:7051 ]] , current view:  [[peer0.org8.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org13.example.com:7051 ] [peer0.org11.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org10.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org15.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org22.example.com:7051 ]]```\n\nFabric network setup: 23 Organisations. They are hosted on 2 VMs on a docker swarm legacy setup. There will be 1 peer per org (23 peers total) and 1 ca per org (23 CAs total). There is a SOLO orderer setup, with only one channel that every org and peer will join. There are 2 chaincodes instantiated on the channel, and both will be installed on every peer. One of the chaincodes use private data collections. Our VMs are 16G CPU and 32GB Memory each.","username":"mistogans","ts":"2019-04-25T01:57:11.048Z"}
{"msg":"Hi, we are seeing problems with the gossip membership list on every peer in our Fabric network. In summary, the membership list is very unstable and peers constantly drop out of each other's list every few seconds. Below is a snippet of our logs from one of the peers. This happens even when the network is idle, and won't stop until I bring down the network.\n\n```2019-04-25 01:51:55.608 UTC [gossip.discovery] expireDeadMembers -> WARN d202 Exiting\n2019-04-25 01:51:59.140 UTC [gossip.channel] reportMembershipChanges -> INFO d203 Membership view has changed. peers went offline:  [[peer0.org11.example.com:7051 ]] , current view:  [[peer0.org10.example.com:7051 ] [peer0.org13.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org15.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org18.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org22.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org8.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ]]\n2019-04-25 01:52:05.712 UTC [comm.grpc.server] 1 -> INFO d204 unary call completed {\"grpc.start_time\": \"2019-04-25T01:52:05.712Z\", \"grpc.service\": \"gossip.Gossip\", \"grpc.method\": \"Ping\", \"grpc.request_deadline\": \"2019-04-25T01:52:07.712Z\", \"grpc.peer_address\": \"10.0.9.41:44594\", \"grpc.peer_subject\": \"CN=peer0.org22.example.com,L=San Francisco,ST=California,C=US\", \"grpc.code\": \"OK\", \"grpc.call_duration\": \"157.975s\"}\n2019-04-25 01:52:09.140 UTC [gossip.channel] reportMembershipChanges -> INFO d205 Membership view has changed. peers went online:  [[peer0.org11.example.com:7051 ]] , current view:  [[peer0.org15.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org18.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org22.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org8.example.com:7051 ] [peer0.org11.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org10.example.com:7051 ] [peer0.org13.example.com:7051 ]]\n2019-04-25 01:52:09.353 UTC [comm.grpc.server] 1 -> INFO d206 streaming call completed {\"grpc.start_time\": \"2019-04-25T01:49:29.299Z\", \"grpc.service\": \"gossip.Gossip\", \"grpc.method\": \"GossipStream\", \"grpc.peer_address\": \"10.0.9.3:39924\", \"grpc.peer_subject\": \"CN=peer0.org13.example.com,L=San Francisco,ST=California,C=US\", \"error\": \"rpc error: code = Canceled desc = context canceled\", \"grpc.code\": \"Canceled\", \"grpc.call_duration\": \"2m40.05450849s\"}\n2019-04-25 01:52:13.110 UTC [gossip.discovery] getDeadMembers -> WARN d207 Haven't heard from [228 6 93 182 126 13 90 123 11 24 161 26 85 17 97 232 130 132 194 172 229 28 198 59 93 41 219 118 182 70 42 5] for 25.629033151s\n2019-04-25 01:52:13.113 UTC [gossip.discovery] expireDeadMembers -> WARN d208 Entering [e4065db67e0d5a7b0b18a11a551161e88284c2ace51cc63b5d29db76b6462a05]\n2019-04-25 01:52:13.113 UTC [gossip.discovery] expireDeadMembers -> WARN d209 Closing connection to Endpoint: peer0.org18.example.com:7051, InternalEndpoint: , PKI-ID: e4065db67e0d5a7b0b18a11a551161e88284c2ace51cc63b5d29db76b6462a05, Metadata:\n2019-04-25 01:52:13.114 UTC [gossip.discovery] expireDeadMembers -> WARN d20a Exiting\n2019-04-25 01:52:14.140 UTC [gossip.channel] reportMembershipChanges -> INFO d20b Membership view has changed. peers went offline:  [[peer0.org18.example.com:7051 ]] , current view:  [[peer0.org8.example.com:7051 ] [peer0.org17.example.com:7051 ] [peer0.org1.example.com:7051 ] [peer0.org12.example.com:7051 ] [peer0.org13.example.com:7051 ] [peer0.org11.example.com:7051 ] [peer0.org19.example.com:7051 ] [peer0.org10.example.com:7051 ] [peer0.org14.example.com:7051 ] [peer0.org15.example.com:7051 ] [peer0.org6.example.com:7051 ] [peer0.org7.example.com:7051 ] [peer0.org23.example.com:7051 ] [peer0.org21.example.com:7051 ] [peer0.org16.example.com:7051 ] [peer0.org5.example.com:7051 ] [peer0.org9.example.com:7051 ] [peer0.org4.example.com:7051 ] [peer0.org20.example.com:7051 ] [peer0.org22.example.com:7051 ]]```\n\nFabric network setup: 23 Organisations. They are hosted on 2 VMs on a docker swarm legacy setup. There will be 1 peer per org (23 peers total) and 1 ca per org (23 CAs total). There is a SOLO orderer setup, with only one channel that every org and peer will join. There are 2 chaincodes instantiated on the channel, and both will be installed on every peer. One of the chaincodes use private data collections. Our VMs are 16G CPU and 32GB Memory each.","username":"mistogans","ts":"2019-04-25T01:57:11.048Z"}
{"msg":"","username":"mistogans","ts":"2019-04-25T02:04:55.776Z","attachments":[{"type":"file","title":"Htop logs - April 25, 2019 10:04 AM","title_link":"/file-upload/KTugF2EfKoww75RKp/Htop%20logs%20-%20April%2025,%202019%2010:04%20AM","image_url":"/file-upload/KTugF2EfKoww75RKp/Htop%20logs%20-%20April%2025,%202019%2010:04%20AM","image_type":"image/png","image_size":374927,"url":"/file-upload/KTugF2EfKoww75RKp/Htop%20logs%20-%20April%2025,%202019%2010:04%20AM","remote":false,"fileId":"KTugF2EfKoww75RKp","fileName":"Htop logs - April 25, 2019 10:04 AM"}]}
{"msg":"Originally we thought it was a CPU/Memory resource issue but htop seems to show that our VMs are pretty stable, here is a htop from one of our VMs\n(Not sure how to put a file here, if anyone can help out)\n","username":"mistogans","ts":"2019-04-25T02:05:05.023Z"}
{"msg":"Has joined the channel.","username":"Fias","ts":"2019-04-26T06:53:41.573Z","type":"uj"}
{"msg":"Has left the channel.","username":"spacemandev","ts":"2019-05-06T18:49:20.310Z","type":"ul"}
{"msg":"Has joined the channel.","username":"kantipov","ts":"2019-05-08T09:44:42.485Z","type":"uj"}
{"msg":"@mistogans does any of peer that went offline reappears online again? ","username":"IgorSim","ts":"2019-05-20T10:15:57.007Z"}
{"msg":"@mistogans does any peer(s) that went offline reappears online again? ","username":"IgorSim","ts":"2019-05-20T10:15:57.007Z"}
{"msg":"We are working on a deployment and we are getting this message. Received AliveMessage from a peer with the same PKI-ID as myself. I had searched for this message and it must be coming from discovery_impl.go.","username":"gauthampamu","ts":"2019-05-20T16:14:03.281Z"}
{"msg":"@dave.enyeart We are working on a deployment and we are getting this message. Received AliveMessage from a peer with the same PKI-ID as myself. I had searched for this message and it must be coming from discovery_impl.go.","username":"gauthampamu","ts":"2019-05-20T16:14:03.281Z"}
{"msg":"Can you explain what cause these errors. In our deployment we have two peers in the same organization and the team configured both peers as anchor peers. I am thinking that is causing the error. ","username":"gauthampamu","ts":"2019-05-20T16:14:55.450Z"}
{"msg":"Has joined the channel.","username":"risc","ts":"2019-05-20T20:11:46.881Z","type":"uj"}
{"msg":"@gauthampamu you used the same certificate for 2 different peers ","username":"yacovm","ts":"2019-05-20T22:03:24.423Z"}
{"msg":"each peer should have its own certificate....","username":"yacovm","ts":"2019-05-20T22:04:10.377Z"}
{"msg":"@yacovm Thanks @yacovm for the response. We realized it after sending the message. We already changed it and the issue is resolved now. ","username":"gauthampamu","ts":"2019-05-20T23:49:12.968Z"}
{"msg":"Could a gossip expert please offer an explanation to the question about anchor peer updates, discussed in  https://jira.hyperledger.org/browse/FAB-15460 and comments? Thanks!","username":"scottz","ts":"2019-05-21T17:20:38.277Z"}
{"msg":"yes @scottz will comment in few min :) ","username":"yacovm","ts":"2019-05-21T17:55:47.256Z"}
{"msg":"Has joined the channel.","username":"swetha","ts":"2019-05-22T16:34:43.644Z","type":"uj"}
{"msg":"@MHBauer and I have started this document to keep track/discuss our fixes for the gossip flakes: https://docs.google.com/document/d/1ABJQ7F5ej-D16LzXmzICR3Prs5hoUNuZyvDy7u6GU8s/edit?usp=sharing /cc @sykesm  @ronenschafferibm ","username":"swetha","ts":"2019-05-24T19:58:30.310Z"}
{"msg":"Has joined the channel.","username":"ronenschafferibm","ts":"2019-05-24T19:58:31.625Z","type":"uj"}
{"msg":"we might switch it to a wiki page if we find the appropriate place...","username":"MHBauer","ts":"2019-05-24T20:12:05.924Z"}
{"msg":"Created a wiki page: https://wiki.hyperledger.org/x/EoXT","username":"swetha","ts":"2019-05-24T23:32:36.028Z"}
{"msg":"Hi Guys, my customer wants to not use gossip between peer in different organisations, so 2 questions: 1-  there is any other impacts besides Services Discovery and Private Date Collections?  2 - What is the best practices to disable it? ","username":"risc","ts":"2019-05-31T15:33:43.834Z"}
{"msg":"what's the rational behind disabling it? ","username":"yacovm","ts":"2019-05-31T16:30:25.241Z"}
{"msg":"They want to reduce the network (firewalls, ips etc) complexity ","username":"risc","ts":"2019-05-31T16:57:05.667Z"}
{"msg":"ok so just don't put any anchor peers or bootstrap peers","username":"yacovm","ts":"2019-05-31T16:57:52.436Z"}
{"msg":"Anchors are just used for Gossip, correct? ","username":"risc","ts":"2019-05-31T17:07:09.341Z"}
{"msg":"Anchor are just used for gossip rigth?","username":"risc","ts":"2019-05-31T17:07:28.206Z"}
{"msg":"Anchor are just used for gossip right?","username":"risc","ts":"2019-05-31T17:07:28.206Z"}
{"msg":"and internally in the Org? can the peers use gossip to sync?","username":"risc","ts":"2019-05-31T17:08:39.040Z"}
{"msg":"anchor peers are used to establish communication between orgs","username":"yacovm","ts":"2019-05-31T18:28:01.454Z"}
{"msg":"great. Thx ","username":"risc","ts":"2019-05-31T21:09:38.684Z"}
{"msg":"in gossip/state, what is antiEntropy ?","username":"MHBauer","ts":"2019-06-04T23:29:46.536Z"}
{"msg":"what does the term mean or where is it described?","username":"MHBauer","ts":"2019-06-04T23:33:15.791Z"}
{"msg":"antiEntropy used to sync state, e.g. bring block what outside of gossip push/pull sliding window","username":"C0rWin","ts":"2019-06-05T05:43:28.226Z"}
{"msg":"described here: ftp://ftp.uk.i-scream.org/sites/www.bitsavers.org/pdf/xerox/parc/techReports/CSL-89-1_Epidemic_Algorithms_for_Replicated_Database_Maintenance.pdf","username":"C0rWin","ts":"2019-06-05T07:16:22.595Z"}
{"msg":"@MHBauer what are you trying to do w/ it?","username":"C0rWin","ts":"2019-06-05T07:16:22.636Z"}
{"msg":"understand what it is, why it has that name, what the name means. sort of a 5whys and answer the five w's kind of thing.","username":"MHBauer","ts":"2019-06-05T18:13:40.298Z"}
{"msg":"and now that I have a paper, I can make sure it's correct and put a link to the paper somewhere.","username":"MHBauer","ts":"2019-06-05T18:15:07.163Z"}
{"msg":"it's a very curious name. eye-catching","username":"MHBauer","ts":"2019-06-05T18:26:43.962Z"}
{"msg":"> and now that I have a paper, I can make sure it's correct and put a link to the paper somewhere.\n\npaper explains the context and why you cannot avoid it, while algorithmic wise it's not described. \nwhile making sure it's correct and before publishing a link could you please keep me posted? \n\nthis is very general paper which kind of incepted all epidemic style protocols, while it has really little connection to what we have in Fabric.\nhence I do not think publishing this link stating it's related to Fabric will be just wrong.","username":"C0rWin","ts":"2019-06-06T12:15:08.025Z"}
{"msg":"okay, will keep posted, haven't started on either yet, was more of a curiosity issue at the time. ","username":"MHBauer","ts":"2019-06-06T17:18:02.773Z"}
{"msg":"Has joined the channel.","username":"huxd","ts":"2019-08-14T01:07:58.147Z","type":"uj"}
{"msg":"Has joined the channel.","username":"iamdm","ts":"2019-08-14T08:59:05.625Z","type":"uj"}
{"msg":"Dummy question.. Is there any validation of transactions when an offline peer comes back online and uses gossip to catch up? ","username":"tennenjl","ts":"2019-08-23T19:58:58.101Z"}
{"msg":"@tennenjl - it's via the same mechanism... ","username":"yacovm","ts":"2019-08-23T20:20:02.239Z"}
{"msg":"gossip just pushes transactions into validation and then into the ledger","username":"yacovm","ts":"2019-08-23T20:20:26.415Z"}
{"msg":"Thanks so does that mean each peer will validate the transactions before they get recorded into the ledger.  ","username":"tennenjl","ts":"2019-08-23T20:21:04.214Z"}
{"msg":"of course","username":"yacovm","ts":"2019-08-23T20:21:16.735Z"}
{"msg":"that's the whole point of Blockchain, no?","username":"yacovm","ts":"2019-08-23T20:21:25.499Z"}
{"msg":"each peer to itself ;) ","username":"yacovm","ts":"2019-08-23T20:21:30.532Z"}
{"msg":"100000% perecent","username":"tennenjl","ts":"2019-08-23T20:21:34.389Z"}
{"msg":"100000% percent","username":"tennenjl","ts":"2019-08-23T20:21:34.389Z"}
{"msg":"Has joined the channel.","username":"soumyanayak","ts":"2019-08-26T07:48:19.955Z","type":"uj"}
{"msg":"Hi Team \n\nI inserted around 21 million records of data into blockchain creating around 2180 blocks across two peers .. so the main anchor peer - peer1 worked well having all the data\nbut the peer2 after aroud 13 million records it was throwing some error and and did not insert any more\ni recorded the whole peer2 logs. ","username":"soumyanayak","ts":"2019-08-26T07:49:01.845Z"}
{"msg":"","username":"soumyanayak","ts":"2019-08-26T07:49:22.504Z","attachments":[{"type":"file","title":"peer2.zip","title_link":"/file-upload/xpBFNrqWbAnyzeEJs/peer2.zip","url":"/file-upload/xpBFNrqWbAnyzeEJs/peer2.zip","remote":false,"fileId":"xpBFNrqWbAnyzeEJs","fileName":"peer2.zip"}]}
{"msg":"Attached is the peer2.zip.\n\n\ni tried the second time -- by removing the peer2 ledgers and making it up to again sync up data  from peer1 but only after 1.6 million it started throwing the below issue\n2019-08-26 07:40:36.912 UTC [gossip.gossip] handleMessage -> DEBU bbe Exiting\n2019-08-26 07:40:36.918 UTC [gossip.pull] Hello -> DEBU bbf Sending BLOCK_MSG hello to 10.65.192.148:7051\n2019-08-26 07:40:36.918 UTC [gossip.comm] Send -> DEBU bc0 Entering, sending GossipMessage: channel:\"legaldescriptionchannel\" tag:CHAN_AND_ORG hello:<nonce:4655316642490927747 msg_type:BLOCK_MSG > , Envelope: 41 bytes, Signature: 0 bytes to 1 peers\n2019-08-26 07:40:36.918 UTC [gossip.comm] sendToEndpoint -> DEBU bc1 Entering, Sending to 10.65.192.148:7051 , msg: GossipMessage: channel:\"legaldescriptionchannel\" tag:CHAN_AND_ORG hello:<nonce:4655316642490927747 msg_type:BLOCK_MSG > , Envelope: 41 bytes, Signature: 0 bytes\n2019-08-26 07:40:36.918 UTC [gossip.comm] sendToEndpoint -> DEBU bc2 Exiting\n2019-08-26 07:40:37.282 UTC [gossip.state] requestBlocksInRange -> DEBU bc3 State transfer, with peer 10.65.192.148:7051, requesting blocks in range [179...189), for chainID legaldescriptionchannel\n2019-08-26 07:40:37.283 UTC [gossip.comm] Send -> DEBU bc4 Entering, sending GossipMessage: nonce:15815795445693292600 channel:\"legaldescriptionchannel\" tag:CHAN_OR_ORG state_request:<start_seq_num:179 end_seq_num:189 > , Envelope: 47 bytes, Signature: 0 bytes to 1 peers\n2019-08-26 07:40:37.283 UTC [gossip.comm] sendToEndpoint -> DEBU bc5 Entering, Sending to 10.65.192.148:7051 , msg: GossipMessage: nonce:15815795445693292600 channel:\"legaldescriptionchannel\" tag:CHAN_OR_ORG state_request:<start_seq_num:179 end_seq_num:189 > , Envelope: 47 bytes, Signature: 0 bytes\n2019-08-26 07:40:37.283 UTC [gossip.comm] sendToEndpoint -> DEBU bc6 Exiting\n2019-08-26 07:40:37.729 UTC [gossip.comm] readFromStream -> DEBU bc7 Got error, aborting: rpc error: code = ResourceExhausted desc = trying to send message larger than max (126945954 vs. 104857600)","username":"soumyanayak","ts":"2019-08-26T07:51:06.176Z"}
{"msg":"the network is good -- Fabric - 1.4.2v, kafka-zookeeper based orderer, Peers running in docker containers in azure VMs, 1 TB of space available for both peers ","username":"soumyanayak","ts":"2019-08-26T07:52:16.990Z"}
{"msg":"Please help and advice","username":"soumyanayak","ts":"2019-08-26T07:52:25.325Z"}
{"msg":"@soumyanayak seems like the blocks are too big","username":"yacovm","ts":"2019-08-26T11:22:02.214Z"}
{"msg":"decrease https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L226 ","username":"yacovm","ts":"2019-08-26T11:22:36.327Z"}
{"msg":"Which parameter i have to decrease and to what value\n state:\n            # indicates whenever state transfer is enabled or not\n            # default value is true, i.e. state transfer is active\n            # and takes care to sync up missing blocks allowing\n            # lagging peer to catch up to speed with rest network\n            enabled: true\n            # checkInterval interval to check whether peer is lagging behind enough to\n            # request blocks via state transfer from another peer.\n            checkInterval: 10s\n            # responseTimeout amount of time to wait for state transfer response from\n            # other peers\n            responseTimeout: 3s\n            # batchSize the number of blocks to request via state transfer from another peer\n            batchSize: 10\n            # blockBufferSize reflects the size of the re-ordering buffer\n            # which captures blocks and takes care to deliver them in order\n            # down to the ledger layer. The actually buffer size is bounded between\n            # 0 and 2*blockBufferSize, each channel maintains its own buffer\n            blockBufferSize: 100\n            # maxRetries maximum number of re-tries to ask\n            # for single state transfer request\n            maxRetries: 3","username":"soumyanayak","ts":"2019-08-26T11:46:52.343Z"}
{"msg":"the parameter in my link","username":"yacovm","ts":"2019-08-26T11:47:31.161Z"}
{"msg":"batchSize","username":"yacovm","ts":"2019-08-26T11:47:43.064Z"}
{"msg":"what is the value i should put and how we decide that value like based on which parameter?","username":"soumyanayak","ts":"2019-08-26T11:48:56.526Z"}
{"msg":"what is the value i should put and how we decide that value like based on which parameter?","username":"soumyanayak","ts":"2019-08-26T11:55:29.340Z"}
{"msg":"just put 5 and try","username":"yacovm","ts":"2019-08-26T11:56:11.830Z"}
{"msg":"So is there any limit on the total no of size of data(\"n\" no of blocks) to be gossiped on a channel and if so whats that max size?","username":"soumyanayak","ts":"2019-08-26T12:14:18.992Z"}
{"msg":"unfortunately it's per block count and not per MB","username":"yacovm","ts":"2019-08-26T12:14:37.237Z"}
{"msg":"there is a limit on the total size of gRPC messages","username":"yacovm","ts":"2019-08-26T12:14:48.661Z"}
{"msg":"it's 100MB I think","username":"yacovm","ts":"2019-08-26T12:14:51.147Z"}
{"msg":"means lets say mine each block is around 20 MB so i can have the batchSize as 5 right of more than that then it would fail?","username":"soumyanayak","ts":"2019-08-26T12:15:30.187Z"}
{"msg":"means lets say mine each block is around 20 MB so i can have the batchSize as 5 right ? if more than that then it would fail crossing the 100 limit of GRPC message?","username":"soumyanayak","ts":"2019-08-26T12:15:30.187Z"}
{"msg":"then put 4 ;) ","username":"yacovm","ts":"2019-08-26T12:17:55.626Z"}
{"msg":"to be safe","username":"yacovm","ts":"2019-08-26T12:17:58.672Z"}
{"msg":"So how to know in that case as blocks may be of varying sizes .. it might happen let say given batchSize as 4 and the total size is less than 100 mb then it goes through , if at all it happens the next 4 blocks is of 120 MB then it would fail at that moment and would never proceed ? So how this would be handled ?","username":"soumyanayak","ts":"2019-08-26T12:19:40.547Z"}
{"msg":"that 100MB is depicted by this property - blockBufferSize: 100 ?","username":"soumyanayak","ts":"2019-08-26T12:22:01.713Z"}
{"msg":"no that block buffer size is unrelated","username":"yacovm","ts":"2019-08-26T12:22:52.207Z"}
{"msg":"Ok but how to handle the blocks of varying sizes when there will be bulk transactions happening ","username":"soumyanayak","ts":"2019-08-26T12:26:41.499Z"}
{"msg":"you can limit the size of the block in the orderer","username":"yacovm","ts":"2019-08-26T12:26:57.814Z"}
{"msg":"and thus ensure the blocks are not too large","username":"yacovm","ts":"2019-08-26T12:27:03.320Z"}
{"msg":"where we do that in orderer are you telling we need to do in configtx.yaml ? \nBatchSize:\n        MaxMessageCount: 10\n        AbsoluteMaxBytes: 98 MB\n        PreferredMaxBytes: 512 KB\n\nor in any other parameter ?","username":"soumyanayak","ts":"2019-08-26T12:30:29.400Z"}
{"msg":"preferred max bytes","username":"yacovm","ts":"2019-08-26T12:31:04.732Z"}
{"msg":"so a question here is then by default if the value is 98 or 99 MB max then it should be the case that in peer - core.yaml the batchSize should be by default 1 right instead of 10 .  Based on the preferred max bytes we reduce we increase the batchSize in core.yaml ?","username":"soumyanayak","ts":"2019-08-26T12:33:26.415Z"}
{"msg":"i don't understand","username":"yacovm","ts":"2019-08-26T12:34:27.208Z"}
{"msg":"my question was the maximum size of the block can be upto 98 MB based on the absoluteMaxBytes. So based on that if a block goes upto 98 MB and the GRPC size allowed is upto 100 MB , then the default size of the pramater batchSize in core.yaml should be by default 1 right.\n","username":"soumyanayak","ts":"2019-08-26T12:37:27.011Z"}
{"msg":"in my case i am putting 10000 rows of data in one block ","username":"soumyanayak","ts":"2019-08-26T12:38:17.028Z"}
{"msg":"yeah it can.... but you want to make it *smaller* no?","username":"yacovm","ts":"2019-08-26T12:38:18.384Z"}
{"msg":"yeah","username":"soumyanayak","ts":"2019-08-26T12:38:28.406Z"}
{"msg":"why do you put so much data in the block?","username":"yacovm","ts":"2019-08-26T12:38:31.391Z"}
{"msg":"actually i have around 35 millions of rows of data which has to be back filled from a sql server to the blockchain and then the transactions would happen on the data  -- so in a loop we were trying to run and insert 10000 rows of data to one block...","username":"soumyanayak","ts":"2019-08-26T12:39:53.849Z"}
{"msg":"is this the ideal way of doing or any other way you can suggest ","username":"soumyanayak","ts":"2019-08-26T12:40:05.646Z"}
{"msg":"each row of data is having two fields that is inserted","username":"soumyanayak","ts":"2019-08-26T12:41:07.553Z"}
{"msg":"so each block was coming around 20-25 MB i had fetched one block and checked","username":"soumyanayak","ts":"2019-08-26T12:43:57.136Z"}
{"msg":"do it in several transactions","username":"yacovm","ts":"2019-08-26T12:45:01.141Z"}
{"msg":"ok if i put the value in peer.state.enabled as false in core.yaml .. so what would be the default batchSize it would take?","username":"soumyanayak","ts":"2019-08-26T13:19:01.072Z"}
{"msg":"if you disable the state transfer then there is no point to point bkicj replication","username":"yacovm","ts":"2019-08-26T13:20:47.970Z"}
{"msg":"*block","username":"yacovm","ts":"2019-08-26T13:20:49.744Z"}
{"msg":"ok so it means that it will never sync up with any other bootstrap peer for the data .. so it should be mandatory enabled right?  ","username":"soumyanayak","ts":"2019-08-26T13:22:19.126Z"}
{"msg":"it can sync from orderer","username":"yacovm","ts":"2019-08-26T13:22:41.848Z"}
{"msg":"when it does from orderer what would be the batch size or no of blocks fetched at each call ? WIll there be any performance difference fetching from the orderer or from other bootstrapped peers . Wanted to know the best practice here","username":"soumyanayak","ts":"2019-08-26T13:24:23.492Z"}
{"msg":"any thoughts on this @yacovm ","username":"soumyanayak","ts":"2019-08-26T14:17:00.742Z"}
{"msg":"no, i'm too busy with other stuff atm","username":"yacovm","ts":"2019-08-26T14:17:15.049Z"}
{"msg":"@yacovm  i tried updating from orderer directly .. so what ia observed was the whole azure VM memory is getting used up and the system is becoming very slow even to  SSH into it. So is there any reason of the whole memory getting used up or any way to handle that?","username":"soumyanayak","ts":"2019-08-26T15:29:33.736Z"}
{"msg":"yeah of course","username":"yacovm","ts":"2019-08-26T15:29:51.247Z"}
{"msg":"how much memory do you have?","username":"yacovm","ts":"2019-08-26T15:30:02.288Z"}
{"msg":"in the VMs?","username":"yacovm","ts":"2019-08-26T15:30:03.966Z"}
{"msg":"8 Gb RAM","username":"soumyanayak","ts":"2019-08-26T15:30:07.638Z"}
{"msg":"Is this an ideal memory to have ? ","username":"soumyanayak","ts":"2019-08-26T15:31:34.311Z"}
{"msg":"dunno seems enough","username":"yacovm","ts":"2019-08-26T16:22:02.745Z"}
{"msg":"@yacovm is there any plan to have a API or CLI command to check whether a given peer is an anchor peer or not? Any JIRA raised for it","username":"soumyanayak","ts":"2019-09-09T09:45:29.698Z"}
{"msg":"just look at the latest config block","username":"yacovm","ts":"2019-09-09T09:46:34.574Z"}
{"msg":"it should be there","username":"yacovm","ts":"2019-09-09T09:46:37.255Z"}
{"msg":"ok","username":"soumyanayak","ts":"2019-09-09T09:48:32.020Z"}
{"msg":"when tried joining a peer to the channel its giving the below error \n\npeer1       | 2019-10-01 06:06:29.053 UTC [gossip.service] updateAnchors -> ERRO 321 Tried joining channel legaldescriptionchannel but our org( OrgA ), isn't among the orgs of the channel: [Org1] , aborting.\n\nWhat does it mean","username":"soumyanayak","ts":"2019-10-01T06:08:41.186Z"}
{"msg":"@soumyanayak - it seems that the org OrgA was added to the channel legaldescriptionchannel later and was not there from the start, right?","username":"yacovm","ts":"2019-10-01T08:05:52.375Z"}
{"msg":"yes @yacovm  orgA was added later as part of config update ","username":"soumyanayak","ts":"2019-10-01T08:06:39.725Z"}
{"msg":"right","username":"yacovm","ts":"2019-10-01T08:06:44.518Z"}
{"msg":"this is natural ","username":"yacovm","ts":"2019-10-01T08:06:47.179Z"}
{"msg":"i added one more orgB same issue for that also ","username":"soumyanayak","ts":"2019-10-01T08:06:53.534Z"}
{"msg":"ignore the error ;) ","username":"yacovm","ts":"2019-10-01T08:06:53.807Z"}
{"msg":"yeah, ignore the error then","username":"yacovm","ts":"2019-10-01T08:07:02.211Z"}
{"msg":"it's fine","username":"yacovm","ts":"2019-10-01T08:07:05.570Z"}
{"msg":"but i am getting it continuously ","username":"soumyanayak","ts":"2019-10-01T08:07:10.337Z"}
{"msg":"it will stop when the peer will get the blocks from the orderr","username":"yacovm","ts":"2019-10-01T08:07:25.339Z"}
{"msg":"*orderer","username":"yacovm","ts":"2019-10-01T08:07:27.773Z"}
{"msg":"","username":"soumyanayak","ts":"2019-10-01T08:09:02.749Z","attachments":[{"type":"file","title":"Clipboard - October 1, 2019 1:38 PM","title_link":"/file-upload/2SRgGvLanNoimJi2t/Clipboard%20-%20October%201,%202019%201:38%20PM","image_url":"/file-upload/2SRgGvLanNoimJi2t/Clipboard%20-%20October%201,%202019%201:38%20PM","image_type":"image/png","image_size":312282,"url":"/file-upload/2SRgGvLanNoimJi2t/Clipboard%20-%20October%201,%202019%201:38%20PM","remote":false,"fileId":"2SRgGvLanNoimJi2t","fileName":"Clipboard - October 1, 2019 1:38 PM"}]}
{"msg":"these are the logs going on is it normal then ?","username":"soumyanayak","ts":"2019-10-01T08:09:17.503Z"}
{"msg":"Same thing is repeating every 1 minute ","username":"soumyanayak","ts":"2019-10-01T08:11:34.712Z"}
{"msg":"and when i am  trying to do individual org anchor update for the newly added orgs i am getting the below error \n\nError: got unexpected status: FORBIDDEN -- implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied\n","username":"soumyanayak","ts":"2019-10-01T08:12:54.637Z"}
{"msg":"oh... if you get a forbidden error - it's bad","username":"yacovm","ts":"2019-10-01T08:15:21.496Z"}
{"msg":"it means that your organization is not really in the channel ","username":"yacovm","ts":"2019-10-01T08:15:29.388Z"}
{"msg":"it means that your organization is not really in the channel  or doesn't have permission to pull the blocks","username":"yacovm","ts":"2019-10-01T08:15:29.388Z"}
{"msg":"you did something wrong :/ ","username":"yacovm","ts":"2019-10-01T08:15:33.926Z"}
{"msg":"how we can check or debug where it was wrong like getting the latest config block and checking from the config JSON or how  to do this?","username":"soumyanayak","ts":"2019-10-01T08:17:36.128Z"}
{"msg":"oh check the tutorial of channel update","username":"yacovm","ts":"2019-10-01T08:20:20.683Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/release-1.4/config_update.html","username":"yacovm","ts":"2019-10-01T08:20:35.133Z"}
{"msg":"@yacovm i was able to make the two org peers join the channel -- so there was admin certificate issue","username":"soumyanayak","ts":"2019-10-01T09:25:22.507Z"}
{"msg":"now the issues are not coming","username":"soumyanayak","ts":"2019-10-01T09:25:27.859Z"}
{"msg":"but now when i am trying to update the anchor peer for both the orgs after generating the anchorupdate transaction file using configtxgen below is the issue thrown","username":"soumyanayak","ts":"2019-10-01T09:26:09.636Z"}
{"msg":"Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'legaldescriptionchannel': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 1, but it is currently at version 3\n","username":"soumyanayak","ts":"2019-10-01T09:26:20.574Z"}
{"msg":"```Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'legaldescriptionchannel': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 1, but it is currently at version 3```\n","username":"soumyanayak","ts":"2019-10-01T09:26:20.574Z"}
{"msg":"and for the other organisation its giving the below error ","username":"soumyanayak","ts":"2019-10-01T09:28:40.551Z"}
{"msg":"Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'legaldescriptionchannel': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 1, but it is currently at version 3\n","username":"soumyanayak","ts":"2019-10-01T09:28:42.111Z"}
{"msg":"```Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'legaldescriptionchannel': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 1, but it is currently at version 3```\n","username":"soumyanayak","ts":"2019-10-01T09:28:42.111Z"}
{"msg":"Same issue for both-- how do we update the anchor peer in this case -- do we again go by the way of config update ?","username":"soumyanayak","ts":"2019-10-01T09:35:53.057Z"}
{"msg":"Got the solution by config update need to update the anchors ","username":"soumyanayak","ts":"2019-10-01T12:03:46.536Z"}
{"msg":"Has joined the channel.","username":"jyxie2007","ts":"2019-11-18T04:00:06.853Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ZainabM","ts":"2020-01-09T11:53:48.597Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Nammalvar","ts":"2020-01-23T08:51:10.687Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lzaouche","ts":"2020-01-28T09:17:33.851Z","type":"uj"}
{"msg":"Has joined the channel.","username":"conanoc","ts":"2020-02-06T07:11:11.818Z","type":"uj"}
{"msg":"Document say, \"Note that in order for peers to be known to the discovery service, they must have an EXTERNAL_ENDPOINT defined. \"\nhttps://hyperledger-fabric.readthedocs.io/en/latest/discovery-overview.html#how-service-discovery-works-in-fabric\n\nHow can I define EXTERNAL_ENDPOINT in peer and orderer? Is it different from CORE_PEER_GOSSIP_EXTERNALENDPOINT?","username":"conanoc","ts":"2020-02-06T07:28:07.946Z"}
{"msg":"it's only for the peer","username":"yacovm","ts":"2020-02-06T09:49:48.140Z"}
{"msg":"and this is exactly what you wrote","username":"yacovm","ts":"2020-02-06T09:49:57.457Z"}
{"msg":"`CORE_PEER_GOSSIP_EXTERNALENDPOINT`","username":"yacovm","ts":"2020-02-06T09:50:02.553Z"}
{"msg":"@yacovm  Then, How is it possible that orderer's addresses could be found by discovery service? And I could not find any reference(not any but nothing meaningful) of CORE_PEER_GOSSIP_EXTERNALENDPOINT from the source code of fabric. Where can I find the code handling the CORE_PEER_GOSSIP_EXTERNALENDPOINT?","username":"conanoc","ts":"2020-02-07T01:41:58.782Z"}
{"msg":"Look for \"externalEndpoint\"","username":"yacovm","ts":"2020-02-07T09:08:09.884Z"}
{"msg":"The discovery returns the addresses from the channel config block","username":"yacovm","ts":"2020-02-07T09:08:34.114Z"}
{"msg":"Has joined the channel.","username":"Antimttr","ts":"2020-03-10T20:04:12.969Z","type":"uj"}
{"msg":"hello, having an issue after all my peers are joined to the channel and i add the anchor peers im getting these warnings in my gossip logs in the first anchor peer: ```\n2020-03-10 20:24:03.947 UTC [gossip.comm] createConnection -> WARN ac5 Remote endpoint claims to be a different peer, expected 051881a63876d5f0fba6b9a7e533a7ccb5fb203536b6fcee1ad72343fcb408e8 but got 0c5e3f1de15afe0619397274fb51d35e0bfe90b48cc3c641daaf197ae587bf7c\n2020-03-10 20:24:03.947 UTC [gossip.comm] sendToEndpoint -> WARN ac6 Failed obtaining connection for 3.1X.72.X:7011, PKIid:051881a63876d5f0fba6b9a7e533a7ccb5fb203536b6fcee1ad72343fcb408e8 reason: authentication failure\n\n``` ","username":"Antimttr","ts":"2020-03-10T20:24:54.574Z"}
{"msg":"so the socket in the second warning is the socket of the peer for which logs im following","username":"Antimttr","ts":"2020-03-10T20:25:33.157Z"}
{"msg":"so im not sure how it makes sense that its failiing to connect to itself, but there it is","username":"Antimttr","ts":"2020-03-10T20:25:42.590Z"}
{"msg":"so from the anchor peer in org2 i get these warnings: ```\n2020-03-10 20:26:50.976 UTC [gossip.comm] createConnection -> WARN 803 Remote endpoint claims to be a different peer, expected 0c5e3f1de15afe0619397274fb51d35e0bfe90b48cc3c641daaf197ae587bf7c but got 051881a63876d5f0fba6b9a7e533a7ccb5fb203536b6fcee1ad72343fcb408e8\n2020-03-10 20:26:50.976 UTC [gossip.comm] sendToEndpoint -> WARN 804 Failed obtaining connection for 3.X.72.X:7021, PKIid:0c5e3f1de15afe0619397274fb51d35e0bfe90b48cc3c641daaf197ae587bf7c reason: authentication failure\n``` ","username":"Antimttr","ts":"2020-03-10T20:27:34.801Z"}
{"msg":"so 7021 is the listening port of the anchor in org2 as well","username":"Antimttr","ts":"2020-03-10T20:27:51.188Z"}
{"msg":"so its like they're trying to connect to themselves and failing?","username":"Antimttr","ts":"2020-03-10T20:28:01.999Z"}
{"msg":"i have the anchor peer in org two setup with the following config parameters: ```\n- CORE_PEER_LISTENADDRESS=0.0.0.0:7021\n- CORE_PEER_GOSSIP_EXTERNALENDPOINT=3.X.72.X:7011\n``` ","username":"Antimttr","ts":"2020-03-10T20:29:38.076Z"}
{"msg":"so the second config entry should be the socket for the anchor peer of org1","username":"Antimttr","ts":"2020-03-10T20:30:04.690Z"}
{"msg":"if im not mistaken","username":"Antimttr","ts":"2020-03-10T20:30:07.900Z"}
{"msg":"why would it be trying to connect to itself though?","username":"Antimttr","ts":"2020-03-10T20:30:46.288Z"}
{"msg":"also what are those big long strings where it says \"expected\"","username":"Antimttr","ts":"2020-03-10T20:31:21.001Z"}
{"msg":"are those hashes of the ip address or something?","username":"Antimttr","ts":"2020-03-10T20:31:31.006Z"}
{"msg":"@Antimttr has the anchor peer joined the channel?","username":"yacovm","ts":"2020-03-10T21:00:38.575Z"}
{"msg":"yes ive got anchor peers from both orgs in the channel","username":"Antimttr","ts":"2020-03-10T21:00:51.529Z"}
{"msg":"but ive been reading about those externalendpoints ","username":"Antimttr","ts":"2020-03-10T21:00:59.122Z"}
{"msg":"i might not even need them","username":"Antimttr","ts":"2020-03-10T21:01:02.273Z"}
{"msg":"ahh:\n> 2020-03-10 20:24:03.947 UTC [gossip.comm] createConnection -> WARN ac5 Remote endpoint claims to be a different peer, expected 051881a63876d5f0fba6b9a7e533a7ccb5fb203536b6fcee1ad72343fcb408e8 but got 0c5e3f1de15afe0619397274fb51d35e0bfe90b48cc3c641daaf197ae587bf7c","username":"yacovm","ts":"2020-03-10T21:01:06.573Z"}
{"msg":"that's the problem","username":"yacovm","ts":"2020-03-10T21:01:09.297Z"}
{"msg":"so i have the anchors configured with externalendpoint andi shouldn't correct?","username":"Antimttr","ts":"2020-03-10T21:01:28.388Z"}
{"msg":"so, i can tell you when it happens process wise","username":"yacovm","ts":"2020-03-10T21:01:28.544Z"}
{"msg":"maybe it will give you a clue","username":"yacovm","ts":"2020-03-10T21:01:38.391Z"}
{"msg":"basically anchor peer connection is a 2 staged process","username":"yacovm","ts":"2020-03-10T21:01:51.786Z"}
{"msg":"consider yourself a peer that you get a new config block of a channel, or the genesis block of that channel","username":"yacovm","ts":"2020-03-10T21:02:17.306Z"}
{"msg":"and you see you have anchor peers","username":"yacovm","ts":"2020-03-10T21:02:23.498Z"}
{"msg":"so you do 2 things:","username":"yacovm","ts":"2020-03-10T21:02:26.606Z"}
{"msg":"1) Probe the anchor peer to find out its certificate and organization association","username":"yacovm","ts":"2020-03-10T21:02:44.460Z"}
{"msg":"2) Connect to the anchor peer again, and initiate the standard gossip membership exchange protocols and stuff","username":"yacovm","ts":"2020-03-10T21:03:08.861Z"}
{"msg":"trick question: why would you want the first stage?","username":"yacovm","ts":"2020-03-10T21:03:24.299Z"}
{"msg":"hmm","username":"Antimttr","ts":"2020-03-10T21:03:45.420Z"}
{"msg":"seems like exactly what you'd get with step 2","username":"Antimttr","ts":"2020-03-10T21:04:08.060Z"}
{"msg":"in step 2 you also acquire the certificate as well","username":"yacovm","ts":"2020-03-10T21:04:35.627Z"}
{"msg":"so the answer is - if somehow, someone took over the network routing","username":"yacovm","ts":"2020-03-10T21:04:59.354Z"}
{"msg":"are both steps done over gossip or is one done via grpc?","username":"Antimttr","ts":"2020-03-10T21:05:02.516Z"}
{"msg":"no, it's 2 different TLS connections ","username":"yacovm","ts":"2020-03-10T21:05:11.358Z"}
{"msg":"the reason is - if someone took over the routing and redirects all the communication into itself","username":"yacovm","ts":"2020-03-10T21:05:34.324Z"}
{"msg":"or some stupid admin","username":"yacovm","ts":"2020-03-10T21:05:42.506Z"}
{"msg":"configued the wrong IP for anchor peers","username":"yacovm","ts":"2020-03-10T21:05:49.431Z"}
{"msg":"that doesn't correspond do its own organizatio","username":"yacovm","ts":"2020-03-10T21:05:56.675Z"}
{"msg":"you don't want peers to connect to the wrong IP (could be a peer from a malicious organization or just some hacker's server)","username":"yacovm","ts":"2020-03-10T21:06:18.479Z"}
{"msg":"so you first \"sniff\" the remote peer","username":"yacovm","ts":"2020-03-10T21:06:26.120Z"}
{"msg":"but don't tell it anything","username":"yacovm","ts":"2020-03-10T21:06:29.666Z"}
{"msg":"i see","username":"Antimttr","ts":"2020-03-10T21:06:32.079Z"}
{"msg":"later, at the second stage","username":"yacovm","ts":"2020-03-10T21:06:38.332Z"}
{"msg":"after you acquire the certificate from the first stage","username":"yacovm","ts":"2020-03-10T21:06:45.881Z"}
{"msg":"you expect the 2nd connection to still have the same certificate from the first stage","username":"yacovm","ts":"2020-03-10T21:07:04.949Z"}
{"msg":"if you detect the certificate changed","username":"yacovm","ts":"2020-03-10T21:07:15.561Z"}
{"msg":"then something is wrong here","username":"yacovm","ts":"2020-03-10T21:07:19.448Z"}
{"msg":"so how would my certificate have changed from first two second stage..","username":"Antimttr","ts":"2020-03-10T21:07:31.882Z"}
{"msg":"now obviously it's just a \"software engineering\" problem","username":"yacovm","ts":"2020-03-10T21:07:33.640Z"}
{"msg":"because you could have done stage 1+2 together","username":"yacovm","ts":"2020-03-10T21:07:44.429Z"}
{"msg":"but unfortunately ","username":"yacovm","ts":"2020-03-10T21:07:47.890Z"}
{"msg":"gossip communication layer is decoupled from the membership layer :( ","username":"yacovm","ts":"2020-03-10T21:07:56.581Z"}
{"msg":"so the communication code doesn't know what an organization, or an anchor peer even means","username":"yacovm","ts":"2020-03-10T21:08:10.663Z"}
{"msg":">  so how would my certificate have changed from first two second stage.. \nProbably you restarted the peer or something","username":"yacovm","ts":"2020-03-10T21:08:42.806Z"}
{"msg":"and you re-created the certificate","username":"yacovm","ts":"2020-03-10T21:08:54.785Z"}
{"msg":"these are both fresh peers","username":"Antimttr","ts":"2020-03-10T21:08:57.793Z"}
{"msg":"i basically docker-compose rm -f all the peers and the orderer","username":"Antimttr","ts":"2020-03-10T21:09:22.310Z"}
{"msg":"i think the endpoint in the past belonged to some different organization","username":"yacovm","ts":"2020-03-10T21:09:24.949Z"}
{"msg":"then started them up and then joined them to the channel","username":"Antimttr","ts":"2020-03-10T21:09:39.819Z"}
{"msg":"and as soon as i designated the two anchor peers","username":"Antimttr","ts":"2020-03-10T21:09:47.124Z"}
{"msg":"i started getting these warnings","username":"Antimttr","ts":"2020-03-10T21:09:51.926Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/gossip/comm/comm_impl.go#L176-L180","username":"yacovm","ts":"2020-03-10T21:10:04.837Z"}
{"msg":"this is the code that prints it","username":"yacovm","ts":"2020-03-10T21:10:09.286Z"}
{"msg":"my anchor peers are specified in the genesis block ","username":"Antimttr","ts":"2020-03-10T21:11:26.245Z"}
{"msg":"with the same socket that im getting the error messages on","username":"Antimttr","ts":"2020-03-10T21:11:53.047Z"}
{"msg":"what's confusing to me is that my anchor peer for org1: peer1.org1.example.com","username":"Antimttr","ts":"2020-03-10T21:12:07.470Z"}
{"msg":"that anchor peers logs are `2020-03-10 21:12:20.637 UTC [gossip.comm] sendToEndpoint -> WARN 2204 Failed obtaining connection for 3.x.72.x:7011, PKIid:051881a63876d5f0fba6b9a7e533a7ccb5fb203536b6fcee1ad72343fcb408e8 reason: authentication failure\n`","username":"Antimttr","ts":"2020-03-10T21:12:37.395Z"}
{"msg":"that anchor peers logs are `2020-03-10 21:12:20.637 UTC [gossip.comm] sendToEndpoint -> WARN 2204 Failed obtaining connection for 3.x.72.x:7011, PKIid:051881a63876d5f0fba6b9a7e533a7ccb5fb203536b6fcee1ad72343fcb408e8 reason: authentication failure`","username":"Antimttr","ts":"2020-03-10T21:12:37.395Z"}
{"msg":"that IS the socket for peer1.org1.example.com","username":"Antimttr","ts":"2020-03-10T21:12:55.678Z"}
{"msg":"so why would the anchor peer try to connect to itself","username":"Antimttr","ts":"2020-03-10T21:13:08.639Z"}
{"msg":"maybe i should decode the current config block on the channel","username":"Antimttr","ts":"2020-03-10T21:13:33.652Z"}
{"msg":"and check to make sure that the anchor peers are what i think they are","username":"Antimttr","ts":"2020-03-10T21:13:42.017Z"}
{"msg":"anchor peers should not be specified in genesis blocks","username":"yacovm","ts":"2020-03-10T21:13:53.004Z"}
{"msg":"oh really?","username":"Antimttr","ts":"2020-03-10T21:13:57.842Z"}
{"msg":"yeah....","username":"yacovm","ts":"2020-03-10T21:14:01.116Z"}
{"msg":"you need to do a subsequent config block for that","username":"yacovm","ts":"2020-03-10T21:14:10.544Z"}
{"msg":"look at the samples ","username":"yacovm","ts":"2020-03-10T21:14:15.949Z"}
{"msg":"i am basing this all off of balance-trasnfer","username":"Antimttr","ts":"2020-03-10T21:14:24.939Z"}
{"msg":"im pretty srue thats in the configtx.yaml of the balance trasnfer example","username":"Antimttr","ts":"2020-03-10T21:14:46.666Z"}
{"msg":"let me  double check","username":"Antimttr","ts":"2020-03-10T21:14:48.962Z"}
{"msg":"look at first_network","username":"yacovm","ts":"2020-03-10T21:14:49.402Z"}
{"msg":"ok let me look at first_network ","username":"Antimttr","ts":"2020-03-10T21:15:34.186Z"}
{"msg":"oh this one has policies in it already","username":"Antimttr","ts":"2020-03-10T21:16:13.951Z"}
{"msg":"i was looking for that","username":"Antimttr","ts":"2020-03-10T21:16:16.371Z"}
{"msg":"```\n # leave this flag set to true.\n        AnchorPeers:\n            # AnchorPeers defines the location of peers which can be used\n            # for cross org gossip communication.  Note, this value is only\n            # encoded in the genesis block in the Application section context\n            - Host: peer0.org1.example.com\n              Port: 7051\n\n``` ","username":"Antimttr","ts":"2020-03-10T21:16:33.668Z"}
{"msg":"so thats from configtx.yaml in first-network","username":"Antimttr","ts":"2020-03-10T21:16:41.084Z"}
{"msg":"but you're saying i shouldnt have it in there?","username":"Antimttr","ts":"2020-03-10T21:16:48.272Z"}
{"msg":"https://github.com/hyperledger/fabric-samples/blob/master/first-network/scripts/utils.sh#L71-L90","username":"yacovm","ts":"2020-03-10T21:17:07.213Z"}
{"msg":"look at this ^ ","username":"yacovm","ts":"2020-03-10T21:17:11.266Z"}
{"msg":"this is how you do it","username":"yacovm","ts":"2020-03-10T21:17:17.820Z"}
{"msg":"ive been doing it after i join the channel with the JAVA SDK","username":"Antimttr","ts":"2020-03-10T21:17:56.649Z"}
{"msg":"but i guess its kind of repetitive if i already have it in the genesis block","username":"Antimttr","ts":"2020-03-10T21:18:09.532Z"}
{"msg":"but if i shouldnt have it in the genesis block at all","username":"Antimttr","ts":"2020-03-10T21:18:17.035Z"}
{"msg":"then ill just remove it and do it after i join the channel","username":"Antimttr","ts":"2020-03-10T21:18:23.807Z"}
{"msg":"there is a reason behind it","username":"yacovm","ts":"2020-03-10T21:19:05.871Z"}
{"msg":"you need to do it the \"hard\" way as i said","username":"yacovm","ts":"2020-03-10T21:19:22.708Z"}
{"msg":"or i guess its not the genesis block but the channel.tx ?","username":"Antimttr","ts":"2020-03-10T21:20:11.195Z"}
{"msg":"ok ill take the anchor peer out of my configtx.yaml","username":"Antimttr","ts":"2020-03-10T21:20:54.623Z"}
{"msg":"and then add it after i join the channel","username":"Antimttr","ts":"2020-03-10T21:21:14.297Z"}
{"msg":"yes","username":"yacovm","ts":"2020-03-10T21:21:56.651Z"}
{"msg":"ok thanks, ill give that a shot and report back here ","username":"Antimttr","ts":"2020-03-10T21:22:18.992Z"}
{"msg":"doing the anchor add with the javasdk should be equivilent to doing it with peer command, right?","username":"Antimttr","ts":"2020-03-10T21:23:17.597Z"}
{"msg":"well ill try it with sdk if it doesnt work ill try it with cli","username":"Antimttr","ts":"2020-03-10T21:25:15.112Z"}
{"msg":"yes","username":"yacovm","ts":"2020-03-10T21:27:55.532Z"}
{"msg":"Has joined the channel.","username":"Abhishekkishor","ts":"2020-03-12T19:32:51.626Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gokulalex","ts":"2020-03-20T12:04:10.130Z","type":"uj"}
{"msg":"Has left the channel.","username":"lehors","ts":"2020-03-31T12:18:21.124Z","type":"ul"}
{"msg":"Has left the channel.","username":"matanyahu","ts":"2020-04-06T17:45:23.677Z","type":"ul"}
{"msg":"Has left the channel.","username":"MHBauer","ts":"2020-04-16T21:17:01.716Z","type":"ul"}
{"msg":"Has left the channel.","username":"conanoc","ts":"2020-05-19T10:04:10.523Z","type":"ul"}
{"msg":"Has joined the channel.","username":"dtomczyk","ts":"2020-06-11T16:03:23.167Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ViokingTung","ts":"2020-06-29T08:37:49.937Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ever-upwards","ts":"2020-07-07T11:34:24.226Z","type":"uj"}
{"msg":"Has joined the channel.","username":"FarhanShafiq","ts":"2020-07-17T09:10:59.223Z","type":"uj"}
{"msg":"Hello everyone, I have setup network of two orgs while each orgs have four anchor peers. I have started network with org1 and later add the org2 in the channel through updating channel block config.\n\nWhen I installed chaincode on both organization peers then org2 giving me gossip privdata error.\nI'm also getting endorsement error from each peer while invoking any function on chaincode.\n\n\n`2020-07-17 09:14:35.818 UTC [gossip.privdata] fetchPrivateData -> DEBU 52b39 Total members in channel: []\n2020-07-17 09:14:35.818 UTC [gossip.privdata] fetchPrivateData -> DEBU 52b3a Total members that fit some digest: []\n2020-07-17 09:14:35.818 UTC [gossip.privdata] fetchPrivateData -> WARN 52b3b Do not know any peer in the channel( mychannel ) that matches the policies , aborting\n2020-07-17 09:14:35.818 UTC [gossip.privdata] reconcile -> ERRO 52b3c reconciliation error when trying to fetch missing items from different peers: Empty membership\n2020-07-17 09:14:35.818 UTC [gossip.privdata] run -> ERRO 52b3d Failed to reconcile missing private info, error:  Empty membership`","username":"FarhanShafiq","ts":"2020-07-17T09:18:44.880Z"}
{"msg":"Has joined the channel.","username":"xachen","ts":"2020-07-20T13:48:44.710Z","type":"uj"}
{"msg":"@guoger https://jira.hyperledger.org/browse/FAB-17035 do you meet this bug?","username":"xachen","ts":"2020-07-20T13:48:45.005Z"}
{"msg":"@guoger https://jira.hyperledger.org/browse/FAB-17035 do you meet this bug? @yacovm","username":"xachen","ts":"2020-07-20T13:48:45.005Z"}
{"msg":"Hello, I'm trying to fetch peers from discover CLI but result giving me only target peer information. Is this the default behavior or should I expect all four peers information?\nNote: I have set the \"CORE_PEER_GOSSIP_EXTERNALENDPOINT\" on all four anchor peers but still no way of knowing that gossip is running properly since, peers logs contain no warning and error.","username":"FarhanShafiq","ts":"2020-07-22T08:31:05.846Z"}
{"msg":"@FarhanShafiq Both this and the prior message indicate a gossip configuration problem. Please try with the test network that is known to have working gossip connection: https://hyperledger-fabric.readthedocs.io/en/latest/test_network.html  And then you can compare your configuration with the working test network configuration.","username":"dave.enyeart","ts":"2020-07-22T11:59:33.353Z"}
{"msg":"Thanks @dave.enyeart for the reply, It was indeed problem of gossip configuration problem. First, I didn't provide the gossip bootstrap peers that's why peer was not able to discover other peers. Second, for adding anchor peers, I had to update the channel with anchor transaction.","username":"FarhanShafiq","ts":"2020-07-22T12:04:46.282Z"}
{"msg":"Thanks @dave.enyeart for the reply, It was indeed problem of gossip configuration. First, I didn't provide the gossip bootstrap peers that's why peer was not able to discover other peers. Second, for adding anchor peers, I had to update the channel with anchor transaction.","username":"FarhanShafiq","ts":"2020-07-22T12:04:46.282Z"}
{"msg":"Thanks @dave.enyeart for the reply, It was indeed problem of gossip configuration. First, I didn't provide the gossip bootstrap peers that's why peer was not able to discover other peers within the organizations. Second, for adding anchor peers, I had to update the channel with anchor transaction.","username":"FarhanShafiq","ts":"2020-07-22T12:04:46.282Z"}
{"msg":"I bootstrapped my network with org1 and create and join mychannel after then, I updated config block trx to add the org2 and create and join mychannel from org2.\nAt this point, both organizations are able to discover peers within organization using `CORE_PEER_GOSSIP_BOOTSTRAP` but org1 peers are not able to discover org2 peers. For that, I updated the channel with org1 anchor trx for org2 peers to discover org1 peers but to my surprise, org1 peers are also able to discover org2 peers.\nI know how org2 peers able to discover org1 peers using org1 anchor trx but how org1 peers are discovering org2 peers?","username":"FarhanShafiq","ts":"2020-07-22T12:40:58.979Z"}
{"msg":"Let say, I add another org3 then org1 and org3 peers will be able discover each other? and what about org2 peers? Will org2 peers able to discover org3 peers?","username":"FarhanShafiq","ts":"2020-07-22T12:43:13.282Z"}
{"msg":"Let say, I add org3 in mychannel then org1 and org3 peers will be able discover each other? and what about org2 peers? Will org2 peers able to discover org3 peers?","username":"FarhanShafiq","ts":"2020-07-22T12:43:13.282Z"}
{"msg":"you need the peers to sync all blocks until the height where they were added","username":"yacovm","ts":"2020-07-22T14:00:34.904Z"}
{"msg":"only then they can discover, because until then, gossip thinks they are not in the channel","username":"yacovm","ts":"2020-07-22T14:00:47.565Z"}
{"msg":"Thanks. Existing org also will be able to discover new org peers without adding the anchor trx?","username":"FarhanShafiq","ts":"2020-07-22T14:18:59.976Z"}
{"msg":"you just need a single anchor peer in a channel","username":"yacovm","ts":"2020-07-22T15:18:32.198Z"}
{"msg":"but it's better if every org has its own anchor peers","username":"yacovm","ts":"2020-07-22T15:18:42.194Z"}
{"msg":"Thanks, I have configured separate configtx.yaml for every org.","username":"FarhanShafiq","ts":"2020-07-22T15:55:50.462Z"}
{"msg":"Has joined the channel.","username":"guptasndp10","ts":"2020-09-19T03:15:34.836Z","type":"uj"}
{"msg":"@yacovm Could you please help me with one issue","username":"guptasndp10","ts":"2020-09-19T03:17:07.864Z"}
{"msg":"I have deployed a hlf network. I have two organizations. peers - First org - peer0.wipro.com, peer1.wipro.com, orderer0.wipro.com, second org - peer0.infosys.com, orderer1.infosys.com. I have three channels - mychannel (common to both org), wiprochannel(only wipro) and infosyschannel(only infosys)\nbut I can see error in peer container logs\n2020-09-18 16:44:08.341 UTC [policies] EvaluateSignedData -> DEBU 588 == Evaluating *policies.ImplicitMetaPolicy Policy /Channel/Application/Readers ==\n2020-09-18 16:44:08.341 UTC [policies] EvaluateSignedData -> DEBU 589 This is an implicit meta policy, it will trigger other policy evaluations, whose failures may be benign\n2020-09-18 16:44:08.341 UTC [policies] EvaluateSignedData -> DEBU 58a == Evaluating *cauthdsl.policy Policy /Channel/Application/infosysMSP/Readers ==\n2020-09-18 16:44:08.341 UTC [msp.identity] Verify -> DEBU 58b Verify: digest = 00000000 90 e0 d0 8e 56 90 d5 0f 15 7a 11 2f eb 39 42 7e |....V....z./.9B~|\n00000010 92 4c 76 e5 7b 53 d9 b5 74 d5 6d 0f 74 67 7b ea |.Lv.{S..t.m.tg{.|\n2020-09-18 16:44:08.341 UTC [msp.identity] Verify -> DEBU 58c Verify: sig = 00000000 30 45 02 21 00 b4 0a cb 81 fd 05 ce 79 e3 9f 96 |0E.!........y...|\n00000010 a0 53 9c 3e c3 66 cf 56 56 e0 73 3d 90 42 83 59 |.S.>.f.VV.s=.B.Y|\n00000020 16 c9 07 4c 81 02 20 2b bc fc 5b 57 51 25 01 ac |...L.. +..[WQ%..|\n00000030 4f 58 a8 1b 0f 83 6f b3 5e bc c9 3c b0 6c 96 77 |OX....o.^..<.l.w|\n00000040 32 e6 a4 17 4c 6a 33 |2...Lj3|\n2020-09-18 16:44:08.342 UTC [policies] SignatureSetToValidIdentities -> DEBU 58d signature for identity 0 validated\n2020-09-18 16:44:08.342 UTC [cauthdsl] func1 -> DEBU 58e 0xc0038264e0 gate 1600447448342192297 evaluation starts\n2020-09-18 16:44:08.342 UTC [cauthdsl] func2 -> DEBU 58f 0xc0038264e0 signed by 0 principal evaluation starts (used [false])\n2020-09-18 16:44:08.342 UTC [cauthdsl] func2 -> DEBU 590 0xc0038264e0 processing identity 0 - &{wiproMSP 27e87c82790285560a6629d3e139a5a58878fb6078f47cbf2d991e525a0df4c9}\n2020-09-18 16:44:08.342 UTC [cauthdsl] func2 -> DEBU 591 0xc0038264e0 identity 0 does not satisfy principal: the identity is a member of a different MSP (expected infosysMSP, got wiproMSP)\n2020-09-18 16:44:08.342 UTC [cauthdsl] func2 -> DEBU 592 0xc0038264e0 principal evaluation fails\n2020-09-18 16:44:08.342 UTC [cauthdsl] func1 -> DEBU 593 0xc0038264e0 gate 1600447448342192297 evaluation fails\n2020-09-18 16:44:08.342 UTC [policies] EvaluateSignedData -> DEBU 594 Signature set did not satisfy policy /Channel/Application/infosysMSP/Readers\n2020-09-18 16:44:08.342 UTC [policies] EvaluateSignedData -> DEBU 595 == Done Evaluating *cauthdsl.policy Policy /Channel/Application/infosysMSP/Readers\n2020-09-18 16:44:08.342 UTC [policies] func1 -> DEBU 596 Evaluation Failed: Only 0 policies were satisfied, but needed 1 of [ infosysMSP/Readers ]\n2020-09-18 16:44:08.342 UTC [policies] EvaluateSignedData -> DEBU 597 Signature set did not satisfy policy /Channel/Application/Readers\n2020-09-18 16:44:08.343 UTC [policies] EvaluateSignedData -> DEBU 598 == Done Evaluating *policies.ImplicitMetaPolicy Policy /Channel/Application/Readers\n2020-09-18 16:44:08.343 UTC [gossip.comm] authenticateRemotePeer -> ERRO 599 Failed verifying signature from 15.207.20.123:7051 : implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Readers' sub-policies to be satisfied\n2020-09-18 16:44:08.343 UTC [gossip.comm] Handshake -> WARN 59a Authentication failed: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Readers' sub-policies to be satisfied\n2020-09-18 16:44:08.343 UTC [grpc] Infof -> DEBU 59b Channel Connectivity change to SHUTDOWN\n2020-09-18 16:44:08.343 UTC [grpc] Infof -> DEBU 59c Subchannel Connectivity change to SHUTDOWN\n2020-09-18 16:44:08.343 UTC [gossip.gossip] func1 -> WARN 59d Deep probe of peer0.wipro.com:7051 failed: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Readers' sub-policies to be satisfied\n2020-09-18 16:44:08.343 UTC [gossip.discovery] func1 -> WARN 59e Could not connect to Endpoint: peer0.wipro.com:7051, InternalEndpoint: peer0.wipro.com:7051, PKI-ID: <nil>, Metadata: : implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Readers' sub-policies to be satisfied","username":"guptasndp10","ts":"2020-09-19T03:19:28.745Z"}
{"msg":"[blabla](http://example.com)","username":"yacovm","ts":"2020-10-12T18:28:38.004Z"}
{"msg":"Has left the channel.","username":"troyronda","ts":"2020-10-28T17:46:00.460Z","type":"ul"}
{"msg":"Has joined the channel.","username":"rahulkundani","ts":"2020-12-31T13:03:15.201Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Sandyzhanghs","ts":"2021-01-10T04:57:21.196Z","type":"uj"}
{"msg":"Does anyone summarize which ports should be opened by firewall to enable gossip over different hosts?","username":"bh4rtp","ts":"2021-02-18T00:35:49.432Z"}
{"msg":"I built a fabric network on 2 VMs hosted in an old thinkpad x230. To simulate concurrent proformance, five clients submit transactions simutaeously. About after 900 seconds, it failed to disseminate private data.\n```2021-02-17T17:43:02.789Z - error: [Transaction]: Error: No valid responses from any peers. Errors:\n    peer=peer1.example.com, status=500, message=error in simulation: failed to distribute private collection, txID 6cddc86a2eb75033381e2d12f2a1acc52cfc8f244622ab7af0ac4b7d44a99d47, channel mychannel: Failed disseminating 2 out of 8 private dissemination plans```\nIs this issue caused by poor resources?","username":"bh4rtp","ts":"2021-02-18T01:48:09.791Z"}
{"msg":"I built a fabric network on 2 VMs hosted in an old thinkpad x230. To simulate concurrent proformance, five clients submit transactions simutaeously. About after 900 seconds, it failed to disseminate private data.\n```2021-02-17T17:43:02.789Z - error: [Transaction]: Error: No valid responses from any peers. Errors:\n    peer=peer1.org1.example.com, status=500, message=error in simulation: failed to distribute private collection, txID 6cddc86a2eb75033381e2d12f2a1acc52cfc8f244622ab7af0ac4b7d44a99d47, channel mychannel: Failed disseminating 2 out of 8 private dissemination plans```\nIs this issue caused by poor resources?","username":"bh4rtp","ts":"2021-02-18T01:48:09.791Z"}
{"msg":"I built a fabric network on 2 VMs hosted in an old thinkpad x230. To simulate concurrent proformance, five clients submit transactions simutaeously. About after 900 seconds, it failed to disseminate private data.\n```2021-02-17T17:43:02.789Z - error: [Transaction]: Error: No valid responses from any peers. Errors:\n    peer=peer1.org1.example.com, status=500, message=error in simulation: failed to distribute private collection, txID 6cddc86a2eb75033381e2d12f2a1acc52cfc8f244622ab7af0ac4b7d44a99d47, channel mychannel: Failed disseminating 2 out of 8 private dissemination plans```\n\nIs this issue caused by poor resources?","username":"bh4rtp","ts":"2021-02-18T01:48:09.791Z"}
{"msg":"I built a fabric network on 2 VMs hosted in an old thinkpad x230. To simulate concurrent proformance, five clients submit transactions simutaeously. About after 900 seconds, it failed to disseminate private data.\n```2021-02-17T17:43:02.789Z - error: [Transaction]: Error: No valid responses from any peers. Errors:\n    peer=peer1.org1.example.com, status=500, message=error in simulation: failed to distribute private collection, txID 6cddc86a2eb75033381e2d12f2a1acc52cfc8f244622ab7af0ac4b7d44a99d47, channel mychannel: Failed disseminating 2 out of 8 private dissemination plans```\n\nIs this issue caused by shortage of resources?","username":"bh4rtp","ts":"2021-02-18T01:48:09.791Z"}
{"msg":"this kind of issue occurred last night.\n```2021-03-03 19:10:33.384 CST [gossip.gossip] SendByCriteria -> WARN 1173 Failed sending to 10.20.0.107:11051 error: timed out\n2021-03-03 19:10:33.385 CST [gossip.privdata] func1 -> ERRO 1174 Failed disseminating private RWSet for TxID 01fbe93fb092ba250ca797e7fbb9632e2b59ba7e53966d72b9b8c76c3b3b60f7 , namespace mychaincode collection PrivateCollection : {\"failures\":{\"timed out\":1}} channel=salech\n2021-03-03 19:10:33.385 CST [gossip.service] DistributePrivateData -> ERRO 1175 failed to distribute private collection, txID 01fbe93fb092ba250ca797e7fbb9632e2b59ba7e53966d72b9b8c76c3b3b60f7, channel mychannel: Failed disseminating 3 out of 8 private dissemination plans```","username":"bh4rtp","ts":"2021-03-04T00:35:37.133Z"}
{"msg":"Has joined the channel.","username":"kayterina","ts":"2021-06-07T15:10:48.898Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AndreyP 3","ts":"2021-09-14T08:44:47.787Z","type":"uj"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:24:52.647Z","type":"room_changed_topic"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:24:52.655Z","type":"room_changed_description"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:24:52.659Z","type":"room_changed_announcement"}
