{"msg":"Discussion surrounding support for Hyperledger Fabric on Kubernetes","username":"tkuhrt","ts":"2017-06-05T22:52:57.899Z","type":"room_changed_topic"}
{"msg":"Hyperledger Fabric on Kubernetes","username":"tkuhrt","ts":"2017-06-05T22:53:23.165Z","type":"room_changed_topic"}
{"msg":"Discussion surrounding support for Hyperledger Fabric on Kubernetes","username":"tkuhrt","ts":"2017-06-05T22:53:25.721Z","type":"room_changed_description"}
{"msg":"Has joined the channel.","username":"greg.haskins","ts":"2017-06-05T22:54:42.926Z","type":"uj"}
{"msg":"@tkuhrt thank you for setting this up","username":"greg.haskins","ts":"2017-06-05T22:54:57.591Z"}
{"msg":"np","username":"tkuhrt","ts":"2017-06-05T22:55:08.565Z"}
{"msg":"Has joined the channel.","username":"yacovm","ts":"2017-06-05T22:58:18.883Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sarkoi","ts":"2017-06-05T23:15:56.527Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jeffgarratt","ts":"2017-06-05T23:16:47.167Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cbf","ts":"2017-06-05T23:23:52.300Z","type":"uj"}
{"msg":"good call","username":"cbf","ts":"2017-06-05T23:26:05.794Z"}
{"msg":"Has joined the channel.","username":"SriramaSharma","ts":"2017-06-05T23:39:56.208Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aguchi","ts":"2017-06-05T23:56:17.542Z","type":"uj"}
{"msg":"Has joined the channel.","username":"grapebaba","ts":"2017-06-06T00:04:52.710Z","type":"uj"}
{"msg":":hugging:","username":"grapebaba","ts":"2017-06-06T00:05:16.446Z"}
{"msg":"We had a proposal more depend on k8s under internal review, however we might not understand everything, we would like more feedback. https://docs.google.com/document/d/1x4W_hltmIybOkG4JGMX_cpEFcWqoi7aJHIFNHhzed8E","username":"grapebaba","ts":"2017-06-06T00:17:03.978Z"}
{"msg":"Has joined the channel.","username":"zhipengh","ts":"2017-06-06T00:32:29.805Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nnao","ts":"2017-06-06T01:16:09.534Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yahtoo","ts":"2017-06-06T02:39:47.791Z","type":"uj"}
{"msg":"Has joined the channel.","username":"duwenhui","ts":"2017-06-06T03:33:01.402Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tylerdmace","ts":"2017-06-06T04:17:16.318Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ssaddem","ts":"2017-06-06T08:47:40.009Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tongli","ts":"2017-06-06T13:18:17.236Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hmchen","ts":"2017-06-06T13:20:52.028Z","type":"uj"}
{"msg":"@grapebaba hi, r u around?","username":"tongli","ts":"2017-06-06T13:24:13.538Z"}
{"msg":"Yeah ","username":"grapebaba","ts":"2017-06-06T13:26:39.228Z"}
{"msg":"looked at the doc at the link, saw few yaml file assume they are k8s deployment files. not exactly why TPRs, can you provide a bit more info on that?","username":"tongli","ts":"2017-06-06T13:31:42.433Z"}
{"msg":"The kind is customized ","username":"grapebaba","ts":"2017-06-06T13:32:31.468Z"}
{"msg":"So actually there are third party resources ","username":"grapebaba","ts":"2017-06-06T13:32:52.933Z"}
{"msg":"@grapebaba I understand it is third party resources, do not understand the reason why you need to do that though.","username":"tongli","ts":"2017-06-06T13:33:32.982Z"}
{"msg":"I want to customize the spec yaml","username":"grapebaba","ts":"2017-06-06T13:34:47.397Z"}
{"msg":"no other way to do the same thing without creating TPR?","username":"tongli","ts":"2017-06-06T13:38:10.412Z"}
{"msg":"Has joined the channel.","username":"ccorley","ts":"2017-06-06T13:40:12.602Z","type":"uj"}
{"msg":"I don't know the other way. ","username":"grapebaba","ts":"2017-06-06T13:41:20.627Z"}
{"msg":"BTW, currently i manage the pods self and don't use builtin one such as replicaset, statefulset","username":"grapebaba","ts":"2017-06-06T13:47:36.219Z"}
{"msg":"That means we can have more control by ourselves, but obviously it should be more difficult than using built in replicaset, statefulset","username":"grapebaba","ts":"2017-06-06T13:49:23.757Z"}
{"msg":"@grapebaba thanks for your info.","username":"tongli","ts":"2017-06-06T14:15:50.363Z"}
{"msg":":relaxed:","username":"grapebaba","ts":"2017-06-06T14:31:18.596Z"}
{"msg":"Has joined the channel.","username":"matanyahu","ts":"2017-06-06T15:22:53.909Z","type":"uj"}
{"msg":"Has joined the channel.","username":"guoger","ts":"2017-06-06T15:25:54.207Z","type":"uj"}
{"msg":"Has joined the channel.","username":"catbus","ts":"2017-06-06T15:41:54.442Z","type":"uj"}
{"msg":"Has joined the channel.","username":"guruce","ts":"2017-06-06T16:46:17.236Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mwagner","ts":"2017-06-06T17:14:43.638Z","type":"uj"}
{"msg":"grapebaba - RedhHat is greatly interested in getting Fabric on Kubernetes and OpenShift (not to mention we already have it running on RHEL.)","username":"mwagner","ts":"2017-06-06T17:17:31.489Z"}
{"msg":"I am interested in running fabric on kubernetes on ubuntu.","username":"catbus","ts":"2017-06-06T17:21:47.549Z"}
{"msg":"Has joined the channel.","username":"phillipl 1","ts":"2017-06-06T18:12:57.083Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ratnakar","ts":"2017-06-06T19:55:05.380Z","type":"uj"}
{"msg":"We actually have plans to run fabric on multiple nodes. All the effort can combine I think.","username":"tongli","ts":"2017-06-07T01:06:27.464Z"}
{"msg":"tongli are you using the operator ?","username":"zhipengh","ts":"2017-06-07T01:16:22.545Z"}
{"msg":"@zhipengh i think not:sweat_smile:","username":"grapebaba","ts":"2017-06-07T01:30:23.164Z"}
{"msg":"they should have an official internal plan ","username":"grapebaba","ts":"2017-06-07T01:31:38.318Z"}
{"msg":"Has joined the channel.","username":"baohua","ts":"2017-06-07T01:41:22.928Z","type":"uj"}
{"msg":"the overlay networking is the key to support fabric on multiple nodes, i guess those working for openstack would have good experience.","username":"baohua","ts":"2017-06-07T01:43:36.681Z"}
{"msg":"Has joined the channel.","username":"luckydogchina","ts":"2017-06-07T01:47:41.837Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qiang0723","ts":"2017-06-07T05:54:09.611Z","type":"uj"}
{"msg":"@zhipengh no, not using operator.","username":"tongli","ts":"2017-06-07T12:11:39.413Z"}
{"msg":"@zhipengh thinking using Ansible","username":"tongli","ts":"2017-06-07T12:11:55.285Z"}
{"msg":"@DannyWong any more context?","username":"greg.haskins","ts":"2017-06-07T12:11:58.880Z"}
{"msg":"Has joined the channel.","username":"DannyWong","ts":"2017-06-07T12:11:59.015Z","type":"uj"}
{"msg":"@baohua I have worked on OpenStack for a long time (6 years) and Neutron.","username":"tongli","ts":"2017-06-07T12:12:32.411Z"}
{"msg":"@baohua  I run two OpenStack clouds within IBM.","username":"tongli","ts":"2017-06-07T12:12:53.525Z"}
{"msg":"https://github.com/openstack/interop-workloads/tree/master/workloads/ansible/shade/k8s this is the project I did for OpenStack Design Summit on stage demo","username":"tongli","ts":"2017-06-07T12:14:13.746Z"}
{"msg":"that was for OpenStack Design Summit Boston just last month.","username":"tongli","ts":"2017-06-07T12:14:46.627Z"}
{"msg":"Sorry, gotta resume tmw. Today is anniversary with wife. Will got killed if continue to blockchain","username":"DannyWong","ts":"2017-06-07T12:45:45.302Z"}
{"msg":"@tongli nice! very exciting to have similar-background guys here :) i do believe u will enjoy the new blockchain world~","username":"baohua","ts":"2017-06-07T13:02:13.581Z"}
{"msg":"@tongli nice! very excited to have similar-background guys here :) i do believe u will enjoy the new blockchain world~","username":"baohua","ts":"2017-06-07T13:02:13.581Z"}
{"msg":"@baohua awesome! thanks.","username":"tongli","ts":"2017-06-07T13:20:57.167Z"}
{"msg":"Has joined the channel.","username":"markparz","ts":"2017-06-07T20:00:18.298Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dwakeman","ts":"2017-06-08T23:04:08.476Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jrezwan","ts":"2017-06-11T16:14:28.160Z","type":"uj"}
{"msg":"Hi Guys","username":"DannyWong","ts":"2017-06-12T12:59:16.724Z"}
{"msg":"last mile from running the Fabric v1 beta on my minikube","username":"DannyWong","ts":"2017-06-12T13:00:03.172Z"}
{"msg":"got blocked...","username":"DannyWong","ts":"2017-06-12T13:00:06.780Z"}
{"msg":"So my peer deployment.yaml (will change to StatefulSets if everything working)","username":"DannyWong","ts":"2017-06-12T13:01:33.327Z"}
{"msg":"```\n          # CORE_PEER_ADDRESS will be used as the \"callback\" address in the cmd of cc chain code\n          # chaincode -peer.address=$CORE_PEER_ADDRESS\"\n        - name: CORE_PEER_ADDRESS\n          # FIXME peer0.org1 cannot be looked up in the cc container as it is not deployed with K8S (hence, no DNS entry in K8S DNS)\n          # Cannot use IP (does not matter hard-code IP / downward API to get the POD IP) as the x509 validation will fail\n          value: peer0.org1:7051\n        - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n          # Need to use bridge to make sure it is on same network with the PODs\n          value: bridge\n```","username":"DannyWong","ts":"2017-06-12T13:01:46.806Z"}
{"msg":"I can deploy orderer, 2orgs peers, create channel, join channel and update anchor peers with the e2e","username":"DannyWong","ts":"2017-06-12T13:02:41.893Z"}
{"msg":"and I can create the chaincode docker image as well and able to start it","username":"DannyWong","ts":"2017-06-12T13:03:19.223Z"}
{"msg":"but the cc container will die in a few seconds with errors...\n```\n $ docker logs edf4\n2017-06-12 11:02:20.907 UTC [shim] userChaincodeStreamGetter -> ERRO 001 Error trying to connect to local peer: context deadline exceeded\nError starting Simple chaincode: Error trying to connect to local peer: context deadline exceeded\n```","username":"DannyWong","ts":"2017-06-12T13:04:37.357Z"}
{"msg":"the problem is even they are in the same network\n\nthe \"startup command\" of chaincode container is `chaincode -peer.address=peer0-org1:7051`","username":"DannyWong","ts":"2017-06-12T13:05:46.643Z"}
{"msg":"but the chaincode container isn't deployed by K8S","username":"DannyWong","ts":"2017-06-12T13:05:58.511Z"}
{"msg":"that's why the peer0-org1 does not exist as a A Record in the K8S DNS","username":"DannyWong","ts":"2017-06-12T13:06:16.622Z"}
{"msg":"I have tried to use Downward API to pass the POD IP as well, but failed too\n```\n$ docker logs a346\n2017-06-12 12:36:44.184 UTC [shim] userChaincodeStreamGetter -> ERRO 001 Error trying to connect to local peer: x509: cannot validate certificate for 172.17.0.4 because it doesn't contain any IP SANs\nError starting Simple chaincode: Error trying to connect to local peer: x509: cannot validate certificate for 172.17.0.4 because it doesn't contain any IP SANs\n```","username":"DannyWong","ts":"2017-06-12T13:07:53.611Z"}
{"msg":"Why Docker Swarm + docker compose is working... is that they are running on same Docker Network (overlay or whatever), which all entries are resolvable with the Swarm internal DNS... ... ...","username":"DannyWong","ts":"2017-06-12T13:10:15.510Z"}
{"msg":"I am thinking of making a GitHub for this... it would be nice if people can join me to \"Fix\" this and make a version of running it on Google CLoud Platform","username":"DannyWong","ts":"2017-06-12T13:17:19.081Z"}
{"msg":"Anyone interested?","username":"DannyWong","ts":"2017-06-12T13:17:37.294Z"}
{"msg":"I would suggest to either use a github fork or a gerrit CR to collaborate on the fix if you think its large","username":"greg.haskins","ts":"2017-06-12T13:48:18.948Z"}
{"msg":"(and I would suggest sticking with a CR unless you cant, it will be easier to upstream the fix later","username":"greg.haskins","ts":"2017-06-12T13:49:06.640Z"}
{"msg":"umm... fork from where? It is purely K8S configurations right now.","username":"DannyWong","ts":"2017-06-12T13:51:25.564Z"}
{"msg":"oh, i misunderstood, sorry","username":"greg.haskins","ts":"2017-06-12T13:52:02.643Z"}
{"msg":"i thought you were saying we needed a patch to fabric","username":"greg.haskins","ts":"2017-06-12T13:52:12.525Z"}
{"msg":"all the stuffs I \"borrowed\" is the e2e script... and the \"generateArtefacts\", which i customized for K8S","username":"DannyWong","ts":"2017-06-12T13:52:15.086Z"}
{"msg":"dun worry...","username":"DannyWong","ts":"2017-06-12T13:52:20.759Z"}
{"msg":"thats fine, i misunderstood, disregard","username":"greg.haskins","ts":"2017-06-12T13:52:27.827Z"}
{"msg":"no problem!","username":"DannyWong","ts":"2017-06-12T13:52:32.816Z"}
{"msg":"btw: one possibility to explore is the PEER_ADDRESSDETECT thing","username":"greg.haskins","ts":"2017-06-12T13:52:52.791Z"}
{"msg":"cant recall the exact name, but will dig","username":"greg.haskins","ts":"2017-06-12T13:53:03.639Z"}
{"msg":"I know which one","username":"DannyWong","ts":"2017-06-12T13:53:09.112Z"}
{"msg":"ok..issue is probably TLS CN/SAN, im sure","username":"greg.haskins","ts":"2017-06-12T13:53:22.853Z"}
{"msg":"but it probably solves the k8s DNS problem","username":"greg.haskins","ts":"2017-06-12T13:53:35.785Z"}
{"msg":"","username":"DannyWong","ts":"2017-06-12T13:53:57.605Z","attachments":[{"title":"File Uploaded: core.yaml","title_link":"/file-upload/xumoXcSZs9hQ3hb3d/core.yaml","image_url":"/file-upload/xumoXcSZs9hQ3hb3d/core.yaml","image_type":"image/png","image_size":23795,"url":"/file-upload/xumoXcSZs9hQ3hb3d/core.yaml","remote":false,"fileId":"xumoXcSZs9hQ3hb3d","fileName":"core.yaml"}]}
{"msg":"really?","username":"DannyWong","ts":"2017-06-12T13:54:10.567Z"}
{"msg":"thats the one...i think if you set that to true, the peer will surface its discovered IP","username":"greg.haskins","ts":"2017-06-12T13:54:24.611Z"}
{"msg":"rather than the name passed in","username":"greg.haskins","ts":"2017-06-12T13:54:33.209Z"}
{"msg":"but like I said, that will fix the DNS issue but break TLS","username":"greg.haskins","ts":"2017-06-12T13:54:45.178Z"}
{"msg":"yes","username":"DannyWong","ts":"2017-06-12T13:54:49.499Z"}
{"msg":"so not likely usable","username":"greg.haskins","ts":"2017-06-12T13:54:49.517Z"}
{"msg":"I tried before as i used Downward API to pass the POD IP","username":"DannyWong","ts":"2017-06-12T13:55:09.295Z"}
{"msg":"ah, i see","username":"greg.haskins","ts":"2017-06-12T13:55:16.119Z"}
{"msg":"to the peer.address env","username":"DannyWong","ts":"2017-06-12T13:55:16.271Z"}
{"msg":"sorry, TLDR ;)","username":"greg.haskins","ts":"2017-06-12T13:55:20.884Z"}
{"msg":"but still DEAD by the TLS thing","username":"DannyWong","ts":"2017-06-12T13:55:22.094Z"}
{"msg":"ill try to catch up on your notes later","username":"greg.haskins","ts":"2017-06-12T13:55:26.392Z"}
{"msg":"I mentioned earlier as well","username":"DannyWong","ts":"2017-06-12T13:55:29.795Z"}
{"msg":"no problem. Thanks mate","username":"DannyWong","ts":"2017-06-12T13:55:36.852Z"}
{"msg":"my only feeling is that... IF this is resolved, then the e2e should be running fine!","username":"DannyWong","ts":"2017-06-12T13:55:55.602Z"}
{"msg":"one idea: we could possibly do something with addressAutoDetect=true, TLS off, localhost / k8s-network-policy","username":"greg.haskins","ts":"2017-06-12T13:56:31.557Z"}
{"msg":"e.g.hmm","username":"greg.haskins","ts":"2017-06-12T13:56:49.904Z"}
{"msg":"nevermind","username":"greg.haskins","ts":"2017-06-12T13:56:52.105Z"}
{"msg":"i forgot the peer only surfaces one port","username":"greg.haskins","ts":"2017-06-12T13:56:57.702Z"}
{"msg":"(not one specifically for the chaincode)","username":"greg.haskins","ts":"2017-06-12T13:57:02.493Z"}
{"msg":"oh well, we'll figure something out","username":"greg.haskins","ts":"2017-06-12T13:57:27.379Z"}
{"msg":"yes... see if anyone else here can think of something else...","username":"DannyWong","ts":"2017-06-12T13:57:41.476Z"}
{"msg":"Thanks @greg.haskins ","username":"DannyWong","ts":"2017-06-12T13:58:07.820Z"}
{"msg":"not sure how invasive the change would be, but one idea is to get rid of the notion of IP/TLS for the chaincode connection, at least as an option","username":"greg.haskins","ts":"2017-06-12T13:58:38.332Z"}
{"msg":"e.g. use unix-domain-sockets","username":"greg.haskins","ts":"2017-06-12T13:58:46.114Z"}
{"msg":"then we could create a pod-wide UDS that is volume mounted to all or something","username":"greg.haskins","ts":"2017-06-12T13:59:17.516Z"}
{"msg":"related: separate port for chaincode, only bind to localhost","username":"greg.haskins","ts":"2017-06-12T13:59:44.438Z"}
{"msg":"but seems not a small change","username":"DannyWong","ts":"2017-06-12T13:59:47.220Z"}
{"msg":"probably not","username":"greg.haskins","ts":"2017-06-12T13:59:52.640Z"}
{"msg":"for the UDS","username":"DannyWong","ts":"2017-06-12T13:59:56.333Z"}
{"msg":"in fact, I think a more appropriate way is to code a SPI to let us config how we want to spin up the chaincode container","username":"DannyWong","ts":"2017-06-12T14:00:29.515Z"}
{"msg":"you'd be surprised, but I agree that separate localhost TCP is probably easier","username":"greg.haskins","ts":"2017-06-12T14:00:34.015Z"}
{"msg":"one SPI for K8S, one SPI for Docker Swarm","username":"DannyWong","ts":"2017-06-12T14:00:45.172Z"}
{"msg":"what is SPI?","username":"greg.haskins","ts":"2017-06-12T14:00:53.454Z"}
{"msg":"in fact, just relying on Docker Remote API is not scalable","username":"DannyWong","ts":"2017-06-12T14:00:54.689Z"}
{"msg":"not familar","username":"greg.haskins","ts":"2017-06-12T14:00:55.939Z"}
{"msg":"Service Provider Interface (reverse of API)","username":"DannyWong","ts":"2017-06-12T14:01:14.662Z"}
{"msg":"ah, ok","username":"greg.haskins","ts":"2017-06-12T14:01:23.365Z"}
{"msg":"Docker Remote API limits by that machine's memory","username":"DannyWong","ts":"2017-06-12T14:01:35.559Z"}
{"msg":"is that a docker-specific concept, or just speaking generally?","username":"greg.haskins","ts":"2017-06-12T14:01:37.891Z"}
{"msg":"general speaking","username":"DannyWong","ts":"2017-06-12T14:01:45.930Z"}
{"msg":"now, chaincode is a service... not really a contract","username":"DannyWong","ts":"2017-06-12T14:02:09.098Z"}
{"msg":"I def agree that going forward, a more flexible abstraction for the chaincode isolation is warranted ","username":"greg.haskins","ts":"2017-06-12T14:02:09.373Z"}
{"msg":"if we want to have one contract one chaincode, then we end up super many cc containers","username":"DannyWong","ts":"2017-06-12T14:02:29.416Z"}
{"msg":"definitely need to create cc container with proper container scheduler","username":"DannyWong","ts":"2017-06-12T14:02:46.931Z"}
{"msg":"so why didnt downward API approach work?","username":"greg.haskins","ts":"2017-06-12T14:02:49.132Z"}
{"msg":"downward API can just pass the POD_ID?","username":"DannyWong","ts":"2017-06-12T14:03:03.716Z"}
{"msg":"```\n$ docker logs a346\n2017-06-12 12:36:44.184 UTC [shim] userChaincodeStreamGetter -> ERRO 001 Error trying to connect to local peer: x509: cannot validate certificate for 172.17.0.4 because it doesn't contain any IP SANs\nError starting Simple chaincode: Error trying to connect to local peer: x509: cannot validate certificate for 172.17.0.4 because it doesn't contain any IP SANs\n```","username":"DannyWong","ts":"2017-06-12T14:03:20.200Z"}
{"msg":"then this","username":"DannyWong","ts":"2017-06-12T14:03:22.329Z"}
{"msg":"ok, i might be thinking of a different application of the downward API","username":"greg.haskins","ts":"2017-06-12T14:03:46.624Z"}
{"msg":"I was thinking you meant you asked the k8s api to create the container, I think I got you now","username":"greg.haskins","ts":"2017-06-12T14:04:01.970Z"}
{"msg":"nono","username":"DannyWong","ts":"2017-06-12T14:04:19.080Z"}
{"msg":"ur previous understanding is correct","username":"DannyWong","ts":"2017-06-12T14:04:36.024Z"}
{"msg":"for long term solution and more scalable solution, i think using K8S api to create cc container","username":"DannyWong","ts":"2017-06-12T14:04:54.643Z"}
{"msg":"is quite a must","username":"DannyWong","ts":"2017-06-12T14:04:58.430Z"}
{"msg":"just that the Fabric should support different impl (different container scheduler)","username":"DannyWong","ts":"2017-06-12T14:05:14.287Z"}
{"msg":"agreed","username":"greg.haskins","ts":"2017-06-12T14:05:15.896Z"}
{"msg":"anyway, a short term hack: we could disable host verification in the shim","username":"greg.haskins","ts":"2017-06-12T14:05:40.746Z"}
{"msg":"but for the downward API, all I did was try to pass the POD_ID to the peer deployment. YAML\nthen it fails the TLS validation","username":"DannyWong","ts":"2017-06-12T14:05:53.754Z"}
{"msg":"i need to think about it some more, but that might even be a mid/long term solution because we control the trust root anyway","username":"greg.haskins","ts":"2017-06-12T14:06:00.372Z"}
{"msg":"Yes, agreed... can try disabling the HOST verification thing","username":"DannyWong","ts":"2017-06-12T14:06:18.645Z"}
{"msg":"ahh do u know whether it is configurable?","username":"DannyWong","ts":"2017-06-12T14:06:27.633Z"}
{"msg":"or need to change code?","username":"DannyWong","ts":"2017-06-12T14:06:36.460Z"}
{"msg":"so peer::autoAddressDetect=true + shim::hostVerify=false","username":"greg.haskins","ts":"2017-06-12T14:06:54.023Z"}
{"msg":"and I think it would work","username":"greg.haskins","ts":"2017-06-12T14:06:57.797Z"}
{"msg":"my guess is we have to fix the code","username":"greg.haskins","ts":"2017-06-12T14:07:11.177Z"}
{"msg":"but id have to look","username":"greg.haskins","ts":"2017-06-12T14:07:15.722Z"}
{"msg":"where is the shim config?","username":"DannyWong","ts":"2017-06-12T14:07:21.256Z"}
{"msg":"the peer autoaddressdetect I know where it is (core.yaml + env env)","username":"DannyWong","ts":"2017-06-12T14:07:36.638Z"}
{"msg":"looking, but not sure its exposed","username":"greg.haskins","ts":"2017-06-12T14:07:53.027Z"}
{"msg":"we might have to patch the code","username":"greg.haskins","ts":"2017-06-12T14:07:57.345Z"}
{"msg":"good news, it looks like the shim already has a knob","username":"greg.haskins","ts":"2017-06-12T14:11:02.977Z"}
{"msg":"now just seeing if it can be tweaked from the peer without code changes","username":"greg.haskins","ts":"2017-06-12T14:11:13.814Z"}
{"msg":"ic, let me take a look as well","username":"DannyWong","ts":"2017-06-12T14:11:35.750Z"}
{"msg":"Can you point me what file you looking at? ","username":"DannyWong","ts":"2017-06-12T14:12:25.766Z"}
{"msg":"haha...","username":"DannyWong","ts":"2017-06-12T14:12:27.351Z"}
{"msg":"too fast you are :P","username":"DannyWong","ts":"2017-06-12T14:12:30.714Z"}
{"msg":"hold on, i am untangling it","username":"greg.haskins","ts":"2017-06-12T14:12:44.891Z"}
{"msg":"be right back, wife shouting at me asking me to take bath","username":"DannyWong","ts":"2017-06-12T14:13:56.904Z"}
{"msg":"haha","username":"DannyWong","ts":"2017-06-12T14:13:58.560Z"}
{"msg":"I think you can just use the CORE_PEER_TLS_SERVERHOSTOVERRIDE","username":"greg.haskins","ts":"2017-06-12T14:15:41.431Z"}
{"msg":"plus autoAddressDetect","username":"greg.haskins","ts":"2017-06-12T14:15:53.108Z"}
{"msg":"e.g. set autoAddressDetect=true, and CORE_PEER_TLS_SERVERHOSTOVERRIDE to match your x509","username":"greg.haskins","ts":"2017-06-12T14:16:19.230Z"}
{"msg":"that will force the peer to send its dynamic IP, and the shim will disregard the IP and verify against the environment","username":"greg.haskins","ts":"2017-06-12T14:16:43.369Z"}
{"msg":"confirming now","username":"greg.haskins","ts":"2017-06-12T14:17:02.197Z"}
{"msg":"confirmed, its passed all the way down","username":"greg.haskins","ts":"2017-06-12T14:23:00.921Z"}
{"msg":"heres where the peer gives it to the chaincode","username":"greg.haskins","ts":"2017-06-12T14:23:07.641Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/v1.0.0-beta/core/chaincode/chaincode_support.go#L363","username":"greg.haskins","ts":"2017-06-12T14:23:08.641Z"}
{"msg":"and I also confirmed the shim side","username":"greg.haskins","ts":"2017-06-12T14:23:40.208Z"}
{"msg":"OK cool!","username":"DannyWong","ts":"2017-06-12T14:32:38.028Z"}
{"msg":"So, the CORE_PEER_ADDRESS set as 0.0.0.0:7051?","username":"DannyWong","ts":"2017-06-12T14:39:07.737Z"}
{"msg":"as I still gotta specify the port, right?","username":"DannyWong","ts":"2017-06-12T14:39:18.846Z"}
{"msg":"","username":"DannyWong","ts":"2017-06-12T14:46:06.539Z","attachments":[{"title":"File Uploaded: IT WORKS!!!!","title_link":"/file-upload/LP9A2HgocKGjNrWpv/IT WORKS!!!!","image_url":"/file-upload/LP9A2HgocKGjNrWpv/IT WORKS!!!!","image_type":"image/png","image_size":171884,"url":"/file-upload/LP9A2HgocKGjNrWpv/IT WORKS!!!!","remote":false,"fileId":"LP9A2HgocKGjNrWpv","fileName":"IT WORKS!!!!"}]}
{"msg":"@greg.haskins u are the man!","username":"DannyWong","ts":"2017-06-12T14:46:46.942Z"}
{"msg":"nice!","username":"greg.haskins","ts":"2017-06-12T14:47:28.927Z"}
{"msg":"@DannyWong @greg.haskins if you have something working I would love to give it a test drive!","username":"mwagner","ts":"2017-06-12T14:53:37.506Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Z4ss5gi9w94KDjgfB) @DannyWong Im actually not sure whether its needed or defaults to 7051","username":"greg.haskins","ts":"2017-06-12T15:22:39.577Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Z4ss5gi9w94KDjgfB","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Z4ss5gi9w94KDjgfB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Right, I placed it anyway :)","username":"DannyWong","ts":"2017-06-12T15:22:59.769Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Kt55g9CmbmYfyg69w) @DannyWong @muralisr a convenient feature might be something that allows the peer to get the SERVERHOSTOVERRIDE from the x509 itself","username":"greg.haskins","ts":"2017-06-12T15:30:55.159Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Kt55g9CmbmYfyg69w","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Kt55g9CmbmYfyg69w","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"muralisr","ts":"2017-06-12T15:30:55.451Z","type":"uj"}
{"msg":"or perhaps simpler is to just allow the shim to disable checking","username":"greg.haskins","ts":"2017-06-12T15:31:51.077Z"}
{"msg":"@greg.haskins need to read up a bit...","username":"muralisr","ts":"2017-06-12T15:36:16.255Z"}
{"msg":"@muralisr summary is simple:  launching chaincode under kubernetes is a little more stringent than pure docker because of the DNS namespace that the chaincode ends up in","username":"greg.haskins","ts":"2017-06-12T15:36:56.537Z"}
{"msg":"e.g. in pure docker, \"peer0\" and \"dev-peer0-mycc-1\" end up on the same docker network, and thus have resolvable DNS names","username":"greg.haskins","ts":"2017-06-12T15:37:30.981Z"}
{"msg":"ok. ","username":"muralisr","ts":"2017-06-12T15:37:31.576Z"}
{"msg":"in kubernetes, the peer is launched by k8s, and the chaincode is launched by the peer","username":"greg.haskins","ts":"2017-06-12T15:37:44.299Z"}
{"msg":"so they end up namespace isolated from one another","username":"greg.haskins","ts":"2017-06-12T15:37:52.860Z"}
{"msg":"a solution we have found is to combine AUTOADDRESSDETECT=true + SERVERHOSTOVERRIDE=$x509::CN","username":"greg.haskins","ts":"2017-06-12T15:38:32.953Z"}
{"msg":"and what I was pointing out is that setting SERVERHOSTOVERRIDE=$x509::CN and the x509 is redundant configuration work","username":"greg.haskins","ts":"2017-06-12T15:39:09.552Z"}
{"msg":"so, wondering if it can be automated/simplified","username":"greg.haskins","ts":"2017-06-12T15:39:28.986Z"}
{"msg":"because we can pick that up ourselves ?","username":"muralisr","ts":"2017-06-12T15:39:34.242Z"}
{"msg":"ok","username":"muralisr","ts":"2017-06-12T15:39:36.706Z"}
{"msg":"IOW, we _have_ to provide the x509, but why not auto-set the override from it: we already know it","username":"greg.haskins","ts":"2017-06-12T15:40:13.543Z"}
{"msg":"honestly though, the most simple and equally correct option might be to simply tell the chaincode to not verify the hostname","username":"greg.haskins","ts":"2017-06-12T15:40:55.106Z"}
{"msg":"its not used in the same context in which a typical x509 PKI derives value from","username":"greg.haskins","ts":"2017-06-12T15:41:18.776Z"}
{"msg":"I'm not sure how to disable hostname verification ","username":"muralisr","ts":"2017-06-12T15:42:16.919Z"}
{"msg":"it might be layered into grpc","username":"muralisr","ts":"2017-06-12T15:42:32.435Z"}
{"msg":"also, why do you need AUTOADDRESSDETECT=true ?","username":"muralisr","ts":"2017-06-12T15:44:23.461Z"}
{"msg":"oh because you don't know the IP ","username":"muralisr","ts":"2017-06-12T15:44:43.779Z"}
{"msg":"ok","username":"muralisr","ts":"2017-06-12T15:44:45.842Z"}
{"msg":"(ie, that has nothing to do with the TLS)","username":"muralisr","ts":"2017-06-12T15:45:16.778Z"}
{"msg":"@muralisr I know you can in pure golang sockets, not sure what GRPC surfaces","username":"greg.haskins","ts":"2017-06-12T16:03:28.778Z"}
{"msg":"can investigate","username":"greg.haskins","ts":"2017-06-12T16:03:31.965Z"}
{"msg":"I do like the notion of hostname verification though...","username":"muralisr","ts":"2017-06-12T16:04:45.843Z"}
{"msg":"i am not sure it provides any real security in this context","username":"greg.haskins","ts":"2017-06-12T17:49:01.456Z"}
{"msg":"the peer is spoon feeding it all of the parameters","username":"greg.haskins","ts":"2017-06-12T17:49:19.273Z"}
{"msg":"(including the cert)","username":"greg.haskins","ts":"2017-06-12T17:49:37.862Z"}
{"msg":"I need to think about it a little more, but i am fairly certain it offers no real security benefit in this context","username":"greg.haskins","ts":"2017-06-12T17:49:59.650Z"}
{"msg":"the problem in general PKI is that all browsers, etc, have a well known trust root","username":"greg.haskins","ts":"2017-06-12T17:50:26.282Z"}
{"msg":"so, I could buy a really cheap verisign cert and then MITM \"www.ibm.com\" with a hotspot in a coffee shop","username":"greg.haskins","ts":"2017-06-12T17:51:26.187Z"}
{"msg":"hostname verification could help thwart that type of attack surface because theres no way verisign should grant me a .crt with CN=\"www.ibm.com\", etc","username":"greg.haskins","ts":"2017-06-12T17:52:42.750Z"}
{"msg":"but in this case, the peer is spoonfeeding the trust root anyway","username":"greg.haskins","ts":"2017-06-12T17:52:53.122Z"}
{"msg":"(by loading the peer.crt into the chaincode context)","username":"greg.haskins","ts":"2017-06-12T17:53:16.326Z"}
{"msg":"@muralisr ^^^","username":"greg.haskins","ts":"2017-06-12T17:53:29.380Z"}
{"msg":"so the hostname verification probably has little value","username":"greg.haskins","ts":"2017-06-12T17:54:09.700Z"}
{"msg":"i need to think about it more","username":"greg.haskins","ts":"2017-06-12T17:54:15.370Z"}
{"msg":"yeah, just a warm fuzzy :-)","username":"muralisr","ts":"2017-06-12T17:54:39.332Z"}
{"msg":"It's easy to disable the hostname override with gRPC","username":"yacovm","ts":"2017-06-12T20:27:32.823Z"}
{"msg":"It's easy to disable the hostname override with gRPC @muralisr ^","username":"yacovm","ts":"2017-06-12T20:27:32.823Z"}
{"msg":"```\ncredentials.NewTLS(&tls.Config{\n\t\tInsecureSkipVerify: true,\n\t})\n```","username":"yacovm","ts":"2017-06-12T20:28:46.197Z"}
{"msg":"It also disables more stuff however","username":"yacovm","ts":"2017-06-12T20:48:50.812Z"}
{"msg":"It also disables more checks however","username":"yacovm","ts":"2017-06-12T20:48:50.812Z"}
{"msg":"It should be improvement abstract cc deploy include more orchestration apis. @muralisr @DannyWong @greg.haskins Can we have a JIRA ticket for tracking this ","username":"grapebaba","ts":"2017-06-13T10:23:02.502Z"}
{"msg":"@grapebaba please feel free to create one","username":"cbf","ts":"2017-06-13T11:46:39.294Z"}
{"msg":"Has joined the channel.","username":"naolduga","ts":"2017-06-14T17:17:53.947Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Calvin_Heo","ts":"2017-06-15T01:59:26.991Z","type":"uj"}
{"msg":"Has joined the channel.","username":"binhn","ts":"2017-06-16T16:23:54.627Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sfukazu","ts":"2017-06-19T06:35:11.882Z","type":"uj"}
{"msg":"Has joined the channel.","username":"amitkumarj441","ts":"2017-06-19T08:06:00.873Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ashahn","ts":"2017-06-19T13:59:08.489Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dongqi","ts":"2017-06-20T08:36:36.844Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mraikwar","ts":"2017-06-20T09:03:58.643Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SubhraMazumdar","ts":"2017-06-20T09:12:25.106Z","type":"uj"}
{"msg":"Has joined the channel.","username":"opiepj","ts":"2017-06-21T00:36:17.929Z","type":"uj"}
{"msg":"Has joined the channel.","username":"wajid.poernomo","ts":"2017-06-21T00:38:02.657Z","type":"uj"}
{"msg":"Seen a lot of demos for hyperledger and kubernetes floating around including brooklin/Cloudsoft AMP, is there a \"official\" hyperledger endorsed project for this stuff? ","username":"wajid.poernomo","ts":"2017-06-21T02:55:43.728Z"}
{"msg":"is kubernets working fine with fabric v1-beta?","username":"mraikwar","ts":"2017-06-21T03:28:35.465Z"}
{"msg":"Has joined the channel.","username":"harsha","ts":"2017-06-21T05:03:14.720Z","type":"uj"}
{"msg":"I think so.","username":"DannyWong","ts":"2017-06-21T05:19:10.869Z"}
{"msg":"that Cloudsoft AMP is on v0.6","username":"DannyWong","ts":"2017-06-21T05:19:21.979Z"}
{"msg":"Has joined the channel.","username":"yihuang518","ts":"2017-06-21T05:31:19.313Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jmcnevin","ts":"2017-06-21T14:50:15.384Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=RsKWnCh7oonf6s3Zn) @tongli eliminating SPOF, great idea","username":"harsha","ts":"2017-06-21T18:12:29.464Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=RsKWnCh7oonf6s3Zn","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=RsKWnCh7oonf6s3Zn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@here , I am starting a discussion thread in #fabric channel in view of event handling (duplicate message handling) for multiple nodes/instances environment.... you guys should be interested as well... ","username":"DannyWong","ts":"2017-06-22T03:46:27.529Z"}
{"msg":"Has joined the channel.","username":"n-someya","ts":"2017-06-27T07:04:26.558Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aberfou","ts":"2017-06-27T12:37:08.771Z","type":"uj"}
{"msg":"Has joined the channel.","username":"coolsvap","ts":"2017-06-28T07:29:13.929Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rezamt","ts":"2017-06-28T08:18:12.344Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mariol100","ts":"2017-06-28T17:18:49.568Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jeroiraz","ts":"2017-06-30T14:25:46.342Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=4AMFsTMAT8XkKkG7S) @mwagner Did you get any leads on this - looks like Danny is doing something different than the grapebaba","username":"wajid.poernomo","ts":"2017-07-01T11:56:11.485Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=4AMFsTMAT8XkKkG7S","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=4AMFsTMAT8XkKkG7S","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"bluecrayon52","ts":"2017-07-05T12:52:23.929Z","type":"uj"}
{"msg":"Has joined the channel.","username":"traviscox","ts":"2017-07-05T13:41:17.443Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ersudiplama","ts":"2017-07-05T13:42:55.850Z","type":"uj"}
{"msg":"Has joined the channel.","username":"samarcho","ts":"2017-07-06T15:14:03.569Z","type":"uj"}
{"msg":"@greg.haskins @DannyWong Hi I have been trying to tailor the docker-compose files at https://github.com/yeasy/docker-compose-files/tree/master/hyperledger/1.0 by converting to a Kubernetes yaml file, but have been unsuccessful so far...can you guys post the yaml that you ran or the instructions to run on Kubernetes?","username":"samarcho","ts":"2017-07-06T16:18:53.609Z"}
{"msg":"basically, CORE_PEER_TLS_SERVERHOSTOVERRIDE and CORE_PEER_ADDRESSAUTODETECT at peer do the trick","username":"DannyWong","ts":"2017-07-06T16:20:24.663Z"}
{"msg":"plus having your /host/var/lib/docker socket as volume not PV","username":"DannyWong","ts":"2017-07-06T16:20:47.325Z"}
{"msg":"@DannyWong which yaml file did you start with? the link that I mentioned above does not even have the CORE_PEER_TLS_SERVERHOSTOVERRIDE variabel and neither is there a semblance of a certificate in the docker-compose.yaml file....I am beginning to think that I need a different starting point","username":"samarcho","ts":"2017-07-06T16:36:47.462Z"}
{"msg":"@DannyWong  I did convert the docker-compose to the Kubrenetes yaml file","username":"samarcho","ts":"2017-07-06T16:37:20.913Z"}
{"msg":"well, i also started with using kompose to convert the docker compose","username":"DannyWong","ts":"2017-07-06T16:37:34.155Z"}
{"msg":"then starting all the jorney to converting it... first kafka (and ZK)","username":"DannyWong","ts":"2017-07-06T16:38:02.279Z"}
{"msg":"then orderer","username":"DannyWong","ts":"2017-07-06T16:38:05.705Z"}
{"msg":"then peers","username":"DannyWong","ts":"2017-07-06T16:38:07.344Z"}
{"msg":"then try to E2E","username":"DannyWong","ts":"2017-07-06T16:38:11.992Z"}
{"msg":"take some time...","username":"DannyWong","ts":"2017-07-06T16:38:14.927Z"}
{"msg":"Are you trying on K8S cluster or simply minikube","username":"DannyWong","ts":"2017-07-06T16:38:31.369Z"}
{"msg":"minishift","username":"samarcho","ts":"2017-07-06T16:39:08.654Z"}
{"msg":"then that would be easier","username":"DannyWong","ts":"2017-07-06T16:39:28.844Z"}
{"msg":"for the PV, make it host path as per docker volume mount","username":"DannyWong","ts":"2017-07-06T16:39:47.983Z"}
{"msg":"except the docker Unix socket","username":"DannyWong","ts":"2017-07-06T16:40:13.328Z"}
{"msg":"can you point me to which docker-compose file you started with ? There are many and some of them are not even supposed to work","username":"samarcho","ts":"2017-07-06T16:42:12.617Z"}
{"msg":"well, i just start with the one in Fabric github, Maybe u should take the one in e2e_example","username":"DannyWong","ts":"2017-07-06T16:43:53.674Z"}
{"msg":"example --> e2e","username":"DannyWong","ts":"2017-07-06T16:44:02.753Z"}
{"msg":"ok, thanks a lot !","username":"samarcho","ts":"2017-07-06T16:48:01.815Z"}
{"msg":"Has joined the channel.","username":"Jay","ts":"2017-07-10T08:39:41.890Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gauthampamu","ts":"2017-07-11T21:18:12.405Z","type":"uj"}
{"msg":"Has joined the channel.","username":"naohide","ts":"2017-07-12T01:36:24.234Z","type":"uj"}
{"msg":" Hi, Do anyone have any documentations related to multi host networking between hyper-ledger peers ? if so can someone share that doc? As I tried with docker swarm and other stuff where it throws alot of errors or the peers don't communicate with each other.\nThank you in advance ","username":"ersudiplama","ts":"2017-07-12T17:28:37.436Z"}
{"msg":"@ersudiplama do you have to use docker, or can you also use VMs?","username":"yacovm","ts":"2017-07-13T07:58:48.731Z"}
{"msg":"@yacovm  we were trying to look at all the probable options for obtaining the multiple host networking between peers residing at different physical machines or servers. We have achieved the multi host networking different physical machines using docker swarm but we are not sure that as the best option or not. We would like to explore more options so that we can create distributed blockchian network between different peers located at different machines.  If anyone have more doc or  info about creating distribute network between peers residing at different servers or machine and share that doc with us, we would appreciate that help.  ","username":"ersudiplama","ts":"2017-07-13T13:11:47.029Z"}
{"msg":"Thank you in advance ","username":"ersudiplama","ts":"2017-07-13T13:11:52.592Z"}
{"msg":"so, if you have linux VMs and you have SSH keys to all of them you can use https://github.com/yacovm/fabricDeployment ","username":"yacovm","ts":"2017-07-13T13:12:28.873Z"}
{"msg":"It's just a quick and dirty script that deploys fabric on bare metal VMs","username":"yacovm","ts":"2017-07-13T13:12:40.605Z"}
{"msg":"assuming you have password-less SSH access","username":"yacovm","ts":"2017-07-13T13:12:47.630Z"}
{"msg":"but it does so for a single org","username":"yacovm","ts":"2017-07-13T13:12:56.159Z"}
{"msg":"and a Solo orderer (single instance)","username":"yacovm","ts":"2017-07-13T13:13:02.618Z"}
{"msg":"but I guess it can be extended for Kafka too...","username":"yacovm","ts":"2017-07-13T13:13:08.109Z"}
{"msg":"I'd suggest to take a look","username":"yacovm","ts":"2017-07-13T13:13:16.317Z"}
{"msg":"@yacovm We tried to use the docker images of the hyperledger fabric  and tried to creating the networking between the peers residing at different physical machine with Linux residing at different network and We faced problem for creating networking between different Orgs and Orderer. As Orderer in one container can find the Org in different container at different machine using the service name specified at compose file ( e followed documentation given at hyperledger fabric to create the docker images ] ) .  It is works fine sometime and throw unknown error sometime (for same steps which it worked for ) as I dont know what is happening. We are trying to create blockchain network tow Org infrastructure peers residing at different server. So if anyone have any documentation realted to achivig distributed networking between Orgs( peers) residing at different server or physical machine, it would be great help. ","username":"ersudiplama","ts":"2017-07-13T13:57:10.047Z"}
{"msg":"@yacovm We tried to use the docker images of the hyperledger fabric using docker container other then fabric on bare mental VM and tried to creating the networking between the peers residing at different physical machine with Linux, located at different network.","username":"ersudiplama","ts":"2017-07-13T14:03:21.159Z"}
{"msg":" We faced problem for creating networking between different Orgs and Orderer. As Orderer in one container cannot find the Org in different container at different machine using the service name specified at compose file (We followed the documentation given at hyperledger fabric to use the docker image ). It is works fine sometime with docker swarm and sometime throw unknown error like bad request or grp  etc (for same steps which we followed to created the network) as I dont know what is happening. ","username":"ersudiplama","ts":"2017-07-13T14:04:21.316Z"}
{"msg":"We are trying to create blockchain network between Orderer and two Org infrastructure peers residing at different servers. So if anyone have any documentation related to achieving  distributed networking between Orgs( peers) residing at different server or physical machine, it would add great value. ","username":"ersudiplama","ts":"2017-07-13T14:04:59.703Z"}
{"msg":"Thank you in advance","username":"ersudiplama","ts":"2017-07-13T14:05:04.606Z"}
{"msg":"Has joined the channel.","username":"ankursam","ts":"2017-07-13T14:54:13.591Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Moto","ts":"2017-07-17T17:44:16.928Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=cr6XdwG3b57RaqtqF) @ersudiplama did you try using an overlay network?","username":"Moto","ts":"2017-07-17T17:45:08.743Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=cr6XdwG3b57RaqtqF","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=cr6XdwG3b57RaqtqF","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Moto 10 Ya we tried using overlay network, it works but it is not consistent ( as sometime it throws error for same steps which worked earlier). Do you have any tutorial or documentation of fabric which we can follow? ","username":"ersudiplama","ts":"2017-07-17T19:13:46.838Z"}
{"msg":"@Moto Ya we tried using overlay network, it works but it is not consistent ( as sometime it throws error for same steps which worked earlier). Do you have any tutorial or documentation of fabric which we can follow? ","username":"ersudiplama","ts":"2017-07-17T19:13:46.838Z"}
{"msg":"Thank you in advance ","username":"ersudiplama","ts":"2017-07-17T19:13:51.238Z"}
{"msg":"@ersudiplama @Moto I have been working on that with this project,","username":"tongli","ts":"2017-07-18T13:11:30.263Z"}
{"msg":"https://github.com/litong01/fabric-deploy","username":"tongli","ts":"2017-07-18T13:11:53.747Z"}
{"msg":"to make fabric working on k8s on multiple nodes, I had to use overlay network (flanneld), this project actually start from basically nothing.","username":"tongli","ts":"2017-07-18T13:12:44.210Z"}
{"msg":"it will provision nodes from a cloud (OpenStack, VirtualBox, AWS (in the work now)), then initialize these nodes for them to be ready to run fabric, then setup overlay network, dns, registrator etc. eventually deploy fabric onto multiple nodes with multiple peers, orders, orgs.","username":"tongli","ts":"2017-07-18T13:14:17.223Z"}
{"msg":"create genesis block, join all peers to the first channel, install a simple chaincode, instantiate the chaincode, then query.","username":"tongli","ts":"2017-07-18T13:14:59.765Z"}
{"msg":"for k8s, the project also setup k8s 1.7.0 env on multiple nodes with k8s dashboard and dns services, then start deploy fabric on.","username":"tongli","ts":"2017-07-18T13:16:03.802Z"}
{"msg":"the problem that I have is when I start instantiate chaincode, it feels due to network issues.","username":"tongli","ts":"2017-07-18T13:17:05.651Z"}
{"msg":"at this point, I am not really sure if chaincode instantiation assumes that all the parties involved has to share same host or ip or something, I tried various ways with no success, need some expert on chaincode instantiation process to help.","username":"tongli","ts":"2017-07-18T13:18:11.092Z"}
{"msg":"also, that project now can provision VirtualBox nodes and starting setting things up on the provisioned the VMs if you have no cloud env.","username":"tongli","ts":"2017-07-18T13:18:57.237Z"}
{"msg":"If you just have few physical nodes sitting around, you can also use the project to set up fabric but you will need to make sure that your physical servers have ubuntu 16.04 installed clean and network connection.","username":"tongli","ts":"2017-07-18T13:20:24.372Z"}
{"msg":"@tongli yeah I saw your project while I was researching fabric networks yesterday.  Ansible looks really interesting.","username":"Moto","ts":"2017-07-18T13:26:26.597Z"}
{"msg":"@Moto, it is a tool that is very flexible and can do a lot, for provisioning and installation, it is great.","username":"tongli","ts":"2017-07-18T13:27:25.038Z"}
{"msg":"we are working hard to make it THE INSTALLER of the fabric regardless what env you might have.","username":"tongli","ts":"2017-07-18T13:28:04.524Z"}
{"msg":"it is working great now on OpenStack cloud (overlay network + docker), having a bit of issues in k8s (currently working on resolving that issue),","username":"tongli","ts":"2017-07-18T13:29:00.591Z"}
{"msg":"we are also working on adding provisioning part on AWS as well.","username":"tongli","ts":"2017-07-18T13:29:13.556Z"}
{"msg":"I just added virtualbox script, so that you can actually provision few nodes on your virtualbox env and start doing things as well.","username":"tongli","ts":"2017-07-18T13:29:40.041Z"}
{"msg":"@tongli Thank you for sharing . If I have any question, I will reach out to you.","username":"ersudiplama","ts":"2017-07-18T13:31:43.854Z"}
{"msg":"@ersudiplama yeah, no problem. thanks.","username":"tongli","ts":"2017-07-18T14:39:15.350Z"}
{"msg":"@ersudiplama forgot to ask you a question, when you setup multiple peer and orderer in k8s env, do you put peer or orderer container inside a pod and create corresponding services for each peer or orderer? ","username":"tongli","ts":"2017-07-18T15:18:03.568Z"}
{"msg":"@ersudiplama forgot to ask you a question, when you setup multiple peers and orderers in k8s env, do you put peer or orderer container inside a pod and create corresponding services for each peer or orderer? ","username":"tongli","ts":"2017-07-18T15:18:03.568Z"}
{"msg":"@here, wonder if anyone else here dealing with k8s doing the similar thing to deploy fabric onto k8s? I assume that bare container on k8s is not the way to go.","username":"tongli","ts":"2017-07-18T15:27:44.532Z"}
{"msg":"@tongli Now we are trying to use K8 but not successful so far. In our last iteration, we setup multiple peers and orderer using docker swarm over different physical machine using overlay network.","username":"ersudiplama","ts":"2017-07-18T16:55:14.916Z"}
{"msg":"That solution was not consistent","username":"ersudiplama","ts":"2017-07-18T16:55:53.766Z"}
{"msg":"@ersudiplama cool, I was successful doing that as well with just docker and overlay network (not swarm),","username":"tongli","ts":"2017-07-18T16:57:02.094Z"}
{"msg":"however, when I put everything on k8s, the chaincode instantiation failed.","username":"tongli","ts":"2017-07-18T16:57:21.467Z"}
{"msg":"looking at the suggestion that @greg.haskins provided, hope I can figure out a way getting it working on k8s env.","username":"tongli","ts":"2017-07-18T16:57:53.331Z"}
{"msg":"@tongli Cool, if it works let us know ... best of luck ...","username":"ersudiplama","ts":"2017-07-18T16:59:13.547Z"}
{"msg":"@ersudiplama will report back as soon as I have some results.","username":"tongli","ts":"2017-07-18T16:59:39.930Z"}
{"msg":"@tongli I literally have it running right now, so I know its possible","username":"greg.haskins","ts":"2017-07-18T17:17:45.278Z"}
{"msg":"@greg.haskins great. can you provide me your deployment yaml file ? are you putting peers and orders inside pods?","username":"tongli","ts":"2017-07-18T17:18:45.844Z"}
{"msg":"not easily, statestreet is crazy locked down","username":"greg.haskins","ts":"2017-07-18T17:19:10.575Z"}
{"msg":"i can tell you the key elements though","username":"greg.haskins","ts":"2017-07-18T17:19:16.086Z"}
{"msg":"oh, that will help as well.","username":"tongli","ts":"2017-07-18T17:19:32.117Z"}
{"msg":"let me show you mine deployment files.","username":"tongli","ts":"2017-07-18T17:20:10.094Z"}
{"msg":"give me few minutes to run the script. a bit of my network settings.","username":"tongli","ts":"2017-07-18T17:20:27.426Z"}
{"msg":"I have k8s running on OpenStack 3 VMs.","username":"tongli","ts":"2017-07-18T17:20:39.297Z"}
{"msg":"I setup flanneld overlay network so nodes can talk to each other even when they are in a pod.","username":"tongli","ts":"2017-07-18T17:21:11.441Z"}
{"msg":"actually, a colleague wrote the deployment that is currently working, and they did it in a different way than i was expecting","username":"greg.haskins","ts":"2017-07-18T17:21:22.891Z"}
{"msg":"will take me a little time to fully decipher what they did","username":"greg.haskins","ts":"2017-07-18T17:21:31.857Z"}
{"msg":"that is fine, just need to know the key things.","username":"tongli","ts":"2017-07-18T17:21:53.396Z"}
{"msg":"I know we talked about the way Ive done it in the past here on this channel","username":"greg.haskins","ts":"2017-07-18T17:21:55.800Z"}
{"msg":"let me see if its still in the history","username":"greg.haskins","ts":"2017-07-18T17:22:01.906Z"}
{"msg":"cool.","username":"tongli","ts":"2017-07-18T17:22:06.300Z"}
{"msg":"that will help a lot.","username":"tongli","ts":"2017-07-18T17:22:16.854Z"}
{"msg":"scroll back to here: https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6FwrYSJKHZgQ8oarC","username":"greg.haskins","ts":"2017-07-18T17:23:48.287Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6FwrYSJKHZgQ8oarC","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6FwrYSJKHZgQ8oarC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"ending here: https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yCEmezpyYswxd8uoo","username":"greg.haskins","ts":"2017-07-18T17:24:13.904Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yCEmezpyYswxd8uoo","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yCEmezpyYswxd8uoo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"also see the AUTOADDRESS thing","username":"greg.haskins","ts":"2017-07-18T17:24:58.938Z"}
{"msg":"thats the other trick","username":"greg.haskins","ts":"2017-07-18T17:25:04.399Z"}
{"msg":"need to use both?","username":"tongli","ts":"2017-07-18T17:25:52.153Z"}
{"msg":"you basically need the peer to surface its dynamic IP (thats what AUTOADDRESS does) and then tell the chaincode to basically ignore the x509 CN ","username":"greg.haskins","ts":"2017-07-18T17:25:54.691Z"}
{"msg":"thats what SERVERHOSTOVERRIDE does","username":"greg.haskins","ts":"2017-07-18T17:26:01.005Z"}
{"msg":"(and the other part is you need the peer pod to be privelged so it has the rights to drive the docker-api","username":"greg.haskins","ts":"2017-07-18T17:26:40.364Z"}
{"msg":"ok, I will make that change.","username":"tongli","ts":"2017-07-18T17:27:09.917Z"}
{"msg":"will make these changes and try again.","username":"tongli","ts":"2017-07-18T17:27:18.915Z"}
{"msg":"I use openshift variant of k8s though, and my privileged setup via \"oc scc\" might not be universal","username":"greg.haskins","ts":"2017-07-18T17:27:23.214Z"}
{"msg":"but I think there is a pure k8s variant that I will leave as an exercise for the reader ;)","username":"greg.haskins","ts":"2017-07-18T17:27:47.858Z"}
{"msg":"@greg.haskins that is totally ok, I setup k8s myself on OpenStack, I can give myself all the rights needed.","username":"tongli","ts":"2017-07-18T17:28:17.238Z"}
{"msg":"cool","username":"greg.haskins","ts":"2017-07-18T17:28:24.374Z"}
{"msg":"my colleague addressed the problem slightly differently by managing the DNS/docker environment","username":"greg.haskins","ts":"2017-07-18T17:29:01.140Z"}
{"msg":"fwiw","username":"greg.haskins","ts":"2017-07-18T17:29:03.863Z"}
{"msg":"let me try these things. thanks again for your help. btw, you are putting peers and orderers in pods and make services out of them, right?","username":"tongli","ts":"2017-07-18T17:29:14.896Z"}
{"msg":"but since I havent done it that way, I am more comfortable advising on the AUTOADDRESS/HOSTOVERRIDE method","username":"greg.haskins","ts":"2017-07-18T17:29:33.425Z"}
{"msg":"that is correct","username":"greg.haskins","ts":"2017-07-18T17:29:41.354Z"}
{"msg":"1 peer/orderer per pod","username":"greg.haskins","ts":"2017-07-18T17:29:57.234Z"}
{"msg":"right, I did 1 peer inside one pod, then a service per peer pod, or orderer pod.","username":"tongli","ts":"2017-07-18T17:30:23.922Z"}
{"msg":"yes, i think thats correct","username":"greg.haskins","ts":"2017-07-18T17:30:35.258Z"}
{"msg":"thats how I did it, and I believe how my colleague did it, but I would have to look","username":"greg.haskins","ts":"2017-07-18T17:30:45.994Z"}
{"msg":"but thats pretty standard, otherwise you dont get a DNS entry","username":"greg.haskins","ts":"2017-07-18T17:30:55.120Z"}
{"msg":"also kafka, zookeeper were done same way.","username":"tongli","ts":"2017-07-18T17:30:56.246Z"}
{"msg":"exactly.","username":"tongli","ts":"2017-07-18T17:31:13.004Z"}
{"msg":"cool, cool, let me try these tricks, and share my deployment yaml files if they do not work for some reason.","username":"tongli","ts":"2017-07-18T17:31:40.911Z"}
{"msg":"the AUTOADDRESS thing _may_ preclude the need at least w.r.t. chaincode, but I think you'd eventually need it to surface the peer to the outside anyway","username":"greg.haskins","ts":"2017-07-18T17:31:49.443Z"}
{"msg":"actually for the peers to find each other, too","username":"greg.haskins","ts":"2017-07-18T17:32:06.932Z"}
{"msg":"so yeah, its needed...","username":"greg.haskins","ts":"2017-07-18T17:32:12.072Z"}
{"msg":"heh","username":"greg.haskins","ts":"2017-07-18T17:32:12.943Z"}
{"msg":"so each peer should use that flag or this is only needed for instantiate chaincode?","username":"tongli","ts":"2017-07-18T17:32:42.612Z"}
{"msg":"each peer","username":"greg.haskins","ts":"2017-07-18T17:32:54.048Z"}
{"msg":"you should set each peer in the env/config to have those settings","username":"greg.haskins","ts":"2017-07-18T17:33:14.802Z"}
{"msg":"ah, I do not have that flag for each peer. i c.","username":"tongli","ts":"2017-07-18T17:33:26.600Z"}
{"msg":"they will take effect when you try to instantiate chaincode","username":"greg.haskins","ts":"2017-07-18T17:33:29.296Z"}
{"msg":"make a lot of sense to me.","username":"tongli","ts":"2017-07-18T17:33:45.526Z"}
{"msg":"awesome . thanks again.","username":"tongli","ts":"2017-07-18T17:33:53.081Z"}
{"msg":"yvw","username":"greg.haskins","ts":"2017-07-18T17:33:58.961Z"}
{"msg":"let us know how you make out","username":"greg.haskins","ts":"2017-07-18T17:34:07.965Z"}
{"msg":"@greg.haskins will report back very soon. thanks.","username":"tongli","ts":"2017-07-18T17:41:22.280Z"}
{"msg":"@greg.haskins made the peer container all privileged, no luck.","username":"tongli","ts":"2017-07-18T18:14:30.687Z"}
{"msg":"will try to add CORE_PEER_TLS_SERVERHOSTOVERRIDE, but do not know what value should it bear, find an example says OBC, which does not make sense to me.","username":"tongli","ts":"2017-07-18T18:15:11.379Z"}
{"msg":"@greg.haskins l did use neither CORE_PEER_TLS_SERVERHOSTOVERRIDE nor  AUTOADDRESS for peer, what I used was to make sure that these bare chaincode containers created by peers using the dns which point back to the k8s dns services (had to use a nginx to proxy it).","username":"tongli","ts":"2017-07-19T02:13:23.344Z"}
{"msg":"@greg.haskins now it is all working in k8s env. Just wanted to report back to you.","username":"tongli","ts":"2017-07-19T02:14:27.123Z"}
{"msg":"that sounds like the solution that my colleague is currently using","username":"greg.haskins","ts":"2017-07-19T02:14:54.048Z"}
{"msg":"@greg.haskins I will verify few more things tomorrow in terms if privileged container actually makes difference, I have it on. ","username":"tongli","ts":"2017-07-19T02:15:35.153Z"}
{"msg":"seems to me it is all about networking since the chaincode could not find the peer back, now it can with the dns service help.","username":"tongli","ts":"2017-07-19T02:16:11.395Z"}
{"msg":"@tongli the issue will be surrounding the /var/lib/docker.sock","username":"greg.haskins","ts":"2017-07-19T02:16:35.952Z"}
{"msg":"and your k8s environment","username":"greg.haskins","ts":"2017-07-19T02:16:42.767Z"}
{"msg":"that makes a lot of sense to me.","username":"tongli","ts":"2017-07-19T02:16:56.023Z"}
{"msg":"as an example, openshift uses selinux to manage pod privleges and if you just blindly try to volume-map the docker.socket it wont work as the peer pod lacks enough selinux privleges","username":"greg.haskins","ts":"2017-07-19T02:17:27.629Z"}
{"msg":"but if you enable elevated privleges in the SCC for the context that the peer runs in, and then set privleged=true, the selinux profile is updated to allow the peer to talk to docker","username":"greg.haskins","ts":"2017-07-19T02:18:23.289Z"}
{"msg":"YMMV","username":"greg.haskins","ts":"2017-07-19T02:18:25.146Z"}
{"msg":"understood.","username":"tongli","ts":"2017-07-19T02:18:43.254Z"}
{"msg":"just happy that it is all working with your helping hands, really appreciate it.","username":"tongli","ts":"2017-07-19T02:19:07.002Z"}
{"msg":"yvw, sorry it wasnt quite as I depicted","username":"greg.haskins","ts":"2017-07-19T02:19:19.989Z"}
{"msg":"not sure what went wrong with that other approach, but both myself and @DannyWong had success going that route","username":"greg.haskins","ts":"2017-07-19T02:19:39.449Z"}
{"msg":"still would like to know what value this env variable should be CORE_PEER_TLS_SERVERHOSTOVERRIDE?","username":"tongli","ts":"2017-07-19T02:19:41.930Z"}
{"msg":"IIRC, you want to set that to match your x509 CN","username":"greg.haskins","ts":"2017-07-19T02:19:57.909Z"}
{"msg":"oh, i c.","username":"tongli","ts":"2017-07-19T02:20:10.665Z"}
{"msg":"CN, or any SANs","username":"greg.haskins","ts":"2017-07-19T02:20:17.319Z"}
{"msg":"e.g. peer1.example.com or pee1","username":"greg.haskins","ts":"2017-07-19T02:20:37.007Z"}
{"msg":"e.g. peer1.example.com or peer1","username":"greg.haskins","ts":"2017-07-19T02:20:37.007Z"}
{"msg":"I made sure hostname and CN match up well.","username":"tongli","ts":"2017-07-19T02:20:37.319Z"}
{"msg":"Jason is adding something to allow hostname and CN can be different.","username":"tongli","ts":"2017-07-19T02:20:56.812Z"}
{"msg":"this is because if you use the two items together I mentioned, your peer will be advertising something like 172.18.0.23","username":"greg.haskins","ts":"2017-07-19T02:21:09.072Z"}
{"msg":"it is to make sure in sitiutations that endpoint and the certificate entry can mismatch.","username":"tongli","ts":"2017-07-19T02:21:19.524Z"}
{"msg":"which is unlikely to be in your CN/SAN","username":"greg.haskins","ts":"2017-07-19T02:21:23.405Z"}
{"msg":"yes, that is what SERVERHOSTOVERRIDE more or less does, its just in a different context","username":"greg.haskins","ts":"2017-07-19T02:21:53.182Z"}
{"msg":"make sense.","username":"tongli","ts":"2017-07-19T02:22:06.871Z"}
{"msg":"I think Jason added similar feature for orderer","username":"greg.haskins","ts":"2017-07-19T02:22:07.886Z"}
{"msg":"hmmm. I thought it was also for peer. wait, let me pull that patch set out.","username":"tongli","ts":"2017-07-19T02:22:36.378Z"}
{"msg":"I might be thinking of a different CR","username":"greg.haskins","ts":"2017-07-19T02:22:48.704Z"}
{"msg":"but I saw one recently where he added ORDERER_SERVERHOSTOVERRIDE to pair with PEER_SERVERHOSTOVERRIDE (or something like that)","username":"greg.haskins","ts":"2017-07-19T02:23:12.096Z"}
{"msg":"https://gerrit.hyperledger.org/r/#/c/11677/","username":"tongli","ts":"2017-07-19T02:23:15.544Z"}
{"msg":"that is the patch, I thought it is all about peer.","username":"tongli","ts":"2017-07-19T02:23:23.850Z"}
{"msg":"yeah, thats the one","username":"greg.haskins","ts":"2017-07-19T02:23:32.153Z"}
{"msg":"it is a patch for the peer, but it is w.r.t. the connection to the orderer","username":"greg.haskins","ts":"2017-07-19T02:23:46.865Z"}
{"msg":"ah. great. great. I am following.","username":"tongli","ts":"2017-07-19T02:24:03.628Z"}
{"msg":"did not talk like a fool. ","username":"tongli","ts":"2017-07-19T02:24:20.351Z"}
{"msg":"I misstated above anyway","username":"greg.haskins","ts":"2017-07-19T02:24:51.043Z"}
{"msg":"should have said \"similar feature for (the) orderer (connection)\"","username":"greg.haskins","ts":"2017-07-19T02:25:07.037Z"}
{"msg":"it was confusing how I stated it","username":"greg.haskins","ts":"2017-07-19T02:25:16.553Z"}
{"msg":"no issue at all. we are trying to figure out things.","username":"tongli","ts":"2017-07-19T02:25:27.525Z"}
{"msg":"here is the project I work on https://github.com/litong01/fabric-deploy","username":"tongli","ts":"2017-07-19T02:25:46.217Z"}
{"msg":"now the code fully deploys fabric 1.0.0 onto the OpenStack.","username":"tongli","ts":"2017-07-19T02:26:08.845Z"}
{"msg":"we've added provision code (just today) against AWS.","username":"tongli","ts":"2017-07-19T02:26:23.724Z"}
{"msg":"cool...ill check it out later, but I have to get up early tomorrow so off to bed for me","username":"greg.haskins","ts":"2017-07-19T02:26:32.642Z"}
{"msg":"I will try to deploy onto AWS tomorrow and see what happens.","username":"tongli","ts":"2017-07-19T02:26:36.630Z"}
{"msg":"good night @greg.haskins .","username":"tongli","ts":"2017-07-19T02:26:48.002Z"}
{"msg":"ciao","username":"greg.haskins","ts":"2017-07-19T02:26:56.670Z"}
{"msg":"Has joined the channel.","username":"htyagi90","ts":"2017-07-20T17:17:15.431Z","type":"uj"}
{"msg":"@greg.haskins I have used my fabric-deploy project provisioned on AWS (automatically), and deploy k8s , then fabric, it worked fine.","username":"tongli","ts":"2017-07-21T12:53:17.282Z"}
{"msg":"thx.","username":"tongli","ts":"2017-07-21T12:53:48.567Z"}
{"msg":"Has joined the channel.","username":"Emmarock","ts":"2017-07-26T08:49:34.206Z","type":"uj"}
{"msg":"Hello all ... I have a little challenge deploying fabric-peer and membersrvc image to my kubernetes env, I followed this tutorial https://www.xenonstack.com/blog/blockchain-app-deployment-using-microservices-with-kubernetes, I was able to pull the image but it's not running, but I'm presently faced with this issue  (standard_init_linux.go:178: exec user process caused \"exec format error\") I need help on what to do and how to resolve this. thanks","username":"Emmarock","ts":"2017-07-26T09:03:33.667Z"}
{"msg":"@Emmarock what error did you see?","username":"tongli","ts":"2017-07-26T14:50:42.005Z"}
{"msg":"@Emmarock what env are you using?","username":"tongli","ts":"2017-07-26T14:51:39.529Z"}
{"msg":"Has joined the channel.","username":"daygee","ts":"2017-07-27T11:13:11.825Z","type":"uj"}
{"msg":"hi","username":"daygee","ts":"2017-07-27T12:07:40.141Z"}
{"msg":"Emmarock and I work together","username":"daygee","ts":"2017-07-27T12:07:48.060Z"}
{"msg":"the deployment goes fine on kubernetes","username":"daygee","ts":"2017-07-27T12:08:05.545Z"}
{"msg":"but trying to deploy chaincode is the issue","username":"daygee","ts":"2017-07-27T12:08:16.446Z"}
{"msg":"Error starting SimpleAsset chaincode: Error trying to connect to local peer: context deadline exceeded\n","username":"daygee","ts":"2017-07-27T12:08:35.768Z"}
{"msg":"command: CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=10.240.29.7:7051 ./sacc","username":"daygee","ts":"2017-07-27T12:08:53.197Z"}
{"msg":"we actually followed steps on this link and made few mods: https://www.xenonstack.com/blog/blockchain-app-deployment-using-microservices-with-kubernetes","username":"daygee","ts":"2017-07-27T12:12:02.155Z"}
{"msg":"Has joined the channel.","username":"rameshthoomu","ts":"2017-07-27T13:00:36.264Z","type":"uj"}
{"msg":"the kubernetes instance is on a server","username":"daygee","ts":"2017-07-27T13:08:05.837Z"}
{"msg":"@daygee I just answered this on SO https://stackoverflow.com/questions/45348191/hyperledger-fabric-v1-0-0-instantiate-chaincode-failed/45352960#45352960","username":"cbf","ts":"2017-07-27T14:03:23.820Z"}
{"msg":"but basically, if you scroll back to the discussion by @greg.haskins and @tongli the answer is there","username":"cbf","ts":"2017-07-27T14:03:58.717Z"}
{"msg":"hello @cbf ","username":"daygee","ts":"2017-07-27T14:40:49.409Z"}
{"msg":"I have just gone through the conversation","username":"daygee","ts":"2017-07-27T14:41:13.533Z"}
{"msg":"I however don't know what to set CORE_PEER_TLS_SERVERHOSTOVERRIDE  to","username":"daygee","ts":"2017-07-27T14:41:33.825Z"}
{"msg":"@daygee the peer containers","username":"cbf","ts":"2017-07-27T14:46:20.397Z"}
{"msg":"@daygee the peer containers x509 CN https://chat.hyperledger.org/channel/fabric-kubernetes?msg=qKQ8u4Jb3CGjenb87","username":"cbf","ts":"2017-07-27T14:46:20.397Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=qKQ8u4Jb3CGjenb87","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=qKQ8u4Jb3CGjenb87","remote":true,"fileId":null,"fileName":null}]}
{"msg":"however I am now seeing that there's another approach that worked for @tongli ","username":"cbf","ts":"2017-07-27T15:03:10.841Z"}
{"msg":"@daygee I do not think that parameter works. at least not with a patch that Jason Yellick put in.","username":"tongli","ts":"2017-07-27T15:46:51.586Z"}
{"msg":"With Jason's patch, I think that will work.","username":"tongli","ts":"2017-07-27T15:47:05.332Z"}
{"msg":"the point is that the endpoint and the peer id can be different. THe endpoint can be an IP address, the peer id can be something peer1st.orga.","username":"tongli","ts":"2017-07-27T15:47:52.376Z"}
{"msg":"@daygee The trick is that SERVERHOSTOVERRIDE must be in the set of x509:{CN, SAN*}","username":"greg.haskins","ts":"2017-07-27T21:01:01.534Z"}
{"msg":"All SERVERHOSTOVERRIDE really does it is tells the client-side stack to disregard the hostname/ip that it used to connect to the TLS endpoint, and pretend it used $SERVERHOSTOVERRIDE","username":"greg.haskins","ts":"2017-07-27T21:02:10.457Z"}
{"msg":"all the other rules of TLS validation still apply","username":"greg.haskins","ts":"2017-07-27T21:02:18.203Z"}
{"msg":"meaning, the TLS server still needs to present an x509 that has $SERVERHOSTOVERRIDE defined either as its CN, SAN::DNS, or SAN::IP","username":"greg.haskins","ts":"2017-07-27T21:02:58.453Z"}
{"msg":"I think of it like a DNS alias","username":"greg.haskins","ts":"2017-07-27T21:03:09.317Z"}
{"msg":"IOW, setting $SERVERHOSTOVERRIDE is kind of like setting /etc/hosts","username":"greg.haskins","ts":"2017-07-27T21:03:33.822Z"}
{"msg":"Running into the following error when attempting to create a channel... any thoughts on where to start with this?  `Error: Error connecting due to  rpc error: code = Unavailable desc = grpc: the connection is unavailable`","username":"jmcnevin","ts":"2017-07-27T21:09:44.630Z"}
{"msg":"Has joined the channel.","username":"chenshiok","ts":"2017-07-28T01:27:12.401Z","type":"uj"}
{"msg":"\nHi,I was testing Hyperledger-fabic v1.0.0 with kubernetes. It says missing image when I instantiate chaincode in the cli,But the image just create successful. I found the answer in this RocketChat. And I set CORE_PEER_ADDRESSAUTODETECT=true and CORE_PEER_TLS_SERVERHOSTOVERRIDE=$x509::CN. But this doesn't work for me. By the way, I disabled TLS in the yaml file for some reason. So CORE_PEER_TLS_SERVERHOSTOVERRIDE may not take effect.","username":"chenshiok","ts":"2017-07-28T09:11:52.445Z"}
{"msg":"@chenshiok , when that happens, I found most of the time due to the chaincode container not being able to find the peer container which creates the chaincode container.","username":"tongli","ts":"2017-07-28T11:29:06.170Z"}
{"msg":"@chenshiok not sure about your env, but you probably can check when you manually start a container, and see if you can ping back the container by using the peer id.","username":"tongli","ts":"2017-07-28T11:31:13.610Z"}
{"msg":"@tongli I start the chaincode container manually, and the container cant't ping other peers. I think the problem maybe the DNS. The chaincode container started by the peer or started manually, the kubernets didn't resolve the peer id. ","username":"chenshiok","ts":"2017-07-31T07:14:55.724Z"}
{"msg":"@chenshiok these problems are normally env related. Not sure what kind of env you have, in either swarm like env or k8s env, dns is needed.","username":"tongli","ts":"2017-07-31T11:44:35.375Z"}
{"msg":"there are a lot of steps you need to go through to make it working.","username":"tongli","ts":"2017-07-31T11:44:58.335Z"}
{"msg":"@baohua hi, baohua, I have submitted a patch set to add all the fabric-deploy code onto cello. Here is the patch set, please take a look when you have time. https://gerrit.hyperledger.org/r/#/c/12059/","username":"tongli","ts":"2017-07-31T12:08:48.666Z"}
{"msg":"thanks, tong, fwd to the cello channel, too!","username":"baohua","ts":"2017-07-31T12:18:13.833Z"}
{"msg":"thanks, tong, fwded to the cello channel, too!","username":"baohua","ts":"2017-07-31T12:18:13.833Z"}
{"msg":"thanks, tong, fwded to the cello channel~","username":"baohua","ts":"2017-07-31T12:18:13.833Z"}
{"msg":"let me join that channel.","username":"tongli","ts":"2017-07-31T12:26:23.646Z"}
{"msg":"Has joined the channel.","username":"JanRzepecki","ts":"2017-07-31T14:46:29.377Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ChandraLekhaChavva","ts":"2017-07-31T20:43:09.595Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ulysses","ts":"2017-08-01T21:20:53.479Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MattZee","ts":"2017-08-02T02:22:18.350Z","type":"uj"}
{"msg":"FYI: https://jira.hyperledger.org/browse/FAB-5578","username":"greg.haskins","ts":"2017-08-02T13:32:07.811Z"}
{"msg":"will be updating examples/cluster soon to support generating k8s configurations","username":"greg.haskins","ts":"2017-08-02T13:32:21.815Z"}
{"msg":"so, we have a bunch of these","username":"cbf","ts":"2017-08-02T18:46:20.366Z"}
{"msg":"not that that is a bad thing, but wouldn't it be nice if we had a canonical version we could share?","username":"cbf","ts":"2017-08-02T18:46:47.509Z"}
{"msg":"but that also could be extended as needed","username":"cbf","ts":"2017-08-02T18:47:01.450Z"}
{"msg":"and interestingly, it seems to be one of the most requested items on SO and other channels (how do I deploy on multiple hosts, etc)","username":"cbf","ts":"2017-08-02T18:48:16.139Z"}
{"msg":"and k8s is definitely an important tagret","username":"cbf","ts":"2017-08-02T18:48:31.357Z"}
{"msg":"and k8s is definitely an important target","username":"cbf","ts":"2017-08-02T18:48:31.357Z"}
{"msg":"Has joined the channel.","username":"jdockter","ts":"2017-08-03T02:09:20.964Z","type":"uj"}
{"msg":"@cbf are there other initiatives to support k8s you can point me at?","username":"greg.haskins","ts":"2017-08-03T15:59:38.483Z"}
{"msg":"ideally, we can coordinate here","username":"greg.haskins","ts":"2017-08-03T16:00:04.645Z"}
{"msg":"cello, then there's https://gerrit.hyperledger.org/r/c/12059/ which adds ansible orchestration on openstack, virtualbox, aws, azure, etc for docker and k8s and then there is other interest from a rather large supporter of k8s","username":"cbf","ts":"2017-08-03T16:03:30.753Z"}
{"msg":"@greg.haskins ^^","username":"cbf","ts":"2017-08-03T16:03:50.034Z"}
{"msg":"ty...btw: CR link didnt load for me","username":"greg.haskins","ts":"2017-08-03T16:04:41.423Z"}
{"msg":"the number is correct","username":"cbf","ts":"2017-08-03T18:45:54.390Z"}
{"msg":"the problem is that the two UIs use different URL schemes - which is inane","username":"cbf","ts":"2017-08-03T18:46:20.626Z"}
{"msg":"I'm on the new one","username":"cbf","ts":"2017-08-03T18:46:33.171Z"}
{"msg":"@greg.haskins ^^","username":"cbf","ts":"2017-08-03T18:46:49.761Z"}
{"msg":"ah, i might simply not have permission then","username":"greg.haskins","ts":"2017-08-03T18:47:28.761Z"}
{"msg":"really? that's odd","username":"cbf","ts":"2017-08-03T18:48:25.624Z"}
{"msg":"oh, nevermind","username":"greg.haskins","ts":"2017-08-03T18:48:26.929Z"}
{"msg":"i get what you mean now","username":"greg.haskins","ts":"2017-08-03T18:48:29.642Z"}
{"msg":"I figured you meant there was a new gerrit deployment, and I was getting access denied","username":"greg.haskins","ts":"2017-08-03T18:48:54.722Z"}
{"msg":"but you are saying you are using a new view into the same data, but it returns an incompatible URL","username":"greg.haskins","ts":"2017-08-03T18:49:10.294Z"}
{"msg":"no, just new and old UI","username":"cbf","ts":"2017-08-03T18:49:13.804Z"}
{"msg":"right, i found the CR here https://gerrit.hyperledger.org/r/#/c/12059/","username":"greg.haskins","ts":"2017-08-03T18:49:25.420Z"}
{"msg":"but the odd thing is that while that's just a cookie setting, they use different URL path schemes","username":"cbf","ts":"2017-08-03T18:49:34.611Z"}
{"msg":"i just misunderstood","username":"greg.haskins","ts":"2017-08-03T18:49:38.518Z"}
{"msg":"ABI borkage :rage: ","username":"greg.haskins","ts":"2017-08-03T18:49:59.875Z"}
{"msg":"indeed","username":"cbf","ts":"2017-08-03T18:50:05.365Z"}
{"msg":"thank you Googlers","username":"cbf","ts":"2017-08-03T18:50:14.265Z"}
{"msg":"sigh","username":"cbf","ts":"2017-08-03T18:50:17.147Z"}
{"msg":"can I turn on the new UI too?","username":"greg.haskins","ts":"2017-08-03T18:50:46.025Z"}
{"msg":"seriously, you'd think that a company that makes their $$ from the interwebs would understand how they are to be used","username":"cbf","ts":"2017-08-03T18:50:48.615Z"}
{"msg":"yep","username":"cbf","ts":"2017-08-03T18:50:52.074Z"}
{"msg":"heh, no kidding","username":"greg.haskins","ts":"2017-08-03T18:50:57.962Z"}
{"msg":"too few people really understand REST ","username":"cbf","ts":"2017-08-03T18:51:15.086Z"}
{"msg":"and most have not read Roy's thesis","username":"cbf","ts":"2017-08-03T18:51:26.618Z"}
{"msg":"right","username":"greg.haskins","ts":"2017-08-03T18:51:35.201Z"}
{"msg":"i dont see anything obvious in the prefs.  how do i get into the club?","username":"greg.haskins","ts":"2017-08-03T18:52:05.949Z"}
{"msg":"bottom of page","username":"cbf","ts":"2017-08-03T18:52:52.414Z"}
{"msg":"cool, thanks","username":"greg.haskins","ts":"2017-08-03T18:53:10.218Z"}
{"msg":"I like it better","username":"cbf","ts":"2017-08-03T18:53:22.057Z"}
{"msg":"easier navigation when reviewing","username":"cbf","ts":"2017-08-03T18:53:28.702Z"}
{"msg":"takes a little getting used to","username":"cbf","ts":"2017-08-03T18:53:39.788Z"}
{"msg":"much faster","username":"cbf","ts":"2017-08-03T18:53:46.057Z"}
{"msg":"yeah, foreign so far, but ill give it a chance","username":"greg.haskins","ts":"2017-08-03T18:53:52.799Z"}
{"msg":"certainly _looks_ better","username":"greg.haskins","ts":"2017-08-03T18:54:05.387Z"}
{"msg":"just need to retrain the muscle memory","username":"greg.haskins","ts":"2017-08-03T18:54:13.658Z"}
{"msg":"oh and you need to change your settings so that My Changes is the correct URL :rage: ","username":"cbf","ts":"2017-08-03T18:54:26.274Z"}
{"msg":"mine seems right out of the can","username":"greg.haskins","ts":"2017-08-03T18:54:58.633Z"}
{"msg":"Has joined the channel.","username":"karumbas","ts":"2017-08-04T11:32:06.871Z","type":"uj"}
{"msg":"FYI: https://gerrit.hyperledger.org/r/c/12159/","username":"greg.haskins","ts":"2017-08-05T03:21:14.874Z"}
{"msg":"Has joined the channel.","username":"y204990","ts":"2017-08-06T16:25:28.075Z","type":"uj"}
{"msg":"Has joined the channel.","username":"grice_32","ts":"2017-08-06T19:10:05.267Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jane3wang","ts":"2017-08-07T16:31:54.751Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sklump","ts":"2017-08-09T13:21:34.692Z","type":"uj"}
{"msg":"Has joined the channel.","username":"guce","ts":"2017-08-10T03:48:59.908Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rock_martin","ts":"2017-08-10T04:08:12.513Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ambau","ts":"2017-08-10T15:02:06.212Z","type":"uj"}
{"msg":"Hello, is there a guide or any other resources on how I can install a basic Fabric instance (as a demo) on Kubernetes?","username":"Ambau","ts":"2017-08-10T15:02:26.998Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Y3H7ENbvTuGj42jf5) @Ambau li tong has been doing some great work with ansible and kubernetes: https://github.com/litong01/fabric-deploy","username":"Moto","ts":"2017-08-10T20:10:23.072Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Y3H7ENbvTuGj42jf5","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Y3H7ENbvTuGj42jf5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"qqbxclboy","ts":"2017-08-11T07:45:56.634Z","type":"uj"}
{"msg":"Has joined the channel.","username":"machidat731","ts":"2017-08-11T12:51:08.751Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Y3H7ENbvTuGj42jf5) @Ambau In addition to @Moto s comment, I also have a CR outstanding to add kubernetes support to fabric.git/examples/cluster","username":"greg.haskins","ts":"2017-08-11T16:22:50.567Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Y3H7ENbvTuGj42jf5","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Y3H7ENbvTuGj42jf5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"https://gerrit.hyperledger.org/r/c/12159","username":"greg.haskins","ts":"2017-08-11T16:22:57.730Z"}
{"msg":"Has joined the channel.","username":"smonfort","ts":"2017-08-11T19:23:09.961Z","type":"uj"}
{"msg":"I'm attempting to set up TLS communication between peers and orderers, but I'm seeing this error in the peer log.. would anyone have ideas of what I've configured incorrectly?  `[peer-1 peer] 2017-08-15 21:09:38.795 UTC [ConnProducer] NewConnection -> ERRO 31c Failed connecting to orderer-2.orderer:7050 , error: x509: certificate signed by unknown authority`","username":"jmcnevin","ts":"2017-08-15T21:12:55.406Z"}
{"msg":"There needs to be a way to connect a chaincode container to a network. In the case where a user runs a peer on one machine, but wants to run that peers chaincode on a different machine, they may need to have additional control over what network the chaincode container connects to. An example of such a scenario would be wanting the peer to communicate with the chaincode container over a docker overlay network.","username":"rock_martin","ts":"2017-08-17T05:51:48.001Z"}
{"msg":"Has joined the channel.","username":"NithinPaulCherian","ts":"2017-08-17T13:24:54.751Z","type":"uj"}
{"msg":"Hi, I used https://ibm-blockchain.github.io/ instructions to setup a Blockchain network on the IBM Container Service's free plan. But it by default connects to leveldb. How can I migrate it to a CouchDB so that I can do complex Queries?","username":"NithinPaulCherian","ts":"2017-08-17T13:27:00.663Z"}
{"msg":"@rock_martin this should be possible today using the CORE_VM_ENDPOINT","username":"jeffgarratt","ts":"2017-08-17T19:23:00.726Z"}
{"msg":"@rock_martin this should be possible today using the CORE_VM_ENDPOINT see https://github.com/hyperledger/fabric/blob/release/sampleconfig/core.yaml#L271","username":"jeffgarratt","ts":"2017-08-17T19:23:00.726Z"}
{"msg":"Has joined the channel.","username":"idpattison","ts":"2017-08-18T16:48:11.468Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zws","ts":"2017-08-19T08:56:05.612Z","type":"uj"}
{"msg":"@NithinPaulCherian I'm 90% of the way there to getting HLF with CouchDB working in Kubernetes, perhaps someone can spot the errors here? I've set up one CouchDB service per peer and wired the peer to CouchDB with the CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS variable. The peers connect to CouchDB fine, the databases are created and there is no error message. However when the peers try to join the channel there is an error in the 'joinchannel' pod: `2017-08-20T09:52:34.777594452Z 2017-08-20 09:52:34.777 UTC [grpc] Printf -> DEBU 005 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.62:5010: getsockopt: connection refused\"; Reconnecting to {blockchain-org2peer1:5010 <nil>}`.  When I revert back to  LevelDB, the peers join the channel without problems.  I've use the standard IBM instructions and I'll upload the 2 K8s config files I've changed. Any ideas?","username":"idpattison","ts":"2017-08-20T09:59:26.045Z"}
{"msg":"","username":"idpattison","ts":"2017-08-20T10:01:41.320Z","attachments":[{"title":"File Uploaded: blockchain-services.yaml","title_link":"/file-upload/KmupDuytKqbmGo64g/blockchain-services.yaml","url":"/file-upload/KmupDuytKqbmGo64g/blockchain-services.yaml","remote":false,"fileId":"KmupDuytKqbmGo64g","fileName":"blockchain-services.yaml"}]}
{"msg":"","username":"idpattison","ts":"2017-08-20T10:01:58.142Z","attachments":[{"title":"File Uploaded: blockchain.yaml","title_link":"/file-upload/PopuBcBrai4o6BPdn/blockchain.yaml","url":"/file-upload/PopuBcBrai4o6BPdn/blockchain.yaml","remote":false,"fileId":"PopuBcBrai4o6BPdn","fileName":"blockchain.yaml"}]}
{"msg":"Has joined the channel.","username":"Luke_Chen","ts":"2017-08-21T05:43:55.310Z","type":"uj"}
{"msg":"Has left the channel.","username":"sklump","ts":"2017-08-22T11:51:03.379Z","type":"ul"}
{"msg":"Has joined the channel.","username":"DennisM330","ts":"2017-08-23T05:31:09.550Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Hai-XuCheng","ts":"2017-08-23T08:42:53.460Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nvlasov","ts":"2017-08-25T07:20:13.447Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AuHuR","ts":"2017-08-25T12:06:51.577Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rangak","ts":"2017-08-26T19:28:48.126Z","type":"uj"}
{"msg":"The Kubernetes config files at https://github.com/IBM-Blockchain/ibm-container-service have been updated to support CouchDB as the database. Use `./create_all.sh --with-couchdb`. Thanks to Mihir Shah for debugging :)","username":"idpattison","ts":"2017-08-29T09:48:15.718Z"}
{"msg":"Has joined the channel.","username":"glenlau","ts":"2017-09-02T13:10:09.692Z","type":"uj"}
{"msg":"Has joined the channel.","username":"knagware9","ts":"2017-09-04T11:17:35.031Z","type":"uj"}
{"msg":"Hi ...can you please help me to solve this error during enroll admin on CA ..My cluster is on kubernetes..","username":"knagware9","ts":"2017-09-04T11:19:04.142Z"}
{"msg":"","username":"knagware9","ts":"2017-09-04T11:19:38.287Z","attachments":[{"title":"File Uploaded: Clipboard - September 4, 2017 4:49 PM","title_link":"/file-upload/tpn6zKhE7vhrni7ns/Clipboard - September 4, 2017 4:49 PM","image_url":"/file-upload/tpn6zKhE7vhrni7ns/Clipboard - September 4, 2017 4:49 PM","image_type":"image/png","image_size":71824,"url":"/file-upload/tpn6zKhE7vhrni7ns/Clipboard - September 4, 2017 4:49 PM","remote":false,"fileId":"tpn6zKhE7vhrni7ns","fileName":"Clipboard - September 4, 2017 4:49 PM"}]}
{"msg":"Has joined the channel.","username":"tylerwince","ts":"2017-09-04T19:14:36.673Z","type":"uj"}
{"msg":"solved this issue...issue with CA service port number","username":"knagware9","ts":"2017-09-05T06:34:57.118Z"}
{"msg":"Has joined the channel.","username":"AkshayMisal","ts":"2017-09-05T14:32:20.731Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dragon82","ts":"2017-09-06T08:59:25.675Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tiennv","ts":"2017-09-07T02:49:20.964Z","type":"uj"}
{"msg":"Hi ...is there any way to connect bluemix application to Kuberntes cluster ?","username":"knagware9","ts":"2017-09-07T11:40:24.360Z"}
{"msg":"@knagware9 that Q more relevant on a Bluemix forum","username":"cbf","ts":"2017-09-14T15:56:34.865Z"}
{"msg":"Has left the channel.","username":"AuHuR","ts":"2017-09-15T08:52:02.942Z","type":"ul"}
{"msg":"Has joined the channel.","username":"yoyokeen","ts":"2017-09-19T01:26:59.097Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mintzhao","ts":"2017-09-19T09:36:58.831Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ykcai","ts":"2017-09-19T21:56:09.786Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Jacky_Sheng","ts":"2017-09-20T03:21:11.659Z","type":"uj"}
{"msg":"Hi,,","username":"knagware9","ts":"2017-09-21T16:35:24.258Z"}
{"msg":"Upgarded to Kubenetes 1.7.4 on bluemix but hyperledger fabric giving error on setup,It seems docker version issue on Kubernetes.On Kubernetes version 1.5 was working fine.","username":"knagware9","ts":"2017-09-21T16:38:02.485Z"}
{"msg":"","username":"knagware9","ts":"2017-09-21T16:40:49.336Z","attachments":[{"title":"File Uploaded: Clipboard - September 21, 2017 10:07 PM","title_link":"/file-upload/3HQsmAcuCtQXRQyZp/Clipboard - September 21, 2017 10:07 PM","image_url":"/file-upload/3HQsmAcuCtQXRQyZp/Clipboard - September 21, 2017 10:07 PM","image_type":"image/png","image_size":116598,"url":"/file-upload/3HQsmAcuCtQXRQyZp/Clipboard - September 21, 2017 10:07 PM","remote":false,"fileId":"3HQsmAcuCtQXRQyZp","fileName":"Clipboard - September 21, 2017 10:07 PM"}]}
{"msg":"Has joined the channel.","username":"leoleo","ts":"2017-09-22T02:07:42.416Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ryan--Yang","ts":"2017-09-22T03:02:10.866Z","type":"uj"}
{"msg":"Has joined the channel.","username":"avi-nyc","ts":"2017-09-23T21:38:54.744Z","type":"uj"}
{"msg":"Has joined the channel.","username":"toriaezunama","ts":"2017-09-25T12:17:20.177Z","type":"uj"}
{"msg":"@knagware9 again, this is more appropriately discussed on the Bluemix forums please","username":"cbf","ts":"2017-09-25T12:30:55.502Z"}
{"msg":"Has joined the channel.","username":"mamtabharadwaj","ts":"2017-09-26T06:16:51.627Z","type":"uj"}
{"msg":"","username":"mamtabharadwaj","ts":"2017-09-26T06:17:50.913Z","attachments":[{"title":"File Uploaded: composererror.png","title_link":"/file-upload/BdRoeFWAC4ZLgdAQT/composererror.png","image_url":"/file-upload/BdRoeFWAC4ZLgdAQT/composererror.png","image_type":"image/png","image_size":32163,"url":"/file-upload/BdRoeFWAC4ZLgdAQT/composererror.png","remote":false,"fileId":"BdRoeFWAC4ZLgdAQT","fileName":"composererror.png"}]}
{"msg":"Has joined the channel.","username":"yushan","ts":"2017-09-26T09:17:05.959Z","type":"uj"}
{"msg":"@mamtabharadwaj : Have you asked on the #composer channel?","username":"tkuhrt","ts":"2017-09-28T10:50:20.355Z"}
{"msg":"Anyone let me know some links for using hyperledger fabric as for production based environment setup on multiple different hosts with respect to docker swarm or kubernates, Thanks in advance","username":"rock_martin","ts":"2017-09-28T15:06:35.939Z"}
{"msg":"Has joined the channel.","username":"ysim","ts":"2017-09-28T15:35:13.892Z","type":"uj"}
{"msg":"Has joined the channel.","username":"joaquimpedrooliveira","ts":"2017-09-28T18:23:44.780Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yedendra","ts":"2017-09-28T20:30:28.475Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JamesK","ts":"2017-10-01T19:51:12.959Z","type":"uj"}
{"msg":"Has joined the channel.","username":"waqasburney","ts":"2017-10-02T06:37:19.200Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AnilOner","ts":"2017-10-02T16:26:50.123Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mghasletwala","ts":"2017-10-04T06:13:02.655Z","type":"uj"}
{"msg":"Hi, all! I'm trying to adapt the network from fabric-samples/basic-network to run on a local k8s cluster. I can create a channel, join it, install a chaincode, but I'm having trouble during the chaincode instantiation","username":"joaquimpedrooliveira","ts":"2017-10-04T20:26:10.243Z"}
{"msg":"From the peer logs, I see that a timeout is ocurring:","username":"joaquimpedrooliveira","ts":"2017-10-04T20:26:29.864Z"}
{"msg":"```\n2017-10-04 19:43:38.569 UTC [chaincode-platform] generateDockerfile -> DEBU 543 \nFROM hyperledger/fabric-baseos:x86_64-0.3.2\nADD binpackage.tar /usr/local/bin\nLABEL org.hyperledger.fabric.chaincode.id.name=\"example02\" \\\n      org.hyperledger.fabric.chaincode.id.version=\"1.0\" \\\n      org.hyperledger.fabric.chaincode.type=\"GOLANG\" \\\n      org.hyperledger.fabric.version=\"1.0.2\" \\\n      org.hyperledger.fabric.base.version=\"0.3.2\"\nENV CORE_CHAINCODE_BUILDLEVEL=1.0.2\n2017-10-04 19:43:38.573 UTC [util] DockerBuild -> DEBU 544 Attempting build with image hyperledger/fabric-ccenv:x86_64-1.0.2\n2017-10-04 19:44:07.860 UTC [dockercontroller] deployImage -> DEBU 545 Created image: dev-peer0.blockchain.serpro.gov.br-example02-1.0-07a9f1e5ac7b9e85c34926565c7c3d7d3d465323132ba6a25677ba153d4c8e73\n2017-10-04 19:44:07.860 UTC [dockercontroller] Start -> DEBU 546 start-recreated image successfully\n2017-10-04 19:44:07.860 UTC [dockercontroller] createContainer -> DEBU 547 Create container: dev-peer0.blockchain.serpro.gov.br-example02-1.0\n2017-10-04 19:44:08.076 UTC [dockercontroller] createContainer -> DEBU 548 Created container: dev-peer0.blockchain.serpro.gov.br-example02-1.0-07a9f1e5ac7b9e85c34926565c7c3d7d3d465323132ba6a25677ba153d4c8e73\n2017-10-04 19:44:08.573 UTC [dockercontroller] Start -> DEBU 549 Started container dev-peer0.blockchain.serpro.gov.br-example02-1.0\n2017-10-04 19:44:08.573 UTC [container] unlockContainer -> DEBU 54a container lock deleted(dev-peer0.blockchain.serpro.gov.br-example02-1.0)\n2017-10-04 19:49:08.573 UTC [chaincode] launchAndWaitForRegister -> DEBU 54b stopping due to error while launching Timeout expired while starting chaincode example02:1.0(networkid:dev,peerid:peer0.blockchain.serpro.gov.br,tx:62df707e19b58abbd28b919d3fd311f6f1406d65a0e066830bb21ede30d0252c)\n2017-10-04 19:49:08.573 UTC [container] lockContainer -> DEBU 54c waiting for container(dev-peer0.blockchain.serpro.gov.br-example02-1.0) lock\n2017-10-04 19:49:08.574 UTC [container] lockContainer -> DEBU 54d got container (dev-peer0.blockchain.serpro.gov.br-example02-1.0) lock\n2017-10-04 19:49:08.576 UTC [dockercontroller] stopInternal -> DEBU 54e Stop container dev-peer0.blockchain.serpro.gov.br-example02-1.0(Container not running: dev-peer0.blockchain.serpro.gov.br-example02-1.0)\n2017-10-04 19:49:08.578 UTC [dockercontroller] stopInternal -> DEBU 54f Kill container dev-peer0.blockchain.serpro.gov.br-example02-1.0 (API error (500): {\"message\":\"Cannot kill container dev-peer0.blockchain.serpro.gov.br-example02-1.0: Container 7b7b401a1c6b420eec42568ac1dd945ef1d51396632a171fd401d382c38fea30 is not running\"}\n)\n2017-10-04 19:49:08.636 UTC [dockercontroller] stopInternal -> DEBU 550 Removed container dev-peer0.blockchain.serpro.gov.br-example02-1.0\n2017-10-04 19:49:08.636 UTC [container] unlockContainer -> DEBU 551 container lock deleted(dev-peer0.blockchain.serpro.gov.br-example02-1.0)\n2017-10-04 19:49:08.636 UTC [chaincode] func1 -> DEBU 552 chaincode example02:1.0 launch seq completed\n2017-10-04 19:49:08.636 UTC [chaincode] Launch -> ERRO 553 launchAndWaitForRegister failed Timeout expired while starting chaincode example02:1.0(networkid:dev,peerid:peer0.blockchain.serpro.gov.br,tx:62df707e19b58abbd28b919d3fd311f6f1406d65a0e066830bb21ede30d0252c)\n2017-10-04 19:49:08.636 UTC [endorser] callChaincode -> DEBU 554 Exit\n2017-10-04 19:49:08.636 UTC [endorser] simulateProposal -> ERRO 555 failed to invoke chaincode name:\"lscc\"  on transaction 62df707e19b58abbd28b919d3fd311f6f1406d65a0e066830bb21ede30d0252c, error: Timeout expired while starting chaincode example02:1.0(networkid:dev,peerid:peer0.blockchain.serpro.gov.br,tx:62df707e19b58abbd28b919d3fd311f6f1406d65a0e066830bb21ede30d0252c)\n```","username":"joaquimpedrooliveira","ts":"2017-10-04T20:27:52.878Z"}
{"msg":"Any tips? (Sorry for the long log messages)","username":"joaquimpedrooliveira","ts":"2017-10-04T20:28:22.934Z"}
{"msg":"@joaquimpedrooliveira its almost certainly related to your network setup","username":"greg.haskins","ts":"2017-10-05T02:47:57.508Z"}
{"msg":"two tips","username":"greg.haskins","ts":"2017-10-05T02:48:02.225Z"}
{"msg":"1) if you set CORE_VM_DOCKER_ATTACHSTDOUT=true to the peer environment, it will include the output of the chaincode to the peers log","username":"greg.haskins","ts":"2017-10-05T02:48:39.377Z"}
{"msg":"this is incredibly helpful to debug this type of thing, but its off by default for defensive postering of the peer (to prevent a malicious/broken chaincode from spamming the peer log","username":"greg.haskins","ts":"2017-10-05T02:49:15.721Z"}
{"msg":"this is incredibly helpful to debug this type of thing, but its off by default for defensive posturing of the peer (to prevent a malicious/broken chaincode from spamming the peer log","username":"greg.haskins","ts":"2017-10-05T02:49:15.721Z"}
{"msg":"2) My guess is that you arent surfacing a k8s-friendly peer address to the chaincode and it cant find the peer","username":"greg.haskins","ts":"2017-10-05T02:49:52.179Z"}
{"msg":"_checks his code to remember how it works_","username":"greg.haskins","ts":"2017-10-05T02:50:20.996Z"}
{"msg":"@greg.haskins , thank you very much for you help. I'll take a look at these points.","username":"joaquimpedrooliveira","ts":"2017-10-05T12:41:43.092Z"}
{"msg":"@joaquimpedrooliveira i got distracted and forgot to paste the rest of (2)","username":"greg.haskins","ts":"2017-10-05T12:43:55.701Z"}
{"msg":"you want","username":"greg.haskins","ts":"2017-10-05T12:43:59.859Z"}
{"msg":"```        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"true\"\n        - name: CORE_PEER_TLS_SERVERHOSTOVERRIDE\n          value: peer1```","username":"greg.haskins","ts":"2017-10-05T12:44:03.772Z"}
{"msg":"in the peer environment...","username":"greg.haskins","ts":"2017-10-05T12:44:16.724Z"}
{"msg":"that will present the right endpoint to the chaincode when its in k9s","username":"greg.haskins","ts":"2017-10-05T12:44:32.675Z"}
{"msg":"k8s","username":"greg.haskins","ts":"2017-10-05T12:44:33.984Z"}
{"msg":"(SERVERHOSTOVERRIDE should match your x509::[CN/SAN]","username":"greg.haskins","ts":"2017-10-05T12:44:58.149Z"}
{"msg":"The more I look at the examples, the more environment variables I discover :smile: ","username":"joaquimpedrooliveira","ts":"2017-10-05T12:45:07.954Z"}
{"msg":"if you dont use TLS, you can ignore that part","username":"greg.haskins","ts":"2017-10-05T12:45:09.449Z"}
{"msg":"Is there any docs listing all environment variables and their values and effects?","username":"joaquimpedrooliveira","ts":"2017-10-05T12:46:31.942Z"}
{"msg":"the system uses a library called viper which allows configuration to be specified both as a yaml file as well as environment overrides","username":"greg.haskins","ts":"2017-10-05T12:47:07.924Z"}
{"msg":"so the best thing to do is look at the default yaml","username":"greg.haskins","ts":"2017-10-05T12:47:14.408Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release/sampleconfig/core.yaml","username":"greg.haskins","ts":"2017-10-05T12:47:37.193Z"}
{"msg":"for instance, if you wanted to set this one: https://github.com/hyperledger/fabric/blob/release/sampleconfig/core.yaml#L38","username":"greg.haskins","ts":"2017-10-05T12:48:01.856Z"}
{"msg":"its $FILE_$PATH_$TO_$ITEM","username":"greg.haskins","ts":"2017-10-05T12:48:26.285Z"}
{"msg":"so CORE_LOGGING_PEER would be the envvar that corresponds to L38","username":"greg.haskins","ts":"2017-10-05T12:48:43.894Z"}
{"msg":"Man, that was the tip of the year :D","username":"joaquimpedrooliveira","ts":"2017-10-05T12:49:22.293Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=PTf8ZEFKgcwwjvx7E) @greg.haskins I found a comment you made here: https://jira.hyperledger.org/browse/FAB-3339?focusedCommentId=28519&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-28519","username":"joaquimpedrooliveira","ts":"2017-10-05T12:50:00.122Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=PTf8ZEFKgcwwjvx7E","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=PTf8ZEFKgcwwjvx7E","remote":true,"fileId":null,"fileName":null}]}
{"msg":"And when you said:\n>The fact is, the chaincode container doesn't need any services except for the ability to find the peer's TLS endpoint.\nI understoond that TLS _must_ be enabled in the peer","username":"joaquimpedrooliveira","ts":"2017-10-05T12:50:46.887Z"}
{"msg":"Did I misunderstand what you mean?","username":"joaquimpedrooliveira","ts":"2017-10-05T12:51:01.986Z"}
{"msg":"im not sure what comment you are referring to, but generally speaking you can disable TLS but you generally do it globally","username":"greg.haskins","ts":"2017-10-05T12:51:33.034Z"}
{"msg":"e.g. the entire network operates that way","username":"greg.haskins","ts":"2017-10-05T12:51:38.622Z"}
{"msg":"Ok, so chaincode would work in k8s even if the network is not using TLS?","username":"joaquimpedrooliveira","ts":"2017-10-05T12:52:52.003Z"}
{"msg":"I mean, the chaincode container creation and execution","username":"joaquimpedrooliveira","ts":"2017-10-05T12:53:56.747Z"}
{"msg":"yeah, if you turn off TLS in the config, its turned off in the chaincode too","username":"greg.haskins","ts":"2017-10-05T12:54:33.824Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release/sampleconfig/core.yaml#L210","username":"greg.haskins","ts":"2017-10-05T12:55:02.308Z"}
{"msg":"or CORE_PEER_TLS_ENABLED=false","username":"greg.haskins","ts":"2017-10-05T12:55:16.232Z"}
{"msg":"Great. I'll try the configs you mentioned above. Thanks again for your support!","username":"joaquimpedrooliveira","ts":"2017-10-05T12:55:24.325Z"}
{"msg":"not that I recommend you run this way per se","username":"greg.haskins","ts":"2017-10-05T12:55:28.177Z"}
{"msg":"but for sanity checking your setup ...","username":"greg.haskins","ts":"2017-10-05T12:55:40.103Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xqcrzgQ6d66c3jeyi) @greg.haskins That's the idea.","username":"joaquimpedrooliveira","ts":"2017-10-05T12:56:31.962Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xqcrzgQ6d66c3jeyi","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xqcrzgQ6d66c3jeyi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@joaquimpedrooliveira i'll just throw this out there too in case its helpful.  I have this CR (which I need to update) https://gerrit.hyperledger.org/r/#/c/12159/","username":"greg.haskins","ts":"2017-10-05T13:01:07.713Z"}
{"msg":"it adds a \"make kubernetes\" option to examples/cluster","username":"greg.haskins","ts":"2017-10-05T13:01:20.285Z"}
{"msg":"I use a more up to date version of that daily to run fabric on openshift","username":"greg.haskins","ts":"2017-10-05T13:01:40.093Z"}
{"msg":"ill clean it up and merge my local fixes to that CR so I can get it merged, but theres still valuable info in there if you are curious how to run on k8s","username":"greg.haskins","ts":"2017-10-05T13:02:09.869Z"}
{"msg":"in a nutshell, \"make kubernetes\" output is a self-contained yaml file that you can then fire in with kubectl create","username":"greg.haskins","ts":"2017-10-05T13:03:31.302Z"}
{"msg":"I found this issue yesterday: https://jira.hyperledger.org/browse/FAB-3721, that I think is related to your CR","username":"joaquimpedrooliveira","ts":"2017-10-05T13:03:38.336Z"}
{"msg":"But I couldn't find the examples/cluster directory in any repo :grimacing: ","username":"joaquimpedrooliveira","ts":"2017-10-05T13:04:15.209Z"}
{"msg":"its in fabric","username":"greg.haskins","ts":"2017-10-05T13:04:46.546Z"}
{"msg":"https://github.com/hyperledger/fabric/tree/release/examples/cluster","username":"greg.haskins","ts":"2017-10-05T13:05:07.699Z"}
{"msg":"oops, my bad :D","username":"joaquimpedrooliveira","ts":"2017-10-05T13:05:31.085Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zcwdPRM3mbonpBEKH) @greg.haskins  It worked! :champagne: :champagne: :champagne: ","username":"joaquimpedrooliveira","ts":"2017-10-05T14:19:11.738Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zcwdPRM3mbonpBEKH","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zcwdPRM3mbonpBEKH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I only added the env vars you suggested in the deployment spec. Thank you very much for your help!","username":"joaquimpedrooliveira","ts":"2017-10-05T14:19:48.155Z"}
{"msg":"Now I gonna enable TLS and test again :)","username":"joaquimpedrooliveira","ts":"2017-10-05T14:20:13.547Z"}
{"msg":"Hi, all. When I enable TLS in my network, I get the following error in *peer* when trying to instantiate a chaincode:\n```INFO 55a Error starting Simple chaincode: Error trying to connect to local peer: x509: cannot validate certificate for 192.168.4.33 because it doesn't contain any IP SANs2017-10-06 18:45:59.124 UTC [shim] userChaincodeStreamGetter -> ERRO 002 Error trying to connect to local peer: x509: cannot validate certificate for 192.168.4.33 because it doesn't contain any IP SANs\n```","username":"joaquimpedrooliveira","ts":"2017-10-06T18:55:22.193Z"}
{"msg":"What certificate is being used here? I cannot remember of any certificate being generated by `cryptogen` for the chaincode container.","username":"joaquimpedrooliveira","ts":"2017-10-06T18:56:22.384Z"}
{"msg":"Do I need to configure `chaincodeListenAddress` and expose this port in the deployment spec?","username":"joaquimpedrooliveira","ts":"2017-10-06T19:02:08.304Z"}
{"msg":"@joaquimpedrooliveira this is what the SERVERHOSTOVERRIDE mechanism was designed for","username":"greg.haskins","ts":"2017-10-06T19:36:28.180Z"}
{"msg":"heres whats happening:","username":"greg.haskins","ts":"2017-10-06T19:36:32.733Z"}
{"msg":"you (or cryptogen, probably) build a set of x509s for your network","username":"greg.haskins","ts":"2017-10-06T19:36:50.803Z"}
{"msg":"that x509 has a CommonName and/or Subject Alternative Name that is \"x\"","username":"greg.haskins","ts":"2017-10-06T19:37:23.370Z"}
{"msg":"the chaincode will expect that the URL that it uses should match the x509 presented","username":"greg.haskins","ts":"2017-10-06T19:37:46.212Z"}
{"msg":"meaning, the URL that the peer hands to the chaincode is expected to correlated to the CN/SAN that the peer surfaces in its x509","username":"greg.haskins","ts":"2017-10-06T19:38:20.121Z"}
{"msg":"the problem on k8s is, everyone has a dynamic address, etc","username":"greg.haskins","ts":"2017-10-06T19:38:42.137Z"}
{"msg":"(there are actually deeper problems I wont get into)","username":"greg.haskins","ts":"2017-10-06T19:38:52.296Z"}
{"msg":"but long story short, you can work around those k8s-dynamic-environment type problems by using the ADDRESSAUTODETECT feature","username":"greg.haskins","ts":"2017-10-06T19:39:24.784Z"}
{"msg":"this means the peer automatically detects its address and gives _that_ to the chaincode","username":"greg.haskins","ts":"2017-10-06T19:39:41.286Z"}
{"msg":"the problem is, the dynamic address is almost certainly not in your x509 CN/SAN","username":"greg.haskins","ts":"2017-10-06T19:39:54.863Z"}
{"msg":"so, the second part of the equation is to use SERVERHOSTOVERRIDE","username":"greg.haskins","ts":"2017-10-06T19:40:09.592Z"}
{"msg":"this means that the chaincode TLS library will use $SERVERHOSTOVERRIDE when validating the x509 CN/SAN rather than the PEER_ADDRESS that was handed to it","username":"greg.haskins","ts":"2017-10-06T19:41:01.915Z"}
{"msg":"you can think of SERVERHOSTOVERRIDE as a DNS entry in a way","username":"greg.haskins","ts":"2017-10-06T19:41:11.497Z"}
{"msg":"so PEER_ADDRESS = 172.17.0.23 SERVERHOSTOVERRIDE=\"peer1\" means that the chaincode TLS library will connect to grpcs://172.17.0.23 while pretending it connected to grpcs://peer1","username":"greg.haskins","ts":"2017-10-06T19:42:07.483Z"}
{"msg":"e.g. as if it had performed a DNS lookup peer1 -> 172.17.0.23","username":"greg.haskins","ts":"2017-10-06T19:42:32.688Z"}
{"msg":"SO...the rub is that you want to ensure your SERVERHOSTOVERRIDE is specified when you use k8s, and that it matches your x509","username":"greg.haskins","ts":"2017-10-06T19:43:05.717Z"}
{"msg":"hopefully this makes sense","username":"greg.haskins","ts":"2017-10-06T19:43:31.025Z"}
{"msg":"@greg.haskins , thank you very much for you detailed explanation :)","username":"joaquimpedrooliveira","ts":"2017-10-06T20:33:07.292Z"}
{"msg":"you're a life saver!","username":"joaquimpedrooliveira","ts":"2017-10-06T20:33:16.724Z"}
{"msg":"for your*","username":"joaquimpedrooliveira","ts":"2017-10-06T20:35:13.126Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=App6opCvBKYBDBxf6) @greg.haskins I have to configure this property on PEERs deployments, right?","username":"joaquimpedrooliveira","ts":"2017-10-06T20:39:03.042Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=App6opCvBKYBDBxf6","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=App6opCvBKYBDBxf6","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xqmcgfwhW5RQ2p8cJ) @joaquimpedrooliveira correct","username":"greg.haskins","ts":"2017-10-06T20:59:07.319Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xqmcgfwhW5RQ2p8cJ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xqmcgfwhW5RQ2p8cJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"each peer should have ADDRESSAUTODETECT=true and SERVERHOSTOVERRIDE=$peername","username":"greg.haskins","ts":"2017-10-06T20:59:40.719Z"}
{"msg":"Ok!","username":"joaquimpedrooliveira","ts":"2017-10-06T20:59:58.618Z"}
{"msg":"where $peername is something that correlates to either the x509 CN or one of the SAN::DNS entries","username":"greg.haskins","ts":"2017-10-06T20:59:58.954Z"}
{"msg":"fwiw, cryptogen registers both the FQDN as as CN and a relative name as a SAN::DNS","username":"greg.haskins","ts":"2017-10-06T21:00:49.892Z"}
{"msg":"e.g. {CN: peer1.org1.com, SAN::DNS: peer1}","username":"greg.haskins","ts":"2017-10-06T21:01:21.284Z"}
{"msg":"Has joined the channel.","username":"m3r00t","ts":"2017-10-07T07:17:59.477Z","type":"uj"}
{"msg":"@greg.haskins the above you said made me wonder - why can't we make the peer always create a self-signed CA cert, and then detect its ip address upon boot and generate a TLS certificate with the proper SAN as its IP address and give that + the self signed root CA cert to the chaincode container when it is launched? ","username":"yacovm","ts":"2017-10-08T08:06:16.640Z"}
{"msg":"(via the upload API of course, not commandline args ;) )","username":"yacovm","ts":"2017-10-08T08:06:45.386Z"}
{"msg":"@yacovm we could...although its not technically any more secure than SERVERHOSTOVERRIDE as far as I can tell","username":"greg.haskins","ts":"2017-10-08T13:10:24.200Z"}
{"msg":"(either way, the chaincode relies on the peer to provide information)","username":"greg.haskins","ts":"2017-10-08T13:10:56.309Z"}
{"msg":"but I thought in your case - the override is supplied not by the peer dynamically but via core.yaml or something?","username":"yacovm","ts":"2017-10-08T13:11:27.514Z"}
{"msg":"no, the peer sets the override as an envvar","username":"greg.haskins","ts":"2017-10-08T13:11:47.924Z"}
{"msg":"it always does so?","username":"yacovm","ts":"2017-10-08T13:12:00.803Z"}
{"msg":"but even if it were core.yaml, still doesnt matter","username":"greg.haskins","ts":"2017-10-08T13:12:02.597Z"}
{"msg":"i dont recall..it might only set it when its enabled","username":"greg.haskins","ts":"2017-10-08T13:12:29.060Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WCqAz8JGfbwc8yhbj) @yacovm i dont recall..it might only set it when its enabled","username":"greg.haskins","ts":"2017-10-08T13:12:29.060Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WCqAz8JGfbwc8yhbj","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WCqAz8JGfbwc8yhbj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"basically, the peer sets envvar, core.yaml, tls material...so I dont think it matters which vehicle is used","username":"greg.haskins","ts":"2017-10-08T13:13:11.477Z"}
{"msg":"anyway, i think the SERVERHOSTOVERRIDE is perfectly fine to use..its no different than if we a) hooked the chaincode up properly to the k8s DNS (today its not), or b) dynamically updated /etc/hosts inside the chaincode container, etc","username":"greg.haskins","ts":"2017-10-08T13:15:20.545Z"}
{"msg":"its just a convenient way to achieve the same thing as a DNS update","username":"greg.haskins","ts":"2017-10-08T13:15:53.162Z"}
{"msg":"and not any less secure","username":"greg.haskins","ts":"2017-10-08T13:16:12.012Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=kJKYBgFGH5bar56Ht) @greg.haskins I set `ADDRESSAUTODETECT=true`  and `SERVERHOSTOVERRIDE=$peername`","username":"joaquimpedrooliveira","ts":"2017-10-09T14:15:32.340Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=kJKYBgFGH5bar56Ht","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=kJKYBgFGH5bar56Ht","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I can install the chaincode, but when in try to instantiate it, I get the following error: \n```2017-10-09 14:01:36.718 UTC [chaincode] ExecuteChaincode -> ERRO 3e8 Error executing chaincode: Could not get deployment transaction from LSCC for fabcar:1.0 - Get ChaincodeDeploymentSpec for fabcar/serprochannel from LSCC error: chaincode fingerprint mismatch data mismatch\n```","username":"joaquimpedrooliveira","ts":"2017-10-09T14:16:12.378Z"}
{"msg":"@joaquimpedrooliveira i've not seen that, but it doesnt appear to be related to the TLS stuff","username":"greg.haskins","ts":"2017-10-09T14:16:39.241Z"}
{"msg":"I saw two issues in JIRA related to this error message. One of them was corrected in Fabric 1.0.2, that is the version I'm running.","username":"joaquimpedrooliveira","ts":"2017-10-09T14:17:01.697Z"}
{"msg":"@muralisr any ideas?","username":"greg.haskins","ts":"2017-10-09T14:17:02.432Z"}
{"msg":"The other one remais openned: https://jira.hyperledger.org/browse/FAB-5476","username":"joaquimpedrooliveira","ts":"2017-10-09T14:17:26.422Z"}
{"msg":"remains*","username":"joaquimpedrooliveira","ts":"2017-10-09T14:18:22.559Z"}
{"msg":"@joaquimpedrooliveira let me check something....","username":"muralisr","ts":"2017-10-09T14:19:12.876Z"}
{"msg":"(re the \"fingerprint mismatch\" issue)","username":"muralisr","ts":"2017-10-09T14:19:31.622Z"}
{"msg":"thanks for you help, @muralisr !","username":"joaquimpedrooliveira","ts":"2017-10-09T14:20:22.526Z"}
{"msg":"of course... can you get me peer logs please ?","username":"muralisr","ts":"2017-10-09T14:21:27.922Z"}
{"msg":"This message was shown in peer log. How many list should I send you?","username":"joaquimpedrooliveira","ts":"2017-10-09T14:22:08.362Z"}
{"msg":"How many lines*","username":"joaquimpedrooliveira","ts":"2017-10-09T14:22:14.899Z"}
{"msg":"Sorry :)","username":"joaquimpedrooliveira","ts":"2017-10-09T14:22:18.083Z"}
{"msg":"preferably with CORE_LOGGING_LEVEL=debug env var ","username":"muralisr","ts":"2017-10-09T14:22:49.585Z"}
{"msg":"hard to say... but the logs for that proposal at least would be good ... would it be possible to \"docker logs <peer container id> 1>/tmp/peer.log 2>&1\" ","username":"muralisr","ts":"2017-10-09T14:23:47.626Z"}
{"msg":"and attach peer.log here ?","username":"muralisr","ts":"2017-10-09T14:23:57.335Z"}
{"msg":"(unless you don;t want to share sensitiver info)","username":"muralisr","ts":"2017-10-09T14:24:10.559Z"}
{"msg":"I have the following vars set:\n`CORE_LOGGING_PEER=\"debug\"` and `CORE_CHAINCODE_LOGGING_LEVEL=\"DEBUG\"`\nIs that enough?","username":"joaquimpedrooliveira","ts":"2017-10-09T14:24:38.159Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WqpXB2MrYDvLXMnHG) @muralisr I'm running on Kunernetes.","username":"joaquimpedrooliveira","ts":"2017-10-09T14:25:13.924Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WqpXB2MrYDvLXMnHG","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WqpXB2MrYDvLXMnHG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"better with CORE_LOGGING_LEVEL=\"debug\"  (CORE_LOGGING_PEER=\"debug\" maybe enough","username":"muralisr","ts":"2017-10-09T14:26:07.820Z"}
{"msg":"ok. I'm still learning k8s so not sure if that's hard to get in that env","username":"muralisr","ts":"2017-10-09T14:26:32.414Z"}
{"msg":"Right. I'll change my setup here and try again from scratch.","username":"joaquimpedrooliveira","ts":"2017-10-09T14:26:55.447Z"}
{"msg":"but if you can get the logs for just that proposal that fails, we can start with that","username":"muralisr","ts":"2017-10-09T14:26:59.033Z"}
{"msg":"I'll let you know when I get the logs with the right setup","username":"joaquimpedrooliveira","ts":"2017-10-09T14:27:35.014Z"}
{"msg":"great.","username":"muralisr","ts":"2017-10-09T14:27:55.020Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Yq9y7uE9CAmPdtzvW","username":"muralisr","ts":"2017-10-09T14:28:48.228Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Yq9y7uE9CAmPdtzvW","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Yq9y7uE9CAmPdtzvW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"of course, scratch the ` \"docker logs <peer container id> 1>/tmp/peer.log 2>&1\"` dumb suggestion please :-)","username":"muralisr","ts":"2017-10-09T14:29:14.942Z"}
{"msg":"Has joined the channel.","username":"eodendahl","ts":"2017-10-09T17:54:20.298Z","type":"uj"}
{"msg":"Does anyone know why I would be getting this error when running the `create-all script` from IBM containers services \n```\n2017-10-09 20:41:03.391 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2017-10-09 20:41:03.394 UTC [grpc] Printf -> DEBU 003 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\n2017-10-09 20:41:04.392 UTC [grpc] Printf -> DEBU 004 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\n2017-10-09 20:41:06.098 UTC [grpc] Printf -> DEBU 005 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\nError: Error getting endorser client channel: PER:404 - Error trying to connect to local peer\n/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:116 github.com/hyperledger/fabric/peer/common.GetEndorserClient\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/channel.go:149 github.com/hyperledger/fabric/peer/channel.InitCmdFactory\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/join.go:138 github.com/hyperledger/fabric/peer/channel.join\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/join.go:42 github.com/hyperledger/fabric/peer/channel.joinCmd.func1\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute\n/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main\n/opt/go/src/runtime/proc.go:192 runtime.main\n/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit\nCaused by: context deadline exceeded\n```","username":"ykcai","ts":"2017-10-09T20:43:05.178Z"}
{"msg":"Does anyone know why I would be getting this error when running the `create-all script` from IBM containers services \n```2017-10-09 20:41:03.391 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2017-10-09 20:41:03.394 UTC [grpc] Printf -> DEBU 003 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\n2017-10-09 20:41:04.392 UTC [grpc] Printf -> DEBU 004 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\n2017-10-09 20:41:06.098 UTC [grpc] Printf -> DEBU 005 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\nError: Error getting endorser client channel: PER:404 - Error trying to connect to local peer\n/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:116 github.com/hyperledger/fabric/peer/common.GetEndorserClient\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/channel.go:149 github.com/hyperledger/fabric/peer/channel.InitCmdFactory\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/join.go:138 github.com/hyperledger/fabric/peer/channel.join\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/join.go:42 github.com/hyperledger/fabric/peer/channel.joinCmd.func1\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute\n/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main\n/opt/go/src/runtime/proc.go:192 runtime.main\n/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit\nCaused by: context deadline exceeded\n```","username":"ykcai","ts":"2017-10-09T20:43:05.178Z"}
{"msg":"Does anyone know why I would be getting this error from `joinchannel` when running the `create-all script` from IBM containers services \n```2017-10-09 20:41:03.391 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2017-10-09 20:41:03.394 UTC [grpc] Printf -> DEBU 003 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\n2017-10-09 20:41:04.392 UTC [grpc] Printf -> DEBU 004 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\n2017-10-09 20:41:06.098 UTC [grpc] Printf -> DEBU 005 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 10.10.10.63:30110: getsockopt: connection refused\"; Reconnecting to {blockchain-org1peer1:30110 <nil>}\nError: Error getting endorser client channel: PER:404 - Error trying to connect to local peer\n/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:116 github.com/hyperledger/fabric/peer/common.GetEndorserClient\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/channel.go:149 github.com/hyperledger/fabric/peer/channel.InitCmdFactory\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/join.go:138 github.com/hyperledger/fabric/peer/channel.join\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/join.go:42 github.com/hyperledger/fabric/peer/channel.joinCmd.func1\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute\n/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main\n/opt/go/src/runtime/proc.go:192 runtime.main\n/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit\nCaused by: context deadline exceeded\n```","username":"ykcai","ts":"2017-10-09T20:43:05.178Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xKABbZM9EzMdvYpyK) @muralisr Hello! Here are the logs that we talked about yesterday:","username":"joaquimpedrooliveira","ts":"2017-10-10T14:04:44.563Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xKABbZM9EzMdvYpyK","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xKABbZM9EzMdvYpyK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"When I try to instantiate the chaincode fabcar, from fabric-samples, I noticed an error message:","username":"joaquimpedrooliveira","ts":"2017-10-10T14:05:16.261Z"}
{"msg":"Logs from the \"cli\" container:\n```/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode instantiate -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -C serprochannel -n fabcar -v 1.0 -c '{\"Args\":[\"\"]}'\n2017-10-10 14:01:36.498 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2017-10-10 14:01:36.498 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2017-10-10 14:01:36.633 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2017-10-10 14:01:36.633 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2017-10-10 14:01:36.634 UTC [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0ABB070A6B08031A0C08C0A5F3CE0510...0A000A000A04657363630A0476736363 \n2017-10-10 14:01:36.634 UTC [msp/identity] Sign -> DEBU 006 Sign: digest: ABBEB6DAD44E0D6FDBF1BBB50683D940F187ABB1EA8C41F302BB72AEE07518C9 \nError: Error endorsing chaincode: rpc error: code = Unknown desc = chaincode error (status: 500, message: chaincode exists fabcar)\n```","username":"joaquimpedrooliveira","ts":"2017-10-10T14:06:08.572Z"}
{"msg":"@joaquimpedrooliveira did you attach logs anywhere ?","username":"muralisr","ts":"2017-10-10T14:06:54.890Z"}
{"msg":"Nop. Where can I do it?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:07:06.884Z"}
{"msg":"Send here as an attachment?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:07:13.641Z"}
{"msg":"ok","username":"muralisr","ts":"2017-10-10T14:07:14.517Z"}
{"msg":"pastebin?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:07:17.228Z"}
{"msg":"I typically rename the file to hae a \"mylog.txt\" and attach using the clip  icon on the side","username":"muralisr","ts":"2017-10-10T14:07:57.892Z"}
{"msg":"I typically rename the file to hae a \".txt\" as in  \"mylog.txt\" and attach using the clip  icon on the side","username":"muralisr","ts":"2017-10-10T14:07:57.892Z"}
{"msg":"whatevever works for you though","username":"muralisr","ts":"2017-10-10T14:08:27.971Z"}
{"msg":"in the middle of something ... I'll have to look at this later ?","username":"muralisr","ts":"2017-10-10T14:08:47.694Z"}
{"msg":"No problem! :)","username":"joaquimpedrooliveira","ts":"2017-10-10T14:12:25.672Z"}
{"msg":"You want the logs from the peer, right?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:12:37.829Z"}
{"msg":"yes please","username":"muralisr","ts":"2017-10-10T14:12:44.300Z"}
{"msg":"Do the commands I sent from the CLI matter?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:13:07.462Z"}
{"msg":"","username":"joaquimpedrooliveira","ts":"2017-10-10T14:13:57.430Z","attachments":[{"title":"File Uploaded: peer_logs_joaquimpedrooliveira.txt","title_link":"/file-upload/v4SC2JYK9W94McQzo/peer_logs_joaquimpedrooliveira.txt","url":"/file-upload/v4SC2JYK9W94McQzo/peer_logs_joaquimpedrooliveira.txt","remote":false,"fileId":"v4SC2JYK9W94McQzo","fileName":"peer_logs_joaquimpedrooliveira.txt"}]}
{"msg":"Here you are. Thank you very much for your help, @muralisr !","username":"joaquimpedrooliveira","ts":"2017-10-10T14:14:19.360Z"}
{"msg":"I think a workflow of what you did from the CLI woukd help ","username":"muralisr","ts":"2017-10-10T14:14:31.507Z"}
{"msg":"What I did after starting a basic network (one orderer, one peer, one couchdb, one CA):\n1. Created channel: `peer channel create -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -c serprochannel -f /etc/hyperledger/configtx/channel.tx`\n2. Joined channel: `peer channel join --tls --cafile $ORDERER_CAFILE -b serprochannel.block`\n3. Installed chaincode `fabcar`: `peer chaincode install --tls --cafile $ORDERER_CAFILE -n fabcar -v 1.0 -p github.com/fabcar`\n4. Tried to instantiate the chaincode: `peer chaincode instantiate -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -C serprochannel -n fabcar -v 1.0 -c '{\"Args\":[\"\"]}'`\nHere I received the following error: `Error: Error endorsing chaincode: rpc error: code = Unknown desc = chaincode error (status: 500, message: chaincode exists fabcar)`\n5. As it says that the chaincode already exists, I tried to invoke  it: `peer chaincode invoke -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -C serprochannel -n fabcar -c '{\"function\":\"initLedger\",\"Args\":[\"\"]}'`\nThen I receive: `Error: Error endorsing invoke: rpc error: code = Unknown desc = Error executing chaincode: Could not get deployment transaction from LSCC for fabcar:1.0 - Get ChaincodeDeploymentSpec for fabcar/serprochannel from LSCC error: chaincode fingerprint mismatch data mismatch - <nil>\n`","username":"joaquimpedrooliveira","ts":"2017-10-10T14:18:41.658Z"}
{"msg":"What I did after starting a basic network (one orderer, one peer, one couchdb, one CA):\n1. Created channel: `peer channel create -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -c serprochannel -f /etc/hyperledger/configtx/channel.tx`\n2. Joined channel: `peer channel join --tls --cafile $ORDERER_CAFILE -b serprochannel.block`\n3. Installed chaincode `fabcar`: `peer chaincode install --tls --cafile $ORDERER_CAFILE -n fabcar -v 1.0 -p github.com/fabcar`\n4. Tried to instantiate the chaincode: `peer chaincode instantiate -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -C serprochannel -n fabcar -v 1.0 -c '{\"Args\":[\"\"]}'`\nHere I received the following error: `Error: Error endorsing chaincode: rpc error: code = Unknown desc = chaincode error (status: 500, message: chaincode exists fabcar)`\n5. As it says that the chaincode already exists, I tried to invoke  it: `peer chaincode invoke -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -C serprochannel -n fabcar -c '{\"function\":\"initLedger\",\"Args\":[\"\"]}'`\nThen I receive: `Error: Error endorsing invoke: rpc error: code = Unknown desc = Error executing chaincode: Could not get deployment transaction from LSCC for fabcar:1.0 - Get ChaincodeDeploymentSpec for fabcar/serprochannel from LSCC error: chaincode fingerprint mismatch data mismatch - <nil>`","username":"joaquimpedrooliveira","ts":"2017-10-10T14:18:41.658Z"}
{"msg":"Running the default hyperledger-fabric-* containers on Kubernetes","username":"joaquimpedrooliveira","ts":"2017-10-10T14:19:31.141Z"}
{"msg":"I have the logs for each individual operation, if it helps.","username":"joaquimpedrooliveira","ts":"2017-10-10T14:21:31.469Z"}
{"msg":"@joaquimpedrooliveira my guess is this ... it was instantiated on the channel but was not on this particular peer you were trying to invoke ","username":"muralisr","ts":"2017-10-10T14:33:38.205Z"}
{"msg":"to make that happen, you (rightly) installed the chaincode on the peer (step 3)","username":"muralisr","ts":"2017-10-10T14:34:07.121Z"}
{"msg":"however the invoke tried to match the installed CC with the fingerprint of the instnatiated CC for the channel ","username":"muralisr","ts":"2017-10-10T14:34:48.460Z"}
{"msg":"however the invoke tried to match the installed CC with the fingerprint of the instnatiated CC for the channel  before invoking it","username":"muralisr","ts":"2017-10-10T14:34:48.460Z"}
{"msg":"and that did not match for some reason ... this could happen if the second install in 3 was different from the chaincode that was used to install in some manner","username":"muralisr","ts":"2017-10-10T14:36:35.479Z"}
{"msg":"@muralisr , I started the network from scratch, so I'm assuming that there was no chaincode previously installed anywhere . Is my assumption ok?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:40:28.849Z"}
{"msg":"@joaquimpedrooliveira the chaincode did exist on the ledger in 4 ... I'd have expected it to go through successfully if starting from scratch ","username":"muralisr","ts":"2017-10-10T14:42:06.922Z"}
{"msg":"it exists in 4 because it was installed in step 3, right?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:43:19.713Z"}
{"msg":"I don't understand when you say that\n> it was instantiated on the channel but was not on this particular peer you were trying to invoke","username":"joaquimpedrooliveira","ts":"2017-10-10T14:43:57.068Z"}
{"msg":"How can I instantiate a chaincode in channel, but not on a peer? I thought that the command `peer chaincode install` did both :)","username":"joaquimpedrooliveira","ts":"2017-10-10T14:44:59.175Z"}
{"msg":"I confess I really don't have a deep understand of chaincode lifecycle.","username":"joaquimpedrooliveira","ts":"2017-10-10T14:45:32.184Z"}
{"msg":"And a curious thing is: when I did the same steps before, with TLS disabled, it worked.","username":"joaquimpedrooliveira","ts":"2017-10-10T14:46:17.090Z"}
{"msg":"Just for clarification: I did the steps above only once each","username":"joaquimpedrooliveira","ts":"2017-10-10T14:47:17.805Z"}
{"msg":"I have only one peer in my simple network","username":"joaquimpedrooliveira","ts":"2017-10-10T14:47:28.242Z"}
{"msg":"step 3 is \"install\" -> put the chaincode on the peer , step 4 is \"instantiate\" -> use the installed chaincode to instantiate the chaincode on the channel's ledger","username":"muralisr","ts":"2017-10-10T14:47:31.789Z"}
{"msg":"Now I got it. Thanks for the explanation :)","username":"joaquimpedrooliveira","ts":"2017-10-10T14:48:02.700Z"}
{"msg":"sure","username":"muralisr","ts":"2017-10-10T14:48:18.281Z"}
{"msg":"4 is the key...for some reason the channel is still there and the chaincode is alreay instantiated though you want it to start from scratch","username":"muralisr","ts":"2017-10-10T14:50:07.496Z"}
{"msg":"The couchdb only maintains the world state, not the full ledger, right?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:50:20.224Z"}
{"msg":"I'm not restarting it. Could this be the cause?","username":"joaquimpedrooliveira","ts":"2017-10-10T14:50:40.406Z"}
{"msg":"couchdb maintains everithing ... in particular it would know about instatiated chaincodes","username":"muralisr","ts":"2017-10-10T14:52:41.054Z"}
{"msg":"if the clean up did not include removing the ledger dbs, then on restart you'll find it","username":"muralisr","ts":"2017-10-10T14:53:32.535Z"}
{"msg":"So a previous chaincode may exist in couchdb","username":"joaquimpedrooliveira","ts":"2017-10-10T14:53:48.807Z"}
{"msg":"need to get back... talk later","username":"muralisr","ts":"2017-10-10T14:53:52.052Z"}
{"msg":"rigfht","username":"muralisr","ts":"2017-10-10T14:53:53.057Z"}
{"msg":"It may be the cause","username":"joaquimpedrooliveira","ts":"2017-10-10T14:53:53.672Z"}
{"msg":"right","username":"muralisr","ts":"2017-10-10T14:53:55.269Z"}
{"msg":"Ok, thank you!","username":"joaquimpedrooliveira","ts":"2017-10-10T14:54:02.871Z"}
{"msg":"Time to pick up kids at school :)","username":"joaquimpedrooliveira","ts":"2017-10-10T14:54:13.755Z"}
{"msg":"i'm running my peers as a stateful set, and I'm not sure if I should be doing something in particular, but I'm having a difficult time deploying some composer BNAs to my cluster:\n```\n2017-10-10 19:13:05.497 UTC [dev-peer-0.peer-lynnhurst-composer-0.13.2] func2 -> INFO 44b 2017-10-10 19:13:05.496 UTC [Composer] Info -> INFO 001 Setting the Composer pool size to 8\n2017-10-10 19:13:08.500 UTC [dev-peer-0.peer-lynnhurst-composer-0.13.2] func2 -> INFO 44c Error starting chaincode: Error trying to connect to local peer: context deadline exceeded2017-10-10 19:13:08.498 UTC [shim] userChaincodeStreamGetter -> ERRO 002 Error trying to connect to local peer: context deadline exceeded\n2017-10-10 19:13:08.530 UTC [dockercontroller] func2 -> INFO 44d Container dev-peer-0.peer-lynnhurst-composer-0.13.2 has closed its IO channel\n```","username":"jmcnevin","ts":"2017-10-10T19:14:23.081Z"}
{"msg":"Has joined the channel.","username":"yoheiueda","ts":"2017-10-11T05:28:22.737Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EpHKAYvZrNrAEaKbA) @muralisr I tried again all steps using a clean couchdb and the error changed:\n```2017-10-11 12:55:34.038 UTC [dev-peer0.blockchain.serpro.gov.br-fabcar-1.0] func2 -> INFO 396 2017-10-11 12:55:34.038 UTC [shim] userChaincodeStreamGetter -> ERRO 002 Error trying to connect to local peer: x509: certificate signed by unknown authority\n2017-10-11 12:55:34.110 UTC [dockercontroller] func2 -> INFO 397 Container dev-peer0.blockchain.serpro.gov.br-fabcar-1.0 has closed its IO channel\n2017-10-11 13:00:34.024 UTC [chaincode] launchAndWaitForRegister -> DEBU 398 stopping due to error while launching Timeout expired while starting chaincode fabcar:1.0(networkid:dev,peerid:peer0.blockchain.serpro.gov.br,tx:804d482bb3820b40d27580b464e0bf4434589acd7ed8733cf163a515a97cecdc)\n```","username":"joaquimpedrooliveira","ts":"2017-10-11T13:10:26.658Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EpHKAYvZrNrAEaKbA","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EpHKAYvZrNrAEaKbA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I generated all certificates using `cryptogen`","username":"joaquimpedrooliveira","ts":"2017-10-11T13:10:43.475Z"}
{"msg":"The log above is from the peer node","username":"joaquimpedrooliveira","ts":"2017-10-11T13:10:52.009Z"}
{"msg":"@joaquimpedrooliveira that sounds like a MSP setup error .... there should be some error on the CLI as well","username":"muralisr","ts":"2017-10-11T13:14:01.681Z"}
{"msg":"cli got a timeout:\n```/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode instantiate -o $ORDERER_ADDRESS --tls --cafile $ORDERER_CAFILE -C serprochannel -n fabcar -v 1.0 -c '{\"Args\":[\"\"]}'\n2017-10-11 13:02:29.187 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2017-10-11 13:02:29.187 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2017-10-11 13:02:29.320 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2017-10-11 13:02:29.321 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2017-10-11 13:02:29.321 UTC [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0ABB070A6B08031A0C08E5ACF8CE0510...0A000A000A04657363630A0476736363 \n2017-10-11 13:02:29.321 UTC [msp/identity] Sign -> DEBU 006 Sign: digest: C1928AD38710CA4BC81447E7252F2666A57A3E35E89284F3F6FC7EDE2BE581F5 \nError: Error endorsing chaincode: rpc error: code = Unknown desc = Timeout expired while starting chaincode fabcar:1.0(networkid:dev,peerid:peer0.blockchain.serpro.gov.br,tx:804d482bb3820b40d27580b464e0bf4434589acd7ed8733cf163a515a97cecdc)\n`","username":"joaquimpedrooliveira","ts":"2017-10-11T13:14:31.809Z"}
{"msg":"The message below:\n```2017-10-11 12:55:34.038 UTC [dev-peer0.blockchain.serpro.gov.br-fabcar-1.0] func2 -> INFO 396 2017-10-11 12:55:34.038 UTC [shim] userChaincodeStreamGetter -> ERRO 002 Error trying to connect to local peer: x509: certificate signed by unknown authority\n\nwas sent by the chaincode container while trying to connect to the peer node that instantiated it?","username":"joaquimpedrooliveira","ts":"2017-10-11T13:19:24.367Z"}
{"msg":"The message below:\n```2017-10-11 12:55:34.038 UTC [dev-peer0.blockchain.serpro.gov.br-fabcar-1.0] func2 -> INFO 396 2017-10-11 12:55:34.038 UTC [shim] userChaincodeStreamGetter -> ERRO 002 Error trying to connect to local peer: x509: certificate signed by unknown authority\n```\nwas sent by the chaincode container while trying to connect to the peer node that instantiated it?","username":"joaquimpedrooliveira","ts":"2017-10-11T13:19:24.367Z"}
{"msg":"@joaquimpedrooliveira just jumping in here, but you might be hitting a known bug","username":"greg.haskins","ts":"2017-10-11T13:20:40.269Z"}
{"msg":"How lucky I am! :smile: ","username":"joaquimpedrooliveira","ts":"2017-10-11T13:21:05.342Z"}
{"msg":"there is a workaround if so","username":"greg.haskins","ts":"2017-10-11T13:21:13.479Z"}
{"msg":"Which one, @greg.haskins ?","username":"joaquimpedrooliveira","ts":"2017-10-11T13:21:14.742Z"}
{"msg":"hold on while I lookit up","username":"greg.haskins","ts":"2017-10-11T13:21:19.178Z"}
{"msg":"i cant remember the JIRA, searching now","username":"greg.haskins","ts":"2017-10-11T13:21:26.088Z"}
{"msg":"Thanks. I need to report this to my managers :)","username":"joaquimpedrooliveira","ts":"2017-10-11T13:21:31.218Z"}
{"msg":"and I would like to track it on JIRA to know when it's resolved.","username":"joaquimpedrooliveira","ts":"2017-10-11T13:22:03.648Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-3996","username":"greg.haskins","ts":"2017-10-11T13:22:45.389Z"}
{"msg":"if its the same issue, basically the system may not invalidate containers from a previous run","username":"greg.haskins","ts":"2017-10-11T13:23:22.208Z"}
{"msg":"it usually materializes as a TLS problem since the old container has old certs","username":"greg.haskins","ts":"2017-10-11T13:23:42.629Z"}
{"msg":"(But do note that the problem is deeper than just TLS, that is just how it surfaces)","username":"greg.haskins","ts":"2017-10-11T13:24:03.518Z"}
{"msg":"I think @ecb is already working on a fix","username":"greg.haskins","ts":"2017-10-11T13:24:49.437Z"}
{"msg":"Has joined the channel.","username":"ecb","ts":"2017-10-11T13:24:49.500Z","type":"uj"}
{"msg":"How can I request access to JIRA?","username":"joaquimpedrooliveira","ts":"2017-10-11T13:30:50.744Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=afaAYXSXvEs4gFpFs) @greg.haskins Is there anything I could look for in logs to be sure it's the same issue?","username":"joaquimpedrooliveira","ts":"2017-10-11T13:37:05.063Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=afaAYXSXvEs4gFpFs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=afaAYXSXvEs4gFpFs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"In fact, I don't see in peers logs something similar to:\n```2017-10-11 13:36:28.865 UTC [dockercontroller] Start -> DEBU 42a start-could not find image <dev-peer0.blockchain.serpro.gov.br-marbles-1.0-bd32a92351de591f7c9fcec0836343f5e3adc1ce1cea5a4d202678167fc365c0> (container id <dev-peer0.blockchain.serpro.gov.br-marbles-1.0>), because of <no such image>...attempt to recreate image","username":"joaquimpedrooliveira","ts":"2017-10-11T13:43:54.888Z"}
{"msg":"This was from trying to instantiate `marbles02`, that I've never run before","username":"joaquimpedrooliveira","ts":"2017-10-11T13:44:31.190Z"}
{"msg":"But when I tried `fabcar`, that is the one I'm always using, this message is not shown","username":"joaquimpedrooliveira","ts":"2017-10-11T13:47:19.433Z"}
{"msg":"Bingo! Using `marbles02` chaincode, that has never been used before, I could instantiate and invoke the chaincode!","username":"joaquimpedrooliveira","ts":"2017-10-11T13:52:08.624Z"}
{"msg":"So I think I really bumped into `FAB-3996`.","username":"joaquimpedrooliveira","ts":"2017-10-11T13:52:29.446Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=DAAnMWZmk85Kc8jWK) @rjones ","username":"greg.haskins","ts":"2017-10-11T17:05:43.929Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=DAAnMWZmk85Kc8jWK","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=DAAnMWZmk85Kc8jWK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"rjones","ts":"2017-10-11T17:05:43.996Z","type":"uj"}
{"msg":"@joaquimpedrooliveira go to https://identity.linuxfoundation.org and create an account. Please do not use social logins - please register with an email account the first time. This will be your login to JIRA.","username":"rjones","ts":"2017-10-11T18:29:38.245Z"}
{"msg":"","username":"rjones","ts":"2017-10-11T18:30:07.031Z","attachments":[{"title":"File Uploaded: lfid.png","title_link":"/file-upload/jbtxxo8TqygNcTR7G/lfid.png","image_url":"/file-upload/jbtxxo8TqygNcTR7G/lfid.png","image_type":"image/png","image_size":225493,"url":"/file-upload/jbtxxo8TqygNcTR7G/lfid.png","remote":false,"fileId":"jbtxxo8TqygNcTR7G","fileName":"lfid.png"}]}
{"msg":"@joaquimpedrooliveira ^^^","username":"rjones","ts":"2017-10-11T18:30:14.387Z"}
{"msg":"@rjones, thanks!","username":"joaquimpedrooliveira","ts":"2017-10-11T18:31:54.762Z"}
{"msg":"sure thing!","username":"rjones","ts":"2017-10-11T18:32:47.126Z"}
{"msg":"Has joined the channel.","username":"tsnyder","ts":"2017-10-11T21:09:13.713Z","type":"uj"}
{"msg":"@greg.haskins - I downloaded the make kubernetes you gave a link to on Oct 5th. When trying to build it I am receiving a build error - ../../vendor/github.com/miekg/pkcs11/pkcs11.go:29:18: fatal error: ltdl.h: No such file or directory. Per FAB-2684 this relates to the PKCS11 dynamic build that Vlad incorporated, but I am not sure how to resolve as I am testing the kubernetes and really do not want to add the overhead issues of dealing with the softhsm as I test. Suggestions on how to resolve? ","username":"tsnyder","ts":"2017-10-12T13:23:31.901Z"}
{"msg":"Has joined the channel.","username":"mna2016","ts":"2017-10-17T12:40:16.788Z","type":"uj"}
{"msg":"HI Team, My composer network was running fine till thursday last week. I was able to connect programatically to the composer network running on ibm container service(kubernetes). There was a new composer release last week. I also noticed that lot of script changes and yml changes were introduced on the github repo for container service.  My question is: Do we need a new kind of connection profile to connect to the composer network? or would the old connection profile will do?","username":"mna2016","ts":"2017-10-17T12:42:48.066Z"}
{"msg":"Also, \"kubectl proxy\" does not work anymore. kubctl Ui can be useful for checking cluster logs etc.","username":"mna2016","ts":"2017-10-17T12:43:51.203Z"}
{"msg":"I was able to deploy the composer network on kubernetes container now. But kubectl proxy doesnt still work.","username":"mna2016","ts":"2017-10-18T12:02:20.424Z"}
{"msg":"Has joined the channel.","username":"eclairamb","ts":"2017-10-18T18:07:46.212Z","type":"uj"}
{"msg":"Hey just wondering... I am running a standard 3 peers multi-host K8S with 100+ chaincode containers (they are created by peer with Docker Remote API, and not K8S pod)\n\nI am wondering.... anyone has a better way to manage those cc containers? e.g. logs...etc","username":"DannyWong","ts":"2017-10-20T06:07:40.372Z"}
{"msg":"can we change the logging driver of those chaincode containers?","username":"DannyWong","ts":"2017-10-20T06:08:04.118Z"}
{"msg":"right now, i am thinking to change the default logging driver of the docker daemon such that all containers log will go to log management tool like Apache Spark","username":"DannyWong","ts":"2017-10-20T10:29:39.275Z"}
{"msg":"Any idea from community?","username":"DannyWong","ts":"2017-10-20T10:29:43.936Z"}
{"msg":"@DannyWong generally speaking, there is interest in the community to make k8s type concerns more first class in the peer/chaincode model","username":"greg.haskins","ts":"2017-10-20T16:11:17.434Z"}
{"msg":"that would include logging","username":"greg.haskins","ts":"2017-10-20T16:11:21.117Z"}
{"msg":"so, if you have some thoughts on ways to make the logging more flexible, create a JIRA and start the conversation","username":"greg.haskins","ts":"2017-10-20T16:12:02.170Z"}
{"msg":"ok","username":"DannyWong","ts":"2017-10-23T06:02:37.247Z"}
{"msg":"Has joined the channel.","username":"luomin","ts":"2017-10-24T07:37:21.596Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RobertDiebels","ts":"2017-10-24T13:02:04.437Z","type":"uj"}
{"msg":"Has joined the channel.","username":"greatyonchin","ts":"2017-10-25T06:51:46.569Z","type":"uj"}
{"msg":"Hey guys, any chance of this getting merged? https://gerrit.hyperledger.org/r/#/c/12159/","username":"RobertDiebels","ts":"2017-10-25T13:37:34.655Z"}
{"msg":"@RobertDiebels not in current form, no. It has merge conflicts. @greg.haskins needs to de-conflict it and push a new version","username":"rjones","ts":"2017-10-25T19:10:32.167Z"}
{"msg":"","username":"rjones","ts":"2017-10-25T19:10:59.781Z","attachments":[{"type":"file","title":"conflict.png","title_link":"/file-upload/8WzvrmwH5WXgn7QGd/conflict.png","image_url":"/file-upload/8WzvrmwH5WXgn7QGd/conflict.png","image_type":"image/png","image_size":82238,"url":"/file-upload/8WzvrmwH5WXgn7QGd/conflict.png","remote":false,"fileId":"8WzvrmwH5WXgn7QGd","fileName":"conflict.png"}]}
{"msg":"@RobertDiebels the red \"Cannot Merge\" means there are conflicts","username":"rjones","ts":"2017-10-25T19:11:13.790Z"}
{"msg":"I know. That's why I asked :P","username":"RobertDiebels","ts":"2017-10-25T19:11:25.241Z"}
{"msg":"ah. well, that's on @greg.haskins (or one of the other k8s committers) to fix :)","username":"rjones","ts":"2017-10-25T19:12:00.750Z"}
{"msg":"Ok thanks for the info :D","username":"RobertDiebels","ts":"2017-10-25T19:12:37.175Z"}
{"msg":"Ill try to get it cleaned up asap","username":"greg.haskins","ts":"2017-10-25T19:13:04.375Z"}
{"msg":"it's weird, such a small change having conflicts","username":"rjones","ts":"2017-10-25T19:13:59.739Z"}
{"msg":"Has joined the channel.","username":"ericb 7","ts":"2017-10-25T22:49:55.897Z","type":"uj"}
{"msg":"Has joined the channel.","username":"GLB","ts":"2017-10-25T23:48:35.745Z","type":"uj"}
{"msg":"Hey everyone, I am trying to deploy my blockchain network to the free blockchain service on bluemix. I am following these instructions here: https://ibm-blockchain.github.io/interacting/ . I have deployed my business network in playground, and now I am having trouble accessing my rest API. I executed this command successfully as per the tutorial: 'create_composer-rest-server.sh --business-network-id <my-business-network>', but I am not able to access the REST server at the  http://<My_Public_IP>:31090/explorer/ as it says...Am I missing something in my setup?\n","username":"GLB","ts":"2017-10-25T23:55:12.620Z"}
{"msg":"Has joined the channel.","username":"linzheng","ts":"2017-10-26T04:16:08.185Z","type":"uj"}
{"msg":"@greg.haskins @rjones thanks for the effort in advance guys :D !","username":"RobertDiebels","ts":"2017-10-26T08:14:26.726Z"}
{"msg":"Has joined the channel.","username":"baoyangc","ts":"2017-10-30T03:35:43.674Z","type":"uj"}
{"msg":"Has joined the channel.","username":"d88","ts":"2017-10-31T19:56:35.304Z","type":"uj"}
{"msg":"anyone have examples of liveness probes on orderers/peers?","username":"jmcnevin","ts":"2017-11-01T19:22:17.825Z"}
{"msg":"use tcpSocket probes tends to give me all sorts of broken pipe errors in my orderer debug logs, so I'm wondering if there's anything better to use","username":"jmcnevin","ts":"2017-11-01T19:23:36.000Z"}
{"msg":"@jmcnevin perhaps issue a config request to both?","username":"jeffgarratt","ts":"2017-11-01T22:33:11.964Z"}
{"msg":"or a channel list for peer.  Basically any CLI invoke will interface with any peer you wish","username":"jeffgarratt","ts":"2017-11-01T22:33:45.116Z"}
{"msg":"Not sure where to ask this - but since I am using kubernetes minikube environment and setup is accordingly I thought I would start here and see if anyone had seen this and have a solution. Using the configuration, Dockerfile and kubernetes yamls I have been able to instantiate and orderer, 4 peers in 4 orgs, and a cli container. I have been able to successfully create a channel and have all peers join it. I have been able to install chaincode on all peers (example02). The last step initiating the chaincode is failing due a connection attempt timeout with the ordering service (see errs file). I have also attached my docker file for the peer0 and the kubernetes yaml. Any thoughts would be greatly appreciated.","username":"tsnyder","ts":"2017-11-02T16:37:14.331Z"}
{"msg":"Sorry - I am getting an error saying media types are not accepted when trying to attach the files","username":"tsnyder","ts":"2017-11-02T16:39:55.442Z"}
{"msg":"","username":"tsnyder","ts":"2017-11-02T16:43:13.456Z","attachments":[{"type":"file","title":"peer0yaml.txt","title_link":"/file-upload/DpQwfwjQiRm3ew4sx/peer0yaml.txt","url":"/file-upload/DpQwfwjQiRm3ew4sx/peer0yaml.txt","remote":false,"fileId":"DpQwfwjQiRm3ew4sx","fileName":"peer0yaml.txt"}]}
{"msg":"","username":"tsnyder","ts":"2017-11-02T16:44:51.573Z","attachments":[{"type":"file","title":"errs.txt","title_link":"/file-upload/x8aekw8q3dRbbBNng/errs.txt","url":"/file-upload/x8aekw8q3dRbbBNng/errs.txt","remote":false,"fileId":"x8aekw8q3dRbbBNng","fileName":"errs.txt"}]}
{"msg":"btw - the chaincode container gets successfully built","username":"tsnyder","ts":"2017-11-02T16:49:13.912Z"}
{"msg":"@tsnyder --I think its due to fabric ca is not reachable...check ca node logs","username":"knagware9","ts":"2017-11-02T18:24:28.032Z"}
{"msg":"Has joined the channel.","username":"darkcrux","ts":"2017-11-04T03:10:31.710Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qingsongGuo","ts":"2017-11-06T06:33:38.848Z","type":"uj"}
{"msg":"This blog introduces a way to deploy Fabric on Kubernetes. http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1/","username":"Luke_Chen","ts":"2017-11-06T13:57:04.478Z"}
{"msg":"@here This blog introduces a way to deploy Fabric on Kubernetes. http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1/","username":"Luke_Chen","ts":"2017-11-06T13:57:19.300Z"}
{"msg":":thumbsup: ","username":"DannyWong","ts":"2017-11-06T14:00:37.606Z"}
{"msg":"@Luke_Chen Any chance you have the yaml resources for kubernetes available somewhere?","username":"RobertDiebels","ts":"2017-11-06T14:26:06.208Z"}
{"msg":"Nvm found it. Didn't look through the fling long enough :D","username":"RobertDiebels","ts":"2017-11-06T14:28:51.690Z"}
{"msg":"https://labs.vmware.com/flings/blockchain-on-vsphere#video <- found it there","username":"RobertDiebels","ts":"2017-11-06T14:29:22.982Z"}
{"msg":".tar file does contain the yaml files but IntelliJ can't find the right encoding for me.","username":"RobertDiebels","ts":"2017-11-06T14:39:42.975Z"}
{"msg":"Tried loading it in UTF-8, 16 and windows-1252","username":"RobertDiebels","ts":"2017-11-06T14:40:20.820Z"}
{"msg":"@RobertDiebels yes,these is a link to our fling, you can download the source code from the fling","username":"Luke_Chen","ts":"2017-11-06T14:40:23.648Z"}
{"msg":"ok ","username":"Luke_Chen","ts":"2017-11-06T14:40:44.715Z"}
{"msg":"I wrote them at linux platform.","username":"Luke_Chen","ts":"2017-11-06T14:41:26.163Z"}
{"msg":"Ah ok :P","username":"RobertDiebels","ts":"2017-11-06T14:41:34.560Z"}
{"msg":"we will be thankful if you gave us some feedback :)","username":"Luke_Chen","ts":"2017-11-06T14:47:52.370Z"}
{"msg":"I'm reading the pdf's now.","username":"RobertDiebels","ts":"2017-11-06T14:54:24.620Z"}
{"msg":"But I would need the right encoding to get it to work on windows.","username":"RobertDiebels","ts":"2017-11-06T14:54:47.553Z"}
{"msg":"@Luke_Chen nvm. I found my error. I opened the wrong files. I saw 12 files instead of 6. The wrong ones all had a prefix wtih \"._\" in it.","username":"RobertDiebels","ts":"2017-11-06T14:58:00.439Z"}
{"msg":"@RobertDiebels all right, those are cache files ","username":"Luke_Chen","ts":"2017-11-06T15:03:08.825Z"}
{"msg":"This is exactly what I needed btw :D","username":"RobertDiebels","ts":"2017-11-06T15:04:56.753Z"}
{"msg":"glad to help !","username":"Luke_Chen","ts":"2017-11-06T15:05:42.206Z"}
{"msg":"Yea this is great! Will save me a bunch of work :) !","username":"RobertDiebels","ts":"2017-11-06T15:08:03.028Z"}
{"msg":"Has joined the channel.","username":"pmcosta1","ts":"2017-11-06T17:40:22.652Z","type":"uj"}
{"msg":"Hi, I am setting 5 peers in one org (i.e. OrgA). They are configured as 5 deployment with 1 replica (not using StatefulSet). Each of them are having separate peer identity and crypto materials).\n\nI have 100+ chaincode... \n\nProblem Statement:\n- If there are 2 peers scheduled to same K8S node (minion) then it will bring 200+ chaincode containers to that peers (and not managed by K8S). The memory and CPU of that host might be exhausted by this.\n\nWhat I want...\n- I want to ensure each peer will be scheduled by K8S to a K8S node (a.k.a minion) if there is no other peer on them\n\nWhat I have done...\n- Googled a bit on K8S scheduling (node/pod affinity and anti-affinity) and Stateful sets... Seems not get it working\n\n\nCommunity, any help/insight?","username":"DannyWong","ts":"2017-11-07T01:57:03.561Z"}
{"msg":"Hi, I am setting 5 peers in one org (i.e. OrgA). They are configured as 5 deployment with 1 replica (not using StatefulSet). Each of them are having separate peer identity and crypto materials).\n\nI have 100+ chaincode... \n\nProblem Statement:\n- If there are 2 peers scheduled to same K8S node (minion) then it will bring 200+ chaincode containers to that node (and these workload not managed by K8S). The memory and CPU of that host might be exhausted by this.\n\nWhat I want...\n- I want to ensure each peer will be scheduled by K8S to a K8S node (a.k.a minion) if there is no other peer on them\n\nWhat I have done...\n- Googled a bit on K8S scheduling (node/pod affinity and anti-affinity) and Stateful sets... Seems not get it working\n\n\nCommunity, any help/insight?","username":"DannyWong","ts":"2017-11-07T01:57:03.561Z"}
{"msg":"@DannyWong I've used anti-affinity rules to do this.  What problems have you been seeing?","username":"jmcnevin","ts":"2017-11-07T13:39:17.073Z"}
{"msg":"@Luke_Chen Thanks for the blog ( http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1/ ). . It helped me get past the dns issue with a minikube for chaincode instantiation. Creating the minikube with the following cmd worked. minikube start --cpus 6 --memory 49152 --vm-driver kvm --docker-opt \"dns=10.0.0.10 --dns=192.168.0.1 --dns-search \\\ndefault.svc.cluster.local --dns-search \\\nsvc.cluster.local --dns-opt ndots:2 --dns-opt \\\ntimeout:2 --dns-opt attempts:2 \"","username":"tsnyder","ts":"2017-11-07T14:45:37.826Z"}
{"msg":"@jmcnevin let me take a look... again","username":"DannyWong","ts":"2017-11-08T01:57:39.585Z"}
{"msg":"I'm wondering how everyone here is managing the docker VM that peers use.  I've seen in many places that people are mounting the node's docker.sock and exposing that to the peer, but I'm wondering if this is allowing sibling containers to be created that could be orphaned if the peer pod is destroyed","username":"jmcnevin","ts":"2017-11-08T22:31:52.111Z"}
{"msg":"i was kicking around the idea of running a completely new docker instance inside of the pod, next to the peer, and letting the peer use that instead, so all of its chaincode containers would be cleaned up along with the pod","username":"jmcnevin","ts":"2017-11-08T22:33:22.958Z"}
{"msg":"this way you could also put resource requests around that docker host container depending on how much chaincode you expect to have installed per-peer","username":"jmcnevin","ts":"2017-11-08T22:36:44.885Z"}
{"msg":"Has joined the channel.","username":"niteshsolanki","ts":"2017-11-09T16:32:08.260Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jskaqua","ts":"2017-11-09T21:33:18.714Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bjwswang","ts":"2017-11-11T08:06:16.809Z","type":"uj"}
{"msg":"Has joined the channel.","username":"igors","ts":"2017-11-14T20:34:29.659Z","type":"uj"}
{"msg":"Hi guys","username":"daygee","ts":"2017-11-15T13:09:33.603Z"}
{"msg":"so I have tried to deploy members of a hyperledger network to a kubernetes cluster","username":"daygee","ts":"2017-11-15T13:10:40.608Z"}
{"msg":"I also implemented a kafka based ordering service","username":"daygee","ts":"2017-11-15T13:11:36.667Z"}
{"msg":"but kafka and zookeeper seem to be acting up","username":"daygee","ts":"2017-11-15T13:14:45.378Z"}
{"msg":"zookeeper keeps throwing: caught end of stream exception\nEndOfStreamException: Unable to read additional data from client sessionid 0x0, likely client has closed socket","username":"daygee","ts":"2017-11-15T13:16:40.479Z"}
{"msg":"and kafka is misbehaving so the orderer can't connect","username":"daygee","ts":"2017-11-15T13:23:02.912Z"}
{"msg":"any suggestions would be appreciated","username":"daygee","ts":"2017-11-15T13:23:19.703Z"}
{"msg":"Has joined the channel.","username":"SwatiRaj","ts":"2017-11-16T10:20:56.186Z","type":"uj"}
{"msg":"Hi I was trying to deploy hyperledger on kubernetes , as you know kubernetes doesnot allow us to include '.'(dot) in service name , so my orderer service name is orderer-example-com . So I gave the orderer address as orderer-example-com:7050 , but when peer is trying to connect to orderer while initializing chaincode , I am getting this error -  \"Failed connecting to orderer-example-com:7050 , error: x509: certificate is valid for orderer.example.com, orderer, not orderer-example-com\"  , any help would be appreciated.","username":"SwatiRaj","ts":"2017-11-17T14:49:43.133Z"}
{"msg":"Has joined the channel.","username":"zlgonzalez","ts":"2017-11-18T04:33:15.149Z","type":"uj"}
{"msg":"Has joined the channel.","username":"heidecke","ts":"2017-11-19T09:25:20.070Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=c7dCCLJtruLa4kiFL) @tsnyder     HEY tsnyder , since you have deployed orderer on Kubernetes , You must have changed the name of the orderer service from \".\" to something else , connect to that service not orderer.example.com","username":"SwatiRaj","ts":"2017-11-19T20:56:04.824Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=c7dCCLJtruLa4kiFL","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=c7dCCLJtruLa4kiFL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SwatiRaj maybe disable tls and try again","username":"Luke_Chen","ts":"2017-11-20T03:02:27.140Z"}
{"msg":"Has joined the channel.","username":"Riussi","ts":"2017-11-20T08:51:02.646Z","type":"uj"}
{"msg":"@SwatiRaj you have to change the orderer's name in the configtx file from orderer.example.com to orderer-example-com and then generate new certificates for it","username":"daygee","ts":"2017-11-20T10:58:47.791Z"}
{"msg":"So apparently, I discovered that the zookeeper issue is something that can happen to zookeeper that doesn't necessarily stop functionality in the network","username":"daygee","ts":"2017-11-20T11:00:55.373Z"}
{"msg":"Tho I still want to get to the bottom of it, I have left it for the time being","username":"daygee","ts":"2017-11-20T11:01:18.038Z"}
{"msg":"Has joined the channel.","username":"gentios","ts":"2017-11-20T14:50:14.207Z","type":"uj"}
{"msg":"Hi guys, I am new to deploying fabric + kafka with kubernetes","username":"gentios","ts":"2017-11-20T14:53:14.782Z"}
{"msg":"can someone point me to some good resources","username":"gentios","ts":"2017-11-20T14:53:22.256Z"}
{"msg":"on how to achieve that","username":"gentios","ts":"2017-11-20T14:53:26.568Z"}
{"msg":"@gentios if you're on Linux this might be of interest: http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1","username":"RobertDiebels","ts":"2017-11-20T14:55:20.039Z"}
{"msg":"@RobertDiebels  thanks for  that","username":"gentios","ts":"2017-11-20T14:55:44.584Z"}
{"msg":"I have seen that, waiting for the second part","username":"gentios","ts":"2017-11-20T14:56:05.891Z"}
{"msg":"since I don't have a lot of experience with kubernetes","username":"gentios","ts":"2017-11-20T14:56:15.887Z"}
{"msg":"https://labs.vmware.com/flings/blockchain-on-vsphere#video <- might be helpful","username":"RobertDiebels","ts":"2017-11-20T14:56:46.819Z"}
{"msg":"@RobertDiebels yes watching it now","username":"gentios","ts":"2017-11-20T14:57:05.786Z"}
{"msg":"@RobertDiebels thanks for your honest support","username":"gentios","ts":"2017-11-20T14:57:15.068Z"}
{"msg":"No problem.","username":"RobertDiebels","ts":"2017-11-20T14:57:49.981Z"}
{"msg":"@RobertDiebels  what if I don't want to go on with vSphere ?","username":"gentios","ts":"2017-11-20T14:58:44.629Z"}
{"msg":"Maybe someone @here has some yaml-files ready to go. But the tarball you can download on the same page I linked, has some code which generates a Kubernetes yaml.","username":"RobertDiebels","ts":"2017-11-20T14:58:50.725Z"}
{"msg":"If you download the tarball and the PDF from that page you'll have instructions on how to only generate the Kubernetes resources.","username":"RobertDiebels","ts":"2017-11-20T14:59:30.134Z"}
{"msg":"I'm currently working on getting that working on Windows.","username":"RobertDiebels","ts":"2017-11-20T14:59:41.737Z"}
{"msg":"(porting that code to NodeJS)","username":"RobertDiebels","ts":"2017-11-20T15:00:05.151Z"}
{"msg":"@RobertDiebels thanks a lot","username":"gentios","ts":"2017-11-20T15:00:05.995Z"}
{"msg":"No problem.","username":"RobertDiebels","ts":"2017-11-20T15:00:16.026Z"}
{"msg":"@Luke_Chen  Firstly, thank you for the great documentation and video tutorial","username":"gentios","ts":"2017-11-21T09:33:39.797Z"}
{"msg":"I saw that  in your video you have the kafka orderer files","username":"gentios","ts":"2017-11-21T09:34:03.514Z"}
{"msg":"Can you share kafka based ordering service kubernete files if possible","username":"gentios","ts":"2017-11-21T09:34:35.160Z"}
{"msg":"@gentios sorry about that, kafka cluster is not work as intended so far, thus we remove it from the fling, however, my colleague is doing this work recently, I will let you know immediately if he got any progress. ","username":"Luke_Chen","ts":"2017-11-21T10:03:11.050Z"}
{"msg":"ok thank you @Luke_Chen  ","username":"gentios","ts":"2017-11-21T10:07:54.911Z"}
{"msg":"can you please share the fling link ?","username":"gentios","ts":"2017-11-21T10:08:02.237Z"}
{"msg":"sure, https://labs.vmware.com/flings/blockchain-on-vsphere","username":"Luke_Chen","ts":"2017-11-21T10:10:33.896Z"}
{"msg":"@Luke_Chen  thank you","username":"gentios","ts":"2017-11-21T10:11:54.650Z"}
{"msg":"@gentios welcome!","username":"Luke_Chen","ts":"2017-11-21T10:15:06.808Z"}
{"msg":"@Luke_Chen  it was working without tls , but I want it to work with tls enabled.","username":"SwatiRaj","ts":"2017-11-21T11:20:36.881Z"}
{"msg":"@daygee   Hey I already changed the name in configtx and it is working without tls , but with TLS , I need certificates for orderer-example-com , which cryptogen tool doesnt provide because the format in which cryptogen tool create certs is in ","username":"SwatiRaj","ts":"2017-11-21T11:22:20.116Z"}
{"msg":"<hostname>.<domainname>","username":"SwatiRaj","ts":"2017-11-21T11:22:41.661Z"}
{"msg":"and I dont want any dot in the domain, because kubernetes doenot allow it . ","username":"SwatiRaj","ts":"2017-11-21T11:23:09.641Z"}
{"msg":"guys, with what tool have you generated the docker files into kubernetes","username":"gentios","ts":"2017-11-21T14:09:31.077Z"}
{"msg":"while searching I saw this tool","username":"gentios","ts":"2017-11-21T14:09:36.915Z"}
{"msg":"http://kompose.io/","username":"gentios","ts":"2017-11-21T14:09:37.489Z"}
{"msg":"I used compose2kube  https://github.com/kelseyhightower/compose2kube","username":"daygee","ts":"2017-11-21T14:56:34.299Z"}
{"msg":"@SwatiRaj I see your problem","username":"daygee","ts":"2017-11-21T15:05:20.471Z"}
{"msg":"thanks @daygee ","username":"gentios","ts":"2017-11-21T15:26:09.187Z"}
{"msg":"or you can always just do it yourself... :smirk: ","username":"daygee","ts":"2017-11-21T15:27:11.807Z"}
{"msg":"those tools may not get your config perfectly anyway","username":"daygee","ts":"2017-11-21T15:27:38.671Z"}
{"msg":"yes I will see the both ways","username":"gentios","ts":"2017-11-21T15:30:45.791Z"}
{"msg":"since I am new to kubernetes","username":"gentios","ts":"2017-11-21T15:31:00.548Z"}
{"msg":"Has joined the channel.","username":"Yixing","ts":"2017-11-22T10:57:18.940Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jackeyliliang","ts":"2017-11-24T02:59:20.886Z","type":"uj"}
{"msg":"hi guys","username":"grapebaba","ts":"2017-11-24T03:12:54.089Z"}
{"msg":"[sarama] 2017/11/24 02:48:20.401886 client.go:397: client/brokers registered new broker #0 at kafka0-kafka-84db88d78d-2ggn7:9092\n[sarama] 2017/11/24 02:48:20.401902 client.go:397: client/brokers registered new broker #1 at kafka1-kafka-74f4b6bbdf-8jbbv:9092\n[sarama] 2017/11/24 02:48:20.401906 client.go:397: client/brokers registered new broker #2 at kafka2-kafka-586567dff8-xxjg2:9092\n[sarama] 2017/11/24 02:48:20.401909 client.go:397: client/brokers registered new broker #3 at kafka3-kafka-559cd7bf5f-kpj2m:9092\n[sarama] 2017/11/24 02:48:20.401931 client.go:154: Successfully initialized new client\n2017-11-24 ","username":"grapebaba","ts":"2017-11-24T03:13:22.447Z"}
{"msg":"anyone meet issues like sarama register broker use k8s pod name,it cause no host in dns","username":"grapebaba","ts":"2017-11-24T03:14:41.428Z"}
{"msg":"Has joined the channel.","username":"MohitYadav2317","ts":"2017-11-24T07:10:35.588Z","type":"uj"}
{"msg":"@Luke_Chen, if for example I don't want to run in vSphere and just use an Amazon EC3 for example. I'll have to create a NFS there right ?","username":"gentios","ts":"2017-11-24T10:25:06.878Z"}
{"msg":"I'll have to create a shared NFS/Amazon EFS, and than in a EC2/Kubernetes Pods ","username":"gentios","ts":"2017-11-24T10:43:54.842Z"}
{"msg":"@gentios this might be relevant for you. I'm currently attempting to drop the nfs server and use ConfigMaps bound to a persistentVolume to store the chain's configuration.","username":"RobertDiebels","ts":"2017-11-25T12:37:38.614Z"}
{"msg":"That way you wouldn't have to create an NFS server.","username":"RobertDiebels","ts":"2017-11-25T12:37:53.723Z"}
{"msg":"Has joined the channel.","username":"LordGoodman","ts":"2017-11-26T09:24:04.700Z","type":"uj"}
{"msg":"@gentios Of course you don't have to create a NFS,  but you must make sure  the every nodes can access their certificates and chain's configuration files.","username":"LordGoodman","ts":"2017-11-26T09:45:19.809Z"}
{"msg":"Has joined the channel.","username":"sasiedu","ts":"2017-11-26T09:54:31.565Z","type":"uj"}
{"msg":"@Luke_Chen  thank you for the second part","username":"gentios","ts":"2017-11-27T07:19:46.044Z"}
{"msg":"you guys did a really good explanation","username":"gentios","ts":"2017-11-27T07:19:54.106Z"}
{"msg":"if you need any help for documentation updates and stuff ","username":"gentios","ts":"2017-11-27T07:20:08.314Z"}
{"msg":"I am willing to contribute","username":"gentios","ts":"2017-11-27T07:20:12.897Z"}
{"msg":"@LordGoodman  why do you tink I don't have to create an NFS ?","username":"gentios","ts":"2017-11-27T07:54:12.310Z"}
{"msg":"did anyone have issues with identities when deploying to kubernetes?","username":"daygee","ts":"2017-11-27T09:45:30.599Z"}
{"msg":"I can't seem to understand why, but the orderer throws an error : Principal deserialization failure (The supplied identity is not valid, Verify() returned x509: certificate signed by unknown authority) for identity","username":"daygee","ts":"2017-11-27T09:46:45.767Z"}
{"msg":"@gentios glad to help, and  we are welcome for contribution !","username":"Luke_Chen","ts":"2017-11-27T15:52:49.488Z"}
{"msg":"@gentios If we need help, will let you know at first. :)","username":"Luke_Chen","ts":"2017-11-27T15:53:43.648Z"}
{"msg":"@daygee Have you tried regenerate all certificates?","username":"Luke_Chen","ts":"2017-11-27T15:57:35.753Z"}
{"msg":"I think @LordGoodman means you could replace NFS with other shared storage solutions, since kubernetes support many of them. please refer this link https://kubernetes.io/docs/concepts/storage/volumes/","username":"Luke_Chen","ts":"2017-11-27T16:08:24.339Z"}
{"msg":"that was my first guess but I checked all the certificates on the crypto-config folder and none of them match the one throwing exception","username":"daygee","ts":"2017-11-27T17:36:01.833Z"}
{"msg":"Has left the channel.","username":"rjones","ts":"2017-11-27T22:36:35.625Z","type":"ul"}
{"msg":"@daygee Where did you put all these certificates ? Did you use any shared storage solution?","username":"Luke_Chen","ts":"2017-11-28T02:49:17.012Z"}
{"msg":"yes, after generating, I copied to a shared folder","username":"daygee","ts":"2017-11-28T06:34:51.389Z"}
{"msg":"I checked an ssh decoder and the certificate is being generated for example.com meanwhile I have modified my configtx such that domain is no longer example.com for peer orgs and orderer","username":"daygee","ts":"2017-11-28T07:04:52.711Z"}
{"msg":"could you send me your configtx.yaml and crypto-config.yaml ?","username":"Luke_Chen","ts":"2017-11-28T07:56:29.376Z"}
{"msg":"@Luke_Chen  I found a small inproovement in the tutorial: ```kubectl get pods all-namespaces ","username":"gentios","ts":"2017-11-28T14:19:33.678Z"}
{"msg":"@Luke_Chen  I found a small inproovement in the tutorial: ```kubectl get pods all-namespaces should be ```kubectl get pods --all-namespaces","username":"gentios","ts":"2017-11-28T14:19:33.678Z"}
{"msg":"should be ```kubectl get pods --all-namespaces","username":"gentios","ts":"2017-11-28T14:20:01.458Z"}
{"msg":"@gentios Ah, apologize","username":"Luke_Chen","ts":"2017-11-28T14:45:33.624Z"}
{"msg":"no no don't worry you've done the biggest part","username":"gentios","ts":"2017-11-28T14:47:33.256Z"}
{"msg":"I just mention that to be the tutorial better","username":"gentios","ts":"2017-11-28T14:48:05.269Z"}
{"msg":"@gentios will update it as soon as possible, thanks :)","username":"Luke_Chen","ts":"2017-11-28T15:32:20.242Z"}
{"msg":"Guys, I tried to deploy the @Luke_Chen  tutorial ","username":"gentios","ts":"2017-11-29T08:38:26.871Z"}
{"msg":"I created a kubernetes cluster with kubeadm","username":"gentios","ts":"2017-11-29T08:38:36.163Z"}
{"msg":"installed flannel network","username":"gentios","ts":"2017-11-29T08:38:40.139Z"}
{"msg":"created an nfs","username":"gentios","ts":"2017-11-29T08:38:43.931Z"}
{"msg":"mounted the nfs","username":"gentios","ts":"2017-11-29T08:38:56.660Z"}
{"msg":"and when I ran the script","username":"gentios","ts":"2017-11-29T08:39:01.636Z"}
{"msg":"in the kubernetes cluster ","username":"gentios","ts":"2017-11-29T08:39:08.093Z"}
{"msg":"```org1          ca-7954ddf99b-hvmhc                     0/1       ContainerCreating   0          4m\norg1          cli-594b5c4d54-ctr8q                    0/1       ContainerCreating   0          4m\norg1          peer0-org1-58d9f4b5d9-mdbtd             0/2       ContainerCreating   0          4m\norg1          peer1-org1-65cb9b676d-7kggx             0/2       ContainerCreating   0          4m\norg2          ca-6797d754b-wzw8w                      0/1       ContainerCreating   0          4m\norg2          cli-6fdd6cc589-9ccbt                    0/1       ContainerCreating   0          4m\norg2          peer0-org2-89b7b4dfb-5bjxz              0/2       ContainerCreating   0          4m\norg2          peer1-org2-55874dfccc-pc9px             0/2       ContainerCreating   0          4m\norgorderer1   orderer0-orgorderer1-5c6445c8db-5n65q   0/1       ContainerCreating   0          4m\n","username":"gentios","ts":"2017-11-29T08:39:18.783Z"}
{"msg":"I see this","username":"gentios","ts":"2017-11-29T08:39:29.229Z"}
{"msg":"the directory in the nfs is /home and is owned by nobody:nogroup","username":"gentios","ts":"2017-11-29T08:40:32.396Z"}
{"msg":"Notice: I have ran this in the master node","username":"gentios","ts":"2017-11-29T08:41:01.734Z"}
{"msg":"I don't have a worker node","username":"gentios","ts":"2017-11-29T08:41:14.957Z"}
{"msg":"by default, we copy the channel-artifacts and crypto-config folder to /opt/share/","username":"Luke_Chen","ts":"2017-11-29T09:27:01.204Z"}
{"msg":"By default, we use /opt/share folder of NFS to create Persistent Volumes","username":"Luke_Chen","ts":"2017-11-29T09:33:07.197Z"}
{"msg":"meanwhile, we mount the NFS /opt/share folder to local /opt/share folder","username":"Luke_Chen","ts":"2017-11-29T09:33:52.961Z"}
{"msg":"@Luke_Chen  yes I noticed that now and I will fix it","username":"gentios","ts":"2017-11-29T09:34:28.362Z"}
{"msg":"because generateAll.sh will copy the channel-artifacts and crypto-config folder to local /opt/share/","username":"Luke_Chen","ts":"2017-11-29T09:34:33.379Z"}
{"msg":"can I run this in the master node ?","username":"gentios","ts":"2017-11-29T09:34:50.442Z"}
{"msg":"Of course, since you have made master node schedulable.","username":"Luke_Chen","ts":"2017-11-29T09:38:51.910Z"}
{"msg":"@Luke_Chen  ok thanks a lot ","username":"gentios","ts":"2017-11-29T09:46:44.440Z"}
{"msg":"I will test it again and see ","username":"gentios","ts":"2017-11-29T09:46:52.494Z"}
{"msg":"what is happening","username":"gentios","ts":"2017-11-29T09:46:55.443Z"}
{"msg":"you are welcome, feel free to contact. ","username":"Luke_Chen","ts":"2017-11-29T09:47:45.374Z"}
{"msg":"Has joined the channel.","username":"Katiyman","ts":"2017-11-29T09:48:09.499Z","type":"uj"}
{"msg":"Hey guys, we have finished the blog about how to deploy Hyperledger Fabric on Kubernetes, if you want to deploy Fabric on pure Kubernetes environment, this will be a good place to start https://medium.com/@zhanghenry/how-to-deploy-hyperledger-fabric-on-kubernetes-2-751abf44c807 thanks.","username":"Luke_Chen","ts":"2017-11-29T16:02:38.783Z"}
{"msg":"Has joined the channel.","username":"sstone1","ts":"2017-11-29T19:51:36.818Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aaron_z7","ts":"2017-11-30T05:40:47.135Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tedljw","ts":"2017-11-30T06:16:04.476Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vsadriano","ts":"2017-11-30T12:07:54.396Z","type":"uj"}
{"msg":"Hi! Anybody run a Fabric Network on Kubernetes without root users on peers?","username":"vsadriano","ts":"2017-11-30T12:09:18.935Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=qRpdZJp7oQXownGse) @Luke_Chen There's no Orderer Type Kafka. :(","username":"vsadriano","ts":"2017-11-30T12:10:10.838Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=qRpdZJp7oQXownGse","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=qRpdZJp7oQXownGse","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Ok. It's great! How can I use \"**unix:///host/var/run/docker.sock\"**\" on  **CORE_VM_ENDPOINT** if my container user is non root? Any idea?","username":"vsadriano","ts":"2017-11-30T17:45:01.706Z"}
{"msg":"Ok. It's great! How can I use \"**unix:///host/var/run/docker.sock**\" on  **CORE_VM_ENDPOINT** if my container user is non root? Any idea?","username":"vsadriano","ts":"2017-11-30T17:45:01.706Z"}
{"msg":"Ok. It's great! How can I use \" **unix:///host/var/run/docker.sock** \" on  **CORE_VM_ENDPOINT** if my container user is non root? Any idea?","username":"vsadriano","ts":"2017-11-30T17:45:01.706Z"}
{"msg":"@vsadriano Working on kafka type","username":"Luke_Chen","ts":"2017-12-01T03:09:59.740Z"}
{"msg":"@vsadriano try to add the user to docker group","username":"Luke_Chen","ts":"2017-12-01T03:11:04.622Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xDmEoY3t9SYA6fmpp) @Luke_Chen  I don't like this approach (mapping docker.sock) but I'm searching for others. I'm  seeing the VM settings. Thanks a lot!","username":"vsadriano","ts":"2017-12-01T13:35:11.924Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xDmEoY3t9SYA6fmpp","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=xDmEoY3t9SYA6fmpp","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hello Friends,\nI am trying to setup hyperledger fabric on kuberneter using \nbut on running run.py.. my pods are not is the ready state and i get error\n*Mounting arguments: --description=Kubernetes transient mount for /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv --scope -- mount -t nfs 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1 /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv\nOutput: Running scope as unit run-19401.scope.\nmount.nfs: access denied by server while mounting 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1*\ni created the mount from one server and mounted it on all the server i can see the it properly mounted as well. i also ran\n` chown nobody:nobody /opt/share-srvr`\nunable to understand why this issue is coming\nKindly help \n","username":"Katiyman","ts":"2017-12-04T08:03:26.687Z"}
{"msg":"Hello Friends,\nI am trying to setup hyperledger fabric on kubernetes using \nbut on running run.py.. \nmy pods are not is the ready state\ni get error i all pods when i describe them\n*Mounting arguments: --description=Kubernetes transient mount for /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv --scope -- mount -t nfs 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1 /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv\nOutput: Running scope as unit run-19401.scope.\nmount.nfs: access denied by server while mounting 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1*\ni created the mount from one server and mounted it on all the server i can see the it properly mounted as well. i also ran\n` chown nobody:nobody /opt/share-srvr`\nunable to understand why this issue is coming\nKindly help \n","username":"Katiyman","ts":"2017-12-04T08:03:26.687Z"}
{"msg":"Hello Friends,\nI am trying to setup hyperledger fabric on kubernetes using \nbut on running run.py.. \nmy pods are not is the ready state\ni get error i all pods when i describe them\n*Mounting arguments: --description=Kubernetes transient mount for /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv --scope -- mount -t nfs 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1 /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv\nOutput: Running scope as unit run-19401.scope.\nmount.nfs: access denied by server while mounting 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1*\ni created the mount from one server and mounted it on all the server \ni can see them it properly mounted as well. \ni also ran\n` chown nobody:nobody /opt/share-srvr`(centos)\nunable to understand why this issue is coming\nKindly help \n","username":"Katiyman","ts":"2017-12-04T08:03:26.687Z"}
{"msg":"Hello Friends,\nI am trying to setup hyperledger fabric on kubernetes using \nbut on running run.py.. \nmy pods are not is the ready state\ni get error i all pods when i describe them\n*Mounting arguments: --description=Kubernetes transient mount for /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv --scope -- mount -t nfs 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1 /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv\nOutput: Running scope as unit run-19401.scope.\nmount.nfs: access denied by server while mounting 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1*\ni created the mount from one server and mounted it on all the server \ni can see them it properly mounted as well. \ni also ran\n` chown nobody:nobody /opt/share-srvr`(centos)\nunable to understand why this issue is coming\ni can see PV like \nkubectl get pv --all-namespaces\nNAMESPACE   NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS    CLAIM                        STORAGECLASS   REASON    AGE\n            org1-artifacts-pv   500Mi      RWX            Retain           Bound     org1/org1-artifacts-pv                                21m\n            org1-pv             500Mi      RWX            Retain           Bound     org1/org1-pv                                          21m\n            orgorderer1-pv      500Mi      RWX            Retain           Bound     orgorderer1/orgorderer1-pv                            21m\ni have only one org\nKindly help \n","username":"Katiyman","ts":"2017-12-04T08:03:26.687Z"}
{"msg":"Hello Friends,\nI am trying to setup hyperledger fabric on kubernetes using \nhttp://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-2/\nbut on running run.py.. \nmy pods are not is the ready state\ni get error i all pods when i describe them\n*Mounting arguments: --description=Kubernetes transient mount for /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv --scope -- mount -t nfs 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1 /var/lib/kubelet/pods/acdc1e23-d8c8-11e7-8b2d-d00d0d67dcb9/volumes/kubernetes.io~nfs/org1-pv\nOutput: Running scope as unit run-19401.scope.\nmount.nfs: access denied by server while mounting 10.157.145.187:/opt/share/crypto-config/peerOrganizations/org1*\ni created the mount from one server and mounted it on all the server \ni can see them it properly mounted as well. \ni also ran\n` chown nobody:nobody /opt/share-srvr`(centos)\nunable to understand why this issue is coming\ni can see PV like \nkubectl get pv --all-namespaces\nNAMESPACE   NAME                CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS    CLAIM                        STORAGECLASS   REASON    AGE\n            org1-artifacts-pv   500Mi      RWX            Retain           Bound     org1/org1-artifacts-pv                                21m\n            org1-pv             500Mi      RWX            Retain           Bound     org1/org1-pv                                          21m\n            orgorderer1-pv      500Mi      RWX            Retain           Bound     orgorderer1/orgorderer1-pv                            21m\ni have only one org\nKindly help \n","username":"Katiyman","ts":"2017-12-04T08:03:26.687Z"}
{"msg":"Has joined the channel.","username":"atian15","ts":"2017-12-04T08:48:53.303Z","type":"uj"}
{"msg":"@Katiyman  have you changed the ip address of NFS in your YAML files ?","username":"gentios","ts":"2017-12-04T10:03:43.150Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy) @gentios yes.. current i am reestablishing the NFS server even after tat if it doesnt work will get back","username":"Katiyman","ts":"2017-12-04T10:22:53.350Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy) @gentios After creating the NFS volume do i need to mount it on all the worker node before running the run.py, (i have made the required changes in the yaml file)","username":"Katiyman","ts":"2017-12-04T11:08:11.257Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy) @gentios After recreating the nfs volume i am not getting the mount issue. but getting below error\n  Normal   Scheduled               6m                 default-scheduler            Successfully assigned peer1-org1-65cb9b676d-m5ks5 to euca-10-254-113-59\n  Normal   SuccessfulMountVolume   6m                 kubelet, euca-10-254-113-59  MountVolume.SetUp succeeded for volume \"run\"\n  Normal   SuccessfulMountVolume   6m                 kubelet, euca-10-254-113-59  MountVolume.SetUp succeeded for volume \"org1-pv\"\n  Normal   SuccessfulMountVolume   6m                 kubelet, euca-10-254-113-59  MountVolume.SetUp succeeded for volume \"default-token-fd7zr\"\n  Warning  FailedCreatePodSandBox  6m (x5 over 6m)    kubelet, euca-10-254-113-59  Failed create pod sandbox.\n  Warning  DNSSearchForming        6m (x6 over 6m)    kubelet, euca-10-254-113-59  Search Line limits were exceeded, some dns names have been omitted, the applied search line is: org1.svc.cluster.local svc.cluster.local cluster.local emea.nsn-net.net china.nsn-net.net apac.nsn-net.net\n  Warning  FailedSync              6m (x6 over 6m)    kubelet, euca-10-254-113-59  Error syncing pod\n  Normal   SandboxChanged          1m (x107 over 6m)  kubelet, euca-10-254-113-59  Pod sandbox changed, it will be killed and re-created.\n","username":"Katiyman","ts":"2017-12-04T11:47:08.298Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9dYSoWQvdRHSFf9cy","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=PuQk8iNTTL9xahEBE) @gentios yes i have changed the ip addr in the cli and namespace yaml","username":"Katiyman","ts":"2017-12-05T04:56:05.739Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=PuQk8iNTTL9xahEBE","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=PuQk8iNTTL9xahEBE","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hello All\nbelow change \n\"--dns=10.0.0.10 --dns=192.168.0.1 --dns-search \\\ndefault.svc.cluster.local --dns-search \\\nsvc.cluster.local --dns-opt ndots:2 --dns-opt \\\ntimeout:2 --dns-opt attempts:2 \"\nis this supposed to be done in /etc/sysconfig/docker?","username":"Katiyman","ts":"2017-12-05T09:57:01.668Z"}
{"msg":"Hello All\nbelow change \n\"--dns=10.0.0.10 --dns=192.168.0.1 --dns-search \\\ndefault.svc.cluster.local --dns-search \\\nsvc.cluster.local --dns-opt ndots:2 --dns-opt \\\ntimeout:2 --dns-opt attempts:2 \"\nis this supposed to be done in /etc/sysconfig/docker?","username":"Katiyman","ts":"2017-12-05T09:57:01.668Z"}
{"msg":"Hello All\nin referece to \nhttp://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1/\n\nbelow change \n\n\"--dns=10.0.0.10 --dns=192.168.0.1 --dns-search \\\ndefault.svc.cluster.local --dns-search \\\nsvc.cluster.local --dns-opt ndots:2 --dns-opt \\\ntimeout:2 --dns-opt attempts:2 \"\nis this supposed to be done in /etc/sysconfig/docker?","username":"Katiyman","ts":"2017-12-05T09:57:01.668Z"}
{"msg":"Has joined the channel.","username":"lvdh","ts":"2017-12-05T13:42:09.307Z","type":"uj"}
{"msg":"@Luke_Chen there are a lot of environment variables such as ```$namespace, $org etc...","username":"gentios","ts":"2017-12-05T14:41:25.965Z"}
{"msg":"from where do they get the value","username":"gentios","ts":"2017-12-05T14:41:31.815Z"}
{"msg":"please check the transform/config.py script, that script will render templates base on the architeture of crypto-config.","username":"Luke_Chen","ts":"2017-12-05T15:09:12.581Z"}
{"msg":"thank you luke","username":"gentios","ts":"2017-12-05T15:10:45.791Z"}
{"msg":"@Katiyman we  added such docker options in /etc/default/docker, and I sure it will work in /etc/sysconfig/docker","username":"Luke_Chen","ts":"2017-12-05T15:13:25.868Z"}
{"msg":"Has joined the channel.","username":"samwood","ts":"2017-12-05T20:12:27.936Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yXtGSGS6yhKrGoLuw) @Luke_Chen Thanks Luke..\nbelow is the content of my docker config file \nOPTIONS='--selinux-enabled --log-driver=journald --signature-verification=false'\nif [ -z \"${DOCKER_CERT_PATH}\" ]; then\n    DOCKER_CERT_PATH=/etc/docker\nfi\n\n# Do not add registries in this file anymore. Use /etc/containers/registries.conf\n# from the atomic-registries package.\n#\n\n# docker-latest daemon can be used by starting the docker-latest unitfile.\n# To use docker-latest client, uncomment below lines\n#DOCKERBINARY=/usr/bin/docker-latest\n#DOCKERDBINARY=/usr/bin/dockerd-latest\n#DOCKER_CONTAINERD_BINARY=/usr/bin/docker-containerd-latest\n#DOCKER_CONTAINERD_SHIM_BINARY=/usr/bin/docker-containerd-shim-latest\n\nagainst which variable should i add tha config/","username":"Katiyman","ts":"2017-12-06T04:35:33.624Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yXtGSGS6yhKrGoLuw","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yXtGSGS6yhKrGoLuw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Try to add such config to OPTIONS and restart the docker service","username":"Luke_Chen","ts":"2017-12-06T04:54:14.383Z"}
{"msg":"@Katiyman ","username":"Luke_Chen","ts":"2017-12-06T04:54:27.916Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WxYWk5yTdGQcQXpCu) @Luke_Chen Thanks.. i put the value as \nOPTIONS='--selinux-enabled --log-driver=journald --signature-verification=false --dns=10.244.0.2 --dns=192.168.0.1 --dns-search default.svc.cluster.local --dns-search svc.cluster.local --dns-opt ndots:2 --dns-opt timeout:2 --dns-opt attempts:2'","username":"Katiyman","ts":"2017-12-06T07:25:10.062Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WxYWk5yTdGQcQXpCu","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WxYWk5yTdGQcQXpCu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has anyone encountered this problem?","username":"atian15","ts":"2017-12-06T09:38:00.396Z"}
{"msg":"2017-12-06 03:14:01.373 UTC [nodeCmd] createChaincodeServer -> WARN 03a peer.chaincodeListenAddress is not set, using peer0.org1-f-1:7052\n2017-12-06 03:14:01.374 UTC [eventhub_producer] start -> INFO 03b Event processor started\npanic: listen tcp 10.68.111.54:7052: bind: cannot assign requested address\n\ngoroutine 1 [running]:\ngithub.com/hyperledger/fabric/peer/node.createChaincodeServer(0xc4200e2c00, 0x1dd, 0x3a0, 0xc4200142b2, 0xe, 0x0, 0x0, 0x0)\n  /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:324 +0x52e\ngithub.com/hyperledger/fabric/peer/node.serve(0x16417e8, 0x0, 0x0, 0x0, 0x0)\n  /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:166 +0x84c\ngithub.com/hyperledger/fabric/peer/node.glob..func1(0x15c9e60, 0x16417e8, 0x0, 0x0, 0x0, 0x0)\n  /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:89 +0x3f\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x15c9e60, 0x16417e8, 0x0, 0x0, 0x15c9e60, 0x16417e8)\n  /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 +0x3e8\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x15ca4c0, 0xf, 0xc4200160f5, 0x7)\n  /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 +0x2fe\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x15ca4c0, 0x1b, 0xc4200160f5)\n  /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 +0x2b\nmain.main()\n  /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:114 +0x50b","username":"atian15","ts":"2017-12-06T09:38:06.536Z"}
{"msg":"@Luke_Chen it is used also couchdb as db, but I don't see any running pods or services ?","username":"gentios","ts":"2017-12-06T14:13:47.402Z"}
{"msg":"also I am trying to install the chaincode via ```peer chaincode install -n mycc -v 1.0 p github.com/hyperledger/fabric/peer/channel-artifacts/chaincode_example02","username":"gentios","ts":"2017-12-06T14:25:13.126Z"}
{"msg":"but it is saying ``` Error getting chaincode code chaincode: path to chaincode does not exist:","username":"gentios","ts":"2017-12-06T14:25:34.189Z"}
{"msg":"and the chaincode exists in /opt/share/channel-artifacts, and also in the cli in /channel-artifacts","username":"gentios","ts":"2017-12-06T14:26:04.947Z"}
{"msg":"@gentios coubchdb container is running in peer pod, it doesn't need any services because it only need to connect peer whithin same pod.","username":"Luke_Chen","ts":"2017-12-06T14:26:43.245Z"}
{"msg":"ok thanks for that @Luke_Chen ","username":"gentios","ts":"2017-12-06T14:27:39.935Z"}
{"msg":"Could show me output of `pwd` command in /channel-artifacts ","username":"Luke_Chen","ts":"2017-12-06T14:30:03.110Z"}
{"msg":"of cli container","username":"Luke_Chen","ts":"2017-12-06T14:30:16.291Z"}
{"msg":"@gentios ","username":"Luke_Chen","ts":"2017-12-06T14:30:33.438Z"}
{"msg":"```root@cli-594b5c4d54-7crnd:/opt/gopath/src/github.com/hyperledger/fabric/peer# pwd\n/opt/gopath/src/github.com/hyperledger/fabric/peer\nroot@cli-594b5c4d54-7crnd:/opt/gopath/src/github.com/hyperledger/fabric/peer#\n","username":"gentios","ts":"2017-12-06T14:31:13.168Z"}
{"msg":"```root@cli-594b5c4d54-7crnd:/opt/gopath/src/github.com/hyperledger/fabric/peer/channel-artifacts# pwd\n/opt/gopath/src/github.com/hyperledger/fabric/peer/channel-artifacts","username":"gentios","ts":"2017-12-06T14:31:31.373Z"}
{"msg":"```root@cli-594b5c4d54-7crnd:/opt/gopath/src/github.com/hyperledger/fabric/peer/channel-artifacts# ls\nOrg1MSPanchors.tx  Org2MSPanchors.tx  chaincode_example02.go  channel.tx  genesis.block  mychannel.block","username":"gentios","ts":"2017-12-06T14:31:55.901Z"}
{"msg":"I am using this command to install the chaincode ","username":"gentios","ts":"2017-12-06T14:32:40.247Z"}
{"msg":"```peer chaincode install -n mycc -v 1.0 -p github.com/hyperledger/fabric/peer/channel-artifacts/chaincode_example02","username":"gentios","ts":"2017-12-06T14:32:43.055Z"}
{"msg":"you need to create a chaincode_example02 dir under  channel-artifacts, and `mv` chaincode_example02.go to chaincode_example02 dir","username":"Luke_Chen","ts":"2017-12-06T14:33:14.095Z"}
{"msg":"ooo","username":"gentios","ts":"2017-12-06T14:33:21.783Z"}
{"msg":"sorry I missed that","username":"gentios","ts":"2017-12-06T14:33:33.943Z"}
{"msg":":S","username":"gentios","ts":"2017-12-06T14:33:34.870Z"}
{"msg":"@gentios haha not big deal ","username":"Luke_Chen","ts":"2017-12-06T14:34:49.390Z"}
{"msg":"@Luke_Chen  thanks","username":"gentios","ts":"2017-12-06T14:42:37.078Z"}
{"msg":"@gentios By the way, we are deploying fling v1.1 which will contain some new features like blockchain-explorer, kafka cluster and more flexiable way to define a fabric cluster, I will contact you once it was finished,  maybe you could help us to refine some documents :) ","username":"Luke_Chen","ts":"2017-12-06T14:43:26.774Z"}
{"msg":"@Luke_Chen ofcourse I would be happy to contribute","username":"gentios","ts":"2017-12-06T14:45:56.572Z"}
{"msg":"I can contribute and in code too","username":"gentios","ts":"2017-12-06T14:47:00.342Z"}
{"msg":"@gentios Ok, great ! ","username":"Luke_Chen","ts":"2017-12-06T14:49:27.911Z"}
{"msg":"in Ubuntu 16.04 where I would configure the ```\"--dns=10.80.71.37 --dns=192.168.0.1 --dns-search default.svc.cluster.local --dns-search svc.cluster.local --dns-opt ndots:2 --dns-opt timeout:2 --dns-opt attempts:2\"","username":"gentios","ts":"2017-12-07T14:28:12.722Z"}
{"msg":"firstly I tried with a daemon.json in ```/etc/docker/daemon.json","username":"gentios","ts":"2017-12-07T15:06:46.903Z"}
{"msg":"but that threw me some errors ","username":"gentios","ts":"2017-12-07T15:07:00.121Z"}
{"msg":"now I am trying with /etc/default/docker with DOCKER_OPTS","username":"gentios","ts":"2017-12-07T15:07:16.350Z"}
{"msg":"hope this works ","username":"gentios","ts":"2017-12-07T15:07:20.239Z"}
{"msg":"Has joined the channel.","username":"MohammadObaid","ts":"2017-12-07T15:27:42.377Z","type":"uj"}
{"msg":"I have seen multiple deplyoment options for fabric like deployment using ansible or with kubernetes.  In terms of production and longer term which one is best and preferable","username":"MohammadObaid","ts":"2017-12-07T15:32:54.407Z"}
{"msg":"I have seen multiple deplyoment options for fabric like deployment using ansible or with kubernetes or with swarm.  In terms of production and longer term which one is best and preferable","username":"MohammadObaid","ts":"2017-12-07T15:32:54.407Z"}
{"msg":"@MohammadObaid  kubernetes","username":"gentios","ts":"2017-12-07T15:40:38.654Z"}
{"msg":"@gentios I am following this tutorial to setup using kubernetes . http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-2/   . This article assumes that we already setup kubernetes between multiple hosts right ? Any other tutorial you would recommend me?","username":"MohammadObaid","ts":"2017-12-07T15:56:03.634Z"}
{"msg":"@MohammadObaid  If you need some articles to setup kubernetes, you better take a look of their website https://kubernetes.io/","username":"Luke_Chen","ts":"2017-12-08T01:37:51.879Z"}
{"msg":"@gentios After restarted the docker service, you can use command `ps -aux | grep docker` to check weather your config has been commited in docker daemon","username":"Luke_Chen","ts":"2017-12-08T01:41:37.693Z"}
{"msg":"@gentios After restart the docker service, you can use command `ps -aux | grep docker` to check wether your config has been commited in docker daemon","username":"Luke_Chen","ts":"2017-12-08T01:41:37.693Z"}
{"msg":"@gentios After restart the docker service, you can use command `ps -aux | grep docker` to check weather your config has been commited in docker daemon","username":"Luke_Chen","ts":"2017-12-08T01:41:37.693Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs) @gentios [ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs) @gentios  i put it in  /etc/sysconfig/docker for centos  with OPTIONS variable","username":"Katiyman","ts":"2017-12-08T04:39:41.619Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","remote":true,"fileId":null,"fileName":null},{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs) @gentios [ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs) @gentios  i put it in  /etc/sysconfig/docker for OPTIONS variable","username":"Katiyman","ts":"2017-12-08T04:39:41.619Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","remote":true,"fileId":null,"fileName":null},{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EfgvAzhHAJYqpzCAs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"JayJong","ts":"2017-12-08T11:13:30.569Z","type":"uj"}
{"msg":"@Katiyman  what about in ubuntu ?","username":"gentios","ts":"2017-12-08T13:47:01.910Z"}
{"msg":"@gentios Have you tried /etc/default/docker ?","username":"Luke_Chen","ts":"2017-12-08T15:33:11.168Z"}
{"msg":"Has joined the channel.","username":"alvaradojl","ts":"2017-12-10T12:23:00.191Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=TxJLJRGQcrXwJy49q) @gentios I have not tried on the ubuntu but as pointed by Luke it should be /etc/default/docker to DOCKER_OPTS var","username":"Katiyman","ts":"2017-12-11T03:57:45.375Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=TxJLJRGQcrXwJy49q","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=TxJLJRGQcrXwJy49q","remote":true,"fileId":null,"fileName":null}]}
{"msg":"exit","username":"gentios","ts":"2017-12-11T09:54:52.735Z"}
{"msg":"@Luke_Chen yes I have don that and I am getting timout expired","username":"gentios","ts":"2017-12-11T09:57:11.505Z"}
{"msg":"yes I have don that and I am getting timout expired","username":"gentios","ts":"2017-12-11T09:57:11.505Z"}
{"msg":"```Error: Error endorsing chaincode: rpc error: code = Unknown desc = Timeout expired while starting chaincode mycc:1.0(networkid:dev,peerid:peer0.org1,tx:8d5ec6bab50ba69a202944f3b802aa86b3d4db0a0dffcfaf6327b3444af6d917)","username":"gentios","ts":"2017-12-11T09:57:13.001Z"}
{"msg":"my ```DOCKER_OPTS=\"--dns=10.80.70.214 --dns=192.168.0.1 --dns-search default.svc.cluster.local --dns-search svc.cluster.local --dns-opt ndots:2 --dns-opt timeout:2 --dns-opt attempts:2 \"","username":"gentios","ts":"2017-12-11T09:58:10.503Z"}
{"msg":"and the kubedns","username":"gentios","ts":"2017-12-11T09:58:24.880Z"}
{"msg":"```KubeDNS is running at https://10.80.70.214:6443/api/v1/namespaces/kube-system/services/kube-dns/proxy\n","username":"gentios","ts":"2017-12-11T09:58:27.120Z"}
{"msg":"kc","username":"gentios","ts":"2017-12-11T09:59:40.690Z"}
{"msg":"I am testing if the flannel network is configured correctly","username":"gentios","ts":"2017-12-11T10:08:26.541Z"}
{"msg":"nope still no luck to deploy a chaincode","username":"gentios","ts":"2017-12-11T10:35:47.966Z"}
{"msg":"I will keep testing in why  this happens","username":"gentios","ts":"2017-12-11T10:35:58.887Z"}
{"msg":" the log in the container is ```2017-12-11 10:51:39.269 UTC [chaincode] Launch -> ERRO 411 launchAndWaitForRegister failed Timeout expired while starting chaincode mycc:1.0(networkid:dev,peerid:peer0.org1,tx:5ded7b093b18ad228fd80c036bdfc40917baabe88a2ce8e619ec25c89211c438)","username":"gentios","ts":"2017-12-11T10:53:01.615Z"}
{"msg":"@gentios chaincode container exit once it was created, did you meet this situation?","username":"Luke_Chen","ts":"2017-12-11T11:09:09.354Z"}
{"msg":"what's the output when you run `peer node status` in cli container","username":"Luke_Chen","ts":"2017-12-11T11:10:17.048Z"}
{"msg":"Hello one ques... the chain code docker container starts when i instantiate the chain code. and that is not managed by kubernetes. is there a way to bring it in kubernetes ","username":"Katiyman","ts":"2017-12-11T12:27:29.126Z"}
{"msg":"@Katiyman Good question ! No way so far","username":"Luke_Chen","ts":"2017-12-11T13:28:24.357Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zPyNmcjytGWMGCjTR) @gentios how are you finding the kube-dns ip addr?","username":"Katiyman","ts":"2017-12-12T04:28:55.295Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zPyNmcjytGWMGCjTR","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zPyNmcjytGWMGCjTR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"guolidong","ts":"2017-12-12T06:03:06.542Z","type":"uj"}
{"msg":"@Katiyman  ```kubectl cluster-info","username":"gentios","ts":"2017-12-12T07:27:20.647Z"}
{"msg":"did you managed to deploy a chaincode based on Luke tutorial ?","username":"gentios","ts":"2017-12-12T07:27:37.535Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Mqu3pWJH33BzSHHr8) @gentios Yes i did... i am not sure if there are other ways but the way i found the kube-dns pod is byt describing the kube-dns pod then using ip adddr that is coming.   \nkubectl describe po kube-dns-545bc4bfd4-d2bzv -n kube-system\nName:           kube-dns-545bc4bfd4-d2bzv\nNamespace:      kube-system\nNode:           euca-10-254-107-23.eucalyptus.internal/10.157.145.187\nStart Time:     Wed, 06 Dec 2017 09:12:32 +0200\nLabels:         k8s-app=kube-dns\n                pod-template-hash=1016706980\nAnnotations:    kubernetes.io/created-by={\"kind\":\"SerializedReference\",\"apiVersion\":\"v1\",\"reference\":{\"kind\":\"ReplicaSet\",\"namespace\":\"kube-system\",\"name\":\"kube-dns-545bc4bfd4\",\"uid\":\"f7a66398-da53-11e7-bc28-d00d0d67...\nStatus:         Running\nIP:             10.244.0.2\nCreated By:     ReplicaSet/kube-dns-545bc4bfd4\nControlled By:  ReplicaSet/kube-dns-545bc4bfd4\n ","username":"Katiyman","ts":"2017-12-12T08:03:17.764Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Mqu3pWJH33BzSHHr8","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Mqu3pWJH33BzSHHr8","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Katiyman  maybe you can achieve the same results and with this have to try it","username":"gentios","ts":"2017-12-12T08:08:43.995Z"}
{"msg":"anyway how did you create the kubernetes cluster","username":"gentios","ts":"2017-12-12T08:08:59.548Z"}
{"msg":"with what tool ?","username":"gentios","ts":"2017-12-12T08:09:02.281Z"}
{"msg":"because I did use the kubeadm and couldn't deploy a chaincode","username":"gentios","ts":"2017-12-12T08:09:42.202Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=E5HidpSPpXCnrNeDH) @gentios i also used kubeadm ","username":"Katiyman","ts":"2017-12-12T08:26:01.423Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=E5HidpSPpXCnrNeDH","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=E5HidpSPpXCnrNeDH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"hmm","username":"gentios","ts":"2017-12-12T08:26:20.034Z"}
{"msg":"Submitted a CR that will traverse symlinks for pem material, making it possible to use Kubernetes Secrets for the crypto material: https://gerrit.hyperledger.org/r/#/c/16133 Would be awesome to get some eyes on it. ","username":"ysim","ts":"2017-12-13T20:25:56.043Z"}
{"msg":"@ysim Good stuff, thanks! I know one guy who would love to see that accepted/merged https://medium.com/wearetheledger/a-first-attempt-at-hyperledger-fabric-kubernetes-66e43b12a211","username":"lvdh","ts":"2017-12-14T10:37:45.036Z"}
{"msg":"@ysim I would be extremely happy when that gets in. @lvdh I ran into the same problem yesterday. Didn't know that blog existed unfortunately.","username":"RobertDiebels","ts":"2017-12-14T10:49:00.422Z"}
{"msg":"Has joined the channel.","username":"vvnick","ts":"2017-12-14T11:09:33.355Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nitin6ul","ts":"2017-12-16T17:55:33.656Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zhishui","ts":"2017-12-19T08:11:00.588Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sravs","ts":"2017-12-20T06:16:04.012Z","type":"uj"}
{"msg":"Has joined the channel.","username":"luminance","ts":"2017-12-20T08:56:20.067Z","type":"uj"}
{"msg":"Hello \nI see below env variables exposed in all the containers .. how are there getting referenced...?","username":"Katiyman","ts":"2017-12-20T09:32:43.949Z"}
{"msg":"Hello \nI see below env variables exposed in all the containers .. how are there getting referenced...?\nPEER6_PORT_7051_TCP=tcp://10.111.56.13:7051\nPEER2_PORT=tcp://10.99.166.99:7051\nPEER6_SERVICE_PORT_CHAINCODE_LISTEN=7052\nPEER3_SERVICE_PORT=7051\nPEER2_SERVICE_HOST=10.99.166.99\nHOSTNAME=peer0-org1-58d9f4b5d9-sp7c6\nCA_PORT_7054_TCP_PROTO=tcp\nPEER5_PORT_7051_TCP_PROTO=tcp\nPEER3_PORT_7051_TCP_PORT=7051\nPEER1_SERVICE_PORT=7051\nPEER0_SERVICE_HOST=10.96.133.98\nKUBERNETES_PORT_443_TCP_PORT=443\nKUBERNETES_PORT=tcp://10.96.0.1:443\nPEER2_SERVICE_PORT=7051\nCORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/tls/ca.crt\nPEER6_SERVICE_PORT_EXTERNALE_LISTEN_ENDPOINT=7051\nPEER6_PORT_7051_TCP_PORT=7051\nPEER1_SERVICE_PORT_CHAINCODE_LISTEN=7052\nKUBERNETES_SERVICE_PORT=443\nPEER1_PORT_7051_TCP_ADDR=10.100.108.19\nCORE_PEER_TLS_KEY_FILE=/etc/hyperledger/fabric/tls/server.key\nPEER5_SERVICE_PORT_EXTERNALE_LISTEN_ENDPOINT=7051\nKUBERNETES_SERVICE_HOST=10.96.0.1\nPEER0_PORT_7052_TCP=tcp://10.96.133.98:7052\nPEER3_PORT_7051_TCP_PROTO=tcp\nPEER0_PORT=tcp://10.96.133.98:7051\nPEER2_PORT_7051_TCP_PORT=7051\nPEER0_PORT_7052_TCP_PORT=7052\nLS_COLORS=\nPEER5_PORT_7052_TCP_ADDR=10.98.185.31\nCA_PORT=tcp://10.101.141.34:7054\nPEER6_PORT_7051_TCP_PROTO=tcp\nPEER4_PORT_7051_TCP_PORT=7051\nPEER3_SERVICE_PORT_CHAINCODE_LISTEN=7052\nPEER2_PORT_7051_TCP=tcp://10.99.166.99:7051\nCORE_PEER_PROFILE_ENABLED=true\nCORE_PEER_GOSSIP_ORGLEADER=false\nPEER4_PORT_7052_TCP_ADDR=10.96.130.180\nPEER4_PORT_7051_TCP_PROTO=tcp\nCORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=localhost:5984\nPEER2_PORT_7052_TCP_ADDR=10.99.166.99\nPEER0_SERVICE_PORT_EXTERNALE_LISTEN_ENDPOINT=7051\nPEER4_SERVICE_PORT_CHAINCODE_LISTEN=7052\nPEER2_PORT_7051_TCP_PROTO=tcp\nPEER6_PORT_7052_TCP_PORT=7052\nCORE_PEER_LOCALMSPID=Org1MSP\nPEER1_PORT_7052_TCP=tcp://10.100.108.19:7052\nPEER1_SERVICE_PORT_EXTERNALE_LISTEN_ENDPOINT=7051\nPEER0_PORT_7051_TCP_PROTO=tcp\nPEER0_PORT_7052_TCP_ADDR=10.96.133.98\nCORE_VM_ENDPOINT=unix:///host/var/run/docker.sock\nPEER4_SERVICE_PORT_EXTERNALE_LISTEN_ENDPOINT=7051\nCA_PORT_7054_TCP_PORT=7054\nPEER6_PORT_7052_TCP=tcp://10.111.56.13:7052\nPEER5_PORT_7051_TCP_PORT=7051\nPEER1_PORT_7052_TCP_PROTO=tcp\nCORE_PEER_TLS_CERT_FILE=/etc/hyperledger/fabric/tls/server.crt\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nCA_SERVICE_PORT_ENDPOINT=7054\nPEER5_SERVICE_PORT_CHAINCODE_LISTEN=7052\nPEER5_SERVICE_HOST=10.98.185.31\nPEER5_PORT_7051_TCP=tcp://10.98.185.31:7051\nPEER1_PORT_7051_TCP_PORT=7051\nCA_PORT_7054_TCP=tcp://10.101.141.34:7054\nPWD=/opt/gopath/src/github.com/hyperledger/fabric/peer\nPEER5_SERVICE_PORT=7051\nPEER4_SERVICE_HOST=10.96.130.180\nPEER3_PORT_7052_TCP=tcp://10.105.216.216:7052\nPEER1_SERVICE_HOST=10.100.108.19\nPEER0_SERVICE_PORT_CHAINCODE_LISTEN=7052\nPEER3_PORT=tcp://10.105.216.216:7051\nPEER2_PORT_7052_TCP_PROTO=tcp\nPEER5_PORT=tcp://10.98.185.31:7051\nPEER2_SERVICE_PORT_EXTERNALE_LISTEN_ENDPOINT=7051\nCA_SERVICE_PORT=7054\nPEER0_PORT_7051_TCP_PORT=7051\nCORE_PEER_TLS_ENABLED=false\nPEER4_PORT_7052_TCP=tcp://10.96.130.180:7052\nPEER1_PORT=tcp://10.100.108.19:7051\nCA_SERVICE_HOST=10.101.141.34\nPEER3_PORT_7052_TCP_PORT=7052\nCORE_PEER_ID=peer0.org1\nSHLVL=1\nHOME=/root\nPEER3_PORT_7052_TCP_PROTO=tcp\nPEER4_PORT_7052_TCP_PORT=7052\nPEER0_PORT_7051_TCP=tcp://10.96.133.98:7051\nPEER4_SERVICE_PORT=7051\nPEER5_PORT_7052_TCP_PORT=7052\nKUBERNETES_PORT_443_TCP_PROTO=tcp\nKUBERNETES_SERVICE_PORT_HTTPS=443\nPEER6_PORT_7052_TCP_PROTO=tcp\nCORE_LOGGING_LEVEL=DEBUG\nPEER3_PORT_7051_TCP=tcp://10.105.216.216:7051\nCORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org1:7051\nFABRIC_CFG_PATH=/etc/hyperledger/fabric\nPEER0_SERVICE_PORT=7051\nPEER2_PORT_7051_TCP_ADDR=10.99.166.99\nPEER1_PORT_7052_TCP_PORT=7052\nPEER1_PORT_7051_TCP=tcp://10.100.108.19:7051\nPEER6_PORT_7052_TCP_ADDR=10.111.56.13\nPEER4_PORT_7051_TCP_ADDR=10.96.130.180\nPEER6_SERVICE_PORT=7051\nPEER5_PORT_7052_TCP=tcp://10.98.185.31:7052\nCORE_PEER_ADDRESS=peer0.org1:7051\nPEER4_PORT_7052_TCP_PROTO=tcp\nPEER1_PORT_7052_TCP_ADDR=10.100.108.19\nCA_PORT_7054_TCP_ADDR=10.101.141.34\nPEER5_PORT_7051_TCP_ADDR=10.98.185.31\nPEER5_PORT_7052_TCP_PROTO=tcp\nPEER3_SERVICE_HOST=10.105.216.216\nPEER0_PORT_7051_TCP_ADDR=10.96.133.98\nPEER1_PORT_7051_TCP_PROTO=tcp\nCORE_LEDGER_STATE_STATEDATABASE=CouchDB\nPEER4_PORT=tcp://10.96.130.180:7051\nPEER4_PORT_7051_TCP=tcp://10.96.130.180:7051\nPEER0_PORT_7052_TCP_PROTO=tcp\nKUBERNETES_PORT_443_TCP_ADDR=10.96.0.1\nCORE_PEER_GOSSIP_USELEADERELECTION=true\nPEER2_PORT_7052_TCP_PORT=7052\nPEER6_PORT=tcp://10.111.56.13:7051\nPEER3_PORT_7052_TCP_ADDR=10.105.216.216\nKUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443\nPEER3_PORT_7051_TCP_ADDR=10.105.216.216\nPEER2_SERVICE_PORT_CHAINCODE_LISTEN=7052\nPEER3_SERVICE_PORT_EXTERNALE_LISTEN_ENDPOINT=7051\nPEER6_PORT_7051_TCP_ADDR=10.111.56.13\nPEER6_SERVICE_HOST=10.111.56.13\nPEER2_PORT_7052_TCP=tcp://10.99.166.99:7052\n_=/usr/bin/printenv\n","username":"Katiyman","ts":"2017-12-20T09:32:43.949Z"}
{"msg":"Hey guys, has anyone deployed fabric on on-premises kubernetes? \nI have created the whole network (2 orgs + 1 orderer org), but when I create a chaincode (with composer), the container (with the chaincode) cannot connect to the kubernetes peer nodes. I have also setup dokcer host (that is the kubernetes worker node) with --dns and --dns-search that will match the kubernetes DNS service. Any idea how to bypass this issue? What should I set in the docker engine? Is there something else that I am missing?","username":"luminance","ts":"2017-12-20T09:52:12.414Z"}
{"msg":"Hey guys, has anyone deployed fabric on on-premises kubernetes? \nI have created the whole network (2 orgs + 1 orderer org), but when I create a chaincode (with composer), the container (with the chaincode) cannot connect to the kubernetes peer nodes. I have also setup dokcer host (that is the kubernetes worker node) with --dns and --dns-search that will match the kubernetes DNS service. Now when I start the network (with composer), the chaincode (dev-peer0.org1..........) containers are created. but it hits me with this error.\n```\n Starting business network definition. This may take a minute...(node:29194) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: The event hub has not been connected to the event source\n(node:29194) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:29194) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): Error: The event hub has not been connected to the event source\n Starting business network definition. This may take a minute...\nError: Error trying to instantiate composer runtime. Error: The event hub has not been connected to the event source\nCommand failed\n```\nAny idea how to bypass this issue? What should I set in the docker engine? Is there something else that I am missing?","username":"luminance","ts":"2017-12-20T09:52:12.414Z"}
{"msg":"@Katiyman The parameters are not relevant if you are not running any command from the containers itself. They are just ENV Variable holders, so when you run `peer create` or `peer join` you will already have the needed ENV VARs in the background and the commands are executed based on that.","username":"luminance","ts":"2017-12-20T09:58:16.935Z"}
{"msg":"Has joined the channel.","username":"Varun2887","ts":"2017-12-20T10:09:23.484Z","type":"uj"}
{"msg":"is fabric setup using kubernetes production ready?","username":"Varun2887","ts":"2017-12-20T10:09:43.523Z"}
{"msg":"Has joined the channel.","username":"prabvi01","ts":"2017-12-20T10:41:36.410Z","type":"uj"}
{"msg":"@Varun2887 Do you know any setup (repo) that is not production ready? Have you tried any?","username":"luminance","ts":"2017-12-20T11:19:44.671Z"}
{"msg":"i started on cellos but it says its not production ready","username":"Varun2887","ts":"2017-12-20T11:20:14.192Z"}
{"msg":"@Varun2887 I think it is far from ready. I have tried it also, but with no luck. Did you manage to instantiate a chaincode?","username":"luminance","ts":"2017-12-20T11:22:14.707Z"}
{"msg":"I stopped using it when i saw its not full fledge prod supported","username":"Varun2887","ts":"2017-12-20T11:22:54.846Z"}
{"msg":"what shall be the best way to use it, assuming we have to deploy it on prod as well","username":"Varun2887","ts":"2017-12-20T11:23:26.896Z"}
{"msg":"kubernetes setup works fine?","username":"Varun2887","ts":"2017-12-20T11:23:35.960Z"}
{"msg":"on multiple machine?","username":"Varun2887","ts":"2017-12-20T11:23:40.168Z"}
{"msg":"Has joined the channel.","username":"MR","ts":"2017-12-20T12:26:09.232Z","type":"uj"}
{"msg":"Hi everyone","username":"daygee","ts":"2017-12-20T13:38:56.445Z"}
{"msg":"so I have a 1 peer- 1 org network up on kubernetes","username":"daygee","ts":"2017-12-20T13:39:40.572Z"}
{"msg":"can create channel","username":"daygee","ts":"2017-12-20T13:39:49.749Z"}
{"msg":"join channel","username":"daygee","ts":"2017-12-20T13:39:53.171Z"}
{"msg":"install chaincode","username":"daygee","ts":"2017-12-20T13:39:58.081Z"}
{"msg":"but I can't instantiate chaincode","username":"daygee","ts":"2017-12-20T13:40:07.106Z"}
{"msg":"I believe the issue is in the way the peer tries to pull fabric-ccenv image from public docker repo","username":"daygee","ts":"2017-12-20T13:40:57.757Z"}
{"msg":"","username":"daygee","ts":"2017-12-20T13:41:40.398Z","attachments":[{"type":"file","title":"Clipboard - December 20, 2017 2:41 PM","title_link":"/file-upload/N49aJWYbcpjcxQdEG/Clipboard - December 20, 2017 2:41 PM","image_url":"/file-upload/N49aJWYbcpjcxQdEG/Clipboard - December 20, 2017 2:41 PM","image_type":"image/png","image_size":456203,"url":"/file-upload/N49aJWYbcpjcxQdEG/Clipboard - December 20, 2017 2:41 PM","remote":false,"fileId":"N49aJWYbcpjcxQdEG","fileName":"Clipboard - December 20, 2017 2:41 PM"}]}
{"msg":"I was thinking I can maybe find out how to configure the peer to pull the image from my company repo as trying to pull from an external repo always fails","username":"daygee","ts":"2017-12-20T13:43:05.486Z"}
{"msg":"@daygee That means that the dev-* containers are up and running and connected with to the peer?","username":"luminance","ts":"2017-12-20T13:48:40.913Z"}
{"msg":"the dev container never gets created","username":"daygee","ts":"2017-12-20T14:02:54.086Z"}
{"msg":"@daygee You need to setup the docker host Daemon config to refer to the Kubernetes DNS service IP address:\n```\nkubectl get svc --all-namespaces\nNAMESPACE     NAME                   TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)         AGE\ndefault       kubernetes             ClusterIP   10.96.0.1       <none>        443/TCP         5d\nkube-system   kube-dns               ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP   5d\nkube-system   kubernetes-dashboard   ClusterIP   10.99.197.193   <none>        443/TCP         1m\n```\n```\n{\n  \"dns\": [\"10.96.0.10\", \"10.96.0.1\", \"192.168.0.1\" ],\n  \"dns-search\": [\"default.svc.cluster.local\", \"svc.cluster.local\"],\n  \"dns-opt\": [\"ndots:2\", \"timeout:2\", \"attempts:2\"]\n}\n\n```\nAnd the, reload the reload the docker daemon. for the new config to take place and restart docker service:\n`systemctl daemon-reload` and `systemctl restart docker`","username":"luminance","ts":"2017-12-20T14:09:50.876Z"}
{"msg":"@daygee You need to setup the docker host Daemon config to refer to the Kubernetes DNS service IP address:\n```\nkubectl get svc --all-namespaces\nNAMESPACE     NAME                   TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)         AGE\ndefault       kubernetes             ClusterIP   10.96.0.1       <none>        443/TCP         5d\nkube-system   kube-dns               ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP   5d\n```\n```\n{\n  \"dns\": [\"10.96.0.10\", \"10.96.0.1\", \"192.168.0.1\" ],\n  \"dns-search\": [\"default.svc.cluster.local\", \"svc.cluster.local\"],\n  \"dns-opt\": [\"ndots:2\", \"timeout:2\", \"attempts:2\"]\n}\n\n```\nAnd the, reload the reload the docker daemon. for the new config to take place and restart docker service:\n`systemctl daemon-reload` and `systemctl restart docker`","username":"luminance","ts":"2017-12-20T14:09:50.876Z"}
{"msg":"@daygee BTW, I am stuck on the same issue. The container gets created, but it never connects to the kubernetes virtual network of the namespaces.","username":"luminance","ts":"2017-12-20T14:11:24.937Z"}
{"msg":"so docker points to kubernetes to deploy the containers?","username":"daygee","ts":"2017-12-20T14:15:12.566Z"}
{"msg":"@daygee Well, because the instantiating of a chaincode actually creates a new container on the Docker host, but that container is not connected to the Kubernetes network(namespace) in which your org/peer exists. So the only way is for the newly created container to communicate with the peer is to set-up the DNS.","username":"luminance","ts":"2017-12-20T14:20:22.562Z"}
{"msg":"okay, I understand","username":"daygee","ts":"2017-12-20T14:21:10.254Z"}
{"msg":"so when you set up the dns, [ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LaNZ9ht9YWAJEb3Me) @luminance this became your issue?","username":"daygee","ts":"2017-12-20T14:21:51.879Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LaNZ9ht9YWAJEb3Me","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LaNZ9ht9YWAJEb3Me","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@daygee Probably. I am not sure what is the issue actually. That is why I asked few question here and on #fabric channel, but with no avail.","username":"luminance","ts":"2017-12-20T14:27:32.186Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5xoqN4TtFAxYeycrd) @luminance [ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5xoqN4TtFAxYeycrd) @luminance Thanks for the reply.. but aren't these command to be executed from the cli container? if yes then i think these vars are not req in the peer containers","username":"Katiyman","ts":"2017-12-21T07:36:34.693Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5xoqN4TtFAxYeycrd","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5xoqN4TtFAxYeycrd","remote":true,"fileId":null,"fileName":null},{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5xoqN4TtFAxYeycrd","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5xoqN4TtFAxYeycrd","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Question regarding k8s setup. Is [this](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=t7DjfyzC9Eopu6cYo)  still valid (with fabric1.0.5) ?\nWhen setting those variables, i am hit with an error when trying to `composer runtime install`:\n```\n Installing runtime for business network musala-blockchain. This may take a minute...\nError: Error trying install composer runtime. Error: No valid responses from any peers.\nResponse from attempted peer comms was an error: Error: Failed to deserialize creator identity, err The supplied identity is not valid, Verify() returned x509: certificate signed by unknown authority (possibly because of \"x509: ECDSA verification failure\" while trying to verify candidate authority certificate \"ca.org1\")\nResponse from attempted peer comms was an error: Error: Failed to deserialize creator identity, err The supplied identity is not valid, Verify() returned x509: certificate signed by unknown authority (possibly because of \"x509: ECDSA verification failure\" while trying to verify candidate authority certificate \"ca.org1\")\n```","username":"luminance","ts":"2017-12-21T11:45:38.454Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=t7DjfyzC9Eopu6cYo","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=t7DjfyzC9Eopu6cYo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"misaelssantos","ts":"2017-12-21T17:53:42.290Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xeonpitar","ts":"2017-12-25T02:12:09.583Z","type":"uj"}
{"msg":"Has joined the channel.","username":"olufemiisrael","ts":"2017-12-28T07:30:14.879Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shanlusun","ts":"2017-12-29T02:19:53.014Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shenhiboy","ts":"2017-12-29T07:08:46.895Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Kaltrak","ts":"2017-12-29T12:52:31.780Z","type":"uj"}
{"msg":"Has joined the channel.","username":"marc0o","ts":"2017-12-30T19:27:34.174Z","type":"uj"}
{"msg":"Has joined the channel.","username":"elias_p","ts":"2018-01-02T22:57:56.994Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gurel","ts":"2018-01-03T17:43:37.136Z","type":"uj"}
{"msg":"Hello ","username":"daygee","ts":"2018-01-04T10:40:06.618Z"}
{"msg":"I've been thinking about the instantiation of chaincode","username":"daygee","ts":"2018-01-04T10:40:29.632Z"}
{"msg":"and how problematic it is","username":"daygee","ts":"2018-01-04T10:40:35.219Z"}
{"msg":"I was wondering, isn't it possible for the peer pod to create a ccenv pod in kubernetes, rather than create a docker container on the node","username":"daygee","ts":"2018-01-04T10:42:46.077Z"}
{"msg":"or at least make it an option","username":"daygee","ts":"2018-01-04T10:43:08.371Z"}
{"msg":"@daygee no such option so far, the only way to created a cc container is by docker daemon of the node rather than kubernetes api.","username":"Luke_Chen","ts":"2018-01-04T10:48:09.920Z"}
{"msg":"is there any potential that it will be a task to do?","username":"daygee","ts":"2018-01-04T10:49:02.032Z"}
{"msg":"I ask because it seems like too much work from a dev ops point of view to have to manage the kube-dns for each node","username":"daygee","ts":"2018-01-04T10:50:26.744Z"}
{"msg":"also, in the event a peer dies and is recreated in another node, because kubernetes doesn't know about the container, someone has to go shut it down in that node","username":"daygee","ts":"2018-01-04T10:51:19.404Z"}
{"msg":"and if the node the new peer has been created on will have to be configured","username":"daygee","ts":"2018-01-04T10:51:50.271Z"}
{"msg":"and then the node the new peer has been created on will have to be configured","username":"daygee","ts":"2018-01-04T10:51:50.271Z"}
{"msg":"whereas, kubernetes manages all this for you","username":"daygee","ts":"2018-01-04T10:54:02.423Z"}
{"msg":"Yes, I can't agree with you point any more,  which is a huge disadvantage for deploying Fabric on kubernetes so far.","username":"Luke_Chen","ts":"2018-01-04T11:01:32.469Z"}
{"msg":"meanwhile, I am sure it should be a good idea to add feature like supporting kubernetes in Fabric code, however I have not seen any process related to this job so far.","username":"Luke_Chen","ts":"2018-01-04T11:09:45.429Z"}
{"msg":"I'm actually looking at the instantiation code right now","username":"daygee","ts":"2018-01-04T11:17:17.559Z"}
{"msg":"want to see how it's working","username":"daygee","ts":"2018-01-04T11:17:29.042Z"}
{"msg":"User <em>User_1</em> added by <em>daygee</em>.","username":"daygee","ts":"2018-01-04T14:08:27.298Z","type":"au"}
{"msg":"https://developers.redhat.com/blog/2017/09/22/connecting-kubernetes-docker/","username":"daygee","ts":"2018-01-04T14:09:13.985Z"}
{"msg":"a work around","username":"daygee","ts":"2018-01-04T14:09:37.410Z"}
{"msg":"Has joined the channel.","username":"mbuccarello","ts":"2018-01-05T08:09:00.108Z","type":"uj"}
{"msg":"Hello people, I'm trying to setup fabric under kubernetes","username":"mbuccarello","ts":"2018-01-05T11:16:27.000Z"}
{"msg":"what are the best practices to follow in order tu setup fabric in  a simple enviroment ( 1 master - 2 worker ) ","username":"mbuccarello","ts":"2018-01-05T11:17:25.432Z"}
{"msg":"what are the best practices to follow in order to setup fabric in  a simple enviroment? ( 1 master - 2 worker ) ","username":"mbuccarello","ts":"2018-01-05T11:17:25.432Z"}
{"msg":"I read this think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1/ but I'm not sure if I'm right or not","username":"mbuccarello","ts":"2018-01-05T11:20:05.639Z"}
{"msg":"any kubernetes cluster is ok according to this guide","username":"grapebaba","ts":"2018-01-06T16:14:29.931Z"}
{"msg":"Has joined the channel.","username":"JOYELIN","ts":"2018-01-09T08:22:07.217Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Taffies","ts":"2018-01-09T08:31:32.859Z","type":"uj"}
{"msg":"Has joined the channel.","username":"KathyXu","ts":"2018-01-09T14:22:55.847Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mvaibhavshah","ts":"2018-01-10T05:35:27.537Z","type":"uj"}
{"msg":"Hello, I'm following Part 2 of the guide on deploying hyper ledger fabric on kubernetes. I tried to start my Fabric cluster but when I viewed my pods, they're all stuck in the state \"ContainerCreating\". Anyone experienced this before or has an idea what is going on?","username":"Taffies","ts":"2018-01-10T07:37:48.987Z"}
{"msg":"","username":"Taffies","ts":"2018-01-10T10:24:54.350Z","attachments":[{"type":"file","title":"Screen Shot 2018-01-10 at 6.23.23 PM.png","title_link":"/file-upload/xNBFuE2fwsnFHLgf8/Screen Shot 2018-01-10 at 6.23.23 PM.png","image_url":"/file-upload/xNBFuE2fwsnFHLgf8/Screen Shot 2018-01-10 at 6.23.23 PM.png","image_type":"image/png","image_size":202036,"url":"/file-upload/xNBFuE2fwsnFHLgf8/Screen Shot 2018-01-10 at 6.23.23 PM.png","remote":false,"fileId":"xNBFuE2fwsnFHLgf8","fileName":"Screen Shot 2018-01-10 at 6.23.23 PM.png"}]}
{"msg":"Has joined the channel.","username":"milliger","ts":"2018-01-11T14:23:02.343Z","type":"uj"}
{"msg":"@Taffies The log shows that it is timed out while trying to connect to your nfs, please check whether your nfs is working as intended.","username":"Luke_Chen","ts":"2018-01-12T03:18:36.841Z"}
{"msg":"Has joined the channel.","username":"ArnabChatterjee","ts":"2018-01-12T06:22:54.677Z","type":"uj"}
{"msg":"@Luke_Chen I'm not sure what happened, but I'm guessing I mounted something wrongly in my NFS that caused it to go haywire. Anyway, I started from scratch again and able to get the pods running now. :) Thank you!","username":"Taffies","ts":"2018-01-12T09:56:40.910Z"}
{"msg":"Has joined the channel.","username":"novusopt","ts":"2018-01-12T14:49:16.513Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kipharris","ts":"2018-01-12T17:23:12.806Z","type":"uj"}
{"msg":"Hello, all! I'm facing some chaincode problems when running Fabric on K8S with more than one peer:\nI'm starting a network with two orgs, each one with two peers (with their couchdb) and CA, and a solo orderer. I instantiate the chaincode using a peer from Org1 and when I query from Org2 I get:\n`Error: Error endorsing query: rpc error: code = Unknown desc = chaincode error (status: 500, message: {\"Error\":\"Nil amount for a\"}) - <nil>`","username":"joaquimpedrooliveira","ts":"2018-01-12T17:47:41.750Z"}
{"msg":"And after some time (e.g. 3 hours), without using the network, when I try to query, another error:\n`Error: Error endorsing query: rpc error: code = Unknown desc = could not find chaincode with name '12jan1' - make sure the chaincode 12jan1 has been successfully instantiated and try again - <nil>`","username":"joaquimpedrooliveira","ts":"2018-01-12T17:50:03.426Z"}
{"msg":"The commands are being executed on a `fabric-tools` container. When we run the peers using containers over VMs, outside K8S, it works.","username":"joaquimpedrooliveira","ts":"2018-01-12T17:50:59.893Z"}
{"msg":"Any tips?","username":"joaquimpedrooliveira","ts":"2018-01-12T17:51:07.432Z"}
{"msg":"Pods were not restarted","username":"joaquimpedrooliveira","ts":"2018-01-12T18:07:10.552Z"}
{"msg":"Has joined the channel.","username":"antoniovassell","ts":"2018-01-12T18:32:51.531Z","type":"uj"}
{"msg":"can you get responses when you run `peer node status` on fabric-tools container ?","username":"Luke_Chen","ts":"2018-01-13T03:39:44.784Z"}
{"msg":"@joaquimpedrooliveira ","username":"Luke_Chen","ts":"2018-01-13T03:39:51.767Z"}
{"msg":"could you query or invoke the chaincode after it was instantiated ?","username":"Luke_Chen","ts":"2018-01-13T03:41:47.595Z"}
{"msg":"@Luke_Chen , sorry for the delay. When I run `peer node status` the response is:\n```status:STARTED \n2018-01-15 14:08:30.240 UTC [main] main -> INFO 001 Exiting.....\n```\n","username":"joaquimpedrooliveira","ts":"2018-01-15T14:09:07.685Z"}
{"msg":"Has joined the channel.","username":"macsilber","ts":"2018-01-15T23:03:12.482Z","type":"uj"}
{"msg":"Has joined the channel.","username":"olrraju","ts":"2018-01-16T01:52:11.053Z","type":"uj"}
{"msg":"I'm running the kubernetes network on aws instances and it keeps crashing or stuck in container creating whenever I run the run.py file -- anyone faces similar problems? I did get it to work once as stated above ^ but other times it refuses to run even though I'm following the exact same steps","username":"Taffies","ts":"2018-01-16T08:26:21.630Z"}
{"msg":"if anyone is willing to help look into the problem please dm me, I can send you the exact steps I did to recreate the problem :) thank you!","username":"Taffies","ts":"2018-01-16T08:28:01.536Z"}
{"msg":"@joaquimpedrooliveira  can you find the chaincode container on worker node after the chaincode was instantiated ?","username":"Luke_Chen","ts":"2018-01-16T11:07:17.672Z"}
{"msg":"@Luke_Chen , actually we don't have direct access to nodes due to company policies. I'll ask the team responsible for maintaining the nodes. What's your hypotesis?","username":"joaquimpedrooliveira","ts":"2018-01-16T14:52:49.581Z"}
{"msg":"@Luke_Chen , actually we don't have direct access to nodes due to company policies. I'll ask the team responsible for maintaining the nodes. What's your hypothesis?","username":"joaquimpedrooliveira","ts":"2018-01-16T14:52:49.581Z"}
{"msg":"Because chaincode container will be created by docker daemon of worker node directly, which is not maintained by kubernetes. ","username":"Luke_Chen","ts":"2018-01-16T15:02:28.071Z"}
{"msg":"make sure your worker nodes have add kube-dns in their DOCKER_OPTS","username":"Luke_Chen","ts":"2018-01-16T15:03:49.781Z"}
{"msg":"I think you chaincode wasn't instantiated correctly.","username":"Luke_Chen","ts":"2018-01-16T15:07:30.114Z"}
{"msg":"I think the reason that your chaincode wasn't instantiated correctly is the chaincode container failed to start.","username":"Luke_Chen","ts":"2018-01-16T15:07:30.114Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=fbpMMG5Pii4zfCbv2) @Luke_Chen I didn't know about this. The settings I made in order to run on kubernetes were the env variables:\n```        - name: CORE_VM_DOCKER_ATTACHSTDOUT\n          value: \"true\"\n        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"true\"\n        - name: CORE_PEER_TLS_SERVERHOSTOVERRIDE\n          value: \"org-peer1\"\n``` ","username":"joaquimpedrooliveira","ts":"2018-01-16T16:20:12.189Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=fbpMMG5Pii4zfCbv2","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=fbpMMG5Pii4zfCbv2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I'll check this detail with k8s infra team","username":"joaquimpedrooliveira","ts":"2018-01-16T16:20:45.268Z"}
{"msg":"Thank you very much for your help!","username":"joaquimpedrooliveira","ts":"2018-01-16T16:21:26.135Z"}
{"msg":"Has joined the channel.","username":"ublubu","ts":"2018-01-16T20:20:25.347Z","type":"uj"}
{"msg":"Has joined the channel.","username":"wlan0","ts":"2018-01-17T02:44:34.351Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DarrenRatcliffe","ts":"2018-01-17T12:59:05.699Z","type":"uj"}
{"msg":"@Luke_Chen I have a question concerning the code you published for BAAS. I took your code and rewrote it to javascript. Would you be willing to assist with any problems I encounter?","username":"RobertDiebels","ts":"2018-01-17T14:58:48.431Z"}
{"msg":"My aim with the re-write is to do the following:\n- Do not require an NFS-server (Done)\n  - I fixed this by using ConfigMaps and secrets.\n- Fix fabric sym-link issue (Done)\n  - I wrote a general purpose initContainer which simply copies the any Volume mounted to a path X to path Y. In this case it copies the data from the ConfigMaps/Secrets into a PersitentVolume. This is a work-around until the issue with sym-links is fixed.\n- Get all of this working in MiniKube (Semi-Done)\n  - So far I have PeerOrganizations working. I still need to get OrdererOrganizations functioning but I expect to finish this by the end of the week.\n- Get Chaincode running in the cluster (TODO)\n  - I still need to do this and I expect I will need some help with it. As I've heard that Fabric does some funky things with creating a Docker container for the Chaincode. I read this requires DNS settings, unfortunately I'm not familiar witht his. So I will probably need your help with that.","username":"RobertDiebels","ts":"2018-01-17T15:07:28.455Z"}
{"msg":"My aim with the re-write is to do the following:\n- Do not require an NFS-server (Done)\n  - I fixed this by using ConfigMaps and secrets.\n- Fix fabric sym-link issue (Done)\n -- I wrote a general purpose initContainer which simply copies the any Volume mounted to a path X to path Y. In this case it copies the data from the ConfigMaps/Secrets into a PersitentVolume. This is a work-around until the issue with sym-links is fixed.\n- Get all of this working in MiniKube (Semi-Done)\n -- So far I have PeerOrganizations working. I still need to get OrdererOrganizations functioning but I expect to finish this by the end of the week.\n- Get Chaincode running in the cluster (TODO)\n -- I still need to do this and I expect I will need some help with it. As I've heard that Fabric does some funky things with creating a Docker container for the Chaincode. I read this requires DNS settings, unfortunately I'm not familiar witht his. So I will probably need your help with that.","username":"RobertDiebels","ts":"2018-01-17T15:07:28.455Z"}
{"msg":"My aim with the re-write is to do the following:\n- Do not require an NFS-server (Done)\n  - I fixed this by using ConfigMaps and secrets.\n- Fix fabric sym-link issue (Done)\n -- I wrote a general purpose initContainer which simply copies the any Volume mounted to a path X to path Y. In this case it copies the data from the ConfigMaps/Secrets into a PersitentVolume. This is a work-around until the issue with sym-links is fixed.\n- Get all of this working in MiniKube (Semi-Done)\n -- So far I have PeerOrganizations working. I still need to get OrdererOrganizations functioning but I expect to finish this by the end of the week.\n- Get Chaincode running in the cluster (TODO)\n -- I still need to do this and I expect I will need some help with it. As I've heard that Fabric does some funky things with creating a Docker container for the Chaincode. I read this requires DNS settings, unfortunately I'm not familiar witht his. So I will probably need your help with that.","username":"RobertDiebels","ts":"2018-01-17T15:07:28.455Z"}
{"msg":"My aim with the re-write is to do the following:\n- Do not require an NFS-server (Done)\n-- I fixed this by using ConfigMaps and secrets.\n- Fix fabric sym-link issue (Done)\n -- I wrote a general purpose initContainer which simply copies the any Volume mounted to a path X to path Y. In this case it copies the data from the ConfigMaps/Secrets into a PersitentVolume. This is a work-around until the issue with sym-links is fixed.\n- Get all of this working in MiniKube (Semi-Done)\n -- So far I have PeerOrganizations working. I still need to get OrdererOrganizations functioning but I expect to finish this by the end of the week.\n- Get Chaincode running in the cluster (TODO)\n -- I still need to do this and I expect I will need some help with it. As I've heard that Fabric does some funky things with creating a Docker container for the Chaincode. I read this requires DNS settings, unfortunately I'm not familiar witht his. So I will probably need your help with that.","username":"RobertDiebels","ts":"2018-01-17T15:07:28.455Z"}
{"msg":"My aim with the re-write is to do the following:\n- Do not require an NFS-server (Done)\n-- I fixed this by using ConfigMaps and secrets.\n- Fix fabric sym-link issue (Done)\n -- I wrote a general purpose initContainer which simply copies the any Volume mounted to a path X to path Y. In this case it copies the data from the ConfigMaps/Secrets into a PersitentVolume. This is a work-around until the issue with sym-links is fixed. See [this docker hub repo](https://hub.docker.com/r/robertdiebels/funnel/)\n- Get all of this working in MiniKube (Semi-Done)\n -- So far I have PeerOrganizations working. I still need to get OrdererOrganizations functioning but I expect to finish this by the end of the week.\n- Get Chaincode running in the cluster (TODO)\n -- I still need to do this and I expect I will need some help with it. As I've heard that Fabric does some funky things with creating a Docker container for the Chaincode. I read this requires DNS settings, unfortunately I'm not familiar witht his. So I will probably need your help with that.","username":"RobertDiebels","ts":"2018-01-17T15:07:28.455Z"}
{"msg":"My aim with the re-write is to do the following:\n- Do not require an NFS-server (Done)\n-- I fixed this by using ConfigMaps and secrets.\n- Fix fabric sym-link issue (Done)\n -- I wrote a general purpose initContainer which simply copies the any Volume mounted to a path X to path Y. In this case it copies the data from the ConfigMaps/Secrets into a PersistentVolume. This is a work-around until the issue with sym-links is fixed. See [this docker hub repo](https://hub.docker.com/r/robertdiebels/funnel/)\n- Get all of this working in MiniKube (Semi-Done)\n -- So far I have PeerOrganizations working. I still need to get OrdererOrganizations functioning but I expect to finish this by the end of the week.\n- Get Chaincode running in the cluster (TODO)\n -- I still need to do this and I expect I will need some help with it. As I've heard that Fabric does some funky things with creating a Docker container for the Chaincode. I read this requires DNS settings, unfortunately I'm not familiar witht his. So I will probably need your help with that.","username":"RobertDiebels","ts":"2018-01-17T15:07:28.455Z"}
{"msg":"I don't want to publish my code yet until I've gotten the prototype functioning properly. After that I will clean up the code and publish.","username":"RobertDiebels","ts":"2018-01-17T15:18:19.570Z"}
{"msg":"@RobertDiebels Sure, just ping me if you have any problem about networking of chaincode container.","username":"Luke_Chen","ts":"2018-01-17T15:58:07.173Z"}
{"msg":"Super thanks :D :thumbsup: ","username":"RobertDiebels","ts":"2018-01-17T17:30:18.215Z"}
{"msg":"Has joined the channel.","username":"Devender_Singh","ts":"2018-01-18T05:18:45.810Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Manish.Sharma","ts":"2018-01-18T09:16:06.024Z","type":"uj"}
{"msg":"Hi! I'm having trouble with the very last part of the tutorial with the instantiation of the chaincode. I've added the kube-dns into the docker opts before installing my chaincode.. The installation was successful but there doesn't seem to be any docker container created for the chaincode if it is supposed to be any as well.. ","username":"JayJong","ts":"2018-01-18T10:15:53.769Z"}
{"msg":"Error: Error endorsing chaincode: rpc error: code = Unknown desc = Failed to deserialize creator identity, err MSP Org1MSP is unknown","username":"JayJong","ts":"2018-01-18T10:16:10.161Z"}
{"msg":"Hello All\nI raised one issue regarding creation of channel in HLF deployed on kubernetest with custom cryptographic material for MSP\nhttps://stackoverflow.com/questions/48318696/error-while-creating-channel-in-hyperledger-fabric\nKindly help","username":"Katiyman","ts":"2018-01-18T10:57:21.416Z"}
{"msg":"@JayJong It seems you didn't join peers into any channel","username":"Luke_Chen","ts":"2018-01-18T12:05:10.386Z"}
{"msg":"chaincode container will be created after run `peer chaincode instantiate` conmmand","username":"Luke_Chen","ts":"2018-01-18T12:06:54.013Z"}
{"msg":"can you please provide me the link whereby I can find the links to install hyperledger composer, tools , fabric etc in kubernetes?","username":"mvaibhavshah","ts":"2018-01-18T13:59:01.895Z"}
{"msg":"I have installed kubernetes on ubuntu and made it master...now want to install hyperledger components","username":"mvaibhavshah","ts":"2018-01-18T13:59:29.908Z"}
{"msg":"@mvaibhavshah https://labs.vmware.com/flings/blockchain-on-vsphere might be useful.","username":"RobertDiebels","ts":"2018-01-18T14:11:53.973Z"}
{"msg":"Has joined the channel.","username":"mrtrantuan","ts":"2018-01-18T15:04:55.590Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kenmazsyma","ts":"2018-01-19T01:53:38.921Z","type":"uj"}
{"msg":"@Luke_Chen ok i managed to get it working, thanks!","username":"JayJong","ts":"2018-01-19T03:37:32.340Z"}
{"msg":"Hello All\nI raised one issue regarding creation of channel in HLF deployed on kubernetest with custom cryptographic material for MSP\nhttps://stackoverflow.com/questions/48318696/error-while-creating-channel-in-hyperledger-fabric\nKindly help","username":"Katiyman","ts":"2018-01-19T06:09:40.965Z"}
{"msg":"Has joined the channel.","username":"cotofei","ts":"2018-01-19T06:32:38.707Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vanitas92","ts":"2018-01-19T10:55:59.236Z","type":"uj"}
{"msg":"Hi guys do you know if there is any plans on supporting kubernetes for the chaincode instantiation? Its a massive con in our organization as they were extremely interested in implementing hyperledger in kubernetes.","username":"vanitas92","ts":"2018-01-19T10:58:30.128Z"}
{"msg":"@vanitas92 , I think some work related to this is being done in https://jira.hyperledger.org/browse/FAB-7406","username":"joaquimpedrooliveira","ts":"2018-01-19T13:44:46.828Z"}
{"msg":"Has joined the channel.","username":"Brucepark","ts":"2018-01-20T06:15:04.437Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tupt","ts":"2018-01-22T03:22:55.082Z","type":"uj"}
{"msg":"Hi all, I am setting up hyperledger fabric with kubernetes using minikube as worker node, but though after changing docker dns seems chaincode container can not be deployed, my docker config file is {\n  \"dns\" : [\n    \"10.96.0.10\",\n    \"192.168.99.100\"\n  ],\n  \"dns-search\" : [\n    \"org1-f-1.svc.cluster.local\",\n    \"org2-f-1.svc.cluster.local\",\n    \"orgorderer-f-1.svc.cluster.local\",\n    \"default.svc.cluster.local\",\n    \"svc.cluster.local\"\n  ]\n}","username":"tupt","ts":"2018-01-22T04:38:11.494Z"}
{"msg":"Hello! If I understand correctly, communications between the worker nodes and the master node on the kubernetes network are done through the API server, so basically the master node sort of controls all the activity going on in the network? But if I want to send up my kubernetes network on multiple worker nodes (e.g. one VM for each organization), would it be possible to invoke a transaction through the worker nodes themselves, or do I need to go through the master node no matter what?","username":"Taffies","ts":"2018-01-23T05:52:14.025Z"}
{"msg":"Has joined the channel.","username":"Glen","ts":"2018-01-23T07:06:33.459Z","type":"uj"}
{"msg":"Have anyone tried setup hyperledger fabric with minikube on local one successfully?","username":"tupt","ts":"2018-01-23T07:45:21.844Z"}
{"msg":"Hello! If I understand correctly, all communication between the master & worker node is done via the apiserver & kubelet. Right now, I'm invoking transactions from within the CLI pod of each org from my master node. However, I want to set up my network such that there is one master node and one worker node for the pods of each organization that I'm creating, and be able to invoke transactions from outside the master node, specifically from a webapp.\n\nI've got a few questions regarding this:\n1. Do you all have have any suggestions on the best way to go about doing this? (I've tried to find tutorials on how to invoke externally but many of the pages doesn't really go in-depth into this topic)\n2. My current set-up is based on the fact that I want each org to be able to own their own node.. Kinda like decentralising the network & for redundancy purposes? Do you think this is a good idea, or is it redundant?\n3. In Kubernetes, if all requests go through the APIserver on the master node.. doesn't it make the entire network centralised?\n\nPS: Relatively new to all of this so I'm dealing with quite a lot of confusion on my part. Sorry if I've got any concepts wrong! :P","username":"Taffies","ts":"2018-01-23T08:45:05.507Z"}
{"msg":"Has joined the channel.","username":"C0rWin","ts":"2018-01-23T14:22:45.293Z","type":"uj"}
{"msg":"Has joined the channel.","username":"julian","ts":"2018-01-23T17:31:05.702Z","type":"uj"}
{"msg":"for invoking transactions from external, you should define a nodePort type service for pods, mapping ports of pod to ports of node(worker)","username":"Luke_Chen","ts":"2018-01-24T02:37:41.764Z"}
{"msg":"and then access service that running in pod by address worker_ip:port","username":"Luke_Chen","ts":"2018-01-24T02:39:06.195Z"}
{"msg":"due to the network proxy of kubenetes, you can use any node_ip as worker_ip in your cluster.","username":"Luke_Chen","ts":"2018-01-24T02:42:37.171Z"}
{"msg":"node_ip = ip of node :)","username":"Luke_Chen","ts":"2018-01-24T02:43:00.215Z"}
{"msg":"meanwhile, I don't think kubenetes can do this, it schedules pods according to load balance `2. My current set-up is based on the fact that I want each org to be able to own their own node.. Kinda like decentralising the network & for redundancy purposes? Do you think this is a good idea, or is it redundant? `","username":"Luke_Chen","ts":"2018-01-24T02:46:52.246Z"}
{"msg":"meanwhile, I don't think kubenetes can do this, it schedules pods according to load balance `2. My current set-up is based on the fact that I want each org to be able to own their own node.. Kinda like decentralising the network & for redundancy purposes? Do you think this is a good idea, or is it redundant? `\n","username":"Luke_Chen","ts":"2018-01-24T02:46:52.246Z"}
{"msg":"meanwhile, I don't think kubenetes can do this, it schedules pods according to load balance  \n`2. My current set-up is based on the fact that I want each org to be able to own their own node.. Kinda like decentralising the network & for redundancy purposes? Do you think this is a good idea, or is it redundant? `\n","username":"Luke_Chen","ts":"2018-01-24T02:46:52.246Z"}
{"msg":"meanwhile, I don't think it is a good idea, kubernetes schedule pods according to load balance, better not break this balance\n`2. My current set-up is based on the fact that I want each org to be able to own their own node.. Kinda like decentralising the network & for redundancy purposes? Do you think this is a good idea, or is it redundant? `\n","username":"Luke_Chen","ts":"2018-01-24T02:46:52.246Z"}
{"msg":"can we use custom dns to setup chaincode instantiation for hyperledger?","username":"tupt","ts":"2018-01-24T03:29:37.493Z"}
{"msg":"http://blog.kubernetes.io/2017/04/configuring-private-dns-zones-upstream-nameservers-kubernetes.html","username":"tupt","ts":"2018-01-24T03:31:27.175Z"}
{"msg":"@Luke_Chen Ok thanks so much! I'll play around with the nodePort type service and see if I can externally invoke it successfully. One quick clarification - in the tutorial, it states that the port of the ordererN is defined as 33700 + N, but it's defined as 32000 + N in the config files. Is this a typo?","username":"Taffies","ts":"2018-01-24T04:45:10.641Z"}
{"msg":"yes~ sorry for that","username":"Luke_Chen","ts":"2018-01-24T04:45:38.764Z"}
{"msg":"Ok thanks for the clarification! And thank you for your input about the scheduling of pods :)","username":"Taffies","ts":"2018-01-24T04:50:41.463Z"}
{"msg":"@Luke_Chen Ok thanks for the clarification! And thank you for your input about the scheduling of pods ","username":"Taffies","ts":"2018-01-24T04:51:08.310Z"}
{"msg":"HI \nrequesting if someone can help me with below issue\nhttps://stackoverflow.com/questions/48318696/error-while-creating-channel-in-hyperledger-fabric","username":"Katiyman","ts":"2018-01-24T06:42:11.230Z"}
{"msg":"@Katiyman I am interesting in your issue, but have no idea so far.","username":"Luke_Chen","ts":"2018-01-24T08:12:14.396Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ) @Luke_Chen I removed the custom(3rd party) certificates","username":"Katiyman","ts":"2018-01-24T08:15:00.786Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ) @Luke_Chen I removed the custom(3rd party) certificates.  but still getting issue","username":"Katiyman","ts":"2018-01-24T08:15:00.786Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ) @Luke_Chen I removed the custom(3rd party) certificates.And used cryptogen for cerificates.  but still getting issue.","username":"Katiyman","ts":"2018-01-24T08:15:00.786Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6qo2NWMye3vn2nRfZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Have you try to redeploy the clusters?","username":"Luke_Chen","ts":"2018-01-24T13:36:27.845Z"}
{"msg":"Which version of Fabric docker images you are using?","username":"Luke_Chen","ts":"2018-01-24T13:37:30.235Z"}
{"msg":"Which version of Fabric docker images are you using?","username":"Luke_Chen","ts":"2018-01-24T13:37:30.235Z"}
{"msg":"@Katiyman Which version of Fabric docker images are you using?","username":"Luke_Chen","ts":"2018-01-24T13:37:30.235Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ngtGnu42LxAYKz5px) @tupt I have done so successfully.","username":"RobertDiebels","ts":"2018-01-24T13:48:18.648Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ngtGnu42LxAYKz5px","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ngtGnu42LxAYKz5px","remote":true,"fileId":null,"fileName":null}]}
{"msg":"can you help me","username":"tupt","ts":"2018-01-24T15:35:35.342Z"}
{"msg":"I am stuck at instantiating chaincode step @RobertDiebels ","username":"tupt","ts":"2018-01-24T15:35:51.376Z"}
{"msg":"Has joined the channel.","username":"indira.kalagara","ts":"2018-01-25T06:44:03.297Z","type":"uj"}
{"msg":"https://hackernoon.com/how-to-deploy-hyperledger-fabric-on-kubernetes-1-a2ceb3ada078 how to set --dns","username":"tupt","ts":"2018-01-25T09:27:45.280Z"}
{"msg":"@tupt I haven't fiddled with the DNS step nor am I doing anything with NFS. I'm creating a setup so that you don't have to touch the DNS anymore. So I wouldn't know how to handle the DNS.","username":"RobertDiebels","ts":"2018-01-25T10:07:34.249Z"}
{"msg":"@RobertDiebels how are you going about doing that? [ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AtGGgg4BRphqRuXxz) @RobertDiebels ","username":"antoniovassell","ts":"2018-01-25T19:52:44.554Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AtGGgg4BRphqRuXxz","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AtGGgg4BRphqRuXxz","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Luke_Chen Hi, in the file fabric_1_0_template_pod_cli.yaml, is there a reason why u put value of CORE_PEER_TLS_ENABLED as false? and why are the following env variables(CORE_PEER_TLS_CERT_FILE, CORE_PEER_TLS_KEY_FILE, CORE_PEER_TLS_ROOTCERT_FILE) commented out? ","username":"JayJong","ts":"2018-01-26T08:24:42.986Z"}
{"msg":"Has joined the channel.","username":"niyuelin","ts":"2018-01-26T08:50:28.556Z","type":"uj"}
{"msg":"@JayJong We have not tested enabled tls yet, to avoid unpredictable behaviour we commented those variables out.","username":"Luke_Chen","ts":"2018-01-26T14:06:43.383Z"}
{"msg":"@JayJong We have not tested enabled tls yet, we commented those variables out to avoid unpredictable behaviour .","username":"Luke_Chen","ts":"2018-01-26T14:06:43.383Z"}
{"msg":"@antoniovassell I followed a lot of the work by @Luke_Chen . With some minor exceptions. First, I've build some code to transform an Organizations' directory into ConfigMaps and Secrets (where applicable). Second, I'm also creating a bit of code which will generate a Job to: 1. create a Channel, 2. Join x amount of peers to said channel 3. Install chaincode on those peers. 4. (this is the dirty part) listen to the hostPaths unix socket for docker then a. If an image is created via the docker socket, pick up on that and push the image to a repository y. 5. Then launch a deployment which uses that image to run a container. ","username":"RobertDiebels","ts":"2018-01-26T20:21:42.315Z"}
{"msg":"Now this is just the theory of course. I'm bound to bump into some roadblocks. I'm about to test steps 1 through 3 to see if that works.","username":"RobertDiebels","ts":"2018-01-26T20:23:15.097Z"}
{"msg":"I want to release a pre-alpha soon. So people can have a go at it. So far I've only tested on Minikube. But I'm working on some ideas so that users can define custom targets for the cluster.","username":"RobertDiebels","ts":"2018-01-26T20:24:16.072Z"}
{"msg":"I did it using kubernetes api, first instantiate with 1 second timeout to make sure image created, then redo it while peer is waiting for container to connect, then it worked","username":"tupt","ts":"2018-01-27T07:55:32.552Z"}
{"msg":"@tupt Yes but that would require user intiated interaction right? I'm writing some code to do this instead of the user.","username":"RobertDiebels","ts":"2018-01-27T09:26:24.926Z"}
{"msg":"very nice, it is automation using kubeapi, I used api pod with node sdk to do that","username":"tupt","ts":"2018-01-27T13:47:56.797Z"}
{"msg":"@tupt any chance you could post that code somewhere?","username":"RobertDiebels","ts":"2018-01-27T19:29:30.197Z"}
{"msg":"","username":"tupt","ts":"2018-01-28T02:00:50.141Z","attachments":[{"type":"file","title":"done.png","title_link":"/file-upload/iySbJMhxHWPGJLqK3/done.png","image_url":"/file-upload/iySbJMhxHWPGJLqK3/done.png","image_type":"image/png","image_size":333493,"url":"/file-upload/iySbJMhxHWPGJLqK3/done.png","remote":false,"fileId":"iySbJMhxHWPGJLqK3","fileName":"done.png"}]}
{"msg":"kubectl run chaincode  --image=$(docker images --format \"{{.ID}} {{.Name}}\" | grep chaincode.version | awk '{print $1}') && kubectl exec -it chaincode -- CORE_CHAINCODE_ID_NAME=mycc:1 --peer.address=peer0.org1:7051","username":"tupt","ts":"2018-01-28T02:05:36.004Z"}
{"msg":"but my suggestion is using kube-api inside fabric-client sdk to do that","username":"tupt","ts":"2018-01-28T02:06:08.010Z"}
{"msg":"sendInstantiateProposal => kube-api create pod from image => .then(results => {})","username":"tupt","ts":"2018-01-28T02:07:03.491Z"}
{"msg":"Thanks :D","username":"RobertDiebels","ts":"2018-01-28T09:36:59.659Z"}
{"msg":"I'll have a go at it.","username":"RobertDiebels","ts":"2018-01-28T09:37:13.037Z"}
{"msg":"@tupt Does fabric-client sdk have kube-api inside?","username":"Luke_Chen","ts":"2018-01-28T12:58:53.009Z"}
{"msg":"@Luke_Chen It doesn't. I'm using the godaddy kubernetes-client to do the things I need. https://github.com/godaddy/kubernetes-client","username":"RobertDiebels","ts":"2018-01-28T15:59:22.016Z"}
{"msg":"Has joined the channel.","username":"fengfengs","ts":"2018-01-29T05:05:56.084Z","type":"uj"}
{"msg":"\"IBM Cloud Private\"","username":"kipharris","ts":"2018-01-29T15:10:11.094Z"}
{"msg":"Here is my project using that strategy, I have did it using kuber-api but this is my secret project. https://github.com/tubackkhoa/hyperledger-kubernetes/tree/develop","username":"tupt","ts":"2018-01-29T16:55:20.838Z"}
{"msg":"","username":"tupt","ts":"2018-01-29T16:56:03.682Z","attachments":[{"type":"file","title":"process.png","title_link":"/file-upload/cFY7m27ogLoGaCFB4/process.png","image_url":"/file-upload/cFY7m27ogLoGaCFB4/process.png","image_type":"image/png","image_size":283409,"url":"/file-upload/cFY7m27ogLoGaCFB4/process.png","remote":false,"fileId":"cFY7m27ogLoGaCFB4","fileName":"process.png"}]}
{"msg":"@tupt It seems good !","username":"Luke_Chen","ts":"2018-01-30T03:30:37.758Z"}
{"msg":"Has joined the channel.","username":"cmgabriel","ts":"2018-01-31T21:14:50.153Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vchengsong","ts":"2018-02-01T03:49:34.429Z","type":"uj"}
{"msg":"Has joined the channel.","username":"oleg.borovyk","ts":"2018-02-01T17:29:45.060Z","type":"uj"}
{"msg":"Has joined the channel.","username":"berestet","ts":"2018-02-01T17:42:32.270Z","type":"uj"}
{"msg":"Has joined the channel.","username":"GirijaShankarMishra","ts":"2018-02-03T10:27:39.140Z","type":"uj"}
{"msg":"","username":"GirijaShankarMishra","ts":"2018-02-03T10:29:35.867Z","attachments":[{"type":"file","title":"hyperledger.png","title_link":"/file-upload/wT6hoA4o2QCNiN8dK/hyperledger.png","image_url":"/file-upload/wT6hoA4o2QCNiN8dK/hyperledger.png","image_type":"image/png","image_size":92713,"url":"/file-upload/wT6hoA4o2QCNiN8dK/hyperledger.png","remote":false,"fileId":"wT6hoA4o2QCNiN8dK","fileName":"hyperledger.png"}]}
{"msg":"I have followed Deploy hyperledger fabric on kubernetes part 2","username":"GirijaShankarMishra","ts":"2018-02-03T10:37:43.157Z"}
{"msg":"Has joined the channel.","username":"mamtabhardwaj12","ts":"2018-02-03T11:07:18.309Z","type":"uj"}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-03T11:10:01.655Z","attachments":[{"type":"file","title":"hyperledger.png","title_link":"/file-upload/SLQw2A3bp5QboumhN/hyperledger.png","image_url":"/file-upload/SLQw2A3bp5QboumhN/hyperledger.png","image_type":"image/png","image_size":92713,"url":"/file-upload/SLQw2A3bp5QboumhN/hyperledger.png","remote":false,"fileId":"SLQw2A3bp5QboumhN","fileName":"hyperledger.png"}]}
{"msg":"@GirijaShankarMishra It seems you can not connect to your orderer","username":"Luke_Chen","ts":"2018-02-04T03:45:52.809Z"}
{"msg":"@GirijaShankarMishra It seems can not connect to your orderer","username":"Luke_Chen","ts":"2018-02-04T03:45:52.809Z"}
{"msg":"can you check wehther your orderer is running or not","username":"Luke_Chen","ts":"2018-02-04T03:47:37.212Z"}
{"msg":"if it was running, please check it's log","username":"Luke_Chen","ts":"2018-02-04T03:48:12.247Z"}
{"msg":"Hi team,\n\nI have set up the Blockchain network by following the simple install instructions from  https://ibm-blockchain.github.io/simple/ \n\nEverything works fine and I could use composer playground , deploy business network and test and perform transactions. \n\nHowever after a week or later, the same business network connection is failing with error:\n\n0|composer |     at /home/composer/.npm-global/lib/node_modules/@ibmblockchain/composer-playground/node_modules/grpc/src/node/src/client.js:554:15 \n0|composer | HLFConnection           :queryChainCode()         Error: Error trying to query business network. Error: Failed to deserialize creator identity, err MSP Org1MSP is unknown \n\n\nThen I have observed that Peer1 is not listing the channel \"channel1\" which it joined earlier. \"peer channel list\" command from peer1 / org1 is not listing channel.\nWhere as the same command from Org2 Peer1 list the channlel - \"channel1\".\n\nWe haven't peformed any operations on kubernetes cluster / blockchain apart from accessing Composer Playground.\n\nAs per my understanding the unknown MSP ID error is thrown because the peer is not joined the channel. But I am not sure the reason why Org1 Peer1 is not part of the channel anymore \nwhere it joined the same channel initially and we were able to deploy bna and invoke, etc.\n\nWhat is causing the peer to not part of the channel  ? Is it becuase of some pod restart (not sure if it happened ) ?  \n\nThis behaviour  has been observed couple of times so far and we are recreating the n/w everytime. \n\nPlease provide some inputs if you come across this scenario and what steps we should verify and take care to handle this behavior.\n\nThanks,\nIndira","username":"indira.kalagara","ts":"2018-02-05T07:10:47.279Z"}
{"msg":"Hi, I got this error when i invoke using the invoke.js file in fabcar. \n```\nFailed to invoke successfully :: Error: There was a problem with the eventhub ::Error: 14 UNAVAILABLE: Connect Failed\n```\nThe default port for the event hub in the fabcar example is 7053. I am currently deploying my fabric on kubernetes. My peer0org1 maps 7051:30001 and 7052:30002. I tried setting to either of these ports but it still didnt work. What should i set my port to?","username":"JayJong","ts":"2018-02-05T09:01:35.850Z"}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T09:11:21.337Z","attachments":[{"type":"file","title":"hyperledger2.png","title_link":"/file-upload/MmKQfReN8Bm6EYaXm/hyperledger2.png","image_url":"/file-upload/MmKQfReN8Bm6EYaXm/hyperledger2.png","image_type":"image/png","image_size":171184,"url":"/file-upload/MmKQfReN8Bm6EYaXm/hyperledger2.png","remote":false,"fileId":"MmKQfReN8Bm6EYaXm","fileName":"hyperledger2.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T09:11:21.337Z","attachments":[{"type":"file","title":"hyperledger2.png","title_link":"/file-upload/MmKQfReN8Bm6EYaXm/hyperledger2.png","image_url":"/file-upload/MmKQfReN8Bm6EYaXm/hyperledger2.png","image_type":"image/png","image_size":171184,"url":"/file-upload/MmKQfReN8Bm6EYaXm/hyperledger2.png","remote":false,"fileId":"MmKQfReN8Bm6EYaXm","fileName":"hyperledger2.png"}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=P7HcXyRAwasY5gb9N) @tupt Have you done your create channel successfully? I am not able to do create a channel. Can you please help me out?","username":"mamtabhardwaj12","ts":"2018-02-05T09:25:48.192Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=P7HcXyRAwasY5gb9N","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=P7HcXyRAwasY5gb9N","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@mamtabhardwaj12 could you please show me orderer logs ?","username":"Luke_Chen","ts":"2018-02-05T11:08:10.580Z"}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:24:20.797Z","attachments":[{"type":"file","title":"hyperledger2.png","title_link":"/file-upload/8LTWyESfsbhpcMRw8/hyperledger2.png","image_url":"/file-upload/8LTWyESfsbhpcMRw8/hyperledger2.png","image_type":"image/png","image_size":171184,"url":"/file-upload/8LTWyESfsbhpcMRw8/hyperledger2.png","remote":false,"fileId":"8LTWyESfsbhpcMRw8","fileName":"hyperledger2.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:24:20.797Z","attachments":[{"type":"file","title":"hyperledger2.png","title_link":"/file-upload/8LTWyESfsbhpcMRw8/hyperledger2.png","image_url":"/file-upload/8LTWyESfsbhpcMRw8/hyperledger2.png","image_type":"image/png","image_size":171184,"url":"/file-upload/8LTWyESfsbhpcMRw8/hyperledger2.png","remote":false,"fileId":"8LTWyESfsbhpcMRw8","fileName":"hyperledger2.png"}]}
{"msg":"I mean logs , container logs","username":"Luke_Chen","ts":"2018-02-05T11:25:03.591Z"}
{"msg":"wait","username":"mamtabhardwaj12","ts":"2018-02-05T11:26:06.584Z"}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:52:00.703Z","attachments":[{"type":"file","title":"hyperledger_logs1.png","title_link":"/file-upload/bFem6AsAY3Kxa8buu/hyperledger_logs1.png","image_url":"/file-upload/bFem6AsAY3Kxa8buu/hyperledger_logs1.png","image_type":"image/png","image_size":399651,"url":"/file-upload/bFem6AsAY3Kxa8buu/hyperledger_logs1.png","remote":false,"fileId":"bFem6AsAY3Kxa8buu","fileName":"hyperledger_logs1.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:52:14.329Z","attachments":[{"type":"file","title":"hyperledger_logs2.png","title_link":"/file-upload/t6P8ConMXa32wYaRq/hyperledger_logs2.png","image_url":"/file-upload/t6P8ConMXa32wYaRq/hyperledger_logs2.png","image_type":"image/png","image_size":398742,"url":"/file-upload/t6P8ConMXa32wYaRq/hyperledger_logs2.png","remote":false,"fileId":"t6P8ConMXa32wYaRq","fileName":"hyperledger_logs2.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:53:26.036Z","attachments":[{"type":"file","title":"hyperledger_logs3.png","title_link":"/file-upload/qcenuhR3JRQ6iJh7E/hyperledger_logs3.png","image_url":"/file-upload/qcenuhR3JRQ6iJh7E/hyperledger_logs3.png","image_type":"image/png","image_size":438869,"url":"/file-upload/qcenuhR3JRQ6iJh7E/hyperledger_logs3.png","remote":false,"fileId":"qcenuhR3JRQ6iJh7E","fileName":"hyperledger_logs3.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:53:55.344Z","attachments":[{"type":"file","title":"hyperledger_logs4.png","title_link":"/file-upload/SkDbuTfKMKa7W8aPi/hyperledger_logs4.png","image_url":"/file-upload/SkDbuTfKMKa7W8aPi/hyperledger_logs4.png","image_type":"image/png","image_size":460101,"url":"/file-upload/SkDbuTfKMKa7W8aPi/hyperledger_logs4.png","remote":false,"fileId":"SkDbuTfKMKa7W8aPi","fileName":"hyperledger_logs4.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:54:14.766Z","attachments":[{"type":"file","title":"hyperledger_logs5.png","title_link":"/file-upload/4i3oRgekzdfSntHMf/hyperledger_logs5.png","image_url":"/file-upload/4i3oRgekzdfSntHMf/hyperledger_logs5.png","image_type":"image/png","image_size":426463,"url":"/file-upload/4i3oRgekzdfSntHMf/hyperledger_logs5.png","remote":false,"fileId":"4i3oRgekzdfSntHMf","fileName":"hyperledger_logs5.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:54:40.749Z","attachments":[{"type":"file","title":"hyperledger_logs6.png","title_link":"/file-upload/7wrRMzX93F8wmnfFf/hyperledger_logs6.png","image_url":"/file-upload/7wrRMzX93F8wmnfFf/hyperledger_logs6.png","image_type":"image/png","image_size":423420,"url":"/file-upload/7wrRMzX93F8wmnfFf/hyperledger_logs6.png","remote":false,"fileId":"7wrRMzX93F8wmnfFf","fileName":"hyperledger_logs6.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:55:26.687Z","attachments":[{"type":"file","title":"hyperledger_logs7.png","title_link":"/file-upload/9DNyCp9JgCBfuETpm/hyperledger_logs7.png","image_url":"/file-upload/9DNyCp9JgCBfuETpm/hyperledger_logs7.png","image_type":"image/png","image_size":432163,"url":"/file-upload/9DNyCp9JgCBfuETpm/hyperledger_logs7.png","remote":false,"fileId":"9DNyCp9JgCBfuETpm","fileName":"hyperledger_logs7.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T11:55:59.223Z","attachments":[{"type":"file","title":"hyperledger_logs8.png","title_link":"/file-upload/T6JEqaNzXFF988jkM/hyperledger_logs8.png","image_url":"/file-upload/T6JEqaNzXFF988jkM/hyperledger_logs8.png","image_type":"image/png","image_size":407363,"url":"/file-upload/T6JEqaNzXFF988jkM/hyperledger_logs8.png","remote":false,"fileId":"T6JEqaNzXFF988jkM","fileName":"hyperledger_logs8.png"}]}
{"msg":"@Luke_Chen  Can you please look into it??","username":"mamtabhardwaj12","ts":"2018-02-05T11:56:17.625Z"}
{"msg":"orderer seems normal, can you run peer node status in cli container ?","username":"Luke_Chen","ts":"2018-02-05T11:57:58.746Z"}
{"msg":"I","username":"mamtabhardwaj12","ts":"2018-02-05T12:02:01.911Z"}
{"msg":"Peers are running","username":"mamtabhardwaj12","ts":"2018-02-05T12:02:11.388Z"}
{"msg":" orderer seems normal, can you run `peer node status` in cli container ?","username":"Luke_Chen","ts":"2018-02-05T12:02:26.302Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=eky3tJqFoaGRSpJ4h) @Luke_Chen  So you want me to run this cammand inside cli org1 container?","username":"mamtabhardwaj12","ts":"2018-02-05T12:03:11.554Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=eky3tJqFoaGRSpJ4h","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=eky3tJqFoaGRSpJ4h","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I konw they are running, but it may have some problem of your network","username":"Luke_Chen","ts":"2018-02-05T12:03:13.389Z"}
{"msg":"yes","username":"Luke_Chen","ts":"2018-02-05T12:03:19.652Z"}
{"msg":"ok","username":"mamtabhardwaj12","ts":"2018-02-05T12:03:23.190Z"}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T12:07:46.720Z","attachments":[{"type":"file","title":"peer-status.png","title_link":"/file-upload/Ci3srnPgq58NSrgvo/peer-status.png","image_url":"/file-upload/Ci3srnPgq58NSrgvo/peer-status.png","image_type":"image/png","image_size":191325,"url":"/file-upload/Ci3srnPgq58NSrgvo/peer-status.png","remote":false,"fileId":"Ci3srnPgq58NSrgvo","fileName":"peer-status.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T12:07:46.720Z","attachments":[{"type":"file","title":"peer-status.png","title_link":"/file-upload/Ci3srnPgq58NSrgvo/peer-status.png","image_url":"/file-upload/Ci3srnPgq58NSrgvo/peer-status.png","image_type":"image/png","image_size":191325,"url":"/file-upload/Ci3srnPgq58NSrgvo/peer-status.png","remote":false,"fileId":"Ci3srnPgq58NSrgvo","fileName":"peer-status.png"}]}
{"msg":"@mamtabhardwaj12 some thing is wrong with your kubernetes network","username":"Luke_Chen","ts":"2018-02-05T12:34:50.451Z"}
{"msg":"How did you setup kubernetes network?","username":"Luke_Chen","ts":"2018-02-05T12:35:02.506Z"}
{"msg":"by kubeadm?","username":"Luke_Chen","ts":"2018-02-05T12:35:06.630Z"}
{"msg":"ya","username":"mamtabhardwaj12","ts":"2018-02-05T12:35:09.679Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89) @Luke_Chen  by kubeadm","username":"mamtabhardwaj12","ts":"2018-02-05T12:35:36.255Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89) @Luke_Chen  Is there problem of firewall? because we have disable it. When we are enable firewall then nfs client not able to connect.","username":"mamtabhardwaj12","ts":"2018-02-05T12:37:15.680Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89) @Luke_Chen I have followed this document for creating cluster https://www.mirantis.com/blog/how-install-kubernetes-kubeadm/","username":"mamtabhardwaj12","ts":"2018-02-05T12:38:53.511Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=iLiNKy2GRTB76pX89","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@mamtabhardwaj12 properly, try to disable iptable first","username":"Luke_Chen","ts":"2018-02-05T12:39:00.611Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=gDRXCqADRXpBKrhcG) @Luke_Chen Is this a reason?","username":"mamtabhardwaj12","ts":"2018-02-05T12:39:34.346Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=gDRXCqADRXpBKrhcG","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=gDRXCqADRXpBKrhcG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"could be one","username":"Luke_Chen","ts":"2018-02-05T12:42:16.494Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5BXadmdWddBrSP4qh) @Luke_Chen just please tell me one thing, currently my firewall is disabled.So do I need to disable iptables?","username":"mamtabhardwaj12","ts":"2018-02-05T12:43:12.384Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5BXadmdWddBrSP4qh","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5BXadmdWddBrSP4qh","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Noop","username":"Luke_Chen","ts":"2018-02-05T12:43:26.651Z"}
{"msg":"no n?","username":"mamtabhardwaj12","ts":"2018-02-05T12:43:43.174Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5DiKbeXQAyRsqK7hG) @Luke_Chen no right?","username":"mamtabhardwaj12","ts":"2018-02-05T12:44:07.159Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5DiKbeXQAyRsqK7hG","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5DiKbeXQAyRsqK7hG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"let me go through the link you pasted first, ","username":"Luke_Chen","ts":"2018-02-05T12:45:20.334Z"}
{"msg":"ya, please","username":"mamtabhardwaj12","ts":"2018-02-05T12:45:31.185Z"}
{"msg":"I have also followed this link for NFS  https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-16-04","username":"mamtabhardwaj12","ts":"2018-02-05T12:46:46.066Z"}
{"msg":"@mamtabhardwaj12  could paste the result of `kubectl get pods --all-namespaces` here ?","username":"Luke_Chen","ts":"2018-02-05T12:50:08.688Z"}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T12:57:54.126Z","attachments":[{"type":"file","title":"all_pods.png","title_link":"/file-upload/yMxqHXm6zoacFi7Tr/all_pods.png","image_url":"/file-upload/yMxqHXm6zoacFi7Tr/all_pods.png","image_type":"image/png","image_size":333090,"url":"/file-upload/yMxqHXm6zoacFi7Tr/all_pods.png","remote":false,"fileId":"yMxqHXm6zoacFi7Tr","fileName":"all_pods.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-05T12:57:54.126Z","attachments":[{"type":"file","title":"all_pods.png","title_link":"/file-upload/yMxqHXm6zoacFi7Tr/all_pods.png","image_url":"/file-upload/yMxqHXm6zoacFi7Tr/all_pods.png","image_type":"image/png","image_size":333090,"url":"/file-upload/yMxqHXm6zoacFi7Tr/all_pods.png","remote":false,"fileId":"yMxqHXm6zoacFi7Tr","fileName":"all_pods.png"}]}
{"msg":"@mamtabhardwaj12 that's weird","username":"Luke_Chen","ts":"2018-02-05T13:06:30.920Z"}
{"msg":"It seems everything works","username":"Luke_Chen","ts":"2018-02-05T13:06:52.655Z"}
{"msg":"yup","username":"mamtabhardwaj12","ts":"2018-02-05T13:07:02.512Z"}
{"msg":"how about change another add-on network?","username":"Luke_Chen","ts":"2018-02-05T13:07:11.225Z"}
{"msg":"like flannel","username":"Luke_Chen","ts":"2018-02-05T13:07:17.125Z"}
{"msg":"Calico","username":"mamtabhardwaj12","ts":"2018-02-05T13:11:06.467Z"}
{"msg":"Calico @Luke_Chen ","username":"mamtabhardwaj12","ts":"2018-02-05T13:11:06.467Z"}
{"msg":"you are using calico","username":"Luke_Chen","ts":"2018-02-05T13:12:43.872Z"}
{"msg":"ya @Luke_Chen ","username":"mamtabhardwaj12","ts":"2018-02-05T13:12:59.329Z"}
{"msg":"I mean you use another add-on network an try all over again","username":"Luke_Chen","ts":"2018-02-05T13:13:37.432Z"}
{"msg":"I mean you use another add-on network and try all over again","username":"Luke_Chen","ts":"2018-02-05T13:13:37.432Z"}
{"msg":"ok @Luke_Chen ","username":"mamtabhardwaj12","ts":"2018-02-05T13:13:58.516Z"}
{"msg":"Thank you so much ... will let you know @Luke_Chen ","username":"mamtabhardwaj12","ts":"2018-02-05T13:17:03.813Z"}
{"msg":"@mamtabhardwaj12 ok","username":"Luke_Chen","ts":"2018-02-05T13:17:43.859Z"}
{"msg":"Hey, was anyone able to get kafka working with the orderer correctly on Kubernetes?","username":"antoniovassell","ts":"2018-02-05T20:39:07.901Z"}
{"msg":"Has joined the channel.","username":"pasimoes","ts":"2018-02-05T21:50:07.487Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yh7pGp2dqDtqeE2pS) @Luke_Chen Hey, I have tried with new add-on network as flannel but error is same while creating channel.","username":"mamtabhardwaj12","ts":"2018-02-06T09:49:19.731Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yh7pGp2dqDtqeE2pS","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=yh7pGp2dqDtqeE2pS","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"ruchika05","ts":"2018-02-06T09:57:01.803Z","type":"uj"}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-06T10:34:00.697Z","attachments":[{"type":"file","title":"hyperledger error.png","title_link":"/file-upload/fYSXEevAwaPXfJAbb/hyperledger error.png","image_url":"/file-upload/fYSXEevAwaPXfJAbb/hyperledger error.png","image_type":"image/png","image_size":223056,"url":"/file-upload/fYSXEevAwaPXfJAbb/hyperledger error.png","remote":false,"fileId":"fYSXEevAwaPXfJAbb","fileName":"hyperledger error.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-06T10:38:08.413Z","attachments":[{"type":"file","title":"hyperledger error.png","title_link":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","image_url":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","image_type":"image/png","image_size":223056,"url":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","remote":false,"fileId":"LPRdYWao6Z4JeY3CN","fileName":"hyperledger error.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-06T10:38:08.413Z","attachments":[{"type":"file","title":"hyperledger error.png","title_link":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","image_url":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","image_type":"image/png","image_size":223056,"url":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","remote":false,"fileId":"LPRdYWao6Z4JeY3CN","fileName":"hyperledger error.png"}]}
{"msg":"","username":"mamtabhardwaj12","ts":"2018-02-06T10:38:08.413Z","attachments":[{"type":"file","title":"hyperledger error.png","title_link":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","image_url":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","image_type":"image/png","image_size":223056,"url":"/file-upload/LPRdYWao6Z4JeY3CN/hyperledger error.png","remote":false,"fileId":"LPRdYWao6Z4JeY3CN","fileName":"hyperledger error.png"}]}
{"msg":"@mamtabhardwaj12 It must be network wasn't work as intended","username":"Luke_Chen","ts":"2018-02-06T11:31:35.871Z"}
{"msg":"@mamtabhardwaj12 It must be network doesn't work as intended","username":"Luke_Chen","ts":"2018-02-06T11:31:35.871Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QMEjtQG9CgaJwcSE7) @Luke_Chen So what will be solution??","username":"mamtabhardwaj12","ts":"2018-02-06T11:39:56.104Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QMEjtQG9CgaJwcSE7","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QMEjtQG9CgaJwcSE7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QMEjtQG9CgaJwcSE7) @Luke_Chen So what will be solution?? do you have any idea?","username":"mamtabhardwaj12","ts":"2018-02-06T11:39:56.104Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QMEjtQG9CgaJwcSE7","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QMEjtQG9CgaJwcSE7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@mamtabhardwaj12 Oh man","username":"Luke_Chen","ts":"2018-02-06T14:08:10.319Z"}
{"msg":"you can create channel now","username":"Luke_Chen","ts":"2018-02-06T14:08:24.154Z"}
{"msg":"I saw you get response from `peer node status`","username":"Luke_Chen","ts":"2018-02-06T14:09:03.464Z"}
{"msg":"There is a typo in you channel creation command, it should be orderer0.orgorderer1:7050 rather than orderer0.orgorderer1: 7050","username":"Luke_Chen","ts":"2018-02-06T14:10:27.738Z"}
{"msg":"apology for my careless, your network is totaly fine","username":"Luke_Chen","ts":"2018-02-06T14:11:46.679Z"}
{"msg":"apology for my careless, your network is totally fine right now.","username":"Luke_Chen","ts":"2018-02-06T14:11:46.679Z"}
{"msg":"Hi everyone, i'm trying to setup a fabric network with kafka cluster, everyting in the same kubernetes cluster. I have deployed kafka previously as 4 brokers, each one as a separate deployment, now im tryng to deploy it using statefulsets. Now i'm having this issue when setting up the orderer. It crashes when it is trying to connect to the kafka cluster. I'm exposing the kafka cluster as a headless service at port 9092 and in the configtx.yaml is declaring a unique broker pointing at the headless service. The orderer crashes when trying to get an IP. I think it is something of the headless service and maybe it is not supported. I'm posting the output of the crash.","username":"vanitas92","ts":"2018-02-06T14:15:12.417Z"}
{"msg":"","username":"vanitas92","ts":"2018-02-06T14:17:56.174Z","attachments":[{"type":"file","title":"Captura.PNG","title_link":"/file-upload/3PrPC3aS4MqRsWY4t/Captura.PNG","image_url":"/file-upload/3PrPC3aS4MqRsWY4t/Captura.PNG","image_type":"image/png","image_size":127870,"url":"/file-upload/3PrPC3aS4MqRsWY4t/Captura.PNG","remote":false,"fileId":"3PrPC3aS4MqRsWY4t","fileName":"Captura.PNG"}]}
{"msg":"","username":"vanitas92","ts":"2018-02-06T14:18:52.551Z","attachments":[{"type":"file","title":"Captura2.PNG","title_link":"/file-upload/SAgYpzhqZxcSRogta/Captura2.PNG","image_url":"/file-upload/SAgYpzhqZxcSRogta/Captura2.PNG","image_type":"image/png","image_size":70666,"url":"/file-upload/SAgYpzhqZxcSRogta/Captura2.PNG","remote":false,"fileId":"SAgYpzhqZxcSRogta","fileName":"Captura2.PNG"}]}
{"msg":"","username":"vanitas92","ts":"2018-02-06T14:20:11.597Z","attachments":[{"type":"file","title":"Captura3.PNG","title_link":"/file-upload/FDox3wwZWNZkSxo4F/Captura3.PNG","image_url":"/file-upload/FDox3wwZWNZkSxo4F/Captura3.PNG","image_type":"image/png","image_size":50016,"url":"/file-upload/FDox3wwZWNZkSxo4F/Captura3.PNG","remote":false,"fileId":"FDox3wwZWNZkSxo4F","fileName":"Captura3.PNG"}]}
{"msg":"@vanitas92 Which could provider are you using?","username":"Luke_Chen","ts":"2018-02-06T14:22:44.418Z"}
{"msg":"or they are local kubernetes cluster?","username":"Luke_Chen","ts":"2018-02-06T14:22:58.275Z"}
{"msg":"@Luke_Chen Everything (the orderer and the kafka cluster) are in the same local kubernetes cluster and in the same namespace","username":"vanitas92","ts":"2018-02-06T14:28:29.087Z"}
{"msg":"@Luke_Chen im using calico as the network plugin","username":"vanitas92","ts":"2018-02-06T14:29:01.822Z"}
{"msg":"can it work in solo mode","username":"Luke_Chen","ts":"2018-02-06T14:29:53.913Z"}
{"msg":"@Luke_Chen yes it work as solo mode and also in kafka mode but as the cluster set up as 4 different deployments. Now im trying to recreate the kafka cluster as statefulset with 4 replicas","username":"vanitas92","ts":"2018-02-06T14:31:50.300Z"}
{"msg":"@Luke_Chen if you look at the output images, the ordere is resolving correctly the DNS of the kafka cluster, first pointing at the headless service endpoint, and then discovering the 4 brokers","username":"vanitas92","ts":"2018-02-06T14:33:28.382Z"}
{"msg":"yes, I saw that","username":"Luke_Chen","ts":"2018-02-06T14:34:16.892Z"}
{"msg":"","username":"Luke_Chen","ts":"2018-02-06T14:35:10.593Z","attachments":[{"type":"file","title":"Clipboard - 2018261035","title_link":"/file-upload/h98r5j4hSxRk2zSZ6/Clipboard - 2018261035","image_url":"/file-upload/h98r5j4hSxRk2zSZ6/Clipboard - 2018261035","image_type":"image/png","image_size":18797,"url":"/file-upload/h98r5j4hSxRk2zSZ6/Clipboard - 2018261035","remote":false,"fileId":"h98r5j4hSxRk2zSZ6","fileName":"Clipboard - 2018261035"}]}
{"msg":"this is a known problem occurring in some cloud provider, ","username":"Luke_Chen","ts":"2018-02-06T14:36:55.012Z"}
{"msg":"this is a known problem will occur in some cloud provider.","username":"Luke_Chen","ts":"2018-02-06T14:36:55.012Z"}
{"msg":"maybe try to add this argument in orderer and kafka brokers deployment file","username":"Luke_Chen","ts":"2018-02-06T14:38:20.855Z"}
{"msg":"maybe try to add this argument to orderer and kafka brokers deployment file","username":"Luke_Chen","ts":"2018-02-06T14:38:20.855Z"}
{"msg":"maybe try to add this environment to orderer and kafka brokers deployment file","username":"Luke_Chen","ts":"2018-02-06T14:38:20.855Z"}
{"msg":"try to add this environment to orderer and kafka brokers deployment file","username":"Luke_Chen","ts":"2018-02-06T14:38:20.855Z"}
{"msg":"Key:GODEBUG  value:netdns=go","username":"Luke_Chen","ts":"2018-02-06T14:39:44.223Z"}
{"msg":"okay thanks ill try it later and ill post the result","username":"vanitas92","ts":"2018-02-06T15:36:16.292Z"}
{"msg":"Has joined the channel.","username":"malengatiger","ts":"2018-02-06T18:59:22.226Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KxAvg9S6dzbpctRJZ) @Luke_Chen I have tried it earlier by removing space from port but still, error is same.","username":"mamtabhardwaj12","ts":"2018-02-07T07:59:21.288Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KxAvg9S6dzbpctRJZ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KxAvg9S6dzbpctRJZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I saw you get correct response from `peer node status`","username":"Luke_Chen","ts":"2018-02-07T08:12:17.278Z"}
{"msg":"the error is same as connection unavailable?","username":"Luke_Chen","ts":"2018-02-07T08:14:00.122Z"}
{"msg":"ya @Luke_Chen ","username":"mamtabhardwaj12","ts":"2018-02-07T08:40:13.376Z"}
{"msg":"@mamtabhardwaj12 I gussed your dns is still keep restarting ?","username":"Luke_Chen","ts":"2018-02-07T08:47:12.989Z"}
{"msg":"@mamtabhardwaj12 I guessed your dns is still keep restarting ?","username":"Luke_Chen","ts":"2018-02-07T08:47:12.989Z"}
{"msg":"@mamtabhardwaj12 I guessed your dns still keep restarting ?","username":"Luke_Chen","ts":"2018-02-07T08:47:12.989Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=hNEnd22pJ2jco3x95) @Luke_Chen how I can check it?","username":"mamtabhardwaj12","ts":"2018-02-07T08:50:38.608Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=hNEnd22pJ2jco3x95","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=hNEnd22pJ2jco3x95","remote":true,"fileId":null,"fileName":null}]}
{"msg":"could you paste your dns' logs here ?","username":"Luke_Chen","ts":"2018-02-07T08:50:38.976Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=f6srWYcaABeBuYM4R) @Luke_Chen Can you please give me command? if possible","username":"mamtabhardwaj12","ts":"2018-02-07T08:52:29.431Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=f6srWYcaABeBuYM4R","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=f6srWYcaABeBuYM4R","remote":true,"fileId":null,"fileName":null}]}
{"msg":"`kubectl logs --namespace=kube-system kube-dns-xxxxx","username":"Luke_Chen","ts":"2018-02-07T08:56:25.618Z"}
{"msg":"`kubectl logs --namespace=kube-system kube-dns-xxxxx`","username":"Luke_Chen","ts":"2018-02-07T08:56:25.618Z"}
{"msg":"or `kubectl get pods --all-namespaces`","username":"Luke_Chen","ts":"2018-02-07T08:57:33.275Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KtJ9CR9eeFZqXXb5M) @Luke_Chen Hey, I am not able to do it right now, Actually, I have some urgent work.Will let you know about progress.Can you please give me your email id, I have searched it on the published document but not able to make it.","username":"mamtabhardwaj12","ts":"2018-02-07T09:10:24.187Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KtJ9CR9eeFZqXXb5M","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KtJ9CR9eeFZqXXb5M","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Luke_Chen I have inserted the variable that you suggested and it is not debugging anything related to netdns. However, without any extra change, i have redeployed kafka and orderer and its working now. Does this bug happen arbitrarily?","username":"vanitas92","ts":"2018-02-07T11:13:50.564Z"}
{"msg":"@vanitas92 yes, it does","username":"Luke_Chen","ts":"2018-02-07T11:56:15.143Z"}
{"msg":"@Luke_Chen Ok thank you! I'll rollback to the 4-broker kafka cluster using deployments instead of statefulset!","username":"vanitas92","ts":"2018-02-07T12:03:33.150Z"}
{"msg":"Has joined the channel.","username":"AshishMishra 1","ts":"2018-02-07T12:04:21.464Z","type":"uj"}
{"msg":"Hey guys, for those who are interested. I'm planning on publishing my Fabric Kubernetes project some time next week. Both on Github and on NPM.","username":"RobertDiebels","ts":"2018-02-07T16:40:13.230Z"}
{"msg":"I'm hoping people on Linux can test it out for me (Windows user here).","username":"RobertDiebels","ts":"2018-02-07T16:40:44.250Z"}
{"msg":"Essentially it's a CLI that allows you to create Kuberenetes configuration from Blockchain configuration.","username":"RobertDiebels","ts":"2018-02-07T16:41:38.357Z"}
{"msg":"Source is written in ES6 and it runs on Node.js.","username":"RobertDiebels","ts":"2018-02-07T16:42:38.622Z"}
{"msg":"For now it only supports Minikube as a deployment target however I'm working on some code to allow any target the user wants.","username":"RobertDiebels","ts":"2018-02-07T16:44:18.880Z"}
{"msg":"Will post again when I've published.","username":"RobertDiebels","ts":"2018-02-07T16:44:43.370Z"}
{"msg":"Has joined the channel.","username":"mastersingh24","ts":"2018-02-07T18:06:41.794Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=heSdCXNm3BWGfoWDH) @RobertDiebels \nNice, I'd like to participate. I 've working setups with Swarm but I feel k8 would give more benefits.","username":"AshishMishra 1","ts":"2018-02-08T06:27:00.366Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=heSdCXNm3BWGfoWDH","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=heSdCXNm3BWGfoWDH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"That would be great :D","username":"RobertDiebels","ts":"2018-02-08T12:06:20.791Z"}
{"msg":"@RobertDiebels wow, can't wait to see your project;)","username":"Luke_Chen","ts":"2018-02-08T13:50:18.789Z"}
{"msg":"@RobertDiebels wow, can't wait to see your project ;)","username":"Luke_Chen","ts":"2018-02-08T13:50:18.789Z"}
{"msg":"Writing the README now :P","username":"RobertDiebels","ts":"2018-02-08T13:51:05.661Z"}
{"msg":"Has joined the channel.","username":"krabradosty","ts":"2018-02-08T17:03:36.684Z","type":"uj"}
{"msg":"I just uploaded a java sdk wrapper with a Fabric kubernetes minikube for local development. It is located at https:github.com/t-snyder/fabric-dev . Contents are Docker and Kubernetes deployments for 4 Fabric Peers, a solo Orderer, CLI, a Kafka / Zookeeper cluster for messaging in/out, and an sdk-wrapper service for each org. Its purpose is more around being able to set up a local dev environment. I appreciate all feedback. The doc is located in the setup-dev/doc directory. ","username":"tsnyder","ts":"2018-02-09T18:15:04.326Z"}
{"msg":"Has joined the channel.","username":"nycycr","ts":"2018-02-10T06:27:47.495Z","type":"uj"}
{"msg":"`peer channel join -b channel.block` -> `failed to create new connection: x509: certificate is valid for peer0.org1, peer0, not peer0-org1` -- how do you all deal with the discrepancy between the standard `<peer X>.<org domain>` and the way kubernetes services are named (no periods allowed, so everything is hyphenated instead)","username":"ublubu","ts":"2018-02-12T02:16:49.451Z"}
{"msg":"specifically, @tsnyder, i'm looking at https://github.com/t-snyder/fabric-dev/blob/8548ef08bed94ae378b57c10ff803e1c210fd0f0/setup-dev/kube/peer0.yaml#L152 , where the `peer0.Org1` service is called `peer0-org1`.\n\ni found that `peer channel join -b channel.block` works if i name the peer's service `peer0` instead of `peer0-org1`, but if `Org2` also has a `peer0`, i can't name both peers `peer0`.","username":"ublubu","ts":"2018-02-12T05:14:57.335Z"}
{"msg":"also, has anyone tried the code here: https://jira.hyperledger.org/browse/FAB-7406 https://github.com/estaleiro/fabric/commits/issue-7406","username":"ublubu","ts":"2018-02-12T06:05:15.360Z"}
{"msg":"@tupt Hi, would you please pass the yaml file that you used to deploy the chaincode instantiation in kubernetes? The link that you paste here (https://github.com/tubackkhoa/hyperledger-kubernetes/tree/develop) is no longer working. Thanks!!","username":"vanitas92","ts":"2018-02-12T14:10:31.310Z"}
{"msg":"re: my first question from last night. i'm guessing that having the peer service named `peer0-org1` works because CORE_PEER_TLS_ENABLED is false. is that right?","username":"ublubu","ts":"2018-02-12T17:52:36.931Z"}
{"msg":"Has joined the channel.","username":"foleymic","ts":"2018-02-12T19:38:17.790Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Senthil1","ts":"2018-02-13T11:18:12.027Z","type":"uj"}
{"msg":"Hi guys, I have set up fabric using kubernetes and the fabric SDK for node.js to talk to the blockchain. I am testing the performance of fabric by timing the start of invoking a single transaction on node A to the end of quering the same transaction on node B. I wrote a shell script to run the invoke.js and query.js in the fabcar sample. The result was 3.9 seconds for the writing and reading to complete. \nI have 2 questions:\n1. Am i testing it correctly? Is that the right way to calculate tx per second? Fabric is said to be able to do 3500 tx per second and ethereum is able to do 15 tx per second. Should I be pushing 10,000 or more transactions to the blockchain and see how long it takes and divide 10,000 by time taken?\n2. Why does it take 3.9 seconds to invoke and query using the node.js sdk? Is it because of the javascript code or the authentication takes sometime?","username":"JayJong","ts":"2018-02-14T03:59:37.090Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AJnvJFs2KHfrn9trX) @Luke_Chen  I am not getting kube-dns-xxxxx","username":"mamtabhardwaj12","ts":"2018-02-14T12:32:12.781Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AJnvJFs2KHfrn9trX","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AJnvJFs2KHfrn9trX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hey guys, I released my project on github yesterday. I had some issues with moving the NPM package for the CLI to an account dedicated to the project so the NPM package is not install-able yet.","username":"RobertDiebels","ts":"2018-02-15T09:42:44.172Z"}
{"msg":"In the meanwhile you can clone the code and just run the commands with `node . <command>`","username":"RobertDiebels","ts":"2018-02-15T09:43:19.155Z"}
{"msg":"In the meanwhile you can clone the code and just run the commands with `node . <command>`","username":"RobertDiebels","ts":"2018-02-15T09:43:19.155Z"}
{"msg":"Feel free to check it out https://github.com/kubechain/kubechain","username":"RobertDiebels","ts":"2018-02-15T09:43:25.365Z"}
{"msg":"Especially Linux/OSX users since I've tested mainly on Windows. However I wrote the code to run on multiple platforms so I'm fairly certain it will run. ","username":"RobertDiebels","ts":"2018-02-15T09:44:52.314Z"}
{"msg":"Either way let me know :D","username":"RobertDiebels","ts":"2018-02-15T09:44:57.805Z"}
{"msg":"Has joined the channel.","username":"KillerGasy","ts":"2018-02-15T12:08:25.811Z","type":"uj"}
{"msg":"@ublubu - If you look at the command file - setup-dev/fabric-gen/channel-join.sh you will see the commands I am using to join the channels. These are run from within the CLI container as described within the doc.","username":"tsnyder","ts":"2018-02-15T12:36:18.914Z"}
{"msg":"@ublubu - yes TLS is turned off. All of the network DNS is done within the kubernetes environment for the Peers, Orderers, CouchDB, sdk, etc., via the services.","username":"tsnyder","ts":"2018-02-15T12:39:08.059Z"}
{"msg":"Just published the CLI on NPM. Can be found here: https://www.npmjs.com/package/kubechain","username":"RobertDiebels","ts":"2018-02-15T16:52:29.567Z"}
{"msg":"Hi guys, I would like to know how to handle the restart of a peer pod so that it recovers automatically after a crash in kubernetes. By recovering i mean, join the channels it was previously joined before the crash, recover the installation of chaincodes previously installed and instantiate or invoke the chaincodes installed. I think one way is using persistent volume at path `/var/hyperledger/` of containers. Is this the best way or are there others that are better? Let me know! Thank you all guys, you rock!","username":"vanitas92","ts":"2018-02-15T17:32:58.478Z"}
{"msg":"thanks, @tsnyder. i got it working yesterday. the key for me was to make sure TLS was turned off everywhere and to configure Docker to use kube-dns.","username":"ublubu","ts":"2018-02-15T18:26:02.476Z"}
{"msg":"Has joined the channel.","username":"LuckyMacky","ts":"2018-02-16T09:14:54.253Z","type":"uj"}
{"msg":"Has joined the channel.","username":"paul.sitoh","ts":"2018-02-16T12:06:19.868Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dv29","ts":"2018-02-17T08:39:09.010Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mrkiouak","ts":"2018-02-17T14:29:55.914Z","type":"uj"}
{"msg":"Has joined the channel.","username":"leezie","ts":"2018-02-17T15:24:00.671Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nicolapaoli","ts":"2018-02-19T14:15:37.767Z","type":"uj"}
{"msg":"in K8S deployment, I understand that we need to have different set of deployment YAML for each peer due to different kinds of config (kinda Stateful Set).\n\nHow about Orderer (not Kafka) Service node, can we have use replica > 1 in K8S Deployment???","username":"DannyWong","ts":"2018-02-21T09:34:01.357Z"}
{"msg":"@DannyWong It sure can use more than 1 replica orderer.","username":"Luke_Chen","ts":"2018-02-21T16:30:15.570Z"}
{"msg":"@DannyWong It's sure that we can use more than 1 replica orderer.","username":"Luke_Chen","ts":"2018-02-21T16:30:15.570Z"}
{"msg":"@DannyWong It's sure that we can use more than 1 replica of orderer.","username":"Luke_Chen","ts":"2018-02-21T16:30:15.570Z"}
{"msg":"@Luke_Chen ok let me try also. Thanks for your help","username":"DannyWong","ts":"2018-02-22T01:26:08.476Z"}
{"msg":"there are many problems with deploying hyperledger on kubernetes, including docker images sharing, host resolving... for easy installation stuff, I think you can use expect or sshpass to automate the synchronization between nodes like save and load image, and share host file(map ip to hostname) then start like normal setup.","username":"tupt","ts":"2018-02-22T03:22:11.332Z"}
{"msg":"Hello! Anyone here successfully deployed a fabric network using orderer type kafka on kubernetes? :)","username":"Taffies","ts":"2018-02-22T06:23:43.641Z"}
{"msg":"Has joined the channel.","username":"yoko","ts":"2018-02-25T02:44:35.299Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yzhivkov","ts":"2018-02-25T18:47:44.677Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chandrakanthm","ts":"2018-02-28T09:56:48.775Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dampuero","ts":"2018-02-28T15:58:00.390Z","type":"uj"}
{"msg":"Has joined the channel.","username":"iperrota","ts":"2018-02-28T21:36:59.118Z","type":"uj"}
{"msg":"Hi! I have a problem to exec create_channel.sh, the spript didn't finish and print the message Wating for Createchanel to be completed","username":"iperrota","ts":"2018-02-28T21:40:31.180Z"}
{"msg":"@Taffies we did it in our company","username":"joaquimpedrooliveira","ts":"2018-03-01T13:47:44.491Z"}
{"msg":"(deployed a fabric network using orderer type kafka on kubernetes)","username":"joaquimpedrooliveira","ts":"2018-03-01T13:47:56.406Z"}
{"msg":"Has joined the channel.","username":"alexvicegrab","ts":"2018-03-02T15:26:05.347Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bmalavan","ts":"2018-03-02T15:54:46.638Z","type":"uj"}
{"msg":"Has joined the channel.","username":"igetgames","ts":"2018-03-02T17:42:44.313Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5pacZyweM8qbxFWSE) @Taffies What problems are you facing?","username":"joaquimpedrooliveira","ts":"2018-03-02T20:05:03.992Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5pacZyweM8qbxFWSE","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=5pacZyweM8qbxFWSE","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"ashishapy","ts":"2018-03-03T19:54:20.660Z","type":"uj"}
{"msg":"Has joined the channel.","username":"magicliang","ts":"2018-03-06T10:24:25.015Z","type":"uj"}
{"msg":"Not quite sure I agree with this comment?  Can you provide more details about issues you are seeing?\nOf course chaincode deployment *can* be an issue.\nAnd if you are trying to run an entire network (multiple orgs, etc) / sandbox things might be a little tricky (although this is just standard stuff to make distributed things communicate).\nIf you are simply trying to deploy a peer or an ordering service, not sure there are many issues\n(https://chat.hyperledger.org/channel/fabric-kubernetes?msg=sbvEM9A6Sn9en72Tr) @tupt ","username":"mastersingh24","ts":"2018-03-06T10:33:14.895Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=sbvEM9A6Sn9en72Tr","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=sbvEM9A6Sn9en72Tr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"dave.enyeart","ts":"2018-03-06T17:06:03.215Z","type":"uj"}
{"msg":"mastersingh24","username":"rjones","ts":"2018-03-06T18:13:44.168Z","type":"subscription-role-added"}
{"msg":"dave.enyeart","username":"rjones","ts":"2018-03-06T18:13:51.271Z","type":"subscription-role-added"}
{"msg":"Hi, anybody tried kafka deployment on kuberntes?","username":"Glen","ts":"2018-03-08T02:29:12.807Z"}
{"msg":"Has joined the channel.","username":"gbolarhan","ts":"2018-03-08T16:47:29.209Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DavidWalter","ts":"2018-03-10T20:57:53.152Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tkueda","ts":"2018-03-13T01:19:52.921Z","type":"uj"}
{"msg":"Has joined the channel.","username":"divudivyansh","ts":"2018-03-13T04:33:44.266Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Vthot4","ts":"2018-03-13T13:40:45.395Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yopep","ts":"2018-03-14T09:08:09.465Z","type":"uj"}
{"msg":"Has joined the channel.","username":"davidkhala","ts":"2018-03-15T04:13:05.109Z","type":"uj"}
{"msg":"@mastersingh24 Dear Gari, as a new participant here, I want to ask is there a preference between k8s and docker-swarm when automate fabric deploying on cluster?","username":"davidkhala","ts":"2018-03-15T04:16:06.054Z"}
{"msg":"Has joined the channel.","username":"mhagelstrom","ts":"2018-03-15T13:47:44.677Z","type":"uj"}
{"msg":"Hello guys. Is there any documentation or guide I can use to size each peer node of the network?","username":"mhagelstrom","ts":"2018-03-15T13:48:53.858Z"}
{"msg":"Has joined the channel.","username":"Huijian","ts":"2018-03-16T09:03:12.601Z","type":"uj"}
{"msg":"Has joined the channel.","username":"govinda-attal","ts":"2018-03-16T13:22:18.777Z","type":"uj"}
{"msg":"Hi All, I have been playing around with Hyperledger to make it run on Kubernetes. And I was successful to do so. The only thing which I was not happy with the solution for the container that was spun up when chaincode is instantiated by the peer. Kubernetes is simply not aware of this container as it was not started by Kubernetes and by the peer. And to make the peer and chaincode talk to each other I had to update the docker daemon running on the kubernetes node with dns server ip address of the kube-dns service.","username":"govinda-attal","ts":"2018-03-16T13:23:17.721Z"}
{"msg":"Is it possible to instantiate a chaincode in a way where kubernetes is aware of the container of the chaincode. And also chaincode container is able to talk to peer in a seamless fashion rather than updating docker daemon process of the node within kubernetes cluster","username":"govinda-attal","ts":"2018-03-16T13:23:35.885Z"}
{"msg":"Has joined the channel.","username":"rajeshlc","ts":"2018-03-16T13:26:58.952Z","type":"uj"}
{"msg":"@tupt I agree with @mastersingh24 . Sharing small POC on ... https://github.com/govinda-attal/hl-on-k8s ... But I don't like that work-around and I am seeking some advice to the community in general","username":"govinda-attal","ts":"2018-03-16T14:35:42.858Z"}
{"msg":"@tupt I agree with @mastersingh24 . Sharing small POC on ... https://github.com/govinda-attal/hl-on-k8s ... But I don't like that work-around and I am seeking some advice from the community","username":"govinda-attal","ts":"2018-03-16T14:35:42.858Z"}
{"msg":"Has joined the channel.","username":"sillysachin","ts":"2018-03-16T17:58:55.035Z","type":"uj"}
{"msg":"@davidkhala check out project Cello - right now, the focus is on K8s","username":"cbf","ts":"2018-03-17T18:49:00.700Z"}
{"msg":"see the #cello channel","username":"cbf","ts":"2018-03-17T18:49:12.842Z"}
{"msg":"@govinda-attal see good discussion here https://jira.hyperledger.org/browse/FAB-3339 about K8s & Chaincode ","username":"ashishapy","ts":"2018-03-18T08:25:52.206Z"}
{"msg":"Has joined the channel.","username":"ascatox","ts":"2018-03-18T15:48:50.434Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Gerard9494","ts":"2018-03-18T20:21:54.588Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ptsCoFnNvzKsnhq3d) @cbf Thanks, and actually I have tried cello and not satisfied with it. still seeking for alternative idea. ","username":"davidkhala","ts":"2018-03-19T01:05:16.277Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ptsCoFnNvzKsnhq3d","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ptsCoFnNvzKsnhq3d","remote":true,"fileId":null,"fileName":null}]}
{"msg":"In a kubernetes environment, should cello-operator-dashboard be part of the cluster? Or should it be deployed outside of the kubernetes cluster?","username":"yopep","ts":"2018-03-19T03:18:22.384Z"}
{"msg":" [ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=rx4iTekMen6EX2Zrd) @ashishapy Thank you very much","username":"govinda-attal","ts":"2018-03-19T05:42:12.320Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=rx4iTekMen6EX2Zrd","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=rx4iTekMen6EX2Zrd","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I'm setting up HLF on Kubernetes (using Azure AKS), but get stuck at the point of creating a channel from a host:\n\npeer channel create -o 10.0.69.21:31010 -c composerchannel -f /shared/composer-channel.tx\n\n```\n2018-03-19 16:50:15.657 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-03-19 16:50:15.658 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\nError: failed to create deliver client: orderer client failed to connect to 10.0.69.21:31010: failed to create new connection: context deadline exceeded\n```\n\nInstalling ping on the host, and trying to ping related services, I'm only able to ping the IP/DNS of the Peer container, but not that of the Orderer, etc., even though I can easily ssh into each of these from outside.\n\nHas anyone faced similar pod to pod connectivity issues, and how have you resolved them?\n\nThanks!","username":"alexvicegrab","ts":"2018-03-19T17:25:07.464Z"}
{"msg":"Has joined the channel.","username":"yogeshquick","ts":"2018-03-20T07:44:40.522Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KwarRHsWmYTL7ozqu) @tongli Do we have anything ready on AWS?","username":"Varun2887","ts":"2018-03-20T07:50:52.406Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KwarRHsWmYTL7ozqu","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KwarRHsWmYTL7ozqu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"for kubernet+composer setup","username":"Varun2887","ts":"2018-03-20T07:50:58.516Z"}
{"msg":"@Varun2887 I'm working on getting a kubernetes cluster working on AWS right now.","username":"RobertDiebels","ts":"2018-03-20T10:38:50.597Z"}
{"msg":"I've build a tool called Kubechain which transforms blockchain congfiguration to kubernetes configuration. It's pre-alpha right now but you can check it out either way: https://www.npmjs.com/package/kubechain","username":"RobertDiebels","ts":"2018-03-20T10:41:02.915Z"}
{"msg":"It's build using NodeJS so it should work regardless of which platform you're working on.","username":"RobertDiebels","ts":"2018-03-20T10:41:31.371Z"}
{"msg":"Source can be found here: https://github.com/kubechain/kubechain","username":"RobertDiebels","ts":"2018-03-20T10:42:11.040Z"}
{"msg":"The main reason I build the tool is because all other tools I could find were highly complex for such a simple thing and didn't work on Windows.","username":"RobertDiebels","ts":"2018-03-20T10:43:36.272Z"}
{"msg":"For example I can't use Cello because it requires `make` to build a Master node. Which is not available under windows unless I have a VS Studio license or I install something to mimic that functionality.","username":"RobertDiebels","ts":"2018-03-20T10:46:15.088Z"}
{"msg":"Both of which are undesirable. Personally I feel that using a Makefile to build a supposedly cross-platform application is a big mistake. Since it provides a barrier to people who want to test/build on platforms other than Linux.","username":"RobertDiebels","ts":"2018-03-20T10:49:45.193Z"}
{"msg":"Fabric also uses a Makefile and so does Burrow. I don't think it would be that much effort to use a go file to build the source especially since go is cross-platform and Makefiles are not.","username":"RobertDiebels","ts":"2018-03-20T10:52:30.771Z"}
{"msg":"Fabric uses a Makefile and so does Burrow. I don't think it would be that much effort to use a go file to build the source especially since go is cross-platform and Makefiles are not.","username":"RobertDiebels","ts":"2018-03-20T10:52:30.771Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=oCfoEfe6GmzdEDSre) @RobertDiebels, Admins is there anything fully functional available for this?","username":"Varun2887","ts":"2018-03-20T11:08:42.740Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=oCfoEfe6GmzdEDSre","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=oCfoEfe6GmzdEDSre","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Solved my own problem, I was using NodePort services (since I was using the ibm-composer-network as inspiration) and switched to ClusterIP service, which made it work on Azure AKS.","username":"alexvicegrab","ts":"2018-03-20T11:12:03.003Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=b6pxuuaNFY4cC9gYF)\n\nSolved my own problem, I was using NodePort services (since I was using the ibm-composer-network as inspiration) and switched to ClusterIP service, which made it work on Azure AKS.","username":"alexvicegrab","ts":"2018-03-20T11:12:27.617Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=b6pxuuaNFY4cC9gYF","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=b6pxuuaNFY4cC9gYF","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=b6pxuuaNFY4cC9gYF)\nSolved my own problem, I was using NodePort services (since I was using the ibm-composer-network as inspiration) and switched to ClusterIP service, which made it work on Azure AKS.","username":"alexvicegrab","ts":"2018-03-20T11:12:27.617Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=b6pxuuaNFY4cC9gYF","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=b6pxuuaNFY4cC9gYF","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"ShikarSharma","ts":"2018-03-20T22:43:27.616Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bh4rtp","ts":"2018-03-21T17:26:21.177Z","type":"uj"}
{"msg":"hi, does fabric support kubernets now?","username":"bh4rtp","ts":"2018-03-21T17:26:54.178Z"}
{"msg":"@Varun2887 I think that 1.1.0-alpha fixes a few issues important for interop with Kubernetes. Among which reading sym-links","username":"RobertDiebels","ts":"2018-03-21T19:36:42.186Z"}
{"msg":"in Release is out 1.1 the examples directory with e2e_cli has a lot of dependencies on fabric build , can it run independently ","username":"sillysachin","ts":"2018-03-22T13:24:54.857Z"}
{"msg":"Has joined the channel.","username":"StevenSiahetiong","ts":"2018-03-23T02:10:01.030Z","type":"uj"}
{"msg":"does anyone have Fabric running on OpenShift ?","username":"mwagner","ts":"2018-03-23T13:42:22.668Z"}
{"msg":"Has joined the channel.","username":"BryanSparks","ts":"2018-03-23T14:00:48.310Z","type":"uj"}
{"msg":"Has joined the channel.","username":"remyabdullahi","ts":"2018-03-23T19:50:31.178Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chenjun-bj","ts":"2018-03-26T01:53:39.314Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=isihTegi8y5JwT5kC) @mwagner Interested to know if anyone succeeded. ","username":"AshishMishra 1","ts":"2018-03-27T09:40:42.220Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=isihTegi8y5JwT5kC","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=isihTegi8y5JwT5kC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"zian.yusuf","ts":"2018-03-27T09:45:20.742Z","type":"uj"}
{"msg":"Has joined the channel.","username":"spruce","ts":"2018-03-27T17:36:22.839Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MonnyClara","ts":"2018-03-28T12:56:54.652Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sukritVisa","ts":"2018-03-28T21:06:29.280Z","type":"uj"}
{"msg":"Has left the channel.","username":"pmcosta1","ts":"2018-03-29T10:45:46.481Z","type":"ul"}
{"msg":"Hello team! \nIm currently deploying an HLF blockchain on a K8s cluster. But I have some trouble to instantiate a chaincode : when I run my ` peer chaincode instantiate` command I have the following error `Error: Error endorsing chaincode: rpc error: code = Unknown desc = Timeout expired while starting chaincode `\nDid someone experienced this before ? ","username":"MonnyClara","ts":"2018-03-29T13:28:08.016Z"}
{"msg":"@MonnyClara It may caused by the dns resolve error","username":"Luke_Chen","ts":"2018-03-30T14:44:16.910Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ER9ne24QkKP37awRv) @Luke_Chen Even if they can ping each other ? I mean that peer1.org1 can ping peer1.org2 ?\nSo I supposed that the dns resolution was okey ... I'm going to re-check ! ","username":"MonnyClara","ts":"2018-03-30T14:45:52.026Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ER9ne24QkKP37awRv","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=ER9ne24QkKP37awRv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"When you instantiate a chaincode, the chaincode container will be created by docker daemon, which is out of kubernetes ","username":"Luke_Chen","ts":"2018-03-30T14:48:13.851Z"}
{"msg":"Hoooo okey, I got it ... Have you find a way to solve this problem ? ","username":"MonnyClara","ts":"2018-03-30T15:05:14.994Z"}
{"msg":"refer this link https://labs.vmware.com/flings/blockchain-on-kubernetes","username":"Luke_Chen","ts":"2018-03-30T15:12:29.594Z"}
{"msg":"download installation guide ","username":"Luke_Chen","ts":"2018-03-30T15:12:55.382Z"}
{"msg":"Has left the channel.","username":"vvnick","ts":"2018-03-31T11:31:34.719Z","type":"ul"}
{"msg":"Has joined the channel.","username":"anzalbeg","ts":"2018-04-01T14:21:13.674Z","type":"uj"}
{"msg":"Has joined the channel.","username":"richzhao","ts":"2018-04-01T15:18:14.797Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yazanalhjaj","ts":"2018-04-02T07:51:15.861Z","type":"uj"}
{"msg":"Hello, everybody. We're running Fabric over Kubernetes and an update in Kubernetes apparently impacted in chaincode instantiation. After upgrading to kubernetes `1.7.15` chaincode instantation started to fail with message: \n```Failed to generate platform-specific docker build: Error returned from build: 1 \"can't load package: package chaincode/chaincode_example02: cannot find package\n```","username":"joaquimpedrooliveira","ts":"2018-04-02T13:58:55.282Z"}
{"msg":"The chaincode file exists and is mounted as a `config-map` . We noticed that this k8s version introduced a change that mounts `config-maps` as a **read-only** filesystem, that seems to be error cause.","username":"joaquimpedrooliveira","ts":"2018-04-02T13:59:55.210Z"}
{"msg":"When we added the chaincode to be part of docker image, and stopped using the configmap, it worked.","username":"joaquimpedrooliveira","ts":"2018-04-02T14:00:38.131Z"}
{"msg":"I cannot see why the \"cli\" pod needs write access to the chaincode dir","username":"joaquimpedrooliveira","ts":"2018-04-02T14:01:39.874Z"}
{"msg":"Another test that worked was to log into the pod and move the chaincode file to a new dir, created in another volume with read/write permissions","username":"joaquimpedrooliveira","ts":"2018-04-02T14:02:15.741Z"}
{"msg":"Any tips why chaincode instantiation needs to have write acccess to the \"CLI\"/fabric-tools filesystem?","username":"joaquimpedrooliveira","ts":"2018-04-02T14:02:53.133Z"}
{"msg":"Has joined the channel.","username":"coffeeplease","ts":"2018-04-02T20:58:01.089Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Othman.Darwish","ts":"2018-04-04T07:29:58.833Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=N9xkJxReHKgkEJRXm) @Luke_Chen Thank you for the tip ! The guide was just perfect for the error I had ","username":"MonnyClara","ts":"2018-04-04T09:11:13.893Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=N9xkJxReHKgkEJRXm","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=N9xkJxReHKgkEJRXm","remote":true,"fileId":null,"fileName":null}]}
{"msg":"hi everyone","username":"daygee","ts":"2018-04-05T14:23:11.736Z"}
{"msg":"so I'm trying dind to resolve the issue with instantiation","username":"daygee","ts":"2018-04-05T14:23:54.342Z"}
{"msg":"but because I'm using a company kubernetes cluster, there are certain restrictions, such as images cannot be pulled from anywhere but the company repo","username":"daygee","ts":"2018-04-05T14:24:54.187Z"}
{"msg":"so whenever the instantiation command is called, the peer tries to pull form docker repo directly\nbut it can't because connection will be refused\nI want to know if there was a way to configure the peer to change where it pulls the ccenv image from when instantiating","username":"daygee","ts":"2018-04-05T14:35:23.898Z"}
{"msg":"so whenever the instantiation command is called, the peer tries to pull from docker hub directly\nbut it can't because connection will be refused\nI want to know if there was a way to configure the peer to change where it pulls the ccenv image from when instantiating","username":"daygee","ts":"2018-04-05T14:35:23.898Z"}
{"msg":"Has joined the channel.","username":"saikiran458","ts":"2018-04-05T18:41:42.404Z","type":"uj"}
{"msg":"daygee, you can update the deployment.yaml:\n\n```\n      containers:\n      - name: peer\n        image: YOUR_REPOSITORY/YOUR_IMAGE\n```","username":"alexvicegrab","ts":"2018-04-06T15:13:05.411Z"}
{"msg":"@daygee, you can update the deployment.yaml:\n\n```\n      containers:\n      - name: peer\n        image: YOUR_REPOSITORY/YOUR_IMAGE\n```","username":"alexvicegrab","ts":"2018-04-06T15:13:05.411Z"}
{"msg":"Has joined the channel.","username":"kkado","ts":"2018-04-07T04:12:43.049Z","type":"uj"}
{"msg":"is there a demo to build an example fabric network using kubernetes?","username":"bh4rtp","ts":"2018-04-07T09:18:58.841Z"}
{"msg":"@bh4rtp there is no demo, but there are walkthroughs","username":"daygee","ts":"2018-04-09T14:57:30.024Z"}
{"msg":"Has joined the channel.","username":"dokany","ts":"2018-04-09T22:07:50.311Z","type":"uj"}
{"msg":"Has joined the channel.","username":"eroldan","ts":"2018-04-10T05:10:20.380Z","type":"uj"}
{"msg":"@daygee can you pull from dockerhub and then upload to your company repo?","username":"Luke_Chen","ts":"2018-04-10T07:31:28.347Z"}
{"msg":"these is no way to config where to pulls the ccenv image","username":"Luke_Chen","ts":"2018-04-10T07:32:01.441Z"}
{"msg":"Has joined the channel.","username":"pankajcheema","ts":"2018-04-10T08:41:47.697Z","type":"uj"}
{"msg":"Hi experts","username":"pankajcheema","ts":"2018-04-10T08:49:16.287Z"}
{"msg":"Anyone tried setting up a physical network using docker swarms?","username":"pankajcheema","ts":"2018-04-10T08:49:37.108Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QohsyHjMEFbxcWz6F) @bh4rtp @daygee https://gerrit.hyperledger.org/r/#/c/12159/","username":"greg.haskins","ts":"2018-04-11T02:14:41.419Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QohsyHjMEFbxcWz6F","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=QohsyHjMEFbxcWz6F","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"vikramjit","ts":"2018-04-11T10:56:40.956Z","type":"uj"}
{"msg":"@bh4rtp there are some Helm charts here, but they are not very up to date and need customisation: https://github.com/IBM-Blockchain/ibm-container-service","username":"alexvicegrab","ts":"2018-04-11T19:33:45.116Z"}
{"msg":"@bh4rtp there are some K8S/Helm charts here, but they are not very up to date and need customisation: https://github.com/IBM-Blockchain/ibm-container-service","username":"alexvicegrab","ts":"2018-04-11T19:33:45.116Z"}
{"msg":"@greg.haskins @alexvicegrab appreciate your help!","username":"bh4rtp","ts":"2018-04-12T00:31:32.380Z"}
{"msg":"@greg.haskins i have downloaded the cluster. `make kubernetes` succeeded. but run `kubectl create -f build/kubernetes.yaml --save-config` failed.\n```error: error validating \"build/kubernetes.yaml\": error validating data: invalid object to validate; if you choose to ignore these errors, turn validation off with --validate=false```","username":"bh4rtp","ts":"2018-04-12T02:43:40.268Z"}
{"msg":"@greg.haskins i have downloaded the cluster example with kubernetes. `make kubernetes` succeeded. but run `kubectl create -f build/kubernetes.yaml --save-config` failed.\n```error: error validating \"build/kubernetes.yaml\": error validating data: invalid object to validate; if you choose to ignore these errors, turn validation off with --validate=false```","username":"bh4rtp","ts":"2018-04-12T02:43:40.268Z"}
{"msg":"above error was cleared by executing `dos2unix` for every text source files.","username":"bh4rtp","ts":"2018-04-12T02:51:54.028Z"}
{"msg":"@bh4rtp can you post output from \"kubectl --version\"","username":"greg.haskins","ts":"2018-04-12T02:52:44.283Z"}
{"msg":"```Client Version: version.Info{Major:\"1\", Minor:\"9\", GitVersion:\"v1.9.0\", GitCommit:\"925c127ec6b946659ad0fd596fa959be43f0cc05\", GitTreeState:\"clean\", BuildDate:\"2017-12-15T21:07:38Z\", GoVersion:\"go1.9.2\", Compiler:\"gc\", Platform:\"linux/amd64\"}\nServer Version: version.Info{Major:\"\", Minor:\"\", GitVersion:\"v1.9.0\", GitCommit:\"925c127ec6b946659ad0fd596fa959be43f0cc05\", GitTreeState:\"clean\", BuildDate:\"2018-01-26T19:04:38Z\", GoVersion:\"go1.9.1\", Compiler:\"gc\", Platform:\"linux/amd64\"}\n```","username":"bh4rtp","ts":"2018-04-12T02:53:38.782Z"}
{"msg":"","username":"bh4rtp","ts":"2018-04-12T02:56:18.554Z","attachments":[{"type":"file","title":"Clipboard - 20184121055","title_link":"/file-upload/qeagxCpvAJaibDvg7/Clipboard%20-%202018%E5%B9%B44%E6%9C%8812%E6%97%A5%E4%B8%8A%E5%8D%8810%E7%82%B955%E5%88%86","image_url":"/file-upload/qeagxCpvAJaibDvg7/Clipboard%20-%202018%E5%B9%B44%E6%9C%8812%E6%97%A5%E4%B8%8A%E5%8D%8810%E7%82%B955%E5%88%86","image_type":"image/png","image_size":133067,"url":"/file-upload/qeagxCpvAJaibDvg7/Clipboard%20-%202018%E5%B9%B44%E6%9C%8812%E6%97%A5%E4%B8%8A%E5%8D%8810%E7%82%B955%E5%88%86","remote":false,"fileId":"qeagxCpvAJaibDvg7","fileName":"Clipboard - 20184121055"}]}
{"msg":"@greg.haskins all the deployments failed for secrets not found.","username":"bh4rtp","ts":"2018-04-12T02:57:37.678Z"}
{"msg":"","username":"bh4rtp","ts":"2018-04-12T02:59:42.050Z","attachments":[{"type":"file","title":"Clipboard - 20184121059","title_link":"/file-upload/H7F3MJJHrcRxDbf9i/Clipboard%20-%202018%E5%B9%B44%E6%9C%8812%E6%97%A5%E4%B8%8A%E5%8D%8810%E7%82%B959%E5%88%86","image_url":"/file-upload/H7F3MJJHrcRxDbf9i/Clipboard%20-%202018%E5%B9%B44%E6%9C%8812%E6%97%A5%E4%B8%8A%E5%8D%8810%E7%82%B959%E5%88%86","image_type":"image/png","image_size":68204,"url":"/file-upload/H7F3MJJHrcRxDbf9i/Clipboard%20-%202018%E5%B9%B44%E6%9C%8812%E6%97%A5%E4%B8%8A%E5%8D%8810%E7%82%B959%E5%88%86","remote":false,"fileId":"H7F3MJJHrcRxDbf9i","fileName":"Clipboard - 20184121059"}]}
{"msg":"@greg.haskins what `kubectl` version are you using?","username":"bh4rtp","ts":"2018-04-12T08:16:04.393Z"}
{"msg":"i concatenate all secrets into one single line and it does work.","username":"bh4rtp","ts":"2018-04-12T09:51:32.264Z"}
{"msg":"I might have a fix that I need to push","username":"greg.haskins","ts":"2018-04-13T00:17:40.746Z"}
{"msg":"Has joined the channel.","username":"moucx","ts":"2018-04-13T11:45:42.730Z","type":"uj"}
{"msg":"@greg.haskins i modified kubernetes/generate-secrets.sh with `data:\n  config.tgz: $(cat $FILE | base64 | tr -d '\\r\\n')```\n\n","username":"bh4rtp","ts":"2018-04-13T15:31:31.690Z"}
{"msg":"@greg.haskins i modified `kubernetes/generate-secrets.sh` with\n```data:\n  config.tgz: $(cat $FILE | base64 | tr -d '\\r\\n')```\nso does `kubernetes/generate-client-config.sh`\nand then `kubectl create -f build/kubernetes.yaml --save-config` runs ok. but all the peer nodes crashed with error\n```Readiness probe failed: Get http://172.17.0.9:5984/: dial tcp 172.17.0.9:5984: getsockopt: connection refused\nBack-off restarting failed container```","username":"bh4rtp","ts":"2018-04-13T15:35:36.158Z"}
{"msg":"","username":"bh4rtp","ts":"2018-04-13T15:38:40.578Z","attachments":[{"type":"file","title":"Clipboard - 20184131138","title_link":"/file-upload/poeQt4mWoRNwReKmd/Clipboard%20-%202018%E5%B9%B44%E6%9C%8813%E6%97%A5%E6%99%9A%E4%B8%8A11%E7%82%B938%E5%88%86","image_url":"/file-upload/poeQt4mWoRNwReKmd/Clipboard%20-%202018%E5%B9%B44%E6%9C%8813%E6%97%A5%E6%99%9A%E4%B8%8A11%E7%82%B938%E5%88%86","image_type":"image/png","image_size":79625,"url":"/file-upload/poeQt4mWoRNwReKmd/Clipboard%20-%202018%E5%B9%B44%E6%9C%8813%E6%97%A5%E6%99%9A%E4%B8%8A11%E7%82%B938%E5%88%86","remote":false,"fileId":"poeQt4mWoRNwReKmd","fileName":"Clipboard - 20184131138"}]}
{"msg":"What does your readiness probe look like?","username":"alexvicegrab","ts":"2018-04-13T18:46:17.761Z"}
{"msg":"hi! this is weird but may i ask if anyone keeps having to re-join channel/install/instantiate chaincode for each org? i did it two days ago but today it showed me that my all my orgMSP is unknown and i have to repeat the steps that i did","username":"Taffies","ts":"2018-04-16T02:33:36.925Z"}
{"msg":"hi! this is weird but may i ask if anyone keeps having to re-join channel/install chaincode for each org? i did it two days ago but today it showed me that my all my orgMSP is unknown and i have to repeat the steps that i did","username":"Taffies","ts":"2018-04-16T02:33:36.925Z"}
{"msg":"Has joined the channel.","username":"neharprodduturi","ts":"2018-04-16T06:55:15.971Z","type":"uj"}
{"msg":"@Taffies Yeah ! I have the same issue, everytime a peer container is crashing, you have to re-join and re-install .. A way to fix this ? ","username":"MonnyClara","ts":"2018-04-16T07:38:31.062Z"}
{"msg":"Has joined the channel.","username":"nickgaski","ts":"2018-04-16T17:09:05.366Z","type":"uj"}
{"msg":"@monnyclara mine doesn't even crash. the next morning i wake up and log in to my VM and the pod is still running perfectly fine, but i just need to rejoin and reinstall again. i can't figure out why ","username":"Taffies","ts":"2018-04-17T03:13:47.152Z"}
{"msg":"Hi All!!! Has someone a good tutorial to start with K8s and Fabric ?","username":"ascatox","ts":"2018-04-17T09:55:38.815Z"}
{"msg":"@ascatox Check this one : https://hackernoon.com/how-to-deploy-hyperledger-fabric-on-kubernetes-1-a2ceb3ada078","username":"MonnyClara","ts":"2018-04-17T10:00:46.164Z"}
{"msg":":thumbsup:","username":"ascatox","ts":"2018-04-17T10:01:00.777Z"}
{"msg":"@ascatox I've made a NodeJS CLI that installs Fabric on either Minikube or GCE.","username":"RobertDiebels","ts":"2018-04-17T10:20:21.367Z"}
{"msg":"Check it out here: https://www.npmjs.com/package/kubechain","username":"RobertDiebels","ts":"2018-04-17T10:20:46.053Z"}
{"msg":"I'm currently working on expanding the feature set.","username":"RobertDiebels","ts":"2018-04-17T10:22:05.813Z"}
{"msg":"Right now it only creates a very basic Fabric cluster but that should suffice for testing.","username":"RobertDiebels","ts":"2018-04-17T10:22:26.007Z"}
{"msg":"This sounds really interesting!!! I'll try it","username":"ascatox","ts":"2018-04-17T15:05:27.968Z"}
{"msg":"Please do. Don't be afraid to post a bug-report if you find anything. I might not be able to solve it that fast but I'll try :D :thumbsup: ","username":"RobertDiebels","ts":"2018-04-17T16:11:29.930Z"}
{"msg":"Has joined the channel.","username":"Chandoo","ts":"2018-04-19T17:52:20.085Z","type":"uj"}
{"msg":"Has joined the channel.","username":"remmeier","ts":"2018-04-20T06:35:38.829Z","type":"uj"}
{"msg":"does anyone else face the problem where your peer keeps having to rejoin channel & installing chaincode on them even though your pods haven't crashed at all? or any idea why that might be happening?","username":"Taffies","ts":"2018-04-20T09:17:25.657Z"}
{"msg":"it's frustrating :<","username":"Taffies","ts":"2018-04-20T09:17:39.707Z"}
{"msg":"i'm using kafka as my orderer if it is of significance","username":"Taffies","ts":"2018-04-20T09:26:10.490Z"}
{"msg":"Has joined the channel.","username":"raccoonrat","ts":"2018-04-22T06:25:48.406Z","type":"uj"}
{"msg":"Has joined the channel.","username":"toesterdahl","ts":"2018-04-22T20:39:08.013Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rcheuk","ts":"2018-04-24T20:04:50.066Z","type":"uj"}
{"msg":"DNS","username":"kipharris","ts":"2018-04-25T13:32:21.227Z"}
{"msg":"Has joined the channel.","username":"Rednish","ts":"2018-04-25T16:12:13.044Z","type":"uj"}
{"msg":"anyone successfully upgraded their images to 1.1.0 on kubernetes? i'm trying to do so but my peer pods always crash whenever i change my image to 1.1.0 for the peers","username":"Taffies","ts":"2018-04-26T02:47:18.482Z"}
{"msg":"hi! anyone successfully upgraded their images to 1.1.0? i'm trying to upgrade but my peer pods keep crashing","username":"Taffies","ts":"2018-04-26T02:53:21.273Z"}
{"msg":"","username":"Taffies","ts":"2018-04-26T02:53:35.383Z","attachments":[{"type":"file","title":"Screen Shot 2018-04-26 at 10.52.52 AM.png","title_link":"/file-upload/dDQCMhwoBofN4M5kt/Screen%20Shot%202018-04-26%20at%2010.52.52%20AM.png","image_url":"/file-upload/dDQCMhwoBofN4M5kt/Screen%20Shot%202018-04-26%20at%2010.52.52%20AM.png","image_type":"image/png","image_size":102903,"url":"/file-upload/dDQCMhwoBofN4M5kt/Screen%20Shot%202018-04-26%20at%2010.52.52%20AM.png","remote":false,"fileId":"dDQCMhwoBofN4M5kt","fileName":"Screen Shot 2018-04-26 at 10.52.52 AM.png"}]}
{"msg":"","username":"Taffies","ts":"2018-04-26T02:53:49.286Z","attachments":[{"type":"file","title":"Screen Shot 2018-04-26 at 10.43.48 AM.png","title_link":"/file-upload/8wE9sHX9hRCRqvKHm/Screen%20Shot%202018-04-26%20at%2010.43.48%20AM.png","image_url":"/file-upload/8wE9sHX9hRCRqvKHm/Screen%20Shot%202018-04-26%20at%2010.43.48%20AM.png","image_type":"image/png","image_size":454849,"url":"/file-upload/8wE9sHX9hRCRqvKHm/Screen%20Shot%202018-04-26%20at%2010.43.48%20AM.png","remote":false,"fileId":"8wE9sHX9hRCRqvKHm","fileName":"Screen Shot 2018-04-26 at 10.43.48 AM.png"}]}
{"msg":"hi for those who got the same error as me above: i added an additional parameter in the peer config file under environment:\n\n        - name: CORE_PEER_CHAINCODELISTENADDRESS\n          value: \"0.0.0.0:7052\"\n\nand i was able to solve the error and get my pods working. :grinning:","username":"Taffies","ts":"2018-04-26T05:13:07.857Z"}
{"msg":"Has joined the channel.","username":"anthonyk","ts":"2018-04-26T05:57:57.244Z","type":"uj"}
{"msg":"Has joined the channel.","username":"maestrus","ts":"2018-04-26T08:29:52.547Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chainsaw","ts":"2018-04-27T15:52:11.235Z","type":"uj"}
{"msg":"Has joined the channel.","username":"acbellini","ts":"2018-05-01T21:10:05.302Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IgorSim","ts":"2018-05-02T09:49:26.883Z","type":"uj"}
{"msg":"Has joined the channel.","username":"carlcraig","ts":"2018-05-02T20:56:02.114Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kevin-s-wang","ts":"2018-05-03T02:36:06.033Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shabscan","ts":"2018-05-04T16:48:57.839Z","type":"uj"}
{"msg":"hi, any idea how to expose the public ip for the composer-rest-server with kubernetes on IBM cloud ? Was able to get to playground instance , but Rest server is proving hard :(","username":"shabscan","ts":"2018-05-04T16:52:16.614Z"}
{"msg":"Has joined the channel.","username":"Starseven","ts":"2018-05-08T11:56:08.474Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jeremyphelps","ts":"2018-05-08T15:20:35.820Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tcskill","ts":"2018-05-08T19:03:21.392Z","type":"uj"}
{"msg":"Has joined the channel.","username":"adave","ts":"2018-05-09T09:08:10.696Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MrMoneyChanger","ts":"2018-05-09T21:44:06.231Z","type":"uj"}
{"msg":"Has joined the channel.","username":"titoe218","ts":"2018-05-11T02:01:13.875Z","type":"uj"}
{"msg":"Has joined the channel.","username":"versus","ts":"2018-05-14T09:05:55.513Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Switch2Logic","ts":"2018-05-16T07:33:10.495Z","type":"uj"}
{"msg":"Has joined the channel.","username":"BhaveshPatadiya","ts":"2018-05-18T03:04:01.960Z","type":"uj"}
{"msg":"Hi, I am new to kubernetes and would like to integrate the same in fabric. What would be the good starting point fro me? Any help and suggestions would be appreciated.","username":"BhaveshPatadiya","ts":"2018-05-18T03:07:32.169Z"}
{"msg":"I also want to ask whether there is any starting documentation from where I can start using Kubernetes for fabric app I'm developing?","username":"BhaveshPatadiya","ts":"2018-05-18T03:47:10.338Z"}
{"msg":"A good start would be to learn to use Kubernetest ;) \nThen you can check for this : https://hackernoon.com/how-to-deploy-hyperledger-fabric-on-kubernetes-1-a2ceb3ada078","username":"MonnyClara","ts":"2018-05-18T07:19:24.378Z"}
{"msg":"A good start would be to learn to use Kubernetes ;) \nThen you can check for this : https://hackernoon.com/how-to-deploy-hyperledger-fabric-on-kubernetes-1-a2ceb3ada078","username":"MonnyClara","ts":"2018-05-18T07:19:24.378Z"}
{"msg":"Hi I'm investigating the usage of K8s for my fabric installation.","username":"ascatox","ts":"2018-05-18T14:50:35.131Z"}
{"msg":"I'd like to create a pod containing all peers, in order to create a load balancing ","username":"ascatox","ts":"2018-05-18T14:51:02.103Z"}
{"msg":"I'd like to create a pod containing all peers, in order to create a load balancing of the requests","username":"ascatox","ts":"2018-05-18T14:51:02.103Z"}
{"msg":"I'd like to create a pod containing all peers, in order to create a load balancing of the requests.","username":"ascatox","ts":"2018-05-18T14:51:02.103Z"}
{"msg":"@ascatox  With this kind a setup, if your pod is crashing all your peer will crash too right ? If so, we got a single point of failure I think .. ","username":"MonnyClara","ts":"2018-05-18T15:12:46.861Z"}
{"msg":"ok but if I have 1000 clients making transactions to the blockchain how I can improve the load on my peers ?","username":"ascatox","ts":"2018-05-18T15:13:59.959Z"}
{"msg":"if I'm not wrong at the moment the address of the peer is static, every client should connect to a peer and knows its address","username":"ascatox","ts":"2018-05-18T15:15:31.270Z"}
{"msg":"Which version ???","username":"ascatox","ts":"2018-05-18T15:15:31.270Z"}
{"msg":"You should use a service to loadbalance to the set of peers, but this will only work if your endorsement policy requires a single peer.","username":"alexvicegrab","ts":"2018-05-18T23:36:50.875Z"}
{"msg":"You should use a service to loadbalancer to the set of peers, but this will only work if your endorsement policy requires a single peer.","username":"alexvicegrab","ts":"2018-05-18T23:36:50.875Z"}
{"msg":"You could use a service to loadbalancer to the set of peers, but this will only work if your endorsement policy requires a single peer.","username":"alexvicegrab","ts":"2018-05-18T23:36:50.875Z"}
{"msg":"@ascatox - starting from the next version, the application won't need to know any address of the endorsing peers at all","username":"yacovm","ts":"2018-05-19T21:57:40.406Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=nMKDnjNeL9eyYavNx) @yacovm Which version are you speaking about ?","username":"ascatox","ts":"2018-05-21T06:19:21.084Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=nMKDnjNeL9eyYavNx","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=nMKDnjNeL9eyYavNx","remote":true,"fileId":null,"fileName":null}]}
{"msg":"next fabric version of course @ascatox ","username":"yacovm","ts":"2018-05-21T08:01:47.869Z"}
{"msg":"1.2?","username":"ascatox","ts":"2018-05-21T08:42:03.901Z"}
{"msg":"hi guys, im trying to setup fabric on kubernetes but im unsure if the kafka and zookeeper brokers are setup in a VM(virtual machine) or on separate VMs? any help is appreciated!","username":"JayJong","ts":"2018-05-21T09:33:29.989Z"}
{"msg":"Hi guys do you know when would be available the instantiation of chaincodes fully integrated within kubernetes? I read that its planned to be available at 1.2?","username":"vanitas92","ts":"2018-05-21T19:27:56.145Z"}
{"msg":"@JayJong It can be on the same VM or in separate, as long as they can communicate ","username":"MonnyClara","ts":"2018-05-22T06:39:18.558Z"}
{"msg":"Has joined the channel.","username":"sukrit.handa@gmail.com","ts":"2018-05-23T03:01:04.452Z","type":"uj"}
{"msg":"Has joined the channel.","username":"simonghrt","ts":"2018-05-23T12:21:44.883Z","type":"uj"}
{"msg":"running into issues with kafka deployment on k8s. the brokers and zookeeper nodes are communicating fine but the topic partition is unable to find a leader getting the following for the orderer log:\n[sarama] 2018/05/23 22:57:46.349687 client.go:629: client/metadata fetching metadata for [testchainid] from broker kafka1.0018875-dev-business:9092\n","username":"sukrit.handa@gmail.com","ts":"2018-05-23T23:06:07.811Z"}
{"msg":"running into issues with kafka deployment on k8s. the brokers and zookeeper nodes are communicating fine but the topic partition is unable to find a leader getting the following for the orderer log:\n[sarama] 2018/05/23 22:57:46.349687 client.go:629: client/metadata fetching metadata for [testchainid] from broker kafka1.0018875-dev-business:9092[sarama] 2018/05/23 22:57:46.352899 client.go:640: client/metadata found some partitions to be leaderless\n","username":"sukrit.handa@gmail.com","ts":"2018-05-23T23:06:07.811Z"}
{"msg":"@sukrit.handa@gmail.com I'm not an expert, but you may have issue with the leader election\nI think I used a env variable like `KAFKA_UNCLEAN_LEADER_ELECTION_ENABLE=false`","username":"MonnyClara","ts":"2018-05-24T07:11:46.250Z"}
{"msg":"Has left the channel.","username":"vikramjit","ts":"2018-05-24T10:49:21.583Z","type":"ul"}
{"msg":"yea i have that :/","username":"sukrit.handa@gmail.com","ts":"2018-05-24T16:06:43.063Z"}
{"msg":"anyways will continue to debug","username":"sukrit.handa@gmail.com","ts":"2018-05-24T16:06:53.402Z"}
{"msg":"got it to work kafka brokers on k8s needs to have the following env \n        - name: KAFKA_ADVERTISED_HOST_NAME\n          value: \"kafka1\"\n        - name: KAFKA_ADVERTISED_PORT\n          value: \"9092\"\n        - name: GODEBUG\n          value: netdns=go","username":"sukrit.handa@gmail.com","ts":"2018-05-24T20:54:44.462Z"}
{"msg":"Hey guys, just published a new version of https://www.npmjs.com/package/kubechain now supports chaincode and channels out of the box.","username":"RobertDiebels","ts":"2018-05-26T09:38:00.913Z"}
{"msg":"Works on Windows (tested) should work on Linux (untested).","username":"RobertDiebels","ts":"2018-05-26T09:38:27.814Z"}
{"msg":"I found a work around for the Docker container issue and having to reboot your nodes as mentioned in https://hackernoon.com/how-to-deploy-hyperledger-fabric-on-kubernetes-1-a2ceb3ada078 . All you have to do is supply the tool with the cluster you intend to run on. It than adds the Kube-dns IP correctly, without requiring a reboot.","username":"RobertDiebels","ts":"2018-05-26T09:40:22.952Z"}
{"msg":"hi! anyone successfully managed to enable TLS on kubernetes setup? :)","username":"Taffies","ts":"2018-05-28T04:54:46.995Z"}
{"msg":"the other question is - do we need tls on kubernetes?","username":"Taffies","ts":"2018-05-28T04:57:10.641Z"}
{"msg":"Has joined the channel.","username":"peter.li","ts":"2018-05-29T00:31:38.658Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alejandrolr","ts":"2018-05-29T21:25:15.513Z","type":"uj"}
{"msg":"Hi all!! I'm working in developing a simple Fabric application using the Node SDK on Kubernetes. Firstly, I've deployed a custom kubernetes cluster in Google Kubernetes Engine and created a simple network using this repo from steps 4 and 5 (https://github.com/IBM/blockchain-network-on-kubernetes). Note: I skip the IBM Cloud Steps because I'm using my own cluster. \n\nAfter the deployment, I'm able to perform invokes/queries inside one peer, without problem. However, if I use the Node SDK (https://github.com/hyperledger/fabric-samples/tree/release-1.1/fabcar) I'm only able to perform enroll/register and queries. The invoke requests fail. Do you have any idea?\n```root@kubernetes-api-85df84499d-g8tgd:/api-v1.0# node enrollAdmin.js\n Store path:/api-v1.0/hfc-key-store\nSuccessfully enrolled admin user \"admin\"\nAssigned the admin user to the fabric client ::{\"name\":\"admin\",\"mspid\":\"Org1MSP\",\"roles\":null,\"affiliation\":\"\",\"enrollmentSecret\":\"\",\"enrollment\":{\"signingIdentity\":\"89258074fc553d792ea5d4685097c28352191e9b8587cbe80b649bd59ea6c877\",\"identity\":{\"certificate\":\"-----BEGIN CERTIFICATE-----\\nMIIB8DCCAZegAwIBAgIUNhnBDWYMEFpx0BAKwZmj7Xl6GkgwCgYIKoZIzj0EAwIw\\nczELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\\nbiBGcmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMT\\nE2NhLm9yZzEuZXhhbXBsZS5jb20wHhcNMTgwNTI5MTkxMDAwWhcNMTkwNDI4MDMx\\nMDAwWjAQMQ4wDAYDVQQDEwVhZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IA\\nBAnEGtTNf/ScMtwPF7ANl/kisWEpx0/6UgPvi41i7a6Oc1SCFCpXE0huz94xy9Y5\\nhIZecX/WqBPezcOTzcCBm/WjbDBqMA4GA1UdDwEB/wQEAwICBDAMBgNVHRMBAf8E\\nAjAAMB0GA1UdDgQWBBR43OWbfNXwL/1/EQz5+me+IYTr8zArBgNVHSMEJDAigCD/\\nik1WxH34lDg4L9LpQ80ga5BBtglshohRRmQbAlsdUDAKBggqhkjOPQQDAgNHADBE\\nAiAfV6y4giHpPsauLH2JDqDFDVrYbX2fP7dCDhG8tNPujQIgY1hMgYMp+Qzzvvc5\\nY8sEenHVszjtbWbGvAwily0Nrh4=\\n-----END CERTIFICATE-----\\n\"}}}\nroot@kubernetes-api-85df84499d-g8tgd:/api-v1.0# node registerUser.js\n Store path:/api-v1.0/hfc-key-store\nSuccessfully loaded admin from persistence\nSuccessfully registered user1 - secret:pXTXFqjvnzri\nSuccessfully enrolled member user \"user1\"\nUser1 was successfully registered and enrolled and is ready to intreact with the fabric network\nroot@kubernetes-api-85df84499d-g8tgd:/api-v1.0# node query.js\nStore path:/api-v1.0/hfc-key-store\nSuccessfully loaded user1 from persistence\nQuery has completed, checking results\nResponse is  60\nroot@kubernetes-api-85df84499d-g8tgd:/api-v1.0# node invoke.js\nStore path:/api-v1.0/hfc-key-store\nSuccessfully loaded user1 from persistence\nAssigning transaction_id:  1b05a3be4f4752b7005d95ac6bceed22d827cea9ae7833c374a66866ead8916f\nerror: [Peer.js]: sendProposal - timed out after:45000\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: REQUEST_TIMEOUT\n    at Timeout._onTimeout (/api-v1.0/node_modules/fabric-client/lib/Peer.js:117:19)\n    at ontimeout (timers.js:498:11)\n    at tryOnTimeout (timers.js:323:5)\n    at Timer.listOnTimeout (timers.js:290:5)\nTransaction proposal was bad\nFailed to send Proposal or receive valid response. Response null or status is not 200. exiting...\nFailed to invoke successfully :: Error: Failed to send Proposal or receive valid response. Response null or status is not 200. exiting...```","username":"alejandrolr","ts":"2018-05-29T21:32:26.274Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BCkWpC7hr6EBszyrw) @JayJong Hi JayJong, how do you configure your network? Because Im not able to invoke using the fabcar sdk sample... However im able to query","username":"alejandrolr","ts":"2018-05-29T22:23:40.776Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BCkWpC7hr6EBszyrw","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BCkWpC7hr6EBszyrw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"AlexanderZhovnuvaty","ts":"2018-05-30T11:37:40.856Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rogerwilcos","ts":"2018-05-30T23:14:52.059Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bayesian_thought","ts":"2018-05-31T03:07:07.671Z","type":"uj"}
{"msg":"Has joined the channel.","username":"BBurgDave","ts":"2018-05-31T20:29:47.060Z","type":"uj"}
{"msg":"@alejandrolr looking at ur error msg, it may be ur network speed of ur virtual machines(or wherever u are setting ur kubernetes cluster) are too slow so it times out after 45 secs","username":"JayJong","ts":"2018-06-02T16:14:32.428Z"}
{"msg":"thank you!! I've fixed my mistake, the problem was that I was using a cluster in GKE of Container Optimized OS. I've change them to Ubuntu and now I'm able to perform invokes","username":"alejandrolr","ts":"2018-06-02T20:06:43.625Z"}
{"msg":"thank you!! I've fixed my mistake, the problem was that I was using a cluster in GKE of Container Optimized OS images. I've change them to Ubuntu and now I'm able to perform invokes...","username":"alejandrolr","ts":"2018-06-02T20:06:43.625Z"}
{"msg":"Has joined the channel.","username":"Aswath8687","ts":"2018-06-04T17:53:44.849Z","type":"uj"}
{"msg":"Has joined the channel.","username":"karthik.ir","ts":"2018-06-05T08:03:44.703Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IsaacWong","ts":"2018-06-06T03:09:53.040Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vidor","ts":"2018-06-06T09:03:13.765Z","type":"uj"}
{"msg":"Has joined the channel.","username":"koineramitranjan","ts":"2018-06-06T11:08:53.611Z","type":"uj"}
{"msg":"aws","username":"koineramitranjan","ts":"2018-06-06T11:09:01.229Z"}
{"msg":"Has joined the channel.","username":"pd93","ts":"2018-06-06T12:53:05.489Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DineshPrabhu","ts":"2018-06-07T07:55:53.526Z","type":"uj"}
{"msg":"Has joined the channel.","username":"smallX","ts":"2018-06-07T08:32:05.584Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dklesev","ts":"2018-06-07T09:31:11.550Z","type":"uj"}
{"msg":"Has joined the channel.","username":"PawelD","ts":"2018-06-07T19:33:47.790Z","type":"uj"}
{"msg":"Has joined the channel.","username":"wangrangli","ts":"2018-06-08T05:30:55.057Z","type":"uj"}
{"msg":"Has joined the channel.","username":"abraham","ts":"2018-06-08T05:42:22.566Z","type":"uj"}
{"msg":"Has joined the channel.","username":"goranovic","ts":"2018-06-09T11:07:05.396Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nagap","ts":"2018-06-11T15:26:37.880Z","type":"uj"}
{"msg":" hi, guys. i followed this link [https://medium.com/@zhanghenry/how-to-deploy-hyperledger-fabric-on-kubernetes-2-751abf44c807](https://medium.com/@zhanghenry/how-to-deploy-hyperledger-fabric-on-kubernetes-2-751abf44c807) to deploy kubernetes cluster. but there are errors \n```\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\n```\nwhen i run `python3.5 transform/run.py` ","username":"smallX","ts":"2018-06-12T03:58:35.564Z"}
{"msg":"```\nroot@org2:~/k8s# kubectl get nodes\nNAME      STATUS    ROLES     AGE       VERSION\norder1    Ready     <none>    5d        v1.10.3\norder2    Ready     <none>    5d        v1.10.3\norder3    Ready     <none>    5d        v1.10.3\norder4    Ready     <none>    5d        v1.10.3\norg2      Ready     master    5d        v1.10.3\n```","username":"smallX","ts":"2018-06-12T03:59:17.656Z"}
{"msg":"```\nkubectl get pod -n kube-system -o wide\nNAME                           READY     STATUS    RESTARTS   AGE       IP               NODE\ncoredns-7997f8864c-d2j8m       1/1       Running   0          5d        xx.xxx.0.4       org2\ncoredns-7997f8864c-rqrw4       1/1       Running   0          5d        xx.xxx.1.2       order1\netcd-org2                      1/1       Running   0          5d        xxx.xxx36.92    org2\nkube-apiserver-org2            1/1       Running   0          5d        xxx.xxx.36.92    org2\nkube-controller-manager-org2   1/1       Running   0          5d        xxx.xxx.36.92    org2\nkube-flannel-ds-9s2pt          1/1       Running   0          5d        xxx.xx.217.103   order3\nkube-flannel-ds-jt6vd          1/1       Running   0          5d        xxx.xxx.36.92    org2\nkube-flannel-ds-jtfnj          1/1       Running   0          5d        xxx.xx.173.39    order4\nkube-flannel-ds-lqnms          1/1       Running   1          5d        xxx.xx.xxx.201   order2\nkube-flannel-ds-wwvxm          1/1       Running   0          5d        xxx.xx.xxx.46    order1\nkube-proxy-2kshk               1/1       Running   0          5d        xxx.28.xxx.46    order1\nkube-proxy-97t9w               1/1       Running   0          5d        xxx.28.xxx.103   order3\nkube-proxy-nms8b               1/1       Running   0          5d        xxx.28.xxx.39    order4\nkube-proxy-qdfrh               1/1       Running   0          5d        xxx.129.xx.xx    org2\nkube-proxy-wzrg2               1/1       Running   0          5d        xxx.28.xx.xxx   order2\nkube-scheduler-org2            1/1       Running   0          5d        xxx.129.xx.xx    org2\n```","username":"smallX","ts":"2018-06-12T04:03:08.978Z"}
{"msg":"@smallX You could give my CLI a go [ https://www.npmjs.com/package/kubechain ] if you want.","username":"RobertDiebels","ts":"2018-06-12T07:37:37.066Z"}
{"msg":"I based my design on the tutorial you linked above.","username":"RobertDiebels","ts":"2018-06-12T07:38:07.889Z"}
{"msg":"Right now the fabric version is fixed. So if you want to change the version you'll have to make a tiny change in the code: https://github.com/kubechain/kubechain","username":"RobertDiebels","ts":"2018-06-12T07:39:02.670Z"}
{"msg":"Has joined the channel.","username":"titoe","ts":"2018-06-12T09:46:38.762Z","type":"uj"}
{"msg":"Has joined the channel.","username":"CarlitoIBM","ts":"2018-06-12T14:14:23.827Z","type":"uj"}
{"msg":"@RobertDiebels ths. i'll study the link. but now i prefer to resolve this problem.  ","username":"smallX","ts":"2018-06-13T03:13:07.982Z"}
{"msg":"Has joined the channel.","username":"david_dornseifer","ts":"2018-06-13T15:33:41.276Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Nghiadt","ts":"2018-06-13T17:56:13.362Z","type":"uj"}
{"msg":"where are u running kubernetes? ur com or some vm? i would think the error is due to port 8080 does not allow inbound connection","username":"JayJong","ts":"2018-06-14T09:55:58.393Z"}
{"msg":"Has joined the channel.","username":"nabilm","ts":"2018-06-14T12:25:29.466Z","type":"uj"}
{"msg":"Has joined the channel.","username":"paulananth","ts":"2018-06-14T16:22:11.267Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SeamonJia","ts":"2018-06-18T09:58:21.140Z","type":"uj"}
{"msg":"At AID:Tech, @nicolapaoli and I are open-sourcing some Helm Charts to deploy Fabric on Kubernetes, stay tuned, and feel free to contribute to them once they are approved:\nhttps://github.com/kubernetes/charts/pull/6181\nhttps://github.com/kubernetes/charts/pull/6165\nhttps://github.com/kubernetes/charts/pull/6163\nhttps://github.com/kubernetes/charts/pull/6144","username":"alexvicegrab","ts":"2018-06-19T14:23:02.208Z"}
{"msg":"Has joined the channel.","username":"sunilbalaguragi","ts":"2018-06-19T16:57:34.904Z","type":"uj"}
{"msg":"are there any instructions to install hyperledger on minikube on windows platform","username":"sunilbalaguragi","ts":"2018-06-19T16:58:14.680Z"}
{"msg":"","username":"Nghiadt","ts":"2018-06-19T17:20:48.165Z","attachments":[{"type":"file","title":"MultiOrderers-Kafka-Kubernetes","title_link":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","image_url":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","image_type":"image/png","image_size":108500,"url":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","remote":false,"fileId":"aqB4XSgzzcpDgoj5x","fileName":"MultiOrderers-Kafka-Kubernetes"}]}
{"msg":"","username":"Nghiadt","ts":"2018-06-19T17:20:48.165Z","attachments":[{"type":"file","title":"MultiOrderers-Kafka-Kubernetes","title_link":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","image_url":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","image_type":"image/png","image_size":108500,"url":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","remote":false,"fileId":"aqB4XSgzzcpDgoj5x","fileName":"MultiOrderers-Kafka-Kubernetes"}]}
{"msg":"","username":"Nghiadt","ts":"2018-06-19T17:20:48.165Z","attachments":[{"type":"file","title":"MultiOrderers-Kafka-Kubernetes","title_link":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","image_url":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","image_type":"image/png","image_size":108500,"url":"/file-upload/aqB4XSgzzcpDgoj5x/MultiOrderers-Kafka-Kubernetes","remote":false,"fileId":"aqB4XSgzzcpDgoj5x","fileName":"MultiOrderers-Kafka-Kubernetes"}]}
{"msg":"Hi all, I'm trying to build MULTIPLE orderers on Kafka on Kubernetes. I've build 2 ORGs with 2 PEERs per 1 ORG, 3 Zoo, 4 Kaffa and 2 Orderer and I think the procress looks like this:\n- Each ORG will choose a PEER that connects to 1 Orderer to create a channel calling _mychannel_. In my case, I configured PEER0-ORG1 to Orderer0 and PEER0-ORG2 to Orderer1\n- Then, each PEER will join the channel via the Orderer corresponding to its own ORG\n- Finally, updating the anchor peer for ORGs\nBut, I'm in trouble at step one when trying to create channel :) Anyone can help me, please?","username":"Nghiadt","ts":"2018-06-19T17:21:15.971Z"}
{"msg":"Hi all, I'm trying to build MULTIPLE orderers on Kafka on Kubernetes. I've build *2 ORGs with 2 PEERs per 1 ORG, 3 Zoo, 4 Kaffa and 2 Orderer* and I think the procress looks like this:\n- Each ORG will choose a PEER that connects to 1 Orderer to create a channel calling *mychannel*. In my case, I configured PEER0-ORG1 to Orderer0 and PEER0-ORG2 to Orderer1\n- Then, each PEER will join the channel via the Orderer corresponding to its own ORG\n- Finally, updating the anchor peer for ORGs\nBut, I'm in trouble at step one when trying to create channel :) Anyone can help me, please?","username":"Nghiadt","ts":"2018-06-19T17:21:15.971Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BfSW9poybKM6Ev45d) @sukrit.handa@gmail.com Hi Sukrit, Did you used multiple orderers or only one?","username":"Nghiadt","ts":"2018-06-19T17:25:49.987Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BfSW9poybKM6Ev45d","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BfSW9poybKM6Ev45d","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@alexvicegrab Nice! I've been waiting for someone to do this. Feel free to take a look at my tool if you run into some issues: https://www.npmjs.com/package/kubechain . It's fully functional for 1.0.x. I use configMaps/secrets to mount certificates in my containers and copy them into a PV instead of using NFS or some other form of storage. I did so because it would allow certificate updates to be processed immediately in 1.1.x. Since 1.0.x doesn't follow sym-links for certificates. Either way hope you find something useful in there :D /","username":"RobertDiebels","ts":"2018-06-20T07:26:16.117Z"}
{"msg":"@RobertDiebels, cool, I did check out your tool early on, awesome that you are also doing work on this front.\nWe also use configMaps and secrets for a number of the certificates (the ones relating to Organisations). Hopefully we can learn from each other and improve both tools :D","username":"alexvicegrab","ts":"2018-06-20T10:09:01.943Z"}
{"msg":"@alexvicegrab yea that would be great! I'd love to chuck out the kubernetes resource generation part and just feed the configuration into the helm files. That would save me a boatload of maintenance :P","username":"RobertDiebels","ts":"2018-06-20T10:28:26.126Z"}
{"msg":"Cool, feel free to use and contribute to my charts, which are created for the resource generation, but not for the coordination between them. That might be a good division of labour for collaborating :)","username":"alexvicegrab","ts":"2018-06-20T10:29:50.051Z"}
{"msg":"If you like, we can do a call sometime and I can show you how I have set them up to work, and you might see how they fit with kubechain and whether you can suggest improvements :)","username":"alexvicegrab","ts":"2018-06-20T10:30:33.794Z"}
{"msg":"Yea that would be great. I don't know when I'm free to do so, since I'm working on integrating Hyperledger Caliper as well.","username":"RobertDiebels","ts":"2018-06-20T10:33:01.954Z"}
{"msg":"Yea that would be great. I don't know when I'm free to do so, since I'm working on integrating Hyperledger Caliper into Kubernetes as well.","username":"RobertDiebels","ts":"2018-06-20T10:33:01.954Z"}
{"msg":"I'll send you a PM when I'm available :D :thumbsup: ","username":"RobertDiebels","ts":"2018-06-20T10:34:04.680Z"}
{"msg":"Cool, we'll find a day/time when we both are available, thanks Robert!","username":"alexvicegrab","ts":"2018-06-20T10:36:02.081Z"}
{"msg":"@RobertDiebels, I am getting this error ? Which cluster context do you want to use? minikube\nSetting up kubernetes-client\nGetting kube-dns service IP-address\n[PEER-ORGANISATION]: org1\nCreating configuration directories\nUnable to create complete fabric configuration.\nReason: TypeError: Cannot read property 'forEach' of undefined\n    at PeerOrganization.createChainCodes (...\\\\AppData\\Roaming\\npm\\node_modules\\kubechain\\src\\main\\lib\\blockchains\\fabric\\adapters\\minikube\\organizations\\peer.js:154:20)","username":"sunilbalaguragi","ts":"2018-06-20T12:02:04.639Z"}
{"msg":"@sunilbalaguragi Add a chaincodes: [] I still need to add default options see: https://github.com/kubechain/kubechain/blob/master/docs/tutorials/fabric/configuration-samples/kubechain/chaincode-and-channel.kubechain.config.js","username":"RobertDiebels","ts":"2018-06-20T12:24:09.774Z"}
{"msg":"kka","username":"Nghiadt","ts":"2018-06-20T14:47:44.723Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=L5Ho8LtMH8Jh8DwvX) @vanitas92 Hi @vanitas92 Are you using multiple or single orderer? I'm being in trouble with multiple orderers - kafka because of cannot lookup the orderers domain name","username":"Nghiadt","ts":"2018-06-20T17:05:06.870Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=L5Ho8LtMH8Jh8DwvX","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=L5Ho8LtMH8Jh8DwvX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q3yXyB3nrgwkGG8kQ) @RobertDiebels  - Please let me know, where should I add the chaincodes. I copied kubechain.config.js, but did not help","username":"sunilbalaguragi","ts":"2018-06-21T00:33:24.585Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q3yXyB3nrgwkGG8kQ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q3yXyB3nrgwkGG8kQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@sunilbalaguragi try version 0.6.2 instead of 0.6.3 if you will.","username":"RobertDiebels","ts":"2018-06-21T07:34:45.125Z"}
{"msg":"I just checked https://github.com/kubechain/kubechain/blob/master/src/main/ts/blockchains/fabric/adapters/minikube/organizations/peer.ts#L154 which is about chaincodes. The file I linked above should contain a property called `options` with an object and another property `chaincodes` which should hold an empty Array.","username":"RobertDiebels","ts":"2018-06-21T07:40:17.125Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=goqtvz5W5M5qnCkLi) @Nghiadt I'm using a single orderer. I have not try the solution everyone is commenting here of adding the GODEBUG variable at the yaml but i think it should work. I am currently using 4 deployments for 4 kafka brokers","username":"vanitas92","ts":"2018-06-21T08:21:45.142Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=goqtvz5W5M5qnCkLi","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=goqtvz5W5M5qnCkLi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"NurDerFSV","ts":"2018-06-21T09:17:47.276Z","type":"uj"}
{"msg":"hello, does anyone have any experiences with dcos or marathon instead kubernetes ?","username":"NurDerFSV","ts":"2018-06-21T09:21:59.003Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=72RAnv9ENiSqjqQ2m) @vanitas92 I'll try this one. Btw, I've just seen your messages which is about the instantiation chaincodes on kubernetes. Have you done yet? I pass it, maybe i can help","username":"Nghiadt","ts":"2018-06-21T09:28:49.130Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=72RAnv9ENiSqjqQ2m","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=72RAnv9ENiSqjqQ2m","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=72RAnv9ENiSqjqQ2m) @vanitas92 I'll try this one. Btw, I've just seen your message which is about the instantiation chaincodes on kubernetes. Have you done yet? I pass it, maybe i can help","username":"Nghiadt","ts":"2018-06-21T09:28:49.130Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=72RAnv9ENiSqjqQ2m","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=72RAnv9ENiSqjqQ2m","remote":true,"fileId":null,"fileName":null}]}
{"msg":"","username":"Nghiadt","ts":"2018-06-21T09:33:09.158Z","attachments":[{"type":"file","title":"Orderers-Kafkas-Zoos","title_link":"/file-upload/sttxFuNcD4egZWNGK/Orderers-Kafkas-Zoos","image_url":"/file-upload/sttxFuNcD4egZWNGK/Orderers-Kafkas-Zoos","image_type":"image/png","image_size":86409,"url":"/file-upload/sttxFuNcD4egZWNGK/Orderers-Kafkas-Zoos","remote":false,"fileId":"sttxFuNcD4egZWNGK","fileName":"Orderers-Kafkas-Zoos"}]}
{"msg":"Hi everyone, My Kafka-Zoo cluster cannot  find endpoint orderers. I think, maybe Kube-DNS cannot lookup the orderer's domain name.\nHow should I do now?","username":"Nghiadt","ts":"2018-06-21T09:33:11.651Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WJ5SzYebqR4apuxXH) @Nghiadt Ive tried one way but you have to enable dev mode on your chaincodes to do so. I do not reccomend this approach and its not suitable for dynamic upgrades or instantiation of new chaincodes. I wait until the dev team at hyperledger comes a good way of adding this feature. I follow this issue in jira which they discuss a way of approaching this but since february there is no activity: https://jira.hyperledger.org/browse/FAB-7406","username":"vanitas92","ts":"2018-06-21T17:19:36.804Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WJ5SzYebqR4apuxXH","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WJ5SzYebqR4apuxXH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@vanitas92  I've just added two vars env. You can try it\n`- name: CORE_PEER_TLS_SERVERHOSTOVERRIDE # The server name use this name to verify the hostname returned by TLS handshake`\n              `value: <your-server-hostname>`\n            `- name: CORE_PEER_ADDRESSAUTODETECT # PEER exposes its dynamic IP`\n              `value: \"true\"`","username":"Nghiadt","ts":"2018-06-21T23:14:30.412Z"}
{"msg":"@vanitas92  I finded this solution from another one in this channel. You can search histories chat to check again. ","username":"Nghiadt","ts":"2018-06-21T23:16:46.984Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=H43dnyfrDeaAx4BGG) @RobertDiebels Robert, Thanks for looking into this, I checked peer.ts file it looks good. In the peer*.js*, I replaced this line var chaincodes = this.options.get('$.options.chaincodes'); with an empty array, then it did not generate any error.","username":"sunilbalaguragi","ts":"2018-06-21T23:24:25.877Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=H43dnyfrDeaAx4BGG","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=H43dnyfrDeaAx4BGG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=bZpGrwHj979Gh4vQK) @joaquimpedrooliveira are you using multiple or one orderer?","username":"Nghiadt","ts":"2018-06-22T00:51:25.984Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=bZpGrwHj979Gh4vQK","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=bZpGrwHj979Gh4vQK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=GCjnyFaPLFjLzujHJ) @vanitas92 I solved this. Because I configured Kafka cluster (Kafka & Zoo) in namespace different from the Orderer but I do not point it out :) Then i decided letting them (Orderer, Kafkas, Zoos) in the same namespace. So, it works!","username":"Nghiadt","ts":"2018-06-22T01:12:00.130Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=GCjnyFaPLFjLzujHJ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=GCjnyFaPLFjLzujHJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=GCjnyFaPLFjLzujHJ) @vanitas92 I solved this. Because I configured Kafka cluster (Kafka & Zoo) in a namespace different from the Orderer's one but I do not point it out :) Then i decided letting them (Orderer, Kafkas, Zoos) in the same namespace. So, it works!","username":"Nghiadt","ts":"2018-06-22T01:12:00.130Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=GCjnyFaPLFjLzujHJ","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=GCjnyFaPLFjLzujHJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=j3hYqM9HtTSzjoeob) @Nghiadt Ok but you have to link the docker socket with kubernetes somehow, aprt from adding this variables what else have you done in order to make it work?","username":"vanitas92","ts":"2018-06-22T07:26:21.362Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=j3hYqM9HtTSzjoeob","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=j3hYqM9HtTSzjoeob","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=j3hYqM9HtTSzjoeob) @Nghiadt Ok but you have to link the docker socket with kubernetes somehow, apart from adding these variables what else have you done in order to make it work?","username":"vanitas92","ts":"2018-06-22T07:26:21.362Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=j3hYqM9HtTSzjoeob","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=j3hYqM9HtTSzjoeob","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=XXtHpE7WGA5ivDAjz) @sunilbalaguragi That's not exactly what I meant. I meant you should alter the kubechain.config.js file so that the chaincodes property is an empty array. If you got it working though it's fine.","username":"RobertDiebels","ts":"2018-06-22T08:18:47.187Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=XXtHpE7WGA5ivDAjz","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=XXtHpE7WGA5ivDAjz","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hello All, Just a quick question ??? Having Fabric on Kubernetes is possible and but last time I tried for the settings I used, I was able install and instantiate chaincode and transact with same. But the container for chaincode was not visible to Kubernetes and so not managed by it... Is there a way to have chaincode and their versions now visible and managed by Kubernetes ???","username":"govinda-attal","ts":"2018-06-22T10:40:31.123Z"}
{"msg":"Has joined the channel.","username":"nvxtien","ts":"2018-06-22T11:26:55.672Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Lakshmipadmaja","ts":"2018-06-22T12:18:19.153Z","type":"uj"}
{"msg":"@govinda-attal To my knowledge not yet ! But I know that some issues have been opened in Jira about this. \nAs I remember, the idea is about being able to tell Fabric if the chaincode must be instantiated on the docker daemon or on K8s.","username":"MonnyClara","ts":"2018-06-22T12:33:02.475Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-5578?jql=text%20~%20%22kubernetes%22","username":"MonnyClara","ts":"2018-06-22T12:34:18.209Z"}
{"msg":"@vanitas92 Nope, Just 2 options. Your chaincode cannot connect again to its peer because Docker DNS cannot reverse the peer IP from peer hostname. So, you have 2 options, configure docker host to find peer IP from its hostname or expose its IP. \nIn my case, I choose the second one.  Setting\n`CORE_PEER_ADDRESSAUTODETECT=true` the peer will automate expose its real IP for us instead of its hostname. And you use `CORE_PEER_TLS_SERVERHOSTOVERRIDE='peer-host-name'` for your TLS option.","username":"Nghiadt","ts":"2018-06-23T00:51:58.698Z"}
{"msg":"@vanitas92 Nope, Just 2 options. Your chaincode cannot connect again to its peer because Docker DNS cannot reverse the peer IP from peer hostname. So, you have 2 options, configure docker host to find peer IP from its hostname or expose its IP from the beginning.\nIn my case, I choose the second one.  Setting\n`CORE_PEER_ADDRESSAUTODETECT=true` the peer will automate expose its real IP for us instead of its hostname. And you use `CORE_PEER_TLS_SERVERHOSTOVERRIDE='peer-host-name'` for your TLS option.","username":"Nghiadt","ts":"2018-06-23T00:51:58.698Z"}
{"msg":"Has joined the channel.","username":"rudimk","ts":"2018-06-23T04:15:23.640Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sureshtedla","ts":"2018-06-23T23:30:03.973Z","type":"uj"}
{"msg":"@MonnyClara Thank you this helps our team to decide for our current deployment options.  Good day!","username":"govinda-attal","ts":"2018-06-24T18:49:13.477Z"}
{"msg":"Has joined the channel.","username":"DavidPark","ts":"2018-06-26T22:57:45.751Z","type":"uj"}
{"msg":"Has left the channel.","username":"RobertDiebels","ts":"2018-06-27T08:16:14.159Z","type":"ul"}
{"msg":"Has joined the channel.","username":"axel","ts":"2018-06-27T15:00:17.100Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bejoypg","ts":"2018-06-28T08:28:30.111Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vinayakkumar","ts":"2018-06-29T11:00:54.696Z","type":"uj"}
{"msg":"","username":"Nghiadt","ts":"2018-06-29T17:01:57.277Z","attachments":[{"type":"file","title":"Kafka-Orderer-Error.png","title_link":"/file-upload/pCvG452udSR8Dzfdr/Kafka-Orderer-Error.png","image_url":"/file-upload/pCvG452udSR8Dzfdr/Kafka-Orderer-Error.png","image_type":"image/png","image_size":531297,"url":"/file-upload/pCvG452udSR8Dzfdr/Kafka-Orderer-Error.png","remote":false,"fileId":"pCvG452udSR8Dzfdr","fileName":"Kafka-Orderer-Error.png"}]}
{"msg":"I'm building Kafka on K8s and I've gotten this Error when trying to create channel. ","username":"Nghiadt","ts":"2018-06-29T17:02:39.531Z"}
{"msg":"Has anyone gotten it?","username":"Nghiadt","ts":"2018-06-29T17:04:00.785Z"}
{"msg":"Has joined the channel.","username":"SDive","ts":"2018-06-30T14:17:57.077Z","type":"uj"}
{"msg":"Hi all, anyone managed successfully running kafka orderer/zk on k8s, please share scripts  ","username":"Othman.Darwish","ts":"2018-07-01T09:27:22.393Z"}
{"msg":"Has joined the channel.","username":"altairlee","ts":"2018-07-02T08:07:58.602Z","type":"uj"}
{"msg":"Has joined the channel.","username":"futurama92","ts":"2018-07-02T09:31:47.941Z","type":"uj"}
{"msg":"Has joined the channel.","username":"n1zyz","ts":"2018-07-02T12:28:42.527Z","type":"uj"}
{"msg":"hi! anyone used SSL with kafka on kubernetes before?","username":"Taffies","ts":"2018-07-03T07:35:53.108Z"}
{"msg":"Has joined the channel.","username":"edevil","ts":"2018-07-03T10:58:52.954Z","type":"uj"}
{"msg":"Has left the channel.","username":"grice_32","ts":"2018-07-03T13:07:03.191Z","type":"ul"}
{"msg":"Has joined the channel.","username":"sudhir.kumawat","ts":"2018-07-03T15:30:55.050Z","type":"uj"}
{"msg":"Hi i am trying to deploy business network archive(.bna) to hyperledger network setup on kubernetes and getting error when compose network install command using to install chaincode on fabric network   Error; Unknown chaincodeType: NODE","username":"sudhir.kumawat","ts":"2018-07-03T15:33:23.929Z"}
{"msg":"hi! how do i switch over to another peer inside the CLI?","username":"Taffies","ts":"2018-07-04T07:24:40.300Z"}
{"msg":"i want to the peer1 to the channel from the CLI but i'm unable to do so","username":"Taffies","ts":"2018-07-04T07:24:52.543Z"}
{"msg":"i want to join the peer1 to the channel from the CLI but i'm unable to do so","username":"Taffies","ts":"2018-07-04T07:24:52.543Z"}
{"msg":"Has joined the channel.","username":"giniz","ts":"2018-07-05T09:23:03.816Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ongkhaiwei","ts":"2018-07-05T13:50:32.239Z","type":"uj"}
{"msg":"Hi All Just need one clarification on fabric-ca example in fabric-sample folder. I used fabric-ca example to create certificates via fabric Certificate Authority. After successfully running it, 1 orderer, 1 ca, 2 peers and 1 chaincode containers are started successfully. My Question is that Is it possible to deploy all this container services to kubernetes using *KOMPOSE *tool by converting the docker-compose.yaml file to kubernetes resources??","username":"anzalbeg","ts":"2018-07-05T14:53:55.835Z"}
{"msg":"Can anyone have anything to suggest?","username":"anzalbeg","ts":"2018-07-05T14:55:30.274Z"}
{"msg":"Has joined the channel.","username":"merth","ts":"2018-07-05T18:52:14.305Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thakurnikk","ts":"2018-07-09T06:17:59.073Z","type":"uj"}
{"msg":"i am trying to setup hyperledger-fabric example using kubernetes in my local ubuntu machine","username":"thakurnikk","ts":"2018-07-09T11:30:47.371Z"}
{"msg":"","username":"thakurnikk","ts":"2018-07-09T11:32:02.552Z","attachments":[{"type":"file","title":"Screenshot from 2018-07-09 16-58-52.png","title_link":"/file-upload/dMwwqQ8wrQDJekro9/Screenshot%20from%202018-07-09%2016-58-52.png","image_url":"/file-upload/dMwwqQ8wrQDJekro9/Screenshot%20from%202018-07-09%2016-58-52.png","image_type":"image/png","image_size":229704,"url":"/file-upload/dMwwqQ8wrQDJekro9/Screenshot%20from%202018-07-09%2016-58-52.png","remote":false,"fileId":"dMwwqQ8wrQDJekro9","fileName":"Screenshot from 2018-07-09 16-58-52.png"}]}
{"msg":"i am using http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-2/ for setup, when i use the kubectl command to describe the pod it shows some problem with the docker? any body k","username":"thakurnikk","ts":"2018-07-09T11:34:11.938Z"}
{"msg":"i am using http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-2/ for setup, when i use the kubectl command to describe the pod it shows some problem with the docker? does anyone knows the solution","username":"thakurnikk","ts":"2018-07-09T11:34:11.938Z"}
{"msg":"i am using http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-2/ for setup, when i use the kubectl command to describe the pod it shows some problem with the docker? does anyone knows the solution @yacovm  @jyellick ","username":"thakurnikk","ts":"2018-07-09T11:34:11.938Z"}
{"msg":"why are you tagging me? :/ ","username":"yacovm","ts":"2018-07-09T11:45:09.025Z"}
{"msg":"Has left the channel.","username":"baohua","ts":"2018-07-10T03:09:14.817Z","type":"ul"}
{"msg":"Has joined the channel.","username":"EricYang","ts":"2018-07-10T04:27:16.189Z","type":"uj"}
{"msg":"@thakurnikk  That article is little bit out of date.","username":"Luke_Chen","ts":"2018-07-10T05:47:59.690Z"}
{"msg":"use this on instead.","username":"Luke_Chen","ts":"2018-07-10T05:48:06.651Z"}
{"msg":"use this one instead.","username":"Luke_Chen","ts":"2018-07-10T05:48:06.651Z"}
{"msg":"which one @Luke_Chen ? ","username":"thakurnikk","ts":"2018-07-10T05:49:44.688Z"}
{"msg":"okay @Luke_Chen, Thaknyou :)","username":"thakurnikk","ts":"2018-07-10T05:49:44.688Z"}
{"msg":"https://labs.vmware.com/flings/blockchain-on-kubernetes","username":"Luke_Chen","ts":"2018-07-10T05:50:01.395Z"}
{"msg":"skip the part of setting up kubernetes","username":"Luke_Chen","ts":"2018-07-10T05:50:11.936Z"}
{"msg":"okay @Luke_Chen, Thaknyou :)","username":"thakurnikk","ts":"2018-07-10T05:52:02.531Z"}
{"msg":"Has joined the channel.","username":"sekipaolo","ts":"2018-07-10T15:11:08.430Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jayeshjawale95","ts":"2018-07-11T07:30:36.887Z","type":"uj"}
{"msg":"Hello everyone I am trying to install and start business network over hyperledger fabric running on kubernetes with composer and getting error  Failed to generate platform-specific docker build: Error returned from build: 1 \"npm ERR! code EAI_AGAIN\nnpm ERR! errno EAI_AGAIN\nnpm ERR! request to https://registry.npmjs.org/composer-runtime-hlfv1 failed, reason: getaddrinfo EAI_AGAIN registry.npmjs.org:443\n","username":"sudhir.kumawat","ts":"2018-07-12T08:11:09.380Z"}
{"msg":"Can anyone help me to resolve this issue.","username":"sudhir.kumawat","ts":"2018-07-12T08:11:28.740Z"}
{"msg":"I am using composer version 0.19.12  HF version 1.1.0  Node version 8.10.0 ","username":"sudhir.kumawat","ts":"2018-07-12T08:12:17.760Z"}
{"msg":"Has joined the channel.","username":"leolustig","ts":"2018-07-12T14:16:04.268Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gsgx","ts":"2018-07-12T15:00:47.383Z","type":"uj"}
{"msg":"Has joined the channel.","username":"BlockchainBusiness","ts":"2018-07-16T02:33:41.441Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tejpowar","ts":"2018-07-16T10:02:15.588Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vkblue","ts":"2018-07-16T23:29:02.754Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alek","ts":"2018-07-17T10:07:00.260Z","type":"uj"}
{"msg":"Hello everybody, I'm trying to set up fabric 1.2 on kubernetes, has someone successfully got it?","username":"alejandrolr","ts":"2018-07-17T10:10:59.285Z"}
{"msg":"with 1.0 it works fine but I want to upgrade my components","username":"alejandrolr","ts":"2018-07-17T10:11:43.008Z"}
{"msg":"hi everyone i want to change network mode from bridge(default) to host in chaincode containers spin up through composer network start command.Anyone can help out. This is the specific case where mode is not changing. however i am able to change network mode of those chaincode containers which are instantiate with peer chaincode instantiate command\n","username":"sudhir.kumawat","ts":"2018-07-18T10:42:49.169Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=eFn9bLjzopf9QLszR) @sudhir.kumawat You can set the following environment variable in the yamls of deployment:\n - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n    value: host","username":"vanitas92","ts":"2018-07-18T12:13:10.800Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=eFn9bLjzopf9QLszR","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=eFn9bLjzopf9QLszR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi @vanitas92 , I have used this in peers yaml and chaincode containers are up with host n/w.  But i want to change network setting of those chaincode containers which are up with composer network start","username":"sudhir.kumawat","ts":"2018-07-18T12:23:02.547Z"}
{"msg":"Has joined the channel.","username":"javrevasandeep","ts":"2018-07-18T17:50:49.910Z","type":"uj"}
{"msg":"@Luke_Chen I am facing this issue while creating channel\ngrpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: Error while dialing dial tcp 192.168.99.100:7050","username":"javrevasandeep","ts":"2018-07-18T18:15:54.916Z"}
{"msg":"Has joined the channel.","username":"newthinker","ts":"2018-07-19T01:58:16.364Z","type":"uj"}
{"msg":"@javrevasandeep Any detail logs can be tracked ?","username":"Luke_Chen","ts":"2018-07-19T12:52:11.620Z"}
{"msg":"Has joined the channel.","username":"iwinoto","ts":"2018-07-19T13:02:24.218Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rajanashutosh","ts":"2018-07-19T14:29:18.579Z","type":"uj"}
{"msg":"Has joined the channel.","username":"amongv587","ts":"2018-07-19T15:07:31.999Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AHnNA5mMs9jpui4LX) @Luke_Chen Below given is my helm value.yaml file\n# Default values for fabric-artifacts.\n# This is a YAML-formatted file.\n# Declare variables to be passed into your templates.\nfabricTag: &fabricTag x86_64-1.0.5\nreplicaCount: 1\nimage:\nrepository: nginx\ntag: stable\npullPolicy: IfNotPresent\nservice:\nname: nginx\ntype: ClusterIP\nexternalPort: 80\ninternalPort: 80nam\nfabricOrderer:\naddr: 192.168.99.100\norgDomain: org1.example.com\nreplicas: 1\nimage: hyperledger/fabric-orderer\ntag: *fabricTag\norgDomain: example.com\nconsensusType: solo\nmsp: OrdererMSP\nfabricOrg1:\ndomain: org1.example.com\nmsp: Org1MSP\nfabricOrg2:\ndomain: org2.example.com\nmsp: Org2MSP\nfabricCa1:\nkeyStoreHash: c4d6886fb9125ae7c69acbfcb965eeed7b7d39c0ce65293b369175aa3635cdaf\nimage: hyperledger/fabric-ca\ntag: *fabricTag\nfabricCa2:\nkeyStoreHash: 50802fade11ec16c31e4ca4979137f8d83750b84986dcb7e100cb0f21d3c2952\nimage: hyperledger/fabric-ca\ntag: *fabricTag\nfabricPeer:\nimage: hyperledger/fabric-peer\ntag: *fabricTag\ningress:\nenabled: false\n# Used to create an Ingress record.\nhosts:\n- example.com\naddr: 192.168.99.100\nannotations:\n# kubernetes.io/ingress.class: nginx\n# kubernetes.io/tls-acme: \"true\"\ntls:\n# Secrets must be manually created in the namespace.\n# - secretName: chart-example-tls\n# hosts:\n# - chart-example.local\nresources: {}","username":"javrevasandeep","ts":"2018-07-19T15:39:54.543Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AHnNA5mMs9jpui4LX","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=AHnNA5mMs9jpui4LX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Swaroop.Kondru","ts":"2018-07-21T19:12:35.589Z","type":"uj"}
{"msg":"Has joined the channel.","username":"maheshwarishikha","ts":"2018-07-22T06:02:20.458Z","type":"uj"}
{"msg":"Hi all, I have done setup off hyper-ledger fabric using docker compose, I would like to know while setting up hyperledger fabric using kubernetes what would be the difference. Also if you could provide me some tutorials to follow would be of great help ","username":"rajanashutosh","ts":"2018-07-22T07:58:20.202Z"}
{"msg":"Hi all, I am upgrading the hyperledger fabric network on Kubernetes to 1.1 from 1.0. All things worked fine till chaincode install but chaincode instantiation is failing with error: \n\"Error: Error endorsing chaincode: rpc error: code = Unknown desc = failed to execute transaction: timeout expired while executing transaction\"\nI have tried setting 'CORE_CHAINCODE_STARTUPTIMEOUT' but no luck. Can anyone give pointers to resolve this error. TIA.","username":"maheshwarishikha","ts":"2018-07-22T08:14:01.824Z"}
{"msg":"In a multi-host environment which is better going with Kubernetes or Docker Swarm.?","username":"rajanashutosh","ts":"2018-07-23T06:56:34.564Z"}
{"msg":"Also, if we are going ahead with Kubernetes which networking model is best suited, Flannel or Docker Overlay network. ?","username":"rajanashutosh","ts":"2018-07-23T07:06:08.662Z"}
{"msg":"Hello guys. I am facing issue while instantiating the chaincode on google kubernetes engine ","username":"anzalbeg","ts":"2018-07-23T12:07:19.020Z"}
{"msg":"below given is the cli container logs","username":"anzalbeg","ts":"2018-07-23T12:10:02.321Z"}
{"msg":"CORE_CHAINCODE_LOGGING_FORMAT=%{color}%{time:2006-01-02 15:04:05.000 MST} [%{module}] %{shortfunc} -> %{level:.4s} %{id:03x}%{color:reset} %{message}\n2018-07-23 11:57:42.109 UTC [container] lockContainer -> DEBU 3c7 waiting for container(dev-peer1.org1.example.com-mycc-1.0) lock\n2018-07-23 11:57:42.109 UTC [container] lockContainer -> DEBU 3c8 got container (dev-peer1.org1.example.com-mycc-1.0) lock\n2018-07-23 11:57:42.109 UTC [dockercontroller] Start -> DEBU 3c9 Cleanup container dev-peer1.org1.example.com-mycc-1.0\n2018-07-23 11:57:42.111 UTC [dockercontroller] stopInternal -> DEBU 3ca Stop container dev-peer1.org1.example.com-mycc-1.0(Container not running: dev-peer1.org1.example.com-mycc-1.0)\n2018-07-23 11:57:42.112 UTC [dockercontroller] stopInternal -> DEBU 3cb Kill container dev-peer1.org1.example.com-mycc-1.0 (API error (500): {\"message\":\"Cannot kill container dev-peer1.org1.example.com-mycc-1.0: Container df448a5162f54077d65788582ac8df52bc658166df75684bf4467411dde4ae17 is not running\"}\n)\n2018-07-23 11:57:42.123 UTC [dockercontroller] stopInternal -> DEBU 3cc Removed container dev-peer1.org1.example.com-mycc-1.0\n2018-07-23 11:57:42.123 UTC [dockercontroller] Start -> DEBU 3cd Start container dev-peer1.org1.example.com-mycc-1.0\n2018-07-23 11:57:42.123 UTC [dockercontroller] getDockerHostConfig -> DEBU 3ce docker container hostconfig NetworkMode: host\n2018-07-23 11:57:42.124 UTC [dockercontroller] createContainer -> DEBU 3cf Create container: dev-peer1.org1.example.com-mycc-1.0\n2018-07-23 11:57:42.170 UTC [dockercontroller] createContainer -> DEBU 3d0 Created container: dev-peer1.org1.example.com-mycc-1.0-cd123150154e6bf2df7ce682e0b1bcbea40499416f37a6da3aae14c4eb51b08d\n2018-07-23 11:57:42.396 UTC [dockercontroller] Start -> DEBU 3d1 Started container dev-peer1.org1.example.com-mycc-1.0\n2018-07-23 11:57:42.396 UTC [container] unlockContainer -> DEBU 3d2 container lock deleted(dev-peer1.org1.example.com-mycc-1.0)\n2018-07-23 11:57:42.421 UTC [chaincode] HandleChaincodeStream -> DEBU 3d3 Current context deadline = 0001-01-01 00:00:00 +0000 UTC, ok = false\n2018-07-23 11:57:42.422 UTC [chaincode] processStream -> DEBU 3d4 []Received message REGISTER from shim\n2018-07-23 11:57:42.422 UTC [chaincode] handleMessage -> DEBU 3d5 []Fabric side Handling ChaincodeMessage of type: REGISTER in state created\n2018-07-23 11:57:42.422 UTC [chaincode] beforeRegisterEvent -> DEBU 3d6 Received REGISTER in state created\n2018-07-23 11:57:42.422 UTC [chaincode] registerHandler -> DEBU 3d7 registered handler complete for chaincode mycc:1.0\n2018-07-23 11:57:42.422 UTC [chaincode] beforeRegisterEvent -> DEBU 3d8 Got REGISTER for chaincodeID = name:\"mycc:1.0\" , sending back REGISTERED\n2018-07-23 11:57:42.422 UTC [chaincode] notifyDuringStartup -> DEBU 3d9 Notifying during startup\n2018-07-23 11:57:42.422 UTC [chaincode] func1 -> DEBU 3da chaincode mycc:1.0 launch seq completed\n2018-07-23 11:57:42.423 UTC [chaincode] ready -> DEBU 3db sending READY\n2018-07-23 11:57:42.423 UTC [chaincode] setChaincodeProposal -> DEBU 3dc Setting chaincode proposal context...\n2018-07-23 11:57:42.423 UTC [chaincode] setChaincodeProposal -> DEBU 3dd Proposal different from nil. Creating chaincode proposal context...\n2018-07-23 11:57:42.423 UTC [chaincode] processStream -> DEBU 3de [8fae273c]Move state message READY\n2018-07-23 11:57:42.423 UTC [chaincode] handleMessage -> DEBU 3df [8fae273c]Fabric side Handling ChaincodeMessage of type: READY in state established\n2018-07-23 11:57:42.423 UTC [chaincode] enterReadyState -> DEBU 3e0 [8fae273c]Entered state ready\n2018-07-23 11:57:42.423 UTC [chaincode] notify -> DEBU 3e1 notifying Txid:8fae273cee64d4743ca181f848f796a9b2649869bccf5647fa335e20c59ab850, channelID:mychannel\n2018-07-23 11:57:42.423 UTC [chaincode] processStream -> DEBU 3e2 [8fae273c]sending state message READY\n2018-07-23 11:57:42.423 UTC [chaincode] Launch -> DEBU 3e3 sending init completed\n2018-07-23 11:57:42.423 UTC [chaincode] Launch -> DEBU 3e4 LaunchChaincode complete\n2018-07-23 11:57:42.423 UTC [chaincode] Execute -> DEBU 3e5 Entry\n2018-07-23 11:57:42.423 UTC [chaincode] Execute -> DEBU 3e6 chaincode canonical name: mycc:1.0","username":"anzalbeg","ts":"2018-07-23T12:10:32.481Z"}
{"msg":"2018-07-23 11:57:42.423 UTC [chaincode] sendExecuteMessage -> DEBU 3e7 [8fae273c]Inside sendExecuteMessage. Message INIT\n2018-07-23 11:57:42.424 UTC [chaincode] setChaincodeProposal -> DEBU 3e8 Setting chaincode proposal context...\n2018-07-23 11:57:42.424 UTC [chaincode] setChaincodeProposal -> DEBU 3e9 Proposal different from nil. Creating chaincode proposal context...\n2018-07-23 11:57:42.424 UTC [chaincode] sendExecuteMessage -> DEBU 3ea [8fae273c]sendExecuteMsg trigger event INIT\n2018-07-23 11:57:42.424 UTC [chaincode] processStream -> DEBU 3eb [8fae273c]Move state message INIT\n2018-07-23 11:57:42.424 UTC [chaincode] handleMessage -> DEBU 3ec [8fae273c]Fabric side Handling ChaincodeMessage of type: INIT in state ready\n2018-07-23 11:57:42.424 UTC [chaincode] filterError -> DEBU 3ed Ignoring NoTransitionError: no transition\n2018-07-23 11:57:42.424 UTC [chaincode] processStream -> DEBU 3ee [8fae273c]sending state message INIT\n2018-07-23 11:57:42.425 UTC [dev-peer1.org1.example.com-mycc-1.0] func2 -> INFO 3ef ex02 Init\n2018-07-23 11:57:42.426 UTC [dev-peer1.org1.example.com-mycc-1.0] func2 -> INFO 3f0 Aval = 100, Bval = 200\n2018-07-23 11:57:42.426 UTC [chaincode] processStream -> DEBU 3f1 [8fae273c]Received message PUT_STATE from shim\n2018-07-23 11:57:42.426 UTC [chaincode] handleMessage -> DEBU 3f2 [8fae273c]Fabric side Handling ChaincodeMessage of type: PUT_STATE in state ready\n2018-07-23 11:57:42.426 UTC [chaincode] filterError -> DEBU 3f3 Ignoring NoTransitionError: no transition\n2018-07-23 11:57:42.426 UTC [chaincode] func1 -> DEBU 3f4 [8fae273c]state is ready\n2018-07-23 11:57:42.426 UTC [chaincode] isValidTxSim -> ERRO 3f5 [[8fae273c PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)\n2018-07-23 11:57:42.426 UTC [chaincode] 1 -> DEBU 3f6 [8fae273c]enterBusyState trigger event ERROR\n2018-07-23 11:57:42.426 UTC [chaincode] processStream -> DEBU 3f7 [8fae273c]Move state message ERROR\n2018-07-23 11:57:42.426 UTC [chaincode] handleMessage -> DEBU 3f8 [8fae273c]Fabric side Handling ChaincodeMessage of type: ERROR in state ready\n2018-07-23 11:57:42.426 UTC [chaincode] handleMessage -> DEBU 3f9 [8fae273cee64d4743ca181f848f796a9b2649869bccf5647fa335e20c59ab850]HandleMessage- COMPLETED. Notify\n2018-07-23 11:57:42.427 UTC [chaincode] notify -> DEBU 3fa notifier Txid:8fae273cee64d4743ca181f848f796a9b2649869bccf5647fa335e20c59ab850, channelID: does not exist\n2018-07-23 11:57:42.427 UTC [chaincode] processStream -> DEBU 3fb [8fae273c]sending state message ERROR\n2018-07-23 11:57:42.428 UTC [chaincode] processStream -> DEBU 3fc [8fae273c]Received message ERROR from shim\n2018-07-23 11:57:42.428 UTC [chaincode] processStream -> ERRO 3fd Got error: [[8fae273c PUT_STATE ERROR]]No ledger context for %!s(MISSING). Sending %!s(MISSING)\n2018-07-23 11:57:42.428 UTC [chaincode] handleMessage -> DEBU 3fe [8fae273c]Fabric side Handling ChaincodeMessage of type: ERROR in state ready\n2018-07-23 11:57:42.428 UTC [chaincode] handleMessage -> DEBU 3ff [8fae273cee64d4743ca181f848f796a9b2649869bccf5647fa335e20c59ab850]HandleMessage- COMPLETED. Notify\n2018-07-23 11:57:42.428 UTC [chaincode] notify -> DEBU 400 notifier Txid:8fae273cee64d4743ca181f848f796a9b2649869bccf5647fa335e20c59ab850, channelID: does not exist\n2018-07-23 11:57:42.428 UTC [dev-peer1.org1.example.com-mycc-1.0] func2 -> INFO 401 2018-07-23 11:57:42.427 UTC [shim] handlePutState -> ERRO 001 [8fae273c]Received ERROR. Payload: [[8fae273c PUT_STATE ERROR]]No ledger context for %!s(MISSING). Sending %!s(MISSING)\n2018-07-23 11:57:42.428 UTC [dev-peer1.org1.example.com-mycc-1.0] func2 -> INFO 402 2018-07-23 11:57:42.427 UTC [shim] 2 -> ERRO 002 [[8fae273c ERROR]]Init get error response [%!s(MISSING)]. Sending %!s(MISSING)\n2018-07-23 11:58:12.424 UTC [chaincode] Execute -> DEBU 403 Exit\n2018-07-23 11:58:12.425 UTC [endorser] callChaincode -> DEBU 404 [mychannel][8fae273c] Exit\n2018-07-23 11:58:12.425 UTC [endorser] simulateProposal -> ERRO 405 [mychannel][8fae273c] failed to invoke chaincode name:\"lscc\" , error: timeout expired while executing transaction\n","username":"anzalbeg","ts":"2018-07-23T12:10:55.750Z"}
{"msg":"github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:813\ngithub.com/hyperledger/fabric/core/chaincode.Execute\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/exectransaction.go:58\ngithub.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:93\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:173\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).simulateProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:287\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:513\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:31\ngithub.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler\n        /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:112\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC\n        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:781\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream\n        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:981\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1\n        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:551\nruntime.goexit\n        /opt/go/src/runtime/asm_amd64.s:2337\nfailed to execute transaction\n2018-07-23 11:58:12.425 UTC [endorser] simulateProposal -> DEBU 406 [mychannel][8fae273c] Exit\n2018-07-23 11:58:12.425 UTC [lockbasedtxmgr] Done -> DEBU 407 Done with transaction simulation / query execution [8fae273cee64d4743ca181f848f796a9b2649869bccf5647fa335e20c59ab850]\n2018-07-23 11:58:12.425 UTC [endorser] ProcessProposal -> DEBU 408 Exit: request from%!(EXTRA string=10.128.0.3:60688)","username":"anzalbeg","ts":"2018-07-23T12:11:00.909Z"}
{"msg":"i am getting this issue \n[e9585782 PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING) ERRO 6a2 [bloqchannel][e9585782] failed to invoke chaincode name:\"lscc\" , error: timeout expired while executing transaction","username":"anzalbeg","ts":"2018-07-23T12:11:35.221Z"}
{"msg":"Has joined the channel.","username":"bobzhao","ts":"2018-07-23T15:26:14.509Z","type":"uj"}
{"msg":"Has joined the channel.","username":"iamksseo","ts":"2018-07-24T02:00:21.778Z","type":"uj"}
{"msg":"Require help with production setup","username":"jayeshjawale95","ts":"2018-07-24T09:17:01.426Z"}
{"msg":"Require help with production setup, kubernetes, fabric, flannel, kafka orderers","username":"jayeshjawale95","ts":"2018-07-24T09:17:01.426Z"}
{"msg":"Require help with production setup, kubernetes, fabric, flannel, kafka orderers, and how chaincode containers will be spawn","username":"jayeshjawale95","ts":"2018-07-24T09:17:01.426Z"}
{"msg":"Has joined the channel.","username":"fabiomolinar","ts":"2018-07-24T18:12:26.252Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jakereps","ts":"2018-07-24T22:46:23.763Z","type":"uj"}
{"msg":"@maheshwarishikha Maybe you can check if the env variable PEER_LISTEN_ADDRESS is correctly set. (I'm not sure of the variable name)","username":"MonnyClara","ts":"2018-07-25T07:01:43.267Z"}
{"msg":"Has joined the channel.","username":"Muffi","ts":"2018-07-26T06:53:48.622Z","type":"uj"}
{"msg":"Has joined the channel.","username":"naviat","ts":"2018-07-26T09:01:42.514Z","type":"uj"}
{"msg":"Has joined the channel.","username":"VictorStroganov","ts":"2018-07-27T07:37:57.934Z","type":"uj"}
{"msg":"Has joined the channel.","username":"danhawker","ts":"2018-07-27T15:04:56.770Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zjubfd","ts":"2018-07-28T10:13:34.891Z","type":"uj"}
{"msg":"Hi Everyone, Is there any support yet to run chaincode in kubernetes pod rather than docker container in any version of hyperledger. I want to run chaincode in pod for clustering of chaincode to achieve run fabric network in fault tolerance manner??\nOr there is any process to run chaincode container in all peers of an organisation running on different machine . Because it run by peer on same machine as peers running in docker container.","username":"sudhir.kumawat","ts":"2018-07-29T05:39:18.304Z"}
{"msg":"Has joined the channel.","username":"antonikonovalov","ts":"2018-07-31T10:44:11.686Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kleniu","ts":"2018-07-31T14:13:47.559Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Kyroy","ts":"2018-08-01T15:44:04.808Z","type":"uj"}
{"msg":"Has joined the channel.","username":"smeyers","ts":"2018-08-01T22:43:46.209Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zmaro","ts":"2018-08-03T15:21:16.205Z","type":"uj"}
{"msg":"Has joined the channel.","username":"akshay.sood","ts":"2018-08-04T06:47:31.136Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kmohanar1","ts":"2018-08-07T09:34:49.768Z","type":"uj"}
{"msg":"Has joined the channel.","username":"huxiangdong","ts":"2018-08-08T00:20:38.788Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shahrukh1426","ts":"2018-08-08T08:34:24.574Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mavericklam","ts":"2018-08-14T04:42:25.336Z","type":"uj"}
{"msg":"Has left the channel.","username":"JOYELIN","ts":"2018-08-21T07:16:13.252Z","type":"ul"}
{"msg":"https://medium.com/kokster/simpler-setup-for-hyperledger-fabric-on-kubernetes-using-docker-in-docker-8346f70fbe80","username":"DannyWong","ts":"2018-08-21T10:15:31.949Z"}
{"msg":"Has joined the channel.","username":"bdjidi","ts":"2018-08-21T22:48:26.654Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aatkddny","ts":"2018-08-23T20:42:52.365Z","type":"uj"}
{"msg":"I asked this in general - not knowing this channel existed. This might be a better forum for it - although the activity here is pretty limited.\n\nAnyone have experience using kubernetes with docker in a mac? Version 18.06.0-ce-mac70 (26399) using Kubernetes: v1.10.3 \nI'm having trouble getting it to recognize a PVC with a local NFS.\nThe NFS is fine - it mounts ok in a terminal as expected. The PV looks good. The PVC looks good. \nWhen I go to deploy though the pod pulls this - ```Unable to mount volumes for pod \"blockchain-org1peer1-56ffc95965-8n6nz_default(a131c320-a640-11e8-ba48-025000000001)\": timeout expired waiting for volumes to attach or mount for pod \"default\"/\"blockchain-org1peer1-56ffc95965-8n6nz\". list of unmounted volumes=[sharedvolume]. list of unattached volumes=[sharedvolume default-token-7z9gr]``` \n\nI'm thinking it's a problem with NFS inside ~this~ type of install but kubernetes isn't my chosen specialist subject. Anyone hit this?","username":"aatkddny","ts":"2018-08-23T20:43:54.465Z"}
{"msg":"Has joined the channel.","username":"Joe-mcgee","ts":"2018-08-24T16:42:28.756Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vanclief","ts":"2018-08-26T14:35:17.998Z","type":"uj"}
{"msg":"Hi All","username":"pankajcheema","ts":"2018-08-27T05:40:10.522Z"}
{"msg":"Is there any good tutorial for deploying fabric on Kubernetes","username":"pankajcheema","ts":"2018-08-27T05:40:29.304Z"}
{"msg":"?","username":"pankajcheema","ts":"2018-08-27T05:40:29.896Z"}
{"msg":"Has joined the channel.","username":"qiangjiyi","ts":"2018-08-28T02:13:51.528Z","type":"uj"}
{"msg":"HI Experts","username":"pankajcheema","ts":"2018-08-28T08:55:57.086Z"}
{"msg":"I am getting this error in kubernetes","username":"pankajcheema","ts":"2018-08-28T08:56:09.539Z"}
{"msg":"```Error: could not assemble transaction, err Proposal response was not successful, error code 500, msg failed to execute transaction 9e48ffcac3df1cee1376df91273e71cf61e4b5c995db79842f56d29e5abbd151: error starting container: error starting container: API error (404): No such network: ${COMPOSE_PROJECT_NAME}_byfn```","username":"pankajcheema","ts":"2018-08-28T08:56:11.208Z"}
{"msg":"env for peer ```env:\n          - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n            value: \"${COMPOSE_PROJECT_NAME}_byfn\"\n          - name: CORE_VM_ENDPOINT\n            value: \"unix:///host/var/run/docker.sock\"\n          - name: CORE_PEER_ID\n            value: \"peer0.example.com\"```","username":"pankajcheema","ts":"2018-08-28T08:56:31.430Z"}
{"msg":"Anyone knows the solution","username":"pankajcheema","ts":"2018-08-28T08:56:42.574Z"}
{"msg":"@DannyWong ","username":"pankajcheema","ts":"2018-08-28T10:10:05.811Z"}
{"msg":"@Luke_Chen ","username":"pankajcheema","ts":"2018-08-28T10:10:24.724Z"}
{"msg":"https://stackoverflow.com/questions/52059775/hyperledger-fabric-with-kubernetes-not-able-to-instantiate-chaincode","username":"pankajcheema","ts":"2018-08-28T15:09:40.116Z"}
{"msg":"Any expert here?","username":"pankajcheema","ts":"2018-08-28T16:45:11.301Z"}
{"msg":"@anzalbeg did you find solution to that issue?","username":"pankajcheema","ts":"2018-08-28T16:48:19.527Z"}
{"msg":"Has joined the channel.","username":"Ibraxos","ts":"2018-08-29T04:31:33.648Z","type":"uj"}
{"msg":"Has joined the channel.","username":"holzeis","ts":"2018-08-29T07:46:39.187Z","type":"uj"}
{"msg":"Hi, I am trying to startup a fabric network in kubernetes and currently stuck that the peer is not able to startup the chaincode server - see below:\npeer\n```\n2018-08-28 14:54:40.406 UTC [nodeCmd] createChaincodeServer -> WARN 088 peer.chaincodeListenAddress is not set, using peer0-service:7052\n2018-08-28 14:54:40.409 UTC [nodeCmd] createChaincodeServer -> ERRO 089 Error creating GRPC server: listen tcp 10.108.196.51:7052: bind: cannot assign requested address\n2018-08-28 14:54:40.409 UTC [nodeCmd] serve -> CRIT 08a Failed to create chaincode server: listen tcp 10.108.196.51:7052: bind: cannot assign requested address\npanic: Failed to create chaincode server: listen tcp 10.108.196.51:7052: bind: cannot assign requested address\n```\nThe host docker sock is mounted, any suggestions on solving that issue? ","username":"holzeis","ts":"2018-08-29T08:21:50.672Z"}
{"msg":"Has joined the channel.","username":"RobertDiebels","ts":"2018-08-29T14:11:38.000Z","type":"uj"}
{"msg":"Hi, We developed a Helm/Charts for deploying Hyperledger Fabric, please check this link for more details http://www.think-foundry.com/hyperledger-fabric-deployment-using-helm-chart/, beside we also consider to add this tool to Cello, take the fully advantage and flexibility of the Helm ","username":"Luke_Chen","ts":"2018-08-29T16:04:00.776Z"}
{"msg":"Has joined the channel.","username":"kylekim","ts":"2018-08-30T03:20:03.366Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SunilHirole","ts":"2018-08-30T09:30:51.676Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jdfigure","ts":"2018-08-30T17:42:27.706Z","type":"uj"}
{"msg":"Has joined the channel.","username":"iramiller","ts":"2018-08-30T19:35:59.561Z","type":"uj"}
{"msg":"@Luke_Chen have you explored configmaps, secrets, and network policies inypur kubernetes environment?","username":"iramiller","ts":"2018-08-30T19:36:52.845Z"}
{"msg":"In our kubernetes environment we were able to remove dependencies on NFS which made things much more flexible for GKE deployments","username":"iramiller","ts":"2018-08-30T19:38:02.749Z"}
{"msg":"My current effort of modifying the peer and chaincode process to natively support kubernetes for workload scheduling seems like a very promising path for making fabric work well on kubernetes, especially in secure, production, managed cloud environments. ","username":"iramiller","ts":"2018-08-30T19:40:17.571Z"}
{"msg":"Also @Luke_Chen you may want to look into using stateful sets for peers... the consistency guarantees offered by k8s and the naming/dns were very helpful for me when setting things up with more peer instances. ","username":"iramiller","ts":"2018-08-30T19:45:22.087Z"}
{"msg":"Has joined the channel.","username":"kirin13","ts":"2018-08-31T02:56:38.265Z","type":"uj"}
{"msg":"@iramiller I have not make that so far","username":"Luke_Chen","ts":"2018-08-31T03:33:42.496Z"}
{"msg":"@iramiller I have not made that so far","username":"Luke_Chen","ts":"2018-08-31T03:33:42.496Z"}
{"msg":"@iramiller what are stateful sets for peers ? do you have any docs that I can track?","username":"Luke_Chen","ts":"2018-08-31T03:34:54.756Z"}
{"msg":"Hello everyone! The newly introduced service discovery in latest release has arised some questions about the best approach on how to deploy the latest version on k8s. Should we use the statefulset for deploying the components of an hyperledger fabric network (peers, orderer) and use headless service so the service discovery is handled by the application or should we stick with deployments and non headless services? Has anyone had some experience with that approach? Thank you!","username":"vanitas92","ts":"2018-08-31T06:37:32.929Z"}
{"msg":"Using a StatefulSet mean you can't use ConfigMaps or Secrets properly since you can only mount them into the entire set instead of one Pod. Same goes for mounting other volumes they're shared across the set afaik.","username":"RobertDiebels","ts":"2018-08-31T08:53:46.835Z"}
{"msg":"Using a StatefulSet means you can't use ConfigMaps or Secrets properly since you can only mount them into the entire set instead of one Pod. Same goes for mounting other volumes they're shared across the set afaik.","username":"RobertDiebels","ts":"2018-08-31T08:53:46.835Z"}
{"msg":"So if you'd want to mount a certificate into only one Pod that's a no-go.","username":"RobertDiebels","ts":"2018-08-31T08:56:54.036Z"}
{"msg":"So if you'd want to mount a single certificate as a ConfigMap/Secret into one Pod only that's a no-go.","username":"RobertDiebels","ts":"2018-08-31T08:56:54.036Z"}
{"msg":"In my case the certificates are installed on the peers specific volume and are created when that pod joins the pool. You need a stateful set if you care about pod disruption budgets. ","username":"iramiller","ts":"2018-08-31T12:14:26.362Z"}
{"msg":"If you using a set of peers with in a single org for redundancy then having them managed as a logical group is useful because the configuration of that group is handled as a set. Therefore the configmaps and secrets are shared across the group and this is a good thing. Peer specific configuration secrets (certificates mentioned above only) are stored on the peers individual data volumes. ","username":"iramiller","ts":"2018-08-31T12:20:11.451Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BijifdNJ4Z4yauFzP) I mentioned it because you stated this.","username":"RobertDiebels","ts":"2018-08-31T12:25:33.914Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BijifdNJ4Z4yauFzP","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=BijifdNJ4Z4yauFzP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I actually use a combination of Deployments + ConfigMaps/Secrets to mount my certificates.","username":"RobertDiebels","ts":"2018-08-31T12:29:15.364Z"}
{"msg":"Yes, that comment was made because I was interested in getting an understanding of how others use kubernetes. Was his post a summary or not. ","username":"iramiller","ts":"2018-08-31T12:29:25.637Z"}
{"msg":"There are many ways to apply the tools in kubernetes... it is especially interesting to hear how others are taking a project which is new and unique and applying it to the environment. ","username":"iramiller","ts":"2018-08-31T12:31:24.752Z"}
{"msg":"Exactly. That's why I thought I'd add to the conversation and provide some info about the Secrets/ConfigMaps + StatefulSet.","username":"RobertDiebels","ts":"2018-08-31T12:33:28.635Z"}
{"msg":":arrow_up:","username":"iramiller","ts":"2018-08-31T12:34:28.459Z"}
{"msg":"I take the long route and copy the ConfigMaps into a Peer specific volume since version 1.0.x doesn't support loading PemMaterial from symlinks.","username":"RobertDiebels","ts":"2018-08-31T12:35:13.160Z"}
{"msg":"My current focus on removing the direct client docker invocations from the peer platform and chaincode areas is all about making our implementation more kubernetes native. It isnt as easy to make this software run well in the cloud as I would have liked and the feel I have for it is that the native bare metal install case was taken as the readily approach in design. ","username":"iramiller","ts":"2018-08-31T12:35:17.528Z"}
{"msg":"Haha I know. I've used a 'hack' to fix the chaincode dns issues without altering the dockerconfig on the host.","username":"RobertDiebels","ts":"2018-08-31T12:36:16.222Z"}
{"msg":"There was an issue in Jira somewhere about adding a kubernetes controlle I think :thinking: ","username":"RobertDiebels","ts":"2018-08-31T12:36:43.211Z"}
{"msg":"There was an issue in Jira somewhere about adding a kubernetes controller I think :thinking: ","username":"RobertDiebels","ts":"2018-08-31T12:36:43.211Z"}
{"msg":"When I explained the chaincode container process to our CISO... his face was pretty priceless. ","username":"iramiller","ts":"2018-08-31T12:37:05.307Z"}
{"msg":"Haha I can imagine xD","username":"RobertDiebels","ts":"2018-08-31T12:37:21.482Z"}
{"msg":"I dont want to leave the wrong impression though. This is good work. ","username":"iramiller","ts":"2018-08-31T12:37:46.367Z"}
{"msg":"Ow yes obviously. But it still has some issues.","username":"RobertDiebels","ts":"2018-08-31T12:37:59.606Z"}
{"msg":"Our environement and use cases are just custom","username":"iramiller","ts":"2018-08-31T12:38:08.880Z"}
{"msg":"The kubernetes controller integration isnt hard fwiw. I hooked in next to the couple places were the Docker controller library is and use viper for an enable flag, kubernetes client to self configure from ambient environment. ","username":"iramiller","ts":"2018-08-31T12:39:40.049Z"}
{"msg":"Did you create a fork to do this?","username":"RobertDiebels","ts":"2018-08-31T12:40:27.798Z"}
{"msg":"That does mean that currently I use the default service account in that namespace to schedule pods. But I can add that configuration later. ","username":"iramiller","ts":"2018-08-31T12:40:33.426Z"}
{"msg":"Yes we have an internal fork for this. ","username":"iramiller","ts":"2018-08-31T12:40:48.701Z"}
{"msg":"Think you could contribute the kubernetescontroller? Probably a lot of people who would thank you :P","username":"RobertDiebels","ts":"2018-08-31T12:41:11.812Z"}
{"msg":"One of which being myself haha","username":"RobertDiebels","ts":"2018-08-31T12:41:19.581Z"}
{"msg":"I believe that Corp policy is that we want to do that. ","username":"iramiller","ts":"2018-08-31T12:42:08.062Z"}
{"msg":"I didnt replace the Docker controller.  Or make the kubernetes one a complete stand alone. ","username":"iramiller","ts":"2018-08-31T12:42:43.340Z"}
{"msg":"That is too big of a change. There are protobufs hardcoded for Docker as the environment","username":"iramiller","ts":"2018-08-31T12:43:24.238Z"}
{"msg":"Ow damn..","username":"RobertDiebels","ts":"2018-08-31T12:44:04.550Z"}
{"msg":"I essentially added a kubernetes controller in the model of the Docker one that is there... then modified the existing docker one to detect kubernetes when initializing. ","username":"iramiller","ts":"2018-08-31T12:44:16.928Z"}
{"msg":"In this way when the existing code paths run they follow the Docker paths like normal. Then my code is switched in during the create vm step as appropriate and we use k8s from that point. ","username":"iramiller","ts":"2018-08-31T12:45:26.010Z"}
{"msg":"Still anything could be of value I guess. I don't know how far the work on the kubernetescontroller got.","username":"RobertDiebels","ts":"2018-08-31T12:45:29.742Z"}
{"msg":"Don't recall the issue I was reading on it either..","username":"RobertDiebels","ts":"2018-08-31T12:45:45.371Z"}
{"msg":"The kubernetes controller is self contained and could be a first class citizen like the Docker one. But the changes to support that are bigger than I want on what I expected to be a long running fork for our needs","username":"iramiller","ts":"2018-08-31T12:46:48.507Z"}
{"msg":"Found it -> https://jira.hyperledger.org/browse/FAB-7406?jql=text%20~%20%22kubernetes%20controller%22","username":"RobertDiebels","ts":"2018-08-31T12:46:59.467Z"}
{"msg":"Yea I can imagine. I had a tough enough time trying to apply the DNS-options so the created docker containers would be able to find the kubernetes network and vice-versa.","username":"RobertDiebels","ts":"2018-08-31T12:48:49.383Z"}
{"msg":"Don't want to think about a standalone k8s controller","username":"RobertDiebels","ts":"2018-08-31T12:49:15.216Z"}
{"msg":"Ok. Very useful thread. Thanks for that. My comments... the approach described of building containers in the cluster is just not going to fly. At that point somewhere the Docker sock is still mounted and we are talking about admin rights level code. My method uses the base images and deploys a tarball into the chaincode pod using the same builder patterns as described. No chaincode specific images","username":"iramiller","ts":"2018-08-31T12:56:49.078Z"}
{"msg":"Im working through the platform side of this process at the moment and the kubernetes job approach to build the chaincode seems like a good concept so far. ","username":"iramiller","ts":"2018-08-31T12:58:40.673Z"}
{"msg":"The points in that thread about not adding dependencies to the core project for kubernetes \\_()_/ I dont have a choice because the hooks to add this are not present and the existing code is hard coded to use Docker. A future version with support from the core team could add those hooks and push this into a standalone library. ","username":"iramiller","ts":"2018-08-31T13:00:19.159Z"}
{"msg":"I don't see why they shouldn't add dependencies for Kubernetes. Depends on how much they really want to enable deploying to Kubernetes.","username":"RobertDiebels","ts":"2018-08-31T13:12:15.853Z"}
{"msg":"Afaic it's absolutely preferable to Docker Compose and the like.","username":"RobertDiebels","ts":"2018-08-31T13:12:52.179Z"}
{"msg":"Docker compose isnt for production anything. Docker swarm doesnt really have a future... kubernetes is the cloud agnostic container orchestration solution in open source today... ","username":"iramiller","ts":"2018-08-31T13:18:15.677Z"}
{"msg":"It seems like there isnt as much focus on production systems and system design in this project as I would have expected. Lots of effort into the trial and experiment modes... come to think of it, that really reflects the state of this area in industry perfectly. ","username":"iramiller","ts":"2018-08-31T13:19:44.128Z"}
{"msg":"Industry as in SE in general or blockchain-related? Either way I agree.","username":"RobertDiebels","ts":"2018-08-31T13:20:51.744Z"}
{"msg":"Blockchain specific. ","username":"iramiller","ts":"2018-08-31T13:21:06.847Z"}
{"msg":"Agree. Projects are still young though. So lots of potential for growth and maturing.","username":"RobertDiebels","ts":"2018-08-31T13:22:03.167Z"}
{"msg":"Which is why the test modes are most important honestly. Running something this dynamic long term in production is going to be a serious endeavor for the next couple years","username":"iramiller","ts":"2018-08-31T13:23:03.551Z"}
{"msg":"That all said... my helm charts and minikube give me a full fabric that self-configured and is ready to run in about 2-3min on my MacBook... is an awesome example of development when that exact same chart deploys to GKE scaled up. ","username":"iramiller","ts":"2018-08-31T13:24:50.285Z"}
{"msg":"I figure they'll get it right. Big corps backing the Hyperledger project so they'll make sure it takes off properly.","username":"RobertDiebels","ts":"2018-08-31T13:24:50.554Z"}
{"msg":"Well if you find the time and approval to publish please post them here :thumbsup: ","username":"RobertDiebels","ts":"2018-08-31T13:26:02.686Z"}
{"msg":"I can certainly share what I know regardless of getting patches ready for release. ","username":"iramiller","ts":"2018-08-31T13:26:44.969Z"}
{"msg":"Next week I will have to see if we can get an official word on what the engagement process needs to look like with regards to the open source contributions. As a developer I feel it needs to happen as that is what makes open source work.","username":"iramiller","ts":"2018-08-31T13:28:15.879Z"}
{"msg":"@Luke_Chens blog post looks like a fantastic way to share that can pass the communications office before it goes out. That might end up being the way to get started. ","username":"iramiller","ts":"2018-08-31T13:30:34.351Z"}
{"msg":"@iramiller @RobertDiebels HI, just saw your conversations and got inspired, beside the Kubernetes controller, we are also facing a mapping problem between domain of certificate and  service name of Kubernetes ","username":"Luke_Chen","ts":"2018-08-31T14:12:03.317Z"}
{"msg":"Regularly, every peer or orderer has a domain name, but it's difficult to identify those peer or orderer with their domain name in Kubernetes, do you have any solution with this problem?","username":"Luke_Chen","ts":"2018-08-31T14:16:50.544Z"}
{"msg":"beside the original purpose of using NFS server as shared storage is providing a data backup option for peers and orderers, but afterward we use it to store the certificates :joy:","username":"Luke_Chen","ts":"2018-08-31T14:22:01.597Z"}
{"msg":"I set the domain of each organization to the namespace it will be in. Kubernetes services then allow DNS mapping to: `<serviceName>.<namspace>:<port>`. I based my design on your initial code so I have DNS-addresses like `peer0.org1:7050`.","username":"RobertDiebels","ts":"2018-08-31T14:38:14.089Z"}
{"msg":"Don't know if that answers your questin. Will need a bit more clarification otherwise :P","username":"RobertDiebels","ts":"2018-08-31T14:40:08.431Z"}
{"msg":"Don't know if that answers your question. Will need a bit more clarification otherwise :P","username":"RobertDiebels","ts":"2018-08-31T14:40:08.431Z"}
{"msg":"Our peers in statefulsets approach means that the peer will have a consistent hostname of `peer-2` a set name of `peer-n.peer` and a local dns name of `peer-n.peer.namespace.svc.cluster.local` where n is typically `0..2`.  I add these names to our peer certificate as alternates when creating/registering with the ca. ","username":"iramiller","ts":"2018-08-31T15:02:39.686Z"}
{"msg":"The suffix search portion of kubernetes dns can be really frustrating as the number of suffixes is limited to 6 for the hosts and cloud environments like GKE add some along with the typical kubernetes ones. The `namespace.svc.cluster.local` is a default one that will be present so we can always find a specific peer using `peer-n.peer` on any host in the namespace. ","username":"iramiller","ts":"2018-08-31T15:05:49.547Z"}
{"msg":"Has joined the channel.","username":"am","ts":"2018-08-31T16:16:34.299Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vwagner","ts":"2018-08-31T19:34:54.402Z","type":"uj"}
{"msg":"Trying to set up a peer with couchdb in the same pod.\nHaving a problem using it with a userid and password\nUsing the same properties in both containers - \n```\n        - name: COUCHDB_USER\n          value: peer0user\n        - name: COUCHDB_PASSWORD\n          value: peer0password\n\n```","username":"aatkddny","ts":"2018-09-01T17:15:04.187Z"}
{"msg":"Trying to set up a peer with couchdb in the same pod.\nHaving a problem using it with a userid and password\nUsing the same properties in both containers - \n```\n        - name: COUCHDB_USER\n          value: peer0user\n        - name: COUCHDB_PASSWORD\n          value: peer0password\n\n```\n\nWhen it tries to bring the peer up I get \"you are not an admin user\". \nSame code works fine in base docker - has anyone come across this, and if so what am I missing?","username":"aatkddny","ts":"2018-09-01T17:15:04.187Z"}
{"msg":"Trying to set up a peer with couchdb in the same pod.\nHaving a problem using it with a userid and password\nUsing the same properties in both containers - \n```\n        - name: COUCHDB_USER\n          value: peer0user\n        - name: COUCHDB_PASSWORD\n          value: peer0password\n\n```\n\nWhen it tries to bring the peer up I get \"you are not an admin user\". \nSame code works fine in base docker - has anyone come across this, and if so what am I missing?\n\nThe whole thing works fine in party mode.","username":"aatkddny","ts":"2018-09-01T17:15:04.187Z"}
{"msg":"I mentioned about the naming rule of the service's name in Kubernetes, because I don't want to bring such restriction to user,  user should be able to create their organizations with any domain name they want, such like org1.example.com, how do this domain map into the Kubernetes?","username":"Luke_Chen","ts":"2018-09-02T06:55:16.096Z"}
{"msg":"I mentioned about the naming rule of the service's name in Kubernetes, because I don't want to bring such restriction to user,  user should be able to create their organizations with any domain name they want, such like org1.example.com, the problem is how to map this domain into the Kubernetes?","username":"Luke_Chen","ts":"2018-09-02T06:55:16.096Z"}
{"msg":"more especially, we required traffic among peers and orderes need to be encrypted by TLS protocol, however the TLS certificate signed for a specified peer is format like \"peerN.org1.example.com\", for example, in peer0, then it will have TLS cert with DN= \"peer0.org1.example.com\" and Kubernetes service name \"peer0-org1\".","username":"Luke_Chen","ts":"2018-09-02T07:04:09.727Z"}
{"msg":"more especially, we required traffic among peers and orderes need to be encrypted by TLS protocol, however the TLS certificate signed for a specified peer is format like \"peerN.org1.example.com\", for example, peer0, then it will have TLS cert with DN= \"peer0.org1.example.com\" and Kubernetes service name \"peer0-org1\".","username":"Luke_Chen","ts":"2018-09-02T07:04:09.727Z"}
{"msg":"Then problem is, TLS handshake won't pass when you try to connect a service with domain \"peer0-org1\", which is mismatched with the DN field specified in the TLS certificate owned by the service.","username":"Luke_Chen","ts":"2018-09-02T07:07:13.423Z"}
{"msg":"Then problem is, TLS handshake won't pass when you try to connect a service with domain \"peer0-org1\", the domain is mismatched with the DN field specified in the TLS certificate owned by the service.","username":"Luke_Chen","ts":"2018-09-02T07:07:13.423Z"}
{"msg":"And this is the question I am struggling , I really hope you can give me some advises. :joy::","username":"Luke_Chen","ts":"2018-09-02T07:12:34.859Z"}
{"msg":"And this is the question I am struggling , I really hope you can give me some advises. :joy:  ","username":"Luke_Chen","ts":"2018-09-02T07:12:34.859Z"}
{"msg":"If they're going to use org1.example.com they probably own the domain, so you could setup a reverse-proxy like NGinx. Expose NGinx through a LoadBalancer service on a specific IP, direct the domain org1.example.com to that IP and finally setup NGinx configuration so that it maps org1.example.com to the namespace `org1` internally.","username":"RobertDiebels","ts":"2018-09-02T07:21:09.129Z"}
{"msg":"You can change the names added to the certificates used by the peers pretty easily... I reworked the certificate process because kubernetes uses `name-n` for sets instead of `namen` that fabric uses by default. ","username":"iramiller","ts":"2018-09-02T18:25:28.026Z"}
{"msg":"Has joined the channel.","username":"anchit","ts":"2018-09-03T10:46:57.973Z","type":"uj"}
{"msg":"Yes but DNS-wise you would still be bound by the K8s namespaces etc. I think that Luke meant the domains should be anything the user wants them to be.","username":"RobertDiebels","ts":"2018-09-04T10:43:26.628Z"}
{"msg":"Anyone get DinD chaincode instantiation working? I feel like I'm banging my head against a brick wall here.\nI'm trying to do the most simplistic thing possible - load CC onto my peer. I'll excerpt the relevant parts of what I have:\n\nDinD\n```\n      - name: dind\n        image: docker:dind\n        securityContext:\n          privileged: true\n        volumeMounts:\n        - mountPath: /var/lib/docker\n          name: dindmount\n``` ","username":"aatkddny","ts":"2018-09-04T12:10:51.874Z"}
{"msg":"Anyone get DinD chaincode instantiation working? I feel like I'm banging my head against a brick wall here.\nI'm trying to do the most simplistic thing possible - load CC onto my peer. I'll excerpt the relevant parts of what I have:\n\nDinD\n```\n      - name: dind\n        image: docker:dind\n        securityContext:\n          privileged: true\n        volumeMounts:\n        - mountPath: /var/lib/docker\n          name: dindmount\n``` \n\nRelevant peer config - pruned:\n```\n        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"true\"\n        - name: CORE_PEER_CHAINCODELISTENADDRESS\n          value: 0.0.0.0:7052\n        - name: CORE_PEER_EXTERNALENDPOINT\n          value: \"true\"\n        - name: CORE_PEER_TLS_ENABLED\n          value: \"false\"\n        - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n          value: dcn\n        - name: CORE_VM_ENDPOINT\n          value: http://localhost:2375\n        - name: GOPATH\n          value: /opt/gopath\n        - name: GODEBUG\n          value: netdns=go\n```\n\ndindmount is persistent\n\nWhen I run like the above I get a \"network dcn not found\" error.\nWhen I try removing it I get something different that goes wrong.\nThe API I'm using (java) reports back there's an X509 error - which seems odd because TLS is off and everything else is playing nice afaict.","username":"aatkddny","ts":"2018-09-04T12:10:51.874Z"}
{"msg":"Anyone get DinD chaincode instantiation working? I feel like I'm banging my head against a brick wall here.\nI'm trying to do the most simplistic thing possible - load CC onto my peer. I'll excerpt the relevant parts of what I have:\n\nDinD\n```\n      - name: dind\n        image: docker:dind\n        securityContext:\n          privileged: true\n        volumeMounts:\n        - mountPath: /var/lib/docker\n          name: dindmount\n``` \n\nRelevant peer config - pruned:\n```\n        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"true\"\n        - name: CORE_PEER_CHAINCODELISTENADDRESS\n          value: 0.0.0.0:7052\n        - name: CORE_PEER_EXTERNALENDPOINT\n          value: \"true\"\n        - name: CORE_PEER_TLS_ENABLED\n          value: \"false\"\n        - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n          value: dcn\n        - name: CORE_VM_ENDPOINT\n          value: http://localhost:2375\n        - name: GOPATH\n          value: /opt/gopath\n        - name: GODEBUG\n          value: netdns=go\n```\n\ndindmount is persistent\n\nWhen I run like the above I get a \"network dcn not found\" error.\nWhen I try removing it I get something different that goes wrong.\nThe API I'm using (java) reports back there's an X509 error - which seems odd because TLS is off and everything else is playing nice afaict.\nAdding a `CORE_PEER_TLS_SERVERHOSTOVERRIDE` variable - which I read as a suggestion somewhere - was a dismal failure.\n\nThere's a dearth of searchable examples so I'm reduced to trial and error. If anyone can point me to what I have misconfigured I'd be grateful.","username":"aatkddny","ts":"2018-09-04T12:10:51.874Z"}
{"msg":"Anyone get DinD chaincode install and instantiation working? I feel like I'm banging my head against a brick wall here.\nI'm trying to do the most simplistic thing possible - load CC onto my peer. I'll excerpt the relevant parts of what I have:\n\nDinD\n```\n      - name: dind\n        image: docker:dind\n        securityContext:\n          privileged: true\n        volumeMounts:\n        - mountPath: /var/lib/docker\n          name: dindmount\n``` \n\nRelevant peer config - pruned:\n```\n        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"true\"\n        - name: CORE_PEER_CHAINCODELISTENADDRESS\n          value: 0.0.0.0:7052\n        - name: CORE_PEER_EXTERNALENDPOINT\n          value: \"true\"\n        - name: CORE_PEER_TLS_ENABLED\n          value: \"false\"\n        - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n          value: dcn\n        - name: CORE_VM_ENDPOINT\n          value: http://localhost:2375\n        - name: GOPATH\n          value: /opt/gopath\n        - name: GODEBUG\n          value: netdns=go\n```\n\ndindmount is persistent\n\nWhen I run like the above I get a \"network dcn not found\" error.\nWhen I try removing it I get something different that goes wrong.\nThe API I'm using (java) reports back there's an X509 error - which seems odd because TLS is off and everything else is playing nice afaict.\nAdding a `CORE_PEER_TLS_SERVERHOSTOVERRIDE` variable - which I read as a suggestion somewhere - was a dismal failure.\n\nThere's a dearth of searchable examples so I'm reduced to trial and error. If anyone can point me to what I have misconfigured I'd be grateful.","username":"aatkddny","ts":"2018-09-04T12:10:51.874Z"}
{"msg":"Anyone get DinD chaincode install and instantiation working? I feel like I'm banging my head against a brick wall here.\nI'm trying to do the most simplistic thing possible - load CC onto my peer. I'll excerpt the relevant parts of what I have:\n\nDinD\n```\n      - name: dind\n        image: docker:dind\n        securityContext:\n          privileged: true\n        volumeMounts:\n        - mountPath: /var/lib/docker\n          name: dindmount\n``` \n\nRelevant peer config - pruned:\n```\n        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"true\"\n        - name: CORE_PEER_CHAINCODELISTENADDRESS\n          value: 0.0.0.0:7052\n        - name: CORE_PEER_EXTERNALENDPOINT\n          value: \"true\"\n        - name: CORE_PEER_TLS_ENABLED\n          value: \"false\"\n        - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n          value: dcn\n        - name: CORE_VM_ENDPOINT\n          value: http://localhost:2375\n        - name: GOPATH\n          value: /opt/gopath\n        - name: GODEBUG\n          value: netdns=go\n```\n\ndindmount is persistent\n\nWhen I run like the above I get a \"network dcn not found\" error.\nWhen I try removing `- name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n          value: dcn\n        ` I get something different that goes wrong.\nThe API I'm using (java) reports back there's an X509 error - which seems odd because TLS is off and everything else is playing nice afaict.\nAdding a `CORE_PEER_TLS_SERVERHOSTOVERRIDE` variable - which I read as a suggestion somewhere - was a dismal failure.\n\nThere's a dearth of searchable examples so I'm reduced to trial and error. If anyone can point me to what I have misconfigured I'd be grateful.","username":"aatkddny","ts":"2018-09-04T12:10:51.874Z"}
{"msg":"Anyone get DinD chaincode install and instantiation working? I feel like I'm banging my head against a brick wall here.\nI'm trying to do the most simplistic thing possible - load CC onto my peer. I'll excerpt the relevant parts of what I have:\n\nDinD\n```\n      - name: dind\n        image: docker:dind\n        securityContext:\n          privileged: true\n        volumeMounts:\n        - mountPath: /var/lib/docker\n          name: dindmount\n``` \n\nRelevant peer config - pruned:\n```\n        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"true\"\n        - name: CORE_PEER_CHAINCODELISTENADDRESS\n          value: 0.0.0.0:7052\n        - name: CORE_PEER_EXTERNALENDPOINT\n          value: \"true\"\n        - name: CORE_PEER_TLS_ENABLED\n          value: \"false\"\n        - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE\n          value: dcn\n        - name: CORE_VM_ENDPOINT\n          value: http://localhost:2375\n        - name: GOPATH\n          value: /opt/gopath\n        - name: GODEBUG\n          value: netdns=go\n```\n\ndindmount is persistent\n\nWhen I run like the above I get a \"network dcn not found\" error.\nWhen I try removing the `CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE` variable I get something different that goes wrong.\nThe API I'm using (java) reports back there's an X509 error - which seems odd because TLS is off and everything else is playing nice afaict.\nAdding a `CORE_PEER_TLS_SERVERHOSTOVERRIDE` variable - which I read as a suggestion somewhere - was a dismal failure.\n\nThere's a dearth of searchable examples so I'm reduced to trial and error. If anyone can point me to what I have misconfigured I'd be grateful.","username":"aatkddny","ts":"2018-09-04T12:10:51.874Z"}
{"msg":"Has joined the channel.","username":"theathibm","ts":"2018-09-04T15:51:56.669Z","type":"uj"}
{"msg":"I'm looking for guidance for choosing Docker Swarm .vs. Kubernetes.    What is the current guidance, and what information is available for either direction?","username":"theathibm","ts":"2018-09-04T17:32:00.029Z"}
{"msg":"The choice between those two would be more about operational considerations than software ones in my opinion. ","username":"iramiller","ts":"2018-09-04T23:05:07.402Z"}
{"msg":"Well there are a lot more examples for swarm... OTOH k8s is probably the defacto standard for container management. ","username":"aatkddny","ts":"2018-09-05T01:06:30.511Z"}
{"msg":"does anyone have thoughts about using \"cello\" ?","username":"theathibm","ts":"2018-09-05T15:52:30.529Z"}
{"msg":"anchovim kns","username":"smeyers","ts":"2018-09-05T16:55:11.147Z"}
{"msg":"Afaic cello is much to complicated for what it's trying to do + it doesn't work on Windows.","username":"RobertDiebels","ts":"2018-09-05T17:29:22.737Z"}
{"msg":"Especially the last part was important for me.","username":"RobertDiebels","ts":"2018-09-05T17:31:26.131Z"}
{"msg":"dind","username":"tylerwince","ts":"2018-09-05T20:41:15.139Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LrcfNikbftGRvb3v3) Anyone have a way to synchronize between mysql and fabric-ca so that i can run them in the same pod?","username":"aatkddny","ts":"2018-09-06T01:56:16.972Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LrcfNikbftGRvb3v3","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LrcfNikbftGRvb3v3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Anyone have a way to synchronize between mysql and fabric-ca so that i can run them in the same pod?","username":"aatkddny","ts":"2018-09-06T01:56:16.972Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LrcfNikbftGRvb3v3","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LrcfNikbftGRvb3v3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Anyone have a way to synchronize between mysql and fabric-ca so that i can run them in the same pod?","username":"aatkddny","ts":"2018-09-06T01:56:16.972Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LrcfNikbftGRvb3v3","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=LrcfNikbftGRvb3v3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"anyone have a way to synchronize between mysql and fabric-ca so i can run them in the same pod that they'd be willing to share?","username":"aatkddny","ts":"2018-09-06T01:57:15.462Z"}
{"msg":"@holzeis I don't know if you resolved your issue. I seem to have missed your question. Here's a possible solution though. If you're using 1.0.x using `peer0-service:7052` should work. If you're using 1.1 or 1.2 you need to set the `peer.chaincodeListenAddress` to `0.0.0.0:7052`. Since the dns-address `peer0-service` is being resolved to `10.108.196.51` which is the IP address of the service. Not the local-IP of the peer-container. You can check the ClusterIP of the service: `peer0-service` to verify that's what's happening. It's either that or the ClusterIP of the Pod the container is running in.","username":"RobertDiebels","ts":"2018-09-06T07:32:12.589Z"}
{"msg":"Also, check that your DNS-address is also using the namespace the service is in. So if the service is named: `peer0-service` and the namespace it is in is named `namespace` the dns-address should be: `peer0-service.namespace:7052` ","username":"RobertDiebels","ts":"2018-09-06T07:34:45.301Z"}
{"msg":"If you're using 1.0.x check that your DNS-address is also using the namespace the service is in. So if the service is named: `peer0-service` and the namespace it is in is named `namespace` the dns-address should be: `peer0-service.namespace:7052` ","username":"RobertDiebels","ts":"2018-09-06T07:34:45.301Z"}
{"msg":"It seems to be resolving an IP-address though so I guess it's at least doing something :P","username":"RobertDiebels","ts":"2018-09-06T07:35:42.651Z"}
{"msg":"anyone get a fabric up with TLS?","username":"aatkddny","ts":"2018-09-06T16:57:20.050Z"}
{"msg":"anyone get a fabric up on k8s with TLS?","username":"aatkddny","ts":"2018-09-06T16:57:20.050Z"}
{"msg":"@aatkddny yes we have a fabric running in kubernetes with TLS, it is certainly possible.","username":"iramiller","ts":"2018-09-07T20:33:50.029Z"}
{"msg":"@G-DazWilkin ^ ","username":"yacovm","ts":"2018-09-07T20:42:49.896Z"}
{"msg":"Has joined the channel.","username":"G-DazWilkin","ts":"2018-09-07T20:42:50.214Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6pc7f3makkh9rMD7R) so would you care to give me a hint as to the trick? request certs from kubernetes and use those? security isn't my chosen specialist subject - I can get it running using the generated certs in docker, but i'm a bit out of my depth with kubernetes. i've managed to get it to run with dind and no security, but as soon as I try turning tls on it all goes pear shaped.","username":"aatkddny","ts":"2018-09-07T22:16:18.729Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6pc7f3makkh9rMD7R","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6pc7f3makkh9rMD7R","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6pc7f3makkh9rMD7R) so would you care to give me a hint as to the trick? Request certs from kubernetes and use those in place of the generated TLS ones? Security isn't my chosen specialist subject - I can get it running using the generated certs in docker, but i'm a bit out of my depth with kubernetes. \nI've managed to get it to run with dind and no security, but as soon as I try turning TLS on it all goes pear shaped.","username":"aatkddny","ts":"2018-09-07T22:16:18.729Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6pc7f3makkh9rMD7R","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=6pc7f3makkh9rMD7R","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"kjroger94","ts":"2018-09-09T12:19:01.186Z","type":"uj"}
{"msg":"i just started a peer on kubernetes and i saw this log ```\n`018-09-09 16:21:15.295 UTC [discovery] NewService -> INFO 10b Created with config TLS: false, authCacheMaxSize: 1000, authCachePurgeRatio: 0.750000\n2018-09-09 16:21:15.295 UTC [nodeCmd] registerDiscoveryService -> INFO 10c Discovery service activated\n2018-09-09 16:21:15.296 UTC [nodeCmd] serve -> INFO 10d Starting peer with ID=[name:\"liqvis\" ], network ID=[nid1], address=[10.244.0.61:7051]\n2018-09-09 16:21:15.296 UTC [nodeCmd] serve -> INFO 10e Started peer with ID=[name:\"liqvis\" ], network ID=[nid1], address=[10.244.0.61:7051]\n2018-09-09 16:21:15.296 UTC [nodeCmd] func9 -> INFO 10f Starting profiling server with listenAddress = 0.0.0.0:6060`\n```  ","username":"kjroger94","ts":"2018-09-09T16:23:42.713Z"}
{"msg":"why does it say `listenAddress = 0.0.0.0:6060` ","username":"kjroger94","ts":"2018-09-09T16:24:16.592Z"}
{"msg":"my env in the deployment yaml is ```\n`        - name: CORE_PEER_ADDRESS\n          value: liqvis:7051\n        - name: CORE_PEER_LISTENADDRESS\n          value: 0.0.0.0:7051\n        - name: CORE_PEER_EVENTS_ADDRESS\n          value: 0.0.0.0:7052\n        - name: CORE_PEER_GOSSIP_BOOTSTRAP\n          value: liqvis:7051`\n``` ","username":"kjroger94","ts":"2018-09-09T16:27:56.347Z"}
{"msg":"there is another service... for profiling, the `pprof` one","username":"yacovm","ts":"2018-09-09T16:28:27.279Z"}
{"msg":"you may turn it off","username":"yacovm","ts":"2018-09-09T16:28:32.032Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release-1.2/sampleconfig/core.yaml#L377","username":"yacovm","ts":"2018-09-09T16:29:17.067Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=kejagWjMCy3qgnZf7) @yacovm ok will try, thanks","username":"kjroger94","ts":"2018-09-10T01:50:29.621Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=kejagWjMCy3qgnZf7","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=kejagWjMCy3qgnZf7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"i went through the the core.yaml that is there in my network that has been running for quite sometime. I don't see the core.yaml config being used.","username":"kjroger94","ts":"2018-09-10T03:24:34.964Z"}
{"msg":"how do i run chaincode on kubernetes, too many ways, too confusing","username":"kjroger94","ts":"2018-09-10T07:13:30.700Z"}
{"msg":"i am using aks for k8s","username":"kjroger94","ts":"2018-09-10T07:13:40.491Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Kt55g9CmbmYfyg69w) @greg.haskins can someone give me an example of what a value of this env would look like?","username":"kjroger94","ts":"2018-09-10T10:20:17.116Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Kt55g9CmbmYfyg69w","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Kt55g9CmbmYfyg69w","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WznH3qrBEoayDcPfS) @aatkddny @aatkddny I need a little bit more specifics on which piece you are having trouble with ... in my environments I have setup my kubernetes deployments to use stateful sets for consistent naming ... this was helpful because pods for peers have consistent naming that is resolvable via kubedns without needing to use headless services.  In this type of configuration I can register peers like so: ``` fabric-ca-client enroll -d --enrollment.profile tls -u $ENROLLMENT_URL -M /tmp/tls --csr.hosts \"$HOST_NAME,$HOST_NAME.peer,$HOST_NAME.peer.$CORE_PEER_DOMAIN\"``` where examples of these variables are `HOST_NAME` as `peer-0`, `CORE_PEER_DOMAIN` is `namespace.svc.cluster.local` giving an overall peer name of `peer-0.peer.namespace.svc.cluster.local`","username":"iramiller","ts":"2018-09-10T16:18:12.519Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WznH3qrBEoayDcPfS","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=WznH3qrBEoayDcPfS","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I use local storage - I'm on a mac and NFS isn't working. \nI'm having trouble getting it to accept the certs I gen with cryptogen when I call a peer with a client. I get a 509 exception. It's fine inside regular docker with same.","username":"aatkddny","ts":"2018-09-10T18:22:49.178Z"}
{"msg":"We do not use NFS in our K8S cluster.  It is possible to setup a fabric without it but if you are basing your system off of the demo scripts then you will need to do some work to get past that step.  We use a configmap with the genesis.block, configtx.yaml, channel.tx, and anchors.tx files in it and mount those into pods","username":"iramiller","ts":"2018-09-10T18:58:16.686Z"}
{"msg":"Additionally we wait on ports vs waiting on log files for the steps that require that sync...","username":"iramiller","ts":"2018-09-10T18:59:09.485Z"}
{"msg":"What is your X509 error?","username":"iramiller","ts":"2018-09-10T18:59:17.721Z"}
{"msg":"Is anyone here using Helm charts and has one that works for fabric deployment?","username":"yacovm","ts":"2018-09-10T20:53:26.675Z"}
{"msg":"@yacovm we have a custom chart that works for deployment ... ","username":"iramiller","ts":"2018-09-10T21:10:31.852Z"}
{"msg":"Thanks @iramiller :) \n@G-DazWilkin - you were looking for such a chart... ^","username":"yacovm","ts":"2018-09-10T21:15:30.914Z"}
{"msg":"Thanks @iramiller :) \n @G-DazWilkin - you were looking for such a chart... ^","username":"yacovm","ts":"2018-09-10T21:15:30.914Z"}
{"msg":"@iramiller - is it secret? ","username":"yacovm","ts":"2018-09-10T21:16:21.392Z"}
{"msg":"any chance you'll be willing to help someone that is looking for such a thing? (not me - I tagged him)","username":"yacovm","ts":"2018-09-10T21:16:43.867Z"}
{"msg":"No it is not a secret ... but I would need to share it out in pieces :-/ because it depends on some of our own custom containers and start scripts","username":"iramiller","ts":"2018-09-10T21:16:48.984Z"}
{"msg":"understood","username":"yacovm","ts":"2018-09-10T21:16:56.920Z"}
{"msg":"but basic and important concepts like CAs and orderer/peers are all pretty useable with the default example ... and I can give pointers on the bash changes we made","username":"iramiller","ts":"2018-09-10T21:17:41.622Z"}
{"msg":"So, there are 2 hacks which he had to do - wondering if you can advise on the 2 hacks in:\nhttps://medium.com/google-cloud/helm-chart-for-fabric-for-kubernetes-80408b9a3fb6 ","username":"yacovm","ts":"2018-09-10T21:17:47.520Z"}
{"msg":"We are deployed in GKE as well","username":"iramiller","ts":"2018-09-10T21:18:22.250Z"}
{"msg":"you can write a response below if you feel generous and kind ;) ","username":"yacovm","ts":"2018-09-10T21:18:22.851Z"}
{"msg":"(in the medium post)","username":"yacovm","ts":"2018-09-10T21:18:31.047Z"}
{"msg":"Yes I was able to overcome those two DNS issues ","username":"iramiller","ts":"2018-09-10T21:19:10.562Z"}
{"msg":"can you pretty please write in the medium blog post how you solved them? :pray: ","username":"yacovm","ts":"2018-09-10T21:20:00.309Z"}
{"msg":"you can \"leave a response\" in the bottom of the page","username":"yacovm","ts":"2018-09-10T21:20:16.177Z"}
{"msg":"I will see what I can do... I need to disentangle a couple different efforts to make sure I have it explained correctly.  My current system is using chain code in scheduled pods (which I have mentioned in channels here in a few places) and that changes things yet again because we do not need to worry about scheduling containers in the host vm through mounted docker.sock in the peer...","username":"iramiller","ts":"2018-09-10T21:22:00.591Z"}
{"msg":"Prior to making the kubernetes controller though we were running with the normal docker.sock schedule pods and we had to deal with this exact DNS issue... ","username":"iramiller","ts":"2018-09-10T21:22:49.724Z"}
{"msg":"hmm I see","username":"yacovm","ts":"2018-09-10T21:23:13.652Z"}
{"msg":"The important change was to use statefulsets for peers so the hostnames matched up using the `peer-1.peer` (where `peer` is the service name for the stateful set) so that DNS could resolve the names","username":"iramiller","ts":"2018-09-10T21:24:42.010Z"}
{"msg":"The peer docker vm needs to point to the KUBE_DNS service IP address as well so it can resolve names in kubernetes\n```\n        - name: CORE_VM_DOCKER_HOSTCONFIG_DNS\n          value:  {{ .Values.fabricPeer.hostDNS }}\n```","username":"iramiller","ts":"2018-09-10T21:26:37.379Z"}
{"msg":"OK, understood... I'll forward your tips to him, many thanks again!","username":"yacovm","ts":"2018-09-10T21:27:08.411Z"}
{"msg":"Sure thing.  I will see what I can do for a better writeup to attach to his post as well","username":"iramiller","ts":"2018-09-10T21:27:32.697Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD) @iramiller Perhaps I didn't explain as well as I could have. We have a different implementation from the samples. The simple test version of it calls cryptogen and makes multiple configtxgen to generate the needful files for security and for the channels. It then generates kubernetes configuration yaml for the four defined organizations. It's set to use DinD for chaincode instantiation, which seems to be working.\nAll this works fine until I turn on TLS. At that point I start getting certificate exceptions, and I'm not sure what's causing them. External communication to the network is through nodeports to localhost and the calling application uses the java SDK with the peer cert coming from `peerOrganizations/{DOMAIN}/peers/{NAME}/tls/server.crt`. \nThe same network and the same calling application works just fine in docker using compose, so I'm guessing it's something to do with how kubernetes resolves things but this is a I don't know what I don't know situation. I'm not even sure I'm asking the right questions.\n  ","username":"aatkddny","ts":"2018-09-11T00:11:04.761Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD) @iramiller Perhaps I didn't explain as well as I could have. We have a different implementation from the samples. The simple test version of it calls cryptogen and makes multiple configtxgen to generate the needful files for security and for the channels. It then generates kubernetes configuration yaml for the four defined organizations. It's set to use DinD for chaincode instantiation, which seems to be working.\nAll this works fine until I turn on TLS. At that point I start getting certificate exceptions, and I'm not sure what's causing them. External communication to the network is through nodeports to localhost and the calling application uses the java SDK with the peer cert coming from `peerOrganizations/{DOMAIN}/peers/{NAME}/tls/server.crt`. \nThe same network and the same calling application works just fine in docker using compose, so I'm guessing it's something to do with how kubernetes resolves things but this is a I don't know what I don't know situation. I'm not even sure I'm asking the right questions.\n  ","username":"aatkddny","ts":"2018-09-11T00:11:04.761Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD) @iramiller Perhaps I didn't explain as well as I could have. We have a different implementation from the samples. The simple test version of it calls cryptogen and makes multiple configtxgen to generate the needful files for security and for the channels. It then generates kubernetes configuration yaml for the four defined organizations. It's set to use DinD for chaincode instantiation, which seems to be working.\n\nAll this works fine until I turn on TLS. At that point I start getting certificate exceptions, and I'm not sure what's causing them. \nExternal communication to the network is through nodeports to localhost. The calling application uses the java SDK with the peer cert coming from `peerOrganizations/{DOMAIN}/peers/{NAME}/tls/server.crt`. \nSetting a hostname override doesn't seem to affect things.\n\nThe same network and the same calling application works just fine in docker using compose, so I'm guessing it's something to do with how kubernetes resolves things but this is a I don't know what I don't know situation. I'm not even sure I'm asking the right questions.\n  ","username":"aatkddny","ts":"2018-09-11T00:11:04.761Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8euvniwyyQwCQqiD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"lotty02cho","ts":"2018-09-11T00:38:08.934Z","type":"uj"}
{"msg":"How do I start Fabric based on Kubernetes? Doe anyone knows about it? Which reference is good for beginner?","username":"lotty02cho","ts":"2018-09-11T00:52:04.233Z"}
{"msg":"@lotty02cho Check out @Luke_Chen 's recent post wich contains some helm charts to boot a 1.0.x Fabric cluster. [ http://www.think-foundry.com/hyperledger-fabric-deployment-using-helm-chart/ ]","username":"RobertDiebels","ts":"2018-09-11T08:10:23.061Z"}
{"msg":"Should be easy enough.","username":"RobertDiebels","ts":"2018-09-11T08:10:31.381Z"}
{"msg":"Otheriwise check out a tool I made to do something similar. I'd go with the helm charts though. https://www.npmjs.com/package/kubechain","username":"RobertDiebels","ts":"2018-09-11T08:11:15.195Z"}
{"msg":"@yacovm I solved those DNS issues by passing the kubedns IP-address and the DNS config into the container as EnvVar's. You'd need to either access the host or change Fabric's code if you want to fix those issues otherwise.","username":"RobertDiebels","ts":"2018-09-11T08:16:07.403Z"}
{"msg":"```\n                            {\n                                \"name\": \"CORE_VM_DOCKER_HOSTCONFIG_DNS\",\n                                \"value\": \"<kubedns.ipAddress>\"\n                            },\n                            {\n                                \"name\": \"CORE_VM_DOCKER_HOSTCONFIG_DNSSEARCH\",\n                                \"value\": \"default.svc.cluster.local svc.cluster.local\"\n                            }\n```","username":"RobertDiebels","ts":"2018-09-11T08:16:40.038Z"}
{"msg":"This way I can avoid changing fabric's code and I don't have to alter the dockerconfig file on the host machine. Downside is that the chaincode runs outside of k8s. For my purposes this is good enough, though I can imagine if you want to utilize k8s's full potential running chaincode outside of k8s just won't cut it.","username":"RobertDiebels","ts":"2018-09-11T08:19:41.228Z"}
{"msg":"cool, thanks","username":"yacovm","ts":"2018-09-11T08:25:21.522Z"}
{"msg":"Won't solve the domain-naming issue for orderer.example.com though. I would have taken a similar approach on that one.","username":"RobertDiebels","ts":"2018-09-11T08:29:47.708Z"}
{"msg":"Has left the channel.","username":"RobertDiebels","ts":"2018-09-11T08:39:09.810Z","type":"ul"}
{"msg":"@iramiller I see in your response to @DazWilkin medium post that you have a forked version of fabric with k8s controller code replacing the docker controller code. Any chance you might contribute that upstream as a configurable alternative?","username":"cbf","ts":"2018-09-11T15:06:09.732Z"}
{"msg":"Has joined the channel.","username":"DazWilkin","ts":"2018-09-11T15:06:10.228Z","type":"uj"}
{"msg":"@cbf there are a few hoops to go through before we could release the controller... foremost is that our implementation doesn't support all of the configuration options that are expected for a deployment.  We rely heavily on a set of defaults that match our own internal requirements.  I am happy to pull out examples of where we integrated in and how we solved scheduling of workloads for others that are able to build and integrate the source code.  Until we have a more robust solution releasing the whole thing would likely result in far more support questions than we would be able to field","username":"iramiller","ts":"2018-09-11T15:20:28.238Z"}
{"msg":"@iramiller thanks, appreciate your circumstance","username":"cbf","ts":"2018-09-11T15:21:39.395Z"}
{"msg":"just trying to figure out how we bootstrap and accelerate getting proper k8s support ","username":"cbf","ts":"2018-09-11T15:22:04.174Z"}
{"msg":"IMO @cbf  - we... should be OK with them releasing what they can, and we (the community should simply fill in the missing gaps) ","username":"yacovm","ts":"2018-09-11T15:24:17.753Z"}
{"msg":"IMO @cbf  - we... should be OK with them releasing what they can, and we (the community) should simply fill in the missing gaps","username":"yacovm","ts":"2018-09-11T15:24:17.753Z"}
{"msg":"I feel like our approach is a good starting point ... we essentially integrated directly with the existing docker containers with the exception that we do not use the docker client to schedule workloads... this means that all of the container configuration stuff should map over to kubernetes eventually without change protobufs for a new type\n```\n// from github.com/hyperledger/fabric/core/container/dockercontroller/dockercontroller.go @ line 100\n// NewVM creates a new DockerVM instance\nfunc (p *Provider) NewVM() container.VM {\n\t// At this point check to see if we are in kubernetes\n\tif !kubernetescontroller.InCluster() {\n\t\treturn NewDockerVM(p.PeerID, p.NetworkID)\n\t}\n\t// In a cluster so replace the docker connection with a kubernetes one.\n\tdockerLogger.Info(\"Kubernetes environment detected. Using K8s API.\")\n\treturn kubernetescontroller.NewKubernetesAPI(p.PeerID, p.NetworkID)\n}\n```","username":"iramiller","ts":"2018-09-11T15:26:22.195Z"}
{"msg":"There is a good discussion here: https://jira.hyperledger.org/browse/FAB-7406 ","username":"iramiller","ts":"2018-09-11T15:30:11.687Z"}
{"msg":"As part of that I see that the HLF team was not supportive of pulling in the k8s.io client apis as another compile time reference for the peer code with an expressed preference for an external library instead.  That approach would not work with the implementation I have above that ties into the docker controller directly to use the in cluster configuration and replace the docker client when the kubernetes environment is detected (and the configuration flag enables the K8s controller)","username":"iramiller","ts":"2018-09-11T15:32:38.526Z"}
{"msg":"Has joined the channel.","username":"ColeBoudreau","ts":"2018-09-11T17:18:46.958Z","type":"uj"}
{"msg":"Is it possible to use kubernetes to allow multiple peers (containers) to share chaincode/ledger dbs, in order to conserve memory use?","username":"ColeBoudreau","ts":"2018-09-11T17:20:04.872Z"}
{"msg":"@iramiller @yacovm this is *very* interesting. Thank you both for the follow-up. @iramiller your insights in response to my blog post are very helpful too. I'm headed out on vacation today back and the closing on a house so I'm going to be very offline for a while. However, I'm (re)committed to getting this working. How best to proceed? Is there a project space where we can progress this in the open? Or, should we corral, define a path forward and then return here? @iramiller, I'm my handle here without the \"G-\" prefix at google.com.","username":"G-DazWilkin","ts":"2018-09-11T18:00:22.896Z"}
{"msg":"Has joined the channel.","username":"kirin","ts":"2018-09-12T03:57:31.132Z","type":"uj"}
{"msg":"I'm use kubernetes deployment fabric\nBasicenvironmental instructions\noperating systemUbuntu 16.04.3\nkubernetes version:v1.11.2\nkubernetes network plugin:flannel\nkubernetes DNS use: core dns\nkubernetes one master and one work node.\nfabric use release 1.1.0 docker images.\nfabrictopology\nconsensus kafka\nthree zookeeper node and four kafka node .\nthree orderer node and four peer node\nThe deployment of orderer\nthe orderer container log","username":"kirin","ts":"2018-09-12T04:22:41.832Z"}
{"msg":"","username":"kirin","ts":"2018-09-12T04:24:10.060Z","attachments":[{"type":"file","title":"Clipboard - 20189121224","title_link":"/file-upload/rYuE9H4YXx6ovFCWY/Clipboard%20-%202018%E5%B9%B49%E6%9C%8812%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B924%E5%88%86","image_url":"/file-upload/rYuE9H4YXx6ovFCWY/Clipboard%20-%202018%E5%B9%B49%E6%9C%8812%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B924%E5%88%86","image_type":"image/png","image_size":159364,"url":"/file-upload/rYuE9H4YXx6ovFCWY/Clipboard%20-%202018%E5%B9%B49%E6%9C%8812%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B924%E5%88%86","remote":false,"fileId":"rYuE9H4YXx6ovFCWY","fileName":"Clipboard - 20189121224"}]}
{"msg":"I'm use kubernetes deployment fabric \nBasic environmental instructions\noperating system Ubuntu 16.04.3\nkubernetes version: v1.11.2 \nkubernetes network plugin: flannel\nkubernetes DNS use: core dns\nkubernetes one master and one work node.\nfabric use release 1.1.0 docker images.\nfabric topology\nconsensus kafka\nthree zookeeper node and four kafka node .\nthree orderer node and four peer node\nThe deployment of orderer\nthe orderer container log \n","username":"kirin","ts":"2018-09-12T04:24:12.721Z"}
{"msg":"","username":"kirin","ts":"2018-09-12T04:24:51.160Z","attachments":[{"type":"file","title":"Clipboard - 20189121224","title_link":"/file-upload/mySCbwTeJ9nhER8BD/Clipboard%20-%202018%E5%B9%B49%E6%9C%8812%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B924%E5%88%86","image_url":"/file-upload/mySCbwTeJ9nhER8BD/Clipboard%20-%202018%E5%B9%B49%E6%9C%8812%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B924%E5%88%86","image_type":"image/png","image_size":159364,"url":"/file-upload/mySCbwTeJ9nhER8BD/Clipboard%20-%202018%E5%B9%B49%E6%9C%8812%E6%97%A5%E4%B8%AD%E5%8D%8812%E7%82%B924%E5%88%86","remote":false,"fileId":"mySCbwTeJ9nhER8BD","fileName":"Clipboard - 20189121224"}]}
{"msg":"Has joined the channel.","username":"underbell","ts":"2018-09-13T06:08:14.805Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JaydipMakadia","ts":"2018-09-13T13:11:19.132Z","type":"uj"}
{"msg":"@iramiller I've not been able to look at my problem for a couple of days. I really did a poor job of explaining it, and I conflated two issues I had. \nI'm using yaml config scripts I autogenerate and the client runs under the java sdk for full disclosure.\n\nK8S works fine using grpc:// until I turn on TLS and grpcs://. \nIt works fine in a base docker setup with and without TLS. This is single node on a mac.\n\nThe first thing I need to do to run my network is to create a channel. To do this the client needs to contact the orderer. That's exposed using a NodePort service. My call fails to reach the orderer. \nThe java client gives me this: \n```\norg.hyperledger.fabric.sdk.exception.TransactionException: Channel xxx-block-channel, send transactions failed on orderer OrdererClient-xxx-block-channel-orderer0-orderer(grpcs://localhost:30020). Reason:  timeout after 10000 ms.\n\tat org.hyperledger.fabric.sdk.OrdererClient.sendTransaction(OrdererClient.java:210) ~[fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Orderer.sendTransaction(Orderer.java:158) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.sendUpdateChannel(Channel.java:509) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.<init>(Channel.java:232) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.createNewInstance(Channel.java:324) [fabric-sdk-java-1.2.0.jar:na]\n```\n\nIt never hits the orderer. Logs end at `[channel: genesischannel] It's a connect message - ignoring`\n\nThe properties passed to the orderer look like this:\n`pemBytes=[B@8037787, negotiationType=TLS, sslProvider=openSSL, hostnameOverride=orderer0-orderer`\n\npemBytes comes from the generated crypto - found in the usual `ordererOrganizations/{DOMAIN}/orderers/{NAME}/tls/server.crt` location\n\nWith these generated certs and TLS I need to pass in the hostnameOverride flag set to the name of the orderer. \nAs I (clearly not well) understand it that allows it to accept the cert as being valid. \n\nUntil K8S. I've added the javax extensions to debug SSL and they give me nothing, so it's not even getting to logging that whole handshaking part it does.\n*I'm not sure where to even start looking to see what it's not liking* \nI thought I read K8S has a different certificate management system and that might be affecting this, but I'm at the I don't know enough to even ask the right question stage. \nIf anyone can give me a clue where to start I'll try to figure it out - I'm just looking to short circuit as much of that process as possible.","username":"aatkddny","ts":"2018-09-13T13:51:25.249Z"}
{"msg":"@iramiller I've not been able to look at my problem for a couple of days. I really did a poor job of explaining it, and I conflated two issues I had. \nI'm using yaml config scripts I autogenerate and the client runs under the java sdk for full disclosure.\n\nK8S works fine using grpc:// until I turn on TLS and grpcs://. \nIt works fine in a base docker setup with and without TLS. This is single node on a mac.\n\nThe first thing I need to do to run my network is to create a channel. To do this the client needs to contact the orderer. That's exposed using a NodePort service. My call fails to reach the orderer. \nThe java client gives me this: \n```\norg.hyperledger.fabric.sdk.exception.TransactionException: Channel xxx-block-channel, send transactions failed on orderer OrdererClient-xxx-block-channel-orderer0-orderer(grpcs://localhost:30020). Reason:  timeout after 10000 ms.\n\tat org.hyperledger.fabric.sdk.OrdererClient.sendTransaction(OrdererClient.java:210) ~[fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Orderer.sendTransaction(Orderer.java:158) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.sendUpdateChannel(Channel.java:509) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.<init>(Channel.java:232) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.createNewInstance(Channel.java:324) [fabric-sdk-java-1.2.0.jar:na]\n```\n\nIt never hits the orderer. Logs end at `[channel: genesischannel] It's a connect message - ignoring`\n\nThe properties passed into the java client look like this:\n`pemBytes=[B@8037787, negotiationType=TLS, sslProvider=openSSL, hostnameOverride=orderer0-orderer`\n\npemBytes comes from the generated crypto - found in the usual `ordererOrganizations/{DOMAIN}/orderers/{NAME}/tls/server.crt` location\n\nWith these generated certs and TLS I need to pass in the hostnameOverride flag set to the name of the orderer. \nAs I (clearly not well) understand it that allows it to accept the cert as being valid. All this is exactly the same as if I were running (and it working) using Docker.\n\nUntil K8S. I've added the javax extensions to debug SSL and they give me nothing, so it's not even getting to logging that whole handshaking part it does.\n*I'm not sure where to even start looking to see what it's not liking* \nI thought I read K8S has a different certificate management system and that might be affecting this, but I'm at the I don't know enough to even ask the right question stage. \nIf anyone can give me a clue where to start I'll try to figure it out - I'm just looking to short circuit as much of that process as possible.","username":"aatkddny","ts":"2018-09-13T13:51:25.249Z"}
{"msg":"@iramiller I've not been able to look at my problem for a couple of days. I really did a poor job of explaining it, and I conflated two issues I had. \nI'm using yaml config scripts I autogenerate and the client runs under the java sdk for full disclosure.\n\nK8S works fine using grpc:// until I turn on TLS and grpcs://. \nIt works fine in a base docker setup with and without TLS. This is single node on a mac.\n\nThe first thing I need to do to run my network is to create a channel. To do this the client needs to contact the orderer. That's exposed using a NodePort service. My call fails to reach the orderer. \nThe java client gives me this: \n```\norg.hyperledger.fabric.sdk.exception.TransactionException: Channel xxx-block-channel, send transactions failed on orderer OrdererClient-xxx-block-channel-orderer0-orderer(grpcs://localhost:30020). Reason:  timeout after 10000 ms.\n\tat org.hyperledger.fabric.sdk.OrdererClient.sendTransaction(OrdererClient.java:210) ~[fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Orderer.sendTransaction(Orderer.java:158) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.sendUpdateChannel(Channel.java:509) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.<init>(Channel.java:232) [fabric-sdk-java-1.2.0.jar:na]\n\tat org.hyperledger.fabric.sdk.Channel.createNewInstance(Channel.java:324) [fabric-sdk-java-1.2.0.jar:na]\n```\n\nIt never hits the orderer. Logs end at `[channel: genesischannel] It's a connect message - ignoring`\n\nThe properties passed into the java client look like this:\n`pemBytes=[B@8037787, negotiationType=TLS, sslProvider=openSSL, hostnameOverride=orderer0-orderer`\n\npemBytes comes from the generated crypto - found in the usual `ordererOrganizations/{DOMAIN}/orderers/{NAME}/tls/server.crt` location\n\nWith these generated certs and TLS I need to pass in the hostnameOverride flag set to the name of the orderer. \nAs I (clearly not well) understand it that allows it to accept the cert as being valid. All this is exactly the same as if I were running (and it working) using Docker.\n\nK8S is different in some way. \nI've added the javax extensions to debug SSL and they give me nothing, so it's not even getting to logging that whole handshaking part it does.\n*I'm not sure where to even start looking to see what it's not liking* \nI thought I read K8S has a different certificate management system and that might be affecting this, but I'm at the I don't know enough to even ask the right question stage. \nIf anyone can give me a clue where to start I'll try to figure it out - I'm just looking to short circuit as much of that process as possible.","username":"aatkddny","ts":"2018-09-13T13:51:25.249Z"}
{"msg":"I do not recommend using NodePorts for your services.  I recommend using a headless service bound directly to your orderer (or statefulsets) so you can have a consistent DNS name and port in your configuration that is easier to reason about.  Depending on how you deploy your orderer workloads you can use the DNS names of stateful sets or make a service with specific selectors for each order if you are using a deployment with each specific orderer instance.  When diagnosing DNS issues I like to run an instance of the CLI [hyperledger/fabric-ca-tools] and install dnsutils `apt update;apt install -qq -y dnsutils` to check my connections and resolution. \n```\nroot@cli-0:/# nslookup orderer-0\nServer:\t\t172.16.0.10\nAddress:\t172.16.0.10#53\n\n** server can't find orderer-0: NXDOMAIN\n\nroot@cli-0:/# nslookup orderer-0.orderer\nServer:\t\t172.16.0.10\nAddress:\t172.16.0.10#53\n\nName:\torderer-0.orderer.fabric.svc.cluster.local\nAddress: 10.0.6.64\n\nroot@cli-0:/# nslookup orderer-0.orderer.fabric.svc.cluster.local\nServer:\t\t172.16.0.10\nAddress:\t172.16.0.10#53\n\nName:\torderer-0.orderer.fabric.svc.cluster.local\nAddress: 10.0.6.64\n\n##### And DNS lookup of a service\n\nroot@cli-0:/# nslookup orderer \nServer:\t\t172.16.0.10\nAddress:\t172.16.0.10#53\n\nName:\torderer.fabric.svc.cluster.local\nAddress: 10.0.6.64```","username":"iramiller","ts":"2018-09-13T16:22:16.058Z"}
{"msg":"I do have headless services for all of the internal inter-pod comms - it's only the ones that I need to hit from my client externally that have NodePorts. \nIt was my first go around and this was the first time I had to deal with Kubernetes :( I'll add an ingress when I figure out how it works. \nAlthough if I understood all that documentation for it correctly it seems that inter-pod TLS isn't supported without adding something like a reverse proxy.","username":"aatkddny","ts":"2018-09-13T17:26:27.180Z"}
{"msg":"I do have headless services for all of the internal inter-pod comms - it's only the ones that I need to hit from my client externally that have NodePorts. \nIt was my first go around and this was the first time I had to deal with Kubernetes :( I'll add an ingress when I figure out how it works. \nAlthough if I understood all that documentation for it correctly it seems that inter-pod TLS isn't supported without adding something like a reverse proxy to each of the pods. And I don't want to go down that particular rabbit hole.","username":"aatkddny","ts":"2018-09-13T17:26:27.180Z"}
{"msg":"TCP and UDP services are definitely a weak point in public cloud kubernetes deployments.  https://github.com/kubernetes/ingress-nginx/blob/master/docs/user-guide/exposing-tcp-udp-services.md is a starting point ... good luck","username":"iramiller","ts":"2018-09-13T17:56:27.683Z"}
{"msg":"Thanks. I was hoping for a magic bullet but I may just punt and say VPN FTW for now until I have more time to revisit it. This instance is in our datacenter so I can get away with that for a little while.  ","username":"aatkddny","ts":"2018-09-13T18:01:33.731Z"}
{"msg":"Has joined the channel.","username":"eenagy","ts":"2018-09-14T02:56:29.077Z","type":"uj"}
{"msg":"Has joined the channel.","username":"silliman","ts":"2018-09-14T13:27:55.170Z","type":"uj"}
{"msg":"Has joined the channel.","username":"fsl","ts":"2018-09-17T02:23:55.627Z","type":"uj"}
{"msg":" I find that the host names in the grpc -tls cert of peers is usually include \".\" , for example, \"peer1.org@example.com\" ","username":"luckydogchina","ts":"2018-09-19T10:19:58.186Z"}
{"msg":" I find that  host names in the grpc -tls cert of peers is usually include \".\" , for example, \"peer1.org@example.com\" \nbut, the service name do not include \".\" ,so that the tls verify bad  ","username":"luckydogchina","ts":"2018-09-19T10:19:58.186Z"}
{"msg":" I find that  host names in the grpc -tls cert of peers is usually include \".\" , for example, \"peer1.org@example.com\" \nbut, the service name do not include \".\" in k8s ,so that the tls  hostname verify bad  ","username":"luckydogchina","ts":"2018-09-19T10:19:58.186Z"}
{"msg":" I find that  host names in the grpc -tls cert of peers is usually include \".\" , for example, \"peer1.org@example.com\" \nbut, the service name can not include \".\" in k8s ,so that the tls  hostname verify bad, when some pods connecting to  \"peer1.org@example.com\"","username":"luckydogchina","ts":"2018-09-19T10:19:58.186Z"}
{"msg":" I find that  host names in the grpc -tls cert of peers is usually include \".\" , for example, \"peer1.org@example.com\" \nbut, the service name can not include \".\" in k8s ,so that the tls  hostname verify bad, when some pods connecting to  \"peer1.org@example.com\"\nhow to resolve it? ","username":"luckydogchina","ts":"2018-09-19T10:19:58.186Z"}
{"msg":" I find that  host names in the grpc -tls cert of peers  usually include \".\" , for example, \"peer1.org@example.com\" \nbut, the service name can not include \".\" in k8s ,so that the tls  hostname verify bad, when some pods connecting to  \"peer1.org@example.com\"\nhow to resolve it? ","username":"luckydogchina","ts":"2018-09-19T10:19:58.186Z"}
{"msg":" I find that  host names in the grpc -tls cert of peers  usually include \".\" , for example, \"peer1.org@example.com\" \nbut, the service name can not include \".\" in k8s ,so that the tls  hostname verified failure, when some pods connecting to  \"peer1.org@example.com\"\nhow to resolve it? ","username":"luckydogchina","ts":"2018-09-19T10:19:58.186Z"}
{"msg":"Hello.  We have been using Fabric on Docker swarm, but I now have some time to look at K8 as an option for us.   I have played around with it via Minikube, but have hit an issue with pods not being able to hit their own service.  e.g. a peer talking to itself via it's service.  It appears to be a hairpin related issue on the virtual device, but moving forward, we don't intend to use Minikube for production, so it's probably not worth spending time to find a fix, unless someone has one to hand ;-)   There seem to be lots of options for installing a cluster.  We are looking primarily to use it on AWS, and maybe Azure.  Can anyone recommend an approach to K8 with Fabric in mind?\n","username":"julian","ts":"2018-09-21T20:43:57.903Z"}
{"msg":"Has joined the channel.","username":"Wizzy123","ts":"2018-09-23T13:45:35.274Z","type":"uj"}
{"msg":"I have a doubt, as I am working on Hyperledger fabric\n\nSo \nHow to deploy chaincode  in multiple organisation environment,\nwhere all organisations in the environment has a peer node each,\n\nso that any transaction that happens on single organization peer is reflected on the peers of other organizations \n\n i.e how to keep the peers in each organization in sync ?\n\nOr how to setup Hyperledger fabric in multiple organization environment ?","username":"Wizzy123","ts":"2018-09-23T13:45:40.877Z"}
{"msg":"Has joined the channel.","username":"PrakharShukla","ts":"2018-09-24T19:18:05.211Z","type":"uj"}
{"msg":"unable to start kafka, getting this error when doing it on k8s","username":"kjroger94","ts":"2018-09-25T02:42:31.111Z"}
{"msg":"`try -> DEBU 13c2 [channel: mychannel] Need to retry because process failed = kafka server: In the middle of a leadership election, there is currently no lead\ner for this partition and hence it is unavailable for writes.\n2018-09-25 02:22:19.707 UTC [orderer/consensus/kafka] startThread -> CRIT 13c3 [channel: mychannel] Cannot post CONNECT message = kafka server: In the middle of a leadership election, there is currently no leade\nr for this partition and hence it is unavailable for writes.\npanic: [channel: mychannel] Cannot post CONNECT message = kafka server: In the middle of a leadership election, there is currently no leader for this partition and hence it is unavailable for writes.`","username":"kjroger94","ts":"2018-09-25T02:42:32.460Z"}
{"msg":"Has joined the channel.","username":"rezmuh","ts":"2018-09-25T09:38:30.295Z","type":"uj"}
{"msg":"Has joined the channel.","username":"usmanbinyahya","ts":"2018-09-25T09:50:02.735Z","type":"uj"}
{"msg":"Hello, we are doing a webinar with the LI on deploying with Helm Charts:\n\nhttps://medium.com/aid-tech/webinar-a-hitchhikers-guide-to-deploying-hyperledger-fabric-on-kubernetes-1bcecc2a4ade\n\nIn case anyone from the is interested in attending","username":"alexvicegrab","ts":"2018-09-25T14:14:00.883Z"}
{"msg":"Anyone use dind? We just hit a problem with disk pressure despite the /var/lib/docker omg that box being gigantic. \nIt looks like it's writing to the root file system - is that expected behavior or are we missing a parameter somewhere?","username":"aatkddny","ts":"2018-09-25T14:33:22.670Z"}
{"msg":"Anyone use dind? We just hit a problem with disk pressure despite the /var/lib/docker omg that box being gigantic. \nIt looks like it's writing to the root file system - is that expected behavior or are we missing a parameter somewhere?\n\nEDIT: NM it looks like it is. Something to be aware of if your SAs set your root filesystem size to 1Gb with a \"but nobody every uses that\" comment.","username":"aatkddny","ts":"2018-09-25T14:33:22.670Z"}
{"msg":"Anyone use dind? We just hit a problem with disk pressure despite the /var/lib/docker omg that box being gigantic. \nIt looks like it's writing to the root file system - is that expected behavior or are we missing a parameter somewhere?\n\nEDIT: NM it looks like it is. Something to be aware of if your SAs set your root filesystem size to 1Gb with a \"but nobody every uses that\" comment. No wonder it worked on a local machine...","username":"aatkddny","ts":"2018-09-25T14:33:22.670Z"}
{"msg":"Hi All! Where can i found a good guide to use Kubernetes to install Fabric on my servers?Thanks in advance!","username":"ascatox","ts":"2018-09-26T07:40:43.660Z"}
{"msg":"@PascalVerlinden There's a seminar today actually! The links just above, but here it is again: https://medium.com/aid-tech/webinar-a-hitchhikers-guide-to-deploying-hyperledger-fabric-on-kubernetes-1bcecc2a4ade","username":"ColeBoudreau","ts":"2018-09-26T13:01:30.056Z"}
{"msg":"@ascatox There's a seminar today actually! The links just above, but here it is again: https://medium.com/aid-tech/webinar-a-hitchhikers-guide-to-deploying-hyperledger-fabric-on-kubernetes-1bcecc2a4ade","username":"ColeBoudreau","ts":"2018-09-26T13:01:30.056Z"}
{"msg":"Has joined the channel.","username":"PascalVerlinden","ts":"2018-09-26T13:01:30.248Z","type":"uj"}
{"msg":"Has joined the channel.","username":"EvansChang","ts":"2018-09-27T02:37:00.402Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=dMcg7tgNEN8tvdgti) @ColeBoudreau Thank you very much I'll try to attend this.","username":"ascatox","ts":"2018-09-27T14:33:01.574Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=dMcg7tgNEN8tvdgti","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=dMcg7tgNEN8tvdgti","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"easeev","ts":"2018-09-28T12:07:46.268Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hayorov","ts":"2018-09-28T12:38:48.555Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zacpl","ts":"2018-09-28T18:37:49.621Z","type":"uj"}
{"msg":"`Error: error getting endorser client for channel: endorser client failed to connect to liqvis-service-peer2:30210: failed to create new connection: context deadline exceeded`  i am getting this error while trying to run commands. if i even put the IP of the service, it does not connect. But if i give that of the pods in /etc/hosts, it connects. Peer1 is able to communicate with Peer1 via the service and I am able to curl the service as well but from inside the pod, the service connected to it is unreachable. ","username":"kjroger94","ts":"2018-09-30T03:54:53.067Z"}
{"msg":"Guys, I'm trying to run fabric network on kubernetes and looks like have an issue with any chaincode execution ... for example - trying to `peer channel getinfo -c ANY` and got `2018-09-30 10:50:43.335 UTC [endorser] ProcessProposal -> ERRO 1d7 [][a28ec38c] simulateProposal() resulted in chaincode name:\"qscc\"  response status 500 for txid: a28ec38c7d9cfa6e63940173b454a9c93dafb4bf588f8ad1ccd11308977ff722` how can i check that docker VM with system chaincode works? any HOWTO? tricks about mounted docker socket? I'm using GKE cluster","username":"hayorov","ts":"2018-09-30T10:53:26.404Z"}
{"msg":"in startup logs of peer i see `2018-09-30 10:42:13.846 UTC [qscc] Init -> INFO 0ff Init QSCC\n2018-09-30 10:42:13.846 UTC [shim] func1 -> DEBU 100 [3deec813] Init get response status: 200\n2018-09-30 10:42:13.846 UTC [shim] func1 -> DEBU 101 [3deec813] Init succeeded. Sending COMPLETED\n2018-09-30 10:42:13.846 UTC [shim] triggerNextState -> DEBU 102 [3deec813] send state message COMPLETED\n2018-09-30 10:42:13.846 UTC [chaincode] handleMessage -> DEBU 103 [3deec813] Fabric side handling ChaincodeMessage of type: COMPLETED in state ready\n2018-09-30 10:42:13.846 UTC [chaincode] Notify -> DEBU 104 [3deec813] notifying Txid:3deec813-5a92-47ff-b066-785270d35b37, channelID:\n2018-09-30 10:42:13.846 UTC [chaincode] Execute -> DEBU 105 Exit\n2018-09-30 10:42:13.846 UTC [sccapi] deploySysCC -> INFO 106 system chaincode qscc/(github.com/hyperledger/fabric/core/scc/qscc) deployed\n2018-09-30 10:42:13.846 UTC [nodeCmd] serve -> INFO 107 Deployed system chaincodes\n2018-09-30 10:42:13.847 UTC [discovery/lifecycle] InstalledCCs -> DEBU 108 Returning []\n2018-09-30 10:42:13.847 UTC [discovery] NewService -> INFO 109 Created with config TLS: false, authCacheMaxSize: 1000, authCachePurgeRatio: 0.750000`","username":"hayorov","ts":"2018-09-30T10:55:34.474Z"}
{"msg":"in startup logs of peer i see ```2018-09-30 10:42:13.846 UTC [qscc] Init -> INFO 0ff Init QSCC\n2018-09-30 10:42:13.846 UTC [shim] func1 -> DEBU 100 [3deec813] Init get response status: 200\n2018-09-30 10:42:13.846 UTC [shim] func1 -> DEBU 101 [3deec813] Init succeeded. Sending COMPLETED\n2018-09-30 10:42:13.846 UTC [shim] triggerNextState -> DEBU 102 [3deec813] send state message COMPLETED\n2018-09-30 10:42:13.846 UTC [chaincode] handleMessage -> DEBU 103 [3deec813] Fabric side handling ChaincodeMessage of type: COMPLETED in state ready\n2018-09-30 10:42:13.846 UTC [chaincode] Notify -> DEBU 104 [3deec813] notifying Txid:3deec813-5a92-47ff-b066-785270d35b37, channelID:\n2018-09-30 10:42:13.846 UTC [chaincode] Execute -> DEBU 105 Exit\n2018-09-30 10:42:13.846 UTC [sccapi] deploySysCC -> INFO 106 system chaincode qscc/(github.com/hyperledger/fabric/core/scc/qscc) deployed\n2018-09-30 10:42:13.846 UTC [nodeCmd] serve -> INFO 107 Deployed system chaincodes\n2018-09-30 10:42:13.847 UTC [discovery/lifecycle] InstalledCCs -> DEBU 108 Returning []\n2018-09-30 10:42:13.847 UTC [discovery] NewService -> INFO 109 Created with config TLS: false, authCacheMaxSize: 1000, authCachePurgeRatio: 0.750000```","username":"hayorov","ts":"2018-09-30T10:55:34.474Z"}
{"msg":"Has joined the channel.","username":"archit90","ts":"2018-09-30T11:44:32.140Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bairathirahul","ts":"2018-09-30T17:51:40.347Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Dpkkmr","ts":"2018-10-01T04:39:29.214Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=SXHs7qcFQaGwNzeXW) @kjroger94 I had similar issue when using Minikube.  I found a container within a pod was not able to connect to it's own service.  This was evident when trying to join a channel.  I got around this by setting the following prior to running peer commands: CORE_PEER_ADDRESS=0.0.0.0:7051","username":"julian","ts":"2018-10-01T16:43:09.387Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=SXHs7qcFQaGwNzeXW","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=SXHs7qcFQaGwNzeXW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Dima","ts":"2018-10-02T07:46:22.364Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Bartb0","ts":"2018-10-02T10:52:47.276Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MaddaliPadmaja","ts":"2018-10-03T07:14:30.824Z","type":"uj"}
{"msg":"Has left the channel.","username":"Dima","ts":"2018-10-04T11:08:08.241Z","type":"ul"}
{"msg":"Has joined the channel.","username":"ffiore81","ts":"2018-10-04T14:53:27.322Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kago","ts":"2018-10-05T21:02:18.453Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qiangqinqq","ts":"2018-10-06T07:35:30.992Z","type":"uj"}
{"msg":"Has joined the channel.","username":"OviiyaDominic","ts":"2018-10-09T04:37:48.572Z","type":"uj"}
{"msg":"swarm","username":"OviiyaDominic","ts":"2018-10-09T04:39:07.424Z"}
{"msg":"Has joined the channel.","username":"chandrakanthMamillapalli","ts":"2018-10-10T00:09:42.192Z","type":"uj"}
{"msg":"Im currently working on adding the possibility of exposing the orderers to the internet via ingresses. Ive gotten as far as setting up the ingresses (using the NGINX-ingress controller) to accept GRPC connections for the Orderer and Peer:\n\nhttps://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/grpc\n\nUsing internal addresses works fine and is all dandy where the whole network lives within a single Kubernetes cluster.\n\nHowever, Im seeing issues when trying to connect from the peer to the orderer:\n\nIf I include the full address in `configtx.yaml`, including `https://` procotol for the ingress, I see errors like this (actual address replaced with `example.com`):\n\n```\n2018-10-10 13:04:29.940 UTC [grpc] Printf -> DEBU 368 grpc: addrConn.createTransport failed to connect to {https://ord2.example.com:443 0  <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp: address https://ord2.example.com:443: too many colons in address\". Reconnecting...\n2018-10-10 13:04:29.940 UTC [grpc] Printf -> DEBU 369 pickfirstBalancer: HandleSubConnStateChange: 0xc422645640, CONNECTING\n2018-10-10 13:04:29.940 UTC [grpc] Printf -> DEBU 36a pickfirstBalancer: HandleSubConnStateChange: 0xc422645640, TRANSIENT_FAILURE\n2018-10-10 13:04:30.418 UTC [ConnProducer] NewConnection -> ERRO 36b Failed connecting to https://ord2.example.com:443 , error: context deadline exceeded\n```\n\nIf I remove the `https://` protocol, I instead see this:\n\n```\n2018-10-10 13:54:10.579 UTC [deliveryClient] connect -> DEBU 7d7 Connected to ord2.example.com:443\n2018-10-10 13:54:10.586 UTC [deliveryClient] connect -> DEBU 7db Establishing gRPC stream with ord2.example.com:443 ...\n2018-10-10 13:54:10.590 UTC [deliveryClient] connect -> ERRO 7dc Connection to  ord2.example.com:443 established but was unable to create gRPC stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: <nil>\n2018-10-10 13:54:10.590 UTC [grpc] Printf -> DEBU 7dd grpc: addrConn.transportMonitor exits due to: context canceled\n```\n\nIt looks as if there is an issue either connecting or maintaining connection to the Orderers when these are external. Has anyone run into this issue, and how did you solve it?","username":"alexvicegrab","ts":"2018-10-10T13:56:05.618Z"}
{"msg":"You can't specify the https scheme because the peer is coded to make a GRPC connection.  More details starting at about line 160 of `github.com/hyperledger/fabric/core/comm/client.go`","username":"iramiller","ts":"2018-10-10T16:55:45.423Z"}
{"msg":"You need to investigate kubernetes ingress for GRPC services... https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/grpc","username":"iramiller","ts":"2018-10-10T16:57:05.285Z"}
{"msg":"Hi @iramiller, thanks for the reply. That is exactly the example I used, the example for kubernetes ingress in `ingress-nginx`, and this works fine for their example.\n\nMy current hypothesis for the issue in the second case is that the fact that we have SSL/TLS throws the Peer client off, which does not expect to be connect to a protected service. I guess I need to start by getting mutual TLS working internally in the cluster and then try my luck with K8S Ingresses again.","username":"alexvicegrab","ts":"2018-10-11T09:12:32.624Z"}
{"msg":"If you get mutual TLS working I'd be interested in hearing how you did it. I sorta gave up once I read about K8S requiring a reverse proxy in every node. Fortunately we have our own data center, but if we ever cloud hosted it I'd have to go back and look and I'm not looking forward to it.","username":"aatkddny","ts":"2018-10-11T13:05:42.597Z"}
{"msg":"Hi @aatkddny. Yes, the documentation is rather sparse on many of these questions, unfortunately. If I succeed, I will try to ping back here.","username":"alexvicegrab","ts":"2018-10-11T13:53:20.344Z"}
{"msg":"Has joined the channel.","username":"waxer","ts":"2018-10-12T12:31:36.130Z","type":"uj"}
{"msg":"Has joined the channel.","username":"saadinator","ts":"2018-10-13T08:06:16.718Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hotbydefault","ts":"2018-10-13T11:25:44.505Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SumanPapanaboina","ts":"2018-10-14T15:36:39.228Z","type":"uj"}
{"msg":"@alexvicegrab  - the issue is likely the fact that the peer does not trust the issues of the TLS certificate being using by the orderer (technically I suppose being used by nginx).  Did you include the root / intermediate CA which issued the TLS certificate in your orderer org's MSP in the the channel definition?","username":"mastersingh24","ts":"2018-10-15T11:03:54.188Z"}
{"msg":"@alexvicegrab  - the issue is likely the fact that the peer does not trust the issuer of the TLS certificate being using by the orderer (technically I suppose being used by nginx).  Did you include the root / intermediate CA which issued the TLS certificate in your orderer org's MSP in the the channel definition?","username":"mastersingh24","ts":"2018-10-15T11:03:54.188Z"}
{"msg":"@alexvicegrab  - the issue is likely the fact that the peer does not trust the issuer of the TLS certificate being using by the orderer (technically I suppose being used by nginx).  Did you include the root / intermediate CA which issued the TLS certificate in your orderer org's MSP in the the channel definition?  The other possibility is that the TLS certificate does not have any SANS matching whichever hostname you are adding in your configtx.yaml","username":"mastersingh24","ts":"2018-10-15T11:03:54.188Z"}
{"msg":"I assume that you did not actually enable TLS on the actually orderer node(s)?  Just at the ingess / nginx layer?","username":"mastersingh24","ts":"2018-10-15T11:04:44.695Z"}
{"msg":"How did you actually create the crypto material?","username":"mastersingh24","ts":"2018-10-15T11:05:49.239Z"}
{"msg":"Hi @mastersingh24, you are correct, I did not enable TLS on the actual orderer at that point (looking into getting this working now on my Helm charts). The NGINX TLS certificates to access all the ingresses were generated for each orderer and peer with Let's Encrypt, by using a Helm Chart (K8S application package) called `cert-manager`. I did not (nor could) include these TLS certificates as they are generated after launching the orderers (which require a genesis block containing these).","username":"alexvicegrab","ts":"2018-10-15T11:08:00.897Z"}
{"msg":"OK","username":"mastersingh24","ts":"2018-10-15T11:08:42.367Z"}
{"msg":"Are using cryptogen at all?","username":"mastersingh24","ts":"2018-10-15T11:08:57.170Z"}
{"msg":"No","username":"alexvicegrab","ts":"2018-10-15T11:09:00.708Z"}
{"msg":"Only the Fabric CA","username":"alexvicegrab","ts":"2018-10-15T11:09:07.079Z"}
{"msg":"How did you create the MSP info for your orgs?","username":"mastersingh24","ts":"2018-10-15T11:09:22.679Z"}
{"msg":"I use that to create all the crypto material","username":"alexvicegrab","ts":"2018-10-15T11:09:27.201Z"}
{"msg":"I use the Fabric CA that to create all the crypto material.","username":"alexvicegrab","ts":"2018-10-15T11:09:27.201Z"}
{"msg":"ok","username":"mastersingh24","ts":"2018-10-15T11:10:02.520Z"}
{"msg":"Except of course the TLS material of the NGINX ingress, which uses Let's Encrypt as the CA","username":"alexvicegrab","ts":"2018-10-15T11:10:28.108Z"}
{"msg":"So  what you will need to do is to add the root and intermediate CAs for Let's Encrypt into the `tlscacerts` and/or `tlsintermediatecerts` directory for your orderer organization prior to running `configtxgen`.   If you also plan to expose the peers as well, you should do the same for your peer orgs.   And of course make sure that the hostname(s) you use for the orderer endpoint(s) in `configtx.yaml` match the external hostname for your ingress","username":"mastersingh24","ts":"2018-10-15T11:13:07.346Z"}
{"msg":"Cool, thanks @mastersingh24, I will attempt to do this and get back to you","username":"alexvicegrab","ts":"2018-10-15T11:14:03.999Z"}
{"msg":"sounds good","username":"mastersingh24","ts":"2018-10-15T11:14:17.681Z"}
{"msg":"sorry for the delayed response ... I don't often check this particular channel  :(","username":"mastersingh24","ts":"2018-10-15T11:14:42.116Z"}
{"msg":"(too many channels for my pour soul)","username":"mastersingh24","ts":"2018-10-15T11:14:58.286Z"}
{"msg":"(too many channels for my poor soul)","username":"mastersingh24","ts":"2018-10-15T11:14:58.286Z"}
{"msg":"Has joined the channel.","username":"MohitJuneja","ts":"2018-10-16T03:25:11.136Z","type":"uj"}
{"msg":"Has joined the channel.","username":"CarlosRL","ts":"2018-10-17T17:44:31.962Z","type":"uj"}
{"msg":"Hi, I am deploying a hyperledger network inside k8s","username":"CarlosRL","ts":"2018-10-17T17:58:05.963Z"}
{"msg":"I have a question, once a hyperledger fabric network is deployed with kafka as consensus algorithm inside a kubernetes cluster. Such network is configured with three kafka brokers within the configtx.yml. Is it possible add new kafka brokers to the deployed network?","username":"CarlosRL","ts":"2018-10-17T17:58:33.831Z"}
{"msg":"@CarlosRL  - Yes ... just follow the Kakfa docs on how to add brokers to a cluster.  You don't actually have to update the channel config as the brokers listed there are simply used for bootstrapping the embedded Kafka client. ","username":"mastersingh24","ts":"2018-10-18T10:22:46.542Z"}
{"msg":"@mastersingh24 thanks :thumbsup:","username":"CarlosRL","ts":"2018-10-18T14:49:24.147Z"}
{"msg":"Has joined the channel.","username":"tchataigner","ts":"2018-10-18T15:32:19.105Z","type":"uj"}
{"msg":"Has joined the channel.","username":"minollo","ts":"2018-10-18T16:48:55.022Z","type":"uj"}
{"msg":"Has joined the channel.","username":"laurasp","ts":"2018-10-18T17:05:19.275Z","type":"uj"}
{"msg":"Has joined the channel.","username":"plato","ts":"2018-10-19T20:23:27.586Z","type":"uj"}
{"msg":"@mastersingh24. I'd like to ask your advice again.\n\nI've tried to work through the issue by trying to get the orderers to use TLS. For this I stopped using the ingresses, and simply enabled TLS on the orderers. As you suggested, I added the `tlscacerts` and `tlsintermediatecerts` to the Peer and Orderer admin MSP directories prior to running configtxgen.\n\nI managed to create and join the channel on the peers, by adding the relevant options: `--tls` `--ordererTLSHostnameOverride` and `--cafile`. However, despite successfully joining the channel, the peer has similar trouble connecting to the orderer.\n\nOn the orderer side, I see this:\n\n```\n2018-10-19 23:14:40.513 UTC [grpc] Printf -> DEBU 60c grpc: Server.Serve failed to complete security handshake from \"10.244.0.218:45782\": tls: first record does not look like a TLS handshake\n2018-10-19 23:14:41.313 UTC [grpc] Printf -> DEBU 60d grpc: Server.Serve failed to complete security handshake from \"10.244.2.59:49300\": tls: first record does not look like a TLS handshake\n```\n\nAnd on the peer side I see this:\n\n```\n2018-10-19 23:14:40.990 UTC [grpc] Printf -> DEBU ccd pickfirstBalancer: HandleSubConnStateChange: 0xc422f7e1d0, CONNECTING\n2018-10-19 23:14:40.995 UTC [grpc] Printf -> DEBU cce grpc: addrConn.createTransport failed to connect to {ord2-hlf-ord.blockchain.svc.cluster.local:7050 0  <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp: lookup ord2-hlf-ord.blockchain.svc.cluster.local on 10.0.0.10:53: no such host\". Reconnecting...\n2018-10-19 23:14:40.995 UTC [grpc] Printf -> DEBU ccf pickfirstBalancer: HandleSubConnStateChange: 0xc422f7e1d0, TRANSIENT_FAILURE\n2018-10-19 23:14:41.301 UTC [ConnProducer] NewConnection -> ERRO cd0 Failed connecting to ord2-hlf-ord.blockchain.svc.cluster.local:7050 , error: context deadline exceeded\n2018-10-19 23:14:41.301 UTC [grpc] Printf -> DEBU cd1 Failed to dial ord2-hlf-ord.blockchain.svc.cluster.local:7050: context canceled; please retry.\n2018-10-19 23:14:41.303 UTC [grpc] Printf -> DEBU cd2 parsed scheme: \"\"\n2018-10-19 23:14:41.303 UTC [grpc] Printf -> DEBU cd3 scheme \"\" not registered, fallback to default scheme\n2018-10-19 23:14:41.304 UTC [grpc] Printf -> DEBU cd4 ccResolverWrapper: sending new addresses to cc: [{ord0-hlf-ord.blockchain.svc.cluster.local:7050 0  <nil>}]\n2018-10-19 23:14:41.304 UTC [grpc] Printf -> DEBU cd5 ClientConn switching balancer to \"pick_first\"\n2018-10-19 23:14:41.304 UTC [grpc] Printf -> DEBU cd6 pickfirstBalancer: HandleSubConnStateChange: 0xc423828c30, CONNECTING\n2018-10-19 23:14:41.315 UTC [grpc] Printf -> DEBU cd7 pickfirstBalancer: HandleSubConnStateChange: 0xc423828c30, READY\n2018-10-19 23:14:41.315 UTC [deliveryClient] connect -> DEBU cd8 Connected to ord0-hlf-ord.blockchain.svc.cluster.local:7050\n2018-10-19 23:14:41.315 UTC [deliveryClient] connect -> DEBU cd9 Establishing gRPC stream with ord0-hlf-ord.blockchain.svc.cluster.local:7050 ...\n2018-10-19 23:14:41.315 UTC [deliveryClient] afterConnect -> DEBU cda Entering\n2018-10-19 23:14:41.315 UTC [deliveryClient] RequestBlocks -> DEBU cdb Starting deliver with block [1] for channel composerchannel\n2018-10-19 23:14:41.315 UTC [deliveryClient] afterConnect -> DEBU cdc Exiting\n2018-10-19 23:14:41.315 UTC [deliveryClient] Disconnect -> DEBU cdd Entering\n2018-10-19 23:14:41.315 UTC [deliveryClient] Disconnect -> DEBU cde Exiting\n2018-10-19 23:14:41.316 UTC [deliveryClient] try -> WARN cdf Got error: rpc error: code = Unavailable desc = transport is closing , at 1 attempt. Retrying in 1s\n2018-10-19 23:14:42.179 UTC [gossip/discovery] periodicalSendAlive -> DEBU ce0 Sleeping 5s\n```\n\nIn this case the TLS communication is internal to the Kubernetes cluster, and there are no ingresses. I'm guessing that somehow the Peer is trying to communicate unsecured, despite me using the TLS mode to join the channel, etc.\n\nWhat am I missing?\n\nThanks!\n","username":"alexvicegrab","ts":"2018-10-19T23:22:18.848Z"}
{"msg":"P.S. I've tried both with and without `CORE_PEER_TLS_CLIENTAUTHREQUIRED` option set to `true` and `false` in the peer.","username":"alexvicegrab","ts":"2018-10-19T23:36:27.993Z"}
{"msg":"Has joined the channel.","username":"uherr89","ts":"2018-10-22T13:30:32.371Z","type":"uj"}
{"msg":"Does anywhere here deploy fabric using only swarm network manually ?","username":"MohammadObaid","ts":"2018-10-23T08:29:31.685Z"}
{"msg":"Has joined the channel.","username":"mhs22","ts":"2018-10-23T09:36:14.925Z","type":"uj"}
{"msg":"Has joined the channel.","username":"feitnomore","ts":"2018-10-23T17:14:06.934Z","type":"uj"}
{"msg":"http://www.feitoza.com.br/blockchain-kube.txt","username":"feitnomore","ts":"2018-10-23T17:21:04.906Z"}
{"msg":"this is the log... its all on one file, but I've separated the invoke, the orderer, and the peers","username":"feitnomore","ts":"2018-10-23T17:21:20.443Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=33gvhmQb5b5szago7) @alexvicegrab Do you have `CORE_PEER_TLS_ENABLED=true`?","username":"mastersingh24","ts":"2018-10-23T18:41:06.485Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=33gvhmQb5b5szago7","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=33gvhmQb5b5szago7","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@mastersingh24, yes, both `CORE_PEER_TLS_ENABLED=true` and `ORE_PEER_TLS_CLIENTAUTHREQUIRED` as either `true` or `false`","username":"alexvicegrab","ts":"2018-10-23T21:17:44.906Z"}
{"msg":"For each of Peers and Orderers, I obtained their TLS certificates from intermediate Fabric CAs (one for all Orderers, another for all Peers), which share a Root CA.","username":"alexvicegrab","ts":"2018-10-23T21:18:52.401Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=pQmyBMWAi4G38yEk5) @alexvicegrab One thing I forgot to mention earlier was that you need to make sure that the TLS certificates have a CommonName or a SAN (Subject Alternative Name) matching the hostname you use to address them in the cluster.  There is no hostname override available for peer to peer or peer to orderer communication","username":"mastersingh24","ts":"2018-10-24T15:12:56.584Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=pQmyBMWAi4G38yEk5","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=pQmyBMWAi4G38yEk5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Aha... OK, that is very useful to know, thank you @mastersingh24. I will have a go at checking the certificates and re-issuing them if necessary.","username":"alexvicegrab","ts":"2018-10-24T17:07:13.106Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=fYxreWKMNct7Cqx44) @alexvicegrab Apologies for not mentioning that the first time","username":"mastersingh24","ts":"2018-10-24T18:43:28.347Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=fYxreWKMNct7Cqx44","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=fYxreWKMNct7Cqx44","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"zimabry","ts":"2018-10-25T01:15:10.444Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cagdast","ts":"2018-10-25T07:43:51.674Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ArpitKhurana1","ts":"2018-10-27T07:04:07.558Z","type":"uj"}
{"msg":"Has anyone  been able to use cello with kubernetes ( on gcp or azure)? I am having difficulty in adding kubernetes as host. Although I deployed fabric on kubernetes with my own configuration, but its really messy to maintain that","username":"ArpitKhurana1","ts":"2018-10-27T07:09:05.972Z"}
{"msg":"Has joined the channel.","username":"yousaf","ts":"2018-10-28T19:02:48.974Z","type":"uj"}
{"msg":"Hi everyone. Which is the best approach to deploy fabric network on multiple hosts? Kubernetes or Docker Swarm?","username":"yousaf","ts":"2018-10-28T19:03:59.924Z"}
{"msg":"@mastersingh24  I have setup swarm network on 4 machines for fabric and successfully created channels and all other peers able to join channels. When I am trying to instantiate chaincode , it doesnt spinup ccenv container thus resulting in timeout failure .  ccenv image present in a system but not spinning up any container . What could be possible reasons for that ? I ain't getting any errors in peer logs . I increased timeout to much larger value but  nothing works so far.","username":"MohammadObaid","ts":"2018-10-29T09:56:55.869Z"}
{"msg":"@MohammadObaid  - is it launching ccenv but then not able to either build or launch the actual chaincode container?","username":"mastersingh24","ts":"2018-10-29T11:15:34.963Z"}
{"msg":"No it is not launching ccenv . I aint getting any ccenv stopped container  .  cli just wait and then throw timeout error if it hits timeout value","username":"MohammadObaid","ts":"2018-10-29T11:43:47.034Z"}
{"msg":"No it is not launching ccenv . I aint getting any ccenv dev image like (dev-peerfirst-mycc-v0) neither any  stopped container  .  cli just wait and then throw timeout error if it hits timeout value . Should'nt I get any errors on peer logs except timeout error ?","username":"MohammadObaid","ts":"2018-10-29T11:43:47.034Z"}
{"msg":"what's the CLI error?","username":"mastersingh24","ts":"2018-10-29T12:22:00.886Z"}
{"msg":"@mastersingh24 This is the cli logs when I set timeout value to 3 minutes `- CORE_CHAINCODE_STARTUPTIMEOUT=180s` ","username":"MohammadObaid","ts":"2018-10-29T16:12:38.249Z"}
{"msg":"","username":"MohammadObaid","ts":"2018-10-29T16:13:08.694Z","attachments":[{"type":"file","title":"chaincodecli.png","title_link":"/file-upload/cgjdWFnENv876sRfb/chaincodecli.png","image_url":"/file-upload/cgjdWFnENv876sRfb/chaincodecli.png","image_type":"image/png","image_size":288736,"url":"/file-upload/cgjdWFnENv876sRfb/chaincodecli.png","remote":false,"fileId":"cgjdWFnENv876sRfb","fileName":"chaincodecli.png"}]}
{"msg":"These are the peer logs","username":"MohammadObaid","ts":"2018-10-29T16:13:52.040Z"}
{"msg":"","username":"MohammadObaid","ts":"2018-10-29T16:14:24.236Z","attachments":[{"type":"file","title":"chaincodepeerlog1.png","title_link":"/file-upload/WJG8Wdk4jFvhyBwMv/chaincodepeerlog1.png","image_url":"/file-upload/WJG8Wdk4jFvhyBwMv/chaincodepeerlog1.png","image_type":"image/png","image_size":295342,"url":"/file-upload/WJG8Wdk4jFvhyBwMv/chaincodepeerlog1.png","remote":false,"fileId":"WJG8Wdk4jFvhyBwMv","fileName":"chaincodepeerlog1.png"}]}
{"msg":"","username":"MohammadObaid","ts":"2018-10-29T16:15:37.981Z","attachments":[{"type":"file","title":"chaincodepeerlog2.png","title_link":"/file-upload/etWwLpE4XD5BLHRCs/chaincodepeerlog2.png","image_url":"/file-upload/etWwLpE4XD5BLHRCs/chaincodepeerlog2.png","image_type":"image/png","image_size":244951,"url":"/file-upload/etWwLpE4XD5BLHRCs/chaincodepeerlog2.png","remote":false,"fileId":"etWwLpE4XD5BLHRCs","fileName":"chaincodepeerlog2.png"}]}
{"msg":"@MohammadObaid check that the docker network name is configured propperly.","username":"waxer","ts":"2018-10-30T20:22:57.949Z"}
{"msg":"@waxer  where in peer container files or in orderer container.yaml files ? All my services are running on same network . ","username":"MohammadObaid","ts":"2018-10-31T05:23:56.921Z"}
{"msg":"Do I manually need to run ccenv container and link it with peer ? ","username":"MohammadObaid","ts":"2018-10-31T05:24:29.773Z"}
{"msg":"Hey @mastersingh24 any feedback from your side ? I am still stuck in same issue :(","username":"MohammadObaid","ts":"2018-10-31T11:46:45.014Z"}
{"msg":"@MohammadObaid , I mean the CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE env variable of the peer. Is correctly set to the docker-compose network name of your container?","username":"waxer","ts":"2018-10-31T11:51:41.906Z"}
{"msg":"You definitely need to set the ` CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE` to the name of the Docker overlay network being used by the Swarm cluster.  You also need to make sure you mark that network as \"attachable\" else only containers started via Swarm will be able to connect to the network","username":"mastersingh24","ts":"2018-10-31T16:30:55.323Z"}
{"msg":"Hey @waxer @mastersingh24 thanks a lot for helping me out . Those two things were the missing part in my network . After making network attachable and including that environmental variable , I am able to invoke chaincode :)","username":"MohammadObaid","ts":"2018-11-01T11:04:34.611Z"}
{"msg":"Has joined the channel.","username":"m.hago","ts":"2018-11-01T13:13:35.365Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MohammedR","ts":"2018-11-01T15:08:11.287Z","type":"uj"}
{"msg":"Hello everyone, has anyone tried making a channel between multiple kubernetes clusters ( single org or multiorg)? ","username":"ArpitKhurana1","ts":"2018-11-02T04:00:46.669Z"}
{"msg":"Hello everyone, has anyone tried making a channel between multiple kubernetes clusters ( single org or multiorg)?  I mean , like orderer and some peers in one cluster, and some other peers in another cluster","username":"ArpitKhurana1","ts":"2018-11-02T04:00:46.669Z"}
{"msg":"Hello everyone, has anyone tried making a channel between multiple kubernetes clusters ( single org or multiorg)?  I mean , like orderer and some peers in one cluster, and some other peers in another cluster","username":"ArpitKhurana1","ts":"2018-11-02T04:00:46.669Z"}
{"msg":"Hello everyone, has anyone tried making a channel between multiple kubernetes clusters ( single org or multiorg)?  I mean , like orderer and some peers in one cluster, and some other peers in another cluster```\nI had few confusions regarding this,\n``` ","username":"ArpitKhurana1","ts":"2018-11-02T04:00:46.669Z"}
{"msg":"Hello everyone, has anyone tried making a channel between multiple kubernetes clusters ( single org or multiorg)?  I mean , like orderer and some peers in one cluster, and some other peers in another cluster\nI had few confusions regarding this, like which peers need to have public ip and how the gossip protocol will work in this case \n ","username":"ArpitKhurana1","ts":"2018-11-02T04:00:46.669Z"}
{"msg":"Has joined the channel.","username":"ddhulla","ts":"2018-11-05T10:06:24.743Z","type":"uj"}
{"msg":"Panic: runtime error: invalid memory address or nil pointer dereference while setting up fabric env","username":"ddhulla","ts":"2018-11-05T10:26:56.325Z"}
{"msg":"Panic: runtime error: invalid memory address or nil pointer dereference while setting up fabric env","username":"ddhulla","ts":"2018-11-05T10:26:56.325Z"}
{"msg":"While setting up the Fabric Env. on Kubernetes.\n\nCryptogen Starts\ntotal 20\ndrwxr-xr-x. 3 1001 99 4096 Nov 3 12:55 chaincode\n-rw-r--r--. 1 1001 99 7827 Nov 3 12:45 configtx.yaml\n-rw-r--r--. 1 1001 99 4433 Nov 3 12:44 crypto-config.yaml\norg1.main.tcloud.kpn.org\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x6a2280]\n\ngoroutine 1 [running]:\ngithub.com/hyperledger/fabric/common/tools/cryptogen/msp.GenerateVerifyingMSP(0xc4202640c0, 0x23, 0x0, 0x0, 0xc420026900, 0x6, 0x0)\n/opt/gopath/src/github.com/hyperledger/fabric/common/tools/cryptogen/msp/generator.go:194 +0x1b0\nmain.generatePeerOrg(0xac36b6, 0xd, 0xc4200263a8, 0x4, 0x0, 0x0, 0x0, 0xac0947, 0x2, 0xc420026970, ...)\n/opt/gopath/src/github.com/hyperledger/fabric/common/tools/cryptogen/main.go:529 +0x8ce\nmain.generate()\n/opt/gopath/src/github.com/hyperledger/fabric/common/tools/cryptogen/main.go:387 +0x139\nmain.main()\n/opt/gopath/src/github.com/hyperledger/fabric/common/tools/cryptogen/main.go:221 +0x256\nI'm referring below link to set up: https://github.com/IBM/blockchain-network-on-kubernetes","username":"ddhulla","ts":"2018-11-05T10:27:33.179Z"}
{"msg":"hello \nI have a problem : i want to migrate my data from docker compose to kubernate but the orderer address is hard writed in the block : \n\u0010OrdererAddresses\u00126\u0012\u001b\n\u0019orderer.example.com:7050\u001a\u0017/Channel/Orderer/Admins\"\"\nand kubernate doesn't accept points in the service name and port less than the range \"30000\" any one can help me please ?","username":"ssaddem","ts":"2018-11-05T13:48:31.309Z"}
{"msg":"you could add a kubernetes service\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: orderer0\nspec:\n  type: NodePort\n  ports:\n  - name: external-endpoint\n    protocol: TCP\n    nodePort: 30020\n    port: 7050\n    targetPort: 7050\n  selector:\n    app: orderer0-orderer``` ","username":"aatkddny","ts":"2018-11-05T15:18:28.162Z"}
{"msg":"my problem is when the peer call orderer.example.com:7050 he can't found him","username":"ssaddem","ts":"2018-11-05T17:35:33.389Z"}
{"msg":"what's the orderer called inside k8s? iirc the . isn't valid for a name.","username":"aatkddny","ts":"2018-11-05T18:20:52.594Z"}
{"msg":"","username":"ssaddem","ts":"2018-11-05T22:35:57.720Z","attachments":[{"type":"file","title":"Clipboard - November 5, 2018 11:35 PM","title_link":"/file-upload/Hyfhf6gFNaFtRkaD9/Clipboard%20-%20November%205,%202018%2011:35%20PM","image_url":"/file-upload/Hyfhf6gFNaFtRkaD9/Clipboard%20-%20November%205,%202018%2011:35%20PM","image_type":"image/png","image_size":61118,"url":"/file-upload/Hyfhf6gFNaFtRkaD9/Clipboard%20-%20November%205,%202018%2011:35%20PM","remote":false,"fileId":"Hyfhf6gFNaFtRkaD9","fileName":"Clipboard - November 5, 2018 11:35 PM"}]}
{"msg":"this picture is from block file he is used from docker compose but when i want move my data to a kubernates deplyment peer get the block file from orderer but he try to connect to orderer.example.com \nin kubernate i have to force the cluster to listen below 30000 and in service he can't accept \".\" in name of service","username":"ssaddem","ts":"2018-11-05T22:39:29.702Z"}
{"msg":"While instantiating chain code on Kubernetes using non-root user it is giving below error. ","username":"ddhulla","ts":"2018-11-06T09:42:09.244Z"}
{"msg":"2018-11-06 09:21:59.564 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc\n2018-11-06 09:21:59.564 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc\nError: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: Post http://unix.sock/containers/create?name=nid1-org1peer1-cc-1.0: dial unix /host/var/run/docker.sock: connect: no such file or directory\nUsage:\npeer chaincode instantiate [flags]\nFlags:\n-C, --channelID string The channel on which this command should be executed\n--collections-config string The file containing the configuration for the chaincode's collection\n-c, --ctor string Constructor message for the chaincode in JSON format (default \"{}\")\n-E, --escc string The name of the endorsement system chaincode to be used for this chaincode\n-l, --lang string Language the chaincode is written in (default \"golang\")\n-n, --name string Name of the chaincode\n-P, --policy string The endorsement policy associated to this chaincode\n-v, --version string Version of the chaincode specified in install/instantiate/upgrade commands\n-V, --vscc string The name of the verification system chaincode to be used for this chaincode\nGlobal Flags:\n--cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint\n--certfile string Path to file containing PEM-encoded X509 public key to use for mutual TLS communication with the orderer endpoint\n--clientauth Use mutual TLS when communicating with the orderer endpoint\n--keyfile string Path to file containing PEM-encoded private key to use for mutual TLS communication with the orderer endpoint\n--logging-level string Default logging level and overrides, see core.yaml for full syntax\n-o, --orderer string Ordering service endpoint\n--ordererTLSHostnameOverride string The hostname override to use when validating the TLS connection to the orderer.\n--tls Use TLS when communicating with the orderer endpoint\n--transient string Transient map of arguments in JSON encoding\n","username":"ddhulla","ts":"2018-11-06T09:42:11.290Z"}
{"msg":"Can anyone please guide how do we resolve this error?","username":"ddhulla","ts":"2018-11-06T09:42:33.316Z"}
{"msg":"@ddhulla  - in order to mount the Docker socket (`/host/var/run/docker.sock` )  from the host / worker node, you either need to be root or you need to be in the docker group.  Assuming you are passing in a uid and gid, you should make sure that the GID corresponds to the host / worker node group which owns the Docker socket (the group is usually name `docker`)","username":"mastersingh24","ts":"2018-11-06T10:52:06.038Z"}
{"msg":"Has joined the channel.","username":"smpakes","ts":"2018-11-06T19:53:40.091Z","type":"uj"}
{"msg":"Hi, guys:\nI deploy  the fabric with kafka consensus plugin, but the kafka brokers are always restarting. ","username":"luckydogchina","ts":"2018-11-07T02:47:44.131Z"}
{"msg":"the error logs is this:\n","username":"luckydogchina","ts":"2018-11-07T02:47:55.745Z"}
{"msg":"[2018-11-07 02:46:48,684] INFO Opening socket connection to server 10.42.4.132/10.42.4.132:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,684] INFO Socket connection established to 10.42.4.132/10.42.4.132:2181, initiating session (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,789] INFO Session: 0x0 closed (org.apache.zookeeper.ZooKeeper)\n[2018-11-07 02:46:48,790] FATAL Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\norg.I0Itec.zkclient.exception.ZkTimeoutException: Unable to connect to zookeeper server 'zookeeper0:2181,zookeeper1:2181,zookeeper2:2181' with timeout of 36000 ms\n        at org.I0Itec.zkclient.ZkClient.connect(ZkClient.java:1233)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:157)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:131)\n        at kafka.utils.ZkUtils$.createZkClientAndConnection(ZkUtils.scala:115)\n        at kafka.utils.ZkUtils$.withMetrics(ZkUtils.scala:92)\n        at kafka.server.KafkaServer.initZk(KafkaServer.scala:346)\n        at kafka.server.KafkaServer.startup(KafkaServer.scala:194)\n        at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:38)\n        at kafka.Kafka$.main(Kafka.scala:92)\n        at kafka.Kafka.main(Kafka.scala)\n[2018-11-07 02:46:48,790] INFO EventThread shut down for session: 0x0 (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,792] INFO shutting down (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,797] INFO shut down completed (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,798] FATAL Exiting Kafka. (kafka.server.KafkaServerStartable)\n[2018-11-07 02:46:48,800] INFO shutting down (kafka.server.KafkaServer)","username":"luckydogchina","ts":"2018-11-07T02:49:14.286Z"}
{"msg":"'[2018-11-07 02:46:48,684] INFO Opening socket connection to server 10.42.4.132/10.42.4.132:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,684] INFO Socket connection established to 10.42.4.132/10.42.4.132:2181, initiating session (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,789] INFO Session: 0x0 closed (org.apache.zookeeper.ZooKeeper)\n[2018-11-07 02:46:48,790] FATAL Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\norg.I0Itec.zkclient.exception.ZkTimeoutException: Unable to connect to zookeeper server 'zookeeper0:2181,zookeeper1:2181,zookeeper2:2181' with timeout of 36000 ms\n        at org.I0Itec.zkclient.ZkClient.connect(ZkClient.java:1233)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:157)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:131)\n        at kafka.utils.ZkUtils$.createZkClientAndConnection(ZkUtils.scala:115)\n        at kafka.utils.ZkUtils$.withMetrics(ZkUtils.scala:92)\n        at kafka.server.KafkaServer.initZk(KafkaServer.scala:346)\n        at kafka.server.KafkaServer.startup(KafkaServer.scala:194)\n        at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:38)\n        at kafka.Kafka$.main(Kafka.scala:92)\n        at kafka.Kafka.main(Kafka.scala)\n[2018-11-07 02:46:48,790] INFO EventThread shut down for session: 0x0 (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,792] INFO shutting down (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,797] INFO shut down completed (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,798] FATAL Exiting Kafka. (kafka.server.KafkaServerStartable)\n[2018-11-07 02:46:48,800] INFO shutting down (kafka.server.KafkaServer)'","username":"luckydogchina","ts":"2018-11-07T02:49:14.286Z"}
{"msg":">'[2018-11-07 02:46:48,684] INFO Opening socket connection to server 10.42.4.132/10.42.4.132:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n>[2018-11-07 02:46:48,684] INFO Socket connection established to 10.42.4.132/10.42.4.132:2181, initiating session (org.apache.zookeeper.ClientCnxn)\n>[2018-11-07 02:46:48,789] INFO Session: 0x0 closed (org.apache.zookeeper.ZooKeeper)\n[2018-11-07 02:46:48,790] FATAL Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\norg.I0Itec.zkclient.exception.ZkTimeoutException: Unable to connect to zookeeper server 'zookeeper0:2181,zookeeper1:2181,zookeeper2:2181' with timeout of 36000 ms\n        at org.I0Itec.zkclient.ZkClient.connect(ZkClient.java:1233)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:157)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:131)\n        at kafka.utils.ZkUtils$.createZkClientAndConnection(ZkUtils.scala:115)\n        at kafka.utils.ZkUtils$.withMetrics(ZkUtils.scala:92)\n        at kafka.server.KafkaServer.initZk(KafkaServer.scala:346)\n        at kafka.server.KafkaServer.startup(KafkaServer.scala:194)\n        at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:38)\n        at kafka.Kafka$.main(Kafka.scala:92)\n        at kafka.Kafka.main(Kafka.scala)\n[2018-11-07 02:46:48,790] INFO EventThread shut down for session: 0x0 (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,792] INFO shutting down (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,797] INFO shut down completed (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,798] FATAL Exiting Kafka. (kafka.server.KafkaServerStartable)\n[2018-11-07 02:46:48,800] INFO shutting down (kafka.server.KafkaServer)'","username":"luckydogchina","ts":"2018-11-07T02:49:14.286Z"}
{"msg":">'[2018-11-07 02:46:48,684] INFO Opening socket connection to server 10.42.4.132/10.42.4.132:2181. Will not attempt to authenticate using SASL (unknown error) (org.apache.zookeeper.ClientCnxn)\n>[2018-11-07 02:46:48,684] INFO Socket connection established to 10.42.4.132/10.42.4.132:2181, initiating session (org.apache.zookeeper.ClientCnxn)\n>[2018-11-07 02:46:48,789] INFO Session: 0x0 closed (org.apache.zookeeper.ZooKeeper)\n>[2018-11-07 02:46:48,790] FATAL Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\norg.I0Itec.zkclient.exception.ZkTimeoutException: Unable to connect to zookeeper server 'zookeeper0:2181,zookeeper1:2181,zookeeper2:2181' with timeout of 36000 ms\n        at org.I0Itec.zkclient.ZkClient.connect(ZkClient.java:1233)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:157)\n        at org.I0Itec.zkclient.ZkClient.<init>(ZkClient.java:131)\n        at kafka.utils.ZkUtils$.createZkClientAndConnection(ZkUtils.scala:115)\n        at kafka.utils.ZkUtils$.withMetrics(ZkUtils.scala:92)\n        at kafka.server.KafkaServer.initZk(KafkaServer.scala:346)\n        at kafka.server.KafkaServer.startup(KafkaServer.scala:194)\n        at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:38)\n        at kafka.Kafka$.main(Kafka.scala:92)\n        at kafka.Kafka.main(Kafka.scala)\n[2018-11-07 02:46:48,790] INFO EventThread shut down for session: 0x0 (org.apache.zookeeper.ClientCnxn)\n[2018-11-07 02:46:48,792] INFO shutting down (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,797] INFO shut down completed (kafka.server.KafkaServer)\n[2018-11-07 02:46:48,798] FATAL Exiting Kafka. (kafka.server.KafkaServerStartable)\n>[2018-11-07 02:46:48,800] INFO shutting down (kafka.server.KafkaServer)'","username":"luckydogchina","ts":"2018-11-07T02:49:14.286Z"}
{"msg":" and the zookeeper logs :","username":"luckydogchina","ts":"2018-11-07T02:49:56.942Z"}
{"msg":" # and the zookeeper logs","username":"luckydogchina","ts":"2018-11-07T02:49:56.942Z"}
{"msg":"`2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)`","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":"'2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)'","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":"'2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)'\n'''","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":"'2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)'\n'''","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":"'''2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)'\n'''\n\n","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":"2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)'\n'''\n\n","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":">>2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)'\n'''\n\n","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":">2018-11-07 02:50:46,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n>2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n>2018-11-07 02:50:46,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n2018-11-07 02:50:46,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n>2018-11-07 02:50:51,768 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@400] - Cannot open channel to 2 at election address zookeeper1/10.42.4.132:3888\njava.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:589)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:381)\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:354)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:452)\n        at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:433)\n        at java.lang.Thread.run(Thread.java:748)\n2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@149] - Resolved hostname: zookeeper1 to address: zookeeper1/10.42.4.132\n>2018-11-07 02:50:51,768 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x4e0 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)\n>2018-11-07 02:50:51,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@600] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x4df (n.round), LEADING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)'\n'''\n\n","username":"luckydogchina","ts":"2018-11-07T02:51:22.256Z"}
{"msg":"I set 6000 to *ZOO_TICKET_TIME* ","username":"luckydogchina","ts":"2018-11-07T02:59:21.186Z"}
{"msg":"I set 6000 to *ZOO_TICKET_TIME* , but not solve the error.","username":"luckydogchina","ts":"2018-11-07T02:59:21.186Z"}
{"msg":"Anyone know if there are any write-ups on how to deploy fabric to Kube? Something easy to read but sufficiently technical? ","username":"paul.sitoh","ts":"2018-11-07T09:06:26.425Z"}
{"msg":"Has joined the channel.","username":"enriquebusti","ts":"2018-11-07T12:01:27.481Z","type":"uj"}
{"msg":"Has joined the channel.","username":"matthewphamilton","ts":"2018-11-07T15:22:17.647Z","type":"uj"}
{"msg":"Hi everyone. Is there any way that we could make a downloadable image for each peer that can be installed on each peer so they become part of the blockchain network and these peers can then communicate in a fabric network?","username":"yousaf","ts":"2018-11-08T08:55:10.251Z"}
{"msg":"Hello, I've created a Hyperledger Fabric Network over Kubernetes with 4 Orgs, 1 Peer each, + 1 orderer, and I'm trying to use a policy -P \"AND('Org1.member','Org2.member','Org3.member','Org4.member')\" but I'm not having success. People told me I would not be able to fire a transaction from command line for a policy like that because I need to collect endorsement from every organization, so I've tried with Node SDK, but it is still not working. Any help would be much appreciated. I have all the config files and log files available if needed.","username":"feitnomore","ts":"2018-11-09T13:01:31.170Z"}
{"msg":"Has left the channel.","username":"AlexanderZhovnuvaty","ts":"2018-11-12T11:06:02.616Z","type":"ul"}
{"msg":"Has joined the channel.","username":"NicolasHuray","ts":"2018-11-12T22:00:15.977Z","type":"uj"}
{"msg":"Has left the channel.","username":"Switch2Logic","ts":"2018-11-13T14:15:25.179Z","type":"ul"}
{"msg":"Need a sanity check. I'm thinking about TLS - which was my first mistake.\nTo get into a peer (or orderer or whatever) I ~think~ I can use nginx as an ingress - setting an image as a pod in each of the deployments and handling the SSL ugliness there. \nBut will that mean I need to expose a nodeport for each deployment, or is there a more elegant way to do this? ","username":"aatkddny","ts":"2018-11-13T14:47:46.748Z"}
{"msg":"Need a sanity check. I'm thinking about TLS - which was my first mistake.\nTo get into a peer (or orderer or whatever) I *think* I can use nginx as an ingress - setting an image as a pod in each of the deployments and handling the SSL ugliness there. \nBut will that mean I need to expose a nodeport for each deployment, or is there a more elegant way to do this? ","username":"aatkddny","ts":"2018-11-13T14:47:46.748Z"}
{"msg":"Has joined the channel.","username":"midoblgsm","ts":"2018-11-13T17:24:19.632Z","type":"uj"}
{"msg":"hi feitnomore, I am new to hyperledger, I see that you were successful in deploying hyperledger network, could you please share the configtx.yaml  and crypto-config.yaml files that you used?","username":"midoblgsm","ts":"2018-11-13T17:33:17.506Z"}
{"msg":"I succeeded creating the network but I could not add a channel with hyperledger 1.3.0","username":"midoblgsm","ts":"2018-11-13T17:33:43.700Z"}
{"msg":"adding the channel I am getting this error:","username":"midoblgsm","ts":"2018-11-13T17:34:03.078Z"}
{"msg":"```Error: got unexpected status: BAD_REQUEST -- error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: Failed to reach implicit threshold of 1 sub-policies, required 1 remaining```","username":"midoblgsm","ts":"2018-11-13T17:34:08.186Z"}
{"msg":"Hey guys, how Can we maintain the state of orderers and peers (so that if they crash, they can come back in same state).  I know that couchdb data and ledger data(production folder) are to persisted. What else steps are required? Do i need to make the peer join channel again, do i need to install chaincode again?","username":"ArpitKhurana1","ts":"2018-11-14T17:27:45.959Z"}
{"msg":"Has joined the channel.","username":"kevinkbc","ts":"2018-11-14T20:22:03.453Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sh777","ts":"2018-11-15T02:51:07.213Z","type":"uj"}
{"msg":"Has joined the channel.","username":"h4995974","ts":"2018-11-15T22:04:04.036Z","type":"uj"}
{"msg":"Hello everyone. \n\nWe're receiving the following error when trying to spin up peers inside a kubernetes pods. `2018-11-15 21:52:25.172 UTC [gossip/gossip] handleMessage -> WARN 01f Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:\"peer1-example-com:7051\" pki_id:\"<4\\244\\375\\307\\024\\367\\177\\005\\344\\270\\244\\351\\372+\\206\\310 \\274\\016\\367\\357\\007\\323\\201m\\370\\355[v\\376h\" > timestamp:<inc_num:1542318725147953871 seq_num:16 > > , Envelope: 83 bytes, Signature: 70 bytes Secret payload: 16 bytes, Secret Signature: 71 bytes isn't valid`\nAny ideas?","username":"h4995974","ts":"2018-11-15T22:04:05.733Z"}
{"msg":"@h4995974  I dont think this is an error. Its just a gossip message","username":"ArpitKhurana1","ts":"2018-11-16T07:09:16.797Z"}
{"msg":"Hi everyone. Is it possible to deploy hyperledger fabric network on multiple machines using minikube?","username":"yousaf","ts":"2018-11-18T07:56:06.419Z"}
{"msg":"Hi everyone. Is it possible to deploy hyperledger fabric network on multiple machines using minikube? Does minikube allow to use only one node or we can use it somehow for multiple nodes?","username":"yousaf","ts":"2018-11-18T07:56:06.419Z"}
{"msg":"Has joined the channel.","username":"ArchanGanguly","ts":"2018-11-18T15:30:05.888Z","type":"uj"}
{"msg":"Hi All, I am getting error Failed to receive commit notification from peer while try to start business network with fabric version 1.3","username":"sudhir.kumawat","ts":"2018-11-20T07:40:01.665Z"}
{"msg":"Has joined the channel.","username":"RobertDiebels","ts":"2018-11-20T08:27:12.806Z","type":"uj"}
{"msg":"Has joined the channel.","username":"greivinlopez","ts":"2018-11-21T20:54:56.425Z","type":"uj"}
{"msg":"@yousaf  I don't believe you  can do that using minikube, you have to make a full kubernetes cluster,minikube is supposed to be for single node","username":"ArpitKhurana1","ts":"2018-11-22T07:19:38.989Z"}
{"msg":"Has joined the channel.","username":"VadimInshakov","ts":"2018-11-23T13:41:54.278Z","type":"uj"}
{"msg":"**Create channel error in Kubernetes job**\nHello! \n\nI'm trying to create fabric network in kubernetes cluster using this samples: https://github.com/IBM/blockchain-network-on-kubernetes\n\nBut when I run create_channel.yaml, I see this error in logs:\n```\n2018-11-23 10:20:52.633 UTC [common/tools/configtxgen] main -> INFO 001 Loading configuration\n2018-11-23 10:20:52.646 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 002 Generating new channel configtx\n2018-11-23 10:20:52.646 UTC [common/tools/configtxgen] main -> CRIT 003 Error on outputChannelCreateTx: config update generation failure: cannot define a new channel with no Application section\n```\n\nBut really I have Application section and configtx.yaml works fine without kubernetes. Very strange.\nmy configtx.yaml: https://gist.github.com/VadimInshakov/fafb9788e53c19caf73ddb0b0228d00a#file-23434553yer","username":"VadimInshakov","ts":"2018-11-23T13:42:17.312Z"}
{"msg":"create_channel.yaml: https://gist.github.com/VadimInshakov/7b9f8e614d55cbc8ceb1756df1564b36#file-create_channel-yaml","username":"VadimInshakov","ts":"2018-11-23T14:10:24.082Z"}
{"msg":"@ArpitKhurana1  Thanks sir :)","username":"yousaf","ts":"2018-11-25T17:28:01.784Z"}
{"msg":"Has joined the channel.","username":"jiribroulik","ts":"2018-11-26T15:43:52.008Z","type":"uj"}
{"msg":"Hello guys, does anyone know why my when I enable mutual tls I am getting this error? ","username":"jiribroulik","ts":"2018-11-26T15:44:54.824Z"}
{"msg":"'''2018-11-26 15:42:29.812 UTC [grpc] HandleSubConnStateChange -> DEBU 16de pickfirstBalancer: HandleSubConnStateChange: 0xc42320d330, CONNECTING\n2018-11-26 15:42:29.835 UTC [grpc] createTransport -> DEBU 16df grpc: addrConn.createTransport failed to connect to {orderer1.alice.example.com:7050 0  <nil>}. Err :connection error: desc = \"transport: authentication handshake failed: x509: certificate signed by unknown authority\". Reconnecting...\n2018-11-26 15:42:29.844 UTC [grpc] HandleSubConnStateChange -> DEBU 16e0 pickfirstBalancer: HandleSubConnStateChange: 0xc42320d330, TRANSIENT_FAILURE\n2018-11-26 15:42:29.887 UTC [gossip/discovery] periodicalSendAlive -> DEBU 16e1 Sleeping 5s\n2018-11-26 15:42:29.983 UTC [grpc] func1 -> DEBU 16e3 Failed to dial orderer1.alice.example.com:7050: context canceled; please retry.\n2018-11-26 15:42:29.983 UTC [ConnProducer] NewConnection -> ERRO 16e2 Failed connecting to orderer1.alice.example.com:7050 , error: context deadline exceeded\n2018-11-26 15:42:29.984 UTC [deliveryClient] connect -> DEBU 16e4 Connected to \n2018-11-26 15:42:29.984 UTC [deliveryClient] connect -> ERRO 16e5 Failed obtaining connection: Could not connect to any of the endpoints: [orderer1.alice.example.com:7050]\n2018-11-26 15:42:29.985 UTC [deliveryClient] try -> WARN 16e6 Got error: Could not connect to any of the endpoints: [orderer1.alice.example.com:7050] , at 4 attempt. Retrying in 8s'''","username":"jiribroulik","ts":"2018-11-26T15:45:00.061Z"}
{"msg":"the above is on peer","username":"jiribroulik","ts":"2018-11-26T15:45:23.598Z"}
{"msg":"this is on orderer:  remote error: tls: bad certificate","username":"jiribroulik","ts":"2018-11-26T15:45:29.186Z"}
{"msg":"and my env variables for the peer on k8s are the following","username":"jiribroulik","ts":"2018-11-26T15:47:21.967Z"}
{"msg":"        env:\n        - name: FABRIC_CA_CLIENT_HOME\n          value: /etc/hyperledger/fabric\n        - name: FABRIC_CA_CLIENT_TLS_CERTFILES\n          value: /etc/hyperledger/fabric/tls/ca.crt\n        - name: CORE_LOGGING_GRPC\n          value: debug\n        - name: CORE_LEDGER_STATE_STATEDATABASE\n          value: CouchDB\n        - name: CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS\n          value: localhost:5984\n        - name: CORE_VM_ENDPOINT\n          value: unix:///host/var/run/docker.sock\n        - name: CORE_LOGGING_LEVEL\n          value: debug\n        - name: CORE_PEER_ADDRESSAUTODETECT\n          value: \"false\"\n        - name: CORE_PEER_TLS_ENABLED\n          value: \"true\"\n        - name: CORE_PEER_GOSSIP_USELEADERELECTION\n          value: \"true\"\n        - name: CORE_PEER_GOSSIP_ORGLEADER\n          value: \"false\"\n        - name: CORE_PEER_PROFILE_ENABLED\n          value: \"true\"\n        - name: CORE_PEER_MSPCONFIGPATH\n          value: /etc/hyperledger/fabric/msp\n        - name: CORE_PEER_TLS_CERT_FILE\n          value: /etc/hyperledger/fabric/tls/cert.crt\n        - name: CORE_PEER_TLS_KEY_FILE\n          value: /etc/hyperledger/fabric/tls/cert.key\n        - name: CORE_PEER_TLS_ROOTCERT_FILE\n          value: /etc/hyperledger/fabric/tls/ca.crt\n        - name: CORE_PEER_TLS_CLIENTAUTHREQUIRED\n          value: \"true\"\n        - name: CORE_PEER_TLS_CLIENTROOTCAS_FILES\n          value: /etc/hyperledger/fabric/tls/ca.crt\n        - name: CORE_PEER_TLS_CLIENTCERT_FILE\n          value: /etc/hyperledger/fabric/tls/admin.crt\n        - name: CORE_PEER_TLS_CLIENTKEY_FILE\n          value: /etc/hyperledger/fabric/tls/admin.key\n        - name: ORG_ADMIN_CERT\n          value: /etc/hyperledger/fabric/msp/admincerts/cert.pem\n        - name: CORE_PEER_ID\n          value: peer0.alice.example.com\n        - name: CORE_PEER_TLS_SERVERHOSTOVERRIDE\n          value: peer0.alice.example.com\n        - name: PEER_NAME\n          value: peer0.alice.example.com\n        - name: PEER_HOST\n          value: peer0.alice.example.com\n        - name: CORE_PEER_ADDRESS\n          value: $(CORE_PEER_ID):7051\n        - name: CORE_PEER_ADDRESS\n          value: $(CORE_PEER_ID):7051\n        - name: PEER_HOME\n          value: /etc/hyperledger/fabric\n        - name: ORG_NAME\n          value: b3663dfb-b9b2-47c3-aaf7-f8cc7846bd12\n        - name: CORE_PEER_GOSSIP_EXTERNALENDPOINT\n          value: $(CORE_PEER_ID):7051\n        - name: CORE_PEER_CHAINCODELISTENADDRESS\n          value: 0.0.0.0:7052\n        - name: CORE_PEER_LOCALMSPID\n          value: b3663dfb-b9b2-47c3-aaf7-f8cc7846bd12\n        - name: GODEBUG\n          value: netdns=go","username":"jiribroulik","ts":"2018-11-26T15:47:33.261Z"}
{"msg":"if I run the following from the commandline from the peer I fetch the channel config with no problem peer channel fetch config config_block.pb -o orderer1.alice.example.com:7050 -c samplechannel10cccytgwm2pp-ywnmytbiogqw --tls --clientauth --cafile /etc/hyperledger/fabric/tls/ca.crt --keyfile /etc/hyperledger/fabric/tls/cert.key --certfile /etc/hyperledger/fabric/tls/cert.crt","username":"jiribroulik","ts":"2018-11-26T15:49:54.531Z"}
{"msg":"Has joined the channel.","username":"JoanArcas","ts":"2018-11-27T11:08:36.801Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q95WWEhtku6yqtvCK) @ArpitKhurana1 You have to persist the contents of the following directories:\n- Orderer: `/var/hyperledger/production/orderer/`\n- Peers: `:/var/hyperledger/production`\n\nWe mapped these as persistent volume claims in K*S","username":"joaquimpedrooliveira","ts":"2018-11-27T17:11:45.439Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q95WWEhtku6yqtvCK","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q95WWEhtku6yqtvCK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q95WWEhtku6yqtvCK) @ArpitKhurana1 You have to persist the contents of the following directories:\n- Orderer: `/var/hyperledger/production/orderer/`\n- Peers: `:/var/hyperledger/production`\n\nWe mapped these as persistent volume claims in K8S","username":"joaquimpedrooliveira","ts":"2018-11-27T17:11:45.439Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q95WWEhtku6yqtvCK","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=q95WWEhtku6yqtvCK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hello guys! I have a question regarding a couchdb instances needed for production scenario in K8S. We currently have 2 peer x organization but only one instance of couchdb acting as ledger x organization. Both peers connect to the same couchdb instance. Is this approach correct or each peer should have its own couchdb instance? Thank you guys!","username":"vanitas92","ts":"2018-11-27T17:53:52.648Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KJMdh5QFPx6DiZQbg) @vanitas92 You must have a 1:1 relation between peer and couchdb","username":"dave.enyeart","ts":"2018-11-27T22:01:45.717Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KJMdh5QFPx6DiZQbg","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KJMdh5QFPx6DiZQbg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@joaquimpedrooliveira Thanks for the answer. Are you sure that is it, I saw a ppt where a number of steps were written, like fetch the certificates again from ca, join the channel ,install the chaincode etc","username":"ArpitKhurana1","ts":"2018-11-28T05:03:12.134Z"}
{"msg":"Personally i have tried your way earlier , it worked most of times but not everytime","username":"ArpitKhurana1","ts":"2018-11-28T05:04:07.734Z"}
{"msg":"Hi everyone. I have set CORE_MSP_CONFIG PATH to /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/example.com/users/Admin@example.com/msp ..............in my peer deployment file. But when the pod is created for this peer, it keeps on crashing and I have checked the logs of this pod and it says that:  Cannot run peer because cannot init crypto, missing /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/example.com/users/Admin@example.com/msp folder\nCan anyone tell me the solution of this?","username":"yousaf","ts":"2018-11-28T12:41:34.420Z"}
{"msg":"I've created a little guide on my adventures running Fabric on Kubernetes","username":"feitnomore","ts":"2018-11-28T21:01:22.871Z"}
{"msg":"if anyone is interested:","username":"feitnomore","ts":"2018-11-28T21:01:26.742Z"}
{"msg":"https://github.com/feitnomore/hyperledger-fabric-kubernetes","username":"feitnomore","ts":"2018-11-28T21:01:27.719Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=oJB4XHo6snTadnePL) @feitnomore Thanks ,,I want to try ","username":"knagware9","ts":"2018-11-29T07:05:51.762Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=oJB4XHo6snTadnePL","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=oJB4XHo6snTadnePL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"haggis","ts":"2018-11-29T08:08:10.853Z","type":"uj"}
{"msg":"Has joined the channel.","username":"TopJohn","ts":"2018-11-30T06:00:07.918Z","type":"uj"}
{"msg":"@feitnomore in fabric 1.3 you can use cli to invoke transaction use peeraddress to appoint the peers","username":"TopJohn","ts":"2018-11-30T06:02:50.616Z"}
{"msg":"Has joined the channel.","username":"labcoinpoc","ts":"2018-11-30T08:22:42.916Z","type":"uj"}
{"msg":"I was doing everything in 1.2","username":"feitnomore","ts":"2018-11-30T12:52:38.884Z"}
{"msg":"decided to upgrade to 1.3 last week","username":"feitnomore","ts":"2018-11-30T12:52:44.514Z"}
{"msg":"so , just adapted / tested some stuff","username":"feitnomore","ts":"2018-11-30T12:52:51.666Z"}
{"msg":"had to fix some stuff on configtx.yaml and that was it","username":"feitnomore","ts":"2018-11-30T12:53:00.009Z"}
{"msg":"working on having kafka + zookeeper inside kubernetes next","username":"feitnomore","ts":"2018-11-30T12:53:15.002Z"}
{"msg":"@feitnomore , great doc.\nThe only thing that makes me wonder if it is a good idea to have 3 replicas of  an Orderen behind a Service.\nThose orderers may eventually by out of sync in the block height, and I'm not sure if the balancing between them of the service could lead to some unexpected situation to a leader peer. Since the peer has been notified about block number X, and then maybe latter  if the service chooses another replica that could have the latest block be X-1.","username":"waxer","ts":"2018-12-01T09:41:42.443Z"}
{"msg":"Im not aware if the implementation details, but i guess it shouldn't be an issue since the 'deliver' interface asks always for newer blocks from peer POV.","username":"waxer","ts":"2018-12-01T09:47:29.304Z"}
{"msg":"Maybe someone could check this","username":"waxer","ts":"2018-12-01T09:47:44.451Z"}
{"msg":"Hi, I'm running hyperledger fabric on kubernetes for the past couple o months. Now, I getting this error on my peer\n```\n2018-12-02 03:22:10.803 UTC [blocksProvider] DeliverBlocks -> WARN 18c4de [mychannel] Got error &{SERVICE_UNAVAILABLE}\n2018-12-02 03:22:11.942 UTC [gossip/election] waitForInterrupt -> DEBU 18c4df [126 56 70 115 1 124 77 156 35 129 83 228 71 163 254 184 157 127 158 164 164 149 190 209 50 21 248 106 145 255 191 121] : Exiting\n```\non the orderer\n```\n2018-12-02 03:44:12.198 UTC [common/deliver] deliverBlocks -> WARN 1375 [channel: mychannel] Rejecting deliver request for 10.64.1.6:40506 because of consenter error\n```\nBy reading the hyperledger FAQ's this is due an error on the kafka/zookeeper\nkafka logs show the following error\n```\n[2018-12-02 03:53:08,050] ERROR [ReplicaFetcherThread-0-1], Current offset 0 for partition [testchainid,0] out of range; reset offset to 4010 (kafka.server.ReplicaFetcherThread)\n```\nSo, I changed offset auto reset to smallest, on the zookeeper by setting an environment variable. I didn't have luck. Any suggestions, thanks in advance\n","username":"CarlosRL","ts":"2018-12-02T16:27:05.953Z"}
{"msg":"Hi everyone. I have a query that If a pod containing peer fails in Kubernetes and as scalling feature of Kubernetes allows automatic healing capability. So if a pod crashes and recreated by Kubernetes then Is there going to occur any change in the certificates assigned to that peer OR Is there going to be any effect on the chaincode installed on that peer I mean is there any possibilty that our network crashes because of any of these cases? Actually I want to understand that how the Fabric network is going to behave in Kubernetes if some of it component's pod or container crashes? ","username":"yousaf","ts":"2018-12-02T20:55:26.751Z"}
{"msg":"@yousaf, the most important thing is that when the pod is recreated the pod.can have all the necessary artifacts as it had when you ran it he first time. Dont worry about the ledger or world state because it will reprocess all the blocks again.","username":"waxer","ts":"2018-12-03T02:04:46.469Z"}
{"msg":"As you say, consider as 'artifact' the chaincodes too...","username":"waxer","ts":"2018-12-03T02:05:32.279Z"}
{"msg":"Im running Fabric without k8 and I take this same considerations. I want to be easy to blow up VM instances and start from 0 easily","username":"waxer","ts":"2018-12-03T02:06:59.901Z"}
{"msg":"Hello! Did anyone use Fabric CA instead of cryptogen in Kubernetes? :)","username":"Taffies","ts":"2018-12-03T05:13:46.537Z"}
{"msg":"@waxer Got it sir. Thanks :)","username":"yousaf","ts":"2018-12-03T10:21:58.938Z"}
{"msg":"Has joined the channel.","username":"ihormudryy","ts":"2018-12-03T10:23:57.254Z","type":"uj"}
{"msg":"I have another query. If we have deployed fabric on Google Kubernetes Engine then how to use each VM instance for each connected host to the cluster, as a peer of fabric network? and how each of that peer being a physical host is going to perform queries against chaincode w.r.t to its own rights.? Can somebody explain it briefly?","username":"yousaf","ts":"2018-12-03T10:44:15.957Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=e47d817b-0796-4a4d-a223-20033d83b443) @waxer We currently use persistence to ensure a peer state is maintained.  If you don't use persistence, how are you ensuing a peer joins the channels it was part of after a restart?","username":"julian","ts":"2018-12-03T11:58:21.784Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=e47d817b-0796-4a4d-a223-20033d83b443","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=e47d817b-0796-4a4d-a223-20033d83b443","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=e47d817b-0796-4a4d-a223-20033d83b443) @waxer We currently use persistence to ensure a peers state is maintained.  If you don't use persistence, how are you ensuing a peer joins the channels it was part of after a restart?","username":"julian","ts":"2018-12-03T11:58:21.784Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=e47d817b-0796-4a4d-a223-20033d83b443","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=e47d817b-0796-4a4d-a223-20033d83b443","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@julian , if you consider the peers genesis block channels it belongs too as artifacts, you can make a init script that makes the joins.","username":"waxer","ts":"2018-12-03T16:11:38.166Z"}
{"msg":"Has joined the channel.","username":"arjitkhullar","ts":"2018-12-05T00:02:22.457Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=1b1094d5-9878-4d74-833a-d8bd2bf4142e) @waxer :thumbsup:","username":"julian","ts":"2018-12-05T19:19:03.453Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=1b1094d5-9878-4d74-833a-d8bd2bf4142e","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=1b1094d5-9878-4d74-833a-d8bd2bf4142e","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Is there a way to stop kubernetes evicting a pod when it decides it's low on disk? because when it does it to one of the kafka in my network all hell breaks loose. i'd like to not go through this a third time now.","username":"aatkddny","ts":"2018-12-07T01:27:41.459Z"}
{"msg":"Is there a way to stop kubernetes evicting a pod when it decides it's low on disk? because when it does it to one of the kafkas in my network all hell breaks loose. i'd like to not go through this a third time now.","username":"aatkddny","ts":"2018-12-07T01:27:41.459Z"}
{"msg":"Afaik you can avoid that only by ensuring there is enough disk space. Also, are you sure it's due to disk space? I've had instances where the node wasn't responding within an expected time-frame which prompted the eviction. Setting a resource-limit on your containers might help resolve that issue.","username":"RobertDiebels","ts":"2018-12-10T10:29:20.796Z"}
{"msg":"one was showing low imagefs and another low disk before it evicted. of course the desktop may not have been reporting accurately, but...","username":"aatkddny","ts":"2018-12-10T13:29:48.208Z"}
{"msg":"Has joined the channel.","username":"louisliu2048","ts":"2018-12-11T03:30:38.786Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sivak2018","ts":"2018-12-11T04:30:05.984Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thipuvaasan","ts":"2018-12-11T04:43:20.668Z","type":"uj"}
{"msg":"Need to wave my ignorance about a little as I'm doing some work with configuration and want to only do it once.\n\nI have a question about chaincode instantiation. \n\nWe've been doing it using docker in docker, so each pod has a peer, a couchdb and a dind container. \nIt seems to be working fine.\n\nWe went that way because frankly the only documentation I saw where people had it working said they used dind, and when I figured out the \n```        - name: CORE_VM_ENDPOINT\n          value: tcp://localhost:2375\n``` \ntrick it was pretty straightforward.\n\nSo time marches on and it's a bit more mainstream deploying in k8s. people must be hitting the it doesn't fit in a docker instance and swarm is incomprehensible to mere mortals problem. \n\nI'm now seeing helm charts popping up all over the place. \nNot a single one uses dind, instead it's all /var/run/docker.sock.\nIs the accepted standard now to not use dind, but to go back to using the host? \n\nAnd here's where I have to start showing my ignorance  - istr that to get it to work one has to modify the docker config scripts as described here `http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1/`. \n\nSo a little more poking about has our friends at ibm doing it the same way we are `https://github.com/IBM/blockchain-network-on-kubernetes/blob/master/configFiles/docker.yaml`\nWhich doesn't help.\n\nIs there an accepted standard, or is it just use what works?\nIf the latter I'll stick with dind - it's not proving to be a pain point.","username":"aatkddny","ts":"2018-12-13T01:03:52.078Z"}
{"msg":"Need to wave my ignorance about a little as I'm doing some work with my auto configuration generation code and want to only do it once.\n\nI have a question about chaincode instantiation. \n\nWe've been doing it using docker in docker, so each pod has a peer, a couchdb and a dind container. \nIt seems to be working fine.\n\nWe went that way because frankly the only documentation I saw where people had it working said they used dind, and when I figured out the \n```        - name: CORE_VM_ENDPOINT\n          value: tcp://localhost:2375\n``` \ntrick it was pretty straightforward.\n\nSo time marches on and it's a bit more mainstream deploying in k8s. people must be hitting the it doesn't fit in a docker instance and swarm is incomprehensible to mere mortals problem. \n\nI'm now seeing helm charts popping up all over the place. \nNot a single one uses dind, instead it's all /var/run/docker.sock.\nIs the accepted standard now to not use dind, but to go back to using the host? \n\nAnd here's where I have to start showing my ignorance  - istr that to get it to work one has to modify the docker config scripts as described here `http://www.think-foundry.com/deploy-hyperledger-fabric-on-kubernetes-part-1/`. \n\nSo a little more poking about has our friends at ibm doing it the same way we are `https://github.com/IBM/blockchain-network-on-kubernetes/blob/master/configFiles/docker.yaml`\nWhich doesn't help.\n\nIs there an accepted standard, or is it just use what works?\nIf the latter I'll stick with dind - it's not proving to be a pain point.","username":"aatkddny","ts":"2018-12-13T01:03:52.078Z"}
{"msg":"Has joined the channel.","username":"varubasi77","ts":"2018-12-13T14:46:06.950Z","type":"uj"}
{"msg":"We have done a workshop at HGF on deploying Fabric on Kubernetes in dev and prod:\n\nhttps://hgf18.sched.com/event/b76c86de07c3bcaa094a8b149470e0e7","username":"alexvicegrab","ts":"2018-12-15T11:14:55.725Z"}
{"msg":"We have released Fabric/Composer helm charts on https://hub.kubeapps.com/charts?q=hyperledger and aim to release a public library that automates the process using python. If anyone is interested in contributing, you are very welcome.","username":"alexvicegrab","ts":"2018-12-15T11:15:50.274Z"}
{"msg":"The workshop slides are public, and so is the repository: https://github.com/aidtechnology/hgf-k8s-workshop","username":"alexvicegrab","ts":"2018-12-15T11:16:24.105Z"}
{"msg":"\nHi all, anyone here is developing Helm Charts or other solutions to deploy Hyperledger Projects (not only Fabric) on Kubernetes?","username":"nicolapaoli","ts":"2018-12-16T13:45:40.785Z"}
{"msg":"We did it from a java app. Or more accurately wrote something inside the app to run the crypto and then generate the yaml from a configuration file.","username":"aatkddny","ts":"2018-12-16T16:24:57.898Z"}
{"msg":"Has joined the channel.","username":"DJ_HC","ts":"2018-12-16T18:50:48.663Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dinoradulovic","ts":"2018-12-17T02:50:50.264Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aviralwal","ts":"2018-12-17T11:49:13.738Z","type":"uj"}
{"msg":"@aatkddny Here's a list of reasons not to use DIND https://jpetazzo.github.io/2015/09/03/do-not-use-docker-in-docker-for-ci/ . Currently the unix-socket approach is also a hack until Fabric provides a means to bring chaincodes under the management of K8s afaik. There are some JIRA issues that provide more in depth information on what needs to be done for this but I don't have them at the ready right now.","username":"RobertDiebels","ts":"2018-12-17T22:21:58.680Z"}
{"msg":"I released a npm package that takes care of the whole shabang about half a year ago. It generates the crypto files, creates the necessary k8s objects from that and uses HLF's config files to create the network. Only down side is it only deploys to GCE.","username":"RobertDiebels","ts":"2018-12-17T22:24:36.669Z"}
{"msg":"It's called kubechain if you're interested.","username":"RobertDiebels","ts":"2018-12-17T22:25:05.831Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EdmTrNYzqNY2Pz6uG) @RobertDiebels Thanks Robert, we have a standalone process that creates our networks soup to nuts from very simple configuration files and a few rest calls. I never extended it to automate kubectl'ing the yaml files it generates (which I did for the docker-compose version) - but using the desktop means there's only 4 steps for creation, so it isn't too bad. \n\nNeither docker option is exactly how one would want this to work if one were to actually design this from a clean sheet - which is why I'm trying to figure out which is the best option for me. When I started this the only jira that seemed relevant was FAB-7406 which mentioned DIND. It doesn't appear that it's moved very far since I was looking at the end of summer though. \n\nThe IBM git I referenced above is far more recent, which drove my question, although given they seem to be the primary driver of this project at this time and given the paucity of opinions I think I'm leaning to sticking with what I have working until something better comes along.  ","username":"aatkddny","ts":"2018-12-18T13:59:26.383Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EdmTrNYzqNY2Pz6uG","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EdmTrNYzqNY2Pz6uG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi All,","username":"sudhir.kumawat","ts":"2018-12-19T12:17:07.742Z"}
{"msg":"I have deployed fabric 1.3 on kubernetes and accessing blockchain data using compo","username":"sudhir.kumawat","ts":"2018-12-19T12:19:59.245Z"}
{"msg":"I have deployed fabric 1.3 on kubernetes. I have installed my business n/w over it and when i doing any transactions i am getting success but when i delete k8s nodes and bringing nodes again transaction to blockchain getting failed. I am getting some errors like","username":"sudhir.kumawat","ts":"2018-12-19T12:19:59.245Z"}
{"msg":"Error trying invoke business network with transaction id d0c459d58988614c133ad1a94191d9eb4931f171d30df1a5c691203f00f4014e. Error: Error received from sendTransaction: Error: Failed to send transaction successfully to the orderer status:NOT_FOUND","username":"sudhir.kumawat","ts":"2018-12-19T12:24:29.596Z"}
{"msg":"Also i am getting error in orderer like grpc: Server.Serve failed to create ServerTransport: connection error: desc = \"transport: http2Server.HandleStreams failed to receive the preface from client: EOF","username":"sudhir.kumawat","ts":"2018-12-19T12:25:10.116Z"}
{"msg":"I have tried out all cases by down peers & up again and i am getting all data same as. But i got error in only post operations to blockchain after down&up k8s nodes. Anyone can please help.","username":"sudhir.kumawat","ts":"2018-12-19T12:31:10.816Z"}
{"msg":"Has joined the channel.","username":"sirlarr","ts":"2018-12-20T01:52:32.355Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Vishal3152","ts":"2018-12-20T11:12:22.966Z","type":"uj"}
{"msg":"Has joined the channel.","username":"merq","ts":"2018-12-22T03:45:14.080Z","type":"uj"}
{"msg":"@sudhir.kumawat  you have to make sure you are saving the state of peer ledger and statedb","username":"ArpitKhurana1","ts":"2018-12-26T05:05:39.520Z"}
{"msg":"Has left the channel.","username":"greivinlopez","ts":"2018-12-26T12:57:18.165Z","type":"ul"}
{"msg":"Hi, I have been running hyperledger fabric in a staging environment and I noticed that when the chaincode container remains idle for some time I get this error `14 UNAVAILABLE: TCP Write failed` with the first request. The next requests are executed just fine. I using `fabric-peer:1.2.1`. Any ideas how to address this? Thanks in advance","username":"CarlosRL","ts":"2018-12-27T18:04:29.199Z"}
{"msg":"Hi everyone. I have a query that I have deployed a hyperledger fabric network on GKE instances. I want to join a peer to this fabric network so that it accesses one of these instances and becomes a part of fabric network and user can use it to perform transactions etc...??","username":"yousaf","ts":"2018-12-28T14:23:53.347Z"}
{"msg":"Has joined the channel.","username":"nageshbandaru","ts":"2019-01-01T20:00:29.290Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xaviarias","ts":"2019-01-03T11:03:07.729Z","type":"uj"}
{"msg":"Has joined the channel.","username":"x4e-salvi","ts":"2019-01-04T18:48:35.635Z","type":"uj"}
{"msg":"Has joined the channel.","username":"asurirk","ts":"2019-01-08T19:23:52.887Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ericmvaughn","ts":"2019-01-09T17:43:37.923Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Skprog","ts":"2019-01-10T15:23:36.120Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MHBauer","ts":"2019-01-10T18:46:37.652Z","type":"uj"}
{"msg":"Has left the channel.","username":"nickgaski","ts":"2019-01-10T20:35:10.950Z","type":"ul"}
{"msg":"Has joined the channel.","username":"akoita","ts":"2019-01-11T03:34:06.242Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chinmsay213211","ts":"2019-01-11T22:23:21.027Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tocosonic","ts":"2019-01-15T21:40:13.289Z","type":"uj"}
{"msg":"Hi *, this is a message / request to the Fabric architects:\nfor Hyperledger Fabric v1.1.0 I've managed to create a custom controller (openshiftcontroller) which implements the dockercontroller's interface. I've had to do 2 or 3 minor changes to the peer's code and I'm able to run Hyperledger Fabric on OpenShift in non-privileged mode :-)\nOf course - I've had to create some custom images to be able to let everything run, but: it works :-)\nNow my question / request:\nwould it be possible, to create a kind-of-a standard interface for custom controllers as well as a configuration setting by which the desired runtime environment (e.g. docker vs. openshift vs. k8s vs ...) could be selected? Right now I want to migrate from HLF 1.1.0 to HLF 1.4.0 and I have to put significant effort in finding the places where I can select the openshiftcontroller instead of the dockercontroller (and I'm hoping that the controller's interface hasn't changed that much).\nWhat do you think?","username":"tocosonic","ts":"2019-01-15T21:41:38.863Z"}
{"msg":"@tocosonic we have a similar solution with a kubernetescontroller on our own internal fork ... I noticed there would be a lot of little changes everywhere with the protobuf definitions to properly add our Kubernetes controller if we followed the docker controller architecture currently in place... I expect that we will see such support at some point as HLF sees more production usage. \nFor our purposes we have minimized the effort required to support our fork by isolating our changes to HLF into our own controller and using a small shim to inject it within the standard docker controller.\n```\n// From core/container/dockercontroller/dockercontroller.go : line 104\n// NewVM creates a new DockerVM instance\nfunc (p *Provider) NewVM() container.VM {\n\t// At this point check to see if we are in kubernetes\n\tif !kubernetescontroller.InCluster() {\n\t\tdockerLogger.Info(\"Kubernetes not detected.\")\n\t\treturn NewDockerVM(p.PeerID, p.NetworkID, p.BuildMetrics)\n\t}\n\t// In a cluster so replace the docker connection with a kubernetes one.\n\tdockerLogger.Info(\"Kubernetes environment detected. Using K8s API.\")\n\treturn kubernetescontroller.NewKubernetesAPI(p.PeerID, p.NetworkID)\n}\n```","username":"iramiller","ts":"2019-01-16T16:20:33.561Z"}
{"msg":"Has joined the channel.","username":"pterdchanakul","ts":"2019-01-17T05:46:28.356Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Yair","ts":"2019-01-18T11:04:34.137Z","type":"uj"}
{"msg":"Has joined the channel.","username":"osobh","ts":"2019-01-21T00:54:43.042Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IanSparkes","ts":"2019-01-22T08:56:04.845Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DerrickL","ts":"2019-01-22T15:00:11.178Z","type":"uj"}
{"msg":"Has joined the channel.","username":"incarose","ts":"2019-01-23T00:23:28.701Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mrjdomingus","ts":"2019-01-24T10:11:01.113Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Pradeep_Pentakota","ts":"2019-01-26T13:42:54.000Z","type":"uj"}
{"msg":"Has left the channel.","username":"binhn","ts":"2019-01-26T16:50:21.192Z","type":"ul"}
{"msg":"Has joined the channel.","username":"lip-inagora","ts":"2019-01-28T00:22:21.627Z","type":"uj"}
{"msg":"Hi guys, my issue is that my fabric peer pods in the kubernetes cluster get evicted due to this error message: \"The node was low on resource: ephemeral-storage.\" Im using fabric v1.3.0, kubernetes v1.13.1-00 and docker v18.06.1~ce~3-0~ubuntu. For some reason, kubernetes did bring up the evicted peer pods again but the chaincode containers are no longer in the node anymore and i have to do a join channel and install chaincode again. Does anyone knows how to fix this issue? ","username":"JayJong","ts":"2019-01-28T06:32:15.174Z"}
{"msg":"Has joined the channel.","username":"edisinovcic","ts":"2019-01-28T13:16:02.729Z","type":"uj"}
{"msg":"Has joined the channel.","username":"frgomes","ts":"2019-01-28T14:59:53.596Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mattmaru","ts":"2019-01-29T09:08:57.430Z","type":"uj"}
{"msg":"Hello to everyone. I would get your help if possible. I need to build a fabric network using kubernetes but I could not find anything about it. Can you help me please? I'm on fabric 1.4\nHi guys. I would get your help. I must deploy an hyperledger fabric network using kubernetes but I'm not ","username":"mattmaru","ts":"2019-01-29T09:11:56.783Z"}
{"msg":"excuse me, the messages have been mixed\n","username":"mattmaru","ts":"2019-01-29T09:12:56.712Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=X9QEGSrF8nFKYQuXd) @mattmaru try this:\n\nhttps://opensource.com/article/18/4/deploying-hyperledger-fabric-kubernetes\n\nor this:\n\nhttps://github.com/feitnomore/hyperledger-fabric-kubernetes\n\nor you could run IBM Blockchain Platform for IBM Cloud Private community edition, which is delivered as a helm chart, on top of IBM Cloud Private community edition:\n\nhttps://console.bluemix.net/docs/services/blockchain/howto/helm_install_icp.html#remote-peer-icp\nhttps://www.ibm.com/support/knowledgecenter/en/SSBS6K_1.2.0/installing/install_containers_CE.html\n\nIBM Cloud Private is built on top of Kubernetes.  IBM Blockchain Platform is based on Hyperledger Fabric.","username":"silliman","ts":"2019-01-29T10:41:19.391Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=X9QEGSrF8nFKYQuXd","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=X9QEGSrF8nFKYQuXd","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@silliman. I have only two Ubuntu 18.10 vm and i can't use IBM","username":"mattmaru","ts":"2019-01-29T10:46:19.110Z"}
{"msg":"Has joined the channel.","username":"kYem 1","ts":"2019-01-30T12:57:07.341Z","type":"uj"}
{"msg":"How can i instantiate the chaincode on  kubernetes peer? I'm getting timeout error, which seems to indicate the problem with booting up chaincode container?","username":"kYem 1","ts":"2019-01-30T14:24:52.718Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=X9QEGSrF8nFKYQuXd) @mattmaru https://worldsibu.tech/forma/","username":"uherr89","ts":"2019-01-31T15:49:34.424Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=X9QEGSrF8nFKYQuXd","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=X9QEGSrF8nFKYQuXd","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Ryan2","ts":"2019-02-01T05:14:30.553Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Mozuffer","ts":"2019-02-03T10:46:59.122Z","type":"uj"}
{"msg":"Hello guys. I'm trying to setup kubernetes cluser (master-slave) to deploy my fabric network . Can you suggest me a guide to make it? ","username":"mattmaru","ts":"2019-02-04T10:52:27.479Z"}
{"msg":"Has joined the channel.","username":"AndresMartinezMelgar.itcl","ts":"2019-02-04T11:36:02.678Z","type":"uj"}
{"msg":"hi, i an thinking about take kubernetes in google cloud services, but i have a simple question. That service what gives to me?? i think that is a virtual pc to admin cluster. So how can i connect from mi pc? Do i need install kubernetes into my pc??\n\nIf anyone know about a tutorial to use fabric with kubernets, i will appreciet it (with  or without google cloud)","username":"AndresMartinezMelgar.itcl","ts":"2019-02-04T12:24:10.755Z"}
{"msg":"hi, i am thinking about take kubernetes in google cloud services, but i have a simple question. That service what gives to me?? i think that is a virtual pc to admin cluster. So how can i connect from mi pc? Do i need install kubernetes into my pc??\n\nIf anyone know about a tutorial to use fabric with kubernets, i will appreciet it (with  or without google cloud)","username":"AndresMartinezMelgar.itcl","ts":"2019-02-04T12:24:10.755Z"}
{"msg":"hi, i am thinking about take kubernetes in google cloud services, but i have a simple question. That service what gives to me?? i think that is a virtual pc to admin cluster. So how can i connect from mi pc? Do i need install kubernetes into my pc??\n\nIf anyone know about a tutorial to use fabric with kubernets, i will appreciated it (with  or without google cloud)","username":"AndresMartinezMelgar.itcl","ts":"2019-02-04T12:24:10.755Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=3P28RCWK6TxQ2rEGr) @AndresMartinezMelgar.itcl it's going to give you an endpoint to connect to. ","username":"MHBauer","ts":"2019-02-04T20:05:41.515Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=3P28RCWK6TxQ2rEGr","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=3P28RCWK6TxQ2rEGr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"and you'll use kubectl","username":"MHBauer","ts":"2019-02-04T20:05:48.858Z"}
{"msg":"Has joined the channel.","username":"au","ts":"2019-02-06T03:21:36.733Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SanketPanchamia","ts":"2019-02-12T03:30:31.117Z","type":"uj"}
{"msg":"Has anyone managed to raise a network hyperledger fabric together with Kubernetes?","username":"AndresMartinezMelgar.itcl","ts":"2019-02-13T11:06:51.633Z"}
{"msg":"Has joined the channel.","username":"glennd","ts":"2019-02-13T14:02:10.924Z","type":"uj"}
{"msg":"@AndresMartinezMelgar.itcl yes it is possible but it will require some work ... we have a multi-cloud/multi-org fabric running in production within Kubernetes.","username":"iramiller","ts":"2019-02-13T22:46:52.106Z"}
{"msg":"Speaking of work/fabric/kubernetes ... has anyone added Istio to the mix for managing mTLS, monitoring, etc?","username":"iramiller","ts":"2019-02-13T22:47:55.802Z"}
{"msg":"https://github.com/aidtechnology/hgf-k8s-workshop","username":"alexvicegrab","ts":"2019-02-16T10:38:50.050Z"}
{"msg":"@AndresMartinezMelgar.itcl it's a basic tutorial, but it may be a good starting point","username":"alexvicegrab","ts":"2019-02-16T10:39:18.990Z"}
{"msg":"Working on a python library to help deploy Fabric to Kubernetes that is now in alpha, but need more hands to provide last few core features ","username":"alexvicegrab","ts":"2019-02-16T10:40:12.817Z"}
{"msg":"https://github.com/aidtechnology/nephos","username":"alexvicegrab","ts":"2019-02-16T10:40:26.446Z"}
{"msg":"https://nephos.readthedocs.io/en/latest/py-modindex.html","username":"alexvicegrab","ts":"2019-02-16T10:40:51.215Z"}
{"msg":"@alexvicegrab thanks, i check that lisnk right now","username":"AndresMartinezMelgar.itcl","ts":"2019-02-18T07:01:01.915Z"}
{"msg":"My current problem is how can i keep my files in pods when these can be killed. I am trying to create a nfs server inside kubernetes cluster. I don't know if this is a right solution. Can someone guide me?","username":"AndresMartinezMelgar.itcl","ts":"2019-02-18T07:40:44.468Z"}
{"msg":"@AndresMartinezMelgar.itcl use persistent volume claims, the links above have examples of this","username":"alexvicegrab","ts":"2019-02-18T15:41:07.089Z"}
{"msg":"Hi guys, I am using `kubernetes` to deploy fabric network in gke. It is working fine, but I want to be able to use ingress instead of services with type `LoadBalancer`. I want to have for example `peer0.org1.example.com` instead of `x.x.x.x:7051`. GRPC is supported by nginx, but only under ssl connections. \n\nHere is an example `https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/grpc`. \n\nThe ingress requires the certificate and the key generated by `openssl`\nAny ideas how to make it work\n\n","username":"CarlosRL","ts":"2019-02-18T22:36:21.889Z"}
{"msg":"Hi guys, I am using `kubernetes` to deploy fabric network in gke. It is working fine, but I want to be able to use ingress instead of services with type `LoadBalancer`. I want to have for example `peer0.org1.example.com` instead of `x.x.x.x:7051`. GRPC is supported by nginx, but only under ssl connections. \n\nHere is an example `https://github.com/kubernetes/ingress-nginx/tree/master/docs/examples/grpc`. \n\nThe ingress requires the certificate and the key generated by `openssl`\nAny ideas how to make it work\n\nThanks in advance","username":"CarlosRL","ts":"2019-02-18T22:36:21.889Z"}
{"msg":"@AndresMartinezMelgar.itcl might this help you `https://github.com/hyperledger/cello/tree/master/thirdparty/helm/fabric-chart`","username":"CarlosRL","ts":"2019-02-18T22:38:25.667Z"}
{"msg":"@AndresMartinezMelgar.itcl might this help you `https://github.com/hyperledger/cello/tree/master/thirdparty/helm/fabric-chart`\n\nWith a helm is easier, the files can be stored in an NFS server insider the cluster.","username":"CarlosRL","ts":"2019-02-18T22:38:25.667Z"}
{"msg":"@AndresMartinezMelgar.itcl might this help you `https://github.com/hyperledger/cello/tree/master/thirdparty/helm/fabric-chart`\n\nWith a helm is easier, the files can be stored in an NFS server inside the cluster.","username":"CarlosRL","ts":"2019-02-18T22:38:25.667Z"}
{"msg":"Has joined the channel.","username":"ygnr","ts":"2019-02-18T22:53:26.679Z","type":"uj"}
{"msg":"thanks team, i just get it! isn't difficult when understand it","username":"AndresMartinezMelgar.itcl","ts":"2019-02-19T08:50:46.703Z"}
{"msg":"Has joined the channel.","username":"yod 15","ts":"2019-02-20T14:34:17.540Z","type":"uj"}
{"msg":"@CarlosRL tryed deployment of specifyed chart and getting next errors: ```MountVolume.SetUp failed for volume \"org1-cluster-shared\" : mount failed: exit status 32 Mounting command: systemd-run Mounting arguments: --description=Kubernetes transient mount for /var/lib/kubelet/pods/3b48060e-351a-11e9-91c7-080027a3bb5b/volumes/kubernetes.io~nfs/org1-cluster-shared --scope -- mount -t nfs -o nfsvers=4,port=30049 10.233.30.62:/cluster/resources/crypto-config/peerOrganizations/org1.example.com /var/lib/kubelet/pods/3b48060e-351a-11e9-91c7-080027a3bb5b/volumes/kubernetes.io~nfs/org1-cluster-shared Output: Running scope as unit: run-r3a8ce741364444a89edf22bc923c6be8.scope mount: wrong fs type, bad option, bad superblock on 10.233.30.62:/cluster/resources/crypto-config/peerOrganizations/org1.example.com, missing codepage or helper program, or other error (for several filesystems (e.g. nfs, cifs) you might need a /sbin/mount.<type> helper program) In some cases useful info is found in syslog - try dmesg | tail or so.```","username":"yod 15","ts":"2019-02-20T14:35:15.154Z"}
{"msg":"However nfs pv/pvcs working correctly","username":"yod 15","ts":"2019-02-20T14:35:52.599Z"}
{"msg":"Hi again.\nI have another trouvel ):\nError: failed to create deliver client: orderer client failed to connect to blockchain-orderer:31010: failed to create new connection: context deadline exceeded\n","username":"AndresMartinezMelgar.itcl","ts":"2019-02-21T12:23:29.494Z"}
{"msg":"Hi again.\nI have another trouvel ):\nError: failed to create deliver client: orderer client failed to connect to blockchain-orderer:31010: failed to create new connection: context deadline exceeded\n\ni know solve this error in docker, but in kubernetes i dont. I think that is because dns-server(default cluster dns) isn't work, i tried to put ip directly but either work\n\nI am trying with this repo https://github.com/feitnomore/hyperledger-fabric-kubernetes  and i am stuck on step 12\n\nI have a cluster with 1 node(only way to make it work) and instead of nfs-server i am using a shared folder( this folder works fine so i think this isn't error)","username":"AndresMartinezMelgar.itcl","ts":"2019-02-21T12:30:12.365Z"}
{"msg":"Has joined the channel.","username":"raj_shekhar","ts":"2019-02-21T16:35:09.835Z","type":"uj"}
{"msg":"Hi , \nI am setting a production ready fabric setup on K8s without using helm charts, I am having issues while doing configs as there are many things to configure , can anyone plz help me with it if they have done it before by sharing some repo , so that I can have much better idea?","username":"raj_shekhar","ts":"2019-02-22T05:32:53.746Z"}
{"msg":"Hi, After installing the CA by using AID TECH tut's and Helm chart I am getting below while trying to curl CA \ncurl https://ca.hgf.infinichains.com/cainfo\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\nMore details here: https://curl.haxx.se/docs/sslcerts.html\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\n","username":"raj_shekhar","ts":"2019-02-22T12:35:49.887Z"}
{"msg":"ca.hgf.infinichains.com this is my domain which is linked to my K8s cluster IP","username":"raj_shekhar","ts":"2019-02-22T12:36:47.183Z"}
{"msg":"@yod 15 In my nfs server I have all the crypto files generated and share it through some pvc volumes. For example my orderers info is in the folder `/exports/example/resources/crypto-config/ordererOrganizations/example.com`. \n\n`/exports`: the nfs shared folder\n`/exports/example/resources/crypto-config`:  the crypto files generated\n\nin my pv looks like\n\n```apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: default-orderer-shared\nspec:\n  accessModes:\n    - ReadWriteMany\n  claimRef:\n    namespace: default\n    name: default-orderer-shared\n  persistentVolumeReclaimPolicy: Retain\n  nfs:\n    path: /exports/cacao/resources/crypto-config/ordererOrganizations/monedacacao.com\n    server: nfs-svc.default.svc.cluster.local```\n\nThen in the orderer deployment volumes are mounted like: (note that in the subpath the orderer is specified)\n```   volumeMounts:\n         - mountPath: /var/hyperledger/orderer/msp\n           name: certificate\n           subPath: orderers/orderer0.monedacacao.com/msp\n      volumes:\n       - name: certificate\n         persistentVolumeClaim:\n             claimName: default-orderer-shared```","username":"CarlosRL","ts":"2019-02-23T19:09:25.399Z"}
{"msg":"@yod15 In my nfs server I have all the crypto files generated and share it through some pvc volumes. For example my orderers info is in the folder `/exports/example/resources/crypto-config/ordererOrganizations/example.com`. \n\n`/exports`: the nfs shared folder\n`/exports/example/resources/crypto-config`:  the crypto files generated\n\nin my pv looks like\n\n```apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: default-orderer-shared\nspec:\n  accessModes:\n    - ReadWriteMany\n  claimRef:\n    namespace: default\n    name: default-orderer-shared\n  persistentVolumeReclaimPolicy: Retain\n  nfs:\n    path: /exports/cacao/resources/crypto-config/ordererOrganizations/monedacacao.com\n    server: nfs-svc.default.svc.cluster.local```\n\nThen in the orderer deployment volumes are mounted like: (note that in the subpath the orderer is specified)\n```   volumeMounts:\n         - mountPath: /var/hyperledger/orderer/msp\n           name: certificate\n           subPath: orderers/orderer0.monedacacao.com/msp\n      volumes:\n       - name: certificate\n         persistentVolumeClaim:\n             claimName: default-orderer-shared```","username":"CarlosRL","ts":"2019-02-23T19:09:25.399Z"}
{"msg":"@yod 15  In my nfs server I have all the crypto files generated and share it through some pvc volumes. For example my orderers info is in the folder `/exports/example/resources/crypto-config/ordererOrganizations/example.com`. \n\n`/exports`: the nfs shared folder\n`/exports/example/resources/crypto-config`:  the crypto files generated\n\nin my pv looks like\n\n```apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: default-orderer-shared\nspec:\n  accessModes:\n    - ReadWriteMany\n  claimRef:\n    namespace: default\n    name: default-orderer-shared\n  persistentVolumeReclaimPolicy: Retain\n  nfs:\n    path: /exports/cacao/resources/crypto-config/ordererOrganizations/monedacacao.com\n    server: nfs-svc.default.svc.cluster.local```\n\nThen in the orderer deployment volumes are mounted like: (note that in the subpath the orderer is specified)\n```   volumeMounts:\n         - mountPath: /var/hyperledger/orderer/msp\n           name: certificate\n           subPath: orderers/orderer0.monedacacao.com/msp\n      volumes:\n       - name: certificate\n         persistentVolumeClaim:\n             claimName: default-orderer-shared```","username":"CarlosRL","ts":"2019-02-23T19:09:25.399Z"}
{"msg":"@yod 15  In my nfs server I have all the crypto files generated and share it through some pvc volumes. For example my orderers info is in the folder `/exports/example/resources/crypto-config/ordererOrganizations/example.com`. \n\n`/exports`: the nfs shared folder\n`/exports/example/resources/crypto-config`:  the crypto files generated\n\nin my pv looks like\n\n```apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: default-orderer-shared\nspec:\n  accessModes:\n    - ReadWriteMany\n  claimRef:\n    namespace: default\n    name: default-orderer-shared\n  persistentVolumeReclaimPolicy: Retain\n  nfs:\n    path: /exports/cacao/resources/crypto-config/ordererOrganizations/monedacacao.com\n    server: nfs-svc.default.svc.cluster.local```\n\nThen in the orderer deployment volumes are mounted like: (note that in the subpath the orderer is specified)\n```   volumeMounts:\n         - mountPath: /var/hyperledger/orderer/msp\n           name: certificate\n           subPath: orderers/orderer0.example.com/msp\n      volumes:\n       - name: certificate\n         persistentVolumeClaim:\n             claimName: default-orderer-shared```","username":"CarlosRL","ts":"2019-02-23T19:09:25.399Z"}
{"msg":"@yod 15  In my nfs server I have all the crypto files generated and share it through some pvc volumes. For example my orderers info is in the folder `/exports/example/resources/crypto-config/ordererOrganizations/example.com`. \n\n`/exports`: the nfs shared folder\n`/exports/example/resources/crypto-config`:  the crypto files generated\n\nin my pv looks like\n\n```apiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: default-orderer-shared\nspec:\n  accessModes:\n    - ReadWriteMany\n  claimRef:\n    namespace: default\n    name: default-orderer-shared\n  persistentVolumeReclaimPolicy: Retain\n  nfs:\n    path: /exports/cacao/resources/crypto-config/ordererOrganizations/example.com\n    server: nfs-svc.default.svc.cluster.local```\n\nThen in the orderer deployment volumes are mounted like: (note that in the subpath the orderer is specified)\n```   volumeMounts:\n         - mountPath: /var/hyperledger/orderer/msp\n           name: certificate\n           subPath: orderers/orderer0.example.com/msp\n      volumes:\n       - name: certificate\n         persistentVolumeClaim:\n             claimName: default-orderer-shared```","username":"CarlosRL","ts":"2019-02-23T19:09:25.399Z"}
{"msg":"@raj_shekhar can you share the logs of curl?","username":"CarlosRL","ts":"2019-02-23T19:12:27.285Z"}
{"msg":"@AndresMartinezMelgar.itcl the deployments of your orderer are installed in the default namespace ? If not you have to specify the namespace like `blockchain-orderer.MY_NAMESPACE:31010` can you share the service of your orderer ?","username":"CarlosRL","ts":"2019-02-23T19:15:30.815Z"}
{"msg":"Anybody has done CA setup on K8s ??","username":"raj_shekhar","ts":"2019-02-25T05:00:04.817Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zenaxg6WAQcob8SHR) @CarlosRL * TCP_NODELAY set\n* Connected to ca.hgf.infinains.com (35.247....) port 443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*   CAfile: /etc/ssl/certs/ca-certificates.crt\n  CApath: /etc/ssl/certs\n* TLSv1.2 (OUT), TLS handshake, Client hello (1):\n* TLSv1.2 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (OUT), TLS alert, Server hello (2):\n* SSL certificate problem: unable to get local issuer certificate\n* stopped the pause stream!\n* Closing connection 0\ncurl: (60) SSL certificate problem: unable to get local issuer certificate\nMore details here: https://curl.haxx.se/docs/sslcerts.html\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.","username":"raj_shekhar","ts":"2019-02-25T06:51:30.854Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zenaxg6WAQcob8SHR","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=zenaxg6WAQcob8SHR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"HLFPOC","ts":"2019-02-25T18:25:30.586Z","type":"uj"}
{"msg":"Hi Team, I have done fabric network setup using Docker swarm and now I want to do the same thing using Kubernetes. So is there any guide/reference material available which one can follow to achieve this ?","username":"HLFPOC","ts":"2019-02-25T18:29:25.942Z"}
{"msg":"@raj_shekhar did you correctly set up the Cert-manager?","username":"alexvicegrab","ts":"2019-02-26T07:00:48.978Z"}
{"msg":"You know you can ping us on Github to ask about issues with CA setup, etc. So that the issues are centralised there and we can look at more promptly. Are you using the HGF workshop examples?","username":"alexvicegrab","ts":"2019-02-26T07:02:09.248Z"}
{"msg":"@HLFPOC, yes, check our public repositories on github.com/aidtechnology, particularly Nephos, and the HGF workshop and LF webinar","username":"alexvicegrab","ts":"2019-02-26T07:03:16.958Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=wU6jY4etjyonppjLiP) @alexvicegrab Thanks for your reply @alexvicegrab , do we have any repo which has explained the deployment without using helm charts ? ","username":"HLFPOC","ts":"2019-02-26T08:40:34.354Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=wU6jY4etjyonppjLiP","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=wU6jY4etjyonppjLiP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@HLFPOC, no. Did not want to make my life more difficult :rolling_on_the_floor_laughing:","username":"alexvicegrab","ts":"2019-02-26T11:43:48.746Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=phh3wJGWcQtHJiMtr) right @alexvicegrab , but it will help people who are not much familiar with helm charts :wink:","username":"raj_shekhar","ts":"2019-02-26T12:17:20.925Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=phh3wJGWcQtHJiMtr","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=phh3wJGWcQtHJiMtr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=phh3wJGWcQtHJiMtr) @alexvicegrab right @alexvicegrab , but it will help people who are not much familiar with helm charts :wink:","username":"raj_shekhar","ts":"2019-02-26T12:17:20.925Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=phh3wJGWcQtHJiMtr","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=phh3wJGWcQtHJiMtr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Fair enough, but the point of Helm charts is not having to micromanage individual manifests. I also don't intend to make other people's life difficult in the long term","username":"alexvicegrab","ts":"2019-02-26T18:55:42.776Z"}
{"msg":"You are free to set up your own K8S manifests without helm charts and there are examples of this elsewhere, but it's not my road to walk ","username":"alexvicegrab","ts":"2019-02-26T18:56:41.117Z"}
{"msg":"A helm chart is ultimately a grouping of Kubernetes manifests with the possibility of using a very simple templating language. And it's why we made the workshops and Webinar. If anything is unclear do leave comments on the relevant repos we created. We tried to document as well as we could but doubt we have been perfect in everything ","username":"alexvicegrab","ts":"2019-02-26T18:58:13.488Z"}
{"msg":"First video of workshop is here in case this helps https://youtu.be/ubrA3W1JMk0","username":"alexvicegrab","ts":"2019-02-26T19:02:49.995Z"}
{"msg":"@alexvicegrab Nice job on helm charts! I see that your are mounting docker.sock from node. How are you maintaining chaincode upgrades?","username":"ygnr","ts":"2019-02-26T22:47:31.050Z"}
{"msg":"Any reasons why you didn't consider docker in docker?","username":"ygnr","ts":"2019-02-26T22:48:13.337Z"}
{"msg":"@alexvicegrab yeah ,, perfectly said..","username":"raj_shekhar","ts":"2019-02-27T05:13:52.338Z"}
{"msg":"hi, someone have a nfs-server within kubernetes? can guide me? \nI need it to share file among diferent nodes","username":"AndresMartinezMelgar.itcl","ts":"2019-02-27T07:58:17.723Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mzySDACJHkmzPNfd5) @ygnr For our POCs, we've used Composer, but are now working on shifting to raw Fabric. We are working on making chaincode deployment/updates easier as we speak.","username":"alexvicegrab","ts":"2019-02-27T12:44:35.681Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mzySDACJHkmzPNfd5","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mzySDACJHkmzPNfd5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi, i have a nfs-server out of kubernetes but i get that network work rightly \nI want to create nfs-server within cluster, do anyone prove it?\nI readed nfs-server must be external to kubernetes's cluster","username":"AndresMartinezMelgar.itcl","ts":"2019-02-28T12:29:01.787Z"}
{"msg":"Has joined the channel.","username":"Estebanrestrepo","ts":"2019-03-01T19:39:41.431Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SaicharanPogul","ts":"2019-03-03T13:47:38.857Z","type":"uj"}
{"msg":"hi. I already have a cluster with a functional hyperledger fabric. So how can I send transactions from outside the cluster?\nCan it be valid with curl or something similar?","username":"AndresMartinezMelgar.itcl","ts":"2019-03-04T12:11:20.639Z"}
{"msg":"hi. I already have a cluster with a functional hyperledger fabric(orderer has mode solo, i dont get kafka yet). So how can I send transactions from outside the cluster?\nCan it be valid with curl or something similar?","username":"AndresMartinezMelgar.itcl","ts":"2019-03-04T12:11:20.639Z"}
{"msg":"hi. I already have a cluster with a functional hyperledger fabric(orderer has mode solo, i havent get kafka yet). So how can I send transactions from outside the cluster?\nCan it be valid with curl or something similar?","username":"AndresMartinezMelgar.itcl","ts":"2019-03-04T12:11:20.639Z"}
{"msg":"look at a nodeport","username":"aatkddny","ts":"2019-03-04T18:22:10.387Z"}
{"msg":"look at a nodeport if you want a simple setup","username":"aatkddny","ts":"2019-03-04T18:22:10.387Z"}
{"msg":"```\napiVersion: v1\nkind: Service\nmetadata:\n  name: peer0-myorg\nspec:\n  type: NodePort\n  ports:\n  - name: listen-endpoint\n    protocol: TCP\n    nodePort: 30201\n    port: 7051\n    targetPort: 7051\n  - name: chaincode-endpoint\n    protocol: TCP\n    nodePort: 30202\n    port: 7052\n    targetPort: 7052\n  - name: event-endpoint\n    protocol: TCP\n    nodePort: 30203\n    port: 7053\n    targetPort: 7053\n  selector:\n    app: peer0-myorg\n```\n\nYou'd send grpc to port 30201 for peer0 of myorg. ","username":"aatkddny","ts":"2019-03-04T18:23:43.085Z"}
{"msg":"```\napiVersion: v1\nkind: Service\nmetadata:\n  name: peer0-myorg\nspec:\n  type: NodePort\n  ports:\n  - name: listen-endpoint\n    protocol: TCP\n    nodePort: 30201\n    port: 7051\n    targetPort: 7051\n  - name: chaincode-endpoint\n    protocol: TCP\n    nodePort: 30202\n    port: 7052\n    targetPort: 7052\n  - name: event-endpoint\n    protocol: TCP\n    nodePort: 30203\n    port: 7053\n    targetPort: 7053\n  selector:\n    app: peer0-myorg\n```\n\nYou'd send grpc to port 30201 for peer0 of myorg. This one (obviously) is for 1.1/1.2 - later versions remove the event stuff.","username":"aatkddny","ts":"2019-03-04T18:23:43.085Z"}
{"msg":"Has joined the channel.","username":"braduf","ts":"2019-03-05T00:05:52.504Z","type":"uj"}
{"msg":"Anyone manage to get 1.4.0 with gossip working?\nNo matter what I try I'm getting:\n\n`2019-03-05 15:51:05.059 UTC [gossip.discovery] func1 -> WARN 035 Could not connect to Endpoint: peer1-myorg:30061, InternalEndpoint: peer0-myorg:30061, PKI-ID: <nil>, Metadata:  : context deadline exceeded`\n\nSo I have two peers for myorg and a pair of services that puts peer0-myorg at 30051 and peer1-myorg at 30061.\n\nThe setup is mirrored with stuff pulled from the 1.4.0 docker fabric-sample first-network setup, so for peer0 it looks like this:\n```\n        - name: CORE_PEER_GOSSIP_EXTERNALENDPOINT\n          value: peer0-mediaocean:30051\n        - name: CORE_PEER_GOSSIP_ORGLEADER\n          value: \"false\"\n        - name: CORE_PEER_GOSSIP_BOOTSTRAP\n #         value: peer1-myorg:30061\n          value: 0.0.0.0:30061\n        - name: CORE_PEER_GOSSIP_USELEADERELECTION\n          value: \"true\"\n``` \nThe setup for peer1 mirrors this with the `CORE_PEER_GOSSIP_BOOTSTRAP` property pointing to its counterpart at 30051.\nI've tried both service name and 0.0.0.0 and get the same error. \nWhat did I do wrong here?","username":"aatkddny","ts":"2019-03-05T16:33:16.262Z"}
{"msg":"Anyone manage to get 1.4.0 with gossip working?\nNo matter what I try I'm getting:\n\n`2019-03-05 15:51:05.059 UTC [gossip.discovery] func1 -> WARN 035 Could not connect to Endpoint: peer1-myorg:30061, InternalEndpoint: peer0-myorg:30061, PKI-ID: <nil>, Metadata:  : context deadline exceeded`\n\nSo I have two peers for myorg and a pair of services that puts peer0-myorg at 30051 and peer1-myorg at 30061.\n\nThe setup is mirrored with stuff pulled from the 1.4.0 docker fabric-sample first-network setup, so for peer0 it looks like this:\n```\n        - name: CORE_PEER_GOSSIP_EXTERNALENDPOINT\n          value: peer0-myorg:30051\n        - name: CORE_PEER_GOSSIP_ORGLEADER\n          value: \"false\"\n        - name: CORE_PEER_GOSSIP_BOOTSTRAP\n #         value: peer1-myorg:30061\n          value: 0.0.0.0:30061\n        - name: CORE_PEER_GOSSIP_USELEADERELECTION\n          value: \"true\"\n``` \nThe setup for peer1 mirrors this with the `CORE_PEER_GOSSIP_BOOTSTRAP` property pointing to its counterpart at 30051.\nI've tried both service name and 0.0.0.0 and get the same error. \nWhat did I do wrong here?","username":"aatkddny","ts":"2019-03-05T16:33:16.262Z"}
{"msg":"Anyone manage to get 1.4.0 with gossip working?\nNo matter what I try I'm getting:\n\n`2019-03-05 15:51:05.059 UTC [gossip.discovery] func1 -> WARN 035 Could not connect to Endpoint: peer1-myorg:30061, InternalEndpoint: peer0-myorg:30051, PKI-ID: <nil>, Metadata:  : context deadline exceeded`\n\nSo I have two peers for myorg and a pair of services that puts peer0-myorg at 30051 and peer1-myorg at 30061.\n\nThe setup is mirrored with stuff pulled from the 1.4.0 docker fabric-sample first-network setup, so for peer0 it looks like this:\n```\n        - name: CORE_PEER_GOSSIP_EXTERNALENDPOINT\n          value: peer0-myorg:30051\n        - name: CORE_PEER_GOSSIP_ORGLEADER\n          value: \"false\"\n        - name: CORE_PEER_GOSSIP_BOOTSTRAP\n #         value: peer1-myorg:30061\n          value: 0.0.0.0:30061\n        - name: CORE_PEER_GOSSIP_USELEADERELECTION\n          value: \"true\"\n``` \nThe setup for peer1 mirrors this with the `CORE_PEER_GOSSIP_BOOTSTRAP` property pointing to its counterpart at 30051.\nI've tried both service name and 0.0.0.0 and get the same error. \nWhat did I do wrong here?","username":"aatkddny","ts":"2019-03-05T16:33:16.262Z"}
{"msg":"@aatkddny try to set the gRPC logger maybe you have a TLS problem","username":"yacovm","ts":"2019-03-05T18:03:47.463Z"}
{"msg":"`FABRIC_LOGGING_SPEC=grpc=debug`","username":"yacovm","ts":"2019-03-05T18:05:22.635Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/release-1.4/logging-control.html","username":"yacovm","ts":"2019-03-05T18:05:37.598Z"}
{"msg":"@yacovm - TLS isn't on. I can connect to the peer from outside my cluster - this is inside our DC so I haven't bothered with an ingress - it's all NodePorts. ","username":"aatkddny","ts":"2019-03-05T18:18:07.313Z"}
{"msg":"@yacovm - TLS isn't on. I can connect to the peer from outside my cluster - this is inside our DC so I haven't bothered with an ingress or any TLS - it's all NodePorts. ","username":"aatkddny","ts":"2019-03-05T18:18:07.313Z"}
{"msg":"@yacovm - TLS isn't on. I can connect to the peer from outside my cluster - this is inside our DC so I haven't bothered with an ingress or any TLS - it's all NodePorts and gRPC. ","username":"aatkddny","ts":"2019-03-05T18:18:07.313Z"}
{"msg":"I hope you activate TLS regardless where this runs ","username":"yacovm","ts":"2019-03-05T18:18:42.369Z"}
{"msg":"is the entire blockchain running in your DC?","username":"yacovm","ts":"2019-03-05T18:19:00.747Z"}
{"msg":"Yes.","username":"aatkddny","ts":"2019-03-05T18:19:04.650Z"}
{"msg":"It's all running in the same cluster.","username":"aatkddny","ts":"2019-03-05T18:19:12.697Z"}
{"msg":"This is a test setup.","username":"aatkddny","ts":"2019-03-05T18:19:17.111Z"}
{"msg":"then why do you need a blockchain? use a distributed database","username":"yacovm","ts":"2019-03-05T18:19:22.248Z"}
{"msg":"ah, test setup... ok","username":"yacovm","ts":"2019-03-05T18:19:25.873Z"}
{"msg":"ok try to do a tcpdump recording and open with wireshark","username":"yacovm","ts":"2019-03-05T18:20:04.024Z"}
{"msg":"and see what is going on - i.e, is it a name resolution problem perhaps","username":"yacovm","ts":"2019-03-05T18:20:17.692Z"}
{"msg":"or is there no connectivity","username":"yacovm","ts":"2019-03-05T18:20:22.949Z"}
{"msg":"do you receive an RST from the remote host","username":"yacovm","ts":"2019-03-05T18:20:30.734Z"}
{"msg":"or nothing","username":"yacovm","ts":"2019-03-05T18:20:32.735Z"}
{"msg":"etc. etc.","username":"yacovm","ts":"2019-03-05T18:20:34.037Z"}
{"msg":"Ugh - I was hoping it was an obvious misconfiguration. Off to debug hell I go...","username":"aatkddny","ts":"2019-03-05T18:21:33.526Z"}
{"msg":"why debug hell?","username":"yacovm","ts":"2019-03-05T18:21:52.937Z"}
{"msg":"debug paradise ","username":"yacovm","ts":"2019-03-05T18:21:55.295Z"}
{"msg":"Because now I have to take time out from what I wanted to do to figure out what's going wrong. I have my own stuff that needs debugging too. :D","username":"aatkddny","ts":"2019-03-05T18:23:42.015Z"}
{"msg":"What does `network ID` have to do with this?","username":"aatkddny","ts":"2019-03-05T19:37:38.918Z"}
{"msg":"OK to close this off. It doesn't find peer1-myorg:30061 despite the NodePort service being extant. \nIt does work with peer1-myorg:7051 though, so I'll just leave it there and pretend this never happened...","username":"aatkddny","ts":"2019-03-05T19:45:08.049Z"}
{"msg":"Has joined the channel.","username":"mauricio","ts":"2019-03-06T21:42:11.662Z","type":"uj"}
{"msg":"Has joined the channel.","username":"raylau12","ts":"2019-03-07T01:53:07.911Z","type":"uj"}
{"msg":"hi, I am facing a problem that I would like to startup the openshift console after the installation, an \"The connection to the server [host] was refused - did you specify the right host or port?\" error occurred in my master VM","username":"raylau12","ts":"2019-03-07T02:10:44.013Z"}
{"msg":"does anyone can help?","username":"raylau12","ts":"2019-03-07T02:10:50.560Z"}
{"msg":"Hey, Is there anyone who have done IBM Blockchain platform on IBM cloud private?\n\n","username":"mamtabhardwaj12","ts":"2019-03-08T10:12:36.956Z"}
{"msg":"i have deploy a new on gcp ","username":"AndresMartinezMelgar.itcl","ts":"2019-03-08T16:46:11.367Z"}
{"msg":"Has joined the channel.","username":"JorgeNavarro","ts":"2019-03-11T12:06:15.407Z","type":"uj"}
{"msg":"Has joined the channel.","username":"KyunghoKim","ts":"2019-03-12T03:09:23.801Z","type":"uj"}
{"msg":"Need some quick info.....\nwhat is the diff between \"configMap\" and \"configMapRef\" tags in K8s","username":"raj_shekhar","ts":"2019-03-12T06:55:29.336Z"}
{"msg":"Has joined the channel.","username":"iamdm","ts":"2019-03-13T09:54:12.736Z","type":"uj"}
{"msg":"Hi folks! Could anyone give own thoughts or provide link: what are the advantages of deploying Fabric with kubernetes? I see so many problems people face, but I don't understand why they are choosing kubernetes. Thanks for any help!","username":"krabradosty","ts":"2019-03-13T21:50:21.412Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=RELnXsizbbvqQqvqe) @krabradosty I am also exploring this particularly, the main benefit I think is the better container/resource management and release management ,,,, ","username":"raj_shekhar","ts":"2019-03-14T11:02:54.053Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=RELnXsizbbvqQqvqe","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=RELnXsizbbvqQqvqe","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Let me know what issues others are facing in it... ","username":"raj_shekhar","ts":"2019-03-14T11:03:20.561Z"}
{"msg":"@raj_shekhar Mainly these issues are caused by a bad understanding of kubernetes. It is not a problem of Fabric. ","username":"krabradosty","ts":"2019-03-14T11:13:46.054Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Fp9fmt74BAkKciq4q) @krabradosty right ","username":"raj_shekhar","ts":"2019-03-14T11:20:43.453Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Fp9fmt74BAkKciq4q","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Fp9fmt74BAkKciq4q","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@krabradosty deploying a production system based on containers means that orchestration is a required line item for any non-trivial system.  While the learning curve for Kubernetes is steep given the number of containers required for even a single Org fabric system there really isn't a better solution out thereespecially if you are going into a public cloud.  Our company has a fabric 1.4 deployment with several organizations spread across GKE and AWS (soon to include Azure).  At this scale there really isn't any other way.  Unfortunately in 1.4 the Fabric chaincode scheduling is not sufficient for our needs which required us to implement Kubernetes native scheduling of pods instead of using the docker.sock approach.  It appears that Fabric 2.0 has a major goal of streamlining this area (https://jira.hyperledger.org/browse/FAB-13582).","username":"iramiller","ts":"2019-03-14T14:31:59.773Z"}
{"msg":"The impression [assumption] I have of your familiarity with Kubernetes and container orchestration for production systems based on this question leads me to believe I should warn you that acquiring proficiency in kubernetes is an extremely non-trivial undertaking which will require a great deal of time to achieve.  Further there are many places where getting it wrong (ingress, volumes, security) could result in grave risks to your deployments. That said it is a very worthwhile skill to acquire for any systems deployment in the cloud.","username":"iramiller","ts":"2019-03-14T14:38:07.643Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=77ENDFkJ4DamqWeJN) @iramiller Could you please provide some real use-cases of orchestration you mentioned here? I understand the advantages of using kubernetes with stateless applications. But Fabric nodes are stateful. Moreover, to run for example a new peer,  some prerequisites have to be done (registering a peer identity in CA, ...). So as I see it, Fabric will not work with kubernetes out of the box. And my point is maybe it would be easier to implement own orchestration tool for Fabric network (based on ansible for example) rather than trying to \"integrate\" stateful and complex Fabric with k8s?\n\nAlso, I'm curious, do you deploy your databases, message brokers, etc on k8s cluster? I googled this question a lot, but can't find a strict answer with pros and cons. Only answers like \"you can if you want\".\nAnd thanks for the warning :grinning:","username":"krabradosty","ts":"2019-03-14T15:12:18.680Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=77ENDFkJ4DamqWeJN","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=77ENDFkJ4DamqWeJN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@krabradosty well... 'out of the box' is a somewhat vague concept here given the extensive set of tools available and the variety of use cases.  I would consider our environment to be very close to the Fabric software as released.  We added about 100-120 lines of Golang to our fork for kubernetes integration in the peer process itself but everything else is based on released binaries.  We do have extensive systems tooling in TerraForm, Ansible, and good old bash scripts to make our environment manageable.\n\nOrchestration uses that are most valuable to us are the ability to define the resource requirements of the various components of our system and rely on Kubernetes to correctly schedule these components across the available nodes.  All of our peer deployments run as StatefulSets which Kubernetes handles in a more appropriate way for scheduling.  For databases we prefer to use solutions like Google's Cloud SQL outside of Kubernetes although for certain situations we do run small databases (postgres, Redis, etc) as containers within Kubernetes.\n\nIn a public cloud the machines these systems are deployed on WILL be restarted/fail/migrate with downtime.  A solution that pretends the machine will be up consistently is going to have a bad time.  As a concrete example there was a recent CVE issued which required all of our nodes to be rebooted for patching.  This was handled without impact to our production workflows (other than some additional retries occurring for some transactions).  We also run a very large Kafka cluster within Kubernetes with good results.  The Kafka/messaging architecture has been crucial to our success as a Request/Reply architecture is not very compatible with a distributed system.\n\nIt is better to jump in from the start believing that pieces can and will fail unexpectedly.  For reference our scale is around a dozen fabric orgs each with multiple peers and an ICA.  We have instances in every AWS availability zone across North America and many GKE zones as well.","username":"iramiller","ts":"2019-03-14T15:37:17.147Z"}
{"msg":"One more important point... Our scale and environment is driven by business requirements related to our 'distributed trust problem' which the blockchain approach solves and not be technical requirements for this size environment.  We absolutely do not need all of this hardware for throughput nor would we scale in this way strictly for availability.","username":"iramiller","ts":"2019-03-14T15:57:16.919Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Tkity2ZXND64KBuj6) @iramiller You mean that with Kubernetes we can achieve required availability without high redundancy of hardware?","username":"krabradosty","ts":"2019-03-14T16:14:14.177Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Tkity2ZXND64KBuj6","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=Tkity2ZXND64KBuj6","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@krabradosty that really isn't the take away I was going for here.  My point was that I wouldn't choose to have 30-50 machines in this environment spread across the continent solely for the sake of availability or capacity.  Kubernetes scheduling does let us minimize the size of hardware we use, supports the use of preemptive nodes on GKE which are much cheaper, and scale out more hardware seamlessly as load dictates.","username":"iramiller","ts":"2019-03-14T16:22:47.002Z"}
{"msg":"Many thanks for your detailed response","username":"krabradosty","ts":"2019-03-14T16:42:13.542Z"}
{"msg":"@iramiller great information ,,, Thanks a lot","username":"raj_shekhar","ts":"2019-03-14T16:47:14.368Z"}
{"msg":"@iramiller do you run kafka in a single organization or in several ? ","username":"yacovm","ts":"2019-03-14T16:48:31.156Z"}
{"msg":"or - do you run it in diff. avail. zones?","username":"yacovm","ts":"2019-03-14T16:48:47.940Z"}
{"msg":"Our consensus Org is as single dedicated centralized 5 node Kafka/ZK cluster ... we have a separate cluster for our application layer ... and member orgs of course can do their own thing as well.","username":"iramiller","ts":"2019-03-14T16:49:46.237Z"}
{"msg":"i see. so the consensus is still centralized","username":"yacovm","ts":"2019-03-14T16:50:05.448Z"}
{"msg":"@yacovm we are looking forward to Raft...","username":"iramiller","ts":"2019-03-14T16:50:14.513Z"}
{"msg":"it's almost out the door... in its final testing stages ","username":"yacovm","ts":"2019-03-14T16:50:28.260Z"}
{"msg":"Additionally we believe internally that we may need to migration our system to a service mesh (think Istio, similar) to streamline various aspects.  Currently we use a Wireguard and dedicated namespace architecture I designed which allows all of the distributed clusters to appear to be a single uber cluster.","username":"iramiller","ts":"2019-03-14T16:51:54.554Z"}
{"msg":"you can take a sneak peak at a high level administration document [here](https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/1445/html/raft_configuration.html)","username":"yacovm","ts":"2019-03-14T16:52:00.970Z"}
{"msg":"if you migrate to a service mesh... beware that Raft OSNs use mutual TLS for authentication ","username":"yacovm","ts":"2019-03-14T16:52:20.067Z"}
{"msg":"The service mesh migration is further influenced by the proposed 2.0 changes to the chaincode/peer relationship proposed in HLF 2.0","username":"iramiller","ts":"2019-03-14T16:52:57.464Z"}
{"msg":"and TLS pinning","username":"yacovm","ts":"2019-03-14T16:53:00.543Z"}
{"msg":"We use mutual TLS everywhere today.","username":"iramiller","ts":"2019-03-14T16:53:20.314Z"}
{"msg":">  The service mesh migration is further influenced by the proposed 2.0 changes to the chaincode/peer relationship proposed in HLF 2.0 \nthat's a very polite way of saying that the current peer<---> docker is not cloud friendly ","username":"yacovm","ts":"2019-03-14T16:53:36.951Z"}
{"msg":"you might use mutual TLS but you should beware of TLS terminating proxies","username":"yacovm","ts":"2019-03-14T16:53:50.006Z"}
{"msg":"you're going to need TLS passthrough proxies ","username":"yacovm","ts":"2019-03-14T16:54:04.029Z"}
{"msg":"because when node A contacts node B, node B infers its ID from the TLS client certificate of node A","username":"yacovm","ts":"2019-03-14T16:54:25.559Z"}
{"msg":"just a heads up, of course","username":"yacovm","ts":"2019-03-14T16:54:39.399Z"}
{"msg":"@yacovm we rewrote the peer code to use a kubernetescontroller injected to replace the docker controller which makes our deployments cloud friendly","username":"iramiller","ts":"2019-03-14T16:54:47.179Z"}
{"msg":"I see. well, if you'll need some customization for Raft feel free to ping me and I'll either try to add it to the official Raft code or can help you fork it ","username":"yacovm","ts":"2019-03-14T16:55:46.633Z"}
{"msg":"I see. well, if you'll need some customization for Raft feel free to ping me and I'll either try to add it to the official Raft (if it makes sense) code or can help you fork it ","username":"yacovm","ts":"2019-03-14T16:55:46.633Z"}
{"msg":"further in our environment any member node can access services in by dns name of `peer-0.membername.svc.cluster.local` ... which is on the TLS certificate (or the simplified `peer-0.membername`)","username":"iramiller","ts":"2019-03-14T16:56:23.224Z"}
{"msg":"We were just discussing this morning that we should internally gather a 'wishlist' of sorts to discuss further with the HLF team as a way which we might be able to better engage with the community and potentially make contributions.","username":"iramiller","ts":"2019-03-14T16:57:25.878Z"}
{"msg":"yes we welcome external contributions","username":"yacovm","ts":"2019-03-14T16:57:57.986Z"}
{"msg":"sadly most of them are typo fixes","username":"yacovm","ts":"2019-03-14T16:58:03.675Z"}
{"msg":"Contributing back to the community is a stated high level goal fo the company ... the details for engagement and release of information ... well that is more complicated and outside of my lane unfortunately","username":"iramiller","ts":"2019-03-14T16:58:09.940Z"}
{"msg":"Contributing back to the community is a stated high level goal of the company ... the details for engagement and release of information ... well that is more complicated and outside of my lane unfortunately","username":"iramiller","ts":"2019-03-14T16:58:09.940Z"}
{"msg":"Internally for reference the release of our kubernetescontroller was hung up due to other priorities of which as a startup are many and all high ... from engineerings perspective their is concern that as our solution does not fully integrate or seamless pass these tests it would not be a useful contribution.","username":"iramiller","ts":"2019-03-14T16:59:49.525Z"}
{"msg":"Internally for reference the release of our kubernetescontroller was hung up due to other priorities of which as a startup are many and all high ... from engineerings perspective their concern is that as our solution does not fully integrate or seamless pass these tests it would not be a useful contribution.","username":"iramiller","ts":"2019-03-14T16:59:49.525Z"}
{"msg":"```\nAll TLS certificates have an expiration date that is determined by the issuer. These expiration dates can range from 10 years from the date of issuance to as little as a few months, so check with your issuer. Before the expiration date, you will need to rotate these certificates on the node itself and every channel the node is joined to, including the system channel.```\nThe TLS management and rotation are one of the major potential benefits we expect to see when migrating to a service mesh.  Our infosec group would like to see the rotation time driven down significantly to ensure the process runs smooth and is well managed.  Given the operational complexity of running a hyper ledger fabric production environment will increase with Raft and the future Peer/Chaincode refactor it would seem that adopting a recommended deployment pattern that is tested and supported maybe in the best interest of the project.  My personal preference is obviously for a kubernetes driven solution such as Istio however I also am acutely aware that such a solution is incredibly daunting for a small team without resources that are familiar with all of these external components.","username":"iramiller","ts":"2019-03-14T17:10:07.477Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9LrxWNDXptGaBFQa4) To clarify on the peer scheduling requiring registration with the channels, CA, etc.  We do not scale the number of peers up/down in kubernetes.  We schedule the peers on nodes relying on the resource scheduling capabilities of Kubernetes.  To support management of secrets and configuration we store all of the config and certificates in configmaps and secrets within kubernetes.  We do use a PVC for the chain data.  Further we use multiple containers within the same pod, one for the peer and the second for couchdb which means that the couch connection is always localhost to the peer for performance.  These are some of the useful aspects of Kubernetes orchestration even for stateful workloads like a peer process.  Additionally we schedule our chaincode as one off pods managed by the peer itself via Kubernetes API calls and rely on NetworkPolicy configuration to ensure the scheduled peer chaincode containers can only talk to their owning peer container.","username":"iramiller","ts":"2019-03-14T17:49:43.323Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9LrxWNDXptGaBFQa4","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=9LrxWNDXptGaBFQa4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@iramiller why do you need a service mesh for fabric? I don't understand... can you enlighten me please?","username":"yacovm","ts":"2019-03-14T17:55:48.872Z"}
{"msg":"Fabric manages security and load balancing and failover on its own","username":"yacovm","ts":"2019-03-14T17:56:07.403Z"}
{"msg":"@yacovm the areas we are exploring a service mesh for to solve are 1. -- TLS management (a quick scan shows nearly 600 instances of pem files for MSPs, TLS, mutual TLS identities in our environment). 2. -- Secure cross cluster connections, we may be able to integrate our Wireguard VPN system into a service mesh for more automated rollout and administration. 3. -- Service routing solution for the updated chaincode/peer architecture proposed for HLF 2.0.  We require control of the versions of chaincode used within our consortium and we must have multiple versions deployable and a single version instantiated across the entire network.  Using a service mesh we can handle routing between these version.  Additionally we use a custom end-to-end encryption system that encrypts the entire contents of every transaction.  This approach uses customer managed keys so the platform itself does not have access to the data.  As part of this approach the client that submits a transaction determines which of the many peers available it wants to use and includes an ephemeral public key from the chaincode instance allowed to process the transaction.  I am simplifying this a little bit but the short of all of that is that we have our own service and instance discover system with key management and we believe that a service mesh could potentially be used to streamline this process further. ","username":"iramiller","ts":"2019-03-14T19:41:56.770Z"}
{"msg":"Additionally I would like to point out that the adoption and potential migration to a service mesh is in the research, scoping, and prototyping phase.  We have not committed to this direction although there are a few initial promising aspects associated with it.","username":"iramiller","ts":"2019-03-14T19:43:32.707Z"}
{"msg":"i don't see how application level encrypted is remotely related to service mesh","username":"yacovm","ts":"2019-03-14T19:44:24.231Z"}
{"msg":"as for VPN - I understand why someone would want to use a VPN","username":"yacovm","ts":"2019-03-14T19:45:25.906Z"}
{"msg":"service discovery and registration/rotation of the ephemeral public key for the chaincode endpoint is the overlap we have annotated","username":"iramiller","ts":"2019-03-14T19:45:27.767Z"}
{"msg":"I listed it last as it is the least of the priorities","username":"iramiller","ts":"2019-03-14T19:45:48.472Z"}
{"msg":"are the peers also running behind istio?","username":"yacovm","ts":"2019-03-14T19:45:48.745Z"}
{"msg":"because it might interfere with fabric's native service discovery ","username":"yacovm","ts":"2019-03-14T19:46:02.186Z"}
{"msg":"unless you don't use it ","username":"yacovm","ts":"2019-03-14T19:46:07.640Z"}
{"msg":"we would potentially run upto 100% of the inter container connectivity through Istio ... and no ... we are not currently using the service discovery offering in Fabric","username":"iramiller","ts":"2019-03-14T19:46:36.602Z"}
{"msg":"why not?","username":"yacovm","ts":"2019-03-14T19:46:49.008Z"}
{"msg":"We already needed to have a system that captures a generated public key from the chaincode container instance within a member.  By design this key is maintained in memory and rotated frequently as it is associated with transaction processing and is the single point within our environment when a customers transaction is decrypted.  We have integrity monitoring controls wrapping all of these instances to further protect this environment with a forward looking design intended to work with a TEE when that matures.  As part of all of this our centralized key management server maintains a definitive list of authorized chaincode containers within the environment (subject to revocation based on security controls and policy).  No transactions can be submitted to our network and processed by chaincode without contacting this kms.  As such we did not see any benefit in adopting the discovery service (at this time).","username":"iramiller","ts":"2019-03-14T19:50:29.600Z"}
{"msg":"what fabric's service discovery is, is a service that the client (SDK) asks it \"which peers should I ask endorsement from for chaincode *foo*?\" and it returns an answer based on the endorsement policy","username":"yacovm","ts":"2019-03-14T19:53:52.335Z"}
{"msg":"I don't really understand how your TEE and encryption use case is making it useless","username":"yacovm","ts":"2019-03-14T19:54:30.307Z"}
{"msg":"that is consistent with our understanding of it as well...","username":"iramiller","ts":"2019-03-14T19:54:49.170Z"}
{"msg":"it is not useless... only largely redundant in our environment ... ","username":"iramiller","ts":"2019-03-14T19:55:06.187Z"}
{"msg":"ok so when you change the endorsement policy do you rewrite the application?","username":"yacovm","ts":"2019-03-14T19:55:26.222Z"}
{"msg":"and when you add new peers do you have the application query k8s or something?","username":"yacovm","ts":"2019-03-14T19:55:39.832Z"}
{"msg":"why would we do that?","username":"iramiller","ts":"2019-03-14T19:55:40.136Z"}
{"msg":"Our KMS maintains information on every active peer and chaincode instance across the consortium","username":"iramiller","ts":"2019-03-14T19:56:01.863Z"}
{"msg":"further is is aware of the current status of security policy with regards to which instances are authorized","username":"iramiller","ts":"2019-03-14T19:56:26.045Z"}
{"msg":"let's say you have chaincode *foo* and it has endorsement policy *org1* and *org2*  and now you add a new org to the channel - *org3*.\nand you upgrade the chaincode and change the endorsement policy to be *org1* and *org2* and *org3*","username":"yacovm","ts":"2019-03-14T19:56:28.791Z"}
{"msg":"how does you application adapt ?","username":"yacovm","ts":"2019-03-14T19:56:34.263Z"}
{"msg":"Our KMS is aware of the endorsement policy ... it is queried for a set of potential peer/chaincode instances for the associated operation ... the results of this query include the public keys for those chaincode instances... the client can make its own determination of which of the members to use or not use based on their own internal policies for which orgs they wish to have potential exposure to their information (however brief).  The client the encrypts the transaction and includes a collection of keys encrypted with the public keys of audience members allowed to decrypt the payload (which includes peers, other identities, etc)","username":"iramiller","ts":"2019-03-14T19:59:32.556Z"}
{"msg":"ok i see","username":"yacovm","ts":"2019-03-14T20:00:15.202Z"}
{"msg":"our KMS concept was in place before we migrated from 1.1 ... ","username":"iramiller","ts":"2019-03-14T20:00:20.385Z"}
{"msg":"your company is light years ahead than 99% of fabric deployments I would presume","username":"yacovm","ts":"2019-03-14T20:00:31.092Z"}
{"msg":"We do have a large investment in blockchain and a vested interest in ensuring the continued success of HLF","username":"iramiller","ts":"2019-03-14T20:01:15.211Z"}
{"msg":"@yacovm \n```\nAs we noted in the conceptual documentation, leader elections in Raft are triggered when follower nodes do not receive either a heartbeat messages or an append message that carries data from the leader for a certain amount of time. ```\n ^^^  monitoring network performance with Istio would be pretty useful for this reason -- https://github.com/GoogleCloudPlatform/istio-samples/tree/master/istio-stackdriver\n","username":"iramiller","ts":"2019-03-14T21:00:21.473Z"}
{"msg":"how can you do that @iramiller ?","username":"yacovm","ts":"2019-03-14T21:28:44.306Z"}
{"msg":"Raft uses TLS ","username":"yacovm","ts":"2019-03-14T21:29:05.521Z"}
{"msg":"and fabric uses ephemeral diffie helman key exchange ","username":"yacovm","ts":"2019-03-14T21:29:18.575Z"}
{"msg":"so you are not supposed to be able to see what is going on in the connection","username":"yacovm","ts":"2019-03-14T21:29:32.664Z"}
{"msg":"well... the TLS is managed by an Istio sidecar container... Istio understands all of the routes in the network and captures metrics and instrumentation on them.","username":"iramiller","ts":"2019-03-14T21:50:02.947Z"}
{"msg":"essentially if migrating to a service mesh the ideal situation is a separation of concerns between the network and transport related aspects of a program and its endpoints/internal logic","username":"iramiller","ts":"2019-03-14T21:50:46.708Z"}
{"msg":"As one can quickly imagine migrating to such a setup is non-trivial and potentially an invasive change to the software architecture.","username":"iramiller","ts":"2019-03-14T21:52:01.217Z"}
{"msg":"And yet if this is done all of the TLS related concerns fall away as they are abstracted out (minus some sort of bridge which would be required to memorialize the official current configuration in the blockchain that reflects the known identities.","username":"iramiller","ts":"2019-03-14T21:53:10.731Z"}
{"msg":"For those following along it maybe helpful to read the overview of Istio security: https://istio.io/docs/concepts/security/ [covers mutual tls, etc] and further contemplate the benefits of separating the traffic management concerns out of fabric by reviewing  https://istio.io/docs/concepts/traffic-management/","username":"iramiller","ts":"2019-03-14T22:00:55.978Z"}
{"msg":"These capabilities are the true power of a cloud orchestration platform and are really a next level solution.  This is likely more that almost all users of HLF are looking for... but if you have a production system in the cloud of any significant size then it is absolutely where you want to be","username":"iramiller","ts":"2019-03-14T22:02:13.018Z"}
{"msg":"> well... the TLS is managed by an Istio sidecar container... \nbut you can't run Raft orderers without TLS. It is just impossible code wise ","username":"yacovm","ts":"2019-03-15T00:11:16.473Z"}
{"msg":"@yacovm the TLS certificates are generated and managed by Istio and saved as secrets in Kubernetes which are then mounted into the container... the HLF processes will not see any difference from any other pem file when loading their secret.","username":"iramiller","ts":"2019-03-15T15:34:14.461Z"}
{"msg":"Cross post from the #fabric-sdk-java channel. I'm trying to switch from NodePort to Ingress on my test setup. \nThe first one I tried was the CA - so I mapped localhost/ca to the correct service, added a little rewrite code and it works fine. \nUntil I try to do it from the sdk - which requires urls of the format host:port. \nKubernetes isn't my strongest subject, so I'm wondering if there's a workaround here that'll let me get to these - and the peers and orderers - without the port count restrictions of the NodePort, and with the handy SSL/GRPCS features I can get from the Ingress. ","username":"aatkddny","ts":"2019-03-17T22:47:03.756Z"}
{"msg":"Cross post from the #fabric-sdk-java channel. I'm trying to switch from NodePort to Ingress on my test setup. \nThe first one I tried was the CA - so I mapped localhost/ca to the correct service, added a little rewrite code and it works fine in Postman. \nSadly it's less wonderful when I try to do it from the sdk - which requires urls of the format host:port. \nKubernetes isn't my strongest subject, so I'm wondering if there's a workaround here that'll let me get to these - and the peers and orderers - without the port count restrictions of the NodePort, and with the handy SSL/GRPCS features I can get from the Ingress. ","username":"aatkddny","ts":"2019-03-17T22:47:03.756Z"}
{"msg":"Has joined the channel.","username":"LeeJCherry","ts":"2019-03-18T21:48:36.202Z","type":"uj"}
{"msg":"Any K8s on AWS guides out there? New to k8s and HLF. Making for an interesting few days! ","username":"LeeJCherry","ts":"2019-03-18T21:49:29.760Z"}
{"msg":"In my experience AKS is not quite as nice as GKE ... but the deployments are quite similar if you are using nodeports for your services.","username":"iramiller","ts":"2019-03-18T23:36:16.507Z"}
{"msg":"@LeeJCherry if you find a guide for kubernetes installs of fabric on any platform it will probably be worth a look even if they are not targeting AWS/AKS specifically","username":"iramiller","ts":"2019-03-18T23:37:51.626Z"}
{"msg":"@LeeJCherry, you can also try https://github.com/hyperledger-labs/nephos","username":"alexvicegrab","ts":"2019-03-19T00:34:45.597Z"}
{"msg":"@LeeJCherry, you can also try https://github.com/hyperledger-labs/nephos\nIt should work fine for deploying Fabric on AWS & GCP (tested on Azure and Minikube)","username":"alexvicegrab","ts":"2019-03-19T00:34:45.597Z"}
{"msg":"One of the (many) good points of Kubernetes is to make deployments cloud-agnostic","username":"alexvicegrab","ts":"2019-03-19T00:36:23.714Z"}
{"msg":"Hi, someone receive this error in k8 ? Error: could not assemble transaction, err proposal response was not successful, error code 500, msg cannot get package for chaincode(cc:1.0)","username":"AndresMartinezMelgar.itcl","ts":"2019-03-19T09:03:23.092Z"}
{"msg":"Thanks @iramiller.","username":"LeeJCherry","ts":"2019-03-19T17:40:46.580Z"}
{"msg":"@alexvicegrab I've been following one of the other aid tech Github repos readme and a you tube video they have. Getting all sorts of errors which I think is due to the guide being a little out of date. There is mention of the Nephos repo as well. What's the difference? I'm not using EKS, I'm going for k8s purely for the cloud agnostic benefit ","username":"LeeJCherry","ts":"2019-03-19T17:42:51.913Z"}
{"msg":"@alexvicegrab actually just noticed! It's your video I have been watching!! ","username":"LeeJCherry","ts":"2019-03-19T17:43:39.402Z"}
{"msg":"@LeeJCherry, the GitHub webinar and workshop are a bit older, but should work. Yes, they are my videos. Nephos basically automates the tests. We have unit tests, integration tests, documentation, code coverage and code quality monitoring with SonarQube and security auditing with Snyk. It *should* work, even though it's a late alpha or early beta","username":"alexvicegrab","ts":"2019-03-19T17:58:57.685Z"}
{"msg":"Thanks @alexvicegrab I'll give it a spin!","username":"LeeJCherry","ts":"2019-03-19T18:28:58.941Z"}
{"msg":"Has joined the channel.","username":"diegoaosuna","ts":"2019-03-19T19:26:18.234Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sunlidong","ts":"2019-03-20T10:12:49.979Z","type":"uj"}
{"msg":"Hi everyone. I am deploying HL fabric network on kubernetes & facing the error below on joining peers with the channel.\nFor org1peer0 and org2peer0, joining is successful. But for org1peer1 and org2peer1 joining gives the error below.\n  \tError: error getting endorser client for channel: endorser client failed to connect to blockchain-org1peer1:30112: failed to create new connection: context deadline exceeded\n\n\nAny suggestions or fixes about the issue above?","username":"yousaf","ts":"2019-03-22T10:10:11.988Z"}
{"msg":"Has joined the channel.","username":"AbhijeetRastogi","ts":"2019-03-22T18:20:01.512Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yanli133","ts":"2019-03-25T06:54:48.475Z","type":"uj"}
{"msg":"anyone get docker in docker running without it being in a sidecar container? meaning as a single standalone but still able to be called by the peers? i've wasted most of a day trying to get this to work and not got as close as i'd like to have. ","username":"aatkddny","ts":"2019-03-26T23:40:53.418Z"}
{"msg":"anyone get docker in docker running without it being in a sidecar container? meaning as a single standalone but still able to be called by the peers? i've wasted most of a day trying to get this to work and not got as close as i'd like to have.","username":"aatkddny","ts":"2019-03-26T23:40:53.418Z"}
{"msg":"Hi all! I have HLF running on Kubernetes  and got a problem during nodejs chaincode instantiation:\nfabric-ccenv container hangs with \"npm sill install loadAllDepsIntoIdealTree\" message.\n\nOn the host \"npm install\" for the same chaincode works good, but it hangs in container.\n\nCan anyone help? ","username":"VictorStroganov","ts":"2019-03-27T09:02:46.379Z"}
{"msg":"Has left the channel.","username":"Kyroy","ts":"2019-03-28T13:40:42.672Z","type":"ul"}
{"msg":"Hi,\nI am getting below error while installing chaincode from the peer.\nCommand - kubectl exec $PEER_POD -n peers -- bash -c 'peer chaincode install -n mycc -v 1.0 -p /var/chaincode/'\n\nError - error getting chaincode code mycc: command : failed with error: \"exec: \"go\": executable file not found in $PATH\"\nNOTE - I have placed the chaincode in the docker file system\nDo I need to install GO in the peer container or machine, please suggest.\nfollowed @nicolapaoli  and @alexvicegrab 's session .","username":"raj_shekhar","ts":"2019-03-29T04:40:00.139Z"}
{"msg":"Hi,\nI am getting below error while installing chaincode from the peer.\nCommand - kubectl exec $PEER_POD -n peers -- bash -c 'peer chaincode install -n mycc -v 1.0 -p /var/chaincode/'\n\nError - error getting chaincode code mycc: command : failed with error: \"exec: \"go\": executable file not found in $PATH\"\nNOTE - I have placed the chaincode in the docker file system\nDo I need to install GO in the peer container or machine, please suggest.\nThanks,","username":"raj_shekhar","ts":"2019-03-29T04:40:00.139Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=NfPPxQDZWW3zE2tXs","username":"yacovm","ts":"2019-03-31T19:18:02.557Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=NfPPxQDZWW3zE2tXs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=NfPPxQDZWW3zE2tXs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@iramiller it's here! (it is in v1.4.1 release candidate 1) you can check it out ","username":"yacovm","ts":"2019-03-31T19:18:28.575Z"}
{"msg":"Has joined the channel.","username":"klkumar369","ts":"2019-04-02T18:40:36.001Z","type":"uj"}
{"msg":"@yacovm :thumbsup: ","username":"iramiller","ts":"2019-04-02T21:15:31.225Z"}
{"msg":"Hi\nI have deployed the fabric-cli in K8s and able to install the go chaincode on peer.\nBut while instantiating the chaincode I am getting below error-\n\nError: could not assemble transaction, err proposal response was not successful, error code 500,\nmsg error starting container: error starting container: Failed to generate platform-specific docker build:\nError returned from build: 1 \"can't load package: package ./github.com/chaincode: cannot find package \"./github.com/chaincode\" in:\n/github.com/chaincode","username":"raj_shekhar","ts":"2019-04-03T08:43:02.824Z"}
{"msg":"Hi @Privet-mir,\nI have deployed the fabric-cli in K8s and able to install the go chaincode on peer.\nBut while instantiating the chaincode I am getting below error-\n\nError: could not assemble transaction, err proposal response was not successful, error code 500,\nmsg error starting container: error starting container: Failed to generate platform-specific docker build:\nError returned from build: 1 \"can't load package: package ./github.com/chaincode: cannot find package \"./github.com/chaincode\" in:\n/github.com/chaincode","username":"raj_shekhar","ts":"2019-04-03T08:43:02.824Z"}
{"msg":"@iramiller ","username":"raj_shekhar","ts":"2019-04-03T10:53:19.575Z"}
{"msg":"Has joined the channel.","username":"sahilgoel","ts":"2019-04-03T10:58:55.936Z","type":"uj"}
{"msg":"it is resolved , issue was related to relative paths ","username":"raj_shekhar","ts":"2019-04-03T11:10:32.898Z"}
{"msg":"Hello everyone! I am trying to set up a multiple orderer with raft consensus with kubernetes. I have managed to bootstrap them and it seems that the first chain `testchainid` seems to connect with each orderer node but after somewhile it says that its no longer a TLS handshake happening. Some logs here when starting the orderer nodes:\n```\n2019-04-05 13:59:02.200 UTC [orderer.consensus.etcdraft] Start -> INFO 32d Starting Raft node channel=testchainid node=1\n2019-04-05 13:59:02.200 UTC [orderer.common.cluster] Configure -> INFO 32e Entering, channel: testchainid, nodes: [ID: 2,\nEndpoint: orderer1-allianz-technology-com:7050,\nServerTLSCert:-----BEGIN CERTIFICATE-----\nMIICiTCCAjCgAwIBAgIRAL0S5....\n ID: 3,\nEndpoint: orderer2-allianz-technology-com:7050,\nServerTLSCert:-----BEGIN CERTIFICATE-----\n...\n2019-04-05 13:59:02.200 UTC [orderer.common.cluster] updateStubInMapping -> INFO 32f Allocating a new stub for node 2 with endpoint of orderer1-allianz-technology-com:7050 for channel testchainid\n2019-04-05 13:59:02.200 UTC [orderer.common.cluster] updateStubInMapping -> INFO 330 Deactivating node 2 in channel testchainid with endpoint of orderer1-allianz-technology-com:7050 due to TLS certificate change\n...\n2019-04-05 13:59:02.200 UTC [orderer.common.cluster] func1 -> DEBU 331 Connecting to ID: 2,\nEndpoint: orderer1-allianz-technology-com:7050,\n...\n for channel testchainid\n2019-04-05 13:59:02.201 UTC [grpc] DialContext -> DEBU 332 parsed scheme: \"\"\n2019-04-05 13:59:02.201 UTC [grpc] DialContext -> DEBU 333 scheme \"\" not registered, fallback to default scheme\n2019-04-05 13:59:02.201 UTC [orderer.common.cluster] updateStubInMapping -> INFO 334 Allocating a new stub for node 3 with endpoint of orderer2-allianz-technology-com:7050 for channel testchainid\n2019-04-05 13:59:02.201 UTC [orderer.common.cluster] updateStubInMapping -> INFO 335 Deactivating node 3 in channel testchainid with endpoint of orderer2-allianz-technology-com:7050 due to TLS certificate change\n2019-04-05 13:59:02.201 UTC [orderer.common.cluster] func1 -> DEBU 336 Connecting to ID: 3,\nEndpoint: orderer2-allianz-technology-com:7050,\n...\n for channel testchainid\n2019-04-05 13:59:02.201 UTC [grpc] DialContext -> DEBU 337 parsed scheme: \"\"\n2019-04-05 13:59:02.201 UTC [grpc] DialContext -> DEBU 338 scheme \"\" not registered, fallback to default scheme\n2019-04-05 13:59:02.201 UTC [orderer.common.cluster] applyMembershipConfig -> INFO 339 2 exists in both old and new membership for channel testchainid , skipping its deactivation\n2019-04-05 13:59:02.201 UTC [orderer.common.cluster] applyMembershipConfig -> INFO 33a 3 exists in both old and new membership for channel testchainid , skipping its deactivation\n2019-04-05 13:59:02.201 UTC [orderer.common.cluster] Configure -> INFO 33b Exiting\n2019-04-05 13:59:02.201 UTC [orderer.consensus.etcdraft] start -> DEBU 33c Starting raft node: #peers: 3 channel=testchainid node=1\n2019-04-05 13:59:02.201 UTC [orderer.consensus.etcdraft] start -> INFO 33d Restarting raft node channel=testchainid node=1\n2019-04-05 13:59:02.201 UTC [orderer.consensus.etcdraft] becomeFollower -> INFO 33e 1 became follower at term 1 channel=testchainid node=1\n2019-04-05 13:59:02.201 UTC [orderer.consensus.etcdraft] newRaft -> INFO 33f newRaft 1 [peers: [], term: 1, commit: 3, applied: 0, lastindex: 3, lastterm: 1] channel=testchainid node=1\n2019-04-05 13:59:02.201 UTC [orderer.common.server] Start -> INFO 340 Starting orderer:\n Version: 1.4.1-rc1\n Commit SHA: 29433f0\n Go version: go1.11.5\n OS/Arch: linux/amd64\n2019-04-05 13:59:02.201 UTC [orderer.common.server] Start -> INFO 341 Beginning to serve requests\n```\n","username":"vanitas92","ts":"2019-04-05T14:19:39.702Z"}
{"msg":"Until here it seems fine, after that, this happens:\n```\n2019-04-05 13:59:02.202 UTC [grpc] watcher -> DEBU 342 ccResolverWrapper: sending new addresses to cc: [{orderer1-allianz-technology-com:7050 0  <nil>}]\n2019-04-05 13:59:02.202 UTC [grpc] HandleSubConnStateChange -> DEBU 344 pickfirstBalancer: HandleSubConnStateChange: 0xc00058c1e0, CONNECTING\n2019-04-05 13:59:02.205 UTC [grpc] watcher -> DEBU 345 ccResolverWrapper: sending new addresses to cc: [{orderer2-allianz-technology-com:7050 0  <nil>}]\n2019-04-05 13:59:02.215 UTC [orderer.consensus.etcdraft] apply -> INFO 348 Applied config change to add node 1, current nodes in channel: [1] channel=testchainid node=1\n2019-04-05 13:59:02.220 UTC [orderer.consensus.etcdraft] apply -> INFO 349 Applied config change to add node 2, current nodes in channel: [1 2] channel=testchainid node=1\n2019-04-05 13:59:02.220 UTC [orderer.consensus.etcdraft] apply -> INFO 34a Applied config change to add node 3, current nodes in channel: [1 2 3] channel=testchainid node=1\n2019-04-05 13:59:09.705 UTC [orderer.consensus.etcdraft] Step -> INFO 34b 1 is starting a new election at term 1 channel=testchainid node=1\n2019-04-05 13:59:09.705 UTC [orderer.consensus.etcdraft] becomePreCandidate -> INFO 34c 1 became pre-candidate at term 1 channel=testchainid node=1\n2019-04-05 13:59:09.705 UTC [orderer.consensus.etcdraft] poll -> INFO 34d 1 received MsgPreVoteResp from 1 at term 1 channel=testchainid node=1\n2019-04-05 13:59:09.705 UTC [orderer.consensus.etcdraft] campaign -> INFO 34e 1 [logterm: 1, index: 3] sent MsgPreVote request to 2 at term 1 channel=testchainid node=1\n2019-04-05 13:59:09.705 UTC [orderer.consensus.etcdraft] campaign -> INFO 34f 1 [logterm: 1, index: 3] sent MsgPreVote request to 3 at term 1 channel=testchainid node=1\n2019-04-05 13:59:09.708 UTC [orderer.consensus.etcdraft] consensusSent -> DEBU 350 Sending msg of 28 bytes to 2 on channel testchainid took 2.729273ms\n2019-04-05 13:59:09.708 UTC [orderer.consensus.etcdraft] logSendFailure -> ERRO 351 Failed to send StepRequest to 2, because: connection to 2(orderer1-allianz-technology-com:7050) is in state CONNECTING channel=testchainid node=1\n2019-04-05 13:59:09.708 UTC [orderer.consensus.etcdraft] consensusSent -> DEBU 352 Sending msg of 28 bytes to 3 on channel testchainid took 6.578s\n2019-04-05 13:59:09.708 UTC [orderer.consensus.etcdraft] logSendFailure -> ERRO 353 Failed to send StepRequest to 3, because: connection to 3(orderer2-allianz-technology-com:7050) is in state CONNECTING channel=testchainid node=1\n2019-04-05 13:59:17.205 UTC [orderer.consensus.etcdraft] Step -> INFO 355 1 is starting a new election at term 1 channel=testchainid node=1\n2019-04-05 13:59:21.897 UTC [core.comm] ServerHandshake -> ERRO 35e TLS handshake failed with error tls: first record does not look like a TLS handshake server=Orderer remoteaddress=192.168.235.232:60930\n2019-04-05 13:59:21.897 UTC [grpc] handleRawConn -> DEBU 35f grpc: Server.Serve failed to complete security handshake from \"192.168.235.232:60930\": tls: first record does not look like a TLS handshake\n2019-04-05 13:59:22.203 UTC [grpc] createTransport -> DEBU 360 grpc: addrConn.createTransport failed to connect to {orderer1-allianz-technology-com:7050 0  <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 10.111.31.178:7050: i/o timeout\". Reconnecting...\n2019-04-05 13:59:22.204 UTC [grpc] HandleSubConnStateChange -> DEBU 361 pickfirstBalancer: HandleSubConnStateChange: 0xc00058c1e0, TRANSIENT_FAILURE\n2019-04-05 13:59:22.204 UTC [grpc] HandleSubConnStateChange -> DEBU 362 pickfirstBalancer: HandleSubConnStateChange: 0xc00058c1e0, CONNECTING\n2019-04-05 13:59:22.207 UTC [grpc] HandleSubConnStateChange -> DEBU 363 pickfirstBalancer: HandleSubConnStateChange: 0xc00058c1e0, READY\n2019-04-05 13:59:22.209 UTC [grpc] infof -> DEBU 364 transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n2019-04-05 13:59:22.209 UTC [grpc] HandleSubConnStateChange -> DEBU 365 pickfirstBalancer: HandleSubConnStateChange: 0xc00058c1e0, TRANSIENT_FAILURE\n2019-04-05 13:59:22.210 UTC [grpc] HandleSubConnStateChange -> DEBU 366 pickfirstBalancer: HandleSubConnStateChange: 0xc00058c1e0, CONNECTING\n2019-04-05 13:59:22.210 UTC [grpc] HandleSubConnStateChange -> DEBU 367 pickfirstBalancer: HandleSubConnStateChange: 0xc00058c1e0, TRANSIENT_FAILURE\n2019-04-05 13:59:22.211 UTC [grpc] createTransport -> DEBU 368 grpc: addrConn.createTransport failed to connect to {orderer2-allianz-technology-com:7050 0  <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 10.102.240.130:7050: i/o timeout\". Reconnecting...\n```\nAnd its goes forever on. Someone had experience with that problem??","username":"vanitas92","ts":"2019-04-05T14:21:53.271Z"}
{"msg":"Hi Fabric & k8s experts\n\nI have a connection profile\n`grpc://<ip-address>:<port>` works successfully\nbut `grpc://<k8s-service-name>:<port>` does not work\nbut I am able to ping and telnet `<k8s-service-name>:<port>`\nin k8s, the ip address pods keep changing\nthats why I am using service name\nis there any work around or any solution to that?","username":"akshay.sood","ts":"2019-04-06T06:56:41.999Z"}
{"msg":"Ok guys fixed it was a typo in my docker environment variables thx","username":"vanitas92","ts":"2019-04-08T10:17:38.849Z"}
{"msg":"@akshay.sood do you have the service name in your TLS certificates?  We are using Kubernetes services for all of our endpoints ","username":"iramiller","ts":"2019-04-08T21:06:01.899Z"}
{"msg":"@iramiller tls is disabled","username":"akshay.sood","ts":"2019-04-09T02:17:42.495Z"}
{"msg":"Has joined the channel.","username":"deelthor","ts":"2019-04-09T12:06:34.944Z","type":"uj"}
{"msg":"Hey guys! We are running Hyperledger Composer and Hyperledger Fabric on Kubernetes. When Upgrading the Chaincode we suddenly get the error: ` Upgrading business network definition. This may take a minute...\nError: Error trying to upgrade business network. Error: No valid responses from any peers.\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint` . Any suggestions are very welcome. ","username":"deelthor","ts":"2019-04-09T12:15:33.830Z"}
{"msg":"Hey guys! We are running Hyperledger Composer and Hyperledger Fabric on Kubernetes. When Upgrading the Chaincode we suddenly get the error: ` Upgrading business network definition. This may take a minute...\nError: Error trying to upgrade business network. Error: No valid responses from any peers.\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint` . Any suggestions are very welcome. ","username":"deelthor","ts":"2019-04-09T12:15:33.830Z"}
{"msg":"Hey guys! We are running Hyperledger Composer and Hyperledger Fabric on Kubernetes. When Upgrading the Chaincode we suddenly get the error: `Upgrading business network definition. This may take a minute...\nError: Error trying to upgrade business network. Error: No valid responses from any peers.\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint` . Any suggestions are very welcome. ","username":"deelthor","ts":"2019-04-09T12:15:33.830Z"}
{"msg":"Hey guys! We are running Hyperledger Composer and Hyperledger Fabric on Kubernetes. When Upgrading the Chaincode we suddenly get the error: ```Upgrading business network definition. This may take a minute...\nError: Error trying to upgrade business network. Error: No valid responses from any peers.\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint\nResponse from attempted peer comms was an error: Error: failed to execute transaction bb7a720bccc7b646c4fa57774d0f72ae9e52898f364321b78a87c811ae4ffe30: error starting container: error starting container: cannot connect to Docker endpoint``` . Any suggestions are very welcome. ","username":"deelthor","ts":"2019-04-09T12:15:33.830Z"}
{"msg":"Has joined the channel.","username":"LeeCherry","ts":"2019-04-09T22:05:09.855Z","type":"uj"}
{"msg":"@akshay.sood what type of service are you using?  Does your kubernetes service definition include a load balancer?  The following is from a working service in my environment\n```\napiVersion: v1\nkind: Service\nmetadata:\n  creationTimestamp: \"2018-07-26T00:10:59Z\"\n  labels:\n    service: peer-COMPANYNAME\n  name: peer-0\n  namespace: COMPANYNAME\n  resourceVersion: \"00000000\"\n  selfLink: /api/v1/namespaces/COMPANY/services/peer-0\n  uid: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nspec:\n  clusterIP: x.x.x.x\n  externalTrafficPolicy: Cluster\n  ports:\n  - name: api\n    nodePort: 32051\n    port: 7051\n    protocol: TCP\n    targetPort: 7051\n```","username":"iramiller","ts":"2019-04-09T22:42:56.730Z"}
{"msg":"@iramiller I tried with `clusterIP`","username":"akshay.sood","ts":"2019-04-10T08:40:36.182Z"}
{"msg":"but it didnt worked","username":"akshay.sood","ts":"2019-04-10T08:40:40.301Z"}
{"msg":"can you send me your connection.js ?","username":"akshay.sood","ts":"2019-04-10T08:40:50.813Z"}
{"msg":"@akshay.sood  what do you pretend? I am using ClusterIp, when pods only comuncated inside cluster, and load balancer when they comunicated outside","username":"AndresMartinezMelgar.itcl","ts":"2019-04-10T09:26:43.374Z"}
{"msg":"@akshay.sood  what do you want to do? I am using ClusterIp, when pods only comuncated inside cluster, and load balancer when they comunicated outside","username":"AndresMartinezMelgar.itcl","ts":"2019-04-10T09:26:43.374Z"}
{"msg":"@akshay.sood  what do you want to do? I am using ClusterIp, when pods only comuncated inside cluster, and load balancer when they comunicate  outside","username":"AndresMartinezMelgar.itcl","ts":"2019-04-10T09:26:43.374Z"}
{"msg":"@akshay.sood I recommend starting with a \"cli\" pod in kubernetes and using the `peer` and `discover` command line programs to test out your network before troubleshooting further.  We use a pod with various configuration and certificates/msps stored in a PVC for management tasks (such as joining new members, upgrading/installing chaincode.  This setup has provide very helpful for a divide and conquer approach to troubleshooting internal vs external connectivity issues.  We use slightly customized version of  hyperledger-fabric-tools:amd64-1.4.0 for this purpose.","username":"iramiller","ts":"2019-04-10T14:49:36.829Z"}
{"msg":"Hi @iramiller  how work that \"peer discover\"","username":"AndresMartinezMelgar.itcl","ts":"2019-04-10T16:03:49.014Z"}
{"msg":"`discover --configFile /tmp/savedconfig.yaml config --channel CHANNELNAME --server peer-0.NAMESPACE_NAME:7051`","username":"iramiller","ts":"2019-04-10T16:05:02.075Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/master/discovery-cli.html","username":"iramiller","ts":"2019-04-10T16:05:44.634Z"}
{"msg":"From a \"cli\" pod using `kubectl exec -it cli-pod-name-here -- bash` you can run the above command (subject to your config, etc -- if you need help with that I recommend reading the docs above)","username":"iramiller","ts":"2019-04-10T16:06:59.830Z"}
{"msg":"`discover --configFile /tmp/savedconfig.yaml  --peerTLSCA msp/tlscacerts/ca.pem --userKey msp/keystore/admin\\@ORGNAME-key.pem  --userCert msp/admincerts/admin\\@ORGNAME-cert.pem  --MSP root.ORGNAME saveConfig` will create the saved config if you have the right certs/setup ... look for the details in that docs page ...","username":"iramiller","ts":"2019-04-10T16:10:56.450Z"}
{"msg":"ohh, thx tomorrow i'll prove it","username":"AndresMartinezMelgar.itcl","ts":"2019-04-10T16:26:36.052Z"}
{"msg":"Does the Fabric 2.0 Alpha include support fr k8s or is it stil the same bringup ?","username":"mwagner","ts":"2019-04-10T17:59:15.969Z"}
{"msg":"@mwagner Fabric is designed to run on any environment so I don't think the community is specially targeting Kubernetes. Nevertheless, the proposal for deploying chaincodes in  cloud native environment is a step in the right direction to streamline chaincodes deployment and should bring scalability and performance as well. Please read the document for more info : https://docs.google.com/document/d/14l-0jjxw0SLrkpgEuXr0ZxAn0BtTJAQTupXvVkeIL2s/edit","username":"NicolasHuray","ts":"2019-04-10T19:47:05.377Z"}
{"msg":"Has joined the channel.","username":"mondraymond","ts":"2019-04-10T20:39:16.292Z","type":"uj"}
{"msg":"Hi @akshay.sood \nI am also trying to connect to the fabric on Kubernetes cluster from Fabric-SDK, I am done with registering with CA and now I am trying to query the already installed sample chaincode but there I am getting rerror -- \"error: [Remote.js]: Error: Failed to connect before the deadline URL:grpc://IP:7051\nError: Failed to connect before the deadline URL:grpc://IP:7051\"\nI am xposing my peer as a service in K8s can u plz suggest how to send grpc calls to peer in K8s??","username":"raj_shekhar","ts":"2019-04-11T08:58:47.220Z"}
{"msg":"feel free to chime in if anybody has gone through same ,, ","username":"raj_shekhar","ts":"2019-04-11T09:00:48.202Z"}
{"msg":"resolved it,,,, firewall rules were not getting reflected ","username":"raj_shekhar","ts":"2019-04-11T12:00:41.396Z"}
{"msg":"following Production set up as shown on this : https://github.com/aidtechnology/hgf-k8s-workshop\n\nPod won't start after installing the hlf-ca chart - anyone had this problem?  Error is \n\nWarning  FailedScheduling   11m (x4 over 12m)      default-scheduler   pod has unbound immediate PersistentVolumeClaims (repeated 3 times)","username":"LeeCherry","ts":"2019-04-11T13:03:59.206Z"}
{"msg":"@LeeCherry you need to look at your list of PVCs in your cluster... you have something wrong with your storage provider/capacity which is causing a PVC to not bind to a PV.","username":"iramiller","ts":"2019-04-11T14:36:06.434Z"}
{"msg":"Well, i'm new to k8s, but looking at the dashboard, it all looks ok, 1gib in size as the chart provisioned and a big green tick :-)","username":"LeeCherry","ts":"2019-04-11T14:53:03.633Z"}
{"msg":"The PVC issue has gone away after deleting the helm chart, the other issue is that the dependant postgres db wants 256 memory and my memory limit \"kubectl describe limitrange memory-limit-range\" is 128.  Does postgres really need 256?","username":"LeeCherry","ts":"2019-04-11T15:18:22.501Z"}
{"msg":"For anyone else with this issue, I fixed it with https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/memory-default-namespace/","username":"LeeCherry","ts":"2019-04-11T15:29:49.755Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=crJDh57LATvdThB63) @raj_shekhar same here @raj_shekhar. Fabric-ca works fine because it is using http protocol. but peers, orderers are using grpc. I am having same issue but could not resolve or research further because of time limitation. If anyone know the solution please let us know","username":"akshay.sood","ts":"2019-04-15T04:20:42.974Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=crJDh57LATvdThB63","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=crJDh57LATvdThB63","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@akshay.sood  the grpc calls to query and instantiate the chaincode are working fine with HTTP protocol (for now I have used load balancer to expose it). ..","username":"raj_shekhar","ts":"2019-04-15T06:03:42.973Z"}
{"msg":"but now I am getting the Prinicipal deserializtion failure..... ","username":"raj_shekhar","ts":"2019-04-15T06:10:07.606Z"}
{"msg":"but now I am getting the Prinicipal deserializtion failure..... some cert issue,,,,","username":"raj_shekhar","ts":"2019-04-15T06:10:07.606Z"}
{"msg":"can you share your connection profile?","username":"akshay.sood","ts":"2019-04-15T06:21:30.842Z"}
{"msg":"\nHello, I am trying to create a network in kubernetes with kafka and 2 nodes to order.\nWhen I try to create a channel it gives me this error: Error: got unexpected status: BAD_REQUEST - error authorizing update: error validating DeltaSet: policy for [Group] / Channel / Application not satisfied: Failed to reach implicit threshold of 1 sub-policies, required 1 remainin.\nDoes anyone know the reason for this error?\nPS: restarting the network does not work, I've already tried it. The channel does not exist, I'm starting the network from 0","username":"AndresMartinezMelgar.itcl","ts":"2019-04-15T07:16:02.429Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u9hHknt9hkWpmX9mD) @AndresMartinezMelgar.itcl set the peer admin identity and then try creating the channel","username":"raj_shekhar","ts":"2019-04-15T08:46:42.044Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u9hHknt9hkWpmX9mD","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u9hHknt9hkWpmX9mD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thanks!","username":"AndresMartinezMelgar.itcl","ts":"2019-04-15T09:06:01.475Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mjQdWPQZgwjf5QJyf) @akshay.sood ok... will share ","username":"raj_shekhar","ts":"2019-04-15T09:08:41.995Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mjQdWPQZgwjf5QJyf","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mjQdWPQZgwjf5QJyf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"","username":"duwenhui","ts":"2019-04-16T04:00:52.317Z","attachments":[{"type":"file","title":"QQ20190416115926.png","title_link":"/file-upload/zxd9KCM7X9ZvHHdEE/QQ%E5%9B%BE%E7%89%8720190416115926.png","image_url":"/file-upload/zxd9KCM7X9ZvHHdEE/QQ%E5%9B%BE%E7%89%8720190416115926.png","image_type":"image/png","image_size":91846,"url":"/file-upload/zxd9KCM7X9ZvHHdEE/QQ%E5%9B%BE%E7%89%8720190416115926.png","remote":false,"fileId":"zxd9KCM7X9ZvHHdEE","fileName":"QQ20190416115926.png"}]}
{"msg":"Anyone who can help me solove this issue?  How to expose those ports out of the Cluster?","username":"duwenhui","ts":"2019-04-16T04:02:04.954Z"}
{"msg":"","username":"AndresMartinezMelgar.itcl","ts":"2019-04-16T06:05:28.434Z","attachments":[{"type":"file","title":"Clipboard - April 16, 2019 8:05 AM","title_link":"/file-upload/aNMQKd6tyPFiK6Zaj/Clipboard%20-%20April%2016,%202019%208:05%20AM","image_url":"/file-upload/aNMQKd6tyPFiK6Zaj/Clipboard%20-%20April%2016,%202019%208:05%20AM","image_type":"image/png","image_size":32665,"url":"/file-upload/aNMQKd6tyPFiK6Zaj/Clipboard%20-%20April%2016,%202019%208:05%20AM","remote":false,"fileId":"aNMQKd6tyPFiK6Zaj","fileName":"Clipboard - April 16, 2019 8:05 AM"}]}
{"msg":"","username":"AndresMartinezMelgar.itcl","ts":"2019-04-16T06:05:28.434Z","attachments":[{"type":"file","title":"Clipboard - April 16, 2019 8:05 AM","title_link":"/file-upload/aNMQKd6tyPFiK6Zaj/Clipboard%20-%20April%2016,%202019%208:05%20AM","image_url":"/file-upload/aNMQKd6tyPFiK6Zaj/Clipboard%20-%20April%2016,%202019%208:05%20AM","image_type":"image/png","image_size":32665,"url":"/file-upload/aNMQKd6tyPFiK6Zaj/Clipboard%20-%20April%2016,%202019%208:05%20AM","remote":false,"fileId":"aNMQKd6tyPFiK6Zaj","fileName":"Clipboard - April 16, 2019 8:05 AM"}]}
{"msg":"","username":"AndresMartinezMelgar.itcl","ts":"2019-04-16T06:10:47.721Z","attachments":[{"type":"file","title":"Clipboard - April 16, 2019 8:10 AM","title_link":"/file-upload/ERc3izbhse9cNZGKw/Clipboard%20-%20April%2016,%202019%208:10%20AM","image_url":"/file-upload/ERc3izbhse9cNZGKw/Clipboard%20-%20April%2016,%202019%208:10%20AM","image_type":"image/png","image_size":8589,"url":"/file-upload/ERc3izbhse9cNZGKw/Clipboard%20-%20April%2016,%202019%208:10%20AM","remote":false,"fileId":"ERc3izbhse9cNZGKw","fileName":"Clipboard - April 16, 2019 8:10 AM"}]}
{"msg":"@duwenhui check that examples","username":"AndresMartinezMelgar.itcl","ts":"2019-04-16T06:10:59.090Z"}
{"msg":"How do I set ClusterIP? @AndresMartinezMelgar.itcl ","username":"duwenhui","ts":"2019-04-16T06:14:30.982Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EKLvuuY7Qdr63RcqL) look this","username":"AndresMartinezMelgar.itcl","ts":"2019-04-16T06:18:55.896Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EKLvuuY7Qdr63RcqL","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=EKLvuuY7Qdr63RcqL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I means expose pots outside cluster.  How to set  spec.clusterIP 10.11.242.213?  What IP  can I  set?","username":"duwenhui","ts":"2019-04-16T06:23:58.876Z"}
{"msg":"@duwenhui \nthen look at the 2nd photo. There is a value called clusterip, which refers to the ip inside the cluster. It also lets you point to a specific port.\nWhen you put loadBalancer and execute the service it returns a public IP from which you can access from outside the cluster","username":"AndresMartinezMelgar.itcl","ts":"2019-04-16T06:28:38.417Z"}
{"msg":"Has joined the channel.","username":"esaygi","ts":"2019-04-16T09:15:08.563Z","type":"uj"}
{"msg":"If you *just* want a nodeport, something simple like this will work\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: peer0-myorg\nspec:\n  type: NodePort\n  ports:\n  - name: listen-endpoint\n    protocol: TCP\n    nodePort: 30011\n    port: 7051\n    targetPort: 7051\n  - name: profile-endpoint\n    protocol: TCP\n    nodePort: 30012\n    port: 9443\n    targetPort: 9443\n  selector:\n    app: peer0-myorg\n```\n\nExposes 7051 on 30011 and the metrics endpoint on 9443 on 30012. You can hit any of the ip addresses of the nodes in your cluster and it should just work.","username":"aatkddny","ts":"2019-04-16T12:17:39.468Z"}
{"msg":"If you *just* want a nodeport, something simple like this will work\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: peer0-myorg\nspec:\n  type: NodePort\n  ports:\n  - name: listen-endpoint\n    protocol: TCP\n    nodePort: 30011\n    port: 7051\n    targetPort: 7051\n  - name: profile-endpoint\n    protocol: TCP\n    nodePort: 30012\n    port: 9443\n    targetPort: 9443\n  selector:\n    app: peer0-myorg\n```\n\nExposes 7051 on 30011 and the metrics endpoint on 9443 on 30012. You can hit any of the ip addresses of the nodes in your cluster and it should just work.\nAssumes your selector on the peer is `app: peer0-myorg` obviously. Change as required","username":"aatkddny","ts":"2019-04-16T12:17:39.468Z"}
{"msg":"@duwenhui for external traffic routing you need to be looking at a loadbalancer and not nodeport... technically a load balancer will likely use node ports and iptables underneath and you are certainly welcome to implement your own load balancer from scratch but I suspect this is not what you are looking for.  Additionally I would not recommend exposing that operations endpoint (9443) to the public internet.  If you are just attempting to connect to this peer for development purposes from outside of your cluster have a look at the `kubefwd` project.","username":"iramiller","ts":"2019-04-16T15:22:41.000Z"}
{"msg":"@iramiller  @aatkddny     @AndresMartinezMelgar.itcl   Thanks for Responding to my question.  I hava solved this problem . In fact,  the problem I met is about deployment. If you  set  spec.ClusterIP: None at the start with helm, Whaterver you modify the config online, k8s don't allow this.   So  I delete service, delete spec.ClusterIP,  set type: NodePort and It  works fine.","username":"duwenhui","ts":"2019-04-17T07:10:31.086Z"}
{"msg":"I will try to use kubefwd.","username":"duwenhui","ts":"2019-04-17T07:13:32.692Z"}
{"msg":"How much memory is each peer consuming for you guys on Kubernetes?","username":"ygnr","ts":"2019-04-17T23:38:39.156Z"}
{"msg":"Hi,\nanybody got this error while invoking chaincode from sdk --\npeer logs - \"Principal deserialization failure (the supplied identity is not valid: x509: certificate signed by unknown authority) for identity 0\"","username":"raj_shekhar","ts":"2019-04-19T07:18:00.486Z"}
{"msg":"Hi,\nanybody got this error while invoking chaincode from sdk ??--\npeer logs - \"Principal deserialization failure (the supplied identity is not valid: x509: certificate signed by unknown authority) for identity 0\"","username":"raj_shekhar","ts":"2019-04-19T07:18:00.486Z"}
{"msg":"I am using fabric-ca to generate all the identities","username":"raj_shekhar","ts":"2019-04-19T09:19:26.815Z"}
{"msg":"@ygnr peer memory usage depends heavily on the client API connecting to it and that programs use of connections (the Java SDK has caused us some challenges at times).  Additionally the usage patterns matter quite a bit ... adding new peer with a 100k blocks will be a much different load than 100s or 1000s of blocks.","username":"iramiller","ts":"2019-04-22T18:38:35.431Z"}
{"msg":"That said we have been able to function very well with a range of memory utilization between 2-4GB (includes couch container which is in the same pod as our peer container)... during intensive activities our memory usage will trend as high as 10-20GB.","username":"iramiller","ts":"2019-04-22T18:39:41.001Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs) @iramiller can u suggest something on this?","username":"raj_shekhar","ts":"2019-04-23T10:13:09.474Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"ShwetaTripathi","ts":"2019-04-24T05:22:52.210Z","type":"uj"}
{"msg":"Hi, Can someone help me with the procedure to deploy Hyperledger Fabric network on Kubernetes cluster?","username":"ShwetaTripathi","ts":"2019-04-24T05:31:51.705Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs) @dave.enyeart  can u please suggest on this ","username":"raj_shekhar","ts":"2019-04-24T05:45:28.684Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs) can u please suggest on this ","username":"raj_shekhar","ts":"2019-04-24T05:45:28.684Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=uP4rzofx6SEQmDabs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=a8rGGM79vshsZMedg) Resolved it,,,,,,, It was a issue of default policies and capabilities","username":"raj_shekhar","ts":"2019-04-24T10:38:24.810Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=a8rGGM79vshsZMedg","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=a8rGGM79vshsZMedg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"what is the different between HFClient and FabricClient classes?","username":"AndresMartinezMelgar.itcl","ts":"2019-04-25T07:30:19.512Z"}
{"msg":"Has joined the channel.","username":"Dhiraj1990","ts":"2019-04-26T04:08:21.817Z","type":"uj"}
{"msg":"Hello all,\nI have created orderer and cli pods. When i go to cli shell and create channel then it is not able to connect with ordrer.\nError: failed to create deliver client: orderer client failed to connect to orderer:7050: failed to create new connection: context deadline exceeded\nThe port for order is open and when i go to orderer shell and do telnet localhost 7050 it is connected but when specify the ip for pod then it does not work","username":"Dhiraj1990","ts":"2019-04-26T04:11:51.563Z"}
{"msg":"Hello all,\nI have created orderer and cli pods. When i go to cli shell and create channel then it is not able to connect with ordrer.\n*Error: failed to create deliver client: orderer client failed to connect to orderer:7050: failed to create new connection: context deadline exceeded*\nThe port for order is open and when i go to orderer shell and do `telnet localhost 7050` it is connected but when specify the ip for pod then it does not work","username":"Dhiraj1990","ts":"2019-04-26T04:11:51.563Z"}
{"msg":"Hello all,\nI have created orderer and cli pods. When i go to cli shell and create channel then it is not able to connect with ordrer.\n*Error: failed to create deliver client: orderer client failed to connect to orderer:7050: failed to create new connection: context deadline exceeded*\nThe port for order is open and when i go to orderer shell and do `telnet localhost 7050` it is connected but when specify the ip for pod then it does not work.\nI am using Google Cloud for deloyment ","username":"Dhiraj1990","ts":"2019-04-26T04:11:51.563Z"}
{"msg":"Hello all,\nI have created orderer and cli pods. When i go to cli shell and create channel then it is not able to connect with ordrer.\n*Error: failed to create deliver client: orderer client failed to connect to orderer:7050: failed to create new connection: context deadline exceeded*\nThe port for order is open and when i go to orderer shell and do `telnet localhost 7050` it is connected but when specify the ip for pod then it does not work.\nI am using Google Cloud for deloyment. I have also added firewall rules for ingress and egress for all IP and all Ports.","username":"Dhiraj1990","ts":"2019-04-26T04:11:51.563Z"}
{"msg":"Hello all,\nI have created orderer and cli pods. When i go to cli shell and create channel then it is not able to connect with ordrer.\n*Error: failed to create deliver client: orderer client failed to connect to orderer:7050: failed to create new connection: context deadline exceeded*\nThe port for order is open and when i go to orderer shell and do `telnet localhost 7050` it is connected but when specify the ip for pod then it does not work.\n*I am using Google Cloud for deloyment. I have also added firewall rules for ingress and egress for all IP and all Ports.*","username":"Dhiraj1990","ts":"2019-04-26T04:11:51.563Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=T6n47xB362MevC5iD) @Dhiraj1990 how you exposed ur orderer endpoints?","username":"raj_shekhar","ts":"2019-04-26T05:05:25.800Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=T6n47xB362MevC5iD","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=T6n47xB362MevC5iD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=T6n47xB362MevC5iD) @Dhiraj1990 how you exposed ur orderer endpoints in K8s?","username":"raj_shekhar","ts":"2019-04-26T05:05:25.800Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=T6n47xB362MevC5iD","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=T6n47xB362MevC5iD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8yiWinggmNmnjud2) @raj_shekhar I have exposed 7050 port as host port. Also through cli it is able to communicate because it does not show could not resolve host. ","username":"Dhiraj1990","ts":"2019-04-26T05:05:55.255Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8yiWinggmNmnjud2","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8yiWinggmNmnjud2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8yiWinggmNmnjud2) @raj_shekhar I have exposed 7050 port as host port","username":"Dhiraj1990","ts":"2019-04-26T05:05:55.255Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8yiWinggmNmnjud2","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=u8yiWinggmNmnjud2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"as this group is for fabric on kubernetes so I thought u r doing it on GKE","username":"raj_shekhar","ts":"2019-04-26T05:11:35.936Z"}
{"msg":"ping the command u r using to create channel ","username":"raj_shekhar","ts":"2019-04-26T05:12:36.810Z"}
{"msg":"@raj_shekhar ","username":"Dhiraj1990","ts":"2019-04-26T05:14:29.398Z"}
{"msg":"org1.example.com/peers/peer1.org1.example.com/tls","username":"Dhiraj1990","ts":"2019-04-26T05:14:30.437Z"}
{"msg":"peer channel create -o orderer:7050 -c $CHANNEL_NAME -f ./crypto-config/channel-artifacts/channel.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem \n","username":"Dhiraj1990","ts":"2019-04-26T05:14:39.280Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=MrajmzzjSdDSa4E5i) @Dhiraj1990 as per our discussion , it looks rancher service issue , the endpoints are not exposed properly,,,,\nAnybody in group having rancher hands on feel free to chip in .... ","username":"raj_shekhar","ts":"2019-04-26T05:36:02.428Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=MrajmzzjSdDSa4E5i","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=MrajmzzjSdDSa4E5i","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Fias","ts":"2019-04-26T06:54:46.060Z","type":"uj"}
{"msg":"Hello all ,\nOn cli when i run \n`peer channel list`\ni get below error \n`Error: Failed sending proposal, got rpc error: code = Unknown desc = access denied: channel [] creator org [Org1MSP]`\n\nAnd when i am checking logs for peer0 \n`MSP error: the supplied identity is not valid: x509: certificate signed by unknown authority`\n\nWhat is the issue here. seems like certificate is not valid but i have generated them as per docs. I have deployed network on kubernetes","username":"Dhiraj1990","ts":"2019-04-26T07:00:58.097Z"}
{"msg":"@Dhiraj1990 make sure you are passing the correct CA cert arg.","username":"iramiller","ts":"2019-04-26T22:31:26.932Z"}
{"msg":"```\nFlags:\n      --cafile string                       Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint\n```","username":"iramiller","ts":"2019-04-26T22:32:06.283Z"}
{"msg":"and that any client auth certificates you are using are signed by a CA known to the peer.","username":"iramiller","ts":"2019-04-26T22:33:06.294Z"}
{"msg":"And last ... you would have more luck with these types of questions that are not specific to the Kubernetes environment and the operation of Hyperledger Fabric in Kubernetes by posting them in a more appropriate channel.","username":"iramiller","ts":"2019-04-26T22:34:31.608Z"}
{"msg":"hello, in order to install and instantiate a java chaincode within the kubernetes cluster, do I need to have a \"fabric-javaenv\"?","username":"AndresMartinezMelgar.itcl","ts":"2019-04-27T19:09:34.873Z"}
{"msg":"Has joined the channel.","username":"awattez","ts":"2019-04-28T20:25:45.576Z","type":"uj"}
{"msg":"permission denied","username":"mwagner","ts":"2019-04-29T03:59:26.870Z"}
{"msg":"I'm following the AID:Tech Hyperledger on k8s but I can't get this command to work \n\nFABRIC_CA_CLIENT_HOME=./config fabric-ca-client enroll -u https://ord-admin:OrdAdm1nPW@$CA_INGRESS -M ./OrdererMSP - I get the error \"fabric-ca-client: command not found\".  Anyone able to point me in the right direction?  I'm new to this\n\n","username":"LeeCherry","ts":"2019-04-29T10:38:51.549Z"}
{"msg":"at 16.13 it looks so easy :-) https://www.youtube.com/watch?v=3tVk7yrGSSE","username":"LeeCherry","ts":"2019-04-29T10:40:17.815Z"}
{"msg":"at 16.13 it looks so easy :-) https://www.youtube.com/watch?v=3tVk7yrGSSE @alexvicegrab ","username":"LeeCherry","ts":"2019-04-29T10:40:17.815Z"}
{"msg":"leecherry","username":"LeeCherry","ts":"2019-04-29T10:41:15.290Z"}
{"msg":"@LeeCherry you need fabric-ca-client binary to enroll user","username":"MohammedR","ts":"2019-04-29T10:53:47.236Z"}
{"msg":"Thanks @MohammedR , where can I get that from?","username":"LeeCherry","ts":"2019-04-29T10:55:19.870Z"}
{"msg":"Refer this link to download binaries https://hyperledger-fabric.readthedocs.io/en/release-1.4/install.html","username":"MohammedR","ts":"2019-04-29T10:57:33.041Z"}
{"msg":"Great thanks, got the command working","username":"LeeCherry","ts":"2019-04-29T12:21:08.843Z"}
{"msg":"Great thanks @MohammedR , got the command working","username":"LeeCherry","ts":"2019-04-29T12:21:08.843Z"}
{"msg":"However, get this error, x509: certificate is valid for ingress.local, not ca.dev.blockchain.cherry.com\n\nMust have missed a step or something earlier","username":"LeeCherry","ts":"2019-04-29T12:21:46.339Z"}
{"msg":"Hi experts, I have setup a fabric cluster on kubernetes using helm charts. I could join the peers to a channel and install chaincode on it. However when I 'm instantiating the chaincode, I am not getting any error the chaincode container also starts successfully on the peer node but it's not registering himself with the peer container somehow. So when I do peer chaincode list --instantiated -C mychannel... I don't see anything. Am I missing some env here? ","username":"AshishMishra 1","ts":"2019-04-30T06:10:39.735Z"}
{"msg":"https://stackoverflow.com/questions/55949232/unable-to-communicate-with-orderer-from-peer-hyperledger-fabric","username":"pankajcheema","ts":"2019-05-02T09:27:39.513Z"}
{"msg":"Please have a look if anyone can suggest me on the same it would be a lot helpful for me .","username":"pankajcheema","ts":"2019-05-02T09:28:17.993Z"}
{"msg":"Hello, im trying to deploy the web ui dashboard but when i use the following command: \"kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/master/aio/deploy/recommended/kubernetes-dashboard.yaml\", it generates the following error: \"kubernetes-dashboard-minimal is forbidden: attemp to grant extra privileges\".\nAny suggestions?","username":"JorgeNavarro","ts":"2019-05-02T10:51:09.535Z"}
{"msg":"@JorgeNavarro you need to ensure that your current user that is applying that configuration has the appropriate RBAC roles granted. Your user must have all of the permissions listed that you are attempting to grant to that new service account.","username":"iramiller","ts":"2019-05-02T15:54:41.757Z"}
{"msg":"The easiest way to get all of those rights is to make sure your user has ClusterAdmin (or equivalent role depending on your Kubernetes install).  If you are not the owning system administrator (or group) then you are going to need to ask one of those members to create this for you.","username":"iramiller","ts":"2019-05-02T15:56:58.304Z"}
{"msg":"Has joined the channel.","username":"Henrycoffin","ts":"2019-05-03T07:18:23.398Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ramrockez143","ts":"2019-05-13T06:36:16.563Z","type":"uj"}
{"msg":"iam facing problem like below ","username":"Ramrockez143","ts":"2019-05-13T06:36:17.563Z"}
{"msg":"2019-05-13 06:18:13.513 UTC [grpc] HandleSubConnStateChange -> DEBU 04c pickfirstBalancer: HandleSubConnStateChange: 0xc000239b60, READY\nError: got unexpected status: SERVICE_UNAVAILABLE -- backing Kafka cluster has not completed booting; try again later\nroot@cli-798764bc8b-bs7s7:/opt/gopath/src/github.com/hyperledger/fabric/peer# exit\n","username":"Ramrockez143","ts":"2019-05-13T06:36:33.828Z"}
{"msg":"while creating channel","username":"Ramrockez143","ts":"2019-05-13T06:36:44.134Z"}
{"msg":"here thing is that kafka is in different  eks cluster and orderer in different k8s cluster","username":"Ramrockez143","ts":"2019-05-13T06:37:33.947Z"}
{"msg":"2019-05-12 19:14:30.328 UTC [orderer.consensus.kafka] setupProducerForChannel -> INFO 008 [channel: testchainid] Setting up the producer for this channel...\n2019-05-13 04:20:00.724 UTC [orderer.common.broadcast] ProcessMessage -> WARN 009 [channel: telcodlt] Rejecting broadcast of message from 10.10.74.110:59948 with SERVICE_UNAVAILABLE: rejected by Consenter: backing Kafka cluster has not completed booting; try again later","username":"Ramrockez143","ts":"2019-05-13T06:44:36.664Z"}
{"msg":"above logs of orderer","username":"Ramrockez143","ts":"2019-05-13T06:44:53.590Z"}
{"msg":"@Ramrockez143 orderer in not able to connect to kafka nodes check your endpoints, check kafka endpoints in configtx.yaml file ","username":"MohammedR","ts":"2019-05-13T08:57:14.741Z"}
{"msg":"Hi Mohammed,","username":"Ramrockez143","ts":"2019-05-13T09:12:49.145Z"}
{"msg":"thank you.","username":"Ramrockez143","ts":"2019-05-13T09:13:00.099Z"}
{"msg":"endpoints are also  proper","username":"Ramrockez143","ts":"2019-05-13T09:13:33.943Z"}
{"msg":"but kafka  is in one eks cluster and remaining fabric is in different eks cluster ","username":"Ramrockez143","ts":"2019-05-13T09:14:34.085Z"}
{"msg":"here is thing is that if kafka & orderer are in same cluster iam able to create channel creation and channel joining","username":"Ramrockez143","ts":"2019-05-13T09:17:28.762Z"}
{"msg":"you need to put cordns cluster ip in docker configuration default path","username":"Ramrockez143","ts":"2019-05-13T09:18:59.867Z"}
{"msg":"\n# Docker configuration\n\n  Since instantiating chaincode requires a container created by docker And this container needs to communicate with the peer svc in k8s, so additional configuration is required.\n\n\n# Configure docker configuration to modify the docker option DOCKER_OPTS \n\n Add --dns in the DOCKER_OPTS to add the ip of the dns in k8s\n\n# Use DOCKER_OPTS to modify the daemon startup options in file /etc/default/docker\n\nDOCKER_OPTS=\"--dns=10.96.0.10 --dns=172.17.0.1 --dns-search kubernetes --dns-search kubernetes.default --dns-search kubernetes.default.svc --dns-search kubernetes.default.svc.cluster.local  --dns-search ec2.internal --dns-opt ndots:2 --dns-opt timeout:2 --dns-opt attempts:2\"","username":"Ramrockez143","ts":"2019-05-13T09:21:23.180Z"}
{"msg":"Has joined the channel.","username":"MatasV","ts":"2019-05-13T11:23:37.046Z","type":"uj"}
{"msg":"@Ramrockez143 thanks. That worked, but having with mTLS with the same n/w. Have you ever tried mTLS with kubernetes?","username":"AshishMishra 1","ts":"2019-05-14T09:11:37.002Z"}
{"msg":"@iramiller and @yacovm very informative discussion thanks. @iramiller I wanted to have a similar setup, I did try with nginx ingress controller with cert manager to automatically manage the tls certs. Though I want a service mess but I feel it would be overkill for our small deployment. Nginx thing didn't work both while trying to terminate the tls at the ingress and even on the peer container. Always failed with a tls handshake error. \n\nSo I am thinking of giving isitio a try with tls being managed by istio/envoy. Does that work in your setup w/o code changes in peers/orderers? I am afraid for mTLS since the Kubernetes NATing might do something with the hostnames/Ips. ","username":"AshishMishra 1","ts":"2019-05-14T09:45:52.593Z"}
{"msg":"We are using Istio with the rest of our systems but have not integrated it with Hyperledger (yet).  If I were going to attempt this I would use the Citadel to generate certificates and store them in a secret/configmap and mount this into the peer container.  The peer would then start and use these certificates per the normal process.\n\nThe approach of using the sidecar will not work with the peer as the peer expects the secure communication to be terminated directly with the peer.  The Istio mesh will work with the other end of the connection (depending on the caller) to inject mutual TLS certificates which the peer is expecting.","username":"iramiller","ts":"2019-05-14T14:24:03.078Z"}
{"msg":"We are using Istio with the rest of our systems but have not integrated it with Hyperledger (yet). If I were going to attempt this I would use the Citadel to generate certificates and store them in a secret/configmap and mount this into the peer container. The peer would then start and use these certificates per the normal process.\n\nThe approach of using the sidecar will not work with the peer as the peer expects the secure communication to be terminated directly with the peer. The Istio mesh will work with the other end of the connection (depending on the caller) to inject mutual TLS certificates which the peer is expecting.","username":"iramiller","ts":"2019-05-14T14:25:01.602Z"}
{"msg":"My current project is a custom BCCSP integration for HashiCorp Vault that provides certificate storage as well as PKI integration.","username":"iramiller","ts":"2019-05-14T14:26:15.734Z"}
{"msg":"For our needs the Hyperledger Fabric project unfortunately does not align well with an enterprise cloud systems approach and we are continually applying quite a bit of software development effort to make it do these things (native Kubernetes chain code pods and infrastructure, real load balancing and failover, routing, advanced monitoring, etc).","username":"iramiller","ts":"2019-05-14T14:29:10.952Z"}
{"msg":"For anyone else who wants to integrate Fabric into their environment in this way (strong Kubernetes support, Istio, Vault/PKI)  I caution them to understand that it will be a significant amount of work that will be ongoing.","username":"iramiller","ts":"2019-05-14T14:30:52.329Z"}
{"msg":"I agree @iramiller but also for a complex production solution it's completely necessary","username":"mauricio","ts":"2019-05-14T14:32:36.291Z"}
{"msg":"It is my opinion that the majority of resources for the Hyperledger project are (or at least were) focused on small demonstration system projects that run on a developer workstation in docker and are not meant for long term production use.","username":"iramiller","ts":"2019-05-14T14:34:14.195Z"}
{"msg":"I agree","username":"mauricio","ts":"2019-05-14T14:34:43.516Z"}
{"msg":"There are simply far fewer users that need a large system than need to simply become familiar with blockchain for the first time","username":"iramiller","ts":"2019-05-14T14:34:46.576Z"}
{"msg":"There isn't information about how to build a large production system with Fabric","username":"mauricio","ts":"2019-05-14T14:35:13.669Z"}
{"msg":"It's hard, but also is our task see how can we help to improve this","username":"mauricio","ts":"2019-05-14T14:35:42.916Z"}
{"msg":"Welcome to the bleeding edge ... paving the way requires a lot of work... those who come later will have a much easier time","username":"iramiller","ts":"2019-05-14T14:36:33.265Z"}
{"msg":"hahaha yes, but after we'll can to help that people, and that is great. Also the people behind Hyperledger Fabric is making a great work.","username":"mauricio","ts":"2019-05-14T14:38:48.332Z"}
{"msg":"I think Fabric can very well cater to large production systems already. It has all the building blocks, its just that scaling the components being a permissioned blockchain is a pain and GRPC loadbalancing didnt work for me as I was expecting it to for the orderers, so everytime I add an orderer I need not update the channel defination. ","username":"AshishMishra 1","ts":"2019-05-15T04:46:18.463Z"}
{"msg":"HI,\nI have configured peer node to expose metrics on 127.0.0.1:9443 and I am able to access it from inside the peer container (wget 127.0.0.1/metrics). \nI tried exposing it using loadbalancer service(by confguring 9443 port in service) but not able to access metrics.\nHL Network is on Kubernetes.\nIs there any better way to expose them to outside.","username":"raj_shekhar","ts":"2019-05-15T08:14:32.830Z"}
{"msg":"I have configured the container port too in the peer deployment configruation ","username":"raj_shekhar","ts":"2019-05-15T08:14:53.611Z"}
{"msg":"yes","username":"Ramrockez143","ts":"2019-05-15T09:02:55.671Z"}
{"msg":"@Ramrockez143  Is it working? How are you authenticating the client against the server. Say my client here is the peer and orderer is the server. Also are you using any ingress controller? I am always getting a TLS handshake error. ","username":"AshishMishra 1","ts":"2019-05-15T10:31:27.115Z"}
{"msg":"no ","username":"Ramrockez143","ts":"2019-05-15T12:01:15.587Z"}
{"msg":"It is absolutely possible--I am part of a several hundred million dollar blockchain company using Hyperledger as part of its solution.  As you say, the building blocks are present and yet a deeply experienced team will be required to make them work. Further, in a few specific cases rewriting and replacing components of the system is required.  And don't forget that a significant amount of operational support infrastructure will be needed for ongoing management (scripts, installation/configuration files, etc).","username":"iramiller","ts":"2019-05-15T15:04:10.767Z"}
{"msg":"Did anyone run Fabric 2.0 alpha on K8s yet? Etcd with tls pinning would be a challenge. ","username":"AshishMishra 1","ts":"2019-05-16T10:53:56.802Z"}
{"msg":"I have managed to deploy Fabric 1.4.1 with Raft consensus in K8s, which implements etcd only in TLS mode. Haven't got time to look for 2.0 alpha but does it make a huge difference with TLS pinning? I am not familiar with the concept of TLS pinning. Would that help?","username":"vanitas92","ts":"2019-05-16T11:13:37.055Z"}
{"msg":"@AshishMishra 1  why is TLS pinning a challenge? ","username":"yacovm","ts":"2019-05-16T11:14:02.031Z"}
{"msg":"@vanitas92 etcd used TLS pinning by default. So you are already using it. :) ","username":"AshishMishra 1","ts":"2019-05-16T11:29:58.942Z"}
{"msg":"@yacovm because I 've been already facing issues with mutual TLS in fabric. So was skeptical about etcd would go down easy with the tls. ","username":"AshishMishra 1","ts":"2019-05-16T11:33:03.310Z"}
{"msg":"what are the issues? do you have TLS termination?","username":"yacovm","ts":"2019-05-16T11:35:16.668Z"}
{"msg":"No, I 'm using a nginx ingress with nginx.ingress.kubernetes.io/backend-protocol: \"GRPCS\" ","username":"AshishMishra 1","ts":"2019-05-16T12:03:39.509Z"}
{"msg":"which is supposed to proxy the grpc traffic directly to the peer container. ","username":"AshishMishra 1","ts":"2019-05-16T12:03:54.574Z"}
{"msg":"and even my peer is having trouble to connect to itself... Like the peer channel list throws a tls error. ","username":"AshishMishra 1","ts":"2019-05-16T12:06:48.601Z"}
{"msg":":sweat_smile: thx. Not really an expert in security hahaha","username":"vanitas92","ts":"2019-05-16T12:19:06.399Z"}
{"msg":"hi guys ","username":"Ramrockez143","ts":"2019-05-17T05:31:03.348Z"}
{"msg":"i have one scenario like one orderer with 3 replica in hyperledger fabric in k8s .","username":"Ramrockez143","ts":"2019-05-17T05:31:59.303Z"}
{"msg":"can you suggest for that implementation","username":"Ramrockez143","ts":"2019-05-17T05:32:32.980Z"}
{"msg":"@Ramrockez143 what do you want to do?","username":"AndresMartinezMelgar.itcl","ts":"2019-05-17T10:13:57.620Z"}
{"msg":"i wan to implement loadbalancer for orderer","username":"Ramrockez143","ts":"2019-05-17T12:07:16.896Z"}
{"msg":"@Ramrockez143 you can certainly stand up multiple orderers but you won't be making a kubernetes load balancer work in the traditional sense (one dns round robin across all available instances) due to issues with mTLS.","username":"iramiller","ts":"2019-05-17T13:41:40.648Z"}
{"msg":"As many in the kubernetes channel have found the architecture choices in Hyperledger will make common cloud scaling technologies and techniques exceptionally difficult to implement.","username":"iramiller","ts":"2019-05-17T13:42:58.465Z"}
{"msg":"As many in the kubernetes channel have found the architecture choices in Hyperledger Fabric will make common cloud scaling technologies and techniques exceptionally difficult to implement.","username":"iramiller","ts":"2019-05-17T13:42:58.465Z"}
{"msg":"My recommendation would be to follow the design and setup guides and keep kubernetes aspects contained in the pod/container scheduling areas and try to stick with one-to-one mappings on the DNS side. (orderer-0.namespace, orderer-1.namespace, etc).","username":"iramiller","ts":"2019-05-17T13:44:48.038Z"}
{"msg":"This approach will keep you in close alignment with the guides and software as released and make your life much easier.","username":"iramiller","ts":"2019-05-17T13:45:25.784Z"}
{"msg":"Has joined the channel.","username":"circlespainter","ts":"2019-05-18T07:40:42.828Z","type":"uj"}
{"msg":"hi guys ","username":"Ramrockez143","ts":"2019-05-21T04:00:10.963Z"}
{"msg":"my scenario is orderer and peer are in different eks clusters,while instatiating chain code iam able create chaincode container but  while invoking it showing that chaincode not found","username":"Ramrockez143","ts":"2019-05-21T04:02:29.018Z"}
{"msg":"while invoking iam getting following error","username":"Ramrockez143","ts":"2019-05-21T04:36:49.635Z"}
{"msg":"019-05-21 04:35:47.782 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 0ad ESCC invoke result: response:<status:500 message:\"make sure the chaincode headersms1 has been successfully instantiated and try again: chaincode headersms1 not found\" >\nError: endorsement failure during invoke. response: status:500 message:\"make sure the chaincode headersms1 has been successfully instantiated and try again: chaincode headersms1 not found\"","username":"Ramrockez143","ts":"2019-05-21T04:36:53.465Z"}
{"msg":"@Ramrockez143 chaincode container didn't build successfully check peer logs for more info  ","username":"MohammedR","ts":"2019-05-21T04:47:10.717Z"}
{"msg":"no errors in peer","username":"Ramrockez143","ts":"2019-05-21T05:02:04.991Z"}
{"msg":"orderers services are clusterIP","username":"Ramrockez143","ts":"2019-05-21T05:02:52.101Z"}
{"msg":"peer services are node port ","username":"Ramrockez143","ts":"2019-05-21T05:03:05.668Z"}
{"msg":"you might need to put orderer services in nodeport since the peers need to contact the orderer service, as you said they are in different clusters","username":"vanitas92","ts":"2019-05-21T10:18:34.344Z"}
{"msg":"@Ramrockez143 you might need to put orderer services in nodeport since the peers need to contact the orderer service, as you said they are in different clusters","username":"vanitas92","ts":"2019-05-21T10:18:34.344Z"}
{"msg":"@Ramrockez143 during instantiate phase, the orderer needs to know what version of chaincode you are using i think","username":"vanitas92","ts":"2019-05-21T10:18:34.344Z"}
{"msg":"any body deployed hlf on multiple eks cluster","username":"Ramrockez143","ts":"2019-05-21T11:26:56.937Z"}
{"msg":"iam struggling with chaincode instantiation","username":"Ramrockez143","ts":"2019-05-21T11:27:23.646Z"}
{"msg":"@Ramrockez143  Yes.  But I ended up making a fork of Hyperledger that schedules chain code pods directly instead of attempting to use a privileged docker call.  This approach is pretty straight forward but isn't something that can be directly integrated into Fabric because it abandons the entire chaincode package/release/schedule approach in Fabric.  Further our impl","username":"iramiller","ts":"2019-05-21T19:39:50.992Z"}
{"msg":"@Ramrockez143  Yes.  But I ended up making a fork of Hyperledger that schedules chain code pods directly instead of attempting to use a privileged docker call.  This approach is pretty straight forward but isn't something that can be directly integrated into Fabric because it abandons the entire chaincode package/release/schedule approach in Fabric.  Further our implementation is specific to our environment and our docker repositories ...","username":"iramiller","ts":"2019-05-21T19:39:50.992Z"}
{"msg":"if you want to pursue that path I am happy to share pieces of the code and background... ","username":"iramiller","ts":"2019-05-21T19:40:45.532Z"}
{"msg":"in general though even though the approach is working very well for us it isn't an approach (managing a fabric fork) that I would recommend for most people.  The 2.0 platform has improvements planned for this process which will hopefully make things better for everyone.  These changes are not compatible with the approach we are currently using for Kubernetes and as such we will have to re-engineer our approach","username":"iramiller","ts":"2019-05-21T19:42:34.476Z"}
{"msg":"Hello, if i want to use the function \"GetHistoryForKey(key string)\", i need to enable the environment variable \"enableHistoryDatabase\", where should i find this variable??","username":"JorgeNavarro","ts":"2019-05-22T07:27:09.073Z"}
{"msg":"this need to be enable in docker compose file or config.yaml file at peer container","username":"knagware9","ts":"2019-05-22T10:28:25.657Z"}
{"msg":"Hi","username":"Ramrockez143","ts":"2019-05-22T10:44:13.459Z"}
{"msg":"how to add extra hosts to orderer and peer deployments in eks multiple clusters","username":"Ramrockez143","ts":"2019-05-22T10:45:21.787Z"}
{"msg":"how we can communicate two eks clusters","username":"Ramrockez143","ts":"2019-05-22T10:53:46.655Z"}
{"msg":"Hello channel. Has anyone tried to use Istio with Hyperledger fabric within a Kubernetes cluster. Also with different clouds communicating each other? If that is the case, how is your experience? Thank you very much!","username":"vanitas92","ts":"2019-05-22T11:12:46.691Z"}
{"msg":"Has joined the channel.","username":"lucky114407","ts":"2019-05-22T11:14:33.193Z","type":"uj"}
{"msg":"@vanitas92 we have 10 different production kubernetes clusters communicating across Azure, Amazon, and Google Kubernetes services.  We use a private VPN solution implemented with Wireguard.  We have explored Istio as well (and are using it with other services in our infrastructure) but we have not implemented it with Fabric at this time.  Based on my initial research  Istio would be severely limited in capability when integrated with Hyperledger as designed today.  The TLS certificate management pieces of Istio would likely be the only real benefit at this point.","username":"iramiller","ts":"2019-05-22T14:30:18.984Z"}
{"msg":"@vanitas92 we have 10 different production kubernetes clusters communicating across Azure, Amazon, and Google Kubernetes services.  We use a private VPN solution implemented with Wireguard.  We have explored Istio as well (and are using it with other services in our infrastructure) but we have not implemented it with Fabric at this time.  Based on my initial research  Istio would be severely limited in capability when integrated with Hyperledger as designed today. ","username":"iramiller","ts":"2019-05-22T14:30:18.984Z"}
{"msg":"While it is arguably more work we are not exposing any of the blockchain service endpoints (orderer, peer) directly to the internet but instead run custom API instances inside our network and expose those instead.  This provides an interface we control, exposed over protocols that are friendly to the network load balancers, and run over Istio for enterprise level features.","username":"iramiller","ts":"2019-05-22T14:33:58.704Z"}
{"msg":"The most useful integration capability that Istio could bring to Fabric (without extensive modifications) is probably certificate management.  A separate evaluation of certificate management needs within our consortium have lead us to explore a Hashicorp Vault integrated with a custom MSP/BCCSP plugin.","username":"iramiller","ts":"2019-05-22T14:39:58.266Z"}
{"msg":"My experience working directly within the Hyperledger code base on this plugin has lead me to believe that this type of work is a little bit ahead of the curve and will be substantially easier once the Fabric code base matures.  The HLF team is well aware of these issues and is actively working to make things better: https://jira.hyperledger.org/browse/FAB-12246","username":"iramiller","ts":"2019-05-22T14:44:27.263Z"}
{"msg":"Has joined the channel.","username":"levinem","ts":"2019-05-22T16:43:10.863Z","type":"uj"}
{"msg":"@iramiller - in Fabric, the channel  certificates used for verification of transactions are stored in the Blockchain, so you cannot use Istio or anything like that to manage them.","username":"yacovm","ts":"2019-05-22T19:55:58.617Z"}
{"msg":"root / intermediate TLS CAs that are used to trust other organizations, are also (currently) derived from the Blockchain. ","username":"yacovm","ts":"2019-05-22T19:56:31.943Z"}
{"msg":"the whole point of Fabric is that it has decentralized management - you can make it so you can only modify the channel configuration if the majority of organizations vote on it","username":"yacovm","ts":"2019-05-22T19:57:34.777Z"}
{"msg":"isn't Istio centrally managed? ","username":"yacovm","ts":"2019-05-22T19:57:50.036Z"}
{"msg":"another issue is that while Fabric uses x509 certificates _ now _, the MSP design doesn't tie you to use only x509 certificates","username":"yacovm","ts":"2019-05-22T19:58:45.203Z"}
{"msg":"moreover - Istio is for microservices. Fabric is not a micro-service..... ","username":"yacovm","ts":"2019-05-22T20:00:52.492Z"}
{"msg":"moreover - Istio is for microservices. Fabric is not designed for micro services. I guess you can make the chaincode look like a micro-service if you really want","username":"yacovm","ts":"2019-05-22T20:00:52.492Z"}
{"msg":"but the peers and orderers, are not micro-services. ","username":"yacovm","ts":"2019-05-22T20:01:59.604Z"}
{"msg":"@yacovm (1,2) the PUBLIC keys are stored in blockchain, how the PRIVATE keys are managed is the primary concern of those who would be interested in a Hashicorp Vault or Istio Citadel solution. (3) the member is free to manage their certificates in a secure and well controlled way while distributing the public keys for updates in the normal hyperledger way (votes on updates). (4) Istio is a useful method for securing and monitoring infrastructure communication.  While I often describe the members in my network as 'mine' I use this characterization because I have defined the processing and architecture used by members. The members would be in control of their own instances of Istio.","username":"iramiller","ts":"2019-05-22T21:12:21.216Z"}
{"msg":"@yacovm 'the peer/orderer processes are not microservices' ... they are also quite clearly not designed for high availability nor cloud environments either.  Those of us that make the system work in these environments put quite a bit of effort into making these things happen.  Based on https://jira.hyperledger.org/browse/FAB-13582 it would seem that chaincode containers are about to become servers (possibly implying a large proliferation of these instances if versioning of chaincode becomes fully supported). The more instances that are created the more an orchestration platform like kubernetes becomes a requiremewnt... and the more pieces that need to communication with the potential for issues that something like Istio helps diagnose.","username":"iramiller","ts":"2019-05-22T21:20:06.259Z"}
{"msg":"@yacovm 'the peer/orderer processes are not microservices' ... they are also quite clearly not designed for high availability nor cloud environments either.  Those of us that make the system work in these environments put quite a bit of effort into making these things happen.  Based on https://jira.hyperledger.org/browse/FAB-13582 it would seem that chaincode containers are about to become servers (possibly implying a large proliferation of these instances if versioning of chaincode becomes fully supported). The more instances that are created the more an orchestration platform like kubernetes becomes a requirement... and the more pieces that need to communication with the potential for issues that something like Istio helps diagnose.","username":"iramiller","ts":"2019-05-22T21:20:06.259Z"}
{"msg":"@yacovm 'the peer/orderer processes are not microservices' ... they are also quite clearly not designed for high availability nor cloud environments either.  Those of us that make the system work in these environments put quite a bit of effort into making these things happen.  Based on https://jira.hyperledger.org/browse/FAB-13582 it would seem that chaincode containers are about to become servers (possibly implying a large proliferation of these instances if versioning of chaincode becomes fully supported). The more instances that are created the more an orchestration platform like Kubernetes becomes a requirement... and the more pieces that need to communication [with the potential for issues] then the more something like Istio becomes useful for diagnostics.","username":"iramiller","ts":"2019-05-22T21:20:06.259Z"}
{"msg":"> 'the peer/orderer processes are not microservices' ... they are also quite clearly not designed for high availability nor cloud environments either.\nwhy are they not designed for HA ? can you give an example? \nThe latest v1.4.1 comes with a Raft orderer, and peers monitor each other and can tell the SDK (via service discovery) which peers are alive and which peers are not, etc.","username":"yacovm","ts":"2019-05-23T00:27:46.692Z"}
{"msg":"@yacovm by focusing on the specific instance being connected to by name (i.e. peer-1.org) instead of a common endpoint (i.e. peer.org) the high availability and load balancing concepts of cloud platforms break down.  The difficulties being discussed in the 'cloud native' FAB-13582 design document for load balancing and additionally the issues raised for a implementing Raft with external TLS management stem from a fundamental design issue.  If these concepts were imple","username":"iramiller","ts":"2019-05-23T14:22:57.683Z"}
{"msg":"@yacovm by focusing on the specific instance being connected to by name (i.e. peer-1.org) instead of a common endpoint (i.e. peer.org) the high availability and load balancing concepts of cloud platforms break down.  The difficulties being discussed in the 'cloud native' FAB-13582 design document for load balancing and additionally the issues raised for a implementing Raft with external TLS management stem from a fundamental design issue.  If these concepts were implemented with high availability in mind the transport layer would not be the defining identity, the signature on the content would be instead","username":"iramiller","ts":"2019-05-23T14:22:57.683Z"}
{"msg":"A payload signed by an identity is equally valid when delivered by any common transport (secured or not -- although I am absolutely not advocating abandoning TLS).  Proper isolation of the concerns of transport security from the blockchain functional operations would greatly simplify cloud deployment while providing additional flexibility.","username":"iramiller","ts":"2019-05-23T14:26:14.384Z"}
{"msg":"> by focusing on the specific instance being connected to by name (i.e. peer-1.org) instead of a common endpoint (i.e. peer.org) the high availability and load balancing concepts of cloud platforms break down.\n\nSo that's exactly why I think the cloud approach of having a common endpoint that abstracts out the \"backend\" endopoint is simply wrong for a permissioned Blockchain platform like Fabric.\nIf everything is hosted in your home cloud environment - the cloud approach you describe works very well.\nHowever - the endpoint can belong to a different organization than yourself, and when that endpoint \"changes location\" - that organization is not going to update \"your cloud\" about its new location, right? Now, if you have a small amount of organiztions - 2 or 3, it might be useful to model the peers as logical endpoints and not have them mimic real servers (such as Fabric does), however - as the number of parties in the channel grows - the advantage for this diminishes. ","username":"yacovm","ts":"2019-05-23T15:18:45.449Z"}
{"msg":"You're basically asking - why does Fabric treat endpoints as servers, and not as resources like everywhere in the modern world","username":"yacovm","ts":"2019-05-23T15:19:33.487Z"}
{"msg":"so first of all - the orderer endpoints that are client facing can be modeled like this","username":"yacovm","ts":"2019-05-23T15:20:00.338Z"}
{"msg":"peer.domain.com doesn't change ... the signature of blocks delivered should be  `peer of member` ... that doesn't change ... the instance doing the work (one or more) is what can change ... that detail does not matter to a calling member.","username":"iramiller","ts":"2019-05-23T15:20:33.418Z"}
{"msg":"but in Raft - that's not going to work, because we require mutual TLS between endpoints, because every replica \"counts\" ","username":"yacovm","ts":"2019-05-23T15:20:33.624Z"}
{"msg":"> .. the signature of blocks delivered should be peer of member ... that doesn't change ... the instance doing the work (one or more) is what can change ... that detail does not matter to a calling member. \n\nThere is more to Fabric node authentication than signatures and verification.","username":"yacovm","ts":"2019-05-23T15:21:32.746Z"}
{"msg":"> .. the signature of blocks delivered should be peer of member ... that doesn't change ... the instance doing the work (one or more) is what can change ... that detail does not matter to a calling member. \n\nThere is more to Fabric node authentication than signatures and verification of blocks.","username":"yacovm","ts":"2019-05-23T15:21:32.746Z"}
{"msg":"For instance, gossip enforces mutual TLS because Fabric is x509 independent, but we use mutual TLS. That means, that to identify a peer you have to bind the TLS certificate to the peer's non x509 (in theory, right?) identity","username":"yacovm","ts":"2019-05-23T15:22:19.608Z"}
{"msg":"I agree, btw - that the chaincode deployment and runtime architecture can improve","username":"yacovm","ts":"2019-05-23T15:24:47.458Z"}
{"msg":"Raft is a different animal by its very nature ... in a cloud of course instances need to be free to come and go and in fact that is the essence of the algorithm.  Making that work at all was a hard job and kudos to the team for getting that done.","username":"iramiller","ts":"2019-05-23T15:24:50.062Z"}
{"msg":"I actually think (well, humble brag) that we did a good job with making Raft easy to manage","username":"yacovm","ts":"2019-05-23T15:25:24.099Z"}
{"msg":"I don't know that there would be an elegant solution in the cloud environments for that that still provides the guarantees a blockchain needs","username":"iramiller","ts":"2019-05-23T15:25:29.236Z"}
{"msg":"there are no API calls for Raft","username":"yacovm","ts":"2019-05-23T15:25:29.488Z"}
{"msg":"it just \"knows\" what it needs to replicate, and replicates it","username":"yacovm","ts":"2019-05-23T15:25:39.299Z"}
{"msg":"each replica figures out which channels it should join, and replicates them when it joins the cluster as a fresh node","username":"yacovm","ts":"2019-05-23T15:26:15.997Z"}
{"msg":"The ideal of a cloud environment is no special specific instances ... any instance can come and go at any time... that doesn't fit well with any solution that targets a specific instance","username":"iramiller","ts":"2019-05-23T15:26:35.853Z"}
{"msg":"well, you know that classical consensus algorithms dictate certain conditions. ","username":"yacovm","ts":"2019-05-23T15:27:03.177Z"}
{"msg":"one of them, is that a replica has state and an identity and cannot be replaced by another identity.","username":"yacovm","ts":"2019-05-23T15:27:37.372Z"}
{"msg":"this has very severe implications for DR ","username":"yacovm","ts":"2019-05-23T15:27:46.762Z"}
{"msg":"if you run Raft you better have 3 or more availability zones, or a backup of some of the private keys","username":"yacovm","ts":"2019-05-23T15:28:04.768Z"}
{"msg":"because if half of the nodes are destroyed forever, the cluster is dead ","username":"yacovm","ts":"2019-05-23T15:28:25.425Z"}
{"msg":"the classic example I use locally is that a blockchain is super secure when it is running ... and make sure you doing 'lock your keys in your car' or it is a very secure and useless large object","username":"iramiller","ts":"2019-05-23T15:29:10.416Z"}
{"msg":"and, by all means if you think we have room for improvement in the architecture side - open a JIRA, tag some people like me and @sykesm  and we can start a discussion. ","username":"yacovm","ts":"2019-05-23T15:29:29.147Z"}
{"msg":"Has joined the channel.","username":"sykesm","ts":"2019-05-23T15:29:29.244Z","type":"uj"}
{"msg":"i think you have good ideas and insights and it's a shame they are all buried in a channel that almost no one reads ;) ","username":"yacovm","ts":"2019-05-23T15:30:01.740Z"}
{"msg":"I do in fact contribute to the existing JIRA issues targeting these areas ... and I also raise these concerns in these channels as through the discussion we have here (and the countless experts that are watching) ... better solutions can come out","username":"iramiller","ts":"2019-05-23T15:30:38.312Z"}
{"msg":"oh, ok","username":"yacovm","ts":"2019-05-23T15:30:56.984Z"}
{"msg":"it is sad that some of the history scrolls away to be forgotten ... but the increased understanding by those that do read remains ... and from a personal point of view it informs my future comments and contributions here and in those JIRA tickets mentioned.  While an ideal might be contributing directly to the source code that has presented some challenges given my current situation ... however contributing to these discussions is much easier to do.  Supporting other members directly through DM here has also been a way to give back to this community. ","username":"iramiller","ts":"2019-05-23T15:34:03.488Z"}
{"msg":"Also worth pointing out is that I try and always make the point that there are competing use cases here and the needs of those running in these Kubernetes environments are not the only ones (or even the most important).  Developing a large system is a set of compromises.","username":"iramiller","ts":"2019-05-23T15:34:58.706Z"}
{"msg":"yep good point","username":"yacovm","ts":"2019-05-23T15:35:19.311Z"}
{"msg":"how we can deploy kafka cluster across multiple eks clusters","username":"Ramrockez143","ts":"2019-05-26T06:57:41.671Z"}
{"msg":"we scenario like we need to deploy hypereledger across multiple clusters","username":"Ramrockez143","ts":"2019-05-26T06:58:31.307Z"}
{"msg":"many like me are watching and enjoying ;) ,,,,, very insightful (Y) ","username":"raj_shekhar","ts":"2019-05-26T09:48:30.561Z"}
{"msg":"health","username":"ihormudryy","ts":"2019-05-28T14:13:23.657Z"}
{"msg":"You might want to look into Terraform ... we have been using this to handle our multi-cloud deployments.  Shipping a Terraform script to a new org to bootstrap their cluster is great because there are so many steps required that a script is the only way to ensure things are done the same way every time... also good for quickly building/rebuilding test and development environments.","username":"iramiller","ts":"2019-05-28T14:33:42.028Z"}
{"msg":"Related: microk8s has been fantastic for our development kubernetes environments.  We spin up a large VM in the cloud and lay down a full cluster on it then turn the keys over to a developer.  This gives them a very easy to reset environment for testing chaincode/channels/new applications without impacting others as would be the case if they were using our integration or QA networks.","username":"iramiller","ts":"2019-05-28T14:36:26.998Z"}
{"msg":"Anyone try to create a volume mount from / ??\nI get to create one volume mount --> /HLF","username":"AndresMartinezMelgar.itcl","ts":"2019-05-29T06:18:34.406Z"}
{"msg":"Has joined the channel.","username":"RodrigoMedeiros","ts":"2019-05-29T17:18:10.660Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MattMilligan","ts":"2019-05-31T16:09:49.707Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hanubc7743","ts":"2019-06-01T11:58:10.086Z","type":"uj"}
{"msg":"how to deploy single zookeeper cluster across multiple eks cluster","username":"Ramrockez143","ts":"2019-06-04T06:20:37.805Z"}
{"msg":"when iam trying to deploy zookeeper 1 in cluster1,zookeeper2 in cluster2 and zookeeper3 cluster in cluster3,but leader election is not happening,if any body knew this scenario give me suggestion ","username":"Ramrockez143","ts":"2019-06-04T06:23:28.477Z"}
{"msg":"@Ramrockez143 if you are deploying a new network from scratch i will suggest to deploy using the Raft consensus in version 1.4.1 as it is much simpler and specially designed for distributed consensus, as it is what you want to achieve in multiple cloud clusters","username":"vanitas92","ts":"2019-06-04T07:01:13.007Z"}
{"msg":"ok ","username":"Ramrockez143","ts":"2019-06-04T08:18:04.984Z"}
{"msg":"yes we are deploying from the scratch","username":"Ramrockez143","ts":"2019-06-04T08:19:01.322Z"}
{"msg":"Hi","username":"Chandoo","ts":"2019-06-04T14:15:30.788Z"}
{"msg":"Did anyone tried deploying orderers with RAFT on multiple kubernetes clusters?","username":"Chandoo","ts":"2019-06-04T14:16:09.985Z"}
{"msg":"I am trying it on  EKS amazon managed service.","username":"Chandoo","ts":"2019-06-04T14:17:02.078Z"}
{"msg":"if any one tried how the setup was done in reaching orderers on the other cluster","username":"Chandoo","ts":"2019-06-04T14:17:48.097Z"}
{"msg":"I know there is a way to do with Federated Services, but i am trying to achieve with AWS EKS","username":"Chandoo","ts":"2019-06-04T14:18:36.362Z"}
{"msg":"Hello guys! Have someone tried to protect the peer or orderer endpoints by not exposing them directly on the internet when using multiple kubernetes instances? Like putting an nginx oir something in front of them? What have you used to deal with this? Thank you!","username":"vanitas92","ts":"2019-06-07T09:21:00.105Z"}
{"msg":"Has joined the channel.","username":"Kevin_Ko","ts":"2019-06-07T16:10:55.904Z","type":"uj"}
{"msg":"I have implemented it in GKE using Ingress ,,, worked fine ,,, but looking for more sophisticated ways to do same.","username":"raj_shekhar","ts":"2019-06-10T10:53:21.535Z"}
{"msg":"We use a wireguard VPN solution to make a private network of peer/order endpoints between the various orgs within our consortium.  All addressing works as `peer-n.membername` (or `peer-n.membername.svc.cluster.local) across the entire distributed network (including GKE, AKS, EKS environments)","username":"iramiller","ts":"2019-06-10T16:05:20.346Z"}
{"msg":"We use a wireguard VPN solution to make a private network of peer/order endpoints between the various orgs within our consortium.  All addressing works as `peer-n.membername` (or `peer-n.membername.svc.cluster.local`) across the entire distributed network (including GKE, AKS, EKS environments)","username":"iramiller","ts":"2019-06-10T16:05:20.346Z"}
{"msg":"@iramiller in this private network using private hostnames, how do you validate your certs using a CA? or do you use the self signed certs of fabric CA. ","username":"AshishMishra 1","ts":"2019-06-11T06:14:50.243Z"}
{"msg":"@raj_shekhar did you face any issue with URLs while using TLS? ","username":"AshishMishra 1","ts":"2019-06-11T06:15:46.132Z"}
{"msg":"Has joined the channel.","username":"mustafahusain","ts":"2019-06-11T06:35:10.042Z","type":"uj"}
{"msg":"@AshishMishra 1 I have set mutual TLS off as currently there is single cluster and exposing endpoints via TLS configured ingress.","username":"raj_shekhar","ts":"2019-06-11T07:24:01.837Z"}
{"msg":"@raj_shekhar so are you terminating the TLS at the ingress or at the fabric peer? ","username":"AshishMishra 1","ts":"2019-06-11T07:25:36.316Z"}
{"msg":"at the ingress.","username":"raj_shekhar","ts":"2019-06-11T07:27:45.844Z"}
{"msg":"nice.. so all the endpoints in your configtx for fabric nodes/endpoints are your ingress endpoints or the internal service ones? ","username":"AshishMishra 1","ts":"2019-06-11T07:32:08.870Z"}
{"msg":"nopes,\nI have only exposed services for fabric-SDK, so that client application from outside can connect, everything else is same as of usual fabric network with TLS set as off,,, It is a single cluster network so issue in it.","username":"raj_shekhar","ts":"2019-06-11T08:02:24.329Z"}
{"msg":"nopes,\nI have only exposed services for fabric-SDK, so that client application from outside can connect, everything else is same as of usual fabric network with TLS set as off,,, It is a single cluster network so no issue in it.","username":"raj_shekhar","ts":"2019-06-11T08:02:24.329Z"}
{"msg":"Has joined the channel.","username":"tballast","ts":"2019-06-11T13:18:13.787Z","type":"uj"}
{"msg":"We use our own self-signed root/intermediate CA.","username":"iramiller","ts":"2019-06-11T14:31:53.624Z"}
{"msg":"We do not have issues with TLS (or mutual TLS) in our setup.  The external facing APIs which provide business methods on top of the blockchain run as standard HTTP(S) web services and use a public CA root to pin their certificates","username":"iramiller","ts":"2019-06-11T14:32:59.530Z"}
{"msg":"Our configtx (system-channel configuration) endpoints are all using internal DNS names.  As a private blockchain network we have not needed to expose hyperledger endpoints directly to the internet.  \n\nBusiness processes that invoke chain code are exposed with custom REST APIs which are easy to handle with traditional Kubernetes orchestration.  While a message/event based API would be really powerful and a closer match to what the blockchain is actually doing we have contained that complexity behind basic request/reply methods that are easier for a wider audience of developers to integrate with. The more specific needs of routing and load balancing against various peer and orderer endpoints are wrapped up in our own internal SDK which is shared out for members to use when connecting to Hyperledger to build their own APIs.","username":"iramiller","ts":"2019-06-11T14:41:37.660Z"}
{"msg":"Has joined the channel.","username":"YassineAmor","ts":"2019-06-12T10:00:39.264Z","type":"uj"}
{"msg":"","username":"raj_shekhar","ts":"2019-06-13T04:35:58.930Z","attachments":[{"type":"file","title":"error.png","title_link":"/file-upload/zbm7JKCzSYie6BCtw/error.png","image_url":"/file-upload/zbm7JKCzSYie6BCtw/error.png","image_type":"image/png","image_size":857409,"url":"/file-upload/zbm7JKCzSYie6BCtw/error.png","remote":false,"fileId":"zbm7JKCzSYie6BCtw","fileName":"error.png"}]}
{"msg":"I have set the policy in configtx file and after that it is coming. Any pointers on policies topic other than HL docs?","username":"raj_shekhar","ts":"2019-06-13T04:36:58.476Z"}
{"msg":"Hi all, if the peer pods in the kubernetes cluster is down, what is the best way to bring it up again with the same msp?","username":"JayJong","ts":"2019-06-13T07:59:54.103Z"}
{"msg":"@JayJong ... not much to go on in your statement ... but I would recommend that your MSP files are stored in a secret which is mounted into the peer pod.  This is also how you should handle configuration, either through extensive ENV vars mapped from a configmap or as the configfile mounted into the peer pod.","username":"iramiller","ts":"2019-06-13T16:24:18.405Z"}
{"msg":"hi anyone have tryied to create a https service inside kubernetes? i swap http to https. When i have https service it works but in https doesnrt","username":"AndresMartinezMelgar.itcl","ts":"2019-06-16T15:02:11.991Z"}
{"msg":"hi anyone have tried to create a https service inside kubernetes? i swap http to https. When i have https service it works but in https doesn't","username":"AndresMartinezMelgar.itcl","ts":"2019-06-16T15:02:58.620Z"}
{"msg":"I look that i have to make a ingress module with a secret, but i cant make it work","username":"AndresMartinezMelgar.itcl","ts":"2019-06-16T15:03:42.779Z"}
{"msg":" Hi I am getting below error\n./bin/configtxgen -profile OrdererGenesis -outputBlock ./channel-artifacts/genesis.block\n2019-06-16 23:07:20.775 IST [common.tools.configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen for output operations is deprecated. Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.\n2019-06-16 23:07:20.775 IST [common.tools.configtxgen] main -> INFO 002 Loading configuration\n2019-06-16 23:07:20.788 IST [common.tools.configtxgen.localconfig] Load -> PANI 003 Error unmarshaling config into struct: 1 error(s) decoding:\n\n* '' has invalid keys: v1_1\n2019-06-16 23:07:20.788 IST [common.tools.configtxgen] func1 -> PANI 004 Error unmarshaling config into struct: 1 error(s) decoding:\n\n* '' has invalid keys: v1_1\npanic: Error unmarshaling config into struct: 1 error(s) decoding:\n\n* '' has invalid keys: v1_1 [recovered]\npanic: Error unmarshaling config into struct: 1 error(s) decoding:\n\n* '' has invalid keys: v1_1\n\ngoroutine 1 [running]:\ngithub.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc000121970, 0x0, 0x0, 0x0)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515\ngithub.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000b2240, 0xc0002f9804, 0xc00009b1a0, 0x59, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6\ngithub.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000b2240, 0xc00009b1a0, 0x59, 0x0, 0x0, 0x0)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79\ngithub.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panic(0xc0000b2248, 0xc0002f9938, 0x1, 0x1)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:73 +0x75\nmain.main.func1()\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:250 +0x1a9\npanic(0xd4fc40, 0xc0003018e0)\n/opt/go/go1.11.1.linux.amd64/src/runtime/panic.go:513 +0x1b9\ngithub.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc000121970, 0x0, 0x0, 0x0)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515\ngithub.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000b2220, 0xc0002f9c04, 0xc00009b080, 0x59, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6\ngithub.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000b2220, 0xc00009b080, 0x59, 0x0, 0x0, 0x0)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79\ngithub.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panic(0xc0000b2228, 0xc0002f9d98, 0x2, 0x2)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:73 +0x75\ngithub.com/hyperledger/fabric/common/tools/configtxgen/localconfig.Load(0x7ffeb116516d, 0xe, 0x0, 0x0, 0x0, 0x1)\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:282 +0x580\nmain.main()\n/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:261 +0xb2f\nAnyone know any solution please?\n","username":"hanubc7743","ts":"2019-06-16T17:43:40.497Z"}
{"msg":"Can you plz share your configtx.yaml file.","username":"raj_shekhar","ts":"2019-06-17T07:06:38.582Z"}
{"msg":"To enable ssl using ingress you can do below.\n1. Get cert and keys from the letsencrypt (open source and free)\n2. create secret of cert in K8s - kubectl create secret tls ${CERT_NAME} --key ${KEY_FILE} --cert ${CERT_FILE}\n3. Configure the ingress with hosts and secret like below\n   tls:\n- hosts:\n- app.example.com\nsecretName: cert-secret","username":"raj_shekhar","ts":"2019-06-17T07:19:41.576Z"}
{"msg":"------\nOrganizations:\n\n    - &OrdererOrg\n        Name: OrdererOrg\n        ID: OrdererMSP\n        MSPDir: crypto-config/ordererOrganizations/example.com/msp\n\n    - &Org1\n        Name: Org1MSP\n        ID: Org1MSP\n        MSPDir: crypto-config/peerOrganizations/org1.example.com/msp\n        AnchorPeers:\n            - Host: peer0.org1.example.com\n              Port: 7051\n\n    - &Org2\n        Name: Org2MSP\n        ID: Org2MSP\n        MSPDir: crypto-config/peerOrganizations/org2.example.com/msp\n        AnchorPeers:\n            - Host: peer0.org2.example.com\n              Port: 7051\n\n    - &Org3\n        Name: Org3MSP\n        ID: Org3MSP\n        MSPDir: crypto-config/peerOrganizations/org3.example.com/msp\n        AnchorPeers:\n            - Host: peer0.org3.example.com\n              Port: 7051\n\nOrderer: &OrdererDefaults\n    OrdererType: solo\n    Addresses:\n        - orderer.example.com:7050\n    BatchTimeout: 2s\n    BatchSize:\n        MaxMessageCount: 10\n        AbsoluteMaxBytes: 99 MB\n        PreferredMaxBytes: 512 KB\n\n    Kafka:\n        Brokers:\n            - 127.0.0.1:9092\n    Organizations:\n\nApplication: &ApplicationDefaults\n    Organizations:\n\nCapabilities:\n    Global: &ChannelCapabilities\n        V1_1: true\n\n    Orderer: &OrdererCapabilities\n        V1_1: true\n\n    Application: &ApplicationCapabilities\n        V1_1: true\n\nProfiles:\n    OrdererGenesis:\n        Capabilities:\n            <<: *ChannelCapabilities\n        Orderer:\n            <<: *OrdererDefaults\n            Organizations:\n                - *OrdererOrg\n            Capabilities:\n                <<: *OrdererCapabilities\n        Consortiums:\n            SampleConsortium:\n                Organizations:\n                    - *Org1\n                    - *Org2\n                    - *Org3\n    \n    ChannelAll:\n        Consortium: SampleConsortium\n        Application:\n            <<: *ApplicationDefaults\n            Organizations:\n                - *Org1\n                - *Org2\n                - *Org3\n\n            Capabilities:\n<<: *ApplicationCapabilities","username":"hanubc7743","ts":"2019-06-17T07:40:59.810Z"}
{"msg":"Can u try formatting your configtx file as per yaml format.... there are tools available online to do so.","username":"raj_shekhar","ts":"2019-06-17T08:26:32.000Z"}
{"msg":"I have checked its valid","username":"hanubc7743","ts":"2019-06-17T08:31:10.123Z"}
{"msg":"Organizations:\n    - &OrdererOrg\n        Name: OrdererOrg\n        ID: OrdererMSP\n        MSPDir: crypto-config/ordererOrganizations/example.com/msp\n    - &Org1\n        Name: Org1MSP\n        ID: Org1MSP\n        MSPDir: crypto-config/peerOrganizations/org1.example.com/msp\n        AnchorPeers:\n            - Host: peer0.org1.example.com\n              Port: 7051\n    - &Org2\n        Name: Org2MSP\n        ID: Org2MSP\n        MSPDir: crypto-config/peerOrganizations/org2.example.com/msp\n        AnchorPeers:\n            - Host: peer0.org2.example.com\n              Port: 7051\n    - &Org3\n        Name: Org3MSP\n        ID: Org3MSP\n        MSPDir: crypto-config/peerOrganizations/org3.example.com/msp\n        AnchorPeers:\n            - Host: peer0.org3.example.com\n              Port: 7051\nOrderer: &OrdererDefaults\n    OrdererType: solo\n    Addresses:\n        - orderer.example.com:7050\n    BatchTimeout: 2s\n    BatchSize:\n        MaxMessageCount: 10\n        AbsoluteMaxBytes: 99 MB\n        PreferredMaxBytes: 512 KB\n    Kafka:\n        Brokers:\n            - 127.0.0.1:9092\n    Organizations:\nApplication: &ApplicationDefaults\n    Organizations:\nCapabilities:\n    Global: &ChannelCapabilities\n        V1_1: true\n    Orderer: &OrdererCapabilities\n        V1_1: true\n    Application: &ApplicationCapabilities\n        V1_1: true\nProfiles:\n    OrdererGenesis:\n        Capabilities:\n            <<: *ChannelCapabilities\n        Orderer:\n            <<: *OrdererDefaults\n            Organizations:\n                - *OrdererOrg\n            Capabilities:\n                <<: *OrdererCapabilities\n        Consortiums:\n            SampleConsortium:\n                Organizations:\n                    - *Org1\n                    - *Org2\n                    - *Org3    \n    ChannelAll:\n        Consortium: SampleConsortium\n        Application:\n            <<: *ApplicationDefaults\n            Organizations:\n                - *Org1\n                - *Org2\n                - *Org3\n            Capabilities:\n<<: *ApplicationCapabilities","username":"hanubc7743","ts":"2019-06-17T08:31:17.305Z"}
{"msg":"Does anyone have a yaml file for a raft orderer they'd be willing to share? I'm struggling to parse the changes vs the kafka setup and would dearly love to kickstart this process without a bunch of trial and error.  ","username":"aatkddny","ts":"2019-06-17T13:34:49.255Z"}
{"msg":"@aatkddny just look at the section of etcdraft in orderer.yaml and the cluster section in orderer.yaml","username":"yacovm","ts":"2019-06-17T14:20:55.981Z"}
{"msg":"@yacovm - I was referring to the actual k8s yaml definition file.  \nI've been looking at the config file you checked in on mar 23 in sampleconfig/orderer.yaml. \nI need to relate that to a real k8s deployment file. The one I have for kafka externalizes all the overrides, rather than passing in the configuration (since I never figured out how to do that) and I was trying to avoid a trial and error time suck moving that to this. My kubernetes-fu is more of the \"if stack overflow didn't work, google is your friend\" variety here.","username":"aatkddny","ts":"2019-06-17T15:15:46.681Z"}
{"msg":"ah... no, don't have such a file, sorry. ","username":"yacovm","ts":"2019-06-17T15:16:12.022Z"}
{"msg":"nm. appreciate the response.","username":"aatkddny","ts":"2019-06-17T15:16:51.115Z"}
{"msg":"Has joined the channel.","username":"kantipov","ts":"2019-06-17T15:51:31.812Z","type":"uj"}
{"msg":"@aatkddny I am not exactly sure what kind of k8s file you are looking for ... but you can embed the yaml config files from hyperledger inside of a configmap yaml file using the standard indentation method for scope ... then map that configmap into the container as  a file ...  is that what you are trying to do?","username":"iramiller","ts":"2019-06-17T17:32:35.385Z"}
{"msg":"I wasn","username":"aatkddny","ts":"2019-06-17T18:29:11.593Z"}
{"msg":"I wasn't - mainly because I was set up to override the defaults using viper(?). \nMostly because I hacked at my docker-compose files until they worked. \nIf there's a pattern to embed the config files directly I'd happily pivot to do that. ","username":"aatkddny","ts":"2019-06-17T18:29:11.593Z"}
{"msg":"I wasn't - mainly because I was set up to override the defaults using viper(?). \nMostly because I hacked at my docker-compose files until they worked. \nIf there's a pattern to embed the config files directly I'd happily pivot to do that. It's likely to be simpler going forward.","username":"aatkddny","ts":"2019-06-17T18:29:11.593Z"}
{"msg":"I wasn't - mainly because I was set up to override the defaults using viper(?). \nMostly because I hacked at my docker-compose files until they worked with k8s. Learned a bit about containerization, but clearly not enough for this job. \nIf there's a pattern to embed the config files directly I'd happily pivot to do that. It's likely to be simpler going forward.","username":"aatkddny","ts":"2019-06-17T18:29:11.593Z"}
{"msg":"So just to clarify - this is one of my local orderer configs \n```\n      - name: orderer0\n        image: hyperledger/fabric-orderer\n        command:\n        - sh\n        - -c\n        - orderer\n        env:\n        - name: GRPC_TRACE\n          value: all=true\n        - name: GRPC_VERBOSITY\n          value: debug\n        - name: ORDERER_CFG_PATH\n          value: /share\n        - name: ORDERER_GENERAL_LEDGERTYPE\n          value: file\n        - name: ORDERER_FILELEDGER_LOCATION\n          value: /share/ledger/orderer0\n        - name: ORDERER_GENERAL_BATCHTIMEOUT\n          value: 1s\n        - name: ORDERER_GENERAL_BATCHSIZE_MAXMESSAGECOUNT\n          value: \"50\"\n        - name: ORDERER_GENERAL_MAXWINDOWSIZE\n          value: \"1000\"\n        - name: ORDERER_GENERAL_LISTENADDRESS\n          value: 0.0.0.0\n        - name: ORDERER_GENERAL_LISTENPORT\n          value: \"7050\"\n        - name: ORDERER_GENERAL_LOGLEVEL\n          value: DEBUG\n        - name: ORDERER_GENERAL_LOCALMSPID\n          value: OrdererMSP\n        - name: ORDERER_GENERAL_LOCALMSPDIR\n          value: /share/generated/crypto-config/ordererOrganizations/orderer/orderers/orderer0.orderer/msp\n        - name: ORDERER_GENERAL_GENESISMETHOD\n          value: file\n        - name: ORDERER_GENERAL_GENESISFILE\n          value: /share/generated/channel-artifacts/genesis.block\n        - name: ORDERER_GENERAL_GENESISPROFILE\n          value: Genesis\n        - name: ORDERER_GENERAL_TLS_ENABLED\n          value: \"false\"\n        - name: GODEBUG\n          value: netdns=go\n        volumeMounts:\n        - mountPath: /share\n          name: om\n      restartPolicy: Always\n      volumes:\n      - name: om\n        persistentVolumeClaim:\n          claimName: bc-storage\n``` ","username":"aatkddny","ts":"2019-06-17T18:35:30.498Z"}
{"msg":"in your deployment use\n```\n        volumeMounts:\n        - mountPath: /etc/hyperledger/peer\n          name: my-config-file\n```\nthen make your config files roughly like this helm example\n```\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: my-config-file\ndata:\n  core.yaml: |\n    # Copyright IBM Corp. All Rights Reserved.\n    #\n    # SPDX-License-Identifier: Apache-2.0\n    # [rest of config file follows with 4 space indent]\n```","username":"iramiller","ts":"2019-06-17T18:35:37.070Z"}
{"msg":"the issue we found with relying on the ENV configs is mostly due to the fact that settings are not discoverable nor are there any consistency checks for misspelled entries","username":"iramiller","ts":"2019-06-17T18:36:39.887Z"}
{"msg":"so we put a bunch of work into creating config files set the way we wanted so that a platform default wouldn't accidentally step in and break our production or test environments","username":"iramiller","ts":"2019-06-17T18:37:21.528Z"}
{"msg":"I autogen all mine from an application I wrote. We have quite a number of these things and management was an issue. ","username":"aatkddny","ts":"2019-06-17T18:37:34.545Z"}
{"msg":"of course all of our deployments are scripted/managed","username":"iramiller","ts":"2019-06-17T18:37:54.465Z"}
{"msg":"but it is still very nice for auditing to have everything in the config file consistent","username":"iramiller","ts":"2019-06-17T18:38:08.659Z"}
{"msg":"You are way ahead of us in that department. \nI do have code to generate the scripts, but here the problem is I need to change the templating every time there's a new version and that's where the rub is. \nI'm struggling to figure out where to start in this case. ","username":"aatkddny","ts":"2019-06-17T18:39:26.241Z"}
{"msg":"You are way ahead of us in that department. \nI do have code to generate the scripts, but here the problem is I need to change the templating every time there's a new version and that's where the rub is. \nI'm struggling to figure out where to start in this case. It's probably very simple if I can find a -compose version to hack at but even that I'm finding tough to find. Too new.","username":"aatkddny","ts":"2019-06-17T18:39:26.241Z"}
{"msg":"honestly we lost quite a bit of ground building on the docker-compose and script file approach a year ago ... eventually I did a parallel build up of helm charts and HashiCorp Terraform scripting for the major components (peer, orderer, etc) and when test was working we did a full cut over","username":"iramiller","ts":"2019-06-17T18:42:03.304Z"}
{"msg":"so many headaches just getting a clean repeatable deployment prior to investing in that process.  it isn't that it can't be done its just that the Kubernetes environment for production is quite a bit different use case than the proof of concept docker-compose systems","username":"iramiller","ts":"2019-06-17T18:43:10.865Z"}
{"msg":"the unfortunate part of what we have done is that our scripts and charts are highly specific to our environments and not very useful for the community at large ...","username":"iramiller","ts":"2019-06-17T18:44:06.462Z"}
{"msg":"but I am happy to share pieces or experience to those doing something similar ... as a startup there just isn't time with how fast we are moving to build up a good generic system ... ","username":"iramiller","ts":"2019-06-17T18:44:49.387Z"}
{"msg":"I may have not been as clear as I might have been. I used the docker-compose examples to give me the parameters I needed to build templates for my kubernetes setups. my app generates the k8s yaml files for each of the orgs from these - so i can deploy everything with kubectl - and a set of bash scripts that i can run to do this in 3 stages - i found i needed to let the mysql ca db(s) initialize because i couldn't get them inside the same pod as the ca and i needed to let kafka settle down before starting the orderers, so it required 3 scripts in all. We don't use a lot of containerization in house, and we are just starting using helm a year or so after this was developed, so it is all a bit of a hack. \nIf I ever get time I'll do proper helm templates for it all, but right now I just need to get orderers with raft up and running.   ","username":"aatkddny","ts":"2019-06-17T18:54:01.909Z"}
{"msg":"we are still not using Raft yet internally for various reasons ... probably similar story to why you haven't built up helm charts for everything .. broken stuff gets first priority followed by features that make money ... refinements are always down the list until something makes them critical...","username":"iramiller","ts":"2019-06-17T19:02:21.578Z"}
{"msg":"from what I saw of the orderer piece with regards to raft it will require a completely new deployment setup that doesn't use much of our existing orderer deployment setup... ","username":"iramiller","ts":"2019-06-17T19:03:19.698Z"}
{"msg":"the pinned TLS and blockchain updates to make changes will require a pretty significant investment in scripting/integration to adopt as our TLS certificates have typically rotated on a more frequent basis.","username":"iramiller","ts":"2019-06-17T19:04:25.747Z"}
{"msg":"when we finally get around to fully working through the raft upgrade process I am sure I will know more.  At the moment the CA challenges you mentioned our of a greater concern to us and we have been working to adopt HashiCorp Vault instead of fabric_ca as it's feature set makes the security team happy and the many cloud environment backing stores make DevOps happy.","username":"iramiller","ts":"2019-06-17T19:06:03.492Z"}
{"msg":"@aatkddny and anyone who is interested, find here my config using a RAFT cluster in Kubernetes that is working. Apart from setting the genesis block to etcdraft consensus and node names, the config for each orderer is as follows:\n```yaml\n        env:\n        - name: FABRIC_LOGGING_SPEC\n          value: INFO\n        - name: ORDERER_OPERATIONS_LISTENADDRESS\n          value: 0.0.0.0:8443\n        - name: ORDERER_METRICS_PROVIDER\n          value: prometheus\n        - name: ORDERER_GENERAL_GENESISFILE\n          value: /var/hyperledger/orderer/genesis.block\n        - name: ORDERER_GENERAL_GENESISMETHOD\n          value: file\n        - name: ORDERER_GENERAL_LISTENADDRESS\n          value: 0.0.0.0\n        - name: ORDERER_GENERAL_LOCALMSPDIR\n          value: /var/hyperledger/orderer/msp\n        - name: ORDERER_GENERAL_LOCALMSPID\n          value: OrdererMSP\n        - name: ORDERER_GENERAL_TLS_CERTIFICATE\n          value: /var/hyperledger/orderer/tls/server.crt\n        - name: ORDERER_GENERAL_TLS_ENABLED\n          value: \"true\"\n        - name: ORDERER_GENERAL_TLS_PRIVATEKEY\n          value: /var/hyperledger/orderer/tls/server.key\n        - name: ORDERER_GENERAL_TLS_ROOTCAS\n          value: '[/var/hyperledger/orderer/tls/ca.crt]'\n        - name: ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE\n          value: /var/hyperledger/orderer/tls/server.crt\n        - name: ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY\n          value: /var/hyperledger/orderer/tls/server.key\n        - name: ORDERER_GENERAL_CLUSTER_ROOTCAS\n          value: '[/var/hyperledger/orderer/tls/ca.crt]'\n        image: hyperledger/fabric-orderer:amd64-1.4.1\n```","username":"vanitas92","ts":"2019-06-17T21:08:41.274Z"}
{"msg":"The most important setting is the last three options: `ORDERER_GENERAL_CLUSTER_*`, they enable the certificates necesary to establish a RAFT cluster","username":"vanitas92","ts":"2019-06-17T21:09:51.129Z"}
{"msg":"Is the same certificates if you enable TLS in your network","username":"vanitas92","ts":"2019-06-17T21:10:21.962Z"}
{"msg":"@iramiller so basically none of your fabric end-points are exposed to public. So in case of a multi-org scenario where the other party is hosting their own fabric can't communicate with your fabric n/w unless they use a VPN kind of thing? ","username":"AshishMishra 1","ts":"2019-06-17T22:32:00.512Z"}
{"msg":"@vanitas92 did you try something like envoy or linkerd ? I did a POC about a year ago to proxy the grpc traffic transparently to the peer node. It worked but created a lot of overhead to maintain it, so dropped it. Sadly I don't have any configuration with me. ","username":"AshishMishra 1","ts":"2019-06-17T22:35:30.485Z"}
{"msg":"@AshishMishra 1 ... as a private blockchain consortium there are many steps that would be required before someone could participate (including the generation of certificates).  The setup of a secure wireguard tunnel actually simplifies the integration story between some of our members as approving internet access to these endpoints is a more complicated process than the private network config.","username":"iramiller","ts":"2019-06-17T22:50:11.473Z"}
{"msg":"@vanitas92 Thanks for that. Let me see if that gets me any further forward.","username":"aatkddny","ts":"2019-06-17T23:58:19.788Z"}
{"msg":"Hi Anybody know how to work with hyperledger fabric java sdk and ipfs?","username":"hanubc7743","ts":"2019-06-18T19:52:22.480Z"}
{"msg":"Has joined the channel.","username":"BrajeshKumar","ts":"2019-06-19T09:00:29.925Z","type":"uj"}
{"msg":"I'm unaware of any integrations of ipfs with Fabric, but there is a #fabric-sdk-java channel that might help yuo with the former","username":"cbf","ts":"2019-06-19T15:39:46.907Z"}
{"msg":"Hi Can we integrate oracle db instead of couch db in hyperledger fabric?","username":"hanubc7743","ts":"2019-06-19T17:48:10.289Z"}
{"msg":"@hanubc7743 maybe ask in the #fabric-peer-endorser-committer channel as that doesn't have anything to do with kubernetes.  Before you ask though you might take a look at https://github.com/hyperledger/fabric/blob/release-1.4/core/ledger/util/couchdb/couchdb.go and think about what it would take to write your own interface to Oracle","username":"iramiller","ts":"2019-06-19T19:36:03.575Z"}
{"msg":"Thanks for that.","username":"iamksseo","ts":"2019-06-21T08:00:48.191Z"}
{"msg":"My case completely relies on internet since each organization is hosting their own infraestructure on premises or public clouds so need to protect the endpoints somehow. We are already using TLS over grpc but the endpoint is directly exposed to the internet and this concerns me.","username":"vanitas92","ts":"2019-06-24T09:43:16.806Z"}
{"msg":"@AshishMishra 1 so with envoy is possible to proxy to peers? how does it handle with TLS over grpc? Any remarkable experience? Thanks guys!","username":"vanitas92","ts":"2019-06-24T09:44:52.696Z"}
{"msg":"@vanitas92 yes, I did make that work with envoy but it was a one to one mapping. So for each peer you need to have one envoy running. If I remember correctly I did use some SNI or some hostname overwriting to make it transparent to envoy. I wish I had the configurations with me. :| ","username":"AshishMishra 1","ts":"2019-06-24T18:14:38.307Z"}
{"msg":"@iramiller yes, what you are saying is absolutely correct but what I am looking to achieve is more of a C2C model and not a B2B, so having a vpn or firwall based rules would be an overkill. What I wanted is users to freely run peers exposed to internet but via a proxy which would provide an additional layer of protection to prevent against attacks such as DDOS or TCP flood etc. ","username":"AshishMishra 1","ts":"2019-06-24T18:17:38.771Z"}
{"msg":"@iramiller how is the vault working for you? I was thinking also to adopt something like vault which is more secure than k8s secrets which I am using right now. Also did that need any changes in the fabric code? thanks. ","username":"AshishMishra 1","ts":"2019-06-24T18:20:44.483Z"}
{"msg":"@AshishMishra 1 the wireguard vpn connection works similar to what you describe ... an internet facing port and traffic secured by preshared EC keys.  I use a NAT style methodology implemented with IPTables to route traffic avoiding any Layer 7 incompatibilities.  Ideally this entire configuration would be wrapped up in a custom Kubernetes ingress controller...  I have not done this though nor have I looked for an implementation of it recently.","username":"iramiller","ts":"2019-06-24T18:28:18.246Z"}
{"msg":"back when I designed our network architecture I was very surprised that no one had implemented a wireguard ingress controller (that I could find).  The expedient method for implantation in a cross cloud way was using a small VM that was dual homed on the pod and external networks.","username":"iramiller","ts":"2019-06-24T18:30:49.678Z"}
{"msg":"back when I designed our network architecture I was very surprised that no one had implemented a wireguard ingress controller (that I could find).  The expedient method for implementation in a cross cloud way was using a small VM that was dual homed on the pod and external networks.","username":"iramiller","ts":"2019-06-24T18:30:49.678Z"}
{"msg":"Thanks, that's insightful ","username":"AshishMishra 1","ts":"2019-06-24T18:37:32.190Z"}
{"msg":"@AshishMishra 1 ok thanks! That is exactly what i want to achieve, kinda like a microservice architechture so its okay to have one to one mapping. At least would be some improvement for now. The certificates are the same in both peer and envoy server in front of him?","username":"vanitas92","ts":"2019-06-24T20:24:08.128Z"}
{"msg":"@vanitas92 I think I used the tcp_proxy filter in envoy which acts as a pass through for tls traffic, so envoy doesn't have to do anything for the TLS. It's been a long time and I barely remember anything. Maybe some with a good experience with Envoy will be able to help better.  ","username":"AshishMishra 1","ts":"2019-06-24T20:54:33.916Z"}
{"msg":"Has joined the channel.","username":"richardmurillo","ts":"2019-06-24T21:00:28.029Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MartinKanala","ts":"2019-06-25T22:31:56.092Z","type":"uj"}
{"msg":"Hi, any body deployed zookeeper  cluster  across  multiple kubernetes clusters,if any body knew this scenario kindly  help me","username":"Ramrockez143","ts":"2019-06-26T06:14:38.533Z"}
{"msg":"Is there a dockerized version of configtxlator anywhere? \nWant to stick it in my cluster.\nI know I can run it server local or from the command line, but I'd prefer to keep everything together without going to the trouble of rolling the whole thing myself. \nGoogle wasn't my friend with a quick search for one.","username":"aatkddny","ts":"2019-06-27T15:21:44.464Z"}
{"msg":"Has joined the channel.","username":"UnaiUrkiaga","ts":"2019-06-28T10:31:23.281Z","type":"uj"}
{"msg":"@vanitas92 How did you get round the orderer TCP issue? I've set SANs but it's defaulting to IP addresses.","username":"aatkddny","ts":"2019-06-28T15:15:22.981Z"}
{"msg":"Has joined the channel.","username":"harsh-98","ts":"2019-06-29T09:28:12.643Z","type":"uj"}
{"msg":"I am running fabric on minikube. I have successfully created the channel and made peers join the channel and installed the chaincode. Instantiate chaincode fails. I know that it is related to chaincode container being created by peer not being recognized by kubernetes. Having this issue for 3-4 days not able to debug.","username":"harsh-98","ts":"2019-06-29T09:32:15.837Z"}
{"msg":"","username":"harsh-98","ts":"2019-06-29T09:33:03.627Z","attachments":[{"type":"file","title":"cli.png","title_link":"/file-upload/gw879pCDZu63Rtdcp/cli.png","image_url":"/file-upload/gw879pCDZu63Rtdcp/cli.png","image_type":"image/png","image_size":48745,"url":"/file-upload/gw879pCDZu63Rtdcp/cli.png","remote":false,"fileId":"gw879pCDZu63Rtdcp","fileName":"cli.png"}]}
{"msg":"","username":"harsh-98","ts":"2019-06-29T09:33:24.610Z","attachments":[{"type":"file","title":"peer.png","title_link":"/file-upload/sPr22ggctXZBWkZmG/peer.png","image_url":"/file-upload/sPr22ggctXZBWkZmG/peer.png","image_type":"image/png","image_size":45824,"url":"/file-upload/sPr22ggctXZBWkZmG/peer.png","remote":false,"fileId":"sPr22ggctXZBWkZmG","fileName":"peer.png"}]}
{"msg":"also where to put `DOCKER_OPTS=\"--dns=10.96.0.10 --dns=192.168.0.1 --dns-search default.svc.cluster.local --dns-search svc.cluster.local --dns-opt ndots:2 --dns-opt timeout:2 --dns-opt attempts:2 \"` i mean in pod or host and any help,","username":"harsh-98","ts":"2019-06-29T09:37:08.105Z"}
{"msg":"Has joined the channel.","username":"davidkel","ts":"2019-06-29T19:16:57.240Z","type":"uj"}
{"msg":"@aatkddny I did not experience any orderer tcp issue while setting up RAFT. What was the problem?","username":"vanitas92","ts":"2019-07-01T07:24:44.861Z"}
{"msg":"The problem for those following along was that I was trying to put my orderers in with the peers - I have a consortium requirement. \nThere's a mismatch in the configtx org definition when you put the peerOrganization msp in the MSPDir profile in the org because you have peers but then have it use ordererOrganization certs to generate the genesis block because you want it to have orderers too. ","username":"aatkddny","ts":"2019-07-01T12:26:44.444Z"}
{"msg":"configtxlater is in the `us.gcr.io/provenance-io/hyperledger-fabric-tools` image ... you should be able to start and run an instance using that image ... or just run it locally via shell/shell scripts as needed ... at least that has been our approach.","username":"iramiller","ts":"2019-07-01T21:22:40.168Z"}
{"msg":"hey","username":"vanitas92","ts":"2019-07-02T08:42:14.905Z"}
{"msg":"guys i have managed to put an envoy in front of peer endpoint in order to protect it with TLS, here you can find the config file in case you need it:\n```\n    static_resources:\n      listeners:\n      - name: listener_grpcs\n        address:\n          socket_address: { address: 0.0.0.0, port_value: 7051 }\n        filter_chains:\n        - filters:\n          - name: envoy.http_connection_manager\n            typed_config:\n              \"@type\": type.googleapis.com/envoy.config.filter.network.http_connection_manager.v2.HttpConnectionManager\n              codec_type: auto\n              stat_prefix: ingress_http\n              route_config:\n                name: local_route\n                virtual_hosts:\n                - name: backend\n                  domains: [\"*\"]\n                  routes:\n                  - match:\n                      prefix: \"/\"\n                      grpc: {}\n                    route:\n                      cluster: service_grpcs\n              http_filters:\n              - name: envoy.router\n                typed_config: {}\n          tls_context:\n            common_tls_context:\n              tls_certificates:\n                - certificate_chain:\n                    filename: \"/etc/envoy/certs/server.crt\"\n                  private_key:\n                    filename: \"/etc/envoy/certs/server.key\"\n      clusters:\n      - name: service_grpcs\n        connect_timeout: 5s\n        type: strict_dns\n        lb_policy: round_robin\n        http2_protocol_options: {}\n        load_assignment:\n          cluster_name: service_grpcs\n          endpoints:\n          - lb_endpoints:\n            - endpoint:\n                address:\n                  socket_address: \n                    address: peer0-org1\n                    port_value: 7051\n        tls_context:\n          common_tls_context:\n            tls_certificates:\n              - certificate_chain:\n                  filename: \"/etc/envoy/certs/server.crt\"\n                private_key:\n                  filename: \"/etc/envoy/certs/server.key\"        \n    admin:\n      access_log_path: /tmp/admin_access.log\n      address:\n        socket_address:\n          address: 0.0.0.0\n          port_value: 8001\n```","username":"vanitas92","ts":"2019-07-02T08:46:08.521Z"}
{"msg":"guys i have managed to put an envoy in front of peer endpoint in order to protect it with TLS, here you can find the config file in case you need it:\n```\nstatic_resources:\n  listeners:\n    - name: listener_grpcs\n      address:\n        socket_address: { address: 0.0.0.0, port_value: 7051 }\n      filter_chains:\n        - filters:\n            - name: envoy.http_connection_manager\n              typed_config:\n                \"@type\": type.googleapis.com/envoy.config.filter.network.http_connection_manager.v2.HttpConnectionManager\n                codec_type: auto\n                stat_prefix: ingress_http\n                route_config:\n                  name: local_route\n                  virtual_hosts:\n                    - name: backend\n                      domains: [\"*\"]\n                      routes:\n                        - match:\n                            prefix: \"/\"\n                            grpc: {}\n                          route:\n                            cluster: service_grpcs\n                http_filters:\n                  - name: envoy.router\n                    typed_config: {}\n          tls_context:\n            common_tls_context:\n              tls_certificates:\n                - certificate_chain:\n                    filename: \"/etc/envoy/certs/server.crt\"\n                  private_key:\n                    filename: \"/etc/envoy/certs/server.key\"\n  clusters:\n    - name: service_grpcs\n      connect_timeout: 5s\n      type: strict_dns\n      lb_policy: round_robin\n      http2_protocol_options: {}\n      load_assignment:\n        cluster_name: service_grpcs\n        endpoints:\n          - lb_endpoints:\n              - endpoint:\n                  address:\n                    socket_address:\n                      address: peer0-org1\n                      port_value: 7051\n      tls_context:\n        common_tls_context:\n          tls_certificates:\n            - certificate_chain:\n                filename: \"/etc/envoy/certs/server.crt\"\n              private_key:\n                filename: \"/etc/envoy/certs/server.key\"\nadmin:\n  access_log_path: /tmp/admin_access.log\n  address:\n    socket_address:\n      address: 0.0.0.0\n      port_value: 8001\n\n```","username":"vanitas92","ts":"2019-07-02T08:46:08.521Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric-questions?msg=sg9R8nTAD8tJtvixG","username":"pankajcheema","ts":"2019-07-02T08:46:42.456Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-questions?msg=sg9R8nTAD8tJtvixG","url":"https://chat.hyperledger.org/channel/fabric-questions?msg=sg9R8nTAD8tJtvixG","remote":true,"fileId":null,"fileName":null}]}
{"msg":" Hi pankaj,\nyou are using peer cli to perform these operations? Just check the PEER MSP ID tag there ?","username":"raj_shekhar","ts":"2019-07-04T06:54:49.375Z"}
{"msg":" Hi pankaj,\nyou are using peer cli to perform these operations? Just check the PEER MSP ID tag there ","username":"raj_shekhar","ts":"2019-07-04T06:54:49.375Z"}
{"msg":" Hi pankaj,\nyou are using peer cli to perform these operations? Just check the PEER MSP ID tag there .","username":"raj_shekhar","ts":"2019-07-04T06:54:49.375Z"}
{"msg":"@raj_shekhar yes I am aware with that","username":"pankajcheema","ts":"2019-07-04T14:47:48.474Z"}
{"msg":"I was having some issue with my volume ","username":"pankajcheema","ts":"2019-07-04T14:48:03.306Z"}
{"msg":"Recreated them and it works fine ","username":"pankajcheema","ts":"2019-07-04T14:48:22.170Z"}
{"msg":"Has joined the channel.","username":"delao","ts":"2019-07-04T16:59:11.022Z","type":"uj"}
{"msg":"great...","username":"raj_shekhar","ts":"2019-07-05T04:05:15.274Z"}
{"msg":"great,,","username":"raj_shekhar","ts":"2019-07-05T04:05:55.436Z"}
{"msg":"Hi All , I am facing a strange issue  . I am having 2 ORGs each having 1 peer ","username":"pankajcheema","ts":"2019-07-05T09:59:29.285Z"}
{"msg":"Hi All , I am facing a strange issue  . I am having 2 ORGs each having 1 peer . 1 orderer , my peer0 of org1 is able to communicate with ordering service using kubernetes service name `ordering-service` . but peer0 of org2 is throwing error like ``` grpc: addrConn.createTransport failed to connect to {ordering-service:7050 0  <nil>}. Err :connection error: desc = \"transport: authentication handshake failed: x509: certificate is valid for orderer.example.com, orderer, not ordering-service\". Reconnecting...\n```","username":"pankajcheema","ts":"2019-07-05T09:59:29.285Z"}
{"msg":"any idea ?","username":"pankajcheema","ts":"2019-07-05T10:01:57.022Z"}
{"msg":"what i am missing ?","username":"pankajcheema","ts":"2019-07-05T10:02:26.476Z"}
{"msg":"Hello all,\nI have deployed a network in k8s.Now i am able to install and instantiate the chaincode. Chaincode container also getting created after instantiation. But when i run commond \npeer chaincode list --instantiated -C mychannel\n\nThen ","username":"Dhiraj1990","ts":"2019-07-08T12:24:23.217Z"}
{"msg":"Hello all,\nI have deployed a network in k8s.Now i am able to install and instantiate the chaincode. Chaincode container also getting created after instantiation. But when i run commond \npeer chaincode list --instantiated -C mychannel\n\nThen i don't get instantiated chaincode in list. Please help me why this issue coming ","username":"Dhiraj1990","ts":"2019-07-08T12:24:23.217Z"}
{"msg":"I'm not sure it's the correct answer, but I got round this by having my crypto config files look something like this:\n```\n      - Hostname: raft0\n        CommonName: \"{{.Hostname}}-{{.Domain}}\"      \n        SANS:\n          - \"{{.Hostname}}\"        \n          - \"*.{{.Domain}}\"        \n          - \"localhost\"  \n          - \"127.0.0.1\"            \n```","username":"aatkddny","ts":"2019-07-10T00:20:47.517Z"}
{"msg":"I'm not sure it's the official correct answer, but I got round this by having my crypto config files look something like this:\n```\n      - Hostname: raft0\n        CommonName: \"{{.Hostname}}-{{.Domain}}\"      \n        SANS:\n          - \"{{.Hostname}}\"        \n          - \"*.{{.Domain}}\"        \n          - \"localhost\"  \n          - \"127.0.0.1\"            \n```","username":"aatkddny","ts":"2019-07-10T00:20:47.517Z"}
{"msg":"Has anyone managed to get the java sdk to talk to a raft orderer inside k8s up to the point where you create a channel (which I can do) and then install and instantiate chaincode (which doesn't work so well)? \nOr am I the first - which explains why I keep running across problems.  ","username":"aatkddny","ts":"2019-07-11T00:08:53.852Z"}
{"msg":"Has anyone managed to get the java sdk to talk to a raft orderer inside k8s up to the point where you create a channel (which I can do) and then install and instantiate chaincode (which doesn't work so well)? \nOr am I the first - which explains why I keep running across problems.  The latest is to do with service discovery and eventing. It looks like somehow it switches to ip addresses from names internally. \n\n","username":"aatkddny","ts":"2019-07-11T00:08:53.852Z"}
{"msg":"I am also facing the same issue, Error: `Error: endorsement failure during query. response: status:500 message:\"make sure the chaincode mycc has been successfully instantiated and try again: chaincode mycc not\nfound\"\n`","username":"harsh-98","ts":"2019-07-11T13:46:27.691Z"}
{"msg":"I am also facing the same issue, Error: \n`Error: endorsement failure during query. response: status:500 message:\"make sure the chaincode mycc has been successfully instantiated and try again: chaincode mycc not\nfound\"`","username":"harsh-98","ts":"2019-07-11T13:46:27.691Z"}
{"msg":"I am also facing the same issue, Error: \n`Error: could not assemble transaction, err proposal response was not successful, error code 500, msg chaincode registration failed: container exited with 0`","username":"harsh-98","ts":"2019-07-11T13:46:27.691Z"}
{"msg":"@aatkddny can you elaborate on SD and ip addresses? ","username":"yacovm","ts":"2019-07-11T20:43:18.107Z"}
{"msg":"@yacovm rather than rehash this latest issue i'll link to it if that's ok.\nhttps://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B\n","username":"aatkddny","ts":"2019-07-11T22:31:58.117Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B","url":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@yacovm rather than rehash this latest issue i'll link to it if that's ok.\nhttps://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B\n\nI'm referring in particular to the second post in the thread - what happens after one gets past this problem by editing the hosts file.","username":"aatkddny","ts":"2019-07-11T22:31:58.117Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B","url":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@yacovm rather than rehash this latest issue i'll link to it if that's ok.\nhttps://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B\n\nI'm referring in particular to the second post in the thread - what happens after one gets past this problem by editing the hosts file. \nThe ip address it is unhappy with is the one kubernetes assigned to the peer1- pod. ","username":"aatkddny","ts":"2019-07-11T22:31:58.117Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B","url":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=uZPd9ZxoKirq6aK4B","remote":true,"fileId":null,"fileName":null}]}
{"msg":">  and it is accessed externally through a node port at localhost:30020.\nhow can it be accessed externally via localhost? @aatkddny ","username":"yacovm","ts":"2019-07-12T09:37:09.091Z"}
{"msg":"@yacovm This is a single node k8s install running locally on my mac. \nThe fabric touchpoints - peers and orderers are exposed as nodeports. \n\nThis part of the my application is running on the same machine and using the HFClient in the java sdk to create a channel dynamically - which appears to work - and then load and instantiate chaincode on the same - which is running into problems. You need to read the second entry to get to where my real issue lies here.\n\nAnd anticipating your question - the sdk doesn't support using an ingress. There's a chunk of code with a TODO in it for same.    ","username":"aatkddny","ts":"2019-07-12T12:27:20.929Z"}
{"msg":"@yacovm This is a single node k8s install running locally on my mac. \nThe fabric touchpoints - peers and orderers are exposed as nodeports. \n\nThis part of the my application is running on the same machine and using the HFClient in the java sdk to create a channel dynamically - which appears to work - and then load and instantiate chaincode on the same - which is running into problems. You need to read the second entry that it didn't embed to get to where my real issue lies here.\n\nAnd anticipating your question - the sdk doesn't support using an ingress. There's a chunk of code with a TODO in it for same.    ","username":"aatkddny","ts":"2019-07-12T12:27:20.929Z"}
{"msg":"@yacovm This is a single node k8s install running locally on my mac. \nThe fabric touchpoints - peers and orderers are exposed as nodeports. \n\nThis part of the my application is running on the same machine and using the HFClient in the java sdk to create a channel dynamically - which appears to work - and then load and instantiate chaincode on the same - which is running into problems. You need to read the second entry that it didn't embed to get to where my real issue lies here.\n\nAnd anticipating your question - the sdk doesn't support using an ingress. There's a chunk of code with a TODO in it for same.    \n\nEdit: This one\nhttps://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT","username":"aatkddny","ts":"2019-07-12T12:27:20.929Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT","url":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@yacovm This is a single node k8s install running locally on my mac. \nThe fabric touchpoints - peers and orderers are exposed as nodeports. \n\nThis part of the my application is running on the same machine and using the HFClient in the java sdk to create a channel dynamically - which appears to work - and then load and instantiate chaincode on the same - which is running into problems. You need to read the second entry that it didn't embed to get to where my real issue lies here.\n\nAnd anticipating your question - the sdk doesn't support using an ingress. There's a chunk of code with a TODO in it for same.    \n\nEdit: This one\nhttps://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT\n\nTo help clarify - inside k8s the two peers for this org - peer0-org and peer1-org are at 10.1.6.240 and 10.1.6.241 respectively. \n\nAnd since I spent a little time looking at it this morning, the problem here was that I switched to using core.yaml to define the peer and the chaincode listen address was commented out.\nSetting it to localhost:7052 fixes this error and gets me to this one instead. This is the log from peer1- now at 10.1.6.243 with peer0- at 10.1.6.242 \n\n```\n2019-07-12 12:41:51.595 UTC [gossip.channel] reportMembershipChanges -> INFO 04c Membership view has changed. peers went online:  [[peer0-org:30020 10.1.6.242:7051]] , current view:  [[peer0-org:30020 10.1.6.242:7051]]\n2019-07-12 12:52:23.372 UTC [comm.grpc.server] 1 -> INFO 04d unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=9.8847ms\n2019-07-12 12:52:32.909 UTC [comm.grpc.server] 1 -> INFO 04e unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=1.7358ms\n2019-07-12 12:52:37.909 UTC [core.comm] ServerHandshake -> ERRO 04f TLS handshake failed with error read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout server=PeerServer remoteaddress=192.168.65.3:56202\n2019-07-12 12:52:37.909 UTC [grpc] handleRawConn -> DEBU 050 grpc: Server.Serve failed to complete security handshake from \"192.168.65.3:56202\": read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout\n2019-07-12 12:52:41.606 UTC [grpc] infof -> DEBU 051 transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n2019-07-12 12:52:41.606 UTC [grpc] infof -> DEBU 052 transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n2019-07-12 12:52:41.606 UTC [grpc] infof -> DEBU 053 transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n2019-07-12 12:52:41.609 UTC [comm.grpc.server] 1 -> INFO 054 streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=192.168.65.3:56182 error=\"context finished before block retrieved: context canceled\" grpc.code=Unknown grpc.call_duration=13.8392412s\n2019-07-12 12:52:41.612 UTC [comm.grpc.server] 1 -> INFO 055 streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=192.168.65.3:56162 error=\"context finished before block retrieved: context canceled\" grpc.code=Unknown grpc.call_duration=13.9075399s\n2019-07-12 12:54:42.870 UTC [core.comm] ServerHandshake -> ERRO 056 TLS handshake failed with error read tcp 10.1.6.243:7051->192.168.65.3:56582: i/o timeout server=PeerServer remoteaddress=192.168.65.3:56582\n2019-07-12 12:54:42.871 UTC [grpc] handleRawConn -> DEBU 057 grpc: Server.Serve failed to complete security handshake from \"192.168.65.3:56582\": read tcp 10.1.6.243:7051->192.168.65.3:56582: i/o timeout\n```\n\nThe error in the SDK is coming from the X509 Cert - `java.io.IOException: No extension found with name NetscapeCertType`\nIt's in the peer eventing stuff, which means the machine keeps throwing threads as you try to look at it, but it all stems from it trying to send a discovery request.\n","username":"aatkddny","ts":"2019-07-12T12:27:20.929Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT","url":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@yacovm This is a single node k8s install running locally on my mac. \nThe fabric touchpoints - peers and orderers are exposed as nodeports. \n\nThis part of the my application is running on the same machine and using the HFClient in the java sdk to create a channel dynamically - which appears to work - and then load and instantiate chaincode on the same - which is running into problems. You need to read the second entry that it didn't embed to get to where my real issue lies here.\n\nAnd anticipating your question - the sdk doesn't support using an ingress. There's a chunk of code with a TODO in it for same.    \n\nEdit: This one\nhttps://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT\n\nTo help clarify - inside k8s the two peers for this org - peer0-org and peer1-org were at 10.1.6.240 and 10.1.6.241 respectively. \n\nAnd since I spent a little time looking at it this morning, the problem here was that I switched to using core.yaml to define the peer and the chaincode listen address was commented out.\nSetting it to localhost:7052 fixes this error and gets me to this one instead. This is the log from peer1- now at 10.1.6.243 with peer0- at 10.1.6.242 \n\n```\n2019-07-12 12:41:51.595 UTC [gossip.channel] reportMembershipChanges -> INFO 04c Membership view has changed. peers went online:  [[peer0-org:30020 10.1.6.242:7051]] , current view:  [[peer0-org:30020 10.1.6.242:7051]]\n2019-07-12 12:52:23.372 UTC [comm.grpc.server] 1 -> INFO 04d unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=9.8847ms\n2019-07-12 12:52:32.909 UTC [comm.grpc.server] 1 -> INFO 04e unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=1.7358ms\n2019-07-12 12:52:37.909 UTC [core.comm] ServerHandshake -> ERRO 04f TLS handshake failed with error read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout server=PeerServer remoteaddress=192.168.65.3:56202\n2019-07-12 12:52:37.909 UTC [grpc] handleRawConn -> DEBU 050 grpc: Server.Serve failed to complete security handshake from \"192.168.65.3:56202\": read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout\n2019-07-12 12:52:41.606 UTC [grpc] infof -> DEBU 051 transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n2019-07-12 12:52:41.606 UTC [grpc] infof -> DEBU 052 transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n2019-07-12 12:52:41.606 UTC [grpc] infof -> DEBU 053 transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n2019-07-12 12:52:41.609 UTC [comm.grpc.server] 1 -> INFO 054 streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=192.168.65.3:56182 error=\"context finished before block retrieved: context canceled\" grpc.code=Unknown grpc.call_duration=13.8392412s\n2019-07-12 12:52:41.612 UTC [comm.grpc.server] 1 -> INFO 055 streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=192.168.65.3:56162 error=\"context finished before block retrieved: context canceled\" grpc.code=Unknown grpc.call_duration=13.9075399s\n2019-07-12 12:54:42.870 UTC [core.comm] ServerHandshake -> ERRO 056 TLS handshake failed with error read tcp 10.1.6.243:7051->192.168.65.3:56582: i/o timeout server=PeerServer remoteaddress=192.168.65.3:56582\n2019-07-12 12:54:42.871 UTC [grpc] handleRawConn -> DEBU 057 grpc: Server.Serve failed to complete security handshake from \"192.168.65.3:56582\": read tcp 10.1.6.243:7051->192.168.65.3:56582: i/o timeout\n```\n\nThe error in the SDK is coming from the X509 Cert - `java.io.IOException: No extension found with name NetscapeCertType`\nIt's in the peer eventing stuff, which means the machine keeps throwing threads as you try to look at it, but it all stems from it trying to send a discovery request.\n","username":"aatkddny","ts":"2019-07-12T12:27:20.929Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT","url":"https://chat.hyperledger.org/channel/fabric-sdk-java?msg=Gnr59mPKqk8z3jzsT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@aatkddny so I opened a JIRA to make peers publish custom endpoints for discovery to publish along with what it publishes now","username":"yacovm","ts":"2019-07-12T13:29:16.566Z"}
{"msg":"so you can configure peers to use localhost and the ports","username":"yacovm","ts":"2019-07-12T13:29:25.837Z"}
{"msg":"would that help you?","username":"yacovm","ts":"2019-07-12T13:29:28.196Z"}
{"msg":"I really need the java sdk to support an ingress tbh. I have a jira for that in already. FAB-15877.\n\nThis problem - now I have a few minutes to look at it - is coming from service discovery in peer eventing inside the java sdk. \nI'll move my observations and question over there. It's out of scope for this.\n\nMy question here still stands though.\nI know the java sdk is the read-headed stepchild of fabric, but has anyone managed to get it working talking to the latest hlf inside kubernetes. \nBy working I mean up to and including adding orgs dynamically, creating channels and installing and instantiating chaincode working.\nOurs was fine until moving to raft - mostly because we glossed over the complexities of securing everything. Now it's been a litany of problems and a total time suck. ","username":"aatkddny","ts":"2019-07-12T13:49:41.029Z"}
{"msg":"Has joined the channel.","username":"helgaw","ts":"2019-07-12T19:55:35.610Z","type":"uj"}
{"msg":"@aatkddny you opened it for Fabric which is used for Fabric core, but it is a java SDK issue","username":"yacovm","ts":"2019-07-12T20:53:58.845Z"}
{"msg":"I moved it to the Java SDK project for you","username":"yacovm","ts":"2019-07-12T20:54:25.220Z"}
{"msg":"I thought I put it under the java sdk. Oops.","username":"aatkddny","ts":"2019-07-12T22:41:06.172Z"}
{"msg":"t is giving error:\n```Error: could not assemble transaction, err proposal response was not successful, error code 500, msg timeout expired while starting chaincode mycc:1.0 for transaction```\nhttps://lists.hyperledger.org/g/fabric/topic/30469542\nAny solution","username":"harsh-98","ts":"2019-07-13T06:33:33.845Z"}
{"msg":"Anyone deployed a network with nodes on two different kubernetes clusters and communicate over the internet? How does peer to peer communication work and where are the settings to give the IP address of nodes?","username":"ygnr","ts":"2019-07-15T08:21:43.490Z"}
{"msg":"\nHello, does anyone know a tutorial to implement a network of multiple nodes with kubernetes?","username":"AndresMartinezMelgar.itcl","ts":"2019-07-17T06:53:49.499Z"}
{"msg":"@AndresMartinezMelgar.itcl multiple nodes meaning multiple Kubernetes clusters? That is going to be a complex thing to do at least until FAB-15877 is completed and/or support for ingress methods is in place.","username":"iramiller","ts":"2019-07-17T17:07:41.455Z"}
{"msg":"@iramiller I have deployed it","username":"pankajcheema","ts":"2019-07-18T03:59:44.801Z"}
{"msg":"Hi iramiller\nI do not mean multiple Kubernetes clusters, but rather that the network is distributed on several computers and that the information is shared through the network, not a shared folder.\nThe vast majority of examples I have seen are done with docker using shared volumes for the information (so the network is not distributed but is centralized)","username":"AndresMartinezMelgar.itcl","ts":"2019-07-18T06:06:49.777Z"}
{"msg":"I believe the helm charts that someone made will do away with the shared volume configuration... those are published in the central helm registry and are a good reference if you are just getting started building up a HLF install in kubernetes.","username":"iramiller","ts":"2019-07-18T14:50:53.902Z"}
{"msg":"@pankajcheema -- we have a dozen different cloud instances for member orgs all working together each with 3 peers, etc. distributed across Azure, AWS, and GKE ... it is certainly possible to do but not something that should be considered straight forward.","username":"iramiller","ts":"2019-07-18T14:52:48.043Z"}
{"msg":"https://stackoverflow.com/questions/57106103/kubeadm-setting-up-cluster-on-aws","username":"sahilgoel","ts":"2019-07-19T05:45:28.013Z"}
{"msg":"Any comment on the same?","username":"sahilgoel","ts":"2019-07-19T05:45:32.385Z"}
{"msg":"Hello, is it possible to set a specific hard disk to a specific peer in GCP? Because when i try to create volumes with their own hard disks in GCP, my peers take a random disk, not the disk i wanted...","username":"JorgeNavarro","ts":"2019-07-29T08:49:01.778Z"}
{"msg":"https://stackoverflow.com/questions/57265280/hyperledger-fabric-unable-to-invoke-using-node-sdk","username":"sahilgoel","ts":"2019-07-30T06:11:11.268Z"}
{"msg":"Please have a look at the above question","username":"sahilgoel","ts":"2019-07-30T06:11:28.622Z"}
{"msg":"Has joined the channel.","username":"Khaled.MH","ts":"2019-07-30T10:56:57.163Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ibanfi","ts":"2019-07-30T15:18:23.059Z","type":"uj"}
{"msg":"do mean some sort of actual specific physical disk or simply assign a consistent PVC/PV ?","username":"iramiller","ts":"2019-07-30T20:02:02.268Z"}
{"msg":"i mean, i assign a disk to a pv, but if i have more than one pv with a disk assigned, my pvcs goes to a pv randomly, can we specify in which pv the pvc should go?","username":"JorgeNavarro","ts":"2019-08-01T07:21:32.342Z"}
{"msg":"you could get specific with sizes ... but I am not sure why you care which pv goes to which PVC as they have to be bound first before they can be used and once bound they should stay linked...","username":"iramiller","ts":"2019-08-01T16:41:10.349Z"}
{"msg":"I need a little help to figure out where to stick a jira.\nHas anyone had any luck with service discovery and k8s at all?\nThe reason I'm asking pertains to my post a few above this. If I run without SD I can install and instantiate some chain code (I'll get round to actually testing it later today).\nIf I run with SD it fails miserably with a bunch of this stuff\n\n```\n2019-07-12 12:52:23.372 UTC [comm.grpc.server] 1 -> INFO 04d unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=9.8847ms\n2019-07-12 12:52:32.909 UTC [comm.grpc.server] 1 -> INFO 04e unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=1.7358ms\n2019-07-12 12:52:37.909 UTC [core.comm] ServerHandshake -> ERRO 04f TLS handshake failed with error read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout server=PeerServer remoteaddress=192.168.65.3:56202\n2019-07-12 12:52:37.909 UTC [grpc] handleRawConn -> DEBU 050 grpc: Server.Serve failed to complete security handshake from \"192.168.65.3:56202\": read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout\n```","username":"aatkddny","ts":"2019-08-05T14:23:19.549Z"}
{"msg":"I just got back to HLF. Had to take a detour onto a different project. \n\nI need a little help to figure out where to stick a jira.\n\nHas anyone had any luck with service discovery, raft ordering and k8s at all?\nThe reason I'm asking pertains to my post a few above this. I found that if I run without SD I can install and instantiate chaincode just the same as I could before I detoured into raft hell. (I'll get round to actually testing it later today).\n\nIf I run with SD it fails miserably with a bunch of this stuff\n\n```\n2019-07-12 12:52:23.372 UTC [comm.grpc.server] 1 -> INFO 04d unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=9.8847ms\n2019-07-12 12:52:32.909 UTC [comm.grpc.server] 1 -> INFO 04e unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.peer_address=192.168.65.3:56160 grpc.code=OK grpc.call_duration=1.7358ms\n2019-07-12 12:52:37.909 UTC [core.comm] ServerHandshake -> ERRO 04f TLS handshake failed with error read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout server=PeerServer remoteaddress=192.168.65.3:56202\n2019-07-12 12:52:37.909 UTC [grpc] handleRawConn -> DEBU 050 grpc: Server.Serve failed to complete security handshake from \"192.168.65.3:56202\": read tcp 10.1.6.243:7051->192.168.65.3:56202: i/o timeout\n```\n\nIf I look in the peer logs it doesn't seem to like the IP address that it has - it's giving a bunch of stuff that looks like this `authentication handshake failed: x509: certificate is valid for 127.0.0.1, not 10.1.6.241`\n\nSo my question boils down to whether this has worked for anyone that doesn't use the java sdk, or if it is an actual hyperledger - vs that particular sdk - issue. It obviously needs to be fixed, I'm just unsure which particular group needs to know about it.","username":"aatkddny","ts":"2019-08-05T14:23:19.549Z"}
{"msg":"NM - it happens with a kafka setup without tls too. Can't imagine that hasn't been tested, so it's most likely either the SDK or user error.","username":"aatkddny","ts":"2019-08-06T00:27:31.051Z"}
{"msg":"Hello! Two questions: 1. What would happen to instantiated chaincodes and the ledger itself if peer is restarted on different pod or being rescheduled? Did anyone test such behaviour in k8s. 2. Is there way do decouple peer's state DB to keep it separately as persistent data?","username":"ihormudryy","ts":"2019-08-12T13:14:26.052Z"}
{"msg":"@ihormudryy you will want to setup your kubernetes peer deployments with all of their state on mounted volumes so that when the peer restarts / moves to another node the state information follows.  If you are using the <=1.4.x series of HLF with peer managed chain code instances scheduled via docker on the host itself then you will likely find chaincode instance management within a kubernetes cluster to have some additional challenges especially if you are on small instances where resource limitations come into play.  For our environments we patched that docker scheduling of chaincode containers out for one that used kubernetes managed deployments so I can not provide much advice on those pieces.  There are others in this channel that are running the stock HLF though with success so it can be done.","username":"iramiller","ts":"2019-08-12T16:00:07.154Z"}
{"msg":"WRT the state database - you can run a couch database for state and map to a pvc. We run in the peer node as a secondary container. \nI'll throw you a bone - the config looks like this for a single peer-db instance. \n```\n- name: blockcouchdbpeer1\n        image: hyperledger/fabric-couchdb\n        env:\n        - name: COUCHDB_USER\n          value: peer1\n        - name: COUCHDB_PASSWORD\n          value: password\n        volumeMounts:\n        - mountPath: /opt/couchdb/data\n          name: peer\n          subPath: couch/blockcouchdbpeer1\n        readinessProbe:\n          initialDelaySeconds: 10\n          timeoutSeconds: 10\n          httpGet:\n            path: /\n            port: 5984\n            scheme: HTTP\n        ports:\n        - containerPort: 5984\n      restartPolicy: Always\n      volumes:\n      - name: peer\n        persistentVolumeClaim:\n          claimName: bc-storage\n```","username":"aatkddny","ts":"2019-08-15T00:18:54.656Z"}
{"msg":"WRT the state database - you can run a couch database for state and map to a pvc. We run in the peer node as a secondary container. \nI'll throw you a bone - the config looks like this for a single peer-db instance in my local test setup. Obviously it's a bit more secure from a user/password perspective elsewhere. \n```\n- name: blockcouchdbpeer1\n        image: hyperledger/fabric-couchdb\n        env:\n        - name: COUCHDB_USER\n          value: peer1\n        - name: COUCHDB_PASSWORD\n          value: password\n        volumeMounts:\n        - mountPath: /opt/couchdb/data\n          name: peer\n          subPath: couch/blockcouchdbpeer1\n        readinessProbe:\n          initialDelaySeconds: 10\n          timeoutSeconds: 10\n          httpGet:\n            path: /\n            port: 5984\n            scheme: HTTP\n        ports:\n        - containerPort: 5984\n      restartPolicy: Always\n      volumes:\n      - name: peer\n        persistentVolumeClaim:\n          claimName: bc-storage\n```","username":"aatkddny","ts":"2019-08-15T00:18:54.656Z"}
{"msg":"WRT 1: iirc - to get round the chaincode issue we map the dind directory to persistent (local on my machine or nfs in a cluster) storage. It seems to survive peer restarts without too much angst that way. I'll need to go back and see what we did for that - it was a while ago - if you can't figure it out.","username":"aatkddny","ts":"2019-08-15T00:22:27.146Z"}
{"msg":"Has joined the channel.","username":"ihorbilovus","ts":"2019-08-15T14:07:42.499Z","type":"uj"}
{"msg":"@aatkddny \ndo you use docker in docker for peers?","username":"ihorbilovus","ts":"2019-08-15T14:07:44.132Z"}
{"msg":"yes","username":"aatkddny","ts":"2019-08-15T14:08:43.484Z"}
{"msg":"Why do you use NFS for DinD storage. Can we use just persistent directory or this storage should be shared between all peers?","username":"ihorbilovus","ts":"2019-08-15T14:11:57.977Z"}
{"msg":"Because I can't control which peer it gets mapped to. This allows me to not care if it restarts on another peer.","username":"aatkddny","ts":"2019-08-15T14:34:03.207Z"}
{"msg":"Has joined the channel.","username":"galaxystar","ts":"2019-08-20T01:22:57.493Z","type":"uj"}
{"msg":"I would like to know how you guyz are dealing with \".\" notation with the hostnames in kubernetes deployment","username":"Chandoo","ts":"2019-08-20T16:32:44.941Z"}
{"msg":"How the dns alises being used in the deployment","username":"Chandoo","ts":"2019-08-20T16:33:22.069Z"}
{"msg":"@Chandoo ... We use `pod_name.namespace` i.e. `peer-2.memberorgname` in our environments ... we route all of our blockchain platform call on the inside of the Kubernetes network and do not expose these services directly on the internet which makes things much easier... ","username":"iramiller","ts":"2019-08-20T16:40:21.545Z"}
{"msg":"@iramiller : thank you, I got it","username":"Chandoo","ts":"2019-08-20T16:47:59.184Z"}
{"msg":"I am migrating from docker swarm to kubernetes. in swarm they created wired names that includes hostname.env.extraname.domainname, all the bootstrapping scripts are being auto generated with that wired name. I am dealing with it right now. I am recommending changes to similar to what you suggested.","username":"Chandoo","ts":"2019-08-20T16:50:36.712Z"}
{"msg":"@iramiller : how you are routing the service layer that is comming from internet into the cluster reaching the orderer","username":"Chandoo","ts":"2019-08-20T16:51:50.534Z"}
{"msg":"@Chandoo we use a wireguard VPN connection on a host that is dual homed with the pod network/public internet in each of our member cloud environments  and then point other member services (peers, ca, etc as well as orderers) using the `service.membername` format for services that have custom endpoints point to addresses on the wireguard vpn IP ... which then forwards this traffic directly into the destination member cluster to the kubernetes service reference that points to the pod/container instance ...  this in effect means that any member can resolve any other member's services in any of the other clouds [GKE, EKS, AKS] and route directly to them all while using a fully encrypted single IP/port tunnel interface","username":"iramiller","ts":"2019-08-20T17:00:16.739Z"}
{"msg":"This environment has worked very well for us especially with certain banking partners that have extremely tight network access control policies.  We have well over a dozen different member org instances in different public clouds/availability zones all over that are built on this setup.","username":"iramiller","ts":"2019-08-20T17:02:08.977Z"}
{"msg":"@iramiller : thanks for the elaborate explanation.  ","username":"Chandoo","ts":"2019-08-20T17:41:54.884Z"}
{"msg":"Has joined the channel.","username":"Salaria_77","ts":"2019-08-21T07:14:55.481Z","type":"uj"}
{"msg":"Hi all, i am not able to create replicas for the peer, i have running network it works fine , but when i increase replicas fir the peer it gives following error, looks like only one peer is able to establish connection with single peer.\npanic: Error opening leveldb: resource temporarily unavailable\n","username":"Salaria_77","ts":"2019-08-21T07:18:36.533Z"}
{"msg":"Hi all, i am not able to create replicas for the peer, i have running network it works fine , but when i increase replicas  the peer it gives following error, looks like only one peer is able to establish connection with single peer.\npanic: Error opening leveldb: resource temporarily unavailable\n","username":"Salaria_77","ts":"2019-08-21T07:18:36.533Z"}
{"msg":"Hi all, i am not able to create replicas for the peer, i have running network it works fine , but when i increase replicas  of the peer it gives following error, looks like only one peer is able to establish connection with level db.\npanic: Error opening leveldb: resource temporarily unavailable\n","username":"Salaria_77","ts":"2019-08-21T07:18:36.533Z"}
{"msg":"Hi all, i am not able to create replicas for the peer, i have running network it works fine , but when i increase replicas  of the peer it gives following error, looks like only one peer is able to establish connection with level db.\npanic: Error opening leveldb: resource temporarily unavailable.\n","username":"Salaria_77","ts":"2019-08-21T07:18:36.533Z"}
{"msg":"each peer should have its own state store @Salaria_77 ... are you trying to share a single instance between more than one peer?","username":"iramiller","ts":"2019-08-22T16:35:00.763Z"}
{"msg":"@iramiller No i am creating replicas of the single peer.  I have a org with single peer0 and i am creating 3 replicas of single peer0, but couchdb is only addressing single replica at a time.","username":"Salaria_77","ts":"2019-08-23T04:39:15.200Z"}
{"msg":"@iramiller No i am creating replicas of the single peer.  I have a org with single peer0 and i am creating 3 replicas of single peer0, but couchdb is only addressing single replica at a time. It looks like concurrency is not supported.","username":"Salaria_77","ts":"2019-08-23T04:39:15.200Z"}
{"msg":"make sure that you are separating your peers and couchdb instances by namespace (one namespace for each org) and then verify your peer configuration uses  `couchdb.orgnamespace` for the connection","username":"iramiller","ts":"2019-08-23T14:41:41.125Z"}
{"msg":"I am working with only one organization right now.","username":"Salaria_77","ts":"2019-08-26T04:41:57.931Z"}
{"msg":"If you are only working with a single org then you would have a single namespace ... and each peer should be uniquely named, and have its own state store ... in my setup I use a stateful set with each instance having two containers--one peer and one couchdb.  This approach ensure that the state store is local to the peer instance and provides some additional scheduling restrictions within kubernetes for how the instances are scheduled and disks are assigned.","username":"iramiller","ts":"2019-08-26T14:33:47.337Z"}
{"msg":"With the above setup set to 3 replicas I have `peer-0.namespace`, `peer-1.namespace` and `peer-2.namespace` where the `namespace` is the name of my organization (by convention)","username":"iramiller","ts":"2019-08-26T14:35:00.746Z"}
{"msg":"You can always stick a couchdb instance inside each pod for the peers. That way it'll self-segregate. ","username":"aatkddny","ts":"2019-08-26T21:33:39.861Z"}
{"msg":"@aatkddny - that is what I am referring to with the two container approach above. This setup means it is a localhost call to talk to couchdb which is a useful optimization as well.","username":"iramiller","ts":"2019-08-26T23:17:58.377Z"}
{"msg":"@iramiller that's what i figured, but the bit where you started talking about namespacing confused me to the point that I wrote my own response... ","username":"aatkddny","ts":"2019-08-27T12:03:22.573Z"}
{"msg":"@iramiller - It means i have to add new peers to the org with newly generated crypto material and those peers will be identified as diff entities inside the organisation.  What i want is to use replicas feature in deployment or statefulset so that i can have single peer entity replicated inside the cluster. ","username":"Salaria_77","ts":"2019-08-27T12:14:36.749Z"}
{"msg":"@iramiller - I think in my case one peer replica  is locking the couch or level db, that's why only one replica work at one time reset enter CrashLoopBackOff .","username":"Salaria_77","ts":"2019-08-27T12:24:07.861Z"}
{"msg":"@Salaria_77 if you are trying use a single peer registration and the replicas feature to load balance or provide fault tolerance I don't believe you are going to have any success... those questions should probably be posed to the #fabric-peer-endorser-committer channel.","username":"iramiller","ts":"2019-08-27T14:52:58.113Z"}
{"msg":"just aheads up in case anyone is using - or gets \"upgraded\" to a newer version of docker:dind as a sidecar. \nbe aware that docker set tls as a default after 18.09 so if you were using port 2375 without any env overrides it stops working unless you revert to an older version. ","username":"aatkddny","ts":"2019-08-27T18:39:46.270Z"}
{"msg":"@iramiller  @aatkddny - Thanks for you time.","username":"Salaria_77","ts":"2019-08-28T03:51:44.081Z"}
{"msg":"Has joined the channel.","username":"RuiPanNewbie","ts":"2019-08-29T19:36:32.926Z","type":"uj"}
{"msg":"Can Fabric run on Redhat OpenShift?\n","username":"DennisM330","ts":"2019-09-01T15:07:15.181Z"}
{"msg":"OpenShift is a cloud platform for containers isn't it?","username":"yacovm","ts":"2019-09-01T15:14:37.539Z"}
{"msg":"if you know how to run Fabric on openShift then it probably can","username":"yacovm","ts":"2019-09-01T15:14:59.313Z"}
{"msg":"i don't think there is something that limits you","username":"yacovm","ts":"2019-09-01T15:15:06.037Z"}
{"msg":"Has joined the channel.","username":"AnkurDaharwal","ts":"2019-09-03T09:36:20.095Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tbrunain","ts":"2019-09-04T07:21:31.801Z","type":"uj"}
{"msg":"Hello,\n\nIm currently trying to deploy a fabric network on kubernetes (which Im learning while doing that so I might have missed something ^^) and Im struggling with one part \n\nI dont want to use cryptogen to pre-generate all the certificates and then mount them into the different pods but use fabric-ca to generate them .\n\nSo  how the hell am I supposed to do that ? Like ok, I can generate the certificates via the fabric-client enroll command on those CA but then how can I take the generated certificates and put them into the peer/orderer pods ?\n\nThanks :) ","username":"tbrunain","ts":"2019-09-06T11:09:06.574Z"}
{"msg":"Hello,\n\nIm currently trying to deploy a fabric network on kubernetes (which Im learning while doing that so I might have missed some key concepts ^^) and Im struggling with one part \n\nI dont want to use cryptogen to pre-generate all the certificates and then mount them into the different pods but use fabric-ca to generate them .\n\nSo  how the hell am I supposed to do that ? Like ok, I can generate the certificates via the fabric-client enroll command on those CA but then how can I take the generated certificates and put them into the peer/orderer pods ?\n\nThanks :) ","username":"tbrunain","ts":"2019-09-06T11:09:06.574Z"}
{"msg":"Or am I wrong by thinking that I need to run the fabric-ca-client enroll directly onto the CA ? Definitely something I'm missing in there :x ","username":"tbrunain","ts":"2019-09-06T11:40:13.614Z"}
{"msg":"You can create a kubernetes secret from an MSP folder on your local system and then mount that as a volume on your peer and orderer nodes.  See https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-files-from-a-pod for more info on using secrets as files.\n\nYou can also use an init container to run the fabric-ca-client to enroll the user and generate the secret there as well.\n\nYou can also choose to only store the private key as a secret and all of the public key material can be stored on a mounted persistent volume","username":"mastersingh24","ts":"2019-09-06T12:55:54.963Z"}
{"msg":"@DennisM330 assuming you are running Fabric V1.x you will hit several issues around permissions and the docker in docker problem.  These workarounds have worked for me. ","username":"mwagner","ts":"2019-09-06T13:58:47.671Z"}
{"msg":"Look to use Secrets and ConfigMaps to replace host mounts\n\nUse NFS mounts where needed\n  oc adm policy add-scc-to-user hostmount-anyuid -z default\nReplace docker-compose, docker calls with:\n  kubectl , oc, podman,Buildah, kompose\nConvert docker-compose.yaml files with kompose\n  kompose convert --provider=openshift -f\n  Then edit and merge files\n","username":"mwagner","ts":"2019-09-06T13:58:53.342Z"}
{"msg":"Has joined the channel.","username":"mbanerjee","ts":"2019-09-06T17:37:05.290Z","type":"uj"}
{"msg":"We have been struggling to get Fabric working on Kubernetes. Can some one please point to tutorials or best practices? TIA ","username":"mbanerjee","ts":"2019-09-06T17:37:51.166Z"}
{"msg":"did you try this ? https://github.com/IBM/blockchain-network-on-kubernetes","username":"mwagner","ts":"2019-09-06T19:10:47.543Z"}
{"msg":"What are your issues?","username":"mastersingh24","ts":"2019-09-08T10:49:33.475Z"}
{"msg":"HI !\nWhat's issue you're facing ?","username":"Dhiraj1990","ts":"2019-09-09T04:06:53.958Z"}
{"msg":"Has joined the channel.","username":"dsessions","ts":"2019-09-09T17:53:14.789Z","type":"uj"}
{"msg":"HLF on kubernetes using more native methods of embedding MSP crypto material into secrets and config maps is a bit more of a dark art for the GO SDK clients. Core HLF components are fairly easy to get going with the hlf helm charts.","username":"dsessions","ts":"2019-09-09T17:53:15.698Z"}
{"msg":"@mbanerjee HLF on kubernetes using more native methods of embedding MSP crypto material into secrets and config maps is a bit more of a dark art for the GO SDK clients. Core HLF components are fairly easy to get going with the hlf helm charts.","username":"dsessions","ts":"2019-09-09T17:53:15.698Z"}
{"msg":"A useful technique I use for configmap/secret work in Kubernetes peers has been to use a custom startup script for the peer containers that performs some additional setup prior to invoking the peer command.  This script itself is stored in a config map mounted into the container to avoid the need for custom packaging.","username":"iramiller","ts":"2019-09-09T17:57:25.890Z"}
{"msg":"in my humble opinion, the hlf helm charts are 100000 x better than the IBM kubernetes examples ","username":"dsessions","ts":"2019-09-09T17:58:50.794Z"}
{"msg":"Depending on your requirements you can use this type of script to directly load kubernetes secrets/configmaps into your container (using `curl`) at startup versus the typical pod/container specification approach...","username":"iramiller","ts":"2019-09-09T17:59:10.081Z"}
{"msg":"Has joined the channel.","username":"soumyanayak","ts":"2019-09-11T14:52:09.356Z","type":"uj"}
{"msg":"Has joined the channel.","username":"abel23","ts":"2019-09-12T04:41:46.090Z","type":"uj"}
{"msg":"Ledger data that is stored in the peer node, how does that get backed up? Do we need to have a separate persistent disk for ledger data? Any suggestions. thanks. ","username":"mbanerjee","ts":"2019-09-12T17:36:56.908Z"}
{"msg":"Ledger data stored on the peer node? Are you talking about data stored in the couch db instance?","username":"dsessions","ts":"2019-09-12T20:54:33.476Z"}
{"msg":"Ledger data stored on the peer node? Are you talking about data stored in the couch db instance?","username":"dsessions","ts":"2019-09-12T20:54:50.121Z"}
{"msg":"If you are . . just run another peer to duplicate the data.","username":"dsessions","ts":"2019-09-12T20:57:36.854Z"}
{"msg":"No the actual ledger ","username":"mbanerjee","ts":"2019-09-13T01:52:51.090Z"}
{"msg":"not the state database ","username":"mbanerjee","ts":"2019-09-13T01:52:55.051Z"}
{"msg":"What if node that the peer is running on dies? ","username":"mbanerjee","ts":"2019-09-13T01:53:16.409Z"}
{"msg":"The ledger data is being written in the peer node will also be lost ","username":"mbanerjee","ts":"2019-09-13T01:53:31.855Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/release-1.4/txflow.html","username":"dsessions","ts":"2019-09-13T01:59:27.763Z"}
{"msg":"Checkout sections 4, 5, and 6","username":"dsessions","ts":"2019-09-13T01:59:38.998Z"}
{"msg":"Ledger data can be backed up as either you make one more peer up as suggested by @dsessions . \nor else if you want to take the back up of the peerledger folder completely in some remote servers you can check the below link\nhttps://blockchain-fabric.blogspot.com/2019/02/hyperledger-fabric-ledger-backup-and.html","username":"soumyanayak","ts":"2019-09-13T05:38:05.207Z"}
{"msg":"Has joined the channel.","username":"ahmad-raza","ts":"2019-09-13T12:57:16.216Z","type":"uj"}
{"msg":"Hello ALl, Anyone know about this error\n\"instantiate proposal resulted in an error :: Error: error starting container: error starting container: cannot connect to Docker endpoint\"\nI am using ibm-kubernetes-cluster. Everything is working untill instantiating the chaincode","username":"ahmad-raza","ts":"2019-09-13T12:57:40.769Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-09-13T12:57:58.536Z","attachments":[{"type":"file","title":"Screenshot from 2019-09-13 17-27-32.png","title_link":"/file-upload/kgmjWXB8k4w8Qq54i/Screenshot%20from%202019-09-13%2017-27-32.png","image_url":"/file-upload/kgmjWXB8k4w8Qq54i/Screenshot%20from%202019-09-13%2017-27-32.png","image_type":"image/png","image_size":524586,"url":"/file-upload/kgmjWXB8k4w8Qq54i/Screenshot%20from%202019-09-13%2017-27-32.png","remote":false,"fileId":"kgmjWXB8k4w8Qq54i","fileName":"Screenshot from 2019-09-13 17-27-32.png"}]}
{"msg":"this image is error logs from peer logs","username":"ahmad-raza","ts":"2019-09-13T12:58:11.246Z"}
{"msg":"Failed to instantiate the chaincode. cause:instantiate proposal resulted in an error :: Error: error starting container: error starting container: cannot connect to Docker endpoint\"","username":"ahmad-raza","ts":"2019-09-13T12:58:25.680Z"}
{"msg":"certificates, channel creation , joining channel, installing chaincode on channels are done but error occured during instantiating chaincode. Does all other things not required \"DOcker\"?","username":"ahmad-raza","ts":"2019-09-13T13:00:58.037Z"}
{"msg":"???\n","username":"ahmad-raza","ts":"2019-09-13T15:05:21.424Z"}
{"msg":"Anyone can help?","username":"ahmad-raza","ts":"2019-09-13T20:28:14.497Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=dmLjftFEFmxSPb5Af) Any one can tell me how to instantiate chaincode in ibm kubernetes cluster. In local setup i did it successfully ","username":"ahmad-raza","ts":"2019-09-15T19:07:57.907Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=dmLjftFEFmxSPb5Af","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=dmLjftFEFmxSPb5Af","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=vbjuH7gBNRNgvkdG4) ??","username":"ahmad-raza","ts":"2019-09-16T07:35:47.120Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=vbjuH7gBNRNgvkdG4","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=vbjuH7gBNRNgvkdG4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"its probably chain code container is not able to connect to peer container try adding  GODEBUG: \"netdns=go\" to env ","username":"MohammedR","ts":"2019-09-16T07:41:40.836Z"}
{"msg":"its probably becau chain code container is not able to connect to peer container try adding  GODEBUG: \"netdns=go\" to env ","username":"MohammedR","ts":"2019-09-16T07:41:40.836Z"}
{"msg":"its probably because chain code container is not able to connect to peer container try adding  GODEBUG: \"netdns=go\" to env ","username":"MohammedR","ts":"2019-09-16T07:41:40.836Z"}
{"msg":"its probably because chain code container is not able to connect to peer container try adding  GODEBUG: \"netdns=go\" to env of peer","username":"MohammedR","ts":"2019-09-16T07:41:40.836Z"}
{"msg":"@MohammedR  it this  variable is for debuging purpose?","username":"ahmad-raza","ts":"2019-09-16T07:56:42.862Z"}
{"msg":"yes","username":"MohammedR","ts":"2019-09-16T07:58:06.451Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-09-16T08:01:32.198Z","attachments":[{"type":"file","title":"Screenshot from 2019-09-16 13-01-14.png","title_link":"/file-upload/EaqKt5fTyzqGJKF2P/Screenshot%20from%202019-09-16%2013-01-14.png","image_url":"/file-upload/EaqKt5fTyzqGJKF2P/Screenshot%20from%202019-09-16%2013-01-14.png","image_type":"image/png","image_size":6651,"url":"/file-upload/EaqKt5fTyzqGJKF2P/Screenshot%20from%202019-09-16%2013-01-14.png","remote":false,"fileId":"EaqKt5fTyzqGJKF2P","fileName":"Screenshot from 2019-09-16 13-01-14.png"}]}
{"msg":"its generating error","username":"ahmad-raza","ts":"2019-09-16T08:01:43.452Z"}
{"msg":"what is the error","username":"MohammedR","ts":"2019-09-16T08:02:14.038Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-09-16T08:02:48.480Z","attachments":[{"type":"file","title":"Screenshot from 2019-09-16 13-02-38.png","title_link":"/file-upload/C8SBMouPkZ4bYqtev/Screenshot%20from%202019-09-16%2013-02-38.png","image_url":"/file-upload/C8SBMouPkZ4bYqtev/Screenshot%20from%202019-09-16%2013-02-38.png","image_type":"image/png","image_size":22470,"url":"/file-upload/C8SBMouPkZ4bYqtev/Screenshot%20from%202019-09-16%2013-02-38.png","remote":false,"fileId":"C8SBMouPkZ4bYqtev","fileName":"Screenshot from 2019-09-16 13-02-38.png"}]}
{"msg":"name=GODEBUG","username":"MohammedR","ts":"2019-09-16T08:03:41.088Z"}
{"msg":"i am using ibm kubernetes cluster. I have read somewhere that kubernetes does not use docker . we have to do something like docker deamon","username":"ahmad-raza","ts":"2019-09-16T08:04:07.686Z"}
{"msg":"i have successfully setup network on my local machine with kubernetes single worker node but on ibm it gives error","username":"ahmad-raza","ts":"2019-09-16T08:04:40.810Z"}
{"msg":"I didn't understand","username":"MohammedR","ts":"2019-09-16T08:05:29.846Z"}
{"msg":"do i need to run any other container other than peers, orderers, ca's on ibm kubernetes ","username":"ahmad-raza","ts":"2019-09-16T08:06:24.869Z"}
{"msg":"?","username":"ahmad-raza","ts":"2019-09-16T08:06:27.735Z"}
{"msg":"no","username":"MohammedR","ts":"2019-09-16T08:06:35.733Z"}
{"msg":"i am following that link https://github.com/IBM/blockchain-network-on-kubernetes","username":"ahmad-raza","ts":"2019-09-16T08:07:26.611Z"}
{"msg":"according to it we on kubernetess > 1.11 we have to specify docker-dind in it","username":"ahmad-raza","ts":"2019-09-16T08:08:00.383Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-09-16T08:17:20.503Z","attachments":[{"type":"file","title":"Screenshot from 2019-09-16 13-16-42.png","title_link":"/file-upload/Zga2aNw7WNonyAjjY/Screenshot%20from%202019-09-16%2013-16-42.png","image_url":"/file-upload/Zga2aNw7WNonyAjjY/Screenshot%20from%202019-09-16%2013-16-42.png","image_type":"image/png","image_size":933749,"url":"/file-upload/Zga2aNw7WNonyAjjY/Screenshot%20from%202019-09-16%2013-16-42.png","remote":false,"fileId":"Zga2aNw7WNonyAjjY","fileName":"Screenshot from 2019-09-16 13-16-42.png"}]}
{"msg":"@MohammedR  any help?","username":"ahmad-raza","ts":"2019-09-16T08:45:27.868Z"}
{"msg":"its not able to connect to your docker container try to ping docker container check if its reachable","username":"MohammedR","ts":"2019-09-16T09:41:16.576Z"}
{"msg":"how? on ibm kubernetes cluster?","username":"ahmad-raza","ts":"2019-09-16T09:42:02.949Z"}
{"msg":"Kubernetes clusters no longer run Docker as the container runtime so you can no longer try to mount the Doker socket on your peer pod","username":"mastersingh24","ts":"2019-09-16T12:05:51.943Z"}
{"msg":"@mastersingh24  thanks for answer any workaround?","username":"ahmad-raza","ts":"2019-09-16T12:06:47.394Z"}
{"msg":"You will need to have a Docker daemon running somewhere  ... either on a node outside your Kube cluster or by running Docker in a container (Docker in Docker)","username":"mastersingh24","ts":"2019-09-16T12:06:48.742Z"}
{"msg":"- name: dockervolume\n        persistentVolumeClaim:\n          claimName: docker-pvc\n      containers:\n      - name: docker\n        securityContext:\n          privileged: true\n        image: \"docker:stable-dind\"\n        ports:\n        - containerPort: 2375\n        volumeMounts:\n        - mountPath: /var/lib/docker\n          name: dockervolume","username":"ahmad-raza","ts":"2019-09-16T12:08:00.548Z"}
{"msg":"and of course you need to configure the peer to be able to communicate with the DinD container / pod","username":"mastersingh24","ts":"2019-09-16T12:09:12.373Z"}
{"msg":"i am running this container in same pod where peer and couchdb container is created and provide \ncore_vm_endpoint=localhost:2375 but still cannot connect to end point","username":"ahmad-raza","ts":"2019-09-16T12:09:39.866Z"}
{"msg":"localhost will not work","username":"mastersingh24","ts":"2019-09-16T12:10:05.470Z"}
{"msg":"clusterIP of pod?","username":"ahmad-raza","ts":"2019-09-16T12:10:20.974Z"}
{"msg":"or nodeIP:nodeport?","username":"ahmad-raza","ts":"2019-09-16T12:10:38.767Z"}
{"msg":"And am i have to make separate pod or container for separate namespaces?","username":"ahmad-raza","ts":"2019-09-16T12:13:44.634Z"}
{"msg":"hmm ... actually I think localhost should work ... let me check","username":"mastersingh24","ts":"2019-09-16T12:14:57.681Z"}
{"msg":"hmm ... actually I think localhost should work since it's in the same pod as the peer","username":"mastersingh24","ts":"2019-09-16T12:14:57.681Z"}
{"msg":"but it does not work :disappointed: ","username":"ahmad-raza","ts":"2019-09-16T12:33:00.189Z"}
{"msg":"can you post your peer spec?","username":"mastersingh24","ts":"2019-09-16T12:40:20.750Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-09-16T12:41:51.073Z","attachments":[{"type":"file","title":"ahmad-raza - Mon Sep 16 2019 17:41:46 GMT+0500 (Pakistan Standard Time).txt","title_link":"/file-upload/qha9vaCcd4GqN9qAB/ahmad-raza%20-%20Mon%20Sep%2016%202019%2017:41:46%20GMT+0500%20(Pakistan%20Standard%20Time).txt","url":"/file-upload/qha9vaCcd4GqN9qAB/ahmad-raza%20-%20Mon%20Sep%2016%202019%2017:41:46%20GMT+0500%20(Pakistan%20Standard%20Time).txt","remote":false,"fileId":"qha9vaCcd4GqN9qAB","fileName":"ahmad-raza - Mon Sep 16 2019 17:41:46 GMT+0500 (Pakistan Standard Time).txt"}]}
{"msg":"are you sure the docker container is actually coming up properly?  You might want to remove all of the mounts / hostPath stuff from the docker spec","username":"mastersingh24","ts":"2019-09-16T13:00:36.839Z"}
{"msg":"Yes container it coming up. from container logs it shows it is listening","username":"ahmad-raza","ts":"2019-09-16T13:03:38.754Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-09-16T13:03:55.832Z","attachments":[{"type":"file","title":"logs-from-docker-in-docker-dind-6d74f44c75-cl2sq.txt","title_link":"/file-upload/7pvgtBvKtv7v3gmvq/logs-from-docker-in-docker-dind-6d74f44c75-cl2sq.txt","url":"/file-upload/7pvgtBvKtv7v3gmvq/logs-from-docker-in-docker-dind-6d74f44c75-cl2sq.txt","remote":false,"fileId":"7pvgtBvKtv7v3gmvq","fileName":"logs-from-docker-in-docker-dind-6d74f44c75-cl2sq.txt"}]}
{"msg":"from logs it shows some iocontainer.d files error but at ends it says \nApi listen on [::]:2376\nApi listen on /var/run/docker.sock","username":"ahmad-raza","ts":"2019-09-16T13:07:28.713Z"}
{"msg":"oh ... note that is it 2376 and not 2375 ... looks like it is running using TLS ","username":"mastersingh24","ts":"2019-09-16T13:08:05.010Z"}
{"msg":"i have tried 2376 but it gives tls handshake error","username":"ahmad-raza","ts":"2019-09-16T13:08:56.868Z"}
{"msg":"But certs are fine all other operations are done through these certs","username":"ahmad-raza","ts":"2019-09-16T13:09:28.977Z"}
{"msg":"right ...  that is going to be trickier as you will need to add settings in the peer config for Docker TLS","username":"mastersingh24","ts":"2019-09-16T13:09:57.043Z"}
{"msg":"# - name: CORE_PEER_TLS_CLIENTROOTCAS_FILES\n        #   value: /etc/hyperledger/fabric/tls/ca.crt\n        # - name: CORE_PEER_TLS_CLIENTCERT_FILE\n        #   value: /etc/hyperledger/fabric/tls/server.crt\n        # - name: CORE_PEER_TLS_CLIENTKEY_FILE\n        #   value: /etc/hyperledger/fabric/tls/server.key","username":"ahmad-raza","ts":"2019-09-16T13:10:56.060Z"}
{"msg":"i added these lines are these are required?","username":"ahmad-raza","ts":"2019-09-16T13:11:28.805Z"}
{"msg":"no ... ","username":"mastersingh24","ts":"2019-09-16T13:11:46.383Z"}
{"msg":"?","username":"ahmad-raza","ts":"2019-09-16T13:12:28.836Z"}
{"msg":"CORE_VM_DOCKER_TLS_ENABLED\nCORE_VM_DOCKER_TLS_CA_FILE\nand possibly\nCORE_VM_DOCKER_TLS_CERT_FILE\nCORE_VM_DOCKER_TLS_KEY_FILE\n\nI'd actually advise trying without TLS first ...","username":"mastersingh24","ts":"2019-09-16T13:14:40.686Z"}
{"msg":"thanks i give them try . and i have to use same certs that are already in use right?","username":"ahmad-raza","ts":"2019-09-16T13:16:18.434Z"}
{"msg":"So the dind image will automatically generate the certs for you (and by default it will only expose a TLS endpoint) ... \n\nLooks like you can set `DOCKER_TLS_CERTDIR` for the dind container to use a shared directory for the generated certs","username":"mastersingh24","ts":"2019-09-16T13:18:24.147Z"}
{"msg":"The Dockerhub page has a good description of this","username":"mastersingh24","ts":"2019-09-16T13:18:40.308Z"}
{"msg":"ok i'll have look on it secondly if i am going without tls will i have to start things from scratch or simply disable it and instantiate chaincode","username":"ahmad-raza","ts":"2019-09-16T13:20:25.800Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-09-16T14:26:36.676Z","attachments":[{"type":"file","title":"Screenshot from 2019-09-16 19-25-30.png","title_link":"/file-upload/aQTmut2X57M4eSGXw/Screenshot%20from%202019-09-16%2019-25-30.png","image_url":"/file-upload/aQTmut2X57M4eSGXw/Screenshot%20from%202019-09-16%2019-25-30.png","image_type":"image/png","image_size":56963,"url":"/file-upload/aQTmut2X57M4eSGXw/Screenshot%20from%202019-09-16%2019-25-30.png","remote":false,"fileId":"aQTmut2X57M4eSGXw","fileName":"Screenshot from 2019-09-16 19-25-30.png"}]}
{"msg":"'CORE_TLS_CLIENT_KEY_PATH'","username":"ahmad-raza","ts":"2019-09-16T14:26:53.607Z"}
{"msg":"@mastersingh24 ","username":"ahmad-raza","ts":"2019-09-16T14:26:58.346Z"}
{"msg":"you only need the those if using you enable clientAuth for TLS ... it's disabled by default","username":"mastersingh24","ts":"2019-09-16T14:32:28.118Z"}
{"msg":"these are using for container creation . I have set environment variables you suggested but still  x509: certificate signed by unknown authority","username":"ahmad-raza","ts":"2019-09-16T14:34:17.218Z"}
{"msg":"hi,are anyone trying to make up your hyperledger fabric network in a own cluster( not using gpc, aws...)","username":"AndresMartinezMelgar.itcl","ts":"2019-09-16T15:54:35.683Z"}
{"msg":"Any one can help\ncause:upgrade proposal resulted in an error :: Error: chaincode registration failed: container exited with 254\nNewer Chanicode version is installed on peers. But error while upgrading chaincode\nFabric network is setup on IBM kubernetes Cluster","username":"ahmad-raza","ts":"2019-09-17T09:13:29.243Z"}
{"msg":"have you compared the chaincode versions? ","username":"dsessions","ts":"2019-09-17T17:23:42.308Z"}
{"msg":"Has joined the channel.","username":"adityanalge","ts":"2019-09-17T19:45:47.874Z","type":"uj"}
{"msg":"How would you mount the genesis.block onto an orderer pod? Since the gensis.block filetype is 'data'","username":"adityanalge","ts":"2019-09-17T19:45:48.311Z"}
{"msg":"Mount a share. Stick the block into that. If you are using core.yaml it's here - /share in this case is my share.\n```\n    # Genesis file: The file containing the genesis block to use when\n    # initializing the orderer system channel and GenesisMethod is set to\n    # \"file\". Ignored if GenesisMethod is set to \"provisional\".\n    GenesisFile: /share/generated/channel-artifacts/genesis.block\n```","username":"aatkddny","ts":"2019-09-18T13:31:47.147Z"}
{"msg":"Has joined the channel.","username":"nleut","ts":"2019-09-18T15:00:15.355Z","type":"uj"}
{"msg":"does any one have a deployment for orderer with type raft? Do you use multiple containers in the same pod? ","username":"mbanerjee","ts":"2019-09-18T19:08:15.011Z"}
{"msg":"@mbanerjee  I am using multiple pods for that with one container each.","username":"ahmad-raza","ts":"2019-09-19T10:21:23.653Z"}
{"msg":"Has joined the channel.","username":"Bentipe","ts":"2019-09-19T14:41:26.400Z","type":"uj"}
{"msg":"[36m2019-09-19 04:28:55.414 UTC [orderer.consensus.etcdraft] logSendFailure -> DEBU 3c1[0m Failed to send StepRequest to 4, because: connection to 4(orderer-service.default.svc.cluster.local:7053) is in state CONNECTING channel=network-sys-channel node=1=====","username":"mbanerjee","ts":"2019-09-19T15:38:41.908Z"}
{"msg":"Seeing this issue when we start orderer with raft ","username":"mbanerjee","ts":"2019-09-19T15:38:57.804Z"}
{"msg":"there may be issues with ports and container   internal endpoints","username":"ahmad-raza","ts":"2019-09-20T05:52:47.097Z"}
{"msg":"@mbanerjee I have a statefulset deployment of orderers using raft running...","username":"iramiller","ts":"2019-09-20T16:58:29.704Z"}
{"msg":"Getting this error when instantiating chaincode in Kubernetes - Failed to instantiate the chaincode. Reason: Instantiate chaincode proposal resulted in an error:: Error: error starting container: error starting container: Post http://docker:2375/containers/create?name=dev-peer0-org1-example-com-testcc5-v1: dial tcp: lookup docker on 10.4.0.10:53: no such host\"","username":"mbanerjee","ts":"2019-09-20T18:25:15.530Z"}
{"msg":"Getting this error when instantiating chaincode in Kubernetes - Failed to instantiate the chaincode. Reason: Instantiate chaincode proposal resulted in an error:: Error: error starting container: error starting container: Post http://docker:2375/containers/create?name=dev-peer0-org1-example-com-testcc5-v1: dial tcp: lookup docker on 10.4.0.10:53: no such host\" @iramiller ","username":"mbanerjee","ts":"2019-09-20T18:25:15.530Z"}
{"msg":"do you have dind?","username":"ahmad-raza","ts":"2019-09-20T21:36:16.403Z"}
{"msg":"Docker in DOcker","username":"ahmad-raza","ts":"2019-09-20T21:36:37.499Z"}
{"msg":"Yes, we have dind ","username":"mbanerjee","ts":"2019-09-20T21:44:34.298Z"}
{"msg":"which version of dind ? if you have latest , latest is tls enabled that listen on 2376 i think? ","username":"ahmad-raza","ts":"2019-09-23T05:59:24.500Z"}
{"msg":"What all data from a network needs to be backed up? Certificates, peer ledger, state db? Do we need to back up any data from the orderers? ","username":"mbanerjee","ts":"2019-09-23T21:14:17.676Z"}
{"msg":"Hi,\nI have one query specific to Kubernetes, if the default service account of the kubernetes cluster got unbounded and if I restore it using below command as given in this link https://cloud.google.com/kubernetes-engine/docs/troubleshooting#gke_service_account_delete\nwill it delete the existing kubernetes cluster and data will be lost or it will just restore the service account and old cluster will be fine.??? I am using GCP.\n@iramiller ","username":"raj_shekhar","ts":"2019-09-24T09:33:38.876Z"}
{"msg":"Sorted it ....... created a new IAM role binding for the kubernetes APIs... working fine ","username":"raj_shekhar","ts":"2019-09-24T11:36:27.742Z"}
{"msg":"What is the best way to configure the ORDERER_URL environment variable in the peer? I am currently using the Orderer POD IP. Wrapping the orderer in clusterIP service with protocol type TCP gives an error. I am not sure if grpcs works with service-name.namespace.svc.cluster.local IP","username":"adityanalge","ts":"2019-09-24T22:46:54.985Z"}
{"msg":"@adityanalge we use Kubernetes service names and DNS everywhere ... no pod ip addresses","username":"iramiller","ts":"2019-09-24T22:48:40.449Z"}
{"msg":"So you are not seeing any issues with GRPCS?","username":"adityanalge","ts":"2019-09-24T22:51:49.628Z"}
{"msg":"@adityanalge to be clear we are _not_ exposing those endpoints outside of the cluster ... but internal routing within GKE, AKS, EKS clusters as well as our Wireguard private network between clusters are all working just fine for GRPC ...","username":"iramiller","ts":"2019-09-24T22:52:53.659Z"}
{"msg":"we use TLS and Client certificates as well","username":"iramiller","ts":"2019-09-24T22:53:11.541Z"}
{"msg":"okay, good to know. Thanks!","username":"adityanalge","ts":"2019-09-24T22:53:15.003Z"}
{"msg":"Has joined the channel.","username":"FernandaSartori","ts":"2019-09-25T13:47:23.191Z","type":"uj"}
{"msg":"How are you dealing with the no such host error? Say orderer0 is in a different pod and orderer1 is in a different pod, they will communicate through TLS. Their host and port names are configured in the configtx.yaml. However, this gives me a no such host error as the ip address for orderer1 is not known to orderer0 and vice versa. As the pods are ephemeral, there is no way to know in advance the IP with which orderer0 and orderer1 pods will be created","username":"adityanalge","ts":"2019-09-25T18:11:17.726Z"}
{"msg":"How are you dealing with the no such host error? Say for RAFT, orderer0 is in a different pod and orderer1 is in a different pod, they will communicate through TLS. Their host and port names are configured in the configtx.yaml. However, this gives me a no such host error as the ip address for orderer1 is not known to orderer0 and vice versa. As the pods are ephemeral, there is no way to know in advance the IP with which orderer0 and orderer1 pods will be create","username":"adityanalge","ts":"2019-09-25T18:11:17.726Z"}
{"msg":"How are you dealing with the no such host error? Say for RAFT, orderer0 is in a different pod and orderer1 is in a different pod, they will communicate through TLS. Their host and port names are configured in the configtx.yaml. However, this gives me a no such host error as the ip address for orderer1 is not known to orderer0 and vice versa. As the pods are ephemeral, there is no way to know in advance the IP with which orderer0 and orderer1 pods will be create @iramiller ","username":"adityanalge","ts":"2019-09-25T18:11:17.726Z"}
{"msg":"@adityanalge no such host error indicates you have a DNS issue... do you have a kubernetes service in place for each orderer? if you have dns utils installed in a pod in the same namespace try doing a DNS lookup for your orderer instances ... they must resolve correctly for this to work","username":"iramiller","ts":"2019-09-25T18:54:31.844Z"}
{"msg":"@adityanalge if it makes you feel better I have both raft and Kafka based ordering systems working in my environments so it is certainly possible...","username":"iramiller","ts":"2019-09-25T19:01:14.409Z"}
{"msg":"Please indulge me for a moment here. I think the solution will be, to use the service name and port in configtx.yaml as   ```Addresses:\n        - blockchain-orderer:<orderer-port>``` Will it be okay if the service is of type ClusterIp instead of port?","username":"adityanalge","ts":"2019-09-25T19:03:16.992Z"}
{"msg":"```\n    Addresses:\n        - orderer-0.consensus:7050\n        - orderer-1.consensus:7050\n        - orderer-2.consensus:7050\n        - orderer-3.consensus:7050\n        - orderer-4.consensus:7050```","username":"iramiller","ts":"2019-09-25T19:04:39.127Z"}
{"msg":"indeed that is how I have configured the orderer network in my channel configs.","username":"iramiller","ts":"2019-09-25T19:05:04.571Z"}
{"msg":"and for services ... here is an example","username":"iramiller","ts":"2019-09-25T19:06:11.303Z"}
{"msg":"```\napiVersion: v1\nkind: Service\nmetadata:\n  annotations:\n    cloud.google.com/load-balancer-type: Internal\n    service.alpha.kubernetes.io/tolerate-unready-endpoints: \"true\"\n  name: orderer-0\n  namespace: consensus\n  labels:\n    app: orderer-consensus\n    release: orderer-consensus\nspec:\n  type: LoadBalancer\n  loadBalancerIP: x.x.x.x\n  ports:\n  - port: 7050\n    protocol: TCP\n    name: orderer\n  - port: 8443\n    protocol: TCP\n    name: operations\n  selector:\n    statefulset.kubernetes.io/pod-name: orderer-0\n    app:  orderer-consensus\n  externalTrafficPolicy: Cluster```","username":"iramiller","ts":"2019-09-25T19:06:16.603Z"}
{"msg":"(from a GKE instance)","username":"iramiller","ts":"2019-09-25T19:06:45.877Z"}
{"msg":"Thanks for the help. I was doing orderer-service.namespace.svc.cluster.local in configtx.yaml which was giving errors. I will try this approach ","username":"adityanalge","ts":"2019-09-25T19:16:35.793Z"}
{"msg":"`.svc.cluster.local` is part of the standard dns suffix search order for kubernetes hosts","username":"iramiller","ts":"2019-09-25T19:17:38.078Z"}
{"msg":"Could you share a sample of your configtx.yaml file? ","username":"adityanalge","ts":"2019-09-25T20:27:35.537Z"}
{"msg":"Which piece are you interested in? @adityanalge ","username":"iramiller","ts":"2019-09-25T20:28:10.100Z"}
{"msg":"The Etcd Raft consenters and addresses","username":"adityanalge","ts":"2019-09-25T20:28:26.727Z"}
{"msg":"```  EtcdRaft:\n    Consenters:\n      &a6\n      - Host: orderer0\n        Port: 7050```","username":"adityanalge","ts":"2019-09-25T20:28:42.673Z"}
{"msg":"```      Addresses:\n        - orderer-service.default:port1\n        - orderer-service.default:port2\n        - orderer-service.default:port3\n        - orderer-service.default:port4\n        - orderer-service.default:port5```","username":"adityanalge","ts":"2019-09-25T20:29:19.675Z"}
{"msg":"Using orderer-service.default in address, gives me a tls error saying the tls certificate is valid for orderer0 and not for orderer-service. ","username":"adityanalge","ts":"2019-09-25T20:30:42.297Z"}
{"msg":"that is because as a typical kubernetes service the endpoint you are using points to any one of the set","username":"iramiller","ts":"2019-09-25T20:32:21.313Z"}
{"msg":"but what you really want is a service that points ONLY to a single orderer instance with the same name and TLS","username":"iramiller","ts":"2019-09-25T20:32:47.169Z"}
{"msg":"per my example above `orderer-0.consensus:7050`","username":"iramiller","ts":"2019-09-25T20:33:03.097Z"}
{"msg":"so service name has to match orderer name?","username":"adityanalge","ts":"2019-09-25T20:33:11.059Z"}
{"msg":"there is a service with the name `orderer-0`","username":"iramiller","ts":"2019-09-25T20:33:22.391Z"}
{"msg":"there is a service with for each orderer ... so 5 of them","username":"iramiller","ts":"2019-09-25T20:33:38.144Z"}
{"msg":"and the service selector is\n```\nselector:\n    statefulset.kubernetes.io/pod-name: orderer-0\n    app:  orderer-consensus\n  externalTrafficPolicy: Cluster\n```","username":"iramiller","ts":"2019-09-25T20:33:53.751Z"}
{"msg":"for the `orderer-0` svc so it points to the correct pod","username":"iramiller","ts":"2019-09-25T20:34:13.703Z"}
{"msg":"Which supports this config from a running channel\n```\n\"ConsensusType\": {\n            \"mod_policy\": \"Admins\",\n            \"value\": {\n              \"metadata\": {\n                \"consenters\": [\n                  {\n                    \"client_tls_cert\": \"LS0tLS1CRUdJTiBDRVJUSUZJ...\n                    \"host\": \"orderer-0.consensus\",\n                    \"port\": 7050,\n                    \"server_tls_cert\": \"LS0tLS1CRUdJTiBDRVJUSUZJ...\n                  },\n```","username":"iramiller","ts":"2019-09-25T20:35:00.459Z"}
{"msg":"I see you are adding the namespace along with orderer0.","username":"adityanalge","ts":"2019-09-25T20:35:25.947Z"}
{"msg":"yes... that is my environment configuration","username":"iramiller","ts":"2019-09-25T20:35:39.411Z"}
{"msg":"Can I skip it if everything is under default name space?","username":"adityanalge","ts":"2019-09-25T20:35:41.375Z"}
{"msg":"yes","username":"iramiller","ts":"2019-09-25T20:35:44.286Z"}
{"msg":"I recommend using a namespace matching your organization name for other reasons","username":"iramiller","ts":"2019-09-25T20:36:02.288Z"}
{"msg":"but default is fine if you have a single org in your environment(s)","username":"iramiller","ts":"2019-09-25T20:36:18.452Z"}
{"msg":"I made a lot of mistakes, but finally got it to work","username":"adityanalge","ts":"2019-09-25T23:45:47.891Z"}
{"msg":"Thanks","username":"adityanalge","ts":"2019-09-25T23:45:49.076Z"}
{"msg":"Has joined the channel.","username":"heenas06","ts":"2019-09-26T07:01:49.245Z","type":"uj"}
{"msg":"Hi guys I am beginner in Kubernetes,can you guide me how to deploy hyperledger fabric on Kubernetes or anyone have a sample examples for this ....??","username":"heenas06","ts":"2019-09-26T07:09:52.266Z"}
{"msg":"Has joined the channel.","username":"jona-sc","ts":"2019-09-26T10:29:11.105Z","type":"uj"}
{"msg":"@heenas06 -- kubernetes is an extremely deep technical product on its own... hopefully you are not trying to learn how Hyperledger Fabric works at the same time.  At any rate a good place to start researching how to run Hyperledger inside Kubernetes is to review the helm charts. https://github.com/helm/charts/tree/ce6f5f931b32d6b5d92080df9a59953dd10cdd4a/stable/hlf-peer","username":"iramiller","ts":"2019-09-26T14:39:21.671Z"}
{"msg":"@heenas06 I feel like I should also mentioned that Hyperledger Fabric in the 1.x series is not an easy fit for the Kubernetes (or other cloud native) environments.","username":"iramiller","ts":"2019-09-26T14:40:12.743Z"}
{"msg":"There are a ton of gotchas with Kubernetes . . especially once you try and start using fabric-sdk-go","username":"dsessions","ts":"2019-09-26T16:00:50.495Z"}
{"msg":"All of the Kubernetes issues that Fabric has are surmountable if you are willing and able to put in enough effort.  That said it might require a fork of the code base if you are working with 1.x...  I hold out hope that Fabric 2.0 will make things much easier.","username":"iramiller","ts":"2019-09-26T23:06:04.802Z"}
{"msg":"Thanks......for the help ...","username":"heenas06","ts":"2019-09-27T04:36:39.727Z"}
{"msg":"I agree with what @iramiller has said. Almost every Fabric requirement can be satisfied by Kubernetes. I think what's lacking is a proper end to end tutorial/video designed specifically for beginners in both technologies.","username":"adityanalge","ts":"2019-09-27T17:12:34.773Z"}
{"msg":"What is the best way to mount certificates onto an orderer/peer? It is my understanding that the certificates have to be present on the orderer/peer before the pod starts?","username":"adityanalge","ts":"2019-09-27T17:15:08.182Z"}
{"msg":"@adityanalge we use secrets/configmaps to bring the certificates into the pod.  This type of approach positions the system well for integration with tools such as Hashicorp Vault that protect sensitive configuration in larger enterprise cloud environments","username":"iramiller","ts":"2019-09-27T19:02:00.793Z"}
{"msg":"Try using the helm charts . . that's the best way to start out imho","username":"dsessions","ts":"2019-09-27T21:57:07.865Z"}
{"msg":"Hello all, I have two ibm kubernetes cluster , On one cluster network is running perfectly which includes 2 orgs with one peer each and 5 orderers (raft based)\n\nI want to add 3rd org to network and channel. Requirement is this org will run in separate cluster(2nd) . Org is set on 2nd cluster .  \n\nUsing this https://hyperledger-fabric.readthedocs.io/en/release-1.4/channel_update_tutorial.html new org is added in channel\n\nOrg3 joined  the channel successfully. Chaincode is installed on all peers . But when call for upgrade chaincode(Instantiate) Error is returned \"Could not found chaincode with name mycc\"\nI have confirmed that chaincode is installed on all nodes ..\n\nIn the logs of org3 peer(that is on another cluster) there are following errors \n\n Err :connection error: desc = \"transport: Error while dialing dial tcp: lookup orderer5.example on 172.21.0.10:53: no such host\". Reconnecting...\nFailed obtaining connection: could not connect to any of the endpoints: [{orderer.example:7050 [OrdererMSP]} {orderer4.example:7050 [OrdererMSP]} {orderer3.example:7050 [OrdererMSP]} {orderer2.example:7050 [OrdererMSP]} {orderer5.example:7050 [OrdererMSP]}]\n\u001b[36m2019-09-30 06:46:16.785 UTC [grpc] func1 -> DEBU 761\u001b[0m Failed to dial orderer5.example:7050: context canceled; please retry.\n","username":"ahmad-raza","ts":"2019-09-30T07:28:13.916Z"}
{"msg":"Hello all, I have two ibm kubernetes cluster , On one cluster network is running perfectly which includes 2 orgs with one peer each and 5 orderers (raft based)\n\nI want to add 3rd org to network and channel. Requirement is this org will run in separate cluster(2nd) . Org is set on 2nd cluster .  \n\nUsing this https://hyperledger-fabric.readthedocs.io/en/release-1.4/channel_update_tutorial.html new org is added in channel\n\nOrg3 joined  the channel successfully. Chaincode is installed on all peers . But when call for upgrade chaincode(Instantiate) Error is returned \"Could not found chaincode with name mycc\"\nI have confirmed that chaincode is installed on all nodes ..\n\nIn the logs of org3 peer(that is on another cluster) there are following errors \n\nErr :connection error: desc = \"transport: Error while dialing dial tcp: lookup orderer3.example on 172.21.0.10:53: no such host\". Reconnecting...\n\u001b[36m2019-09-30 06:46:10.445 UTC [grpc] HandleSubConnStateChange -> DEBU 724\u001b[0m pickfirstBalancer: HandleSubConnStateChange: 0xc000488ab0, TRANSIENT_FAILURE\n\n Err :connection error: desc = \"transport: Error while dialing dial tcp: lookup orderer5.example on 172.21.0.10:53: no such host\". Reconnecting...\nFailed obtaining connection: could not connect to any of the endpoints: [{orderer.example:7050 [OrdererMSP]} {orderer4.example:7050 [OrdererMSP]} {orderer3.example:7050 [OrdererMSP]} {orderer2.example:7050 \n\n[OrdererMSP]} {orderer5.example:7050 [OrdererMSP]}]   \n\n\n\u001b[36m2019-09-30 06:46:16.785 UTC [grpc] func1 -> DEBU 761\u001b[0m Failed to dial orderer5.example:7050: context canceled; please retry.\n\nKindly help?  @mastersingh24  @iramiller \n","username":"ahmad-raza","ts":"2019-09-30T07:28:13.916Z"}
{"msg":"@ahmad-raza does your second cluster have routing/dns entries to the first cluster?  Specifically can you resolve the `ordererX.example` hostnames and route to them?  When troubleshooting these types of issues I will often use `nc -z hostname.namespace 7050` which uses netcat to test for an open port ... this lets you quickly see that the dns is set and the port is accessible... the command will hang if it is not able to reach the port ... it exits immediately upon success","username":"iramiller","ts":"2019-09-30T14:36:29.120Z"}
{"msg":"(the above netcat command being executed from a shell opened in the pod/container that appears to be having network issues reaching other parts of the network)","username":"iramiller","ts":"2019-09-30T14:37:43.356Z"}
{"msg":"Has joined the channel.","username":"dsanchezseco","ts":"2019-09-30T14:47:32.190Z","type":"uj"}
{"msg":"Thanks for replying\nit return orderer.example: forward host lookup failed: Unknown host  .   How   can i made routing/dns entries to the first cluster?    @iramiller   \n\nany hint?   \n","username":"ahmad-raza","ts":"2019-09-30T14:57:36.761Z"}
{"msg":"you will need to build a network route between the clusters if you wish to resolve those entries... you could create a Kubernetes service with a custom endpoint that directs `ordererX.namespace` to an external IP address of the orderer if you source cluster has that orderer exposed to the internet","username":"iramiller","ts":"2019-09-30T15:06:23.037Z"}
{"msg":"exposing orderer through service type \"NodePort\" to the internet. is it a good practice??","username":"ahmad-raza","ts":"2019-09-30T19:59:27.725Z"}
{"msg":"although i am using nodeport type services to expose all  peers CAs and orderers ","username":"ahmad-raza","ts":"2019-09-30T20:02:10.402Z"}
{"msg":"For my environments there is no reason that these services would ever be invoked by entities outside of our consortium -- therefore all of ours are only exposed on an internal network.","username":"iramiller","ts":"2019-09-30T21:02:15.780Z"}
{"msg":"You may wish to explore either making a private network between your nodes and/or using mutual TLS to further harden your configuration.","username":"iramiller","ts":"2019-09-30T21:02:51.933Z"}
{"msg":"In either case above you can use kubernetes services to assist with the name resolution requirements.  Some further reading here: https://kubernetes.io/docs/concepts/services-networking/service/#externalname","username":"iramiller","ts":"2019-09-30T21:04:45.535Z"}
{"msg":"Has joined the channel.","username":"sandy","ts":"2019-10-01T10:02:42.085Z","type":"uj"}
{"msg":"Im considering using Hashicorp Vault for storing safely certificates and secrets in conjunction with Kubernetes. Have you managed to use vault in kubernetes and fabric? Is it really difficult? Can you share some useful guides on how to use vault for this or similar? Thank you!","username":"vanitas92","ts":"2019-10-01T15:13:27.066Z"}
{"msg":"We are using Hashicorp vault for secret storage/mangement and issuing PKI certificates for TLS and identities.  (currently we are also using the Fabric CA but the intention is to remove Fabric CA entirely)","username":"iramiller","ts":"2019-10-01T15:21:49.398Z"}
{"msg":"While I have created a direct Vault integration for Fabric the provides MSP and crypto functions we are not using it and this project is on hold pending the improvements in Fabric 2.0","username":"iramiller","ts":"2019-10-01T15:24:47.565Z"}
{"msg":"Integrating a Vault solution into Kubernetes is an extremely complex process that should be driven by operation requirements... I don't really have a great way to help you get started with that beyond saying that you should expect to do a bunch of Google research and reading.  The Fabric Kubernetes channel is not really the best place to dive into this either.","username":"iramiller","ts":"2019-10-01T15:28:33.673Z"}
{"msg":"Thank you for your responses! Indeed it is not the best place to deep dive Vault here but was interested on your experience. I have not seen any updates or improvement announces regarding Fabric CA in 2.0, what are they planning to feature in the new release?","username":"vanitas92","ts":"2019-10-01T15:30:25.238Z"}
{"msg":"The updates I am interested in are the improved source code structure and focus on breaking up the monolithic source in such a way as to better support plugins.  The current setup does not lend itself well to replacing functions with external modules that are build separately.  Until the core project actually starts building a system using a modular approach maintaining a fork is really the only way to replace/customize these major components","username":"iramiller","ts":"2019-10-01T15:32:47.910Z"}
{"msg":"Having implemented a replacement for the MSP system that uses vault the determination was made that this required far too many deep changes in the source tree to maintain in our fork long term... the cost/benefit/overhead of integrating upstream changes just isn't there.","username":"iramiller","ts":"2019-10-01T15:34:31.570Z"}
{"msg":"Has joined the channel.","username":"dtomczyk","ts":"2019-10-04T16:25:13.586Z","type":"uj"}
{"msg":"Has joined the channel.","username":"skyfan","ts":"2019-10-07T12:47:25.056Z","type":"uj"}
{"msg":"This might be a silly question, but I am having some trouble creating secrets/configmaps for secret keys as the key names are not deterministic. Any hints/ideas?","username":"adityanalge","ts":"2019-10-08T00:03:50.152Z"}
{"msg":"are you creating these from a helm chart or similar?","username":"iramiller","ts":"2019-10-08T14:16:42.853Z"}
{"msg":"```\n{{- range $k, $v := untilStep 0 (int (.Values.peer.replicas)) 1 }}\napiVersion: v1\nkind: Secret\nmetadata:\n  name: peer-{{$v}}-msp\n{{- end }}\n```","username":"iramiller","ts":"2019-10-08T14:19:31.028Z"}
{"msg":"above portion of a helm chart that uses the `.Values.peer.replicas` setting (typically 3) to iteratively create a set of secrets... this chart is using the stateful set concept in Kubernetes for peers...","username":"iramiller","ts":"2019-10-08T14:20:46.428Z"}
{"msg":"I would like to re-evaluate replacing/augmenting the dockercontroller in Fabric 2.0 with my custom kubernetescontroller given the many updates in master for the container runtime and build abstractions that are included.  For reference this controller provides direct kubernetes scheduling of chain code containers for proper cloud native deployment and orchestration.  We have successfully used this extension in several dozen Kubernetes clusters on various public clouds.  Ideally this effort could be repackaged into a plugin without a fork.  The current peer serve method is a whopping 600+ lines of hard coded initialization wrappers around the docker VM.  I see that @jyellick is one of the primary developers in that area of the code base.  Perhaps @jyellick or someone else could open a discussion with me directly or in this channel to discuss the best way to do this?  Perhaps the time isn't quite right due to in progress refactoring?","username":"iramiller","ts":"2019-10-09T14:47:21.408Z"}
{"msg":"Has joined the channel.","username":"jyellick","ts":"2019-10-09T14:47:21.449Z","type":"uj"}
{"msg":"@iramiller I'd suggest that you look at the 'external builders' proposal from the contributor calls or in JIRA https://jira.hyperledger.org/browse/FAB-13584","username":"jyellick","ts":"2019-10-10T18:25:57.523Z"}
{"msg":"This separates the packaging/build from the core peer functions, and allows arbitrary implementations, such as one based on k8s to be implemented in userspace.","username":"jyellick","ts":"2019-10-10T18:26:27.368Z"}
{"msg":"@jyellick I am familiar with the FAB-13584 proposal and FAB-13582... I am reflecting on those initiatives as well as what I see in the codebase currently... neither of those tickets have recent updates/status reports reflecting the state of code changes that are in progress.  This is why I am asking about how stable the break down is based on what is currently in the peer serve method specifically.  If a high rate of churn is still expected for the 2.0 release then that is all I need to know for now.  Conversely if the code base is considered to be stabilizing then I will have more specific questions to ask as I look into it further.","username":"iramiller","ts":"2019-10-10T19:29:34.641Z"}
{"msg":"How are you handling backing up peers and orderers? I understand that you have to back up the production folder and certificates. However, can the production folder for peer0.org1.example.com be used to bring up peer1.org1.example.com?","username":"adityanalge","ts":"2019-10-11T01:00:46.161Z"}
{"msg":"Also, do all 5 orderers in RAFT have to be backed up or backing up one is enough?","username":"adityanalge","ts":"2019-10-11T02:23:28.063Z"}
{"msg":"Also, do all 5 orderers' production in RAFT have to be backed up or backing up one production folder is enough?","username":"adityanalge","ts":"2019-10-11T02:23:28.063Z"}
{"msg":"The code is mostly present and should be fairly stable at this point, but, probably best to wait for the documentation which should become available in the next few weeks.","username":"jyellick","ts":"2019-10-11T14:14:02.992Z"}
{"msg":":thumbsup: ","username":"iramiller","ts":"2019-10-11T14:21:52.845Z"}
{"msg":"Has joined the channel.","username":"Randyshu2018","ts":"2019-10-14T05:36:31.718Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DrTES","ts":"2019-10-17T17:01:30.515Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Shubham-koli","ts":"2019-10-18T04:50:48.595Z","type":"uj"}
{"msg":"Has joined the channel.","username":"balazsprehoda","ts":"2019-10-24T10:21:07.154Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rmscott","ts":"2019-10-24T15:40:56.288Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shivraj","ts":"2019-10-26T12:37:57.549Z","type":"uj"}
{"msg":"@iramiller , @yacovm  and all are open to answer , Guys is it possible to scale peer or ca pod to make it highly available service ? if not why?","username":"shivraj","ts":"2019-10-26T12:38:02.267Z"}
{"msg":"@iramiller in the sense, handling huge loads... ","username":"shivraj","ts":"2019-10-26T14:19:32.479Z"}
{"msg":"@shivraj each peer needs to have its own certificate. As for CA - I guess it's possible to scale it, but I would still give each CA its own key, for security reasons.","username":"yacovm","ts":"2019-10-27T14:52:29.088Z"}
{"msg":"@yacovm  @iramiller   is there any way to create a setup where there is logical grouping among peers pods so there is a load distribution happening on top  of it ? ","username":"shivraj","ts":"2019-10-28T08:29:15.644Z"}
{"msg":"@shivraj ... have you done any testing to determine how your infrastructure responds to your workloads?  Have you considered the structure for your chaincode (both the code itself as well as the data structures and the balance between what is on chain and what is stored off of it?  A read heavy workload will have different infrastructure requirements than a write heavy workload ... The amount of read/write contention in your workload will be another significant consideration.  The latency in your network between orderer nodes as well as from orderers to peers and intra-peer gossip are all critical.  If the distribution of committed blocks is slow then you are prone to MVCC errors.  The CA pod has essentially no load on it in a production network.  Your question for how to scale this pod leads me to believe that you may need to do some significant systems architecture research and testing before you pursue scaling the peer workloads further.","username":"iramiller","ts":"2019-10-28T14:23:28.749Z"}
{"msg":"@shivraj in short if you have a more tightly scoped question regarding scaling with specific directions you are looking to increase capacity or throughput in then the members of this forum can likely provide a more helpful answer.","username":"iramiller","ts":"2019-10-28T14:24:54.936Z"}
{"msg":"Has joined the channel.","username":"AntonyZanetti","ts":"2019-10-29T14:49:42.131Z","type":"uj"}
{"msg":"@yacovm   @iramiller  thanks for suggestions ","username":"shivraj","ts":"2019-10-30T04:32:02.628Z"}
{"msg":"Has joined the channel.","username":"adarshaJha","ts":"2019-10-31T11:16:47.924Z","type":"uj"}
{"msg":"is there any tutorial to provide basic understanding of how to use kubernetes  in HLF ?","username":"adarshaJha","ts":"2019-10-31T11:16:48.807Z"}
{"msg":"that is a very broad question... one starting point for you would be to review the Helm charts for HLF (https://github.com/helm/charts/tree/master/stable/hlf-peer) and examine how those were implemented.","username":"iramiller","ts":"2019-10-31T15:00:26.994Z"}
{"msg":"Hi All, How to deploy hyperledger fabric network on kubernetes","username":"sureshtedla","ts":"2019-11-04T14:06:02.900Z"}
{"msg":"can anyone share the docs for the same ","username":"sureshtedla","ts":"2019-11-04T14:06:21.537Z"}
{"msg":"Has joined the channel.","username":"AliciaKiran","ts":"2019-11-06T12:28:29.759Z","type":"uj"}
{"msg":"Hello everyone, how are you? I have a question for you that have been bugging me for a few days now: I have a free IBM Kubernetes Service cluster running, and I want to run some fabric containers there. My problem is: IKS doesn't use docker anymore, as it now uses containerd. how should I set the CORE_VM_ENDPOINT for the peers if I don't have a docker.sock available?","username":"delao","ts":"2019-11-07T20:26:27.262Z"}
{"msg":"Hi All,","username":"sureshtedla","ts":"2019-11-08T13:00:10.482Z"}
{"msg":"I have one master node and two worker nodes If Master node fails or shutdown","username":"sureshtedla","ts":"2019-11-08T13:00:42.690Z"}
{"msg":"How to start it(Master Node) again","username":"sureshtedla","ts":"2019-11-08T13:01:00.789Z"}
{"msg":"If worker node down and how to start it again ","username":"sureshtedla","ts":"2019-11-08T13:01:29.373Z"}
{"msg":"Has joined the channel.","username":"rpocase","ts":"2019-11-12T15:03:50.933Z","type":"uj"}
{"msg":"Hey everyone - I'm trying to get a gauge for how people are actually dealing with crypto management in production. The best strategy I've been able to come up with is manually deploying specific secrets for tls-ca/ca, then every thing else being dynamic through initContainers on peers/orderers/etc against your organizations existing secrets. All shared organization crypto identities could be shared through secret volumes with nodes being restarted as needed when new identities become available\n\nI haven't seen any kubernetes examples that aren't using toy crypto material. Service discovery seems to solve part of the problem for client applications, but you still wind up with some amount of hardcoded assumptions around core peers","username":"rpocase","ts":"2019-11-12T15:03:51.758Z"}
{"msg":"Has joined the channel.","username":"DilipManjunatha","ts":"2019-11-13T13:08:55.459Z","type":"uj"}
{"msg":"Looks like my proposed solution is basically what the WIP blockchain-automation-framework lab is doing. Generate crypto pseudo-manually through fabric-ca CLIs and upload to vault. Use initContainers to distribute relevant crypto material before launching peers. This seems finish if peer growth rate is relatively low. Hooking in client applications can still use service discovery to reduce their overhead, so backbone infrastructure remains the biggest pain point","username":"rpocase","ts":"2019-11-13T15:56:39.463Z"}
{"msg":"What are the memory requirements to run fabirc (2 org network with raft consensus)? Any guidance or performance metrics will be helpful?","username":"mbanerjee","ts":"2019-11-15T04:04:26.289Z"}
{"msg":"What are the memory requirements to run fabirc (2 org network with raft consensus)? Any guidance or performance metrics will be helpful.","username":"mbanerjee","ts":"2019-11-15T04:04:26.289Z"}
{"msg":"Hi. i have  hyperledger fabric network inside a kubernetes cluster. All of this inside a localhost(192.168.0.X)\nMy ask is the next: how can i bring it to a cluster in several network locations?\nAll examples i see are in same network. Thx anyway","username":"AndresMartinezMelgar.itcl","ts":"2019-11-15T07:29:39.042Z"}
{"msg":"Has joined the channel.","username":"jyxie2007","ts":"2019-11-18T03:59:58.271Z","type":"uj"}
{"msg":"Hello people, I am facing a problem and I hope you guys can help me. I'm trying to communicate a Orderer node running on IBM Kubernetes Services with a peer running on docker on my machine. When I try to create a new channel, I am getting a TLS handshake failed and on my peer I can see this: `2019-11-19 16:55:35.867 UTC [grpc] createTransport -> DEBU 03f grpc: addrConn.createTransport failed to connect to {<IP>:30000 0  <nil>}. Err :connection error: desc = \"transport: authentication handshake failed: x509: cannot validate certificate for <IP> because it doesn't contain any IP SANs\". Reconnecting...` any thoughts? ","username":"delao","ts":"2019-11-19T16:56:08.063Z"}
{"msg":"I have created my certificates with either cryptogen and fabric ca","username":"delao","ts":"2019-11-19T16:56:59.015Z"}
{"msg":"I have created my certificates with either cryptogen and fabric ca and the outcome is the same","username":"delao","ts":"2019-11-19T16:56:59.015Z"}
{"msg":"you need to use a DNS name that matches one of the SANS on the certificate used ... (or an IP address entry on the certificate as the error message indicates which I would not recommend unless that address is not expected to change [ever])","username":"iramiller","ts":"2019-11-20T19:53:53.449Z"}
{"msg":"inside of Kubernetes you can leverage custom services to create a DNS resolution if this is for an outbound connection... on your localhost a hosts file entry can be used for development name resolution...","username":"iramiller","ts":"2019-11-20T19:55:05.419Z"}
{"msg":"Has joined the channel.","username":"sung","ts":"2019-11-21T08:48:21.269Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Esegarra","ts":"2019-11-22T12:41:28.894Z","type":"uj"}
{"msg":"Hello!\nI am working on raising a Hyperledger Fabric network production ready on kubernetes. I use a pod with Docker-in-Docker (dind) for the deployment of the chaincode. Because of this, the security team does not allow me to deploy on-premises. I have been asked to think of ways to secure it. What kind of settings can I apply to minimize the risk of using dind?\nThank you so much.","username":"Esegarra","ts":"2019-11-26T14:11:15.343Z"}
{"msg":"https://github.com/APGGroeiFabriek/PIVT#what-is-this","username":"Shubham-koli","ts":"2019-11-27T12:46:38.679Z"}
{"msg":"check this out","username":"Shubham-koli","ts":"2019-11-27T12:46:51.094Z"}
{"msg":"Thanks for the information. I have seen that in this example they are mounting the Hosts Docker socket. Im not allowed to do this kind of setting. Due to this Im using DinD","username":"Esegarra","ts":"2019-11-27T14:41:57.932Z"}
{"msg":"@Esegarra your best bet is to fork and patch out those portions of the system with a native Kubernetes controller (that is what we did about a year ago) or more reasonably wait a few more weeks for 2.0 to come out which should make it easier to build out a proper cloud native system architecture for chaincode instances.","username":"iramiller","ts":"2019-11-27T16:05:48.160Z"}
{"msg":"Has joined the channel.","username":"guptasndp10","ts":"2019-11-28T10:22:34.222Z","type":"uj"}
{"msg":"@iramiller Thank you for your answer. Only three questions more :grin: Do you have an example of this patches what you mention?  Are there approximate date of the release of the version 2.0? Are there official documentation explaining the new chaincode model cloud native? I have read the new lifecycle but nothing about this cloud approach. Thanks!!","username":"Esegarra","ts":"2019-11-28T15:04:13.699Z"}
{"msg":"@Esegarra here is a good starting point for your research https://jira.hyperledger.org/browse/FAB-13582","username":"iramiller","ts":"2019-11-29T16:58:33.705Z"}
{"msg":"Thank you, I've appended the dns to the hosts' file and it worked","username":"delao","ts":"2019-11-29T20:09:31.013Z"}
{"msg":"Thank you so much! :thumbsup: ","username":"Esegarra","ts":"2019-12-02T14:31:16.123Z"}
{"msg":"Has joined the channel.","username":"sandman","ts":"2019-12-03T09:01:49.895Z","type":"uj"}
{"msg":"Hello, my chaincode instantiation operation is failing, error in peer logs is:```\n2019-12-03 08:49:40.672 UTC [endorser] callChaincode -> INFO 067 [customchannel][af093dc4] Entry chaincode: name:\"lscc\" \n2019-12-03 08:49:40.680 UTC [endorser] callChaincode -> INFO 068 [customchannel][af093dc4] Exit chaincode: name:\"lscc\"  (7ms)\n2019-12-03 08:49:40.680 UTC [endorser] ProcessProposal -> ERRO 069 [customchannel][af093dc4] simulateProposal() resulted in chaincode name:\"lscc\"  response status 500 for txid: af093dc45ba6f499e1c7e474225f59f3b0677858146603dda458a1c59f07cd9d\n```  ","username":"sandman","ts":"2019-12-03T09:05:28.587Z"}
{"msg":"Hello, my chaincode instantiation operation is failing, error in peer logs is:```\n2019-12-03 08:49:40.672 UTC [endorser] callChaincode -> INFO 067 [customchannel][af093dc4] Entry chaincode: name:\"lscc\" \n2019-12-03 08:49:40.680 UTC [endorser] callChaincode -> INFO 068 [customchannel][af093dc4] Exit chaincode: name:\"lscc\"  (7ms)\n2019-12-03 08:49:40.680 UTC [endorser] ProcessProposal -> ERRO 069 [customchannel][af093dc4] simulateProposal() resulted in chaincode name:\"lscc\"  response status 500 for txid: af093dc45ba6f499e1c7e474225f59f3b0677858146603dda458a1c59f07cd9d\n```  \nI think its an error with peer env CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE  but im not sure, any poniters are appereciated.","username":"sandman","ts":"2019-12-03T09:05:28.587Z"}
{"msg":"Has joined the channel.","username":"razasikander","ts":"2019-12-03T11:39:43.488Z","type":"uj"}
{"msg":"Hello how have you","username":"razasikander","ts":"2019-12-03T11:39:47.972Z"}
{"msg":"appended the dns","username":"razasikander","ts":"2019-12-03T11:40:16.265Z"}
{"msg":"Has joined the channel.","username":"laues","ts":"2019-12-03T15:10:04.142Z","type":"uj"}
{"msg":"The advice above is to append the DNS entry to the hosts file.  https://en.wikipedia.org/wiki/Hosts_(file)","username":"iramiller","ts":"2019-12-03T15:56:03.576Z"}
{"msg":"Within Kubernetes a similar solution is handled using a Headless service without a selector.  https://kubernetes.io/docs/concepts/services-networking/service/#headless-services","username":"iramiller","ts":"2019-12-03T15:57:22.382Z"}
{"msg":"Within Kubernetes a similar solution is handled using a Headless service without a selector.  https://kubernetes.io/docs/concepts/services-networking/service/#externalname","username":"iramiller","ts":"2019-12-03T15:57:22.382Z"}
{"msg":"apiVersion: v1\nkind: Service\nmetadata:\n  annotations:\n    kompose.cmd: kompose -f docker-compose_PoE.yaml convert --volumes hostPath\n    kompose.version: 1.16.0 (0c01309)\n  creationTimestamp: null\n  labels:\n    io.kompose.service: peer0-org1-in\n  name: peer0-org1-in\nspec:\n  ports:\n  - name: \"2051\"\n    port: 2051\n    targetPort: 7051\n  - name: \"2053\"\n    port: 2053\n    targetPort: 7053\n  selector:\n    io.kompose.service: peer0-org1-in\n  type: ExternalName\n  externalName: peer0.org1.in    \nstatus:\n  loadBalancer: {}\n","username":"razasikander","ts":"2019-12-04T04:37:08.712Z"}
{"msg":"this is my service file ","username":"razasikander","ts":"2019-12-04T04:37:20.957Z"}
{"msg":"it say sError: error getting endorser client for channel: endorser client failed to connect to peer0.org.in:7051: failed to create new connection: context deadline exceeded\n","username":"razasikander","ts":"2019-12-04T04:37:56.626Z"}
{"msg":"when i wget it says Resolving peer0.org1.in (peer0.org1.in)... failed: Temporary failure in name resolution.","username":"razasikander","ts":"2019-12-04T04:46:39.887Z"}
{"msg":"Has joined the channel.","username":"lionelronaldo","ts":"2019-12-04T09:10:44.376Z","type":"uj"}
{"msg":"@razasikander you should be able to list services in the org1 namespace of your cluster and see peer0 listed ... additionally you may wish to start a container with dns tools in your cluster in the same namespace as your peer pods/containers for troubleshooting DNS resolution.","username":"iramiller","ts":"2019-12-04T15:31:39.225Z"}
{"msg":"what I believe you will see based on the configuration you have above is a service with the name `peer0-org1-in` ... this name will not resolve as you have intended unless this name is what you are using in your configuration (compared to the dot separated version)","username":"iramiller","ts":"2019-12-04T15:35:19.153Z"}
{"msg":"additionally the external name reference requires an external valid dns name ... and `org.in` is not an externally valid dns name ...","username":"iramiller","ts":"2019-12-04T15:36:16.751Z"}
{"msg":"Has left the channel.","username":"vinayakkumar","ts":"2019-12-05T09:50:41.726Z","type":"ul"}
{"msg":"I facing errors while instantiating chaincode, I havent specified any policies in my configtx and since opeartion upto this stage ie - channel create/join, chaincode install worked without errors so I assume its not an error with certificates as well. Any pointers?","username":"sandman","ts":"2019-12-05T10:33:17.381Z"}
{"msg":"ou will need to give us more to go on than \"facing errors\" ... which errors? What kind of setup are you using, etc.","username":"iramiller","ts":"2019-12-05T19:58:00.664Z"}
{"msg":"you will need to give us more to go on than \"facing errors\" ... which errors? What kind of setup are you using, etc.","username":"iramiller","ts":"2019-12-05T19:58:00.664Z"}
{"msg":"The setup is for 2 orgs (buyer, lender) nad solo orderer(in seller org) . Here are the logs of my peer pertaing to chaincode instatiation '''","username":"sandman","ts":"2019-12-06T04:46:32.624Z"}
{"msg":"","username":"sandman","ts":"2019-12-06T04:56:12.656Z","attachments":[{"type":"file","title":"sandman - Fri Dec 06 2019 10:25:51 GMT+0530 (India Standard Time).txt","title_link":"/file-upload/kGeYvo55km7MY6CCK/sandman%20-%20Fri%20Dec%2006%202019%2010:25:51%20GMT+0530%20(India%20Standard%20Time).txt","url":"/file-upload/kGeYvo55km7MY6CCK/sandman%20-%20Fri%20Dec%2006%202019%2010:25:51%20GMT+0530%20(India%20Standard%20Time).txt","remote":false,"fileId":"kGeYvo55km7MY6CCK","fileName":"sandman - Fri Dec 06 2019 10:25:51 GMT+0530 (India Standard Time).txt"}]}
{"msg":"Has joined the channel.","username":"karthiknvlr","ts":"2019-12-06T05:55:25.941Z","type":"uj"}
{"msg":"based on the output in your log file this isn't a Kubernetes issue... it appears that your request is not signed by a certificate which is part of the expected MSP.  ... The lscc is looking for buyer/seller MSP members but the request was submitted with a lender MSP signature.","username":"iramiller","ts":"2019-12-06T15:59:24.016Z"}
{"msg":"Thanks for the tip.","username":"sandman","ts":"2019-12-09T07:43:13.201Z"}
{"msg":"after solving this, I'm getting \"Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: invalid endpoint\n\" error. ","username":"sandman","ts":"2019-12-09T07:44:07.869Z"}
{"msg":"logs on peer are ```\n^[[36m2019-12-09 07:36:18.365 UTC [chaincode] Start -> DEBU a58^[[0m start container with args: chaincode -peer.address=peer1.lender.routingtest34.zeeve.net:7052\n^[[36m2019-12-09 07:36:18.365 UTC [chaincode] Start -> DEBU a59^[[0m start container with env:\n        CORE_CHAINCODE_LOGGING_LEVEL=info\n        CORE_CHAINCODE_LOGGING_SHIM=warning\n        CORE_CHAINCODE_LOGGING_FORMAT=%{color}%{time:2006-01-02 15:04:05.000 MST} [%{module}] %{shortfunc} -> %{level:.4s} %{id:03x}%{color:reset} %{message}\n        CORE_CHAINCODE_ID_NAME=mycc:1.0\n        CORE_PEER_TLS_ENABLED=true\n        CORE_TLS_CLIENT_KEY_PATH=/etc/hyperledger/fabric/client.key\n        CORE_TLS_CLIENT_CERT_PATH=/etc/hyperledger/fabric/client.crt\n        CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/peer.crt\n^[[36m2019-12-09 07:36:18.365 UTC [container] lockContainer -> DEBU a5a^[[0m waiting for container(mycc-1.0) lock\n^[[36m2019-12-09 07:36:18.365 UTC [container] lockContainer -> DEBU a5b^[[0m got container (mycc-1.0) lock\n^[[36m2019-12-09 07:36:18.365 UTC [dockercontroller] Start -> DEBU a5c^[[0m failed to get docker client%!(EXTRA string=error, *errors.errorString=invalid endpoint) imageName=dev-peer1.lender.routingtest34.zeeve.net-mycc-1.0-020a6739cc10449c90d2444dd51c2accf233006c98ec077503348af3c110ff92 containerName=dev-peer1.lender.routingtest34.zeeve.net-mycc-1.0\n^[[36m2019-12-09 07:36:18.365 UTC [container] unlockContainer -> DEBU a5d^[[0m container lock deleted(mycc-1.0)\n^[[36m2019-12-09 07:36:18.365 UTC [chaincode] Launch -> DEBU a5e^[[0m stopping due to error while launching: invalid endpoint\nerror starting container\nerror starting container\n^[[36m2019-12-09 07:36:18.365 UTC [container] lockContainer -> DEBU a5f^[[0m waiting for container(mycc-1.0) lock\n^[[36m2019-12-09 07:36:18.365 UTC [container] lockContainer -> DEBU a60^[[0m got container (mycc-1.0) lock\n^[[36m2019-12-09 07:36:18.365 UTC [dockercontroller] Stop -> DEBU a61^[[0m stop - cannot create client invalid endpoint\n^[[36m2019-12-09 07:36:18.365 UTC [container] unlockContainer -> DEBU a62^[[0m container lock deleted(mycc-1.0)\n^[[36m2019-12-09 07:36:18.366 UTC [chaincode] Launch -> DEBU a63^[[0m stop failed: invalid endpoint\nerror stopping container\n^[[36m2019-12-09 07:36:18.366 UTC [chaincode] Launch -> DEBU a64^[[0m launch complete\n^[[36m2019-12-09 07:36:18.366 UTC [chaincode] Deregister -> DEBU a65^[[0m deregister handler: mycc:1.0\n^[[34m2019-12-09 07:36:18.366 UTC [endorser] callChaincode -> INFO a66^[[0m [customchannel][6c56fa77] Exit chaincode: name:\"lscc\"  (10ms)\n^[[31m2019-12-09 07:36:18.366 UTC [endorser] SimulateProposal -> ERRO a67^[[0m [customchannel][6c56fa77] failed to invoke chaincode name:\"lscc\" , error: invalid endpoint\nerror starting container\nerror starting container\n^[[36m2019-12-09 07:36:18.366 UTC [endorser] SimulateProposal -> DEBU a68^[[0m [customchannel][6c56fa77] Exit\n^[[36m2019-12-09 07:36:18.366 UTC [lockbasedtxmgr] Done -> DEBU a69^[[0m Done with transaction simulation / query execution [6c56fa774ef3be9b30d82466b5b2e6cb594182c6d2e2f47adabc739a8e500d0c]\n^[[36m2019-12-09 07:36:18.366 UTC [endorser] func1 -> DEBU a6a^[[0m Exit: request from 10.244.1.105:57648\n^\n``` ","username":"sandman","ts":"2019-12-09T07:45:02.692Z"}
{"msg":"invoking \"curl --unix-socket /host/var/run/docker.sock http://localhost/events\" inside peer container Im able to get responses. So I assume, peer has the correct value of \"CORE_VM_ENDPOINT\".","username":"sandman","ts":"2019-12-09T09:32:49.722Z"}
{"msg":"debugging these kinds of errors can be quite difficult ... based on what you have in your log I would look at the DNS resolution _inside_ your chain code container... by default the DNS resolution inside this container will not know the proper address of the peer it is attempting to talk back to.","username":"iramiller","ts":"2019-12-09T15:54:01.424Z"}
{"msg":"Verify that the hostname `chaincode -peer.address=peer1.lender.routingtest34.zeeve.net:7052` resolves to the correct interface inside the chaincode container so that it connects to the host peer.","username":"iramiller","ts":"2019-12-09T15:54:51.145Z"}
{"msg":"(this privileged docker inside kubernetes thing is the worst part of Hyperledger Fabric in the 1.x series and reflects the lack of systems engineering for cloud based environments, the 2.x version has extensive rework of the peer/chaincode architecture to address these issues.. hopefully we can start building on the 2.0 series in the next few months)","username":"iramiller","ts":"2019-12-09T15:57:36.131Z"}
{"msg":"(in the mean time you will encounter some challenges getting this to work and without a fork that properly schedules kubernetes workloads your security architecture will be compromised, but know that others on here have persevered and deployed production systems of Fabric in Kubernetes on the 1.x branch)","username":"iramiller","ts":"2019-12-09T15:58:54.069Z"}
{"msg":"I have tried changing this to service name. Im able to nc this port and service name combination. It is still not working.","username":"sandman","ts":"2019-12-10T01:53:15.202Z"}
{"msg":"What is the need for docker in docker if peer has access to docker.sock file?","username":"sandman","ts":"2019-12-10T01:54:18.935Z"}
{"msg":"Has joined the channel.","username":"CodeReaper","ts":"2019-12-10T07:26:22.996Z","type":"uj"}
{"msg":"@sandman ... the issue here is that you are thinking about network connectivity from the pod perspective and cont from a container attached to the node itself (outside of kubernetes) which is how the chaincode container will be scheduled when directly interacting with the docker.sock endpoint.  You need to modify the DNS settings on the docker host VM itself to make this work.  If you are on the pod itself when the chaincode request comes in... and you have a container running with the docker tools installed, and a mount of the host docker sock ... then you can use the docker tools to inspect the running chaincode container (attaching to it even) and run the DNS lookups from there...","username":"iramiller","ts":"2019-12-10T18:22:48.225Z"}
{"msg":"you will find that within that context your DNS resolution will not work UNLESS you have updated the DNS settings that docker is using in that context to point to the kube-dns servers... and also included the appropriate DNS suffix search orders","username":"iramiller","ts":"2019-12-10T18:23:43.829Z"}
{"msg":"oh I see, Thanks","username":"sandman","ts":"2019-12-11T06:03:19.206Z"}
{"msg":"Has joined the channel.","username":"mrudav.shukla","ts":"2019-12-16T08:12:31.801Z","type":"uj"}
{"msg":"I am not able to instantiate chaincode from the peer. It would be great if some one can guide me as I'm pretty new to using Kubernetes. I am not able to figure out whether to create a separate container to instantiate the chaincode or the peer could do it on its own. Also, I'm confused on using docker.sock for instantiation. I'm using eks and have simple setup of one peer and one orderer. Peer is able to create and join the channel. Peer is able to install the chaincode however, peer is not able to instantiate the chaincode. Stack Overflow: https://stackoverflow.com/questions/59288613/chaincode-instantiation-fails-in-aws-eks-network","username":"mrudav.shukla","ts":"2019-12-16T08:17:03.776Z"}
{"msg":"Has anyone tested the EXTERNALBUILDERS feature for chaincode in 2.0.0 beta release?","username":"vanitas92","ts":"2019-12-16T15:09:26.193Z"}
{"msg":"From the code shared in stackoverflow, you are mounting the docker socket into the peer container, now this implementation could not be working depending on the AMI you are using for your EKS nodes. I would suggest using the Docker-indocker approach as it would be difficult to know when your chaincodes are up and and running or down. You can find more info here: https://medium.com/kokster/simpler-setup-for-hyperledger-fabric-on-kubernetes-using-docker-in-docker-8346f70fbe80","username":"vanitas92","ts":"2019-12-16T15:39:09.127Z"}
{"msg":"Sure. Let me check this.","username":"mrudav.shukla","ts":"2019-12-16T17:39:08.618Z"}
{"msg":"Hi Vanitas, I tried this Docker in Docker approach and the previous error is now gone. However, I'm still facing issues instantiating the chaincode.","username":"mrudav.shukla","ts":"2019-12-17T11:16:25.963Z"}
{"msg":"I've made updates in the stackoverflow question: https://stackoverflow.com/questions/59288613/chaincode-instantiation-fails-in-aws-eks-network","username":"mrudav.shukla","ts":"2019-12-17T11:16:42.069Z"}
{"msg":"If we use dind approach, do we still need to mount docker socket to host?","username":"mrudav.shukla","ts":"2019-12-17T11:17:12.937Z"}
{"msg":"you do not need to mount the socket","username":"vanitas92","ts":"2019-12-17T12:18:03.760Z"}
{"msg":"can you share the code of your implementation? so i can further help you","username":"vanitas92","ts":"2019-12-17T12:18:58.105Z"}
{"msg":"That would be a great help. Mostly all the code is there on stackoverflow. Apart from that do you want me to share configurations related to storageclass and services?","username":"mrudav.shukla","ts":"2019-12-17T12:20:37.738Z"}
{"msg":"fine for now, i just have one think different, the value of `CORE_VM_ENDPOINT` is `tcp://localhost:2375`, i have it as `http://localhost:2375`","username":"vanitas92","ts":"2019-12-17T12:41:52.933Z"}
{"msg":"can you try it?","username":"vanitas92","ts":"2019-12-17T12:42:01.896Z"}
{"msg":"Sure. Let me try this.","username":"mrudav.shukla","ts":"2019-12-17T12:47:10.738Z"}
{"msg":"for me when i configured dind, error is because of tls. dind:dind-stable image is tls-enabled by default. Use old dind image without tls","username":"ahmad-raza","ts":"2019-12-17T12:53:17.842Z"}
{"msg":"@ahmad-raza : I've disabled TLS using environment variable. I'll try out with an older one as well.","username":"mrudav.shukla","ts":"2019-12-17T13:05:58.403Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-12-17T13:10:44.586Z","attachments":[{"type":"file","title":"Screenshot from 2019-12-17 18-09-37.png","title_link":"/file-upload/WakeHbHzfNkBtAbgi/Screenshot%20from%202019-12-17%2018-09-37.png","image_url":"/file-upload/WakeHbHzfNkBtAbgi/Screenshot%20from%202019-12-17%2018-09-37.png","image_type":"image/png","image_size":6304,"url":"/file-upload/WakeHbHzfNkBtAbgi/Screenshot%20from%202019-12-17%2018-09-37.png","remote":false,"fileId":"WakeHbHzfNkBtAbgi","fileName":"Screenshot from 2019-12-17 18-09-37.png"}]}
{"msg":"","username":"ahmad-raza","ts":"2019-12-17T13:10:57.479Z","attachments":[{"type":"file","title":"Screenshot from 2019-12-17 18-09-56.png","title_link":"/file-upload/85HxBNeTasRvSFacL/Screenshot%20from%202019-12-17%2018-09-56.png","image_url":"/file-upload/85HxBNeTasRvSFacL/Screenshot%20from%202019-12-17%2018-09-56.png","image_type":"image/png","image_size":5568,"url":"/file-upload/85HxBNeTasRvSFacL/Screenshot%20from%202019-12-17%2018-09-56.png","remote":false,"fileId":"85HxBNeTasRvSFacL","fileName":"Screenshot from 2019-12-17 18-09-56.png"}]}
{"msg":"","username":"ahmad-raza","ts":"2019-12-17T13:11:12.182Z","attachments":[{"type":"file","title":"Screenshot from 2019-12-17 18-10-20.png","title_link":"/file-upload/q4ndKpxQGffQXMEjK/Screenshot%20from%202019-12-17%2018-10-20.png","image_url":"/file-upload/q4ndKpxQGffQXMEjK/Screenshot%20from%202019-12-17%2018-10-20.png","image_type":"image/png","image_size":6190,"url":"/file-upload/q4ndKpxQGffQXMEjK/Screenshot%20from%202019-12-17%2018-10-20.png","remote":false,"fileId":"q4ndKpxQGffQXMEjK","fileName":"Screenshot from 2019-12-17 18-10-20.png"}]}
{"msg":"these would be your settings in peer container ","username":"ahmad-raza","ts":"2019-12-17T13:11:41.143Z"}
{"msg":"and these of dind container","username":"ahmad-raza","ts":"2019-12-17T13:12:34.675Z"}
{"msg":"","username":"ahmad-raza","ts":"2019-12-17T13:12:47.221Z","attachments":[{"type":"file","title":"Screenshot from 2019-12-17 18-12-00.png","title_link":"/file-upload/jrheZWFyqvZ8qWtCo/Screenshot%20from%202019-12-17%2018-12-00.png","image_url":"/file-upload/jrheZWFyqvZ8qWtCo/Screenshot%20from%202019-12-17%2018-12-00.png","image_type":"image/png","image_size":21358,"url":"/file-upload/jrheZWFyqvZ8qWtCo/Screenshot%20from%202019-12-17%2018-12-00.png","remote":false,"fileId":"jrheZWFyqvZ8qWtCo","fileName":"Screenshot from 2019-12-17 18-12-00.png"}]}
{"msg":"","username":"ahmad-raza","ts":"2019-12-17T13:12:56.138Z","attachments":[{"type":"file","title":"Screenshot from 2019-12-17 18-12-14.png","title_link":"/file-upload/AmLzQsikvobcEEaPZ/Screenshot%20from%202019-12-17%2018-12-14.png","image_url":"/file-upload/AmLzQsikvobcEEaPZ/Screenshot%20from%202019-12-17%2018-12-14.png","image_type":"image/png","image_size":6980,"url":"/file-upload/AmLzQsikvobcEEaPZ/Screenshot%20from%202019-12-17%2018-12-14.png","remote":false,"fileId":"AmLzQsikvobcEEaPZ","fileName":"Screenshot from 2019-12-17 18-12-14.png"}]}
{"msg":"Let me try this.","username":"mrudav.shukla","ts":"2019-12-17T14:27:08.588Z"}
{"msg":"@ahmad-raza : Tried with the same configuration. Still the same issue.","username":"mrudav.shukla","ts":"2019-12-17T17:03:12.443Z"}
{"msg":"@vanitas92 : Tried with http as well. Still the same issue. :(","username":"mrudav.shukla","ts":"2019-12-17T17:03:31.120Z"}
{"msg":"@ahmad-raza : Seems the dind image version was the main issue. Tried with that image 18-dind and it worked. Thanks a lot for helping out. ","username":"mrudav.shukla","ts":"2019-12-17T18:11:07.376Z"}
{"msg":"@vanitas92 : Thanks a lot for the rightful guidance! I am able to instantiate the chaincode now.","username":"mrudav.shukla","ts":"2019-12-17T18:11:38.252Z"}
{"msg":"Stackoverflow Answer: https://stackoverflow.com/questions/59288613/chaincode-instantiation-fails-in-aws-eks-network/59380125#59380125","username":"mrudav.shukla","ts":"2019-12-17T18:31:31.928Z"}
{"msg":"oh i have the `stable-dind` version of image and it is working, might have the old version still using, thanks for the hint!","username":"vanitas92","ts":"2019-12-17T19:45:57.266Z"}
{"msg":"Has joined the channel.","username":"AbhijeetSamanta","ts":"2019-12-19T04:35:54.398Z","type":"uj"}
{"msg":"Hello guys ","username":"Khaled.MH","ts":"2019-12-24T10:39:41.163Z"}
{"msg":"how can i implement service discovery so peer will be able to expose these type of information to the clients ?","username":"Khaled.MH","ts":"2019-12-24T10:40:05.848Z"}
{"msg":"Hi All, I am trying to setup on HLF on EKS. I had setup till generate artefact and cryto material. also raft orderer running, but when I am creating the peers its give error as \" Could not connect to Endpoint: peer1-org1-service:7051, InternalEndpoint: peer1-org1-service:7051, PKI-ID: <nil>, Metadata: : context deadline exceeded\" Anybody help me to fix this issue. Let me know there is any further info. need?","username":"AbhijeetSamanta","ts":"2019-12-24T19:57:58.542Z"}
{"msg":"What type of service are you using?","username":"mrudav.shukla","ts":"2019-12-25T05:44:25.124Z"}
{"msg":"Has joined the channel.","username":"kirikiri","ts":"2019-12-26T14:23:22.569Z","type":"uj"}
{"msg":"Hello, is there any full guide of setup fabric in k8s with 1 org and chaincode and wallets?","username":"kirikiri","ts":"2019-12-26T14:24:42.356Z"}
{"msg":"if anyone else was reading through this and considering DinD for Kubernetes ... an alternative approach (if you have go experience) would be to build upon my work for a Kubernetes controller that schedules chaincode containers properly (until 2.0 comes out and we can rebuild into a nice add on module) https://github.com/FigureTechnologies/fabric/blob/release-1.4/core/container/kubernetescontroller/kubernetescontroller.go","username":"iramiller","ts":"2019-12-26T22:07:45.974Z"}
{"msg":"note that the above approach isn't plug and play ... and it relies our our approach of releasing chaincode containers built by our Jenkins pipeline internally ... but any external chaincode build process could do the same.","username":"iramiller","ts":"2019-12-26T22:08:58.665Z"}
{"msg":"Sorry to bother all I have fixed the issue thanks for reply","username":"AbhijeetSamanta","ts":"2019-12-27T06:47:13.130Z"}
{"msg":"Hello, could anybody help with some example of how to enable ingress for the peer? As I found in docs nginx-ingress can proxy http2 or grpc requests only with enabled tls, but I cannot understand where should I get certificates and how to pass them to the ingress ","username":"kirikiri","ts":"2019-12-30T12:56:14.244Z"}
{"msg":"Has joined the channel.","username":"tengc","ts":"2019-12-31T03:28:21.472Z","type":"uj"}
{"msg":"I noticed when setting up k8s that there are quite a number of ports that must be made accessible in order for the cluster to function. For setups that span multiple locations, is it necessary to split the network into localized clusters?","username":"tengc","ts":"2019-12-31T03:28:21.669Z"}
{"msg":"Hello, how to setup nginx ingress for peers and orderers to be able to submit transactions outside the cluster?","username":"kirikiri","ts":"2020-01-02T09:52:39.964Z"}
{"msg":"Hi all anybody have implement the node sdk with k8s.","username":"AbhijeetSamanta","ts":"2020-01-05T08:39:24.689Z"}
{"msg":"Has joined the channel.","username":"roclee","ts":"2020-01-06T03:03:29.593Z","type":"uj"}
{"msg":"Hi All, I am stuck in one issue with connection profile. Let me tell what I am trying to do. I have created HL network on AWS EKS with on ca-root and 2 ca-client. I have 2 organisations which have 2 peer each.  I am using the raft orderering sevice with 3 orderers. all the network running fine now I want to connect it with node applications API's for that I have created the connection profile, but it not connected I am getting issue as \"2020-01-07T07:36:07.526Z - error: [FabricCAClientService.js]: Failed to enroll admin, error:%o message=Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054], stack=Error: Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054]\n\" ","username":"AbhijeetSamanta","ts":"2020-01-07T07:52:56.857Z"}
{"msg":"Hi All, I am stuck in one issue with connection profile. Let me tell what I am trying to do. I have created HL network on AWS EKS with on ca-root and 2 ca-client. I have 2 organisations which have 2 peer each.  I am using the raft orderering sevice with 3 orderers. all the network running fine now I want to connect it with node applications API's for that I have created the connection profile, but it not connected I am getting issue as `\"2020-01-07T07:36:07.526Z - error: [FabricCAClientService.js]: Failed to enroll admin, error:%o message=Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054], stack=Error: Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054]\n\" `","username":"AbhijeetSamanta","ts":"2020-01-07T07:52:56.857Z"}
{"msg":"Hi All, I am stuck in one issue with connection profile. Let me tell what I am trying to do. I have created HL network on AWS EKS with on ca-root and 2 ca-client. I have 2 organisations which have 2 peer each.  I am using the raft orderering sevice with 3 orderers. all the network running fine now I want to connect it with node applications API's for that I have created the connection profile, but it not connected I am getting issue as\n `\"2020-01-07T07:36:07.526Z - error: [FabricCAClientService.js]: Failed to enroll admin, error:%o message=Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054], stack=Error: Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054]\n``` `\n\" ````\nanybody have any experience how to do it. I have tried all cased like loadbalance, clusterIP etc. \n``` ","username":"AbhijeetSamanta","ts":"2020-01-07T07:52:56.857Z"}
{"msg":"Hi All, I am stuck in one issue with connection profile. Let me tell what I am trying to do. I have created HL network on AWS EKS with on ca-root and 2 ca-client. I have 2 organisations which have 2 peer each.  I am using the raft orderering sevice with 3 orderers. all the network running fine now I want to connect it with node applications API's for that I have created the connection profile, but it not connected I am getting issue as\n\n``` `\n `\"2020-01-07T07:36:07.526Z - error: [FabricCAClientService.js]: Failed to enroll admin, error:%o message=Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054], stack=Error: Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054] ````\nanybody have any experience how to do it. I have tried all cased like loadbalance, clusterIP etc. \n``` ","username":"AbhijeetSamanta","ts":"2020-01-07T07:52:56.857Z"}
{"msg":"Hi All, I am stuck in one issue with connection profile. Let me tell what I am trying to do. I have created HL network on AWS EKS with on ca-root and 2 ca-client. I have 2 organisations which have 2 peer each.  I am using the raft orderering sevice with 3 orderers. all the network running fine now I want to connect it with node applications API's for that I have created the connection profile, but it not connected I am getting issue as\n\n``` `\n `\"2020-01-07T07:36:07.526Z - error: [FabricCAClientService.js]: Failed to enroll admin, error:%o message=Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054], stack=Error: Calling enrollment endpoint failed with error [Error: connect ETIMEDOUT 10.100.81.135:7054] ````\nanybody have any experience how to do it. I have tried all cased like loadbalance, clusterIP etc.","username":"AbhijeetSamanta","ts":"2020-01-07T07:52:56.857Z"}
{"msg":"RAFT","username":"lionelronaldo","ts":"2020-01-07T09:36:06.367Z"}
{"msg":"@AbhijeetSamanta make sure you can hit your CA service from the pod you are running your code in above ... verify that your DNS name (if you are using one) resolves correctly...  some times it is easier to isolate the infrastructure and make sure it is working as expected before trying to further debug the Hyperledger Fabric software","username":"iramiller","ts":"2020-01-07T23:08:07.831Z"}
{"msg":"Has joined the channel.","username":"ZainabM","ts":"2020-01-09T11:55:16.821Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tatsu-sato","ts":"2020-01-09T22:19:18.333Z","type":"uj"}
{"msg":"@iramiller Thanks for that. I have resolve the issue and it connect to my HL network however I cannot use the API which is made for register the users","username":"AbhijeetSamanta","ts":"2020-01-10T06:53:15.648Z"}
{"msg":" I have one API which is register the user into HL network using node SDK , but it couldn't register the user. I have checked with another HL network(test) its working fine and I can register the user, however when I am trying with the k8s based network its not working and users could not register to network. Could you please help this issue. I can provide the information what you need. like connection profile file and node sdk code for user registration.","username":"AbhijeetSamanta","ts":"2020-01-10T07:01:10.600Z"}
{"msg":"How service discovery works if I deploy my fabric network on Kubernetes if for default Kubernetes has a load balancer, how the SDK can discover the other peers? Should I use Kubernetes for deploy a production ready Hyperledger Fabric network?","username":"mauricio","ts":"2020-01-11T15:28:09.478Z"}
{"msg":"Hi have someone used Nephos to deploy the network in Kubernetes, I am trying to map the /crypto files to the connection-profile in order to use it with Node.js but without luck. Would appreciate if someone can help me out","username":"gentios","ts":"2020-01-12T20:41:16.645Z"}
{"msg":"nephos","username":"gentios","ts":"2020-01-12T20:47:01.412Z"}
{"msg":"Ex","username":"lionelronaldo","ts":"2020-01-13T06:52:01.472Z"}
{"msg":"Hi there! Thanks for this forum, it already helped a lot :pray: \nNow I wanted to setup Hyperledger Explorer on my cluster, and the guide by feitnomore (https://github.com/feitnomore/hyperledger-fabric-kubernetes thx at this point) uses a Network file system (NFS). \nUntil now, I always used K8s secrets to inject certs and other information into my Peer and Orderer pods as described in the great guides by AidTech (https://github.com/aidtechnology/hgf-k8s-workshop) and APG and Accenture NL (https://github.com/APGGroeiFabriek/PIVT).\n\n2 questions arose:\nHow to distribute the crypto material securely in a production environment? \nOf all three guides shared above, only AidTech doesn't use the cryptogen tool, but the actual HLF CA Container to issue keys and certificates. However, they still copy the keys from the CA Pod to the local machine, and then inject it into the Peer/Orderer Container. It doesn't seem very secure to me if private keys ever leave the pod for which they are meant for.\n\n\n\n\n\n\n","username":"lionelronaldo","ts":"2020-01-13T07:20:37.696Z"}
{"msg":"Hi there! Thanks for this forum, it already helped a lot :pray: \nNow I wanted to setup Hyperledger Explorer on my cluster, and the guide by feitnomore (https://github.com/feitnomore/hyperledger-fabric-kubernetes thx at this point) uses a Network file system (NFS). \nUntil now, I always used K8s secrets to inject certs and other information into my Peer and Orderer pods as described in the great guides by AidTech (https://github.com/aidtechnology/hgf-k8s-workshop) and APG and Accenture NL (https://github.com/APGGroeiFabriek/PIVT).\n\n2 questions arose:\nHow to distribute the crypto material securely in a production environment? \nOf all three guides shared above, only AidTech doesn't use the cryptogen tool, but the actual HLF CA Container to issue keys and certificates. However, they still copy the keys from the CA Pod to the local machine, and then inject it into the Peer/Orderer Container. It doesn't seem very secure to me if private keys ever leave the pod for which they are meant for.\nRegarding the solution by feitnomore using NFS \"Note: Crypto materials, configuration files and some scripts will be saved on this shared filesystem.\" : looks like all Pods can access the crypto material of other Pods, doesn't seem very secure (although I don't have any clue about NFS). \n\nDo you know a solution to enable Hyperledger Explorer without NFS? I guess the NFS is mounted on the  Hyperledger Explorer Pod because it needs some information that is inside the shared filesystem, but maybe this can be replaced somehow?\n\nAny answers or some fruitful discussion is very much welcomed! :slight_smile: ","username":"lionelronaldo","ts":"2020-01-13T07:20:37.696Z"}
{"msg":"Hi @kirikiri. It depends on how you setup your HF network on K8s. I personally asked myself the same question last week. For the setup, I used the guide for a production environment by AidTech (https://github.com/aidtechnology/hgf-k8s-workshop). By using the helm charts hlf-peer and hlf-orderer, services for each Peer are automatically generated. Also the great guide by APG and Accenture NL (https://github.com/APGGroeiFabriek/PIVT) creates a Kubernetes service for every pod. That way you can access the Peer and Orderer Pods over their respective service :slight_smile: . \n\nSo you just need to install the nginx ingress e.g.\n`helm install nginx-ingress stable/nginx-ingress`\n\nand then create an ingress with a file ingress.yaml similar to this\n`apiVersion: extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: peer-ingress\n  namespace: peers\n  annotations:\n    kubernetes.io/ingress.class: nginx\nspec:\n  rules:\n  - host: peer.example.com\n    http:\n      paths:\n      - path: /request\n        backend:\n          serviceName: peer1-hlf-peer\n          servicePort: request\n      - path: /event\n        backend:\n          serviceName: peer1-hlf-peer\n          servicePort: event`\n\nwith `kubectl create -f ingress.yaml`","username":"lionelronaldo","ts":"2020-01-13T07:45:06.834Z"}
{"msg":"In the property \"serviceName\" as in `serviceName: peer1-hlf-peer`you have to specify the service that corresponds to your pod.\n","username":"lionelronaldo","ts":"2020-01-13T07:49:05.869Z"}
{"msg":"But as I found out, you can also assign an ingress directly in the values.yaml file for installing the helm chart. AidTech does it like this to enable an ingress for their CA Pod (https://github.com/aidtechnology/hgf-k8s-workshop/blob/master/prod_example/helm_values/ca.yaml), and in the other helm charts of Peer and Orderer there is also the possibility to inject ingress.enabled=true into the chart. This way the chart automatically creates an Ingress for your Pod :smile: ","username":"lionelronaldo","ts":"2020-01-13T08:07:06.412Z"}
{"msg":"@lionelronaldo thanks for this one man I was looking for the same","username":"gentios","ts":"2020-01-13T09:11:58.508Z"}
{"msg":"howver Idk whether it's safe to expose the peers and orderes outside the cluster","username":"gentios","ts":"2020-01-13T09:12:16.356Z"}
{"msg":"Yes absolutely, that's an important thought, I overlooked this until now :sweat_smile: \nCurrently I'm using Digital Ocean (DO) managed Kubernetes, and there you can set inbound rules for Requests. I guess an easy first precaution would be to whitelist only known IP addresses for my loadbalancer directly in DO.\n\nHowever, shouldn't it be possible from anyone wanting to use the sdk to connect to my peer? The application that connects to the HF network could reside in any part of the world, shouldn't it?\nThis would indicate that it's safe to expose the peer outside of the cluster, because requests are anyway only executed if they come from trusted entities, i.e. parties that have a certificate that's trusted by the HF network.\nDoes this make sense? Or do I misunderstand something?","username":"lionelronaldo","ts":"2020-01-13T10:51:31.032Z"}
{"msg":"No that is perfectly correct, I have the same thougts too. I am also using Digital Ocean managed Kubernetes","username":"gentios","ts":"2020-01-13T10:53:13.907Z"}
{"msg":"Can you share the updated peer chart and order chart with ingress","username":"gentios","ts":"2020-01-13T10:53:32.802Z"}
{"msg":"Yes, I'm trying to get it going right now. I'll share it once I found a working solution :thumbsup: ","username":"lionelronaldo","ts":"2020-01-13T10:54:13.930Z"}
{"msg":"Thank you @lionelronaldo ","username":"gentios","ts":"2020-01-13T10:55:12.817Z"}
{"msg":"Has joined the channel.","username":"DollyVolley","ts":"2020-01-13T15:45:50.086Z","type":"uj"}
{"msg":"I had the same question @lionelronaldo. Thank you for framing it so aptly. Curious as to how more people are not talking/worried about this. \n.\nOn a high level it is a simple problem of moving the CA root certificates from the CA pod to the Orderer/Peer pod and figuring out the most secure way to do it.","username":"adityanalge","ts":"2020-01-15T18:55:16.379Z"}
{"msg":"@gentios \nSo i figured out how to adjust the helm charts hlf-ca, hlf-peer and hlf-orderer so that the installation of them automatically creates an ingress. :yum: \n\nAt first I wanted to use the same secret of the TLS certificate across ca, orderer and peer. So just one certifiacte for mydomain.com, and to redirect the requests to the specific services via paths like mydomain.com/ca,  mydomain.com/peer and mydomain.com/orderer. Guess what, the problem was the fabric-ca-client. \nWhen you call `FABRIC_CA_CLIENT_HOME=./config fabric-ca-client enroll -u https://ord-admin:OrdAdm1nPW@$CA_INGRESS -M ./OrdererMSP` (as in the AidTech guide https://github.com/aidtechnology/hgf-k8s-workshop/tree/master/prod_example), the $CA_INGRESS would be in our example mydomain.com/ca. Unfortunetaley the fabric-ca-client binary cuts off everthing before the last slash, and instead of https://mydomain.com/ca/enroll it always tried to call https://ca/enroll which obviously doesn't work.\nI couldn't find a way around that. :disappointed: Please tell me if you know a solution that this issue!\n\nNext try was to use a wildcard certificate for *.mydomain.com, so I only need to generate one certificate in my cluster and I don't run into the letsencrypt rate limits that easily. However, for that you need a special ClusterIssuer with a dns solver that can connect to your domain registrator. I didn't have that because I'm currently using free domains without such api service.  \n:feet: \nSo in the end, I just used the subdomains ca.mydomain.com, orderer.mydomain.com and peer.mydomain.com and generated for each one of them a TLS certificate issued by letsencrypt.\n\nAfter you have a ready ClusterIssuer for the cert-manager (let's say it is \"letsencrypt-production), you need to add an ingress section to each of the values.yaml files of the charts:\nca:\n`ingress:\n  enabled: true\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    cert-manager.io/cluster-issuer: letsencrypt-production\n  path: / \n  hosts:\n    # TODO: Change this to your Domain Name\n    - ca.yourdomain.com\n  tls:\n    - secretName: ca--tls\n      hosts:\n        # TODO: Change this to your Domain Name\n        - ca.yourdomain.com`\npeer:\n`ingress:\n  enabled: true\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    cert-manager.io/cluster-issuer: letsencrypt-production \n  path: /\n  hosts:\n    # TODO: Change this to your Domain Name\n    - peer.yourdomain.com\n  tls:\n    - secretName: peer--tls #tls-secret\n      hosts:\n        # TODO: Change this to your Domain Name\n        - peer.yourdomain.com`\norderer:\n`ingress:\n  enabled: true\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    cert-manager.io/cluster-issuer: letsencrypt-production\n  path: /\n  hosts:\n    # TODO: Change this to your Domain Name\n    - orderer.yourdomain.com\n  tls:\n    - secretName: orderer--tls\n      hosts:\n        # TODO: Change this to your Domain Name\n        - orderer.yourdomain.com`\n\nI only included this ingress section in peer1 and ord1, as I was ok with connecting to just 1 peer and orderer. This creates 3 ingresses, which should be accessable via your domains with https. :heart_decoration: \nUntil now I'm not sure how to use the ingress for peer and orderer. \nI guess with this setup it's possible to enable a HF network with multiple K8s clusters. :slight_smile:  That will be the next step.","username":"lionelronaldo","ts":"2020-01-16T12:29:54.434Z"}
{"msg":"Another question that arose during my work with the hlf helm charts developed by Aid:Tech:\n\nThe hlf-ca helm chart uses a requirements.lock file, which has a dependency on the postgresql 2.6.1 and mysql 0.10.2 helm charts. However these helm charts use apiVersions that are not compatible with the apiVersions of K8s 1.16 , so I cannot use them with Kubernetes 1.16 . \n*Is there any possibility in K8s to override this requirements.lock file from a remote helm repo? \n* :pray: \nIn the values.yaml for hlf-ca, I can specify the image tag of postgresql and mysql, but I cannot specify the helm chart version..\n\nFor now, I forked the repo, adjusted and ran the chart locally.","username":"lionelronaldo","ts":"2020-01-16T12:37:44.995Z"}
{"msg":"Another question that arose during my work with the hlf helm charts developed by Aid:Tech:\n\nThe hlf-ca helm chart uses a requirements.lock file, which has a dependency on the postgresql 2.6.1 and mysql 0.10.2 helm charts. However these helm charts use apiVersions that are not compatible with the apiVersions of K8s 1.16 , so I cannot use them with Kubernetes 1.16 . \n*Is there any possibility in K8s to override this requirements.lock file from a remote helm repo? * :pray: \nIn the values.yaml for hlf-ca, I can specify the image tag of postgresql and mysql, but I cannot specify the helm chart version..\n\nFor now, I forked the repo, adjusted and ran the chart locally.","username":"lionelronaldo","ts":"2020-01-16T12:37:44.995Z"}
{"msg":"Another question that arose during my work with the hlf helm charts developed by Aid:Tech:\n\nThe hlf-ca helm chart uses a requirements.lock file, which has a dependency on the postgresql 2.6.1 and mysql 0.10.2 helm charts. However these helm charts use apiVersions that are not compatible with the apiVersions of K8s 1.16 , so I cannot use them with Kubernetes 1.16 . \n*Is there any possibility in K8s/helm to override this requirements.lock file from a remote helm repo? * :pray: \nIn the values.yaml for hlf-ca, I can specify the image tag of postgresql and mysql, but I cannot specify the helm chart version..\n\nFor now, I forked the repo, adjusted and ran the chart locally.","username":"lionelronaldo","ts":"2020-01-16T12:37:44.995Z"}
{"msg":"By the way, maybe your right that it's bad to open up your Peers and Orderers so openly to the internet. An attacker might not be able to attack via the HF network, but he might be able to attack via the K8s network. However I don't know yet a lot about K8s security.","username":"lionelronaldo","ts":"2020-01-16T12:40:50.496Z"}
{"msg":"By the way, maybe you are right that it's bad to open up your Peers and Orderers so openly to the internet. An attacker might not be able to attack via the HF network, but he might be able to attack via the K8s network. However I don't know yet a lot about K8s security.","username":"lionelronaldo","ts":"2020-01-16T12:40:50.496Z"}
{"msg":"Has anyone tested the EXTERNALBUILDERS feature for chaincode in 2.0.0 beta release? \n\nI'm having trouble setting up the env var CORE_CHAINCODE_EXTERNALBUILDERS in yaml as i constantly got this error: `Error: '': source data must be an array or slice, got string`\n\nThis is how i set it up:\n```\n        - name: CORE_CHAINCODE_EXTERNALBUILDERS\n          value: '[{name: golang-builder, path: /builders/golang}]'\n```","username":"vanitas92","ts":"2020-01-16T14:37:39.963Z"}
{"msg":"I have not tried, but just a thought that remove quotes arround the array and try. Like `- name: CORE_CHAINCODE_EXTERNALBUILDERS\n          value: [{name: golang-builder, path: /builders/golang}]`","username":"ZainabM","ts":"2020-01-17T06:56:49.206Z"}
{"msg":"I have a CA container running within Pod in an amazon EKS cluster. I am exposing this using service type load balancer.  It has TLS enabled. Now, since this pod is exposed using amazons load balancer, this load balancer will need to have an SSL cert. My question is, should this SSL cert be the certificate of the CA and be explicitly imported into amazons ACM or this load balancer would have a different SSL cert?","username":"mrudav.shukla","ts":"2020-01-17T08:04:45.046Z"}
{"msg":"Typically the LoadBalancer would have his own cert, not the one from the CA or some other HF component.","username":"lionelronaldo","ts":"2020-01-17T08:09:50.371Z"}
{"msg":"Ok. Let me try.","username":"mrudav.shukla","ts":"2020-01-17T10:58:39.252Z"}
{"msg":"Hi all, I am trying to implement HLF network on k8s with aws EKS. I have some query regarding the architecture of production grade environment for the HLF network, What would be the best architecture to implement it. I am planning to create separate cluster for each org and orderer also. is it right way to implement it? also I want to know the CA architecture. Please help me in this case as I little confused with it. Thanks in advance ","username":"AbhijeetSamanta","ts":"2020-01-21T07:57:22.154Z"}
{"msg":"@AbhijeetSamanta if all of your clusters are managed by a single team ... perhaps relying on namespaces for separation is sufficient vs the extra infrastructure for all those extra clusters.  We used ICAs (and loaded those into Fabric CAs) for each org in our network.  You would want to discuss that further in the #fabric-ca channel I suspect.","username":"iramiller","ts":"2020-01-21T18:42:27.077Z"}
{"msg":"So my post about how to setup ingress gave ingresses, but I don't know how to work with them for a multicluster setup (https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KcpdQiPMmHi5BqZ6Y). \nCould anybody give me a hint how to use the public domain names instead of cluster specific domain names?\nIs .spec.hostAliases helping for this issue? Because it only translates inner cluster domain names to ip addresses, I would need a translation to public domain names (my public LoadBalancer IP uses ingress for the different services).\n:thinking: ","username":"lionelronaldo","ts":"2020-01-22T12:07:41.691Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KcpdQiPMmHi5BqZ6Y","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=KcpdQiPMmHi5BqZ6Y","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi thanks for reply, yes I will ask into #fabric-ca  group regarding the CA ","username":"AbhijeetSamanta","ts":"2020-01-23T07:53:38.724Z"}
{"msg":"Has joined the channel.","username":"Nammalvar","ts":"2020-01-23T08:51:26.002Z","type":"uj"}
{"msg":"I am facing an issue similar to this: https://stackoverflow.com/questions/56735065/chaincode-is-instantiated-but-doesnt-appear-in-the-list-of-instantiated-codes. In my case, I am able to fetch the blocks using peer channel fetch command. However, though instantiation is successful, I am not able to get the list of instantiated chaincodes. Has anyone faced similar issue? I am using aws eks.","username":"mrudav.shukla","ts":"2020-01-23T11:52:08.844Z"}
{"msg":"@lionelronaldo thank you for sharing your setup, I did an initial research on this and I found some links from the at-charts of Aid:tech.\n\nAs you can see in this link: https://github.com/aidtechnology/at-charts/blob/master/hlf-peer/values.yaml#L21\n\nIn order to expose a peer we have to pass the \"GRPC\" annotation and if you want to use the TLS you have to pass the following config: https://github.com/aidtechnology/at-charts/blob/master/hlf-peer/values.yaml#L64 and following secrets: https://github.com/aidtechnology/at-charts/blob/master/hlf-peer/values.yaml#L84\n\nI haven't still tested it with TLS, I am still having a problem connecting to the peer after the ingress enabled, in order to install the chaincode.\n\nStill evaluating how to expose it correctly, if someone has setup this would be good to share some answers \n\n","username":"gentios","ts":"2020-01-24T09:25:24.788Z"}
{"msg":"Regarding the multicluster setup, I don't have such experience yet tbh","username":"gentios","ts":"2020-01-24T09:26:27.104Z"}
{"msg":"Great catch! I always overlooked the 'nginx.ingress.kubernetes.io/backend-protocol: \"GRPC\"' part! \nJust tried it out without TLS and without CA in a minimalist setup of 1 peer and 1 orderer (using cryptogen). \nIt doesn't work just with the additional annotation of backend-protocol, but I think we are one step further. \n\nIn the peer logs there is \n\"External endpoint is empty, peer will not be accessible outside of its organization\"\nWith \"helm template stable/hlf-peer -n peer1 --namespace peers -f ./helm_values/peer1.yaml\" I found out that the environment variables \"CORE_PEER_GOSSIP_EXTERNALENDPOINT\" and \"CORE_PEER_GOSSIP_BOOTSTRAP\" are not set, as they should be indicated by this article https://hyperledger-fabric.readthedocs.io/en/release-1.4/gossip.html .\n\nIn https://github.com/aidtechnology/at-charts/blob/b0bb623da5b864a6ffc176261909494df789f2ab/hlf-peer/values.yaml#L60 I found that it's able to set the endpoints in values.yaml. Maybe we have to set the right values there?","username":"lionelronaldo","ts":"2020-01-24T10:33:48.336Z"}
{"msg":"@lionelronaldo no I think that is for the gossip protocol has not to do with the external url","username":"gentios","ts":"2020-01-24T10:35:40.699Z"}
{"msg":"The thing is that if we specify the service type to LoadBalancer as here: https://github.com/aidtechnology/at-charts/blob/b0bb623da5b864a6ffc176261909494df789f2ab/hlf-peer/values.yaml#L11","username":"gentios","ts":"2020-01-24T10:35:56.814Z"}
{"msg":"It will be exposed to public without a problem, however it's not safe for prod since the communication is not protected by TLS","username":"gentios","ts":"2020-01-24T10:36:21.893Z"}
{"msg":"@gentios ok very interesting, thanks for the info! Guess my K8s are still not good enough.\nIf I enable LoadBalancer for the service instead of ClusterIP, do I still need to enable the ingress?","username":"lionelronaldo","ts":"2020-01-24T10:48:20.506Z"}
{"msg":"@gentios ok very interesting, thanks for the info! Guess my K8s skills are still not good enough.\nIf I enable LoadBalancer for the service instead of ClusterIP, do I still need to enable the ingress?","username":"lionelronaldo","ts":"2020-01-24T10:48:20.506Z"}
{"msg":"Or how do I connect orderer and peer if I exposed them via a LoadBalancer? It's ok to start without TLS. Did you ever get it to work without TLS with LoadBalancers or Ingresses?","username":"lionelronaldo","ts":"2020-01-24T11:00:09.618Z"}
{"msg":"@lionelronaldo no haven't tried with LoadBalancer yet, but will do","username":"gentios","ts":"2020-01-24T11:44:36.018Z"}
{"msg":"If you pass a LoadBalancer it will assign an external IP Address where you","username":"gentios","ts":"2020-01-24T11:44:53.546Z"}
{"msg":"can connect from the fabric-sdk or however you will use it ","username":"gentios","ts":"2020-01-24T11:45:07.293Z"}
{"msg":"like: grpc://ip:address","username":"gentios","ts":"2020-01-24T11:45:14.248Z"}
{"msg":"maybe the guys from Aid:Tech can assist us here: @nicolapaoli or @alexvicegrab  ","username":"gentios","ts":"2020-01-24T11:47:22.986Z"}
{"msg":"Ok I was aware of that. However I cannot find out how to tell the orderer \"connect to PEER_IP\" and the peer \"connect to ORDERER_IP\"","username":"lionelronaldo","ts":"2020-01-24T12:25:22.477Z"}
{"msg":"I guess only either LoadBalancer or Ingress is needed. In their prod example they set up an ingress for the CA, but leave the service with ClusterIP and do not change it to LoadBalancer.","username":"lionelronaldo","ts":"2020-01-24T12:26:39.035Z"}
{"msg":"Yes because LoadBalancer = Ingress","username":"gentios","ts":"2020-01-24T12:27:01.938Z"}
{"msg":"They are the same","username":"gentios","ts":"2020-01-24T12:27:07.466Z"}
{"msg":"Ingress is a type of LoadBalancer service","username":"gentios","ts":"2020-01-24T12:27:19.539Z"}
{"msg":"Well, an Ingress needs a LoadBalancer, but LoadBalancer can also exist without Ingress no?","username":"lionelronaldo","ts":"2020-01-24T12:27:37.776Z"}
{"msg":"No an ingress is a type of LoadBalancer","username":"gentios","ts":"2020-01-24T12:28:08.670Z"}
{"msg":"They are equal","username":"gentios","ts":"2020-01-24T12:28:19.369Z"}
{"msg":"Idk too much about kubernetes too :D","username":"gentios","ts":"2020-01-24T12:28:29.310Z"}
{"msg":"I am using nephos to deploy the HLF Kubernetes cluster","username":"gentios","ts":"2020-01-24T12:29:17.737Z"}
{"msg":"and in their example they have a qa-tls and dev-tls ","username":"gentios","ts":"2020-01-24T12:29:29.321Z"}
{"msg":"on how to enable tls here link: https://github.com/hyperledger-labs/nephos/tree/master/examples","username":"gentios","ts":"2020-01-24T12:29:38.195Z"}
{"msg":"I have been blind, haven't seen this :joy: ","username":"gentios","ts":"2020-01-24T12:30:01.727Z"}
{"msg":"Will share more details when I will try it out","username":"gentios","ts":"2020-01-24T12:30:23.804Z"}
{"msg":"Aha ok. I'm not quite sure if LoaBalancer = Ingress, this article explains some differences https://medium.com/google-cloud/kubernetes-nodeport-vs-loadbalancer-vs-ingress-when-should-i-use-what-922f010849e0","username":"lionelronaldo","ts":"2020-01-24T12:31:24.198Z"}
{"msg":"Nice, I couldn't get nephos to run because I had some python issues, but good to know to you can set up a network with it!","username":"lionelronaldo","ts":"2020-01-24T12:31:54.738Z"}
{"msg":"Yes it's easier than manual, regarding the python I guess you had a problem with the commands just use:\n\nPYTHONPATH=. command here","username":"gentios","ts":"2020-01-24T12:33:39.650Z"}
{"msg":"Ok maybe I'll try it in the future again, for now I wrote some nice bash scripts :slight_smile: ","username":"lionelronaldo","ts":"2020-01-24T12:37:05.328Z"}
{"msg":"ok, will give you an update if I am able to figure it out these days :D","username":"gentios","ts":"2020-01-24T12:38:15.204Z"}
{"msg":"Ok with enabling LoadBalancers for Peer and Orderer and pointing the domain names to their IP addresses I have the same result as with ingress enabled and 'nginx.ingress.kubernetes.io/backend-protocol: \"GRPC\"'.\n\nBoth versions return \"Error: rpc error: code = Unavailable desc = transport is closing\" when trying to create a channel or do something different. ","username":"lionelronaldo","ts":"2020-01-24T13:32:16.727Z"}
{"msg":"@lionelronaldo yes I have the same error :(","username":"gentios","ts":"2020-01-24T23:17:04.940Z"}
{"msg":"Somehow the command `peer channel list` which is exectued from inside the pod, tries to call the peer by a domain name and not like the internal kubernetes network and it's failing since it doesn't exist","username":"gentios","ts":"2020-01-24T23:19:29.153Z"}
{"msg":"Hey @gentios Thanks a lot for your tips!! I got a minimal network running with the peer/orderer services exposed via a LoadBalancer :yum: \nThe next step is now to do it with the nginx-ingress controller instead, but that's more complicated. For nginx-ingress controller it's necessary to use TLS, because they only serve http/2 over the 443 port (https://github.com/kubernetes/ingress-nginx/issues/3897).\nGRPC communicates over http/2. \nI guess also something else needs to be adapted, because I couldn;t get it to work even with valid TLS certificates.","username":"lionelronaldo","ts":"2020-01-27T07:03:59.466Z"}
{"msg":"@lionelronaldo did u just pust the service.Type=LoadBalancer for both peer and order and it worked ?","username":"gentios","ts":"2020-01-27T08:21:34.301Z"}
{"msg":"Yes. \nI also changed the k8s service names like peer1-hlf-peer.peers.svc.cluster.local to my actual domains like peer.toonu.com and orderer.toonu.com, In configtx.yaml, crypto-config.yaml and in my setup script. \n\nOf course, I also changed the the paths to my crypto-material in my setup script to reflect the domains. E.g. from `MSP_DIR=./crypto-config/ordererOrganizations/orderers.svc.cluster.local/orderers/ord1-hlf-ord.orderers.svc.cluster.local/msp` to `MSP_DIR=./crypto-config/ordererOrganizations/orderer.oliveris.happyforever.com/orderers/ord1-hlf-ord.orderer.toonu.com/msp`\n\nThen I installed my peer and orderer, and waited for the LoadBalancers to be created. Once they were created and I got their ExternalIPs, I headed over to my domain name service provider and changed the IPs of peer.toonu.com and orderer.toonu.com to their respective LoadBalancers. Then I had to wait again until the domain names actually resolve to the new IP addresses. Once they did, I could create a channel, install, instantiate and invoke an example chaincode.","username":"lionelronaldo","ts":"2020-01-27T08:44:06.530Z"}
{"msg":"Yes. \nI also changed the k8s service names like peer1-hlf-peer.peers.svc.cluster.local to my actual domains like peer.toonu.com and orderer.toonu.com, In configtx.yaml, crypto-config.yaml and in my setup script. \n\nOf course, I also changed the the paths to my crypto-material in my setup script to reflect the domains. E.g. from `MSP_DIR=./crypto-config/ordererOrganizations/orderers.svc.cluster.local/orderers/ord1-hlf-ord.orderers.svc.cluster.local/msp` to `MSP_DIR=./crypto-config/ordererOrganizations/orderer.toonu.com/orderers/ord1-hlf-ord.orderer.toonu.com/msp`\n\nThen I installed my peer and orderer, and waited for the LoadBalancers to be created. Once they were created and I got their ExternalIPs, I headed over to my domain name service provider and changed the IPs of peer.toonu.com and orderer.toonu.com to their respective LoadBalancers. Then I had to wait again until the domain names actually resolve to the new IP addresses. Once they did, I could create a channel, install, instantiate and invoke an example chaincode.","username":"lionelronaldo","ts":"2020-01-27T08:44:06.530Z"}
{"msg":"Great that is perfect, with what you installed the chaincode with node sdk ?","username":"gentios","ts":"2020-01-27T08:46:47.674Z"}
{"msg":"With `kubectl cp` I copy the chaincode into the pod, and with `kubectl exec -- bash` I install, instantaite and invoke.\n\nInstallation:\n```\nPEER_POD=$(kubectl get pods -n peers -l \"app=hlf-peer,release=peer1\" -o jsonpath=\"{.items[0].metadata.name}\")\n  \nkubectl cp ../../../chaincodes/chaincode_example02/  peers/$PEER_POD:/var/hyperledger/production/chaincodes\n  \nkubectl exec -n peers $PEER_POD -- bash -c 'CORE_PEER_MSPCONFIGPATH=$ADMIN_MSP_PATH peer chaincode install -n mycc -v 1.0 -l node -p /var/hyperledger/production/chaincodes/chaincode_example02/node'\n``` \nInstantiaten and invocation:\n```\nkubectl exec -n peers $PEER_POD -- bash -c \"CORE_PEER_MSPCONFIGPATH=\\$ADMIN_MSP_PATH peer chaincode instantiate -n mycc -o orderer.toonu.com:7050 -C mychannel -l node -v 1.0 -c '{\\\"Args\\\":[\\\"init\\\",\\\"a\\\",\\\"100\\\",\\\"b\\\",\\\"200\\\"]}' -P \\\"OR ('PeerMSP.member')\\\"\"\n\nkubectl exec -n peers $PEER_POD -- bash -c \"CORE_PEER_MSPCONFIGPATH=\\$ADMIN_MSP_PATH peer chaincode invoke -C mychannel -n mycc -c '{\"Args\":[\"invoke\",\"a\", \"b\", \"30\"]}'\"\n```","username":"lionelronaldo","ts":"2020-01-27T08:53:15.303Z"}
{"msg":"Great thank you @lionelronaldo I was thinking to install it with node sdk but this is also a good solutions tbh","username":"gentios","ts":"2020-01-27T09:06:39.139Z"}
{"msg":"Hi! Does anyone have any tips on how to communicate with peers and orderers over an ingress? \nIt works great when I use a LoadBalancer, but I can't seem to configure the nginx ingress controller right so that it behaves the same as if I use the plain LoadBalancer :pray: ","username":"lionelronaldo","ts":"2020-01-27T12:48:58.517Z"}
{"msg":"Has joined the channel.","username":"saanvijay","ts":"2020-01-28T10:40:16.197Z","type":"uj"}
{"msg":"Why are people here trying to mount Fabric with Kubernetes if peers communicate P2P through gossip and load is balanced by the SDK itself using the discovery service? I don't see any benefits from using Kubernetes for peers or orderers, I would only use it for de SDK services, not for the nodes. Or can someone mention why they think it is better to use Kubernetes and  not just launch a machine per node, create autoscaling groups with good monitoring but without orchestration? I feel like people are just using Kubernetes because they know it and not because it is fit for Fabric....just my thoughts, it could be an interesting discussion...","username":"braduf","ts":"2020-02-07T15:22:44.763Z"}
{"msg":"Why are people here trying to mount Fabric with Kubernetes if peers communicate P2P through gossip and load is balanced by the SDK itself using the discovery service? I don't see any benefits from using Kubernetes for peers or orderers, I would only use it for the SDK services, not for the nodes. Or can someone mention why they think it is better to use Kubernetes and  not just launch a machine per node, create autoscaling groups with good monitoring but without orchestration? I feel like people are just using Kubernetes because they know it and not because it is fit for Fabric....just my thoughts, it could be an interesting discussion...","username":"braduf","ts":"2020-02-07T15:22:44.763Z"}
{"msg":"Hi everyone, i would like to setup the peers 2.0 version in kubernetes yaml the `CORE_CHAINCODE_EXTERNALBUILDERS` through env vars but i am contslanty getting the following error `Error: '': source data must be an array or slice, got string`. I put the following input:\n```\n        - name: CORE_CHAINCODE_EXTERNALBUILDERS\n          value: '[{name: golang-builder, path: /builders/golang}]'\n```\n I think that is because env var do not support arrays but i am not completely sure. The docs suggest to modify the `core.yaml` file itself but that does not have a good approach with kubernetes as it is the only config option to be modified in `core.yaml` file itself, though i have tried that and it works:\n> Modify the chaincode stanza of the peer core.yaml file to include the externalBuilders configuration element:\n```\nexternalBuilders:\n     - name: myexternal\n       path: <fully qualified path on the peer's env>  \n```\nDoes anyone have a better approach on this?","username":"vanitas92","ts":"2020-02-10T09:50:00.806Z"}
{"msg":"Has any one had any luck hooking up HLF in k8s with istio? I'm trying to add just observability support (not mTLS yet), but once I have sidecar injection in place I can't seem to get traffic to my orderer","username":"rpocase","ts":"2020-02-10T18:16:16.765Z"}
{"msg":"@iramiller maybe? Found a discussion back from May. I don't think anything has really changed in the landscape unless we were running HLF 2.0 (not there yet, the migration path is pretty steep). I really expected this to be pretty seamless if mTLS isn't deployed, but the best I can tell is the sidecar is preventing traffic from reaching the orderer","username":"rpocase","ts":"2020-02-10T18:31:06.409Z"}
{"msg":"Has joined the channel.","username":"ownspies","ts":"2020-02-11T17:58:56.853Z","type":"uj"}
{"msg":"@braduf we picked Kubernetes, at least for preproduction, to avoid having to setup a large number of EC2 instances (we're in AWS) - we can run the workload on 5 servers instead of the 27 (three orderers, six orgs, two peers per org, two CAs per org) we need if we do standalone EC2. We also selected K8S because it makes the platform slightly more cloud agnostic (we're planning to eventually leverage AWS, Azure and GCP) - no need to reinvent the wheel for each cloud provider - just have to reinvent the K8S deploy part. And while you can do Autoscale groups, you essentially either have to work out some complex cloud init scripts to auto-detect or do one ASG per system which I've done before but is a bit tedious, IMO.","username":"ownspies","ts":"2020-02-11T18:13:30.695Z"}
{"msg":"When running peer commands, even on the local peer, we're seeing occasional `Error: error getting endorser client for list: endorser client failed to connect to peer-01.org.env.domain.com:7051: failed to create new connection: context deadline exceeded` messages for our setup. We're using HLF 1.4.4 on Kubernetes; each deployed node (orderer, peer) is fronted by an ELB in TCP pass through mode so we can use mTLS. Has anyone else run into this problem? It happens frequently enough to be concerned but not enough that the system fails completely. Note that the hostname points to the LB, so any peer commands run on the peer itself will reach out to the ELB -> K8S Service -> K8S POD.","username":"ownspies","ts":"2020-02-11T18:17:34.550Z"}
{"msg":"But so everyone who is using K8S is not having a decentralized network from what I hear. All orgs are managed by the same \"operator\", I think this should not be the standard way Fabric is promoted... I think it is better to start building opensource IaC for different cloud environments to make it easier for every organization to deploy it's own peers and orderer without Kubernetes. Since Fabric is supposed to be a descentralized peer-2-peer network and Kubernetes is not build for peer-2-peer...","username":"braduf","ts":"2020-02-11T18:48:46.897Z"}
{"msg":"I think with good IaC, you also eliminate the manual setup of EC2 instances.","username":"braduf","ts":"2020-02-11T18:50:06.903Z"}
{"msg":"Yes with IaC but that still is more to manage, been there, done that and it only simplifies a bit","username":"ownspies","ts":"2020-02-11T18:55:33.063Z"}
{"msg":"our K8S setup is separate namespaces per org when we run the orgs but separate K8S clusters in different AWS / Azure / On Prem accounts when the org is an external party","username":"ownspies","ts":"2020-02-11T18:56:11.687Z"}
{"msg":"for preprod, we manage it all, for prod, we don't","username":"ownspies","ts":"2020-02-11T18:56:32.197Z"}
{"msg":"for preprod, we manage it all, for prod, we won't","username":"ownspies","ts":"2020-02-11T18:56:32.197Z"}
{"msg":"Has joined the channel.","username":"woodyjon","ts":"2020-02-11T19:13:08.595Z","type":"uj"}
{"msg":"Hello. Are you aware of some article, tuto or chart that implements a simple Fabric network v2.0 raft orderer on Kubernetes? I am trying to run the fabric-sample v2.0 test-network on kubernetes, but have no success.","username":"woodyjon","ts":"2020-02-11T19:13:09.776Z"}
{"msg":"I am running into that issue: https://stackoverflow.com/questions/60172883/fabric-v2-0-in-kubernetes-minikube-error-peer-channel-error-validating-pro","username":"woodyjon","ts":"2020-02-11T19:13:40.472Z"}
{"msg":"Try running `peer channel join ...` multiple times, let me know if that works. I had a similar issue back in December and found that if I ran `peer channel join` multiple times, it worked","username":"ownspies","ts":"2020-02-11T19:16:18.484Z"}
{"msg":"if that does indeed work for you, we should try to get a simple problem description together.","username":"ownspies","ts":"2020-02-11T19:16:37.526Z"}
{"msg":"No, unfortunately, I think I have tried it hundred of times already :grin: ","username":"woodyjon","ts":"2020-02-11T19:17:37.845Z"}
{"msg":"ok, bummer","username":"ownspies","ts":"2020-02-11T19:17:46.666Z"}
{"msg":"I put all my config here: https://github.com/woodyjon/fabric-test-network-k8s","username":"woodyjon","ts":"2020-02-11T19:18:08.168Z"}
{"msg":"I put all my config here: https://github.com/woodyjon/fabric-test-network-k8s","username":"woodyjon","ts":"2020-02-11T19:18:24.194Z"}
{"msg":"I would be happy to make it prettier once it works","username":"woodyjon","ts":"2020-02-11T19:18:39.413Z"}
{"msg":"What do your logs on the orderer show?","username":"ownspies","ts":"2020-02-11T19:33:04.514Z"}
{"msg":"let me check. give me a minute","username":"woodyjon","ts":"2020-02-11T19:34:15.528Z"}
{"msg":"the logs on the orderer does not say anything when I do the join channel for the peer0-org1","username":"woodyjon","ts":"2020-02-11T19:41:04.871Z"}
{"msg":"is FABRIC_LOGGING_SPEC=debug set on the orderer?","username":"ownspies","ts":"2020-02-11T19:41:30.363Z"}
{"msg":"yes","username":"woodyjon","ts":"2020-02-11T19:43:22.463Z"}
{"msg":"\"DEBUG\" (is it the same as \"debug\")?","username":"woodyjon","ts":"2020-02-11T19:43:42.937Z"}
{"msg":"yeah","username":"ownspies","ts":"2020-02-11T19:43:52.158Z"}
{"msg":"it gives me that kind of things:\nactive nodes in cluster are: [1] channel=system-channel node=1\n\u001b[36m2020-02-11 20:44:01.425 CET [orderer.consensus.etcdraft] Check -> DEBU 7c0\u001b[0m Current active nodes in cluster are: [1] channel=mychannel node=1\n\u001b[36m2020-02-11 20:44:01.804 CET [orderer.consensus.etcdraft] Check -> DEBU 7c1\u001b[0m Current active nodes in cluster are: [1] channel=system-channel node=1\n\u001b[36m2020-02-11 20:44:03.425 CET [orderer.consensus.etcdraft] Check -> DEBU 7c2\u001b[0m Current active nodes in cluster are: [1] channel=mychannel node=1\n\u001b[36m2020-02-11 20:44:03.804 CET [orderer.consensus.etcdraft] Check -> DEBU 7c3\u001b[0m Current active nodes in cluster are: [1] channel=system-channel node=1\n\u001b[36m2020-02-11 20:44:05.425 CET [orderer.consensus.etcdraft] Check -> DEBU 7c4\u001b[0m Current active nodes in cluster are: [1] channel=mychannel node=1\n\u001b[36m2020-02-11 20:44:05.803 CET [orderer.consensus.etcdraft] Check -> DEBU 7c5\u001b[0m Current active nodes in cluster are: [1] channel=system-channel node=1\n\u001b[36m2020-02-11 20:44:07.425 CET [orderer.consensus.etcdraft] Check -> DEBU 7c6\u001b[0m Current active nodes in cluster are: [1] channel=mychannel node=1\n\u001b[36m2020-02-11 20:44:07.804 CET [orderer.consensus.etcdraft] Check -> DEBU 7c7\u001b[0m Current active nodes in cluster are: [1] channel=system-channel node=1\n\u001b[36m2020-02-11 20:44:09.426 CET [orderer.consensus.etcdraft] Check -> DEBU 7c8\u001b[0m Current active nodes in cluster are: [1] channel=mychannel node=1\n\u001b[36m2020-02-11 20:44:09.804 CET [orderer.consensus.etcdraft] Check -> DEBU 7c9\u001b[0m Current active nodes in cluster are: [1] channel=system-channel node=1\n\u001b[36m2020-02-11 20:44:11.425 CET [orderer.consensus.etcdraft] Check -> DEBU 7ca\u001b[0m Current active nodes in cluster are: [1] channel=mychannel node=1\n\u001b[36m2020-02-11 20:44:11.804 CET [orderer.consensus.etcdraft] Check -> DEBU 7cb\u001b[0m Current active nodes in cluster are: [1] channel=system-channel node=1\n\u001b[36m2020-02-11 20:44:13.425 CET [orderer.consensus.etcdraft] Check -> DEBU 7cc\u001b[0m Current active nodes in cluster are: [1] channel=mychannel node=1","username":"woodyjon","ts":"2020-02-11T19:44:40.071Z"}
{"msg":"to be clear, I am on the fabric-tools pod, and I call \"peer channel join\" for the peer0org1","username":"woodyjon","ts":"2020-02-11T19:45:34.089Z"}
{"msg":"did any peers successfully join the channel ?","username":"ownspies","ts":"2020-02-11T19:46:25.497Z"}
{"msg":"no","username":"woodyjon","ts":"2020-02-11T19:48:04.817Z"}
{"msg":"channel creation was ok","username":"woodyjon","ts":"2020-02-11T19:48:11.854Z"}
{"msg":"but not joining","username":"woodyjon","ts":"2020-02-11T19:48:15.736Z"}
{"msg":"and I cannot list the channels either, thing","username":"woodyjon","ts":"2020-02-11T19:48:26.019Z"}
{"msg":"channel creation happens on the orderers effectively, IIRC","username":"ownspies","ts":"2020-02-11T19:48:52.338Z"}
{"msg":"yes","username":"woodyjon","ts":"2020-02-11T19:49:01.091Z"}
{"msg":"it's a certificate problem with the peers, I think","username":"woodyjon","ts":"2020-02-11T19:49:32.044Z"}
{"msg":"do you have a cert file in `$DIR_CRYPTO_MATERIAL/peerOrganizations/org1-example-com/users/Admin@org1-example-com/msp/admincerts` ?","username":"ownspies","ts":"2020-02-11T19:49:55.182Z"}
{"msg":"it should be the same cert that is in `$DIR_CRYPTO_MATERIAL/peerOrganizations/org1-example-com/users/Admin@org1-example-com/msp/signcerts`","username":"ownspies","ts":"2020-02-11T19:50:04.687Z"}
{"msg":"no, nothing there indeed","username":"woodyjon","ts":"2020-02-11T19:52:15.937Z"}
{"msg":"in /signcerts, I have the following file: Admin@org1-example-com-cert.pem","username":"woodyjon","ts":"2020-02-11T19:53:21.680Z"}
{"msg":"copy that to admincerts","username":"ownspies","ts":"2020-02-11T19:53:38.084Z"}
{"msg":"I just did it. But same problem","username":"woodyjon","ts":"2020-02-11T19:56:38.621Z"}
{"msg":"and the logs on the peer are the same","username":"woodyjon","ts":"2020-02-11T19:57:11.220Z"}
{"msg":"access denied: channel the supplied identity is not valid: x509: certificate signed by unknown authority channel= txID=3f1376c9\n\u001b[34m2020-02-11 20:56:44.937 CET [comm.grpc.server] 1 -> INFO 919\u001b[0m unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=172.17.0.6:59992 error=\"error validating proposal: access denied: channel [] creator org [Org1MSP]\" grpc.code=Unknown grpc.call_duration=827.891s","username":"woodyjon","ts":"2020-02-11T19:57:27.524Z"}
{"msg":"I'm looking at my scripts ... I worked through this like 8 months ago so it's a bit fuzzy","username":"ownspies","ts":"2020-02-11T19:58:01.200Z"}
{"msg":"thanks a lot","username":"woodyjon","ts":"2020-02-11T19:58:11.748Z"}
{"msg":"I put it all in scripts and don't have to think about it anymore, like what you're doing... bad news is I forget. But I had the exact same issue","username":"ownspies","ts":"2020-02-11T19:58:31.261Z"}
{"msg":"the thing is that I find a lot of things about old versions of Fabric, but as I am starting a new project, I would like to do it with 2.0. And there, I don't find much. But maybe my issue is not at all related to the version.","username":"woodyjon","ts":"2020-02-11T20:03:07.181Z"}
{"msg":"this issue is old / common","username":"ownspies","ts":"2020-02-11T20:03:34.963Z"}
{"msg":"you're missing a CA file somewhere","username":"ownspies","ts":"2020-02-11T20:03:46.589Z"}
{"msg":"ok","username":"woodyjon","ts":"2020-02-11T20:06:14.480Z"}
{"msg":"You don't have CORE_PEER_MSPCONFIGPATH set inside the peer nodes","username":"ownspies","ts":"2020-02-11T20:09:05.795Z"}
{"msg":"looking at https://github.com/woodyjon/fabric-test-network-k8s/blob/master/k8s/peer0-org1-deploy.yaml","username":"ownspies","ts":"2020-02-11T20:09:17.455Z"}
{"msg":"no indeed. I have FABRIC_CFG_PATH","username":"woodyjon","ts":"2020-02-11T20:10:47.787Z"}
{"msg":"no indeed.","username":"woodyjon","ts":"2020-02-11T20:10:47.787Z"}
{"msg":"but when I try the \"peer channel join\" directly when I am in the peer node, I export it","username":"woodyjon","ts":"2020-02-11T20:12:02.698Z"}
{"msg":"I will retry with the env variable","username":"woodyjon","ts":"2020-02-11T20:12:32.500Z"}
{"msg":"so there are two things I *think* I dealt with when I had this problem and I can't recall which relates to the endorser","username":"ownspies","ts":"2020-02-11T20:12:56.315Z"}
{"msg":"can I just delete the peer deployment and redeploy it with the new config or do I need to destroy everything and restart?","username":"woodyjon","ts":"2020-02-11T20:13:28.081Z"}
{"msg":"1) the admin cert sent from the tools container is signed by a CA that the peer doesn't recognize (I'd have to sort through all the configs you have to see what you're using where)\n2) the cert sent by the peer to the orderer is signed by a CA that the orderer does not recognize","username":"ownspies","ts":"2020-02-11T20:14:00.540Z"}
{"msg":"#2 seems more likely given that typically the Admin cert is signed by the same CA that signed the peer certs","username":"ownspies","ts":"2020-02-11T20:14:22.423Z"}
{"msg":"those CAs are all embedded in the genesis block and then again in the channel creation blocks","username":"ownspies","ts":"2020-02-11T20:14:42.164Z"}
{"msg":"but I used cryptogen to generate the ca stuff","username":"woodyjon","ts":"2020-02-11T20:16:10.680Z"}
{"msg":"yeah, I see you used separate files; I always used a single file, but I would think it doesn't matter","username":"ownspies","ts":"2020-02-11T20:16:33.782Z"}
{"msg":"and would it be possible that the peer does not have read access to the certificates ? Everything is on a common nfs server","username":"woodyjon","ts":"2020-02-11T20:16:46.300Z"}
{"msg":"those are the same files as the test-network of the fabric-sample folder","username":"woodyjon","ts":"2020-02-11T20:17:13.621Z"}
{"msg":"the only thing I changed in those files is change the dots to dashes","username":"woodyjon","ts":"2020-02-11T20:17:30.372Z"}
{"msg":"when I had this problem, I also went through *all* of my certs and ran `openssl x509 -noout -text -in` and validated *everything* matched :(","username":"ownspies","ts":"2020-02-11T20:17:47.491Z"}
{"msg":"it was tedious","username":"ownspies","ts":"2020-02-11T20:17:51.223Z"}
{"msg":"peer0.org1.example.com to peer0-org1-example-com","username":"woodyjon","ts":"2020-02-11T20:17:54.912Z"}
{"msg":"ok I could do that","username":"woodyjon","ts":"2020-02-11T20:18:05.326Z"}
{"msg":"how do you check that it matches?","username":"woodyjon","ts":"2020-02-11T20:18:12.597Z"}
{"msg":"the short way is to validate timestamps are the same / near (off by 1 second or 2) and make sure the CA names in the issuer field matches the name on the CA cert","username":"ownspies","ts":"2020-02-11T20:19:00.239Z"}
{"msg":"the long way is to calculate MD5 sums","username":"ownspies","ts":"2020-02-11T20:19:08.920Z"}
{"msg":"I do see that https://github.com/woodyjon/fabric-test-network-k8s/blob/master/k8s/peer0-org1-deploy.yaml has `CORE_PEER_TLS_ENABLED` set to true, but https://github.com/woodyjon/fabric-test-network-k8s/blob/master/k8s/fabric-tools.yaml has it set to false, do you manually set that when you use the CLI?","username":"ownspies","ts":"2020-02-11T20:20:31.873Z"}
{"msg":"yes, I manually set it to true","username":"woodyjon","ts":"2020-02-11T20:21:53.117Z"}
{"msg":"but I will change it there as well","username":"woodyjon","ts":"2020-02-11T20:22:01.272Z"}
{"msg":"ahh","username":"ownspies","ts":"2020-02-11T20:23:31.205Z"}
{"msg":"perhaps this:","username":"ownspies","ts":"2020-02-11T20:23:34.262Z"}
{"msg":"nevermind","username":"ownspies","ts":"2020-02-11T20:23:34.262Z"}
{"msg":":pray: ","username":"woodyjon","ts":"2020-02-11T20:24:09.364Z"}
{"msg":"ho shit","username":"woodyjon","ts":"2020-02-11T20:24:12.314Z"}
{"msg":";-)","username":"woodyjon","ts":"2020-02-11T20:24:14.994Z"}
{"msg":"wait, was trying to double check inside this chat","username":"ownspies","ts":"2020-02-11T20:24:27.246Z"}
{"msg":"but it's harder to read","username":"ownspies","ts":"2020-02-11T20:24:30.596Z"}
{"msg":"```export CORE_PEER_MSPCONFIGPATH=$DIR_CRYPTO_MATERIAL/peerOrganizations/org1-example-com/users/Admin@org1-example-com/msp\n#export CORE_PEER_MSPCONFIGPATH=$DIR_CRYPTO_MATERIAL/peerOrganizations/org1-example-com/peers/peer0-org1-example-com/msp/\nexport CORE_PEER_ADDRESS=peer0-org1-example-com:7051```","username":"ownspies","ts":"2020-02-11T20:24:32.570Z"}
{"msg":"ok, no that's fine, I was thinking it was using org1 MSP and org0 for the peer address","username":"ownspies","ts":"2020-02-11T20:25:27.131Z"}
{"msg":"i","username":"ownspies","ts":"2020-02-11T20:25:48.412Z"}
{"msg":"I'm not a fan of mixing zero based and ones based numbering (e.g. first peer is peer0, first org is org1)","username":"ownspies","ts":"2020-02-11T20:25:48.412Z"}
{"msg":"HLF started that trend, drove me nuts reading stuff","username":"ownspies","ts":"2020-02-11T20:26:24.631Z"}
{"msg":"yes I agree. that's also from their test-network","username":"woodyjon","ts":"2020-02-11T20:27:37.450Z"}
{"msg":"have you tried this command:","username":"ownspies","ts":"2020-02-11T20:27:38.716Z"}
{"msg":"```peer channel join -b $CHANNEL_NAME.block -o orderer-example-com:7050 -c $CHANNEL_NAME --tls $CORE_PEER_TLS_ENABLED --cafile $ORDERER_CA```","username":"ownspies","ts":"2020-02-11T20:28:01.353Z"}
{"msg":"usually the channel create and channel join should be the same basic commands","username":"ownspies","ts":"2020-02-11T20:29:08.044Z"}
{"msg":"I ran into that issue too","username":"ownspies","ts":"2020-02-11T20:29:11.488Z"}
{"msg":"yes I did that too","username":"woodyjon","ts":"2020-02-11T20:29:56.407Z"}
{"msg":"and you get the same error ?","username":"ownspies","ts":"2020-02-11T20:30:37.058Z"}
{"msg":"yes","username":"woodyjon","ts":"2020-02-11T20:31:41.490Z"}
{"msg":"would it be possible that it is an issue of the peer trying to connect to himself for endorsement?","username":"woodyjon","ts":"2020-02-11T20:32:24.003Z"}
{"msg":"I don't believe so, even if that were the case the peer should already be talking to itself","username":"ownspies","ts":"2020-02-11T20:35:02.756Z"}
{"msg":"since you installed all the certs","username":"ownspies","ts":"2020-02-11T20:35:08.894Z"}
{"msg":"the certs, they are just put by the fabric-tools pod on a shared nfs server","username":"woodyjon","ts":"2020-02-11T20:36:20.788Z"}
{"msg":"yeah","username":"ownspies","ts":"2020-02-11T20:36:34.459Z"}
{"msg":"I'm very grateful that you take the time to look at this. Big thanks!","username":"woodyjon","ts":"2020-02-11T20:38:49.835Z"}
{"msg":"sure, it's hard to troubleshoot over chat ... HLF tends to output important information long before the actual error ","username":"ownspies","ts":"2020-02-11T20:39:31.958Z"}
{"msg":"you almost need to post the entire output when you run the command with debug mode","username":"ownspies","ts":"2020-02-11T20:39:47.765Z"}
{"msg":"but ... that is a lot of info","username":"ownspies","ts":"2020-02-11T20:39:52.843Z"}
{"msg":"I've solved many problems by scrolling up 20, 30, 50 lines","username":"ownspies","ts":"2020-02-11T20:40:07.193Z"}
{"msg":"can you run this and paste the output:","username":"ownspies","ts":"2020-02-11T20:40:32.265Z"}
{"msg":"```peer channel join -b $CHANNEL_NAME.block -o orderer-example-com:7050 -c $CHANNEL_NAME --tls $CORE_PEER_TLS_ENABLED --cafile $ORDERER_CA```","username":"ownspies","ts":"2020-02-11T20:40:34.272Z"}
{"msg":"this is what I use to create the channel (I have mTLS enabled)","username":"ownspies","ts":"2020-02-11T20:41:29.186Z"}
{"msg":"```\nexport WORKENV=dev\nexport CORE_PEER_ADDRESS=\"peer-01.$ORG.dev.example.net:7051\"\nexport CORE_PEER_MSPCONFIGPATH=\"/hyperledger/crypto-config/peerOrganizations/$ORG.dev.example.net/msp\"\nexport CORE_PEER_NETWORKID=\"nid1\"\nif [ -z $FABRIC_LOGGING_SPEC ] ; then\n  export FABRIC_LOGGING_SPEC=\"INFO\"\nfi\nexport CORE_PEER_TLS_ENABLED=\"true\"\nexport CORE_PEER_TLS_CLIENTROOTCAS_FILES=\"[/hyperledger/crypto-config/peerOrganizations/$ORG.dev.example.net/tlsca/tlsca.$ORG.dev.example.net-cert.pem]\"\nexport CORE_PEER_TLS_CLIENTCERT_FILE=\"/hyperledger/crypto-config/peerOrganizations/$ORG.dev.example.net/users/admin/tls/client.crt\"\nexport CORE_PEER_TLS_CLIENTKEY_FILE=\"/hyperledger/crypto-config/peerOrganizations/$ORG.dev.example.net/users/admin/tls/client.key\"\nexport CORE_PEER_TLS_ROOTCERT_FILE=\"/hyperledger/crypto-config/peerOrganizations/$ORG.dev.example.net/tlsca/tlsca.$ORG.dev.example.net-cert.pem\"\n\nprintf '==================================================\\n     Creating Channel %s\\n==================================================\\n' \"$CHANNEL_NAME\"\npeer channel create \\\n  --outputBlock /var/hyperledger/${CHANNEL_NAME}.block \\\n  -c $CHANNEL_NAME \\\n  -f /hyperledger/channel-artifacts/channel-${CHANNEL_NAME}.tx \\\n  -o orderer-01.${WORKENV}.example.net:7050 \\\n  --tls --cafile /hyperledger/crypto-config/ordererOrganizations/dev.example.net/tlsca/tlsca.dev.example.net-cert.pem \\\n  --clientauth \\\n  --keyfile $CORE_PEER_TLS_CLIENTKEY_FILE \\\n  --certfile $CORE_PEER_TLS_CLIENTCERT_FILE\n```","username":"ownspies","ts":"2020-02-11T20:41:35.883Z"}
{"msg":"2020-02-11 21:41:31.161 CET [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized\nError: proposal failed (err: rpc error: code = Unknown desc = error validating proposal: access denied: channel [] creator org [Org1MSP])\n","username":"woodyjon","ts":"2020-02-11T20:41:50.666Z"}
{"msg":"and on the peer node:","username":"woodyjon","ts":"2020-02-11T20:42:01.257Z"}
{"msg":"18012A500A3F0A1B70656572302D6F72...53120D08C9B3AFEFAA8B9CF91510A00D \n\u001b[36m2020-02-11 21:42:00.656 CET [msp.identity] Sign -> DEBU 1ef0\u001b[0m Sign: digest: E206F0778A2923A3E48AC8A67A548610B34DF0142D5E3A2D7A1F8FC5552AF8EC \n\u001b[36m2020-02-11 21:42:00.657 CET [msp.identity] Sign -> DEBU 1ef1\u001b[0m Sign: plaintext: 0A1B70656572302D6F7267312D6578616D706C652D636F6D3A37303531 \n\u001b[36m2020-02-11 21:42:00.657 CET [msp.identity] Sign -> DEBU 1ef2\u001b[0m Sign: digest: 720F5387E762A50BDE1E42F9839673B7DE61CF7993E0F2F0AFBED4522F3BD14B \n\u001b[36m2020-02-11 21:42:00.657 CET [gossip.discovery] periodicalSendAlive -> DEBU 1ef3\u001b[0m Sleeping 5s\n\u001b[36m2020-02-11 21:42:03.511 CET [endorser] ProcessProposal -> DEBU 1ef4\u001b[0m request from 172.17.0.6:49640\n\u001b[36m2020-02-11 21:42:03.511 CET [msp] DeserializeIdentity -> DEBU 1ef5\u001b[0m Obtaining identity\n\u001b[36m2020-02-11 21:42:03.511 CET [msp.identity] newIdentity -> DEBU 1ef6\u001b[0m Creating identity instance for cert -----BEGIN CERTIFICATE-----\nMIICKTCCAdCgAwIBAgIRAOA1bGZ4QaK8gJskYwxiF6cwCgYIKoZIzj0EAwIwczEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xGTAXBgNVBAoTEG9yZzEtZXhhbXBsZS1jb20xHDAaBgNVBAMTE2Nh\nLm9yZzEtZXhhbXBsZS1jb20wHhcNMjAwMjExMTkzNDAwWhcNMzAwMjA4MTkzNDAw\nWjBrMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN\nU2FuIEZyYW5jaXNjbzEOMAwGA1UECxMFYWRtaW4xHzAdBgNVBAMMFkFkbWluQG9y\nZzEtZXhhbXBsZS1jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAQ/0aZM42x8\nEX3JwH7lT5a6R2EygV9rtNJb5Gg4pvr9+yiaPFGGrhXlCmAXf/WzVHFJGcpaCU19\nn3AI9JO13BuBo00wSzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADArBgNV\nHSMEJDAigCB5M0OGrHT9TGUNlQICx+9hC2sLdCi1z/zzoW8yiTwlozAKBggqhkjO\nPQQDAgNHADBEAiB1+yZu5USM+VhJVSnKkVKzuen1XDrmfJB+NZVqz+il9AIgckE5\n7wKkXtmvUqrK4it9Zqu/Sadza/T6p2oBvN7eW7k=\n-----END CERTIFICATE-----\n\u001b[33m2020-02-11 21:42:03.511 CET [endorser] Validate -> WARN 1ef7\u001b[0m access denied: channel the supplied identity is not valid: x509: certificate signed by unknown authority channel= txID=6fb502d4\n\u001b[34m2020-02-11 21:42:03.511 CET [comm.grpc.server] 1 -> INFO 1ef8\u001b[0m unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=172.17.0.6:49640 error=\"error validating proposal: access denied: channel [] creator org [Org1MSP]\" grpc.code=Unknown grpc.call_duration=643.916s\n\u001b[36m2020-02-11 21:42:03.513 CET [grpc] infof -> DEBU 1ef9\u001b[0m transport: loopyWriter.run returning. connection error: desc = \"transport is closing\"\n\u001b[36m2020-02-11 21:42:03.894 CET [msp.identity] Sign -> DEBU 1efa\u001b[0m Sign: plaintext: 18012A500A3F0A1B70656572302D6F72...53120D08C9B3AFEFAA8B9CF91510A10D \n\u001b[36m2020-02-11 21:42:03.894 CET [msp.identity] Sign -> DEBU 1efb\u001b[0m Sign: digest: 24A393B83CA39557706D98E19D7CD1AA8E21922643CE33C22AC18285916DD01E \n\u001b[36m2020-02-11 21:42:03.895 CET [msp.identity] Sign -> DEBU 1efc\u001b[0m Sign: plaintext: 0A1B70656572302D6F7267312D6578616D706C652D636F6D3A37303531 \n\u001b[36m2020-02-11 21:42:03.895 CET [msp.identity] Sign -> DEBU 1efd\u001b[0m Sign: digest: 720F5387E762A50BDE1E42F9839673B7DE61CF7993E0F2F0AFBED4522F3BD14B \n\u001b[36m2020-02-11 21:42:05.657 CET [msp.identity] Sign -> DEBU 1efe\u001b[0m Sign: plaintext: 18012A500A3F0A1B70656572302D6F72...53120D08C9B3AFEFAA8B9CF91510A20D \n\u001b[36m2020-02-11 21:42:05.657 CET [msp.identity] Sign -> DEBU 1eff\u001b[0m Sign: digest: 299A8E95F44F43D41E740F49D901622D2D31DA65B0494A47E19877316941666F \n\u001b[36m2020-02-11 21:42:05.657 CET [msp.identity] Sign -> DEBU 1f00\u001b[0m Sign: plaintext: 0A1B70656572302D6F7267312D6578616D706C652D636F6D3A37303531 \n\u001b[36m2020-02-11 21:42:05.657 CET [msp.identity] Sign -> DEBU 1f01\u001b[0m Sign: digest: 720F5387E762A50BDE1E42F9839673B7DE61CF7993E0F2F0AFBED4522F3BD14B \n\u001b[36m2020-02-11 21:42:05.657 CET [gossip.discovery] periodicalSendAlive -> DEBU 1f02\u001b[0m Sleeping 5s\n\u001b[36m2020-02-11 21:42:07.896 CET [msp.identity] Sign -> DEBU 1f03\u001b[0m Sign: plaintext: 18012A500A3F0A1B70656572302D6F72...53120D08C9B3AFEFAA8B9CF91510A30D \n\u001b[36m2020-02-11 21:42:07.896 CET [msp.identity] Sign -> DEBU 1f04\u001b[0m Sign: digest: 95E52EDA084305E6B467A136D18BB9B4C6F1DF4B7D7D56E908DDC03DC63E7513 \n\u001b[36m2020-02-11 21:42:07.896 CET [msp.identity] Sign -> DEBU 1f05\u001b[0m Sign: plaintext: 0A1B70656572302D6F7267312D6578616D706C652D636F6D3A37303531 \n\u001b[36m2020-02-11 21:42:07.896 CET [msp.identity] Sign -> DEBU 1f06\u001b[0m Sign: digest: 720F5387E762A50BDE1E42F9839673B7DE61CF7993E0F2F0AFBED4522F3BD14B \n\u001b[36m2020-02-11 21:42:09.054 CET [gossip.discovery] periodicalReconnectToDead -> DEBU 1f07\u001b[0m Sleeping 25s","username":"woodyjon","ts":"2020-02-11T20:42:27.238Z"}
{"msg":"do you know the need for export CORE_PEER_NETWORKID=\"nid1\"?","username":"woodyjon","ts":"2020-02-11T20:44:56.217Z"}
{"msg":"No, I haven't had to change that so I haven't read up on it","username":"ownspies","ts":"2020-02-11T20:45:22.329Z"}
{"msg":"I don't do CORE_PEER_TLS_CLIENTROOTCAS_FILES","username":"woodyjon","ts":"2020-02-11T20:45:39.153Z"}
{"msg":"do I need it?","username":"woodyjon","ts":"2020-02-11T20:45:42.979Z"}
{"msg":"no because you're not using mTLS","username":"ownspies","ts":"2020-02-11T20:45:52.379Z"}
{"msg":"client TLS, you mean?","username":"woodyjon","ts":"2020-02-11T20:46:29.231Z"}
{"msg":"ha ok, mutual TLS, so client as well","username":"woodyjon","ts":"2020-02-11T20:47:10.683Z"}
{"msg":"yes / Mutual TLS ","username":"ownspies","ts":"2020-02-11T20:47:13.740Z"}
{"msg":"your setup is also on kubernetes?","username":"woodyjon","ts":"2020-02-11T20:48:10.801Z"}
{"msg":"yes, but a full cluster and I use the helm charts","username":"ownspies","ts":"2020-02-11T20:48:23.964Z"}
{"msg":"well, highly customized versions of them","username":"ownspies","ts":"2020-02-11T20:48:32.873Z"}
{"msg":"and I run the peer commands on a peer node in k8s or in a local docker container with all the ENV vars set","username":"ownspies","ts":"2020-02-11T20:49:03.531Z"}
{"msg":"I did not manage to get deployments with dots in the names, that's why i changed every names and addresses to dashes","username":"woodyjon","ts":"2020-02-11T20:49:07.973Z"}
{"msg":"you should try running the join command on the peer itself","username":"ownspies","ts":"2020-02-11T20:49:11.025Z"}
{"msg":"if that doesn't work, then it probably is that the peer can't talk to the orderer","username":"ownspies","ts":"2020-02-11T20:49:23.299Z"}
{"msg":"I tried on the peer itself, and same error","username":"woodyjon","ts":"2020-02-11T20:49:39.308Z"}
{"msg":"doesn't make sense that the create works but not join ...","username":"ownspies","ts":"2020-02-11T20:50:13.569Z"}
{"msg":"PQQDAgNHADBEAiB1+yZu5USM+VhJVSnKkVKzuen1XDrmfJB+NZVqz+il9AIgckE5\n7wKkXtmvUqrK4it9Zqu/Sadza/T6p2oBvN7eW7k=\n-----END CERTIFICATE-----\n2020-02-11 21:50:17.518 CET [msp] hasOURole -> DEBU 01d MSP Org1MSP checking if the identity is a client\n2020-02-11 21:50:17.518 CET [msp] getCertificationChain -> DEBU 01e MSP Org1MSP getting certification chain\n2020-02-11 21:50:17.519 CET [msp] hasOURole -> DEBU 01f MSP Org1MSP checking if the identity is a client\n2020-02-11 21:50:17.519 CET [msp] getCertificationChain -> DEBU 020 MSP Org1MSP getting certification chain\n2020-02-11 21:50:17.519 CET [msp] GetDefaultSigningIdentity -> DEBU 021 Obtaining default signing identity\n2020-02-11 21:50:17.521 CET [grpc] WithKeepaliveParams -> DEBU 022 Adjusting keepalive ping interval to minimum period of 10s\n2020-02-11 21:50:17.521 CET [grpc] DialContext -> DEBU 023 parsed scheme: \"\"\n2020-02-11 21:50:17.521 CET [grpc] DialContext -> DEBU 024 scheme \"\" not registered, fallback to default scheme\n2020-02-11 21:50:17.521 CET [grpc] UpdateState -> DEBU 025 ccResolverWrapper: sending update to cc: {[{peer0-org1-example-com:7051 0  <nil>}] <nil>}\n2020-02-11 21:50:17.521 CET [grpc] switchBalancer -> DEBU 026 ClientConn switching balancer to \"pick_first\"\n2020-02-11 21:50:17.521 CET [grpc] HandleSubConnStateChange -> DEBU 027 pickfirstBalancer: HandleSubConnStateChange: 0xc000312640, CONNECTING\n2020-02-11 21:50:17.528 CET [grpc] HandleSubConnStateChange -> DEBU 028 pickfirstBalancer: HandleSubConnStateChange: 0xc000312640, READY\n2020-02-11 21:50:17.528 CET [channelCmd] InitCmdFactory -> INFO 029 Endorser and orderer connections initialized\n2020-02-11 21:50:17.529 CET [msp.identity] Sign -> DEBU 02a Sign: plaintext: 0AB4070A5C08011A0C0889A78CF20510...09C6A8F61A0A0A000A000A000A000A00 \n2020-02-11 21:50:17.529 CET [msp.identity] Sign -> DEBU 02b Sign: digest: CE39926D60CCDEF42F2AC99C7913E7016E3AEBACCC04F7A0884188709A348AB1 \nError: proposal failed (err: rpc error: code = Unknown desc = error validating proposal: access denied: channel [] creator org [Org1MSP])","username":"woodyjon","ts":"2020-02-11T20:50:38.393Z"}
{"msg":"PQQDAgNHADBEAiB1+yZu5USM+VhJVSnKkVKzuen1XDrmfJB+NZVqz+il9AIgckE5\n7wKkXtmvUqrK4it9Zqu/Sadza/T6p2oBvN7eW7k=\n-----END CERTIFICATE-----\n2020-02-11 21:50:17.518 CET [msp] hasOURole -> DEBU 01d MSP Org1MSP checking if the identity is a client\n2020-02-11 21:50:17.518 CET [msp] getCertificationChain -> DEBU 01e MSP Org1MSP getting certification chain\n2020-02-11 21:50:17.519 CET [msp] hasOURole -> DEBU 01f MSP Org1MSP checking if the identity is a client\n2020-02-11 21:50:17.519 CET [msp] getCertificationChain -> DEBU 020 MSP Org1MSP getting certification chain\n2020-02-11 21:50:17.519 CET [msp] GetDefaultSigningIdentity -> DEBU 021 Obtaining default signing identity\n2020-02-11 21:50:17.521 CET [grpc] WithKeepaliveParams -> DEBU 022 Adjusting keepalive ping interval to minimum period of 10s\n2020-02-11 21:50:17.521 CET [grpc] DialContext -> DEBU 023 parsed scheme: \"\"\n2020-02-11 21:50:17.521 CET [grpc] DialContext -> DEBU 024 scheme \"\" not registered, fallback to default scheme\n2020-02-11 21:50:17.521 CET [grpc] UpdateState -> DEBU 025 ccResolverWrapper: sending update to cc: {[{peer0-org1-example-com:7051 0  <nil>}] <nil>}\n2020-02-11 21:50:17.521 CET [grpc] switchBalancer -> DEBU 026 ClientConn switching balancer to \"pick_first\"\n2020-02-11 21:50:17.521 CET [grpc] HandleSubConnStateChange -> DEBU 027 pickfirstBalancer: HandleSubConnStateChange: 0xc000312640, CONNECTING\n2020-02-11 21:50:17.528 CET [grpc] HandleSubConnStateChange -> DEBU 028 pickfirstBalancer: HandleSubConnStateChange: 0xc000312640, READY\n2020-02-11 21:50:17.528 CET [channelCmd] InitCmdFactory -> INFO 029 Endorser and orderer connections initialized\n2020-02-11 21:50:17.529 CET [msp.identity] Sign -> DEBU 02a Sign: plaintext: 0AB4070A5C08011A0C0889A78CF20510...09C6A8F61A0A0A000A000A000A000A00 \n2020-02-11 21:50:17.529 CET [msp.identity] Sign -> DEBU 02b Sign: digest: CE39926D60CCDEF42F2AC99C7913E7016E3AEBACCC04F7A0884188709A348AB1 \nError: proposal failed (err: rpc error: code = Unknown desc = error validating proposal: access denied: channel [] creator org [Org1MSP])?","username":"woodyjon","ts":"2020-02-11T20:50:38.393Z"}
{"msg":"do you know why in the error (access denied: channel [] creator org [Org1MSP]) the array seems empty, it does not give the name of the channel?","username":"woodyjon","ts":"2020-02-11T20:51:57.827Z"}
{"msg":"not sure","username":"ownspies","ts":"2020-02-11T20:52:21.986Z"}
{"msg":"I feel like I've seen that ... but I've seen so much that it all is a blurry picture","username":"ownspies","ts":"2020-02-11T20:52:42.514Z"}
{"msg":"the other answer I've found is to sometimes just wipe the entire thing out and start over (aka reboot)","username":"ownspies","ts":"2020-02-11T20:53:12.554Z"}
{"msg":"I don't think it will fix the issue, but maybe it will knock an idea loose","username":"ownspies","ts":"2020-02-11T20:53:31.214Z"}
{"msg":"I would also turn off TLS for now","username":"ownspies","ts":"2020-02-11T20:53:47.274Z"}
{"msg":"get the most basic thing working","username":"ownspies","ts":"2020-02-11T20:53:53.012Z"}
{"msg":"then add TLS back","username":"ownspies","ts":"2020-02-11T20:53:55.234Z"}
{"msg":"leave the RAFT TLS on, but turn off TLS between CLI / Peer / Orderer","username":"ownspies","ts":"2020-02-11T20:54:34.224Z"}
{"msg":"you can also decrypt the genesis block and the channel create blocks","username":"ownspies","ts":"2020-02-11T20:55:42.252Z"}
{"msg":"that will output JSON, then you have to extract the certs from the JSON and compare them to what you have on disk","username":"ownspies","ts":"2020-02-11T20:56:06.856Z"}
{"msg":"ok I will try that","username":"woodyjon","ts":"2020-02-11T20:56:18.848Z"}
{"msg":"wiping out, I've already did it many times","username":"woodyjon","ts":"2020-02-11T20:56:28.012Z"}
{"msg":"tls cannot be turned off, I think, for raft","username":"woodyjon","ts":"2020-02-11T20:56:42.654Z"}
{"msg":"I think I tried","username":"woodyjon","ts":"2020-02-11T20:56:50.967Z"}
{"msg":"thanks a lot anyway!!","username":"woodyjon","ts":"2020-02-11T20:57:13.822Z"}
{"msg":"are you running > 1 orderer ?","username":"ownspies","ts":"2020-02-11T20:57:19.755Z"}
{"msg":"no","username":"woodyjon","ts":"2020-02-11T20:57:23.724Z"}
{"msg":"if not, turn off RAFT and TLS","username":"ownspies","ts":"2020-02-11T20:57:25.883Z"}
{"msg":"so use kafka?","username":"woodyjon","ts":"2020-02-11T20:57:40.327Z"}
{"msg":"yes, I was trying to remember if TLS was required for RAFT only or if it had to be on for the entire orderer","username":"ownspies","ts":"2020-02-11T20:57:48.343Z"}
{"msg":"at any rate, I think you can leave TLS on for the orderer if you need, but turn off on the peers","username":"ownspies","ts":"2020-02-11T20:57:59.323Z"}
{"msg":"I think you can do standalone, let me look","username":"ownspies","ts":"2020-02-11T20:58:10.311Z"}
{"msg":"no rAFT no Kafka","username":"ownspies","ts":"2020-02-11T20:58:14.064Z"}
{"msg":"ok","username":"woodyjon","ts":"2020-02-11T20:58:19.745Z"}
{"msg":"```Orderer: &OrdererDefaults\n\n    # Orderer Type: The orderer implementation to start\n    # Available types are \"solo\", \"kafka\", and \"etcdraft\"\n    OrdererType: etcdraft\n```","username":"ownspies","ts":"2020-02-11T20:58:31.080Z"}
{"msg":"set that to `solo` not `etcraft`","username":"ownspies","ts":"2020-02-11T20:58:40.313Z"}
{"msg":"ok I will try solo then","username":"woodyjon","ts":"2020-02-11T20:58:45.901Z"}
{"msg":"thank you","username":"woodyjon","ts":"2020-02-11T20:58:48.546Z"}
{"msg":"pull to bare minimum, then add one or two things at a time","username":"ownspies","ts":"2020-02-11T20:58:59.471Z"}
{"msg":"yes, exactly","username":"woodyjon","ts":"2020-02-11T20:59:08.640Z"}
{"msg":"when you wipe it out, do you delete all the .block files and all the TLS files ?","username":"ownspies","ts":"2020-02-11T20:59:33.207Z"}
{"msg":"but the pb does not seem to be tls here, right?","username":"woodyjon","ts":"2020-02-11T20:59:37.195Z"}
{"msg":"yes, I delete everything","username":"woodyjon","ts":"2020-02-11T20:59:45.788Z"}
{"msg":"I delete minikube","username":"woodyjon","ts":"2020-02-11T20:59:52.629Z"}
{"msg":"I don't *think* it is tls, but I would disable and confirm","username":"ownspies","ts":"2020-02-11T20:59:58.287Z"}
{"msg":"yes ok","username":"woodyjon","ts":"2020-02-11T21:00:08.842Z"}
{"msg":"when you delete minikube, does it wipe out the contents of the NFS volume?","username":"ownspies","ts":"2020-02-11T21:00:23.402Z"}
{"msg":"I delete it manually","username":"woodyjon","ts":"2020-02-11T21:00:33.258Z"}
{"msg":"ok","username":"ownspies","ts":"2020-02-11T21:00:36.110Z"}
{"msg":"try those things, see what you find out","username":"ownspies","ts":"2020-02-11T21:00:46.670Z"}
{"msg":"yes I've done it many times. I change small stuff then I retry","username":"woodyjon","ts":"2020-02-11T21:00:54.568Z"}
{"msg":"yes","username":"woodyjon","ts":"2020-02-11T21:00:58.618Z"}
{"msg":"if you have an illumination, contact me please","username":"woodyjon","ts":"2020-02-11T21:01:10.403Z"}
{"msg":":grinning: ","username":"woodyjon","ts":"2020-02-11T21:01:22.614Z"}
{"msg":"have you done this to inspect and compare the certs?","username":"ownspies","ts":"2020-02-11T21:02:33.152Z"}
{"msg":"```root@26350254d568:/hyperledger/channel-artifacts# configtxgen -inspectBlock genesis.block | head -20\n2020-02-11 21:02:00.898 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration\n2020-02-11 21:02:01.294 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002 Orderer.Addresses unset, setting to [127.0.0.1:7050]\n2020-02-11 21:02:01.294 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003 orderer type: solo\n2020-02-11 21:02:01.295 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 004 Loaded configuration: /etc/hyperledger/fabric/configtx.yaml\n2020-02-11 21:02:01.295 UTC [common.tools.configtxgen] doInspectBlock -> INFO 005 Inspecting block\n2020-02-11 21:02:01.298 UTC [common.tools.configtxgen] doInspectBlock -> INFO 006 Parsing genesis block\n{\n\t\"data\": {\n\t\t\"data\": [\n\t\t\t{\n\t\t\t\t\"payload\": {\n\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\"config\": {\n\t\t\t\t\t\t\t\"channel_group\": {\n\t\t\t\t\t\t\t\t\"groups\": {\n\t\t\t\t\t\t\t\t\t\"Consortiums\": {\n\t\t\t\t\t\t\t\t\t\t\"groups\": {\n\t\t\t\t\t\t\t\t\t\t\t\"GlobalConsortium\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\"groups\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"MyOrg\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"groups\": {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"mod_policy\": \"Admins\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"policies\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Admins\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"mod_policy\": \"Admins\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"policy\": {\n```","username":"ownspies","ts":"2020-02-11T21:03:02.989Z"}
{"msg":"no","username":"woodyjon","ts":"2020-02-11T21:03:17.677Z"}
{"msg":"do you know what I should check in there?","username":"woodyjon","ts":"2020-02-11T21:05:33.778Z"}
{"msg":"mmm ok, it's quite long but I'll check it","username":"woodyjon","ts":"2020-02-11T21:06:01.235Z"}
{"msg":"I compared the CA certs for the orderers and the orgs to the files on disk; it's a long shot for you, but in my case K8S seemed to be caching the TLS certs or my process (more likely) was failing to update them correctly in K8S","username":"ownspies","ts":"2020-02-11T21:07:07.628Z"}
{"msg":"sometimes the file in K8S didn't match what I had on disk locally","username":"ownspies","ts":"2020-02-11T21:07:19.577Z"}
{"msg":"ok","username":"woodyjon","ts":"2020-02-11T21:07:42.508Z"}
{"msg":"(I generate a lot of the material locally and upload to K8S via secrets)","username":"ownspies","ts":"2020-02-11T21:07:49.134Z"}
{"msg":"but even if it does not match, what could I do?","username":"woodyjon","ts":"2020-02-11T21:07:54.417Z"}
{"msg":"if it doesn't match, then your process is wrong and you need to fix it","username":"ownspies","ts":"2020-02-11T21:08:13.885Z"}
{"msg":":thumbsup: ","username":"woodyjon","ts":"2020-02-11T21:08:46.807Z"}
{"msg":"for example, if you generate the crypto files, then generate the configs, then regenerate the crypto material, the system will be broken because you distributed old crypto material with the genesis block","username":"ownspies","ts":"2020-02-11T21:08:58.259Z"}
{"msg":"ok I see","username":"woodyjon","ts":"2020-02-11T21:09:10.556Z"}
{"msg":"does the version of cryptogen matter?","username":"woodyjon","ts":"2020-02-11T21:09:39.241Z"}
{"msg":"more specific generate crypto -> generate genesis -> generate crypto -> launch services and in that situation, the services have old crypto material from the genesis block that doesn't match the stuff on disk, so things don't work; that happened to me too when I tried to take short cuts and selectively regenerate broken crypto files","username":"ownspies","ts":"2020-02-11T21:10:15.543Z"}
{"msg":"the version of crypto gen should match the HLF system","username":"ownspies","ts":"2020-02-11T21:10:27.040Z"}
{"msg":"ok","username":"woodyjon","ts":"2020-02-11T21:10:37.274Z"}
{"msg":"thanks!!","username":"woodyjon","ts":"2020-02-11T21:11:56.216Z"}
{"msg":"keep us posted!","username":"ownspies","ts":"2020-02-11T21:12:05.128Z"}
{"msg":"I will","username":"woodyjon","ts":"2020-02-11T21:12:13.011Z"}
{"msg":"do you work for hyperledger?","username":"woodyjon","ts":"2020-02-11T21:12:28.707Z"}
{"msg":"nope","username":"ownspies","ts":"2020-02-11T21:12:37.872Z"}
{"msg":"I work for a small company in the US","username":"ownspies","ts":"2020-02-11T21:12:51.079Z"}
{"msg":"k","username":"woodyjon","ts":"2020-02-11T21:13:05.073Z"}
{"msg":"Has joined the channel.","username":"ShrutiHK","ts":"2020-02-12T05:36:13.668Z","type":"uj"}
{"msg":"Hello everyone\nI am trying to deploy fabric on kubernetes in a GKE cluster.  I could not make the nfs folder mounting work on the k8s cluster nodes from different nfs VM. So, now I have deployed nfs server in a pod.\nStill, the orderer and peer pods are not getting deployed and the 'kubectl describe pod' command shows the error as 'Failed mount'","username":"ShrutiHK","ts":"2020-02-12T05:48:54.883Z"}
{"msg":"Can someone suggest what needs to done to resolve the issue?","username":"ShrutiHK","ts":"2020-02-12T05:49:25.312Z"}
{"msg":"the detailed logs of the orderer pod show :  'Kafka version unset. Setting to 0.10.2.0'","username":"ShrutiHK","ts":"2020-02-12T05:52:57.208Z"}
{"msg":"But, I am not using KAFKA at all","username":"ShrutiHK","ts":"2020-02-12T05:53:08.235Z"}
{"msg":"I am using RAFT","username":"ShrutiHK","ts":"2020-02-12T05:53:13.547Z"}
{"msg":"hello @ownspies . I successfully joined the channel!!","username":"woodyjon","ts":"2020-02-12T08:52:53.573Z"}
{"msg":"the only thing that was missing is the CORE_PEER_MSPCONFIGPATH in the yaml files of the peers","username":"woodyjon","ts":"2020-02-12T08:53:47.264Z"}
{"msg":"as you mentioned it yesterday!!","username":"woodyjon","ts":"2020-02-12T08:53:53.610Z"}
{"msg":"so thanks a lot for this!","username":"woodyjon","ts":"2020-02-12T08:54:12.726Z"}
{"msg":"Has joined the channel.","username":"usi","ts":"2020-02-12T15:19:56.099Z","type":"uj"}
{"msg":"Hello all. I am still trying to deploy the fabric-sample v2.0 test-network on kubernetes. I progressed a lot, but trying to invoke the chaincode, I am facing an issue. I think it is related to the docker container that is supposed to run the chaincode. I have explained this in more details here: https://stackoverflow.com/questions/60207056/fabric-v2-0-in-kubernetes-minikube-problem-running-docker-inside-peer-for-ru . Do you have an idea? Thanks","username":"woodyjon","ts":"2020-02-13T11:48:11.335Z"}
{"msg":"Hello all. I am still trying to deploy the fabric-sample v2.0 test-network on kubernetes. I progressed a lot, but trying to invoke the chain","username":"woodyjon","ts":"2020-02-13T12:50:46.925Z","attachments":[{"message_link":"/channel/fabric-kubernetes?msg=nwWCdHWxEw3dg5KtT","url":"/channel/fabric-kubernetes?msg=nwWCdHWxEw3dg5KtT","remote":true,"fileId":null,"fileName":null}],"type":"discussion-created"}
{"msg":"Has joined the channel.","username":"indirajith","ts":"2020-02-14T17:28:29.782Z","type":"uj"}
{"msg":"Hi All,  I am trying to implement HLF on multicluster k8s, however anyone have experience to implement it, I have some query regarding the setup ","username":"AbhijeetSamanta","ts":"2020-02-15T14:53:52.717Z"}
{"msg":"Has left the channel.","username":"futurama92","ts":"2020-02-17T20:29:15.714Z","type":"ul"}
{"msg":"Hi all, i have setup fabric with kubernetes and wish to ask about high availability. When my peer pod goes down in the cluster, kubernetes will bring the peer pod up again but i have to manually do a command from the CLI to join channel and install chaincode on the peer again, is there any way i can do it automatically after it is down and brought back up?","username":"JayJong","ts":"2020-02-18T07:10:57.173Z"}
{"msg":"mmm good question. I also would like to hear from people used to it how do they achieve that.","username":"woodyjon","ts":"2020-02-18T08:41:57.940Z"}
{"msg":"this question has been asked and answered many times here, please read the following entry in the official documentation: https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html#a-note-on-data-persistence","username":"vanitas92","ts":"2020-02-18T10:22:35.643Z"}
{"msg":"thanks @vanitas92 !","username":"woodyjon","ts":"2020-02-18T10:32:31.504Z"}
{"msg":"@vanitas92 i think u may have been mistaken, im not asking how the data can be persisted but rather some way for the peer pod to join back the channel instead of me typing into the CLI pod","username":"JayJong","ts":"2020-02-18T10:34:14.447Z"}
{"msg":"if you persist that data, when the pod restarts you wont need to do that manually when u back up the data","username":"vanitas92","ts":"2020-02-18T10:35:32.639Z"}
{"msg":"if you persist that data, when the pod restarts you wont need to do that manually when u persist the data","username":"vanitas92","ts":"2020-02-18T10:35:32.639Z"}
{"msg":"hello @vanitas92 I checked what they say here https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html#a-note-on-data-persistence but I don't understand how to apply this on kubernetes. Could you explain how to put that in practice for kubernetes?","username":"woodyjon","ts":"2020-02-18T18:12:28.223Z"}
{"msg":"so you need to mount a volumemount inside the pod and then map it to the backing storage that you are using, see an example of that by using hostpath:\n```\nvolumeMounts:\n        - mountPath: /var/hyperledger/production\n          name: peer0-persistentdata\nvolumes:\n      - name: peer0-persistentdata\n        hostPath:\n          path: /yourPath\n          type: DirectoryOrCreate\n```","username":"vanitas92","ts":"2020-02-19T09:18:59.358Z"}
{"msg":"so you need to mount a volumemount inside the pod and then map it to the backing storage that you are using, see an example of that by using hostpath:\n```yaml\nvolumeMounts:\n        - mountPath: /var/hyperledger/production\n          name: peer0-persistentdata\nvolumes:\n      - name: peer0-persistentdata\n        hostPath:\n          path: /yourPath\n          type: DirectoryOrCreate\n```","username":"vanitas92","ts":"2020-02-19T09:18:59.358Z"}
{"msg":"thank you","username":"woodyjon","ts":"2020-02-19T10:20:09.814Z"}
{"msg":"@vanitas92 i have tested and verified wad u say is correct, thank you for your help!","username":"JayJong","ts":"2020-02-20T10:54:14.203Z"}
{"msg":"isn't it easier to just juse statefulsets instead of deployments, so that the persistence aspect is built in?","username":"woodyjon","ts":"2020-02-20T10:58:30.051Z"}
{"msg":"Statefulset is just a way on handling k8s pods in case of restarting or worker faults, it is recommended for stateful applications rather than stateless apps. Peers are stateful in that sense. However, statefulsets DO NOT guarantee persistence by themselves alone, you have to backup the data somehow using the type of storage your application might need.","username":"vanitas92","ts":"2020-02-20T11:03:00.819Z"}
{"msg":"That could be NFS, block storage or whatever your application might need","username":"vanitas92","ts":"2020-02-20T11:03:43.681Z"}
{"msg":"you can read more on that here: https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/","username":"vanitas92","ts":"2020-02-20T11:05:04.340Z"}
{"msg":":thumbsup: ","username":"woodyjon","ts":"2020-02-20T13:53:19.044Z"}
{"msg":"I'm interested to know - for anyone using K8S, are you using external LBs to access the HLF nodes (service type LoadBalancer)? If so, which LB are you using? Thinking I may need to move off AWS NLB... :/","username":"ownspies","ts":"2020-02-21T21:10:26.767Z"}
{"msg":"Currently I'm using one external LoadBalancer per k8s service that I want to access on my cluster (on DigitalOcean).\n\nI.e. one LoadBalancer for each Peer and Orderer that should be accessible from outside the k8s cluster.\n\nHowever, I want to move away from this complex and costly solution.\n\nMy goal is to use one external LoadBalancer per k8s cluster with an ingress controllers behind, which distributes the requests. \nUnfortunately, I wasn't able to do that with nginx-ingress controller yet, maybe I'll have a look at different ingress-controllers.","username":"lionelronaldo","ts":"2020-02-24T06:05:46.130Z"}
{"msg":"I've tried to get it working with Traefik, however while Traefik supports gRPC, the AWS ALB does not. The ELB provides some, but not full support. Another issue that I've encountered is that none of the AWS LBs provide mTLS support.","username":"ownspies","ts":"2020-02-24T15:16:06.352Z"}
{"msg":"I did open a ticket with AWS about the NLB issues we're seeing, apparently it is a known and very specific situation. The only work around is to make the NLB a public NLB and ensure the K8S worker nodes are in a private subnet, then use IP whitelisting in the NLB security group to limit access.","username":"ownspies","ts":"2020-02-24T15:16:57.514Z"}
{"msg":"Hello. Has anyone installed the hyperledger explorer in kubernetes next to a fabric network? I have a working Fabric v2.0 test-network running. But when I deploy the explorer pod, it has an error and exits. It seems to be a connection issue with the peer, but I have been playing around and cannot fix it. This is the logs from the explorer pod:","username":"woodyjon","ts":"2020-02-24T16:11:10.862Z"}
{"msg":"```\nfalse 'ssl-certs' '/opt/explorer/ssl-certs'\nD0224 16:03:36.933652587       9 env_linux.cc:71]            Warning: insecure environment read function 'getenv' used\nD0224 16:03:37.606670676       9 env_linux.cc:71]            Warning: insecure environment read function 'getenv' used\n******* Initialization started for hyperledger fabric platform ******, { 'test-network': { name: 'test-network', profile: './test-network.json' } }\n client_configs.name  test-network  client_configs.profile  ./test-network.json\nFabricUtils.createFabricClient \nconfig.client.tlsEnable  true\nFabricConfig, this.config.channels  mychannel\nE0224 16:03:38.048102116       9 ssl_transport_security.cc:683] Invalid private key.\nE0224 16:03:38.048203470       9 ssl_security_connector.cc:113] Handshaker factory creation failed with TSI_INVALID_ARGUMENT.\nE0224 16:03:38.048229653       9 secure_channel_create.cc:152] Failed to create secure subchannel for secure name 'peer0-org1-example-com:7051'\nE0224 16:03:38.048253174       9 secure_channel_create.cc:50] Failed to create channel args during subchannel creation.\n2020-02-24T16:03:41.053Z - \u001b[31merror\u001b[39m: [Remote.js]: Error: Failed to connect before the deadline URL:grpcs://peer0-org1-example-com:7051\n2020-02-24T16:03:41.055Z - \u001b[31merror\u001b[39m: [Channel.js]: Error: Failed to connect before the deadline URL:grpcs://peer0-org1-example-com:7051\nE0224 16:03:41.064781812       9 ssl_transport_security.cc:683] Invalid private key.\nE0224 16:03:41.064872844       9 ssl_security_connector.cc:113] Handshaker factory creation failed with TSI_INVALID_ARGUMENT.\nE0224 16:03:41.064902519       9 secure_channel_create.cc:152] Failed to create secure subchannel for secure name 'peer0-org1-example-com:7051'\nE0224 16:03:41.065032788       9 secure_channel_create.cc:50] Failed to create channel args during subchannel creation.\n2020-02-24T16:03:44.065Z - \u001b[31merror\u001b[39m: [Remote.js]: Error: Failed to connect before the deadline URL:grpcs://peer0-org1-example-com:7051\n ********* call to initializeDetachClient **********\ninitializeDetachClient --> client_config  { name: 'test-network', profile: './test-network.json' }  name  test-network\ninitializeDetachClient, network config)  { name: 'test-network',\n  version: '1.0',\n  client: \n   { tlsEnable: true,\n     adminUser: 'adminUser',\n     adminPassword: 'adminPassword',\n     enableAuthentication: false,\n     organization: 'Org1MSP',\n     connection: { timeout: [Object] } },\n  channels: \n   { mychannel: { peers: [Object], orderers: [Object], connection: [Object] } },\n  organizations: \n   { Org1MSP: \n      { mspid: 'Org1MSP',\n        fullpath: true,\n        adminPrivateKey: [Object],\n        signedCert: [Object] },\n     Org2MSP: \n      { mspid: 'Org2MSP',\n        fullpath: true,\n        adminPrivateKey: [Object],\n        signedCert: [Object] },\n     OrdererMSP: \n      { mspid: 'OrdererMSP',\n        fullpath: true,\n        adminPrivateKey: [Object] } },\n  peers: \n   { 'peer0-org1-example-com': \n      { tlsCACerts: [Object],\n        url: 'grpcs://peer0-org1-example-com:7051',\n        eventUrl: 'grpcs://peer0-org1-example-com:7053',\n        grpcOptions: [Object] },\n     'peer0-org2-example-com': \n      { tlsCACerts: [Object],\n        url: 'grpcs://peer0-org2-example-com:7051',\n        eventUrl: 'grpcs://peer0-org2-example-com:7053',\n        grpcOptions: [Object] } },\n  orderers: \n   { 'orderer-example-com': \n      { tlsCACerts: [Object],\n        url: 'grpcs://orderer-example-com:7050',\n        eventUrl: 'grpcs://orderer-example-com:7050',\n        grpcOptions: [Object] } } }\n************************************* initializeDetachClient *************************************************\nError : Failed to connect client peer, please check the configuration and peer status\nInfo :  Explorer will continue working with only DB data\n************************************** initializeDetachClient ************************************************\nFabricUtils.createDetachClient \nPlease open web browser to access http://localhost:8080/\npid is 9\nFabricConfig, this.config.channels  mychannel\n<<<<<<<<<<<<<<<<<<<<<<<<<< Explorer Error >>>>>>>>>>>>>>>>>>>>>\nError :  [ 'Default client peer is down and no channel details available database' ]\nReceived kill signal, shutting down gracefully\n<<<<<<<<<<<<<<<<<<<<<<<<<< Closing explorer  >>>>>>>>>>>>>>>>>>>>>\nClosed out connections\n```","username":"woodyjon","ts":"2020-02-24T16:11:49.617Z"}
{"msg":"this is my explorer network config file:","username":"woodyjon","ts":"2020-02-24T16:12:12.774Z"}
{"msg":"```\n{\n  \"name\": \"test-network\",\n  \"version\": \"1.0\",\n  \"client\": {\n    \"tlsEnable\": true,\n    \"adminUser\": \"adminUser\",\n    \"adminPassword\": \"adminPassword\",\n    \"enableAuthentication\": false,\n    \"organization\": \"Org1MSP\",\n    \"connection\": {\n      \"timeout\": {\n        \"peer\": {\n          \"endorser\": \"300\"\n        },\n        \"orderer\": \"300\"\n      }\n    }\n  },\n  \"channels\": {\n    \"mychannel\": {\n      \"peers\": {\n        \"peer0-org1-example-com\": {},\n        \"peer0-org2-example-com\": {}\n      },\n      \"orderers\": {\n        \"orderer-example-com\" : {}\n      },\n      \"connection\": {\n        \"timeout\": {\n          \"peer\": {\n            \"endorser\": \"6000\",\n            \"eventHub\": \"6000\",\n            \"eventReg\": \"6000\"\n          }\n        }\n      }\n    }\n  },\n  \"organizations\": {\n    \"Org1MSP\": {\n      \"mspid\": \"Org1MSP\",\n      \"fullpath\": true,\n      \"adminPrivateKey\": {\n        \"path\":\n          \"/fabric/crypto-config/peerOrganizations/org1-example-com/users/Admin@org1-example-com/msp/keystore/priv_sk\"\n      },\n      \"signedCert\": {\n        \"path\":\n          \"/fabric/crypto-config/peerOrganizations/org1-example-com/users/Admin@org1-example-com/msp/signcerts/Admin@org1-example-com-cert.pem\"\n      }\n    },\n    \"Org2MSP\": {\n      \"mspid\": \"Org2MSP\",\n      \"fullpath\": true,\n      \"adminPrivateKey\": {\n        \"path\":\n          \"/fabric/crypto-config/peerOrganizations/org2-example-com/users/Admin@org2-example-com/msp/keystore/priv_sk\"\n      },\n      \"signedCert\": {\n        \"path\":\n          \"/fabric/crypto-config/peerOrganizations/org2-example-com/users/Admin@org2-example-com/msp/signcerts/Admin@org2-example-com-cert.pem\"\n      }\n    },\n    \"OrdererMSP\": {\n      \"mspid\": \"OrdererMSP\",\n      \"fullpath\": true,\n      \"adminPrivateKey\": {\n        \"path\":\n          \"/fabric/crypto-config/ordererOrganizations/example-com/users/Admin@example-com/msp/keystore/priv_sk\"\n      }\n    }\n  },\n  \"peers\": {\n    \"peer0-org1-example-com\": {\n      \"tlsCACerts\": {\n        \"path\":\n          \"/fabric/crypto-config/peerOrganizations/org1-example-com/peers/peer0-org1-example-com/tls/ca.crt\"\n      },\n      \"url\": \"grpcs://peer0-org1-example-com:7051\",\n      \"eventUrl\": \"grpcs://peer0-org1-example-com:7053\",\n      \"grpcOptions\": {\n        \"ssl-target-name-override\": \"peer0-org1-example-com\"\n      }\n    },\n    \"peer0-org2-example-com\": {\n      \"tlsCACerts\": {\n        \"path\":\n          \"/fabric/crypto-config/peerOrganizations/org2-example-com/peers/peer0-org2-example-com/tls/ca.crt\"\n      },\n      \"url\": \"grpcs://peer0-org2-example-com:7051\",\n      \"eventUrl\": \"grpcs://peer0-org2-example-com:7053\",\n      \"grpcOptions\": {\n        \"ssl-target-name-override\": \"peer0-org1-example-com\"\n      }\n    }\n  },\n  \"orderers\": {\n    \"orderer-example-com\": {\n      \"tlsCACerts\": {\n        \"path\":\n        \"/fabric/crypto-config/ordererOrganizations/example-com/orderers/orderer-example-com/tls/ca.crt\"\n      },\n      \"url\": \"grpcs://orderer-example-com:7050\",\n      \"eventUrl\": \"grpcs://orderer-example-com:7050\",\n      \"grpcOptions\": {\n        \"ssl-target-name-override\": \"orderer-example-com\"\n      }\n    }\n  }\n}\n```","username":"woodyjon","ts":"2020-02-24T16:12:31.120Z"}
{"msg":"the peers have services, and the peers appear to be able to connect with each other without issue, as I can install chaincode, invoke it,... This is what a peer service looks like:","username":"woodyjon","ts":"2020-02-24T16:13:40.505Z"}
{"msg":"```\napiVersion: v1\nkind: Service\nmetadata:\n  name: {{ $deploymentName }}\n  labels:\n    run: {{ $deploymentName }}\nspec:\n  type: ClusterIP\n  selector:\n    name: {{ $deploymentName }}\n  ports:\n  - protocol: TCP\n    port: 7051\n    name: grpc\n  - protocol: TCP\n    port: 7053\n    name: events\n  - protocol: TCP\n    port: 5984\n    name: couchdb\n```","username":"woodyjon","ts":"2020-02-24T16:14:02.465Z"}
{"msg":"If you have an idea, that would help. Thanks!","username":"woodyjon","ts":"2020-02-24T16:14:19.657Z"}
{"msg":"I tried with grpc, grpcs. I don't understand if I have to put grpcs in the connection profile file and keep grpc in the service port","username":"woodyjon","ts":"2020-02-24T16:16:55.467Z"}
{"msg":"I have it working but am using a custom Helm chart I wrote...my guess is that your network config is not 100% correct though","username":"ownspies","ts":"2020-02-24T19:36:22.059Z"}
{"msg":"```apiVersion: v1\nkind: ConfigMap\nmetadata:\n  labels:\n{{ include \"hlfExplorer.standardLabels\" . | indent 4 }}\n  name: {{ template \"hlfExplorer.fullname\" . }}-env\ndata:\n  DATABASE_HOST: \"{{ .Values.database.hostname }}\"\n  DATABASE_PORT: \"{{ .Values.database.port }}\"\n  DATABASE_DATABASE: \"{{ .Values.database.databaseName }}\"\n  DATABASE_NAME: \"{{ .Values.database.databaseName }}\"\n  DISCOVERY_AS_LOCALHOST: \"{{ .Values.discovery.asLocalhost }}\"```","username":"ownspies","ts":"2020-02-24T19:37:27.640Z"}
{"msg":"```apiVersion: v1\nkind: ConfigMap\nmetadata:\n  labels:\n{{ include \"hlfExplorer.standardLabels\" . | indent 4 }}\n  name: {{ template \"hlfExplorer.fullname\" . }}-scripts\ndata:\n  run.sh: |\n    #!/bin/sh\n\n    cd $EXPLORER_APP_PATH\n\n    env | sort | egrep -v '^(PEER|ORDERER|CA|COUCHDB)'\n    printf 'Starting Hyperledger Fabric Explorer\\n'\n\n    cp /tmp/config/* $EXPLORER_APP_PATH/app/platform/fabric/\n    cp /tmp/connection/* $EXPLORER_APP_PATH/app/platform/fabric/connection-profile/\n    \n    node $EXPLORER_APP_PATH/main.js\n\n    tail -f /dev/null```","username":"ownspies","ts":"2020-02-24T19:37:58.562Z"}
{"msg":"```apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ include \"hlfExplorer.fullname\" . }}\n  labels:\n{{ include \"hlfExplorer.standardLabels\" . | indent 4 }}\nspec:\n  replicas: {{ .Values.replicaCount }}\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: {{ include \"hlfExplorer.name\" . }}\n      app.kubernetes.io/instance: {{ .Release.Name }}\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: {{ include \"hlfExplorer.name\" . }}\n        app.kubernetes.io/instance: {{ .Release.Name }}\n      annotations:\n        # Allows forcing a deploy\n        \"timestamp\": \"{{ date \"20060102150405\" .Release.Time }}\"\n    spec:\n      containers:\n        - name: {{ .Chart.Name }}\n          image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\"\n          imagePullPolicy: {{ .Values.image.pullPolicy }}\n          envFrom:\n            - configMapRef:\n                name: {{ template \"hlfExplorer.fullname\" . }}-env\n            {{- range .Values.extraConfigmaps }}\n            - configMapRef:\n                name: {{ . }}\n            {{- end }}\n            - secretRef:\n                name: {{ .Values.database.existingSecret }}\n            {{- range .Values.extraSecrets }}\n            - secretRef:\n                name: {{ . }}\n            {{- end }}\n          command:\n            - /scripts/run.sh\n          env:\n            {{- range $key, $value := .Values.env }}\n            - name: \"{{ $key }}\"\n              value: \"{{ $value }}\"\n            {{- end }}\n            {{- range .Values.envFromSecrets }}\n            - name: \"{{ .envKey }}\"\n              valueFrom:\n                secretKeyRef:\n                  name: \"{{ .existingSecret }}\"\n                  key: \"{{ .secretKey }}\"\n            {{- end }}\n          {{- if .Values.service.enabled }}\n          ports:\n            - name: http\n              containerPort: {{ .Values.service.port }}\n              protocol: TCP\n          {{ end }}\n          volumeMounts:\n            - name: explorer-config\n              mountPath: /tmp/config\n              readOnly: true\n            - name: hyperledger-connection-profile\n              mountPath: /tmp/connection\n              readOnly: true\n            - name: scripts\n              mountPath: /scripts\n              readOnly: true\n            {{- range .Values.extraConfigmapMounts }}\n            - name: {{ .name }}\n              mountPath: {{ .mountPath }}\n              {{- if .subPath }}\n              subPath: {{ .subPath }}\n              {{- end }}\n              readOnly: {{ .readOnly }}\n            {{- end }}\n            {{- range .Values.extraSecretMounts }}\n            - name: {{ .name }}\n              mountPath: {{ .mountPath }}\n              {{- if .subPath }}\n              subPath: {{ .subPath | default \"\"}}\n              {{- end }}\n              readOnly: {{ .readOnly }}\n            {{- end }}\n            {{- range .Values.extraVolumeMounts }}\n            - name: {{ .name }}\n              mountPath: {{ .mountPath }}\n              {{- if .subPath }}\n              subPath: {{ .subPath }}\n              {{- end }}\n              readOnly: {{ .readOnly }}\n            {{- end }}\n          livenessProbe: {{ toYaml .Values.livenessProbe | nindent 12 }}\n          readinessProbe: {{ toYaml .Values.readinessProbe | nindent 12 }}\n          resources:\n            {{- toYaml .Values.resources | nindent 12 }}\n      volumes:\n        - name: explorer-config\n          secret:\n            secretName: \"{{ .Values.explorer.config.existingSecret }}\"\n        - name: hyperledger-connection-profile\n          secret:\n            secretName: \"{{ .Values.hyperledger.profileConfig.existingSecret }}\"\n        - name: scripts\n          configMap:\n            name: {{ template \"hlfExplorer.fullname\" . }}-scripts\n            defaultMode: 0555\n\n{{- if .Values.extraVolumes }}\n{{ toYaml .Values.extraVolumes | indent 8 }}\n{{- end }}\n{{- if .Values.extraConfigmapVolumes }}\n{{ toYaml .Values.extraConfigmapVolumes | indent 8 }}\n{{- end }}\n{{- if .Values.extraSecretVolumes }}\n{{ toYaml .Values.extraSecretVolumes | indent 8 }}\n{{- end }}\n      {{- with .Values.nodeSelector }}\n      nodeSelector:\n        {{- toYaml . | nindent 8 }}\n      {{- end }}\n    {{- with .Values.affinity }}\n      affinity:\n        {{- toYaml . | nindent 8 }}\n    {{- end }}\n    {{- with .Values.tolerations }}\n      tolerations:\n        {{- toYaml . | nindent 8 }}\n    {{- end }}\n```","username":"ownspies","ts":"2020-02-24T19:41:04.326Z"}
{"msg":"pretty standard stuff","username":"ownspies","ts":"2020-02-24T19:41:18.269Z"}
{"msg":"@lionelronaldo\nHi,  you should take a look at this.\n","username":"Shubham-koli","ts":"2020-02-25T04:37:26.533Z"}
{"msg":"@lionelronaldo\nHi,  you should take a look at this.\n\nhttps://github.com/APGGroeiFabriek/PIVT#cross-cluster-raft-network","username":"Shubham-koli","ts":"2020-02-25T04:37:26.533Z"}
{"msg":"thanks, I'll check out your files","username":"woodyjon","ts":"2020-02-25T07:19:58.774Z"}
{"msg":"I have a question about the CAs. When you deploy a ca on kubernetes, it will generate the tls files. How do you share the tls-cert.pem file with the peers so that they can connect with the CA?","username":"woodyjon","ts":"2020-02-25T13:28:03.471Z"}
{"msg":"Hey @woodyjon what I have done is generate the TLS files outside of the CA so our CA is not using it's own certificate; also you should distribute the TLS _chain_ not the cert itself","username":"ownspies","ts":"2020-02-25T18:55:57.985Z"}
{"msg":"Ok thanks. Ho man, this stuff is hard ;-)","username":"woodyjon","ts":"2020-02-26T07:37:48.639Z"}
{"msg":"Hi All,","username":"ShrutiHK","ts":"2020-02-27T10:14:21.143Z"}
{"msg":"I have deployed 5 orderers in raft and other peer nodes in pods","username":"ShrutiHK","ts":"2020-02-27T10:14:58.913Z"}
{"msg":"while creating the channel, I am facing this error -\n*error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied*","username":"ShrutiHK","ts":"2020-02-27T10:15:26.230Z"}
{"msg":"Requesting anyone who has faced this error to kindly help me out on this","username":"ShrutiHK","ts":"2020-02-27T10:16:40.197Z"}
{"msg":"Also, have another query - Do we need to install go on the k8s cluster separately?","username":"ShrutiHK","ts":"2020-02-27T10:17:20.794Z"}
{"msg":"Inside the K8S worker nodes - no, inside the Fabric Peer nodes, also no","username":"ownspies","ts":"2020-02-27T13:14:47.682Z"}
{"msg":"I've had this when the configtx.yaml does not have correct policies, so would suggest starting there... That said, I also get this for no good reason and simply regenerating the configs using configtx-gen fixed it magically. Our setup currently includes six channels and typically when I create them, two - three fail with this error; I simply regenerate the config and then re-run the create for the failed channels and voila, it works I have been wanting to open a bug report, but the I don't have an easy way to reproduce","username":"ownspies","ts":"2020-02-27T13:16:50.490Z"}
{"msg":"Okay, thanks","username":"ShrutiHK","ts":"2020-02-28T07:25:19.112Z"}
{"msg":"Has joined the channel.","username":"Mozer18","ts":"2020-03-01T11:44:57.230Z","type":"uj"}
{"msg":"Hi @ownspies , this error seems to be gone now. I created the crypto materials and other artifacts using fabric 1.4.2 (earlier I was using 1.4.3).","username":"ShrutiHK","ts":"2020-03-02T07:20:00.450Z"}
{"msg":"But, I get another error which I don't know what to do about -","username":"ShrutiHK","ts":"2020-03-02T07:20:27.835Z"}
{"msg":"\n *[36m2020-03-02 07:12:20.620 UTC [grpc] createTransport -> DEBU 043\u001b[0m grpc: addrConn.createTransport failed to connect to {orderer:7050 0  <nil>}. Err :connection error: desc = \"transport: authentication handshake failed: x509: certificate signed by unknown authority\"*","username":"ShrutiHK","ts":"2020-03-02T07:20:49.584Z"}
{"msg":"IIRC that is displayed when you're using TLS mutual auth but don't have the right cert chain specified for CORE_PEER_TLS_CLIENTROOTCAS_FILES","username":"ownspies","ts":"2020-03-02T13:37:03.535Z"}
{"msg":"@Shubham-koli Wow thanks for letting me know, I wasn't aware that they updated the project! Thank you so much :pray: :pray: :rocket: ","username":"lionelronaldo","ts":"2020-03-03T08:50:14.003Z"}
{"msg":"Has joined the channel.","username":"randyshu","ts":"2020-03-04T07:05:52.016Z","type":"uj"}
{"msg":"Hi everyone, a colleague and I have made a post on how to implement the new feature of External Chaincodes in Kubernetes environments, take a look and happy to receive some feedback from it. Thanks! https://medium.com/@pau.aragones/how-to-implement-hyperledger-fabric-external-chaincodes-within-a-kubernetes-cluster-fd01d7544523","username":"vanitas92","ts":"2020-03-09T08:27:33.037Z"}
{"msg":"Hello, I'm trying to install chaincode onto a 2.0 network and I encountered this error: Error: error getting chaincode deployment spec for transactive-energy: exit status 1. Does anyone have any idea what caused this?","username":"tengc","ts":"2020-03-12T02:43:29.673Z"}
{"msg":"Has joined the channel.","username":"Abhishekkishor","ts":"2020-03-12T19:25:56.904Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rahulhegde","ts":"2020-03-16T20:54:08.696Z","type":"uj"}
{"msg":"@vanitas92 I am trying out this external-chaincode feature with your repo but I am stuck at one issue where I am not able to invoke the transatcions. When I checked the peer logs it says error while intantitating the chaincode. The error is given below\n2020-03-20T12:59:29.994123454Z  \u001b[33m2020-03-20 12:59:29.993 UTC [lifecycle] Work -> WARN 081\u001b[0m \n could not launch chaincode 'marbles:597ab5e37f30164ba2bd956015bfce6e9b94618390e026a7a844dfc0e06013ef': \n connection to marbles:597ab5e37f30164ba2bd956015bfce6e9b94618390e026a7a844dfc0e06013ef failed: \n error cannot create connection for marbles:597ab5e37f30164ba2bd956015bfce6e9b94618390e026a7a844dfc0e06013ef: \n error creating grpc connection to chaincode-marbles-org1.hyperledger:7052: failed to create new connection: \n connection error: desc = \"transport: error while dialing: dial tcp: lookup chaincode-marbles-org1.hyperledger on 10.96.0.10:53: no such host\"","username":"guptasndp10","ts":"2020-03-20T13:44:14.167Z"}
{"msg":"Oh there is a bug in the service selectors of the k8s service i will fix it right away!","username":"vanitas92","ts":"2020-03-20T13:53:42.354Z"}
{"msg":"I ahve corrected the files and pushed them to the repository, just redeploy the chaincodes by issuing again the `kubectl create -f chaincode/k8s`, the new services will be up and running","username":"vanitas92","ts":"2020-03-20T13:58:33.078Z"}
{"msg":"I have corrected the files and pushed them to the repository, just redeploy the chaincodes by issuing again the `kubectl create -f chaincode/k8s`, the new services will be up and running","username":"vanitas92","ts":"2020-03-20T13:58:33.078Z"}
{"msg":"Thanks for letting me know!","username":"vanitas92","ts":"2020-03-20T13:59:17.867Z"}
{"msg":"Thanks for quick response. I will try this and get back to you. ","username":"guptasndp10","ts":"2020-03-20T14:05:23.933Z"}
{"msg":"I retried couple of times with the repo changes but getting some other error now with invocation. Please find below the peer logs which shows that even though init happened successfully but it says failed to invoke and advice to init chaincode before invoke\n\n2020-03-20T18:37:58.088663884Z  \u001b[34m2020-03-20 18:37:58.088 UTC [lifecycle] CheckCommitReadiness -> INFO 0cb\u001b[0m Successfully checked commit readiness of chaincode name 'marbles' on channel 'mychannel' with definition {sequence: 5, endorsement info: (version: '2.0', plugin: 'escc', init required: true), validation info: (plugin: 'vscc', policy: '0a2c120c120a080212020800120208011a0d120b0a076f7267314d535010031a0d120b0a076f7267324d53501003'), collections: (<nil>)}\n2020-03-20T18:37:58.089387609Z  \u001b[34m2020-03-20 18:37:58.089 UTC [lifecycle] CommitChaincodeDefinition -> INFO 0cc\u001b[0m Successfully endorsed commit for chaincode name 'marbles' on channel 'mychannel' with definition {sequence: 5, endorsement info: (version: '2.0', plugin: 'escc', init required: true), validation info: (plugin: 'vscc', policy: '0a2c120c120a080212020800120208011a0d120b0a076f7267314d535010031a0d120b0a076f7267324d53501003'), collections: (<nil>)}\n2020-03-20T18:37:58.089448318Z  \u001b[34m2020-03-20 18:37:58.089 UTC [endorser] callChaincode -> INFO 0cd\u001b[0m finished chaincode: _lifecycle duration: 1ms channel=mychannel txID=b4af5353\n2020-03-20T18:37:58.089696788Z  \u001b[34m2020-03-20 18:37:58.089 UTC [comm.grpc.server] 1 -> INFO 0ce\u001b[0m unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=172.17.0.10:33046 grpc.code=OK grpc.call_duration=2.484644ms\n2020-03-20T18:38:00.143130719Z  \u001b[34m2020-03-20 18:38:00.143 UTC [gossip.privdata] StoreBlock -> INFO 0cf\u001b[0m [mychannel] Received block [15] from buffer\n2020-03-20T18:38:00.144435274Z  \u001b[34m2020-03-20 18:38:00.144 UTC [committer.txvalidator] Validate -> INFO 0d0\u001b[0m [mychannel] Validated block [15] in 1ms\n2020-03-20T18:38:00.144667555Z  \u001b[34m2020-03-20 18:38:00.144 UTC [gossip.privdata] prepareBlockPvtdata -> INFO 0d1\u001b[0m Successfully fetched all eligible collection private write sets for block [15] channel=mychannel\n2020-03-20T18:38:00.144985559Z  \u001b[34m2020-03-20 18:38:00.144 UTC [lifecycle] update -> INFO 0d2\u001b[0m Updating cached definition for chaincode 'marbles' on channel 'mychannel'\n2020-03-20T18:38:00.145305315Z  \u001b[34m2020-03-20 18:38:00.145 UTC [lifecycle] update -> INFO 0d3\u001b[0m Chaincode with package ID 'marbles:597ab5e37f30164ba2bd956015bfce6e9b94618390e026a7a844dfc0e06013ef' now available on channel mychannel for chaincode definition marbles:2.0\n2020-03-20T18:38:00.145861177Z  \u001b[34m2020-03-20 18:38:00.145 UTC [cceventmgmt] HandleStateUpdates -> INFO 0d4\u001b[0m Channel [mychannel]: Handling deploy or update of chaincode [marbles]\n2020-03-20T18:38:00.216293026Z  \u001b[34m2020-03-20 18:38:00.216 UTC [kvledger] CommitLegacy -> INFO 0d5\u001b[0m [mychannel] Committed block [15] with 1 transaction(s) in 71ms (state_validation=1ms block_and_pvtdata_commit=32ms state_commit=18ms) commitHash=[2795b6c2da817f50cdfef066a4ad66dde8f5167e940652ad7ec6f7e056b98c1e]\n2020-03-20T18:38:00.219152605Z  \u001b[34m2020-03-20 18:38:00.219 UTC [comm.grpc.server] 1 -> INFO 0d6\u001b[0m streaming call completed grpc.service=protos.Deliver grpc.method=DeliverFiltered grpc.request_deadline=2020-03-20T18:38:28.093Z grpc.peer_address=172.17.0.10:33048 error=\"context finished before block retrieved: context canceled\" grpc.code=Unknown grpc.call_duration=2.125712492s\n2020-03-20T18:40:38.985354287Z  \u001b[34m2020-03-20 18:40:38.984 UTC [endorser] callChaincode -> INFO 0d7\u001b[0m finished chaincode: marbles duration: 0ms channel=mychannel txID=e54ce89d\n2020-03-20T18:40:38.985673901Z  \u001b[31m2020-03-20 18:40:38.985 UTC [endorser] SimulateProposal -> ERRO 0d8\u001b[0m failed to invoke chaincode marbles, error: chaincode 'marbles' has not been initialized for this version, must call as init first\n2020-03-20T18:40:38.985684864Z  github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).CheckInvocation\n2020-03-20T18:40:38.985689468Z  \t/go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:249","username":"guptasndp10","ts":"2020-03-20T18:48:02.711Z"}
{"msg":"hmmm i see there is a different sequence number, you have a value of  5. I have not tested it when upgrading or modifying this value so i cannot asess on that. However, i would make sure all peers have the same sequence and ccid of the chaincode so that signatures are valid. Just a guess here but if you find it out, please come here and share your experience!","username":"vanitas92","ts":"2020-03-21T09:13:05.885Z"}
{"msg":"Finally I get it to working. Issue is in the invoke statement where the first  time invocation requires --isInit flag but in documentation this flag was missing.","username":"javrevasandeep","ts":"2020-03-21T10:09:40.154Z"}
{"msg":"Ah true, missed it, i will fix it right now! Thanks!","username":"vanitas92","ts":"2020-03-21T10:12:56.892Z"}
{"msg":"Ah true! Completely missed it on the article. Going to add it now, thanks!!","username":"vanitas92","ts":"2020-03-21T10:13:52.368Z"}
{"msg":"Done, sorry for this issue!!","username":"vanitas92","ts":"2020-03-21T10:20:37.810Z"}
{"msg":"No problem and thanks for your wonderful article. Do you have any other repos based on hyperledger fabric version 1.4 on kubernetes with mutual tls and node sdk","username":"javrevasandeep","ts":"2020-03-21T10:23:26.083Z"}
{"msg":"This was my first time publishing something like this so unfortunately i do not have published anything else. I have not tried the mutual TLS and node sdk but i have found this article, see if you find what you are looking for: https://medium.com/@thotanarendranathreddy/hyperledger-fabric-mutual-tls-6c0cdd8dc1c","username":"vanitas92","ts":"2020-03-21T10:28:31.093Z"}
{"msg":"Is it open source or paid one?","username":"ZainabM","ts":"2020-03-23T05:44:09.533Z"}
{"msg":"The article is open, as well as the github code, and Hyperledger Fabric is open source as well!","username":"vanitas92","ts":"2020-03-23T09:03:32.437Z"}
{"msg":"Has joined the channel.","username":"przemyslaw.sanecki","ts":"2020-03-26T14:00:55.337Z","type":"uj"}
{"msg":"having trouble with new v2 chaincode lifecycle, I am using docker vm dind endpoint https://127.0.0.1 with tls on, peer has all docker client crypto material set\n \n```\nCORE_VM_DOCKER_TLS_ENABLED=true\nCORE_VM_DOCKER_TLS_CERT=/tmp/org1/peer1/docker/cert.pem\nCORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=host\nCORE_VM_DOCKER_TLS_KEY=/tmp/org1/peer1/docker/key.pem\nCORE_VM_ENDPOINT=https://127.0.0.1:2376\nCORE_VM_DOCKER_TLS_CA=/tmp/org1/peer1/docker/ca.pem\n``` \n\nTrying to install chaincode package.\n\n```\npeer lifecycle chaincode install patient_consent-v0.0.1-package.tar.gz \\\n     --peerAddresses fabric-dev-peer1-org1:7051 --connTimeout 10s \\\n     --tlsRootCertFiles /tmp/org1/peer1/tls/msp/cacerts/fabric-dev-tlsca-org1-7052.pem \\\n     -o fabric-dev-orderer1-org1:7050 --tls --cafile /tmp/org1/peer1/tls/msp/cacerts/fabric-dev-tlsca-org1-7052.pem\n``` \nThis gives me\n```\nError: chaincode install failed with status: 500 - failed to invoke backing implementation of 'InstallChaincode': could not build chaincode: docker build failed: docker image inspection failed: Get https://127.0.0.1:2376/images/dev-peer1-org1-patient_consent-v0.0.1-9aedb4f5f58cb4bf18cf38f53751928caf9074c4bcb6859d8417fb37c09ab596-0acf342a6da8bfef85ec6b4d9dbe3ca4236ab9e52d903bb9fb014db836696d7b/json: remote error: tls: bad certificate\n\n``` \n","username":"przemyslaw.sanecki","ts":"2020-03-26T14:05:38.790Z"}
{"msg":"having trouble with new v2 chaincode lifecycle, I am using docker vm dind endpoint https://127.0.0.1 with tls on, peer has all docker client crypto material set\n \n```\nCORE_VM_DOCKER_TLS_ENABLED=true\nCORE_VM_DOCKER_TLS_CERT=/tmp/org1/peer1/docker/cert.pem\nCORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=host\nCORE_VM_DOCKER_TLS_KEY=/tmp/org1/peer1/docker/key.pem\nCORE_VM_ENDPOINT=https://127.0.0.1:2376\nCORE_VM_DOCKER_TLS_CA=/tmp/org1/peer1/docker/ca.pem\n``` \n\nTrying to install chaincode package.\n\n```\npeer lifecycle chaincode install patient_consent-v0.0.1-package.tar.gz \\\n     --peerAddresses fabric-dev-peer1-org1:7051 --connTimeout 10s \\\n     --tlsRootCertFiles /tmp/org1/peer1/tls/msp/cacerts/fabric-dev-tlsca-org1-7052.pem \\\n     -o fabric-dev-orderer1-org1:7050 --tls --cafile /tmp/org1/peer1/tls/msp/cacerts/fabric-dev-tlsca-org1-7052.pem\n``` \nThis gives me\n```\nError: chaincode install failed with status: 500 - failed to invoke backing implementation of 'InstallChaincode': could not build chaincode: docker build failed: docker image inspection failed: Get https://127.0.0.1:2376/images/dev-peer1-org1-patient_consent-v0.0.1-9aedb4f5f58cb4bf18cf38f53751928caf9074c4bcb6859d8417fb37c09ab596-0acf342a6da8bfef85ec6b4d9dbe3ca4236ab9e52d903bb9fb014db836696d7b/json: remote error: tls: bad certificate\n\n``` \nPeer,cli and dind containers run in the same pod, docker certificates are valid as `docker --tlsverify ps` works as expected both from peer and cli containers  ","username":"przemyslaw.sanecki","ts":"2020-03-26T14:05:38.790Z"}
{"msg":"Hi all, im using kubernetes CA to approve the orderer's CSR but it seems like the orderer has an issue trying to create the CSR, the error is \n`  \"message\": \"certificatesigningrequests.certificates.k8s.io is forbidden: User \\\"system:anonymous\\\" cannot create resource \\\"certificatesigningrequests\\\" in API group \\\"certificates.k8s.io\\\" at the cluster scope\",`\ni have checked that my orderer pod is in the same namespace as that was given the create rights. I had no issue with the kafka pod creating the CSR.\n\n`kubectl create clusterrole cluster-edit-csr --resource=certificatesigningrequest --verb=create,delete,list,get`\n`kubectl create clusterrolebinding cluster-edit-csr-bind01 --clusterrole=cluster-edit-csr --group=certificates.k8s.io --serviceaccount=orgorderer1:default`","username":"JayJong","ts":"2020-03-31T09:18:47.784Z"}
{"msg":"Hi all, im using kubernetes CA to approve the orderer's CSR but it seems like the orderer has an issue trying to create the CSR, the error is \n`  \"message\": \"certificatesigningrequests.certificates.k8s.io is forbidden: User \\\"system:anonymous\\\" cannot create resource \\\"certificatesigningrequests\\\" in API group \\\"certificates.k8s.io\\\" at the cluster scope\",`\ni have checked that my orderer pod is in the same namespace as that was given the create rights. I had no issue with the kafka pod creating the CSR.\nCommands to enable usage of kubernetes CA and allow pods to submit request to kubernetes api server:\n`kubectl create clusterrole cluster-edit-csr --resource=certificatesigningrequest --verb=create,delete,list,get`\n`kubectl create clusterrolebinding cluster-edit-csr-bind01 --clusterrole=cluster-edit-csr --group=certificates.k8s.io --serviceaccount=orgorderer1:default`","username":"JayJong","ts":"2020-03-31T09:18:47.784Z"}
{"msg":"I am running fabric 2.0 on kubernetes. I deploy with helm. I have an issue deleting my deployment. Most of my pods stay in \"terminated\" state, and I have to manually force delete them to delete them. What graceful way do you use to quit your fabric 2.0 pods?","username":"woodyjon","ts":"2020-04-06T13:20:45.630Z"}
{"msg":"I am running fabric 2.0 on kubernetes. I deploy with helm. I have an issue deleting my deployment. Most of my pods stay in \"terminated\" stat","username":"woodyjon","ts":"2020-04-06T13:21:56.301Z","attachments":[{"message_link":"/channel/fabric-kubernetes?msg=3wHcneJa5P3gf5nYy","url":"/channel/fabric-kubernetes?msg=3wHcneJa5P3gf5nYy","remote":true,"fileId":null,"fileName":null}],"type":"discussion-created"}
{"msg":"Has joined the channel.","username":"pritam_01","ts":"2020-04-06T13:26:29.393Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Adhavpavan","ts":"2020-04-07T15:35:59.028Z","type":"uj"}
{"msg":"Has joined the channel.","username":"seokm0","ts":"2020-04-10T05:29:26.969Z","type":"uj"}
{"msg":"Can anyone please tell me the best way to store application's wallet in kubernetes.","username":"ZainabM","ts":"2020-04-15T11:48:45.919Z"}
{"msg":"ok..Thank you )","username":"ZainabM","ts":"2020-04-15T11:49:57.563Z"}
{"msg":"ok..Thank you :)","username":"ZainabM","ts":"2020-04-15T11:49:57.563Z"}
{"msg":"Hi everyone, i would like to setup the peers 2.0 version in kubernetes yaml the CORE_CHAINCODE_EXTERNALBUILDERS through env vars but i am contslanty getting the following error Error: '': source data must be an array or slice, got string. I put the following input:\n```\n        - name: CORE_CHAINCODE_EXTERNALBUILDERS\n          value: '[{name: golang-builder, path: /builders/golang}]'\n```\nI think that is because env var do not support arrays but i am not completely sure. The docs suggest to modify the core.yaml file itself but that does not have a good approach with kubernetes as it is the only config option to be modified in core.yaml file itself, though i have tried that and it works:\n\n> Modify the chaincode stanza of the peer core.yaml file to include the externalBuilders configuration element:\n```\nexternalBuilders:\n     - name: myexternal\n       path: <fully qualified path on the peer's env>  \n```\nDoes anyone have a better approach on this? ","username":"vanitas92","ts":"2020-04-24T10:13:19.856Z"}
{"msg":"Hi everyone, i would like to setup the peers 2.0 version in kubernetes yaml the CORE_CHAINCODE_EXTERNALBUILDERS through env vars but i am contslanty getting the following error `Error: '': source data must be an array or slice, got string`. I put the following input:\n```\n        - name: CORE_CHAINCODE_EXTERNALBUILDERS\n          value: '[{name: golang-builder, path: /builders/golang}]'\n```\nI think that is because env var do not support arrays but i am not completely sure. The docs suggest to modify the core.yaml file itself but that does not have a good approach with kubernetes as it is the only config option to be modified in core.yaml file itself, though i have tried that and it works:\n\n> Modify the chaincode stanza of the peer core.yaml file to include the externalBuilders configuration element:\n```\nexternalBuilders:\n     - name: myexternal\n       path: <fully qualified path on the peer's env>  \n```\nDoes anyone have a better approach on this? ","username":"vanitas92","ts":"2020-04-24T10:13:19.856Z"}
{"msg":"Hello All - I just posted a public github repo with tutorial and youtube video for how to deploy a Hyperledger Fabric Certificate Authority on Kubernetes and interact with it to register and enroll identities, modify identities, and certificate management.  Check it out on GitHub if you want https://github.com/denali49/fabric-ca-k8s","username":"cmgabriel","ts":"2020-04-29T01:24:40.806Z"}
{"msg":"Has joined the channel.","username":"sureshappana","ts":"2020-04-29T19:46:09.537Z","type":"uj"}
{"msg":"Hi, I am trying to run HLF in k8s cluster, I am at the instantiation step. Getting error *Error: could not send: EOF*, I see chaincode container started successfully (and also runs without quitting/restarting). But after few minutes peer is getting the above error message.\n\nI have attached peer logs below\nRunning HLF 1.4.6\nUsing golang chaincode (chaincode_example02) from fabric-samples","username":"sureshappana","ts":"2020-04-29T19:46:12.151Z"}
{"msg":"","username":"sureshappana","ts":"2020-04-29T19:46:15.288Z","attachments":[{"type":"file","title":"peer logs.txt","title_link":"/file-upload/GWHXhoyT6agPMDWBk/peer%20logs.txt","url":"/file-upload/GWHXhoyT6agPMDWBk/peer%20logs.txt","remote":false,"fileId":"GWHXhoyT6agPMDWBk","fileName":"peer logs.txt"}]}
{"msg":"Has joined the channel.","username":"AmanAgrawal","ts":"2020-05-04T13:37:49.641Z","type":"uj"}
{"msg":"Hi All,\n\nI am trying to setup fabric network on kubernetes using existing cryto certs that i have from my previous work. I have migrated those certs to my kubernetes setup. While i try to create channel with my existing tlscacerts, i get error on my orderer logs saying this: ServerHandshake -> ERRO 024\u001b[0m TLS handshake failed with error remote error: tls: bad certificate server=Orderer remoteaddress=10.28.2.11:40992\nAny idea, if migrating the certs to kubernetes is not expected and if i am required to generate new certs on premise?\nany thoughts on this ","username":"AmanAgrawal","ts":"2020-05-06T10:36:40.192Z"}
{"msg":"Hi All,\n\nI am trying to setup fabric network on kubernetes using existing cryto certs that i have from my previous work. I have migrated those certs to my kubernetes setup. While i try to create channel with my existing tlscacerts, i get error on my orderer logs saying this: ServerHandshake -> ERRO 024\u001b[0m TLS handshake failed with error remote error: tls: bad certificate server=Orderer remoteaddress=10.28.2.11:40992\nAny idea, if migrating the certs to kubernetes is not expected and if i am required to generate new certs on premise?\nany thoughts on this @iramiller ","username":"AmanAgrawal","ts":"2020-05-06T10:36:40.192Z"}
{"msg":"Hi All,\n\nI am trying to set up fabric network on Kubernetes using existing crypto certs that i have from my previous work. I have migrated those certs to my kubernetes setup. While i try to create channel with my existing tlscacerts, i get error on my orderer logs saying this: ServerHandshake -> ERRO 024\u001b[0m TLS handshake failed with error remote error: tls: bad certificate server=Orderer remoteaddress=10.28.2.11:40992,\nseems like the certs arent being accepted here.\nAny idea, if migrating the certs to kubernetes is not expected and if i am required to generate new certs on premise?\nany help around is highly appreciated.\nany thoughts on this @iramiller ","username":"AmanAgrawal","ts":"2020-05-06T10:36:40.192Z"}
{"msg":"Hi, I am trying to setup HLF in K8s, when I run instantiation command, its starting the chaincode container successfully. But the instantiation step is exiting with EOF. When I perform any query execution I am getting the following error:\nError: endorsement failure during query. response: status:500 message:\"make sure the chaincode test_cc has been successfully instantiated and try again: chaincode test_cc not found\"","username":"sureshappana","ts":"2020-05-19T17:25:12.389Z"}
{"msg":"Hi, I am trying to setup HLF in K8s, when I run instantiation command, its starting the chaincode container successfully. But the instantiation step is exiting with EOF. When I perform any query execution I am getting the following error:\n```\nError: endorsement failure during query. response: status:500 message:\"make sure the chaincode test_cc has been successfully instantiated and try again: chaincode test_cc not found\"\n```","username":"sureshappana","ts":"2020-05-19T17:25:12.389Z"}
{"msg":"","username":"sureshappana","ts":"2020-05-19T17:25:38.898Z","attachments":[{"type":"file","title":"query_logs.txt","title_link":"/file-upload/uiDx7eqbiQKvCR5ae/query_logs.txt","url":"/file-upload/uiDx7eqbiQKvCR5ae/query_logs.txt","remote":false,"fileId":"uiDx7eqbiQKvCR5ae","fileName":"query_logs.txt"}]}
{"msg":"","username":"sureshappana","ts":"2020-05-19T17:25:41.743Z","attachments":[{"type":"file","title":"instantiation_logs.txt","title_link":"/file-upload/QihctGoqQpScgMPwG/instantiation_logs.txt","url":"/file-upload/QihctGoqQpScgMPwG/instantiation_logs.txt","remote":false,"fileId":"QihctGoqQpScgMPwG","fileName":"instantiation_logs.txt"}]}
{"msg":"Has joined the channel.","username":"AaronWilmoth","ts":"2020-05-23T16:57:54.776Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cryptopatrick","ts":"2020-05-26T19:59:57.438Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tusharson","ts":"2020-05-27T13:47:39.801Z","type":"uj"}
{"msg":"Any updated docs, videos on deploying hyperledger fabric in kubernetes ?","username":"tusharson","ts":"2020-05-27T13:48:25.508Z"}
{"msg":"Has joined the channel.","username":"y0zg","ts":"2020-05-27T18:47:38.444Z","type":"uj"}
{"msg":"We are planning to run single blockchain deployed on single k8s cluster  per one customer. The next step is to have distributed communication between many customers with their own k8s clusters and deployed blockchains there. How do you guy perform the following scenario? I'm mostly interested in authentication mechanisms used between k8s clusters  ","username":"y0zg","ts":"2020-05-27T18:50:31.012Z"}
{"msg":"We are planning to run single blockchain deployed on single k8s cluster  per one customer. The next step is to have distributed communication between many customers with their own k8s clusters and deployed blockchains there. How do you guys perform the following scenario? I'm mostly interested in authentication mechanisms used between k8s clusters . Do you use any service mesh/multi-cloud/VPN/etc?","username":"y0zg","ts":"2020-05-27T18:50:31.012Z"}
{"msg":"Has joined the channel.","username":"kim0","ts":"2020-06-02T15:26:47.978Z","type":"uj"}
{"msg":"Hello folks .. is there a maintained way to install Fabric on kubernetes ? like a helm chart or similar","username":"kim0","ts":"2020-06-02T15:26:48.718Z"}
{"msg":"@kim0 Not sure if this can be of any help? https://youtu.be/ubrA3W1JMk0","username":"cryptopatrick","ts":"2020-06-03T07:15:56.015Z"}
{"msg":"Hi All,","username":"AmanAgrawal","ts":"2020-06-05T04:05:25.861Z"}
{"msg":"Hi All, I need help understanding how can i mount my local storage to the volume mount inside my pod?","username":"AmanAgrawal","ts":"2020-06-05T04:05:25.861Z"}
{"msg":"Check your orderer node logs as well. Is your instantiation transaction log successfully broadcasted and committed?","username":"mrudav.shukla","ts":"2020-06-05T05:44:56.116Z"}
{"msg":"Has joined the channel.","username":"FarhanShafiq","ts":"2020-06-09T07:23:27.165Z","type":"uj"}
{"msg":"Hey guys!\nAs you probably realized, there are far more people needing help with HF + K8s (Hyperledger Fabric + Kubernetes) than there are people who have the knowledge and time to help. :astonished: \n\nJust wanted to post again the amazingly awesome PIVT repository: https://github.com/APGGroeiFabriek/PIVT  :fire: :rocket:\nThey have ready to use scripts and config files, and a README that walks you through every step. :person_climbing: \nThey offer production-ready setups for Kafka, RAFT, TLS, adding Orgs and even Cross K8s Cluster! :exploding_head: \n\nThis repo is open source and single handedly saves the HF K8s community. Huge thank you to these Devs! :heart_eyes: \nCheck it out, give it a star, learn some argo basics, and send the guys a donation/your gratitude! :pray: :shamrock:","username":"lionelronaldo","ts":"2020-06-09T16:33:18.581Z"}
{"msg":"Is there any k8s and HF2.1 example , all the ones i have come across including PIVT are in 1.4.x","username":"sillysachin","ts":"2020-06-11T14:30:25.727Z"}
{"msg":"just replace the container version with 2.0 and replace the old chaincode lifecycle with the new one","username":"lionelronaldo","ts":"2020-06-14T12:06:35.520Z"}
{"msg":"Has joined the channel.","username":"jkalwar","ts":"2020-06-30T19:11:21.805Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nekia","ts":"2020-07-02T05:14:49.058Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ps.agboola.ayodeji","ts":"2020-07-05T09:46:51.430Z","type":"uj"}
{"msg":"Has joined the channel.","username":"matkt","ts":"2020-07-06T21:13:48.893Z","type":"uj"}
{"msg":"Has joined the channel.","username":"anish-edx","ts":"2020-07-10T05:34:54.306Z","type":"uj"}
{"msg":"Does AWS EKS CSI driver for EBS supports volume cloning?","username":"mrudav.shukla","ts":"2020-07-12T15:06:59.741Z"}
{"msg":"Hello.  I have setup a fabric on AWS EKS, version: v1.15.11-eks-af3caf.  I have created a channel, and joined multiple peers.  Next I tried to deploy a chaincode package using peer lifecycle chaincode install, but it fails with the following message: \"2020-07-27 10:14:26.622 UTC [dockercontroller] buildImage -> ERRO f85 Error building image: docker build failed: Error returned from build: 1...\" The full error message is here: https://pastebin.com/C2Ju906w\n\nThis looks like a name resolution error.  Pods on the EKS cluster have connectivity to the internet.  From the peer I'm able to download https://registry.npmjs.org/fabric-shim/-/fabric-shim-2.0.0.tgz without issue.\n\nLooking through this Rocket.Chat channel I see others using IBM's K8 offering mention docker is not longer used as the container runtime, and docker in docker is required.  Could this be the same for AWS EKS?","username":"julian","ts":"2020-07-27T11:23:01.184Z"}
{"msg":"Hello.  I have setup a 2.1.1 fabric on AWS EKS, version: v1.15.11-eks-af3caf.  I have created a channel, and joined multiple peers.  Next I tried to deploy a chaincode package using peer lifecycle chaincode install, but it fails with the following message: \"2020-07-27 10:14:26.622 UTC [dockercontroller] buildImage -> ERRO f85 Error building image: docker build failed: Error returned from build: 1...\" The full error message is here: https://pastebin.com/C2Ju906w\n\nThis looks like a name resolution error.  Pods on the EKS cluster have connectivity to the internet.  From the peer I'm able to download https://registry.npmjs.org/fabric-shim/-/fabric-shim-2.0.0.tgz without issue.\n\nLooking through this Rocket.Chat channel I see others using IBM's K8 offering mention docker is not longer used as the container runtime, and docker in docker is required.  Could this be the same for AWS EKS?","username":"julian","ts":"2020-07-27T11:23:01.184Z"}
{"msg":"After further investigation I can see a chaincode container is being created on one of the EKS nodes.  Therefore it's not a container runtime issue.  I have inspected the chaincode container which starts and falls over, and I see the following config: https://pastebin.com/rEE4wfjA\nIt looks like the network mode is incorrect: \"NetworkMode\": \"default\".  Previously in earlier version of fabric I had used the peer env var CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE to set this as required.  It doesn't appear to be working this time around.  I have attempted to set this to none, but it still shows as default when a chaincode container is started.  Can anyone help?","username":"julian","ts":"2020-07-28T14:23:19.440Z"}
{"msg":"Has joined the channel.","username":"joy_2_code","ts":"2020-08-01T04:53:46.865Z","type":"uj"}
{"msg":"Hi Julian, I would not suggest to use the docker daemon from the EKS workers nodes themselves, as you will have no control about the chaincodes within the EKS domain. I would suggest to use the Docker-in-Docker approach if you are still using the legacy chaincode lifecycle, which i would not also recommend as it is currently deprecated. As you are using version 2.1.1, i would suggest using the new lifecycle chaincode installation and build your chaincodes as docker containers that are available with EKS domain. See the following documentation: https://hyperledger-fabric.readthedocs.io/en/release-2.2/cc_service.html","username":"vanitas92","ts":"2020-08-03T14:18:01.879Z"}
{"msg":"@vanitas92 Hello.  I had seen the external service option, but I haven't researched it.  I will read about it now.  Thank you for your reply.","username":"julian","ts":"2020-08-04T09:10:05.565Z"}
{"msg":"I have made a tutorial about this if you need further help with some examples and code templates https://medium.com/swlh/how-to-implement-hyperledger-fabric-external-chaincodes-within-a-kubernetes-cluster-fd01d7544523","username":"vanitas92","ts":"2020-08-04T09:11:37.662Z"}
{"msg":"Brilliant.  Thank you.","username":"julian","ts":"2020-08-04T09:46:02.333Z"}
{"msg":"@vanitas92 On further reading I see the chaincode as an external service is currently only available for go.  Our chaincode is written in node.  I will probably have to take the docker in docker route.","username":"julian","ts":"2020-08-04T17:10:46.198Z"}
{"msg":"Yes, that might be the best approach for non golang based chaincodes for now, until they support the external chaincode feature :)","username":"vanitas92","ts":"2020-08-05T14:15:34.209Z"}
{"msg":"anyone here using a standalone setup with raft and dind (better - with the java sdk). \nhave a new error (posted it in fabric-java-sdk) but thought it might have happened somewhere else using a different language. \n\ngo chaincode is failing to upgrade. this is in a long standing network with multiple prior successful upgrades. logs are inconclusive. \ni'm thinking it's a resource issue but can't see anything obviously awry. anyone have this happen to them?","username":"aatkddny","ts":"2020-08-07T15:57:44.981Z"}
{"msg":"anyone here using a standalone - multi-node but our datacenter standalone - setup with raft and dind (better - with the java sdk). \nhave a new error (posted it in fabric-java-sdk) but thought it might have happened somewhere else using a different language. \n\ngo chaincode is failing to upgrade. this is in a long standing network with multiple prior successful upgrades. logs are inconclusive. \ni'm thinking it's a resource issue but can't see anything obviously awry. anyone have this happen to them?","username":"aatkddny","ts":"2020-08-07T15:57:44.981Z"}
{"msg":"Has joined the channel.","username":"jcldnatv","ts":"2020-08-22T17:24:05.827Z","type":"uj"}
{"msg":"Has joined the channel.","username":"charyorde","ts":"2020-08-25T14:29:39.866Z","type":"uj"}
{"msg":"Has left the channel.","username":"bjwswang","ts":"2020-08-27T02:12:20.170Z","type":"ul"}
{"msg":"Has left the channel.","username":"sstone1","ts":"2020-09-03T07:14:54.789Z","type":"ul"}
{"msg":"I have implemented the Raft network with TLS with three orderer and installed and init Go chaincode however when I am trying to invoke chaincode its giving me error as","username":"AbhijeetSamanta","ts":"2020-09-14T12:58:14.545Z"}
{"msg":"I have implemented the Raft network with TLS with three orderer and installed and init Go chaincode however when I am trying to invoke chaincode its giving me error as `[Channel.js]: Channel:common received discovery error:access denied\n2020-09-13T21:56:11.992Z - error: [Channel.js]: Error: Channel:common Discovery error:access denied\n2020-09-13T21:56:11.992Z - error: [Network]: _initializeInternalChannel: Unable to initialize channel. Attempted to contact 1 Peers. Last error was Error: Channel:common Discovery error:access denied`","username":"AbhijeetSamanta","ts":"2020-09-14T12:58:14.545Z"}
{"msg":"Has joined the channel.","username":"popopame","ts":"2020-09-14T17:08:33.784Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vioking","ts":"2020-09-18T16:51:51.639Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gen_el","ts":"2020-09-25T15:54:58.933Z","type":"uj"}
{"msg":"Has joined the channel.","username":"czar0","ts":"2020-10-09T11:11:15.331Z","type":"uj"}
{"msg":"Has joined the channel.","username":"skulos","ts":"2020-10-12T13:13:03.162Z","type":"uj"}
{"msg":"Has joined the channel.","username":"c0deh0use","ts":"2020-10-15T06:46:39.233Z","type":"uj"}
{"msg":"Hello guys, I'm successfully running HLF 2.2.1 locally with docker & docker-compose but I would like to migrate it k8s. I have problems establishing connection from peers to a single raft  orderer. I was trying to use the IBM https://github.com/IBM/blockchain-network-on-kubernetes. First question I have is are you all using TLS internally in k8s network this examples does not set that option when creating the genesis.block and channel tx.","username":"c0deh0use","ts":"2020-10-15T07:17:44.628Z"}
{"msg":"You can take a look at my repository on setting up a k8s based hyperledger fabric network with external chaincode feature, i think it also includes your answer on how you can generate TLS artefacts that match the inner services of K8s, although it is not the center theme of the article. See if that helps: https://medium.com/swlh/how-to-implement-hyperledger-fabric-external-chaincodes-within-a-kubernetes-cluster-fd01d7544523","username":"vanitas92","ts":"2020-10-15T13:50:03.367Z"}
{"msg":"You can take a look at my article on setting up a k8s based hyperledger fabric network with external chaincode feature, i think it also includes your answer on how you can generate TLS artefacts that match the inner services of K8s, although it is not the center theme of the article. See if that helps: https://medium.com/swlh/how-to-implement-hyperledger-fabric-external-chaincodes-within-a-kubernetes-cluster-fd01d7544523","username":"vanitas92","ts":"2020-10-15T13:50:03.367Z"}
{"msg":"Has joined the channel.","username":"tennenjl","ts":"2020-10-15T19:00:09.528Z","type":"uj"}
{"msg":"all of the logs from orderers, peers, couchdb, docker-in-docker containers have suddenly stopped appearing on my cluster. the istio-proxy containers in the same pod are still displaying logs and the cluster has been upgraded to latest stable version, nodes restarted. Any idea what might be causing this? there was no change in the configuration since the logs were working earlier","username":"nleut","ts":"2020-10-16T20:34:28.637Z"}
{"msg":"Has joined the channel.","username":"heena066","ts":"2020-11-02T09:29:14.653Z","type":"uj"}
{"msg":"Hey guys, I'm getting error logs saying \" http: TLS handshake error from 192.168.219.40:28758: EOF \" from TLS enabled peer's and orderer's deployments in Azure's AKS and AWS EKS, they are exposed using loadbalancer's . It will be helpfully if you guys give any suggestion to suppress or resolve this issue.","username":"shivraj","ts":"2020-11-05T06:28:10.002Z"}
{"msg":"Can we run Hyperledger Fabric Peer V2.2 as non root user? Any one tried to run in kubernetes with security context set as to not to run as root? Also we are trying to run as external chaincode container.","username":"ygnr","ts":"2020-11-12T10:40:43.478Z"}
{"msg":"Has joined the channel.","username":"cynicalsnail","ts":"2020-11-18T07:01:27.095Z","type":"uj"}
{"msg":"Has joined the channel.","username":"melroy27","ts":"2020-11-23T05:26:49.433Z","type":"uj"}
{"msg":"Thanks Vanitas, \nI've managed to us the PIVT repo and adopt it to use in Fabric 2.2. \nI noticed you are using FabricCA. How are you getting the certificates needed to setup the communication with gateways?","username":"c0deh0use","ts":"2020-11-23T18:28:10.277Z"}
{"msg":"How are you guys setting up FabricCa and all the certs of known users ?","username":"c0deh0use","ts":"2020-11-23T18:45:24.150Z"}
{"msg":"Hey guys i am new to Fabric but as of some requirement I am stuck at a point and looking for help ```\n*The setup below is all done on Google Cloud.*\n\nSetup 1: Docker \n\nI have a Docker setup running on a VM instance having a Hyperledger Fabric Network(1.4.2) of 3 Orderers(etcdraft) and 2 peers(peer0, peer1) of a single organization.\n\nAs part of Docker setup the crypto-material generated is using Fabric CA. The channel that i have on the network is \"mychannel\"\n\nSetup 2: Kubernetes\n\nI have a Kubernetes Cluster running on GKE having just 1 peer pod(peer2). \n\nThe setup files realted to this pod are: \n\n1. peer2 Deployment File\n2. peer2 Service File\n3. peer2 CLI\n4. peer2 CouchDB\n\nWhat I want to achieve is:\n\nI want the peer pod of Kubernetes to be able to communicate with the network setup in Docker.\n\ni.e. I want atleast 1 peer of the Kubernetes should be able to join the network channel(mychannel) on the Docker Network and be able to perform some transaction/query \nlike instantiation of chaincode and query the same.\n\nTill now what I have done is exposed the services of the peer pod in Kubernetes i.e. ClusterIP -> NodePort.\n\nAny help would be appreciated.\n\n```","username":"melroy27","ts":"2020-11-24T10:20:00.068Z"}
{"msg":"I'm not sure you can mix K8s cluster network with a single container.","username":"c0deh0use","ts":"2020-11-24T11:06:07.918Z"}
{"msg":"Has joined the channel.","username":"archanaarige","ts":"2020-11-24T11:25:31.891Z","type":"uj"}
{"msg":"Anyone could share how you guys are setting Fabric-CA ?","username":"c0deh0use","ts":"2020-11-25T12:14:50.419Z"}
{"msg":"Has joined the channel.","username":"rameshlohala","ts":"2020-12-02T12:12:00.175Z","type":"uj"}
{"msg":"Has joined the channel.","username":"HansrajRami","ts":"2020-12-04T21:19:15.966Z","type":"uj"}
{"msg":"docker pull hansrajrami/fabric-peer:2.2.1-rootless\nRun this ","username":"HansrajRami","ts":"2020-12-04T21:24:07.191Z"}
{"msg":"When I start the hyper ledger network on a free Kubernetes classic cluster of IBM Cloud following the GitHub link https://github.com/IBM/blockchain-network-on-kubernetes.git, the chain code instantiates.\n\nBut when I try to instantiate the chain code in IBM's VPC cluster, I am getting Post http://docker:2375/containers/create? i/o timeout\n\nCan anyone please help?","username":"ZainabM","ts":"2020-12-07T06:44:27.592Z"}
{"msg":"Has joined the channel.","username":"ravishankar.gu","ts":"2020-12-11T08:21:33.621Z","type":"uj"}
{"msg":"HI suddenly\nall of my tlsca certs expired\nmy network is on production\nwhat to do in order to start the network from same state\nhow to renew my tls certs ?\nmy orderer and peers all are giving bad certificate error","username":"adarshaJha","ts":"2020-12-18T12:20:47.663Z"}
{"msg":"For peers issue new TLS certificates from the same CA which issued their current certs\nreplace the existing certificates (or update core.yaml to point to the new certificates if using different paths/filenames)\nrestart the peer(s)\nFor orderers using Raft, what you can do is for orderers is use their existing private keys to generate new CSRs and then have the CA issue a new public certificate. You will then replace / update orderer.yaml the public certificate and restart the orderers one at a time.","username":"HansrajRami","ts":"2020-12-22T15:51:34.203Z"}
{"msg":"For peers issue new TLS certificates from the same CA which issued their current certs\nreplace the existing certificates (or update core.yaml to point to the new certificates if using different paths/filenames)\nrestart the peer(s)\nFor orderers using Raft, what you can do is for orderers is use their existing private keys to generate new CSRs and then have the CA issue a new public certificate. You will then replace / update orderer.yaml the public certificate and restart the orderers one at a time.","username":"HansrajRami","ts":"2020-12-22T15:53:46.068Z"}
{"msg":"This may help","username":"HansrajRami","ts":"2020-12-22T15:53:46.068Z"}
{"msg":"Has joined the channel.","username":"yixinhuo","ts":"2020-12-22T16:22:34.076Z","type":"uj"}
{"msg":"Has joined the channel.","username":"iLico","ts":"2020-12-27T09:56:38.856Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lupass93","ts":"2020-12-29T23:37:43.813Z","type":"uj"}
{"msg":"Hi!,\nI follow more resource found in Internet on chaincode as external builder, but I get a error when try to install the chaincode: Unknown chaincodeType: EXTERNAL.\nHave you any idea for the causa of this error?\nI set correctly core.yaml in cli container with the buildpack provided by fabric-samples\nPlease Help me!","username":"lupass93","ts":"2020-12-29T23:41:27.515Z"}
{"msg":"Has joined the channel.","username":"rahulkundani","ts":"2020-12-31T11:49:21.952Z","type":"uj"}
{"msg":"Hi all\n\nI am newbie here I want to setup a production grade HLF, I have tried the test networks but I am having no knowledge about the production network can someone guide me to achieve my goal\n\nThanks","username":"rahulkundani","ts":"2020-12-31T11:49:22.920Z"}
{"msg":"Has joined the channel.","username":"Sandyzhanghs","ts":"2021-01-10T05:02:00.051Z","type":"uj"}
{"msg":"Hi all !!! \nI am using fabric external chaincode with version 2.2.1 \nNetwork is working fine \nBut while invoking chaincode facing this error \n\n2021-01-10 15:01:42.532 UTC [endorser] SimulateProposal -> ERRO 0a0 failed to invoke chaincode samplecc, error: fork/exec /etc/hyperledger/fabric/chaincode-buildpack/bin/run: no such file or directory\nbuilder 'chaincode-buildpack' run failed to start\n\nI have done this setup before without run script and it was working\nI've tried putting run script at given path and restarted peer still having same issue\n\nAny help will be appreciated","username":"HansrajRami","ts":"2021-01-10T17:15:45.386Z"}
{"msg":"Anyone running Hyperledger Fabric on Azure Kubernetes (latest version 1.18.10+) and facing any issues? I have raised a bug here (https://jira.hyperledger.org/projects/FAB/issues/FAB-18396?filter=allopenissues). Microsoft said its something to do with Kernal","username":"ygnr","ts":"2021-01-12T22:31:54.535Z"}
{"msg":"Have someone upgraded a Fabric@1.4.x production kubernetes network to a Fabric@2.x, if so what would be the steps ?","username":"gentios","ts":"2021-01-18T21:00:20.039Z"}
{"msg":"Has joined the channel.","username":"awa","ts":"2021-01-31T17:01:21.300Z","type":"uj"}
{"msg":"Has joined the channel.","username":"adityajoshi12","ts":"2021-02-01T04:56:48.008Z","type":"uj"}
{"msg":"Has joined the channel.","username":"BlockCrasher","ts":"2021-02-01T05:51:55.383Z","type":"uj"}
{"msg":"Hey Folks, I have one doubt related to the deployment of my fabric network on kubernetes. I am planning to deploy my peers as statefulsets with 1 replica and in the near future i would be scaling them to 3 . I want to how the data replication between these statefulsets will happen and will scaling up work as they will not be in sync.","username":"adityajoshi12","ts":"2021-02-03T10:41:08.371Z"}
{"msg":"Has joined the channel.","username":"Unicow","ts":"2021-02-03T14:14:41.258Z","type":"uj"}
{"msg":"Hi everyone,","username":"Unicow","ts":"2021-02-04T13:48:33.077Z"}
{"msg":"Hi everyone,\n\nI am trying to deploy HLF 2.2 on Kuberentes as part of a research project, but I have some issues with the configurations.\n\nI started converting the docker-compose files from the test-network into k8s deployments, but there are a lot of configurations to create channels,join peers, not to mention installing CC plus pod to pod communication that has to be done makes things even more difficult.\n Are there any configuration files or a guide how to do that? \n\nI have already read about this article: https://kctheservant.medium.com/test-network-script-walk-through-95ca973bc676\nbut unfortunately it runs with errors on my machine after following the instructions at the point of starting the orderers:\n\ne.g. `Hyperledger fabric:TLS handshake failed with error remote error: tls: bad certificate server=Orderer remoteaddress`\n\n\nAny help/hint is highly appreciated! \n\nThanks!","username":"Unicow","ts":"2021-02-04T13:54:30.462Z"}
{"msg":"Hi everyone,\n\nI am trying to deploy HLF 2.2 on Kuberentes as part of a research project, but I have some issues with the configurations.\n\nI started converting the docker-compose files from the test-network into k8s deployments, but there are a lot of configurations to create channels,join peers, not to mention installing CC plus pod to pod communication that has to be done makes things even more difficult.\n Are there any configuration files or a guide how to do that? \n\nI have already read about this article: https://medium.com/swlh/how-to-implement-hyperledger-fabric-external-chaincodes-within-a-kubernetes-cluster-fd01d7544523\nbut unfortunately it runs with errors on my machine after following the instructions at the point of starting the orderers:\n\ne.g. `Hyperledger fabric:TLS handshake failed with error remote error: tls: bad certificate server=Orderer remoteaddress`\n\n\nAny help/hint is highly appreciated! \n\nThanks!","username":"Unicow","ts":"2021-02-04T13:54:30.462Z"}
{"msg":"Has joined the channel.","username":"AshutoshKumar7","ts":"2021-02-11T07:03:50.750Z","type":"uj"}
{"msg":"Please recommend approach / tool for deploying fabric on kubernetes - multiple clusters","username":"AshutoshKumar7","ts":"2021-02-11T07:05:32.731Z"}
{"msg":"Has joined the channel.","username":"vitorduarte","ts":"2021-02-19T12:44:39.878Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kartheekgottipati","ts":"2021-02-27T07:49:12.598Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Chem","ts":"2021-03-04T11:26:16.638Z","type":"uj"}
{"msg":"Hello, I would like to deploy fabric ca server on Google Kubernetes Engine and the `fabric-ca-server-config.yaml` requires the `csr.hosts`. How can I get the hostname of the pod running in k8s cluster in order to put the hostname in the file?\n```\ncsr:\n   cn: fabric-ca-server\n   keyrequest:\n     algo: ecdsa\n     size: 256\n   names:\n      - C: US\n        ST: \"North Carolina\"\n        L:\n        O: Hyperledger\n        OU: Fabric\n   hosts:\n     - localhost\n```","username":"Unicow","ts":"2021-03-07T22:01:01.596Z"}
{"msg":"Has joined the channel.","username":"ymo 7","ts":"2021-03-19T18:41:43.546Z","type":"uj"}
{"msg":"Anyone can recommend a fabric on k8s install of 2.3 ?","username":"ymo 7","ts":"2021-03-19T18:42:15.129Z"}
{"msg":"How to migrate data from IBM blockchain to other hyperledger fabric cloud? Please see question on stackoverflow https://stackoverflow.com/questions/66796313/how-to-migrate-data-from-ibm-blockchain-to-other-hyperledger-fabric-cloud","username":"AbhijeetSamanta","ts":"2021-03-26T05:07:21.163Z"}
{"msg":"Has joined the channel.","username":"agustincharry","ts":"2021-04-06T15:44:42.508Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lukeledet","ts":"2021-04-08T19:59:43.453Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=E3HYbDtNfNFD8AphP) I have a tutorial video on YouTube on how to do this here: https://youtu.be/PbMxqH6bNB8","username":"cmgabriel","ts":"2021-04-23T23:34:24.866Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=E3HYbDtNfNFD8AphP","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=E3HYbDtNfNFD8AphP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mgNojYghE5ka2Mvye) I have done this and it works great.  You will need to use the new peer chaincode lifecycle, and the new osnadmin commands.  You do not need a system channel either.","username":"cmgabriel","ts":"2021-04-23T23:36:04.822Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mgNojYghE5ka2Mvye","url":"https://chat.hyperledger.org/channel/fabric-kubernetes?msg=mgNojYghE5ka2Mvye","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi All,\n\nI am trying to setup a fabric network (v2.3.1) in AWS EKS environment using chaincode as an external service but getting below error message after running the `peer lifecycle chaincode install` command:\nError:\n```\nError: chaincode install failed with status: 500 - failed to invoke backing implementation of 'InstallChaincode': could not build chaincode: docker build failed: docker image inspection failed: Get \"http://unix.sock/images/dev-peer0-org1-mycc -4e09ca97183ec70be708a4db7bf87295adf37c86f5d991ad82024a27f5df8d80-4794d06c41d224a533fdc93cfa93ed46abc5c4e679d0a803ad908a7e62ddfe54/json\": dial unix /var/run/docker.sock: connect: no such file or directory\n```\n\nAs per https://lists.hyperledger.org/g/fabric/topic/77402508?p=Created,,,20,2,0,0::recentpostdate%2Fsticky,,,20,2,0,77402508, it seems this error is because of some update by Docker desktop and it can be resolved by switching off the gRPC FUSE settings, but not able to figure out what needs to be done in case of managed kubernetes cluster (v1.19 EKS). Can anyone suggest how we can fix this error ?","username":"HLFPOC","ts":"2021-04-29T17:06:50.292Z"}
{"msg":"You folks know what you need to do to get a peer cli running on your machine talking to an orderer/peer running in k8s via kubectl port forward when tls is on ? do i have to do anything special ? i am getting disconnection. and i see my localhost is listed in the logs of the peer but then the connection gets dropped","username":"ymo 7","ts":"2021-04-30T20:32:16.652Z"}
{"msg":"This happened with me as well few times\nOne reason can be that your build packs not having execute permission\n\nAnd other that chaincode package in not packaged correctly so peer will assume that it normal chaincode build\n\nBecause if any of the configs doesn't match peer start building it as normal docker build","username":"HansrajRami","ts":"2021-05-02T19:00:10.408Z"}
{"msg":"I am running Hyperledger fabric network on Kubernetes with ClusterIP services\nCan anyone suggest how to use ingress with peer and orderer to access them outside of cluster?","username":"HansrajRami","ts":"2021-05-02T19:08:28.037Z"}
{"msg":"Has joined the channel.","username":"ingjhon","ts":"2021-05-14T18:28:13.892Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sj1 4","ts":"2021-05-30T15:21:47.326Z","type":"uj"}
{"msg":"Hi all, are there any up-to-date helm charts to install hyperledger fabric on k8s?","username":"Unicow","ts":"2021-06-07T13:37:04.709Z"}
{"msg":"Hi all,\n\nI am trying to configure HLF to run on k8s. I have my orderer deployment but when I start the pod I get the following error:\n```panic: unable to bootstrap orderer. Error reading genesis block file: read /var/hyperledger/orderer/orderer.genesis.block: is a directory```\nAny idea what could be wrong?\nHere is my orderer deployment:\n\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  selector:\n    matchLabels:\n      app: orderer1\n  replicas: 1\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: orderer1\n    spec:\n      containers:\n        - args:\n          - sh\n          - -c\n          - orderer\n          env:\n            - name: FABRIC_LOGGING_SPEC\n              value: \"INFO\"\n            - name: ORDERER_GENERAL_LISTENADDRESS\n              value: 0.0.0.0\n            - name: ORDERER_OPERATIONS_LISTENADDRESS\n              value: 0.0.0.0:8443\n            - name: ORDERER_GENERAL_GENESISMETHOD\n              value: file\n            - name: ORDERER_GENERAL_GENESISFILE\n              value: /var/hyperledger/orderer/orderer.genesis.block\n            - name: ORDERER_GENERAL_LOCALMSPID\n              value: OrdererMSP\n            - name: ORDERER_GENERAL_LOCALMSPDIR\n              value: /var/hyperledger/orderer/msp\n            # enabled TLS\n            - name: ORDERER_GENERAL_TLS_ENABLED\n              value: \"true\"\n            - name: ORDERER_GENERAL_TLS_PRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key\n            - name: ORDERER_GENERAL_TLS_CERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt\n            - name: ORDERER_GENERAL_TLS_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n            - name: ORDERER_KAFKA_TOPIC_REPLICATIONFACTOR\n              value: \"1\"\n            - name: ORDERER_KAFKA_VERBOSE\n              value: \"true\"\n            - name: ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt  \n            - name: ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key                   \n            - name: ORDERER_GENERAL_CLUSTER_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n          workingDir: /opt/gopath/src/github.com/hyperledger/fabric\n          image: hyperledger/fabric-orderer:2.3\n          name: orderer1\n          ports:\n            - containerPort: 7050\n            - containerPort: 8443\n          volumeMounts:        \n            - name: config-genesis \n              mountPath: /var/hyperledger/orderer/orderer.genesis.block              \n            - name: config-msp\n              mountPath: /var/hyperledger/orderer/msp\n            - name: config-tls\n              mountPath: /var/hyperledger/orderer/tls                            \n            - name: config-keystore\n              mountPath: /var/hyperledger/orderer/msp/keystore/\n            - name: config-tlscacerts\n              mountPath: /var/hyperledger/orderer/tlscacerts\n            - name: config-cacerts\n              mountPath: /var/hyperledger/orderer/msp/cacerts/\n            - name: config-signcerts\n              mountPath: /var/hyperledger/orderer/msp/signcerts/\n            \n      restartPolicy: Always\n\n      volumes:\n        - name: config-genesis\n          configMap:\n            name: genesis       \n        - name: config-msp\n          configMap:\n            name: config-msp\n        - name: config-tls\n          configMap:\n            name: config-tls\n        - name: config-keystore\n          configMap:\n            name: config-keystore\n        - name: config-tlscacerts\n          configMap:\n            name: config-tlscacerts\n        - name: config-cacerts\n          configMap:\n            name: config-cacerts\n        - name: config-signcerts\n          configMap:\n            name: config-signcerts\n\n---\n\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  type: NodePort\n  selector:\n    app: orderer1\n  ports:\n    - protocol: TCP\n      port: 30004\n      nodePort: 30004\n      targetPort: 7050\n```","username":"Unicow","ts":"2021-06-10T09:47:06.267Z"}
{"msg":"Hi all,\n\nI am trying to configure HLF to run on k8s. I have my orderer deployment but when I start the pod I get the following error:\n`panic: unable to bootstrap orderer. Error reading genesis block file: read /var/hyperledger/orderer/orderer.genesis.block: is a directory`\n\nAny idea what could be wrong?\nHere is my orderer deployment:\n\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  selector:\n    matchLabels:\n      app: orderer1\n  replicas: 1\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: orderer1\n    spec:\n      containers:\n        - args:\n          - sh\n          - -c\n          - orderer\n          env:\n            - name: FABRIC_LOGGING_SPEC\n              value: \"INFO\"\n            - name: ORDERER_GENERAL_LISTENADDRESS\n              value: 0.0.0.0\n            - name: ORDERER_OPERATIONS_LISTENADDRESS\n              value: 0.0.0.0:8443\n            - name: ORDERER_GENERAL_GENESISMETHOD\n              value: file\n            - name: ORDERER_GENERAL_GENESISFILE\n              value: /var/hyperledger/orderer/orderer.genesis.block\n            - name: ORDERER_GENERAL_LOCALMSPID\n              value: OrdererMSP\n            - name: ORDERER_GENERAL_LOCALMSPDIR\n              value: /var/hyperledger/orderer/msp\n            # enabled TLS\n            - name: ORDERER_GENERAL_TLS_ENABLED\n              value: \"true\"\n            - name: ORDERER_GENERAL_TLS_PRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key\n            - name: ORDERER_GENERAL_TLS_CERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt\n            - name: ORDERER_GENERAL_TLS_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n            - name: ORDERER_KAFKA_TOPIC_REPLICATIONFACTOR\n              value: \"1\"\n            - name: ORDERER_KAFKA_VERBOSE\n              value: \"true\"\n            - name: ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt  \n            - name: ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key                   \n            - name: ORDERER_GENERAL_CLUSTER_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n          workingDir: /opt/gopath/src/github.com/hyperledger/fabric\n          image: hyperledger/fabric-orderer:2.3\n          name: orderer1\n          ports:\n            - containerPort: 7050\n            - containerPort: 8443\n          volumeMounts:        \n            - name: config-genesis \n              mountPath: /var/hyperledger/orderer/orderer.genesis.block              \n            - name: config-msp\n              mountPath: /var/hyperledger/orderer/msp\n            - name: config-tls\n              mountPath: /var/hyperledger/orderer/tls                            \n            - name: config-keystore\n              mountPath: /var/hyperledger/orderer/msp/keystore/\n            - name: config-tlscacerts\n              mountPath: /var/hyperledger/orderer/tlscacerts\n            - name: config-cacerts\n              mountPath: /var/hyperledger/orderer/msp/cacerts/\n            - name: config-signcerts\n              mountPath: /var/hyperledger/orderer/msp/signcerts/\n            \n      restartPolicy: Always\n\n      volumes:\n        - name: config-genesis\n          configMap:\n            name: genesis       \n        - name: config-msp\n          configMap:\n            name: config-msp\n        - name: config-tls\n          configMap:\n            name: config-tls\n        - name: config-keystore\n          configMap:\n            name: config-keystore\n        - name: config-tlscacerts\n          configMap:\n            name: config-tlscacerts\n        - name: config-cacerts\n          configMap:\n            name: config-cacerts\n        - name: config-signcerts\n          configMap:\n            name: config-signcerts\n\n---\n\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  type: NodePort\n  selector:\n    app: orderer1\n  ports:\n    - protocol: TCP\n      port: 30004\n      nodePort: 30004\n      targetPort: 7050","username":"Unicow","ts":"2021-06-10T09:47:06.267Z"}
{"msg":"Hi all,\n\nI am trying to configure HLF to run on k8s. I have my orderer deployment but when I start the pod I get the following error:\n`panic: unable to bootstrap orderer. Error reading genesis block file: read /var/hyperledger/orderer/orderer.genesis.block: is a directory`\n\nAny idea what could be wrong?\nHere is my orderer deployment:\n\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  selector:\n    matchLabels:\n      app: orderer1\n  replicas: 1\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: orderer1\n    spec:\n      containers:\n        - args:\n          - sh\n          - -c\n          - orderer\n          env:\n            - name: FABRIC_LOGGING_SPEC\n              value: \"INFO\"\n            - name: ORDERER_GENERAL_LISTENADDRESS\n              value: 0.0.0.0\n            - name: ORDERER_OPERATIONS_LISTENADDRESS\n              value: 0.0.0.0:8443\n            - name: ORDERER_GENERAL_GENESISMETHOD\n              value: file\n            - name: ORDERER_GENERAL_GENESISFILE\n              value: /var/hyperledger/orderer/orderer.genesis.block\n            - name: ORDERER_GENERAL_LOCALMSPID\n              value: OrdererMSP\n            - name: ORDERER_GENERAL_LOCALMSPDIR\n              value: /var/hyperledger/orderer/msp\n            # enabled TLS\n            - name: ORDERER_GENERAL_TLS_ENABLED\n              value: \"true\"\n            - name: ORDERER_GENERAL_TLS_PRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key\n            - name: ORDERER_GENERAL_TLS_CERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt\n            - name: ORDERER_GENERAL_TLS_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n            - name: ORDERER_KAFKA_TOPIC_REPLICATIONFACTOR\n              value: \"1\"\n            - name: ORDERER_KAFKA_VERBOSE\n              value: \"true\"\n            - name: ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt  \n            - name: ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key                   \n            - name: ORDERER_GENERAL_CLUSTER_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n          workingDir: /opt/gopath/src/github.com/hyperledger/fabric\n          image: hyperledger/fabric-orderer:2.3\n          name: orderer1\n          ports:\n            - containerPort: 7050\n            - containerPort: 8443\n          volumeMounts:        \n            - name: config-genesis \n              mountPath: /var/hyperledger/orderer/orderer.genesis.block              \n            - name: config-msp\n              mountPath: /var/hyperledger/orderer/msp\n            - name: config-tls\n              mountPath: /var/hyperledger/orderer/tls                            \n            - name: config-keystore\n              mountPath: /var/hyperledger/orderer/msp/keystore/\n            - name: config-tlscacerts\n              mountPath: /var/hyperledger/orderer/tlscacerts\n            - name: config-cacerts\n              mountPath: /var/hyperledger/orderer/msp/cacerts/\n            - name: config-signcerts\n              mountPath: /var/hyperledger/orderer/msp/signcerts/\n            \n      restartPolicy: Always\n\n      volumes:\n        - name: config-genesis\n          configMap:\n            name: genesis       \n        - name: config-msp\n          configMap:\n            name: config-msp\n        - name: config-tls\n          configMap:\n            name: config-tls\n        - name: config-keystore\n          configMap:\n            name: config-keystore\n        - name: config-tlscacerts\n          configMap:\n            name: config-tlscacerts\n        - name: config-cacerts\n          configMap:\n            name: config-cacerts\n        - name: config-signcerts\n          configMap:\n            name: config-signcerts\n\n---\n\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  type: NodePort\n  selector:\n    app: orderer1\n  ports:\n    - protocol: TCP\n      port: 30004\n      nodePort: 30004\n      targetPort: 7050\n```","username":"Unicow","ts":"2021-06-10T09:47:06.267Z"}
{"msg":"Hi all,\n\nI am trying to configure HLF to run on k8s. I have my orderer deployment but when I start the pod I get the following error:\n`panic: unable to bootstrap orderer. Error reading genesis block file: read /var/hyperledger/orderer/orderer.genesis.block: is a directory`\n\nAny idea what could be wrong?\nHere is my orderer deployment:\n\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  selector:\n    matchLabels:\n      app: orderer1\n  replicas: 1\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: orderer1\n    spec:\n      containers:\n        - args:\n          - sh\n          - -c\n          - orderer\n          env:\n            - name: FABRIC_LOGGING_SPEC\n              value: \"INFO\"\n            - name: ORDERER_GENERAL_LISTENADDRESS\n              value: 0.0.0.0\n            - name: ORDERER_OPERATIONS_LISTENADDRESS\n              value: 0.0.0.0:8443\n            - name: ORDERER_GENERAL_GENESISMETHOD\n              value: file\n            - name: ORDERER_GENERAL_GENESISFILE\n              value: /var/hyperledger/orderer/orderer.genesis.block\n            - name: ORDERER_GENERAL_LOCALMSPID\n              value: OrdererMSP\n            - name: ORDERER_GENERAL_LOCALMSPDIR\n              value: /var/hyperledger/orderer/msp\n            # enabled TLS\n            - name: ORDERER_GENERAL_TLS_ENABLED\n              value: \"true\"\n            - name: ORDERER_GENERAL_TLS_PRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key\n            - name: ORDERER_GENERAL_TLS_CERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt\n            - name: ORDERER_GENERAL_TLS_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n            - name: ORDERER_KAFKA_TOPIC_REPLICATIONFACTOR\n              value: \"1\"\n            - name: ORDERER_KAFKA_VERBOSE\n              value: \"true\"\n            - name: ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt  \n            - name: ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key                   \n            - name: ORDERER_GENERAL_CLUSTER_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n          workingDir: /opt/gopath/src/github.com/hyperledger/fabric\n          image: hyperledger/fabric-orderer:2.3\n          name: orderer1\n          ports:\n            - containerPort: 7050\n            - containerPort: 8443\n          volumeMounts:        \n            - name: config-genesis \n              mountPath: /var/hyperledger/orderer/orderer.genesis.block              \n            - name: config-msp\n              mountPath: /var/hyperledger/orderer/msp\n            - name: config-tls\n              mountPath: /var/hyperledger/orderer/tls                            \n            - name: config-keystore\n              mountPath: /var/hyperledger/orderer/msp/keystore/\n            - name: config-tlscacerts\n              mountPath: /var/hyperledger/orderer/tlscacerts\n            - name: config-cacerts\n              mountPath: /var/hyperledger/orderer/msp/cacerts/\n            - name: config-signcerts\n              mountPath: /var/hyperledger/orderer/msp/signcerts/\n            \n      restartPolicy: Always\n\n      volumes:\n        - name: config-genesis\n          configMap:\n            name: genesis       \n        - name: config-msp\n          configMap:\n            name: config-msp\n        - name: config-tls\n          configMap:\n            name: config-tls\n        - name: config-keystore\n          configMap:\n            name: config-keystore\n        - name: config-tlscacerts\n          configMap:\n            name: config-tlscacerts\n        - name: config-cacerts\n          configMap:\n            name: config-cacerts\n        - name: config-signcerts\n          configMap:\n            name: config-signcerts\n\n---\n\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  type: NodePort\n  selector:\n    app: orderer1\n  ports:\n    - protocol: TCP\n      port: 30004\n      nodePort: 30004\n      targetPort: 7050\n```\n\nAnd I create a genesis.block with configmap:\n```\nkubectl create configmap genesis --from-file=artifacts/genesis.block --namespace hyperledger\n```","username":"Unicow","ts":"2021-06-10T09:47:06.267Z"}
{"msg":"Hi all,\n\nI am trying to configure HLF to run on k8s. I have my orderer deployment but when I start the pod I get the following error:\n`panic: unable to bootstrap orderer. Error reading genesis block file: read /var/hyperledger/orderer/orderer.genesis.block: is a directory`\n\nAny idea what could be wrong?\nHere is my orderer deployment:\n\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  selector:\n    matchLabels:\n      app: orderer1\n  replicas: 1\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: orderer1\n    spec:\n      containers:\n        - args:\n          - sh\n          - -c\n          - orderer\n          env:\n            - name: FABRIC_LOGGING_SPEC\n              value: \"INFO\"\n            - name: ORDERER_GENERAL_LISTENADDRESS\n              value: 0.0.0.0\n            - name: ORDERER_OPERATIONS_LISTENADDRESS\n              value: 0.0.0.0:8443\n            - name: ORDERER_GENERAL_GENESISMETHOD\n              value: file\n            - name: ORDERER_GENERAL_GENESISFILE\n              value: /var/hyperledger/orderer/orderer.genesis.block\n            - name: ORDERER_GENERAL_LOCALMSPID\n              value: OrdererMSP\n            - name: ORDERER_GENERAL_LOCALMSPDIR\n              value: /var/hyperledger/orderer/msp\n            # enabled TLS\n            - name: ORDERER_GENERAL_TLS_ENABLED\n              value: \"true\"\n            - name: ORDERER_GENERAL_TLS_PRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key\n            - name: ORDERER_GENERAL_TLS_CERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt\n            - name: ORDERER_GENERAL_TLS_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n            - name: ORDERER_KAFKA_TOPIC_REPLICATIONFACTOR\n              value: \"1\"\n            - name: ORDERER_KAFKA_VERBOSE\n              value: \"true\"\n            - name: ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt  \n            - name: ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key                   \n            - name: ORDERER_GENERAL_CLUSTER_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n          workingDir: /opt/gopath/src/github.com/hyperledger/fabric\n          image: hyperledger/fabric-orderer:2.3\n          name: orderer1\n          ports:\n            - containerPort: 7050\n            - containerPort: 8443\n          volumeMounts:        \n            - name: config-genesis \n              mountPath: /var/hyperledger/orderer/orderer.genesis.block              \n            - name: config-msp\n              mountPath: /var/hyperledger/orderer/msp\n            - name: config-tls\n              mountPath: /var/hyperledger/orderer/tls                            \n            - name: config-keystore\n              mountPath: /var/hyperledger/orderer/msp/keystore/\n            - name: config-tlscacerts\n              mountPath: /var/hyperledger/orderer/tlscacerts\n            - name: config-cacerts\n              mountPath: /var/hyperledger/orderer/msp/cacerts/\n            - name: config-signcerts\n              mountPath: /var/hyperledger/orderer/msp/signcerts/\n            \n      restartPolicy: Always\n\n      volumes:\n        - name: config-genesis\n          configMap:\n            name: genesis       \n        - name: config-msp\n          configMap:\n            name: config-msp\n        - name: config-tls\n          configMap:\n            name: config-tls\n        - name: config-keystore\n          configMap:\n            name: config-keystore\n        - name: config-tlscacerts\n          configMap:\n            name: config-tlscacerts\n        - name: config-cacerts\n          configMap:\n            name: config-cacerts\n        - name: config-signcerts\n          configMap:\n            name: config-signcerts\n\n---\n\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  type: NodePort\n  selector:\n    app: orderer1\n  ports:\n    - protocol: TCP\n      port: 30004\n      nodePort: 30004\n      targetPort: 7050\n```\n\nAnd I create a configmap for the genesis.block:\n```\nkubectl create configmap genesis --from-file=artifacts/genesis.block --namespace hyperledger\n```","username":"Unicow","ts":"2021-06-10T09:47:06.267Z"}
{"msg":"Hi all,\n\nI am trying to configure HLF to run on k8s. I have my orderer deployment but when I start the pod I get the following error:\n`panic: unable to bootstrap orderer. Error reading genesis block file: read /var/hyperledger/orderer/orderer.genesis.block: is a directory`\n\nAny idea what could be wrong?\nHere is my orderer deployment:\n\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  selector:\n    matchLabels:\n      app: orderer1\n  replicas: 1\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: orderer1\n    spec:\n      containers:\n        - args:\n          - sh\n          - -c\n          - orderer\n          env:\n            - name: FABRIC_LOGGING_SPEC\n              value: \"INFO\"\n            - name: ORDERER_GENERAL_LISTENADDRESS\n              value: 0.0.0.0\n            - name: ORDERER_OPERATIONS_LISTENADDRESS\n              value: 0.0.0.0:8443\n            - name: ORDERER_GENERAL_GENESISMETHOD\n              value: file\n            - name: ORDERER_GENERAL_GENESISFILE\n              value: /var/hyperledger/orderer/orderer.genesis.block\n            - name: ORDERER_GENERAL_LOCALMSPID\n              value: OrdererMSP\n            - name: ORDERER_GENERAL_LOCALMSPDIR\n              value: /var/hyperledger/orderer/msp\n            # enabled TLS\n            - name: ORDERER_GENERAL_TLS_ENABLED\n              value: \"true\"\n            - name: ORDERER_GENERAL_TLS_PRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key\n            - name: ORDERER_GENERAL_TLS_CERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt\n            - name: ORDERER_GENERAL_TLS_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n            - name: ORDERER_KAFKA_TOPIC_REPLICATIONFACTOR\n              value: \"1\"\n            - name: ORDERER_KAFKA_VERBOSE\n              value: \"true\"\n            - name: ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE\n              value: /var/hyperledger/orderer/tls/server.crt  \n            - name: ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY\n              value: /var/hyperledger/orderer/tls/server.key                   \n            - name: ORDERER_GENERAL_CLUSTER_ROOTCAS\n              value: \"[/var/hyperledger/orderer/tls/ca.crt]\"\n          workingDir: /opt/gopath/src/github.com/hyperledger/fabric\n          image: hyperledger/fabric-orderer:2.3\n          name: orderer1\n          ports:\n            - containerPort: 7050\n            - containerPort: 8443\n          volumeMounts:        \n            - name: config-genesis \n              mountPath: /var/hyperledger/orderer/orderer.genesis.block              \n            - name: config-msp\n              mountPath: /var/hyperledger/orderer/msp\n            - name: config-tls\n              mountPath: /var/hyperledger/orderer/tls                            \n            - name: config-keystore\n              mountPath: /var/hyperledger/orderer/msp/keystore/\n            - name: config-tlscacerts\n              mountPath: /var/hyperledger/orderer/tlscacerts\n            - name: config-cacerts\n              mountPath: /var/hyperledger/orderer/msp/cacerts/\n            - name: config-signcerts\n              mountPath: /var/hyperledger/orderer/msp/signcerts/\n            \n      restartPolicy: Always\n\n      volumes:\n        - name: config-genesis\n          configMap:\n            name: genesis       \n        - name: config-msp\n          configMap:\n            name: config-msp\n        - name: config-tls\n          configMap:\n            name: config-tls\n        - name: config-keystore\n          configMap:\n            name: config-keystore\n        - name: config-tlscacerts\n          configMap:\n            name: config-tlscacerts\n        - name: config-cacerts\n          configMap:\n            name: config-cacerts\n        - name: config-signcerts\n          configMap:\n            name: config-signcerts\n\n---\n\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: orderer1\n  namespace: hyperledger\nspec:\n  type: NodePort\n  selector:\n    app: orderer1\n  ports:\n    - protocol: TCP\n      port: 30004\n      nodePort: 30004\n      targetPort: 7050\n```\n\nAnd I create a configmap for the genesis.block:\n```\nkubectl create configmap genesis --from-file=artifacts/genesis.block --namespace hyperledger\n```\n\nUpdate\nThese are the contents of the `/var/hyperledger/orderer/` directory inside the pod:\n```\ndrwxrwxrwx    6 root     root          4096 Jun 10 10:06 msp\ndrwxrwxrwx    3 root     root          4096 Jun 10 10:06 orderer.genesis.block\ndrwxrwxrwx    3 root     root          4096 Jun 10 10:06 tls\ndrwxrwxrwx    3 root     root          4096 Jun 10 10:06 tlscacerts\n```\nAnd the genesis.block file is `d`.","username":"Unicow","ts":"2021-06-10T09:47:06.267Z"}
{"msg":"Hello, I'm trying setup k8s with HLF and while creating a channel I get the following error:\n```\nosnadmin channel join --channel-id=$CHANNEL_NAME --config-block ./channel-artifacts/${CHANNEL_NAME}.block -o 192.168.49.2:30004 --ca-file \"$ORDERER_CA\" --client-cert \"$ORDERER_ADMIN_TLS_SIGN_CERT\" --client-key \"$ORDERER_ADMIN_TLS_PRIVATE_KEY\"\nError: Post \"https://192.168.49.2:30004/participation/v1/channels\": x509: cannot validate certificate for 192.168.49.2 because it doesn't contain any IP SANs\n```\n\nCould you please help? The up is my cluster ip for now and 30004 is a nodeport svc that connects with the orderer pod","username":"Unicow","ts":"2021-06-14T08:39:01.685Z"}
{"msg":"Hello, I'm trying setup k8s with HLF and while creating a channel I get the following error:\n```\nosnadmin channel join --channel-id=$CHANNEL_NAME --config-block ./channel-artifacts/${CHANNEL_NAME}.block -o 192.168.49.2:30004 --ca-file \"$ORDERER_CA\" --client-cert \"$ORDERER_ADMIN_TLS_SIGN_CERT\" --client-key \"$ORDERER_ADMIN_TLS_PRIVATE_KEY\"\nError: Post \"https://192.168.49.2:30004/participation/v1/channels\": x509: cannot validate certificate for 192.168.49.2 because it doesn't contain any IP SANs\n```\n\nCould you please help? The IP is my cluster ip and 30004 is a nodeport svc that connects with the orderer pod","username":"Unicow","ts":"2021-06-14T08:39:01.685Z"}
{"msg":"Has joined the channel.","username":"alicia.antony","ts":"2021-06-25T10:21:01.684Z","type":"uj"}
{"msg":"Hi Team, I am Getting error when sumbit transaction on hyperledger fabric 2.x in orderer as rejected by Consenter: channel mainchannel is not serviced by me on orderer however all orderer is running fine\nplease help me someone it","username":"AbhijeetSamanta","ts":"2021-07-28T10:46:12.170Z"}
{"msg":"Has joined the channel.","username":"nkaramolegos","ts":"2021-09-30T11:59:44.108Z","type":"uj"}
{"msg":"Hello, for using hyperledger fabric v2.2.0 with kubernetes where do i start? Is there any ready examples for single node cluster developement?","username":"nkaramolegos","ts":"2021-09-30T11:59:44.865Z"}
{"msg":"Hello, for using hyperledger fabric v2.2.0 with kubernetes where do i start? Is there any ready examples for single node cluster development?","username":"nkaramolegos","ts":"2021-09-30T11:59:44.865Z"}
{"msg":"Has joined the channel.","username":"RocMax","ts":"2021-10-01T23:50:09.603Z","type":"uj"}
{"msg":"I asked this question in #fabric-questions channel but I found that maybe this channel is more appropriate.","username":"roclee","ts":"2021-10-04T06:10:40.298Z"}
{"msg":"Hello everyone.\nI am deploying a fabric network to Kubernetes with external chaincode service. But I met a quite  weird problem.\nI am using the same `detect` `build` and `release` script as [fabric-samples](https://github.com/hyperledger/fabric-samples/tree/main/asset-transfer-basic/chaincode-external/sampleBuilder/bin), and the connection.json is like\n```\n{\n  \"address\": \"chaincode-org1.fabric.svc.cluster.local:3000\",\n  \"dial_timeout\": \"10s\",\n  \"tls_required\": false\n}\n``` \nThe chaincode install works fine but after installing I found that there is a connection.json under `/var/hyperledger/production/externalbuilder/builds/{{chaincodeID}}/release/chaincode/server/` but nothing in the json file. So the chaincode invoke will failed because the peer does not know the url of external chaincode service.\nBut if I manually add the content to the empty connection.json file, the invoking works fine.\n\nI tried to debug the external builder by redirecting stdout to stderr in release script. The script do copy the `connection.json`(not empty) to /tmp/{{chaincodeID}}/release but for some reason it is not correctly copied back to /var/hyperledger/production/....\nAny one has solution for this?\nThanks!","username":"roclee","ts":"2021-10-04T06:10:40.298Z"}
{"msg":"Hello everyone.\nI am deploying a fabric network to Kubernetes with external chaincode service. But I met a quite  weird problem.\nI am using the same `detect` `build` and `release` script as [fabric-samples](https://github.com/hyperledger/fabric-samples/tree/main/asset-transfer-basic/chaincode-external/sampleBuilder/bin), and the connection.json is like\n```\n{\n  \"address\": \"chaincode-org1.fabric.svc.cluster.local:3000\",\n  \"dial_timeout\": \"10s\",\n  \"tls_required\": false\n}\n``` \nThe chaincode install works fine but after installing I found that there is a connection.json under `/var/hyperledger/production/externalbuilder/builds/{{chaincodeID}}/release/chaincode/server/` but nothing in the json file. So the chaincode invoke will failed because the peer does not know the url of external chaincode service.\nBut if I manually add the content to the empty connection.json file, the invoking works fine.\n\nI tried to debug the external builder by redirecting stdout to stderr in release script. The script do copy the `connection.json`(not empty) to /tmp/{{chaincodeID}}/release but for some reason it is not correctly copied back to /var/hyperledger/production/....\nAny one has solution for this?\nThanks!\nI asked this question in #fabric-questions channel but I found that maybe this channel is more appropriate.","username":"roclee","ts":"2021-10-04T06:10:40.298Z"}
{"msg":"Hello everyone.\nI am deploying a fabric network to Kubernetes with external chaincode service. But I met a quite  weird problem.\nI am using the same `detect` `build` and `release` script as [fabric-samples](https://github.com/hyperledger/fabric-samples/tree/main/asset-transfer-basic/chaincode-external/sampleBuilder/bin), and the connection.json is like\n```\n{\n  \"address\": \"chaincode-org1.fabric.svc.cluster.local:3000\",\n  \"dial_timeout\": \"10s\",\n  \"tls_required\": false\n}\n``` \nThe chaincode install works fine but after installing I found that there is a connection.json under `/var/hyperledger/production/externalbuilder/builds/{{chaincodeID}}/release/chaincode/server/` but nothing in the json file. So the chaincode invoke will failed because the peer does not know the url of external chaincode service.\nBut if I manually add the content to the empty connection.json file, the invoking works fine.\n\nI tried to debug the external builder by redirecting stdout to stderr in release script. The script do copy the `connection.json`(not empty) to /tmp/{{chaincodeID}}/release but for some reason it is not correctly copied back to /var/hyperledger/production/....\nAny one has solution for this?\nThanks!\nI asked this question in #fabric-questions channel but I found that maybe this channel is more appropriate.\n\n-----------------------------\nupdate: Tried to use [fabric-ccs-builder](https://github.com/hyperledgendary/fabric-ccs-builder) instead of detect, build, release script and problem solved.","username":"roclee","ts":"2021-10-04T06:10:40.298Z"}
{"msg":"Hello everyone,","username":"awa","ts":"2021-10-14T08:09:07.009Z"}
{"msg":"Hello everyone,\nI asked this in #fabric-questions but it's directly linked to kubernetes:\nhttps://chat.hyperledger.org/channel/fabric-questions?msg=sn4tTkZetZKdsj2fw","username":"awa","ts":"2021-10-14T08:09:07.009Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-questions?msg=sn4tTkZetZKdsj2fw","url":"https://chat.hyperledger.org/channel/fabric-questions?msg=sn4tTkZetZKdsj2fw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Yes check this fabric samples https://github.com/hyperledger/fabric-samples/tree/main/test-network-k8s","username":"knagware9","ts":"2021-10-18T06:05:51.080Z"}
{"msg":"Thank you. I am already in that. It is very good work","username":"nkaramolegos","ts":"2021-10-18T09:35:10.014Z"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:20.085Z","type":"room_changed_topic"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:20.100Z","type":"room_changed_description"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:20.103Z","type":"room_changed_announcement"}
