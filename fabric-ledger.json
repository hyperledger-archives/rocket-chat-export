{"msg":"Technical aspects of the Fabric ledger. ","username":"markparz","ts":"2017-02-02T23:32:10.534Z","type":"room_changed_description"}
{"msg":"Has joined the channel.","username":"donjohnny","ts":"2017-02-02T23:40:31.365Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nickgaski","ts":"2017-02-02T23:48:53.030Z","type":"uj"}
{"msg":"Has joined the channel.","username":"C0rWin","ts":"2017-02-03T00:10:55.052Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dave.enyeart","ts":"2017-02-03T00:26:17.323Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mastersingh24","ts":"2017-02-03T00:50:05.551Z","type":"uj"}
{"msg":"Has joined the channel.","username":"salmanbaset","ts":"2017-02-03T01:19:32.945Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JonathanTan","ts":"2017-02-03T01:52:59.047Z","type":"uj"}
{"msg":"Has joined the channel.","username":"grapebaba","ts":"2017-02-03T02:25:06.618Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tuand","ts":"2017-02-03T02:30:43.706Z","type":"uj"}
{"msg":"Has joined the channel.","username":"timblankers","ts":"2017-02-03T02:42:53.404Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ratnakar","ts":"2017-02-03T02:52:09.068Z","type":"uj"}
{"msg":"Has joined the channel.","username":"didnotgetagoodname","ts":"2017-02-03T03:57:33.111Z","type":"uj"}
{"msg":"Has joined the channel.","username":"frbrkoala","ts":"2017-02-03T07:01:37.600Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nvlasov","ts":"2017-02-03T07:13:17.822Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ryokawajp","ts":"2017-02-03T07:52:47.458Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cca88","ts":"2017-02-03T08:21:23.599Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jdockter","ts":"2017-02-03T11:39:02.196Z","type":"uj"}
{"msg":"Has joined the channel.","username":"silliman","ts":"2017-02-03T13:57:08.399Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gormand","ts":"2017-02-03T14:43:05.719Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kletkeman","ts":"2017-02-03T15:19:54.670Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Nishi","ts":"2017-02-03T18:30:34.354Z","type":"uj"}
{"msg":"Has joined the channel.","username":"fz","ts":"2017-02-03T19:28:02.383Z","type":"uj"}
{"msg":"Has joined the channel.","username":"karkal","ts":"2017-02-03T19:52:43.815Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dividovi2","ts":"2017-02-03T20:25:59.201Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ericmvaughn","ts":"2017-02-03T22:45:18.953Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jiangyaoguo","ts":"2017-02-04T01:33:55.720Z","type":"uj"}
{"msg":"Has joined the channel.","username":"genggjh","ts":"2017-02-04T03:44:25.284Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yacovm","ts":"2017-02-04T04:52:44.995Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bfuentes@fr.ibm.com","ts":"2017-02-04T09:20:16.064Z","type":"uj"}
{"msg":"Has joined the channel.","username":"muralisr","ts":"2017-02-04T14:48:39.444Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sword_linux","ts":"2017-02-04T15:24:18.806Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MadhavaReddy","ts":"2017-02-04T18:13:20.527Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sstone1","ts":"2017-02-04T19:24:53.365Z","type":"uj"}
{"msg":"Has joined the channel.","username":"matanyahu","ts":"2017-02-04T19:28:21.632Z","type":"uj"}
{"msg":"Hi, I was curious if you could redirect me to a detailed description about following topics related to Fabric storage","username":"matanyahu","ts":"2017-02-04T19:29:42.895Z"}
{"msg":"1) interaction between chaincode output and underlying database (how is chaincode output committed to the local ledger as a part of a newly created block)","username":"matanyahu","ts":"2017-02-04T19:30:30.522Z"}
{"msg":"2) how newly committed blocks are added to the local ledger used by a VP before being sent out to other peers as part of consensus protocol","username":"matanyahu","ts":"2017-02-04T19:31:29.103Z"}
{"msg":"3) is there a way I can discover underlying database structure without querying it via a chaincode","username":"matanyahu","ts":"2017-02-04T19:32:13.209Z"}
{"msg":"The reason I am asking is to understand better to what extent a given KV-style DB should be prepared to become blockchain-ready","username":"matanyahu","ts":"2017-02-04T19:33:04.031Z"}
{"msg":"any materials to diagrams showing Fabric DB architecture and interaction would also be greatly apprecaited","username":"matanyahu","ts":"2017-02-04T19:33:34.846Z"}
{"msg":"Has joined the channel.","username":"takemiyamakoto","ts":"2017-02-04T20:56:31.143Z","type":"uj"}
{"msg":"@matanyahu Focus has shifted to v1, I'd recommend you start by reviewing the data architecture charts attached in jira at: https://jira.hyperledger.org/browse/FAB-758","username":"dave.enyeart","ts":"2017-02-04T21:04:08.249Z"}
{"msg":"Starting in v1 there is a state database interface that enables plugging in new KV or document style DBs.  Check out the interface here: https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=core/ledger/kvledger/txmgmt/statedb/statedb.go;h=fe09c82cc164ad6a94692c15d43731d69047eb2d;hb=refs/heads/master","username":"dave.enyeart","ts":"2017-02-04T21:06:40.390Z"}
{"msg":"At the same location you will see a KV impl (leveldb) and a document DB impl (couchdb)","username":"dave.enyeart","ts":"2017-02-04T21:07:37.625Z"}
{"msg":"At the same location you will see a subdirectory for a KV impl (leveldb) and a document DB impl (couchdb)","username":"dave.enyeart","ts":"2017-02-04T21:07:37.625Z"}
{"msg":"thanks for all references","username":"matanyahu","ts":"2017-02-04T22:14:29.646Z"}
{"msg":"Has joined the channel.","username":"guruprasath","ts":"2017-02-05T06:16:28.539Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dayubian","ts":"2017-02-05T10:49:33.712Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rascal-3","ts":"2017-02-05T14:44:29.859Z","type":"uj"}
{"msg":"Has joined the channel.","username":"schwentker2","ts":"2017-02-05T15:48:17.299Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kkpatel","ts":"2017-02-05T18:03:29.247Z","type":"uj"}
{"msg":"Has joined the channel.","username":"openspylin","ts":"2017-02-05T21:44:06.828Z","type":"uj"}
{"msg":"One thing I found odd about the hyperledger/...devenv doc.  It requires logging into the Docker image (not stated/ref.) as one of your options.  Then you can run chaincode commands.  What is an efficient way to transfer from the windows to image VM environment,  Since I want to create my own chaincode programs and test them; any advise?","username":"openspylin","ts":"2017-02-05T21:45:06.359Z"}
{"msg":"Attempting my own setup of Hyperledger on Ubuntu 16.04, I've noticed the chaincode build fails due to a missing package of GO ->\"context\", must this be installed separately after the main GO installation?","username":"openspylin","ts":"2017-02-05T21:45:28.592Z"}
{"msg":"Has joined the channel.","username":"Honglei","ts":"2017-02-05T23:55:05.424Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xixuejia","ts":"2017-02-06T00:58:53.494Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hanhzf","ts":"2017-02-06T03:36:29.199Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bryanhuang","ts":"2017-02-06T04:34:11.170Z","type":"uj"}
{"msg":"Hi All, When i try to run a chain code am getting below error ","username":"MadhavaReddy","ts":"2017-02-06T05:07:24.667Z"}
{"msg":"2017/02/06 05:06:29 setting Number of procs to -1, was 1\n2017/02/06 05:06:29 Failed deploying [%s] open /var/hyperledger/production/crypto/client/jim/ks/raw/eca.cert.chain: no such file or directory\n2017/02/06 05:06:29 Failed initiliazing NVP [%s] open /var/hyperledger/production/crypto/client/jim/ks/raw/eca.cert.chain: no such file or directory\n","username":"MadhavaReddy","ts":"2017-02-06T05:07:26.150Z"}
{"msg":"could you please help me to fix the issue","username":"MadhavaReddy","ts":"2017-02-06T05:07:41.893Z"}
{"msg":"Has joined the channel.","username":"david.peyronnin","ts":"2017-02-06T09:52:37.103Z","type":"uj"}
{"msg":"@dave.enyeart  - https://jira.hyperledger.org/browse/FAB-2045   - I assume this is due to the fact that we don't support \"read your own writes\" anymore?","username":"mastersingh24","ts":"2017-02-06T13:04:24.229Z"}
{"msg":"right, I've commented in the Jira item","username":"dave.enyeart","ts":"2017-02-06T14:22:14.812Z"}
{"msg":"thanks @dave.enyeart .  wanted to make sure that I was not off-base in my response  ;)","username":"mastersingh24","ts":"2017-02-06T14:24:14.434Z"}
{"msg":"right, we'll get that into docs","username":"dave.enyeart","ts":"2017-02-06T14:24:29.673Z"}
{"msg":":+1: thanks for taking a look guys","username":"sstone1","ts":"2017-02-06T14:25:00.237Z"}
{"msg":"Has joined the channel.","username":"harrijk","ts":"2017-02-06T15:14:15.564Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nhrishi","ts":"2017-02-06T15:14:53.011Z","type":"uj"}
{"msg":"Has joined the channel.","username":"klorenz","ts":"2017-02-06T16:06:16.026Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mbwhite","ts":"2017-02-06T16:49:34.002Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yuki-kon","ts":"2017-02-06T16:53:10.046Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pschnap","ts":"2017-02-06T18:54:03.794Z","type":"uj"}
{"msg":"Has joined the channel.","username":"weeds","ts":"2017-02-06T20:25:09.734Z","type":"uj"}
{"msg":"Has joined the channel.","username":"crazybit","ts":"2017-02-07T05:31:16.354Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mbaizan","ts":"2017-02-07T07:44:06.441Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vitaly.ilinykh","ts":"2017-02-07T08:41:22.038Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gatakka","ts":"2017-02-07T09:28:49.118Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Rymd","ts":"2017-02-07T09:30:41.389Z","type":"uj"}
{"msg":"Has joined the channel.","username":"passkit","ts":"2017-02-07T10:16:17.412Z","type":"uj"}
{"msg":"Has joined the channel.","username":"brianeno","ts":"2017-02-07T10:49:51.126Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bart.cant@gmail.com","ts":"2017-02-07T12:13:55.234Z","type":"uj"}
{"msg":"Has joined the channel.","username":"XavierLepretre","ts":"2017-02-07T14:30:47.759Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kenzhang","ts":"2017-02-07T14:41:35.475Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MartinMateev","ts":"2017-02-07T15:09:33.262Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cbf","ts":"2017-02-07T15:14:06.607Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Tetiana","ts":"2017-02-07T15:18:26.675Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mpage","ts":"2017-02-07T15:21:09.425Z","type":"uj"}
{"msg":"Has joined the channel.","username":"umasuthan","ts":"2017-02-07T16:04:29.923Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cyrax","ts":"2017-02-07T16:07:51.380Z","type":"uj"}
{"msg":"Has joined the channel.","username":"troyronda","ts":"2017-02-07T16:32:34.856Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nickmelis","ts":"2017-02-07T17:14:10.710Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rahulhegde","ts":"2017-02-07T20:44:44.803Z","type":"uj"}
{"msg":"Has joined the channel.","username":"beauson45","ts":"2017-02-07T20:58:05.593Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mwall","ts":"2017-02-07T21:16:07.395Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thomasmarckx","ts":"2017-02-07T21:53:18.462Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mgk","ts":"2017-02-07T22:04:23.726Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kongakong","ts":"2017-02-08T01:06:11.935Z","type":"uj"}
{"msg":"Has joined the channel.","username":"patchpon","ts":"2017-02-08T01:16:53.645Z","type":"uj"}
{"msg":"Has joined the channel.","username":"johnm","ts":"2017-02-08T02:09:34.557Z","type":"uj"}
{"msg":"Has joined the channel.","username":"peter","ts":"2017-02-08T02:11:19.384Z","type":"uj"}
{"msg":"Has joined the channel.","username":"haidong","ts":"2017-02-08T04:02:57.646Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vigneswaran.r","ts":"2017-02-08T04:26:00.511Z","type":"uj"}
{"msg":"Has joined the channel.","username":"manish-sethi","ts":"2017-02-08T04:36:19.847Z","type":"uj"}
{"msg":"Has joined the channel.","username":"padmaja","ts":"2017-02-08T07:12:08.899Z","type":"uj"}
{"msg":"Has joined the channel.","username":"niteshsolanki","ts":"2017-02-08T08:56:20.857Z","type":"uj"}
{"msg":"Has joined the channel.","username":"oiakovlev","ts":"2017-02-08T09:06:10.590Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jvsteiner","ts":"2017-02-08T11:01:35.048Z","type":"uj"}
{"msg":"@sstone1, @dave.enyeart, @mastersingh24 - just submitted the CR for fixing the doc. Please have a look - https://gerrit.hyperledger.org/r/#/c/5707/","username":"manish-sethi","ts":"2017-02-08T11:15:56.600Z"}
{"msg":"thx @manish-sethi  - reviewing now","username":"mastersingh24","ts":"2017-02-08T11:25:36.082Z"}
{"msg":"Has joined the channel.","username":"cdutra","ts":"2017-02-08T11:30:34.880Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Percival Lucena","ts":"2017-02-08T11:39:49.668Z","type":"uj"}
{"msg":"@manish-sethi @mastersingh24 there is discussion of re-introducing RYW, let's allow that discussion to play out first","username":"dave.enyeart","ts":"2017-02-08T12:01:41.304Z"}
{"msg":"@manish-sethi @mastersingh24 there is discussion of re-introducing RYW for key-based queries, let's allow that discussion to play out first","username":"dave.enyeart","ts":"2017-02-08T12:01:41.304Z"}
{"msg":"@dave.enyeart  - where's that discussion taking place?","username":"mastersingh24","ts":"2017-02-08T12:18:46.910Z"}
{"msg":"@mastersingh24 Composer team email - Re: FAB-2045 read your own write support ","username":"dave.enyeart","ts":"2017-02-08T13:01:15.229Z"}
{"msg":"got it - we might want to move the discussion here tho  ;)","username":"mastersingh24","ts":"2017-02-08T13:01:49.497Z"}
{"msg":"Has joined the channel.","username":"niteshthakrar","ts":"2017-02-08T14:27:04.801Z","type":"uj"}
{"msg":"Has joined the channel.","username":"frank.felhoffer","ts":"2017-02-08T14:34:02.687Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chris.elder","ts":"2017-02-08T14:34:11.403Z","type":"uj"}
{"msg":"Has joined the channel.","username":"StevenLanders","ts":"2017-02-08T19:15:20.030Z","type":"uj"}
{"msg":"Has joined the channel.","username":"warong","ts":"2017-02-09T02:54:31.654Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xiejunxi","ts":"2017-02-09T03:28:33.106Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bravera","ts":"2017-02-09T10:53:35.694Z","type":"uj"}
{"msg":"Apologies if this is not the right place to ask this question, but given that each channel has its own ledger, how do you ensure the sequence of transactions that affects the state of an asset that is manipulated in different channels is correct? Is there some overall sequencing that is operating across all channels in the network? (not even sure network is the right term here!)","username":"bravera","ts":"2017-02-09T11:01:39.856Z"}
{"msg":"@bravera - I am also interested in this and how one would prove integrity of the ledger (E.g. to an auditor or regulator) in such cases","username":"passkit","ts":"2017-02-09T11:19:19.771Z"}
{"msg":"@bravera @passkit  - everything is scoped at the channel level - so the orderer orders transactions and blocks on a per channel basis.  The peer has an individual file ledger for each channel (the \"hash chain\") and state is scoped per channel as well.   So the record of an \"asset\" will only be in a single channel.","username":"mastersingh24","ts":"2017-02-09T11:33:52.777Z"}
{"msg":"Great - thanks","username":"passkit","ts":"2017-02-09T11:34:24.232Z"}
{"msg":"@mastersingh24 thanks for the response. That surprises me though - if I want to track an asset through a business process where for some transactions I want to have restricted access to the information about the transaction, but elsewhere it is open to a wider group of parties, how do I do that?","username":"bravera","ts":"2017-02-09T11:37:29.276Z"}
{"msg":"Instead of 'elsewhere' I should have said 'for other transactions involving the same asset'","username":"bravera","ts":"2017-02-09T11:38:25.161Z"}
{"msg":"Has joined the channel.","username":"jonreid","ts":"2017-02-09T11:44:49.672Z","type":"uj"}
{"msg":"@bravera - couple of points:\n\n1) I think we can agree that the existence of an asset (as well as any transactions about/for that asset) must be known to all parties who may transfer / modify the asset\n2) This means that the record of the asset MUST only exist in a single ledger (channel)\n3) Not sure what type of access control / visibility you are looking for, but there are a few options:\n- access control for chaincode methods which change certain attributes of the asset\n- perhaps there are only some parties who are allows to update the asset at all - so you could leverage endorsement policies to restrict who is allowed / required to endorse a transaction  (others would just commit it)\n4) We won't likely allow chaincode to invoke chaincode initially across channels, but it would be possible to use this method to have the asset on one channel but have certain transactions details in another channel","username":"mastersingh24","ts":"2017-02-09T11:48:01.770Z"}
{"msg":"Has joined the channel.","username":"Ch3ck","ts":"2017-02-09T12:46:18.882Z","type":"uj"}
{"msg":"@mastersingh24 not sure I agree on 1). In the widely 'car lease' example, the original manufacturer of the car does not need to be party to the sales agreement between a dealer and a leasing company, and any subsequent disposal deals the leasing company makes to sell or scrap the car are of no concern of the dealer. This isn't a brilliant example but in any supply chain you would expect that the transactions involving the tracked asset would have numerous different 'interest groups' for all sorts of reasons, not least business sensitivity. ","username":"bravera","ts":"2017-02-09T13:24:38.742Z"}
{"msg":"I thought this was one of the key reasons for the channel concept","username":"bravera","ts":"2017-02-09T13:24:53.585Z"}
{"msg":"@bravera - there is still only 1 car","username":"mastersingh24","ts":"2017-02-09T13:26:33.731Z"}
{"msg":"you can't have multiple records of the same car","username":"mastersingh24","ts":"2017-02-09T13:26:48.416Z"}
{"msg":"that's the whole point of the blockchain","username":"mastersingh24","ts":"2017-02-09T13:26:56.341Z"}
{"msg":"right - but you need to be able to perform multiple different transactions on that 1 car","username":"bravera","ts":"2017-02-09T13:27:24.101Z"}
{"msg":"sure - but channels were not designed to have multiple representations of the car","username":"mastersingh24","ts":"2017-02-09T13:28:36.609Z"}
{"msg":"now you can have the car on a \"public\" channel.  Now you can do transactions about the car on different channels and then you'd use the output of those as input to change the state on the car in the \"public\" channel.   But you can also use a single channel and do things they way you did them in v0.6 as well","username":"mastersingh24","ts":"2017-02-09T13:30:06.154Z"}
{"msg":"so that tells me that the asset is represented separately in each channel and is logically linked somehow (CC calling CC, or via external application logic)","username":"bravera","ts":"2017-02-09T13:41:08.334Z"}
{"msg":"Has joined the channel.","username":"juslee","ts":"2017-02-09T14:34:28.249Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ruslan.kryukov","ts":"2017-02-09T15:14:01.247Z","type":"uj"}
{"msg":"the record is still on a single channel but you can be clever in your chaincode on other channels in terms of agreeing on changes and then (someday) passing that decision via cc to cc invoke or in the interim using the output of that as the input to a transaction against the asset on the channel where it exists","username":"mastersingh24","ts":"2017-02-09T15:34:24.538Z"}
{"msg":"@binhn and I have talked about renaming the various chaincode Getter APIs, to make it more clear that they are in fact Getters.  Now is our last chance to update API names which we'll have to live with forever after v1. The proposed changes are:","username":"dave.enyeart","ts":"2017-02-09T18:28:45.125Z"}
{"msg":"Has joined the channel.","username":"binhn","ts":"2017-02-09T18:28:45.172Z","type":"uj"}
{"msg":"GetState()\nRangeQueryState() ==> GetByRange()\nPartialCompositeKeyQuery() ==> GetByPartialCompositeKey()  …this one is a more usable api for range queries\nGetQueryResult()   … this one is for the new rich query","username":"dave.enyeart","ts":"2017-02-09T18:28:55.337Z"}
{"msg":"@muralisr @mastersingh24 ^^^^^","username":"dave.enyeart","ts":"2017-02-09T18:32:06.840Z"}
{"msg":"new names seem ok to me","username":"mastersingh24","ts":"2017-02-09T19:10:30.522Z"}
{"msg":"Has joined the channel.","username":"MikeMayori","ts":"2017-02-09T19:44:20.903Z","type":"uj"}
{"msg":"@dave.enyeart `RangeQueryState() ==> GetStateByRange()`  better ? ","username":"muralisr","ts":"2017-02-09T20:20:06.054Z"}
{"msg":"or not ? :-)","username":"muralisr","ts":"2017-02-09T20:20:13.285Z"}
{"msg":"I like it @muralisr , that would leave us with:","username":"dave.enyeart","ts":"2017-02-09T20:42:57.433Z"}
{"msg":"`GetState()`\n`RangeQueryState()` ==> `GetStateByRange()`\n`PartialCompositeKeyQuery()` ==> `GetStateByPartialCompositeKey()`  …this one is a more usable api for range queries\n`GetQueryResult()`   … this one is for the new rich query","username":"dave.enyeart","ts":"2017-02-09T20:43:32.997Z"}
{"msg":"and very soon I'll also be adding:","username":"dave.enyeart","ts":"2017-02-09T20:48:01.406Z"}
{"msg":"`GetHistoryForKey()` ...returns the history of values for a key","username":"dave.enyeart","ts":"2017-02-09T20:48:22.640Z"}
{"msg":"GetHistoryForKey returns the historical values for a key?  ;)","username":"mastersingh24","ts":"2017-02-09T21:01:57.371Z"}
{"msg":"who would have known?","username":"mastersingh24","ts":"2017-02-09T21:02:08.015Z"}
{"msg":"Has joined the channel.","username":"gregnotso","ts":"2017-02-09T21:47:27.019Z","type":"uj"}
{"msg":"@mastersingh24 we finally got one right the first time.","username":"dave.enyeart","ts":"2017-02-09T21:50:44.920Z"}
{"msg":"@dave.enyeart wouldn't `GetHistoryForKey()` ===> `GetHistorybyKey()` give us a more consistent naming?","username":"kenzhang","ts":"2017-02-10T00:34:28.023Z"}
{"msg":"@dave.enyeart wouldn't `GetHistoryForKey()` ===> `GetHistoryByKey()` give us a more consistent naming?","username":"kenzhang","ts":"2017-02-10T00:34:28.023Z"}
{"msg":"In the prior examples 'By' could return multiple keys.  I thought 'For' made it more clear that the history API is for exactly one key.  I'm open to other votes though.","username":"dave.enyeart","ts":"2017-02-10T00:37:33.170Z"}
{"msg":"Has joined the channel.","username":"NIKESHGOGIA","ts":"2017-02-10T07:15:26.076Z","type":"uj"}
{"msg":"Has joined the channel.","username":"anandkarwa13","ts":"2017-02-10T07:23:27.066Z","type":"uj"}
{"msg":"any idea why when querying the keyvaluestore by range, the number of results returned is always capped to 100 maximum? Is there a way to bypass it or configure this limit?","username":"nickmelis","ts":"2017-02-10T14:50:00.097Z"}
{"msg":"Has joined the channel.","username":"Basug","ts":"2017-02-10T17:17:16.036Z","type":"uj"}
{"msg":"Has joined the channel.","username":"UshKrish","ts":"2017-02-10T19:14:23.985Z","type":"uj"}
{"msg":"@fz  I guess that might be related to https://gerrit.hyperledger.org/r/#/c/3593/","username":"xixuejia","ts":"2017-02-11T01:45:04.422Z"}
{"msg":"@dave.enyeart David, could you do a code review for this change set? Added you to the reviewer list","username":"xixuejia","ts":"2017-02-11T01:49:47.146Z"}
{"msg":"Has joined the channel.","username":"surabhi","ts":"2017-02-11T18:00:31.405Z","type":"uj"}
{"msg":"Has joined the channel.","username":"frankylu","ts":"2017-02-12T00:08:55.052Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Shroog AlSaquabi","ts":"2017-02-12T21:53:03.260Z","type":"uj"}
{"msg":"Has joined the channel.","username":"eheads","ts":"2017-02-13T05:56:10.060Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AdnanC","ts":"2017-02-13T15:25:15.262Z","type":"uj"}
{"msg":"Has joined the channel.","username":"s.narayanan","ts":"2017-02-13T15:48:32.351Z","type":"uj"}
{"msg":"@dave.enyeart  - for the APIs which return a block or transaction, do we actually validate the block or transaction prior to returning it?  For example, do we actually check that it is properly linked to the previous block?  and in the case of a transactions, I suppose something similar?","username":"mastersingh24","ts":"2017-02-13T17:21:14.250Z"}
{"msg":"@mastersingh24 No verification per se beyond making sure it deserializes into proto successfully","username":"dave.enyeart","ts":"2017-02-13T17:43:05.477Z"}
{"msg":"hmm - we might want to add a new requirement for that - not saying we need to do it right away, but seems that we should probably check to make sure we are actually returning a valid block  ;)","username":"mastersingh24","ts":"2017-02-13T18:02:56.208Z"}
{"msg":"I think this channel would be more helpful for these specific questions @rahulhegde . @dave.enyeart maybe you can take a look?\nHad couple of questions on the Couch DB Interface looking at the ` fabric / examples/chaincode/go/marbles02/marbles_chaincode.go `\n\n1. Should the composite key created using stub.CreateCompositeKey interface need to be stored on the world state ledger? I see every time a new marble is created a new composite key gets created and stored using stub.PutState.\n\nIf this is must - what is significance of storing? \n\n2. What is the use of calling ` CreateCompositeKey ` whenever a new marble is created, shouldn't the previously created index be re-used?\n\n3. Code documents - to avoid Phantom read use RangeQuery instead of Rich Queries. This means Rich Queries as said must be used only for Read-Only operation?  ","username":"AdnanC","ts":"2017-02-13T23:13:45.653Z"}
{"msg":"I think this channel would be more helpful for these specific questions @rahulhegde. @dave.enyeart maybe you can take a look?\nHad couple of questions on the Couch DB Interface looking at the ` fabric / examples/chaincode/go/marbles02/marbles_chaincode.go `\n\n1. Should the composite key created using stub.CreateCompositeKey interface need to be stored on the world state ledger? I see every time a new marble is created a new composite key gets created and stored using stub.PutState.\n\nIf this is must - what is significance of storing? \n\n2. What is the use of calling ` CreateCompositeKey ` whenever a new marble is created, shouldn't the previously created index be re-used?\n\n3. Code documents - to avoid Phantom read use RangeQuery instead of Rich Queries. This means Rich Queries as said must be used only for Read-Only operation?  ","username":"AdnanC","ts":"2017-02-13T23:13:45.653Z"}
{"msg":"@rahulhegde \nAnswers for 1 and 2:  The composite key of \"color~name\" is only needed if you intend to query based on color. See transferMarblesBasedOnColor() to see how the 'index' is utilized.  There is one entry in state for the marble itself which can be queried by marble \"name\" (single key), and there is one entry in state for the \"color~name\" index which can be queried by \"color~name\" or \"color\" (composite key).  Under the covers, key range queries are utilized to find entries starting with \"color\".\n3: That is correct.  Rich query is only appropriate for use in read-write transactions if the application can ensure stable result set between simulation time and commit time. That is, no marbles inserted/updated/deleted that would impact the result set.  If your application cannot ensure this, then stick with the partial composite key or range query pattern mentioned in #1.\nPlease read all the code comments in marbles02 chaincode for more details.\n","username":"dave.enyeart","ts":"2017-02-13T23:24:50.081Z"}
{"msg":"@dave.enyeart - appreciate the code comments added to the marbles-02 \n\nSo if the user-chain code fails to add composite-key to the state ledger for few marbles then RangeQuery will effectively not work or If the 'color' of the marble changes (not in this application) then we will have to create a new composite-key and also delete the previous one to make the RangeQuery work correctly?\n\nWouldn't it have be advisable the update/delete/insert of this composite-key by the peer and at the time of ledger commit rather at user-chain code space which could be error-prone?\n\nRegarding Point 3 - \nDoes Phantom Read always bother application/user-chaincode using Rich Query? For Example: I may have application which performs a cut-off say on number of bids by changing it's state to accepted (via self-endorsing peer) and there could be more bids added by the time, the same transaction reaches to peer VSCC module. I hope this transaction should ideally be accepted on the Ledger? ","username":"rahulhegde","ts":"2017-02-14T01:17:46.658Z"}
{"msg":"@dave.enyeart - appreciate the code comments added to the marbles-02 \n\nSo if the user-chain code fails to add composite-key to the state ledger for few marbles then RangeQuery will effectively not work or If the 'color' of the marble changes (not in this application) then we will have to create a new composite-key and also delete the previous one to make the RangeQuery work correctly?\n\nWouldn't it have be advisable the update/delete/insert of this composite-key done by the peer and at the time of ledger commit rather at user-chain code space which could be error-prone?\n\nRegarding Point 3 - \nDoes Phantom Read always bother application/user-chaincode using Rich Query? For Example: I may have application which performs a cut-off say on number of bids by changing it's state to accepted (via self-endorsing peer) and there could be more bids added by the time, the same transaction reaches to peer VSCC module. I hope this transaction should ideally be accepted on the Ledger? ","username":"rahulhegde","ts":"2017-02-14T01:17:46.658Z"}
{"msg":"Yes, if 'color' changed, then you would have to 're-index' it (delete the old color~name entry and put the new color~name entry)","username":"dave.enyeart","ts":"2017-02-14T01:20:21.024Z"}
{"msg":"The peer doesn't know what combination of fields your chaincode will want to query on, and therefore the chaincode has to maintain its own records for query.","username":"dave.enyeart","ts":"2017-02-14T01:21:53.303Z"}
{"msg":"Perhaps chaincode generators would be a future idea, to generate the appropriate chaincode based on a template","username":"dave.enyeart","ts":"2017-02-14T01:23:10.801Z"}
{"msg":"On point three, maybe an example will help.  At simulation time your rich query may have returned 5 items and you update state of all five items.  Between simulation time and commit time, there was another transaction in flight that creates an item that would have been the 6th item in the result set.  But the committer doesn't detect this 6th item and only the initial 5 items are updated.  The transaction succeeds, but we have missed one.  This is a phantom.  If the application retries, then the next time it will find the remaining item and update it.   ","username":"dave.enyeart","ts":"2017-02-14T01:27:43.852Z"}
{"msg":"So, either the application has to ensure that no phantoms arrive, or the application has to make multiple attempts to ensure everything is accounted for","username":"dave.enyeart","ts":"2017-02-14T01:28:47.653Z"}
{"msg":"Will your application continuously process, and therefore this is not a concern for you?","username":"dave.enyeart","ts":"2017-02-14T01:31:02.295Z"}
{"msg":"Would be nice to understand your scenario in more detail.  Feel free to ping directly if you prefer.","username":"dave.enyeart","ts":"2017-02-14T01:31:46.993Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=SSq2BX7MHLNEudFJk) @dave.enyeart ","username":"rahulhegde","ts":"2017-02-14T02:14:02.748Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=SSq2BX7MHLNEudFJk","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=SSq2BX7MHLNEudFJk","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=SSq2BX7MHLNEudFJk) @dave.enyeart \nRight - i need to map how can i use it. Sure - I will reach out in case of more detail.\n","username":"rahulhegde","ts":"2017-02-14T02:14:02.748Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=SSq2BX7MHLNEudFJk","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=SSq2BX7MHLNEudFJk","remote":true,"fileId":null,"fileName":null}]}
{"msg":"GetQueryResult - are we planning to add index information to this API, that will provide couchDB endpoint to use the appropriate index during rich query execution.","username":"rahulhegde","ts":"2017-02-14T02:25:43.009Z"}
{"msg":"good idea.  are you planning to contribute that to v1?","username":"dave.enyeart","ts":"2017-02-14T02:31:36.808Z"}
{"msg":"sorry, i read that wrong, i thought you were saying you were planning to add that","username":"dave.enyeart","ts":"2017-02-14T02:33:09.429Z"}
{"msg":"design for index creation and exploitation is still todo","username":"dave.enyeart","ts":"2017-02-14T02:33:40.688Z"}
{"msg":"BTW - we are going to use couch-db as our state ledger.","username":"rahulhegde","ts":"2017-02-14T02:38:07.025Z"}
{"msg":"Have use case which i got as requirement from team \"Record current transactions in a Blockchain as an additional layer, on top of the original database transactions, for Audit and Tracing purposes.\"\n\nwould like hear comments on the design that am going to propose\n\n1) since usecase is only to store transactions in Fabric for audit and tracking purpose, i can write simple chain code for write and query\n\n2) will use table API to store all transactions in table for now its RockDB but later Level DB\n\n3) In the table along with data which i get from application will create couple of column to store block height, hash and timestamp\n\nPlease suggest whether this is the right approach or is there any better design, also please help me on below queries\n\n1) I Can get block height, hash and timestamp only when transaction written into blockchain platform so how would i update these details to corresponding records which already inserted into the table\n2) Do i need to create separate table to maintain block height, hash and timestamp along with transaction id from original transaction \n\nAppreciate your response, right now am using 0.6 Fabric, please suggest whether can use 0.6 for this use case implementation or 1.0","username":"MadhavaReddy","ts":"2017-02-14T04:13:49.357Z"}
{"msg":"Hello, how to view data via CouchDB Web interface? As of now I see the values are hashed. Is there a way to see the transaction data?","username":"surabhi","ts":"2017-02-14T06:40:31.064Z"}
{"msg":"Has joined the channel.","username":"bluebird88","ts":"2017-02-14T10:18:07.072Z","type":"uj"}
{"msg":"@surabhi - If the values are stored as JSON values, use the _utils web interface. Go to 'Run a Query with Mango\" ==> \"Run Query\". This should list down all values.","username":"rahulhegde","ts":"2017-02-14T14:58:10.604Z"}
{"msg":"or else use\n\ncurl -H \"Content-Type:application/json\" -X POST http://<couch-db-hostname>:<port>/<database_name>/_find -d '{ \"selector\" : { \"_id\": { \"$eq\": \"JSON_KEY\" } } } '","username":"rahulhegde","ts":"2017-02-14T14:59:18.331Z"}
{"msg":"or else use\n\ncurl -H \"Content-Type:application/json\" -X POST http://<couch-db-hostname>:<port>/<database_name>/_find -d '{ \"selector\" : { \"_id\": { \"$eq\": \"KEY_STORING_JSON\" } } } '","username":"rahulhegde","ts":"2017-02-14T14:59:18.331Z"}
{"msg":"@dave.enyeart `  design for index creation and exploitation is still todo  `\n\nDo we have list of items that' going to come as part of post- v1.0 Alpha release that will exploit Couch DB functionality (like views)?","username":"rahulhegde","ts":"2017-02-14T15:24:34.720Z"}
{"msg":"First couch release focuses on function.  Next set of items include docker image, security lockdown, performance (including indexes).","username":"dave.enyeart","ts":"2017-02-14T15:28:59.703Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=NiLmhtA9ZhKhxXa7m) @dave.enyeart \nCan you please share the JIRA Ticket?","username":"rahulhegde","ts":"2017-02-14T15:47:36.898Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NiLmhtA9ZhKhxXa7m","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NiLmhtA9ZhKhxXa7m","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Other question related to composite-key, we have ` color~name ` as our ObjectType of Composite Key and store composite key alike ' color~name3Red7marble1 ' in state ledger. In order to fetch the Marble JSON, we make use of the composite-key ID and fetch the Index = 1  value i.e. marble1.\n\nIs this the only way to reach to the ` marble1 ` JSON information?","username":"rahulhegde","ts":"2017-02-14T15:53:24.762Z"}
{"msg":"Has joined the channel.","username":"joshhus","ts":"2017-02-14T18:14:08.376Z","type":"uj"}
{"msg":"Has joined the channel.","username":"eddie.allen","ts":"2017-02-14T18:35:50.302Z","type":"uj"}
{"msg":"@rahulhegde Not completely following the question.  In general there are three types of query available: 1) key-based query, 2) key range query (partial composite key query pattern leverages this under the covers), and 3) rich query on data content.   #1 and #2 are available with either the default leveldb or couchdb.  #3 is only available if you use couchdb.","username":"dave.enyeart","ts":"2017-02-14T18:45:42.082Z"}
{"msg":"Ok my previous question is on #2.\n\n```\nOther question related to composite-key, we have ` color~name ` as our ObjectType of Composite Key and store composite key alike ' color~name3Red7marble1 ' in state ledger. In order to fetch the Marble JSON, we make use of the composite-key ID and fetch the Index = 1 value i.e. marble1.\n\nIs this the only way to reach to the ` marble1 ` JSON information? \n```\n\nFollowing is code written in Marble-02 chaincode to fetch list of all Marbles having Color = Blue ` peer chaincode invoke -C myc1 -n marbles -c '{\"Args\":[\"transferMarblesBasedOnColor\",\"blue\",\"jerry\"]}' `\n\nFunction - transferMarblesBasedOnColor\n1. coloredMarbleResultsIterator, err := stub.PartialCompositeKeyQuery(\"color~name\", []string{color})\nThis will give Iterator to all composite keys starting with \"color~name4blueXXXXX...\" where XXXX => is the name of the Marble.  \n\n2. objectType, compositeKeyParts, err := stub.SplitCompositeKey(colorNameKey)\nThis splits the composite key into two parts - index = 0 is color which is blue and index = 1 is marble name. This is how we created the composite key using CreateCompositeKey.\n\n3. Now index = 1 = marble_name and is also the key which stores the Marble related meta-data like color, owner, etc sent as part of initMarble Method.\n\nSo is it mandatory to make key (in this case marble name) as part of the composite key (marble name, marble color) in order to use key range query OR \nIs there a way from the composite-key value to directly point to the marble-meta data (I see following in the composite-key JSON value ` {\n \"_id\": \"mycc\\u0000color~name\\u001f4\\u001fcyan\\u001f7\\u001fmarble5\",\n \"_rev\": \"1-25e6561da9de20e29564ac15bd5e06fa\",\n \"chaincodeid\": \"mycc\",\n \"version\": \"16:1\",\n \"_attachments\": {\n  \"valueBytes\": {\n   \"content_type\": \"application/octet-stream\",\n   \"revpos\": 1,\n   \"digest\": \"md5-39d1Vgjcpz9ZAAMV2yCR/w==\",\n   \"length\": 5,\n   \"stub\": true\n  }\n }\n}` ?","username":"rahulhegde","ts":"2017-02-14T19:27:05.019Z"}
{"msg":"Ok my previous question is on #2.\n\n```\nOther question related to composite-key, we have ` color~name ` as our ObjectType of Composite Key and store composite key alike ' color~name3Red7marble1 ' in state ledger. In order to fetch the Marble JSON, we make use of the composite-key ID and fetch the Index = 1 value i.e. marble1.\n\nIs this the only way to reach to the ` marble1 ` JSON information? \n```\n\nFollowing is code written in Marble-02 chaincode to fetch list of all Marbles having Color = Blue ` peer chaincode invoke -C myc1 -n marbles -c '{\"Args\":[\"transferMarblesBasedOnColor\",\"blue\",\"jerry\"]}' `\n\nFunction - transferMarblesBasedOnColor\n1. coloredMarbleResultsIterator, err := stub.PartialCompositeKeyQuery(\"color~name\", []string{color})\nThis will give Iterator to all composite keys starting with \"color~name4blueXXXXX...\" where XXXX => is the name of the Marble.  \n\n2. objectType, compositeKeyParts, err := stub.SplitCompositeKey(colorNameKey)\nThis splits the composite key into two parts - index = 0 is color which is blue and index = 1 is marble name. This is how we created the composite key using CreateCompositeKey.\n\n3. Now index = 1 = marble_name and is also the key which stores the Marble related meta-data like color, owner, etc sent as part of initMarble Method.\n\nSo is it mandatory to make key (in this case marble name) as part of the composite key (marble name, marble color) in order to use key range query OR \nIs there a way from the composite-key value to directly point to the marble-meta data (I see following in the composite-key JSON value \n``` {\n \"_id\": \"mycc\\u0000color~name\\u001f4\\u001fcyan\\u001f7\\u001fmarble5\",\n \"_rev\": \"1-25e6561da9de20e29564ac15bd5e06fa\",\n \"chaincodeid\": \"mycc\",\n \"version\": \"16:1\",\n \"_attachments\": {\n  \"valueBytes\": {\n   \"content_type\": \"application/octet-stream\",\n   \"revpos\": 1,\n   \"digest\": \"md5-39d1Vgjcpz9ZAAMV2yCR/w==\",\n   \"length\": 5,\n   \"stub\": true\n  }\n }\n}\n``` ?","username":"rahulhegde","ts":"2017-02-14T19:27:05.019Z"}
{"msg":"Ok my previous question is on #2.\n\n```\nOther question related to composite-key, we have ` color~name ` as our ObjectType of Composite Key and store composite key alike ' color~name3Red7marble1 ' in state ledger. In order to fetch the Marble JSON, we make use of the composite-key ID and fetch the Index = 1 value i.e. marble1.\n\nIs this the only way to reach to the ` marble1 ` JSON information? \n```\n\nFollowing is code written in Marble-02 chaincode to fetch list of all Marbles having Color = Blue ` peer chaincode invoke -C myc1 -n marbles -c '{\"Args\":[\"transferMarblesBasedOnColor\",\"blue\",\"jerry\"]}' `\n\nFunction - transferMarblesBasedOnColor\n1. coloredMarbleResultsIterator, err := stub.PartialCompositeKeyQuery(\"color~name\", []string{color})\nThis will give Iterator to all composite keys starting with \"color~name4blueXXXXX...\" where XXXX => is the name of the Marble.  \n\n2. objectType, compositeKeyParts, err := stub.SplitCompositeKey(colorNameKey)\nThis splits the composite key into two parts - index = 0 is color which is blue and index = 1 is marble name. This is how we created the composite key using CreateCompositeKey.\n\n3. Now index = 1 = marble_name and is also the key which stores the Marble related meta-data like color, owner, etc sent as part of initMarble Method.\n\nSo is it mandatory to make key (in this case marble name) as part of the composite key (marble name, marble color) in order to use key range query OR \nIs there a way from the composite-key value to directly point to the marble-meta data? (I see following in the composite-key JSON value) \n\n``` {\n \"_id\": \"mycc\\u0000color~name\\u001f4\\u001fcyan\\u001f7\\u001fmarble5\",\n \"_rev\": \"1-25e6561da9de20e29564ac15bd5e06fa\",\n \"chaincodeid\": \"mycc\",\n \"version\": \"16:1\",\n \"_attachments\": {\n  \"valueBytes\": {\n   \"content_type\": \"application/octet-stream\",\n   \"revpos\": 1,\n   \"digest\": \"md5-39d1Vgjcpz9ZAAMV2yCR/w==\",\n   \"length\": 5,\n   \"stub\": true\n  }\n }\n}\n```","username":"rahulhegde","ts":"2017-02-14T19:27:05.019Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=FRBnENadZNFwEvCBv) @dave.enyeart Re (3) rich query -   would best practice be for chaincode to query an environment variable or by some other means determine whether or not the state database supports rich query, if the goal of chaincode was to support any state database implementation?","username":"silliman","ts":"2017-02-14T22:31:19.154Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FRBnENadZNFwEvCBv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FRBnENadZNFwEvCBv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"In almost every case the chaincode author will know the capabilities for their target environment.  If not, then you can attempt a rich query and handle the error if it is not implemented... that is as efficient as readying some other property.","username":"dave.enyeart","ts":"2017-02-14T22:35:33.681Z"}
{"msg":"In almost every case the chaincode author will know the capabilities for their target environment.  If not, then you can attempt a rich query and handle the error if it is not implemented... that is as efficient as reading some other property.","username":"dave.enyeart","ts":"2017-02-14T22:35:33.681Z"}
{"msg":"@rahulhegde It is not mandatory to embed the primary key in the 'index' composite key. There are various options and the best approach depends on the solution requirements - you could embed the primary key in the 'index' composite key, you could have the key in the 'index' record's value, or you could put the actual data that you need there","username":"dave.enyeart","ts":"2017-02-14T22:43:03.980Z"}
{"msg":"Has joined the channel.","username":"rnsastry","ts":"2017-02-15T04:33:09.210Z","type":"uj"}
{"msg":"Hello,\nI have a question about behavior of HL (v.1, not 0.6) when concurrent invocations of chain-code update same state. Simple scenario can be described like this:\n\nIn the ledger we have state for 3 parties (A,B,C) and every one of them has 100 tokens. There is a request (using nodejs sdk) to transfer 10 tokens from A to B. If at same time, while this invocation is endorsed, send to orderer and committed to the ledger, there is another request to transfer tokens from A to C, both invocations return success but second transfer is not stored in the ledger.\n\nAt the end of this scenario party A will have 90 tokens, party B will have 110, party C will have 100. But invocation for transferring from A to C finish with success.\n\nI understand why this is happening, second invocation read the state of the ledger before first invocation finishes and later when read/write set is send from orderer it is discarded because the state of the ledger is different. But this behavior require application developer to put synchronization logic in layer above HL to track current invocations and parties that are involved so that no two or more invocations that share state are executed concurrently.\nThis is variation of classical double spending problem but are there any \"tools\" or \"best practices\" in HL that can handle this situation, or developer must take care of this?\nIs this expected behavior that will be in final production ready version 1, or there are some plans to address this.\n\nThank you! ","username":"gatakka","ts":"2017-02-15T07:19:40.198Z"}
{"msg":"This is expected behavior.... client will need to handle transaction invalidations and do error or retry logic.  Please post on fabric-sdk channel asking how client gets alerted to invalidations.","username":"dave.enyeart","ts":"2017-02-15T12:36:55.821Z"}
{"msg":"@dave.enyeart thank you!","username":"gatakka","ts":"2017-02-15T13:43:02.354Z"}
{"msg":"Has joined the channel.","username":"o.o.","ts":"2017-02-15T15:10:20.750Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Jonas.Hedin","ts":"2017-02-15T15:15:50.689Z","type":"uj"}
{"msg":"Has joined the channel.","username":"murrekatt","ts":"2017-02-15T15:16:16.561Z","type":"uj"}
{"msg":"[ nickgaski pointed me here from #fabric ](https://chat.hyperledger.org/channel/fabric?msg=XaXHT4dXnFaSdCHZR) \nWe had a bit of discussion in the #fabric channel (there are a lot of them!) regarding the purpose of allowing invalid transactions to be stored on the peer ledgers, and why orderers would allow this to happen.\nYacovm explained that it is not the orderers place to validate the business logic results, since this would make them more expensive than they need to be.\nI suppose my confusion came from the different kinds of ways transactions can be invalid, and where the _readset_ version correctness would get checked (is in committing).","username":"o.o.","ts":"2017-02-15T15:28:30.343Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=XaXHT4dXnFaSdCHZR","url":"https://chat.hyperledger.org/channel/fabric?msg=XaXHT4dXnFaSdCHZR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ From #fabric ](https://chat.hyperledger.org/channel/fabric?msg=XaXHT4dXnFaSdCHZR) \nWe had a bit of discussion in the #fabric channel (there are a lot of them!) regarding the purpose of allowing invalid transactions to be stored on the peer ledgers, and why orderers would allow this to happen.\nYacovm explained that it is not the orderers place to validate the business logic results, since this would make them more expensive than they need to be.\nI suppose my confusion came from the different kinds of ways transactions can be invalid, and where the _readset_ version correctness would get checked (is in committing).","username":"o.o.","ts":"2017-02-15T15:28:30.343Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=XaXHT4dXnFaSdCHZR","url":"https://chat.hyperledger.org/channel/fabric?msg=XaXHT4dXnFaSdCHZR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"datajerk","ts":"2017-02-15T17:45:54.466Z","type":"uj"}
{"msg":"Has joined the channel.","username":"stanliberman","ts":"2017-02-15T18:12:13.731Z","type":"uj"}
{"msg":"I've got a problem with PartialCompositeKeyQuery; if I add a key using CreateCompositeKey(\"Vehicle\", []string{\"VIN_1234\"}) and another key using CreateCompositeKey(\"VehicleListing\", []string{\"LIST_1234\"}), then PartialCompositeKeyQuery(\"Vehicle\", []string{}) returns both of those keys. It should only return the \"Vehicle\" + \"VIN_1234\" key right?","username":"sstone1","ts":"2017-02-15T19:06:35.516Z"}
{"msg":"each peer participating in a channel has its respective ledger. must these peers be under the 'administrative control' of the entities these peers represent, e.g., buyer and seller?","username":"salmanbaset","ts":"2017-02-15T22:55:30.962Z"}
{"msg":"or can one entity manage both peers and their ledgers","username":"salmanbaset","ts":"2017-02-15T22:58:52.624Z"}
{"msg":"or can one entity manage both peers and their ledgers?","username":"salmanbaset","ts":"2017-02-15T22:58:52.624Z"}
{"msg":"my concern is the following: if both buyer peer and seller peer are managed by the same 'administrative entity', then the ledgers can be manipulated","username":"salmanbaset","ts":"2017-02-15T23:08:53.395Z"}
{"msg":"my concern is the following: if both buyer peer and seller peer are managed by the same 'administrative entity', then their ledgers can be manipulated","username":"salmanbaset","ts":"2017-02-15T23:08:53.395Z"}
{"msg":"@salmanbaset There would be more assurance if the peers are managed by different entities.  Not sure what type of ledger manipulation you are talking about, if you have a specific concern around ledger manipulation please post that to fabric-crypto where the security experts hang out.","username":"dave.enyeart","ts":"2017-02-16T01:29:47.754Z"}
{"msg":"@sstone1 I believe you are on a prior build, this has been fixed in later builds.  I've added a test case to make sure.  See: https://gerrit.hyperledger.org/r/#/c/6080/","username":"dave.enyeart","ts":"2017-02-16T02:13:29.217Z"}
{"msg":"@sstone1 I believe you are on a prior build, this has been fixed in later builds.  I've added a test case with your example data to make sure.  See: https://gerrit.hyperledger.org/r/#/c/6080/","username":"dave.enyeart","ts":"2017-02-16T02:13:29.217Z"}
{"msg":"Also note the API name changes in https://gerrit.hyperledger.org/r/#/c/5815/","username":"dave.enyeart","ts":"2017-02-16T02:14:25.436Z"}
{"msg":"@o.o. All validation logic is performed on committing peer.  The content of the block is not changed if the tran is invalidated, since we want the block hash to be consistent across orderer blocks and peer blocks.  The invalid transaction is tagged in a non-hashed part of the block on the committer side, so that later queries for the transaction can indicate that the tran has been invalidated.","username":"dave.enyeart","ts":"2017-02-16T02:18:47.230Z"}
{"msg":"There is intent at a later time to add a 'checkpoint' feature that can optionally prune out old blocks and/or invalid trans, which would leave you with a 'validated ledger' only.","username":"dave.enyeart","ts":"2017-02-16T02:20:28.685Z"}
{"msg":"Has joined the channel.","username":"bobbiejc","ts":"2017-02-16T03:41:00.125Z","type":"uj"}
{"msg":"@vukolic @mastersingh24 @manish-sethi We've all been using the term MVCC for the v1 validation check since I joined the project, but as we document v1 I want to make sure we're using the correct terms.   It seems the v1 concurrency model would more accurately be described as Optimistic Concurrency Control (OCC) rather than Multi-version concurrency control (MVCC).  Is there a specific reason why the term MVCC was used in the NCAP document?  Or do you agree we should use the term Optimistic Concurrency Control in v1 documentation and going forward?  For reference: \nhttps://en.wikipedia.org/wiki/Multiversion_concurrency_control\nhttps://en.wikipedia.org/wiki/Optimistic_concurrency_control","username":"dave.enyeart","ts":"2017-02-16T04:58:59.750Z"}
{"msg":"Has joined the channel.","username":"vukolic","ts":"2017-02-16T04:58:59.826Z","type":"uj"}
{"msg":"@dave.enyeart  - I believe that MVCC would be the correct term for v1.  I could be wrong here, but I believe that MVCC is actually optimistic concurrency control which may involved 1 or more objects (keys) whereas OCC in and of itself typically deals with a single object / key","username":"mastersingh24","ts":"2017-02-16T05:09:22.578Z"}
{"msg":"@mastersingh24 I have seen that definition of MVCC in some places (and that would surely apply to v1), but most of the literature talks about MVCC in terms of multiple versions of an object in the database that are visible to different clients depending on transaction lifecycle/snapshots, which we really dont have in v1 - the state db makes available a single version at any given point in time.","username":"dave.enyeart","ts":"2017-02-16T05:21:31.612Z"}
{"msg":"@mastersingh24 I have seen that definition of MVCC in some places (and that would surely apply to v1), but most of the literature talks about MVCC in terms of multiple versions of an object in the database that are visible to different clients clients depending on transaction lifecycle/snapshots, which we really dont have in v1 - the state db makes available a single version at any given point in time.","username":"dave.enyeart","ts":"2017-02-16T05:21:31.612Z"}
{"msg":"@mastersingh24 I have seen that definition of MVCC in some places (and that would surely apply to v1), but most of the literature talks about MVCC in terms of multiple versions of an object in the database that are visible to different clients concurrently depending on transaction lifecycle/snapshots, which we really dont have in v1 - the state db makes available a single version at any given point in time.","username":"dave.enyeart","ts":"2017-02-16T05:21:31.612Z"}
{"msg":"so we aren't quite MVCC and we are \"stronger\" than OCC","username":"mastersingh24","ts":"2017-02-16T05:23:13.884Z"}
{"msg":"let's invent a term for it :)","username":"dave.enyeart","ts":"2017-02-16T05:27:03.514Z"}
{"msg":"@mastersingh24 @dave.enyeart OCC is not limited to a single item. The basic difference is that MVCC allows certain transaction schedules which would have been not been valid in single versioned DB - because, MVCC maintains multiple versions. \n\nI was thinking of maintaining multiple versions for a consistent snapshot for read queries at least, assuming   we implement snapshot isolation based on height based versioning...\n\nAbout the term for our purpose - OCC is a more generic term and can work with or without multiple versions. At the same time there are lock based protocol for MVCC... so we are kind of in the middle :-)","username":"manish-sethi","ts":"2017-02-16T06:01:30.750Z"}
{"msg":"@mastersingh24 @dave.enyeart OCC is not limited to a single item. The basic difference is that MVCC allows certain transaction schedules which would have not been valid in single versioned DB - because, MVCC maintains multiple versions. \n\nI was thinking of maintaining multiple versions for a consistent snapshot for read queries at least, assuming   we implement snapshot isolation based on height based versioning...\n\nAbout the term for our purpose - OCC is a more generic term and can work with or without multiple versions. At the same time there are lock based protocol for MVCC... so we are kind of in the middle :-)","username":"manish-sethi","ts":"2017-02-16T06:01:30.750Z"}
{"msg":"To take a concrete example.. in a single db consider the following sequences of two concurrent transactions\n`Tx1Read(x) Tx1Write(x) Tx2Read(x) Tx2Write(y) Tx1Read(y) Tx1Write(z) Tx1commit Tx2commit`\nNow, there no possible serializable history (i.e. whether Tx1 happened before Tx2 or other way around).\n\nHowever, if the db is multi-versioned and in the fifth step the db would have returned the previous version for item `y`, the serializable schedule could be equivalent to as if Tx1 happened before Tx2.  ","username":"manish-sethi","ts":"2017-02-16T06:15:36.042Z"}
{"msg":"To take a concrete example.. in a single db, consider the following sequences of two concurrent transactions\n`Tx1Read(x) Tx1Write(x) Tx2Read(x) Tx2Write(y) Tx1Read(y) Tx1Write(z) Tx1commit Tx2commit`\nNow, there no possible serializable history (i.e. whether Tx1 happened before Tx2 or other way around).\n\nHowever, if the db is multi-versioned and in the fifth step the db would have returned the previous version for item `y`, the serializable schedule could be equivalent to as if Tx1 happened before Tx2.  ","username":"manish-sethi","ts":"2017-02-16T06:15:36.042Z"}
{"msg":"To take a concrete example.. in a single db, consider the following sequences of two concurrent transactions\n`Tx1Read(x) Tx1Write(x) Tx2Read(x) Tx2Write(y) Tx1Read(y) Tx1Write(z) Tx1commit Tx2commit`\nNow, there no possible serializable history (i.e. whether Tx1 happened before Tx2 or other way around).\n\nHowever, if the db is multi-versioned and in the fifth step, the db would have returned the previous version for item `y`, the serializable schedule could be equivalent to as if Tx1 happened before Tx2.  ","username":"manish-sethi","ts":"2017-02-16T06:15:36.042Z"}
{"msg":"To take a concrete example.. in a single db, consider the following sequences of two concurrent transactions\n`Tx1Read(x) Tx1Write(x) Tx2Read(x) Tx2Write(y) Tx1Read(y) Tx1Write(z) Tx1commit Tx2commit`\nNow, there is no possible serializable history (i.e. whether Tx1 happened before Tx2 or other way around).\n\nHowever, if the db is multi-versioned and in the fifth step, the db would have returned the previous version for item `y`, the serializable schedule could be equivalent to as if Tx1 happened before Tx2.  ","username":"manish-sethi","ts":"2017-02-16T06:15:36.042Z"}
{"msg":"To take a concrete example.. in a single db, consider the following sequences of two concurrent transactions\n`Tx1Read(x) Tx1Write(x) Tx2Read(x) Tx2Write(y) Tx1Read(y) Tx1Write(z) Tx1commit Tx2commit`\nNow, there is no possible serializable history in the case of single versioned db (i.e. whether Tx1 happened before Tx2 or other way around).\n\nHowever, if the db is multi-versioned and in the fifth step, the db would have returned the previous version for item `y`, the serializable schedule could be equivalent to as if Tx1 happened before Tx2.  ","username":"manish-sethi","ts":"2017-02-16T06:15:36.042Z"}
{"msg":"To take a concrete example.. in a single db, consider the following sequences of two concurrent transactions\n`Tx1Read(x) Tx1Write(x) Tx2Read(x) Tx2Write(y) Tx1Read(y) Tx1Write(z) Tx1commit Tx2commit`\nNow, there is no possible serializable history in the case of single versioned db (i.e. whether Tx1 happened before Tx2 or other way around).\n\nHowever, if the db is multi-versioned and in the fifth step, the db would have returned the previous version for item `y` (i.e., the previous latest value before Tx2 wrote the newer version in step 4), the serializable schedule could be equivalent to as if Tx1 happened before Tx2.  ","username":"manish-sethi","ts":"2017-02-16T06:15:36.042Z"}
{"msg":"So, in our context we could extend our validation to have this MVCC variation of serialization... but requires more thinking and experimentation for pro/cons.. because there is a cost of maintaining multiple versions (the need to be recycled when no transaction could be using them any more).","username":"manish-sethi","ts":"2017-02-16T06:20:52.368Z"}
{"msg":"So, in our context we could extend our validation to have this MVCC variation of serialization... but requires more thinking and experimentation for pro/cons.. because there is a cost of maintaining multiple versions (they need to be recycled when no transaction could be using them any more).","username":"manish-sethi","ts":"2017-02-16T06:20:52.368Z"}
{"msg":"So, in our context we could extend our validation to have this MVCC variation of serialization... but requires more thinking and experimentation for pro/cons.. because there is a cost of maintaining multiple versions (they need to be recycled when no transaction could be using them any more - similar to garbage collection).","username":"manish-sethi","ts":"2017-02-16T06:20:52.368Z"}
{"msg":"@mastersingh24 @dave.enyeart ^^^^","username":"manish-sethi","ts":"2017-02-16T06:22:40.232Z"}
{"msg":"@dave.enyeart thanks, I did wonder if that was the case. I am trying to get up and running on the latest Docker images.","username":"sstone1","ts":"2017-02-16T08:12:18.348Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=fusbekfd23GxNZ6cA) @dave.enyeart, @rahulhegde - I would recommend to include your primary key in the composite key as the last part. As Dave pointed out, this is not a requirement but at the same time, requirement is that the composite key should be unique and adding the primary key would fulfill that requirement.","username":"manish-sethi","ts":"2017-02-16T08:20:37.265Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fusbekfd23GxNZ6cA","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fusbekfd23GxNZ6cA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@sstone1 can you confirm with your test on the latest build. What surprises me is that as far as I recall, in none of the builds this behavior should have been present... unless I am missing something.","username":"manish-sethi","ts":"2017-02-16T08:22:30.511Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=c5vnNH9pKL5AMi9XK) @sstone1 can you confirm with your test on the latest build. What surprises me is that as far as I recall, in none of the builds this behavior should have been present... unless I am missing something.","username":"manish-sethi","ts":"2017-02-16T08:22:30.511Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=c5vnNH9pKL5AMi9XK","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=c5vnNH9pKL5AMi9XK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@sstone1, @dave.enyeart - sorry for the confusion. Just looked at the older code. Yes, this would have happened with the immediate previous version in this special case where only objectType is being used for searching.","username":"manish-sethi","ts":"2017-02-16T08:38:55.992Z"}
{"msg":"@manish-sethi just tried on the latest build, it is working OK now, thanks!","username":"sstone1","ts":"2017-02-16T09:15:45.725Z"}
{"msg":"Has joined the channel.","username":"wutongtree","ts":"2017-02-16T09:53:04.333Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alviontaran","ts":"2017-02-16T16:19:57.959Z","type":"uj"}
{"msg":"@dave.enyeart \nQ: Rich query Interface (GetQueryResult) will result in sending a selector query to the Couch DB. This will return a result-set (say 10 entries). Will this result-set be part of the ReadSet directly (10 entries) or is when the chain-code calls the resultsIterator.Next API, that is the time call-by-call it will be added to the read-set? ","username":"rahulhegde","ts":"2017-02-16T18:21:48.002Z"}
{"msg":"@rahulhegde Currently all the results get added to readset, but we are investigating ways to scope it to the results actually read by chaincode","username":"dave.enyeart","ts":"2017-02-16T18:25:44.688Z"}
{"msg":"Do you have a strong preference for the latter?","username":"dave.enyeart","ts":"2017-02-16T18:26:05.039Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=kTvGcjBzMSzxWt5Za) @dave.enyeart ","username":"rahulhegde","ts":"2017-02-16T18:28:43.096Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kTvGcjBzMSzxWt5Za","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kTvGcjBzMSzxWt5Za","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/ nt/fabric-ledger?msg=kTvGcjBzMSzxWt5Za) @dave.enyeart not exactly at this point of time, this just came as all resultset may not really required to be under mvcc check.","username":"rahulhegde","ts":"2017-02-16T18:28:43.096Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kTvGcjBzMSzxWt5Za","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kTvGcjBzMSzxWt5Za","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/ nt/fabric-ledger?msg=kTvGcjBzMSzxWt5Za) @dave.enyeart not exactly at this point of time, this just came in as all resultset may not really required to be under mvcc check.","username":"rahulhegde","ts":"2017-02-16T18:28:43.096Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kTvGcjBzMSzxWt5Za","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kTvGcjBzMSzxWt5Za","remote":true,"fileId":null,"fileName":null}]}
{"msg":"right","username":"dave.enyeart","ts":"2017-02-16T18:34:49.222Z"}
{"msg":"@AdnanC thought I would post my problems here for benefit of all..","username":"bobbiejc","ts":"2017-02-16T20:14:14.694Z"}
{"msg":"bobbiejc 10:48 PM\nI am trying to enable couchdb option with the hackfest images with channels. I'm following these instructions : http://hyperledger-fabric.readthedocs.io/en/latest/gettingstarted\nI am trying to use the modified docker_couchdb.yml file from here: https://jira.hyperledger.org/browse/FAB-1953\nI see this error in the log.txt file on cli\n>>> 2017-02-16 02:55:58.727 UTC [msp] Sign -> DEBU 028 Sign: digest: 388510939AF7C1A93D771D5D9CFE49F3B3C928B97006E4\n7E0C9DD0B591253C6C \nError: proposal failed (err: rpc error: code = 2 desc = Get http://couchdb0:5984/myc1: dial tcp 172.19.0.3:5984: getso\nckopt: connection refused)\nUsage:\npeer channel join [flags]\n\nbobbiejc 10:59 PM\ni would attach my docker compose files, but I can't seem to share files using rocketchat?","username":"bobbiejc","ts":"2017-02-16T20:14:16.364Z"}
{"msg":"Has joined the channel.","username":"ylsGit","ts":"2017-02-17T02:28:55.791Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zhangzhen","ts":"2017-02-17T03:09:09.050Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RajkumarNatarajan","ts":"2017-02-17T03:58:03.696Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kostas","ts":"2017-02-17T16:20:06.838Z","type":"uj"}
{"msg":"Has joined the channel.","username":"farhan3","ts":"2017-02-17T16:21:18.537Z","type":"uj"}
{"msg":" Hi - From the peer yaml file, I can see that the state is stored in a database, e.g. CouchDB. Is the ledger also stored in the same database?","username":"farhan3","ts":"2017-02-17T16:21:35.082Z"}
{"msg":"Hello! How can I handle this `panic: Own checkpoint for seqNo 30 (CAsSQIpPFvKebFWy+m2TAdP7aTd81EC3AJo6sSU5TgG4xq3+bH74yJxkYDZzHQmQEpyl9hTrtl6Uqa004oFNTZtFG0AaQMcwvg2v92PjvmzVXH3KoPBNvGnPJAeBbivC6EKWSWQIVfTcJUAf1v+AkBxX77MQetWpLWTvx7riohEPPuhOOHk=) different from weak checkpoint certificate (CAsSQAlFXxAlQbHSQicJBptYJQTa2pgfTRuP5cPMbPY8hmNAlIMDj9kRgouWRddx7AAryuf92OD4QoC/gAxnlsxnx+MaQOYL4z+XcjXGbTCxcmAcd2XPFOK1sQHDTm1FJinLjmIeWEt+xlTspwUXhUGrG5AhzmXBsW39rDBqmouHoYfg84o=)`?","username":"mwall","ts":"2017-02-17T16:53:51.645Z"}
{"msg":"@farhan3 Please see the ledger charts in https://jira.hyperledger.org/browse/FAB-758 to understand the ledger data structure","username":"dave.enyeart","ts":"2017-02-17T16:59:58.477Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=waC5vyQdqjc6sPfkH) @mwall (I'm on this in #fabric) ","username":"kostas","ts":"2017-02-17T17:01:03.769Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=waC5vyQdqjc6sPfkH","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=waC5vyQdqjc6sPfkH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart  Thanks! So from slide 3, it mentions File system/LevelDB  would be used. If the number of blocks gets really large, won't the peer system's available space be a limiting factor?","username":"farhan3","ts":"2017-02-17T17:10:10.404Z"}
{"msg":"@dave.enyeart  Thanks! So from slide 3, it mentions File system/LevelDB  would be used. If the number of blocks gets really large, won't the peer system's available disk space be a limiting factor?","username":"farhan3","ts":"2017-02-17T17:10:10.404Z"}
{"msg":"Has joined the channel.","username":"mcoblenz","ts":"2017-02-17T18:43:07.658Z","type":"uj"}
{"msg":"Is there support in 1.0 for cross-chaincode transactions? The architecture document says no, but Go example 5 suggests yes.","username":"mcoblenz","ts":"2017-02-17T18:44:03.732Z"}
{"msg":"(I'm referring to this; is it up to date? https://github.com/hyperledger/fabric/blob/master/proposals/r1/Next-Consensus-Architecture-Proposal.md)","username":"mcoblenz","ts":"2017-02-17T18:45:29.184Z"}
{"msg":"Hi All, how would i see the complete ledger for a chain code in 1.0, i tested example 02 chain code with multiple invokes now want to see complete ledger for this chain code","username":"MadhavaReddy","ts":"2017-02-17T19:40:22.715Z"}
{"msg":"am in peero \"/var/hyperledger/production/ledgersData/historyLeveldb\" path","username":"MadhavaReddy","ts":"2017-02-17T19:40:40.961Z"}
{"msg":"but don't see any data please help me see the completed ledger","username":"MadhavaReddy","ts":"2017-02-17T19:41:02.586Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=hqZbRsbEb8NbMvSNA) @mcoblenz   I am curious too","username":"bobbiejc","ts":"2017-02-18T01:16:55.016Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hqZbRsbEb8NbMvSNA","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hqZbRsbEb8NbMvSNA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"jsong1230","ts":"2017-02-18T08:29:01.355Z","type":"uj"}
{"msg":"@mcoblenz @bobbiejc  - you can only do read-only cc to cc communications","username":"mastersingh24","ts":"2017-02-18T09:56:18.492Z"}
{"msg":"Has joined the channel.","username":"ecb","ts":"2017-02-18T12:27:25.856Z","type":"uj"}
{"msg":"@farhan3 if you need more disk capacity than can fit in the server then you'd likely move up to Direct Attached Storage (DAS) solutions that can handle massive data. Note that there is intent to provide a prune capability in the future, to prune out blocks older than a certain threshold.","username":"dave.enyeart","ts":"2017-02-18T15:43:59.005Z"}
{"msg":"Has joined the channel.","username":"Vadim","ts":"2017-02-18T16:31:25.173Z","type":"uj"}
{"msg":"@dave.enyeart  - Can you confirm recently added GetHistoryForKey API is not meant to detect any version changes to the key between simulation and committing time?","username":"rahulhegde","ts":"2017-02-19T23:18:35.868Z"}
{"msg":"Has joined the channel.","username":"vdods","ts":"2017-02-19T23:47:16.198Z","type":"uj"}
{"msg":"@rahulhegde Fabric does not check for changes to the history between simulation and commit time.  GetHistoryForKey was intended for read-only information. Do you need to use historical information as part of update transactions?","username":"dave.enyeart","ts":"2017-02-20T00:34:00.646Z"}
{"msg":"@dave.enyeart - 2 parts - ` Do you need to use historical information as part of update transactions ` - Yes, but will be handling it in a different way by pausing the transaction at the client side thus preventing update on key until we get block-trasaction from Fabric.\n\n2nd part - since we were not sure how various version would be available, thanks for providing GetHistoryForKey now. We are currently planning to store at single version so it would be available always on first version. \n\nCan we please get (JIRA) what is going to be added to shim for convenient access to state ledger. ","username":"rahulhegde","ts":"2017-02-20T03:02:15.455Z"}
{"msg":"@dave.enyeart \n\n1. I had question on use of GetStateByPartialCompositeKey, can use marble02 as user chaincode for understanding my question\n\nIf I have composite-key with pattern ` color~size~name ` and want to retrieve marbles with size = X, how do I write my GetStateByPartialCompositeKey key call (` GetStateByPartialCompositeKey (indexName, [] string {size} ` ) or I need to create a new composite key with say 'size~name'?\n\n2. Is using ~ a best practice as a separator for index name?\n\n3.  Is there a limitation on the size of the value part that gets created during Composite Key call (` CreateCompositeKey() `). I see from the couch DB _utils  interface, length parameter gets added <chaincodename><length><key><length><key>?\n\n4. Comment at https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go#L79\nThis means if 'color' and 'marble name' was passed to the GetStateByPartialCompositeKey (\"color~name\", []string { color, marble_name}) then the resultset would have been empty?\n","username":"rahulhegde","ts":"2017-02-20T03:02:15.455Z"}
{"msg":"@rahulhegde I don't know of anything else that will be going into golang shim. v1 data patterns are demonstrated in marbles02 chaincode example. If you are asking about Java shim, it lags behind golang shim but same function is intended as golang shim. Maybe I'm not understanding the question though.","username":"dave.enyeart","ts":"2017-02-20T03:34:41.190Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=3JK8yzq6SWes8RjFz) Hi @dave.enyeart, are there any plans to change this behavior? I see that it would be hard to process transactions because they became invalid. I could imagine a case when there are a lot of transactions that modify some account balance. Currently, only one such transaction will be valid per block and as I understand you, the other transactions will need to be submitted over and over again. This congests the client application and slows down the processing significantly.","username":"Vadim","ts":"2017-02-20T09:11:10.450Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3JK8yzq6SWes8RjFz","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3JK8yzq6SWes8RjFz","remote":true,"fileId":null,"fileName":null}]}
{"msg":"(https://chat.hyperledger.org/channel/fabric?msg=kpEJbN99adyRqTP5n) @dave.enyeart @manish-sethi @thojest ","username":"mastersingh24","ts":"2017-02-20T12:53:34.037Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=kpEJbN99adyRqTP5n","url":"https://chat.hyperledger.org/channel/fabric?msg=kpEJbN99adyRqTP5n","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[any issues with floating point numbers being stored in the ledger?](https://chat.hyperledger.org/channel/fabric?msg=kpEJbN99adyRqTP5n) @dave.enyeart @manish-sethi @thojest ","username":"mastersingh24","ts":"2017-02-20T12:53:34.037Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=kpEJbN99adyRqTP5n","url":"https://chat.hyperledger.org/channel/fabric?msg=kpEJbN99adyRqTP5n","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"thojest","ts":"2017-02-20T12:53:34.086Z","type":"uj"}
{"msg":"@mastersingh24 i was asking this question, because having a look at the column definitions it seems that they only support integers","username":"thojest","ts":"2017-02-20T12:54:50.969Z"}
{"msg":"ah - well in the PutState case, values are encoded as bytes so I don't think there should be an issue","username":"mastersingh24","ts":"2017-02-20T12:55:57.427Z"}
{"msg":"but @manish-sethi can surely tell us the reality  ;)","username":"mastersingh24","ts":"2017-02-20T12:56:47.664Z"}
{"msg":"@thojest \n- if you use leveldb, the value is a []byte that one can put any custom encoding (int/float/json etc.). \n- If you use couchdb, the value can be a json and in that I think that couch supports floats as field value.... @dave.enyeart  can confirm on restriction on couch or you may like to check couchdb documentation. \n- If you use, compositeKeyApis (that works on top of both of these dbs), you would have to store numbers (ints/floats) as utf strings (e.g., \"5\", \"2.7\").","username":"manish-sethi","ts":"2017-02-20T13:01:46.606Z"}
{"msg":"@mastersingh24 @manish-sethi  thx alot!","username":"thojest","ts":"2017-02-20T13:06:38.012Z"}
{"msg":"@thejost yes when using couchdb you can have floats or integers in your json","username":"dave.enyeart","ts":"2017-02-20T17:18:10.055Z"}
{"msg":"@thejest yes when using couchdb you can have floats or integers in your json","username":"dave.enyeart","ts":"2017-02-20T17:18:10.055Z"}
{"msg":"@thojest jest yes when using couchdb you can have floats or integers in your json","username":"dave.enyeart","ts":"2017-02-20T17:18:10.055Z"}
{"msg":"@thojest  yes when using couchdb you can have floats or integers in your json","username":"dave.enyeart","ts":"2017-02-20T17:18:10.055Z"}
{"msg":"@Vadim conflict detection/invalidation must be enforced by the fabric, otherwise you would have no data integrity (e.g. double spends). In 0.6 all transactions were executed sequentially.  In v1 transactions can be executed (simulated) in parallel although conflicts will get invalidated.  This results in net higher throughput.  The application needs to be designed such that conflicts are minimized however.","username":"dave.enyeart","ts":"2017-02-20T17:24:51.461Z"}
{"msg":"This is just one type of invalidation.  There are other types of invalidation as well (e.g. endorsement policy not met, dup tx id), therefore all application clients will need to be designed to handle errors/retries.  ","username":"dave.enyeart","ts":"2017-02-20T17:28:54.056Z"}
{"msg":"Has joined the channel.","username":"Senthil1","ts":"2017-02-21T05:22:11.796Z","type":"uj"}
{"msg":"I have noticed that when I code and use REST API, my init & invoke functions( with loops to insert/retrieve an array of JSON objects using the putstate/getstate commands) produce a panic error \"index out of range\".  What symptom of a problem am I seeing?  ","username":"openspylin","ts":"2017-02-21T20:49:05.349Z"}
{"msg":"@dave.enyeart \n\n1. I had question on use of GetStateByPartialCompositeKey, can use marble02 as user chaincode for understanding my question\n\nIf I have composite-key with pattern ` color~size~name ` and want to retrieve marbles with size = X, how do I write my GetStateByPartialCompositeKey key call (` GetStateByPartialCompositeKey (indexName, [] string {size} ` ) or I need to create a new composite key with say 'size~name'?\n\n2. Is using ~ a best practice as a separator for index name?\n\n3.  Is there a limitation on the size of the value part that gets created during Composite Key call (` CreateCompositeKey() `). I see from the couch DB _utils  interface, length parameter gets added <chaincodename><length><key><length><key>?\n\n4. Comment at https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go#L79\nThis means if 'color' and 'marble name' was passed to the GetStateByPartialCompositeKey (\"color~name\", []string { color, marble_name}) then the resultset would have been empty?","username":"rahulhegde","ts":"2017-02-21T21:21:39.041Z"}
{"msg":"@rahulhegde \n1) You would need a new composite key like size~name\n2) Index name can be anything that is unique relative to other objectTypes/indexNames (and most not contain null character).  For demonstration purpose it was just helpful to have indexName match composite key with a visual separator like ~\n3) No limit on size of key as far as I can tell.  Size of value in CouchDB is based on couch config option max_document_size\n4) Right... if you have the entire key, you should simply do GetState(), not GetStateByPartialCompositeKey()","username":"dave.enyeart","ts":"2017-02-21T22:10:53.840Z"}
{"msg":"@rahulhegde \n1) You would need a new composite key like size~name\n2) Index name can be anything that is unique relative to other objectTypes/indexNames (and must not contain null character).  For demonstration purpose it was just helpful to have indexName match composite key with a visual separator like ~\n3) No limit on size of key as far as I can tell.  Size of value in CouchDB is based on couch config option max_document_size\n4) Right... if you have the entire key, you should simply do GetState(), not GetStateByPartialCompositeKey()","username":"dave.enyeart","ts":"2017-02-21T22:10:53.840Z"}
{"msg":"@rahulhegde \n1) You would need a new composite key like size~name\n2) Index name can be anything that is unique relative to other objectTypes/indexNames (and must not contain null character).  For demonstration purpose it was just helpful to have indexName match composite key with a visual separator like ~\n3) No limit on size of key as far as I can tell.  Size of value in CouchDB is based on couch config option max_document_size\n4) Right... if you have the entire key, you should simply do GetState(), not GetStateByPartialCompositeKey(). You can still use CreateCompositeKey() to create the key to be used in GetState()","username":"dave.enyeart","ts":"2017-02-21T22:10:53.840Z"}
{"msg":"Note that the composite key encoding has changed a little bit from what you pasted in 3, but that is transparent to the user","username":"dave.enyeart","ts":"2017-02-21T22:11:34.205Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=mAqPN3bQ5jQdWBQcq) @dave.enyeart Thank you.","username":"rahulhegde","ts":"2017-02-22T00:35:39.906Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=mAqPN3bQ5jQdWBQcq","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=mAqPN3bQ5jQdWBQcq","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"psa","ts":"2017-02-22T13:06:26.465Z","type":"uj"}
{"msg":"In the Marbles chaincode, how is the marbleindexstr variable being used as an index, how is it organizing entries?","username":"openspylin","ts":"2017-02-22T15:24:08.645Z"}
{"msg":"Has anyone attempted a search efficiency analysis of the blockchain and what about search times within transactions records?","username":"openspylin","ts":"2017-02-22T15:25:39.920Z"}
{"msg":"@openspylin The ledger state database uses a B-Tree to store keys/values (this is true for both leveldb and couchdb).  These are the same data structures used in many traditional database indexes.  Performance will therefore be similar to a traditional database index - very efficient for range queries and partial composite key queries (which use range queries against the B-Tree under the covers)","username":"dave.enyeart","ts":"2017-02-22T18:02:24.604Z"}
{"msg":"@mastersingh24 @binhn @muralisr I've spoken to @cca88 and @manish-sethi - we concluded that terms such as MVCC and OCC (optimistic concurrency control) are both not exactly correct for fabric, and are overloaded themselves.  Therefore they are just as likely to be misleading as helpful.  Therefore in docs we'll simply describe the fabric concurrency control approach without using terms such as MVCC.  Just FYI for your customer interactions and external facing charts.","username":"dave.enyeart","ts":"2017-02-22T23:24:37.366Z"}
{"msg":"@mastersingh24 @binhn @muralisr I've spoken to @cca88 and @manish-sethi - we concluded that terms such as MVCC and OCC (optimistic concurrency control) are both not exactly correct for fabric, and are overloaded themselves.  Therefore they are just as likely to be misleading as helpful.  Therefore in docs we'll simply describe the fabric concurrency control approach without using terms such as MVCC.  Just FYI for your community interactions and external facing charts.","username":"dave.enyeart","ts":"2017-02-22T23:24:37.366Z"}
{"msg":"I've given doc team the following description, we can fine tune as needed:","username":"dave.enyeart","ts":"2017-02-22T23:24:55.902Z"}
{"msg":"Hyperledger fabric has concurrency control whereby transactions execute in parallel (by endorsers) to increase throughput, and upon commit (by all peers) each transaction is verified to ensure that no other transaction has modified data it has read. In other words, it ensures that the data that was read during chaincode execution has not changed since execution (endorsement) time, and therefore the execution results are still valid and can be committed to the ledger. If the data that was read has changed then the transaction in the block is marked as invalid and is not applied to the ledger state database.","username":"dave.enyeart","ts":"2017-02-22T23:24:59.662Z"}
{"msg":"```Hyperledger fabric has concurrency control whereby transactions execute in parallel (by endorsers) to increase throughput, and upon commit (by all peers) each transaction is verified to ensure that no other transaction has modified data it has read. In other words, it ensures that the data that was read during chaincode execution has not changed since execution (endorsement) time, and therefore the execution results are still valid and can be committed to the ledger. If the data that was read has changed then the transaction in the block is marked as invalid and is not applied to the ledger state database.```","username":"dave.enyeart","ts":"2017-02-22T23:24:59.662Z"}
{"msg":"OK, good. I would change from \n\"then the transaction in the block is marked as invalid and is not applied\"\nto\n\"then the transaction in the block is **aborted and ** not applied\" \nbecause this is more in line with database terminology. and \"invalid\" might mean other things in blockchain context, where \"validation\" is a key concept but not for this.","username":"cca88","ts":"2017-02-23T07:48:43.968Z"}
{"msg":"Hi Christian, for the target audience I think the term abort would be too harsh, as that is often associated with a process panic/termination, whereas in this case the transaction actually gets posted to the chain, it's simply marked as being invalidated.","username":"dave.enyeart","ts":"2017-02-23T13:46:06.957Z"}
{"msg":"... well i'd still say \"aborted due to a conflict\" just like its cousin transaction in a database. the essence is the same of course, \"it is not applied\"","username":"cca88","ts":"2017-02-23T14:17:01.418Z"}
{"msg":"Has joined the channel.","username":"aambati","ts":"2017-02-23T15:17:04.223Z","type":"uj"}
{"msg":"I tend to lead on the invalid here (my 2c)","username":"vukolic","ts":"2017-02-24T00:08:00.116Z"}
{"msg":"I tend to lean on the invalid here (my 2c","username":"vukolic","ts":"2017-02-24T00:08:00.116Z"}
{"msg":"I tend to lean on the invalid here (my 2c)","username":"vukolic","ts":"2017-02-24T00:08:00.116Z"}
{"msg":"just for legacy - I am not sure we ever said abort so far - anywhere","username":"vukolic","ts":"2017-02-24T00:08:36.752Z"}
{"msg":"abort would indeed be the right DB parlance","username":"vukolic","ts":"2017-02-24T00:09:33.268Z"}
{"msg":"thnking more about it","username":"vukolic","ts":"2017-02-24T00:20:57.405Z"}
{"msg":"ordered tx can fail (be invalid) for two reasons","username":"vukolic","ts":"2017-02-24T00:21:19.231Z"}
{"msg":"MVCC or endorsement validation","username":"vukolic","ts":"2017-02-24T00:21:34.678Z"}
{"msg":"maybe we need two names for those","username":"vukolic","ts":"2017-02-24T00:21:41.448Z"}
{"msg":"these would be then be \"abort\" and \"invalid\", respectively","username":"vukolic","ts":"2017-02-24T00:21:54.045Z"}
{"msg":"if we just say invalid - one cannot easily tell is this due to version  numbers or endorsement policy","username":"vukolic","ts":"2017-02-24T00:22:42.776Z"}
{"msg":"Has joined the channel.","username":"CarlXK","ts":"2017-02-24T02:05:26.011Z","type":"uj"}
{"msg":"or \"conflicted and filtered out\" is the term we use in the V1-arch doc","username":"cca88","ts":"2017-02-24T08:23:06.994Z"}
{"msg":"Has joined the channel.","username":"slender","ts":"2017-02-25T00:44:20.397Z","type":"uj"}
{"msg":"Has joined the channel.","username":"PushpalathaHiremath","ts":"2017-02-27T06:39:13.954Z","type":"uj"}
{"msg":"Hi, in 0.6 i used to see blocks information using the restAPI which is running on 7050 port, in v1.0 can use same port to see the blocks information or is this has been changed, could you please clarify?","username":"MadhavaReddy","ts":"2017-02-27T13:30:33.565Z"}
{"msg":"@varadatibm Varad can you help @MadhavaReddy  since I know you were looking for same thing, yes?","username":"weeds","ts":"2017-02-27T13:36:39.579Z"}
{"msg":"Has joined the channel.","username":"varadatibm","ts":"2017-02-27T13:36:39.644Z","type":"uj"}
{"msg":"Thanks @weeds will connect Varad","username":"MadhavaReddy","ts":"2017-02-27T13:37:30.722Z"}
{"msg":"@MadhavaReddy In v1 there is no REST API on peer.  Access is via more secured SDK now. There is Query System Chaincode where your client can use normal chaincode invoke approach get access functions like GetChainInfo() and GetBlockByNumber().  These are also being wrapped by SDK as client-friendly SDK functions, which I think is what Varad is using.","username":"dave.enyeart","ts":"2017-02-27T16:50:43.939Z"}
{"msg":"@MadhavaReddy In v1 there is no REST API on peer.  Access is via more secured SDK now. There is Query System Chaincode where your client can use normal chaincode invoke approach to access functions like GetChainInfo() and GetBlockByNumber().  These are also being wrapped by SDK as client-friendly SDK functions, which I think is what Varad is using.","username":"dave.enyeart","ts":"2017-02-27T16:50:43.939Z"}
{"msg":"Thanks you @dave.enyeart, is there any built in function which will return block information as soon as the transaction is committed into ledger?","username":"MadhavaReddy","ts":"2017-02-27T19:26:05.142Z"}
{"msg":"There is an event generated for every block. @pmullaney where can we point people to understand the block and tran events?","username":"dave.enyeart","ts":"2017-02-27T19:29:26.115Z"}
{"msg":"Has joined the channel.","username":"pmullaney","ts":"2017-02-27T19:29:26.156Z","type":"uj"}
{"msg":"A question on the ledger architecture described in https://jira.hyperledger.org/browse/FAB-758. As per Slide #3, Blockchain transaction log is stored as a file and state database can be LevelDB or CouchDB.  Does the state database store both the current state and historical record of transactions (that exist in the Blockchain)? In addition, the diagram refers to history index and block index.  Appreciate clarification on what these indices mean and how the data in State database links to the Blockchain transaction log. Thanks.","username":"s.narayanan","ts":"2017-02-27T20:15:08.227Z"}
{"msg":"@s.narayanan  State database does not store historical values, only current state per key.  The history index in LevelDB stores the block/tran index for each key update, to support GetHistoryForKey() API.  The block index in LevelDB has block storage location per block/tran, to support APIs such as GetBlockByNumber() and GetTransactionById() without having to scan the blockchain.","username":"dave.enyeart","ts":"2017-02-27T21:26:25.685Z"}
{"msg":"@dave.enyeart Thanks.  To clarify then, associated with each key is an history index that stores the block/tran that caused the key update.  Iterating through this history index one can retrieve the history for the key. Going through the code (and I may be looking in the wrong place), I noticed mention of history db. Is there an option to maintain a history database in addition to the state database?","username":"s.narayanan","ts":"2017-02-27T23:19:03.377Z"}
{"msg":"no option to store history of values in a db.  that is a potential future direction.  GetHistoryForKey() will return the history of values.","username":"dave.enyeart","ts":"2017-02-27T23:20:41.305Z"}
{"msg":"what is the use case? i assume you are interested in querying against all historic values?","username":"dave.enyeart","ts":"2017-02-27T23:21:11.120Z"}
{"msg":"yes, provenance is the main requirement which should be satisfied by GetHistoryForKey() ...  ","username":"s.narayanan","ts":"2017-02-27T23:26:34.028Z"}
{"msg":"@dave.enyeart \nOur chaincode unit test cases has used MockStub however now for rich queries functionality, we see there is no stub available (https://github.com/hyperledger/fabric/blob/306aa7d86c180de6876b95169048926c28537269/core/chaincode/shim/mockstub.go#L200). Does it mean that we will have to now launch Fabric Image to test the flow that uses Rich Queries?","username":"rahulhegde","ts":"2017-02-28T00:10:34.223Z"}
{"msg":"@dave.enyeart \nOur chaincode unit test cases uses MockStub however now for rich queries functionality, we see there is no stub available (https://github.com/hyperledger/fabric/blob/306aa7d86c180de6876b95169048926c28537269/core/chaincode/shim/mockstub.go#L200). Does it mean that we will have to now launch Fabric Image to test the flow that uses Rich Queries? Thanks.","username":"rahulhegde","ts":"2017-02-28T00:10:34.223Z"}
{"msg":"Has joined the channel.","username":"bh4rtp","ts":"2017-02-28T00:23:13.219Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Rweb2","ts":"2017-02-28T01:07:53.383Z","type":"uj"}
{"msg":"@rahulhegde That's right, the rich query requires the query engine from CouchDB.","username":"dave.enyeart","ts":"2017-02-28T01:55:22.016Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=QcB7odvbfEuoWdXcJ) @dave.enyeart Is there a way we can still test this w/o launching the Fabric Images; its like automation of unit test done so far done using MockStub, will now be in question or moved to manual test due to use of rich query in between our flow.","username":"rahulhegde","ts":"2017-02-28T03:12:43.509Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=QcB7odvbfEuoWdXcJ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=QcB7odvbfEuoWdXcJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi All, Can anyone please help me understand the use of these different handlers?\n\n\nopenchainDB.BlockchainCF = cfHandlers[1]\nopenchainDB.StateCF = cfHandlers[2]\nopenchainDB.StateDeltaCF = cfHandlers[3]\nopenchainDB.IndexesCF = cfHandlers[4]\nopenchainDB.PersistCF = cfHandlers[5]\n\nAnd, Is there a way that using these handlers, we store data to the peer local and which is not shared across ledger?","username":"PushpalathaHiremath","ts":"2017-02-28T06:18:57.068Z"}
{"msg":"@PushpalathaHiremath the code snippet is from v0.6. I would suggest you to move to v1.0.\nAlso, it is not possible as yet to store data as part of a transaction that is not shared across. But something in these lines is in plan post V1. I would suggest you to detail out your scenario for this need so that we may be able to take that into account during design decisions... ","username":"manish-sethi","ts":"2017-02-28T06:30:19.293Z"}
{"msg":"@manish-sethi  : Thank you for the info. \n\nConsidering the business scenarios , there can be some data which should be peer specific. Eg : Node specific Users. \n\nI think with the current version also we can create a new rocksdb in diff path and use it for this. Will that be valid? ","username":"PushpalathaHiremath","ts":"2017-02-28T06:39:00.392Z"}
{"msg":"If you do not need the data (either directly or some representation of it - e.g., hashes of the data) on blockchain then you can keep any additional data on your own in a separate storage (managed by a separate process) on your node... But again a business scenario would be helpful to understand what relation this data carries with the data on blockchain.","username":"manish-sethi","ts":"2017-02-28T08:45:05.461Z"}
{"msg":"If you do not need the data (either directly or some representation of it - e.g., hashes of the data) on blockchain then you can keep any additional data on your own in a separate storage (managed by a separate process) on your node... But again,  a business scenario would be helpful to understand what relation this data carries with the data on blockchain.","username":"manish-sethi","ts":"2017-02-28T08:45:05.461Z"}
{"msg":"Has joined the channel.","username":"crmiles","ts":"2017-02-28T17:46:16.746Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DrTES","ts":"2017-02-28T18:29:57.841Z","type":"uj"}
{"msg":"Has joined the channel.","username":"l1nux","ts":"2017-02-28T22:43:23.243Z","type":"uj"}
{"msg":"Has joined the channel.","username":"snehas","ts":"2017-03-01T06:13:46.659Z","type":"uj"}
{"msg":"\n Hi,\n \n I am facing issue related to GetQueryResult API. In our chaincode we are calling GetQueryResult API of shim but it does not return expected response. Using sfhackfest images with version 1.0. \n  \n Below is the query used in GetQueryResult API\n {\"selector\":{\"docTypeId\":3,\"oriRe\":\"SMP\",\"ctB\":\"CTB\",\"valDt\":\"1990-12-24\",\"orB\":\"YYY\",\"tD\":\"TD\",\"cuVoB\":52,\"cuIoBu\":\"AA\",\"cuSt\":\"NA\"}}\n\n Query internally constructucted with data wrapper:(got from peer logs)  {\"selector\":{\"data.cuIoBu\":\"AA\",\"data.cuVoB\":52,\"data.data.ctB\":\"CTB\",\"data.data.cuSt\":\"NA\",\"data.docTypeId\":3,\"data.oriRe\":\"SMP\",\"data.orB\":\"YYY\",\"data.tD\":\"TD\",\"data.valDt\":\"1990-12-24\"}}\n If you see this query with data wrapper, for ctB and cuSt fields data.data is being appended instead of data and because of this it doesnot fetch record even though its present in ledger.\n \n However if we remove one of the field from the query then it returns response and in this case data.data is not getting appended to fields. \n Please find below query which returns response:-\n original query:- \n  {\"selector\":{\"docTypeId\":3,\"oriRe\":\"SMP\",\"ctB\":\"CTB\",\"valDt\":\"1990-12-24\",\"orB\":\"YYY\",\"tD\":\"TD\",\"cuVoB\":52,\"cuIoBu\":\"AA\"}}\n\n query with data wrapper: {\"selector\":{\"data.ctB\":\"CTB\",\"data.cuIoBu\":\"AA\",\"data.cuVoB\":52,\"data.docTypeId\":3,\"data.oriRe\":\"SMP\",\"data.orB\":\"YYY\",\"data.tD\":\"TD\",\"data.valDt\":\"1990-12-24\"}}\n \n Please provide your inputs.","username":"snehas","ts":"2017-03-01T06:15:26.472Z"}
{"msg":"\n Hi,\n \n I am facing issue related to GetQueryResult API. In our chaincode we are calling GetQueryResult API of shim but it does not return expected response. Using sfhackfest images with version 1.0. \n  \n Below is the query used in GetQueryResult API\n {\"selector\":{\"docTypeId\":3,\"oriRe\":\"SMP\",\"ctB\":\"CTB\",\"valDt\":\"1990-12-24\",\"orB\":\"YYY\",\"tD\":\"TD\",\"cuVoB\":52,\"cuIoBu\":\"AA\",\"cuSt\":\"NA\"}}\n\n Query internally constructucted with data wrapper:(got from peer logs)  {\"selector\":{\"data.cuIoBu\":\"AA\",\"data.cuVoB\":52,\"data.data.ctB\":\"CTB\",\"data.data.cuSt\":\"NA\",\"data.docTypeId\":3,\"data.oriRe\":\"SMP\",\"data.orB\":\"YYY\",\"data.tD\":\"TD\",\"data.valDt\":\"1990-12-24\"}}\n If you see this query with data wrapper, for ctB and cuSt fields data.data is being appended instead of data and because of this it doesnot fetch record even though its present in ledger.\n \n However if we remove one of the field from the query then it returns response and in this case data.data is not getting appended to fields. \n Please find below query which returns response:-\n original query:- \n  {\"selector\":{\"docTypeId\":3,\"oriRe\":\"SMP\",\"ctB\":\"CTB\",\"valDt\":\"1990-12-24\",\"orB\":\"YYY\",\"tD\":\"TD\",\"cuVoB\":52,\"cuIoBu\":\"AA\"}}\n\n query with data wrapper: {\"selector\":{\"data.ctB\":\"CTB\",\"data.cuIoBu\":\"AA\",\"data.cuVoB\":52,\"data.docTypeId\":3,\"data.oriRe\":\"SMP\",\"data.orB\":\"YYY\",\"data.tD\":\"TD\",\"data.valDt\":\"1990-12-24\"}}\n \n Please provide your inputs.","username":"snehas","ts":"2017-03-01T06:15:26.472Z"}
{"msg":"@dave.enyeart  \nHi,\n\nI am facing issue related to GetQueryResult API. In our chaincode we are calling GetQueryResult API of shim but it does not return expected response. Using sfhackfest images with version 1.0. \n\nBelow is the query used in GetQueryResult API\n{\"selector\":{\"docTypeId\":3,\"oriRe\":\"SMP\",\"ctB\":\"CTB\",\"valDt\":\"1990-12-24\",\"orB\":\"YYY\",\"tD\":\"TD\",\"cuVoB\":52,\"cuIoBu\":\"AA\",\"cuSt\":\"NA\"}}\n\nQuery internally constructucted with data wrapper:(got from peer logs) {\"selector\":{\"data.cuIoBu\":\"AA\",\"data.cuVoB\":52,\"data.data.ctB\":\"CTB\",\"data.data.cuSt\":\"NA\",\"data.docTypeId\":3,\"data.oriRe\":\"SMP\",\"data.orB\":\"YYY\",\"data.tD\":\"TD\",\"data.valDt\":\"1990-12-24\"}}\nIf you see this query with data wrapper, for ctB and cuSt fields data.data is being appended instead of data and because of this it doesnot fetch record even though its present in ledger.\n\nHowever if we remove one of the field from the query then it returns response and in this case data.data is not getting appended to fields. \nPlease find below query which returns response:-\noriginal query:- \n{\"selector\":{\"docTypeId\":3,\"oriRe\":\"SMP\",\"ctB\":\"CTB\",\"valDt\":\"1990-12-24\",\"orB\":\"YYY\",\"tD\":\"TD\",\"cuVoB\":52,\"cuIoBu\":\"AA\"}}\n\nquery with data wrapper: {\"selector\":{\"data.ctB\":\"CTB\",\"data.cuIoBu\":\"AA\",\"data.cuVoB\":52,\"data.docTypeId\":3,\"data.oriRe\":\"SMP\",\"data.orB\":\"YYY\",\"data.tD\":\"TD\",\"data.valDt\":\"1990-12-24\"}}\n\nPlease provide your inputs.","username":"snehas","ts":"2017-03-01T06:16:38.945Z"}
{"msg":"@snehas I see the same issue, I've created a defect to fix this: https://jira.hyperledger.org/browse/FAB-2560","username":"dave.enyeart","ts":"2017-03-01T06:56:49.034Z"}
{"msg":"Please delete one of the two postings here","username":"dave.enyeart","ts":"2017-03-01T06:58:25.449Z"}
{"msg":"Has joined the channel.","username":"jansony1","ts":"2017-03-01T07:14:58.998Z","type":"uj"}
{"msg":"@dave.enyeart \nThanks for your response. I have deleted duplicate post.","username":"snehas","ts":"2017-03-01T07:35:47.054Z"}
{"msg":"Has joined the channel.","username":"Thomas_Domingos","ts":"2017-03-01T09:51:10.567Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DuongNguyen1","ts":"2017-03-01T09:54:39.126Z","type":"uj"}
{"msg":"Has joined the channel.","username":"antitoine","ts":"2017-03-01T10:39:14.382Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SyneBlockChainTeam","ts":"2017-03-01T11:41:57.167Z","type":"uj"}
{"msg":"@manish-sethi @dave.enyeart: I am reviewing this https://gerrit.hyperledger.org/r/#/c/5929/ and would like some more info on the `blkstorage.IndexConfig` struct. How do I pick which attributes to index, and how does this affect me practically? (Assume I know nothing about LevelDB other than what's written here: http://dailyjs.com/post/leveldb-and-node-1 Feel free to point me to a resource that answers my question though.)","username":"kostas","ts":"2017-03-01T17:52:32.378Z"}
{"msg":"@kostas The indexes are there to support queries.  If you know which queries Orderer will need, I can help you pick the correct corresponding indexes:","username":"dave.enyeart","ts":"2017-03-01T17:56:25.743Z"}
{"msg":"\tRetrieveBlocks(startNum uint64) (ledger.ResultsIterator, error)\n\tRetrieveBlockByHash(blockHash []byte) (*common.Block, error)\n\tRetrieveBlockByNumber(blockNum uint64) (*common.Block, error) // blockNum of  math.MaxUint64 will return last block\n\tRetrieveTxByID(txID string) (*common.Envelope, error)\n\tRetrieveTxByBlockNumTranNum(blockNum uint64, tranNum uint64) (*common.Envelope, error)\n\tRetrieveBlockByTxID(txID string) (*common.Block, error)\n\tRetrieveTxValidationCodeByTxID(txID string) (peer.TxValidationCode, error)","username":"dave.enyeart","ts":"2017-03-01T17:56:28.566Z"}
{"msg":"Ah, I see. Luis has picked `IndexableAttrBlockNum` which seems like a sensible choice given that we look-up by block number.","username":"kostas","ts":"2017-03-01T17:58:10.336Z"}
{"msg":"Out of curiosity, if I were to provide an empty `IndexConfig` struct, what would I get?","username":"kostas","ts":"2017-03-01T17:58:42.447Z"}
{"msg":"A data store that cannot be queried I guess?","username":"kostas","ts":"2017-03-01T17:58:51.593Z"}
{"msg":"Yeah, I was going to recommend IndexableAttrBlockNum for you","username":"dave.enyeart","ts":"2017-03-01T18:01:50.655Z"}
{"msg":"Right, I believe the queries return error if the corresponding index is not in place","username":"dave.enyeart","ts":"2017-03-01T18:02:23.266Z"}
{"msg":"Roger, thank you.","username":"kostas","ts":"2017-03-01T18:03:57.348Z"}
{"msg":"Has joined the channel.","username":"bkvellanki","ts":"2017-03-01T20:15:57.936Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Donald Liu","ts":"2017-03-02T01:22:33.722Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Liew.SC","ts":"2017-03-02T02:59:29.488Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sameerreddy13","ts":"2017-03-02T03:13:50.339Z","type":"uj"}
{"msg":"@dave.enyeart: Doing some debugging on the ledger integration. Unless I'm mistaken, every ledger is stored as a dir inside a `blocks` dir.","username":"kostas","ts":"2017-03-02T16:12:38.267Z"}
{"msg":"@dave.enyeart, @manish-sethi: Doing some debugging on the ledger integration. Unless I'm mistaken, every ledger is stored as a dir inside a `blocks` dir.","username":"kostas","ts":"2017-03-02T16:12:38.267Z"}
{"msg":"Two questions/observations:","username":"kostas","ts":"2017-03-02T16:13:04.027Z"}
{"msg":"1. Semantically speaking, does it make sense to find a ledger dir inside the blocks dir?","username":"kostas","ts":"2017-03-02T16:14:50.974Z"}
{"msg":"1. Semantically speaking, does it make sense to find a ledger dir inside the blocks dir? I would expect to find the _blocks_ of a ledger inside a directory named \"blocks\".","username":"kostas","ts":"2017-03-02T16:14:50.974Z"}
{"msg":"I would expect to find the blocks of a ledger inside the `blocks` dir.","username":"kostas","ts":"2017-03-02T16:15:09.847Z"}
{"msg":"2. If we must stick with the \"blocks\" dir for this, can we have it as an exported constant? https://github.com/hyperledger/fabric/blob/master/common/ledger/blkstorage/fsblkstorage/config.go#L45","username":"kostas","ts":"2017-03-02T16:16:34.594Z"}
{"msg":"2. Whatever name we end up settling on for this parent directory, can we have it exported as a constant? For now it is hard-coded as a string that I cannot access programmatically: https://github.com/hyperledger/fabric/blob/master/common/ledger/blkstorage/fsblkstorage/config.go#L45","username":"kostas","ts":"2017-03-02T16:16:34.594Z"}
{"msg":"1. Agreed, I think it would make more sense to call it 'chains' than 'blocks', since it contains N chains.","username":"dave.enyeart","ts":"2017-03-02T16:25:28.422Z"}
{"msg":"2. Agreed, we could have a constant for the anme","username":"dave.enyeart","ts":"2017-03-02T16:25:38.283Z"}
{"msg":"2. Agreed, we could have a constant for the name","username":"dave.enyeart","ts":"2017-03-02T16:25:38.283Z"}
{"msg":"Cool. Do you want me to go ahead with a CR or do you got this? I got a series of changesets depending on this, and I'd like to be done with the ledger integration ASAP so that I can go back to fixing defects :slight_smile:","username":"kostas","ts":"2017-03-02T16:27:21.106Z"}
{"msg":"(orderer defects, that is)","username":"kostas","ts":"2017-03-02T16:27:51.383Z"}
{"msg":"whatever is easier... if it is easier for you to just do it in your CR so that there are no dependencies, go ahead","username":"dave.enyeart","ts":"2017-03-02T16:27:57.383Z"}
{"msg":"https://gerrit.hyperledger.org/r/#/c/6749/","username":"kostas","ts":"2017-03-02T17:48:58.001Z"}
{"msg":"Let me know if something looks wrong. (All unit-tests pass locally.)","username":"kostas","ts":"2017-03-02T17:49:11.258Z"}
{"msg":"+1","username":"dave.enyeart","ts":"2017-03-02T18:45:33.840Z"}
{"msg":"Has joined the channel.","username":"balaji.viswanathan","ts":"2017-03-03T05:56:57.538Z","type":"uj"}
{"msg":"Do we have any thoughts on what the permissions for the `chains` folder should be?","username":"kostas","ts":"2017-03-03T16:23:58.703Z"}
{"msg":"@kostas Ledger implicitly creates the directories it needs, using ioutil.go CreateDirIfMission()","username":"dave.enyeart","ts":"2017-03-03T17:25:00.537Z"}
{"msg":"@kostas Ledger implicitly creates the directories it needs, using ioutil.go CreateDirIfMissing()","username":"dave.enyeart","ts":"2017-03-03T17:25:00.537Z"}
{"msg":"in there, it does: \terr := os.MkdirAll(path.Dir(dirPath), 0755)","username":"dave.enyeart","ts":"2017-03-03T17:25:17.431Z"}
{"msg":"in there, it does: \t`err := os.MkdirAll(path.Dir(dirPath), 0755)`","username":"dave.enyeart","ts":"2017-03-03T17:25:17.431Z"}
{"msg":"in there, it does: \terr := os.MkdirAll(path.Dir(dirPath), 0755)","username":"dave.enyeart","ts":"2017-03-03T17:25:17.431Z"}
{"msg":"Has joined the channel.","username":"yoshtec","ts":"2017-03-03T19:08:49.340Z","type":"uj"}
{"msg":"@dave.enyeart how is the ledger stuff implemented in the fabric-composer project ?","username":"MartinMateev","ts":"2017-03-06T13:00:44.029Z"}
{"msg":"I'm having a hard time figuring out how the fabric-composer relates to the existing stack","username":"MartinMateev","ts":"2017-03-06T13:02:29.058Z"}
{"msg":"@MartinMateev fabric composer is build on top of the fabric. It has a javascript-runtime which is deployed as a chaincode, that runtime executes the business networks you are building by means of fabric-composer tools. So you define your assets, participants, ACLs and transaction processors using simple modelling language and javascript, and then this whole thing is deployed on top of fabric.","username":"Vadim","ts":"2017-03-06T13:09:24.286Z"}
{"msg":"it has also APIs for nodejs to interact with your business networks, so you can easily integrate with them","username":"Vadim","ts":"2017-03-06T13:10:21.731Z"}
{"msg":"btw, there is a #fabric-composer channel ","username":"Vadim","ts":"2017-03-06T13:11:43.140Z"}
{"msg":"@Vadim awesome, thanks!","username":"MartinMateev","ts":"2017-03-06T13:12:43.577Z"}
{"msg":"I'm in that channel so I will ping the guys in there","username":"MartinMateev","ts":"2017-03-06T13:13:09.041Z"}
{"msg":"@manish-sethi - @kostas raised a good question in this snippet:","username":"dave.enyeart","ts":"2017-03-06T17:27:49.930Z"}
{"msg":"```2017-03-06 11:50:25.476 EST [kvledger] newBlockfileStream -> DEBU 227f7 newBlockfileStream(): filePath=[/var/folders/19/48hn5bmn077clhhk9zj8w3bc0000gn/T/hyperledger-fabric-ordererledger031710899/chains/testchainid/blockfile_000000], startOffset=[67101560]\n2017-03-06 11:50:25.476 EST [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 227f8 Remaining bytes=[2847], Going to peek [8] bytes\n2017-03-06 11:50:25.476 EST [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 227f9 Returning blockbytes - length=[2845], placementInfo={fileNum=[0], startOffset=[67101560], bytesOffset=[67101562]}\n2017-03-06 11:50:25.477 EST [kvledger] indexBlock -> DEBU 227fa Indexing block [blockNum=23546, blockHash=[]byte{0x3, 0x16, 0x43, 0x2a, 0xd8, 0x18, 0x3c, 0x2f, 0xe, 0x10, 0x80, 0xc8, 0x47, 0x26, 0xb9, 0x63, 0xfc, 0x6a, 0x7a, 0xcd, 0x5a, 0xf5, 0x56, 0x4d, 0x93, 0x9f, 0x9e, 0x4e, 0x81, 0x1f, 0x6f, 0xce} txOffsets=\ntxId= locPointer=offset=72, bytesLength=69\ntxId= locPointer=offset=141, bytesLength=69\ntxId= locPointer=offset=210, bytesLength=69\ntxId= locPointer=offset=279, bytesLength=69\ntxId= locPointer=offset=348, bytesLength=69\ntxId= locPointer=offset=417, bytesLength=68\ntxId= locPointer=offset=485, bytesLength=69\ntxId= locPointer=offset=554, bytesLength=69\ntxId= locPointer=offset=623, bytesLength=69\ntxId= locPointer=offset=692, bytesLength=69\n]\n2017-03-06 11:50:25.477 EST [kvledger] updateCheckpoint -> DEBU 227fb Broadcasting about update checkpointInfo: latestFileChunkSuffixNum=[0], latestFileChunksize=[67107259], isChainEmpty=[false], lastBlockNumber=[23546]\n2017-03-06 11:50:25.478 EST [kvledger] retrieveBlockByNumber -> DEBU 227fc retrieveBlockByNumber() - blockNum = [23546]\n2017-03-06 11:50:25.478 EST [kvledger] newBlockfileStream -> DEBU 227fd newBlockfileStream(): filePath=[/var/folders/19/48hn5bmn077clhhk9zj8w3bc0000gn/T/hyperledger-fabric-ordererledger031710899/chains/testchainid/blockfile_000000], startOffset=[67104407]\n2017-03-06 11:50:25.478 EST [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 227fe Remaining bytes=[2852], Going to peek [8] bytes```","username":"dave.enyeart","ts":"2017-03-06T17:27:58.601Z"}
{"msg":"Why is remaining bytes increasing?  Seems like it should be decreasing.","username":"dave.enyeart","ts":"2017-03-06T17:28:18.757Z"}
{"msg":"2847 at the top and 2852 at the bottom","username":"dave.enyeart","ts":"2017-03-06T17:28:31.494Z"}
{"msg":"actually i think i see it: remainingBytes := fileInfo.Size() - s.currentOffset","username":"dave.enyeart","ts":"2017-03-06T17:35:45.094Z"}
{"msg":"actually i think i see it: `remainingBytes := fileInfo.Size() - s.currentOffset`","username":"dave.enyeart","ts":"2017-03-06T17:35:45.094Z"}
{"msg":"@dave.enyeart, @kostas : from the logs it appears that there are two streams opened to the block file. The latter one starting at a previous block","username":"manish-sethi","ts":"2017-03-06T17:36:08.749Z"}
{"msg":"both file size and current offset are increasing","username":"dave.enyeart","ts":"2017-03-06T17:36:13.871Z"}
{"msg":"Look for `newBlockfileStream`","username":"manish-sethi","ts":"2017-03-06T17:36:45.180Z"}
{"msg":"i guess we need @kostas to explain what he's doing","username":"dave.enyeart","ts":"2017-03-06T17:37:33.290Z"}
{"msg":"in the logs in the snippet, the first one is opened at offset 67101560 and the second one at the offset 67104407","username":"manish-sethi","ts":"2017-03-06T17:37:43.976Z"}
{"msg":"Just broadcasting messages to the orderer from a single client, the `broadcast_timestamp` sample clients in `orderer/sample_clients`.","username":"kostas","ts":"2017-03-06T17:38:24.267Z"}
{"msg":"Not sure I follow your observations above. Are you suggesting there may be an implementation issue?","username":"kostas","ts":"2017-03-06T17:39:16.680Z"}
{"msg":"we mentioned to Luis that he should iterate through the stream, rather than retrieveBlockByNumber for each block","username":"dave.enyeart","ts":"2017-03-06T17:39:55.958Z"}
{"msg":"No, I'm just trying to understand the usage pattern... let me look at the `orderer/sample_clients`. Is it in the master?","username":"manish-sethi","ts":"2017-03-06T17:40:50.542Z"}
{"msg":"@manish-sethi: Yes.","username":"kostas","ts":"2017-03-06T17:41:13.516Z"}
{"msg":"And I have a branch I can point you to in a few minutes, so that you can try out the ledger integration in action, just let me know.","username":"kostas","ts":"2017-03-06T17:41:37.626Z"}
{"msg":"@dave.enyeart: I believe you refer to this. https://gerrit.hyperledger.org/r/#/c/5929/10/orderer/ledger/file/fileledger.go@50","username":"kostas","ts":"2017-03-06T17:41:46.171Z"}
{"msg":"right","username":"dave.enyeart","ts":"2017-03-06T17:42:46.942Z"}
{"msg":"If this is merely an optimization issue, I am fine with improving in later changesets. If however this approach is wrong, let me know why and let's take care of it.","username":"kostas","ts":"2017-03-06T17:42:53.722Z"}
{"msg":"no, it's not wrong","username":"manish-sethi","ts":"2017-03-06T17:43:28.276Z"}
{"msg":"it's an optimization","username":"manish-sethi","ts":"2017-03-06T17:43:38.915Z"}
{"msg":"right","username":"dave.enyeart","ts":"2017-03-06T17:44:14.056Z"}
{"msg":"This 'Remaining bytes=...' in the logs could increase for two reasons. 1) the new iterator is opened at some previous block or 2) more blocks got added to the file between opening of first iterator and the second iterator.","username":"manish-sethi","ts":"2017-03-06T17:46:01.104Z"}
{"msg":"There is a indexBlock() in the trace, therefore blocks are getting added","username":"dave.enyeart","ts":"2017-03-06T17:46:46.188Z"}
{"msg":"Do you want me to look at some particular file in `orderer/sample_clients` to see the usage pattern of iterator?","username":"manish-sethi","ts":"2017-03-06T17:46:51.101Z"}
{"msg":"that is just the client side... we are interested in the orderer server side","username":"dave.enyeart","ts":"2017-03-06T17:47:09.275Z"}
{"msg":"Ah, I see.","username":"kostas","ts":"2017-03-06T17:47:10.565Z"}
{"msg":"and i think we are good... they are getting block by number now, and will use the stream in the future","username":"dave.enyeart","ts":"2017-03-06T17:47:28.025Z"}
{"msg":"It seems like we are good indeed.","username":"kostas","ts":"2017-03-06T17:47:59.902Z"}
{"msg":"Thanks guys.","username":"kostas","ts":"2017-03-06T17:48:02.921Z"}
{"msg":"I'll push the final changeset in a few.","username":"kostas","ts":"2017-03-06T17:48:12.570Z"}
{"msg":"Has joined the channel.","username":"WeDoIoE","ts":"2017-03-07T00:16:58.177Z","type":"uj"}
{"msg":"Earlier we have been using hyperledger fabric v0.5 and v0.6 with vagrant and successfully developed various sample applications. Now we want to switch to v1.0. Though we are following the steps given on \"http://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/devenv.html\", but somehow we are facing issues while setting up development environment. Is membersrvc.yaml file replaced with fabric-cop? Thanks in advance.\n","username":"SyneBlockChainTeam","ts":"2017-03-07T07:38:07.610Z"}
{"msg":"Has joined the channel.","username":"codewinguagua","ts":"2017-03-07T08:33:36.669Z","type":"uj"}
{"msg":"guys, if a network is encrypting transaction payload - how is the payload then stored into something like CouchDB?","username":"MartinMateev","ts":"2017-03-07T09:10:44.963Z"}
{"msg":"@SyneBlockChainTeam could you ask that question in fabric-crypto/fabric-ca please ? Just don't want it to get buried here without a response","username":"muralisr","ts":"2017-03-07T12:41:21.035Z"}
{"msg":"@SyneBlockChainTeam could you ask that question in fabric-crypto please ? Just don't want it to get buried here without a response","username":"muralisr","ts":"2017-03-07T12:41:21.035Z"}
{"msg":"but the short answer is `fabric-ca` is the loose equivalent of the old membership service in 0.6....\"loose equivalent\" because many of the flows with it are different ","username":"muralisr","ts":"2017-03-07T12:42:49.824Z"}
{"msg":"@muralisr - Done.","username":"SyneBlockChainTeam","ts":"2017-03-07T13:05:08.863Z"}
{"msg":"@SyneBlockChainTeam please take that question to #fabric-dev-env ","username":"dave.enyeart","ts":"2017-03-07T15:35:44.671Z"}
{"msg":"@MartinMateev if data payload is binary (or encrypted), then it makes no sense to use CouchDB.  Only makes sense to use CouchDB if the data payload is JSON.  In some cases there is a mixed workload of JSON and binary, and in those cases you can use CouchDB.  The binary data will simply be stored in CouchDB as a binary attachment, and can only be queried by id (GetState).","username":"dave.enyeart","ts":"2017-03-07T15:39:02.996Z"}
{"msg":"In other cases you may only want to encrypt sensitive fields in the JSON.  In that case those fields can be base64 encoded, and it would still make sense to use CouchDB so that the other JSON fields could be queried.","username":"dave.enyeart","ts":"2017-03-07T15:40:02.770Z"}
{"msg":"@dave.enyeart that's a great idea","username":"MartinMateev","ts":"2017-03-07T16:45:02.642Z"}
{"msg":"I can use the encrypted for sensitive and plan-text for query params","username":"MartinMateev","ts":"2017-03-07T16:45:39.374Z"}
{"msg":"I wish I can see an example node-sdk web JS app for the CouchDB marble example (end to end)","username":"MartinMateev","ts":"2017-03-07T16:46:09.372Z"}
{"msg":"i.e deploy a chain code, register a user, save JSON in CouchDB and query - all via the Node SDK ","username":"MartinMateev","ts":"2017-03-07T16:46:39.174Z"}
{"msg":"@jimthematrix @jeffgarratt Note that there has been a lot of interest in an end-to-end example using /examples/chaincode/go/marbles02. Like example02, marbles02 has some trivial functions to test HelloWorld type scenarios.  Unlike example02, marbles02 also has additional functions to illustrate recommended data chaincode patterns.  It works on leveldb and couchdb (of course, the rich query functions would require couchdb, but the simple examples dont have to exercise that).  I would recommend bdd, samples, demos, etc utilize marbles02 going forward, due to the additional value.","username":"dave.enyeart","ts":"2017-03-07T17:19:09.179Z"}
{"msg":"Has joined the channel.","username":"jeffgarratt","ts":"2017-03-07T17:19:09.243Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jimthematrix","ts":"2017-03-07T17:19:09.262Z","type":"uj"}
{"msg":"(Out of curiosity, is there any reason why is this marbles02 instead of plain marbles?)","username":"kostas","ts":"2017-03-07T17:26:21.601Z"}
{"msg":"(Out of curiosity, is there any reason why this is marbles02 instead of plain marbles?)","username":"kostas","ts":"2017-03-07T17:26:21.601Z"}
{"msg":"@kostas There are two versions of marbles.  'marbles' is the bluemix sample with UI and doesn't showcase recommended chaincode/data patterns.   'marbles02' is intended to be a replacement for example02 and it showcases recommended chaincode/data patterns.","username":"dave.enyeart","ts":"2017-03-07T17:45:32.353Z"}
{"msg":"@kostas There are two versions of marbles.  'marbles' is the bluemix sample with UI and doesn't showcase recommended chaincode/data patterns.   'marbles02' is intended to be a replacement for example02 as a good HelloWorld example, and it also showcases recommended chaincode/data patterns.","username":"dave.enyeart","ts":"2017-03-07T17:45:32.353Z"}
{"msg":"There is intent to converge the marbles, but until that happens, we have 'marbles02'","username":"dave.enyeart","ts":"2017-03-07T17:45:44.693Z"}
{"msg":"Is there a tutorial or some documentation for loopback-connector-composer ? ","username":"Percival Lucena","ts":"2017-03-07T18:30:25.141Z"}
{"msg":"Other than couchbase and leveldb, are there other databases being considered?  It would be nice if it was fairly easy to add an adapter.","username":"StevenLanders","ts":"2017-03-07T22:00:07.898Z"}
{"msg":"@StevenLanders No other databases planned. The state database is defined by an interface, therefore other (key-value type) state database implementations can be coded up","username":"dave.enyeart","ts":"2017-03-07T22:28:42.350Z"}
{"msg":"Has joined the channel.","username":"berserkr","ts":"2017-03-08T06:15:59.429Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AbhilekhSingh","ts":"2017-03-08T13:52:23.807Z","type":"uj"}
{"msg":"How can I see ledger blocks data store on peer?\nI don't see any option in peer cli\nI see blockchain explorer but it only supports 0.6","username":"AbhilekhSingh","ts":"2017-03-08T13:52:37.889Z"}
{"msg":"@AbhilekhSingh yeah good question","username":"MartinMateev","ts":"2017-03-08T14:02:36.052Z"}
{"msg":"Blockchain explorer does not support latest version?","username":"MartinMateev","ts":"2017-03-08T14:02:58.210Z"}
{"msg":"Has joined the channel.","username":"Suma","ts":"2017-03-08T15:43:33.151Z","type":"uj"}
{"msg":"No blockchain explorer support for v1.  There are APIs on the peer via Query System Chaincode such as:","username":"dave.enyeart","ts":"2017-03-08T16:44:04.673Z"}
{"msg":"```peer chaincode query -o 127.0.0.1:7050 -C \"\" -n qscc -c '{\"Args\":[\"GetChainInfo\",\"myc1\"]}' \npeer chaincode query -o 127.0.0.1:7050 -C \"\" -n qscc -c '{\"Args\":[\"GetBlockByNumber\",\"myc1\",\"3\"]}' ```","username":"dave.enyeart","ts":"2017-03-08T16:44:11.825Z"}
{"msg":"However these return protobuf binary structures.  It is recommended to use SDK APIs which wrap these peer APIs","username":"dave.enyeart","ts":"2017-03-08T16:45:18.641Z"}
{"msg":"Hi Guys, the verbiage in the architecture text is a bit misleading. For instance, here is the first chunk: Ledger is kept at all peers and, optionally, at a subset of orderers. In the context of an orderer we refer to the Ledger as to OrdererLedger, whereas in the context of a peer we refer to the ledger as to PeerLedger... ","username":"berserkr","ts":"2017-03-08T23:59:06.339Z"}
{"msg":"Then later on: Orderers maintain OrdererLedger for fault-tolerance and availability (of the PeerLedger) and may decide to prune it at anytime, provided that properties of the ordering service (see Sec. 1.3.3) are maintained","username":"berserkr","ts":"2017-03-08T23:59:40.719Z"}
{"msg":"so, does this mean that orderers do indeed maintain the ordered ledger? And it is not optional? I am confused because the text says that the orderer service maintains the orderedledger","username":"berserkr","ts":"2017-03-09T00:00:17.859Z"}
{"msg":"Guys/Gals, quick question. Does the ledger have at-rest-encryption?","username":"berserkr","ts":"2017-03-09T01:19:21.259Z"}
{"msg":"Could someone tamper with the data and mark txs valid/invalid (flip the bit)?","username":"berserkr","ts":"2017-03-09T01:19:50.841Z"}
{"msg":"or is that bit included when computing the hash of a block?","username":"berserkr","ts":"2017-03-09T01:20:21.576Z"}
{"msg":"is there documentation that describes how blocks are chained together? I'm familiar with the bitcoin blockchain, however, so far everything i have read is how transactions are handled down to how the ledger is updates, but everyting is at the tx level","username":"berserkr","ts":"2017-03-09T01:26:12.624Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ci?msg=hX8yz5DuSSNniHFRJ) @dave.enyeart \nhttp://docs.couchdb.org/en/2.0.0/api/database/find.html#db-index\n...\n         {\n\t\t\"ddoc\": \"_design/ddoc\",\n\t\t\"name\": \"indexOwnerdesc\",\n\t\t\"type\": \"json\",\n\t\t\"def\": {\n\t\t\t\"fields\": [{\n\t\t\t\t*\"data.size\": \"desc\"*\n\t\t\t}]\n\t\t}\n\t}, {\n\t\t\"ddoc\": \"_design/ddocasc\",\n\t\t\"name\": \"indexOwnerasc\",\n\t\t\"type\": \"json\",\n\t\t\"def\": {\n\t\t\t\"fields\": [{\n\t\t\t\t*\"data.size\": \"asc\"*\n\t\t\t}]\n\t\t}\n\t}\n...\n\nI created 2 index on marble's property size, one using asc and other desc sort as shown. I was expecting this will be the order of arranging the entries on B-Tree. However a selector/rich query on size gt 0 created the same resultset  in same order when either asc or desc index was used. Not able to get what's the use of this sort field?","username":"rahulhegde","ts":"2017-03-09T01:59:05.661Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ci?msg=hX8yz5DuSSNniHFRJ","url":"https://chat.hyperledger.org/channel/fabric-ci?msg=hX8yz5DuSSNniHFRJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rahulhegde I believe you can traverse a b-tree forwards or backwards.  The sort order will be driven by the query sort specification, not the index sort specification.","username":"dave.enyeart","ts":"2017-03-09T02:25:02.609Z"}
{"msg":"@rahulhegde I believe you can traverse a b-tree forwards or backwards.  The sort order will be driven by the query sort specification, not the index sort specification. Not sure of the significance of sort on the index, perhaps there is a small performance improvement with forward traversal","username":"dave.enyeart","ts":"2017-03-09T02:25:02.609Z"}
{"msg":"@dave.enyeart - I am addressing this to you as I didn't get any response on #fabric \n\nI ran chaincode-2-chaincode query interface test using example02, example04 on Fabric-CI Images - 4th March. 1 thing I noticed and as per https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go#L57 - Invoke operation containing PutState will not be recorded to the ledger (irrespective if chaincode is running on the same or different channel of the same peer). And this is what I see as expected.\n\nHowever looking at the go test written for example04 at https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/chaincode_example04/chaincode_example04_test.go#L109, the invoke operation containing PutState (transfer 10 unit from A -> B ) gets registered/committed in mock-stub implementation. This need to be corrected.","username":"rahulhegde","ts":"2017-03-09T03:11:45.463Z"}
{"msg":"Has joined the channel.","username":"lenin.mehedy","ts":"2017-03-09T04:05:41.293Z","type":"uj"}
{"msg":"Invoke operations do get recorded","username":"berserkr","ts":"2017-03-09T05:06:51.146Z"}
{"msg":"query do not as far as I know","username":"berserkr","ts":"2017-03-09T05:06:56.421Z"}
{"msg":"the difference is what gets called from what i see","username":"berserkr","ts":"2017-03-09T05:10:44.804Z"}
{"msg":"for instance, define f := \"invoke\", it will modify the state","username":"berserkr","ts":"2017-03-09T05:10:56.350Z"}
{"msg":"InvokeChaincode is only interface to invoke a chaincode, but the function defines the type","username":"berserkr","ts":"2017-03-09T05:11:36.639Z"}
{"msg":"query will not modify the state, invoke will","username":"berserkr","ts":"2017-03-09T05:11:43.814Z"}
{"msg":"Has joined the channel.","username":"rikmoedt","ts":"2017-03-09T11:11:40.828Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aberfou","ts":"2017-03-09T13:48:17.103Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=dyCazM93EyCcb7rum) @berserkr https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go#L57 - Comments say InvokeChaincode calling function which has Shim.PutState will have no effect on ledger. This needs to be considered in the Mock-Stub implementation which currently has a effect on ledger.","username":"rahulhegde","ts":"2017-03-09T15:19:23.394Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dyCazM93EyCcb7rum","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dyCazM93EyCcb7rum","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=dyCazM93EyCcb7rum) @berserkr https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go#L57 - Comments say InvokeChaincode calling function which has Shim.PutState will have no effect on ledger. This needs to be considered in the Mock-Stub implementation which currently has a effect on mocked-ledger.","username":"rahulhegde","ts":"2017-03-09T15:19:23.394Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dyCazM93EyCcb7rum","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dyCazM93EyCcb7rum","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"kuangchao","ts":"2017-03-10T01:58:52.373Z","type":"uj"}
{"msg":"Hi Guys, is there any locking at the db level when executing chaincode?","username":"berserkr","ts":"2017-03-10T06:35:23.063Z"}
{"msg":"I know that the endorsers will generate the read/write sets, right? They also execute chaincode and do the simulation. But is the db locked during this step?","username":"berserkr","ts":"2017-03-10T06:35:54.832Z"}
{"msg":"@berserkr yes, the simulation and commit is synchronized by a read-write lock. Simulations happen under the read locks and the commit of block happens under the write lock.","username":"manish-sethi","ts":"2017-03-10T06:50:55.022Z"}
{"msg":"interesting, I suspected as much. So, at what levels are locks enforced?","username":"berserkr","ts":"2017-03-10T06:51:44.121Z"}
{"msg":"can peers read/write to the same db in parallel?","username":"berserkr","ts":"2017-03-10T06:52:08.362Z"}
{"msg":"and when will the locks be released?","username":"berserkr","ts":"2017-03-10T06:52:42.539Z"}
{"msg":"reason I ask is what if you have a chaincode that takes up a lot of time (long running job)","username":"berserkr","ts":"2017-03-10T06:53:04.200Z"}
{"msg":"it could starve others","username":"berserkr","ts":"2017-03-10T06:53:15.425Z"}
{"msg":"As a usual read-write lock works... all simulations can go in parallel but not when commit is underway","username":"manish-sethi","ts":"2017-03-10T06:53:23.946Z"}
{"msg":"ahh ok","username":"berserkr","ts":"2017-03-10T06:53:56.401Z"}
{"msg":"for reading, there are no locks right? bc simulation reads directly from db","username":"berserkr","ts":"2017-03-10T06:54:25.507Z"}
{"msg":"In the situation you posed, a long running chaincode tran won't starve others but commit would have to wait till the chaincode simulation finishes","username":"manish-sethi","ts":"2017-03-10T06:54:35.192Z"}
{"msg":"so if i have a bug in my code with an infinite loop, it won't affect others","username":"berserkr","ts":"2017-03-10T06:55:09.581Z"}
{"msg":"just my code","username":"berserkr","ts":"2017-03-10T06:55:12.729Z"}
{"msg":"it would affect the commit process. Commit of new block has to wait till chaincode runtime times out your chaincode...","username":"manish-sethi","ts":"2017-03-10T06:56:18.163Z"}
{"msg":"but yes, not the other chaincodes simulations...","username":"manish-sethi","ts":"2017-03-10T06:56:55.245Z"}
{"msg":"ahhh, interesting, there is a time out in there","username":"berserkr","ts":"2017-03-10T06:57:11.110Z"}
{"msg":"is that something in the configuration that determines what that timeout is?","username":"berserkr","ts":"2017-03-10T06:57:33.663Z"}
{"msg":"I think so but not sure... @muralisr can confirm on this","username":"manish-sethi","ts":"2017-03-10T06:57:35.691Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=DKAnAvo9MLkGr5iDB) @berserkr No, simulation happends under the read-lock","username":"manish-sethi","ts":"2017-03-10T06:58:21.249Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DKAnAvo9MLkGr5iDB","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DKAnAvo9MLkGr5iDB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"alright, will confirm with @muralisr , thank you @manish-sethi !","username":"berserkr","ts":"2017-03-10T06:58:38.831Z"}
{"msg":"is there a guide that shows how to install/connect the fabric with couchdb instead of leveldb for the state?","username":"berserkr","ts":"2017-03-10T07:16:35.006Z"}
{"msg":"or other way around?","username":"berserkr","ts":"2017-03-10T07:17:12.584Z"}
{"msg":"@bere","username":"MartinMateev","ts":"2017-03-10T12:45:10.886Z"}
{"msg":"@berserkr as far as I know at this stage it's a matter of specifying the key-value store in a core config file","username":"MartinMateev","ts":"2017-03-10T12:45:44.069Z"}
{"msg":"as to an actual example - I only found a GO sample app that deals with CouchDB","username":"MartinMateev","ts":"2017-03-10T12:46:03.213Z"}
{"msg":"it should also be possible to achieve the same with the JS SDK but sample apps are practically non-existing so I'm looking at the JS tests to see sample usage: https://github.com/hyperledger/fabric-sdk-node","username":"MartinMateev","ts":"2017-03-10T12:47:26.300Z"}
{"msg":"it looks like the v1 JS SDK specs are still pretty much work in progress","username":"MartinMateev","ts":"2017-03-10T12:49:12.601Z"}
{"msg":"@berserkr https://github.com/hyperledger/fabric-sdk-node/tree/master/examples/balance-transfer","username":"MartinMateev","ts":"2017-03-10T12:54:12.662Z"}
{"msg":"http://hyperledger-fabric.readthedocs.io/en/latest/ledger.html says \"To enable CouchDB as the state database, configure the /fabric/peer/core.yaml stateDatabase section.\"","username":"dave.enyeart","ts":"2017-03-10T12:57:24.006Z"}
{"msg":"flipping between goleveldb and CouchDB is a single config option in there","username":"dave.enyeart","ts":"2017-03-10T12:57:40.102Z"}
{"msg":"of course, you have to have a CouchDB environment available-","username":"dave.enyeart","ts":"2017-03-10T12:58:01.477Z"}
{"msg":"For vagrant env you can `make couchdb` and then `couchdb start`","username":"dave.enyeart","ts":"2017-03-10T12:58:18.649Z"}
{"msg":"For docker, instructions are coming together here: https://gerrit.hyperledger.org/r/#/c/7097","username":"dave.enyeart","ts":"2017-03-10T12:58:40.028Z"}
{"msg":"Instead of in core.yaml, you can also pass the config via environment variable: `CORE_LEDGER_STATE_STATEDATABASE=CouchDB peer node start`","username":"dave.enyeart","ts":"2017-03-10T13:00:01.835Z"}
{"msg":" /fabric/examples/chaincode/go/marbles02 chaincode demonstrates use of the additional CouchDB functionality ","username":"dave.enyeart","ts":"2017-03-10T13:02:30.122Z"}
{"msg":"As for couchDB, recently we have made stress test, which included invoke requests to fabric, a lot of them, 1000reqs with 50 threads.. so couchdb just hanged when we were doing test, finally we turned off couchdb and currently we use embdedd levelDB","username":"ruslan.kryukov","ts":"2017-03-10T13:05:28.808Z"}
{"msg":"also currently we have 4 peers, 4 orderers, 2 kafka and 1 zookeeper, our speed is 280-350 reqs per second","username":"ruslan.kryukov","ts":"2017-03-10T13:06:45.984Z"}
{"msg":"@ruslan.kryukov is it for invocation or for querying?","username":"Vadim","ts":"2017-03-10T13:08:53.017Z"}
{"msg":"invocation","username":"ruslan.kryukov","ts":"2017-03-10T13:09:05.112Z"}
{"msg":"and what is the latency?","username":"Vadim","ts":"2017-03-10T13:09:23.204Z"}
{"msg":"i.e. how long it takes for a request to be completed?","username":"Vadim","ts":"2017-03-10T13:09:37.974Z"}
{"msg":"all machines are in same local network","username":"ruslan.kryukov","ts":"2017-03-10T13:09:41.499Z"}
{"msg":"All tasks finished!\n\n### Benchmark Result ###\nPeers: 1\nOrderers: 1\nThread count: 120\nTask count: 36000\nResult time: 104.455 sec\nPerformance: 344req/sec\n\n### Invoke status ###\nSuccess: 36000\n\nIBM Corp. 2017 All Rights Reserved","username":"ruslan.kryukov","ts":"2017-03-10T13:10:24.114Z"}
{"msg":"yes, but how long it takes between sending invoke to endorsers and receiving confirmation from orderer on average per transaction? Don't know how to call it... Transaction execution time, maybe?","username":"Vadim","ts":"2017-03-10T13:11:13.481Z"}
{"msg":"I didn't check that time","username":"ruslan.kryukov","ts":"2017-03-10T13:11:53.351Z"}
{"msg":"so far I only tried with one orderer, so it takes 5 seconds or so, I was wondering how it changes if you have 4 orderers","username":"Vadim","ts":"2017-03-10T13:12:51.929Z"}
{"msg":"Thanks Ruslan. Have you been able to identify specific bottlenecks?","username":"dave.enyeart","ts":"2017-03-10T13:14:57.560Z"}
{"msg":"As far CouchDB, it has not yet gone through optimization, performance, stress test. That will be done under https://jira.hyperledger.org/browse/FAB-2725","username":"dave.enyeart","ts":"2017-03-10T13:15:48.098Z"}
{"msg":"As far as CouchDB, it has not yet gone through optimization, performance, stress test. That will be done under https://jira.hyperledger.org/browse/FAB-2725","username":"dave.enyeart","ts":"2017-03-10T13:15:48.098Z"}
{"msg":"@Vadim hm we tested only throughput, but when I getting transaction response from `CompletableFuture<BlockEvent.TransactionEvent>` it takes 1-2 seconds","username":"ruslan.kryukov","ts":"2017-03-10T13:17:07.808Z"}
{"msg":"ok, thanks","username":"Vadim","ts":"2017-03-10T13:17:19.108Z"}
{"msg":"Has joined the channel.","username":"yury","ts":"2017-03-10T13:17:29.960Z","type":"uj"}
{"msg":"@dave.enyeart I turned on profiling and found that peer is doing a lot of operations with cryptography ","username":"ruslan.kryukov","ts":"2017-03-10T13:18:06.925Z"}
{"msg":"but in general, I didn't investigate in details yet","username":"ruslan.kryukov","ts":"2017-03-10T13:19:37.349Z"}
{"msg":"but in general, I didn't investigate it in details yet","username":"ruslan.kryukov","ts":"2017-03-10T13:19:37.349Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=jXRbfogxijr5NJz2r) @dave.enyeart good, also what if someone bad guy has changed some values in couchdb? How fabric reacts to that changes?","username":"ruslan.kryukov","ts":"2017-03-10T13:26:06.891Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jXRbfogxijr5NJz2r","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jXRbfogxijr5NJz2r","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Future endorsements on the tampered data will fail since it is different across peers, and the bad peer will be found out.  At any time, the state db can be rebuilt from the trusted chain data.","username":"dave.enyeart","ts":"2017-03-10T13:31:59.478Z"}
{"msg":"@ruslan.kryukov  Future endorsements on the tampered data will fail since it is different across peers, and the bad peer will be found out.  At any time, the state db can be rebuilt from the trusted chain data.","username":"dave.enyeart","ts":"2017-03-10T13:31:59.478Z"}
{"msg":"oh, well","username":"ruslan.kryukov","ts":"2017-03-10T13:43:44.207Z"}
{"msg":"GM @dave.enyeart \nI am running Fabric-Images  (4th March) with klaemo/couchDB. Using the Peer CLI - got a successful Endorsement Proposal response however I am not able to see the JSON node in the couch DB (after it sending it to the orderer).\n1. Checked using fauzton and http _find for _id > null = returns me only 2 nodes lccc<chaincode> and statedb_savepoint.\n2. I am assuming Peer is committing the block since there is change in statedb_savepoint::BlockNum","username":"rahulhegde","ts":"2017-03-10T15:19:05.751Z"}
{"msg":"GM @dave.enyeart \nI am running Fabric-Images  (4th March) with klaemo/couchDB. Using the Peer CLI - got a successful Endorsement Proposal response however I am not able to see the JSON node in the couch DB (after it sending it to the orderer).\n1. Checked using fauzton and http _find for _id > null = returns me only 2 nodes lccc<chaincode> and statedb_savepoint.\n2. I am assuming Peer is committing the block since there is change in statedb_savepoint::BlockNum\n\n2 things/difference - \n* JSON which is part of the PutState is around 1KB and \n* second could be the block getting Rejected - is there a way I check this in peer logs?","username":"rahulhegde","ts":"2017-03-10T15:19:05.751Z"}
{"msg":"tran invalidation would show up as a Warning in peer logs.  you can see exactly what is happening with block commit and state db commit if you enable additional debug.  i'd recommend getting familiar with the debug, at least the last part around block commit, it isnt too intimidating:","username":"dave.enyeart","ts":"2017-03-10T15:29:52.052Z"}
{"msg":"@rahulhegde  tran invalidation would show up as a Warning in peer logs.  you can see exactly what is happening with block commit and state db commit if you enable additional debug.  i'd recommend getting familiar with the debug, at least the last part around block commit, it isnt too intimidating:","username":"dave.enyeart","ts":"2017-03-10T15:29:52.052Z"}
{"msg":"`CORE_LOGGING_LEVEL=DEBUG peer node start`","username":"dave.enyeart","ts":"2017-03-10T15:29:56.956Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=hcb9GE4w3wsy4fhAa) @dave.enyeart Is it possible to disable the GOSSIP Logs, its rolling-rolling even at info level.","username":"rahulhegde","ts":"2017-03-10T15:42:47.600Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hcb9GE4w3wsy4fhAa","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hcb9GE4w3wsy4fhAa","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=hcb9GE4w3wsy4fhAa) @dave.enyeart Is it possible to disable the peer GOSSIP Logs, its rolling-rolling even at info level.","username":"rahulhegde","ts":"2017-03-10T15:42:47.600Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hcb9GE4w3wsy4fhAa","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hcb9GE4w3wsy4fhAa","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rahulhegde were you following a specific guide to get to the point of \"running Fabric-Images (4th March) with klaemo/couchDB\" ?","username":"MartinMateev","ts":"2017-03-10T15:43:32.752Z"}
{"msg":"Has joined the channel.","username":"JatinderBali","ts":"2017-03-10T15:44:31.215Z","type":"uj"}
{"msg":"@rahulhegde gossip logging has been reduced recently.  you can silence it for now with:","username":"dave.enyeart","ts":"2017-03-10T15:45:40.909Z"}
{"msg":"```peer logging setlevel gossip/comm#-1 ERROR\npeer logging setlevel gossip/discovery#0.0.0.0:7051 ERROR\npeer logging setlevel gossip/gossip#0.0.0.0:7051 ERROR```","username":"dave.enyeart","ts":"2017-03-10T15:45:45.114Z"}
{"msg":"your port may be different","username":"dave.enyeart","ts":"2017-03-10T15:46:00.917Z"}
{"msg":"copy/paste the whole line... the formatting was not intentional","username":"dave.enyeart","ts":"2017-03-10T15:46:16.713Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=sATurdktScSQ9emCv) @MartinMateev used - https://gerrit.hyperledger.org/r/#/c/6947/","username":"rahulhegde","ts":"2017-03-10T15:47:13.928Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=sATurdktScSQ9emCv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=sATurdktScSQ9emCv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Actually, latest CouchDB docker instructions are here now: https://gerrit.hyperledger.org/r/#/c/7097/","username":"dave.enyeart","ts":"2017-03-10T15:49:46.297Z"}
{"msg":"I'm getting completely lost","username":"MartinMateev","ts":"2017-03-10T15:52:35.420Z"}
{"msg":"@dave.enyeart I set-up my environment by using the hackfest workplace as described here: http://hyperledger-fabric.readthedocs.io/en/latest/asset_setup.html#","username":"MartinMateev","ts":"2017-03-10T15:53:00.937Z"}
{"msg":"how would I enable CouchDB so I can try playing around with the marble chaincode (https://github.com/hyperledger/fabric/blob/938b5dc41f15e2ce5e2daeaa1133c65ceeb0fb14/examples/chaincode/go/marbles02/marbles_chaincode.go)","username":"MartinMateev","ts":"2017-03-10T15:53:31.119Z"}
{"msg":"the docker images and cleaned up instructions will be made available in a week or so.  For now use docker image klaemo/couchDB and check out instructions here:  https://gerrit.hyperledger.org/r/#/c/7097.   ","username":"dave.enyeart","ts":"2017-03-10T16:02:00.798Z"}
{"msg":"the docker images and cleaned up instructions will be made available in a week or so.  For now use docker image klaemo/couchDB and check out the work in progress instructions here:  https://gerrit.hyperledger.org/r/#/c/7097.   ","username":"dave.enyeart","ts":"2017-03-10T16:02:00.798Z"}
{"msg":"@AdnanC may be able to help answer specific questions","username":"dave.enyeart","ts":"2017-03-10T16:02:19.519Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=E6v8eQPWQW5PvLXpe) @dave.enyeart \nthanks for the steps, it has silenced peer0 completely. I will move peer in DEBUG from INFO mode now. Sorry on call, will catch up.","username":"rahulhegde","ts":"2017-03-10T16:17:20.531Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=E6v8eQPWQW5PvLXpe","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=E6v8eQPWQW5PvLXpe","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart @manish-sethi I want to bring up the protobuf deterministic issue again as we're talking about making wr-set protobuf.  Ref https://groups.google.com/forum/#!topic/protobuf/7do1mgl-5LM. That ref points to 2 things Maps and Unknown fields. The discussion only mentioned languages but not platforms, which I am concerned about, especially EBCDIC vs ASCII. Would a rw-set created and marshaled on EBCDIC computer different from ASCII computer?","username":"binhn","ts":"2017-03-10T16:27:48.066Z"}
{"msg":"Has joined the channel.","username":"samirsadeghi","ts":"2017-03-10T16:52:53.353Z","type":"uj"}
{"msg":"@MartinMateev thank you!","username":"berserkr","ts":"2017-03-10T18:04:29.545Z"}
{"msg":"@binhn protobuf encoding is not platform dependent. For all the int numeric variations/bool etc. it uses varint encoding and for fixed length numeric ints/floats etc. it uses little-endian byte order.\nHowever, for strings, it expects valid utf-8 strings. For instance, in golang string literals are always utf-8 and I guess that protobuf would simply use it as is without verifying. \nStill, a golang string type is hardy any different from []byte (except that a string is immutable) and hence could actually be any arbitrary bytes and so, it's users responsibility to make sure that it uses utf-8 strings.\nSimilarly, in java the default string encoding is utf-16 and I believe that protobuf java impl would convert that to utf-8 during serialization.\n\nAlso, as you said if one is not using map and unknown fields, the serialization is pretty much deterministic however, reverse is not true.\nFor instance, if you are using protobuf default implementation, it would always put the bytes of the fields based on their tag number (e.g., bytes of field marked as 1 would precede the bytes for field marked as 2 in the proto definition). \nHowever, even if they appear in reverse order (by some other impl), the encoder is expected to parse those. In other words, it's not deterministic as the spec level but default impl is as long as one does not uses map and unknown fields.","username":"manish-sethi","ts":"2017-03-10T18:31:18.865Z"}
{"msg":"@binhn protobuf encoding is not platform dependent. For all the int numeric variations/bool etc. it uses varint encoding and for fixed length numeric ints/floats etc. it uses little-endian byte order.\nHowever, for strings, it expects valid utf-8 strings. For instance, in golang, string literals are always utf-8 and I guess that protobuf would simply use it as is without verifying. Still, a golang string type is hardy any different from []byte (except that a string is immutable) and hence could actually be any arbitrary bytes and so, it's users responsibility to make sure that it uses utf-8 strings. Similarly, in java, the default string encoding is utf-16 and I believe that protobuf java impl would convert that to utf-8 during serialization.\n\nAlso, as you said if one is not using map and unknown fields, the serialization is pretty much deterministic however, reverse is not true. For instance, if you are using protobuf default implementation, it would always put the bytes of the fields based on their tag number (e.g., bytes of field marked as 1 would precede the bytes for field marked as 2 in the proto definition). However, even if they appear in reverse order (by some other impl), the encoder is expected to parse those. In other words, it's not deterministic as the spec level but default impl is as long as one does not uses map and unknown fields.","username":"manish-sethi","ts":"2017-03-10T18:31:18.865Z"}
{"msg":"@binhn protobuf encoding is not platform dependent. For all the int numeric variations/bool etc. it uses varint encoding and for fixed length numeric ints/floats etc. it uses little-endian byte order.\nHowever, for strings, it expects valid utf-8 strings. For instance, in golang, string literals are always utf-8 and I guess that protobuf would simply use it as is without verifying. Still, a golang string type is hardy any different from []byte (except that a string is immutable) and hence could actually be any arbitrary bytes and so, it's users responsibility to make sure that it uses utf-8 strings. Similarly, in java, the default string encoding is utf-16 and I believe that protobuf java impl would convert that to utf-8 during serialization.\n\nAlso, as you said if one is not using map and unknown fields, the serialization is pretty much deterministic however, reverse is not true. For instance, if you are using protobuf default implementation, it would always put the bytes of the fields based on their tag number (e.g., bytes of field marked as 1 would precede the bytes for field marked as 2 in the proto definition). However, even if they appear in reverse order (by some other impl), the encoder is expected to parse those. In other words, it's not deterministic at the spec level but default impl is as long as one does not uses map and unknown fields.","username":"manish-sethi","ts":"2017-03-10T18:31:18.865Z"}
{"msg":"@binhn protobuf encoding is not platform dependent. For all the int numeric variations/bool etc. it uses varint encoding and for fixed length numeric ints/floats etc. it uses little-endian byte order.\nHowever, for strings, it expects valid utf-8 strings. For instance, in golang, string literals are always utf-8 and I guess that protobuf would simply use it as is without verifying. Still, a golang string type is hardy any different from []byte (except that a string is immutable) and hence could actually be any arbitrary bytes and so, it's users responsibility to make sure that it uses utf-8 strings. Similarly, in java, the default string encoding is utf-16 and I believe that protobuf java impl would convert that to utf-8 during serialization.\n\nAlso, as you said if one is not using map and unknown fields, the serialization is pretty much deterministic however, reverse is not true. For instance, if you are using protobuf default implementation, it would always put the bytes of the fields based on their tag number (e.g., bytes of field marked as 1 would precede the bytes for field marked as 2 in the proto definition). However, even if they appear in reverse order (by some other impl), the encoder is expected to parse those. In other words, it's not deterministic at the spec level but default impl is - as long as one does not uses map and unknown fields.","username":"manish-sethi","ts":"2017-03-10T18:31:18.865Z"}
{"msg":"@dave.enyeart I'm looking at the end-2-end example: https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=examples/e2e_cli/end-to-end.rst;h=bba24dc0ed171adb48e275fb20ac48dc7002091c;hb=b98ee1f23f6e3b6bfabc4ce23a2a6d7871ae1bfa","username":"MartinMateev","ts":"2017-03-10T19:17:54.680Z"}
{"msg":"why is vagrant still part of the set-up when it seems like we're moving away from it","username":"MartinMateev","ts":"2017-03-10T19:18:34.217Z"}
{"msg":"@MartinMateev the document contains non-vagrant directions, in addition to vagrant directions ","username":"AdnanC","ts":"2017-03-10T19:20:07.434Z"}
{"msg":"@AdnanC ok thanks - will try to figure it out","username":"MartinMateev","ts":"2017-03-10T19:24:32.813Z"}
{"msg":"@dave.enyeart \nTo set this log level - I went to the peer0 container and then executed ` peer logging getlevel gossip/discovery#172.19.0.4:7051 `. This is going in a loop and then peer0 becomes a bad container for which I need to do a force stop.","username":"rahulhegde","ts":"2017-03-10T20:07:37.989Z"}
{"msg":"@dave.enyeart \nTo set this log level - I went to the peer0 container and then executed ` peer logging getlevel gossip/discovery#172.19.0.4:7051 `. This is going in a loop and then peer0 becomes a bad container for which I need to do a force stop.\n\nI hope there is nothing that I need execute those statement in the order - it is logger-name that identifies the stream. ","username":"rahulhegde","ts":"2017-03-10T20:07:37.989Z"}
{"msg":"I manager to execute ` gossip/comm#-1 ERROR ` but i was still able to see logs reported for logger = gossip/comm#-1 ERROR","username":"rahulhegde","ts":"2017-03-10T20:10:46.998Z"}
{"msg":"I manager to execute ` gossip/comm#-1 ERROR ` but i was still able to see logs reported for logger = gossip/comm#-1","username":"rahulhegde","ts":"2017-03-10T20:10:46.998Z"}
{"msg":"I manage to execute ` gossip/comm#-1 ERROR ` but i was still able to see logs reported for logger = gossip/comm#-1","username":"rahulhegde","ts":"2017-03-10T20:10:46.998Z"}
{"msg":"Is there a way I can control it during start of peer - runtime looks like it goes in some lock. ","username":"rahulhegde","ts":"2017-03-10T20:27:44.009Z"}
{"msg":"@rahulhegde hmm, I haven't tried that. If you are blocked, maybe we can ask someone in the fabric-gossip channel on how to reduce the gossip logs ","username":"AdnanC","ts":"2017-03-10T20:29:04.952Z"}
{"msg":"@rahulhegde I asked there and tagged you","username":"AdnanC","ts":"2017-03-10T20:31:13.608Z"}
{"msg":"Yes - I am blocked right now. I need to know if my transaction is getting rejected or if there is any fabric issue.","username":"rahulhegde","ts":"2017-03-10T20:38:26.424Z"}
{"msg":"Yes - I am blocked right now. I need to know if my transaction is getting rejected or if there is any fabric issue. I can see successfully endorsed JSON document in the couch-db.","username":"rahulhegde","ts":"2017-03-10T20:38:26.424Z"}
{"msg":"Yes - I am blocked right now. I need to know if my transaction is getting rejected (less-chances) or if there is any fabric issue. I can't  see successfully endorsed JSON document in the couch-db.","username":"rahulhegde","ts":"2017-03-10T20:38:26.424Z"}
{"msg":"Yes - I am blocked right now. I need to know if my transaction is getting rejected (less-chances) or if there is any fabric issue. I can't  see the JSON document represented via a successfully endorsed proposal ","username":"rahulhegde","ts":"2017-03-10T20:38:26.424Z"}
{"msg":"Yes - I am blocked right now. I need to know if my transaction is getting rejected (less-chances) or if there is any fabric issue. I can't  see the JSON document represented via a successfully endorsed proposal \n\nI am running Fabric-Images (4th March) with klaemo/couchDB. Using the Peer CLI - got a successful Endorsement Proposal response however I am not able to see the JSON node in the couch DB (after it sending it to the orderer).\n1. Checked using fauzton and http _find for _id > null = returns me only 2 nodes lccc<chaincode> and statedb_savepoint.\n2. I am assuming Peer is committing the block since there is change in statedb_savepoint::BlockNum\n\n2 things/difference - \n* JSON which is part of the PutState is around 1KB and \n* second could be the block getting Rejected - is there a way I check this in peer logs?","username":"rahulhegde","ts":"2017-03-10T20:38:26.424Z"}
{"msg":"root@6f5135770b0c:/opt/gopath/src/github.com/hyperledger/fabric/peer# CONFIGTX_ORDERER_BATCHTIMEOUT=2s peer channel create -o orderer:7050 -c mychannel -f crypto/orderer/channel.tx\n2017-03-10 20:45:30.736 UTC [msp] Sign -> DEBU 008 Sign: plaintext: 0ADD070A1508021A0608EAA08CC60522...00120D1A0B08FFFFFFFFFFFFFFFFFF01 \n2017-03-10 20:45:30.737 UTC [msp] Sign -> DEBU 009 Sign: digest: FA3020DA3BA085097206176273031DCA2710C515471AFCA1D50C4C1D64601AB1 \nGot status  &{FORBIDDEN}\nError receiving: EOF\nError: EOF","username":"MartinMateev","ts":"2017-03-10T20:47:54.967Z"}
{"msg":"I'm trying to follow the end-to-end.rst example","username":"MartinMateev","ts":"2017-03-10T20:48:35.844Z"}
{"msg":"@MartinMateev are you running the example in current fabric, or from changeset 7097?","username":"AdnanC","ts":"2017-03-10T20:52:34.849Z"}
{"msg":"@MartinMateev are you running the example in current abric, or from changeset 7097?","username":"AdnanC","ts":"2017-03-10T20:52:34.849Z"}
{"msg":"7097","username":"MartinMateev","ts":"2017-03-10T20:53:27.030Z"}
{"msg":"Did it work ok with the current-fabric example?","username":"AdnanC","ts":"2017-03-10T20:54:05.133Z"}
{"msg":"Did it work ok with the current-fabric example? @MartinMateev ","username":"AdnanC","ts":"2017-03-10T20:54:05.133Z"}
{"msg":"trying now ...","username":"MartinMateev","ts":"2017-03-10T20:55:49.282Z"}
{"msg":"the complexity of the fabric project is mind boggling : )","username":"MartinMateev","ts":"2017-03-10T20:58:34.024Z"}
{"msg":"btw - is there a reason why blockchain explorer support hasn't been planned for ver.1.0 ?","username":"MartinMateev","ts":"2017-03-10T21:01:21.455Z"}
{"msg":"I think it's very educational to be able to quickly spin up a blockchain explorer and figure out what's going on ","username":"MartinMateev","ts":"2017-03-10T21:01:58.468Z"}
{"msg":"@MartinMateev you can try the directions given in \"All in one\", you can spin up a network and run end-to-end test in 4 commands (clone fabic repo, do couple of makes, and run the script)  ","username":"AdnanC","ts":"2017-03-10T21:07:23.145Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=TZGRso93xEvLiczgN) @rahulhegde @dave.enyeart @AdnanC \n\nI think I got the problem ==> I did not specify the endorsing policy at instantiation and hence successfully endorsed proposal gets rejected at the Peer committer level.\n\nseparate question: Shouldn't fabric-transaction have beed accepted by the ledger?","username":"rahulhegde","ts":"2017-03-10T21:27:39.012Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TZGRso93xEvLiczgN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TZGRso93xEvLiczgN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=TZGRso93xEvLiczgN) @rahulhegde @dave.enyeart @AdnanC @muralisr \n\nI think I got the problem ==> I did not specify the endorsing policy at instantiation and hence successfully endorsed proposal gets rejected at the Peer committer level.\n\nSeparate Question: Shouldn't fabric-transaction have been accepted by the ledger since no endorsement policy was defined for the chaincode or should -P option on the peer CLI made mandatory during instantiation?","username":"rahulhegde","ts":"2017-03-10T21:27:39.012Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TZGRso93xEvLiczgN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TZGRso93xEvLiczgN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rahulhegde the default is at least one signature from any of the principals ( @aso )","username":"muralisr","ts":"2017-03-11T01:37:39.427Z"}
{"msg":"Has joined the channel.","username":"aso","ts":"2017-03-11T01:37:39.548Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=vsuJ3tXnNxRjhXrc3) @muralisr so above described scenario  is the above described scenario ","username":"rahulhegde","ts":"2017-03-11T01:44:10.518Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vsuJ3tXnNxRjhXrc3","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vsuJ3tXnNxRjhXrc3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=vsuJ3tXnNxRjhXrc3) @muralisr so the above described scenario is a defect, as it was endorsed by a organization member but not committed? What log I must monitor to understand a transaction is rejected by committer?","username":"rahulhegde","ts":"2017-03-11T01:44:10.518Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vsuJ3tXnNxRjhXrc3","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vsuJ3tXnNxRjhXrc3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"zakir2k","ts":"2017-03-11T06:54:02.556Z","type":"uj"}
{"msg":"Has joined the channel.","username":"amilazzo","ts":"2017-03-13T15:57:23.483Z","type":"uj"}
{"msg":"Has joined the channel.","username":"antoniovassell","ts":"2017-03-13T16:25:07.057Z","type":"uj"}
{"msg":"@rahulhegde The peer log will tell you if a tran gets invalidated, using the default logging.  If you want more details, enable peer debug: `CORE_LOGGING_LEVEL=DEBUG peer node start`","username":"dave.enyeart","ts":"2017-03-13T17:01:25.068Z"}
{"msg":"Has joined the channel.","username":"NiharDalal","ts":"2017-03-14T00:01:18.659Z","type":"uj"}
{"msg":"Hey guys! I'm trying to create a new blockchain with my own block structure. I would like to be able to store different types of data on the block. What file should I edit to be able to modify the block structure? Thanks","username":"NiharDalal","ts":"2017-03-14T00:04:13.392Z"}
{"msg":"how to implement the data separation in the same channel , fabric provide  the feature or we need to implement it ourself?","username":"CarlXK","ts":"2017-03-14T09:09:51.837Z"}
{"msg":"@CarlXK  channels are the main way for data separation. You can have as many channels as you wish.","username":"gatakka","ts":"2017-03-14T09:10:52.561Z"}
{"msg":"@CarlXK  channels are the main way for data separation. You can have as many channels as you wish joined by same peers.","username":"gatakka","ts":"2017-03-14T09:10:52.561Z"}
{"msg":"could we share data between two channels? ","username":"CarlXK","ts":"2017-03-14T09:13:20.203Z"}
{"msg":"@gatakka ","username":"CarlXK","ts":"2017-03-14T09:14:29.322Z"}
{"msg":"just like in the two processes, also could share data or invoke method","username":"CarlXK","ts":"2017-03-14T09:15:26.322Z"}
{"msg":"@CarlXK it is in design of fabric, but not sure is it implemented at this point in time and what will be the limitations.","username":"gatakka","ts":"2017-03-14T09:17:30.844Z"}
{"msg":"You can always separate data in one channel using some simple logic as key prefix/suffix and write chaincode in such a way that separate data. In terms of the actual ledger it stores bytes, it is not conserned about data itself. This is responsability of chaincode","username":"gatakka","ts":"2017-03-14T09:19:19.340Z"}
{"msg":"the data in channel are transparent for peers who joined the channel, peers could deploy a chaincode to get all data,  right?","username":"CarlXK","ts":"2017-03-14T09:25:48.646Z"}
{"msg":"@gatakka ","username":"CarlXK","ts":"2017-03-14T09:26:07.691Z"}
{"msg":"exactly, one peer can be in multiple channels and one channel can have multiple chaincodes. In this every chaincode in the channel can access same data, but because are different chaincodes you can add different policies who can execute operation on this chaincode","username":"gatakka","ts":"2017-03-14T09:27:44.327Z"}
{"msg":"exactly, one peer can be in multiple channels and one channel can have multiple chaincodes. In this case every chaincode in the channel can access same data, but because are different chaincodes you can add different policies who can execute operation on this chaincode","username":"gatakka","ts":"2017-03-14T09:27:44.327Z"}
{"msg":"Got it , many thanks~","username":"CarlXK","ts":"2017-03-14T09:30:08.211Z"}
{"msg":"np","username":"gatakka","ts":"2017-03-14T09:30:43.805Z"}
{"msg":"@AdnanC hi, i am testing marbles02 using e2e_cli docker images. the install step is passed. how to write instantiate command?","username":"bh4rtp","ts":"2017-03-14T15:15:24.826Z"}
{"msg":"peer chaincode instantiate -o orderer0:7050 -C eprich1 -n mycc -v 1.0 -c '{\"Args\":[\"Init\",\"marble1\",\"red\",\"50\",\"tom\"]}' -P \"OR('Org0MSP.member','Org1MSP.member')\"","username":"bh4rtp","ts":"2017-03-14T15:16:04.787Z"}
{"msg":"an error message prints:","username":"bh4rtp","ts":"2017-03-14T15:16:47.031Z"}
{"msg":"Error: Error endorsing chaincode: rpc error: code = 2 desc = Transaction returned with failure: Incorrect number of arguments. Expecting 4","username":"bh4rtp","ts":"2017-03-14T15:16:51.043Z"}
{"msg":"@bh4rtp are you sure that you called your marbles chaincode \"mycc\" when you installed it?","username":"Vadim","ts":"2017-03-14T15:20:05.331Z"}
{"msg":"@Vadim yes. I installed marbles02 using the name of mycc.","username":"bh4rtp","ts":"2017-03-14T15:21:51.607Z"}
{"msg":"this message: \"Incorrect number of arguments. Expecting 4\" comes from the chaincode, but the marbles02 chaincode does not have this message in the code (https://github.com/hyperledger/fabric/edit/master/examples/chaincode/go/marbles02/marbles_chaincode.go)","username":"Vadim","ts":"2017-03-14T15:22:43.399Z"}
{"msg":"so you are trying to instantiate some other chaincode","username":"Vadim","ts":"2017-03-14T15:23:01.169Z"}
{"msg":"ok. let me check it.","username":"bh4rtp","ts":"2017-03-14T15:23:31.002Z"}
{"msg":"could it be that you installed chaincode_example02 with the name mycc already before?","username":"Vadim","ts":"2017-03-14T15:23:52.173Z"}
{"msg":"@Vadim you are absolutely right! i have installed chaincode_example02 named mycc. :blush:","username":"bh4rtp","ts":"2017-03-14T15:28:46.260Z"}
{"msg":"also you should pass -o orderer-ip:orderer-port","username":"ruslan.kryukov","ts":"2017-03-14T15:44:21.167Z"}
{"msg":"ok","username":"ruslan.kryukov","ts":"2017-03-14T15:44:35.229Z"}
{"msg":")","username":"ruslan.kryukov","ts":"2017-03-14T15:44:37.066Z"}
{"msg":"@Vadim hi Vadim. i am confused. in the docker-compose-no-tls.yaml, there is a line '- ./examples/:/opt/gopath/src/github.com/hyperledger/fabric/examples/' in volumes. why cannot i find examples directory in the cli container, while i succeed in installing marble02 chaincode? ","username":"bh4rtp","ts":"2017-03-14T15:48:07.809Z"}
{"msg":"there is nothing on the path /opt/gopath/src/github.com/hyperledger/fabric/examples?","username":"Vadim","ts":"2017-03-14T15:48:57.455Z"}
{"msg":"within the container?","username":"Vadim","ts":"2017-03-14T15:49:11.813Z"}
{"msg":"root@c6eca5d0977a:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"readMarble\",\"marble3\"]}'\n2017-03-14 15:50:11.084 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-14 15:50:11.087 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-14 15:50:11.087 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-14 15:50:11.088 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...644D6172626C650A076D6172626C6533\n2017-03-14 15:50:11.088 UTC [msp] Sign -> DEBU 005 Sign: digest: E90905BB8CD8180130C2D3AB406C299364AE47AA4125F84394CD73BA2FF1D115\nQuery Result: {\"docType\":\"marble\",\"name\":\"marble3\",\"color\":\"blue\",\"size\":55,\"owner\":\"allen\"}\n2017-03-14 15:50:11.092 UTC [main] main -> INFO 006 Exiting.....\nroot@c6eca5d0977a:/opt/gopath/src/github.com/hyperledger/fabric/peer# ls\ncrypto  eprich1.block  scripts\nroot@c6eca5d0977a:/opt/gopath/src/github.com/hyperledger/fabric/peer#\n","username":"bh4rtp","ts":"2017-03-14T15:50:38.783Z"}
{"msg":"above are the output of my operations of chaincode query and ls.","username":"bh4rtp","ts":"2017-03-14T15:51:50.971Z"}
{"msg":"is something incorrect there?","username":"Vadim","ts":"2017-03-14T15:54:09.405Z"}
{"msg":"`Query Result: {\"docType\":\"marble\",\"name\":\"marble3\",\"color\":\"blue\",\"size\":55,\"owner\":\"allen\"}`","username":"Vadim","ts":"2017-03-14T15:54:35.200Z"}
{"msg":"looks like the query is successful","username":"Vadim","ts":"2017-03-14T15:54:50.268Z"}
{"msg":"i have successfully tested initMarble, readMarble, transferMarler except couch supported functions.","username":"bh4rtp","ts":"2017-03-14T16:07:41.915Z"}
{"msg":"i have successfully tested initMarble, readMarble, transferMarle except couch supported functions.","username":"bh4rtp","ts":"2017-03-14T16:07:41.915Z"}
{"msg":"i have successfully tested initMarble, readMarble, transferMarle and other functions except couchdb supported functions.","username":"bh4rtp","ts":"2017-03-14T16:07:41.915Z"}
{"msg":"so i don't know how the marble02 chaincode is installed from cli to peer0.","username":"bh4rtp","ts":"2017-03-14T16:08:38.044Z"}
{"msg":"install instructs the peer0 to copy it to the local dir, it should end up somewhere in the /var/hyperledger/production/chaincodes","username":"Vadim","ts":"2017-03-14T16:13:06.703Z"}
{"msg":"install instructs the peer0 to copy it to its local dir, it should end up somewhere in the /var/hyperledger/production/chaincodes","username":"Vadim","ts":"2017-03-14T16:13:06.703Z"}
{"msg":"yes. peer0 has chaincode marble.","username":"bh4rtp","ts":"2017-03-14T16:21:55.450Z"}
{"msg":"root@f2c1b0db231e:/var/hyperledger/production/chaincodes# ls\nmarble.1.0  mycc.1.0","username":"bh4rtp","ts":"2017-03-14T16:21:59.314Z"}
{"msg":"i think marbles02 should be copy from cli:/opt/gopath/src/github.com/hyperledger/fabric/peer/examples/chaincode/go/marble02 to peer0:/var/hyperledger/production/chaincodes. but there is no /opt/gopath/src/github.com/hyperledger/fabric/peer/examples directory.","username":"bh4rtp","ts":"2017-03-14T16:28:06.922Z"}
{"msg":"i think marbles02 should be copied from cli:/opt/gopath/src/github.com/hyperledger/fabric/peer/examples/chaincode/go/marble02 to peer0:/var/hyperledger/production/chaincodes. but there is no /opt/gopath/src/github.com/hyperledger/fabric/peer/examples directory.","username":"bh4rtp","ts":"2017-03-14T16:28:06.922Z"}
{"msg":"i think marbles02 should be copied from cli:/opt/gopath/src/github.com/hyperledger/fabric/peer/examples/chaincode/go/marble02 to peer0:/var/hyperledger/production/chaincodes. but there is no /opt/gopath/src/github.com/hyperledger/fabric/peer/examples directory in cli container.","username":"bh4rtp","ts":"2017-03-14T16:28:06.922Z"}
{"msg":"i think marbles02 should be copied from cli:/opt/gopath/src/github.com/hyperledger/fabric/peer/examples/chaincode/go/marble02 to peer0:/var/hyperledger/production/chaincodes as executing install command. but there is no /opt/gopath/src/github.com/hyperledger/fabric/peer/examples directory in cli container.","username":"bh4rtp","ts":"2017-03-14T16:28:06.922Z"}
{"msg":"is this correct?","username":"bh4rtp","ts":"2017-03-14T16:28:22.532Z"}
{"msg":"I think, by default the cli does not have the full fabric repo, so it has to get the chaincode from somewhere, and the mounting does that","username":"AdnanC","ts":"2017-03-14T16:31:17.808Z"}
{"msg":"@bh4rtp it should be there, as I understand","username":"Vadim","ts":"2017-03-14T16:32:42.661Z"}
{"msg":"@AdnanC yes. maybe examples is a mounting.","username":"bh4rtp","ts":"2017-03-14T16:33:14.094Z"}
{"msg":"so if you bash to the cli container and then do ls /opt/gopath/src/github.com/hyperledger/fabric/peer/examples, you get an error?","username":"Vadim","ts":"2017-03-14T16:34:12.131Z"}
{"msg":"so if you bash to the cli container and then do `ls /opt/gopath/src/github.com/hyperledger/fabric/peer/examples`, you get an error?","username":"Vadim","ts":"2017-03-14T16:34:12.131Z"}
{"msg":"@Vadim let me have a try.","username":"bh4rtp","ts":"2017-03-14T16:34:39.506Z"}
{"msg":"@Vadim without the mounting, I think there will be an error","username":"AdnanC","ts":"2017-03-14T16:34:42.592Z"}
{"msg":"well t","username":"Vadim","ts":"2017-03-14T16:34:50.169Z"}
{"msg":"well it mounts in in the image","username":"Vadim","ts":"2017-03-14T16:34:50.169Z"}
{"msg":"in the composer yaml","username":"Vadim","ts":"2017-03-14T16:35:07.574Z"}
{"msg":"in the compose yaml","username":"Vadim","ts":"2017-03-14T16:35:07.574Z"}
{"msg":"yes. ls: cannot access 'examples': No such file or directory","username":"bh4rtp","ts":"2017-03-14T16:35:13.411Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/docker-compose-no-tls.yaml#L123","username":"Vadim","ts":"2017-03-14T16:35:53.220Z"}
{"msg":"and if you do `find / -name marble02` within the container?","username":"Vadim","ts":"2017-03-14T16:37:42.684Z"}
{"msg":"root@c6eca5d0977a:/# find / -name marbles02\n/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02\n","username":"bh4rtp","ts":"2017-03-14T16:38:32.712Z"}
{"msg":"so it's there?","username":"Vadim","ts":"2017-03-14T16:38:46.863Z"}
{"msg":"that's interesting. docker is awesome.","username":"bh4rtp","ts":"2017-03-14T16:38:51.494Z"}
{"msg":"@bh4rtp [ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ntA5YG485uSxdSikr) @bh4rtp you cannot `ls` the directory with the docker compose as is? or you tried with mount lines removed?","username":"AdnanC","ts":"2017-03-14T16:39:11.003Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ntA5YG485uSxdSikr","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ntA5YG485uSxdSikr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@bh4rtp [ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ntA5YG485uSxdSikr) @bh4rtp you cannot `ls` the directory with the docker compose as is? or you tried with mount lines remove?","username":"AdnanC","ts":"2017-03-14T16:39:11.003Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ntA5YG485uSxdSikr","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ntA5YG485uSxdSikr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"i am sorry. i have mistaken examples is subfolder of peer. wasting time :innocent:","username":"bh4rtp","ts":"2017-03-14T16:41:05.813Z"}
{"msg":"i am sorry. i have mistaken examples is subfolder of fabric/peer. wasting time :innocent:","username":"bh4rtp","ts":"2017-03-14T16:41:05.813Z"}
{"msg":"i am sorry. i have mistaken examples is a subfolder of fabric/peer. wasting time :innocent:","username":"bh4rtp","ts":"2017-03-14T16:41:05.813Z"}
{"msg":":D","username":"Vadim","ts":"2017-03-14T16:41:12.614Z"}
{"msg":"anyway. thank you very much! no confusion now. @AdnanC @Vadim ","username":"bh4rtp","ts":"2017-03-14T16:42:53.150Z"}
{"msg":"Has joined the channel.","username":"lignyxg","ts":"2017-03-14T17:25:24.529Z","type":"uj"}
{"msg":"Has joined the channel.","username":"karysto","ts":"2017-03-14T20:47:57.311Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dhuseby","ts":"2017-03-14T22:56:14.734Z","type":"uj"}
{"msg":"@Vadim @AdnanC how to replace leveldb with couchdb? queryMarblesByOwner and queryMarbles are only supported by couchdb.","username":"bh4rtp","ts":"2017-03-15T01:21:13.837Z"}
{"msg":"@bh4rtp You can use the docker-compose here https://gerrit.hyperledger.org/r/#/c/7097/ there is also a readme attached. But please note that it is not merged yet and may change","username":"AdnanC","ts":"2017-03-15T03:24:19.593Z"}
{"msg":"thanks","username":"bh4rtp","ts":"2017-03-15T03:27:39.779Z"}
{"msg":"i have done marbles02 with couchdb support. but transferMarble seems no function. ","username":"bh4rtp","ts":"2017-03-15T03:41:35.406Z"}
{"msg":"i have done marbles02 with couchdb support. but transferMarble seems no functioning. ","username":"bh4rtp","ts":"2017-03-15T03:41:35.406Z"}
{"msg":"2017-03-15 03:39:00.517 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:39:00.517 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:39:00.518 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...0A076D6172626C65320A056A65727279\n2017-03-15 03:39:00.518 UTC [msp] Sign -> DEBU 005 Sign: digest: 05A8A82CC320D64E6F7FA3D1513C09281FDC5433AF6E60F567660DAAB6BA38CF\nQuery Result:\n2017-03-15 03:39:00.550 UTC [main] main -> INFO 006 Exiting.....\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"queryMarblesByOwner\",\"jerry\"]}'\n2017-03-15 03:39:07.301 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-15 03:39:07.310 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:39:07.310 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:39:07.311 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...657342794F776E65720A056A65727279\n2017-03-15 03:39:07.311 UTC [msp] Sign -> DEBU 005 Sign: digest: 55F728E401202438876F184EC922C158CFDB0669554CBC5A10EBA32FD8D9E415\nQuery Result: []\n2017-03-15 03:39:07.369 UTC [main] main -> INFO 006 Exiting.....\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer#\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer#\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer#\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# clear\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"readMarble\",\"marble2\"]}'\n2017-03-15 03:40:56.275 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-15 03:40:56.277 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:40:56.277 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:40:56.278 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...644D6172626C650A076D6172626C6532\n2017-03-15 03:40:56.278 UTC [msp] Sign -> DEBU 005 Sign: digest: AA85C67A4162D6C20D2A937CD4D44E0F653782DDB63977783C4848F5E0CDD8BA\nQuery Result: {\"color\":\"blue\",\"docType\":\"marble\",\"name\":\"marble2\",\"owner\":\"tom\",\"size\":35}\n2017-03-15 03:40:56.289 UTC [main] main -> INFO 006 Exiting.....\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"transferMarble\",\"marble2\", \"jerry\"]}'\n2017-03-15 03:41:10.622 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-15 03:41:10.625 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:41:10.626 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:41:10.626 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...0A076D6172626C65320A056A65727279\n2017-03-15 03:41:10.627 UTC [msp] Sign -> DEBU 005 Sign: digest: B05D8A9A869BAB2A3CA689602673963A8DA6373C4EB2081BA8BADA36D41F7ED9\nQuery Result:\n2017-03-15 03:41:10.637 UTC [main] main -> INFO 006 Exiting.....\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"queryMarblesByOwner\",\"jerry\"]}'\n2017-03-15 03:41:20.930 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-15 03:41:20.933 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:41:20.933 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:41:20.934 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...657342794F776E65720A056A65727279\n2017-03-15 03:41:20.934 UTC [msp] Sign -> DEBU 005 Sign: digest: 1DB8FA9DC1CFDBE9337DF9A092D08A108B71BFBFC32F164ABC93422CEE202775\nQuery Result: []\n2017-03-15 03:41:20.974 UTC [main] main -> INFO 006 Exiting.....","username":"bh4rtp","ts":"2017-03-15T03:41:46.436Z"}
{"msg":"root@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"readMarble\",\"marble2\"]}'\n2017-03-15 03:40:56.275 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-15 03:40:56.277 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:40:56.277 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:40:56.278 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...644D6172626C650A076D6172626C6532\n2017-03-15 03:40:56.278 UTC [msp] Sign -> DEBU 005 Sign: digest: AA85C67A4162D6C20D2A937CD4D44E0F653782DDB63977783C4848F5E0CDD8BA\nQuery Result: {\"color\":\"blue\",\"docType\":\"marble\",\"name\":\"marble2\",\"owner\":\"tom\",\"size\":35}\n2017-03-15 03:40:56.289 UTC [main] main -> INFO 006 Exiting.....\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"transferMarble\",\"marble2\", \"jerry\"]}'\n2017-03-15 03:41:10.622 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-15 03:41:10.625 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:41:10.626 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:41:10.626 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...0A076D6172626C65320A056A65727279\n2017-03-15 03:41:10.627 UTC [msp] Sign -> DEBU 005 Sign: digest: B05D8A9A869BAB2A3CA689602673963A8DA6373C4EB2081BA8BADA36D41F7ED9\nQuery Result:\n2017-03-15 03:41:10.637 UTC [main] main -> INFO 006 Exiting.....\nroot@e1d72b265aad:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"queryMarblesByOwner\",\"jerry\"]}'\n2017-03-15 03:41:20.930 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'\n2017-03-15 03:41:20.933 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP\n2017-03-15 03:41:20.933 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity\n2017-03-15 03:41:20.934 UTC [msp] Sign -> DEBU 004 Sign: plaintext: 0A94050A5E0803220765707269636831...657342794F776E65720A056A65727279\n2017-03-15 03:41:20.934 UTC [msp] Sign -> DEBU 005 Sign: digest: 1DB8FA9DC1CFDBE9337DF9A092D08A108B71BFBFC32F164ABC93422CEE202775\nQuery Result: []\n2017-03-15 03:41:20.974 UTC [main] main -> INFO 006 Exiting.....","username":"bh4rtp","ts":"2017-03-15T03:41:46.436Z"}
{"msg":"i found the reason. invoke should be used for transferMarble, but not query.","username":"bh4rtp","ts":"2017-03-15T07:08:33.522Z"}
{"msg":"peer chaincode invoke -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"transferMarble\",\"marble2\", \"jerry\"]}'","username":"bh4rtp","ts":"2017-03-15T07:08:50.280Z"}
{"msg":"Hi ,\nDoes anyone know the difference between order ledger and peer ledger? Or what exactly the order ledger is ?","username":"jansony1","ts":"2017-03-15T10:45:17.314Z"}
{"msg":"@bh4rtp - Yes, the sample command in marbles02 for transfer is 'invoke'.  For queries the tran does not get submitted for ordering/commit.  For invokes the tran gets submitted for ordering/commit.","username":"dave.enyeart","ts":"2017-03-15T11:48:02.004Z"}
{"msg":"@jansony1 OrdererLedger is a subset of PeerLedger.  OrdererLedger has block storage only, it persistently stores the blocks for Ordering service in case other peers ask for the blocks later.  PeerLedger has block storage plus state database plus history index. These extra components are needed for transactions and queries on peer.  The Ordering service does not process transactions or queries and therefore these components are left out of OrdererLedger.","username":"dave.enyeart","ts":"2017-03-15T11:51:22.968Z"}
{"msg":"@dave.enyeart does each channel has it's own blockchain?","username":"Vadim","ts":"2017-03-15T11:53:09.815Z"}
{"msg":"@dave.enyeart does each channel has its own blockchain?","username":"Vadim","ts":"2017-03-15T11:53:09.815Z"}
{"msg":"yes, here's a slide to explain:","username":"dave.enyeart","ts":"2017-03-15T11:54:28.213Z"}
{"msg":"","username":"dave.enyeart","ts":"2017-03-15T11:54:35.660Z","attachments":[{"title":"File Uploaded: Clipboard","title_link":"/file-upload/5PXZg5f4drd5A6i9N/Clipboard","image_url":"/file-upload/5PXZg5f4drd5A6i9N/Clipboard","image_type":"image/png","image_size":161586,"url":"/file-upload/5PXZg5f4drd5A6i9N/Clipboard","remote":false,"fileId":"5PXZg5f4drd5A6i9N"}]}
{"msg":"Has joined the channel.","username":"mychewcents","ts":"2017-03-15T12:29:15.003Z","type":"uj"}
{"msg":"Has joined the channel.","username":"balashevich","ts":"2017-03-15T12:35:46.012Z","type":"uj"}
{"msg":"@dave.enyeart is this slide from fabric 1.0 online doc?","username":"bh4rtp","ts":"2017-03-15T13:02:26.758Z"}
{"msg":"@Vadim every channel has its own blockchain. the channel and its genesis block are generated  simultaneously using configtxgen tool.","username":"bh4rtp","ts":"2017-03-15T13:05:02.848Z"}
{"msg":"I am giving the slide to doc team... not sure if it will get included in doc as-is, likely some form of it will get into doc though.","username":"dave.enyeart","ts":"2017-03-15T13:14:17.627Z"}
{"msg":"@dave.enyeart Thanks for your input,and little more deep dive. Whether the orderledger will keep the prehash and metadata things just like peerledger, which keeps it immutablely","username":"jansony1","ts":"2017-03-15T14:26:19.799Z"}
{"msg":"yes, block hashes are the same across OrdererLedger and PeerLedger, so that when the next block arrives from ordering all the hashes match up.  The metadata is actually not included in the hash.","username":"dave.enyeart","ts":"2017-03-15T14:28:31.806Z"}
{"msg":"@dave.enyeart  thanks so much ！！ And I wonder where i could get those design docs in more detail？","username":"jansony1","ts":"2017-03-15T14:34:09.539Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/latest/arch-deep-dive.html","username":"dave.enyeart","ts":"2017-03-15T14:34:56.772Z"}
{"msg":"@dave.enyeart  thanks","username":"jansony1","ts":"2017-03-15T14:35:54.501Z"}
{"msg":"@dave.enyeart  as per the diagram the replication happens only for the peers of the same org. What is shared or replicated across different banks (A,B,C) if they are on the same channel..","username":"bkvellanki","ts":"2017-03-15T15:39:21.639Z"}
{"msg":"@bkvellanki I guess they have blockchains for all channels they are participants of","username":"Vadim","ts":"2017-03-15T15:40:25.339Z"}
{"msg":"But as per the slide it says Bank A cannot see the trasactions of B and C","username":"bkvellanki","ts":"2017-03-15T15:41:23.541Z"}
{"msg":"and actually the case you are asking about is on the diagram","username":"Vadim","ts":"2017-03-15T15:41:28.840Z"}
{"msg":"yes, because it's not on the BC channel","username":"Vadim","ts":"2017-03-15T15:41:59.896Z"}
{"msg":"it's on AB and AC channels","username":"Vadim","ts":"2017-03-15T15:42:09.780Z"}
{"msg":"ooh ook..","username":"bkvellanki","ts":"2017-03-15T15:42:42.991Z"}
{"msg":"got it..thanks","username":"bkvellanki","ts":"2017-03-15T15:42:47.269Z"}
{"msg":"is there a reason why we use channels and cannot share data across chaincode?","username":"berserkr","ts":"2017-03-15T15:43:47.749Z"}
{"msg":"the state for chaincode is unique to each chain code as far as I know, so to me, the introduction of channels is simply for increased throughput?","username":"berserkr","ts":"2017-03-15T15:44:33.123Z"}
{"msg":"or is it because you want isolation of transactions as well as world state? maybe the latter, but could you guys give me a quick explanation","username":"berserkr","ts":"2017-03-15T15:45:25.151Z"}
{"msg":"also, have the fabric built outside of vagrant, I can run the bddtests, though some of them are failing","username":"berserkr","ts":"2017-03-15T15:45:58.751Z"}
{"msg":"is there a way for me to stress test the dbs?","username":"berserkr","ts":"2017-03-15T15:46:08.588Z"}
{"msg":"@berserkr its for data isolation","username":"Vadim","ts":"2017-03-15T15:49:02.563Z"}
{"msg":"@berserkr channels are for data isolation","username":"Vadim","ts":"2017-03-15T15:49:02.563Z"}
{"msg":"right, data isolation/privacy is the main reason for channels.  additional throughput is a side benefit.","username":"dave.enyeart","ts":"2017-03-15T15:49:49.264Z"}
{"msg":"probably, also some storage savings on peers","username":"Vadim","ts":"2017-03-15T15:50:14.356Z"}
{"msg":"data isolation in terms of what? world state is isolated, each chain code has access to its own state","username":"berserkr","ts":"2017-03-15T17:25:49.639Z"}
{"msg":"do you mean isolation wrt what is in the tx parameters?","username":"berserkr","ts":"2017-03-15T17:26:03.010Z"}
{"msg":"see the chart pasted above to illustrate the data isolation.  e.g BankA cannot see transactions between BankB-BankC.","username":"dave.enyeart","ts":"2017-03-15T18:12:01.752Z"}
{"msg":"@dave.enyeart , for v1, is leveldb used at all? or is couchdb used for everything?","username":"berserkr","ts":"2017-03-15T20:48:01.672Z"}
{"msg":"leveldb is the default state database.  couchdb is an alternate option.  please review the ledger charts where all this is explained:","username":"dave.enyeart","ts":"2017-03-15T22:17:37.117Z"}
{"msg":"@berserkr https://jira.hyperledger.org/browse/FAB-758","username":"dave.enyeart","ts":"2017-03-15T22:17:45.720Z"}
{"msg":"got it, thank you!","username":"berserkr","ts":"2017-03-15T22:36:26.648Z"}
{"msg":"@dave.enyeart Is there a document that shows how to setup and configure a new Org, Peer..I think it starts with MSP first","username":"bkvellanki","ts":"2017-03-15T23:23:39.084Z"}
{"msg":"i'd suggest to start with these instructions: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst","username":"dave.enyeart","ts":"2017-03-15T23:55:41.190Z"}
{"msg":"I have that functional with my chaincode installed and tested..","username":"bkvellanki","ts":"2017-03-16T00:21:14.564Z"}
{"msg":"@dave.enyeart the documentation of examples/e2e_cli/end_to_end.rst is very nice! :thumbsup:","username":"bh4rtp","ts":"2017-03-16T00:31:15.727Z"}
{"msg":"HI\nI think the gensis block of a channel would define acl and other things, and all the chaincode deployed on this channel would build on this gensis block as the first block. From the ACL of the gensis block, we could know who could join this channel. While what if a new member would join this channel, based on the ACL list already defined in the first gensis block and could not be modified","username":"jansony1","ts":"2017-03-16T12:00:09.686Z"}
{"msg":"@jansony1 there will be support for \"configuration update\" where you can refresh the configuration","username":"muralisr","ts":"2017-03-16T12:06:17.221Z"}
{"msg":"@muralisr  thanks. And may I know if got the right understanding about the flow?","username":"jansony1","ts":"2017-03-16T12:41:03.165Z"}
{"msg":"@jansony1 it sounded close enough but I'm sure some thoughts can be refined. For example `and all the chaincode deployed on this channel would build on this gensis block as the first block` is not the way I'd have looked at it myslef","username":"muralisr","ts":"2017-03-16T12:43:17.465Z"}
{"msg":"there are two types of transactions \"configuration\" and \"endorsement\"","username":"muralisr","ts":"2017-03-16T12:43:40.236Z"}
{"msg":"chaincodes participate in the endorsement flows","username":"muralisr","ts":"2017-03-16T12:43:56.303Z"}
{"msg":"the access control (for example who can send \"invoke\" to chaincode on a channel) depends upon \"Configuration\" transcation and the config is stored on the blockchain. The genesis block obviously would have to be such a config transaction (obtained when the peer joins the channel) but we could send config updates to alter it future where it'll end up as an updated configuraton tx in a block in the blockchain","username":"muralisr","ts":"2017-03-16T12:46:46.126Z"}
{"msg":"the \"orderer\" participates intimately in such configuaration transactions... I'd suggest for more question on such flows do check in fabric-consensus too","username":"muralisr","ts":"2017-03-16T12:47:47.821Z"}
{"msg":"also would check in fabric-crypto","username":"muralisr","ts":"2017-03-16T12:50:15.868Z"}
{"msg":"@muralisr, what about the join things? I mean peer join -channel , where set the limitation on who could join the peer, or there is no such limitation?","username":"jansony1","ts":"2017-03-16T13:08:54.611Z"}
{"msg":"sorry, i mean who could join channel","username":"jansony1","ts":"2017-03-16T13:11:30.727Z"}
{"msg":"@jansony1 you'd specificy orgs in a channel at the time of channel create ","username":"muralisr","ts":"2017-03-16T13:11:44.656Z"}
{"msg":"And store those things on genesis block(configuration block), is that right?","username":"jansony1","ts":"2017-03-16T13:12:30.330Z"}
{"msg":"correct","username":"muralisr","ts":"2017-03-16T13:12:48.745Z"}
{"msg":"bingo~!","username":"jansony1","ts":"2017-03-16T13:12:56.780Z"}
{"msg":"Finally i got the overall flow~~~~Really appreciate it..","username":"jansony1","ts":"2017-03-16T13:13:16.340Z"}
{"msg":"again do capture when you have a chance in fabric-consensus as (1) we can refine it further and (2) it could be useful for others","username":"muralisr","ts":"2017-03-16T13:14:33.217Z"}
{"msg":"or \"fabric\"","username":"muralisr","ts":"2017-03-16T13:15:04.866Z"}
{"msg":"Actually, i am not sure where to ask this question. Cause v1's consensus quit different from v0.6, and not sure whether it belong to there..","username":"jansony1","ts":"2017-03-16T13:16:24.314Z"}
{"msg":"the \"orderer\" in 1.0 (consensus) plays a central role in configuration","username":"muralisr","ts":"2017-03-16T13:17:20.822Z"}
{"msg":"hence my suggestion ","username":"muralisr","ts":"2017-03-16T13:17:25.746Z"}
{"msg":"however \"fabric\" would work as well","username":"muralisr","ts":"2017-03-16T13:17:41.707Z"}
{"msg":"some people might miss looking for it in fabric-ledger... entirely upto you of course!","username":"muralisr","ts":"2017-03-16T13:18:21.509Z"}
{"msg":"@muralisr  thanks, I would refine my question to make it more clear and ask again. THanks again","username":"jansony1","ts":"2017-03-16T13:19:09.880Z"}
{"msg":"absolutely! to be clear, I think you have already flushed out the central ideas ... my suggestion is about further details","username":"muralisr","ts":"2017-03-16T13:20:00.204Z"}
{"msg":"yep ! thats what a engineer should do :grinning:","username":"jansony1","ts":"2017-03-16T13:20:32.587Z"}
{"msg":":-)","username":"muralisr","ts":"2017-03-16T13:22:02.953Z"}
{"msg":"hi, does e2e_cli only demonstrate the grpc calling between cli <-> peers and cli <-> orderer? are there new blocks generated therefore? if yes, how to print the new blocks?","username":"bh4rtp","ts":"2017-03-16T13:28:12.815Z"}
{"msg":"Has joined the channel.","username":"apspeical","ts":"2017-03-17T01:43:32.067Z","type":"uj"}
{"msg":"@bh4rtp there are new blocks generated. you could use block-listener to print the new blocks","username":"xixuejia","ts":"2017-03-17T03:41:46.754Z"}
{"msg":"@xixuejia thanks. it is preferred to find a demo using block-listener. :blush:","username":"bh4rtp","ts":"2017-03-17T03:47:30.246Z"}
{"msg":"@bh4rtp Please refer to examples/events/block-listener/block-listener.go. Is this what you are looking for?","username":"xixuejia","ts":"2017-03-17T03:49:19.124Z"}
{"msg":"@xixuejia thanks again!","username":"bh4rtp","ts":"2017-03-17T03:57:12.616Z"}
{"msg":"Has joined the channel.","username":"RahulBagaria","ts":"2017-03-17T04:01:58.897Z","type":"uj"}
{"msg":"Has joined the channel.","username":"andyxf1029","ts":"2017-03-17T06:09:04.381Z","type":"uj"}
{"msg":"@xixuejia i have got blocks printed successfully. as for peer0 in the marble02 example, peer channel join, peer chaincode install, peer chaincode instantiate, 4 peer chaincode invoke and other peer chaincode query commands were run. while block-listener received 6 blocks in total. the first block is very long with many many certificates. i think it would be the genesis block. the other 5 blocks are much shorter. i think the last 4 blocks will be generated by 4 peer chaincode invoke commands. which command was the second block generated by?","username":"bh4rtp","ts":"2017-03-17T06:48:23.710Z"}
{"msg":"@xixuejia i have got blocks printed successfully. as for peer0 in the marble02 example, peer channel join, peer chaincode install, peer chaincode instantiate, 4 peer chaincode invoke and other peer chaincode query commands were run. the block-listener received 6 blocks in total. the first block is very long with many certificates. i think it would be the genesis block. the other 5 blocks are much shorter. i think the last 4 blocks will be generated by 4 peer chaincode invoke commands. which command was the second block generated by?","username":"bh4rtp","ts":"2017-03-17T06:48:23.710Z"}
{"msg":"Has joined the channel.","username":"zhouer","ts":"2017-03-17T06:53:16.819Z","type":"uj"}
{"msg":"@bh4rtp It should be generated by `instantiate`","username":"xixuejia","ts":"2017-03-17T07:05:45.074Z"}
{"msg":"@xixuejia yes, i just verified that the second one is generated by instantiate. why is the genesis block so long and does't install generate a new block?","username":"bh4rtp","ts":"2017-03-17T07:10:47.760Z"}
{"msg":"@bh4rtp peer chaincode install only copies the chaincode to the file system of peer, the chaincode ends up somewhere in /var/hyperledger/production/chaincodes or something like that","username":"Vadim","ts":"2017-03-17T07:58:32.506Z"}
{"msg":"@Vadim thanks. i am trying to analysis the block info. it is really obscure. :grinning:","username":"bh4rtp","ts":"2017-03-17T08:06:24.266Z"}
{"msg":"did you check the proto files? ","username":"Vadim","ts":"2017-03-17T08:06:44.709Z"}
{"msg":"peer chaincode invoke -o orderer0:7050 -C eprich1 -n marble -v 1.0 -c '{\"Args\":[\"transferMarble\",\"marble1\", \"allen\"]}' \n\nReceived block\n\n--------------\nReceived transaction from channel eprich1:\n        [header:<channel_header:\"\\010\\003\\\"\\007eprich1*@eab024c8c16ad5a45a4d2e3e8467d4c88d82ac12d94ef2eee2c1ba91f1e9b580:\\017\\022\\r\\022\\006marble\\032\\0031.0\" signature_header:\"\\n\\224\\004\\n\\007Org0MSP\\022\\210\\004-----BEGIN -----\\nMIIBYzCCAQmgAwIBAwICA+gwCgYIKoZIzj0EAwIwEzERMA8GA1UEAwwIcGVlck9y\\nZzAwHhcNMTcwMjIwMTkwNjExWhcNMTgwMjIwMTkwNjExWjAQMQ4wDAYDVQQDDAVw\\nZWVyMDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABEF6dfqjqfbIgZuOR+dgoJMl\\n/FaUlGI70A/ixmVUY83Yp4YtV3FDBSOPiO5O+s8pHnpbwB1LqhrxAx1Plr0M/UWj\\nUDBOMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFBY2bc84vLEwkX1fSAER2p48jJXw\\nMB8GA1UdIwQYMBaAFFQzuQR1RZP/Qn/BNDtGSa8n4eN/MAoGCCqGSM49BAMCA0gA\\nMEUCIQDeDZ71L+OTYcbbqiDNRf0L8OExO59mH1O3xpdwMAM0MgIgXySG4sv9yV31\\nWcWRFfRFyu7o3T72kqiLZ1nkDuJ8jWI=\\n-----END -----\\n\\022\\030P\\305\\337\\364K[\\254a\\257\\314\\266k\\371\\216\\213\\220s\\343]s\\303\\233\\005\\241\" > data:\"\\n\\200\\n\\n\\261\\004\\n\\224\\004\\n\\007Org0MSP\\022\\210\\004-----BEGIN -----\\nMIIBYzCCAQmgAwIBAwICA+gwCgYIKoZIzj0EAwIwEzERMA8GA1UEAwwIcGVlck9y\\nZzAwHhcNMTcwMjIwMTkwNjExWhcNMTgwMjIwMTkwNjExWjAQMQ4wDAYDVQQDDAVw\\nZWVyMDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABEF6dfqjqfbIgZuOR+dgoJMl\\n/FaUlGI70A/ixmVUY83Yp4YtV3FDBSOPiO5O+s8pHnpbwB1LqhrxAx1Plr0M/UWj\\nUDBOMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFBY2bc84vLEwkX1fSAER2p48jJXw\\nMB8GA1UdIwQYMBaAFFQzuQR1RZP/Qn/BNDtGSa8n4eN/MAoGCCqGSM49BAMCA0gA\\nMEUCIQDeDZ71L+OTYcbbqiDNRf0L8OExO59mH1O3xpdwMAM0MgIgXySG4sv9yV31\\nWcWRFfRFyu7o3T72kqiLZ1nkDuJ8jWI=\\n-----END -----\\n\\022\\030P\\305\\337\\364K[\\254a\\257\\314\\266k\\371\\216\\213\\220s\\343]s\\303\\233\\005\\241\\022\\311\\005\\n7\\n5\\n3\\010\\001\\022\\r\\022\\006marble\\032\\0031.0\\032 \\n\\016transferMarble\\n\\007marble1\\n\\005allen\\022\\215\\005\\n)\\n X\\257\\266d\\356jD!\\323\\t\\001ap\\262dy\\275\\312b\\305\\375\\266\\0374\\177\\211\\311\\351\\274\\200+)\\022\\005\\032\\003\\010\\310\\001\\022\\337\\004\\n\\224\\004\\n\\007Org0MSP\\022\\210\\004-----BEGIN -----\\nMIIBYzCCAQmgAwIBAwICA+gwCgYIKoZIzj0EAwIwEzERMA8GA1UEAwwIcGVlck9y\\nZzAwHhcNMTcwMjIwMTkwNjExWhcNMTgwMjIwMTkwNjExWjAQMQ4wDAYDVQQDDAVw\\nZWVyMDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABEF6dfqjqfbIgZuOR+dgoJMl\\n/FaUlGI70A/ixmVUY83Yp4YtV3FDBSOPiO5O+s8pHnpbwB1LqhrxAx1Plr0M/UWj\\nUDBOMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFBY2bc84vLEwkX1fSAER2p48jJXw\\nMB8GA1UdIwQYMBaAFFQzuQR1RZP/Qn/BNDtGSa8n4eN/MAoGCCqGSM49BAMCA0gA\\nMEUCIQDeDZ71L+OTYcbbqiDNRf0L8OExO59mH1O3xpdwMAM0MgIgXySG4sv9yV31\\nWcWRFfRFyu7o3T72kqiLZ1nkDuJ8jWI=\\n-----END -----\\n\\022F0D\\002 \\004\\320m\\205\\357\\275\\224k\\371\\2245\\021=i\\016z*\\246\\322\\316-\\322\\27541N\\002\\014x\\370!\\217\\002 E\\001\\2604\\251Y\\237:'\\026\\362\\000\\342\\274\\035\\314c\\3203-\\203\\370-\\270\\266\\\\\\207z\\366a\\023\\032\" ]\n","username":"bh4rtp","ts":"2017-03-17T08:07:29.323Z"}
{"msg":"i paste the block info here. maybe someone can interpret it. ","username":"bh4rtp","ts":"2017-03-17T08:08:01.372Z"}
{"msg":"I think you should check the proto files, it will be easier to map it then to that output","username":"Vadim","ts":"2017-03-17T08:08:04.490Z"}
{"msg":"@Vadim ok. it is a good idea. thanks.","username":"bh4rtp","ts":"2017-03-17T08:08:31.263Z"}
{"msg":"@bh4rtp it's in https://github.com/hyperledger/fabric/blob/master/protos/common/common.proto","username":"Vadim","ts":"2017-03-17T08:10:25.350Z"}
{"msg":"@Vadim trying to check it byte by byte. :blush:","username":"bh4rtp","ts":"2017-03-17T08:11:26.008Z"}
{"msg":":D","username":"Vadim","ts":"2017-03-17T08:11:38.587Z"}
{"msg":"any update on the couchDB docker image and e2e tests ?","username":"MartinMateev","ts":"2017-03-17T10:09:57.918Z"}
{"msg":"@MartinMateev I've only googled it but it looks like docker images that include couchdb are out there already","username":"nickmelis","ts":"2017-03-17T10:18:46.159Z"}
{"msg":"if you know more I'm also interested","username":"nickmelis","ts":"2017-03-17T10:18:57.568Z"}
{"msg":"@Vadim how to interpret the first byte of channel_head [header:<channel_header:\"\\010\\003\\\"\\007eprich1*@ ...","username":"bh4rtp","ts":"2017-03-17T11:31:30.436Z"}
{"msg":"enum HeaderType {\n    MESSAGE = 0;                   // Used for messages which are signed but opaque\n    CONFIG = 1;                    // Used for messages which express the channel config\n    CONFIG_UPDATE = 2;             // Used for transactions which update the channel config\n    ENDORSER_TRANSACTION = 3;      // Used by the SDK to submit endorser based transactions\n    ORDERER_TRANSACTION = 4;       // Used internally by the orderer for management\n    DELIVER_SEEK_INFO = 5;         // Used as the type for Envelope messages submitted to instruct the Deliver API to seek\n}\n\nmessage Header {\n    bytes channel_header = 1;\n    bytes signature_header = 2;\n}\n\n// Header is a generic replay prevention and identity message to include in a signed payload\nmessage ChannelHeader {\n    int32 type = 1; // Header types 0-10000 are reserved and defined by HeaderType\n\n    // Version indicates message protocol version\n    int32 version = 2;","username":"bh4rtp","ts":"2017-03-17T11:31:34.304Z"}
{"msg":"@bh4rtp are you trying to figure out how gprc/protobuf encoding is working?","username":"Vadim","ts":"2017-03-17T11:34:16.888Z"}
{"msg":"@Vadim i am interesting in communication protocol. :grinning:","username":"bh4rtp","ts":"2017-03-17T11:35:58.731Z"}
{"msg":"I guess you can start then with reading the grpc docs here: http://www.grpc.io/","username":"Vadim","ts":"2017-03-17T11:36:38.983Z"}
{"msg":"@Vadim yes. the docs will help me dive in grpc. i wonder why wireshark doesn't support grpc protocol.","username":"bh4rtp","ts":"2017-03-17T11:42:00.088Z"}
{"msg":"@MartinMateev Concerning the couchdb question - it is ready for trials.  There is a fabric-couchdb docker image as well as instructions in the e2e example: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst ","username":"dave.enyeart","ts":"2017-03-17T11:45:55.882Z"}
{"msg":"Note that the instructions have some incorrect command calls, you can see the fixes here: https://gerrit.hyperledger.org/r/#/c/7251/","username":"dave.enyeart","ts":"2017-03-17T11:46:33.420Z"}
{"msg":"Is there any benchmarking being done on fabric? How are the results?","username":"donjohnny","ts":"2017-03-17T13:00:59.320Z"}
{"msg":"@donjohnny I suggest you ask/search on #fabric-quality ","username":"Vadim","ts":"2017-03-17T13:13:57.109Z"}
{"msg":"Hi","username":"ryokawajp","ts":"2017-03-17T15:46:59.104Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-2788","username":"ryokawajp","ts":"2017-03-17T15:47:46.434Z"}
{"msg":"I have experienced a performance problem in Fabric v0.6 when there are many (more than 10K ) records and do a query for a small number of records.","username":"ryokawajp","ts":"2017-03-17T15:49:09.792Z"}
{"msg":"The response time become slower by 2x-6x in this case and it tooks almost 20 seconds to query 10 items in our system.","username":"ryokawajp","ts":"2017-03-17T15:50:34.682Z"}
{"msg":"And I often observed crashes of peers in this situation.","username":"ryokawajp","ts":"2017-03-17T15:50:53.328Z"}
{"msg":"Manish kindly told us to use 'trie' instead of 'buckettree' in config.yaml, and the performance problem is being solved now.","username":"ryokawajp","ts":"2017-03-17T15:52:13.577Z"}
{"msg":"However, I still do not know the cause of the crashes when a transaction response is slow.","username":"ryokawajp","ts":"2017-03-17T15:52:59.985Z"}
{"msg":"I thought this problem is similar to https://jira.hyperledger.org/browse/FAB-1163","username":"ryokawajp","ts":"2017-03-17T15:53:50.474Z"}
{"msg":"where it is pointed out that the crash is caused by a timeout. My question is that, is there any known timeout which happens when a transaction takes too much time?","username":"ryokawajp","ts":"2017-03-17T15:54:51.282Z"}
{"msg":"Any information is appreciated.","username":"ryokawajp","ts":"2017-03-17T15:56:55.147Z"}
{"msg":"There was a 30s timeout that is now configurable in v1, maybe it is the same in 0.6?  See the v1 fix here: https://jira.hyperledger.org/browse/FAB-2767","username":"dave.enyeart","ts":"2017-03-17T17:30:06.983Z"}
{"msg":"I am using the following repo from the Marbles v3, because I want to use the new Fabric 1.0, and I'm running into the following issue.","username":"karysto","ts":"2017-03-17T19:05:44.538Z"}
{"msg":"I'm able to start the network using `docker-compose up` from that repo, it starts fine. The problem comes with joining a channel after creating it","username":"karysto","ts":"2017-03-17T19:06:14.181Z"}
{"msg":"After that I run a `docker exec -it fabric-peer0 /bin/bash` to get into the peer node","username":"karysto","ts":"2017-03-17T19:06:51.293Z"}
{"msg":"I create a channel as so: `root@peer0:/go/src/github.com/hyperledger/fabric/peer# peer channel create -c mainchain`","username":"karysto","ts":"2017-03-17T19:07:06.202Z"}
{"msg":"and in the docker logs, this occurs, telling me it was created just fine","username":"karysto","ts":"2017-03-17T19:07:37.451Z"}
{"msg":"```\nfabric-peer0 | 2017-03-17 18:28:03.288 UTC [peer] CreateChainFromBlock -> ERRO 056 Unable to get genesis block committed into the ledger, chainID mainchain\n\nfabric-peer0 | 2017-03-17 18:27:54.382 UTC [ledgermgmt] CreateLedger -> INFO 04a Creating leadger with id = mainchain\nfabric-peer0 | 2017-03-17 18:27:54.447 UTC [ledgermgmt] CreateLedger -> INFO 04b Created leadger with id = mainchain\nfabric-peer0 | 2017-03-17 18:27:54.481 UTC [kvledger] Commit -> INFO 04c Channel [mainchain]: Created block [0] with 1 transaction(s)\nfabric-peer0 | 2017-03-17 18:27:54.483 UTC [gossip/state] NewGossipStateProvider -> INFO 04d Updating node metadata information, current ledger sequence is at = 0, next expected block is = 1\nfabric-peer0 | 2017-03-17 18:27:54.484 UTC [chaincode] Init -> INFO 04e Init CSCC\nfabric-peer0 | 2017-03-17 18:27:54.484 UTC [sysccapi] deploySysCC -> INFO 04f system chaincode cscc/mainchain(github.com/hyperledger/fabric/core/scc/cscc) deployed\n```","username":"karysto","ts":"2017-03-17T19:07:41.927Z"}
{"msg":"```\nfabric-peer0 | 2017-03-17 18:27:54.382 UTC [ledgermgmt] CreateLedger -> INFO 04a Creating leadger with id = mainchain\nfabric-peer0 | 2017-03-17 18:27:54.447 UTC [ledgermgmt] CreateLedger -> INFO 04b Created leadger with id = mainchain\nfabric-peer0 | 2017-03-17 18:27:54.481 UTC [kvledger] Commit -> INFO 04c Channel [mainchain]: Created block [0] with 1 transaction(s)\nfabric-peer0 | 2017-03-17 18:27:54.483 UTC [gossip/state] NewGossipStateProvider -> INFO 04d Updating node metadata information, current ledger sequence is at = 0, next expected block is = 1\nfabric-peer0 | 2017-03-17 18:27:54.484 UTC [chaincode] Init -> INFO 04e Init CSCC\nfabric-peer0 | 2017-03-17 18:27:54.484 UTC [sysccapi] deploySysCC -> INFO 04f system chaincode cscc/mainchain(github.com/hyperledger/fabric/core/scc/cscc) deployed\n```","username":"karysto","ts":"2017-03-17T19:07:41.927Z"}
{"msg":"The problem comes with joining the channel","username":"karysto","ts":"2017-03-17T19:08:10.269Z"}
{"msg":"Running this command to join `root@peer0:/go/src/github.com/hyperledger/fabric/peer# peer channel join -b mainchain.block`","username":"karysto","ts":"2017-03-17T19:08:29.449Z"}
{"msg":"Instead of a 200 result, I get an empty result in the terminal\n```\nJoin Result: \n2017-03-17 18:39:27.786 UTC [main] main -> INFO 001 Exiting.....\n```","username":"karysto","ts":"2017-03-17T19:09:03.487Z"}
{"msg":"and the corresponding logs","username":"karysto","ts":"2017-03-17T19:09:14.273Z"}
{"msg":"```\nfabric-peer0 | 2017-03-17 19:09:41.489 UTC [peer] CreateChainFromBlock -> ERRO 06e Unable to get genesis block committed into the ledger, chainID mainchain\n```","username":"karysto","ts":"2017-03-17T19:09:58.981Z"}
{"msg":"I've searched around, can't seem to find much on this error aside from where it is in the source","username":"karysto","ts":"2017-03-17T19:10:35.625Z"}
{"msg":"Has anyone run into this issue before? Trying to debug through it","username":"karysto","ts":"2017-03-17T19:11:32.876Z"}
{"msg":"This is the repo I'm using for the setup https://github.com/IBM-Blockchain/marbles/tree/v3.0/chaincode/src/marbles","username":"karysto","ts":"2017-03-17T19:13:21.687Z"}
{"msg":"@karysto i am testing marbles3.0. it seems to use its own specified docker images and not completely compatible with fabric 1.0.0.","username":"bh4rtp","ts":"2017-03-18T02:43:14.782Z"}
{"msg":"@dave.enyeart Thank you! I suppose that it is fixed in v0.6. It is a good news that it becomes configurable in 1.0.","username":"ryokawajp","ts":"2017-03-18T07:40:03.079Z"}
{"msg":"@dave.enyeart Thank you! I suppose that it is also a static value in v0.6. It is a good news that it becomes configurable in 1.0.","username":"ryokawajp","ts":"2017-03-18T07:40:03.079Z"}
{"msg":"Howto add new organisation to existing channel? ","username":"ruslan.kryukov","ts":"2017-03-18T12:10:27.101Z"}
{"msg":"@ruslan.kryukov Please ask in #fabric-consensus ... the configuration experts hang out over there...","username":"dave.enyeart","ts":"2017-03-18T12:52:09.725Z"}
{"msg":"Oh, okay well","username":"ruslan.kryukov","ts":"2017-03-18T13:05:37.762Z"}
{"msg":"Does the peer CLI support TLS - I receive `Error: grpc: no transport security set (use grpc.WithInsecure() explicitly or set credentials)` when trying to connect to my orderers.","username":"passkit","ts":"2017-03-19T12:23:20.095Z"}
{"msg":"Has joined the channel.","username":"hycind","ts":"2017-03-19T19:51:23.559Z","type":"uj"}
{"msg":"HI \n\nWhen i try to use couchDB follow end-to-end instruction and uncomment all the # related to couchdb. And then boot up the docker-compose file, it return me below errors, any idea?\nERROR: yaml.parser.ParserError: while parsing a block collection\n  in \"./docker-compose.yaml\", line 84, column 7\nexpected <block end>, but found '<block sequence start>'\n  in \"./docker-compose.yaml\", line 94, column 8","username":"jansony1","ts":"2017-03-20T02:59:48.370Z"}
{"msg":"Has joined the channel.","username":"GeorgeSamman","ts":"2017-03-20T03:50:57.595Z","type":"uj"}
{"msg":"Can you post lines 82 thru 96?","username":"passkit","ts":"2017-03-20T04:28:44.832Z"}
{"msg":"I got it.. it caused by indentation","username":"jansony1","ts":"2017-03-20T04:54:22.611Z"}
{"msg":"Has joined the channel.","username":"yahtoo","ts":"2017-03-20T10:12:42.577Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dorrakhribi","ts":"2017-03-20T10:24:14.861Z","type":"uj"}
{"msg":"Has joined the channel.","username":"K Sai Anirudh","ts":"2017-03-20T11:53:33.726Z","type":"uj"}
{"msg":"hello,\nIn the v0.6 are the actual transaction stored in the blockchain or only the Merkle root is stored? If only Merkle root is stored can I access previous transactions?","username":"K Sai Anirudh","ts":"2017-03-20T11:55:24.327Z"}
{"msg":"maybe it's bug, maybe not:\n```\n[statevalidator] validateKVRead -> DEBU 15d0 Version mismatch for key [lccc:###CHAINCODE_NAME###]. Committed version = [&{%!s(uint64=1) %!s(uint64=1)}], Version in readSet [%!s(*version.Height=<nil>)]\n[statevalidator] ValidateAndPrepareBatch -> WARN 15d1 Block [2] Transaction index [0] TxId [f749a18a5d34e1b9ac188b12538c169fddf11feaaf0ec12b25615aa11680a122] marked as invalid by state validator. Reason code [11]\n```\n\nI had created own channel with configtx, I joined it, and after that deployed (install and instantiate) chaincode via cli\nand in logs I've found that `kvRead.Version` is nil","username":"ruslan.kryukov","ts":"2017-03-20T14:10:21.674Z"}
{"msg":"code 11 is MVCC_READ_CONFLICT","username":"ruslan.kryukov","ts":"2017-03-20T14:10:46.320Z"}
{"msg":"version.AreSame(committedVersion, kvRead.Version) is false","username":"ruslan.kryukov","ts":"2017-03-20T14:11:15.045Z"}
{"msg":"I have noticed that RangeQueryState is a member or stub (shim) but I the functions GetStateByRange or HasNext are not recognized/defined?","username":"openspylin","ts":"2017-03-20T15:13:04.655Z"}
{"msg":"Any advise or examples on getQueryState and related functions, the API doc give min details?","username":"openspylin","ts":"2017-03-20T16:11:38.128Z"}
{"msg":"@openspylin in v1 RangeQueryState has been renamed GetStateByRange.  The best examples of the ledger data APIs are in the marbles02 example: https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/marbles02/marbles_chaincode.go","username":"dave.enyeart","ts":"2017-03-20T16:33:10.138Z"}
{"msg":"Assume 2 chaincodes (A and B) are linked to 2 channels. Is it secured that chaincode A can call chaincode B and query data from his ledger?","username":"ruslan.kryukov","ts":"2017-03-20T16:51:55.990Z"}
{"msg":"Assume 2 chaincodes (A and В) are linked to 2 channels. Is it secured that chaincode A can call chaincode B and query data from his ledger?","username":"ruslan.kryukov","ts":"2017-03-20T16:51:55.990Z"}
{"msg":"Assume there are 2 chaincodes (A and В) are linked to 2 channels. Is it secured that chaincode A can call chaincode B and query data from his ledger?","username":"ruslan.kryukov","ts":"2017-03-20T16:51:55.990Z"}
{"msg":"Assume we have 2 chaincodes (A and В) are linked to 2 channels. Is it secured that chaincode A can call chaincode B and query data from his ledger?","username":"ruslan.kryukov","ts":"2017-03-20T16:51:55.990Z"}
{"msg":"Assume we have 2 chaincodes (A and В) are linked to 2 channels. Is it secure that chaincode A can call chaincode B and query data from his ledger?","username":"ruslan.kryukov","ts":"2017-03-20T16:51:55.990Z"}
{"msg":"I thought that multichain was created for privacy...","username":"ruslan.kryukov","ts":"2017-03-20T17:14:52.621Z"}
{"msg":"Thank you dave.enyeart","username":"openspylin","ts":"2017-03-21T00:35:27.375Z"}
{"msg":"hi\n\nI wonder if there is a doc which tell detailed about what items will include orderer.block. And what is the difference between orderer.block and channel.tx ?","username":"jansony1","ts":"2017-03-21T01:56:26.189Z"}
{"msg":"I thinks there is somewhere to define reader and writer things, while I have not found them in configtx.yaml file ","username":"jansony1","ts":"2017-03-21T02:48:14.968Z"}
{"msg":"While referring video \"V1 Chaincode install and instentiate\" from \"https://www.youtube.com/watch?v=itn2Ps8sarE\", all worked fine but we are facing one issue during the following \"query\" command:\n\nCORE_PEER_ADDRESS=peer0:7051 peer chaincode query -C myc -n mycc -v v0 -c '{\"Args\":[\"query \",\"a\"]}' -o orderer:5005\n\nError: \"Error endorsing query: rpc error: code = 2 desc = failed to obtain cds for mycc - transaction not found mycc/myc\"\n\nAny clue please?\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-03-21T12:36:42.245Z"}
{"msg":"I suspect there was a hiccup during install/instantiate.  I'd suggest follow the step-by-step instructions on latest v1 alpha code, they are known to work: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst","username":"dave.enyeart","ts":"2017-03-21T15:01:16.600Z"}
{"msg":"If there four peers on the network and lets say all them are on a channel, does each peer need to install chaincode on the each peer?","username":"bkvellanki","ts":"2017-03-21T15:45:27.041Z"}
{"msg":"Does the CC node not get propagated/replicated as they are on the same channel.","username":"bkvellanki","ts":"2017-03-21T15:46:20.433Z"}
{"msg":"@bkvellanki it does not get propagated, whoever uses the CC needs to install it","username":"AdnanC","ts":"2017-03-21T15:48:41.669Z"}
{"msg":"@bkvellanki it does not get propagated, whoever used the CC needs to install it","username":"AdnanC","ts":"2017-03-21T15:48:41.669Z"}
{"msg":"If that is the way it is intended to be, that is fine. If not,  by following the end-end.rst manually we have to install cc manually.","username":"bkvellanki","ts":"2017-03-21T15:48:48.680Z"}
{"msg":"Thats right","username":"AdnanC","ts":"2017-03-21T15:49:19.285Z"}
{"msg":"Any reasoning behind that? As they are on the same channel it should propagate right?","username":"bkvellanki","ts":"2017-03-21T15:50:41.665Z"}
{"msg":"Just thinking logically from the implementation or solution perspective","username":"bkvellanki","ts":"2017-03-21T15:51:21.963Z"}
{"msg":"Probably due to performance reasons. ","username":"AdnanC","ts":"2017-03-21T15:52:59.640Z"}
{"msg":"for a more detailed reasoning behind this, maybe #fabric-questions would be helpful","username":"AdnanC","ts":"2017-03-21T15:53:34.676Z"}
{"msg":"@dave.enyeart \nchaincode-2-chaincode access gives an interface to specify channel-name, chaincode and the arguments. This means chaincode could be running on a different channel for that peer.\n\nCould you please let know how do we specify the channel information for the MockStub Implementation - for example say example04 is running on channel say ex04channel and example02 chaincode is running on ex02channel.","username":"rahulhegde","ts":"2017-03-21T16:05:24.277Z"}
{"msg":"@dave.enyeart \nchaincode-2-chaincode access gives an interface to specify channel-name, chaincode-name and the arguments. This means chaincode could be running on a different channel for that peer.\n\nCould you please let know how do we specify the channel information for the MockStub Implementation - for example say example04 is running on channel ex04channel and example02 chaincode is running on ex02channel.\n\n@AdnanC - could you please check this with Dave as there will exist an impact if this is not available.","username":"rahulhegde","ts":"2017-03-21T16:05:24.277Z"}
{"msg":"@dave.enyeart \nchaincode-2-chaincode access gives an interface to specify channel-name, chaincode and the arguments. This means chaincode could be running on a different channel for that peer.\n\nCould you please let know how do we specify the channel information for the MockStub Implementation - for example say example04 is running on channel say ex04channel and example02 chaincode is running on ex02channel.\n\n@AdnanC - could you please check this with Dave.","username":"rahulhegde","ts":"2017-03-21T16:05:24.277Z"}
{"msg":"@dave.enyeart \nchaincode-2-chaincode access gives an interface to specify channel-name, chaincode and the arguments. This means chaincode could be running on a different channel for that peer.\n\nCould you please let know how do we specify the channel information for the MockStub Implementation - for example say example04 is running on channel say ex04channel and example02 chaincode is running on ex02channel.\n\n@AdnanC - could you please check this with Dave as there will exist an impact on our to-go production code if this support is not available.","username":"rahulhegde","ts":"2017-03-21T16:05:24.277Z"}
{"msg":"@dave.enyeart \nchaincode-2-chaincode access gives an interface to specify channel-name, chaincode and the arguments. This means chaincode could be running on a different channel for that peer.\n\nCould you please let know how do we specify the channel information for the MockStub Implementation - for example say example04 is running on channel say ex04channel and example02 chaincode is running on ex02channel.\n\n@AdnanC - could you please check this with Dave as there will exist an impact if this is not available.","username":"rahulhegde","ts":"2017-03-21T16:05:24.277Z"}
{"msg":"@dave.enyeart \nchaincode-2-chaincode access gives an interface to specify channel-name, chaincode-name and the arguments. This means chaincode could be running on a different channel for that peer.\n\nCould you please let know how do we specify the channel information for the MockStub Implementation - for example say example04 is running on channel say ex04channel and example02 chaincode is running on ex02channel.\n\n@AdnanC - could you please check this with Dave as there will exist an impact if this is not available.","username":"rahulhegde","ts":"2017-03-21T16:05:24.277Z"}
{"msg":"Has joined the channel.","username":"raj","ts":"2017-03-21T17:30:18.972Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shanlusun","ts":"2017-03-22T01:40:36.780Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pd93","ts":"2017-03-22T09:32:36.671Z","type":"uj"}
{"msg":"Hey, every time I start up my couchdb container, it throws a load of errors into my docker logs until I set it up as a single node via Fauxton. Is there a way to automate this process?","username":"pd93","ts":"2017-03-22T09:43:24.561Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=9tBDRqjLipY6ozuXW) @dave.enyeart @AdnanC \n\nI checked the MockStub code and found following changes to be done to utilize the channel functionality. During NewMockStub, MockPeerChaincode API call --> pass \"chain-code-name/channel-name\" as the invokableChaincodeName. \n\nPlease acknowledge.","username":"rahulhegde","ts":"2017-03-22T10:42:29.610Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=9tBDRqjLipY6ozuXW","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=9tBDRqjLipY6ozuXW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rahulhegde I can confirm that you need to pass the chaincode name in that format (I'm writing tests for my own chaincodes)","username":"Vadim","ts":"2017-03-22T10:46:07.794Z"}
{"msg":"Has joined the channel.","username":"agaragiola","ts":"2017-03-22T13:02:48.211Z","type":"uj"}
{"msg":"Hi All, recently started migrating to v1.0 . Trying to use couchDb for state store. But unable to pull image for it.\n image: hyperledger/fabric-couchdb:latest\n it says ,\n    Pulling couchdb0 (hyperledger/fabric-couchdb:latest)...\n    ERROR: manifest for hyperledger/fabric-couchdb:latest not found\n\nDoes the sfhackfest.tar.gz contains the image ? do we need to provide something similar to what we did for peer,\neg: image: sfhackfest22017/fabric-peer:x86_64-0.7.0-snapshot-c7b3fe0\n\nAnyone please suggest.","username":"PushpalathaHiremath","ts":"2017-03-23T04:38:44.973Z"}
{"msg":"@PushpalathaHiremath please check which tags are available. There is no latest tag for any of the v1.0.0-alpha images\nhttps://hub.docker.com/r/hyperledger/fabric-couchdb/tags/","username":"pd93","ts":"2017-03-23T08:54:29.427Z"}
{"msg":"You need something like this: `docker pull hyperledger/fabric-baseimage:","username":"pd93","ts":"2017-03-23T08:54:47.976Z"}
{"msg":"You need something like this: `docker pull hyperledger/fabric-baseimage:x86_64-1.0.0-alpha`","username":"pd93","ts":"2017-03-23T08:54:47.976Z"}
{"msg":"make sure you use the tag that corresponds to whichever platform you're using","username":"pd93","ts":"2017-03-23T08:55:38.472Z"}
{"msg":"oh i see... okay.. Let me try.. Thank you.","username":"PushpalathaHiremath","ts":"2017-03-23T08:55:58.217Z"}
{"msg":"and one more thing, what is the way to bring all components up separately Eg : peer, cli, orderer, ca for dev env?","username":"PushpalathaHiremath","ts":"2017-03-23T08:56:50.853Z"}
{"msg":"`docker compose up -d [service_name`]","username":"pd93","ts":"2017-03-23T08:57:12.090Z"}
{"msg":"`docker compose up -d [service_name]`","username":"pd93","ts":"2017-03-23T08:57:12.090Z"}
{"msg":"`docker-compose up -d [service_name]`","username":"pd93","ts":"2017-03-23T08:57:12.090Z"}
{"msg":"Oh and if you want to use the latest tag still.. you can retag your docker image like this:\n`docker tag [container]:[tag] [new_container_name]:[new_tag]`","username":"pd93","ts":"2017-03-23T08:58:52.987Z"}
{"msg":"this will use the images is it?","username":"PushpalathaHiremath","ts":"2017-03-23T08:58:53.357Z"}
{"msg":"It will use each service in your docker-compose","username":"pd93","ts":"2017-03-23T08:59:07.991Z"}
{"msg":"so if I do `docker compose -d peer0` only peer0 will come up.. but still with the config in the compose\nif you want to run the image \"as-is\" without any of you docker-compose config.. you can just run `docker run [image_name]`","username":"pd93","ts":"2017-03-23T09:00:00.392Z"}
{"msg":"so if I do `docker compose -d peer0` only peer0 will come up.. but still with the config in the compose file\nif you want to run the image \"as-is\" without any of your docker-compose config.. you can just run `docker run [image_name]`","username":"pd93","ts":"2017-03-23T09:00:00.392Z"}
{"msg":"so if I do `docker-compose -d peer0` only peer0 will come up.. but still with the config in the compose file\nif you want to run the image \"as-is\" without any of your docker-compose config.. you can just run `docker run [image_name]`","username":"pd93","ts":"2017-03-23T09:00:00.392Z"}
{"msg":"so if I do `docker-compose -d peer0` only peer0 will come up.. but still with the config in the compose file\nif you want to run the image \"as-is\" without any of your docker-compose config.. you can just run `docker run [image_name]:[tag]`","username":"pd93","ts":"2017-03-23T09:00:00.392Z"}
{"msg":"this way it creates container only for each service is it?","username":"PushpalathaHiremath","ts":"2017-03-23T09:02:11.754Z"}
{"msg":"earlier there was no container created for dev mode","username":"PushpalathaHiremath","ts":"2017-03-23T09:03:19.005Z"}
{"msg":"earlier  no containers used to get created for dev mode, when we make member service and peer up separately","username":"PushpalathaHiremath","ts":"2017-03-23T09:03:19.005Z"}
{"msg":"I'm not sure I understand what you're asking","username":"pd93","ts":"2017-03-23T09:06:08.756Z"}
{"msg":"docker-compose up -d [service_name] is like bringing up the services selectively. What i am looking for is, how do we bring the services up using commands. Eg: 'peer node start --peer-defaultchain=false' which doesn't create any containers...","username":"PushpalathaHiremath","ts":"2017-03-23T09:08:40.195Z"}
{"msg":"Ahh I'm with you now sorry. You need to build the binaries natively. It's not something I've done before, but my understanding is that there is a make command for it","username":"pd93","ts":"2017-03-23T09:09:34.420Z"}
{"msg":"Take a look at the makefile in the fabric root. looks like the command is just `make peer`","username":"pd93","ts":"2017-03-23T09:11:19.146Z"}
{"msg":"@PushpalathaHiremath Take a look at the makefile in the fabric root. looks like the command is just `make peer`","username":"pd93","ts":"2017-03-23T09:11:19.146Z"}
{"msg":"Quote from the Makefile: `make native` - ensures all native binaries are available","username":"pd93","ts":"2017-03-23T09:12:28.711Z"}
{"msg":"okay will try that...","username":"PushpalathaHiremath","ts":"2017-03-23T09:38:19.097Z"}
{"msg":"Before that when i try to build the code, i get compilation issues... \n\n../vendor/github.com/miekg/pkcs11/pkcs11.go:29:10: fatal error: 'ltdl.h' file not found\n#include <ltdl.h>\n         ^\n1 error generated.","username":"PushpalathaHiremath","ts":"2017-03-23T09:38:44.275Z"}
{"msg":"Has joined the channel.","username":"RahulAgrawal","ts":"2017-03-23T10:19:10.429Z","type":"uj"}
{"msg":"When trying to join a channel I am receiving the following error:\n\n```2017-03-23 10:40:09.898 UTC [configtx/tool/localconfig] Load -> CRIT 004 Could not find profile SampleInsecureSolo\npanic: Could not find profile SampleInsecureSolo```\n\nPrior to that debug dumps my config which does not contain the SampleInsecureSolo profile","username":"passkit","ts":"2017-03-23T10:50:42.794Z"}
{"msg":"How to issue the command so that my custom profile is picked up?","username":"passkit","ts":"2017-03-23T10:51:07.521Z"}
{"msg":"@PushpalathaHiremath completely missed your message. You need to install `libltdl-dev`","username":"pd93","ts":"2017-03-23T11:08:16.951Z"}
{"msg":"@passkit Are you using the configtxgen tool? ","username":"pd93","ts":"2017-03-23T11:09:19.195Z"}
{"msg":"Has joined the channel.","username":"subbu165","ts":"2017-03-23T15:39:15.780Z","type":"uj"}
{"msg":"> Raw transaction records are permanently stored in the ledger. While the contents of non-confidential transactions are open to all participants, the contents of confidential transactions are encrypted with secret keys known only to their originators, validators, and authorized auditors. Only holders of the secret keys can interpret transaction contents.\n\nhttp://hyperledger-fabric.readthedocs.io/en/latest/FAQ/confidentiality_FAQ.html","username":"farhan3","ts":"2017-03-23T15:43:58.792Z"}
{"msg":"Can any elaborate as to how these confidential transactions are achieved? ","username":"farhan3","ts":"2017-03-23T15:44:32.901Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=TwaXp2EMukfojAg3S) @pd93 FYI, on RHEL based Linux, the pkg is `libtool-ltdl-devel`","username":"farhan3","ts":"2017-03-23T15:48:19.007Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TwaXp2EMukfojAg3S","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TwaXp2EMukfojAg3S","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@pd93 - no.  I was just trying to get my peer to create a channel","username":"passkit","ts":"2017-03-23T16:37:55.499Z"}
{"msg":"`peer channel create -c mych1 -o example.com:7050  ","username":"passkit","ts":"2017-03-23T16:38:45.142Z"}
{"msg":"`peer channel create -c mych1 -o example.com:7050`","username":"passkit","ts":"2017-03-23T16:38:45.142Z"}
{"msg":"```2017-03-23 10:40:09.889 UTC [configtx/tool/localconfig] Load -> INFO 001 Checking for configtx.yaml at: \n2017-03-23 10:40:09.889 UTC [configtx/tool/localconfig] Load -> INFO 002 Checking for configtx.yaml at: /etc/hyperledger/peer\n2017-03-23 10:40:09.894 UTC [viperutil] EnhancedExactUnmarshal -> INFO 003 map[organizations:.... correct data from configtx.yaml]\n2017-03-23 10:40:09.898 UTC [configtx/tool/localconfig] Load -> CRIT 004 Could not find profile SampleInsecureSolo\npanic: Could not find profile SampleInsecureSolo\n\ngoroutine 1 [running]:\ngithub.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4201ee720, 0xcb07e5, 0x19, 0xc420331a20, 0x1, 0x1)\n\t/go/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x11e\ngithub.com/hyperledger/fabric/common/configtx/tool/localconfig.Load(0xca9afe, 0x12, 0x1288b40)\n\t/go/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:207 +0xb28\ngithub.com/hyperledger/fabric/common/configtx/test.OrdererTemplate(0x20, 0xbebea0)\n\t/go/src/github.com/hyperledger/fabric/common/configtx/test/helper.go:93 +0x36\ngithub.com/hyperledger/fabric/common/configtx/test.CompositeTemplate(0x0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/common/configtx/test/helper.go:121 +0x26\ngithub.com/hyperledger/fabric/peer/channel.createChannelFromDefaults(0xc42027b6d0, 0xc4200163f0, 0x5, 0x7fc2a165e000)\n\t/go/src/github.com/hyperledger/fabric/peer/channel/create.go:63 +0x34\ngithub.com/hyperledger/fabric/peer/channel.sendCreateChainTransaction(0xc42027b6d0, 0x0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/peer/channel/create.go:122 +0x159\ngithub.com/hyperledger/fabric/peer/channel.executeCreate(0xc42027b6d0, 0xc42027b6d0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/peer/channel/create.go:141 +0x2f\ngithub.com/hyperledger/fabric/peer/channel.create(0xc42021e6c0, 0xc4202114c0, 0x0, 0x4, 0x0, 0x7, 0x7)\n\t/go/src/github.com/hyperledger/fabric/peer/channel/create.go:178 +0x40\ngithub.com/hyperledger/fabric/peer/channel.createCmd.func1(0xc42021e6c0, 0xc4202114c0, 0x0, 0x4, 0x0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/peer/channel/create.go:55 +0x52\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0xc42021e6c0, 0xc420211480, 0x4, 0x4, 0xc42021e6c0, 0xc420211480)\n\t/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 +0x3e9\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x12719c0, 0xf, 0xc4201e5a98, 0x7)\n\t/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 +0x339\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x12719c0, 0x21, 0xc4201e5a98)\n\t/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 +0x2b\nmain.main()\n\t/go/src/github.com/hyperledger/fabric/peer/main.go:111 +0x634```","username":"passkit","ts":"2017-03-23T16:43:38.255Z"}
{"msg":"@farhan3 http://hyperledger-fabric.readthedocs.io/en/latest/FAQ/confidentiality_FAQ.html is an outdated topic and not relevant to v1, please ignore it.  @nickgaski can this topic be removed?","username":"dave.enyeart","ts":"2017-03-23T17:11:35.182Z"}
{"msg":"there is some discussion of v1 confidentiality here: http://hyperledger-fabric.readthedocs.io/en/latest/FAQ/architecture_FAQ.html#security-access-control","username":"dave.enyeart","ts":"2017-03-23T17:12:18.495Z"}
{"msg":"I will send it to the chopping block","username":"nickgaski","ts":"2017-03-23T17:12:49.077Z"}
{"msg":"@dave.enyeart Thanks! ","username":"farhan3","ts":"2017-03-23T17:13:17.560Z"}
{"msg":"@dave.enyeart Since there are no \"confidential transactions\". Is Chaincode A not allowed to access the ledger information of Chaincode B?","username":"farhan3","ts":"2017-03-23T18:00:04.762Z"}
{"msg":"Has joined the channel.","username":"cgrecu","ts":"2017-03-23T18:07:45.126Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Wenyang Liu","ts":"2017-03-23T18:08:45.594Z","type":"uj"}
{"msg":"Does anyone know if there are there instructions for setting up couchdb outside vagrant?","username":"pd93","ts":"2017-03-23T18:27:32.378Z"}
{"msg":"@pd93 this may be useful, couchdb instuctions are near the bottom https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst ","username":"AdnanC","ts":"2017-03-23T18:46:48.019Z"}
{"msg":"@AdnanC Thanks, I hadn't seen that before. I've actually already done everything that is suggested there, but the database for my channel is not there and I have to go through the setup each time I bring up the container","username":"pd93","ts":"2017-03-23T18:51:27.856Z"}
{"msg":"Not sure what I've missed here :/","username":"pd93","ts":"2017-03-23T18:51:42.499Z"}
{"msg":"Were you able to run the end-to-end test successfully?  ","username":"AdnanC","ts":"2017-03-23T18:54:18.092Z"}
{"msg":"you mean the database gets deleted when you rig down the container? you jhave to mount some container folder into host folder for that.  ","username":"AdnanC","ts":"2017-03-23T18:54:18.092Z"}
{"msg":"you mean the database gets deleted when you rig down the container? you have to mount some container folder into host folder for that.  ","username":"AdnanC","ts":"2017-03-23T18:54:18.092Z"}
{"msg":"No, the database is never created when I bring it up","username":"pd93","ts":"2017-03-23T18:54:49.017Z"}
{"msg":"Were you able to run the end-to-end test successfully?","username":"AdnanC","ts":"2017-03-23T18:56:01.451Z"}
{"msg":"Yes, but that was a while ago now. I think before couchdb was added","username":"pd93","ts":"2017-03-23T18:56:16.918Z"}
{"msg":"You may want to run the end-to-end with Couchdb","username":"AdnanC","ts":"2017-03-23T18:56:41.495Z"}
{"msg":"I'll give it a try","username":"pd93","ts":"2017-03-23T18:56:52.071Z"}
{"msg":"@AdnanC Hey thanks, Turns out I'd made a stupid error in the docker-compose file :upside_down:\nIt's creating the channel database now as expected, but I'm still getting a lot of repeating output from the docker logs\n```\ncouchdb0    | \ncouchdb0    | [notice] 2017-03-23T19:17:09.086791Z nonode@nohost <0.323.0> -------- chttpd_auth_cache changes listener died database_does_not_exist at mem3_shards:load_shards_from_db/6(line:327) <= mem3_shards:load_shards_from_disk/1(line:315) <= mem3_shards:load_shards_from_disk/2(line:331) <= mem3_shards:for_docid/3(line:87) <= fabric_doc_open:go/3(line:38) <= chttpd_auth_cache:ensure_auth_ddoc_exists/2(line:187) <= chttpd_auth_cache:listen_for_changes/1(line:134)\ncouchdb0    | [error] 2017-03-23T19:17:09.086863Z nonode@nohost emulator -------- Error in process <0.1760.0> with exit value:\ncouchdb0    | {database_does_not_exist,[{mem3_shards,load_shards_from_db,\"_users\",[{file,\"src/mem3_shards.erl\"},{line,327}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,315}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,331}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,87}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{chttpd_auth_cache,ensure_auth_ddoc_exists,2,[{file,\"src/chttpd_auth_cache.erl\"},{line,187}]},{chttpd_auth_cache,listen_for_changes,1,[{file,\"src/chttpd_auth_cache.erl\"},{line,134}]}]}\ncouchdb0    | \n```","username":"pd93","ts":"2017-03-23T19:18:37.347Z"}
{"msg":"if you are talking about couch logs, this is a couchdb thing, these do not indicate error, just the fact that no database has been created (yet) @pd93   ","username":"AdnanC","ts":"2017-03-23T20:19:06.664Z"}
{"msg":"@AdnanC Yeah that makes sense. This guide: http://docs.couchdb.org/en/2.0.0/install/index.html#single-node-setup indicates that we should be running the following commands to create the system databases:\n```\ncurl -X PUT http://127.0.0.1:5984/_users\ncurl -X PUT http://127.0.0.1:5984/_replicator\ncurl -X PUT http://127.0.0.1:5984/_global_changes\n```\nIs this something that needs to be done? The containers do not have the curl command and the equivalent wget commands have been failing with a 401 unauthorised ","username":"pd93","ts":"2017-03-23T20:23:23.341Z"}
{"msg":"@AdnanC Yeah that makes sense. This guide: http://docs.couchdb.org/en/2.0.0/install/index.html#single-node-setup indicates that we should be running the following commands to create the system databases:\n```\ncurl -X PUT http://127.0.0.1:5984/_users\ncurl -X PUT http://127.0.0.1:5984/_replicator\ncurl -X PUT http://127.0.0.1:5984/_global_changes\n```\nIs this something that needs to be done? The containers do not have the curl command and when I run the equivalent wget commands, they've been failing with a 401 - Unauthorised ","username":"pd93","ts":"2017-03-23T20:23:23.341Z"}
{"msg":"@AdnanC Yeah that makes sense. This guide: http://docs.couchdb.org/en/2.0.0/install/index.html#single-node-setup indicates that we should be running the following commands to create the system databases:\n```\ncurl -X PUT http://127.0.0.1:5984/_users\ncurl -X PUT http://127.0.0.1:5984/_replicator\ncurl -X PUT http://127.0.0.1:5984/_global_changes\n```\nIs this something that needs to be done? The containers do not have the curl command and when I run the equivalent wget commands, they've been failing with a 401 unauthorised ","username":"pd93","ts":"2017-03-23T20:23:23.341Z"}
{"msg":"for ledger funtionality, these are not needed ","username":"AdnanC","ts":"2017-03-23T20:24:41.063Z"}
{"msg":"for ledger funtionality, running these are not needed ","username":"AdnanC","ts":"2017-03-23T20:24:41.063Z"}
{"msg":"Ok, good to know. Thank you","username":"pd93","ts":"2017-03-23T20:25:11.227Z"}
{"msg":"@AdnanC CouchDB now appears to work, but I'm now getting: `Error endorsing invoke: rpc error: code = 2 desc = Unknown error` in the logs for my invoke command","username":"pd93","ts":"2017-03-23T20:35:25.644Z"}
{"msg":"hmm, endorsing errors, please check to see if the endorsement policies are set up correctly, and also you dont have any chaincode images from prior runs @pd93  ","username":"AdnanC","ts":"2017-03-23T20:51:45.697Z"}
{"msg":"@AdnanC Where should I be checking exactly? I have `-P \"OR ('$CORE_PEER_LOCALMSPID.member')\"` in my instantiate command","username":"pd93","ts":"2017-03-23T20:55:52.915Z"}
{"msg":"None of my other commands have anything to do with policies in them","username":"pd93","ts":"2017-03-23T20:56:05.279Z"}
{"msg":"That environment variable is definitely set correctly","username":"pd93","ts":"2017-03-23T20:56:19.539Z"}
{"msg":"If you are running the e2e_cli, try `-P \"OR ('Org0MSP.member','Org1MSP.member')\"`","username":"AdnanC","ts":"2017-03-23T20:59:36.298Z"}
{"msg":"I've set up my own single org with the configtxgen tool","username":"pd93","ts":"2017-03-23T21:00:44.499Z"}
{"msg":"Hmm, I would take that question to #fabric-questions, and in the meantime,  if you have only 1 org, try it without any `-P`.  ","username":"AdnanC","ts":"2017-03-23T21:10:46.702Z"}
{"msg":"Hmm, I would take that question to #fabric-questions, and in the meantime,  if you have only 1 org, try it without any `-P`.  @pd93 ","username":"AdnanC","ts":"2017-03-23T21:10:46.702Z"}
{"msg":"What images/commit level you atre using?","username":"AdnanC","ts":"2017-03-23T21:11:10.618Z"}
{"msg":"What images/commit level are you using?","username":"AdnanC","ts":"2017-03-23T21:11:10.618Z"}
{"msg":"@AdnanC If I can't get it working I'll post over there thanks :) \nI'm using the alpha images, but I'm on master. Is this a problem?","username":"pd93","ts":"2017-03-23T21:24:24.875Z"}
{"msg":"That should not be an issue, thanks","username":"AdnanC","ts":"2017-03-23T21:25:18.870Z"}
{"msg":"That should not be an problem, thanks @pd93 ","username":"AdnanC","ts":"2017-03-23T21:25:18.870Z"}
{"msg":"That should not be an issue, thanks @pd93 ","username":"AdnanC","ts":"2017-03-23T21:25:18.870Z"}
{"msg":"@pd93 I'm also trying to get e2e_cli working with couch... my questions are in #fabric-questions ","username":"bobbiejc","ts":"2017-03-24T01:32:49.497Z"}
{"msg":"@bobbiejc My couch set up works fine now (as far as I can tell). It's simply an endorser error that I'm getting now","username":"pd93","ts":"2017-03-24T08:53:24.546Z"}
{"msg":"@passkit you should create Configuration transaction file before, and pass it with flag -f. ","username":"ruslan.kryukov","ts":"2017-03-24T11:41:05.535Z"}
{"msg":"you can create it with configtxgen tool","username":"ruslan.kryukov","ts":"2017-03-24T11:41:21.727Z"}
{"msg":"SampleInsecureProfile = \"SampleInsecureSolo\"\nSampleSingleMSPSoloProfile = \"SampleSingleMSPSolo\"\n\nthis sample profiles are hardcoded and you should supply them in your configtx.yaml, otherwise you get an error. ","username":"ruslan.kryukov","ts":"2017-03-24T11:43:10.664Z"}
{"msg":"configtx.yaml should be placed in proper folders, configtx scans this three folders: $PEER_CFG_PATH, $ORDERER_CFG_PATH and project folder (in your log this folder is /etc/hyperledger/peer)","username":"ruslan.kryukov","ts":"2017-03-24T11:45:29.582Z"}
{"msg":"Has joined the channel.","username":"dhwang","ts":"2017-03-24T13:22:00.415Z","type":"uj"}
{"msg":"Has joined the channel.","username":"joe-alewine","ts":"2017-03-24T13:58:29.719Z","type":"uj"}
{"msg":"@ruslan.kryukov does this mean that generating channels on the fly is impossible if you are not using the sample profiles?  ","username":"passkit","ts":"2017-03-25T00:05:32.848Z"}
{"msg":"@ruslan.kryukov I can see how having defaults hard coded in helps speed development and testing - but they are not at all helpful for documentation or production deployment.  For example `CORE_PEER_COMMITTER_LEDGER_ORDERER=orderer:7050 peer channel create -c myc2` from the getting started documentation only works because it is heavily dependent upon hard coded defaults.","username":"passkit","ts":"2017-03-25T00:05:32.848Z"}
{"msg":"Is there a Jira issue to address the hard coding of the sample channels.   I can foresee all sorts of problems if samples are required to be left configtx.yaml.  As with my example - the peer would try to register a channel with the sample profile which would not be the expected behaviour.","username":"passkit","ts":"2017-03-25T00:12:02.600Z"}
{"msg":"Is there a Jira issue to address the hard coding of the sample channels.   I can foresee all sorts of problems if samples are required to be left in configtx.yaml.  As with my example - the peer would try to register a channel with the sample profile which would not be the expected behaviour.","username":"passkit","ts":"2017-03-25T00:12:02.600Z"}
{"msg":"At the very least, it should be possible to specify a profile when creating from the CLI","username":"passkit","ts":"2017-03-25T00:12:44.974Z"}
{"msg":"Is it therefore that the example, `CORE_PEER_COMMITTER_LEDGER_ORDERER=orderer:7050 peer channel create -c myc2` from the getting started documentation would not be possible in a production environment because the peer is hardcoded to execute this with a sample profile?","username":"passkit","ts":"2017-03-25T00:56:22.129Z"}
{"msg":"@passkit you can add your own third profile and use it in orderer config, you can even add new channels on the fly with sdk or special file 'config transactioanal file' which can be generated by configtxgen tool and passed by cli. ","username":"ruslan.kryukov","ts":"2017-03-25T03:41:32.889Z"}
{"msg":"Hello - do you know how can I query ledger state at a particular moment of its existence (i.e. at block x instead of the last produced block)?","username":"matanyahu","ts":"2017-03-25T06:45:37.709Z"}
{"msg":"I use example02 and I did a series of token exchanges between users and now I want to see how balances of both a and b were changing over time","username":"matanyahu","ts":"2017-03-25T06:46:22.413Z"}
{"msg":"@matanyahu check org.hyperledger.fabric.sdk.Chain#query methods from fabric java sdk. Also you can call some methods directly by peer cli. Start with core/scc/qscc/query.go ","username":"ruslan.kryukov","ts":"2017-03-25T09:00:55.602Z"}
{"msg":"You want GetHistoryForKey.  An upcoming change will add the timestamp of the tran that updated the key: https://gerrit.hyperledger.org/r/#/c/7221/","username":"dave.enyeart","ts":"2017-03-25T14:49:06.697Z"}
{"msg":"@dave.enyeart  -   https://gerrit.hyperledger.org/r/#/c/6795/   does not seem to be working / passing for me.   it has failed in CI (my latest change was rebased on this) - https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8879/console - and I get the same error when running the unit tests locally against master","username":"mastersingh24","ts":"2017-03-26T13:16:27.966Z"}
{"msg":"I pushed a fix: https://gerrit.hyperledger.org/r/#/c/7449/","username":"dave.enyeart","ts":"2017-03-26T14:36:37.359Z"}
{"msg":"cool","username":"mastersingh24","ts":"2017-03-26T14:37:12.491Z"}
{"msg":"thanks @dave.enyeart  - I think I was almost there  myself  ;)   in any case, I got to play around with couch  ;)","username":"mastersingh24","ts":"2017-03-26T14:39:33.010Z"}
{"msg":"this was due to a old changeset... other changes broke it between time of push and merge.  i guess we should reverify before merging old changesets","username":"dave.enyeart","ts":"2017-03-26T14:41:08.875Z"}
{"msg":"@mastersingh24 this was due to a old changeset... other changes broke it between time of push and merge.  i guess we should reverify before merging old changesets","username":"dave.enyeart","ts":"2017-03-26T14:41:08.875Z"}
{"msg":"yeah  as this is not the first time something like this has happened","username":"mastersingh24","ts":"2017-03-26T14:43:22.386Z"}
{"msg":"Usually things break due to compilation when old change sets are rebased, not at the unit test phase","username":"yacovm","ts":"2017-03-26T16:17:52.229Z"}
{"msg":"Usually things break due to compilation when old change sets are merged, not at the unit test phase","username":"yacovm","ts":"2017-03-26T16:17:52.229Z"}
{"msg":"Has joined the channel.","username":"DG0011","ts":"2017-03-26T16:52:54.517Z","type":"uj"}
{"msg":"Hi, I am wondering what is the state of CouchDB support in Fabric v1.0?  Can CouchDB be effectively used to store ledger and state of the world?  ","username":"DG0011","ts":"2017-03-26T16:56:03.159Z"}
{"msg":"does system chaincode configurable? i see chaincodetest.yaml has the following lines.","username":"bh4rtp","ts":"2017-03-27T02:15:21.990Z"}
{"msg":"    # system chaincodes whitelist. To add system chaincode \"myscc\" to the\n    # whitelist, add \"myscc: enable\" to the list\n    system:\n        cscc: enable\n        lccc: enable\n        escc: enable\n        vscc: enable","username":"bh4rtp","ts":"2017-03-27T02:15:27.360Z"}
{"msg":"it seems myscc can also become a system chaincode. and what is system chaincodes whitelist?","username":"bh4rtp","ts":"2017-03-27T02:16:32.040Z"}
{"msg":"@DG0011 CouchDB is offered as a beta in v1.  It can be used to store and query state information.  See explanation here http://hyperledger-fabric.readthedocs.io/en/latest/ledger.html and sample usage here: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst","username":"dave.enyeart","ts":"2017-03-27T08:18:05.365Z"}
{"msg":"@dave.enyeart  Thanks!","username":"DG0011","ts":"2017-03-27T23:51:41.484Z"}
{"msg":"@dave.enyeart do I need to install couchdb separately and add username/pw to it?","username":"berserkr","ts":"2017-03-28T06:09:01.960Z"}
{"msg":"or will everything be done for me through yaml?","username":"berserkr","ts":"2017-03-28T06:09:11.781Z"}
{"msg":"I would need to make peer again after modifying the yaml right?","username":"berserkr","ts":"2017-03-28T06:09:32.788Z"}
{"msg":"If I wanted to replace couchdb and add another db instead, do you have any steps I would need to follow?","username":"berserkr","ts":"2017-03-28T06:10:02.748Z"}
{"msg":"also, do you guys have any docs on how to stress test the db layer?","username":"berserkr","ts":"2017-03-28T06:10:29.957Z"}
{"msg":"hi anyone know where the block data stored in the file system?","username":"jansony1","ts":"2017-03-28T06:47:43.206Z"}
{"msg":"Can a  node read  ledger and world state data stored in its local system or is it encrypted ?","username":"RahulAgrawal","ts":"2017-03-28T06:54:42.683Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Q7kqvT8mT3LSmz5xH) @jansony1 It's stored in /var/hyperledger/production/ledgersData/chains/chains/{channelName} by default for a peer, /tmp/hyperledger-fabric-ordererledger{random-number}/ for orderer node by default","username":"xixuejia","ts":"2017-03-28T08:08:59.808Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Q7kqvT8mT3LSmz5xH","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Q7kqvT8mT3LSmz5xH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@xixuejia  thanks huluwa~","username":"jansony1","ts":"2017-03-28T08:10:28.020Z"}
{"msg":":grin:","username":"xixuejia","ts":"2017-03-28T08:11:03.669Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bWJh2SDpz4JoeGbhz) @RahulAgrawal you could read the state ledger at least with fauxton for CouchDB for now","username":"xixuejia","ts":"2017-03-28T08:13:17.497Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bWJh2SDpz4JoeGbhz","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bWJh2SDpz4JoeGbhz","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@xixuejia  I meant is it possible  to read  chaincode's(which are  permission restricted ) state variables and their values from local system of a node  as every node has its own copy of world state. ","username":"RahulAgrawal","ts":"2017-03-28T08:18:54.838Z"}
{"msg":"@xixuejia  I meant is it possible  to read  chaincode's(which are  permission restricted ) state variables and their values from local system of a node  as every node has its own copy of world state in v0.6. ","username":"RahulAgrawal","ts":"2017-03-28T08:18:54.838Z"}
{"msg":"","username":"xixuejia","ts":"2017-03-28T08:23:31.913Z","attachments":[{"title":"File Uploaded: WX20170328-162301@2x.png","title_link":"/file-upload/mkcrsdRX5WmGhzB6C/WX20170328-162301@2x.png","image_url":"/file-upload/mkcrsdRX5WmGhzB6C/WX20170328-162301@2x.png","image_type":"image/png","image_size":148478,"url":"/file-upload/mkcrsdRX5WmGhzB6C/WX20170328-162301@2x.png","remote":false,"fileId":"mkcrsdRX5WmGhzB6C"}]}
{"msg":"@RahulAgrawal  are you asking these state variables?","username":"xixuejia","ts":"2017-03-28T08:23:50.543Z"}
{"msg":"@RahulAgrawal nothing is encrypted, so you can read it","username":"Vadim","ts":"2017-03-28T08:24:53.295Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=jRNviGyG7NKzGb35C) @berserkr Yes, you need an instance of CouchDB, you can make a couchdb docker image. You won't need rebuild peer after changing core.yml","username":"xixuejia","ts":"2017-03-28T08:25:54.684Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jRNviGyG7NKzGb35C","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jRNviGyG7NKzGb35C","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=EtdX9y8KP79SQzL6Y) @Vadim That means if a third party attacker manages to access a peer node's local storage, they can read the worldstate and even potentially alter some state variables. ","username":"RahulAgrawal","ts":"2017-03-28T08:37:16.127Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=EtdX9y8KP79SQzL6Y","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=EtdX9y8KP79SQzL6Y","remote":true,"fileId":null,"fileName":null}]}
{"msg":"if they alter the state, the results will not be consistent across peers and it will be detected","username":"Vadim","ts":"2017-03-28T08:37:53.016Z"}
{"msg":"@RahulAgrawal . If some one could hack into your data center, its a big problem.","username":"jansony1","ts":"2017-03-28T08:38:22.687Z"}
{"msg":"@Vadim @jansony1  but even reading the data which belongs to someone else can cause some damage to their business. ","username":"RahulAgrawal","ts":"2017-03-28T08:41:05.499Z"}
{"msg":"@RahulAgrawal \n1) to isolate data between peers you can use channels\n2) to guarantee confidentiality also on orderer levels, you can use application-level encryption\n3) you should properly secure your VMs where you run fabric, just like in any other non-blockchain related use case","username":"Vadim","ts":"2017-03-28T08:42:47.098Z"}
{"msg":"@RahulAgrawal \n1) to isolate data between peers you can use channels\n2) to guarantee confidentiality also on orderer level, you can use application-level encryption\n3) you should properly secure your VMs where you run fabric, just like in any other non-blockchain related use case","username":"Vadim","ts":"2017-03-28T08:42:47.098Z"}
{"msg":"also, read https://github.com/hyperledger/fabric/blob/master/docs/source/FAQ/architecture_FAQ.rst","username":"Vadim","ts":"2017-03-28T08:43:52.786Z"}
{"msg":"@Vadim frankly speaking.  In v1, peer belong to a specific org, so that this org could control the data and channel on this peer. In contrast, in v0.6, as long as the org enrolled in the network, it could use whichever peer it wants. With, this comparsion,  I was wondering  in V1, each org should would have to have its own peer. ","username":"jansony1","ts":"2017-03-28T08:52:32.204Z"}
{"msg":"@jansony1 that's correct","username":"Vadim","ts":"2017-03-28T08:53:13.858Z"}
{"msg":"@Vadim   Thank you for your response . Also is it  possible to isolate data between peers in V0.6?","username":"RahulAgrawal","ts":"2017-03-28T08:53:54.933Z"}
{"msg":"While this may cause some company with rare funding to join this flow ~~.","username":"jansony1","ts":"2017-03-28T08:54:00.674Z"}
{"msg":"@RahulAgrawal only if you encrypt it ","username":"Vadim","ts":"2017-03-28T08:54:17.657Z"}
{"msg":"@jansony1 well, I would say that companies usually run their own web server, databases, etc. and don't share it with other companies. So fabric peer is also the service like that.","username":"Vadim","ts":"2017-03-28T08:55:27.522Z"}
{"msg":"@Vadim how is a channel different from maintaining different blockchains? Can we selectively share some common data between them?","username":"RahulAgrawal","ts":"2017-03-28T08:58:26.222Z"}
{"msg":"a channel is a different blockchain. I think it's possible to call from a chaincode in one channel another chaincode in different channel to read the data, writing won't work.","username":"Vadim","ts":"2017-03-28T08:59:53.002Z"}
{"msg":"HI All, I am new to fabric 1.0. Can anyone help me to understand this error.\n\nn/%s\"}\nerror: [Peer.js]: GRPC client got an error response from the peer. Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown\n    at /Users/Pushpalatha/go/FABRIC_V1.0/hackfest/node_modules/grpc/src/node/src/client.js:434:17\nerror: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown\n    at Object.callback (/Users/Pushpalatha/go/FABRIC_V1.0/hackfest/node_modules/fabric-client/lib/Peer.js:191:13)","username":"PushpalathaHiremath","ts":"2017-03-28T11:25:55.609Z"}
{"msg":"@berserkr CouchDB enablement instructions can be found in the 'Using CouchDB' section of this document: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst","username":"dave.enyeart","ts":"2017-03-28T11:44:35.498Z"}
{"msg":"Those instructions show that you can override core.yaml settings with docker env variables","username":"dave.enyeart","ts":"2017-03-28T11:44:55.566Z"}
{"msg":"you dont need to make peer again, for config changes to take effect","username":"dave.enyeart","ts":"2017-03-28T11:45:41.893Z"}
{"msg":"you dont need to make peer again, for config changes to take effect.  these are runtime config options, they dont get compiled in. you do have to restart peer for them to take effect though.","username":"dave.enyeart","ts":"2017-03-28T11:45:41.893Z"}
{"msg":"if you wanted a different state database than goleveldb (the default) or couchdb, you would have to add a new implementation of statedb.go VersionedDB","username":"dave.enyeart","ts":"2017-03-28T11:47:00.189Z"}
{"msg":"You could follow the stateleveldb or statecouchdb packages as examples of how to do that","username":"dave.enyeart","ts":"2017-03-28T11:47:32.163Z"}
{"msg":"In terms of stress testing the data layer, there is a test harness here that will likely get merged soon: https://gerrit.hyperledger.org/r/#/c/6793/","username":"dave.enyeart","ts":"2017-03-28T11:48:24.325Z"}
{"msg":"Can you please help me with this error:\n\n\n{\"send_metadata\":true,\"send_message\":true,\"client_close\":true,\"metadata\":{},\"read\":null,\"status\":{\"code\":2,\"details\":\"Failed to deploy chaincode spec(Error creating image: %!s(<nil>))\",\"metadata\":{\"_internal_repr\":{}}}}","username":"PushpalathaHiremath","ts":"2017-03-28T12:05:41.886Z"}
{"msg":"great, thank you @dave.enyeart !","username":"berserkr","ts":"2017-03-28T12:37:20.942Z"}
{"msg":"Has joined the channel.","username":"jaemin.lim","ts":"2017-03-28T16:56:28.414Z","type":"uj"}
{"msg":"@dave.enyeart @mastersingh24 \n\nThere is defect in https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L144 \n\n*Steps to Reproduce*\n1. Install marbles02 using CouchDB\n2. for instantiate ==> -c '{\"Args\":[\"init\"]}'\n3. for creating a marble asset ==> -c '{\"Args\":[\"initMarble\",\"marble1\",\"blue\",\"1000009\",\"tom\"]}'\n4. for transferring the marble asset ==> -c '{\"Args\":[\"transferMarble\",\"marble2\",\"jerry\"]}'\n\nStep 4 fails with \n```\n2017-03-28 10:51:35.662 UTC [msp] Sign -> DEBU 005 Sign: digest: E8E5581A81BEF35E104FAD041A8E81AD549C517FCFE7612B50FDE5E78505AC97 \nError: Error endoatrsing invoke: rpc error: code = 2 desc = json: cannot unmarshal number 1.000009e+06 into Go value of type int\nUsage:\n\n```\nNote: This doesn't get reproduced on Level-DB\n\n*Root Cause*\nstatecouchdb.go for unwrapping the data namespace (removeDataWrapper) uses the generic interface representation and causes the golang JSON package API to retain the floating point representation. A integer size >= is represented with E notation internally by JSON package and this field upon un-marshalling result in the above error.\n\n*Fix in Peer Code*\nNeed to replace the following line https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L147 to use json package NewDecoder API with UseNumber call.\n```\n\tdecoder := json.NewDecoder(bytes.NewBuffer([]byte(myJSON)))\n\tdecoder.UseNumber()\n\terr := decoder.Decode(&jsonResult); decoder.Decode(&jsonResult);\n```\n\nI will open a Fabric JIRA for this tracking. Can i contribute to commit?","username":"rahulhegde","ts":"2017-03-28T18:20:19.103Z"}
{"msg":"@dave.enyeart @mastersingh24 \n\nThere is defect in https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L144 \n\n*Steps to Reproduce*\n1. Install marbles02 using CouchDB\n2. for instantiate ==> -c '{\"Args\":[\"init\"]}'\n3. for creating a marble asset ==> -c '{\"Args\":[\"initMarble\",\"marble1\",\"blue\",\"1000009\",\"tom\"]}'\n4. for transferring the marble asset ==> -c '{\"Args\":[\"transferMarble\",\"marble2\",\"jerry\"]}'\n\nStep 4 fails with \n```\n2017-03-28 10:51:35.662 UTC [msp] Sign -> DEBU 005 Sign: digest: E8E5581A81BEF35E104FAD041A8E81AD549C517FCFE7612B50FDE5E78505AC97 \nError: Error endoatrsing invoke: rpc error: code = 2 desc = json: cannot unmarshal number 1.000009e+06 into Go value of type int\nUsage:\n\n```\nNote: This doesn't get reproduced on Level-DB\n\n*Root Cause*\nstatecouchdb.go for unwrapping the data namespace (removeDataWrapper) uses the generic interface representation and causes the golang JSON package API to retain the floating point representation. A integer size >= is represented with E notation internally by JSON package and this field upon un-marshalling result in the above error.\n\n*Fix in Peer Code*\nNeed to replace the following line https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L147 to use json package NewDecoder API with UseNumber call.\n```\n\tdecoder := json.NewDecoder(bytes.NewBuffer([]byte(myJSON)))\n\tdecoder.UseNumber()\n\terr := decoder.Decode(&jsonResult); decoder.Decode(&jsonResult);\n```\nhttp://stackoverflow.com/questions/16946306/preserve-int64-values-when-parsing-json-in-go\n\nI will open a Fabric JIRA for this tracking. Can i contribute to commit?","username":"rahulhegde","ts":"2017-03-28T18:20:19.103Z"}
{"msg":"@dave.enyeart @mastersingh24 \n\nThere is defect in https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L144 \n\n*Steps to Reproduce*\n1. Install marbles02 using CouchDB\n2. for instantiate ==> -c '{\"Args\":[\"init\"]}'\n3. for creating a marble asset ==> -c '{\"Args\":[\"initMarble\",\"marble1\",\"blue\",\"1000009\",\"tom\"]}'\n4. for transferring the marble asset ==> -c '{\"Args\":[\"transferMarble\",\"marble2\",\"jerry\"]}'\n\nStep 4 fails with \n```\n2017-03-28 10:51:35.662 UTC [msp] Sign -> DEBU 005 Sign: digest: E8E5581A81BEF35E104FAD041A8E81AD549C517FCFE7612B50FDE5E78505AC97 \nError: Error endoatrsing invoke: rpc error: code = 2 desc = json: cannot unmarshal number 1.000009e+06 into Go value of type int\nUsage:\n\n```\nNote: This doesn't get reproduced on Level-DB\n\n*Root Cause*\nstatecouchdb.go for unwrapping the data namespace (removeDataWrapper) uses the generic interface representation and causes the golang JSON package API to retain the floating point representation. A integer size >= 7 is represented with E notation internally by JSON package and this field upon un-marshalling result in the above error.\n\n*Fix in Peer Code*\nNeed to replace the following line https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L147 to use json package NewDecoder API with UseNumber call.\n```\n\tdecoder := json.NewDecoder(bytes.NewBuffer([]byte(myJSON)))\n\tdecoder.UseNumber()\n\terr := decoder.Decode(&jsonResult); decoder.Decode(&jsonResult);\n```\nhttp://stackoverflow.com/questions/16946306/preserve-int64-values-when-parsing-json-in-go\n\nI will open a Fabric JIRA for this tracking. Can i contribute to commit?","username":"rahulhegde","ts":"2017-03-28T18:20:19.103Z"}
{"msg":"@dave.enyeart @mastersingh24 \n\nThere is defect in https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L144 \n\n*Steps to Reproduce*\n1. Install marbles02 using CouchDB\n2. for instantiate ==> -c '{\"Args\":[\"init\"]}'\n3. for creating a marble asset ==> -c '{\"Args\":[\"initMarble\",\"marble1\",\"blue\",\"1000009\",\"tom\"]}'\n4. for transferring the marble asset ==> -c '{\"Args\":[\"transferMarble\",\"marble2\",\"jerry\"]}'\n\nStep 4 fails with \n```\n2017-03-28 10:51:35.662 UTC [msp] Sign -> DEBU 005 Sign: digest: E8E5581A81BEF35E104FAD041A8E81AD549C517FCFE7612B50FDE5E78505AC97 \nError: Error endoatrsing invoke: rpc error: code = 2 desc = json: cannot unmarshal number 1.000009e+06 into Go value of type int\nUsage:\n\n```\nNote: This doesn't get reproduced on Level-DB\n\n*Root Cause*\nstatecouchdb.go for unwrapping the data namespace (removeDataWrapper) uses the generic interface representation and causes the golang JSON package API to retain the floating point representation. A integer size >= 7 is represented with E notation internally by JSON package and this field upon un-marshalling result in the above error.\n\n*Fix in Peer Code*\nNeed to replace the following line https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L147 to use json package NewDecoder API with UseNumber call.\n```\n\tdecoder := json.NewDecoder(bytes.NewBuffer([]byte(myJSON)))\n\tdecoder.UseNumber()\n\terr := decoder.Decode(&jsonResult);\n```\nhttp://stackoverflow.com/questions/16946306/preserve-int64-values-when-parsing-json-in-go\n\nI will open a Fabric JIRA for this tracking. Can i contribute to commit?","username":"rahulhegde","ts":"2017-03-28T18:20:19.103Z"}
{"msg":"@dave.enyeart @mastersingh24 \n\nThere is defect in https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L144 \n\n*Steps to Reproduce*\n1. Install marbles02 using CouchDB\n2. for instantiate ==> -c '{\"Args\":[\"init\"]}'\n3. for creating a marble asset ==> -c '{\"Args\":[\"initMarble\",\"marble1\",\"blue\",\"1000009\",\"tom\"]}'\n4. for transferring the marble asset ==> -c '{\"Args\":[\"transferMarble\",\"marble2\",\"jerry\"]}'\n\nStep 4 fails with \n```\n2017-03-28 10:51:35.662 UTC [msp] Sign -> DEBU 005 Sign: digest: E8E5581A81BEF35E104FAD041A8E81AD549C517FCFE7612B50FDE5E78505AC97 \nError: Error endoatrsing invoke: rpc error: code = 2 desc = json: cannot unmarshal number 1.000009e+06 into Go value of type int\nUsage:\n\n```\nNote: This doesn't get reproduced on Level-DB\n\n*Root Cause*\nstatecouchdb.go for unwrapping the data namespace (removeDataWrapper) uses the generic interface representation and causes the golang JSON package API to retain the floating point representation. A integer size >= 7 is represented with E notation internally by JSON package and this field upon un-marshalling result in the above error.\n\n*Fix in Peer Code*\nNeed to replace the following line https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L147 to use json package NewDecoder API with UseNumber call.\n```\n\tdecoder := json.NewDecoder(bytes.NewBuffer(wrappedValue))\n\tdecoder.UseNumber()\n\terr := decoder.Decode(&jsonResult);\n```\nhttp://stackoverflow.com/questions/16946306/preserve-int64-values-when-parsing-json-in-go\n\nI will open a Fabric JIRA for this tracking. Can i contribute to commit?","username":"rahulhegde","ts":"2017-03-28T18:20:19.103Z"}
{"msg":"@rahulhegde Please do open a Jira bug and yes, you may go ahead and assign it to yourself and start working on it","username":"dave.enyeart","ts":"2017-03-28T18:22:23.765Z"}
{"msg":"@rahulhegde there are more than a dozen places in core/ledger and examples/chaincode where json.Unmarshal() or json.NewDecoder() are utilized.  I think most of them would benefit from the same fix.  Could you grep for them and fix everywhere consistently? @chris.elder ","username":"dave.enyeart","ts":"2017-03-28T18:57:25.849Z"}
{"msg":"@rahulhegde there are more than a dozen places in /fabric/core/ledger and /fabric/examples/chaincode where json.Unmarshal() or json.NewDecoder() are utilized.  I think most of them would benefit from the same fix.  Could you grep for them and fix everywhere consistently? @chris.elder ","username":"dave.enyeart","ts":"2017-03-28T18:57:25.849Z"}
{"msg":"how can i get the history of my blockchain network(transactions and transactors) ? i was thinking of having a local database but i want to benefit from the blockchain to display the different trasactions executed ? ","username":"dorrakhribi","ts":"2017-03-28T21:06:24.829Z"}
{"msg":"@dorrakhribi You can enable state history here: https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L392 . And according to the Node.js SDK docs, you can use Chain#queryBlock(blockNumber) https://fabric-sdk-node.github.io/Chain.html#queryBlock to get blocks.","username":"farhan3","ts":"2017-03-28T21:30:44.523Z"}
{"msg":"thank you @farhan3 for the answer, and the queryBlock function i guess will return an encrypted result, do you have any idea about hwa to decrypt data stored in the blocks? i was working with the rest api and i could display the different blocks but they were encrypted.","username":"dorrakhribi","ts":"2017-03-29T09:23:43.289Z"}
{"msg":"@dorrakhribi the data/blocks are not encrypted","username":"Vadim","ts":"2017-03-29T09:24:29.109Z"}
{"msg":"yes you're right @Vadim, well i have to develop a java application that should be working on blockchain, so i need to set a \"real\" network, i mean i have 3 pcs and i have to make hyperledger work on these hosts, i don't know if i can work with docker-compose or not. the idea that i have is that docker-compose sets a virtual network, i have tried one time to set a network of 2 hosts, mine and another. it worked but i still do net get the idea that i'm working on vms, can't i run hyperledger nativelly on hosts? ","username":"dorrakhribi","ts":"2017-03-29T09:43:06.247Z"}
{"msg":"@dorrakhribi you can run it natively, but it will be the same as using docker-compose. Docker-compose is just easier to manage.","username":"Vadim","ts":"2017-03-29T09:44:57.619Z"}
{"msg":"\"The same\" in a sense that it will be indistinguishable from your java app perspective, whether it runs on docker or not","username":"Vadim","ts":"2017-03-29T09:45:39.064Z"}
{"msg":"the native way is to use vagrant  @Vadim ?","username":"dorrakhribi","ts":"2017-03-29T09:50:23.188Z"}
{"msg":"you can build it on your laptop and run it from command line, if you want","username":"Vadim","ts":"2017-03-29T09:50:51.374Z"}
{"msg":"ok , nom i want to know the use of core.yaml, it defines a configuration for a peer and i guess it is the same as configuring a peer from docker-compose ?","username":"dorrakhribi","ts":"2017-03-29T09:52:17.373Z"}
{"msg":"now*","username":"dorrakhribi","ts":"2017-03-29T09:53:40.889Z"}
{"msg":"it has some default config, so if you want to change something, you can either edit it directly there or use environment variables, like you see in docker-compose files","username":"Vadim","ts":"2017-03-29T09:54:00.071Z"}
{"msg":"ok, but as i can see it defines the configuration of one peer , so how to associate this configuration to specific peer in the docker-compose file ? is it by giving the location of the core.yaml in the volumes field ??","username":"dorrakhribi","ts":"2017-03-29T09:56:43.632Z"}
{"msg":"no, each docker image contains its own copy of core.yaml, and properties from there get overridden by environment variables in docker-compose files","username":"Vadim","ts":"2017-03-29T09:58:13.715Z"}
{"msg":"thank you very much @Vadim, now i want to ask about a detail that concerns the logic layer of my application, if i want to transfer amounts, documents between 2 users, how does this process work ?  i'm using fabric v0.6 and i've heard that it does not support security enabled, i want t know how does this transfer really works? ","username":"dorrakhribi","ts":"2017-03-29T10:03:33.851Z"}
{"msg":"is it related to peers communication or what ?","username":"dorrakhribi","ts":"2017-03-29T10:04:03.514Z"}
{"msg":"because i suppose that a user is not necessarly an identity of a per","username":"dorrakhribi","ts":"2017-03-29T10:04:44.324Z"}
{"msg":"peer*","username":"dorrakhribi","ts":"2017-03-29T10:04:46.397Z"}
{"msg":"@dorrakhribi I don't know v0.6","username":"Vadim","ts":"2017-03-29T10:40:56.715Z"}
{"msg":"how does it happen in general ?","username":"dorrakhribi","ts":"2017-03-29T10:41:41.821Z"}
{"msg":"i mean in an application based on a blockchain","username":"dorrakhribi","ts":"2017-03-29T10:41:54.150Z"}
{"msg":"@dorrakhribi that's a very broad question... You write a smart contract which stores assets and their ownership, then you write function to transfer the asset, where you do all necessary checks (like that the caller owns the asset and so on), then from the app layer you invoke that function when you need to transfer asset","username":"Vadim","ts":"2017-03-29T10:44:50.845Z"}
{"msg":"ok @Vadim  thanks a lot","username":"dorrakhribi","ts":"2017-03-29T11:40:45.527Z"}
{"msg":"Has joined the channel.","username":"FenglianXu","ts":"2017-03-29T15:25:16.184Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MrMoneyChanger","ts":"2017-03-29T18:19:19.829Z","type":"uj"}
{"msg":"can one peer be on multiple channel","username":"bkvellanki","ts":"2017-03-29T18:19:24.366Z"}
{"msg":"If so, does it mean that one peer has a copy/replication of data of both the channels on the same peer. ","username":"bkvellanki","ts":"2017-03-29T18:21:11.212Z"}
{"msg":"working on an issue in fabric 0.6.....retrieving more than 100 records from the ledger at one time causes chaincode to crash","username":"MrMoneyChanger","ts":"2017-03-29T18:26:18.356Z"}
{"msg":"found this online - https://jira.hyperledger.org/browse/FAB-860","username":"MrMoneyChanger","ts":"2017-03-29T18:26:52.657Z"}
{"msg":"updated my code to match the fix them mentioned....except for one thing.....they want to assemble an array of Row pointers.....[]*shim.Row.......I just assembled an array of Rows......[]shim.Row","username":"MrMoneyChanger","ts":"2017-03-29T18:27:43.989Z"}
{"msg":"my code doesn't work........anyone encounter this issue before?","username":"MrMoneyChanger","ts":"2017-03-29T18:28:20.230Z"}
{"msg":"@bkvellanki Yes a peer can be a member of multiple channels.  For each channel membership, the peer will maintain a copy of the respective chain.","username":"dave.enyeart","ts":"2017-03-30T02:36:28.426Z"}
{"msg":"`Failed to generate platform-specific docker build: Error creating container: no such image`. Does Docker and the cc image need to be available on the Peer?  I tried with the Docker image pulled down to the machine hosting the peer, but get the same message when trying to instantiate cc","username":"passkit","ts":"2017-03-30T03:07:46.652Z"}
{"msg":"@passkit You'll probably have more success with that question on #fabric-peer-endorser-committer channel.  That's where the peer/chaincode experts hang out.","username":"dave.enyeart","ts":"2017-03-30T10:58:46.304Z"}
{"msg":"hi, how can i start a non validating peer in a network","username":"dorrakhribi","ts":"2017-03-30T22:43:02.844Z"}
{"msg":"Hi Guys, when building couchdb, do any of you have issues with dependencies not being downloaded?","username":"berserkr","ts":"2017-03-31T03:42:17.516Z"}
{"msg":"I had to modify my Docker file to add rebar get-deps to get couch do build","username":"berserkr","ts":"2017-03-31T03:42:46.321Z"}
{"msg":"If anyone has seen the issue with the latest image, i can open a ticket, and upload a fix","username":"berserkr","ts":"2017-03-31T03:44:20.988Z"}
{"msg":"Has joined the channel.","username":"akashmar","ts":"2017-03-31T13:48:00.788Z","type":"uj"}
{"msg":"I've been working on understanding the marbles v2 example, I've found it requires the libtool library, I'm compiling first in a windows environment, so I need some guidance in proper library linking to my system path/hyperledger project (so I must build key files from the library, must they  be present in the project folder its self)?","username":"openspylin","ts":"2017-04-02T12:38:38.378Z"}
{"msg":"Has joined the channel.","username":"aybekbuka","ts":"2017-04-02T15:13:50.845Z","type":"uj"}
{"msg":"@openspylin  - so you are trying to build / test / run your chaincode locally on a Windows system?","username":"mastersingh24","ts":"2017-04-03T12:23:05.974Z"}
{"msg":"@dave.enyeart do you have to do anything to enable the historical queries in the couchdb on the peer?","username":"bobbiejc","ts":"2017-04-03T21:48:59.851Z"}
{"msg":"Hmm, I can't think of anything other than setting \"historyDatabase: true\" in the config file core.yaml @bobbiejc if I may interject","username":"AdnanC","ts":"2017-04-03T21:52:21.537Z"}
{"msg":"Hmm, I can't think of anything other than setting \"historyDatabase: true\" in the config file core.yaml @bobbiejc ","username":"AdnanC","ts":"2017-04-03T21:52:21.537Z"}
{"msg":"thank you","username":"bobbiejc","ts":"2017-04-03T21:53:45.237Z"}
{"msg":"where is core.yaml file","username":"bobbiejc","ts":"2017-04-03T21:53:54.112Z"}
{"msg":"fabric/peer/core.yaml","username":"AdnanC","ts":"2017-04-03T21:54:14.939Z"}
{"msg":"thanks...","username":"bobbiejc","ts":"2017-04-03T21:54:39.357Z"}
{"msg":"it is enabled","username":"bobbiejc","ts":"2017-04-03T21:56:11.381Z"}
{"msg":"so it sh ould be neabled by default","username":"bobbiejc","ts":"2017-04-03T21:56:16.449Z"}
{"msg":"yes","username":"AdnanC","ts":"2017-04-03T21:56:28.332Z"}
{"msg":"@bobbiejc also note that the history 'index' is stored in leveldb.  it has nothing to do with the couchdb state database.","username":"dave.enyeart","ts":"2017-04-04T00:26:03.811Z"}
{"msg":"upon GetHistoryForKey(), it will consult the history 'index' for the block locations of prior key/value updates and then pull the value from the block storage","username":"dave.enyeart","ts":"2017-04-04T00:27:33.343Z"}
{"msg":"ah -- that is what we were seeing","username":"bobbiejc","ts":"2017-04-04T00:32:13.349Z"}
{"msg":"ok... hmm... we were wondering about ","username":"bobbiejc","ts":"2017-04-04T00:32:37.981Z"}
{"msg":"a) asking you to support the creation of couchdb views for query","username":"bobbiejc","ts":"2017-04-04T00:32:53.318Z"}
{"msg":"b) writing some of those views to enable the historical query and analytics...","username":"bobbiejc","ts":"2017-04-04T00:33:09.298Z"}
{"msg":"i now remember that is what you were doing...","username":"bobbiejc","ts":"2017-04-04T00:33:26.364Z"}
{"msg":"Has joined the channel.","username":"tiennv","ts":"2017-04-04T16:01:27.178Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AmberZhang","ts":"2017-04-05T09:41:38.851Z","type":"uj"}
{"msg":"what is the difference of ledger implementation under /core and /orderer?","username":"crazybit","ts":"2017-04-06T01:38:22.820Z"}
{"msg":"what is the difference of ledger implementation between /core/ledger and /orderer/ledger?","username":"crazybit","ts":"2017-04-06T01:38:22.820Z"}
{"msg":"and also find ledger implementation under /common/ledger, a bit confusing","username":"crazybit","ts":"2017-04-06T01:42:15.765Z"}
{"msg":"@crazybit /core/ledger is used to represent ledger on the peers, while /orderer/ledger is for ordering service. the folder under common used for protobuf structures","username":"C0rWin","ts":"2017-04-06T02:06:19.601Z"}
{"msg":"Has joined the channel.","username":"lizhih","ts":"2017-04-06T09:46:51.469Z","type":"uj"}
{"msg":"Do the ledger changes in 4e0f96ba689 break any existing ledgers that were joined with a genesis block?\n```2017-04-06 10:44:17.787 UTC [peer] Initialize -> INFO 02e Loading chain esting\n2017-04-06 10:44:17.787 UTC [ledgermgmt] OpenLedger -> INFO 02f Opening ledger with id = esting\n2017-04-06 10:44:17.787 UTC [peer] Initialize -> WARN 030 Failed to load ledger esting(LedgerID does not exist)\n```\nAll of the ledgers ID have had their first character cut in the logs - this ledger ID was 'testing'.","username":"passkit","ts":"2017-04-06T11:14:58.331Z"}
{"msg":"@passkit - yes, this would cause the issue that you are noticing...","username":"manish-sethi","ts":"2017-04-06T11:17:18.233Z"}
{"msg":"Ok - would be nice to have a note in the commit if a change will be breaking","username":"passkit","ts":"2017-04-06T11:17:42.194Z"}
{"msg":"Agreed. the situation of existing ledgers did not occur to me. Thanks for pointing this out. Will keep an eye for future updates.","username":"manish-sethi","ts":"2017-04-06T11:19:10.468Z"}
{"msg":"Is there currently any method to backup and restore a ledger?","username":"passkit","ts":"2017-04-06T11:45:58.651Z"}
{"msg":"Is your question in general or in the context of above issue?","username":"manish-sethi","ts":"2017-04-06T11:47:20.541Z"}
{"msg":"It should be assumed that every commit is incompatible with existing data. There is no implied backward data compatibility with prior builds.  Only after v1.0 GA does that become a concern.","username":"dave.enyeart","ts":"2017-04-06T11:53:23.971Z"}
{"msg":"That being said, what caused initial character to go missing?","username":"dave.enyeart","ts":"2017-04-06T11:53:54.309Z"}
{"msg":"now, since we store the state (for underconstruction ledger) in the same db where we store ledger ids, I prefix a char 'l' before ledger name to avoid the name conflict with the state key. In general, it's good to prefix so as to be flexible to allow different type of keys in the future for unforeseen functionalities.","username":"manish-sethi","ts":"2017-04-06T11:58:20.700Z"}
{"msg":"Manish, would you agree with this statement concerning backup and restore of ledger:","username":"dave.enyeart","ts":"2017-04-06T12:01:55.646Z"}
{"msg":"The ledger directory, by default /var/hyperledger/production/ledgersData/, can be backed up and restored.  If the blockchain has progressed while the peer was down and rebuilt, state transfer will resume at the backup point when the peer comes up.  It is even possible to copy the ledger data between peers.","username":"dave.enyeart","ts":"2017-04-06T12:02:20.836Z"}
{"msg":"The ledger directory, by default /var/hyperledger/production/ledgersData/, can be backed up and restored.  If the blockchain has progressed while the peer was down and rebuilt, state transfer will resume at the backup point when the peer comes up.  It is even possible to copy the ledger data between peers when adding a new peer to the network.","username":"dave.enyeart","ts":"2017-04-06T12:02:20.836Z"}
{"msg":"It is not required to backup data, since state transfer will build it if ledger gets truncated.  But backing up peer data will ensure quicker recovery from a point.","username":"dave.enyeart","ts":"2017-04-06T12:03:17.507Z"}
{"msg":"Yes, this is correct. However, just to add - if one wants to be self reliant then the bare minimum requirement for backing up is the block files in subdirs under ledgersData. The indexes etc should be built when peer is started. Just explicitly mentioned about 'self reliant' because, network should not get into a situation where peers are dependent on each other and hence no one backs up :-) - Though, even in that scenario peers can rely upon ordering service.","username":"manish-sethi","ts":"2017-04-06T12:10:48.035Z"}
{"msg":"ok, surely this can be done while peer is down. Next question - could ledger directory backup be done while peer is actively committing blocks?","username":"dave.enyeart","ts":"2017-04-06T12:12:05.889Z"}
{"msg":"i believe only requirement is that block storage is 'ahead' of block index and state db","username":"dave.enyeart","ts":"2017-04-06T12:12:49.409Z"}
{"msg":"we also need to consider ledgerProvider","username":"dave.enyeart","ts":"2017-04-06T12:13:31.860Z"}
{"msg":"I assume in a regular setup, folks would be using some kind of filesystem level backup service. Yes, it should be OK to perform incremental backup on block files while blocks getting added. Because, in the worst case, the last block may be partially written and we handle that case during start up..","username":"manish-sethi","ts":"2017-04-06T12:14:52.756Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=NLH9HiaPfK39yngWn) yes, that will  always be there.","username":"manish-sethi","ts":"2017-04-06T12:15:38.356Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NLH9HiaPfK39yngWn","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NLH9HiaPfK39yngWn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=PQHCrisFRkAtJAxz8) @dave.enyeart good point.. we would need to think a bit more on this. Because, this is stored in db and backup may not be reliable unless the db is stopped","username":"manish-sethi","ts":"2017-04-06T12:16:48.807Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PQHCrisFRkAtJAxz8","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PQHCrisFRkAtJAxz8","remote":true,"fileId":null,"fileName":null}]}
{"msg":" /chains and /ledgerProvider need to be backed up in sync?","username":"dave.enyeart","ts":"2017-04-06T12:16:57.578Z"}
{"msg":"I think that this should be ok in the case of ledgerProvider, since we perform sync writes..","username":"manish-sethi","ts":"2017-04-06T12:18:40.459Z"}
{"msg":"backup program minimally needs to backup /chains and /ledgerProvider directories right?","username":"dave.enyeart","ts":"2017-04-06T12:19:39.042Z"}
{"msg":"Yes","username":"manish-sethi","ts":"2017-04-06T12:19:52.997Z"}
{"msg":"@manish-sethi Yes my question was in the context of breaking changes - appreciate that we are on the very bleeding edge, but also working to make applications available when the GA release finally comes.  More frustrating than anything else to have to reset and rebuild a ledger.","username":"passkit","ts":"2017-04-06T12:20:02.369Z"}
{"msg":"perhaps we should put /chains and /ledgerProvider directories under a common directory (apart from state db and history db), to simplify backup procedure to a single directory","username":"dave.enyeart","ts":"2017-04-06T12:21:56.372Z"}
{"msg":"@passkit you should reset your data upon each build you take","username":"dave.enyeart","ts":"2017-04-06T12:23:07.550Z"}
{"msg":"@passkit - I agree. But need to make a balance between overall better choice v/s backward data compatibility between builds.","username":"manish-sethi","ts":"2017-04-06T12:23:29.493Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=a6jqC7o5CoauWahsq) @dave.enyeart Yes, it should make sense. However, I feel better would be that we allow users to just backup the /chains and have some command to populate /ledgerProvider from chains data...","username":"manish-sethi","ts":"2017-04-06T12:24:58.705Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=a6jqC7o5CoauWahsq","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=a6jqC7o5CoauWahsq","remote":true,"fileId":null,"fileName":null}]}
{"msg":"how about a savepoint approach in ledgerProvider, similar to the other dbs, to make recovery automatic","username":"dave.enyeart","ts":"2017-04-06T12:27:38.092Z"}
{"msg":"I just need to think whether in a corner case this could happen that chain got created but /ledgerProvider db flush didn't hit the disk yet...","username":"manish-sethi","ts":"2017-04-06T12:27:39.132Z"}
{"msg":"ledgerProvider is not that big it simply stores the names of the chains...","username":"manish-sethi","ts":"2017-04-06T12:28:21.130Z"}
{"msg":"it can be rebuilt...","username":"manish-sethi","ts":"2017-04-06T12:28:30.758Z"}
{"msg":"right, but i'm just trying to avoid manual step of a command ","username":"dave.enyeart","ts":"2017-04-06T12:28:35.733Z"}
{"msg":"potentially there will be drop chain in the future","username":"dave.enyeart","ts":"2017-04-06T12:29:08.496Z"}
{"msg":"sure. let me think of this corner case first... whether it could happen or not...","username":"manish-sethi","ts":"2017-04-06T12:29:24.622Z"}
{"msg":"ok thanks. dropping off for now...","username":"dave.enyeart","ts":"2017-04-06T12:29:42.092Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric?msg=fMDvk3b74oRfDd8s4","username":"muralisr","ts":"2017-04-06T20:52:52.671Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=fMDvk3b74oRfDd8s4","url":"https://chat.hyperledger.org/channel/fabric?msg=fMDvk3b74oRfDd8s4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart ...can you help with the above please ^^^","username":"muralisr","ts":"2017-04-06T20:53:14.054Z"}
{"msg":"@rahulhegde Request-1 will get invalidated at commit time due to state validation (expecting nothing in state but found key1 from t2","username":"dave.enyeart","ts":"2017-04-06T20:57:28.719Z"}
{"msg":"@rahulhegde Request-1 will get invalidated at commit time due to state validation (expecting nothing in state but found key1 from t2)","username":"dave.enyeart","ts":"2017-04-06T20:57:28.719Z"}
{"msg":"Another question - In a single Endorsement Request, there are more than 1 ==>  Shim.PutState calls. Is the last call to Shim.PutState be effective on Ledger?","username":"rahulhegde","ts":"2017-04-06T20:59:37.088Z"}
{"msg":"Another question - In a single Endorsement Request, there are more than 1 ==>  Shim.PutState calls to the same Key. Is the last call to Shim.PutState be effective on Ledger?","username":"rahulhegde","ts":"2017-04-06T20:59:37.088Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2017-04-06T21:00:00.805Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Amoqe6DpWHomTyPmL) @dave.enyeart Thank you.","username":"rahulhegde","ts":"2017-04-06T21:00:22.002Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Amoqe6DpWHomTyPmL","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Amoqe6DpWHomTyPmL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Claude-ZHENG","ts":"2017-04-07T00:22:43.542Z","type":"uj"}
{"msg":"i've used a 150k long string as an argument when i invoke a chaincode. i'd like to store it in the state as a value. but i got an error said that argument is too long. anybody know this limitation? how could we break it?","username":"Claude-ZHENG","ts":"2017-04-07T00:28:33.479Z"}
{"msg":"Started an orderer with a genesis block, trying to join the peer with the same genesis block and receive the following errors:\n\n```\nCORE_PEER_GOSSIP_SKIPHANDSHAKE=true CORE_PEER_ADDRESS=us-east-example.com:7051 peer channel join -c passkit -b $PEER_CFG_PATH/genesis.block -o $CORE_PEER_COMMITTER_LEDGER_ORDERER\nPeer joined the channel!\n```\n\n```\n2017-04-07 03:41:52.018 UTC [protoutils] ValidateTransaction -> ERRO 032 validateCommonHeader returns err invalid header type ORDERER_TRANSACTION\n2017-04-07 03:41:52.018 UTC [txvalidator] Validate -> ERRO 033 Invalid transaction with index 0, error %!s(<nil>)\n2017-04-07 03:41:52.018 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 034 Block [1] Transaction index [0] marked as invalid by committer. Reason code [3]\n2017-04-07 03:41:52.035 UTC [kvledger] Commit -> INFO 035 Channel [passkit]: Created block [1] with 1 transaction(s)\n2017-04-07 03:41:52.084 UTC [protoutils] ValidateTransaction -> ERRO 036 validateCommonHeader returns err invalid header type ORDERER_TRANSACTION\n2017-04-07 03:41:52.084 UTC [txvalidator] Validate -> ERRO 037 Invalid transaction with index 0, error %!s(<nil>)\n2017-04-07 03:41:52.084 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 038 Block [2] Transaction index [0] marked as invalid by committer. Reason code [3]\n2017-04-07 03:41:52.106 UTC [kvledger] Commit -> INFO 039 Channel [passkit]: Created block [2] with 1 transaction(s)\n2017-04-07 03:41:52.149 UTC [protoutils] ValidateTransaction -> ERRO 03a validateCommonHeader returns err invalid header type ORDERER_TRANSACTION\n2017-04-07 03:41:52.149 UTC [txvalidator] Validate -> ERRO 03b Invalid transaction with index 0, error %!s(<nil>)\n2017-04-07 03:41:52.149 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 03c Block [3] Transaction index [0] marked as invalid by committer. Reason code [3]\n2017-04-07 03:41:52.158 UTC [kvledger] Commit -> INFO 03d Channel [passkit]: Created block [3] with 1 transaction(s)\n2017-04-07 03:41:52.193 UTC [protoutils] ValidateTransaction -> ERRO 03e validateCommonHeader returns err invalid header type ORDERER_TRANSACTION\n2017-04-07 03:41:52.193 UTC [txvalidator] Validate -> ERRO 03f Invalid transaction with index 0, error %!s(<nil>)\n2017-04-07 03:41:52.193 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 040 Block [4] Transaction index [0] marked as invalid by committer. Reason code [3]\n2017-04-07 03:41:52.209 UTC [kvledger] Commit -> INFO 041 Channel [passkit]: Created block [4] with 1 transaction(s)\n```\n\nListing the channels shows that the peer has joined:\n\n```\nCORE_PEER_GOSSIP_SKIPHANDSHAKE=true CORE_PEER_ADDRESS=us-east-2a.example.com:7051 peer channel list \nChannels peers has joined to:\n\t passkit\n```","username":"passkit","ts":"2017-04-07T03:46:29.413Z"}
{"msg":"Using latest 56193e9","username":"passkit","ts":"2017-04-07T03:48:18.046Z"}
{"msg":"Using latest snapshot 56193e9","username":"passkit","ts":"2017-04-07T03:48:18.046Z"}
{"msg":"Subsequent channels created and joined with a block have no issues","username":"passkit","ts":"2017-04-07T03:50:42.431Z"}
{"msg":"Also, creating a channel returns an `EOF` error, although the channel creates successfully\n\n```CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/msp/passkit CORE_PEER_LOCALMSPID=\"PASSKIT\" peer channel create -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -f $PEER_CFG_PATH/channels/testing.channel.tx -c testing --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\n\nGot status  &{NOT_FOUND}\nError receiving: EOF\nError: EOF```","username":"passkit","ts":"2017-04-07T04:01:20.087Z"}
{"msg":"Instantiating Chaincode also no longer works\n\n```\nCORE_PEER_ADDRESS=us-east-2a.blockchain.passkit.com:7051 peer chaincode instantiate -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -C testing -n testcc -v 0 -c '{\"Args\":[\"init\",\"a\", \"1000\", \"b\",\"2000\"]}' --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\n```","username":"passkit","ts":"2017-04-07T04:22:37.487Z"}
{"msg":"Instantiating Chaincode also no longer works\n```\nCORE_PEER_ADDRESS=us-east-2a.example.com:7051 peer chaincode instantiate -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -C testing -n testcc -v 0 -c '{\"Args\":[\"init\",\"a\", \"1000\", \"b\",\"2000\"]}' --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc\nError: Error endorsing chaincode: rpc error: code = 2 desc = Transaction returned with failure: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]\n```\n\n```\n2017-04-07 04:20:42.228 UTC [chaincode] processStream -> ERRO 081 Got error: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]\n```","username":"passkit","ts":"2017-04-07T04:24:21.213Z"}
{"msg":"Instantiating Chaincode also no longer works\n```\nCORE_PEER_ADDRESS=us-east-2a.example.com:7051 peer chaincode instantiate -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -C testing -n testcc -v 0 -c '{\"Args\":[\"init\",\"a\", \"1000\", \"b\",\"2000\"]}' --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc\nError: Error endorsing chaincode: rpc error: code = 2 desc = Transaction returned with failure: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]\n```\nPeer log:\n```\n2017-04-07 04:20:42.228 UTC [chaincode] processStream -> ERRO 081 Got error: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]\n```","username":"passkit","ts":"2017-04-07T04:24:21.213Z"}
{"msg":"Instantiating Chaincode also no longer works\n```\nCORE_PEER_ADDRESS=us-east-2a.example.com:7051 peer chaincode instantiate -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -C testing -n testcc -v 0 -c '{\"Args\":[\"init\",\"a\", \"1000\", \"b\",\"2000\"]}' --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc\nError: Error endorsing chaincode: rpc error: code = 2 desc = Transaction returned with failure: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]\n```\nPeer log:\n```\n2017-04-07 04:20:42.228 UTC [chaincode] processStream -> ERRO 081 Got error: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]\n```\n\nAbove was for go example02, but is same for all other CC","username":"passkit","ts":"2017-04-07T04:24:21.213Z"}
{"msg":"@passkit you should use the channel config tx to join the channel, not the orderer genesis block","username":"Vadim","ts":"2017-04-07T06:09:43.328Z"}
{"msg":"Can you point me to the syntax required - I have tried to use the channel.tx files but it would always fail","username":"passkit","ts":"2017-04-07T06:10:42.507Z"}
{"msg":"so you should generate two files - orderer.block and channel.tx, orderer.block you set over ORDERER_GENERAL_GENESISFILE variable when starting the orderer, channel.tx you should use in peer channel create/join calls","username":"Vadim","ts":"2017-04-07T06:12:08.062Z"}
{"msg":"see the e2e_cli example for more info","username":"Vadim","ts":"2017-04-07T06:12:23.166Z"}
{"msg":"Has left the channel.","username":"mychewcents","ts":"2017-04-07T06:14:54.395Z","type":"ul"}
{"msg":"e2e_cli joins with the block","username":"passkit","ts":"2017-04-07T06:19:56.436Z"}
{"msg":"`peer channel join -b $CHANNEL_NAME.block  >&log.txt`","username":"passkit","ts":"2017-04-07T06:19:58.629Z"}
{"msg":"Line 54: scripts/script.sh","username":"passkit","ts":"2017-04-07T06:20:24.435Z"}
{"msg":"Creating channels with the tx and joining with the block works.  What doesn't woek for me is joining the channel that the orderer was bootstrapped with","username":"passkit","ts":"2017-04-07T06:21:59.072Z"}
{"msg":"@vadim Creating channels with the tx and joining with the block works.  What doesn't woek for me is joining the channel that the orderer was bootstrapped with","username":"passkit","ts":"2017-04-07T06:21:59.072Z"}
{"msg":"this is not the same block as the orderer block","username":"Vadim","ts":"2017-04-07T06:25:52.574Z"}
{"msg":"this is result of peer channel create command","username":"Vadim","ts":"2017-04-07T06:26:06.870Z"}
{"msg":"this is the result of peer channel create command","username":"Vadim","ts":"2017-04-07T06:26:06.870Z"}
{"msg":"i understand that","username":"passkit","ts":"2017-04-07T06:26:16.013Z"}
{"msg":"then what are you trying to do?","username":"Vadim","ts":"2017-04-07T06:26:29.256Z"}
{"msg":"My issue is how to join a peer to a bootstrapped channel","username":"passkit","ts":"2017-04-07T06:26:30.105Z"}
{"msg":"you cannot use orderer block to join the channel, this is what I understood you are trying to do","username":"Vadim","ts":"2017-04-07T06:26:52.404Z"}
{"msg":"So - the orderer is bootstrapped with a block.  How can I join that channel?","username":"passkit","ts":"2017-04-07T06:27:22.570Z"}
{"msg":"orderer block is a different thing","username":"Vadim","ts":"2017-04-07T06:27:34.431Z"}
{"msg":"it does not describe a peer channel","username":"Vadim","ts":"2017-04-07T06:27:46.894Z"}
{"msg":"ok, lemme try the other way. Have you run peer channel create?","username":"Vadim","ts":"2017-04-07T06:28:11.593Z"}
{"msg":"ok, lemme try the other way. Have you run `peer channel create`?","username":"Vadim","ts":"2017-04-07T06:28:11.593Z"}
{"msg":"can you post the command here?","username":"Vadim","ts":"2017-04-07T06:28:44.321Z"}
{"msg":"No - have created locally with configgentx","username":"passkit","ts":"2017-04-07T06:28:45.504Z"}
{"msg":"you still need to run it, that's the thing","username":"Vadim","ts":"2017-04-07T06:28:57.911Z"}
{"msg":"peerorg1peer1","username":"Vadim","ts":"2017-04-07T06:29:08.681Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/scripts/script.sh#L43","username":"Vadim","ts":"2017-04-07T06:29:08.681Z"}
{"msg":"when you run the peer channel create you will get a DIFFERENT block, which you should use in peer channel join, get it?","username":"Vadim","ts":"2017-04-07T06:30:12.737Z"}
{"msg":"`CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/msp/passkit CORE_PEER_LOCALMSPID=\"PASSKIT\" peer channel create -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -f $PEER_CFG_PATH/channel.tx -c passkit --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem`","username":"passkit","ts":"2017-04-07T06:31:48.430Z"}
{"msg":"the channel.tx here is from the orderer bootstrap block","username":"passkit","ts":"2017-04-07T06:32:15.943Z"}
{"msg":"what happens if you run it?","username":"Vadim","ts":"2017-04-07T06:32:30.094Z"}
{"msg":"But running that gives me `Error: Got unexpected status: BAD_REQUEST`","username":"passkit","ts":"2017-04-07T06:32:30.253Z"}
{"msg":"well see the orderer logs for details","username":"Vadim","ts":"2017-04-07T06:32:46.521Z"}
{"msg":"`2017-04-07 06:30:49.922 UTC [orderer/common/broadcast] Handle -> WARN 120 Rejecting CONFIG_UPDATE because: Error validating DeltaSet: Attempt to set key [Values] /Channel/OrdererAddresses to version 0, but key is at version 0\n2017-04-07 06:30:50.127 UTC [orderer/common/deliver] Handle -> WARN 121 Error reading from stream: stream error: code = 1 desc = \"context canceled\"\n`","username":"passkit","ts":"2017-04-07T06:33:51.629Z"}
{"msg":"```2017-04-07 06:30:49.922 UTC [orderer/common/broadcast] Handle -> WARN 120 Rejecting CONFIG_UPDATE because: Error validating DeltaSet: Attempt to set key [Values] /Channel/OrdererAddresses to version 0, but key is at version 0\n2017-04-07 06:30:50.127 UTC [orderer/common/deliver] Handle -> WARN 121 Error reading from stream: stream error: code = 1 desc = \"context canceled\"\n`","username":"passkit","ts":"2017-04-07T06:33:51.629Z"}
{"msg":"are you trying to do the e2e cli example by hand?","username":"Vadim","ts":"2017-04-07T06:35:21.454Z"}
{"msg":"Yes","username":"passkit","ts":"2017-04-07T06:35:28.040Z"}
{"msg":"seems that orderer is not correctly configured","username":"Vadim","ts":"2017-04-07T06:35:38.239Z"}
{"msg":"Everything was working correctly before the last build","username":"passkit","ts":"2017-04-07T06:35:46.432Z"}
{"msg":"you still running in docker-compose?","username":"Vadim","ts":"2017-04-07T06:35:52.966Z"}
{"msg":"I'd say you've got some mixed state","username":"Vadim","ts":"2017-04-07T06:36:03.355Z"}
{"msg":"not via docker-compose.  Let me check if something else has been added.","username":"passkit","ts":"2017-04-07T06:36:18.356Z"}
{"msg":"you need to make sure that the peers/orderers start with fresh chains","username":"Vadim","ts":"2017-04-07T06:36:30.677Z"}
{"msg":"Was trying on a flushed chain.  But will reset and try again. ","username":"passkit","ts":"2017-04-07T06:39:28.966Z"}
{"msg":"I don't receive any errors on the orderer when creating other channels - although as mentioned above, the value returned to the CLI peer is `EOF`\n\n```\nCORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/msp/passkit CORE_PEER_LOCALMSPID=\"PASSKIT\" peer channel create -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -f $PEER_CFG_PATH/channels/testing.channel.tx -c testing --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\nGot status  &{NOT_FOUND}\nError receiving: EOF\nError: EOF\n```","username":"passkit","ts":"2017-04-07T06:47:16.589Z"}
{"msg":"Just re-ran on a flushed chain and have the same error for the bootstrap block.  This block was generated exactly the same as the other channels","username":"passkit","ts":"2017-04-07T06:48:00.539Z"}
{"msg":"so the actual error here is Got status  &{NOT_FOUND}, and you don't see anything on the orderer? I suppose it's run with DEBUG log level?","username":"Vadim","ts":"2017-04-07T06:51:30.965Z"}
{"msg":"also, where do you run this command? in the cli?","username":"Vadim","ts":"2017-04-07T06:53:28.104Z"}
{"msg":"@passkit ","username":"Vadim","ts":"2017-04-07T06:53:41.187Z"}
{"msg":"Running command in CLI and orderer is running debug logs","username":"passkit","ts":"2017-04-07T06:54:16.744Z"}
{"msg":"I can successfully join FWIW, my orderer is a Kafka orderer","username":"passkit","ts":"2017-04-07T06:57:43.560Z"}
{"msg":"what's FWIW?","username":"Vadim","ts":"2017-04-07T06:57:55.507Z"}
{"msg":"also, what do you mean \"I don't receive any errors on the orderer when creating other channels\"? How is this channel different from other channels?","username":"Vadim","ts":"2017-04-07T06:58:39.714Z"}
{"msg":"For what it is worth - means For information","username":"passkit","ts":"2017-04-07T06:58:42.946Z"}
{"msg":"ah, I thought it's some special channel you have ;)","username":"Vadim","ts":"2017-04-07T06:59:03.253Z"}
{"msg":"So - Orderer bootstrap channel -> Orderer log errors -> CLI failure -> Channel create Failure","username":"passkit","ts":"2017-04-07T06:59:32.548Z"}
{"msg":"So - Orderer bootstrap channel -> Orderer log errors -> CLI &{BAD_REQUEST} -> Channel create Failure","username":"passkit","ts":"2017-04-07T06:59:32.548Z"}
{"msg":"Any other channel -> No Orderer log errors -> CLI &{NOT FOUND} -> Channel create Success","username":"passkit","ts":"2017-04-07T07:00:05.865Z"}
{"msg":"I don't get what in your terminology is \"orderer bootstrap channel\"","username":"Vadim","ts":"2017-04-07T07:00:39.786Z"}
{"msg":"anyway, have you tried with script.sh?","username":"Vadim","ts":"2017-04-07T07:00:55.498Z"}
{"msg":"does it also fail?","username":"Vadim","ts":"2017-04-07T07:01:02.661Z"}
{"msg":"The channel in the Orderer genesis block","username":"passkit","ts":"2017-04-07T07:01:23.440Z"}
{"msg":"yes, which you set over config and which you don't explicitly join","username":"Vadim","ts":"2017-04-07T07:01:41.870Z"}
{"msg":"Are you saying that the peer will automatically join the channel in the orderer genesis block?","username":"passkit","ts":"2017-04-07T07:03:22.783Z"}
{"msg":"Pfr_20117","username":"passkit","ts":"2017-04-07T07:03:44.932Z"}
{"msg":"The orderer channel is for orderers, not for peers, so peers don't need to join it","username":"Vadim","ts":"2017-04-07T07:04:08.540Z"}
{"msg":"Ok - that makes sense - was not clear from the documentation.  ","username":"passkit","ts":"2017-04-07T07:04:51.685Z"}
{"msg":"Thanks a lot for your patience clearing that up. ","username":"passkit","ts":"2017-04-07T07:06:39.311Z"}
{"msg":"So I am left with two problems - the &{NOT_FOUND} error when creating peer channels (although this seems benign as the channels are created), and the more pressing matter that Chaincode will no longer instantiate.  \n```\nCORE_PEER_ADDRESS=us-east-2a.example.com:7051 peer chaincode instantiate -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -C testing -n testcc -v 0 -c '{\"Args\":[\"init\",\"a\", \"1000\", \"b\",\"2000\"]}' --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc\n2017-04-07 04:20:42.961 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc\nError: Error endorsing chaincode: rpc error: code = 2 desc = Transaction returned with failure: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]\n```","username":"passkit","ts":"2017-04-07T07:07:01.935Z"}
{"msg":"so the chaincode won't instatntiate because the channel is not created","username":"Vadim","ts":"2017-04-07T07:11:27.007Z"}
{"msg":"so you have to solve that issue first","username":"Vadim","ts":"2017-04-07T07:11:36.997Z"}
{"msg":"But even I get a message, the channel is created.\n\nCLI:\n```\n CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/msp/passkit CORE_PEER_LOCALMSPID=\"PASSKIT\" peer channel create -o $CORE_PEER_COMMITTER_LEDGER_ORDERER -f $PEER_CFG_PATH/channels/testing.channel.tx -c testing --tls true --cafile /etc/hyperledger/fabric/ssl/ca-chain.cert.pem\nGot status  &{NOT_FOUND}\nError receiving: EOF\nError: EOF\n```\n\nWill post orderer log as a file","username":"passkit","ts":"2017-04-07T07:34:31.397Z"}
{"msg":"","username":"passkit","ts":"2017-04-07T07:34:52.129Z","attachments":[{"title":"File Uploaded: Channel_Join_Orderer.log","title_link":"/file-upload/KQYWcQGCsifMCprth/Channel_Join_Orderer.log","url":"/file-upload/KQYWcQGCsifMCprth/Channel_Join_Orderer.log","remote":false,"fileId":"KQYWcQGCsifMCprth"}]}
{"msg":"And the peer can join the channel with no problem:\n```\n2017-04-07 07:35:32.200 UTC [ledgermgmt] CreateWithGenesisBlock -> INFO 023 Creating ledger [testing] with genesis block\n2017-04-07 07:35:32.493 UTC [kvledger] Commit -> INFO 024 Channel [testing]: Created block [0] with 1 transaction(s)\n2017-04-07 07:35:32.557 UTC [ledgermgmt] CreateWithGenesisBlock -> INFO 025 Created ledger [testing] with genesis block\n2017-04-07 07:35:32.561 UTC [gossip/gossip#peer-us-east-2a.blockchain.passkit.com:7051] learnAnchorPeers -> INFO 026 Anchor peer with same endpoint, skipping connecting to myself\n2017-04-07 07:35:32.563 UTC [gossip/state] NewGossipStateProvider -> INFO 027 Updating node metadata information, current ledger sequence is at = 0, next expected block is = 1\n```","username":"passkit","ts":"2017-04-07T07:36:57.464Z"}
{"msg":"Ok - so channels are being created and have fixed the instantiation - looks like it was because one peer had an outfated fabric-ccenv","username":"passkit","ts":"2017-04-07T08:11:56.329Z"}
{"msg":"Thanks very much @Vadim for taking time to help.  I still have the &{NOT_FOUND} error, but can live with that for now","username":"passkit","ts":"2017-04-07T08:12:43.175Z"}
{"msg":"no problem","username":"Vadim","ts":"2017-04-07T08:12:54.161Z"}
{"msg":"I have another issue though.  If I try to commit 3 transactions to three separate peers quickly, at least one transaction fails with `Block [7] Transaction index [1] TxId [1574d12897b597c12d92b4cf4bdece14d7b269822e5bad9efdbd8a48cb66334d] marked as invalid by state validator. Reason code [11]`","username":"passkit","ts":"2017-04-07T08:13:37.386Z"}
{"msg":"@passkit if you modify the same state in this transactions, then the orderer will not allow that","username":"Vadim","ts":"2017-04-07T08:14:23.722Z"}
{"msg":"this is considered to be a double-spending case","username":"Vadim","ts":"2017-04-07T08:15:07.068Z"}
{"msg":"Ok - but how to handle high volumes?  There could be many simultaneous transactions acting on the balance of an account.","username":"passkit","ts":"2017-04-07T08:15:25.676Z"}
{"msg":"you can record the balance changes and settle them periodically","username":"Vadim","ts":"2017-04-07T08:16:15.527Z"}
{"msg":"I am thinking earning and burning of loyalty points.  Even across a small department store there could be 2 or more transactions simultaneously increasing or reducing the organisations loyalty liability.","username":"passkit","ts":"2017-04-07T08:16:19.812Z"}
{"msg":"Is it unreasonable to expect Kafka to manage this atomically?","username":"passkit","ts":"2017-04-07T08:17:00.536Z"}
{"msg":"no, it's about RW sets that peers deliver","username":"Vadim","ts":"2017-04-07T08:17:13.806Z"}
{"msg":"e.g. balance of A is 100, then you send 3 transactions each transfers 10 units to somewhere. These transactions end up in the same block. FOr the first transaction the peer will calculate 100-10 = 90, for the second again 100-10=90 and for the third 100-10 = 90, so first will be valid, the other two not","username":"Vadim","ts":"2017-04-07T08:18:52.359Z"}
{"msg":"so you either dont concurrently modify the state or monitor which transactions invalid and repeat them","username":"Vadim","ts":"2017-04-07T08:19:20.113Z"}
{"msg":"Got it, although I can foresee problems across many applications with this design principle.  Particularly in investment banking high volume structured products and algorithmic trading scenarios where the delays would grow exponentially.","username":"passkit","ts":"2017-04-07T08:27:38.133Z"}
{"msg":"I can't really comment this design principle as I'm not in the team, it's just the way it is and it is coming from the fact that chaincode simulation happens on one node, and consensus on the other node.","username":"Vadim","ts":"2017-04-07T08:29:26.663Z"}
{"msg":"Been trying to use the 'sort' field in one of my couchdb queries, but am getting: `no_usable_index,missing_sort_index`. I'm new to couchdb and I never used mongodb either. How would I go about creating a sort index?","username":"pd93","ts":"2017-04-07T11:30:37.952Z"}
{"msg":"Currently there is no provision for automatically creating indexes in fabric.   Indexes to support  sorting in couchdb queries must be created externally.","username":"chris.elder","ts":"2017-04-07T13:29:24.282Z"}
{"msg":"There are two options for creating indexes.   \n\n1.  Use the fauxton interface to create the index.\n\nVisual guide for fauxton is found here:\n\nhttp://couchdb.apache.org/fauxton-visual-guide/\n\n2.  Create the index using curl to define the index.\n\nCouchDB documentation for creating indexes using REST can be\nfound here:\nhttp://docs.couchdb.org/en/2.0.0/api/database/find.html\n\nunder  10.3.5. /db/_index\n\nAlso, there are examples for creating and using indexes in the\nheader information in the marbles02.go example located here:\n\n/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go","username":"chris.elder","ts":"2017-04-07T13:33:38.252Z"}
{"msg":"@dave.enyeart Could you help review https://gerrit.hyperledger.org/r/#/c/7605/?  Thanks.","username":"Honglei","ts":"2017-04-10T00:28:38.450Z"}
{"msg":"Hi, I've few questions on V1- 1) does fabric V1 has global ledger/chain as it is in Fabric (v0.6) 2) in V1, can two different chaincodes on different channel invoke /query each other?\n\n","username":"nhrishi","ts":"2017-04-10T09:46:36.408Z"}
{"msg":"does fabric support kafka now?","username":"bh4rtp","ts":"2017-04-10T09:57:12.009Z"}
{"msg":"@chris.elder Thanks for the info. Only just saw this\nWill there be options in the future to create these indexes via the CLI/SDK? This would be really handy.","username":"pd93","ts":"2017-04-10T10:47:44.601Z"}
{"msg":"There has been some discussion, but I am not sure if that will make the cut for 1.0","username":"chris.elder","ts":"2017-04-10T10:48:31.766Z"}
{"msg":"I agree, those would be very good additions","username":"chris.elder","ts":"2017-04-10T10:48:46.516Z"}
{"msg":"Has joined the channel.","username":"StuartWilloughby","ts":"2017-04-10T10:50:44.439Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zian","ts":"2017-04-10T13:59:10.380Z","type":"uj"}
{"msg":"Is there any documentation on how the ledger (i.e. blocks) are stored on the file system. By ledger I mean the hashchain of blocks and not the world state. Currently I see they are in /var/hyperledger/production/ledgersData. The ledger appears to be in ledgersData/chains/. There is also index folder here - what does this contain? In addition, what is stored within /ledgersData/historyLeveldb and /ledgersData/ledgerProvider? ","username":"s.narayanan","ts":"2017-04-10T18:04:12.402Z"}
{"msg":"Has joined the channel.","username":"jeroiraz","ts":"2017-04-10T18:40:46.733Z","type":"uj"}
{"msg":"@dave.enyeart when using CouchDB for world state, is there any concept of schemas or is everything dumped to only one collection of key/id and value/json document?  Also, when using CouchDB what is the default security, if any, that is used?","username":"jdockter","ts":"2017-04-11T14:41:44.729Z"}
{"msg":"@jdockter  couchdb doesnt have a concept of schemas/collections, if i understand your question","username":"dave.enyeart","ts":"2017-04-11T14:44:37.485Z"}
{"msg":"by default couchdb does not enable user security, but we'll show you how to enable it: https://gerrit.hyperledger.org/r/#/c/7099/11/images/couchdb/local.ini","username":"dave.enyeart","ts":"2017-04-11T14:45:38.732Z"}
{"msg":"@dave.enyeart as the db grows, ie thousands or millions of rows, is there any concept of indexes to some how improve performance?","username":"jdockter","ts":"2017-04-11T14:51:36.463Z"}
{"msg":"yes, you can create indexes in couchdb","username":"dave.enyeart","ts":"2017-04-11T14:52:52.644Z"}
{"msg":"sorry if this is all covered in some documents, just getting back up to speed with all the HLF v1 changes","username":"jdockter","ts":"2017-04-11T14:52:52.953Z"}
{"msg":"we may enable creating indexes from peer in future, for now you have to create those indexes manually against couchdb","username":"dave.enyeart","ts":"2017-04-11T14:53:23.297Z"}
{"msg":"is there a place I can reset of what has been developed and committed related to CouchDB to the current alpha code base?","username":"jdockter","ts":"2017-04-11T14:53:48.444Z"}
{"msg":"not much change since alpha in terms of function. you'd have to look at the change history, for example: https://github.com/hyperledger/fabric/commits/master/core/ledger/util/couchdb/couchdb.go","username":"dave.enyeart","ts":"2017-04-11T14:55:54.695Z"}
{"msg":"sorry, should have been more clear, looking for documentation","username":"jdockter","ts":"2017-04-11T14:59:31.259Z"}
{"msg":"@nhrishi there is no global chain.  only channels.  There is a chaincode API InvokeChaincode() where you can pass a different channel name.  This can be used to query another chaincode on another channel, but will not update the remote channel","username":"dave.enyeart","ts":"2017-04-11T15:01:04.295Z"}
{"msg":"@jdockter this example chaincode demonstrates usage of couchdb for storing/querying json, as well as some index examples:","username":"dave.enyeart","ts":"2017-04-11T15:03:13.647Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/marbles02/marbles_chaincode.go","username":"dave.enyeart","ts":"2017-04-11T15:03:14.747Z"}
{"msg":"@dave.enyeart thanks. Just to confirm, are we saying invokeChaincode() can be used to only to query other chaincode from different channel and not for invoke ?","username":"nhrishi","ts":"2017-04-11T15:10:22.549Z"}
{"msg":"everything is an chaincode invoke in v1.  so technically you do 'invoke' and will get back the chaincode response (which is typically populated with query results from that chaincode).  but if the called chaincode on the remote channel did any Puts(), these will be ignored... the remote chain is not updated.","username":"dave.enyeart","ts":"2017-04-11T15:17:48.598Z"}
{"msg":"a common scenario is to have a public channel with reference information, and private channels for transactions.","username":"dave.enyeart","ts":"2017-04-11T15:18:57.855Z"}
{"msg":"okay. but there would be scenarios where we'll need 2 chaincodes on 2 different private channels invoke each other.","username":"nhrishi","ts":"2017-04-11T15:20:59.921Z"}
{"msg":"@here Is there an c sdk/api all to find out all the smartcontracts installed on a channel for a user?","username":"bkvellanki","ts":"2017-04-11T16:49:30.849Z"}
{"msg":"Has joined the channel.","username":"Lin-YiTang","ts":"2017-04-11T21:19:37.222Z","type":"uj"}
{"msg":"Has joined the channel.","username":"leungjob","ts":"2017-04-12T03:56:05.852Z","type":"uj"}
{"msg":"Hi, when I run the docker-compose up, I keep getting these messages:\n\npeer0 | 2017-04-07 06:03:47.725 UTC [gossip/discovery#172.18.0.3:7051] handleAliveMessage -> ERRO 01b Bad configuration detected: Received AliveMessage from a peer with the same PKI-ID as myself: tag:EMPTY alive_msg:<membership:<pki_id:\"\\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\" > timestamp:<inc_number:1491544819399068508 seq_num:103 > > \npeer1 | 2017-04-07 06:03:47.729 UTC [gossip/discovery#172.18.0.4:7051] handleAliveMessage -> ERRO 009 Bad configuration detected: Received AliveMessage from a peer with the same PKI-ID as myself: tag:EMPTY alive_msg:<membership:<pki_id:\"\\037\\273\\337\\266\\307\\256[\\312\\266\\303Le\\301DR\\221K3K\\366x\\205\\271\\032\\355\\320\\226\\211\\237H\\332\\205\" > timestamp:<inc_number:1491544818691532629 seq_num:121 > > \ncli | 2017-04-07 06:03:51.539 UTC\n\nany idea why and how to get rid of it","username":"subbu165","ts":"2017-04-12T06:50:30.000Z"}
{"msg":"@subbu165 Please post in #fabric-gossip channel","username":"dave.enyeart","ts":"2017-04-12T10:38:33.562Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bp6gmTJkKMQGK92rv) @subbu165  This message warns that you have configured two peers using same certificate, you just need to fix it and have two peers using separate certificates.","username":"C0rWin","ts":"2017-04-12T11:48:00.895Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bp6gmTJkKMQGK92rv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bp6gmTJkKMQGK92rv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@C0rWin  thanks for the reply. Actually once I remove the peer configuration 'CORE_PEER_GOSSIP_BOOTSTRAP=peer0:7051' from other peers in the docker compose yaml, this error is gone. May be its because of the same reason you are talking about.","username":"subbu165","ts":"2017-04-12T12:45:12.331Z"}
{"msg":"peers simply stopped to try build gossip network","username":"C0rWin","ts":"2017-04-12T12:45:40.965Z"}
{"msg":"Has joined the channel.","username":"msoumeit","ts":"2017-04-12T17:09:09.795Z","type":"uj"}
{"msg":"Hi All, I have a doubt. \n\nI am setting some cache in init method and trying to use it in invoke(query). In the dev mode i'm able to work with this. But in prod mode i see some weird behaviour. \n\n1. The cache set in deploy(init function) is not available to invoke methods\n2. But the cache set under invoke is available during multiple calls to invoke.\n3. I see after the deploy(init function) there is no container created. But after invoke the container gets created and which will have only the invoke logs, init method logs are not seen here.\n4. But any PutState we do in deploy(init function) is available to invoke function.\n\nFor cache storage i'm using https://github.com/patrickmn/go-cache\n\nCan you please help me to understand this. ","username":"PushpalathaHiremath","ts":"2017-04-12T18:29:59.247Z"}
{"msg":"@PushpalathaHiremath There is no cross-transaction caching supported, transactions should only share data via state variables. There are no guarantees around life cycle of a container.","username":"dave.enyeart","ts":"2017-04-13T07:07:12.826Z"}
{"msg":"@PushpalathaHiremath There is no cross-transaction caching supported, transactions should only share data via state variables. There are no guarantees around life cycle of a chaincode container.","username":"dave.enyeart","ts":"2017-04-13T07:07:12.826Z"}
{"msg":"Has joined the channel.","username":"epal","ts":"2017-04-13T07:32:34.658Z","type":"uj"}
{"msg":"I'm currently engaged in implementing a schema for blockchain transaction pruning in Hyperledger v0.6. I've been reading the source code that manages state transfers, blocks, states, etc. and want to make sure that I've understood the state synchronization procedure properly, so I can be confident about the properties of the system, and how my changes affect those properties. From what I have been able to discern to far, each peer keeps a ledger. The ledger consists of a blockchain and a state, which is essentially whatever aggregate data structure is chosen to represent the result of evaluating all blockchain transactions. The state is divided into tree primary elements, which are (1) the actual database, (2) a collection of state deltas, and (3) a currently evaluated transaction. When querying the ledger state, the choice must be made whether to first look in (3) and then (2), or to look directly in (1). My question is, what is the correspondence between the blockchain and the state deltas? Are the state deltas exclusively representing transactions not yet represented by a blockchain block, or could there be uncommitted blocks in the blockchain? Thank you.","username":"epal","ts":"2017-04-13T07:41:37.755Z"}
{"msg":"*tree=three","username":"epal","ts":"2017-04-13T07:54:21.795Z"}
{"msg":"Has joined the channel.","username":"somashekarn","ts":"2017-04-13T09:17:19.723Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gdhh","ts":"2017-04-13T14:30:39.487Z","type":"uj"}
{"msg":"Has joined the channel.","username":"feronti","ts":"2017-04-13T18:02:19.711Z","type":"uj"}
{"msg":"On V1-0; for chain-code 2 chain-code query access ( ` stub.InvokeChaincode ` ), we are seeing a request timed-out. Few request worked fine however it failed after some time. Anyone has seen this case or potential reason?","username":"rahulhegde","ts":"2017-04-15T17:06:04.745Z"}
{"msg":"@muralisr @dave.enyeart \nOn V1-0; for chain-code 2 chain-code query access ( ` stub.InvokeChaincode ` ), we are seeing a request timed-out. Few request worked fine however it failed after some time. Anyone has seen this case or potential reason?","username":"rahulhegde","ts":"2017-04-15T17:06:04.745Z"}
{"msg":"@muralisr @dave.enyeart \nOn V1-0; for chain-code 2 chain-code query access ( ` stub.InvokeChaincode ` ), we are seeing a request timed-out. Few request worked fine however it failed after some time. Anyone has seen this case or potential reason?\n\nCC: @Ratnakar ","username":"rahulhegde","ts":"2017-04-15T17:06:04.745Z"}
{"msg":"@muralisr @dave.enyeart \nOn V1-0; for chain-code 2 chain-code query access ( ` stub.InvokeChaincode ` ), we are seeing a request timed-out. Few request worked fine however it failed after some time. Anyone has seen this case or potential reason?\n\nCC: @Ratnakar #fabric ","username":"rahulhegde","ts":"2017-04-15T17:06:04.745Z"}
{"msg":"Hi All, \n\nAs in fabric 0.6 version hfc we had build-chaincode where the chain code used to get copied , where will it be in v1.0?\nI'm using some static configuration files in my chain code, so i want to know the chiaincode's path.","username":"PushpalathaHiremath","ts":"2017-04-17T08:48:57.850Z"}
{"msg":"@PushpalathaHiremath in 1.0 you cannot copy user config files as part of the package (esp. after https://gerrit.hyperledger.org/r/#/c/6991/ gets merged)","username":"muralisr","ts":"2017-04-17T08:52:09.771Z"}
{"msg":"@muralisr : oh.. okay.. So what is the way to use static config files now? Any suggestions?","username":"PushpalathaHiremath","ts":"2017-04-17T08:54:12.086Z"}
{"msg":"one way certainly would be send the data with init and store it on the ledger","username":"muralisr","ts":"2017-04-17T08:55:21.883Z"}
{"msg":"@muralisr : We do have very large and frequently changing config files..  That's why we used static files instead storing into ledger.. Anyways, if we do not have any other option may be we need to store into ledger / store into off block / may be we need to have it in application layer only .. ","username":"PushpalathaHiremath","ts":"2017-04-17T10:00:37.455Z"}
{"msg":"if you have frequently changing config files how do you update them ?","username":"muralisr","ts":"2017-04-17T10:06:35.000Z"}
{"msg":"@here Is none able to give me any directions or suggestions regarding the relation between blockchain blocks, state and state deltas? Thank you.","username":"epal","ts":"2017-04-18T07:36:07.161Z"}
{"msg":"In particular, I'm curious about the relationship between state deltas and the blockchain blocks. Are the state deltas and the state together holding a state equivalent to the aggregate of all blockchain blocks? Is there a concept of pending or uncommitted blocks in the blockchain? What determines the amount of state deltas?","username":"epal","ts":"2017-04-18T07:38:48.611Z"}
{"msg":"@epal I think the lack of response is due to the fact that most of the community has moved on to v1.  The 0.6 design and questions do not apply to v1.","username":"dave.enyeart","ts":"2017-04-18T13:18:19.047Z"}
{"msg":"Alright. Thanks. I'm understanding more and more from reading the source code, so I guess I'll be able to manage in the end. It would, however, be nice to get some kind of confirmation that my understanding is correct.","username":"epal","ts":"2017-04-18T13:19:55.398Z"}
{"msg":"@dave.enyeart for v1, if I have two peers on the same channel, would each peer have it's own ledger (world state + transaction log)?  If so, when I use couchdb I would then assume I would want each peer to be configured in the yaml file to reference couchdb, thus getting two extra containers for each instance of couchdb?  Or do I have that wrong?","username":"jdockter","ts":"2017-04-18T14:20:59.418Z"}
{"msg":"Has joined the channel.","username":"SotirisAlfonsos","ts":"2017-04-19T10:37:39.098Z","type":"uj"}
{"msg":"@jdockter Each peer has its own chain per channel, and statedb per channel.  In CouchDB, this is implemented as the peer having one CouchDB instance/container, partitioned into N databases for the N channels.  The N databases all run within a single CouchDB process.","username":"dave.enyeart","ts":"2017-04-19T11:02:38.781Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=cYe8CPLvfpsrTpmNW) @epal As @dave.enyeart pointed out, the question belongs to the version v0.6. The state-delta is the change-set that is caused by the transactions in the corresponding block. There is one-to-one relation between state-delta and it's block. The main use of state-deltas are for state transfer when a peer wants to catch up with the network. Instead of executing the transactions in the block, the state deltas are applied to the world-state and new state-hash is computed and matched with the what is present in the block.\n\nIn v1.0, these state-deltas are part of block it self (in the form of write-set) and the granularity of deltas is at the transaction level (instead of block level). ","username":"manish-sethi","ts":"2017-04-19T12:00:53.796Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cYe8CPLvfpsrTpmNW","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cYe8CPLvfpsrTpmNW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=cYe8CPLvfpsrTpmNW) @epal As @dave.enyeart pointed out, the question belongs to the version v0.6. The state-delta is the change-set that is caused by the transactions in the corresponding block. There is one-to-one relation between state-delta and it's block. The main use of state-deltas are for state transfer when a peer wants to catch up with the network. Instead of executing the transactions in the block, the state deltas are applied to the world-state and new state-hash is computed and matched with the what is present in the block.\n\nIn v1.0, these state-deltas are part of block itself (in the form of write-set) and the granularity of deltas is at the transaction level (instead of block level). ","username":"manish-sethi","ts":"2017-04-19T12:00:53.796Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cYe8CPLvfpsrTpmNW","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cYe8CPLvfpsrTpmNW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi Perfect answer! That was just what I was looking for. This confirms my understanding from reading the source code. Thank you for pointing out the difference in 1.0.","username":"epal","ts":"2017-04-19T12:11:37.435Z"}
{"msg":"@epal - to your question about \"What determines the amount of state deltas?\" It's a configurable thing. By default, the state deltas are maintained for last 500 blocks and they are completely optional and hence not required to interpret the world-state as such. The world-state data structure is always up to date with block height. I am not sure what are you intending to do with v0.6 codebase but I would recommend to move on to v1.0 codebase as the previous version is no longer going to be maintained actively.","username":"manish-sethi","ts":"2017-04-19T12:22:24.390Z"}
{"msg":"I'm creating a Proof-of-Concept for my Master's thesis. The topic of the thesis is blockchain transaction pruning.","username":"epal","ts":"2017-04-19T12:23:57.567Z"}
{"msg":"The idea is basically identifying transactions that are not historically interesting and removing them from history, while not preventing the operation of the consensus algorithm in any way.","username":"epal","ts":"2017-04-19T12:25:08.376Z"}
{"msg":"There are, of course, lots of problems with removing history, but the point is not that you should remove transactions, but what happens if you do.","username":"epal","ts":"2017-04-19T12:25:53.035Z"}
{"msg":"cool, this is going to be relevant for v1.0 as well soon. But agreed that it would be easier with v0.6 because each blocks contain the world state hash","username":"manish-sethi","ts":"2017-04-19T12:27:02.875Z"}
{"msg":"cool, this is going to be relevant for v1.0 as well soon. But agreed that it would be easier with v0.6 because each block contains the world state hash","username":"manish-sethi","ts":"2017-04-19T12:27:02.875Z"}
{"msg":"Thank you again for your feedback. I might drop a link to my thesis once it is completed and scrutinised here. ;) ","username":"epal","ts":"2017-04-19T12:29:18.657Z"}
{"msg":"sure. All the best :-)","username":"manish-sethi","ts":"2017-04-19T12:29:37.127Z"}
{"msg":"Hi - is there a way to add additional peers to a channel after the channel's initial creation? I've read that you would send another config transaction, but is this API exposed through the commandline?","username":"farhan3","ts":"2017-04-19T15:55:22.580Z"}
{"msg":"@kostas Could you take a look at farhan3's question?","username":"dave.enyeart","ts":"2017-04-20T12:01:59.703Z"}
{"msg":"hi everyone, how can i decrypt the transaction content using the users certificates ?","username":"dorrakhribi","ts":"2017-04-20T13:38:41.019Z"}
{"msg":"@farhan3: This is indeed possible via a properly constructed + signed config transaction that adds another peer org (from the same consortium) the Application group of that channel. This functionality however is not yet exposed via a command-line tool, such as configtxgen. ","username":"kostas","ts":"2017-04-20T13:47:02.240Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JGNWSLFnw3NKHRrF9) @kostas Thanks! Are there plans to expose this in v1.0? Or an ETA","username":"farhan3","ts":"2017-04-20T15:25:32.818Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JGNWSLFnw3NKHRrF9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JGNWSLFnw3NKHRrF9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@farhan3: I'm skeptical as to how useful `configtxgen` will actually be in this, or in any workflow where multiple signatures are required for that matter. Your best bet for this functionality is the SDK (node.js or Java), so I'd turn to the respective chatrooms here for ETAs.","username":"kostas","ts":"2017-04-20T15:37:19.925Z"}
{"msg":"Ok, will check there","username":"farhan3","ts":"2017-04-20T15:41:34.534Z"}
{"msg":"can someone take a look at this CI failure:   https://jenkins.hyperledger.org/job/fabric-verify-x86_64/9949/console  ?   @dave.enyeart ","username":"mastersingh24","ts":"2017-04-20T18:22:29.574Z"}
{"msg":"@mastersingh24 @chris.elder I have seen that locally after the 20s timeout was put in place.  It is intermittent. This is the first I have seen it in CI.  Basically a create db request to CouchDB took 27s here.  I timed out after 20s and then upon retry we get an error due to conflict (presumably because another thread in CouchDB just created the DB).  We are taking a deeper look and will work with the CouchDB experts to understand why it may take > 20s sometimes, even though it is almost always subsecond at other times.","username":"dave.enyeart","ts":"2017-04-20T18:29:52.864Z"}
{"msg":"@mastersingh24 @chris.elder I have seen that locally after the 20s timeout was put in place.  It is intermittent. This is the first I have seen it in CI.  Basically a create db request to CouchDB took 27s here.  It timed out after 20s and then upon retry we get an error due to conflict (presumably because another thread in CouchDB just created the DB).  We are taking a deeper look and will work with the CouchDB experts to understand why it may take > 20s sometimes, even though it is almost always subsecond at other times.","username":"dave.enyeart","ts":"2017-04-20T18:29:52.864Z"}
{"msg":"cool - I figured it was something like that but wanted to make sure","username":"mastersingh24","ts":"2017-04-20T18:30:21.066Z"}
{"msg":"thx @dave.enyeart  - cool - I figured it was something like that but wanted to make sure","username":"mastersingh24","ts":"2017-04-20T18:30:21.066Z"}
{"msg":"Has joined the channel.","username":"johnsacco","ts":"2017-04-20T21:33:58.618Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Xoccam","ts":"2017-04-21T08:42:24.375Z","type":"uj"}
{"msg":"@here Lets say an org want to need to migrate from one version of fabric (alpha) to another (prod or beta). Is there any document that explains all the items to be backed up.. that we need to backed up..I can definitely see smart contracts, DB, tx, orderer, block..I trying to see if there is any atrifact that explains a smooth transition","username":"bkvellanki","ts":"2017-04-21T15:07:20.096Z"}
{"msg":"@bkvellanki there is not runtime compatibility between various development builds.  you should keep your client app source code and chaincode source code (changes there have mostly been additions). but you should not move runtime data across development builds.","username":"dave.enyeart","ts":"2017-04-21T15:56:56.227Z"}
{"msg":"@dave.enyeart thanks. I will try and keep you posted. ","username":"bkvellanki","ts":"2017-04-21T16:05:34.795Z"}
{"msg":"@dave.enyeart It would also help to create an artifact that has the steps for upgrade process. This not only for alpha to beta but for future upgrades as well","username":"bkvellanki","ts":"2017-04-21T16:10:58.501Z"}
{"msg":"agreed. please create a Jira item or post in #fabric-documentation ","username":"dave.enyeart","ts":"2017-04-21T16:16:43.384Z"}
{"msg":"@dave.enyeart sure will do","username":"bkvellanki","ts":"2017-04-21T16:17:38.801Z"}
{"msg":"I've got a question about the configuration transaction -- is putting cryto material in the config tx intended to facilitate usage of arbitrary CA, instead of a specific one?  In other words, where the relevant certs are already in the blockchain as first-class data, and whatever CA is being used can start from that?","username":"vdods","ts":"2017-04-24T21:43:11.700Z"}
{"msg":"Are there other intents behind that design as well?","username":"vdods","ts":"2017-04-24T21:43:27.175Z"}
{"msg":"Has joined the channel.","username":"tennenjl","ts":"2017-04-25T14:51:41.355Z","type":"uj"}
{"msg":"My apologies if this has already been asked before, if a bad actor modifies the state of an asset in levelDB or couchDB, and a query is later done against that asset, is there anything that is done to detect tampering?  I get that it would be detected if we were doing a transaction, but what about queries?  Thanks!","username":"tennenjl","ts":"2017-04-25T15:12:43.214Z"}
{"msg":"@tennenjl You would have to do what we call a 'strong query', which means query multiple peers and ensure you get the same results from each.  There has been talk of adding explicit verification function in the future, for example re-calculating the hashes and ensure they still sync up and that the chain data is still in sync with state db data.","username":"dave.enyeart","ts":"2017-04-25T18:43:01.047Z"}
{"msg":"@dave.enyeart awesome, we were wondering about the multiple query approach.  Guessing that the explicit verification function could be an option where performance is a determining factor","username":"tennenjl","ts":"2017-04-25T18:44:50.893Z"}
{"msg":"I hope that I am asking at a right channel. If not, please redirect me to a right place: I was curious if anyone tested a query of historical data from block 1 until the world state from, let's say, a ledger composed of hundreds of thousands of blocks. This would be a typical task of an auditor, and a very frequent one. Is the historical state of an asset written into the ledger queried block per block, straight from a ledger copy or are there any other methods to do so? I am curious if this operation is read-intensive so that it would have to be off-loaded to an external (i.e. non-blockchain) repository, such as a ledger replica on a conventional DB.","username":"matanyahu","ts":"2017-04-25T19:03:10.115Z"}
{"msg":"@matanyahu Which APIs specifically are you asking about? Most of the queries hit efficient indexes rather than scanning all blocks.  For example GetHistoryForKey() internally hits an index to find which blocks have updated a certain key.  And then only those blocks are parsed to return the historical values.","username":"dave.enyeart","ts":"2017-04-25T19:49:54.046Z"}
{"msg":"@dave.enyeart : thanks for this tip. So I assume GetHistoryForKey() would only be available through HFC SDK?","username":"matanyahu","ts":"2017-04-25T19:51:53.372Z"}
{"msg":"APIs like GetHistoryForKey() are available to call in chaincode. The chaincode would be called via standard proposal invoke from an application client (likely using an SDK).","username":"dave.enyeart","ts":"2017-04-25T20:56:29.754Z"}
{"msg":"Has joined the channel.","username":"rangak","ts":"2017-04-26T04:07:09.266Z","type":"uj"}
{"msg":"I would like to know if there are any ways to migrate data from an existing ledger to another ledger, both being absolutely unrelated to each other?","username":"matanyahu","ts":"2017-04-26T08:52:50.323Z"}
{"msg":"let's say, I started on a Blockchain on Bluemix instance (0.6) and I set up an instance in my local datacentre","username":"matanyahu","ts":"2017-04-26T08:53:15.786Z"}
{"msg":"and I do not want to start from scratch","username":"matanyahu","ts":"2017-04-26T08:53:23.998Z"}
{"msg":"hello everybody, is there a way to decrypt the transactions stored in the ledger ?","username":"dorrakhribi","ts":"2017-04-26T10:25:49.290Z"}
{"msg":"Has joined the channel.","username":"hayato","ts":"2017-04-26T10:44:22.790Z","type":"uj"}
{"msg":"I have some init methods in my chaincode that create users/assets on the ledger. These methods have checks that make sure an asset cannot be assigned to a user that does not exist. My issue is that even though my user is created before the asset is assigned, I receive an error telling me that the user is not found. This same method works later when called from the SDK. Is this by design?","username":"pd93","ts":"2017-04-26T11:30:07.942Z"}
{"msg":"@pd93 yes this is by design.  Reads always come from committed state.  If you write previously in the same tran it is not committed and therefore not read.","username":"dave.enyeart","ts":"2017-04-26T12:05:01.995Z"}
{"msg":"@dave.enyeart Thanks. I suspected this was the case, so I tried removing those methods from my `Init()` and running them separately. Each with their own invoke call. Unfortunately, this still didn't work. Does the above also hold true for transactions in the same block?","username":"pd93","ts":"2017-04-26T12:24:13.490Z"}
{"msg":"@pd93 Yes it does, if two trans are in the same block then by definition the first won't be committed.  A block gets committed as a unit.  Even if the first tran is in prior block it doesn't guarantee it... blocks may take some time (seconds) to get committed across the network.  If you are setting the users during init, then you obviously know the users already and can perform your validation check in chaincode rather than reading from state.","username":"dave.enyeart","ts":"2017-04-26T13:01:54.114Z"}
{"msg":"@dave.enyeart Ok great :) thanks. That makes a lot of sense now. So I basically have to disable my validation checks when setting everything up initially","username":"pd93","ts":"2017-04-26T13:03:59.866Z"}
{"msg":"@dave.enyeart Hey, I've worked around my previous issue by adding a `validate` flag to my 'constructors'. The only place I'm still seeing this error is in my cron job. I've used the go cron library to update a certain state on the ledger every minute. However, the function (job) is still returning `User does not exist` as if it were being run during `Init()`. Do you foresee any issues with the cron library? or is this likely something to do with my code","username":"pd93","ts":"2017-04-26T14:34:17.313Z"}
{"msg":"@pd93 assuming the cron is outside of the chaincode (invokes the chaincode), i see no problem with that design.  just be aware if a cron tran and a regular tran read the same data and overlap in time, that whoever gets ordered later will get invalidated","username":"dave.enyeart","ts":"2017-04-26T14:42:13.258Z"}
{"msg":"@pd93 assuming the cron is outside of the chaincode (invokes the chaincode), i see no problem with that design.  just be aware if a cron tran and a regular tran read the same data and overlap in time, that whoever gets ordered later will get invalidated upon validate/commit phase","username":"dave.enyeart","ts":"2017-04-26T14:42:13.258Z"}
{"msg":"I was actually trying to use the go cron library and vendor it within my chaincode (so it's not invoked at all, but rather runs by itself) - is this possible? (it seems to run the cron job just fine... it's just that it seems to think that the user doesn't exist - when it does) see go cron here: https://godoc.org/gopkg.in/robfig/cron.v2","username":"pd93","ts":"2017-04-26T14:44:10.416Z"}
{"msg":"I was actually trying to use the go cron library and vendor it within my chaincode (so it's not invoked at all, but rather runs by itself) - is this possible? (it seems to run the cron job just fine... it's just that it seems to think that the user doesn't exist - when it does). See go cron here: https://godoc.org/gopkg.in/robfig/cron.v2","username":"pd93","ts":"2017-04-26T14:44:10.416Z"}
{"msg":"if it is run within the chaincode then it would be in the same tran context and you would see the issue","username":"dave.enyeart","ts":"2017-04-26T14:44:57.707Z"}
{"msg":"chaincode execution should not be long running","username":"dave.enyeart","ts":"2017-04-26T14:45:12.682Z"}
{"msg":"there are timeouts and locking that would nullify that design","username":"dave.enyeart","ts":"2017-04-26T14:45:32.865Z"}
{"msg":"Ahhh ok. So cron inside the chaincode is a bad idea. Got it","username":"pd93","ts":"2017-04-26T14:45:40.015Z"}
{"msg":"Thanks again","username":"pd93","ts":"2017-04-26T14:45:57.289Z"}
{"msg":"np","username":"dave.enyeart","ts":"2017-04-26T14:46:02.966Z"}
{"msg":"@dave.enyeart I've fixed this issue now, but just out of curiosity. Would it be feasible to have a second chaincode that just runs the cron code and calls back to the first chaincode to update the ledger state?","username":"pd93","ts":"2017-04-26T17:28:07.165Z"}
{"msg":"no - chaincode2chaincode still acts like a normal (short lived) transaction.  it's just that the there will be two RWSets that get verified/committed","username":"dave.enyeart","ts":"2017-04-26T17:36:49.934Z"}
{"msg":"@pd93 no - chaincode2chaincode still acts like a normal (short lived) transaction.  it's just that the there will be two RWSets that get verified/committed","username":"dave.enyeart","ts":"2017-04-26T17:36:49.934Z"}
{"msg":"@dave.enyeart Hmm ok. That's a shame. It'd be nice if there was a way to run scheduled/maintenance tasks from within the chaincode in the future. I like the idea of that sort of thing being self contained rather than an external app/cli having to invoke it.","username":"pd93","ts":"2017-04-26T17:39:20.202Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JnGmRmB9Za9SsqdNQ) @dave.enyeart Dave, Sorry going back to Global Ledger question. Just wanted to understand what is the rational behind not having global ledger similar to what Quorum has. Global Ledger would allow public and private transaction. Private transactions can be only visible to participants to the transaction and rest can see only hash. With current private channel and ledger, if two participants are hosting 2 nodes and one node goes down, why would it trust ledger residing on other node.","username":"nhrishi","ts":"2017-04-26T19:26:39.971Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JnGmRmB9Za9SsqdNQ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JnGmRmB9Za9SsqdNQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@binhn Can you refresh us on why there is no 'global channel'.  Is it possible to include 'all members' on a channel, which would essentially be the same as a global channel?","username":"dave.enyeart","ts":"2017-04-26T21:03:42.812Z"}
{"msg":"I guess because you do not want to disclose a single evidence of transactions between certain parties. @dave.enyeart ","username":"C0rWin","ts":"2017-04-26T21:07:53.621Z"}
{"msg":"right, that is the main motivation for channels.  But a default public 'global channel' was considered and decided against.  I assume this was because a regular channel with all members could serve the same purpose just as easily.","username":"dave.enyeart","ts":"2017-04-26T21:09:46.504Z"}
{"msg":"you might be referring to the identity channel?","username":"C0rWin","ts":"2017-04-26T21:11:43.181Z"}
{"msg":"that is the orderer 'global channel'?  there was also a peer 'global channel' considered","username":"dave.enyeart","ts":"2017-04-26T21:12:30.984Z"}
{"msg":"for what purpose?","username":"C0rWin","ts":"2017-04-26T21:13:49.305Z"}
{"msg":"@dave.enyeart right, we decided not to create a default global channel and leave that to the application as some use-cases, members don't want to be known by all others","username":"binhn","ts":"2017-04-26T21:43:46.333Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ttSHGjdPYS5QbDoBc) @binhn Thanks. But Global channel ledger would not include private transactions from channel shared by 2 parties. Correct? Lets say this private transaction is done between 2 parties A & B on their private channel and the party A loses ledger (node crash), party B can say the transaction didn't exist. Having this transaction on the global ledger (with hash of the payload), all  other parties has record of transaction and hence party B can't deny existance of the transaction.All other parties can see the transaction happened between party A and B but are not aware of what was the transaction about. ","username":"nhrishi","ts":"2017-04-27T01:59:27.468Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ttSHGjdPYS5QbDoBc","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ttSHGjdPYS5QbDoBc","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"LoveshHarchandani","ts":"2017-04-27T06:45:08.402Z","type":"uj"}
{"msg":"@nhrishi With fabric design you can optionally create a 'global channel' and optionally post such hash to global channel.  But it is not compulsory - in some scenarios you dont want everybody to know existence of the tran, in some scenarios you do.","username":"dave.enyeart","ts":"2017-04-27T11:01:48.792Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=dkx6Hz7EXx4nffYWo) @nhrishi Assuming that in permissioned setup ordering service is the core of trust, you will still have a copy of the transaction in the ordering service.","username":"C0rWin","ts":"2017-04-27T11:04:04.216Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dkx6Hz7EXx4nffYWo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dkx6Hz7EXx4nffYWo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"and therefore party B would be able to deny","username":"C0rWin","ts":"2017-04-27T11:04:42.607Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=dwvTskrf4bDcEbMYj) @dave.enyeart Okay. That's great. Completely agree, it should be optional. And good to hear that private transaction can be posted to global channel with hash.","username":"nhrishi","ts":"2017-04-27T13:30:47.031Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dwvTskrf4bDcEbMYj","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dwvTskrf4bDcEbMYj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bMRNGteXu4mooe8qi) @C0rWin Yes, that's another option as well.","username":"nhrishi","ts":"2017-04-27T13:32:17.619Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bMRNGteXu4mooe8qi","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bMRNGteXu4mooe8qi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thanks @dave.enyeart @binhn @C0rWin  for clarifications.","username":"nhrishi","ts":"2017-04-27T13:32:39.304Z"}
{"msg":"Has joined the channel.","username":"wsh_bob","ts":"2017-04-28T08:10:08.243Z","type":"uj"}
{"msg":" hello, i'm trying to run the fabric sdk but i keep getting the following error:\"failed to get a new tcert\" can ony one help me please ? ","username":"dorrakhribi","ts":"2017-04-28T08:37:12.527Z"}
{"msg":"I'd suggest post a fabric sdk question to #fabric-sdk :)","username":"dave.enyeart","ts":"2017-04-28T11:22:59.223Z"}
{"msg":"Has joined the channel.","username":"vugranam","ts":"2017-04-28T12:14:20.624Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mffrench","ts":"2017-04-28T13:38:56.240Z","type":"uj"}
{"msg":"Hi,\n\n```\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x10 pc=0xaadd06]\n\ngoroutine 1 [running]:\npanic(0xc70aa0, 0xc420010060)\n\t/opt/go/src/runtime/panic.go:500 +0x1a1\ngithub.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchInstance).handleRequest(0xc4201319a0, 0xd53b79, 0x3, 0xc420226480, 0x17, 0x0, 0x0, 0x0, 0x0, 0x0, ...)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:1265 +0xad6\ngithub.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchInstance).VerifyConnection(0xc4201319a0, 0x0, 0x0, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:337 +0x15d\ngithub.com/hyperledger/fabric/core/ledger/util/couchdb.CreateCouchInstance(0xc42000c06f, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xc4201ce9f0, ...)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdbutil.go:44 +0x245\ngithub.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.NewVersionedDBProvider(0xc4201ce9f0, 0xc4202064d0, 0x1)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:59 +0xc1\ngithub.com/hyperledger/fabric/core/ledger/kvledger.NewProvider(0xc689e0, 0x0, 0xc42021f4d0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:90 +0x2bf\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize()\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:59 +0x14e\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:49 +0x14\nsync.(*Once).Do(0x13b4dd0, 0xdd76a8)\n\t/opt/go/src/sync/once.go:44 +0xdb\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize()\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:50 +0x39\ngithub.com/hyperledger/fabric/peer/node.serve(0xc4202366c0, 0x0, 0x1, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:95 +0x74\ngithub.com/hyperledger/fabric/peer/node.glob..func1(0x135d900, 0xc4202366c0, 0x0, 0x1, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:83 +0x3f\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x135d900, 0xc4202366a0, 0x1, 0x1, 0x135d900, 0xc4202366a0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 +0x234\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x135e180, 0xf, 0xc4200120f5, 0x4)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 +0x367\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x135e180, 0x2b, 0xc4200120f5)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 +0x2b\nmain.main()\n\t/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:110 +0x545\n```\n\nI just catched some SIGSEGV from peer (git rev `b2a2b3b11481438639bf27ed10b99e490dd23b8c`) with CouchDB connection.","username":"mffrench","ts":"2017-04-28T13:39:40.013Z"}
{"msg":"Would like to know if you were already aware of this issue (and if yes if there is some correction on some other revision) or if I need to raise some bug on Jira ?","username":"mffrench","ts":"2017-04-28T13:40:03.681Z"}
{"msg":"Has joined the channel.","username":"npnjuguna","ts":"2017-04-29T05:02:31.185Z","type":"uj"}
{"msg":"Has joined the channel.","username":"anistark","ts":"2017-04-29T18:22:30.928Z","type":"uj"}
{"msg":"Trying to join a channel on the latest build but getting the following error on the orderer:\n\n`Rejecting CONFIG_UPDATE because: Config update for channel creation does not set application group version to 1, was 0`","username":"passkit","ts":"2017-04-30T10:37:36.407Z"}
{"msg":"I know that there have been lots of changes in the config over the past few days, but I cannot see what I could be missing.","username":"passkit","ts":"2017-04-30T10:38:45.801Z"}
{"msg":"Worked my way through the above which was caused by a corrupt config file. ","username":"passkit","ts":"2017-04-30T12:33:07.518Z"}
{"msg":"Now I have an issue creating a channel.  I am following the e2e example formats as best I can (the links to the tar bundle in the docs are broken).   Here the orderer channel has a key 'consortiums:' with an array of consortiums and organisations.  The peer channel has a key of 'consortium:' which refers to an item created on the orderer.  However, when I try to create a peer channel, I get this panic because it appears to be looking for an array:\n\n```\n2017-04-30 13:36:38.947 UTC [orderer/configupdate] Process -> DEBU 0d6 Processing channel creation request for channel testing\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x8ca1f5]\n\ngoroutine 57 [running]:\ngithub.com/hyperledger/fabric/common/config.(*ConsortiumsGroup).Consortiums(0x0, 0x1110700)\n\t<autogenerated>:135 +0x5\ngithub.com/hyperledger/fabric/orderer/multichain.(*multiLedger).NewChannelConfig(0xc42031d1d0, 0xc420459ce0, 0x2, 0xc420383100, 0x0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:245 +0x647\nmain.(*configUpdateSupport).NewChannelConfig(0xc42036c8d0, 0xc420459ce0, 0x11492a0, 0xc4201cbab0, 0x7371d0, 0xc4201bf260)\n\t<autogenerated>:1 +0x53\ngithub.com/hyperledger/fabric/orderer/configupdate.(*Processor).newChannelConfig(0xc420367340, 0xc42004f9b0, 0x7, 0xc420459ce0, 0x1, 0x1, 0xc420014c30)\n\t/go/src/github.com/hyperledger/fabric/orderer/configupdate/configupdate.go:134 +0x45\ngithub.com/hyperledger/fabric/orderer/configupdate.(*Processor).Process(0xc420367340, 0xc420459ce0, 0x0, 0x0, 0xc42004f900)\n\t/go/src/github.com/hyperledger/fabric/orderer/configupdate/configupdate.go:117 +0x2d7\nmain.(*broadcastSupport).Process(0xc42036ee00, 0xc420459ce0, 0x1b, 0x0, 0x0)\n\t<autogenerated>:8 +0x54\ngithub.com/hyperledger/fabric/orderer/common/broadcast.(*handlerImpl).Handle(0xc42036c8e0, 0x11206c0, 0xc42004f780, 0x0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/orderer/common/broadcast/broadcast.go:111 +0x932\nmain.(*server).Broadcast(0xc42036ee20, 0x11206c0, 0xc42004f780, 0x1116c40, 0xc42036ee20)\n\t/go/src/github.com/hyperledger/fabric/orderer/server.go:75 +0x8b\ngithub.com/hyperledger/fabric/protos/orderer._AtomicBroadcast_Broadcast_Handler(0xac8d20, 0xc42036ee20, 0x111ee00, 0xc420382d80, 0x7f9e6d3e74b0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:523 +0xb7\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc420105200, 0x111fdc0, 0xc4201f70e0, 0xc4203443c0, 0xc420219050, 0x11068e0, 0xc420459c80, 0x0, 0x0)\n\t/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:657 +0x687\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc420105200, 0x111fdc0, 0xc4201f70e0, 0xc4203443c0, 0xc420459c80)\n\t/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:741 +0x11fa\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc42036d200, 0xc420105200, 0x111fdc0, 0xc4201f70e0, 0xc4203443c0)\n\t/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:402 +0xa9\ncreated by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1\n\t/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:403 +0xa1\n```","username":"passkit","ts":"2017-04-30T13:40:25.998Z"}
{"msg":"@passkit  this looks like an issue for #fabric-consensus , not this channel","username":"yacovm","ts":"2017-04-30T14:38:24.057Z"}
{"msg":"@yacovm thanks - I have got it working now from working through the new e2e scripts - but still unable to deploy chaincode.  ","username":"passkit","ts":"2017-04-30T16:34:28.472Z"}
{"msg":"Has joined the channel.","username":"Lakshmipadmaja","ts":"2017-05-02T05:00:06.682Z","type":"uj"}
{"msg":"Is any updated doc or tutorial to use CouchDB?","username":"FenglianXu","ts":"2017-05-02T16:18:41.637Z"}
{"msg":"You can look at the marbles example","username":"berserkr","ts":"2017-05-02T17:14:18.304Z"}
{"msg":"it shows you how to use couch","username":"berserkr","ts":"2017-05-02T17:14:22.608Z"}
{"msg":"e2e also has something along the lines","username":"berserkr","ts":"2017-05-02T17:14:32.174Z"}
{"msg":"@FenglianXu Take a look at https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst towards the bottom it explains how to use couchdb","username":"berserkr","ts":"2017-05-02T18:12:22.784Z"}
{"msg":"Thank you, I will try this one tomorrow. Will look for some help from you during my test","username":"FenglianXu","ts":"2017-05-02T21:39:32.897Z"}
{"msg":"Question:\n1. If I want to persist file-system of the orderer across restart; do I need to volume mount only /var/hyperledger/production?\n\n2. I am using e2e cli from fabric repository and even after setting ` ORDERER_LEDGER_TYPE=file ` in the docker composer file, I see print of ramledger. How can I set use fileledger?\n\nI don't see anything in confgtx.yaml that can set the ledger-type however orderer.yaml is set to ram. Does it mean since I don't set in genesis block; it takes default form orderer.yaml and the docker-environment variable is not referred (just a guess?) ","username":"rahulhegde","ts":"2017-05-02T22:13:15.741Z"}
{"msg":"@rahulhegde I think the folks over on #fabric-consensus could help, could you post over there?","username":"dave.enyeart","ts":"2017-05-03T22:29:33.553Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=3n4Y6tYXgZPnD6pin) @dave.enyeart yup got a response from kostas on thr said channel, working​ with him.","username":"rahulhegde","ts":"2017-05-04T00:17:36.786Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3n4Y6tYXgZPnD6pin","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3n4Y6tYXgZPnD6pin","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"himansri","ts":"2017-05-04T11:28:08.880Z","type":"uj"}
{"msg":"Has joined the channel.","username":"William.Z","ts":"2017-05-04T13:04:31.159Z","type":"uj"}
{"msg":"Has joined the channel.","username":"FengChen_1982","ts":"2017-05-05T09:54:29.562Z","type":"uj"}
{"msg":"What is recommended way to store structure data in the ledger like {A: {k1: 2, k2: 3, k3: {time: 1928, status: 123}}}? Should I serialize the whole data part into a json string and then bytes and deserailize them whenever I need to some k1, k2 of it?","username":"FengChen_1982","ts":"2017-05-05T09:57:24.851Z"}
{"msg":"Has joined the channel.","username":"smithbk","ts":"2017-05-05T12:57:26.118Z","type":"uj"}
{"msg":"@FengChen_1982 For structured data we recommend JSON format.  As an added benefit this will also enable query when using couchdb statedb.  For a sample please see https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/marbles02/marbles_chaincode.go","username":"dave.enyeart","ts":"2017-05-05T13:04:26.728Z"}
{"msg":"OK, that's really great!","username":"FengChen_1982","ts":"2017-05-05T13:08:34.824Z"}
{"msg":"And what is a \"composite key\"?","username":"FengChen_1982","ts":"2017-05-05T13:08:59.415Z"}
{"msg":"I cannot find a precise defination","username":"FengChen_1982","ts":"2017-05-05T13:25:25.060Z"}
{"msg":"Has  anyone seen this issue?   ERROR: The Compose file './docker-compose.yml' is invalid because:\nUnsupported config option for services.peer0: 'couchdb1'\n","username":"FenglianXu","ts":"2017-05-05T14:05:46.139Z"}
{"msg":"Has joined the channel.","username":"vijaygopal","ts":"2017-05-06T17:13:48.227Z","type":"uj"}
{"msg":"Error: proposal failed (err: rpc error: code = 2 desc = Block number should have been 3 but was 0)","username":"vijaygopal","ts":"2017-05-06T17:14:10.694Z"}
{"msg":"Has anyone faced this issue ?","username":"vijaygopal","ts":"2017-05-06T17:14:22.450Z"}
{"msg":"I am trying to setup Hyperledger Fabric network using this tutorial http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html?cm_mc_uid=10430795090714934358737&cm_mc_sid_50200000=1494087517","username":"vijaygopal","ts":"2017-05-06T17:15:07.100Z"}
{"msg":"Has joined the channel.","username":"stu2","ts":"2017-05-07T21:54:25.549Z","type":"uj"}
{"msg":"@dave.enyeart  here are examples of using peer and curl to query data from couchDB","username":"FenglianXu","ts":"2017-05-08T15:28:21.895Z"}
{"msg":"peer chaincode query -C myc1 -n marbles -c '{\"Args\":[\"queryMarblesByOwner\",\"tom\"]}'","username":"FenglianXu","ts":"2017-05-08T15:29:17.455Z"}
{"msg":"marbles02 has sample queries","username":"dave.enyeart","ts":"2017-05-08T15:29:23.465Z"}
{"msg":"With above example, I have an issue to run peer command","username":"FenglianXu","ts":"2017-05-08T15:29:51.960Z"}
{"msg":"example command line statements in Using CouchDB section: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst","username":"dave.enyeart","ts":"2017-05-08T15:30:37.881Z"}
{"msg":"Has joined the channel.","username":"d8bhatta","ts":"2017-05-08T16:39:08.364Z","type":"uj"}
{"msg":"I have curiosity how blockchain stores information. Lets take anexample of supply chain of dimond, diamond extractor extract diamonds, and go through several wholesalers and retailers, finally on customer hand. if somebody wants to track this supply chain procedure, is blockchain capable to store extractor, wholesalers, retailers information, his price in blockchain hyperledegr? If yes, how such information gets stored in hyperledger fabric?","username":"d8bhatta","ts":"2017-05-08T16:39:39.489Z"}
{"msg":"Has joined the channel.","username":"amber-zhang","ts":"2017-05-09T00:52:48.970Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mutexing","ts":"2017-05-09T04:36:12.470Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jchenibm","ts":"2017-05-09T13:41:01.987Z","type":"uj"}
{"msg":"@d8bhatta It is up to the chaincode how exactly to model the data.  You could model each diamond as a key with associated parameters (e.g. json) such as diamond attributes, current ownerid, last transaction price, etc.  Then chaincode transactions would alter the state of the key (diamond) to indicate current owner and transaction price.  Finally, it would be possible to query current state and history of states using chaincode apis such as GetHistoryForKey().","username":"dave.enyeart","ts":"2017-05-09T15:32:39.904Z"}
{"msg":"Thank @dave.enyeart ","username":"d8bhatta","ts":"2017-05-09T15:33:32.670Z"}
{"msg":"@here Where can we define the blocksize, blockheight,..etc..Also, is there any example that shows sample policies (SignedPolicy,Implicit) and how and where to configure..","username":"bkvellanki","ts":"2017-05-09T16:33:32.011Z"}
{"msg":"Has joined the channel.","username":"RanjanBanerjee","ts":"2017-05-09T17:10:34.189Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jordipainan","ts":"2017-05-10T08:12:51.196Z","type":"uj"}
{"msg":"@dave.enyeart I am using curl to query a data using selector, but it does not give me the expected.  Below is an example,  is anything missing here?","username":"FenglianXu","ts":"2017-05-10T14:39:12.781Z"}
{"msg":"curl -H 'Content-Type: application/json' -X GET http://127.0.0.1:5984/mychannel -d '{\"selector\" : {\"doc.data.email.\": \"fenglian\"}, \"fields\":[\"doc.chaincodeid\", \"doc.data.email\", \"_id\", \"_rev\"}'\n{\"db_name\":\"mychannel\",\"update_seq\":\"73-g1AAAAEzeJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjMlMiTJ____PyuRFYeCJAUgmWQPVsOOS40DSE08WA0nLjUJIDX1YDXcONTksQBJhgYgBVQ2n5C6BRB1-3G7C6LuAETd_axEHrzqHkDUgdyXBQCrtGM_\",\"sizes\":{\"file\":378336,\"external\":65007,\"active\":76963},\"purge_seq\":0,\"other\":{\"data_size\":65007},\"doc_del_count\":0,\"doc_count\":70,\"disk_size\":378336,\"disk_format_version\":6,\"data_size\":76963,\"compact_running\":false,\"instance_start_time\":\"0\"}\n","username":"FenglianXu","ts":"2017-05-10T14:43:42.873Z"}
{"msg":"why do I get an encoded data with additional information?","username":"FenglianXu","ts":"2017-05-10T14:45:18.473Z"}
{"msg":"@FenglianXu You are doing GET /db.  You need to do POST /db/_find","username":"dave.enyeart","ts":"2017-05-10T16:40:56.469Z"}
{"msg":"http://docs.couchdb.org/en/2.0.0/api/database/find.html","username":"dave.enyeart","ts":"2017-05-10T16:40:59.061Z"}
{"msg":"@dave.enyeart  Thanks and I have just noticed that as well","username":"FenglianXu","ts":"2017-05-10T16:41:47.587Z"}
{"msg":"it turns out I need POST with /db/_find command","username":"FenglianXu","ts":"2017-05-10T16:42:35.436Z"}
{"msg":"Has joined the channel.","username":"KentLandholm","ts":"2017-05-10T19:13:12.851Z","type":"uj"}
{"msg":"@dave.enyeart What is the command for query in a peer docker?  what's issue with below peer command for a general query?","username":"FenglianXu","ts":"2017-05-10T21:58:42.338Z"}
{"msg":" peer chaincode query -C mychannel -n vehicle-lifecycle-network -c '{\"Args\":[\"query\",\"{\\\"selector\\\":{\\\"data.owner\\\":\\\"resource:org.acme.vehicle.lifecycle.PrivateOwner#dan\\\"}}\"]}'\nError: Error endorsing query: rpc error: code = 2 desc = Error: Could not determine the participant for identity 'peerOrg1Peer1'. The identity may be invalid or may have been revoked.\nUsage:\n  peer chaincode query [flags]\n","username":"FenglianXu","ts":"2017-05-10T21:58:45.705Z"}
{"msg":"@FenglianXu  The command looks ok, I expect it is the crypto setup.  I would recommend following the getting started example exactly to ensure your crypto setup and env are good: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst","username":"dave.enyeart","ts":"2017-05-11T03:17:14.368Z"}
{"msg":"If the issue remains the folks over on #fabric-crypto could likely help","username":"dave.enyeart","ts":"2017-05-11T03:17:41.249Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric-maintainers?msg=Q9WpaStPRvbe2Pueo","username":"muralisr","ts":"2017-05-11T12:08:54.857Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-maintainers?msg=Q9WpaStPRvbe2Pueo","url":"https://chat.hyperledger.org/channel/fabric-maintainers?msg=Q9WpaStPRvbe2Pueo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@kelvinzhong what exactly do you want to query?  if you want to query current state data, then you can do that within chaincode.  there is GetStateByRange() and you can add a key range or leave it open-ended if you want to retrieve all keys.","username":"dave.enyeart","ts":"2017-05-11T13:37:48.529Z"}
{"msg":"Has joined the channel.","username":"kelvinzhong","ts":"2017-05-11T13:37:48.609Z","type":"uj"}
{"msg":"@here Do we have a function in the shim to get the user attributes like similar to getUserAffiliates() in 0.6. The key reason for this is to restrict the user to perform only reads or writes based on the Role. Is see that we have them hfc sdk (getAffiliates, getSigningEntity, etc) and i think HFC fabric communicates with the Fabric CA to get the details. Is there any way to restrict the user in the chaincode to perforn only certian operations","username":"bkvellanki","ts":"2017-05-11T14:29:46.285Z"}
{"msg":"Has joined the channel.","username":"webdaford","ts":"2017-05-11T18:57:26.898Z","type":"uj"}
{"msg":"Hi very basic few questions :\n1. I know there are multi channels in v1.0, question is how many chain can be created in a channel?\n2. Is the client defined key/value store tied or associate to a chain or channel?\n3. How many client key/value store can be defined in a chain/channel?","username":"l1nux","ts":"2017-05-11T19:35:37.194Z"}
{"msg":"@bkvellanki I posted your question to #fabric-crypto ","username":"dave.enyeart","ts":"2017-05-11T19:37:21.728Z"}
{"msg":"@l1nux You can think of channel and chain as the same thing.  There is one chain per channel.","username":"dave.enyeart","ts":"2017-05-11T19:38:06.377Z"}
{"msg":"The channel gets initiated with the chain's genesis block","username":"dave.enyeart","ts":"2017-05-11T19:38:40.356Z"}
{"msg":"The number of keys/values is only bound by physical resources","username":"dave.enyeart","ts":"2017-05-11T19:39:19.255Z"}
{"msg":"The number of keys/values in a chain is only bound by physical resources","username":"dave.enyeart","ts":"2017-05-11T19:39:19.255Z"}
{"msg":"The number of keys/values in a chain is only bound by physical resources (disk space)","username":"dave.enyeart","ts":"2017-05-11T19:39:19.255Z"}
{"msg":"@DE let me clarify my question regarding the key/value store, I didn't mean the total size of the key/value data, I meant how many 'store' for a channel.  So far I have dealt with just one store, but my colleague told me to define another store in an existing channel hence I wanted to double check.","username":"l1nux","ts":"2017-05-11T19:43:49.514Z"}
{"msg":"Not sure what you mean by 'store'.  For each channel there is one 'ledger' which consists of one 'chain' and one 'state database'.  I suggest review the ledger overview material here:","username":"dave.enyeart","ts":"2017-05-11T19:48:25.315Z"}
{"msg":"Ledger Overview charts attached to https://jira.hyperledger.org/browse/FAB-758\nLedger Overview doc https://hyperledger-fabric.readthedocs.io/en/latest/ledger.html","username":"dave.enyeart","ts":"2017-05-11T19:48:28.157Z"}
{"msg":"@DE I meant the KeyValuStore interface to store application persistence data defined in the fabric sdk , again question is how many such store one can have for a channel?","username":"l1nux","ts":"2017-05-11T20:01:45.068Z"}
{"msg":"@thanks dave","username":"bkvellanki","ts":"2017-05-11T20:08:49.922Z"}
{"msg":"@l1nux ah, since you were posting on fabric-ledger I assumed you were talking about ledger key/value store where chaincode keys are stored.  For questions about the sdk KeyValueStore to store user credentials, please post your question to #fabric-sdk ","username":"dave.enyeart","ts":"2017-05-11T20:51:13.572Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=WedvyHXYJymDasvAB) @dave.enyeart well, to use getStateByRange indeed i could retrieve all keys, but it could not done in incremental, i need to scan whole state database to make sure all keys are checked if there is an update, but to query the block i could keep the block height and retrieve the new blocks then i could maintain all keys are checked.","username":"kelvinzhong","ts":"2017-05-12T02:10:57.651Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=WedvyHXYJymDasvAB","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=WedvyHXYJymDasvAB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"i have create a New Feature in JIRA, hope it could be done XD","username":"kelvinzhong","ts":"2017-05-12T02:36:01.201Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-3884","username":"kelvinzhong","ts":"2017-05-12T02:36:06.700Z"}
{"msg":"@kelvinzhong Could you clarify a few things in the Jira item Description.  Are you querying only current state or also historical state?  If you query blocks I assume you are interested in the transaction write sets to see which keys were written?  When you look at the block write sets how do you intend to detect if the prior written key is still valid or outdated? If you do incremental scans against state database, isnt there a chance you will miss some data that gets added between increments? Please be precise in defining exactly what you'd like the solution to provide. It sounds like you want to query current state outside of chaincode, but not sure.","username":"dave.enyeart","ts":"2017-05-12T02:47:53.746Z"}
{"msg":"@dave.enyeart  In one scenario we currently have done, we would like to scan whole datas and cache it in like mongodb to provide more query features or analysis the data, so we need to know all states include the historical state, for example, if a value is store a contract between A and B, if the contract is changed, it must be outlined, and both A and B have the right to view the history contract. Also in real practice, we might not only store the data in fabric as no one could guarantee the reliability, so might store a copy in mysql or else, then keep compare the total record nums whether is the same.","username":"kelvinzhong","ts":"2017-05-12T03:05:42.484Z"}
{"msg":"“If you do incremental scans against state database, isnt there a chance you will miss some data that gets added between increments?” i'm not scan the state database but the ledger","username":"kelvinzhong","ts":"2017-05-12T03:19:57.528Z"}
{"msg":"@kelvinzhong Ok, In FAB-3884 description I understand the 1st and 3rd paragraph.  But I can't make sense of the 2nd paragraph yet.  Could you clarify that paragraph.  I think I understand your intent now.  You need to scan through all block transactions and look at all write sets, and perhaps build an external database from the results. But doing it one block at a time is too inefficient.  So again, what exactly are you looking for?  Perhaps a way to get a range of blocks to make it more efficient? For example get blocks 1-100, then 101-200, etc? ","username":"dave.enyeart","ts":"2017-05-12T10:39:41.233Z"}
{"msg":"@kelvinzhong Ok, In FAB-3884 description I understand the 1st and 3rd paragraph.  But I can't make sense of the 2nd paragraph yet.  Could you clarify that paragraph.  I think I understand your intent now.  You need to scan through all block transactions and look at all write sets, and perhaps build an external database from the results. But doing it one block at a time is too inefficient.  So again, what exactly are you looking for?  Perhaps a way to get a range of blocks in batches to make it more efficient? For example get blocks 1-100, then 101-200, etc? ","username":"dave.enyeart","ts":"2017-05-12T10:39:41.233Z"}
{"msg":"Has joined the channel.","username":"MohammadObaid","ts":"2017-05-12T13:26:12.089Z","type":"uj"}
{"msg":"yes, get blocks 1-100, the api likes chain.getBlocksByRange(long startHeight, long endHeight) ","username":"kelvinzhong","ts":"2017-05-12T14:48:12.398Z"}
{"msg":"the 2nd paragraph says,if we have key A1and A3 in the state database, and range query by the chaincode to retrieve those two key and cache in mongodb. Now we put a new key A2 into the state database, we still need to range query and retrieve all three keys to know there is a new key A2 is updated into the state database, as we not always could get the event to know new keys is set into the state database, the event is not strong reliability. on the other hand, if we query to the ledger, first time we retrieve two blocks from the ledger to get A1 and A3, then we could save the current retrieved block height is 2, now the block height increase to 3, we only need to query the third block to get A2 and update the current retrieved block height to 3","username":"kelvinzhong","ts":"2017-05-12T15:11:46.850Z"}
{"msg":"the idea is simple, but seems not so easy to clarify it by words, hope you could understand my example @dave.enyeart ","username":"kelvinzhong","ts":"2017-05-12T15:13:57.369Z"}
{"msg":"@kelvinzhong I've clarified the jira item accordingly.  good idea.","username":"dave.enyeart","ts":"2017-05-12T15:31:51.809Z"}
{"msg":"lol, okay thx","username":"kelvinzhong","ts":"2017-05-12T15:37:13.199Z"}
{"msg":"Has joined the channel.","username":"cauep","ts":"2017-05-12T19:47:02.454Z","type":"uj"}
{"msg":"does anyone know if CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS is used anywhere within the fabric code?","username":"berserkr","ts":"2017-05-15T00:40:06.138Z"}
{"msg":"I am unable to find where it is being used","username":"berserkr","ts":"2017-05-15T00:40:11.616Z"}
{"msg":"just in the yaml files","username":"berserkr","ts":"2017-05-15T00:40:22.632Z"}
{"msg":"@berserkr  https://github.com/hyperledger/fabric/blob/master/core/ledger/util/couchdb/config.go#L38","username":"xixuejia","ts":"2017-05-15T07:03:56.730Z"}
{"msg":"can we call one chaincode from another..Lets say there is a billing department and accounting department, accounting department can have reference to billing department. Can we have two CC's separate where one cc can query another an get the values. In this case billing and accounting","username":"bkvellanki","ts":"2017-05-15T20:55:06.682Z"}
{"msg":"@here can we call one chaincode from another..Lets say there is a billing department and accounting department, accounting department can have reference to billing department. Can we have two CC's separate where one cc can query another an get the values. In this case billing and accounting","username":"bkvellanki","ts":"2017-05-15T20:55:06.682Z"}
{"msg":"@bkvellanki yeah there are CC2CC calls","username":"yacovm","ts":"2017-05-15T21:15:03.258Z"}
{"msg":"via ChaincodeStubInterface.InvokeChaincode ? The comment on this method talks about certain caveats that would make this effectively a read-only operation.  Is there a different way to do it?","username":"vdods","ts":"2017-05-15T21:16:44.723Z"}
{"msg":"@yacovm i hope if it is only on the same channel","username":"bkvellanki","ts":"2017-05-15T21:19:04.011Z"}
{"msg":"Dont forget that these calls are on the same peer","username":"yacovm","ts":"2017-05-15T21:20:37.057Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go#L52-L58","username":"yacovm","ts":"2017-05-15T21:24:05.605Z"}
{"msg":"Is it possible to invoke a transaction from chaincode on another channel on the same peer?  One use case being two channels: 1) supply chain tracking, and 2) finance tracking, where the peer has access to both channels","username":"vdods","ts":"2017-05-15T22:10:42.425Z"}
{"msg":"Also, unrelated question: I'm looking to port my v0.6 chaincode that used the deprecated tables interface to v1.0, presumably using the new CouchDB rich-query system.  What is a reasonable way to replace tables?  Storing each table entry as a separate ledger state entry, say with some namespaced scheme?  Or is storing the whole table as JSON in a single ledger state entry somehow not grossly inefficient (in terms of scaling up to millions+ of elements)?","username":"vdods","ts":"2017-05-15T22:12:55.840Z"}
{"msg":"Hmm.. looks like there's an example of this in mockstub_test.go -- using stub.CreateCompositeKey and stub.SplitCompositeKey.  It's rather unfortunate that stub.GetStateByPartialCompositeKey can only specify the prefix of a key, instead of arbitrary, non-consecutive entries of a key (say you wanted to only match on the last key of a composite key)","username":"vdods","ts":"2017-05-15T22:21:33.311Z"}
{"msg":"@vdods InvokeChaincode() does indeed enable CC2CC calls, on the same channel or different channel.  The code comment is saying that if the called chaincode is on a different channel, then any Puts on the called chaincode will not be persisted to the ledger (because it is not possible to ensure cross-channel data integrity since the channel's chains are updated independently).","username":"dave.enyeart","ts":"2017-05-16T01:26:14.574Z"}
{"msg":"You can indeed namespace your keys within a chaincode by using CreateCompositeKey","username":"dave.enyeart","ts":"2017-05-16T01:27:28.857Z"}
{"msg":"If you want to query based on the last part of the composite key, you will have to create a separate key that starts with the last part and query on that.  This is because LevelDB only supports range queries (same restriction as 0.6 table api).","username":"dave.enyeart","ts":"2017-05-16T01:29:39.849Z"}
{"msg":"There is a good example of all of this: https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/marbles02/marbles_chaincode.go","username":"dave.enyeart","ts":"2017-05-16T01:30:33.266Z"}
{"msg":"The comments in that example describe the techniques","username":"dave.enyeart","ts":"2017-05-16T01:31:15.374Z"}
{"msg":"Alternatively you can use CouchDB and model the JSON to have the values that you want to query on.  But read the marbles02 comments to understand potential gotchas related to phantom reads, if you are using the queries to drive subsequent updates.","username":"dave.enyeart","ts":"2017-05-16T01:33:05.145Z"}
{"msg":"Has joined the channel.","username":"zhouhuangjing","ts":"2017-05-16T02:35:40.225Z","type":"uj"}
{"msg":"Hi, folks, I have a concern on Concurrency on commitment on ledger, looks like we have to ensure the readset not changed before committing, while sometimes we don't care whether data changed or not , for example, I just want to add 10$ to my account,  I don't care someone with permission  changes my balance during the process, as long as the system ensures the synchronization, do we have a benchmark on how many transactions on changing the same state? thanks","username":"zhouhuangjing","ts":"2017-05-16T02:47:41.820Z"}
{"msg":"u might need to handle this situation in ur application level, like adding a queue for the operation to the same account ","username":"kelvinzhong","ts":"2017-05-16T03:32:44.795Z"}
{"msg":"Hacked up a little utility to help a bit in identifying significant events in orderer and peer logfiles. It is a simplistic algorithm. Welcome pointer to alternatives out there and/or improvements. https://github.com/Rangak/loglights\n","username":"rangak","ts":"2017-05-16T06:08:59.752Z"}
{"msg":"Has joined the channel.","username":"oooo","ts":"2017-05-16T08:49:06.184Z","type":"uj"}
{"msg":"@kelvinzhong  thanks,  sounds nice","username":"zhouhuangjing","ts":"2017-05-16T09:10:12.785Z"}
{"msg":"that's ok","username":"kelvinzhong","ts":"2017-05-16T09:10:54.208Z"}
{"msg":"@zhouhuangjing @kelvinzhong I could be totally missing something here, but isn't that the whole point of the orderer?  To resolve those sorts of conflicts?  I sure hope that responsibility doesn't fall to the application.","username":"vdods","ts":"2017-05-16T16:41:12.349Z"}
{"msg":"When I am instantiating marblechaincode in peer0 I am getting following error `Error: Error endorsing chaincode: rpc error: code = 2 desc = Error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 \"# github.com/hyperledger/fabric/examples/chaincode/go/marbles02\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:370: assignment count mismatch: 2 = 3\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:428: assignment count mismatch: 2 = 3\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:538: assignment count mismatch: 2 = 3\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:586: assignment count mismatch: 2 = 3\n\"\n` I couldnt find a way to fix this error nor I edited chaincode . If anyone know how to fix this please let me know. I am stuck in for 2 days. Everytime I tried to instantiate I am getting the same eror.","username":"MohammadObaid","ts":"2017-05-16T19:34:34.182Z"}
{"msg":"When I am instantiating marblechaincode in peer0 I am getting following error ```Error: Error endorsing chaincode: rpc error: code = 2 desc = Error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 \"# github.com/hyperledger/fabric/examples/chaincode/go/marbles02\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:370: assignment count mismatch: 2 = 3\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:428: assignment count mismatch: 2 = 3\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:538: assignment count mismatch: 2 = 3\nchaincode/input/src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go:586: assignment count mismatch: 2 = 3\n\"\n``` I couldnt find a way to fix this error nor I edited chaincode . If anyone know how to fix this please let me know. I am stuck in for 2 days. Everytime I tried to instantiate I am getting the same eror.","username":"MohammadObaid","ts":"2017-05-16T19:34:34.182Z"}
{"msg":"I am running couchdb instead of leveldb","username":"MohammadObaid","ts":"2017-05-16T19:35:34.982Z"}
{"msg":"@vdods u might need look into the design of fabric v1 architecture http://hyperledger-fabric.readthedocs.io/en/latest/arch-deep-dive.html","username":"kelvinzhong","ts":"2017-05-17T01:55:10.846Z"}
{"msg":"@vdods and this doc :joy:http://hyperledger-fabric.readthedocs.io/en/latest/readwrite.html\nespecially the Example part, you will see some transactions failed, which are my concern","username":"zhouhuangjing","ts":"2017-05-17T03:20:49.866Z"}
{"msg":"Has joined the channel.","username":"kesavannb","ts":"2017-05-17T06:18:44.432Z","type":"uj"}
{"msg":"Hi ,\nI'm trying to make the permissioned ledger in the hyperledger fabric 0.6 version.\nWhile deploying the chain code. I have passed the registered user with in the network based on the membersrvc.yml file , But trying to query the record based on the user i'm not getting.\nIf you have any idea or updates can u please let me know ?","username":"kesavannb","ts":"2017-05-17T06:31:15.718Z"}
{"msg":"Has joined the channel.","username":"srss","ts":"2017-05-17T15:06:40.413Z","type":"uj"}
{"msg":"Hello everyone, after I have invoke a ChainCode on a peer node using just \"peer chaincode invoke....\", I should be able to get a proposal, but how I can extract the proposal from the response in command line and then send it to the orderer? Can it be done using just the cli \"peer\" command?","username":"FengChen_1982","ts":"2017-05-18T03:41:29.260Z"}
{"msg":"@FengChen_1982 cli sends to an endorser, gets the proposal response, and then submits to orderer for you.  if you want to do this in separate steps, you will need to use an SDK","username":"dave.enyeart","ts":"2017-05-18T12:25:18.105Z"}
{"msg":"hello","username":"MartinMateev","ts":"2017-05-18T12:49:59.912Z"}
{"msg":"@dave.enyeart do you have 10 mins for a quick skype chat - I'm here with a collegue and we're not clear on how the world state is interfacing with the rest of the blockchain","username":"MartinMateev","ts":"2017-05-18T12:50:30.425Z"}
{"msg":"@MartinMateev hi, i you got the answer, might you could share here","username":"kelvinzhong","ts":"2017-05-19T02:24:47.579Z"}
{"msg":"@MartinMateev hi, if you got the answer, might you could share here","username":"kelvinzhong","ts":"2017-05-19T02:24:47.579Z"}
{"msg":"@MartinMateev sorry juggling multiple things and difficult to get on a skype.  Please leave your question here and I'll answer when I can.","username":"dave.enyeart","ts":"2017-05-19T10:30:59.789Z"}
{"msg":"Has joined the channel.","username":"greg2git","ts":"2017-05-19T14:37:42.923Z","type":"uj"}
{"msg":"Has joined the channel.","username":"philT","ts":"2017-05-21T12:04:59.986Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tmath","ts":"2017-05-21T18:10:14.119Z","type":"uj"}
{"msg":"Anyone know how to get the hash of a block in the chaincode?","username":"tmath","ts":"2017-05-21T18:13:29.828Z"}
{"msg":"looks like you can do `block.Header.Hash` but I can't figure out how to access a block","username":"tmath","ts":"2017-05-21T18:15:33.739Z"}
{"msg":"When I am executing this query `peer chaincode query -C $CHANNEL_NAME -n marbles -c '{\"Args\":[\"getHistoryForMarble\",\"marble1\"]}'` I am not getting merkel hash. Is there a quey that we can also get merkel hash of block\n\n","username":"MohammadObaid","ts":"2017-05-21T19:17:58.784Z"}
{"msg":"","username":"MohammadObaid","ts":"2017-05-21T19:18:35.729Z","attachments":[{"title":"File Uploaded: Clipboard - May 22, 2017 12:17 AM","title_link":"/file-upload/qjoxhkjgri2FfPF8s/Clipboard - May 22, 2017 12:17 AM","image_url":"/file-upload/qjoxhkjgri2FfPF8s/Clipboard - May 22, 2017 12:17 AM","image_type":"image/png","image_size":225195,"url":"/file-upload/qjoxhkjgri2FfPF8s/Clipboard - May 22, 2017 12:17 AM","remote":false,"fileId":"qjoxhkjgri2FfPF8s","fileName":"Clipboard - May 22, 2017 12:17 AM"}]}
{"msg":"?","username":"MohammadObaid","ts":"2017-05-21T19:59:52.172Z"}
{"msg":"@MohammadObaid You dont need to go through chaincode to retrieve a block (which includes the hash).  There is a query system chaincode and corresponding SDK APIs to retrieve a block, without having to write application chaincode.  Maybe explain your end goal, so that we know the context of what you are trying to achieve.","username":"dave.enyeart","ts":"2017-05-22T00:11:03.359Z"}
{"msg":"@dave.enyeart My endgoal is simple . I want to retrieve everything about a block which should include its txid,merkelhash, ,timestamp,digitalsignature(verification) and all relevant data regarding that block. For example if any external user view my blockchain and he wish to retrieve any single block let say block 11 then result should he get are TXid, merkelhash , timestamp, digitalsignature(for verification) and  data just like in bitcoin . ","username":"MohammadObaid","ts":"2017-05-22T04:17:33.953Z"}
{"msg":"My second question is if someone want to verify our data stored in blockchain how can he do that?. As far as I understand things he must have public keys and digital signature of endorsing nodes and the peers that invoke queries.","username":"MohammadObaid","ts":"2017-05-22T04:23:25.740Z"}
{"msg":"Has joined the channel.","username":"Jay","ts":"2017-05-22T10:30:55.367Z","type":"uj"}
{"msg":"@MohammadObaid If you want to retrieve the block, you would not use application chaincode.  There is a pre-deployed query system chaincode that allows you to retrieve blocks.  It has functions like GetBlockByNumber() and GetBlockByTxID().  SDK has corresponding functions to retrieve and interrogate the returned blocks.","username":"dave.enyeart","ts":"2017-05-22T12:16:25.445Z"}
{"msg":"It depends what you mean by 'verify', but your application can parse the returned blocks and verify that the data and the hashes align.  You would need to understand some of the impl details from the fabric however.  There is intent to provide verify functions out of the box in the future.","username":"dave.enyeart","ts":"2017-05-22T12:18:20.017Z"}
{"msg":"@dave.enyeart  Thanks :) This is the doc I got for system chaincode https://github.com/hyperledger/fabric/blob/master/proposals/r1/System-Chaincode-Specification.md. So basically there are two type of chaincode user chaincode which runs on peer container and system chaincode to query right? Any good article your refer me to implement system chaincode?","username":"MohammadObaid","ts":"2017-05-22T12:23:40.769Z"}
{"msg":"You don't have to implement system chaincode.  These block query functions are already implement in query system chaincode (qscc).  So you just have to invoke them, e.g.:","username":"dave.enyeart","ts":"2017-05-22T12:26:12.089Z"}
{"msg":"You don't have to implement system chaincode.  These block query functions are already implemented in query system chaincode (qscc).  So you just have to invoke them, e.g.:","username":"dave.enyeart","ts":"2017-05-22T12:26:12.089Z"}
{"msg":"You don't have to implement system chaincode.  These block query functions are already implemented in query system chaincode (qscc), which is automatically pre-deployed on each peer.  So you just have to invoke them, e.g.:","username":"dave.enyeart","ts":"2017-05-22T12:26:12.089Z"}
{"msg":"`peer chaincode query -C \"\" -n qscc -c '{\"Args\":[\"GetBlockByNumber\",\"mychannel\",\"1\"]}' ","username":"dave.enyeart","ts":"2017-05-22T12:26:21.571Z"}
{"msg":"`peer chaincode query -C \"\" -n qscc -c '{\"Args\":[\"GetBlockByNumber\",\"mychannel\",\"1\"]}' `","username":"dave.enyeart","ts":"2017-05-22T12:26:21.571Z"}
{"msg":"Oh. I thought I have to implement it separately. Thanks a lot :)","username":"MohammadObaid","ts":"2017-05-22T12:30:01.294Z"}
{"msg":"Has joined the channel.","username":"pmontagn","ts":"2017-05-22T12:45:15.679Z","type":"uj"}
{"msg":"@dave.enyeart  Is there any documentation available which list down all functions regarding systemchaincode?","username":"MohammadObaid","ts":"2017-05-22T15:52:31.530Z"}
{"msg":"Has joined the channel.","username":"hendry19901990","ts":"2017-05-22T16:38:17.116Z","type":"uj"}
{"msg":"@MohammadObaid you can find the functions available in: https://github.com/hyperledger/fabric/blob/master/core/scc/qscc/query.go","username":"dave.enyeart","ts":"2017-05-22T17:33:11.846Z"}
{"msg":"@MohammadObaid you can find the query system chaincode functions available in: https://github.com/hyperledger/fabric/blob/master/core/scc/qscc/query.go","username":"dave.enyeart","ts":"2017-05-22T17:33:11.846Z"}
{"msg":"@here how to define the boundary between chaincode and enterprise database? because chaincode accesses the state database, and enterprise database stores the business data. need we transport all the data which are related with ledger to chaincode by invoking operations?","username":"bh4rtp","ts":"2017-05-23T07:04:34.572Z"}
{"msg":"@bh4rtp Some solutions add enterprise data to the chaincode data, while other solutions prefer to hash enterprise data and simply put the hash in the chaincode data.  It depends whether there is an alternate way to share the data and if you just need evidence of the data on blockchain rather than the data (for example for privacy reasons or to keep blockchain data to a minimum).","username":"dave.enyeart","ts":"2017-05-23T10:37:32.516Z"}
{"msg":"Has joined the channel.","username":"anik","ts":"2017-05-23T11:51:31.683Z","type":"uj"}
{"msg":"Could anyone show me how to get the has value of a transaction from the chaincode?","username":"tmath","ts":"2017-05-23T12:02:35.560Z"}
{"msg":"Could anyone show me how to get the hash value of a transaction from the chaincode?","username":"tmath","ts":"2017-05-23T12:02:35.560Z"}
{"msg":"Is this a known issue? panic: TypeError: undefined not constructable\n\ngoroutine 32 [running]:\npanic(0xa2c7c0, 0xc420171220)\n\t/opt/go/src/runtime/panic.go:500 +0x1a1\n","username":"FenglianXu","ts":"2017-05-23T14:01:07.847Z"}
{"msg":"I am running this on Fabric alpha V1","username":"FenglianXu","ts":"2017-05-23T14:02:22.680Z"}
{"msg":"@berserkr Can you help to look at my issue please?","username":"FenglianXu","ts":"2017-05-23T16:28:13.498Z"}
{"msg":"TypeError:undefined not constructable does not give me enough information","username":"FenglianXu","ts":"2017-05-23T16:29:12.781Z"}
{"msg":"is anyway I can debug go programming inside a docker image?","username":"FenglianXu","ts":"2017-05-23T16:29:43.500Z"}
{"msg":"@FenglianXu do you have a full stack trace?","username":"berserkr","ts":"2017-05-23T18:59:27.007Z"}
{"msg":"@berserkr here is the full stack trace:","username":"FenglianXu","ts":"2017-05-23T20:00:06.927Z"}
{"msg":"2017-05-23 19:55:59.018 UTC [shim] afterResponse -> DEBU 02b [1b406db0]Received RESPONSE, communicated (state:ready)\n2017-05-23 19:55:59.018 UTC [shim] handlePutState -> DEBU 02c [1b406db0]Received RESPONSE. Successfully updated state\npanic: TypeError: undefined not constructable\n\ngoroutine 10 [running]:\npanic(0xa2c960, 0xc420143540)\n\t/opt/go/src/runtime/panic.go:500 +0x1a1\nmain.NewQueryService(0xc420138120, 0xc42018c630, 0x12469e0, 0xc420148d00, 0xc4201b7520)\n\t/chaincode/input/src/composer/queryservice.go:38 +0x57e\nmain.NewContext(0xc420138120, 0xc420138130, 0x12469e0, 0xc420148d00, 0xc42018c630)\n\t/chaincode/input/src/composer/context.go:46 +0x383\nmain.(*Composer).Init(0xc420146f80, 0x12469e0, 0xc420148d00, 0xc420135e90, 0x4, 0xc420147590, 0x1, 0x1, 0x0, 0x0, ...)\n\t/chaincode/input/src/composer/composer.go:122 +0x2d1\nmain.(*Chaincode).Init(0xc420162160, 0x12469e0, 0xc420148d00, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\n\t/chaincode/input/src/composer/chaincode.go:96 +0x590\ngithub.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleInit.func1(0xc42000e690, 0xc42014b270)\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:236 +0x827\ncreated by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleInit\n\t/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:257 +0x49\n","username":"FenglianXu","ts":"2017-05-23T20:00:08.710Z"}
{"msg":"@berserkr is this stack enough?","username":"FenglianXu","ts":"2017-05-23T20:07:21.414Z"}
{"msg":"@FenglianXu this looks like a composer issue? perhaps asking it in #composer would help you resolve it","username":"berserkr","ts":"2017-05-23T22:51:48.492Z"}
{"msg":"@FenglianXu what I do is start the service in verbose mode (do not pass in the -d flag to composer)","username":"berserkr","ts":"2017-05-23T22:54:24.981Z"}
{"msg":"docker-compose I mean","username":"berserkr","ts":"2017-05-23T22:54:31.469Z"}
{"msg":"if you are using the composer-cli then it is a different story, you can usually see the output in the terminal when you start it","username":"berserkr","ts":"2017-05-23T22:54:55.008Z"}
{"msg":"Has joined the channel.","username":"toddinpal","ts":"2017-05-23T23:54:38.575Z","type":"uj"}
{"msg":"When writing blocks, does the peer wait for the I/O to complete before generating the transaction committed event?\n\n","username":"toddinpal","ts":"2017-05-23T23:54:55.012Z"}
{"msg":"Hi, i dont understant all the process to set up an environment. In my case Im trying to build an asset (Car) and a network with 3 participants, this 3 participants are able to sell the car and the ownership of this car will change. So what is the process to do that? Set up a network with 3 peers? Develop the asset ? Develop the transaction as chaincode? Or what parts i should use ? Thank you for answers","username":"jordipainan","ts":"2017-05-24T00:18:32.849Z"}
{"msg":"@dave.enyeart thanks. that sounds reasonable. ","username":"bh4rtp","ts":"2017-05-24T03:24:50.807Z"}
{"msg":"@dave.enyeart for cross-enterprise applications, it is difficult to share the data. so add enterprise data to the chaincode data is a feasible solution. but the chaincode data is stored in the ledger database, i.e. couchdb. can i replace couchdb by commercial database such as oracle or mysql?","username":"bh4rtp","ts":"2017-05-24T03:34:19.646Z"}
{"msg":"Has joined the channel.","username":"SahilKapoor","ts":"2017-05-24T04:44:23.230Z","type":"uj"}
{"msg":"@bh4rtp v1.0 is based on a key/value architecture, where value can be binary or semi-structured data such as JSON.  There is a statedb interface to allow implementation of other DBs that support key/value or JSON data structure.  SQL-based would require much more work, an alternate programming model and interfaces would have to be developed, likely all the way up to chaincode interface.","username":"dave.enyeart","ts":"2017-05-24T04:45:24.408Z"}
{"msg":"@dave.enyeart Nickgaski in fabric-question channel asked me to talk with you regarding my use case.","username":"SahilKapoor","ts":"2017-05-24T04:46:00.223Z"}
{"msg":" My use case is that only part of the asset needs to be secret. Example . Party A n Party B do some trade . Trade has two components i.e some public and some private. Now when the trade is done , private data remains private between Party A n B but the public data should be visible to Party C.\nSo in all some part of the trade i.e asset is private and some public.","username":"SahilKapoor","ts":"2017-05-24T04:46:08.115Z"}
{"msg":"He suggested to use side db. Is there any other kind of implementation as side is also provided by quorum and with fabric we need to build everything out from scratch","username":"SahilKapoor","ts":"2017-05-24T04:47:12.927Z"}
{"msg":"Your options on 1.0 are to use multiple transactions on multiple channels or encrypt some of the data and share the keys out of band.  For next releases you could help us validate side db design: see FAB-1151 and embedded design links","username":"dave.enyeart","ts":"2017-05-24T04:49:22.474Z"}
{"msg":"@here is there a document demonstrates an example block and shows completely decoded details?","username":"bh4rtp","ts":"2017-05-24T06:33:02.185Z"}
{"msg":"@here is there a document demonstrates an example block and shows its completely decoded details?","username":"bh4rtp","ts":"2017-05-24T06:33:02.185Z"}
{"msg":"@here is there a document demonstrates an example 1.0 block and shows its completely decoded details?","username":"bh4rtp","ts":"2017-05-24T06:33:02.185Z"}
{"msg":"@here is there a document demonstrates an example 1.0 block data structure in completely decoded details?","username":"bh4rtp","ts":"2017-05-24T06:33:02.185Z"}
{"msg":"Hi, I was playing with network delays and package loss on my dockers and managed to get my peers have different states. \n\nThen i tried to pass a transaction asking for endorsement from the peers that still had the old state ( they should see the transaction as valid, although according to the current state is wasn't ). The transaction was endorsed.\n\nAnd then i got this \n`[statevalidator] ValidateAndPrepareBatch -> WARN 058 Block [15] Transaction index [0] TxId [18fcb6c9d36c263ed9d1583a60819fd68a45eddf74f23f668723c7c16e52d0d0] marked as invalid by state validator. Reason code [11]`\n\nMy question is who is the statevalidator and what did he check against to know that the transaction was invalid?\n","username":"SotirisAlfonsos","ts":"2017-05-24T14:50:05.648Z"}
{"msg":"@SotirisAlfonsos https://github.com/hyperledger/fabric/blob/2a3ad9d406ab66d2934e9214f7f87e3007b52bd4/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator.go#L141","username":"C0rWin","ts":"2017-05-24T15:09:13.042Z"}
{"msg":"It has logic to validate various aspects, in your particular case it failed MVCC check","username":"C0rWin","ts":"2017-05-24T15:10:15.843Z"}
{"msg":"`TxValidationCode_MVCC_READ_CONFLICT           TxValidationCode = 11`","username":"C0rWin","ts":"2017-05-24T15:10:42.871Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/protos/peer/transaction.pb.go#L18","username":"C0rWin","ts":"2017-05-24T15:13:07.946Z"}
{"msg":"list of possible validation codes","username":"C0rWin","ts":"2017-05-24T15:13:26.365Z"}
{"msg":"@C0rWin so the validation process takes place in every peer and it is the last step of the transaction flow when they receive the block from the orderer. And the validator checks if the state ( or readset and writeset ) changed in the meantime. Did i understand correctly?","username":"SotirisAlfonsos","ts":"2017-05-24T15:56:15.617Z"}
{"msg":"yes","username":"C0rWin","ts":"2017-05-24T15:56:38.977Z"}
{"msg":"thank you very much","username":"SotirisAlfonsos","ts":"2017-05-24T15:56:48.616Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric?msg=XxdXSBnBvGdsDNmxe","username":"AdnanC","ts":"2017-05-24T18:58:49.835Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=XxdXSBnBvGdsDNmxe","url":"https://chat.hyperledger.org/channel/fabric?msg=XxdXSBnBvGdsDNmxe","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rfu2k ","username":"AdnanC","ts":"2017-05-24T18:59:01.646Z"}
{"msg":"Has joined the channel.","username":"rfu2k","ts":"2017-05-24T18:59:02.001Z","type":"uj"}
{"msg":"Thanks @AdnanC I hadn't realised there was a fabric-ledger channel :) I'm keen to learn if there is a way to view the data on the ledger using leveldb, I have found some overview instructions with CouchDB but am trying not to touch anything in my setup (cos everytime I touch it I jinx it, and I have to give a demo in the morning). I have been using Fabric Composer but I'm trying to understand how things are stored at the state db level.","username":"rfu2k","ts":"2017-05-24T19:08:56.498Z"}
{"msg":"Thanks @AdnanC I hadn't realised there was a fabric-ledger channel :) I'm keen to learn if there is a way to view the data on the ledger using leveldb, I have found some overview instructions with CouchDB but am trying not to touch anything in my setup (cos everytime I touch it I jinx it, and I have to give a demo in the morning).","username":"rfu2k","ts":"2017-05-24T19:08:56.498Z"}
{"msg":"@rfu2k goleveldb can only be opened by a single process (the peer process), therefore the only way you can 'view' the data in goleveldb is to query the keys from chaincode.  for example you could do an open-ended range query in order to retrieve all keys/values.","username":"dave.enyeart","ts":"2017-05-24T19:22:10.960Z"}
{"msg":"couchdb is indeed a good option, if you want to 'view' the data in statedb during iterative development","username":"dave.enyeart","ts":"2017-05-24T19:22:33.627Z"}
{"msg":"but in production environment it is recommended to not make the couchdb port available outside the docker environment, in order to eliminate risk of data tampering","username":"dave.enyeart","ts":"2017-05-24T19:24:27.340Z"}
{"msg":"thanks @dave.enyeart I did see that about port mapping, when I get time on my side I'll look into setting up couchdb perhaps it's not as involved as i fear :)","username":"rfu2k","ts":"2017-05-24T19:25:54.561Z"}
{"msg":"@dave.enyeart @SahilKapoor btw I think the sidedb will be a real win. As you may know, there is an issue open at https://github.com/hyperledger/composer/issues/1043 around this situation, currently labelled as architectural enhancement. Multiple channels pattern can protect the underlying data but does lose the beauty/provenance of a single chain which is a shame. One of the evaluation benefits that Corda seems to have in comparison to Fabric is that all transactions have the point to point privacy but also are held within that single vault, whereas with the multi channel privacy approach there is a reconcilliation required on client side to pull all parts of the history together. From what I understand with the goals of sidedb it should be possible to have it all on the one chain but keep the confidential data out of the ledger and state, that'll rock.","username":"rfu2k","ts":"2017-05-24T19:30:10.592Z"}
{"msg":"@dave.enyeart @SahilKapoor btw I think the sidedb will be a real win. As you may know, there is an issue open at https://github.com/hyperledger/composer/issues/1043 around this situation, currently labelled as architectural enhancement. Multiple channels pattern can protect the underlying data but does lose the beauty/provenance of a single chain which is a shame. One of the evaluation benefits that Corda seems to have in comparison to Fabric is that all transactions have the point to point privacy but also are held within that single vault, whereas with the multi channel privacy approach there is a reconcilliation required on client side to link the pieces and pull all parts of the history together. From what I understand with the goals of sidedb it should be possible to have it all on the one chain but keep the confidential data out of the ledger and state, that'll rock.","username":"rfu2k","ts":"2017-05-24T19:30:10.592Z"}
{"msg":"Has joined the channel.","username":"rmohta","ts":"2017-05-25T01:44:32.810Z","type":"uj"}
{"msg":"@here which one is better to have in terms of ledger and privacy? a peer being part of multiple channels (and each channel has only one consortium) or a peer part of multiple consortium (in a single channel). ","username":"rmohta","ts":"2017-05-25T01:51:24.253Z"}
{"msg":"Has joined the channel.","username":"prashiyn","ts":"2017-05-25T09:52:29.386Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bmkor","ts":"2017-05-26T01:04:16.608Z","type":"uj"}
{"msg":"My couchdb container seems to exit immediately after launching my network and I can't work out why. These are the container logs. Any help is appreciated\n```\n[os_mon] memory supervisor port (memsup): Erlang has closed\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[{couch_auth_cache,ensure_users_db_exists,2,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,456}]},{couch_auth_cache,open_auth_db,0,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,428}]},{couch_auth_cache,reinit_cache,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,290}]},{couch_auth_cache,init,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,166}]},{gen_server,init_it,6,[{file,\\\"gen_server.erl\\\"},{line,328}]},{proc_lib,init_p_do_apply,3,[{file,\\\"proc_lib.erl\\\"},{line,240}]}]}}}}},{couch_app,start,[normal,[]]}}}\"}\n```","username":"pd93","ts":"2017-05-26T09:54:25.007Z"}
{"msg":"My couchdb container seems to exit immediately after launching my network and I can't work out why. These are the container logs. Any help is appreciated\n```\n[os_mon] memory supervisor port (memsup): Erlang has closed\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[{couch_auth_cache,ensure_users_db_exists,2,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,456}]},{couch_auth_cache,open_auth_db,0,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,428}]},{couch_auth_cache,reinit_cache,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,290}]},{couch_auth_cache,init,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,166}]},{gen_server,init_it,6,[{file,\\\"gen_server.erl\\\"},{line,328}]},{proc_lib,init_p_do_apply,3,[{file,\\\"proc_lib.erl\\\"},{line,240}]}]}}}}},{couch_app,start,[normal,[]]}}}\"}\n```\nAlso, while I'm here, is there any way to enabled more verbose logging for couchdb?","username":"pd93","ts":"2017-05-26T09:54:25.007Z"}
{"msg":"My couchdb container seems to exit immediately after launching my network and I can't work out why. These are the container logs. Any help is appreciated\n```\n[os_mon] memory supervisor port (memsup): Erlang has closed\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[{couch_auth_cache,ensure_users_db_exists,2,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,456}]},{couch_auth_cache,open_auth_db,0,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,428}]},{couch_auth_cache,reinit_cache,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,290}]},{couch_auth_cache,init,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,166}]},{gen_server,init_it,6,[{file,\\\"gen_server.erl\\\"},{line,328}]},{proc_lib,init_p_do_apply,3,[{file,\\\"proc_lib.erl\\\"},{line,240}]}]}}}}},{couch_app,start,[normal,[]]}}}\"}\n```\nAlso, while I'm here, is there any way to enable more verbose logging for couchdb?","username":"pd93","ts":"2017-05-26T09:54:25.007Z"}
{"msg":"Has joined the channel.","username":"akash42145","ts":"2017-05-26T13:30:15.486Z","type":"uj"}
{"msg":"Hello All,","username":"akash42145","ts":"2017-05-26T13:30:51.117Z"}
{"msg":"I have a question regarding ledger design best practice, what is recommanded one ledger per channel or one channel can have multiple ledger. ","username":"akash42145","ts":"2017-05-26T13:34:51.333Z"}
{"msg":"@pd93 what happens if you bring up the couchdb on its own (without a fabric network)? It still exits immediately?","username":"AdnanC","ts":"2017-05-26T14:14:42.917Z"}
{"msg":"@pd93 what happens if you bring up the couchdb on its own (without a fabric network)?","username":"AdnanC","ts":"2017-05-26T14:14:42.917Z"}
{"msg":"@akash42145 There is one ledger per channel. This is not a best practice, but a fundamental truth.","username":"dave.enyeart","ts":"2017-05-26T14:20:41.168Z"}
{"msg":"@AdnanC Hey, it loads up fine when I run `docker run hyperledger/fabric-couchdb`","username":"pd93","ts":"2017-05-26T14:21:10.660Z"}
{"msg":"and it does not exit immediately? ok","username":"AdnanC","ts":"2017-05-26T14:22:24.980Z"}
{"msg":"Yeah, to clarify a couple of things.. This is coming from a custom script I have that worked with v1 (pre-alpha)\nAll the other containers come up fine, with the exception of the peers (that fail because it can't dial couchdb)","username":"pd93","ts":"2017-05-26T14:23:27.287Z"}
{"msg":"I'm now on alpha2 and trying to get everything running again","username":"pd93","ts":"2017-05-26T14:23:47.385Z"}
{"msg":"ok","username":"AdnanC","ts":"2017-05-26T14:24:26.669Z"}
{"msg":"@AdnanC I get `couchdb0 exited with code 140` but nothing online seems to indicate what the status code actually means","username":"pd93","ts":"2017-05-26T14:28:08.936Z"}
{"msg":"and who gives that message?","username":"AdnanC","ts":"2017-05-26T14:30:36.382Z"}
{"msg":"Docker outputs that when it exits this container","username":"pd93","ts":"2017-05-26T14:30:58.255Z"}
{"msg":"Docker outputs that when it exits the container","username":"pd93","ts":"2017-05-26T14:30:58.255Z"}
{"msg":"ok","username":"AdnanC","ts":"2017-05-26T14:31:08.540Z"}
{"msg":"Still can't work out why fabric is causing it to exit.. :/ This makes no sense to me","username":"pd93","ts":"2017-05-26T15:01:34.478Z"}
{"msg":"It might be a docker issue, from the top of my head , can't rememember anything in fabric that can cause the Couch to exit","username":"AdnanC","ts":"2017-05-26T15:04:37.475Z"}
{"msg":"Hmm I've tried a docker restart and my system too. Thanks anyway. I'll post back if I ever resolve this","username":"pd93","ts":"2017-05-26T15:05:28.187Z"}
{"msg":"just checking, so even if you start the couch , and wait, and then start the network, the couch exits at that moment?","username":"AdnanC","ts":"2017-05-26T15:06:22.556Z"}
{"msg":"Haven't tried actually. Just been using the docker-compose","username":"pd93","ts":"2017-05-26T15:07:02.659Z"}
{"msg":"that may actually help to isolate the problem area","username":"AdnanC","ts":"2017-05-26T15:07:31.742Z"}
{"msg":"Shall give it a go now","username":"pd93","ts":"2017-05-26T15:07:43.729Z"}
{"msg":"Ermm.. okay.. `docker-compose up couchdb0` also exits immediately","username":"pd93","ts":"2017-05-26T15:09:50.403Z"}
{"msg":"So it's not fabric that's causing it to exit","username":"pd93","ts":"2017-05-26T15:10:04.119Z"}
{"msg":"My logs consist of the usual couchdb 'admin party' warning message, the following two messages and the error I previously reported above\n```\ncouchdb0    | [os_mon] memory supervisor port (memsup): Erlang has closed\ncouchdb0    | [os_mon] cpu supervisor port (cpu_sup): Erlang has closed\n```","username":"pd93","ts":"2017-05-26T15:11:36.958Z"}
{"msg":"from what I read, these are caused by some virtualized environments, and people have reported that couch continues after spewing this message","username":"AdnanC","ts":"2017-05-26T15:13:00.973Z"}
{"msg":"from what I read, these are caused by somevirtualized environments, and people have reported that couch continues after spewing this message","username":"AdnanC","ts":"2017-05-26T15:13:00.973Z"}
{"msg":"Hmm okay. Unfortunately mine is still exiting xD Is there a way to increase logging verbosity? ","username":"pd93","ts":"2017-05-26T15:14:22.440Z"}
{"msg":"@pd93 are you building the couchdb image? if yes, you can add the following lines to local.ini and build:\n```\n[log]\nlevel = debug\n```","username":"AdnanC","ts":"2017-05-26T15:39:11.069Z"}
{"msg":"are you building the couchdb image? if yes, you can add the following lines to local.ini and build:\n```\n[log]\nlevel = debug\n```","username":"AdnanC","ts":"2017-05-26T15:39:11.069Z"}
{"msg":"Sorry, been away for a bit. At the moment I'm just using the published docker images. You sure there's no environment variable for it? Seems like there should be","username":"pd93","ts":"2017-05-26T15:59:34.672Z"}
{"msg":"@AdnanC Sorry, been away for a bit. At the moment I'm just using the published docker images. Are you sure there's no environment variable for it? Seems like there should be\nIf not I'll build it over the weekend sometime. 5pm on a bank holiday weekend here in the UK. I'm going home :P","username":"pd93","ts":"2017-05-26T15:59:34.672Z"}
{"msg":"there is a way to change it via a CURL put, but that still needs a running couch","username":"AdnanC","ts":"2017-05-26T16:01:13.130Z"}
{"msg":"Ahh ok, no problem. I'll give this a go soon and let you know if I have a breakthrough :)\nThanks, have a good weekend","username":"pd93","ts":"2017-05-26T16:02:28.847Z"}
{"msg":" you too!","username":"AdnanC","ts":"2017-05-26T16:02:37.867Z"}
{"msg":"Has joined the channel.","username":"BhavishaDawda","ts":"2017-05-26T18:48:58.303Z","type":"uj"}
{"msg":"To get blockchain info I am running this query `peer chaincode Invoke -C mychannel  -c '{\"Args\":[\"GetChainInfo\",\"marbles\"]}'\n` as function `GetChaininfo` is defined here https://github.com/hyperledger/fabric/blob/master/core/scc/qscc/query.go but I am getting error `unknown function` . Anyone can help me how to get chaininfo or execute functions defined in the link?","username":"MohammadObaid","ts":"2017-05-27T07:29:22.384Z"}
{"msg":"To get blockchain info I am running this query `peer chaincode Invoke -C mychannel  -c '{\"Args\":[\"GetChainInfo\",\"marbles\"]}'` as function `GetChaininfo` is defined here https://github.com/hyperledger/fabric/blob/master/core/scc/qscc/query.go but I am getting error `unknown function` . Anyone can help me how to get chaininfo or execute functions defined in the link?","username":"MohammadObaid","ts":"2017-05-27T07:29:22.384Z"}
{"msg":"@MohammadObaid here's an example: `peer chaincode query -C \"\" -n qscc -c '{\"Args\":[\"GetChainInfo\",\"myc1\"]}' `","username":"dave.enyeart","ts":"2017-05-27T12:13:58.301Z"}
{"msg":"qscc is the system chaincode where GetChainInfo is defined","username":"dave.enyeart","ts":"2017-05-27T12:14:18.152Z"}
{"msg":"qscc is the system chaincode where GetChainInfo function is defined","username":"dave.enyeart","ts":"2017-05-27T12:14:18.152Z"}
{"msg":"system chaincodes are channel-less (\"\")","username":"dave.enyeart","ts":"2017-05-27T12:14:44.853Z"}
{"msg":"then you pass the channel name into the function (not the chaincode name)","username":"dave.enyeart","ts":"2017-05-27T12:15:04.075Z"}
{"msg":"@muralisr @binhn  ^^^^ I dont recall if qscc is documented, and how to invoke/query.  I'll create a doc bug unless you can point us to existing doc...","username":"dave.enyeart","ts":"2017-05-27T12:17:32.882Z"}
{"msg":"although, doing these queries is somewhat pointless from current cli, since the response back is a byte array that would need to be parsed.  Is there any future intent to have cli parse these, or we suggest people use sdk to call qscc functions?","username":"dave.enyeart","ts":"2017-05-27T12:19:32.548Z"}
{"msg":"although, doing these queries is somewhat pointless from current cli, since the response back is a byte array that would need to be parsed.  Is there any future intent to have cli parse these, or we suggest people use sdk to call qscc functions? (I believe there are corresponding sdk functions to make this simple from sdk client)","username":"dave.enyeart","ts":"2017-05-27T12:19:32.548Z"}
{"msg":"although, doing these queries is somewhat pointless from current cli, since the response back is a byte array that would need to be parsed, and therefore maybe it is not documented on purpose. Is there any future intent to have cli parse these, or we suggest people use sdk to call qscc functions? (I believe there are corresponding sdk functions to make this simple from sdk client)","username":"dave.enyeart","ts":"2017-05-27T12:19:32.548Z"}
{"msg":"what do you suggest in terms of doc?","username":"dave.enyeart","ts":"2017-05-27T12:21:20.275Z"}
{"msg":"@dave.enyeart `system chaincodes are channel-less (\"\")` perhaps better written as `system chaincodes can be invoked without a channel`","username":"muralisr","ts":"2017-05-27T13:11:58.668Z"}
{"msg":"about documenting calls to system chaincodes, you are right... as the CLI interfaces don't do special processing for chaincodes like qscc, hard to doc for them","username":"muralisr","ts":"2017-05-27T13:13:14.432Z"}
{"msg":"@jiangyaoguo has taken an interesting approach by introducting a \"list\" command to list chaincode and under the covers querying qscc (see CR https://gerrit.hyperledger.org/r/#/c/9347/).. perhaps we should generalize it that CR to query qscc (`peer chaincode qscc` instead of `peer chaincode list`) to process all qscc commands one shot. That would be easy to doc too","username":"muralisr","ts":"2017-05-27T13:16:55.197Z"}
{"msg":"what do you think @dave.enyeart @jiangyaoguo ?","username":"muralisr","ts":"2017-05-27T13:17:23.929Z"}
{"msg":"@dave.enyeart  thanks :) ","username":"MohammadObaid","ts":"2017-05-27T14:17:03.519Z"}
{"msg":"@dave.enyeart  Can we also call these function define here  `https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/chaincode.go`   ","username":"MohammadObaid","ts":"2017-05-27T14:42:30.291Z"}
{"msg":"@dave.enyeart  Can we also call these function define here  `https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/chaincode.go`   like GetState function etc or just the function defined on query.go?","username":"MohammadObaid","ts":"2017-05-27T14:42:30.291Z"}
{"msg":"Has joined the channel.","username":"bmalavan","ts":"2017-05-27T15:41:00.272Z","type":"uj"}
{"msg":"@MohammadObaid your user chaincode calls the functions defined in /shim/chaincode.go. and then your client calls your user chaincode.","username":"dave.enyeart","ts":"2017-05-27T15:44:23.263Z"}
{"msg":"qscc (query.go) is just a special pre-deployed 'system' chaincode that the client can call","username":"dave.enyeart","ts":"2017-05-27T15:45:22.848Z"}
{"msg":"@muralisr qscc are ledger query functions, which is different from lscc(`peer chaincode list`calls). Maybe we can have a `peer chain get <channel>` to getChainInfo. But as @dave.enyeart said, getTransaction or getBlock seems pointless through CLI because there're cascaded bytes to be unmarshalled if we want it readable.","username":"jiangyaoguo","ts":"2017-05-27T16:02:19.158Z"}
{"msg":"Right was wondering if we should have \"wrapper\" calls for some of these system cc calls like you did with the list @jiangyaoguo ...that way we can present the response properly","username":"muralisr","ts":"2017-05-27T17:32:38.413Z"}
{"msg":"Has joined the channel.","username":"jimouris","ts":"2017-05-29T11:37:09.070Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rajeev20","ts":"2017-05-29T14:46:58.426Z","type":"uj"}
{"msg":"Does rich query work for a system data in alpha 1?","username":"FenglianXu","ts":"2017-05-30T13:21:52.332Z"}
{"msg":"i'm not sure what you mean by 'system data', but yes rich query against couchdb works against chaincode data in both alpha1 and alpha2","username":"dave.enyeart","ts":"2017-05-30T14:37:53.762Z"}
{"msg":"Has joined the channel.","username":"hmchen","ts":"2017-05-30T18:49:12.938Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tylerdmace","ts":"2017-05-31T02:34:53.586Z","type":"uj"}
{"msg":"How can we start multiple node using only binary (without using docker) ? would like to know what i should set before running \"peer node start\" --peer-defaultchain=false again so there is no conflict","username":"anik","ts":"2017-05-31T10:10:03.022Z"}
{"msg":"@anik This is a better question for #fabric-peer-endorser-committer .  That being said, I've gone ahead and created a Jira item that may help you: https://jira.hyperledger.org/browse/FAB-4259","username":"dave.enyeart","ts":"2017-05-31T12:30:51.807Z"}
{"msg":"please ask further questions in #fabric-peer-endorser-committer or jira","username":"dave.enyeart","ts":"2017-05-31T12:31:27.418Z"}
{"msg":"Has joined the channel.","username":"prash.aggarwal","ts":"2017-06-01T02:41:59.863Z","type":"uj"}
{"msg":"@dave.enyeart  thanks","username":"anik","ts":"2017-06-01T04:19:32.574Z"}
{"msg":"@here i am coding my chaincode. to generate a unique key using sha-256 and ripemd-160, which one is better in collision resistance?","username":"bh4rtp","ts":"2017-06-02T00:45:24.158Z"}
{"msg":"in principle, sha-256, since it's generating into a larger state space.  that's assuming that they're equally good hash functions","username":"vdods","ts":"2017-06-02T00:48:25.599Z"}
{"msg":"but presumably they don't use the same algorithm","username":"vdods","ts":"2017-06-02T00:49:00.084Z"}
{"msg":"@vdods thanks!","username":"bh4rtp","ts":"2017-06-02T00:52:22.022Z"}
{"msg":"Has joined the channel.","username":"jun","ts":"2017-06-05T08:57:53.358Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Amjadnz","ts":"2017-06-05T13:18:22.029Z","type":"uj"}
{"msg":"This is regards to `stub.GetStateByPartialCompositeKey`\n  \n`objIndexKey, err := stub.CreateCompositeKey(indexName, []string{obj.UniqueId, obj.SmartContractId, obj.PartnerId})`\nThe array in the second arg is a list of columns that are part of the index\nNow If I have to search by the SmartContractId alone - how would I do it.\n`objIterator, err2 = stub.GetStateByPartialCompositeKey(indexName, []string{smartCodeId})`\n\nor `objIterator, err2 = stub.GetStateByPartialCompositeKey(indexName, []string{\"\",smartCodeId,\"\"})`\nBoth of them do not return any result. As the first key of the index is not there. Else do I have to make it as first key index to search?","username":"Amjadnz","ts":"2017-06-05T13:18:34.993Z"}
{"msg":"So in short - how can we query a composite key with less number of args in the index. ","username":"Amjadnz","ts":"2017-06-05T13:20:36.845Z"}
{"msg":"The partial composite key query has to be a subset of the columns where the leftmost columns are required.  If you want to query on SmartContractId alone, you would need a second 'index' with SmartContractId leftmost.   This is the approach that the marbles02 chaincode example takes.","username":"dave.enyeart","ts":"2017-06-05T13:34:08.813Z"}
{"msg":"The limitation is due to the underlying LevelDB database only supporting range queries","username":"dave.enyeart","ts":"2017-06-05T13:34:30.892Z"}
{"msg":"If you want 'rich' query capability where you can query on any field, then you would need to model the chaincode data as JSON and utilize CouchDB queries.","username":"dave.enyeart","ts":"2017-06-05T13:35:01.532Z"}
{"msg":"Yes - got that. Clear. Thanks for this clarification man.","username":"Amjadnz","ts":"2017-06-05T13:36:47.667Z"}
{"msg":"Does any see this error before in alpha1: 2017-06-05 13:20:43.723 UTC [chaincode] ExecuteChaincode -> ERRO 05c Error executing chaincode: Failed to execute transaction (Timeout expired while executing transaction)\npanic: runtime error: invalid memory address or nil pointer dereference\n        panic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x30 pc=0x67b15e]\n\ngoroutine 22257 [running]:\npanic(0xc2c3a0, 0xc420016050)\n        /opt/go/src/runtime/panic.go:500 +0x1a1\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).handleQueryStateClose.func1.1(0xc42266e680, 0xc42475d270, 0xc426b34f18)\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:893 +0x4e\npanic(0xc2c3a0, 0xc420016050)\n        /opt/go/src/runtime/panic.go:458 +0x243\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).getQueryIterator(0xc42266e680, 0x0, 0xc4227841b0, 0x24, 0x0, 0x0)\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:229 +0x79\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).handleQueryStateClose.func1(0xc42266e680, 0xc42475d270)","username":"FenglianXu","ts":"2017-06-05T14:35:34.645Z"}
{"msg":"Timeout is a faked error message it was because peer1 was closed after a while","username":"FenglianXu","ts":"2017-06-05T14:36:12.098Z"}
{"msg":"@FenglianXu do you know what level of code you are on (git log --oneline) ?","username":"muralisr","ts":"2017-06-05T16:57:40.313Z"}
{"msg":"Hi All, \n\nI have a question. In real scenario we expect the smart contract update. So, when we update the smart contract , \n\n1. Do we have any option to continue with the same previous ledger? Instead of creating a new genesis block, can we continue appending new blocks from where we left with the previous chain code?\n\n2. Or is there any way to copy all the data from previous ledger to this chain code's ledger?\n\n3. Or do we need to store the chain code id's of the previous smart contract to access the previous data stored?\n\n4. Or Do we need to have two smart contract, one for the storage and retrieval of data to and from the ledger ( which is more stable ) \n     And other smart contract which will have the business logic, which can get changed.\n\n\nWhich is the best option. Any help / suggestion really appreciated. Thank you","username":"PushpalathaHiremath","ts":"2017-06-06T03:29:00.957Z"}
{"msg":"In v1.0 when you update chaincode, you keep the chaincode id the same and increment the version.  You can add data to ledger with chaincode v1 and then query that data with chaincode v2. When you invoke or query chaincode, you provide the chaincode id but not the version.  The latest version of chaincode will always be invoked. The chaincode author needs to ensure that the new chaincode is backward compatible in terms of data structure. There is no new genesis block when you upgrade chaincode, new data will be written to the same chain as before upgrade.","username":"dave.enyeart","ts":"2017-06-06T07:59:54.185Z"}
{"msg":"Has joined the channel.","username":"guruce","ts":"2017-06-06T17:00:04.844Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=D77dtbiwCcwfpR9Te) @dave.enyeart - Based on the your suggestion I have started to look into the CouchDB option for rich query support and marbles02 is helping there a lot.","username":"Amjadnz","ts":"2017-06-06T20:16:15.980Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=D77dtbiwCcwfpR9Te","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=D77dtbiwCcwfpR9Te","remote":true,"fileId":null,"fileName":null}]}
{"msg":"A question though - I use peer node in dev mode and to connect to couch db we used \"COUCHDB\" params. The same are applicable in dev mode too right?","username":"Amjadnz","ts":"2017-06-06T20:17:07.686Z"}
{"msg":"So dev machine has couch db database setup and is listening on port 8081 - I set up two params `CORE_LEDGER_STATE_STATEDATABASE=CouchDB` and `CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=couchdb0:8081`","username":"Amjadnz","ts":"2017-06-06T20:18:26.686Z"}
{"msg":"Is this sufficient? or I have to do some more config changes?","username":"Amjadnz","ts":"2017-06-06T20:18:37.594Z"}
{"msg":"I could find the following settings in the code base `blob/master/core/ledger/util/couchdb/config.go`","username":"Amjadnz","ts":"2017-06-06T20:48:47.307Z"}
{"msg":"```couchDBAddress := viper.GetString(\"ledger.state.couchDBConfig.couchDBAddress\")\n\tusername := viper.GetString(\"ledger.state.couchDBConfig.username\")\n\tpassword := viper.GetString(\"ledger.state.couchDBConfig.password\")\n\tmaxRetries := viper.GetInt(\"ledger.state.couchDBConfig.maxRetries\")\n\tmaxRetriesOnStartup := viper.GetInt(\"ledger.state.couchDBConfig.maxRetriesOnStartup\")\n\trequestTimeout := viper.GetDuration(\"ledger.state.couchDBConfig.requestTimeout\")```","username":"Amjadnz","ts":"2017-06-06T20:49:18.036Z"}
{"msg":"So I setup the USERNAME and PASSWORD too. then I get the following error when peer is starting","username":"Amjadnz","ts":"2017-06-06T20:49:36.571Z"}
{"msg":"```2017-06-07 00:51:21.636 GST [ledgermgmt] initialize -> INFO 003 Initializing ledger mgmt\n2017-06-07 00:51:21.636 GST [kvledger] NewProvider -> INFO 004 Initializing ledger provider\n2017-06-07 00:51:21.642 GST [couchdb] CreateSystemDatabasesIfNotExist -> ERRO 005 Error during CouchDB CreateDatabaseIfNotExist() for system dbName: _global_changes  error: Couch DB Error:illegal_database_name,  Status Code:400,  Reason:Name: '_global_changes'. Only lowercase characters (a-z), digits (0-9), and any of the characters _, $, (, ), +, -, and / are allowed. Must begin with a letter.\n2017-06-07 00:51:21.642 GST [couchdb] VerifyCouchConfig -> ERRO 006 Unable to connect to CouchDB,  error: Couch DB Error:illegal_database_name,  Status Code:400,  Reason:Name: '_global_changes'. Only lowercase characters (a-z), digits (0-9), and any of the characters _, $, (, ), +, -, and / are allowed. Must begin with a letter.   Check the admin username and password.\npanic: Error in instantiating ledger provider: Unable to connect to CouchDB,  error: Couch DB Error:illegal_database_name,  Status Code:400,  Reason:Name: '_global_changes'. Only lowercase characters (a-z), digits (0-9), and any of the characters _, $, (, ), +, -, and / are allowed. Must begin with a letter.   Check the admin username and password.```","username":"Amjadnz","ts":"2017-06-06T20:51:48.974Z"}
{"msg":"I've enabled the admin username and password in the local.ini file too and the same is getting passed as ENV variables","username":"Amjadnz","ts":"2017-06-06T20:52:38.014Z"}
{"msg":"```export CORE_LEDGER_STATE_STATEDATABASE=CouchDB\nexport CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=127.0.0.1:5984\nexport CORE_LEDGER_STATE_COUCHDBCONFIG_USERNAME=admin\nexport CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD=UUUUUUUU```","username":"Amjadnz","ts":"2017-06-06T20:53:07.852Z"}
{"msg":"@here does state key-value have limited size (couchdb is used)?","username":"bh4rtp","ts":"2017-06-07T01:27:05.313Z"}
{"msg":"@here does state key & value have limited size (couchdb is used)?","username":"bh4rtp","ts":"2017-06-07T01:27:05.313Z"}
{"msg":"@Amjadnz The easiest way to configure the couch admin username/password is to expose port 5984 and then use Fauxton UI http://localhost:5984/_utils/ to set the username/password in the Admin Party section. ","username":"dave.enyeart","ts":"2017-06-07T02:51:33.215Z"}
{"msg":"This ends up as a local.ini entry. Production systems would likely update local.ini directly, but you can try it via the UI the first time to understand what gets configured","username":"dave.enyeart","ts":"2017-06-07T02:52:20.696Z"}
{"msg":"there is guidance in the starter local.ini file: https://github.com/hyperledger/fabric/blob/master/images/couchdb/local.ini","username":"dave.enyeart","ts":"2017-06-07T02:52:37.827Z"}
{"msg":"and full couchdb reference: http://docs.couchdb.org/en/2.0.0/config-ref.html","username":"dave.enyeart","ts":"2017-06-07T02:52:55.597Z"}
{"msg":"http://docs.couchdb.org/en/2.0.0/config/auth.html#admins","username":"dave.enyeart","ts":"2017-06-07T02:53:10.152Z"}
{"msg":"Then you pass the username and password to the peer as you demonstrated above","username":"dave.enyeart","ts":"2017-06-07T02:53:36.599Z"}
{"msg":"@bh4rtp You can also look at local.ini and the couchdb reference. Look for the max_document_size.","username":"dave.enyeart","ts":"2017-06-07T02:55:05.172Z"}
{"msg":"[moving this to #fabric-ledger  ](https://chat.hyperledger.org/channel/fabric-maintainers?msg=5uYXJBKmgg75TiqSm) @kelvinzhong ","username":"mastersingh24","ts":"2017-06-07T08:45:30.097Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-maintainers?msg=5uYXJBKmgg75TiqSm","url":"https://chat.hyperledger.org/channel/fabric-maintainers?msg=5uYXJBKmgg75TiqSm","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@kelvinzhong There are two aspects of this - chaincode container shim to peer interaction, and peer to database interaction.","username":"dave.enyeart","ts":"2017-06-07T11:08:23.530Z"}
{"msg":"*Chaincode container shim to peer interaction*: The results are actually implicitly batched.  Say there are 100,000 results to the query.  Only 100 results will get returned to the chaincode container shim.  The chaincode will next() through the results. If the chaincode tries to next() to the 101st item, then the next batch of 100 will get returned, and so on.  The chaincode can decide if it wants to stop at some application limit, or next() through the entire result set.","username":"dave.enyeart","ts":"2017-06-07T11:08:56.929Z"}
{"msg":"*Peer to database interaction*: This depends on the database.","username":"dave.enyeart","ts":"2017-06-07T11:09:18.848Z"}
{"msg":"If using the default in-process *LevelDB* database, then LevelDB only returns an iterator (pointer) to the keys, not the full result set. Peer will next() through the key results 100 at a time and LevelDB will cursor through them. Each set of 100 are returned to chaincode container shim, depending on how far the chaincode traverses the result set.","username":"dave.enyeart","ts":"2017-06-07T11:09:32.826Z"}
{"msg":"If using the default in-process *LevelDB* database, then LevelDB only returns an iterator (pointer) to the keys, not the full result set. Peer will next() through the key results 100 at a time (as needed by chaincode shim) and LevelDB will cursor through them. Each set of 100 are returned to chaincode container shim, depending on how far the chaincode traverses the result set.","username":"dave.enyeart","ts":"2017-06-07T11:09:32.826Z"}
{"msg":"If using *CouchDB*, then the database is in a separate process.  Peer will ask CouchDB for the entire result set, and then feed results to chaincode 100 at a time. In order to mitigate very large requests (either accidental or malicous), there is a configurable cap on the number of results that CouchDB will return.  It is configured in peer via ledger.state.queryLimit property (core.yaml or passed to peer as env variable), with default of 10000.  This is sufficient for initial release, but there is intent to improve upon it in subsequent releases, so that very large result sets are never passed between peer and CouchDB.","username":"dave.enyeart","ts":"2017-06-07T11:09:45.812Z"}
{"msg":"If using *CouchDB*, then the database is in a separate process.  Peer will ask CouchDB for the entire result set, and then feed results to chaincode 100 at a time (as requested by chaincode shim). In order to mitigate very large requests (either accidental or malicous), there is a configurable cap on the number of results that CouchDB will return.  It is configured in peer via ledger.state.queryLimit property (core.yaml or passed to peer as env variable), with default of 10000.  This is sufficient for initial release, but there is intent to improve upon it in subsequent releases, so that very large result sets are never passed between peer and CouchDB.","username":"dave.enyeart","ts":"2017-06-07T11:09:45.812Z"}
{"msg":"If using *CouchDB*, then the database is in a separate process.  Peer will ask CouchDB for the entire result set, and then feed results to chaincode 100 at a time (as requested by chaincode shim). In order to mitigate very large requests (either accidental or malicous), there is a configurable cap on the number of results that CouchDB will return.  It is configured in peer via ledger.state.queryLimit property (core.yaml or passed to peer as env variable), with default of 10000.  This is sufficient for initial release, but there is intent to improve upon it in subsequent releases, so that very large result sets are never passed between peer and CouchDB (FAB-2809).","username":"dave.enyeart","ts":"2017-06-07T11:09:45.812Z"}
{"msg":"Since queryLimit applies only to CouchDB now (it used to apply to both), it should probably be moved to ledger.state.couchDBConfig.queryLimit now.","username":"dave.enyeart","ts":"2017-06-07T11:14:50.911Z"}
{"msg":"@chris.elder @manish-sethi What do you think? I could open a defect as such and we could fix after the next release milestone","username":"dave.enyeart","ts":"2017-06-07T11:16:13.270Z"}
{"msg":"@kelvinzhong also, I believe both leveldb and couchdb return results in key lexicographical order.  Let us know if you see otherwise.","username":"dave.enyeart","ts":"2017-06-07T11:41:44.364Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=BmvpLR3BuhKuWEWvS) @dave.enyeart - I would try that. Thanks.","username":"Amjadnz","ts":"2017-06-07T12:05:59.505Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BmvpLR3BuhKuWEWvS","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BmvpLR3BuhKuWEWvS","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I would agree with moving queryLimit back under the couchDBConfig section ","username":"chris.elder","ts":"2017-06-07T13:13:13.986Z"}
{"msg":"@here how to query object using `GetQueryResult`with OR logic? for example, `name = x OR desc = x`","username":"bh4rtp","ts":"2017-06-07T14:10:01.479Z"}
{"msg":"This the syntax for constructing a OR query:","username":"chris.elder","ts":"2017-06-07T14:14:56.436Z"}
{"msg":"{selector\":{\"$or\":[{\"name\":{\"$eq\":\"x\"}},{\"desc\": {\"$eq\": \"x\"}}]}}","username":"chris.elder","ts":"2017-06-07T14:14:58.323Z"}
{"msg":"@chris.elder great, thanks. :v: ","username":"bh4rtp","ts":"2017-06-07T14:17:08.581Z"}
{"msg":"{\"selector\":{\"$or\":[{\"name\":{\"$eq\":\"x\"}},{\"desc\": {\"$eq\": \"x\"}}]}},  missed a quote in the earlier","username":"chris.elder","ts":"2017-06-07T14:22:56.900Z"}
{"msg":"ok. thanks again.","username":"bh4rtp","ts":"2017-06-07T14:23:20.277Z"}
{"msg":"@chris.elder how to cope with nested struct in query string? for example `someEntityObj.Naming.name = x OR someEntityObj.Naming.desc = x`\nfor name: {\"naming\":{\"name\":{\"$eq\":\"x\"}}}, is this correct?","username":"bh4rtp","ts":"2017-06-07T14:35:46.278Z"}
{"msg":"{\"someEntityObj.Naming.name\":{\"$eq\":\"x\"}}","username":"chris.elder","ts":"2017-06-07T14:39:42.829Z"}
{"msg":"@chris.elder that is smart! ","username":"bh4rtp","ts":"2017-06-07T14:41:35.977Z"}
{"msg":"@chris.elder and how about (doc = x && (name = y || desc = y))?\n`{\"selector\":{\"$and\":[{\"doc\":{\"$eq\":\"y\"},{\"$or\":[{\"name\":{\"$eq\":\"x\"}},{\"desc\": {\"$eq\": \"x\"}}]}]}}`\ncorrect?","username":"bh4rtp","ts":"2017-06-07T14:49:48.326Z"}
{"msg":"@chris.elder and how about (doc = y && (name = x || desc = x))?\n`{\"selector\":{\"$and\":[{\"doc\":{\"$eq\":\"y\"},{\"$or\":[{\"name\":{\"$eq\":\"x\"}},{\"desc\": {\"$eq\": \"x\"}}]}]}}`\ncorrect?","username":"bh4rtp","ts":"2017-06-07T14:49:48.326Z"}
{"msg":"yes,  that is correct","username":"chris.elder","ts":"2017-06-07T14:53:00.249Z"}
{"msg":"Hello, we need a trainer for hyperledger fabric and node js sdk. Is here anybody with good experience with such technology?","username":"d8bhatta","ts":"2017-06-07T15:35:07.212Z"}
{"msg":"Has left the channel.","username":"smithbk","ts":"2017-06-07T15:46:37.845Z","type":"ul"}
{"msg":"Has joined the channel.","username":"JonathanLevi","ts":"2017-06-08T02:59:26.623Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jeangui","ts":"2017-06-08T06:41:49.888Z","type":"uj"}
{"msg":"Has joined the channel.","username":"butch.g","ts":"2017-06-09T02:06:19.842Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rezamt","ts":"2017-06-09T10:19:44.231Z","type":"uj"}
{"msg":"can i call another chaincode in the domain of current chaincode?","username":"bh4rtp","ts":"2017-06-11T11:11:24.809Z"}
{"msg":"@bh4rtp you mean call another chaincode in the same channel as the calling chaincode ? yes.","username":"muralisr","ts":"2017-06-11T13:56:31.776Z"}
{"msg":"@muralisr yes, in the same channel. when the chaincode is instantiated, a docker chaincode image will be created. i wonder if a channel has two chaincodes, i.e. `SimpleChaincode1` and `SimpleChaincode2`, need to install and instantiate these chaincodes for each? if yes, there will be two docker chaincode images created. and then, how to call `SimpleChinacode2` from `SimpleChaincode1`?","username":"bh4rtp","ts":"2017-06-12T00:37:00.606Z"}
{"msg":"@bh4rtp install and and instantiate the called chaincode and then call it ","username":"muralisr","ts":"2017-06-12T00:39:23.171Z"}
{"msg":"ok. thanks. ","username":"bh4rtp","ts":"2017-06-12T00:40:26.726Z"}
{"msg":"Has joined the channel.","username":"Mnorberto","ts":"2017-06-12T04:16:59.176Z","type":"uj"}
{"msg":"how can we start couchdb outside docker container ?","username":"anik","ts":"2017-06-12T11:40:51.492Z"}
{"msg":"","username":"anik","ts":"2017-06-12T11:59:33.094Z","attachments":[{"title":"File Uploaded: couchdb.GIF","title_link":"/file-upload/RuGT4mgtCG5vn4p2f/couchdb.GIF","image_url":"/file-upload/RuGT4mgtCG5vn4p2f/couchdb.GIF","image_type":"image/gif","image_size":53242,"url":"/file-upload/RuGT4mgtCG5vn4p2f/couchdb.GIF","remote":false,"fileId":"RuGT4mgtCG5vn4p2f","fileName":"couchdb.GIF"}]}
{"msg":"i m running in HV1.0  alpha 2","username":"anik","ts":"2017-06-12T12:00:13.743Z"}
{"msg":"@anik You can go to couchdb website, download couchdb 2.0, and run it locally. The fabric-couchdb image has no functional changes, just some configured optimizations which are not needed for trial environments.","username":"dave.enyeart","ts":"2017-06-12T13:01:48.079Z"}
{"msg":"@dave.enyeart To clarify your comment above.. Does this mean you recommend not using a local couchdb in production?","username":"pd93","ts":"2017-06-12T13:44:48.320Z"}
{"msg":"We recommend running the fabric docker containers in production, just mentioning that it is possible to download and run couchdb local, if you prefer.","username":"dave.enyeart","ts":"2017-06-12T14:05:11.534Z"}
{"msg":"@dave.enyeart  actually i m  getting hash mismatch error while running make couchdb command.Is it dependent on any binary before it pull the docker image ?","username":"anik","ts":"2017-06-12T14:11:46.410Z"}
{"msg":"@dave.enyeart  somehow running the make docker  clean fixed the problem for me","username":"anik","ts":"2017-06-12T14:19:50.605Z"}
{"msg":"Has joined the channel.","username":"rogeriofza","ts":"2017-06-18T19:24:06.296Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sfukazu","ts":"2017-06-19T06:35:26.788Z","type":"uj"}
{"msg":"Has joined the channel.","username":"roj","ts":"2017-06-19T10:41:48.717Z","type":"uj"}
{"msg":"Has joined the channel.","username":"akdj","ts":"2017-06-19T14:21:01.925Z","type":"uj"}
{"msg":"Has joined the channel.","username":"terrypst","ts":"2017-06-19T15:41:51.608Z","type":"uj"}
{"msg":"Hi guys, \nI'm trying to incorporate couchdb to the Todo-list hyperledger fabric project, in order to make rich queries.","username":"terrypst","ts":"2017-06-19T15:42:42.807Z"}
{"msg":"Hi guys, \nI'm trying to incorporate couchdb to the Todo-list hyperledger fabric project, in order to make rich queries.","username":"terrypst","ts":"2017-06-19T15:42:42.807Z"}
{"msg":"Hi guys, \nI'm trying to incorporate couchdb to the Todo-list hyperledger fabric project, in order to make rich queries.\nWhat are the steps to switch from levelDB to couchDB ? \n\nI just have to modify the docker-compose file, adding couchdb peers, and add corresponding dependances to fabric-peer ?","username":"terrypst","ts":"2017-06-19T15:42:42.807Z"}
{"msg":"Has joined the channel.","username":"joedayz","ts":"2017-06-19T23:16:46.767Z","type":"uj"}
{"msg":"Hi guys, Here in my company we are starting a new project related with blockchain. I  am this taks: install hyperledger-fabric in one server, but I have another server for install another node. Where I can get it information?","username":"joedayz","ts":"2017-06-19T23:17:57.847Z"}
{"msg":"@joedayz If you need instructions on how to install, I suggest you start here: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst","username":"berserkr","ts":"2017-06-20T00:46:53.918Z"}
{"msg":"hi, install chaincode failed with below error.\n`Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: \"exec: not started\"`\nhow to fix this problem?","username":"bh4rtp","ts":"2017-06-20T03:48:56.966Z"}
{"msg":"Has joined the channel.","username":"mm-hl","ts":"2017-06-20T04:33:08.989Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dongqi","ts":"2017-06-20T08:36:46.932Z","type":"uj"}
{"msg":"Has joined the channel.","username":"arner","ts":"2017-06-20T13:37:08.110Z","type":"uj"}
{"msg":"Hi @bh4rtp this happens when you try to install chaincode from the peer container (because golang is not installed in there). Use the `fabric-tools` as base to install chaincode (the cli container in the example)","username":"arner","ts":"2017-06-20T13:38:24.442Z"}
{"msg":"Other question: when I install and instantiate chaincode from one peer and then try to install the same code and query from another peer, I get the following error: ```\nError: Error endorsing query: rpc error: code = Unknown desc = Error executing chaincode: Could not get deployment transaction from LSCC for mycc:1.0 - Get ChaincodeDeploymentSpec for mycc/mychannel from LSCC error: chaincode fingerprint mismatch data mismatch - <nil>\n```\nHow can I resolve or at least debug this?","username":"arner","ts":"2017-06-20T13:41:30.066Z"}
{"msg":"@arner yes, it is also because PATH has not include $GOROOT/bin.","username":"bh4rtp","ts":"2017-06-20T14:37:26.342Z"}
{"msg":"i usually use `docker logs PEER_CONTAINER_ID ` to find the reason.","username":"bh4rtp","ts":"2017-06-20T14:41:46.249Z"}
{"msg":"@terrypst you can learn from e2e_cli example, which supports couchdb specified by command arguments to load `docker-composer-couchdb.yaml` or not.","username":"bh4rtp","ts":"2017-06-21T00:28:15.740Z"}
{"msg":"@terrypst you can learn from e2e_cli example, which supports couchdb specified by command arguments to load `docker-compose-couchdb.yaml` or not.","username":"bh4rtp","ts":"2017-06-21T00:28:15.740Z"}
{"msg":"hi, i am inspecting e2e_cli ledgers on orderer0, peer0~3. and find that the size of my chain storage file (blockfile_000000) is different listed as below.\norder0: 149452 bytes\npeer0: 149480 bytes\npeer1~peer3: same as peer0\nwhy is the orderer ledger size 28 bytes less than peer0~3?","username":"bh4rtp","ts":"2017-06-22T03:06:58.611Z"}
{"msg":"hi, i am inspecting e2e_cli ledgers on orderer0, peer0~3. and find that the size of my chain storage file (blockfile_000000) is different. the file sizes are listed as below.\norder0: 149452 bytes\npeer0: 149480 bytes\npeer1~peer3: same as peer0\nwhy is the orderer ledger size 28 bytes less than peer0~3?","username":"bh4rtp","ts":"2017-06-22T03:06:58.611Z"}
{"msg":"hi, i am inspecting e2e_cli ledgers on orderer0, peer0~3. and find that the size of my chain storage file (blockfile_000000) is different. the file sizes are listed as below.\norderer0: 149452 bytes\npeer0: 149480 bytes\npeer1~peer3: same as peer0\nwhy is the orderer ledger size 28 bytes less than peer0~3?","username":"bh4rtp","ts":"2017-06-22T03:06:58.611Z"}
{"msg":"@bh4rtp Peer adds some additional metadata into the non-hashed portion of the block, specifically an indicator of whether transactions were validated or invalidated at commit time.  Orderer is not aware of this and doesn't record this.","username":"dave.enyeart","ts":"2017-06-22T11:46:00.314Z"}
{"msg":"Has joined the channel.","username":"sidrmsh","ts":"2017-06-22T17:20:10.447Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sidney803","ts":"2017-06-23T02:20:03.818Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chenxuan","ts":"2017-06-26T02:45:55.961Z","type":"uj"}
{"msg":"2017-06-26 10:20:07,481:INFO http-nio-8080-exec-2 (Util.java:39) - Created channel channel\n2017-06-26 10:20:07,621:INFO http-nio-8080-exec-2 (Channel.java:413) - Peer peer1.org1.example.com joined into channel channel\n2017-06-26 10:20:07,622:INFO http-nio-8080-exec-2 (Util.java:39) - Peer peer1.org1.example.com joined channle channel\n2017-06-26 10:20:07,648:ERROR http-nio-8080-exec-2 (Channel.java:2138) - Sending proposal to peer0.org1.example.com failed because of gRPC failure=Status{code=UNKNOWN, description=chaincode error (status: 500, message: Cannot create ledger from genesis block, due to LedgerID already exists), cause=null}\njava.lang.Exception: io.grpc.StatusRuntimeException: UNKNOWN: chaincode error (status: 500, message: Cannot create ledger from genesis block, due to LedgerID already exists)","username":"chenxuan","ts":"2017-06-26T02:46:22.193Z"}
{"msg":"anyone occur the error","username":"chenxuan","ts":"2017-06-26T02:46:31.209Z"}
{"msg":"?","username":"chenxuan","ts":"2017-06-26T02:46:31.730Z"}
{"msg":"you tried to join channel twice?","username":"yacovm","ts":"2017-06-26T10:15:42.989Z"}
{"msg":"no","username":"chenxuan","ts":"2017-06-26T10:29:51.724Z"}
{"msg":"the peer0.org1.example.com join the channel","username":"chenxuan","ts":"2017-06-26T10:30:13.358Z"}
{"msg":"the peer1.org1.example.com join the channel","username":"chenxuan","ts":"2017-06-26T10:30:23.122Z"}
{"msg":"Has joined the channel.","username":"gdinhof","ts":"2017-06-27T07:55:17.053Z","type":"uj"}
{"msg":"Hi guys, I have a question regarding to the user accounts admin1 and user1 in fabric crypto-config. \na) Why do we need o create them ?\nb) Is there any role / definition of permission between these two user accounts?\nc) How can I use them ? the application of them.","username":"rezamt","ts":"2017-06-27T12:01:21.849Z"}
{"msg":"@rezamt I've posted your question to the #fabric-crypto channel","username":"dave.enyeart","ts":"2017-06-27T12:09:16.564Z"}
{"msg":"@dave.enyeart  thanks. I wasn't sure to post it here or somewhere else. ","username":"rezamt","ts":"2017-06-27T12:09:47.004Z"}
{"msg":"Has joined the channel.","username":"peterkn","ts":"2017-06-28T02:56:03.582Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nehalshah50","ts":"2017-06-29T20:12:49.121Z","type":"uj"}
{"msg":"From what I can tell, it doesn't appear chaincode source doesn't end up in the ledger.  Is that really the case?  Seems like that would be extremely valuable.  Only the hash of the source code is persisted?","username":"toddinpal","ts":"2017-06-29T21:30:59.158Z"}
{"msg":"@toddinpal the code is not on the ledger. the lifcycle system chaincode \"lscc\" maintains records of instantiations on the ledger","username":"muralisr","ts":"2017-06-30T00:09:09.106Z"}
{"msg":"@muralisr Is there a specific reason the source code isn't saved on the ledger?  Without it, it would be difficult to completely recover using just the ledger.  As well I would think there would be regulatory situations where you might need to prove your chaincode behaved the way you claimed it did.","username":"toddinpal","ts":"2017-06-30T00:11:06.207Z"}
{"msg":"The only way to prove that would be to have the source code.","username":"toddinpal","ts":"2017-06-30T00:11:26.730Z"}
{"msg":"so the lscc does maintain the fingerprint of the code","username":"muralisr","ts":"2017-06-30T00:11:50.231Z"}
{"msg":"for regulatory purposes we can compare the fingerprint with the code. ","username":"muralisr","ts":"2017-06-30T00:12:45.390Z"}
{"msg":"right...  Is there a reason to only maintain the hash?","username":"toddinpal","ts":"2017-06-30T00:13:19.184Z"}
{"msg":"The flipside of having the code in the ledger would be that it'll be available to everyone on the channel... having it outside gives you the option of controlling who \"owns\" the code (ie, those that can endorse)","username":"muralisr","ts":"2017-06-30T00:13:44.580Z"}
{"msg":"yeah, but that seems like a privacy issue...","username":"toddinpal","ts":"2017-06-30T00:14:33.722Z"}
{"msg":"hmmm  maybe not","username":"toddinpal","ts":"2017-06-30T00:14:58.813Z"}
{"msg":"it basically gives you more flexibility as to who can have the code","username":"muralisr","ts":"2017-06-30T00:15:55.435Z"}
{"msg":"OK, so it \"protects\" the code from the non-endorsing peers on the channel","username":"toddinpal","ts":"2017-06-30T00:16:34.033Z"}
{"msg":"right, that and in general only those that need the code have it.","username":"muralisr","ts":"2017-06-30T00:17:47.344Z"}
{"msg":"Although the source could be encrypted before being placed on the ledger...","username":"toddinpal","ts":"2017-06-30T00:18:44.363Z"}
{"msg":"sure","username":"muralisr","ts":"2017-06-30T00:18:51.640Z"}
{"msg":"but then we have to solve problems as to who can decrypt etc, but yes, that's another approach. ","username":"muralisr","ts":"2017-06-30T00:20:12.273Z"}
{"msg":"yup...   ok, many thanks!  :-)","username":"toddinpal","ts":"2017-06-30T00:22:17.647Z"}
{"msg":"Hi","username":"mffrench","ts":"2017-06-30T09:53:52.298Z"}
{"msg":"I'm currently facing an issue with orderer and ledger (file mode)","username":"mffrench","ts":"2017-06-30T09:54:08.794Z"}
{"msg":"is this channel the good place to speak about it ?","username":"mffrench","ts":"2017-06-30T09:54:19.117Z"}
{"msg":"let me know if I need to move the problem description in another channel ","username":"mffrench","ts":"2017-06-30T09:55:09.962Z"}
{"msg":"here's my issue : \n\n*1)* I start the fabric env (one app, one peer, one chaincode, one orderer, one ca) through a `docker-compose up -d`. Ledger in orderer is configured as file.  \n\n*2)* Then I stop and remove all (`docker-compose stop && docker-compose rm -f`). \n\n*NOTE:* I configured all containers to store files like conf and ledger files in the host. So when removing containers I dont remove the existing data and conf.\n\n*3)* Then I restart (`docker-compose up -d`). And I finally get following error :\n\n```\n2017-06-30 10:00:21.127 UTC [orderer/main] main -> INFO 001 Starting orderer with TLS enabled\n2017-06-30 10:00:21.210 UTC [msp] getMspConfig -> INFO 002 MSP configuration file not found at [/etc/hyperledger/fabric/orderer/msp/config.yaml]: [stat /etc/hyperledger/fabric/orderer/msp/config.yaml: no such file or directory]\n2017-06-30 10:00:21.276 UTC [orderer/main] main -> INFO 003 Not bootstrapping because of existing chains\n2017-06-30 10:00:21.294 UTC [orderer/multichain] newLedgerResources -> CRIT 004 Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG\npanic: Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG\n\ngoroutine 1 [running]:\npanic(0xb035e0, 0xc420349420)\n\t/opt/go/src/runtime/panic.go:500 +0x1a1\ngithub.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4201b98c0, 0xc3a748, 0x30, 0xc420349370, 0x1, 0x1)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127\ngithub.com/hyperledger/fabric/orderer/multichain.(*multiLedger).newLedgerResources(0xc420338000, 0xc420257440, 0xc420257440)\n\t/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:159 +0x393\ngithub.com/hyperledger/fabric/orderer/multichain.NewManagerImpl(0x11b03c0, 0xc420358220, 0xc4202565a0, 0x11adbc0, 0x11f4980, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:109 +0x23b\nmain.main()\n\t/opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:174 +0x179d\n```","username":"mffrench","ts":"2017-06-30T10:01:15.555Z"}
{"msg":"here's my issue : \n\n*1)* I start the fabric env (one app, one peer, one chaincode, one orderer, one ca) through a `docker-compose up -d`. Ledger in orderer is configured as file.  \n\n*2)* Then I stop and remove all ( `docker-compose stop && docker-compose rm -f` ). \n\n*NOTE:* I configured all containers to store files like conf and ledger files in the host. So when removing containers I dont remove the existing data and conf.\n\n*3)* Then I restart ( `docker-compose up -d` ). And I finally get following error :\n\n```\n2017-06-30 10:00:21.127 UTC [orderer/main] main -> INFO 001 Starting orderer with TLS enabled\n2017-06-30 10:00:21.210 UTC [msp] getMspConfig -> INFO 002 MSP configuration file not found at [/etc/hyperledger/fabric/orderer/msp/config.yaml]: [stat /etc/hyperledger/fabric/orderer/msp/config.yaml: no such file or directory]\n2017-06-30 10:00:21.276 UTC [orderer/main] main -> INFO 003 Not bootstrapping because of existing chains\n2017-06-30 10:00:21.294 UTC [orderer/multichain] newLedgerResources -> CRIT 004 Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG\npanic: Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG\n\ngoroutine 1 [running]:\npanic(0xb035e0, 0xc420349420)\n\t/opt/go/src/runtime/panic.go:500 +0x1a1\ngithub.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4201b98c0, 0xc3a748, 0x30, 0xc420349370, 0x1, 0x1)\n\t/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127\ngithub.com/hyperledger/fabric/orderer/multichain.(*multiLedger).newLedgerResources(0xc420338000, 0xc420257440, 0xc420257440)\n\t/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:159 +0x393\ngithub.com/hyperledger/fabric/orderer/multichain.NewManagerImpl(0x11b03c0, 0xc420358220, 0xc4202565a0, 0x11adbc0, 0x11f4980, 0x0, 0x0)\n\t/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:109 +0x23b\nmain.main()\n\t/opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:174 +0x179d\n```","username":"mffrench","ts":"2017-06-30T10:01:15.555Z"}
{"msg":"uhm just saw this `MSP configuration file not found at [/etc/hyperledger/fabric/orderer/msp/config.yaml]: [stat /etc/hyperledger/fabric/orderer/msp/config.yaml: no such file or directory]`","username":"mffrench","ts":"2017-06-30T10:03:01.397Z"}
{"msg":"not sure this is related with the rest ","username":"mffrench","ts":"2017-06-30T10:05:25.595Z"}
{"msg":"not sure there is link with the panic error ","username":"mffrench","ts":"2017-06-30T10:05:25.595Z"}
{"msg":"I think this is not linked as when I'm starting from scratch the orderer log same and is starting fine : \n\n```\n2017-06-30 10:07:05.700 UTC [orderer/main] main -> INFO 001 Starting orderer with TLS enabled\n2017-06-30 10:07:05.910 UTC [msp] getMspConfig -> INFO 002 MSP configuration file not found at [/etc/hyperledger/fabric/orderer/msp/config.yaml]: [stat /etc/hyperledger/fabric/orderer/msp/config.yaml: no such file or directory]\n2017-06-30 10:07:06.077 UTC [orderer/multichain] NewManagerImpl -> INFO 003 Starting with system channel testchainid and orderer type solo\n2017-06-30 10:07:06.077 UTC [orderer/main] NewServer -> INFO 004 Starting orderer\n2017-06-30 10:07:06.078 UTC [orderer/main] main -> INFO 005 Beginning to serve requests\n```","username":"mffrench","ts":"2017-06-30T10:09:08.942Z"}
{"msg":"if you have any idea on how I can solve this issue please share ;)","username":"mffrench","ts":"2017-06-30T10:10:43.613Z"}
{"msg":"There isn't a link","username":"yacovm","ts":"2017-06-30T10:19:17.100Z"}
{"msg":"can you upload you docker-compose files?","username":"yacovm","ts":"2017-06-30T10:20:43.818Z"}
{"msg":"to pastebin, etc.","username":"yacovm","ts":"2017-06-30T10:20:46.761Z"}
{"msg":"Has joined the channel.","username":"Asara","ts":"2017-06-30T13:26:17.989Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jrosmith","ts":"2017-06-30T13:28:11.571Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gen_el","ts":"2017-06-30T14:25:21.157Z","type":"uj"}
{"msg":"How do i create an asset that can not be updated? Its an asset that exists as long a channel exists.","username":"gen_el","ts":"2017-06-30T14:27:19.546Z"}
{"msg":"@gen_el - you will have to put this logic in your chaincode.","username":"manish-sethi","ts":"2017-06-30T14:30:14.360Z"}
{"msg":"@manish-sethi And there is no other way? ","username":"gen_el","ts":"2017-06-30T14:32:00.086Z"}
{"msg":"No, what other way you have in mind?","username":"manish-sethi","ts":"2017-06-30T14:33:28.068Z"}
{"msg":"by design, fabric-ledger manages state without know the application context and it provides all create/update/delete operations on state elements.","username":"manish-sethi","ts":"2017-06-30T14:35:41.719Z"}
{"msg":"by design, fabric-ledger manages state without knowledge of the application context and it provides all create/update/delete operations on state elements.","username":"manish-sethi","ts":"2017-06-30T14:35:41.719Z"}
{"msg":"App (chaincode) manages it's logic of manipulating the state","username":"manish-sethi","ts":"2017-06-30T14:36:25.946Z"}
{"msg":"Has joined the channel.","username":"rfrabasile","ts":"2017-06-30T14:38:44.951Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=TRjFdgd6wcoBwvHfR) @manish-sethi Ok. I see","username":"gen_el","ts":"2017-06-30T14:48:26.815Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TRjFdgd6wcoBwvHfR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TRjFdgd6wcoBwvHfR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"dashengSun","ts":"2017-06-30T14:48:34.111Z","type":"uj"}
{"msg":"Has joined the channel.","username":"awa","ts":"2017-07-02T10:53:07.534Z","type":"uj"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go#L229-L235\n @dave.enyeart , @muralisr what does this do? can we get rid of it? ","username":"yacovm","ts":"2017-07-02T22:11:59.278Z"}
{"msg":"It embeds an existing interface so I don't see the point of having it, or am I missing something?","username":"yacovm","ts":"2017-07-02T22:12:53.407Z"}
{"msg":"The GetHistoryForKey and GetQueryResult aren't implemented in the mockstub, but I don't see why it's related","username":"yacovm","ts":"2017-07-02T22:14:14.614Z"}
{"msg":"Has joined the channel.","username":"awattez","ts":"2017-07-03T16:03:48.874Z","type":"uj"}
{"msg":"Has joined the channel.","username":"VishalBatra","ts":"2017-07-05T07:23:34.861Z","type":"uj"}
{"msg":"Has joined the channel.","username":"elrond","ts":"2017-07-05T11:59:15.177Z","type":"uj"}
{"msg":"hey guys, can anyone tell me if one could use a custom key for the putState and getState in the fabric? for instance the \"err = stub.PutState(A, []byte(strconv.Itoa(Aval)))\"; can we instead of the \"A\" being a string representing the key here, can \"A\" be a custom defined object?","username":"elrond","ts":"2017-07-05T12:00:49.563Z"}
{"msg":"@muralisr ^ ","username":"yacovm","ts":"2017-07-05T12:17:51.338Z"}
{"msg":"@here I have a question about object storage in ledger when it comes to searching. Is there a way to create a ledger entry with multiple keys? For example, I have a Contract object that has an id, a consumer, and a provider. I want to store these contract and be able to search for them by consumer, provider, or id.","username":"akashmar","ts":"2017-07-05T13:20:59.463Z"}
{"msg":"@elrond the key has to be a string. However, you can build a composite key that can be constructed from multiple independent attributes. You can look for the further details on this in the documentation. Also, if you use couch db, you can perform search queries on anyattribute(s) of the `value` as well.","username":"manish-sethi","ts":"2017-07-05T13:36:04.555Z"}
{"msg":"@akashmar the above answer is applicable to your query as well","username":"manish-sethi","ts":"2017-07-05T13:37:00.289Z"}
{"msg":"yes, iv seen it in the marbles example, very interesting and straight forward. thanks","username":"elrond","ts":"2017-07-05T13:37:33.855Z"}
{"msg":"What kind of queries can I perform on the default db? Is there an example somewhere? The marbles example says the queries are only supported by a state database that supports rich queries like couchdb.","username":"akashmar","ts":"2017-07-05T13:44:38.188Z"}
{"msg":"@akashmar - there are two dbs that are supported as yet. Leveldb and couchdb - the default is leveldb. In both of these dbs, point queries (lookup by key) and key range queries are supported. In addition, you can use couch query language if you are using couchdb underneath. However, a caveat with couch queries would be that the full serializable isolation level is not supported if transactions use this (For the key lookup and range queries) it is supported. So, ideally, couch rich query you may want to limit to read only transactions - unless you are very sure of your application semantics - e.g., I am fine even if my transactions observe phantoms and hence do not care of serializable isolation level.","username":"manish-sethi","ts":"2017-07-05T13:52:33.263Z"}
{"msg":"@akashmar - there are two dbs that are supported as yet. Leveldb and couchdb - the default is leveldb. In both of these dbs, point queries (lookup by key) and key range queries are supported. In addition, you can use couch query language if you are using couchdb underneath. However, a caveat with couch queries would be that the full serializable isolation level is not supported if transactions use this (For the key lookup and range queries, it is supported). So, ideally, couch rich query - you may want to limit to read only transactions - unless you are very sure of your application semantics - e.g., I am fine even if my transactions observe phantoms and hence do not care of serializable isolation level.","username":"manish-sethi","ts":"2017-07-05T13:52:33.263Z"}
{"msg":"Got it. Thanks!","username":"akashmar","ts":"2017-07-05T13:54:16.138Z"}
{"msg":"Has joined the channel.","username":"qizhang","ts":"2017-07-05T14:59:10.392Z","type":"uj"}
{"msg":"Hi everyone. I have a question about how a peer maintains its ledger. In Fabric, each peer maintains a full copy of the ledger/blockchain (let's assume there is only one channel). What will happen if a peer lost one of its blocks in the blockchain (e.g. another process on the peer accidentally wiped out the disk area that stores the block)? Will this peer be able to detect that this block is missing? If yes, how will the peer detect it and how is it going to repair? It will also be helpful if some clue from the source code can be provided. Thanks!","username":"qizhang","ts":"2017-07-05T15:02:34.434Z"}
{"msg":"@qizhang the blocks are maintained in the block files (64MB each). Whenever the ledger would try the get blocks from the affected area of the file (that you mentioned in your scenario), it would detect the error and a panic is expected. Scanning the blocks within a block range (e.g., retrieve blocks between 10 and 100) is one such function - In other words, the ledger would detect the error only when it uses the file.\n\nLedger would not automatically fix the error and a restoration of the corrupted file is expected from the admin - either from a back up (if any) or from a peer that you trust. In the worst case, one can delete all the upwards files (the corrupted file and the files afterwards based on the numbering and the block indexes). Now, upon restart, the peer would be able to get the blocks again from the network)\n\nFor the code reference, you may like to explore this package https://github.com/hyperledger/fabric/tree/master/common/ledger/blkstorage","username":"manish-sethi","ts":"2017-07-06T02:56:32.021Z"}
{"msg":"In particular - you may like to go through this file https://github.com/hyperledger/fabric/blob/master/common/ledger/blkstorage/fsblkstorage/block_stream.go","username":"manish-sethi","ts":"2017-07-06T02:58:11.822Z"}
{"msg":"Has joined the channel.","username":"HuangLijun","ts":"2017-07-06T06:53:30.181Z","type":"uj"}
{"msg":"@manish-sethi Thanks! When a ledger is going to use the file that stores a block whose height is far less than that of the block head? Does a peer need to go over all the related historical transactions in the ledger in order to validate a newly arrived transaction? If yes, that could be a scenario that an older block needs to be accessed.","username":"qizhang","ts":"2017-07-06T14:28:47.701Z"}
{"msg":"No. Validation of newly arrived transactions is performed against statedb. The statedb maintains the latest state - which represent the net-effect of all the previous transactions. Going though actual blocks for validation will result in much poorer performance - which would further keep degrading as the time passes","username":"manish-sethi","ts":"2017-07-06T14:33:17.962Z"}
{"msg":"No. Validation of newly arrived transactions is performed against statedb. The statedb maintains the latest state - which represents the net-effect of all the previous transactions. Going though actual blocks for validation will result in much poorer performance - which would further keep degrading as the time passes","username":"manish-sethi","ts":"2017-07-06T14:33:17.962Z"}
{"msg":"@manish-sethi you mentioned that \"Scanning the blocks within a block range (e.g., retrieve blocks between 10 and 100) is one such function - In other words, the ledger would detect the error only when it uses the file.\". I am checking the block_stream.go, but still wondering in what scenario \"scanning the blocks within a block range\" will happen. Please advise.","username":"qizhang","ts":"2017-07-06T14:48:07.835Z"}
{"msg":"@manish-sethi what do you mean by 64MB each? a block can be less than 64MB no?","username":"yacovm","ts":"2017-07-06T15:13:50.578Z"}
{"msg":"@yacovm yes, a block a far less than 64MB. But a file is used in an append only mode for appending many blocks till the size crosses 64MB and at that instance a new file is created for next series of blocks","username":"manish-sethi","ts":"2017-07-06T15:16:10.742Z"}
{"msg":"ah, got it","username":"yacovm","ts":"2017-07-06T15:16:26.502Z"}
{"msg":"thanks","username":"yacovm","ts":"2017-07-06T15:16:32.677Z"}
{"msg":"@qizhang - the usual scenarios where the block files are touched are - some other peer asking for blocks (e.g., a newly joined peer or a peer trying to catch up) and rebuilding statedb/historydb from scrach.","username":"manish-sethi","ts":"2017-07-06T15:18:43.419Z"}
{"msg":"@manish-sethi I see. Thanks!","username":"qizhang","ts":"2017-07-06T15:28:11.705Z"}
{"msg":"Has joined the channel.","username":"DannyWong","ts":"2017-07-08T03:27:47.993Z","type":"uj"}
{"msg":"Interesting conversation, above thread improved my understanding too! thanks guy","username":"DannyWong","ts":"2017-07-08T03:32:27.080Z"}
{"msg":"s","username":"DannyWong","ts":"2017-07-08T03:32:27.983Z"}
{"msg":"hi, how does auditing work at the three level: system level, user level and contract level?","username":"bh4rtp","ts":"2017-07-10T01:25:05.366Z"}
{"msg":"hello, I learned that It does not matter about if the transaction is signed by respecting the endorsement policy or not, it wiil be sent as block to peers by orderer service, then peers will check the valididate of this transaction block, if it is validated, if will take effect in the transactions story. And in both cases , this block wiil be store in the ledger. \n\nBut can anyone tell me how to differentiate a valid transaction block, and an invalid transaction block? only by checking signatures? \nI used the nodejs sdk function channel.queryblock() to get block information of a valided transaction and an invalided one, however, I cannot see the difference between these two blocks' information, is there a target/label which indicate if this block is valided or not...?","username":"akdj","ts":"2017-07-11T12:02:19.959Z"}
{"msg":"@akdj block has a metadata field, which includes an array of transaction statuses","username":"C0rWin","ts":"2017-07-11T12:07:22.964Z"}
{"msg":"```// This is finalized block structure to be shared among the orderer and peer\n// Note that the BlockHeader chains to the previous BlockHeader, and the BlockData hash is embedded\n// in the BlockHeader.  This makes it natural and obvious that the Data is included in the hash, but\n// the Metadata is not.\ntype Block struct {\n\tHeader   *BlockHeader   `protobuf:\"bytes,1,opt,name=header\" json:\"header,omitempty\"`\n\tData     *BlockData     `protobuf:\"bytes,2,opt,name=data\" json:\"data,omitempty\"`\n\tMetadata *BlockMetadata `protobuf:\"bytes,3,opt,name=metadata\" json:\"metadata,omitempty\"`\n}```","username":"C0rWin","ts":"2017-07-11T12:07:34.678Z"}
{"msg":"```type BlockMetadata struct {\n\tMetadata [][]byte `protobuf:\"bytes,1,rep,name=metadata,proto3\" json:\"metadata,omitempty\"`\n}```","username":"C0rWin","ts":"2017-07-11T12:07:47.846Z"}
{"msg":"`BlockMetadataIndex_TRANSACTIONS_FILTER BlockMetadataIndex = 2`","username":"C0rWin","ts":"2017-07-11T12:08:08.426Z"}
{"msg":"here is the list of possible reasons","username":"C0rWin","ts":"2017-07-11T12:09:19.230Z"}
{"msg":"```const (\n\tTxValidationCode_VALID                        TxValidationCode = 0\n\tTxValidationCode_NIL_ENVELOPE                 TxValidationCode = 1\n\tTxValidationCode_BAD_PAYLOAD                  TxValidationCode = 2\n\tTxValidationCode_BAD_COMMON_HEADER            TxValidationCode = 3\n\tTxValidationCode_BAD_CREATOR_SIGNATURE        TxValidationCode = 4\n\tTxValidationCode_INVALID_ENDORSER_TRANSACTION TxValidationCode = 5\n\tTxValidationCode_INVALID_CONFIG_TRANSACTION   TxValidationCode = 6\n\tTxValidationCode_UNSUPPORTED_TX_PAYLOAD       TxValidationCode = 7\n\tTxValidationCode_BAD_PROPOSAL_TXID            TxValidationCode = 8\n\tTxValidationCode_DUPLICATE_TXID               TxValidationCode = 9\n\tTxValidationCode_ENDORSEMENT_POLICY_FAILURE   TxValidationCode = 10\n\tTxValidationCode_MVCC_READ_CONFLICT           TxValidationCode = 11\n\tTxValidationCode_PHANTOM_READ_CONFLICT        TxValidationCode = 12\n\tTxValidationCode_UNKNOWN_TX_TYPE              TxValidationCode = 13\n\tTxValidationCode_TARGET_CHAIN_NOT_FOUND       TxValidationCode = 14\n\tTxValidationCode_MARSHAL_TX_ERROR             TxValidationCode = 15\n\tTxValidationCode_NIL_TXACTION                 TxValidationCode = 16\n\tTxValidationCode_EXPIRED_CHAINCODE            TxValidationCode = 17\n\tTxValidationCode_CHAINCODE_VERSION_CONFLICT   TxValidationCode = 18\n\tTxValidationCode_BAD_HEADER_EXTENSION         TxValidationCode = 19\n\tTxValidationCode_BAD_CHANNEL_HEADER           TxValidationCode = 20\n\tTxValidationCode_BAD_RESPONSE_PAYLOAD         TxValidationCode = 21\n\tTxValidationCode_BAD_RWSET                    TxValidationCode = 22\n\tTxValidationCode_ILLEGAL_WRITESET             TxValidationCode = 23\n\tTxValidationCode_INVALID_OTHER_REASON         TxValidationCode = 255\n)```","username":"C0rWin","ts":"2017-07-11T12:09:23.005Z"}
{"msg":"Has joined the channel.","username":"wlahti","ts":"2017-07-11T12:11:27.903Z","type":"uj"}
{"msg":"Has joined the channel.","username":"trygvevang","ts":"2017-07-11T12:12:16.712Z","type":"uj"}
{"msg":"@C0rWin  thank you, I noticed the \"metadata\" in the json form of the blocks, and I guess it should be in \"value\" of \"metadata\" that is indicated the TxValidationCode ","username":"akdj","ts":"2017-07-11T12:12:45.603Z"}
{"msg":"however, I have nothing in the \"value\"..","username":"akdj","ts":"2017-07-11T12:12:58.082Z"}
{"msg":"Has joined the channel.","username":"mtxset","ts":"2017-07-11T12:13:08.245Z","type":"uj"}
{"msg":"```\n \"metadata\": {\n    \"metadata\": [\n      {\n        \"value\": \"\",\n        \"signatures\": [\n          {\n            \"signature_header\": {\n              \"creator\": {\n                \"Mspid\": \"OrdererMSP\",\n                \"IdBytes\": \"-----BEGIN -----\\nMIICTDCCAfKgAwIBAgIQZCxnb7X/qEqddnBqcO94mzAKBggqhkjOPQQDAjBpMQsw\\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\\nYW5jaXNjbzEUMBIGA1UEChMLZXhhbXBsZS5jb20xFzAVBgNVBAMTDmNhLmV4YW1w\\nbGUuY29tMB4XDTE3MDcwNDA4Mzg0OVoXDTI3MDcwMjA4Mzg0OVowWDELMAkGA1UE\\nBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBGcmFuY2lz\\nY28xHDAaBgNVBAMTE29yZGVyZXIuZXhhbXBsZS5jb20wWTATBgcqhkjOPQIBBggq\\nhkjOPQMBBwNCAAQoI6c8cco5bVSr4475r/SBOaD/C/RmzhIh+kN2i/MFr98VgCzC\\n6c3Roalji0+etsRuzNi4oLv8/DKrJyuGJw5to4GMMIGJMA4GA1UdDwEB/wQEAwIF\\noDATBgNVHSUEDDAKBggrBgEFBQcDATAMBgNVHRMBAf8EAjAAMCsGA1UdIwQkMCKA\\nIKhmv1Izr4AUsVlRvfCaOa336C4cJlnM5NNR14s+k6yoMCcGA1UdEQQgMB6CE29y\\nZGVyZXIuZXhhbXBsZS5jb22CB29yZGVyZXIwCgYIKoZIzj0EAwIDSAAwRQIhALeX\\nJj96TJzgQKONKQfVnEZqdZE7ev5BUAIN5uaOmEqPAiBs8hK2Nm3tojA+UxHOYtHC\\nnqtkPxBlEY/42kyJYNB6xw==\\n-----END -----\\n\"\n              },\n              \"nonce\": {\n                \"type\": \"Buffer\",\n                \"data\": [.... ]\n              }\n            },\n            \"signature\": {\n              \"type\": \"Buffer\",\n              \"data\": [..... ]\n            }\n          }\n        ]\n      },\n      {\n        \"value\": {\n          \"index\": {\n            \"low\": 0,\n            \"high\": 0,\n            \"unsigned\": true\n          }\n        },\n        \"signatures\": [\n          {\n            \"signature_header\": {\n              \"creator\": {\n                \"Mspid\": \"OrdererMSP\",\n                \"IdBytes\": \"-----BEGIN -----\\nMIICTDCCAfKgAwIBAgIQZCxnb7X/qEqddnBqcO94mzAKBggqhkjOPQQDAjBpMQsw\\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\\nYW5jaXNjbzEUMBIGA1UEChMLZXhhbXBsZS5jb20xFzAVBgNVBAMTDmNhLmV4YW1w\\nbGUuY29tMB4XDTE3MDcwNDA4Mzg0OVoXDTI3MDcwMjA4Mzg0OVowWDELMAkGA1UE\\nBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBGcmFuY2lz\\nY28xHDAaBgNVBAMTE29yZGVyZXIuZXhhbXBsZS5jb20wWTATBgcqhkjOPQIBBggq\\nhkjOPQMBBwNCAAQoI6c8cco5bVSr4475r/SBOaD/C/RmzhIh+kN2i/MFr98VgCzC\\n6c3Roalji0+etsRuzNi4oLv8/DKrJyuGJw5to4GMMIGJMA4GA1UdDwEB/wQEAwIF\\noDATBgNVHSUEDDAKBggrBgEFBQcDATAMBgNVHRMBAf8EAjAAMCsGA1UdIwQkMCKA\\nIKhmv1Izr4AUsVlRvfCaOa336C4cJlnM5NNR14s+k6yoMCcGA1UdEQQgMB6CE29y\\nZGVyZXIuZXhhbXBsZS5jb22CB29yZGVyZXIwCgYIKoZIzj0EAwIDSAAwRQIhALeX\\nJj96TJzgQKONKQfVnEZqdZE7ev5BUAIN5uaOmEqPAiBs8hK2Nm3tojA+UxHOYtHC\\nnqtkPxBlEY/42kyJYNB6xw==\\n-----END -----\\n\"\n              },\n              \"nonce\": {\n                \"type\": \"Buffer\",\n                \"data\": [..... ]\n              }\n            },\n            \"signature\": {\n              \"type\": \"Buffer\",\n              \"data\": [.....]\n            }\n          }\n        ]\n      },\n      []\n    ]\n  }\n```","username":"akdj","ts":"2017-07-11T12:14:34.178Z"}
{"msg":"it looks like configuration block rather the block with regular transactions","username":"C0rWin","ts":"2017-07-11T12:17:12.302Z"}
{"msg":"and how to get the regular transaction block?  i'm using this method https://fabric-sdk-node.github.io/Channel.html#queryBlock__anchor  with last block id 4 as the id, because when I tried 5, it said that there is not block with id 5","username":"akdj","ts":"2017-07-11T12:22:23.391Z"}
{"msg":"@C0rWin how to get the regular transaction block?  i'm using this method https://fabric-sdk-node.github.io/Channel.html#queryBlock__anchor  with last block id 4 as the id, because when I tried 5, it said that there is not block with id 5","username":"akdj","ts":"2017-07-11T12:22:23.391Z"}
{"msg":"Has joined the channel.","username":"kustrun","ts":"2017-07-11T12:22:31.072Z","type":"uj"}
{"msg":"I'm not fairly familiar with NodeSDK, so try to ask @jimthematrix to see how you can access metadata related to transactions state","username":"C0rWin","ts":"2017-07-11T12:25:39.121Z"}
{"msg":"right, i believe SDK has a function to retrieve valid/invalid state of a tran. Check on #fabric-sdk-node ","username":"dave.enyeart","ts":"2017-07-11T12:41:26.407Z"}
{"msg":"Has joined the channel.","username":"shimos","ts":"2017-07-11T17:02:11.143Z","type":"uj"}
{"msg":"@manish-sethi Is there any document describing the design of the fabric-ledger in detail?","username":"qizhang","ts":"2017-07-11T18:18:31.585Z"}
{"msg":"@qizhang unfortunately, not in a consolidated form that covers a whole lot of details.... as of now, the docs focus  is more on the user documents. So, for now the best bet would be to look at the code or discuss on this channel...","username":"manish-sethi","ts":"2017-07-11T18:22:36.610Z"}
{"msg":"@qizhang unfortunately, not in a consolidated form that covers a whole lot of details.... as of now, the docs focus  is more on the user documents. So, for now, the best bet would be to look at the code or discuss on this channel...","username":"manish-sethi","ts":"2017-07-11T18:22:36.610Z"}
{"msg":"@manish-sethi I see, thanks! I did some profiling on Fabric v1.0.0-rc1, and found that in each peer, the fsblkstorate.(*blockIndex).IndexBlock takes 50% of the CPU time, any idea of what could be the reason?","username":"qizhang","ts":"2017-07-11T18:25:00.431Z"}
{"msg":"That would a surprising thing... as compared to other pieces of fabric, nothing cpu intensive tasks happen in this function. Are you doing this profiling in isolation of some ledger only code? or end-to-end transaction execution on a peer?","username":"manish-sethi","ts":"2017-07-11T18:29:45.319Z"}
{"msg":"@manish-sethi I am using this benchmark https://github.com/dongmingh/v1performance. I think it is end-to-end transaction execution","username":"qizhang","ts":"2017-07-11T18:33:44.153Z"}
{"msg":"","username":"qizhang","ts":"2017-07-11T18:34:26.909Z","attachments":[{"title":"File Uploaded: results.png","title_link":"/file-upload/wm3kYusvLzydXtvth/results.png","image_url":"/file-upload/wm3kYusvLzydXtvth/results.png","image_type":"image/png","image_size":1617015,"url":"/file-upload/wm3kYusvLzydXtvth/results.png","remote":false,"fileId":"wm3kYusvLzydXtvth","fileName":"results.png"}]}
{"msg":"Why do I see only ledger/blkstorage entries in these traces... did you enabled profiling only for this package?","username":"manish-sethi","ts":"2017-07-11T18:37:22.686Z"}
{"msg":"Actually, I enabled the profiling for all the packages, this is only part of the results.","username":"qizhang","ts":"2017-07-11T18:38:39.369Z"}
{"msg":"OK, can you upload your profiling file here... I'll take a look later","username":"manish-sethi","ts":"2017-07-11T18:39:30.316Z"}
{"msg":"yes, I am getting it","username":"qizhang","ts":"2017-07-11T18:39:44.930Z"}
{"msg":"","username":"qizhang","ts":"2017-07-11T18:45:13.441Z","attachments":[{"title":"File Uploaded: results.txt","title_link":"/file-upload/CPpchCc8DXmL2emmS/results.txt","url":"/file-upload/CPpchCc8DXmL2emmS/results.txt","remote":false,"fileId":"CPpchCc8DXmL2emmS","fileName":"results.txt"}]}
{"msg":"@manish-sethi here it is","username":"qizhang","ts":"2017-07-11T18:45:22.290Z"}
{"msg":"Sure, will have a look sometime later... and will let you know if I find anything conclusive.","username":"manish-sethi","ts":"2017-07-11T18:46:23.544Z"}
{"msg":"thanks @manish-sethi ","username":"qizhang","ts":"2017-07-11T18:51:24.396Z"}
{"msg":"Has joined the channel.","username":"Mattasher","ts":"2017-07-11T21:02:47.080Z","type":"uj"}
{"msg":"Has joined the channel.","username":"msmarcal","ts":"2017-07-11T21:19:44.779Z","type":"uj"}
{"msg":"@manish-sethi @qizhang In our study, we see that fsblkstorate.(*blockIndex).IndexBlock takes only 0.12%","username":"Senthil1","ts":"2017-07-11T22:55:18.373Z"}
{"msg":"commitBlock() from gossip to committer itself takes only 10%","username":"Senthil1","ts":"2017-07-11T22:56:14.525Z"}
{"msg":"Has joined the channel.","username":"camdenT","ts":"2017-07-12T00:56:23.860Z","type":"uj"}
{"msg":"@Senthil1 that's interesting！Can you let me know more details of your experiments? Such as the setup, the workload, and how to get the results? Thanks!","username":"qizhang","ts":"2017-07-12T01:38:30.232Z"}
{"msg":"@Senthil1 - yes that appears to be a more reasonable numbers","username":"manish-sethi","ts":"2017-07-12T02:45:37.197Z"}
{"msg":"@manish-sethi @Senthil1 I agree. Expecting to find out the reason why I got the numbers that I have. I am using the pprof tool the get the function runtime statistics from each peer.","username":"qizhang","ts":"2017-07-12T03:39:51.975Z"}
{"msg":"Has joined the channel.","username":"SriramaSharma","ts":"2017-07-12T04:22:26.297Z","type":"uj"}
{"msg":"state ledger","username":"SriramaSharma","ts":"2017-07-12T04:22:40.919Z"}
{"msg":"@qizhang we have 8 peer setup each running on a VM and 1 orderer and 1 kafka-zookeeper on two differernt VMs. \nIrrespective of the load on peer, the time taken by the commitBlock and IndexBlock is too low.","username":"Senthil1","ts":"2017-07-12T05:57:54.862Z"}
{"msg":"chaincode is executing a tx which just writes a <k,v> pair of size 20 bytes.. even for higher size, not much impact on the IndexBlock.","username":"Senthil1","ts":"2017-07-12T05:58:29.969Z"}
{"msg":"we aren't using PTE however. ","username":"Senthil1","ts":"2017-07-12T05:58:38.454Z"}
{"msg":"Can you explain your setup? ","username":"Senthil1","ts":"2017-07-12T05:59:16.993Z"}
{"msg":"@manish-sethi yes. We get such numbers consistently. ","username":"Senthil1","ts":"2017-07-12T05:59:43.391Z"}
{"msg":"Has joined the channel.","username":"paapighoda","ts":"2017-07-12T06:04:57.848Z","type":"uj"}
{"msg":"Has joined the channel.","username":"apolikamixitos","ts":"2017-07-12T07:24:38.750Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jarroyer","ts":"2017-07-12T14:48:35.831Z","type":"uj"}
{"msg":"Possible bug: Let's pretend I have a global variable I set to zero in the Init function of my chaincode. Every time a peer calls the single invoke function I have, it increments the variable. However, when an invoke call is first made by a peer, the variable gets reset to zero. Is this desired behavior that I'm supposed to code around? ","username":"jarroyer","ts":"2017-07-12T14:50:57.045Z"}
{"msg":"@jarroyer are you expecting that variable to be shared among the chaincodes?","username":"jrosmith","ts":"2017-07-12T15:01:00.331Z"}
{"msg":"each peer installs the chaincode, but they instantiate their own instance of it","username":"jrosmith","ts":"2017-07-12T15:01:21.707Z"}
{"msg":"@jarroyer I'm not following \"when an invoke call is first made by a peer, the variable gets reset to zero\".  Please expand on that statement with your expected behavior and your observed behavior.","username":"dave.enyeart","ts":"2017-07-12T15:01:32.395Z"}
{"msg":"the global variable will be accessed within that specific built instance, but its not shared between the peers","username":"jrosmith","ts":"2017-07-12T15:01:52.590Z"}
{"msg":"it's not that the variable is reset, when that docker container with the chaincode comes up its intialized at 0","username":"jrosmith","ts":"2017-07-12T15:02:26.847Z"}
{"msg":"@dave.enyeart rather the first invoke call that a peer makes resets it to zero.","username":"jarroyer","ts":"2017-07-12T15:02:37.325Z"}
{"msg":"again, clarify what the chaincode is doing, what the expected behavior would be, and what the observed behavior is","username":"dave.enyeart","ts":"2017-07-12T15:03:40.656Z"}
{"msg":"@jrosmith that makes sense. The weird part is that after a peer makes its first call, it will \"receive\" the value for the variable and match the other peers that have called it already","username":"jarroyer","ts":"2017-07-12T15:04:20.457Z"}
{"msg":"@dave.enyeart without too much detail, I'm using the variable to increment the key for the <key, value> pair that the ledger uses to map blocks. This is to keep track of the number of blocks, as well as enable a search feature. Say peer1 wants to store a block. He does so. That is block 0. Then peer2 decides to store a block. That also gets stored as block zero. They are both on the chain but the variable in the chaincode is not correct","username":"jarroyer","ts":"2017-07-12T15:07:26.759Z"}
{"msg":"Peer has no ability to define blocks or which blocks get stored.  Blocks are cut by ordering service and disseminated to all peers in same order.","username":"dave.enyeart","ts":"2017-07-12T15:08:58.656Z"}
{"msg":"Yes but the original question was more so asking about the global variables in the chaincode and if they were supposed to be shared or not. ","username":"jarroyer","ts":"2017-07-12T15:10:20.786Z"}
{"msg":"Might've been simpler to just ask it that way :)","username":"jarroyer","ts":"2017-07-12T15:10:35.294Z"}
{"msg":"@Senthil1 I have a network with 1 orderer, 2 CAs, 2 orgs, and each org has two peers. Each component (such as order, CA, peer) is running on a docker container, and all the containers are running on a single machine.","username":"qizhang","ts":"2017-07-12T15:10:48.859Z"}
{"msg":"Define what you mean by global variable.  There is only one type of variable, and it is at channel/chaincode scope","username":"dave.enyeart","ts":"2017-07-12T15:11:02.622Z"}
{"msg":"A Golang global variable, declared in the scope of the chaincode outside of a function.","username":"jarroyer","ts":"2017-07-12T15:11:39.946Z"}
{"msg":"It is not legal to use golang global variables across chaincode invocations","username":"dave.enyeart","ts":"2017-07-12T15:12:05.329Z"}
{"msg":"It is not legal to use golang global variables across chaincode invocations, since containers may come and go","username":"dave.enyeart","ts":"2017-07-12T15:12:05.329Z"}
{"msg":"you must only use chaincode keys/values to store state","username":"dave.enyeart","ts":"2017-07-12T15:12:20.590Z"}
{"msg":"Yeah that's what I was asking. Thanks!!","username":"jarroyer","ts":"2017-07-12T15:12:40.959Z"}
{"msg":"@Senthil1 I am using the v1performance benchmark. The client generates requests at the rate of 1req/ms to the anchor peers in both orgs. Each request write a <key value> into a key-value store. The size of the value is just 12 bytes.","username":"qizhang","ts":"2017-07-12T15:12:45.385Z"}
{"msg":"ok right, if you attempt to use golang global variables then your results are indeterminate","username":"dave.enyeart","ts":"2017-07-12T15:13:32.606Z"}
{"msg":"ok right, if you attempt to use golang global variables then your results are indeterminate, don't do it!","username":"dave.enyeart","ts":"2017-07-12T15:13:32.606Z"}
{"msg":"anyone knows how to turn on and off the \"security\" feature in Fabric?","username":"qizhang","ts":"2017-07-12T16:09:27.294Z"}
{"msg":"Has joined the channel.","username":"n91","ts":"2017-07-12T16:24:37.430Z","type":"uj"}
{"msg":"@qizhang use flame graph to get a global view of all call stack. Then, you can search on the flame graph for indexBlock  to see the time it takes. ","username":"Senthil1","ts":"2017-07-12T23:56:20.521Z"}
{"msg":"We can only enabled/disable TLS but signature/verification are integral part of fabric (as they enable non-repudiability property in blockchain).","username":"Senthil1","ts":"2017-07-12T23:58:02.377Z"}
{"msg":"@Senthil1 Can you let me know what is the throughput (trans/sec) you get when you enable and disable the TLS respectively?","username":"qizhang","ts":"2017-07-13T00:27:56.958Z"}
{"msg":"don't have that number. anyway, TLS is expected to add a constant overhead per communication.. ","username":"Senthil1","ts":"2017-07-13T00:40:37.244Z"}
{"msg":"I've got a question on db persistence. I am following the byfn tutorial, and turned on dbPersistence. Then I restarted the VM.","username":"paapighoda","ts":"2017-07-13T09:39:21.944Z"}
{"msg":"Obviously the containers were all destroyed by the time I stepped back into the VM. With the containers gone, there is no more peer0/1 etc, so I set about recreating these. But in the peer channel create step, the cli container stops me saying \"Bad request\" - which means that the channel I'm trying to create already exists.","username":"paapighoda","ts":"2017-07-13T09:41:14.151Z"}
{"msg":"What do I do?","username":"paapighoda","ts":"2017-07-13T09:41:32.136Z"}
{"msg":"If you persist the container data on the host, the next time the containers start they will pick up where they left off in terms of ledger state.  The channel from the prior run would already exist, as well as any chaincode data that was created.","username":"dave.enyeart","ts":"2017-07-13T11:35:28.008Z"}
{"msg":"In docker-compose-cli.yaml, you can comment out the line:","username":"dave.enyeart","ts":"2017-07-13T11:35:42.052Z"}
{"msg":"`command: /bin/bash -c './scripts/script.sh ${CHANNEL_NAME}; sleep $TIMEOUT'","username":"dave.enyeart","ts":"2017-07-13T11:35:51.310Z"}
{"msg":"`command: /bin/bash -c './scripts/script.sh ${CHANNEL_NAME}; sleep $TIMEOUT'`","username":"dave.enyeart","ts":"2017-07-13T11:35:51.310Z"}
{"msg":"That will prevent the script that creates the data and sends transactions from executing","username":"dave.enyeart","ts":"2017-07-13T11:36:16.283Z"}
{"msg":"That will prevent the script that creates the channel and sends transactions from executing automatically","username":"dave.enyeart","ts":"2017-07-13T11:36:16.283Z"}
{"msg":"then you can follow the manual instructions to do whatever you like (install/instantiate a different chaincode, send transactions, queries, etc)","username":"dave.enyeart","ts":"2017-07-13T11:36:49.702Z"}
{"msg":"Hi - Is cross channel query from the chaincode supported in V1 please? This story suggests it was not part of V1: https://jira.hyperledger.org/browse/FAB-2490","username":"gormand","ts":"2017-07-13T14:54:08.900Z"}
{"msg":"```\n\t// InvokeChaincode locally calls the specified chaincode `Invoke` using the\n\t// same transaction context; that is, chaincode calling chaincode doesn't\n\t// create a new transaction message.\n\t// If the called chaincode is on the same channel, it simply adds the called\n\t// chaincode read set and write set to the calling transaction.\n\t// If the called chaincode is on a different channel,\n\t// only the Response is returned to the calling chaincode; any PutState calls\n\t// from the called chaincode will not have any effect on the ledger; that is,\n\t// the called chaincode on a different channel will not have its read set\n\t// and write set applied to the transaction. Only the calling chaincode's\n\t// read set and write set will be applied to the transaction. Effectively\n\t// the called chaincode on a different channel is a `Query`, which does not\n\t// participate in state validation checks in subsequent commit phase.\n\t// If `channel` is empty, the caller's channel is assumed.\n\tInvokeChaincode(chaincodeName string, args [][]byte, channel string) pb.Response```","username":"C0rWin","ts":"2017-07-13T14:57:41.700Z"}
{"msg":"@gormand ^^^ `InvokeChaincode` API is already available","username":"C0rWin","ts":"2017-07-13T14:58:07.176Z"}
{"msg":"you can take a look on the example here: https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/chaincode_example04/chaincode_example04.go#L88","username":"C0rWin","ts":"2017-07-13T14:58:56.308Z"}
{"msg":"Brilliant, thanks @C0rWin ","username":"gormand","ts":"2017-07-13T14:59:23.163Z"}
{"msg":"@gormand  @C0rWin  There are two different concepts.","username":"dave.enyeart","ts":"2017-07-13T18:57:18.187Z"}
{"msg":"1) chaincode2chaincode queries (which may be on different channels).  This is in 1.0 as @C0rWin  demonstrated.","username":"dave.enyeart","ts":"2017-07-13T18:57:40.690Z"}
{"msg":" 2) non-key queries against a chaincode that spans all channels that you are a member of.  e.g. show me all trades over one million dollars irregardless of the channel. This is an idea for the future captured in FAB-2490.","username":"dave.enyeart","ts":"2017-07-13T18:57:48.526Z"}
{"msg":"currently, if you had N channels you would have to make N channel-scoped queries.  the idea is that you could send one query to your peer and it would execute the query across all channels.","username":"dave.enyeart","ts":"2017-07-13T18:59:08.967Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=pNRzqSvDJTGxmH4KP) @dave.enyeart Thanks, but that is where my problem lies. I looked up the containers - they were destroyed. They I ran the byfn script to bring up the framework (with the scripts.sh commented out), but my CLI container doesn't get started.","username":"paapighoda","ts":"2017-07-14T08:47:10.821Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pNRzqSvDJTGxmH4KP","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pNRzqSvDJTGxmH4KP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Data persistence should not impact whether CLI container comes up.  Is there an error upon CLI container start?","username":"dave.enyeart","ts":"2017-07-14T12:09:59.311Z"}
{"msg":"Has joined the channel.","username":"cre8bidio","ts":"2017-07-17T00:47:01.019Z","type":"uj"}
{"msg":"The CLI container does come up. But the chaincodes seem to be all gone. I cannot query the nodes any more from within the CLI container.","username":"paapighoda","ts":"2017-07-17T05:31:18.087Z"}
{"msg":"Has joined the channel.","username":"Sania 2","ts":"2017-07-18T01:04:19.933Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Rachitga","ts":"2017-07-18T15:11:54.630Z","type":"uj"}
{"msg":"the couchdb doesn't support limit skip","username":"chenxuan","ts":"2017-07-19T06:38:59.710Z"}
{"msg":"?","username":"chenxuan","ts":"2017-07-19T06:38:59.714Z"}
{"msg":"@chenxuan I found this bug yesterday: https://jira.hyperledger.org/browse/FAB-5369","username":"sstone1","ts":"2017-07-19T07:29:48.375Z"}
{"msg":"i take a look","username":"chenxuan","ts":"2017-07-19T07:36:26.354Z"}
{"msg":"it's wrapper by data","username":"chenxuan","ts":"2017-07-19T07:36:48.168Z"}
{"msg":"it's ok","username":"chenxuan","ts":"2017-07-19T07:37:00.818Z"}
{"msg":"you can take a look the couchdb","username":"chenxuan","ts":"2017-07-19T07:37:04.620Z"}
{"msg":"or https://github.com/hyperledger/fabric/blob/release/examples/chaincode/go/marbles02/marbles_chaincode.go","username":"chenxuan","ts":"2017-07-19T07:37:54.803Z"}
{"msg":"@sstone1 yes","username":"chenxuan","ts":"2017-07-19T07:53:11.438Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-2809","username":"chenxuan","ts":"2017-07-19T07:53:46.788Z"}
{"msg":"queryString, err := ApplyQueryWrapper(namespace, query, queryLimit, 0)","username":"chenxuan","ts":"2017-07-19T08:35:31.394Z"}
{"msg":"@sstone1 ","username":"chenxuan","ts":"2017-07-19T08:35:33.596Z"}
{"msg":"the skip is set 0","username":"chenxuan","ts":"2017-07-19T08:35:41.487Z"}
{"msg":"yep","username":"sstone1","ts":"2017-07-19T08:40:13.987Z"}
{"msg":"and then the code i linked to in the bug always sets limit and skip, even if the user specified them in the CouchDB query string","username":"sstone1","ts":"2017-07-19T08:40:36.855Z"}
{"msg":"so the limit and skip doesn't work","username":"chenxuan","ts":"2017-07-19T08:57:40.044Z"}
{"msg":"the limit is set 1w how to modify","username":"chenxuan","ts":"2017-07-19T09:21:07.481Z"}
{"msg":"@sstone1 ","username":"chenxuan","ts":"2017-07-19T09:21:13.692Z"}
{"msg":"i see the code ","username":"chenxuan","ts":"2017-07-19T09:21:21.677Z"}
{"msg":"queryLimit := viper.GetInt(\"ledger.state.couchDBConfig.queryLimit\")","username":"chenxuan","ts":"2017-07-19T09:21:33.308Z"}
{"msg":"i am not unfamiliar with the go","username":"chenxuan","ts":"2017-07-19T09:22:15.943Z"}
{"msg":"it get the env var ledger.state.couchDBConfig.queryLimit if so ","username":"chenxuan","ts":"2017-07-19T09:22:40.625Z"}
{"msg":"where can i modify","username":"chenxuan","ts":"2017-07-19T09:22:50.707Z"}
{"msg":"@chenxuan i'm not a fabric developer, i just spotted the bug","username":"sstone1","ts":"2017-07-19T10:44:26.968Z"}
{"msg":"@manish-sethi ","username":"chenxuan","ts":"2017-07-19T11:25:37.634Z"}
{"msg":"@dave.enyeart ","username":"chenxuan","ts":"2017-07-19T11:33:57.873Z"}
{"msg":"@sstone1 @chenxuan we did intend to revisit how 'paging' works, balancing function, performance, and mitigation of malicious user requests. FAB-2809 is part of that.  We'll also consider FAB-5369 during that assessment.  Will get back to you. @chris.elder ","username":"dave.enyeart","ts":"2017-07-19T15:01:52.801Z"}
{"msg":"Has joined the channel.","username":"gauthampamu","ts":"2017-07-20T21:18:55.162Z","type":"uj"}
{"msg":"Hello Everyone, I have questions on scalability of Fabric Ledger, how should we handle the ledger state when the data grows after a year. Is there is option to archive so that peers in the network can archive data older than 1 year. ","username":"gauthampamu","ts":"2017-07-20T21:22:10.839Z"}
{"msg":"I meant will there be an option to archive or should we just do capacity planning for peer to keep the transaction data forever. It does not sound right ? so I wanted to get your thought how we should handle it. ","username":"gauthampamu","ts":"2017-07-20T21:23:51.285Z"}
{"msg":"Has joined the channel.","username":"KrisVishwanathan","ts":"2017-07-20T23:36:57.878Z","type":"uj"}
{"msg":"Has joined the channel.","username":"atomti","ts":"2017-07-21T05:46:41.263Z","type":"uj"}
{"msg":"@dave.enyeart do you test the performance about the couchdb","username":"chenxuan","ts":"2017-07-21T06:03:34.543Z"}
{"msg":"use for ledger","username":"chenxuan","ts":"2017-07-21T06:03:39.083Z"}
{"msg":"Has joined the channel.","username":"indirajith","ts":"2017-07-21T10:21:40.485Z","type":"uj"}
{"msg":"@chenxuan Performance is indeed faster when using goleveldb vs couchdb.  Some work is underway to quantify it.  Also some work is underway to do bulk validation/commits against couchdb, which should raise performance to the point where there is not a material difference between using fabric with goleveldb vs couchdb.","username":"dave.enyeart","ts":"2017-07-21T13:41:11.853Z"}
{"msg":"The work item for the couchdb bulk processing is https://jira.hyperledger.org/browse/FAB-2725","username":"dave.enyeart","ts":"2017-07-21T13:42:17.536Z"}
{"msg":"@gauthampamu In the 'classic' blockchain data is preserved forever.  However there is acknowledgement that some networks will want to archive old unneeded data.  There is intent to provide such capability in the future.  The work item is https://jira.hyperledger.org/browse/FAB-106","username":"dave.enyeart","ts":"2017-07-21T13:44:19.915Z"}
{"msg":"Hi,  Quick question. In other DLTs (e.g Quorum), there is a concept of Global Synchronization Log (GSL) where all private transactions (hashes) are maintained by the ledger across all the nodes in the network but the private state is only maintained by peers that are part of the transactions. IF we have to do this in Fabric, Can we do it by creating a  Global Channel with all nodes are part of and chaincodes only installed and instantiated on the required peers and with appropriate visibility setting (future build) such as data hash in the transactions ?","username":"nhrishi","ts":"2017-07-21T16:38:12.715Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric?msg=imHLHy2msAJEcodZT) @nhrishi  moving to this channel as I think folks here can point you to the specific issue","username":"jeffgarratt","ts":"2017-07-21T18:28:35.043Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=imHLHy2msAJEcodZT","url":"https://chat.hyperledger.org/channel/fabric?msg=imHLHy2msAJEcodZT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@nhrishi https://jira.hyperledger.org/browse/FAB-4287","username":"jeffgarratt","ts":"2017-07-21T18:30:02.866Z"}
{"msg":"@nhrishi https://jira.hyperledger.org/browse/FAB-1151 https://jira.hyperledger.org/browse/FAB-4287","username":"jeffgarratt","ts":"2017-07-21T18:30:02.866Z"}
{"msg":"@nhrishi  the first link I think is the main one, and you can verify if it is the concept you had in mind","username":"jeffgarratt","ts":"2017-07-21T18:31:30.165Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZyTcg5HD6uZfxb7iT) @jeffgarratt Thanks. WIll check this out.","username":"nhrishi","ts":"2017-07-21T18:34:25.136Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZyTcg5HD6uZfxb7iT","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZyTcg5HD6uZfxb7iT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi everyone, how does fabric detect when a block was hacked into and changed? Thanks!","username":"qizhang","ts":"2017-07-25T14:43:22.702Z"}
{"msg":"Hi everyone, if an old block in the blockchain get hacked into and changed, how Fabric is going to detect it? Thanks!","username":"qizhang","ts":"2017-07-25T19:54:06.301Z"}
{"msg":"@qizhang If ledger data has been altered or corrupted it will be detected the next time the data is accessed.\nTransactions require N endorsers, the transaction results (reads and writes) across these endorsers must match. If ledger data had been altered or corrupted on a peer then the transaction results would be inconsistent across endorsing peers, the 'bad' peer will be found out, and the application client can throw out the results from the bad peer before submitting the transaction for ordering/commit. If client application tries to submit a transaction with inconsistent endorsement regardless, this will be detected and the transaction will be invalidated by all peers at commit time.  \nIf you are doing read-only queries rather than update transactions, then you can similarly query multiple endorsing peers and verify the results from each are consistent.\nUltimately the chain is the hash-chained source of truth.  If there is doubt about state database integrity, the state database can be deleted and it will automatically get regenerated from the chain.  If there is doubt about the chain integrity itself, it too can be dropped and it will be state transferred from another peer.\nThere is intent to provide a Verify function in the future that would proactively traverse the entire chain, recompute hashes, and therefore verify the chain integrity. The work item and sample code can be found at https://jira.hyperledger.org/browse/FAB-609.  In the meantime, a client could be written to get the blocks and do similar verification.","username":"dave.enyeart","ts":"2017-07-25T20:54:13.187Z"}
{"msg":"Thanks @dave.enyeart . I think a transaction will only access the world state DB, can you explain how a transaction is going to access the data in the block, especially a block committed a long time ago? Since I am interested in the case that a past block in the ledger, which was committed months ago, get hacked into and changed.","username":"qizhang","ts":"2017-07-26T00:50:23.399Z"}
{"msg":"Has joined the channel.","username":"howardhou","ts":"2017-07-26T06:15:16.696Z","type":"uj"}
{"msg":"why does the fabric need consensus(like PBFT) since it has endorsement policy? for example, if all peers required to endorse the transaction endorse the transaction, that means, I think, they have reach the consensus, so why do fabric need consensus algor ","username":"howardhou","ts":"2017-07-26T09:10:33.431Z"}
{"msg":"@howardhou consensus is for orderers to agree on the transactions order","username":"Vadim","ts":"2017-07-26T09:31:32.581Z"}
{"msg":"@Vadim \n\nThanks.  is that the functionality the consensus algorithm play in Ethereum ? ","username":"howardhou","ts":"2017-07-26T09:45:26.524Z"}
{"msg":"@howardhou yes, though in Ethereum a node combines orderer and peer in one process, so it is a bit different","username":"Vadim","ts":"2017-07-26T09:46:12.105Z"}
{"msg":"@Vadim \n\nOk, Let me conclusion, Consensus algorithm is used to order the transactions in Fabric and Ethereum, right?","username":"howardhou","ts":"2017-07-26T09:49:08.808Z"}
{"msg":"@howardhou it Ethereum it also to make sure that the state is consistent across nodes, in Fabric this is achieved by a combination of endorsement policies, commit block MVCC checks, orderer consensus. I might have missed something.","username":"Vadim","ts":"2017-07-26T09:50:39.686Z"}
{"msg":"@Vadim  \n\nGet it. Thanks very much. ","username":"howardhou","ts":"2017-07-26T09:55:23.255Z"}
{"msg":"Has joined the channel.","username":"sajeevkhan","ts":"2017-07-26T10:59:14.563Z","type":"uj"}
{"msg":"How can we get the Channel  which was previously created ","username":"sajeevkhan","ts":"2017-07-26T10:59:55.759Z"}
{"msg":"@qizhang In order to re-verify an old block you would have to run a validator against it.  As mentioned above, a built in validator utility is intended.  Until then you would have to write your own validator client which could check block hashes and orderer signature.","username":"dave.enyeart","ts":"2017-07-26T11:10:47.192Z"}
{"msg":"Has joined the channel.","username":"neocoin","ts":"2017-07-26T12:25:27.534Z","type":"uj"}
{"msg":"@dave.enyeart I see. But is there any case, in current Fabric, that a transaction needs to access some data in a historical block in the blockchain?","username":"qizhang","ts":"2017-07-26T14:02:19.596Z"}
{"msg":"@qizhang stateDB has current state of all keys. If one needs to look at past values of a key, GetHistoryForKey() can be used. ","username":"Senthil1","ts":"2017-07-26T14:35:58.421Z"}
{"msg":"@Senthil1 But stateDB and ledger are different things, and the blocks are stored in the ledger, is the right?","username":"qizhang","ts":"2017-07-26T14:37:01.036Z"}
{"msg":"we have \n(i) block storage in a file system(chain of block) \n(ii) stateDB (contains current value of all keys)\n(iii) historyDB (an index into block storage. index is on chaincodename~key~blockNum~txNum)","username":"Senthil1","ts":"2017-07-26T14:38:43.401Z"}
{"msg":"here, we can say block storage as the ledger.. stateDB is used so that chaincode can get/put state efficiently. Otherwise, going through block data would be slow.. ","username":"Senthil1","ts":"2017-07-26T14:39:46.819Z"}
{"msg":"here, we can take block storage as the ledger.. stateDB is used so that chaincode can get/put state efficiently. Otherwise, going through block data would be slow.. ","username":"Senthil1","ts":"2017-07-26T14:39:46.819Z"}
{"msg":"Yes, that's clear. So for a transaction, it is only going to access the stateDB, but not the block storage or the historyDB, right?","username":"qizhang","ts":"2017-07-26T14:43:08.192Z"}
{"msg":"@Senthil1 Yes, that's clear. So for a transaction, it is only going to access the stateDB, but not the block storage or the historyDB, right?","username":"qizhang","ts":"2017-07-26T14:43:08.192Z"}
{"msg":"A transaction (chaincode invoke) can use GetHistoryForKey() to access past value of a key stored in a deep block.. However, we do not add this read to readSet. If some other peer node had modified that block, the same transaction would read a wrong value. ","username":"Senthil1","ts":"2017-07-26T14:45:46.763Z"}
{"msg":"A transaction (chaincode invoke) can use GetHistoryForKey() to access past value of a key stored in a deep block.. However, we do not add this read to readSet and the exact value. If some other peer node had modified that block, the same transaction would read a wrong value. Anyway, it can detected via difference in the writeset. ","username":"Senthil1","ts":"2017-07-26T14:45:46.763Z"}
{"msg":"A transaction (chaincode invoke) can use GetHistoryForKey() to access past value of a key stored in a deep block.. However, we do not add this read to readSet. If some other peer node had modified that block, the same transaction would read a wrong value. Anyway, it can detected via difference in the writeset. ","username":"Senthil1","ts":"2017-07-26T14:45:46.763Z"}
{"msg":"Hence, we suggest not to use GetHistoryForKey() in a transaction. Same goes for GetQueryResult()","username":"Senthil1","ts":"2017-07-26T14:46:13.010Z"}
{"msg":"@Senthil1 So it seems that the current values of all keys are stored in stateDB, and the past values of all keys are stored in the block? I am not quite clear with this design, please advise.","username":"qizhang","ts":"2017-07-26T14:50:55.773Z"}
{"msg":"Yes, you are correct. ","username":"Senthil1","ts":"2017-07-26T14:51:19.121Z"}
{"msg":"Hi everyone, I have a question about the following description in the figure, the figure is a screen shot from https://jira.hyperledger.org/browse/FAB-1721","username":"qizhang","ts":"2017-07-26T18:04:47.854Z"}
{"msg":"","username":"qizhang","ts":"2017-07-26T18:04:55.165Z","attachments":[{"title":"File Uploaded: test cases.png","title_link":"/file-upload/QkWqD9X56F7CoFa63/test cases.png","image_url":"/file-upload/QkWqD9X56F7CoFa63/test cases.png","image_type":"image/png","image_size":38126,"url":"/file-upload/QkWqD9X56F7CoFa63/test cases.png","remote":false,"fileId":"QkWqD9X56F7CoFa63","fileName":"test cases.png"}]}
{"msg":"The question is why the peer can recover from the modification of a past block, but crash due to the change in the latest block?","username":"qizhang","ts":"2017-07-26T18:05:54.926Z"}
{"msg":"My understanding is that there is no fundamental difference between the latest block and a past block, since both of them have been successfully submitted into the ledger. If a peer can recover from a changed past block, why can't it recover from the change in the latest block? Please advise, thanks!","username":"qizhang","ts":"2017-07-26T18:07:41.980Z"}
{"msg":"Has anyone been able to try the code here? https://jira.hyperledger.org/browse/FAB-609","username":"qizhang","ts":"2017-07-26T20:06:20.843Z"}
{"msg":"@qizhang Those test results do not look correct to me, can you identify the author so that we can ask them to double check?","username":"dave.enyeart","ts":"2017-07-27T01:15:17.208Z"}
{"msg":"FAB-609 had CR https://gerrit.hyperledger.org/r/#/c/4061/ which was tested at the time","username":"dave.enyeart","ts":"2017-07-27T01:15:58.300Z"}
{"msg":"@dave.enyeart Sure. But what is the correct test result then? I checked this link you sent, it is mostly talking about the code.","username":"qizhang","ts":"2017-07-27T01:50:12.675Z"}
{"msg":"Block is never revisited after it is committed","username":"dave.enyeart","ts":"2017-07-27T01:57:53.605Z"}
{"msg":"Block is never updated after it is committed","username":"dave.enyeart","ts":"2017-07-27T01:57:53.605Z"}
{"msg":"Block is never updated or re-hashed after it is committed","username":"dave.enyeart","ts":"2017-07-27T01:57:53.605Z"}
{"msg":"@dave.enyeart Is there any chance that a committed block gets hacked into and changed? Then we will need some mechanism to recover that block.","username":"qizhang","ts":"2017-07-27T02:13:23.102Z"}
{"msg":"You could write a verification utility that checks all the block hashes and signatures. If you discover the blocks are corrupted or tampered with I'd suggest rebuild the peer and upon startup state transfer will get the blocks from another peer. ","username":"dave.enyeart","ts":"2017-07-27T02:18:04.538Z"}
{"msg":"@dave.enyeart Yes, I agree. Is the \"VerifyChain()\" function in leger_mmgt.go suppose to do the block verification? But yes, it is definitely not a tool for users yet.","username":"qizhang","ts":"2017-07-27T02:24:04.537Z"}
{"msg":"yes, that code does block verification but it is probably stale now and needs a revisit","username":"dave.enyeart","ts":"2017-07-27T02:25:18.579Z"}
{"msg":"@dave.enyeart . There is leger_mmgt.go in the source code of Fabric-v1.0.0, but no \"VerifyChain()\" function in it.","username":"qizhang","ts":"2017-07-27T02:45:37.413Z"}
{"msg":"right, it was deferred, that's why i called it a future intent","username":"dave.enyeart","ts":"2017-07-27T02:46:29.817Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=NmCNf3ysSkzAdHpfN) @qizhang If you talk about a hacking kind of scenario everything is possible. What if someone hacks the code that does verification? The whole idea is that one org is sharing the ledger of transactions with other orgs and still the other orgs cannot mess around with the copy of my ledger as long as I have my IT policies intact within my IT boundaries.","username":"manish-sethi","ts":"2017-07-27T02:50:49.267Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NmCNf3ysSkzAdHpfN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NmCNf3ysSkzAdHpfN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"If I have hackers within my org they can anyway blow away my whole data even in the traditional IT systems... that's not the problem blockchain is meant to solve I believe","username":"manish-sethi","ts":"2017-07-27T02:52:14.811Z"}
{"msg":"right, but unlike traditional IT systems with blockchain it is feasible to detect tampering and rebuild your data. i still think the verify function would be useful for this purpose.","username":"dave.enyeart","ts":"2017-07-27T02:53:44.186Z"}
{"msg":"I am talking about a hacking scenario. If the verify function says that the data is intact, can one trust on that results? Because, that code might have been hacked. We are talking here of a scenario where filesystem has been hacked","username":"manish-sethi","ts":"2017-07-27T02:55:29.324Z"}
{"msg":"then perhaps the verify function is better as a client app that reads the blocks, rather than built into peer","username":"dave.enyeart","ts":"2017-07-27T02:56:19.664Z"}
{"msg":"I mean what guarantees can we provide under the assumption that a filesystem has been hacked... ","username":"manish-sethi","ts":"2017-07-27T02:56:50.935Z"}
{"msg":"file system could be hacked but it would be valuable to be able to detect that","username":"dave.enyeart","ts":"2017-07-27T02:57:21.808Z"}
{"msg":"Ultimately, its the code that you rely upon to detect... that also reside on filesystem","username":"manish-sethi","ts":"2017-07-27T02:57:59.228Z"}
{"msg":"Ultimately, its the code that you rely upon to detect... that also resides on filesystem","username":"manish-sethi","ts":"2017-07-27T02:57:59.228Z"}
{"msg":"@manish-sethi @dave.enyeart I agree with both of you. We will not be able to guarantee the blockchain is 100% safe, but having a tool to detect and recover from data tampering at least makes it safer","username":"qizhang","ts":"2017-07-27T02:58:04.824Z"}
{"msg":"This is whole domain of trusted computing... folks try to achieve at an entire different level of hardware","username":"manish-sethi","ts":"2017-07-27T02:59:43.979Z"}
{"msg":"This is whole domain of trusted computing... folks try to achieve at an entirely different level of hardware","username":"manish-sethi","ts":"2017-07-27T02:59:43.979Z"}
{"msg":"In current design, I think a peer will not be able to detect if a block deep in the chain gets corrupted, unless the peer restarts, or the peer needs to access some data (old values) on that block","username":"qizhang","ts":"2017-07-27T03:00:41.332Z"}
{"msg":"Although chances are that a corrupted block deep in the chain will probably not affect the correct execution of a peer.","username":"qizhang","ts":"2017-07-27T03:02:10.537Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=uRf8Ldv66LsbB7p2i) @qizhang yes, unless the same corruption has been introduced at majority of the peers, the future transactions won't get enough endorsements","username":"manish-sethi","ts":"2017-07-27T03:03:38.423Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=uRf8Ldv66LsbB7p2i","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=uRf8Ldv66LsbB7p2i","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Hu98FbnH5E7wgSTTE) I think even if the same corruption has been introduced at majority of the peers, it could still NOT introduce any trouble, especially if the block was submitted long time ago, since the recent transaction will probably access only the latest version of the <key, value> pairs. Is that correct?","username":"qizhang","ts":"2017-07-27T03:06:02.968Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Hu98FbnH5E7wgSTTE","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Hu98FbnH5E7wgSTTE","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes, but even those could have been hacked... and the transactions get operated on wrong data","username":"manish-sethi","ts":"2017-07-27T03:07:07.599Z"}
{"msg":"yes","username":"qizhang","ts":"2017-07-27T03:07:36.835Z"}
{"msg":"Has joined the channel.","username":"Bilings_s","ts":"2017-07-27T09:31:55.742Z","type":"uj"}
{"msg":"@qizhang Blockchain only provides immutability and non-repudiation. Any body can hack into a peer and make any modifications. During auditability, such hacking can be identified by just verifying orderer signature and the block content. No one can fake a transaction (its occurrence or nonoccurrence) when multiple parties are involved. One faulty peer cannot impact another faulty peer (anyway, it depends on how strong the endorsement policy is). Admin of a peer can lie to his org about any transaction if he is a hacker. However, he cannot trick other org peers. ","username":"Senthil1","ts":"2017-07-27T14:16:29.914Z"}
{"msg":"@qizhang Blockchain only provides immutability and non-repudiation. Any body can hack into a peer and make any modifications. During auditability, such hacking can be identified by just verifying orderer signature which present in the block metadata and the block content. No one can fake a transaction (its occurrence or nonoccurrence) when multiple parties are involved. One faulty peer cannot impact another faulty peer (anyway, it depends on how strong the endorsement policy is). Admin of a peer can lie to his org about any transaction if he is a hacker. However, he cannot trick other org peers. ","username":"Senthil1","ts":"2017-07-27T14:16:29.914Z"}
{"msg":"@qizhang Blockchain only provides immutability and non-repudiation. Any body can hack into a peer and make any modifications. During auditability, such hacking can be identified by just verifying orderer signature which present in the block metadata and the block content. No one can fake a transaction (its occurrence or nonoccurrence) when multiple parties are involved. One faulty peer cannot impact another faulty peer (anyway, it depends on how strong the endorsement policy is). Admin of a peer can lie to his org about any transaction if the admin is a hacker. However, he cannot trick other org peers. ","username":"Senthil1","ts":"2017-07-27T14:16:29.914Z"}
{"msg":"@qizhang Blockchain only provides immutability and non-repudiation. Any body can hack into a peer and make any modifications. During auditability, such hacking can be identified by just verifying orderer signature which present in the block metadata and the block content. No one can fake a transaction (its occurrence or nonoccurrence). One faulty peer cannot impact another faulty peer (anyway, it depends on how strong the endorsement policy is). Admin of a peer can lie to his org about any transaction if the admin is a hacker. However, he cannot trick other org peers. ","username":"Senthil1","ts":"2017-07-27T14:16:29.914Z"}
{"msg":"thanks @Senthil1 ","username":"qizhang","ts":"2017-07-27T21:43:03.834Z"}
{"msg":"Is there any fabric function that can get the number of blocks in a ledger?","username":"qizhang","ts":"2017-07-27T21:44:51.040Z"}
{"msg":"```// Ledger captures the methods that are common across the 'PeerLedger', 'OrdererLedger', and 'ValidatedLedger'\ntype Ledger interface {\n\t// GetBlockchainInfo returns basic info about blockchain\n\tGetBlockchainInfo() (*common.BlockchainInfo, error)\n\t// GetBlockByNumber returns block at a given height\n\t// blockNumber of  math.MaxUint64 will return last block\n\tGetBlockByNumber(blockNumber uint64) (*common.Block, error)\n\t// GetBlocksIterator returns an iterator that starts from `startBlockNumber`(inclusive).\n\t// The iterator is a blocking iterator i.e., it blocks till the next block gets available in the ledger\n\t// ResultsIterator contains type BlockHolder\n\tGetBlocksIterator(startBlockNumber uint64) (ResultsIterator, error)\n\t// Close closes the ledger\n\tClose()\n\t// Commit adds a new block\n\tCommit(block *common.Block) error\n}```","username":"C0rWin","ts":"2017-07-27T22:58:46.297Z"}
{"msg":"@qizhang you need `GetBlockchainInfo()`","username":"C0rWin","ts":"2017-07-27T22:59:04.383Z"}
{"msg":"which returns ","username":"C0rWin","ts":"2017-07-27T22:59:23.262Z"}
{"msg":"```// Contains information about the blockchain ledger such as height, current\n// block hash, and previous block hash.\ntype BlockchainInfo struct {\n\tHeight            uint64 `protobuf:\"varint,1,opt,name=height\" json:\"height,omitempty\"`\n\tCurrentBlockHash  []byte `protobuf:\"bytes,2,opt,name=currentBlockHash,proto3\" json:\"currentBlockHash,omitempty\"`\n\tPreviousBlockHash []byte `protobuf:\"bytes,3,opt,name=previousBlockHash,proto3\" json:\"previousBlockHash,omitempty\"`\n}\n```","username":"C0rWin","ts":"2017-07-27T22:59:25.686Z"}
{"msg":"so height is the number of blocks in the ledger","username":"C0rWin","ts":"2017-07-27T22:59:55.533Z"}
{"msg":"in QSCC there is `GetChainInfo` which will return marshaled `BlockchainInfo` structure ","username":"C0rWin","ts":"2017-07-27T23:02:33.406Z"}
{"msg":"Has joined the channel.","username":"simsc","ts":"2017-07-28T15:40:00.013Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rsherwood","ts":"2017-07-28T15:46:29.038Z","type":"uj"}
{"msg":"For CouchDb how can we set up or configuration to give our testers / l3 support read onlly access to the key value pairs in the couchdb ?  The only thing I've see so far is a recommendation not to couchdb outside the docker swarm. This would cut off any access even to or L3 / operators.   ","username":"rsherwood","ts":"2017-07-28T15:50:13.372Z"}
{"msg":"Has joined the channel.","username":"bgaisford","ts":"2017-07-28T16:44:11.414Z","type":"uj"}
{"msg":"@rsherwood There is no out of the box support for such authorization rules.  You would need to setup peer to utilize an admin user for interacting with CouchDB, create regular users for read/write access per database, and then add a validation function via design doc to each database specifying that regular users cannot create/update documents.","username":"dave.enyeart","ts":"2017-07-28T18:04:29.079Z"}
{"msg":"For more details see https://stackoverflow.com/questions/10713437/couchdb-wide-read-only-access-rights","username":"dave.enyeart","ts":"2017-07-28T18:07:06.971Z"}
{"msg":"","username":"qizhang","ts":"2017-07-28T18:13:08.500Z","attachments":[{"title":"File Uploaded: iterate blockchain.png","title_link":"/file-upload/ds2LxMHGpoq5NmRwB/iterate blockchain.png","image_url":"/file-upload/ds2LxMHGpoq5NmRwB/iterate blockchain.png","image_type":"image/png","image_size":42673,"url":"/file-upload/ds2LxMHGpoq5NmRwB/iterate blockchain.png","remote":false,"fileId":"ds2LxMHGpoq5NmRwB","fileName":"iterate blockchain.png"}]}
{"msg":"The \"prevBlock.Header.Number = 1\" and \"blockChainInfo.Height = 2\", but then the code blocked at iter.Next(). Any suggestion? Thanks!","username":"qizhang","ts":"2017-07-28T18:13:25.658Z"}
{"msg":"The above problem can be solved by adding more blocks to the chain. But I am still not clear about why the above code can be blocked when there are only 2 blocks in the chain. Any comment will be appreciated :-)","username":"qizhang","ts":"2017-07-28T20:47:00.976Z"}
{"msg":"What is the function that a peer uses the get a missing block from other peers? ","username":"qizhang","ts":"2017-07-28T20:47:12.215Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=wbER5NwMa8d3xcx7X) @qizhang Whenever gossip receives a block, it checks the current ledger height and received block number. If there is a mismatch, it initiates state transfer (to fetch all missing blocks). For more details, you can ask in #fabric-gossip channel.  ","username":"Senthil1","ts":"2017-07-29T04:20:33.137Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wbER5NwMa8d3xcx7X","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wbER5NwMa8d3xcx7X","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ofbWjNt43sawX4rD4) @qizhang The basic behaviour of this iterator is such that it keeps iterating till the blocks are available. After exhausting the currently available blocks, it blocks till the next block is committed (in your program, in a separate gorouting, you can submit new trans to play around if you like). However, you can close the iterator anytime in your program.","username":"manish-sethi","ts":"2017-07-29T14:05:58.697Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ofbWjNt43sawX4rD4","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ofbWjNt43sawX4rD4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thanks @Senthil1 @manish-sethi ","username":"qizhang","ts":"2017-07-30T21:34:36.612Z"}
{"msg":"Has left the channel.","username":"peterkn","ts":"2017-07-31T06:08:40.491Z","type":"ul"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Af2rpEjHvQ8cv5h8u) @dave.enyeart  Thanks for your answer Dave. You said \"You would need to setup peer to utilize an admin user for interacting with CouchDB\". What  sort of user does a peer use by default ? I had assumed it would  need to be a  \"system admin\" user as its required to created databases is that correct ?","username":"rsherwood","ts":"2017-07-31T07:56:04.597Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Af2rpEjHvQ8cv5h8u","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Af2rpEjHvQ8cv5h8u","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has left the channel.","username":"vigneswaran.r","ts":"2017-07-31T08:50:21.878Z","type":"ul"}
{"msg":"Has left the channel.","username":"paapighoda","ts":"2017-07-31T09:13:00.532Z","type":"ul"}
{"msg":"@rsherwood That's correct, the peer user needs to be a system admin. Out of the box there is no user setup in CouchDB. You can set the admin user/password in the couchdb container and the matching user/password in the peer container.  See example of setting these via docker-compose environment variables here: https://gerrit.hyperledger.org/r/#/c/11905/1/first-network/docker-compose-couch.yaml","username":"dave.enyeart","ts":"2017-07-31T09:26:03.132Z"}
{"msg":"Has joined the channel.","username":"prempatidar","ts":"2017-07-31T10:03:58.985Z","type":"uj"}
{"msg":"The readthedocs says \"e. log.retention.ms = -1. Until the ordering service adds support for pruning of the Kafka logs, you should disable time-based retention and prevent segments from expiring. (Size-based retention – see log.retention.bytes – is disabled by default in Kafka at the time of this writing, so there’s no need to set it explicitly.)\" . Can I please check is this the case in the current ledger that the Order expects that kafka maintains a full set of messages.  ","username":"rsherwood","ts":"2017-07-31T13:09:36.888Z"}
{"msg":"Is it safe  to backup a ledger while it is being written to on Linux? Can we be assured that the Fabric will ensure that an entire fabric block is always going to be available, or is there any possibility that the backup manages to backup only  half of the last fabric block if the fabric spanned multiple disk blocks.  Alternatively would Fabric recognize a partial last block and be able to recover despite this.  ","username":"rsherwood","ts":"2017-07-31T13:17:07.648Z"}
{"msg":"One last question I hope.    For the fabric supplied kafka and zookeeper nodes are the container mount points that need to be made persistent /kafka/logs and /var/zookeeper  respectively ?","username":"rsherwood","ts":"2017-07-31T13:30:03.575Z"}
{"msg":"@rsherwood Please ask the orderer/kafka questions over on #fabric-consensus ","username":"dave.enyeart","ts":"2017-07-31T13:59:33.876Z"}
{"msg":"Concerning the ledger backup, the block storage files can be backed up while peer is up. Data is written a block at a time. There is indeed recovery logic that ensures ledger is consistent when peer comes up, and before making ledger available for transaction processing.","username":"dave.enyeart","ts":"2017-07-31T14:00:55.770Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=sXFgERFSgCBhw4yZc) @dave.enyeart  Thanks Dave, when backing up a running system, does it matter if the couchDB is backed up before the ledger, or would it be safer to do the reverse. Ie on startup will a fabric peer cope with the couchdb being at an earlier state than the ledger , without just throwing away the couchdb and replaying everything,  or is it reverse better ?","username":"rsherwood","ts":"2017-07-31T16:33:17.919Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=sXFgERFSgCBhw4yZc","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=sXFgERFSgCBhw4yZc","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rsherwood You can do it either way.  Upon peer startup recovery code will detect if state database (leveldb or couchdb) is empty or behind in block number. If so, it will replay blocks to bring the state database up to the current block number, before making the peer available for new transactions.","username":"dave.enyeart","ts":"2017-07-31T16:36:08.284Z"}
{"msg":"Hi, is the \"PayloadsBuffer\" a peer local buffer that stores the blocks before committing them to the ledger? Do these blocks include those received from either the orderer or the other peers? Thanks!","username":"qizhang","ts":"2017-08-01T19:19:37.608Z"}
{"msg":"Hi, is the \"PayloadsBuffer\" a peer local buffer that stores the blocks before committing them to the ledger? Do these blocks include those received from either the orderer or the other peers? Thanks!","username":"qizhang","ts":"2017-08-01T19:19:37.608Z"}
{"msg":"Has joined the channel.","username":"gary_zhan","ts":"2017-08-02T07:07:22.741Z","type":"uj"}
{"msg":"Hi,  is there any error conditions whereby a fabric peer decides to rebuild the couchdb to ensure consistency. In this case I assume that any changes added to the schema manually (such as adding read only users and validation functions) would be lost is this correct ?","username":"rsherwood","ts":"2017-08-02T08:23:05.322Z"}
{"msg":"@rsherwood There are no conditions that cause automatic rebuild of state database.  If there is a problem with state database, then the administrator could manually drop the state database and upon next peer start the content of the state database would be rebuilt by automatically replaying the block content.","username":"dave.enyeart","ts":"2017-08-02T10:46:34.677Z"}
{"msg":"@qizhang \"PayloadsBuffer\" is a gossip artifact, I've re-posted your question in #fabric-gossip ","username":"dave.enyeart","ts":"2017-08-02T10:50:40.122Z"}
{"msg":"the data structure ResultsIterator QueryResult occur repeat","username":"chenxuan","ts":"2017-08-02T14:43:02.307Z"}
{"msg":"?","username":"chenxuan","ts":"2017-08-02T14:43:03.074Z"}
{"msg":"@chenxuan Please provide context and your full question","username":"dave.enyeart","ts":"2017-08-02T14:59:02.501Z"}
{"msg":"ok","username":"chenxuan","ts":"2017-08-02T14:59:22.032Z"}
{"msg":"i see the fabric source code","username":"chenxuan","ts":"2017-08-02T14:59:31.350Z"}
{"msg":"when i see the ledger","username":"chenxuan","ts":"2017-08-02T14:59:38.191Z"}
{"msg":"i find the folder common/ledger and core/ledger","username":"chenxuan","ts":"2017-08-02T14:59:55.674Z"}
{"msg":"in the common/ledger/ledger_interface file","username":"chenxuan","ts":"2017-08-02T15:00:32.771Z"}
{"msg":"it define the ResultsIterator","username":"chenxuan","ts":"2017-08-02T15:00:52.335Z"}
{"msg":"and QueryResult","username":"chenxuan","ts":"2017-08-02T15:00:58.882Z"}
{"msg":"but when i see the core/ledger/kvledger/txmgmt/statedb/statedb file","username":"chenxuan","ts":"2017-08-02T15:01:58.594Z"}
{"msg":"it define the ResultsIterator and QueryResult","username":"chenxuan","ts":"2017-08-02T15:02:12.126Z"}
{"msg":"too","username":"chenxuan","ts":"2017-08-02T15:02:18.245Z"}
{"msg":"@manish-sethi Would it make sense for the statedb to reference common/ledger ResultsIterator and QueryResult rather than re-define it's own?","username":"dave.enyeart","ts":"2017-08-02T15:14:24.576Z"}
{"msg":"@manish-sethi Would it make sense for statedb to reference common/ledger ResultsIterator and QueryResult rather than re-define it's own?","username":"dave.enyeart","ts":"2017-08-02T15:14:24.576Z"}
{"msg":"Yes, we should be able to reuse the `ResultsIterator` and `QueryResult` from common/ledger package.","username":"manish-sethi","ts":"2017-08-02T15:26:25.399Z"}
{"msg":"@manish-sethi and would you recommend it?","username":"dave.enyeart","ts":"2017-08-02T15:27:02.942Z"}
{"msg":"Yes, I think that it would improve the code readability.","username":"manish-sethi","ts":"2017-08-02T15:34:57.713Z"}
{"msg":"@chenxuan Feel free to submit a changeset with the enhancement","username":"dave.enyeart","ts":"2017-08-02T15:36:30.002Z"}
{"msg":"i think it's a simple problem so i mention at here","username":"chenxuan","ts":"2017-08-02T15:38:31.492Z"}
{"msg":"not new a issue in the jira","username":"chenxuan","ts":"2017-08-02T15:38:41.831Z"}
{"msg":"i have a another question","username":"chenxuan","ts":"2017-08-02T15:38:55.350Z"}
{"msg":"i see the ledger","username":"chenxuan","ts":"2017-08-02T15:39:05.801Z"}
{"msg":"use the leveldb to store the history","username":"chenxuan","ts":"2017-08-02T15:39:17.065Z"}
{"msg":"it will support the couchdb ","username":"chenxuan","ts":"2017-08-02T15:39:35.222Z"}
{"msg":"later","username":"chenxuan","ts":"2017-08-02T15:39:49.949Z"}
{"msg":"？","username":"chenxuan","ts":"2017-08-02T15:39:53.518Z"}
{"msg":"@chenxuan In Fabric v1.0 you have a choice of using leveldb (default embedded) or couchdb (queryable external db) for state database. More details at https://hyperledger-fabric.readthedocs.io/en/latest/ledger.html","username":"dave.enyeart","ts":"2017-08-02T15:51:13.465Z"}
{"msg":"@chenxuan In Fabric v1.0 you have a choice of using leveldb (default embedded db) or couchdb (queryable external db) for state database. More details at https://hyperledger-fabric.readthedocs.io/en/latest/ledger.html","username":"dave.enyeart","ts":"2017-08-02T15:51:13.465Z"}
{"msg":"@dave.enyeart thx","username":"chenxuan","ts":"2017-08-02T15:54:04.365Z"}
{"msg":"another question is the performance","username":"chenxuan","ts":"2017-08-02T15:54:19.827Z"}
{"msg":"i see the test just the function","username":"chenxuan","ts":"2017-08-02T15:54:27.849Z"}
{"msg":"or aim to the performance","username":"chenxuan","ts":"2017-08-02T15:54:36.935Z"}
{"msg":"not aim to the performance","username":"chenxuan","ts":"2017-08-02T15:54:47.374Z"}
{"msg":"so i wonder weather the performance test come in the v1.1?","username":"chenxuan","ts":"2017-08-02T15:56:26.301Z"}
{"msg":"my english is bad so i only use the simple word to express my mind","username":"chenxuan","ts":"2017-08-02T15:57:13.806Z"}
{"msg":"There is performance test in progress. We do know that leveldb is faster than couchdb and are working to improve performance using couchdb in 1.1 timeframe","username":"dave.enyeart","ts":"2017-08-02T16:03:18.433Z"}
{"msg":"@chenxuan  There is performance test in progress. We do know that leveldb is faster than couchdb and are working to improve performance using couchdb in 1.1 timeframe","username":"dave.enyeart","ts":"2017-08-02T16:03:18.433Z"}
{"msg":"@dave.enyeart i know the ledger provide the leveldb/couchdb to user but for history it provider only leveldb","username":"chenxuan","ts":"2017-08-03T01:51:54.416Z"}
{"msg":"type HistoryDBProvider struct {\n\tdbProvider *leveldbhelper.Provider\n}\n","username":"chenxuan","ts":"2017-08-03T01:52:00.740Z"}
{"msg":"as you see the dbProvider *leveldbhelper.Provier is infrastructure to operate the leveldb","username":"chenxuan","ts":"2017-08-03T01:53:04.173Z"}
{"msg":"@chenxuan That's correct, the only API available for history is GetHistoryForKey() which is well supported by embedded leveldb","username":"dave.enyeart","ts":"2017-08-03T03:06:36.150Z"}
{"msg":"the lockbased_query_executer which locate at fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr folder should rename to lockbased_query_executor.go","username":"chenxuan","ts":"2017-08-03T03:13:15.773Z"}
{"msg":"just a advise","username":"chenxuan","ts":"2017-08-03T03:13:25.233Z"}
{"msg":"Has joined the channel.","username":"JohnCallahan","ts":"2017-08-03T11:55:37.785Z","type":"uj"}
{"msg":"If you have multiple chaincode installed and instantiated on the same channel. The data stored by one chaincode, it is not accessible to other chaincode right. Also if you upgrade the chaincode, can you still access the data persisted in the world state by the old chaincode. ","username":"gauthampamu","ts":"2017-08-03T16:39:49.446Z"}
{"msg":"Also can you say...because we support multiple channels..that we have multiple chains. So it almost single chain per channel. Even if you have multiple chaincode on the same channel. ","username":"gauthampamu","ts":"2017-08-03T16:41:10.260Z"}
{"msg":"@gauthampamu Only using chaincode calling chaincode functionality, one chaincode can read other chaincode's data (no updates allowed though via c2c). You can refer to `InvokeChaincode()` shim API. \nYes, even if we upgrade the chaincode, it can access the already persisted data. When a chaincode write a <k,v> pair to ledger, chaincode name is prepended with the key (same for reads too). As we need to use the same chaincode name during upgrade, the new chancode can access the already persisited data. \nYes, one chain per channel irrespective of the number of chaincodes on that channel. ","username":"Senthil1","ts":"2017-08-03T17:09:11.208Z"}
{"msg":"@gauthampamu Only using chaincode calling chaincode functionality, one chaincode can read other chaincode's data (no updates allowed though). You can refer to `InvokeChaincode()` shim API. \nYes, even if we upgrade the chaincode, it can access the already persisted data. When a chaincode write a <k,v> pair to ledger, chaincode name is prepended with the key (same for reads too). As we need to use the same chaincode name during upgrade, the new chancode can access the already persisited data. \nYes, one chain per channel irrespective of the number of chaincodes on that channel. ","username":"Senthil1","ts":"2017-08-03T17:09:11.208Z"}
{"msg":"@gauthampamu Only using chaincode calling chaincode functionality, one chaincode can read other chaincode's data (no updates allowed though). You can refer to `InvokeChaincode()` shim API -- https://github.com/hyperledger/fabric/blob/release/core/chaincode/shim/interfaces.go#L66. \nYes, even if we upgrade the chaincode, it can access the already persisted data. When a chaincode write a <k,v> pair to ledger, chaincode name is prepended with the key (same for reads too). As we need to use the same chaincode name during upgrade, the new chancode can access the already persisited data. \nYes, one chain per channel irrespective of the number of chaincodes on that channel. ","username":"Senthil1","ts":"2017-08-03T17:09:11.208Z"}
{"msg":"@gauthampamu Only using chaincode calling chaincode functionality, one chaincode can read other chaincode's data (no updates allowed though). You can refer to `InvokeChaincode()` shim API -- https://github.com/hyperledger/fabric/blob/release/core/chaincode/shim/interfaces.go#L66. \nYes, the upgraded chaincode can access the already persisted data. When a chaincode write a <k,v> pair to ledger, chaincode name is prepended with the key (same for reads too). As we need to use the same chaincode name during upgrade, the new chancode can access the already persisited data. \nYes, one chain per channel irrespective of the number of chaincodes on that channel. ","username":"Senthil1","ts":"2017-08-03T17:09:11.208Z"}
{"msg":"@gauthampamu Only using chaincode calling chaincode functionality, one chaincode can read other chaincode's data (no updates allowed though). You can refer to `InvokeChaincode()` shim API -- https://github.com/hyperledger/fabric/blob/release/core/chaincode/shim/interfaces.go#L66. \nYes, the upgraded chaincode can access the already persisted data. When a chaincode writes a <k,v> pair to ledger, chaincode name is prepended with the key (same for reads too). As we need to use the same chaincode name during upgrade, the new chancode can access the already persisited data. \nYes, one chain per channel irrespective of the number of chaincodes on that channel. ","username":"Senthil1","ts":"2017-08-03T17:09:11.208Z"}
{"msg":"Thanks @Senthil1 ","username":"gauthampamu","ts":"2017-08-03T17:10:40.480Z"}
{"msg":"Has joined the channel.","username":"eacoeytaux","ts":"2017-08-04T19:54:14.705Z","type":"uj"}
{"msg":"Has joined the channel.","username":"smcambria22","ts":"2017-08-07T19:55:19.690Z","type":"uj"}
{"msg":"How is the GetHistoryForKey() actually implemented ? is there an separate database maintained by the peer ?","username":"niteshsolanki","ts":"2017-08-08T12:27:54.228Z"}
{"msg":"@niteshsolanki There is a separate 'index' in leveldb that tracks the key changes and associates with the respective transactions that caused the key change. Then GetHistoryForKey() will query this index and pull out the actual data from the corresponding transaction in the chain","username":"dave.enyeart","ts":"2017-08-08T12:56:11.673Z"}
{"msg":"@niteshsolanki There is a separate 'index' in leveldb that tracks the key changes and associates with the respective transactions that caused the key change. Then GetHistoryForKey() will query this index and pull out the actual historical value from the corresponding transaction in the chain","username":"dave.enyeart","ts":"2017-08-08T12:56:11.673Z"}
{"msg":"Ohh.. @dave.enyeart So is this the feature built by fabric or leveldb maintain it inherently?","username":"niteshsolanki","ts":"2017-08-08T14:23:45.450Z"}
{"msg":"@niteshsolanki Fabric 'maintains' these indexes during transaction commit.  It is not an inherit leveldb capability per se, but fabric utilizes leveldb key/value storage and range query capability to implement the 'index' and the associated queries","username":"dave.enyeart","ts":"2017-08-08T14:43:45.904Z"}
{"msg":"@niteshsolanki Fabric 'maintains' these indexes during transaction commit.  It is not an inherit leveldb capability per se, but fabric utilizes leveldb key/value storage and range query capability to implement the historical 'index' and the associated queries","username":"dave.enyeart","ts":"2017-08-08T14:43:45.904Z"}
{"msg":"okay thanks @dave.enyeart . A quick question on upgrade chiacode. When a CC is upgraded with the new version does it creates a new Docker container as well image for that?How state migration actually happening behind the scenes?","username":"niteshsolanki","ts":"2017-08-08T14:47:24.890Z"}
{"msg":"yes, there will be a new container for the new chaincode version (but same chaincode id).  no data migration is necessary, the peer maintains the state scoped to chaincode id, rather than id-version.","username":"dave.enyeart","ts":"2017-08-08T14:48:56.682Z"}
{"msg":"so when we say abt state of a CC, each container is running an instance of leveldb ? How is isolation property tied to it?","username":"niteshsolanki","ts":"2017-08-08T14:51:28.088Z"}
{"msg":"state data (leveldb) is maintained on peer container, not chaincode container.   so chaincode1-v1 and chaincode1-v2 both access peer for the chaincode1 data","username":"dave.enyeart","ts":"2017-08-08T14:52:26.543Z"}
{"msg":"Ohh. So each channel will represent a database here? ","username":"niteshsolanki","ts":"2017-08-08T14:53:25.409Z"}
{"msg":"yes, there is a logical database per channel","username":"dave.enyeart","ts":"2017-08-08T14:54:00.883Z"}
{"msg":"yes, there is a logical state database per channel","username":"dave.enyeart","ts":"2017-08-08T14:54:00.883Z"}
{"msg":"yes, there is a logical state database per channel/chaincode","username":"dave.enyeart","ts":"2017-08-08T14:54:00.883Z"}
{"msg":"the mapping of logical database to physical database is an implementation detail that varies across different database types","username":"dave.enyeart","ts":"2017-08-08T14:55:28.383Z"}
{"msg":"@dave.enyeart just noticed that for couchDB each channel will be a new database with each putState will be a new document into it. how is the mapping done wen using level DB?","username":"niteshsolanki","ts":"2017-08-08T15:03:34.297Z"}
{"msg":"Is it possible to delete a channel after it is create ?  Is it not because we should not be deleting the channel ?  Is it possible to remove a peer or organization from the channel so that they cannot get access it. ","username":"gauthampamu","ts":"2017-08-08T20:09:22.567Z"}
{"msg":"I have a question on upgrading chaincode. Lets say we have two peers that belong to different organization and both are on the same channel. Now if you installed the new chaincode on one peer but not on the other peer. Can still submit the upgrade transaction on the chaincode ? Will the upgrade chaincode fail because we did not install the new chaincode on all the endorsing peers. ","username":"gauthampamu","ts":"2017-08-08T20:15:43.725Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric-gossip?msg=SbPmiF4D38MqtmvXo","username":"C0rWin","ts":"2017-08-09T07:27:27.712Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-gossip?msg=SbPmiF4D38MqtmvXo","url":"https://chat.hyperledger.org/channel/fabric-gossip?msg=SbPmiF4D38MqtmvXo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"MeenakshiSingh","ts":"2017-08-09T08:59:24.858Z","type":"uj"}
{"msg":"The peer should be the only thing that modifies state database.  If you attempt to tamper with the data, it will be detected the next time that  data is touched.  For example if the tampered peer participates in endorsement with bad state data, the endorsement results will not match the endorsement results from other peers, the client will therefore detect the bad data and will remove that peer from the set of endorsement results. If a bad client attempts to submit the transaction with bad endorsement, that transaction will get invalidated regardless.","username":"dave.enyeart","ts":"2017-08-09T10:18:41.801Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=DjrBStJG77ReqGzH5) @dave.enyeart ok...can any namespace/meta information be stored in couch db which are not part of the transactions?","username":"MeenakshiSingh","ts":"2017-08-09T12:35:02.587Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DjrBStJG77ReqGzH5","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DjrBStJG77ReqGzH5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Peer does store some meta information in state db along with the transactions, for example a savepoint that indicates the block height that the state data represents. ","username":"dave.enyeart","ts":"2017-08-09T13:07:39.807Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=4xGCLw7aZoNFYm68m) @dave.enyeart By namespace, I meant metadata wrt lets say, an organization, which would help in logically grouping the retrieved transaction. What exactly do we mean by state db? 1.0 supports MySQL as well right. Is this possible using that. If not, how to achieve this?","username":"MeenakshiSingh","ts":"2017-08-09T15:52:27.559Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4xGCLw7aZoNFYm68m","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4xGCLw7aZoNFYm68m","remote":true,"fileId":null,"fileName":null}]}
{"msg":"state db persists current state of all chaincode variables.  there is not a 1:1 mapping of transactions to chaincode variables. if you want transaction history by submitting organization, that is certainly a reasonable requirement which could be addressed in the fabric by a new 'index' or 'metadata' as you say, but that would not be in state db per se, but rather in a new index alongside block storage. Feel free to open a Jira enhancement for that request.","username":"dave.enyeart","ts":"2017-08-09T16:09:56.332Z"}
{"msg":"for state db there are currently two supported options, embedded leveldb or couchdb.","username":"dave.enyeart","ts":"2017-08-09T16:10:35.236Z"}
{"msg":"these work well with the chaincode programming model since they are key/value or key/document database.","username":"dave.enyeart","ts":"2017-08-09T16:11:20.287Z"}
{"msg":"MySQL is not currently supported, and would require more fundamental changes if you wanted to leverage the relational structure","username":"dave.enyeart","ts":"2017-08-09T16:12:17.172Z"}
{"msg":"Has joined the channel.","username":"jslee99a","ts":"2017-08-10T01:49:46.779Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sampath06","ts":"2017-08-10T03:23:17.723Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Glen","ts":"2017-08-10T05:17:00.526Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qsmen","ts":"2017-08-11T06:59:24.932Z","type":"uj"}
{"msg":"@dave.enyeart does the fabric wait untill all txs for a given block are validated before committing a block?","username":"berserkr","ts":"2017-08-12T04:58:05.871Z"}
{"msg":"what happens if a tx is invalid? does it just get marked as invalid? but block still commited right?","username":"berserkr","ts":"2017-08-12T04:58:34.259Z"}
{"msg":"@berserkr At the peers, there is a bitmap for each block that is used to mark invalid transactions.  The block is committed regardless of how many of its transactions are valid or invalid.","username":"silliman","ts":"2017-08-12T18:52:32.712Z"}
{"msg":"Correct, the whole block is committed to the chain, there is a byte array that indicates which transactions were valid/invalid, and only the valid transactions are applied to state database.","username":"dave.enyeart","ts":"2017-08-13T03:40:42.417Z"}
{"msg":"Got it, thank you!","username":"berserkr","ts":"2017-08-13T05:20:09.578Z"}
{"msg":"can anyone confirm that stub.getTimestamp() can be used to retrieve a timestamp and can be used to set a field like 'updatedAt' for the data model?","username":"lenin.mehedy","ts":"2017-08-13T05:50:49.195Z"}
{"msg":"I understand that time.Now() should not be used in chaincode since that may cause non-deterministic behaviour.","username":"lenin.mehedy","ts":"2017-08-13T05:51:56.595Z"}
{"msg":"sorry for the typo. The actual method is like this: stub.GetTxTimestamp()","username":"lenin.mehedy","ts":"2017-08-13T05:54:05.520Z"}
{"msg":"Has joined the channel.","username":"ydk210999","ts":"2017-08-13T07:23:53.616Z","type":"uj"}
{"msg":"@lenin.mehedy your understanding about not using time.Now() is correct, and your understanding about stub.GetTxTimestamp() is also correct- GetTxTimestamp() will return the time the transaction was created and will be the same value at all endorsing peers.","username":"silliman","ts":"2017-08-13T12:36:03.505Z"}
{"msg":"Thanks @silliman :)","username":"lenin.mehedy","ts":"2017-08-13T13:29:43.637Z"}
{"msg":"I have a few doubts...1. does 1.0 provide a way to find out which transactions failed in consensus or did not meet endorsement policy? 2. If a set of transactions fail due to network issues, is there a mechanism to retry them?","username":"MeenakshiSingh","ts":"2017-08-13T14:28:05.590Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=78jyFZcLX53qEpP3D) @dave.enyeart Thanks. I did raise a jira enhancement for this request. `https://jira.hyperledger.org/browse/FAB-5703` I have a few doubts...1. does 1.0 provide a way to find out which transactions failed in consensus or did not meet endorsement policy? 2. If a set of transactions fail due to network issues, is there a mechanism to retry them? ","username":"MeenakshiSingh","ts":"2017-08-13T14:28:05.590Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=78jyFZcLX53qEpP3D","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=78jyFZcLX53qEpP3D","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@MeenakshiSingh yes the client can be notified if transactions fail and can retry those transactions.  Post to #fabric-sdk-node or #fabric-sdk-java to understand the exact mechanics, depending on the client sdk you'd like to use.","username":"dave.enyeart","ts":"2017-08-14T11:55:25.155Z"}
{"msg":"@dave.enyeart can you explain the the doc statedb_savepoint","username":"chenxuan","ts":"2017-08-14T11:58:52.412Z"}
{"msg":"when i use the couchdb","username":"chenxuan","ts":"2017-08-14T11:58:57.969Z"}
{"msg":"to store the ledger data","username":"chenxuan","ts":"2017-08-14T11:59:02.448Z"}
{"msg":"and wrapper the data","username":"chenxuan","ts":"2017-08-14T11:59:12.897Z"}
{"msg":"?","username":"chenxuan","ts":"2017-08-14T11:59:13.762Z"}
{"msg":"what's the propose","username":"chenxuan","ts":"2017-08-14T11:59:19.572Z"}
{"msg":"?","username":"chenxuan","ts":"2017-08-14T11:59:20.433Z"}
{"msg":"@chenxuan it is an internal impl detail... consumers dont need to understand it.  it essentially tells us what the latest block was that processed successfully in state database.  it is used upon recovery to ensure block storage and state database are in sync.","username":"dave.enyeart","ts":"2017-08-14T12:16:47.907Z"}
{"msg":"ok","username":"chenxuan","ts":"2017-08-14T12:17:55.999Z"}
{"msg":"i see the peer node start","username":"chenxuan","ts":"2017-08-14T12:18:12.452Z"}
{"msg":"process","username":"chenxuan","ts":"2017-08-14T12:18:14.561Z"}
{"msg":"when a peer start","username":"chenxuan","ts":"2017-08-14T12:18:23.891Z"}
{"msg":"it execute ledgermgmt.Initialize()","username":"chenxuan","ts":"2017-08-14T12:18:52.143Z"}
{"msg":"and provider","username":"chenxuan","ts":"2017-08-14T12:19:01.051Z"}
{"msg":"and provide the grpc service","username":"chenxuan","ts":"2017-08-14T12:19:18.947Z"}
{"msg":"like eventhub server","username":"chenxuan","ts":"2017-08-14T12:19:26.351Z"}
{"msg":"adminserver","username":"chenxuan","ts":"2017-08-14T12:19:32.285Z"}
{"msg":"endorser server","username":"chenxuan","ts":"2017-08-14T12:19:38.531Z"}
{"msg":"take a example ","username":"chenxuan","ts":"2017-08-14T12:19:56.455Z"}
{"msg":"the adminserver let me the peer status","username":"chenxuan","ts":"2017-08-14T12:20:05.871Z"}
{"msg":"i can use the peer status","username":"chenxuan","ts":"2017-08-14T12:20:23.690Z"}
{"msg":"to know the peer status","username":"chenxuan","ts":"2017-08-14T12:20:29.021Z"}
{"msg":"i also want to communicate with the endorser server","username":"chenxuan","ts":"2017-08-14T12:20:54.204Z"}
{"msg":"use the cli","username":"chenxuan","ts":"2017-08-14T12:20:56.252Z"}
{"msg":"but i found nothing","username":"chenxuan","ts":"2017-08-14T12:21:07.006Z"}
{"msg":"that means the sdk (java,node) must impl the client ?","username":"chenxuan","ts":"2017-08-14T12:24:44.095Z"}
{"msg":"@dave.enyeart do you know of any examples that do chaincode invokation within chaincode? for those scenarios, is the endorser policy checked for botch chaincodes or just the main chaincode doing the execution?","username":"berserkr","ts":"2017-08-14T18:43:38.102Z"}
{"msg":"example04 and example05 demonstrate invokeChaincode(): https://github.com/hyperledger/fabric/tree/release/examples/chaincode/go","username":"dave.enyeart","ts":"2017-08-14T18:54:18.717Z"}
{"msg":"Endorsement policy is only checked for the main chaincode.  It is assumed the chaincode author is aware of chaincode calling chaincode and models endorsement policy accordingly.","username":"dave.enyeart","ts":"2017-08-14T18:56:13.485Z"}
{"msg":"got it, thank you!","username":"berserkr","ts":"2017-08-14T20:47:40.038Z"}
{"msg":"Has joined the channel.","username":"Jonny","ts":"2017-08-15T14:10:46.849Z","type":"uj"}
{"msg":"Has joined the channel.","username":"movee2005","ts":"2017-08-15T19:32:26.587Z","type":"uj"}
{"msg":"@dave.enyeart  Hello Dave .. quick question. Is there a plan to have chaincode APIs to create views on couchDB","username":"movee2005","ts":"2017-08-15T19:33:18.960Z"}
{"msg":"we want to optimize queries and felt that Views provide the more optimal solution","username":"movee2005","ts":"2017-08-15T19:33:45.964Z"}
{"msg":"This is Mohan","username":"movee2005","ts":"2017-08-15T19:34:07.002Z"}
{"msg":"@movee2005  Hi Mohan, CouchDB index support for rich query find API is currently tagged for Fabric 1.1 (https://jira.hyperledger.org/browse/FAB-2877), while CouchDB custom view support is currently tagged for Fabric 1.2 (https://jira.hyperledger.org/browse/FAB-5528).  Of course, the tags are not commitments and community support is required.  I'd invite anyone to vote for and make use case comments on the respective jira items.","username":"dave.enyeart","ts":"2017-08-15T20:48:40.069Z"}
{"msg":"Has joined the channel.","username":"Sandeep","ts":"2017-08-15T21:12:57.447Z","type":"uj"}
{"msg":"How can find which user has initiated a change to the ledger?","username":"sampath06","ts":"2017-08-16T07:42:55.706Z"}
{"msg":"Has joined the channel.","username":"msandig","ts":"2017-08-16T08:42:15.029Z","type":"uj"}
{"msg":"Hey guys :) I've got a question / problem.... I try to init a peer container with an couchdb. This works fine, but I want to add admin credentials for the couchdb. I set environment variables for both containers, but the peer doesn't connect to the couchdb? Can anyone help? Or I am in the wrong channel?","username":"msandig","ts":"2017-08-16T08:46:25.453Z"}
{"msg":"Has joined the channel.","username":"Zarf","ts":"2017-08-16T13:46:34.443Z","type":"uj"}
{"msg":"@sampath06 assuming you are interested in who updated a certain key, you can do GetHistoryForKey() to find the transactions that updated the key.  Then you can get those transactions and look into the 'creator' field.","username":"dave.enyeart","ts":"2017-08-16T13:52:03.286Z"}
{"msg":"@msandig You can see an example of how to enable couchdb and associated peer credentials here: https://gerrit.hyperledger.org/r/#/c/11905/","username":"dave.enyeart","ts":"2017-08-16T13:53:42.681Z"}
{"msg":"@dave.enyeart Thanks","username":"sampath06","ts":"2017-08-16T13:54:45.396Z"}
{"msg":"Has joined the channel.","username":"ArnabChatterjee","ts":"2017-08-17T04:02:50.364Z","type":"uj"}
{"msg":"@dave.enyeart \n\n1. We are planning to add authentication by adding user for couch-db access. My understanding the current default mode/setup is Admin Party. Is that we would require to create a server admin (not a database admin)?\n\n2. I will have to update the plain-text password in the docker-composer file for peer service, have we used any approach (working on fabric seup) to encrypt this password in composer file?\n\n3. Can we create user which only has read-access to couch, link on the internet  suggest to use validate function, is this the only approach available?","username":"rahulhegde","ts":"2017-08-17T14:20:43.978Z"}
{"msg":"1. You can see example of user credentials here: https://gerrit.hyperledger.org/r/#/c/11905/1/basic-network/docker-compose.yml","username":"dave.enyeart","ts":"2017-08-17T14:22:48.390Z"}
{"msg":"2. I believe you can use Docker secrets to encrypt passwords, although I haven't tried that myself.","username":"dave.enyeart","ts":"2017-08-17T14:23:14.391Z"}
{"msg":"3. Yes, to create a read-only user you would have to add a validate function","username":"dave.enyeart","ts":"2017-08-17T14:23:30.022Z"}
{"msg":"3. Yes, to create a read-only user you would have to add a validate function.  You could do that yourself today. There is a future enhancement to make that available out of the box: https://jira.hyperledger.org/browse/FAB-1308","username":"dave.enyeart","ts":"2017-08-17T14:23:30.022Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=GWurDSy4yCsZ9d2WN) @dave.enyeart \n\nI just your response (to almost same question). So setting the user variable in couch service (docker-composer) - will automatically provision Server Admin user?","username":"rahulhegde","ts":"2017-08-17T14:26:45.991Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GWurDSy4yCsZ9d2WN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GWurDSy4yCsZ9d2WN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=GWurDSy4yCsZ9d2WN) @dave.enyeart \n\nI just saw your response (to almost same question). So setting the user variable in couch service (docker-composer) - will automatically provision Server Admin user?","username":"rahulhegde","ts":"2017-08-17T14:26:45.991Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GWurDSy4yCsZ9d2WN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GWurDSy4yCsZ9d2WN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes, upon couchdb container creation it will utilize that username/password and turn off Admin Party","username":"dave.enyeart","ts":"2017-08-17T14:27:45.588Z"}
{"msg":"and peer will use the same username/password to connect","username":"dave.enyeart","ts":"2017-08-17T14:27:59.451Z"}
{"msg":"must be an admin username/password so that peer can create databases for new channels","username":"dave.enyeart","ts":"2017-08-17T14:28:15.121Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=zJwp95F2MRDopbGMt) @dave.enyeart \n\nThanks. \n\nFor read-only access, if we have to put ourself - a check would be like userCtx.Name == COUCHDB_USER in the validate function. There wouldn't be any new json element added explicitly to json document. Is this correct?","username":"rahulhegde","ts":"2017-08-17T14:38:37.973Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zJwp95F2MRDopbGMt","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zJwp95F2MRDopbGMt","remote":true,"fileId":null,"fileName":null}]}
{"msg":"correct","username":"dave.enyeart","ts":"2017-08-17T14:39:20.535Z"}
{"msg":"@dave.enyeart - we have seen couch db file-system growing like for 50MB raw store, it consumed 1G space. We found that - a compaction needs to be run across databases (even for system databases). Limiting the document version count didn't help much post re-compaction.\nIs this problem discussed in community or u have noticed it.?","username":"rahulhegde","ts":"2017-08-17T15:49:23.440Z"}
{"msg":"@dave.enyeart - we have seen couch db file-system growing like for 50MB raw store, it consumed 1G space. We found that - a compaction needs to be run across databases (even for system databases). Limiting the document version count didn't help much post re-compaction.\nIs this problem discussed in community or u noticed it?","username":"rahulhegde","ts":"2017-08-17T15:49:23.440Z"}
{"msg":"yes, this is in our plan: https://jira.hyperledger.org/browse/FAB-5665 ","username":"dave.enyeart","ts":"2017-08-17T15:53:51.733Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=kZusCvf5zeTqiHkzp) @dave.enyeart ","username":"rahulhegde","ts":"2017-08-17T15:55:06.109Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kZusCvf5zeTqiHkzp","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kZusCvf5zeTqiHkzp","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=kZusCvf5zeTqiHkzp) @dave.enyeart \n:), sure - i will add the above note for now.","username":"rahulhegde","ts":"2017-08-17T15:55:06.109Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kZusCvf5zeTqiHkzp","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kZusCvf5zeTqiHkzp","remote":true,"fileId":null,"fileName":null}]}
{"msg":"any legwork you or others could do would help get it in quicker","username":"dave.enyeart","ts":"2017-08-17T15:56:03.198Z"}
{"msg":"share as much in the comments as you can please","username":"dave.enyeart","ts":"2017-08-17T15:56:18.460Z"}
{"msg":"Is there a method in SDK to query the transaction history of a specific user.  Or is it limited to the data structures defined in the state DB.  I am proxying this question for another user, but it has arisen a few times so I'm curious as well ","username":"nickgaski","ts":"2017-08-17T16:01:13.987Z"}
{"msg":"@nickgaski That is not possible currently, but does sound reasonable.  There is a Jira feature for it that people can add comments to and vote on: https://jira.hyperledger.org/browse/FAB-5703","username":"dave.enyeart","ts":"2017-08-17T16:52:31.114Z"}
{"msg":"Has joined the channel.","username":"sansha","ts":"2017-08-17T18:36:12.334Z","type":"uj"}
{"msg":"hi. What is the need for a file system based block store?","username":"sansha","ts":"2017-08-17T18:36:25.500Z"}
{"msg":"I see we are storing indexing information in leveldb","username":"sansha","ts":"2017-08-17T18:36:43.814Z"}
{"msg":"I am not able to understand the code in fabric/common/ledger/blkstorage","username":"sansha","ts":"2017-08-17T18:38:01.686Z"}
{"msg":"I was expecting the blocks to be stored in leveldb itself. it looks like we are storing some indexing information alone and not the actual blocks","username":"sansha","ts":"2017-08-17T18:39:15.767Z"}
{"msg":"@sansha the actual blocks are stored on the file system and some attributes about the blocks (and trans) are indexed ","username":"manish-sethi","ts":"2017-08-17T18:39:35.562Z"}
{"msg":"No, the actual blocks do not reside in the leveldb","username":"manish-sethi","ts":"2017-08-17T18:39:54.105Z"}
{"msg":"Why can't we store them in leveldb itself?","username":"sansha","ts":"2017-08-17T18:40:26.851Z"}
{"msg":"The level db is just used as an index. You can delete this and it would be rebuilt on peer start","username":"manish-sethi","ts":"2017-08-17T18:40:29.655Z"}
{"msg":"performance ","username":"manish-sethi","ts":"2017-08-17T18:40:47.345Z"}
{"msg":"The block chain by nature is an append only structure","username":"manish-sethi","ts":"2017-08-17T18:41:09.785Z"}
{"msg":"The append operation on a file is the maximum write throughput you can get","username":"manish-sethi","ts":"2017-08-17T18:41:41.304Z"}
{"msg":"You may like to read about write-amplification in kv-store","username":"manish-sethi","ts":"2017-08-17T18:42:06.001Z"}
{"msg":"this helps. leveldb's write amplication is a performance bottleneck as I am understand","username":"sansha","ts":"2017-08-17T18:43:00.304Z"}
{"msg":"yes","username":"manish-sethi","ts":"2017-08-17T18:43:17.307Z"}
{"msg":"thank you Manish. I will read about it","username":"sansha","ts":"2017-08-17T18:45:08.824Z"}
{"msg":"Sure, no problem. ","username":"manish-sethi","ts":"2017-08-17T18:45:30.083Z"}
{"msg":"is there any other reason other than performance? Like when a new node comes up, does storing in file system offer any advantages?","username":"sansha","ts":"2017-08-17T18:47:02.717Z"}
{"msg":"like for example, node synchronisation","username":"sansha","ts":"2017-08-17T18:47:23.144Z"}
{"msg":"Is there some documentation that explains the ledger architecture design?","username":"sansha","ts":"2017-08-17T18:47:46.585Z"}
{"msg":"Though the performance was the initial consideration but yes it may offer additional flexibility if we want to perform state transfer using just the files","username":"manish-sethi","ts":"2017-08-17T18:49:40.827Z"}
{"msg":"No, unfortunately documentation does not cover lower level design decisions ...","username":"manish-sethi","ts":"2017-08-17T18:50:55.955Z"}
{"msg":"thank you Manish","username":"sansha","ts":"2017-08-17T18:53:58.419Z"}
{"msg":"Sure, no problems","username":"manish-sethi","ts":"2017-08-17T18:54:15.674Z"}
{"msg":"Why are there two ledger directories? I see one in common/ledger and core/ledger?","username":"sansha","ts":"2017-08-17T19:19:40.592Z"}
{"msg":"Common/ledger is used across both orderer (for storing blocks on the orderer machine) and peer (for storing blocks on a peer)","username":"manish-sethi","ts":"2017-08-17T19:20:51.455Z"}
{"msg":"core/ledger contains additional ledger code that is required only on the peer","username":"manish-sethi","ts":"2017-08-17T19:21:21.857Z"}
{"msg":"You may like to have a look at the ledger_interface.go in core/ledger... The peerledger interface extends from the commonledger","username":"manish-sethi","ts":"2017-08-17T19:22:11.087Z"}
{"msg":"thank you ","username":"sansha","ts":"2017-08-17T19:22:48.013Z"}
{"msg":"will take a look","username":"sansha","ts":"2017-08-17T19:22:56.175Z"}
{"msg":"@here - Hi people. I have been trying hard to put data in couch db and viewing them in Fauxton GUI. I managed to put them using my go CC but I am unable to see any data inside \"data\" field inside my document. I have tried the marbles_02 example and running that shows data using the Fauxton GUI. Any ideas where I might be going wrong. (I have tried with raw as well as Json documents, but no success till now) :(","username":"ArnabChatterjee","ts":"2017-08-18T02:25:44.394Z"}
{"msg":"@ArnabChatterjee please don't spam the channel with at-here unless it is a channel announcement","username":"dave.enyeart","ts":"2017-08-18T02:27:46.955Z"}
{"msg":"okay. ","username":"ArnabChatterjee","ts":"2017-08-18T02:28:11.278Z"}
{"msg":"Assuming your marbles02 JSON data is visible in Couch UI, but not your own chaincode's, then most likely your chaincode is not producing valid JSON.  Valid JSON will be stored in CouchDB as JSON, anything else will be stored in CouchDB as an 'attachment'","username":"dave.enyeart","ts":"2017-08-18T02:29:11.699Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Yg2ZN8mWZEmJLnAXL) @dave.enyeart  Thanks. I was trying to have a look at my JSON by using ChaincodeLogger Interface as well as fmt.Println but unable to find them in the logs. I hardly could find them in docker logs of CC container/peer container.","username":"ArnabChatterjee","ts":"2017-08-18T02:31:22.676Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Yg2ZN8mWZEmJLnAXL","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Yg2ZN8mWZEmJLnAXL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"In marbles02 fmt.Println() is used for logging.  The log statements appear in the chaincode container docker logs, rather than the peer docker logs.","username":"dave.enyeart","ts":"2017-08-18T02:34:57.735Z"}
{"msg":"Here is the function that is used to determine if your bytes are JSON or not.  You could do same thing in your chaincode to test the bytes.","username":"dave.enyeart","ts":"2017-08-18T02:39:08.956Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release/core/ledger/util/couchdb/couchdb.go#L1393","username":"dave.enyeart","ts":"2017-08-18T02:39:09.822Z"}
{"msg":"Thanks dave. I finally figured it out. I wasn't using init caps for my fields inside my struct. Silly me. :) Thanks again. :)","username":"ArnabChatterjee","ts":"2017-08-18T02:40:11.283Z"}
{"msg":"Has joined the channel.","username":"mdnoorishah","ts":"2017-08-18T15:48:05.009Z","type":"uj"}
{"msg":"Hi New to block chain ","username":"mdnoorishah","ts":"2017-08-18T15:48:19.712Z"}
{"msg":"trying to explore IBM blumix ","username":"mdnoorishah","ts":"2017-08-18T15:48:26.594Z"}
{"msg":"https://composer-playground.mybluemix.net/test","username":"mdnoorishah","ts":"2017-08-18T15:48:30.433Z"}
{"msg":"could not get much on the coding ","username":"mdnoorishah","ts":"2017-08-18T15:48:46.689Z"}
{"msg":"any tutorial / guide ","username":"mdnoorishah","ts":"2017-08-18T15:48:53.013Z"}
{"msg":"I could not able to relate which what I studied ","username":"mdnoorishah","ts":"2017-08-18T15:49:44.624Z"}
{"msg":"just wanted to understand how the Architecture defined on Distributed system ","username":"mdnoorishah","ts":"2017-08-18T15:50:07.510Z"}
{"msg":"@mdnoorishah this is a channel for a fabric component (Ledger). A more suitable place would be #fabric or #fabric-questions channel","username":"AdnanC","ts":"2017-08-18T15:50:51.042Z"}
{"msg":"@mdnoorishah this is a channel for a fabric component (Ledger). A more suitable place for your questiomns would be #fabric or #fabric-questions channel","username":"AdnanC","ts":"2017-08-18T15:50:51.042Z"}
{"msg":"@mdnoorishah this is a channel for a fabric component (Ledger). A more suitable place for your questions would be #fabric or #fabric-questions channel","username":"AdnanC","ts":"2017-08-18T15:50:51.042Z"}
{"msg":"Has left the channel.","username":"vdods","ts":"2017-08-18T15:57:07.956Z","type":"ul"}
{"msg":"@AdnanC can you explain the difference between the orderer ledger and peer ledger","username":"chenxuan","ts":"2017-08-19T13:47:04.774Z"}
{"msg":"?","username":"chenxuan","ts":"2017-08-19T13:47:05.392Z"}
{"msg":"@chenxuan They both store the blocks that orderer cuts on the file system.  The peer ledger has some additional indexes to support peer queries into the block storage (e.g. GetTransactionById), as well as the state database of current key values to support chaincode.","username":"dave.enyeart","ts":"2017-08-19T16:13:51.240Z"}
{"msg":"@chenxuan They both store the blocks that orderer cuts on the file system, this code is common between orderer and peer.  The peer ledger has some additional indexes to support peer queries into the block storage (e.g. GetTransactionById), as well as the state database of current key values to support chaincode.","username":"dave.enyeart","ts":"2017-08-19T16:13:51.240Z"}
{"msg":"@dave.enyeart in the production env we should mount the /var/hyperledger/production folder in the master host","username":"chenxuan","ts":"2017-08-20T02:15:39.034Z"}
{"msg":"in avoid the data is lose","username":"chenxuan","ts":"2017-08-20T02:15:55.526Z"}
{"msg":"@jyellick how can i to view a struct in a json format like block,envelope,payload","username":"chenxuan","ts":"2017-08-20T08:05:05.361Z"}
{"msg":"Has joined the channel.","username":"jyellick","ts":"2017-08-20T08:05:05.432Z","type":"uj"}
{"msg":"@chenxuan yes, for more about docker data persistence to host see: https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence","username":"dave.enyeart","ts":"2017-08-20T15:22:15.904Z"}
{"msg":"If you want to see the block data in json format I suggest you utilize node SDK, see https://fabric-sdk-node.github.io/","username":"dave.enyeart","ts":"2017-08-20T15:23:47.519Z"}
{"msg":"thx @dave.enyeart ","username":"chenxuan","ts":"2017-08-20T15:24:59.845Z"}
{"msg":"because the fabric provide many different data structure ","username":"chenxuan","ts":"2017-08-20T15:25:20.220Z"}
{"msg":"so i want to see the content in the data structure","username":"chenxuan","ts":"2017-08-20T15:25:42.545Z"}
{"msg":"@jyellick provide the configtxlator tool to view the content","username":"chenxuan","ts":"2017-08-20T15:26:01.976Z"}
{"msg":"but i want to see the content in the anyway","username":"chenxuan","ts":"2017-08-20T15:26:18.282Z"}
{"msg":"because i could debug the orderer/peer ","username":"chenxuan","ts":"2017-08-20T15:26:45.012Z"}
{"msg":"@dave.enyeart in the fabric v1.0.2 the limit/skip seems still doesn't work i see the query_wrapper.go file ","username":"chenxuan","ts":"2017-08-20T15:51:44.268Z"}
{"msg":"        //Add limit\n\tjsonQueryMap[jsonQueryLimit] = queryLimit\n\n\t//Add skip\n\tjsonQueryMap[jsonQuerySkip] = querySkip","username":"chenxuan","ts":"2017-08-20T15:51:51.953Z"}
{"msg":"so i modify to ","username":"chenxuan","ts":"2017-08-20T15:53:17.452Z"}
{"msg":"\n\tif _, ok := jsonQueryMap[jsonQueryLimit]; !ok {\n\t\t//Add limit\n\t\tjsonQueryMap[jsonQueryLimit] = queryLimit\n\t}\n\n\tif _, ok := jsonQueryMap[jsonQuerySkip]; !ok {\n\t\t//Add skip\n\t\tjsonQueryMap[jsonQuerySkip] = querySkip\n\t}","username":"chenxuan","ts":"2017-08-20T15:53:18.682Z"}
{"msg":"@chenxuan You can do that as a short-term workaround, but we will not put that into Fabric as we don't want an individual chaincode to request millions of records from couchdb, exceeding the queryLimit threshold that the administrator has configured in peer (default 10000).  The real solution will come with FAB-2809 where we introduce paging between peer and couchdb so that large number of documents can be supported.","username":"dave.enyeart","ts":"2017-08-20T19:16:58.337Z"}
{"msg":"@chenxuan You can do that as a short-term workaround, but we will not put that into Fabric as we don't want an individual chaincode to request millions of records from couchdb, exceeding the safe queryLimit threshold that the administrator has configured in peer (default 10000).  The real solution will come with FAB-2809 where we introduce paging between peer and couchdb so that large number of documents can be supported.","username":"dave.enyeart","ts":"2017-08-20T19:16:58.337Z"}
{"msg":"@dave.enyeart ok","username":"chenxuan","ts":"2017-08-21T01:19:24.841Z"}
{"msg":"@dave.enyeart hi, FAB-3884 this is the similar problem relate to this, would it be solved? it's been a long time....","username":"kelvinzhong","ts":"2017-08-21T03:43:22.607Z"}
{"msg":"@kelvinzhong It is not in 1.1 plan, although if somebody from community wants to help implement that would be nice","username":"dave.enyeart","ts":"2017-08-21T03:48:28.371Z"}
{"msg":"@jyellick i debug the orderer module i find the genesisBlock = provisional.New(genesisconfig.Load(conf.General.GenesisProfile)).GenesisBlock() is hard to understand because it produce the configtx","username":"chenxuan","ts":"2017-08-21T11:58:14.249Z"}
{"msg":"can you explain the ","username":"chenxuan","ts":"2017-08-21T11:58:38.927Z"}
{"msg":"type bootstrapper struct {\n\tchannelGroups     []*cb.ConfigGroup\n\tordererGroups     []*cb.ConfigGroup\n\tapplicationGroups []*cb.ConfigGroup\n\tconsortiumsGroups []*cb.ConfigGroup\n}","username":"chenxuan","ts":"2017-08-21T11:58:39.826Z"}
{"msg":"there are no comment","username":"chenxuan","ts":"2017-08-21T11:58:49.167Z"}
{"msg":"@chenxuan try to go through this first http://hyperledger-fabric.readthedocs.io/en/latest/configtx.html","username":"kelvinzhong","ts":"2017-08-21T14:33:19.780Z"}
{"msg":"Has joined the channel.","username":"asaningmaxchain","ts":"2017-08-22T06:04:17.200Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Hai-XuCheng","ts":"2017-08-23T08:43:14.151Z","type":"uj"}
{"msg":"Hi! I have created custom network with 1 ordered and 2 organizations and each organization has 2 peers. Then I have created channel and succesfully joined all peers to that channel. Next I have installed chaincode on peer0.org1 and succesfully instantiate it and invoke functions. But when I try to call invoke function on any other peer I get error message: ","username":"kustrun","ts":"2017-08-23T13:42:52.085Z"}
{"msg":"Hi! I have created custom network with 1 ordered and 2 organizations and each organization has 2 peers. Then I have created channel and succesfully joined all peers to that channel. Next I have installed chaincode on peer0.org1 and succesfully instantiate it and invoke functions. But when I try to call invoke function on any other peer I get error message: \n\n'''\nError: Error endorsing invoke: rpc error: code = Unknown desc = cannot retrieve package for chaincode \n'''","username":"kustrun","ts":"2017-08-23T13:42:52.085Z"}
{"msg":"Hi! I have created custom network with 1 ordered and 2 organizations and each organization has 2 peers. Then I have created channel and succesfully joined all peers to that channel. Next I have installed chaincode on peer0.org1 and succesfully instantiate it and invoke functions. But when I try to call invoke function on any other peer I get error message: \n\nError: Error endorsing invoke: rpc error: code = Unknown desc = cannot retrieve package for chaincode \n","username":"kustrun","ts":"2017-08-23T13:42:52.085Z"}
{"msg":"@kustrun you need to install that chaincode on the other peer too","username":"Vadim","ts":"2017-08-23T13:44:21.682Z"}
{"msg":"So if I want to run chaincode on every peer I have to install it on every node manually?[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=kyZSqDPWW936o4f52) @Vadim ","username":"kustrun","ts":"2017-08-23T13:46:00.056Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kyZSqDPWW936o4f52","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kyZSqDPWW936o4f52","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes","username":"Vadim","ts":"2017-08-23T13:46:07.230Z"}
{"msg":"Is there no mechanism like in Ethereum where you deploy Smart Contract once and use it everywhere?[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=BN8rzKaSWccYjAxJf) @Vadim ","username":"kustrun","ts":"2017-08-23T13:46:38.639Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BN8rzKaSWccYjAxJf","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BN8rzKaSWccYjAxJf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"you need to install it manually, that was done deliberately, read https://jira.hyperledger.org/browse/FAB-2859","username":"Vadim","ts":"2017-08-23T13:48:08.203Z"}
{"msg":"mainly, it's `The new installation model provides the opportunity to properly associate ownership of chaincodes as part of the “install” of the chaincode. `","username":"Vadim","ts":"2017-08-23T13:48:57.530Z"}
{"msg":"Thanks!","username":"kustrun","ts":"2017-08-23T13:51:01.162Z"}
{"msg":"Hi everyone, is the ledger stored in Leveldb or filesystem?","username":"qizhang","ts":"2017-08-23T19:17:58.169Z"}
{"msg":"Hi everyone, since for each <keu,value> pair, there could be multiple historical versions. While the most up-to-date version is stored in the state database, where those historical versions are stored? Are they stored in another separate database, or they are stored in the blocks in file system?","username":"qizhang","ts":"2017-08-23T19:17:58.169Z"}
{"msg":"Hi everyone, since for each <key,value> pair, there could be multiple historical versions. While the most up-to-date version is stored in the state database, where are those historical versions stored? Are they stored in another separate database, or they are stored in the blocks in file system?","username":"qizhang","ts":"2017-08-23T19:17:58.169Z"}
{"msg":"@qizhang they are both in the blocks (inside the RWsets of the transctions), and maintained in a history database kept in LevelDB","username":"toddinpal","ts":"2017-08-23T20:03:58.867Z"}
{"msg":"@toddinpal so the blocks are stored in the LevelDB, not file system?","username":"qizhang","ts":"2017-08-23T20:04:41.209Z"}
{"msg":"no, the blocks are stored in the file system.  There is a separate LevelDB database that maintains the history, just like there is an index database maintained in LevelDB that tracks where transactions are located in those blocks (along with other information in the index database)","username":"toddinpal","ts":"2017-08-23T20:06:00.874Z"}
{"msg":"Has joined the channel.","username":"Vrai1127","ts":"2017-08-23T21:38:16.440Z","type":"uj"}
{"msg":"All, I have a design question: 1) In most of the use cases, the participants of the network will have data which they would really like to keep confidential (for e.g. how much amount one invested) among select few peers.I understand channel is an option for peers to transact privately. But does that mean for all practical purposes, we will end up with multiple channels irrespective of how big or small a usecase is and then on the application side( front end) we will have to orchestrate to get data from all the channels and present to the user based on access level? 2) is there a mechanism to control access level for a peer on a channel so as it could access only specific data? Please help ","username":"Vrai1127","ts":"2017-08-23T21:38:24.240Z"}
{"msg":"@Vrai1127 Various privacy enhancements are in progress, please take a look: https://jira.hyperledger.org/browse/FAB-3621\nhttps://jira.hyperledger.org/browse/FAB-4207\nhttps://jira.hyperledger.org/browse/FAB-1151\nhttps://jira.hyperledger.org/browse/FAB-5481\nhttps://jira.hyperledger.org/browse/FAB-5695","username":"dave.enyeart","ts":"2017-08-24T11:52:36.376Z"}
{"msg":"@qizhang @toddinpal To clarify one thing... the past key values are embedded in the transactions that wrote them, persisted in the block store on file system. In LevelDB there are various indexes into block storage to support various query APIs, including the history index which indicates for a given key which block/tran contains the historical written value.  The historical value is not persisted in this LevelDB index, it's just a pointer to the block/tran to support the GetHistoryForKey() API, which will retrieve the historical values from the respective blocks/trans when called, as well as return the tran id, so that your client can retrieve the tran by id in case it wants the full details of the transactions that wrote the historical values. ","username":"dave.enyeart","ts":"2017-08-24T11:58:57.757Z"}
{"msg":"@qizhang @toddinpal To clarify one thing... the past key values are embedded in the transactions that wrote them, persisted in the block store on file system. In LevelDB there are various indexes into block storage to support various query APIs, including the history index which indicates for a given key which block/tran contains the historical written value.  The historical value is not persisted in this LevelDB index, it's just a pointer to the block/tran to support the GetHistoryForKey() API, which will retrieve the historical values from the respective blocks/trans when called, as well as return the tran ids, so that your client can retrieve the trans by id in case it wants the full details of the transactions that wrote the historical values. ","username":"dave.enyeart","ts":"2017-08-24T11:58:57.757Z"}
{"msg":"yeah, I guess I wasn't all that clear...","username":"toddinpal","ts":"2017-08-24T12:00:48.948Z"}
{"msg":"@dave.enyeart I see, so the LevelDB only stores index, the block data is still in file system.","username":"qizhang","ts":"2017-08-24T18:05:58.118Z"}
{"msg":"Correct.  In addition to the block data on file system and LevelDB indexes into block storage, there is also the state database, which utilizes (a different) LevelDB or CouchDB database.  The state database contains the latest values of all chaincode variables - think of it as persisted state for the chaincode.","username":"dave.enyeart","ts":"2017-08-24T19:05:06.268Z"}
{"msg":"Hi!  I have a cluster with docker swarm - on one computer I have 1 orderer node and 1 peer, on other computer I have 1 peer. If I instantiate chaincode on computer with 1 peer everything works prefectly, when I try to instantiate it with peer and orderer on the same computer I get following error: `Error: Error endorsing chaincode: rpc error: code = Unknown desc = Timeout expired while starting chaincode` Help please","username":"kustrun","ts":"2017-08-25T10:10:54.843Z"}
{"msg":"Hi!  I have a cluster with docker swarm - on one computer I have 1 orderer node and 1 peer, on other computer I have 1 peer. If I instantiate chaincode on computer with 1 peer everything works prefectly, when I try to instantiate it with peer and orderer on the same computer I get following error: `Error: Error endorsing chaincode: rpc error: code = Unknown desc = Timeout expired while starting chaincode` Anyone got the same error?","username":"kustrun","ts":"2017-08-25T10:10:54.843Z"}
{"msg":"@dave.enyeart Since the blocks are stored in the file system of the containers, will that goes away when the container shutdown?","username":"qizhang","ts":"2017-08-25T14:40:32.797Z"}
{"msg":"@dave.enyeart Since the blocks are stored in the file system of the containers, will that go away when the container shutdown?","username":"qizhang","ts":"2017-08-25T14:40:32.797Z"}
{"msg":"@qizhang yes","username":"asaningmaxchain","ts":"2017-08-25T15:52:02.388Z"}
{"msg":"@qizhang Well that depends...  If the container's portion of the file system containing the LevelDB databases is mapped to the host's file system via a volume, then it will persist as long as the host's file system persists.","username":"toddinpal","ts":"2017-08-25T15:58:05.844Z"}
{"msg":"Ooops, make that the blocks, although the same is true for LevelDB files as well.","username":"toddinpal","ts":"2017-08-25T15:58:33.599Z"}
{"msg":"Yes, I agree.","username":"qizhang","ts":"2017-08-25T16:00:32.583Z"}
{"msg":"Yes, I agree. @toddinpal @asaningmaxchain ","username":"qizhang","ts":"2017-08-25T16:00:32.583Z"}
{"msg":"@toddinpal but if i want to start the fabric ,it will fail","username":"asaningmaxchain","ts":"2017-08-25T16:05:06.565Z"}
{"msg":"@asaningmaxchain not sure  I'm following","username":"toddinpal","ts":"2017-08-25T16:05:36.700Z"}
{"msg":"you can try it","username":"asaningmaxchain","ts":"2017-08-25T16:05:52.336Z"}
{"msg":"it will report the ledger data has exists","username":"asaningmaxchain","ts":"2017-08-25T16:06:06.160Z"}
{"msg":"What will report that?  A peer?  I've done this, so I'm not sure what you're referring to","username":"toddinpal","ts":"2017-08-25T16:06:41.701Z"}
{"msg":"wait a moment","username":"asaningmaxchain","ts":"2017-08-25T16:07:23.167Z"}
{"msg":"i try it and show you the error","username":"asaningmaxchain","ts":"2017-08-25T16:07:37.509Z"}
{"msg":"volumes:\n - /var/hyperledger/peer0:/var/hyperledger/production","username":"asaningmaxchain","ts":"2017-08-25T16:08:27.431Z"}
{"msg":"@toddinpal ok","username":"asaningmaxchain","ts":"2017-08-25T16:08:30.865Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-08-25T16:08:31.164Z"}
{"msg":"for each peer and orderer and i use the e2e for example","username":"asaningmaxchain","ts":"2017-08-25T16:08:43.350Z"}
{"msg":"Are you using the same volume mapping for each peer?  Each peer needs to map to a different part of the hosts file system","username":"toddinpal","ts":"2017-08-25T16:09:31.189Z"}
{"msg":"i show you my config","username":"asaningmaxchain","ts":"2017-08-25T16:13:41.339Z"}
{"msg":"wait a moment","username":"asaningmaxchain","ts":"2017-08-25T16:13:45.428Z"}
{"msg":"- /var/hyperledger/peer0.org1:/var/hyperledger/production","username":"asaningmaxchain","ts":"2017-08-25T16:22:13.618Z"}
{"msg":"the peer0.org1.example.com","username":"asaningmaxchain","ts":"2017-08-25T16:22:35.484Z"}
{"msg":" - /var/hyperledger/peer1.org1:/var/hyperledger/production","username":"asaningmaxchain","ts":"2017-08-25T16:22:50.094Z"}
{"msg":"the peer1.org1.example.com","username":"asaningmaxchain","ts":"2017-08-25T16:22:55.421Z"}
{"msg":"it's ok","username":"asaningmaxchain","ts":"2017-08-25T16:23:01.666Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-08-25T16:23:01.677Z"}
{"msg":"","username":"asaningmaxchain","ts":"2017-08-25T16:31:19.638Z","attachments":[{"title":"File Uploaded: Screenshot from 2017-08-26 00-27-23.png","title_link":"/file-upload/WWYXwRqd5Qz2jjdkf/Screenshot from 2017-08-26 00-27-23.png","image_url":"/file-upload/WWYXwRqd5Qz2jjdkf/Screenshot from 2017-08-26 00-27-23.png","image_type":"image/png","image_size":458169,"url":"/file-upload/WWYXwRqd5Qz2jjdkf/Screenshot from 2017-08-26 00-27-23.png","remote":false,"fileId":"WWYXwRqd5Qz2jjdkf","fileName":"Screenshot from 2017-08-26 00-27-23.png"}]}
{"msg":"as you see all the data locate my host","username":"asaningmaxchain","ts":"2017-08-25T16:32:29.663Z"}
{"msg":"that looks right... what error are you getting?","username":"toddinpal","ts":"2017-08-25T16:34:27.210Z"}
{"msg":"","username":"asaningmaxchain","ts":"2017-08-25T16:34:41.265Z","attachments":[{"title":"File Uploaded: Screenshot from 2017-08-26 00-32-37.png","title_link":"/file-upload/2z9ZuNLJcibnEhSd5/Screenshot from 2017-08-26 00-32-37.png","image_url":"/file-upload/2z9ZuNLJcibnEhSd5/Screenshot from 2017-08-26 00-32-37.png","image_type":"image/png","image_size":613469,"url":"/file-upload/2z9ZuNLJcibnEhSd5/Screenshot from 2017-08-26 00-32-37.png","remote":false,"fileId":"2z9ZuNLJcibnEhSd5","fileName":"Screenshot from 2017-08-26 00-32-37.png"}]}
{"msg":"So I'm not following exactly the sequence of what you're doing...   I would expect you're starting the e2e example with the mapped volumes.  Then stop the containers, and then start the containers and see that the network is still there.","username":"toddinpal","ts":"2017-08-25T16:37:44.545Z"}
{"msg":"my mistake","username":"asaningmaxchain","ts":"2017-08-25T16:46:57.953Z"}
{"msg":"my mistake @toddinpal ","username":"asaningmaxchain","ts":"2017-08-25T16:46:57.953Z"}
{"msg":"it's ok","username":"asaningmaxchain","ts":"2017-08-25T16:47:07.352Z"}
{"msg":"ok, good to hear.","username":"toddinpal","ts":"2017-08-25T17:22:34.378Z"}
{"msg":"Has joined the channel.","username":"JosephChang","ts":"2017-08-27T02:12:47.603Z","type":"uj"}
{"msg":"Hi all. Can you please tell me how we can configure multiple orderer peers across multiple organizations?","username":"ArnabChatterjee","ts":"2017-08-28T04:54:22.420Z"}
{"msg":"Has joined the channel.","username":"evader1337","ts":"2017-08-28T09:13:19.221Z","type":"uj"}
{"msg":"@ArnabChatterjee AFAIK you can only do that if you share a common Kafka cluster.  Is that really what you want?","username":"toddinpal","ts":"2017-08-28T13:16:09.062Z"}
{"msg":"@toddinpal - yes. Can you please let me know the details of the implementation? Thanks.","username":"ArnabChatterjee","ts":"2017-08-28T23:29:54.092Z"}
{"msg":"@ArnabChatterjee Have you looked at how the Kafka based ordering service is configured?  https://hyperledger-fabric.readthedocs.io/en/latest/kafka.html","username":"toddinpal","ts":"2017-08-28T23:32:10.862Z"}
{"msg":"checkout the orderer.yaml file in the source repository under .../fabric/examples/cluster/config","username":"toddinpal","ts":"2017-08-28T23:42:19.778Z"}
{"msg":"Thanks @toddinpal . :) I will check.","username":"ArnabChatterjee","ts":"2017-08-29T00:44:55.088Z"}
{"msg":"Hi All,","username":"ArnabChatterjee","ts":"2017-08-29T06:35:40.453Z"}
{"msg":"Are the peers fault tolerant in Fabric Network? That means, If any peer node crashes, does the App go down or does it use other peers to continue transactions? I am using balance transfer example and to test the scenario, I have stopped the docker container of a peer from org1 and I got an error in the Node SDK logs.","username":"ArnabChatterjee","ts":"2017-08-29T06:39:00.294Z"}
{"msg":"`error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Connect Failed\n    at /home/ubuntu/go/src/sdk/node_modules/grpc/src/node/src/client.js:434:17\n[2017-08-29 06:25:39.431] [ERROR] invoke-chaincode - transaction proposal was bad\n[2017-08-29 06:25:39.432] [ERROR] invoke-chaincode - transaction proposal was bad\n[2017-08-29 06:25:39.432] [ERROR] invoke-chaincode - Failed to send Proposal or receive valid response. Response null or status is not 200. exiting...\n[2017-08-29 06:25:39.432] [ERROR] invoke-chaincode - Failed to order the transaction. Error code: undefined\n[2017-08-29 06:25:39.432] [DEBUG] Helper - [FileKeyValueStore.js]: FileKeyValueStore.js - constructor`","username":"ArnabChatterjee","ts":"2017-08-29T06:40:52.621Z"}
{"msg":"@toddinpal when i add the volumes:\n - /var/hyperledger/couchdb0:/opt/couchdb/data","username":"asaningmaxchain","ts":"2017-08-29T11:07:46.892Z"}
{"msg":"@toddinpal when i add the ```volumes:\n - /var/hyperledger/couchdb0:/opt/couchdb/data``` for each couchdb","username":"asaningmaxchain","ts":"2017-08-29T11:08:19.602Z"}
{"msg":"the couchdb doesn't start up successfully","username":"asaningmaxchain","ts":"2017-08-29T11:08:39.385Z"}
{"msg":"```[os_mon] memory supervisor port (memsup): Erlang has closed\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[{couch_auth_cache,ensure_users_db_exists,2,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,456}]},{couch_auth_cache,open_auth_db,0,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,428}]},{couch_auth_cache,reinit_cache,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,290}]},{couch_auth_cache,init,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,166}]},{gen_server,init_it,6,[{file,\\\"gen_server.erl\\\"},{line,328}]},{proc_lib,init_p_do_apply,3,[{file,\\\"proc_lib.erl\\\"},{line,240}]}]}}}}},{couch_app,start,[normal,[]]}}}\"}\n```","username":"asaningmaxchain","ts":"2017-08-29T11:08:48.259Z"}
{"msg":"@asaningmaxchain Please see Jira issue about permission issue: https://jira.hyperledger.org/browse/FAB-4905","username":"dave.enyeart","ts":"2017-08-29T11:38:43.172Z"}
{"msg":"@ArnabChatterjee The app client needs to talk to multiple peers to get multiple endorsements and ensure fault tolerance if a peer goes down. For questions on how to do this in a node js app please post to #fabric-sdk-node ","username":"dave.enyeart","ts":"2017-08-29T11:40:15.718Z"}
{"msg":" chown -R couchdb:couchdb /opt/couchdb","username":"asaningmaxchain","ts":"2017-08-29T11:41:32.582Z"}
{"msg":"in the host","username":"asaningmaxchain","ts":"2017-08-29T11:41:40.255Z"}
{"msg":"@dave.enyeart that means i should modify the /opt/couchdb permission to couchdb:couchdb","username":"asaningmaxchain","ts":"2017-08-29T11:45:44.618Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-08-29T11:45:45.930Z"}
{"msg":"@dave.enyeart Thanks. Actually I cannot access FAB-4905. I require a login for that.　","username":"ArnabChatterjee","ts":"2017-08-30T04:09:53.220Z"}
{"msg":"Hi All,","username":"ArnabChatterjee","ts":"2017-08-30T08:43:41.631Z"}
{"msg":"I was going through the link: https://hyperledger-fabric.readthedocs.io/en/latest/msp.html#msp-setup-on-the-peer-orderer-side and really having a hard time understanding the role of each type of certificates that are used in here. Can anyone provide any simpler explanation about MSP and certificates? ","username":"ArnabChatterjee","ts":"2017-08-30T08:45:36.317Z"}
{"msg":"Is there any kind of diagram that depicts the whole flow of the fabric operations using the different certificates? ","username":"ArnabChatterjee","ts":"2017-08-30T08:50:37.398Z"}
{"msg":"Hi, \n\nWe are using configtxgen version 1.0.1 to generate the channel.tx file. On trying to create a channel, we get the following error message:\nIt would be great if someone can help to let us know what’s going on behind the scenes.\n\n/Channel/Application/Org2MSP\norderer.example.com       | 2017-08-30 04:30:02.689 UTC [common/configtx] addToMap -> DEBU 1a3 Adding to config map: [Policy] /Channel/Application/Admins\norderer.example.com       | 2017-08-30 04:30:02.689 UTC [common/configtx] addToMap -> DEBU 1a4 Adding to config map: [Policy] /Channel/Application/Writers\norderer.example.com       | 2017-08-30 04:30:02.689 UTC [common/configtx] addToMap -> DEBU 1a5 Adding to config map: [Policy] /Channel/Application/Readers\norderer.example.com       | 2017-08-30 04:30:02.689 UTC [common/configtx] addToMap -> DEBU 1a6 Adding to config map: [Values] /Channel/Consortium\norderer.example.com       | 2017-08-30 04:30:02.690 UTC [orderer/common/broadcast] Handle -> WARN 1a7 Rejecting CONFIG_UPDATE because: Error authorizing update: Error validating DeltaSet: invalid mod_policy for element [Policy] /Channel/Application/Writers: mod_policy not set\norderer.example.com       | 2017-08-30 04:30:02.691 UTC [orderer/main] func1 -> DEBU 1a8 Closing Broadcast stream\n\n","username":"sajeevkhan","ts":"2017-08-30T10:07:25.866Z"}
{"msg":"that mean you don't have right to modify the config","username":"asaningmaxchain","ts":"2017-08-30T10:13:05.090Z"}
{"msg":"Has joined the channel.","username":"anishman","ts":"2017-08-30T14:22:30.520Z","type":"uj"}
{"msg":"In Fabric source code, which function is used by the peer to commit a block to its ledger?","username":"qizhang","ts":"2017-08-30T14:23:00.474Z"}
{"msg":"A peer will send out an event to the event hub after it commits a block, can anyone tell me which function in the Fabric source code sends such an event? Thanks!","username":"qizhang","ts":"2017-08-30T14:40:22.382Z"}
{"msg":"in the folder events","username":"asaningmaxchain","ts":"2017-08-30T14:40:58.683Z"}
{"msg":"Thanks, but can you be more specific?","username":"qizhang","ts":"2017-08-30T14:41:32.467Z"}
{"msg":"the peer provide the event grpc service","username":"asaningmaxchain","ts":"2017-08-30T14:42:10.169Z"}
{"msg":"when the peer start","username":"asaningmaxchain","ts":"2017-08-30T14:42:26.191Z"}
{"msg":"you can take a look the peer/node/start","username":"asaningmaxchain","ts":"2017-08-30T14:43:25.603Z"}
{"msg":"you will get more information","username":"asaningmaxchain","ts":"2017-08-30T14:43:25.831Z"}
{"msg":"OK, thanks!","username":"qizhang","ts":"2017-08-30T14:44:43.444Z"}
{"msg":"If I change something in Fabric/events/consumer/consumer.go, which container shall I rebuild to let my change take effect? ","username":"qizhang","ts":"2017-08-30T18:03:27.382Z"}
{"msg":"you can use the make docker to build the new images","username":"asaningmaxchain","ts":"2017-08-31T01:08:32.281Z"}
{"msg":"Has joined the channel.","username":"glenlau","ts":"2017-09-02T13:11:22.541Z","type":"uj"}
{"msg":"Hi...I am using binary implementation to start the peers in my fabric network. I want to configure couch db as state database. The documentation only specifies updating `CORE_LEDGER_STATE_STATEDATABASE=CouchDB` as an env variable or in core.yaml. Upon doing this I am not able to configure couch db and I am getting the error in the attached screenshot. I suppose couchdb is not packaged with fabric binaries, how should this be achieved?","username":"MeenakshiSingh","ts":"2017-09-05T11:12:38.896Z"}
{"msg":"","username":"MeenakshiSingh","ts":"2017-09-05T11:12:51.468Z","attachments":[{"title":"File Uploaded: Clipboard - September 5, 2017 4:42 PM","title_link":"/file-upload/8ZjSdCGdAFYDJsFZ3/Clipboard - September 5, 2017 4:42 PM","image_url":"/file-upload/8ZjSdCGdAFYDJsFZ3/Clipboard - September 5, 2017 4:42 PM","image_type":"image/png","image_size":146744,"url":"/file-upload/8ZjSdCGdAFYDJsFZ3/Clipboard - September 5, 2017 4:42 PM","remote":false,"fileId":"8ZjSdCGdAFYDJsFZ3","fileName":"Clipboard - September 5, 2017 4:42 PM"}]}
{"msg":"do you start the couchdb?","username":"asaningmaxchain","ts":"2017-09-05T11:44:36.469Z"}
{"msg":"you can use the docker to start the couchdb","username":"asaningmaxchain","ts":"2017-09-05T11:44:53.317Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=8EmnLTLukj4YwH9xY) @asaningmaxchain How to do that?","username":"MeenakshiSingh","ts":"2017-09-05T12:57:52.351Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=8EmnLTLukj4YwH9xY","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=8EmnLTLukj4YwH9xY","remote":true,"fileId":null,"fileName":null}]}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#using-couchdb shows an example of configuring and starting couchdb container in your docker enivornment","username":"dave.enyeart","ts":"2017-09-05T17:56:07.829Z"}
{"msg":"Has joined the channel.","username":"henryhs","ts":"2017-09-06T03:03:04.393Z","type":"uj"}
{"msg":"https://chat.hyperledger.org/channel/fabric-ca?msg=mgWJZsikmdbTTrtzK - @ArnabChatterjee , see if this post from Keith helps.  I'm happy to help you with this though.  We really should add some more content to the docs.  The important pieces are really the Admin certs, TLS certs and signing certs","username":"nickgaski","ts":"2017-09-06T15:40:08.060Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ca?msg=mgWJZsikmdbTTrtzK","url":"https://chat.hyperledger.org/channel/fabric-ca?msg=mgWJZsikmdbTTrtzK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Who can help explain what the directories under /var/hyperledger/production/ledgersData on peer are used for?  i know they are are leveldb files used for block storage. i want to know more about the database organisation on peer. why are there directories  historyLeveldb  ledgerProvider  stateLeveldb besides chains?","username":"Glen","ts":"2017-09-07T01:05:35.876Z"}
{"msg":"@Glen Content of <CORE_PEER_FILESYSTEMPATH>/ledgersData:\n/ledgerProvider - includes leveldb database indicating which chains this peer has joined\n/chains - includes block storage per chain and leveldb database with indexes into the chains\n/stateLevelDB - state database storing current values of chaincode keys. optional to use couchdb instead of leveldb.\n/historyLevelDB - history database storing index of which transactions have modified which chaincode keys","username":"dave.enyeart","ts":"2017-09-07T11:58:16.789Z"}
{"msg":"@Glen Content of <CORE_PEER_FILESYSTEMPATH>/ledgersData:\n/ledgerProvider - includes leveldb database indicating which chains this peer has joined\n/chains - includes block storage per chain and leveldb database with indexes into the chains\n/stateLevelDB - state database storing current values of chaincode keys\n/historyLevelDB - history database storing index of which transactions have modified which chaincode keys","username":"dave.enyeart","ts":"2017-09-07T11:58:16.789Z"}
{"msg":"@dave.enyeart can you give some data about the performance about the couchdb read/write performance","username":"asaningmaxchain","ts":"2017-09-07T11:59:21.513Z"}
{"msg":"@dave.enyeart can you give some data about the performance about the couchdb read/write","username":"asaningmaxchain","ts":"2017-09-07T11:59:21.513Z"}
{"msg":"There are no published metrics, but tests have shown that couchdb is slower than leveldb, but not so much that it would slow down the overall system throughput.","username":"dave.enyeart","ts":"2017-09-07T12:01:14.819Z"}
{"msg":"can you provide some data to support ","username":"asaningmaxchain","ts":"2017-09-07T12:01:56.131Z"}
{"msg":"Especially true after couchdb performance improvements planned for 1.1","username":"dave.enyeart","ts":"2017-09-07T12:02:08.994Z"}
{"msg":"There is testing underway to get actual performance data.  The studies so far have focused on bottleneck identification","username":"dave.enyeart","ts":"2017-09-07T12:03:47.111Z"}
{"msg":"but the leveldb doesn't support the complex query","username":"asaningmaxchain","ts":"2017-09-07T12:03:52.746Z"}
{"msg":"correct, complex query is the primary reason people would want to use couchdb","username":"dave.enyeart","ts":"2017-09-07T12:04:18.759Z"}
{"msg":"but the couchdb can't get count of the data","username":"asaningmaxchain","ts":"2017-09-07T12:05:45.650Z"}
{"msg":"what do you mean by count?","username":"dave.enyeart","ts":"2017-09-07T12:06:02.522Z"}
{"msg":"aggregate queries?","username":"dave.enyeart","ts":"2017-09-07T12:06:15.862Z"}
{"msg":"the sum of the data","username":"asaningmaxchain","ts":"2017-09-07T12:06:17.028Z"}
{"msg":"there is intent to add support for couchdb views for this, see https://jira.hyperledger.org/browse/FAB-5528","username":"dave.enyeart","ts":"2017-09-07T12:07:19.336Z"}
{"msg":"plan to support map/reduce","username":"asaningmaxchain","ts":"2017-09-07T12:09:18.117Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-09-07T12:09:18.591Z"}
{"msg":"yes, any couchdb view could be created, including map/reduce","username":"dave.enyeart","ts":"2017-09-07T12:09:41.104Z"}
{"msg":"ok","username":"asaningmaxchain","ts":"2017-09-07T12:12:35.116Z"}
{"msg":"thx","username":"asaningmaxchain","ts":"2017-09-07T12:13:50.438Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=2cDKzroAkRd9HpoH9) @dave.enyeart  ok thanks","username":"Glen","ts":"2017-09-08T00:05:29.335Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2cDKzroAkRd9HpoH9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2cDKzroAkRd9HpoH9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=2cDKzroAkRd9HpoH9) @dave.enyeart ","username":"Glen","ts":"2017-09-08T00:05:29.335Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2cDKzroAkRd9HpoH9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2cDKzroAkRd9HpoH9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"one more question, as i find different chains use the same DB instance to write to leveldb, will leveldb do the isolation for us or we write the data to different tables, I'm not sure leveldb has a similar concept like RDB","username":"Glen","ts":"2017-09-08T02:31:16.811Z"}
{"msg":"Provider enables to use a single leveldb as multiple logical leveldbs\ntype Provider struct {\n\tdb        *DB\n\tdbHandles map[string]*DBHandle\n\tmux       sync.Mutex\n}","username":"Glen","ts":"2017-09-08T02:35:21.749Z"}
{"msg":"Ok i got it, different chains make different ledger directories","username":"Glen","ts":"2017-09-08T03:07:02.025Z"}
{"msg":"Has joined the channel.","username":"jgabuya","ts":"2017-09-08T08:25:50.209Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zzying","ts":"2017-09-08T08:49:29.991Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Sarminb","ts":"2017-09-08T09:50:00.454Z","type":"uj"}
{"msg":"Hi everyone","username":"Sarminb","ts":"2017-09-08T09:50:25.890Z"}
{"msg":"I need help adding new user in HL fabric","username":"Sarminb","ts":"2017-09-08T09:51:11.603Z"}
{"msg":"I am new to hyperledger","username":"Sarminb","ts":"2017-09-08T09:51:32.496Z"}
{"msg":"Has left the channel.","username":"kostas","ts":"2017-09-08T20:17:56.308Z","type":"ul"}
{"msg":"is there resource/document/example on how ot write unit test for Rich Query in side HLF?","username":"bmalavan","ts":"2017-09-08T23:16:39.864Z"}
{"msg":"Has joined the channel.","username":"kostas","ts":"2017-09-09T20:51:27.380Z","type":"uj"}
{"msg":"Is this indicative of running out of disk space?","username":"kostas","ts":"2017-09-09T20:51:46.279Z"}
{"msg":"```2017-09-09 20:48:56.938 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 25ee At least [13482] bytes expected. Remaining bytes = [2]. Returning with error [unexpected end of blockfile]\n2017-09-09 20:48:56.939 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 25f0 current file [0] length of blockbytes [0]. Err:unexpected end of blockfile```","username":"kostas","ts":"2017-09-09T20:51:51.371Z"}
{"msg":"@kostas yes, from the code, the expected length block size and length exceeds the remaining length of the block file will get this error","username":"Glen","ts":"2017-09-10T01:38:43.819Z"}
{"msg":"ErrUnexpectedEndOfBlockfile error used to indicate an unexpected end of a file segment\nthis can happen mainly if a crash occurs during appening a block and partial block contents\nget written towards the end of the file","username":"Glen","ts":"2017-09-10T01:40:46.596Z"}
{"msg":"@Glen: Based on your description it sounds as if this may _not_ be indicative of running out of disk space. Rather it can be an issue of not closing the file properly. Am I misinterpreting this?","username":"kostas","ts":"2017-09-10T22:13:50.938Z"}
{"msg":"(@manish-sethi @dave.enyeart Thoughts?)","username":"kostas","ts":"2017-09-10T22:14:22.400Z"}
{"msg":"@kostas yes, The most likely cause of this could have been a crash during writing to a block file. \nHowever, on next peer start (at the time of ledger open), the partial written block is expected to be cleaned up and the ledger is expected to behave as if the last block was never written.\n\nDoes this matches with what you observe in addition to above logs? If not then - can you paste more logs around these logs and any additional info about the behavior that you see...","username":"manish-sethi","ts":"2017-09-11T03:01:51.137Z"}
{"msg":"@manish-sethi: Gotcha. This (versus the disk filling up) is a reasonable explanation for what is probably happening - I see threads exiting abruptly. Thanks for letting me know. ","username":"kostas","ts":"2017-09-11T03:06:36.217Z"}
{"msg":"Has joined the channel.","username":"guoger","ts":"2017-09-11T03:31:57.346Z","type":"uj"}
{"msg":"How deep can the world state db go in terms of transactions stored? And can we get all the versions/different values of the keys from couch db.","username":"MeenakshiSingh","ts":"2017-09-11T09:30:40.793Z"}
{"msg":"Has joined the channel.","username":"sanchezl","ts":"2017-09-11T17:14:22.343Z","type":"uj"}
{"msg":"Has left the channel.","username":"sanchezl","ts":"2017-09-11T18:12:20.755Z","type":"ul"}
{"msg":"Hello @MeenakshiSingh - everything is stored, from the \"genesis\" block.","username":"JonathanLevi","ts":"2017-09-11T19:40:00.100Z"}
{"msg":"Yes, you can retrieve it all.","username":"JonathanLevi","ts":"2017-09-11T19:40:12.113Z"}
{"msg":"Has joined the channel.","username":"skbodwell","ts":"2017-09-11T20:46:47.450Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=fLNfSnLYEoE2i3byn) @JonathanLevi How would we retrieve it all. Also, is it possible to do a selective retrieval of the data? ","username":"MeenakshiSingh","ts":"2017-09-12T05:36:52.446Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fLNfSnLYEoE2i3byn","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fLNfSnLYEoE2i3byn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"It's easier in CouchDB, but even with level db, this is the interface:\n\nhttps://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/interfaces.go","username":"JonathanLevi","ts":"2017-09-12T05:39:54.193Z"}
{"msg":"Hi...After initiating a couple of transactions on the chaincode, I modified and added/saved a couple of objects on the existing channel document using couchdb interface. I, then re-executed the invoke and query commands over the channel. I expected them to fail, as I manually altered the state db. However, the transactions are going through fine. Is this the expected behaviour? ","username":"MeenakshiSingh","ts":"2017-09-12T06:23:47.141Z"}
{"msg":"I was reading that in V1.1 the concepts of private data and mixer identities are to be introduced.   If I wanted to set up a single ledger on v1.1 where multiple parties trade between them  does it allow for the data to be kept private between pairs of members but also the identity of transaction to be unlinkable?    To do this the submitter , endorsers but also the \"private data groups\" (assuming that private data are shared between party pairs)  would all  have to be \"unlikable\"  from the ledger. ","username":"rsherwood","ts":"2017-09-12T08:42:01.079Z"}
{"msg":"Has joined the channel.","username":"sonnykui","ts":"2017-09-12T15:16:45.956Z","type":"uj"}
{"msg":"Has joined the channel.","username":"fred0071","ts":"2017-09-12T17:48:15.337Z","type":"uj"}
{"msg":"@MeenakshiSingh Yes that's expected behavior.  Data may get corrupted for a variety of reasons, which will cause endorsements on next transaction simulations to not be correct.  The protection factor comes from a transaction requiring multiple matching endorsements.  If the endorsement on your corrupted peer does not match the endorsements from the 'good' peers, then the transaction from the 'bad' peer will be invalidated.  You need to get N matching endorsements for a transaction to get validated before the distributed ledger is updated, where N is based on the endorsement policy.","username":"dave.enyeart","ts":"2017-09-12T18:23:36.138Z"}
{"msg":"@dave.enyeart if i delete the ledger data which locate the peer,and then i query ","username":"asaningmaxchain","ts":"2017-09-13T01:01:49.197Z"}
{"msg":"what's the condition","username":"asaningmaxchain","ts":"2017-09-13T01:01:57.912Z"}
{"msg":"If you delete state database, then upon peer start it will recognize that state database is behind block storage height and it will automatically rebuild state database based on block storage.  The peer will not be initialized for invokes/queries until the state database is brought up to the block storage height.  If you delete entire ledger data directory then you will need to rebuild peer, rejoin channels, and the block storage will be state transferred from another peer and state database rebuilt automatically.","username":"dave.enyeart","ts":"2017-09-13T09:36:34.345Z"}
{"msg":"@asaningmaxchain  If you delete state database, then upon peer start it will recognize that state database is behind block storage height and it will automatically rebuild state database based on block storage.  The peer will not be initialized for invokes/queries until the state database is brought up to the block storage height.  If you delete entire ledger data directory then you will need to rebuild peer, rejoin channels, and the block storage will be state transferred from another peer and state database rebuilt automatically.","username":"dave.enyeart","ts":"2017-09-13T09:36:34.345Z"}
{"msg":"@dave.enyeart thx","username":"asaningmaxchain","ts":"2017-09-13T10:51:49.165Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=mm3BWt8M3gqLQ6XiG) @dave.enyeart the state database is couchdb? if i use the couchdb to store the data,","username":"asaningmaxchain","ts":"2017-09-13T10:52:54.931Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=mm3BWt8M3gqLQ6XiG","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=mm3BWt8M3gqLQ6XiG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Richardpanf","ts":"2017-09-13T10:53:30.230Z","type":"uj"}
{"msg":"By default the state database is goleveldb.  You can alternatively configure it to be couchdb.","username":"dave.enyeart","ts":"2017-09-13T10:53:45.916Z"}
{"msg":"If you delete entire ledger data directory then you will need to rebuild peer, rejoin channels, and the block storage will be state transferred from another peer and state database rebuilt automatically. i understand","username":"asaningmaxchain","ts":"2017-09-13T10:54:06.667Z"}
{"msg":"but another i don't understand","username":"asaningmaxchain","ts":"2017-09-13T10:54:21.488Z"}
{"msg":"if i delete the state database","username":"asaningmaxchain","ts":"2017-09-13T10:54:42.403Z"}
{"msg":"if i delete the state database and then i make a query from the peer","username":"asaningmaxchain","ts":"2017-09-13T10:54:42.403Z"}
{"msg":"you would get an error since the database would be unreachable","username":"dave.enyeart","ts":"2017-09-13T10:55:45.353Z"}
{"msg":"i can copy the state data from another peer to the peer","username":"asaningmaxchain","ts":"2017-09-13T10:56:21.857Z"}
{"msg":"？","username":"asaningmaxchain","ts":"2017-09-13T10:56:22.923Z"}
{"msg":"not recommended, better to let peer build it's state database from it's block storage to ensure the data is trusted","username":"dave.enyeart","ts":"2017-09-13T10:57:41.678Z"}
{"msg":"so restart the peer?","username":"asaningmaxchain","ts":"2017-09-13T10:58:10.125Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2017-09-13T10:58:15.008Z"}
{"msg":"so whatever i delete the state database or ledger data, if i want to recover,i should restart the peer,let the peer rebuild the data automatically","username":"asaningmaxchain","ts":"2017-09-13T11:00:30.077Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-09-13T11:00:32.227Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2017-09-13T11:02:46.675Z"}
{"msg":"ok,thx a lot","username":"asaningmaxchain","ts":"2017-09-13T11:03:33.224Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=8yNdZijSoDPP9Ti7d) @dave.enyeart ok. so I have only 2 peers transacting on a channel and I have set the the EP as `“OR(‘Org1MSP.member’,’Org2MSP.member’)”`. So, if i corrupt the data at both the peers, would they be able to transact?","username":"MeenakshiSingh","ts":"2017-09-13T14:20:27.142Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=8yNdZijSoDPP9Ti7d","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=8yNdZijSoDPP9Ti7d","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes they would... if your endorsement policy only requires one endorsement then you open yourself to problems like this.  You would never do that in a production system.","username":"dave.enyeart","ts":"2017-09-13T14:23:41.596Z"}
{"msg":"@FenglianXu Please review the thoughts around skip and limit described in this work item: https://jira.hyperledger.org/browse/FAB-2809","username":"dave.enyeart","ts":"2017-09-13T14:23:41.596Z"}
{"msg":"Hi Dave -- Have the following features been supported by Hyperledger Fabric yet? 1. SKIP 2. LIMIT 3. ORDER? ","username":"FenglianXu","ts":"2017-09-13T15:04:08.160Z"}
{"msg":"Hi everyone, are there multiple threads in a peer committing the blocks or there is just one? Thanks!","username":"qizhang","ts":"2017-09-13T19:29:45.768Z"}
{"msg":"@dave.enyeart Hi, are there multiple threads in a peer committing the blocks or there is just one? Thanks!","username":"qizhang","ts":"2017-09-13T19:29:45.768Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=MmMmTnrB6xgZZWWpn) @FenglianXu the orderer support,the skip and limit you should modify the source code and make docker to build the peer","username":"asaningmaxchain","ts":"2017-09-14T01:06:11.677Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=MmMmTnrB6xgZZWWpn","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=MmMmTnrB6xgZZWWpn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"If are using the CouchDB, how do you configure the couchdb database so that it writes the data to particular folder on the host machine. ","username":"gauthampamu","ts":"2017-09-14T01:56:46.631Z"}
{"msg":"If you look the sample configuration in the samples, they don't mount any directories ","username":"gauthampamu","ts":"2017-09-14T01:57:31.746Z"}
{"msg":"  couchdb1:\n    container_name: couchdb1\n    image: hyperledger/fabric-couchdb\n    # Populate the COUCHDB_USER and COUCHDB_PASSWORD to set an admin user and password\n    # for CouchDB.  This will prevent CouchDB from operating in an \"Admin Party\" mode.\n    environment:\n      - COUCHDB_USER=\n      - COUCHDB_PASSWORD=\n    # Comment/Uncomment the port mapping if you want to hide/expose the CouchDB service,\n    # for example map it to utilize Fauxton User Interface in dev environments.\n    ports:\n      - \"6984:5984\"\n    networks:\n      - byfn","username":"gauthampamu","ts":"2017-09-14T01:57:32.365Z"}
{"msg":"@FenglianXu Please review the thoughts around skip and limit in this work item: https://jira.hyperledger.org/browse/FAB-2809","username":"dave.enyeart","ts":"2017-09-14T01:57:52.222Z"}
{"msg":"Would appreciate your feedback in that item's comments","username":"dave.enyeart","ts":"2017-09-14T01:58:26.286Z"}
{"msg":"@gauthampamu Please see: http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence","username":"dave.enyeart","ts":"2017-09-14T01:59:20.488Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=38XNDQH3TYpGi4DR3) @dave.enyeart Thanks. I have read this before and I forgot about it. Thanks for sharing the link. ","username":"gauthampamu","ts":"2017-09-14T02:02:59.936Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=38XNDQH3TYpGi4DR3","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=38XNDQH3TYpGi4DR3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=nkRzdLjFHvhahKspi) @dave.enyeart Thanks. I have read this before and I forgot about it. Thanks for sharing the link.","username":"gauthampamu","ts":"2017-09-14T02:04:43.841Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nkRzdLjFHvhahKspi","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nkRzdLjFHvhahKspi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@qizhang Block transactions are processed in serial by a thread (per channel). Based on recent performance bottleneck analysis, some aspects of committer validation will be shifting to multi-threaded to parallel process transactions which don't have dependencies...this will improve performance, especially in cases of a single channel where there were previously cycles available.","username":"dave.enyeart","ts":"2017-09-14T02:09:26.189Z"}
{"msg":"Thanks @dave.enyeart . You mean even if there are multiple peers, as long as they belong the same channel, their blocks are committed to the ledger by a single thread?","username":"qizhang","ts":"2017-09-14T02:13:45.130Z"}
{"msg":"No, I mean for a given peer, there will one thread doing the block validation/commit work per channel.  And going forward, multi-threading will be used even within a single channel for some of the areas where it makes the most sense.","username":"dave.enyeart","ts":"2017-09-14T02:18:25.489Z"}
{"msg":"@qizhang No, I mean for a given peer, there will one thread doing the block validation/commit work per channel.  And going forward, multi-threading will be used even within a single channel for some of the areas where it makes the most sense.","username":"dave.enyeart","ts":"2017-09-14T02:18:25.489Z"}
{"msg":"@dave.enyeart I see. When multi-threading is used, does it mean that for a peer, a block can be committed before all its previous blocks have been committed?","username":"qizhang","ts":"2017-09-14T02:20:32.971Z"}
{"msg":"No, blocks will continue to be committed in order.  But within a block the N transactions could be validated in parallel, where there are not dependencies between them.","username":"dave.enyeart","ts":"2017-09-14T02:21:49.696Z"}
{"msg":"@dave.enyeart  make sense. For each single block, what is the ratio of time spent on validating the transactions and writing the block to the ledger? I suspect the writing part could take longer time since it is doing disk I/O.","username":"qizhang","ts":"2017-09-14T02:24:36.119Z"}
{"msg":"@dave.enyeart  make sense. For each single block, what is the ratio between the time spent on validating the transactions and the time spent on writing the block to the ledger? I suspect the writing part could take longer time since it is doing disk I/O.","username":"qizhang","ts":"2017-09-14T02:24:36.119Z"}
{"msg":"Actually the validation has been more expensive due to all the checks including checking signatures and checking consistent state since simulation time. ","username":"dave.enyeart","ts":"2017-09-14T02:27:36.193Z"}
{"msg":"I see, do you think it is useful to measure the ratio between the time spent on validating the transactions and the time spent on writing the block to the ledger for each single block?","username":"qizhang","ts":"2017-09-14T02:28:49.315Z"}
{"msg":"Yes, that is valuable, some people have already done it, I suggest you ping @Senthil1 for details.","username":"dave.enyeart","ts":"2017-09-14T02:30:16.329Z"}
{"msg":"Sure, will do. Thanks!","username":"qizhang","ts":"2017-09-14T02:30:36.030Z"}
{"msg":"@dave.enyeart I was told there is a global lock that each peer uses to commit the block, do you know more details about it?","username":"qizhang","ts":"2017-09-14T02:33:05.585Z"}
{"msg":"That is probably in reference to the RW lock that ensures that simulations see consistent results, that is, they don't see some data pre-commit and some data post-commit from other transactions. There are some thoughts on how to preserve the behavior in more efficient ways, you can ping manish-sethi for some specifics.","username":"dave.enyeart","ts":"2017-09-14T02:36:59.250Z"}
{"msg":"sure thanks!","username":"qizhang","ts":"2017-09-14T02:43:04.108Z"}
{"msg":"Has joined the channel.","username":"jon_s","ts":"2017-09-14T15:44:50.917Z","type":"uj"}
{"msg":"Hello team. I am using couchDB with Go chaincode and Node SDK. Is there any example where I can encrypt the data in the chaincode itself with public and private key encryption mechanism, so that it can only be read from the chaincode and not from the Fauxton UI? Thanks.","username":"ArnabChatterjee","ts":"2017-09-15T02:25:51.091Z"}
{"msg":"@dave.enyeart thank you for the link. When will the V1.2 be released?","username":"FenglianXu","ts":"2017-09-15T07:38:40.328Z"}
{"msg":"@FenglianXu The rough timing is 1.1 for Q4, 1.2 for Q1. Could you add a comment in FAB-2809 about your use case and whether what's described would be sufficient for you?","username":"dave.enyeart","ts":"2017-09-15T09:37:03.449Z"}
{"msg":"@ArnabChatterjee There is an example of encrypting chaincode data here: https://gerrit.hyperledger.org/r/#/c/12811/","username":"dave.enyeart","ts":"2017-09-15T10:27:57.343Z"}
{"msg":"Note that couchdb query capability will be reduced if the data is encrypted.","username":"dave.enyeart","ts":"2017-09-15T10:28:47.409Z"}
{"msg":"Has left the channel.","username":"kostas","ts":"2017-09-16T20:33:36.625Z","type":"ul"}
{"msg":"Is there a way to do 'pagination' (satisfying query parameters) with the range query at the chaincode level? Say, I have 1000 records and I would like to retrieve 'page 2' (based on the query parameters) where each page may contain a maximum of 100 records.","username":"lenin.mehedy","ts":"2017-09-18T00:07:07.873Z"}
{"msg":"Hey, In couchdb.. how do I build an index for a query that has an `\"$or\"` statement in it? Can I put the `\"$or\"` in the index? or do I just specify the fields normally? \nI can't find much in the way of documentation for indexes in a Hyperledger context other than the comments in the marbles chaincode :/","username":"pd93","ts":"2017-09-18T12:28:42.667Z"}
{"msg":"@pd93 heres a good reference for how to build those selectors: http://docs.couchdb.org/en/2.0.0/api/database/find.html#find-selectors","username":"jrosmith","ts":"2017-09-18T14:16:06.859Z"}
{"msg":"and heres an example of the string in golang: `\"{ \\\"selector\\\": { \\\"$or\\\": [ {\\\"status\\\": 0}, {\\\"status\\\": 1}, {\\\"status\\\": 2} ] } }\"`","username":"jrosmith","ts":"2017-09-18T14:16:50.864Z"}
{"msg":"the statuses are of type int32","username":"jrosmith","ts":"2017-09-18T14:17:25.284Z"}
{"msg":"@jrosmith Thanks, but I already have the selector query with the or statements. My questions is how I build an *index* to speed this query up","username":"pd93","ts":"2017-09-18T14:18:36.215Z"}
{"msg":"ohhhh my mistake","username":"jrosmith","ts":"2017-09-18T14:18:53.810Z"}
{"msg":"np. Thanks anyway :P ","username":"pd93","ts":"2017-09-18T14:19:23.485Z"}
{"msg":"Also curious whether the replication feature in Fauxton works? If I have a local chain and a remote chain.. can I use the replication tab to backup/restore data? ","username":"pd93","ts":"2017-09-18T14:35:12.927Z"}
{"msg":"@dave.enyeart i use the PTE tools to test the performance,when i find the couchdb  is slower then the level db","username":"asaningmaxchain","ts":"2017-09-19T02:28:19.360Z"}
{"msg":"and the otherwise the query is very slow than the write","username":"asaningmaxchain","ts":"2017-09-19T02:28:48.160Z"}
{"msg":"That's correct, leveldb in-process database is faster than the remote couchdb database option.  This is most important in validation and commit phase, since that is where there are serial paths that can impact throughput.  In latest master, enhancements have been made to perform validation and commit in bulk in couchdb.  With these improvements, there may not be a noticeable difference for end to end transaction throughput.","username":"dave.enyeart","ts":"2017-09-19T02:33:14.423Z"}
{"msg":"@asaningmaxchain That's correct, leveldb in-process database is faster than the remote couchdb database option.  This is most important in validation and commit phase, since that is where there are serial paths that can impact throughput.  In latest master, enhancements have been made to perform validation and commit in bulk in couchdb.  With these improvements, there may not be a noticeable difference for end to end transaction throughput.","username":"dave.enyeart","ts":"2017-09-19T02:33:14.423Z"}
{"msg":"@asaningmaxchain That's correct, leveldb in-process database is faster than the remote couchdb database option.  This is most important in validation and commit phase, since that is where there are serial paths that can impact throughput.  In latest master, enhancements have been made to perform validation and commit in bulk in couchdb.  With these improvements, there may not be a noticeable difference for end to end transaction throughput between leveldb and couchdb.","username":"dave.enyeart","ts":"2017-09-19T02:33:14.423Z"}
{"msg":"so in the v1.1 the performance will get a good promotion","username":"asaningmaxchain","ts":"2017-09-19T02:36:48.224Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-09-19T02:36:49.546Z"}
{"msg":"whatever the state db use couchdb/leveldb","username":"asaningmaxchain","ts":"2017-09-19T02:37:11.530Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-09-19T02:37:12.795Z"}
{"msg":"Correct, in 1.1 the end-to-end throughput with couchdb should get closer to end-to-end throughput seen with leveldb.","username":"dave.enyeart","ts":"2017-09-19T02:39:31.988Z"}
{"msg":"i got it","username":"asaningmaxchain","ts":"2017-09-19T02:41:23.737Z"}
{"msg":"@pd93 Each peer should have a dedicated couchdb that stays in sync with the peer's ledgers.  Therefore you should not attempt CouchDB replication.  State in CouchDB (or leveldb) is a shadow of the chain.  State in CouchDB is rebuilt automatically to be in sync with chain, if upon peer restart the state database is not found or is found to be at lower height than the peer's chains.  High Availability is achieved with multiple peers rather than multiple state database replicas.  In this deployment scheme, replication is not needed.","username":"dave.enyeart","ts":"2017-09-19T02:48:47.896Z"}
{"msg":"Hi, I was writing chaincodes with Golang and couchdb. I am badly stuck in fetching data with nested queries or joins. Example: `select user.user_id from user where user.company_id in (select company.company_id where company.zipcode = \"123456\")`. I know this question does not belong here. But any help or pointers would be appreciated. Thank you all. :)","username":"ArnabChatterjee","ts":"2017-09-19T07:39:53.616Z"}
{"msg":"@dave.enyeart - Any clues dave? Thanks.","username":"ArnabChatterjee","ts":"2017-09-19T09:28:53.108Z"}
{"msg":"@dave.enyeart That's great thanks :) Makes sense. I was mainly curious from a backup point of view rather than availability.\nI'm now trying to get data persistence to work though instead and I'm getting `eaccess` errors on the couchdb container.\nAll I've done is mounted the volumes for the peers and couchdb container like [the tutorials](http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence) say to. \nFull error: ```\n[os_mon] memory supervisor port (memsup): Erlang has closed\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[{couch_auth_cache,ensure_users_db_exists,2,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,456}]},{couch_auth_cache,open_auth_db,0,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,428}]},{couch_auth_cache,reinit_cache,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,290}]},{couch_auth_cache,init,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,166}]},{gen_server,init_it,6,[{file,\\\"gen_server.erl\\\"},{line,328}]},{proc_lib,init_p_do_apply,3,[{file,\\\"proc_lib.erl\\\"},{line,240}]}]}}}}},{couch_app,start,[normal,[]]}}}\"}\n```","username":"pd93","ts":"2017-09-19T10:23:21.000Z"}
{"msg":"@dave.enyeart That's great thanks :) Makes sense. I was mainly curious from a backup point of view rather than availability.\nI'm now trying to get data persistence to work though instead and I'm getting `eaccess` errors on the couchdb container.\nAll I've done is mounted the volumes for the peers and couchdb container like [the tutorials](http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence) say to. \nFull error: \n```[os_mon] memory supervisor port (memsup): Erlang has closed\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[{couch_auth_cache,ensure_users_db_exists,2,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,456}]},{couch_auth_cache,open_auth_db,0,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,428}]},{couch_auth_cache,reinit_cache,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,290}]},{couch_auth_cache,init,1,[{file,\\\"src/couch_auth_cache.erl\\\"},{line,166}]},{gen_server,init_it,6,[{file,\\\"gen_server.erl\\\"},{line,328}]},{proc_lib,init_p_do_apply,3,[{file,\\\"proc_lib.erl\\\"},{line,240}]}]}}}}},{couch_app,start,[normal,[]]}}}\"}\n```","username":"pd93","ts":"2017-09-19T10:23:21.000Z"}
{"msg":"@dave.enyeart That's great thanks :) Makes sense. I was mainly curious from a backup point of view rather than availability.\nI'm now trying to get data persistence to work though instead and I'm getting `eaccess` errors on the couchdb container.\nAll I've done is mounted the volumes for the peers and couchdb container like [the tutorials](http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence) say to. \n*--edit--:* Fixed the above issue by doing a `chown` on the persistence directory on my host (docker had set its ownership to `root` - hence couchdb couldn't write to it)","username":"pd93","ts":"2017-09-19T10:23:21.000Z"}
{"msg":"@dave.enyeart That's great thanks :) Makes sense. I was mainly curious from a backup point of view rather than availability.\nI'm now trying to get data persistence to work though instead and I'm getting `eaccess` errors on the couchdb container.\nAll I've done is mounted the volumes for the peers and couchdb container like [the tutorials](http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence) say to. \n*--edit--* Fixed the above issue by doing a `chown` on the persistence directory on my host (docker had set its ownership to `root` - hence couchdb couldn't write to it)","username":"pd93","ts":"2017-09-19T10:23:21.000Z"}
{"msg":"@ArnabChatterjee CouchDB does not support SQL.  There is intent to support CouchDB views in the future, take a look at CouchDB map/reduce to see what is possible there.  In the interim you would have to model your chaincode data in a way to directly support the queries, for example add the company zip code directly to a user key/value, and then you would be able to query users by zip code.","username":"dave.enyeart","ts":"2017-09-19T10:57:01.654Z"}
{"msg":"@dave.enyeart Thanks. Is map/reduce currently supported in the couchDB implementation inside Fabric?","username":"ArnabChatterjee","ts":"2017-09-19T10:58:35.632Z"}
{"msg":"There is intent to support CouchDB views in the future","username":"dave.enyeart","ts":"2017-09-19T10:58:47.135Z"}
{"msg":"No, there is intent to support CouchDB views in the future","username":"dave.enyeart","ts":"2017-09-19T10:58:47.135Z"}
{"msg":"okay. So, in a crude way to implement it, can I fetch the result of the 1st subquery as a string and pass it on to the main query?","username":"ArnabChatterjee","ts":"2017-09-19T11:00:03.515Z"}
{"msg":"There could be many results to the subquery and therefore that may not work well.  Blockchain is not intended to be a traditional application database, the data should support the intent of the chaincode, in this case if there is legit reason to do that query in chaincode then I could model the company zip in the user key/value to directly support the query.","username":"dave.enyeart","ts":"2017-09-19T11:06:23.842Z"}
{"msg":"There could be many results to the subquery and therefore that may not work well.  Blockchain is not intended to be a traditional application database, the data should support the intent of the chaincode, in this case if there is legit reason to do that query in chaincode then you could model the company zip in the user key/value to directly support the query.","username":"dave.enyeart","ts":"2017-09-19T11:06:23.842Z"}
{"msg":"Hi Folks,\nI have created a blog for Emerging Technology for Beginners , Also i added the setting up for Hyperledger fabric V 0.6 and V 1.0 on that.\nKindly review and let me know your queries.\nBlog name : kesavannb.wordpress.com","username":"kesavannb","ts":"2017-09-19T14:54:54.842Z"}
{"msg":"@dave.enyeart - thanks dave. But, I am still in doubt that for every such join requirement, I need to maintain separate mappings as key value pairs. Won't doing this incur extra overhead of maintaining these mappings and leave it prone for more bugs? Can you refer me to any example that demonstrates how data could be stored as key/value. Examples like marbles02 are too simplistic to map to any real world scenario. Thanks.","username":"ArnabChatterjee","ts":"2017-09-19T23:51:28.670Z"}
{"msg":"@ArnabChatterjee I'll say it again - for queries more complex than couchdb selector (_find api) can support, couchdb views with map/reduce would be required. There is intent to add such support.","username":"dave.enyeart","ts":"2017-09-20T00:42:57.610Z"}
{"msg":"@ArnabChatterjee I'll say it again - for queries more complex than couchdb selector (_find api) can support, couchdb views with map/reduce would be required. There is intent to add such support. There are examples online for how to do relational-like queries using map/reduce, e.g.: https://danielwertheim.se/couchdb-many-to-many-relations/","username":"dave.enyeart","ts":"2017-09-20T01:10:32.553Z"}
{"msg":"and in the couchdb docs: http://docs.couchdb.org/en/latest/ddocs/views/joins.html","username":"dave.enyeart","ts":"2017-09-20T01:16:43.201Z"}
{"msg":"Has joined the channel.","username":"leminhy89","ts":"2017-09-20T10:48:08.437Z","type":"uj"}
{"msg":"Hi,","username":"tiennv","ts":"2017-09-21T17:49:52.798Z"}
{"msg":"Can we add a ledger peer dynamically?","username":"tiennv","ts":"2017-09-21T17:50:11.513Z"}
{"msg":"@dave.enyeart how the peer to validate the tx is valid,i see the `common/ledger` use the leveldb to store the block,but not validates the tx","username":"asaningmaxchain","ts":"2017-09-22T05:27:49.717Z"}
{"msg":"can you tell me the peer how to validate the tx","username":"asaningmaxchain","ts":"2017-09-22T05:28:00.730Z"}
{"msg":"and tell me the peer validate the data is invalid","username":"asaningmaxchain","ts":"2017-09-22T05:28:21.358Z"}
{"msg":"Any idea how I can silence/fix the ERROR logged by mocklogger in MockStub? \n```\n2017-09-22 17:47:00.027 AEST [mock] HasNext -> ERRO 041 HasNext() couldn't get Current\n2017-09-22 17:47:00.027 AEST [mock] HasNext -> ERRO 042 HasNext() couldn't get Current\n2017-09-22 17:47:00.027 AEST [mock] HasNext -> ERRO 043 HasNext() couldn't get Current\n2017-09-22 17:47:00.027 AEST [mock] HasNext -> ERRO 044 HasNext() couldn't get Current\n2017-09-22 17:47:00.031 AEST [mock] HasNext -> ERRO 045 HasNext() couldn't get Current\n2017-09-22 17:47:00.031 AEST [mock] HasNext -> ERRO 046 HasNext() couldn't get Current\n```","username":"lenin.mehedy","ts":"2017-09-22T07:51:31.170Z"}
{"msg":"@asaningmaxchain There are many validation checks prior to commit. There is general tran and endorsement policy validation (validation system chaincode) here: https://github.com/hyperledger/fabric/blob/release/core/committer/txvalidator/validator.go","username":"dave.enyeart","ts":"2017-09-22T10:50:47.991Z"}
{"msg":"@dave.enyeart do you test the performance about the peer","username":"asaningmaxchain","ts":"2017-09-22T10:51:43.304Z"}
{"msg":"and there is ledger validation to ensure that state hasn't changed since simulation time here: https://github.com/hyperledger/fabric/blob/release/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator.go","username":"dave.enyeart","ts":"2017-09-22T10:51:45.693Z"}
{"msg":"I personally don't, but there are people that have been testing and profiling performance to identify bottlenecks","username":"dave.enyeart","ts":"2017-09-22T10:52:19.767Z"}
{"msg":"the orderer i know it provide the tool 'broadcast_msg' to get the performance params","username":"asaningmaxchain","ts":"2017-09-22T10:53:25.263Z"}
{"msg":" i know the ordererit provide the tool 'broadcast_msg' to get the performance params","username":"asaningmaxchain","ts":"2017-09-22T10:53:25.263Z"}
{"msg":" i know the ordererit provide the tool `broadcast_msg` to get the performance params","username":"asaningmaxchain","ts":"2017-09-22T10:53:25.263Z"}
{"msg":"there is ledger specific performance test framework here: https://github.com/hyperledger/fabric-test/tree/master/tools/LTE","username":"dave.enyeart","ts":"2017-09-22T10:54:38.390Z"}
{"msg":"and end to end performance test framework here: https://github.com/hyperledger/fabric-test/tree/master/tools/PTE","username":"dave.enyeart","ts":"2017-09-22T10:55:00.172Z"}
{"msg":"i use the tool `PTE` to test the performance","username":"asaningmaxchain","ts":"2017-09-22T10:55:45.298Z"}
{"msg":"it's ok","username":"asaningmaxchain","ts":"2017-09-22T10:55:50.072Z"}
{"msg":"but i want to use the tool to test the peer performance ","username":"asaningmaxchain","ts":"2017-09-22T10:56:06.063Z"}
{"msg":"especially when i use the couchdb","username":"asaningmaxchain","ts":"2017-09-22T10:56:28.365Z"}
{"msg":"then you probably want https://github.com/hyperledger/fabric-test/tree/master/tools/LTE","username":"dave.enyeart","ts":"2017-09-22T10:56:46.875Z"}
{"msg":"and i send innumerable data to the peer","username":"asaningmaxchain","ts":"2017-09-22T10:57:00.672Z"}
{"msg":"thx","username":"asaningmaxchain","ts":"2017-09-22T10:59:33.955Z"}
{"msg":"@dave.enyeart ","username":"asaningmaxchain","ts":"2017-09-22T10:59:36.263Z"}
{"msg":"no problem","username":"dave.enyeart","ts":"2017-09-22T10:59:44.219Z"}
{"msg":"For each peer, the blocks arrive in an arbitrary order, however, the committing routine cannot commit a block into the ledger before all its previous blocks have been committed. I am wondering how the committing routine decides the order of the blocks it is committing.","username":"qizhang","ts":"2017-09-22T19:53:59.740Z"}
{"msg":"@yacovm can you answer qizhang's question?","username":"dave.enyeart","ts":"2017-09-23T04:06:01.114Z"}
{"msg":"We have an object called a payload buffer. The comtting routine fetches from that, and it reorders the blocks","username":"yacovm","ts":"2017-09-23T07:32:29.834Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=4hzr57uQC3iuyJztX) @qizhang just to elaborate on @yacovm answer, the buffer keep track on current ledger height and allows to pop from it only blocks with next sequence number, hence commits of the blocks appears in proper order. ","username":"C0rWin","ts":"2017-09-23T08:16:44.948Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4hzr57uQC3iuyJztX","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4hzr57uQC3iuyJztX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"avi-nyc","ts":"2017-09-24T00:03:33.787Z","type":"uj"}
{"msg":"Hi, I had an error in my chaincode and it did not propagate to a exception in the promise of my SDK. Although I got the following stacktrace in console \n\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: chaincode error (status: 500, message: unexpected end of JSON input)\nat /home/ubuntu/app-network/app-server/node_modules/grpc/src/node/src/client.js:434:17\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: chaincode error (status: 500, message: unexpected end of JSON input)\nat /home/ubuntu/app-network/app-server/node_modules/grpc/src/node/src/client.js:434:17\n\nThanks :)","username":"ArnabChatterjee","ts":"2017-09-24T23:38:04.090Z"}
{"msg":"@ArnabChatterjee if you use the node please ask in #fabric-sdk-node ","username":"asaningmaxchain","ts":"2017-09-25T01:04:22.887Z"}
{"msg":"Has left the channel.","username":"FengChen_1982","ts":"2017-09-25T03:02:37.097Z","type":"ul"}
{"msg":"When i pull down and start the server again the data is getting removed. How to start the server with existing data.","username":"jon_s","ts":"2017-09-25T05:57:53.124Z"}
{"msg":"@asaningmaxchain - Thanks. I already did it before I reposted here. Btw, ant clues on the same? ","username":"ArnabChatterjee","ts":"2017-09-25T08:40:30.282Z"}
{"msg":"Has joined the channel.","username":"toriaezunama","ts":"2017-09-25T12:17:39.377Z","type":"uj"}
{"msg":"Can anyone point me to the Fabric function that prevents the \"double-spend\" problem among transactions in a single block? Thanks!","username":"qizhang","ts":"2017-09-25T14:19:46.557Z"}
{"msg":"@qizhang you should take a look the fabric how to validate the block","username":"asaningmaxchain","ts":"2017-09-25T14:29:41.559Z"}
{"msg":"@qizhang I guess its MVCC check you want and its in https://github.com/hyperledger/fabric/blob/d9c320297bd2a4eff2eb253ce84dc431ef860972/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator.go#L194","username":"Vadim","ts":"2017-09-25T14:33:27.311Z"}
{"msg":"Thanks @Vadim , I think that is the one","username":"qizhang","ts":"2017-09-25T14:35:15.350Z"}
{"msg":"we have `lc.validator.Validate(block)` in the following function, which is used to commit a block into the ledger. Then, inside function 'lc.ledger.Commit(block)', there is another  block validation function named `l.txtmgmt.ValidateAndPrepare(block, true)`. I am wondering what are the differences between `lc.validator.Validate(block)` and `l.txtmgmt.ValidateAndPrepare(block, true)`.","username":"qizhang","ts":"2017-09-25T15:25:30.629Z"}
{"msg":"we have `lc.validator.Validate(block)` in the following block commit function. Then, inside function 'lc.ledger.Commit(block)', there is another  block validation function named `l.txtmgmt.ValidateAndPrepare(block, true)`. I am wondering what are the differences between `lc.validator.Validate(block)` and `l.txtmgmt.ValidateAndPrepare(block, true)`.","username":"qizhang","ts":"2017-09-25T15:25:30.629Z"}
{"msg":"we have `lc.validator.Validate(block)` in the following block commit function. Then, inside function `lc.ledger.Commit(block)`, there is another  block validation function named `l.txtmgmt.ValidateAndPrepare(block, true)`. I am wondering what are the differences between `lc.validator.Validate(block)` and `l.txtmgmt.ValidateAndPrepare(block, true)`.","username":"qizhang","ts":"2017-09-25T15:25:30.629Z"}
{"msg":"we have `lc.validator.Validate(block)` as a block validation function in the following block commit function. Then, inside function `lc.ledger.Commit(block)`, there is another  block validation function named `l.txtmgmt.ValidateAndPrepare(block, true)`. I am wondering what are the differences between `lc.validator.Validate(block)` and `l.txtmgmt.ValidateAndPrepare(block, true)`.","username":"qizhang","ts":"2017-09-25T15:25:30.629Z"}
{"msg":"```// Commit commits block to into the ledger\n// Note, it is important that this always be called serially\nfunc (lc *LedgerCommitter) Commit(block *common.Block) error {\n\n\t// Validate and mark invalid transactions\n\tlogger.Debug(\"Validating block\")\n\tif err := lc.validator.Validate(block); err != nil {\n\t\treturn err\n\t}\n\n\t// Updating CSCC with new configuration block\n\tif utils.IsConfigBlock(block) {\n\t\tlogger.Debug(\"Received configuration update, calling CSCC ConfigUpdate\")\n\t\tif err := lc.eventer(block); err != nil {\n\t\t\treturn fmt.Errorf(\"Could not update CSCC with new configuration update due to %s\", err)\n\t\t}\n\t}\n\n\tif err := lc.ledger.Commit(block); err != nil {\n\t\treturn err\n\t}\n\n\t// send block event *after* the block has been committed\n\tif err := producer.SendProducerBlockEvent(block); err != nil {\n\t\tlogger.Errorf(\"Error publishing block %d, because: %v\", block.Header.Number, err)\n\t}\n\n\treturn nil\n}```","username":"qizhang","ts":"2017-09-25T15:25:55.708Z"}
{"msg":"how to i update composer to 0.13\n0|composer | Connection fails: Error: Error trying to ping. Error: Composer runtime (0.12.1) is not compatible with client (0.13.0)\n0|composer | It will be retried for the next request.\n0|composer | Exception: Error: Error trying to ping. Error: Composer runtime (0.12.1) is not compatible with client (0.13.0)","username":"jon_s","ts":"2017-09-25T16:24:40.509Z"}
{"msg":"@jon_s For data persistence, see https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence","username":"dave.enyeart","ts":"2017-09-25T16:29:45.949Z"}
{"msg":"For Composer questions, please post to #composer ","username":"dave.enyeart","ts":"2017-09-25T16:30:05.330Z"}
{"msg":"I am reading this doc http://hyperledger-fabric.readthedocs.io/en/latest/readwrite.html?highlight=read%20write%20set, and have a few questions: 1. If one of the transactions in the block is invalid, does Fabric abort the whole block? 2. The document mentioned that \"Transactions with multiple read-write sets are not yet supported.\", can you give an example of a transaction with \"multiple read-write sets\" (Similar to the one given in this doc)? Thanks!","username":"qizhang","ts":"2017-09-26T01:59:07.549Z"}
{"msg":"Has joined the channel.","username":"yushan","ts":"2017-09-26T09:15:56.622Z","type":"uj"}
{"msg":"Does the committer update the world state database after validating and committing all the transactions in a block, or the world state database will be updated right after each transaction has been validated?","username":"qizhang","ts":"2017-09-26T15:35:42.604Z"}
{"msg":"Has joined the channel.","username":"AnthonyMiclet","ts":"2017-09-26T16:09:40.633Z","type":"uj"}
{"msg":"@qizhang a good overview of transaction flow can be found here: http://hyperledger-fabric.readthedocs.io/en/latest/txflow.html","username":"jrosmith","ts":"2017-09-26T16:36:06.322Z"}
{"msg":"@qizhang 1) If one of the transactions in the block is invalid, only that transaction is marked invalid, all the other transactions in the block are marked valid.  For all the valid transactions, the state database will be updated per the valid writesets.  2) It may be valuable to have a client invoke one chaincode/function, and then invoke a second chaincode/function, and include both endorsed proposal responses in a single transaction that gets atomically validated or invalidated.  This use case is not yet supported in the peer, although the transaction protobuf message can technically support it since it can contain N TransactionActions:","username":"dave.enyeart","ts":"2017-09-27T02:18:21.155Z"}
{"msg":"```message Transaction {\n\n\t// The payload is an array of TransactionAction. An array is necessary to\n\t// accommodate multiple actions per transaction\n\trepeated TransactionAction actions = 1;\n}```","username":"dave.enyeart","ts":"2017-09-27T02:18:27.757Z"}
{"msg":"Concerning your last question... as the transactions in the block get validated, the valid writeset keys get added to a batch structure in memory. Once all the transactions have gone through validation cycle, then the block is committed to block storage and the block's batch of state updates get committed to state database.  It is done in a batch for the block's updates for performance reasons, rather than key by key or tran by tran.","username":"dave.enyeart","ts":"2017-09-27T02:22:52.521Z"}
{"msg":"Note that if peer crashes during this process, upon next startup it will detect that it did not finish the commits and will ensure commit consistency before allowing further simulation or block processing.  Therefore, the commits can be considered atomic from client perspective.","username":"dave.enyeart","ts":"2017-09-27T02:25:48.707Z"}
{"msg":"Thanks @dave.enyeart . There is a rule to check whether two transactions are conflict (e.g. transaction T2 reads some data that has been written by a transaction T1), will T1 and T2 still be considered as conflict even if they are in different blocks?","username":"qizhang","ts":"2017-09-27T02:43:13.933Z"}
{"msg":"@dave.enyeart the peer connect couchdb by using short connection","username":"asaningmaxchain","ts":"2017-09-27T03:16:22.205Z"}
{"msg":"？","username":"asaningmaxchain","ts":"2017-09-27T03:16:23.499Z"}
{"msg":"@qizhang If transaction readset versions have been incremented in state db since simulation time, the transaction is invalidated.  This is true whether the transactions are in the same block or different blocks","username":"dave.enyeart","ts":"2017-09-27T03:46:06.872Z"}
{"msg":"@asaningmaxchain what do you mean by short connection?","username":"dave.enyeart","ts":"2017-09-27T03:47:01.584Z"}
{"msg":"the peer connect to the couchdb","username":"asaningmaxchain","ts":"2017-09-27T03:47:16.930Z"}
{"msg":"i use the couchdb to store the state db","username":"asaningmaxchain","ts":"2017-09-27T03:47:31.560Z"}
{"msg":"peer uses http to connect to couchdb","username":"dave.enyeart","ts":"2017-09-27T03:47:47.696Z"}
{"msg":"i think should use the connection pool","username":"asaningmaxchain","ts":"2017-09-27T03:48:33.982Z"}
{"msg":"yes it does","username":"dave.enyeart","ts":"2017-09-27T03:48:55.499Z"}
{"msg":"in the v1.0.0 it use the connection pool for peer?","username":"asaningmaxchain","ts":"2017-09-27T03:49:20.156Z"}
{"msg":"http connection is reused","username":"dave.enyeart","ts":"2017-09-27T03:49:33.925Z"}
{"msg":"but i use the PTE to test the performance, i see the peer can't connect the couchdb dut to the connections is TIME_WAIT","username":"asaningmaxchain","ts":"2017-09-27T03:50:39.314Z"}
{"msg":"but i use the PTE to test the performance, i see the peer can't connect the couchdb dut to the connections is too much and the state is TIME_WAIT","username":"asaningmaxchain","ts":"2017-09-27T03:50:39.314Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=RnjjkxkyGTrykxcGW) @dave.enyeart I this case, if the block validation runs in parallel with the endorsing (i.e. transaction simulation), they may interference with each other. For example, many transactions in the block can be invalidated by the transactions that are being simulated. Any approach to avoid or reduce such interference? Another question, if a transaction (say Ta) in some block has been marked as validate, but right before its write set has been committed to the world state db, another transaction (say Tb) being simulated may make Ta invalidate. How the block validation routine and the endorsing routine collaborate with each other to solve such issue? Thanks!","username":"qizhang","ts":"2017-09-27T04:31:02.252Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=RnjjkxkyGTrykxcGW","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=RnjjkxkyGTrykxcGW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart @manish-sethi Rocksdb license change back to Apache 2.0, shall we consider reintroduce Rocksdb?","username":"grapebaba","ts":"2017-09-27T06:20:11.278Z"}
{"msg":"@dave.enyeart i use the java sdk to test the performance,i use the couchdb to store the db state,and then i send the tx ","username":"asaningmaxchain","ts":"2017-09-27T09:46:22.455Z"}
{"msg":"byt get the following error","username":"asaningmaxchain","ts":"2017-09-27T09:46:33.382Z"}
{"msg":"byt get the following error `2017-09-27 17:44:11,857:ERROR XNIO-2 task-65 (Channel.java:2241) - Sending proposal to peer0.org1.example.com failed because of: gRPC failure=Status{code=UNKNOWN, description=transaction not found Get http://couchdb0:5984/mychannel/lscc%00cc?attachments=true: dial tcp 172.18.0.2:5984: connect: cannot assign requested address - make sure the chaincode cc has been successfully instantiated and try again, cause=null}\njava.lang.Exception: io.grpc.StatusRuntimeException: UNKNOWN: transaction not found Get http://couchdb0:5984/mychannel/lscc%00cc?attachments=true: dial tcp 172.18.0.2:5984: connect: cannot assign requested address - make sure the chaincode cc has been successfully instantiated and try again\n`","username":"asaningmaxchain","ts":"2017-09-27T09:46:33.382Z"}
{"msg":"byt get the following error ```2017-09-27 17:44:11,857:ERROR XNIO-2 task-65 (Channel.java:2241) - Sending proposal to peer0.org1.example.com failed because of: gRPC failure=Status{code=UNKNOWN, description=transaction not found Get http://couchdb0:5984/mychannel/lscc%00cc?attachments=true: dial tcp 172.18.0.2:5984: connect: cannot assign requested address - make sure the chaincode cc has been successfully instantiated and try again, cause=null}\njava.lang.Exception: io.grpc.StatusRuntimeException: UNKNOWN: transaction not found Get http://couchdb0:5984/mychannel/lscc%00cc?attachments=true: dial tcp 172.18.0.2:5984: connect: cannot assign requested address - make sure the chaincode cc has been successfully instantiated and try again```\n`","username":"asaningmaxchain","ts":"2017-09-27T09:46:33.382Z"}
{"msg":"the couchdb startup successfully","username":"asaningmaxchain","ts":"2017-09-27T09:47:34.184Z"}
{"msg":"the couchdb and chaincode run well","username":"asaningmaxchain","ts":"2017-09-27T09:47:34.184Z"}
{"msg":"@qizhang You have it backwards... a simulation can never invalidate something in validation/commit phase.   Blocks/transactions are validated in serial based on valid committed transactions in previous blocks and valid transactions coming before in the same block.","username":"dave.enyeart","ts":"2017-09-27T12:18:33.322Z"}
{"msg":"@qizhang You have it backwards... a simulation can never invalidate something in validation/commit phase.   Blocks/transactions are validated in serial order based on valid committed transactions in previous blocks and valid transactions coming before in the same block.","username":"dave.enyeart","ts":"2017-09-27T12:18:33.322Z"}
{"msg":"But transactions that get validated/committed can indeed invalidate transactions that are still in-flight (either in endorsement phase, ordering phase, or in blocks waiting to get validated at peer)","username":"dave.enyeart","ts":"2017-09-27T12:19:53.389Z"}
{"msg":"@grapebaba LevelDB has met all objectives for 1.0 and therefore there is no work queued up to switch to RocksDB.  If we find scenarios in the future that are better served by RocksDB then we could re-visit at that time.","username":"dave.enyeart","ts":"2017-09-27T12:21:33.892Z"}
{"msg":"@asaningmaxchain You would need to provide more context","username":"dave.enyeart","ts":"2017-09-27T12:23:46.353Z"}
{"msg":"@dave.enyeart are you there","username":"asaningmaxchain","ts":"2017-09-27T12:35:15.720Z"}
{"msg":"?","username":"asaningmaxchain","ts":"2017-09-27T12:35:16.186Z"}
{"msg":"@grapebaba - It would certainly be good from performance point of view on two accounts. \n1) rocks is generally faster because of c++\n2) It had a feature that allowed us to skip writing to WAL... \nIf you are keen on taking this up, I think that best would be if we can support rocks in addition to ongoing support for goleveldb (via core.yaml config) - So we can measure the performance diff between the two. @dave.enyeart - do you know who can give us more about green flag from licensing perspective.","username":"manish-sethi","ts":"2017-09-27T13:00:47.003Z"}
{"msg":"@manish-sethi We would need to look into legal team contacts again.  But, I thought we concluded that leveldb vs rocksdb performance would have insignificant impact on overall end-to-end system performance.  That is, better to focus investment on the performance improvements that we know will significantly improve end-to-end system performance.","username":"dave.enyeart","ts":"2017-09-27T13:08:18.884Z"}
{"msg":"@dave.enyeart i start the orderer and then i use the broadcast_msg tool to send the message to the orderer,i see the block file in my host(i map the data to my host)","username":"asaningmaxchain","ts":"2017-09-27T13:56:11.634Z"}
{"msg":"```-rw-r----- 1 root root  64M 9月  27 17:14 blockfile_000000\n-rw-r----- 1 root root  64M 9月  27 17:14 blockfile_000001```","username":"asaningmaxchain","ts":"2017-09-27T13:56:51.070Z"}
{"msg":"the block file is 64M","username":"asaningmaxchain","ts":"2017-09-27T13:56:59.210Z"}
{"msg":"the block file is 64M while i set the config is `BatchTimeout:2s`","username":"asaningmaxchain","ts":"2017-09-27T13:56:59.210Z"}
{"msg":"the block file is 64M while i set the config is `BatchTimeout:2s` and `MaxMessageCount:10`","username":"asaningmaxchain","ts":"2017-09-27T13:56:59.210Z"}
{"msg":"the config seems doesn't work","username":"asaningmaxchain","ts":"2017-09-27T14:05:20.494Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=yK8zfe2fYiEaeBJw5) @dave.enyeart wait a moment, i will provide more detail by using  pastebin","username":"asaningmaxchain","ts":"2017-09-27T14:06:01.544Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yK8zfe2fYiEaeBJw5","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yK8zfe2fYiEaeBJw5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart - Yes, you are right that for now ledger is not the bottleneck in the overall system performance. But I won't be averse if @grapebaba or someone else wants to experiment with rocksdb separately. My gut feel is that it would increase ledger performance significantly. At a later point in time, we can look into taking the change if sounds promising.","username":"manish-sethi","ts":"2017-09-27T14:37:32.820Z"}
{"msg":"Hi,","username":"ArnabChatterjee","ts":"2017-09-28T07:46:32.891Z"}
{"msg":"Hi,\nCan anyone provide me any example of using the GetCreator() function inside go chaincode?\nThanks","username":"ArnabChatterjee","ts":"2017-09-28T07:46:32.891Z"}
{"msg":"@manish-sethi @dave.enyeart got it.","username":"grapebaba","ts":"2017-09-28T08:37:43.536Z"}
{"msg":"@ArnabChatterjee https://chat.hyperledger.org/channel/fabric?msg=Nuoic4ENgH8TeJWTT","username":"Vadim","ts":"2017-09-28T08:39:36.561Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=Nuoic4ENgH8TeJWTT","url":"https://chat.hyperledger.org/channel/fabric?msg=Nuoic4ENgH8TeJWTT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@ArnabChatterjee [ ](https://chat.hyperledger.org/channel/fabric?msg=bk6QLcju5A8T6A4Mj) ","username":"Vadim","ts":"2017-09-28T08:40:06.474Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=bk6QLcju5A8T6A4Mj","url":"https://chat.hyperledger.org/channel/fabric?msg=bk6QLcju5A8T6A4Mj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Vadim - Thank you. :) I just found the post incidentally and saw that there was a query regarding fetching the role of the user as well. Any updates on that? ","username":"ArnabChatterjee","ts":"2017-09-28T08:41:21.502Z"}
{"msg":"@ArnabChatterjee https://jira.hyperledger.org/browse/FAB-5346","username":"Vadim","ts":"2017-09-28T08:43:38.221Z"}
{"msg":"Has joined the channel.","username":"rakmoh","ts":"2017-09-28T14:19:38.259Z","type":"uj"}
{"msg":"Hi, I'm trying to do a complex query using CouchDB on a peer. Everything works great when I apply rules on data attributes. But when I want to make a condition on the document ID, I have nothing. On Fauxton, the query works, but not in the Chaincode (no result). There is some kind of extra structure for the Document ID like the `data` envelopment?\nThe query:\n```\n{\n  \"selector\": {\n    \"_id\": {\n      \"$regex\": \"event_.*\"\n    }\n  }\n}\n```","username":"antitoine","ts":"2017-09-29T14:19:07.397Z"}
{"msg":"@antitoine couchdb selector works against the document content, not against the header fields like _id.  You would need to push the id into the document content if you want to include it in selector queries.  And remember, in the chaincode query do not include the 'data' wrapper in your field names.","username":"dave.enyeart","ts":"2017-09-29T15:09:50.039Z"}
{"msg":"@dave.enyeart Thanks! ;)","username":"antitoine","ts":"2017-09-29T15:11:49.711Z"}
{"msg":"Has joined the channel.","username":"clempo","ts":"2017-09-29T15:12:33.796Z","type":"uj"}
{"msg":"I'm calling ChaincodeStubInterface.GetHistoryForKey() in chaincode. It returns from most ancient to newest. I think it should return from newest to oldest (at least optionally) because that's the side that's always changing. Also imagine the key was changed millions of times. It would be nice to query with some constraints so we could call the chaincode and get batches without always running the whole history iteration to get the next chunk.","username":"clempo","ts":"2017-09-29T15:24:22.648Z"}
{"msg":"chaincode-dev sent me here, is this the right forum to discuss the shim?","username":"clempo","ts":"2017-09-29T19:12:41.278Z"}
{"msg":"@dave.enyeart  - I'm going to check in a fix for https://jira.hyperledger.org/browse/FAB-4905  - don't think anyone else is working on it yet?","username":"mastersingh24","ts":"2017-09-29T22:33:24.274Z"}
{"msg":"I have the fix locally - going to do a few more tests and then submit it","username":"mastersingh24","ts":"2017-09-29T22:33:45.971Z"}
{"msg":"@mastersingh24 I looked into it a bit as well, my take was that the changes to Dockerfile.in and docker-entrypoint.sh from this CR should be reverted: https://gerrit.hyperledger.org/r/#/c/7507","username":"dave.enyeart","ts":"2017-09-30T00:08:35.713Z"}
{"msg":"@mastersingh24 I looked into it a bit as well, my take was that the changes to Dockerfile.in and docker-entrypoint.sh from this CR should be reverted: https://gerrit.hyperledger.org/r/#/c/7507.  That would take it back to the way it was when we got it.","username":"dave.enyeart","ts":"2017-09-30T00:08:35.713Z"}
{"msg":"@mastersingh24 I looked into it a bit as well, my take was that the changes to Dockerfile.in and docker-entrypoint.sh from this CR should be reverted: https://gerrit.hyperledger.org/r/#/c/7507.  That would take it back to the way it was when we got it, running as root rather than couchdb.","username":"dave.enyeart","ts":"2017-09-30T00:08:35.713Z"}
{"msg":"Did you conclude the same?","username":"dave.enyeart","ts":"2017-09-30T00:08:42.123Z"}
{"msg":"Go ahead and take it, and thanks!","username":"dave.enyeart","ts":"2017-09-30T00:08:59.906Z"}
{"msg":"Actually - my change will allows you to run as couchdb ;)","username":"mastersingh24","ts":"2017-09-30T09:11:17.000Z"}
{"msg":"Actually - my change will allow you to run as couchdb ;)","username":"mastersingh24","ts":"2017-09-30T09:11:17.000Z"}
{"msg":"@dave.enyeart in the fabric source code,in the  `common/ledger` folder,it just use the leveldb to store the index ","username":"asaningmaxchain","ts":"2017-10-01T03:46:53.699Z"}
{"msg":"@asaningmaxchain That's correct, block storage is on file system, indexes into block storage uses leveldb (supports queries such as GetTransactionById), and state database uses either leveldb or couchdb.  If you want to understand ledger architecture better, please see charts attached to https://jira.hyperledger.org/browse/FAB-758.","username":"dave.enyeart","ts":"2017-10-01T12:47:09.751Z"}
{"msg":"Has joined the channel.","username":"BernardLin","ts":"2017-10-01T18:28:34.258Z","type":"uj"}
{"msg":"Any performance numbers available for fabric? ","username":"sampath06","ts":"2017-10-02T03:06:00.496Z"}
{"msg":"Has joined the channel.","username":"wy","ts":"2017-10-03T02:59:54.191Z","type":"uj"}
{"msg":"Hi guys, anyone know if we can use multiline strings for rich couchdb queries when using `GetQueryResult`?","username":"wy","ts":"2017-10-03T03:01:33.664Z"}
{"msg":"@dave.enyeart thx,can you explain how the fabric to index the block","username":"asaningmaxchain","ts":"2017-10-03T03:39:51.362Z"}
{"msg":"@asaningmaxchain upon commit to block storage, 'indexes' are also built in leveldb.  These are simply key/value pairs to support queries into block storage.  For example GetTransactionById is supported by an 'index' that uses txid as key and file location in block storage as value.","username":"dave.enyeart","ts":"2017-10-03T11:36:39.630Z"}
{"msg":"@dave.enyeart thx","username":"asaningmaxchain","ts":"2017-10-03T11:38:07.359Z"}
{"msg":"Has joined the channel.","username":"lovesh","ts":"2017-10-03T14:05:08.426Z","type":"uj"}
{"msg":"@sampath06 how do you mean? really can't get an performance numbers without a use case","username":"jrosmith","ts":"2017-10-03T14:40:04.725Z"}
{"msg":"Has joined the channel.","username":"ganbold","ts":"2017-10-03T14:55:03.611Z","type":"uj"}
{"msg":"@mastersingh24 i'm trying to enable full text searching with couchdb, should i be building couchdb from scratch with mango or just use couchdb-lucene?","username":"jrosmith","ts":"2017-10-03T15:40:05.972Z"}
{"msg":"woop, nevermind. looks like i just had an extra whitespace character near an escaped quote...","username":"jrosmith","ts":"2017-10-03T17:29:09.836Z"}
{"msg":"Has joined the channel.","username":"AlekNS","ts":"2017-10-04T05:14:20.169Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AnhDinh","ts":"2017-10-04T06:45:37.522Z","type":"uj"}
{"msg":"folks, trying to understand why bucket tree was removed from v1.0. Appreciate any pointers","username":"AnhDinh","ts":"2017-10-04T06:47:08.984Z"}
{"msg":"what'd happen to the world state (changed by PutState?)","username":"AnhDinh","ts":"2017-10-04T06:47:34.017Z"}
{"msg":"Hi, if a committing (non endorsing) peer's ledger data has been altered or isn't up-to-date, and it receives a new block from the ordering service, and it detects an inconsistency, is the transaction marked invalid for just that peer or for all peers.  Is there some mechanism where the peer marks itself as bad and then checks with other peers?  I am thinking about if there is one bad committing peer, how is that handled?  Thanks!","username":"tennenjl","ts":"2017-10-04T12:14:35.021Z"}
{"msg":"Has joined the channel.","username":"carlosfaria","ts":"2017-10-04T12:48:49.682Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rbochenski","ts":"2017-10-04T12:56:45.393Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=p4zyKfrZCrenmDPBv) @AnhDinh The overall model of consensus and transaction processing in version 0.6 (that employed bucket tree) is quite different from the version 1.0.\n\nIn version 0.6, at each block the hash of entire world state would go in the block which is not the case in version 1.0. When you need to compute state hash as frequently as every block, some structure (such as bucket tree) helps in making the compute of the order of the delta change as opposed to the order of entire state. \n\nIn 1.0, going forward, the hash of entire state would be computed and consented upon only on certain coarse grained intervals (say every 100,000 blocks) so that previous blocks can be pruned.","username":"manish-sethi","ts":"2017-10-05T02:04:30.707Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=p4zyKfrZCrenmDPBv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=p4zyKfrZCrenmDPBv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=v2qBFYthBNEHcFGLo) @tennenjl Marking the transaction (valid or invalid) is performed locally at each peer independently - pretty much like a bitcoin node would perform validation of a transaction/block independently. A bad peer cannot influence other peers decision.","username":"manish-sethi","ts":"2017-10-05T02:08:11.901Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=v2qBFYthBNEHcFGLo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=v2qBFYthBNEHcFGLo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=v2qBFYthBNEHcFGLo) If a historical block has been altered or is not up-do-date, the peer will not be able to detect it upon the receiving of a new block, isn't it? @manish-sethi ","username":"qizhang","ts":"2017-10-05T14:32:46.200Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=v2qBFYthBNEHcFGLo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=v2qBFYthBNEHcFGLo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@qizhang yes you are right. local tempering would only be detected by verifying the hashes of the block and comparing (top most hash) with other peers.","username":"manish-sethi","ts":"2017-10-05T14:38:33.316Z"}
{"msg":"Assuming the code that does the above is not tempered with :-)","username":"manish-sethi","ts":"2017-10-05T14:39:52.052Z"}
{"msg":"Assuming that the code that does the above is not tempered with :-)","username":"manish-sethi","ts":"2017-10-05T14:39:52.052Z"}
{"msg":"hi, when i am getting the transaction history using the transaction id, i see the block number with fields `low` and `high` what do these fields mean?","username":"wy","ts":"2017-10-05T15:39:53.350Z"}
{"msg":"@wy where are you looking?  Can you provide a screenshot of what you are talking about?","username":"dave.enyeart","ts":"2017-10-05T17:23:24.847Z"}
{"msg":"Has joined the channel.","username":"abhisamant","ts":"2017-10-05T17:33:12.984Z","type":"uj"}
{"msg":"Has joined the channel.","username":"george.hant","ts":"2017-10-05T18:19:14.359Z","type":"uj"}
{"msg":"hey all, trying to execute a number of transactions in parellel, getting `MVCC_READ_CONFLICT`, any insight into what this means?","username":"jrosmith","ts":"2017-10-05T20:24:28.520Z"}
{"msg":"They all must be reading and modifying the same data items.","username":"manish-sethi","ts":"2017-10-05T20:25:31.072Z"}
{"msg":"`MVCC_READ_CONFLICT` means that during validation of the transaction, it was found that the part of the state that the transaction read during simulation phase has changed (by some other tran that got committed before this tran)","username":"manish-sethi","ts":"2017-10-05T20:27:44.268Z"}
{"msg":"@manish-sethi thank you! that makes sense based on the chaincode logic i have set up, i'll have to rethink some things","username":"jrosmith","ts":"2017-10-05T20:46:32.305Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=qmqmETnuvQ9JvFYyb) @dave.enyeart Here is a snippet ```\"version\":{\"block_num\":{\"low\":53,\"high\":0,\"unsigned\":true},\"tx_num\":{\"low\":0,\"high\":0,\"unsigned\":true}}},{\"key\":\"org2id\",\"version\":{\"block_num\":{\"low\":51,\"high\":0,\"unsigned\":true},\"tx_num\":{\"low\":0,\"high\":0,\"unsigned\":true}}},{\"key\":\"org1id\",\"version\":{\"block_num\":{\"low\":54,\"high\":0,\"unsigned\":true},\"tx_num\":{\"low\":0,\"high\":0,\"unsigned\":true}}}],\"range_queries_info\":[],\"writes\":[{\"key\":\"507cae7eeae02a085a84165f26ff34e8a69d0261df5548eed47f769fa745d2af\",\"is_delete\":false,\"value\":\"{\\\"docType\\\":\\\"completedtx\\\",\\\"refID\\\":\\\"507cae7eeae02a085a84165f26ff34e8a69d0261df5548eed47f769fa745d2af\\\",\\\"sender\\\":\\\"org2id\\\",\\\"receiver\\\":\\\"org1id\\\",\\\"priority\\\":0,\\\"amount\\\":200000,\\\"currency\\\":\\\"dollar\\\",\\\"status\\\":\\\"SETTLED\\\",\\\"createTime\\\":\\\"2017-10-05T16:06:54.946Z\\\",\\\"updateTime\\\":\\\"2017-10-05T16:07:27.082Z\\\"}\"}]}},{\"namespace\":\"lscc\",\"rwset\":{\"reads\":[{\"key\":\"chaincode\",\"version\":{\"block_num\":{\"low\":1,\"high\":0,\"unsigned\":true},\"tx_num\":{\"low\":0,\"high\":0,\"unsigned\":true}}}],\"range_queries_info\":[],\"writes\":[]}}]},\"events\":{\"chaincode_id\":\"\",\"tx_id\":\"\",\"event_name\":\"\",\"payload\":{\"type\":\"Buffer\",\"data\":[]}},\"response\":{\"status\":200,\"message\":\"\",\"payload\":\"{\\\"nettableTxList\\\":[\\\"507cae7eeae02a085a84165f26ff34e8a69d0261df5548eed47f769fa745d2af\\\"],\\\"wentToLoop\\\":true}\"}}}```","username":"wy","ts":"2017-10-06T01:25:21.576Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=qmqmETnuvQ9JvFYyb","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=qmqmETnuvQ9JvFYyb","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@wy Is that from node js sdk?","username":"dave.enyeart","ts":"2017-10-06T02:00:10.745Z"}
{"msg":"@dave.enyeart yes it is","username":"wy","ts":"2017-10-06T02:28:46.207Z"}
{"msg":"It looks like a two byte number, where 53 is in the low byte and 0 is in the high byte, so block num is 53.  But I don't know why node js sdk would return it in that format.  please ask over in #fabric-sdk-node ","username":"dave.enyeart","ts":"2017-10-06T02:29:57.198Z"}
{"msg":"its the output from queryTransaction","username":"wy","ts":"2017-10-06T02:30:28.241Z"}
{"msg":"im just curious why there are different block numbers associated with each transaction","username":"wy","ts":"2017-10-06T02:30:53.040Z"}
{"msg":"blocks are cut every two seconds by default.  if you send them at a quicker rate you would see two trans in one block","username":"dave.enyeart","ts":"2017-10-06T02:31:34.521Z"}
{"msg":"but this is a single transaction ","username":"wy","ts":"2017-10-06T02:31:52.370Z"}
{"msg":"it should technically be in the same block shouldnt it? or am i understanding this wrongly","username":"wy","ts":"2017-10-06T02:32:12.344Z"}
{"msg":"sorry i don't know the fabric-sdk-node interactions, please ask over in #fabric-sdk-node ","username":"dave.enyeart","ts":"2017-10-06T02:32:49.731Z"}
{"msg":"alright, sure. thanks!","username":"wy","ts":"2017-10-06T02:34:09.731Z"}
{"msg":"@wy @dave.enyeart - it seems that javascript does not have native support for int64 and protobuf impl for js breaks into high/low int32 form - https://github.com/dcodeIO/protobuf.js/issues/53","username":"manish-sethi","ts":"2017-10-06T02:40:34.213Z"}
{"msg":"Also, the different versions you see in the message are the read-set of different keys in a single tran","username":"manish-sethi","ts":"2017-10-06T02:41:12.762Z"}
{"msg":"Still, as Dave suggested better to confirm with #fabric-sdk-node folks about low/high stuff","username":"manish-sethi","ts":"2017-10-06T02:41:51.852Z"}
{"msg":"@manish-sethi so how can i validate that the transaction is actually committed into a block?","username":"wy","ts":"2017-10-06T02:42:14.749Z"}
{"msg":"The only way is to look for the validation flags in the block. If this tran is marked as valid, it got committed else invalidated (and hence aborted)","username":"manish-sethi","ts":"2017-10-06T02:43:45.328Z"}
{"msg":"which block will this transaction appear in since there is like 3 different numbers there (53, 51, 54)?","username":"wy","ts":"2017-10-06T02:44:03.924Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=AJKzYSZdgENhc3QP3) @manish-sethi so does this mean that even if the transaction is invalid, it will still appear in the block?","username":"wy","ts":"2017-10-06T02:46:00.411Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=AJKzYSZdgENhc3QP3","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=AJKzYSZdgENhc3QP3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"51 and 54 are the versions in the read-set for keys `org2id` and `org1id` respectively... so surly your tran is in higher block than 54.","username":"manish-sethi","ts":"2017-10-06T02:46:40.712Z"}
{"msg":"Yes, even the invalid trans will appear in the block.","username":"manish-sethi","ts":"2017-10-06T02:47:12.516Z"}
{"msg":"How did you retrieve this protobuf that you pasted?","username":"manish-sethi","ts":"2017-10-06T02:47:29.009Z"}
{"msg":"i got it from the queryTransaction function from node js","username":"wy","ts":"2017-10-06T02:47:51.331Z"}
{"msg":"i got it from the `queryTransaction` function from node js","username":"wy","ts":"2017-10-06T02:47:51.331Z"}
{"msg":"For some things node js sdk returns the raw protobuf","username":"dave.enyeart","ts":"2017-10-06T02:48:34.256Z"}
{"msg":"Perhaps, you did not paste the entire response here. It starts with 'version'...","username":"manish-sethi","ts":"2017-10-06T02:49:40.769Z"}
{"msg":"Manish, I think our get transaction API only returns the data envelope.  Would probably be better to return some metadata as well, such whether the tran was marked as invalid/valid and which block num it is in. What do you think?","username":"dave.enyeart","ts":"2017-10-06T02:49:46.228Z"}
{"msg":"yes @dave.enyeart. Makes sense","username":"manish-sethi","ts":"2017-10-06T02:50:10.965Z"}
{"msg":"yes @dave.enyeart Makes sense","username":"manish-sethi","ts":"2017-10-06T02:50:10.965Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Re9CHCMjf9QqZpgBt) @manish-sethi yes, the entire response is too long to be pasted haha","username":"wy","ts":"2017-10-06T02:50:46.568Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Re9CHCMjf9QqZpgBt","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Re9CHCMjf9QqZpgBt","remote":true,"fileId":null,"fileName":null}]}
{"msg":":-)","username":"manish-sethi","ts":"2017-10-06T02:50:55.238Z"}
{"msg":"do you want to see the rest of the response?","username":"wy","ts":"2017-10-06T02:51:08.057Z"}
{"msg":"No, as Dave pointed out, we do not include the information such as blocknum and the valid/invalid status in the response - you won;t see that info anyway","username":"manish-sethi","ts":"2017-10-06T02:52:04.077Z"}
{"msg":"so actually, the reason why i am asking about this is because on the surface it seems like my transaction went through successfully, all logs indicate a successful transaction. However when i query the state, it seems like it has not been changed at all","username":"wy","ts":"2017-10-06T02:52:44.832Z"}
{"msg":"That should not happen... unless there is a serious bug","username":"manish-sethi","ts":"2017-10-06T02:56:07.483Z"}
{"msg":"Did you look at peer logs as well?  I suspect the tran got invalidated...","username":"dave.enyeart","ts":"2017-10-06T02:56:23.866Z"}
{"msg":"@dave.enyeart under what conditions will the transaction get invalidated?","username":"wy","ts":"2017-10-06T02:57:38.447Z"}
{"msg":"it passed the endorsement and ordering process though","username":"wy","ts":"2017-10-06T02:58:14.110Z"}
{"msg":"many potential reasons, the most common are not meeting endorsement policy and state changing for read key between endorsement and commit time. the peer log should provide an indication.","username":"dave.enyeart","ts":"2017-10-06T02:58:57.903Z"}
{"msg":"so i actually have multiple orgs on multiple channels","username":"wy","ts":"2017-10-06T02:59:41.685Z"}
{"msg":"i am currently firing transactions in quick succession to each channel (calling the same function)","username":"wy","ts":"2017-10-06T03:00:14.738Z"}
{"msg":"the thing is the most of the transaction is valid except only 1","username":"wy","ts":"2017-10-06T03:00:38.246Z"}
{"msg":"if you are doing trans in quick succession on same keys then it is likely a state validation issue","username":"dave.enyeart","ts":"2017-10-06T03:00:55.294Z"}
{"msg":"but i dont see how this will affect the states as these are all different channels ","username":"wy","ts":"2017-10-06T03:01:47.868Z"}
{"msg":"right, it would have to be two trans in the same channel conflicting","username":"dave.enyeart","ts":"2017-10-06T03:02:08.323Z"}
{"msg":"the only thing that is constant is that the peers may reside in more than 1 channel","username":"wy","ts":"2017-10-06T03:02:54.831Z"}
{"msg":"but that shouldnt affect the end result right?","username":"wy","ts":"2017-10-06T03:03:11.031Z"}
{"msg":"right","username":"dave.enyeart","ts":"2017-10-06T03:03:16.535Z"}
{"msg":"the odd thing is that when i fire the requests one by one manually, every transaction went through and managed to change the state successfully","username":"wy","ts":"2017-10-06T03:03:45.381Z"}
{"msg":"well we know you've got at least 54 transactions in this channel, so my bet is still on an invalidation due to conflicting transactions","username":"dave.enyeart","ts":"2017-10-06T03:05:45.426Z"}
{"msg":"so to check this i have to look at the docker logs for the peers in the channel that failed?","username":"wy","ts":"2017-10-06T03:09:54.406Z"}
{"msg":"right","username":"dave.enyeart","ts":"2017-10-06T03:10:18.960Z"}
{"msg":"what can i expect to see if the transaction is invalidated?","username":"wy","ts":"2017-10-06T03:10:33.733Z"}
{"msg":"this is the message you'll get in peer log:","username":"dave.enyeart","ts":"2017-10-06T03:14:06.828Z"}
{"msg":"logger.Warningf(\"Block [%d] Transaction index [%d] TxId [%s] marked as invalid by state validator. Reason code [%s]\",\n\t\t\t\tblock.Num, tx.IndexInBlock, tx.ID, validationCode.String())","username":"dave.enyeart","ts":"2017-10-06T03:14:08.241Z"}
{"msg":"you can do something like this:","username":"dave.enyeart","ts":"2017-10-06T03:15:02.926Z"}
{"msg":"```docker logs peer1.org2.example.com 2>&1 | grep -i -a invalid```","username":"dave.enyeart","ts":"2017-10-06T03:15:09.988Z"}
{"msg":"@dave.enyeart awesome, will try that out","username":"wy","ts":"2017-10-06T03:15:58.038Z"}
{"msg":"thanks!","username":"wy","ts":"2017-10-06T03:16:07.753Z"}
{"msg":"no problem","username":"dave.enyeart","ts":"2017-10-06T03:16:14.790Z"}
{"msg":"@dave.enyeart im seeing some lines that look like this `2017-10-06 02:10:36.318 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 6ead7 Block [540] Transaction index [0] marked as invalid by committer. Reason code [10]`","username":"wy","ts":"2017-10-06T03:26:26.098Z"}
{"msg":"any idea what is reason code 10?","username":"wy","ts":"2017-10-06T03:26:33.570Z"}
{"msg":"ENDORSEMENT_POLICY_FAILURE","username":"dave.enyeart","ts":"2017-10-06T03:27:18.341Z"}
{"msg":"I will open a defect to print the string rather than the code","username":"dave.enyeart","ts":"2017-10-06T03:27:34.974Z"}
{"msg":"@manish-sethi @wy I see that queryTransaction returns a ProcessedTransaction which includes the transaction data envelope as well as the validationCode","username":"dave.enyeart","ts":"2017-10-06T03:38:21.205Z"}
{"msg":"So I think if @wy provided the full json message we would have seen the validationCode","username":"dave.enyeart","ts":"2017-10-06T03:38:42.934Z"}
{"msg":"```{\"validationCode\":0,\"transactionEnvelope\":{\"signature\":{\"type\":\"Buffer\",\"data\":[48,69,2,33,0,229,102,162,41,130,164,119,48,128,187,121,122,103,126,234,74,72,149,26,40,244,143,64,67,68,224,107,246,16,0,176,55,2,32,77,103,2,194,105,13,14,234,34,97,22,147,99,107,10,50,235,54,170,58,52,127,119,58,151,160,129,114,204,115,6,109]},\"payload\":{\"header\":{\"channel_header\":{\"type\":\"ENDORSER_TRANSACTION\",\"version\":3,\"timestamp\":\"Thu Oct 05 2017 16:07:27 GMT+0000 (UTC)\",\"channel_id\":\"org1org2channel\",\"tx_id\":\"d2bfb1ccff47a4ec08a2706c9a8f63da1105fcb55d0ddf0a148df189d198c29b\",\"epoch\":0,\"extension\":{\"type\":\"Buffer\",\"data\":[18,21,18,19,98,105,108,97,116,101,114,97,108,99,104,97,110,110,101,108,95,99,99]}},\"signature_header\":{\"creator\":{\"Mspid\":\"org0MSP\",\"IdBytes\":\"-----BEGIN CERTIFICATE-----\\nMIIB7zCCAZagAwIBAgIUbm2+X9kt26GlhqlIo3HYIs24rjQwCgYIKoZIzj0EAwIw\\nczELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\\nbiBGcmFuY2lzY28xGTAXBgNVBAoTEG1hc3IuZXhhbXBsZS5jb20xHDAaBgNVBAMT\\nE2NhLm1hc3IuZXhhbXBsZS5jb20wHhcNMTcxMDA1MDMxODAwWhcNMTgxMDA1MDMx\\nODAwWjAPMQ0wCwYDVQQDEwRNQVNSMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE\\nxMuK8haZ9TCBVLLvO9+AwKewvTyIRKTZyS9awjvHGO624+fRrGCCWHaYmUtyPKtO\\nEO4NNHKhL6OiI5lN1i3/36NsMGowDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQC\\nMAAwHQYDVR0OBBYEFLyyVUKNxOCUYvNt8S3FTYnw2MEbMCsGA1UdIwQkMCKAIG6U\\na6iL7TPitJxXas+osebY7S7o+FLTdfUaGqm/SH4JMAoGCCqGSM49BAMCA0cAMEQC\\nIBX3AU0SSR7Rd02RJ8McT3H0H9GiqMMnfHe8UIPDAlSkAiA4EnFXqG9YECkyRQaf\\nGbLcIk0lJ9wBrR8rU1OzowtcHQ==\\n-----END CERTIFICATE-----\\n\"},\"nonce\":{\"type\":\"Buffer\",\"data\":[170,1,194,195,55,203,216,126,17,51,120,150,116,111,112,249,208,175,81,120,73,162,146,39]}}},\"data\":{.....```","username":"wy","ts":"2017-10-06T03:39:22.118Z"}
{"msg":"0 means success","username":"dave.enyeart","ts":"2017-10-06T03:39:33.994Z"}
{"msg":"0 means valid","username":"dave.enyeart","ts":"2017-10-06T03:39:33.994Z"}
{"msg":"means it is committed?","username":"wy","ts":"2017-10-06T03:39:42.692Z"}
{"msg":"yes, committed as valid","username":"dave.enyeart","ts":"2017-10-06T03:39:50.434Z"}
{"msg":"so the state should have changed?","username":"wy","ts":"2017-10-06T03:40:06.604Z"}
{"msg":"does the write in the transactionEnvelope look correct?  In the prior json it says there was a write for key 507cae7eeae02a085a84165f26ff34e8a69d0261df5548eed47f769fa745d2af","username":"dave.enyeart","ts":"2017-10-06T03:41:42.454Z"}
{"msg":"Yes. Does the write in the transactionEnvelope look correct?  In the prior json it says there was a write for key 507cae7eeae02a085a84165f26ff34e8a69d0261df5548eed47f769fa745d2af","username":"dave.enyeart","ts":"2017-10-06T03:41:42.454Z"}
{"msg":"Upon commit, that key should get updated in state.","username":"dave.enyeart","ts":"2017-10-06T03:43:04.512Z"}
{"msg":"@manish-sethi I stand corrected on the prior comment... PeerLedger.GetTransactionByID() does in fact wrap the transaction data envelope to also include validation code.","username":"dave.enyeart","ts":"2017-10-06T03:47:07.274Z"}
{"msg":"OK, cool","username":"manish-sethi","ts":"2017-10-06T03:47:36.118Z"}
{"msg":"I was looking at the lower level api earlier","username":"dave.enyeart","ts":"2017-10-06T03:47:38.973Z"}
{"msg":"@dave.enyeart i tried the scenario again and got this","username":"wy","ts":"2017-10-06T03:53:29.408Z"}
{"msg":"```2017-10-06 03:52:17.446 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 91827 Block [144] Transaction index [1] TxId [64182f325cd43c8fe50e87c349bbf31cad237df4c669dcc9e27457a9bd340adf] marked as invalid by state validator. Reason code [11]\n2017-10-06 03:52:17.498 UTC [historyleveldb] Commit -> DEBU 91897 Channel [scbcschannel]: Skipping history write for invalid transaction number 1```","username":"wy","ts":"2017-10-06T03:53:34.283Z"}
{"msg":"what is reason code 11?","username":"wy","ts":"2017-10-06T03:53:43.065Z"}
{"msg":"that is MVCC_READ_CONFLICT that I was predicting","username":"dave.enyeart","ts":"2017-10-06T03:54:16.773Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/v1.0.0/protos/peer/transaction.proto#L125","username":"dave.enyeart","ts":"2017-10-06T03:54:17.932Z"}
{"msg":"does that mean that there are 2 conflicting transactions that affect the same state?","username":"wy","ts":"2017-10-06T03:55:17.783Z"}
{"msg":"correct","username":"dave.enyeart","ts":"2017-10-06T03:55:24.341Z"}
{"msg":"thats really odd... ","username":"wy","ts":"2017-10-06T03:55:33.081Z"}
{"msg":"i am only calling once per channel","username":"wy","ts":"2017-10-06T03:55:42.441Z"}
{"msg":"there shouldnt be a conflict in state","username":"wy","ts":"2017-10-06T03:55:48.481Z"}
{"msg":"tran a reads a variable, and that variable has been updated by tran b before tran a validates/commits. ","username":"dave.enyeart","ts":"2017-10-06T03:56:10.686Z"}
{"msg":"Has joined the channel.","username":"Rick","ts":"2017-10-06T04:00:38.179Z","type":"uj"}
{"msg":"@wy - i guess that you need to look again at your workload. Your logs say... 'Block [144]' was it 143 before you ran the latest run? or started from scrach?","username":"manish-sethi","ts":"2017-10-06T04:04:05.841Z"}
{"msg":"@wy - i guess that you need to look again at your workload. Your logs say... 'Block [144]' was it 143 before you ran the latest run? or started from scratch?","username":"manish-sethi","ts":"2017-10-06T04:04:05.841Z"}
{"msg":"@manish-sethi how do i check the latest block number? so that i can make a note before my next run","username":"wy","ts":"2017-10-06T04:11:50.105Z"}
{"msg":"@manish-sethi how do i check the latest block number? so that i can take note before my next run","username":"wy","ts":"2017-10-06T04:11:50.105Z"}
{"msg":"haven't used sdk myself... but there should be a function in node sdk for getting the current height.","username":"manish-sethi","ts":"2017-10-06T04:18:53.384Z"}
{"msg":"https://fabric-sdk-node.github.io/Channel.html#queryInfo","username":"manish-sethi","ts":"2017-10-06T04:19:27.362Z"}
{"msg":"so just to confirm, the flow for every transaction will be like this \n1) propose/endorse\n2) ordering\n3) another validation?","username":"wy","ts":"2017-10-06T04:22:19.552Z"}
{"msg":"or is the 2nd validation done during ordering?","username":"wy","ts":"2017-10-06T04:22:54.598Z"}
{"msg":"not sure what you mean by second validation...","username":"manish-sethi","ts":"2017-10-06T04:25:43.088Z"}
{"msg":"propose endorse / ordering / validation + commit","username":"manish-sethi","ts":"2017-10-06T04:26:13.629Z"}
{"msg":"so this validation + commit is done on the peer level?","username":"wy","ts":"2017-10-06T04:31:02.311Z"}
{"msg":"@manish-sethi so this validation + commit is done on the peer level?","username":"wy","ts":"2017-10-06T04:31:02.311Z"}
{"msg":"sorry for the confusion, i was considering the endorsement as the \"first validation\"","username":"wy","ts":"2017-10-06T04:32:38.563Z"}
{"msg":"Hello everyone. I am using Go chaincodes and want to read files from chaincode. Can anyone let me know how to mount volumes (where files would be placed) in chaincode docker container?","username":"ArnabChatterjee","ts":"2017-10-06T04:55:41.865Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JERiTMiPotWvfNjeq) @ArnabChatterjee set volumes in the docker compose config","username":"wy","ts":"2017-10-06T05:24:38.642Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JERiTMiPotWvfNjeq","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JERiTMiPotWvfNjeq","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@wy - I did that already under every peer image","username":"ArnabChatterjee","ts":"2017-10-06T05:25:33.645Z"}
{"msg":"It does not work that way","username":"ArnabChatterjee","ts":"2017-10-06T05:25:41.028Z"}
{"msg":"even the files and volumes are getting mounted in each peer container, but the chaincode doesn't seem to read it","username":"ArnabChatterjee","ts":"2017-10-06T05:26:13.642Z"}
{"msg":"@wy - any clues?","username":"ArnabChatterjee","ts":"2017-10-06T05:35:34.974Z"}
{"msg":"i havent tried reading files in my chaincodes, but is it possible for you to put the files you need to read in your chaincode folder to see if it works?","username":"wy","ts":"2017-10-06T05:37:04.454Z"}
{"msg":"@wy -　That is exactly what I tried in the first place. But since the deployment didn't upload the files to the chaincode container/peer container, then I tried volume mapping","username":"ArnabChatterjee","ts":"2017-10-06T05:38:20.346Z"}
{"msg":"anyway try asking in #chaincode-dev ","username":"wy","ts":"2017-10-06T05:38:28.659Z"}
{"msg":"but when you did volume mapping, is your chaincode referring to the path in your container?","username":"wy","ts":"2017-10-06T05:39:05.968Z"}
{"msg":"@wy - no its not referring to the path in the peer container. Although the files are correctly uploaded/mapped in the peer container. Btw, Is there any way I can map volumes inside the chaincode container instead of the peer container?","username":"ArnabChatterjee","ts":"2017-10-06T05:40:53.119Z"}
{"msg":"@dave.enyeart @manish-sethi what may be the reasons that can cause Reason Code 10 `ENDORSEMENT_POLICY_FAILURE`?","username":"wy","ts":"2017-10-06T08:00:59.539Z"}
{"msg":"@dave.enyeart @manish-sethi what may be the reasons that can cause Reason Code 10 `ENDORSEMENT_POLICY_FAILURE` during validation/commit?","username":"wy","ts":"2017-10-06T08:00:59.539Z"}
{"msg":"it passed endorsement but failed during validation","username":"wy","ts":"2017-10-06T08:01:42.039Z"}
{"msg":"@wy If you get ENDORSEMENT_POLICY_FAILURE during validation/commit phase then you did not get enough endorsements per the endorsement policy, or the endorsements were based on different chaincode results (which may happen if the peers are at different block heights and they've read keys at different versions).","username":"dave.enyeart","ts":"2017-10-06T11:16:31.358Z"}
{"msg":"@wy If you get ENDORSEMENT_POLICY_FAILURE during validation/commit phase then you did not get enough endorsements per the endorsement policy, or the endorsements were based on different chaincode results (which may happen if the peers are at different block heights at simulation time and they've read keys at different versions).","username":"dave.enyeart","ts":"2017-10-06T11:16:31.358Z"}
{"msg":"The peer logs should contain additional information","username":"dave.enyeart","ts":"2017-10-06T11:16:48.703Z"}
{"msg":"At least if debug level is on","username":"dave.enyeart","ts":"2017-10-06T11:17:07.085Z"}
{"msg":"@dave.enyeart its weird though, when i did a `compareProposalResponseResults` prior to submitting the proposal to the orderer, it returns a `true` value which ","username":"wy","ts":"2017-10-06T12:36:40.466Z"}
{"msg":"@dave.enyeart its weird though, when i did a `compareProposalResponseResults` prior to submitting the proposal to the orderer, it returns a `true` value","username":"wy","ts":"2017-10-06T12:36:40.466Z"}
{"msg":"@wy it does not check the results against the endrosement policy as far as I know, only that results are the same","username":"Vadim","ts":"2017-10-06T12:37:58.018Z"}
{"msg":"im pretty sure that the endorsement policy matches as my endorsement policy is just AND(org1, org2)","username":"wy","ts":"2017-10-06T12:42:20.821Z"}
{"msg":"Has joined the channel.","username":"whoselife","ts":"2017-10-07T15:35:37.192Z","type":"uj"}
{"msg":"Hello everyone. I am using Go chaincodes and want to read files from chaincode. Can anyone let me know how to mount volumes (where files would be placed) in chaincode docker container? Any ideas? Thanks. :)","username":"ArnabChatterjee","ts":"2017-10-08T08:22:55.092Z"}
{"msg":"@dave.enyeart @manish-sethi i see the `orderer/common/ledger` ","username":"asaningmaxchain","ts":"2017-10-09T05:57:32.858Z"}
{"msg":"@dave.enyeart @manish-sethi i see the `orderer/common/ledger` and https://gist.github.com/asaningmaxchain/b70085bac719f865c22875170ad4f683","username":"asaningmaxchain","ts":"2017-10-09T05:57:32.858Z"}
{"msg":"where i get is the orderer node just store the blockNum index","username":"asaningmaxchain","ts":"2017-10-09T05:58:35.749Z"}
{"msg":"where i get is the orderer node just store the blockNum index?","username":"asaningmaxchain","ts":"2017-10-09T05:58:35.749Z"}
{"msg":"@asaningmaxchain Orderer ledger has to be able to retrieve block by number.  Whereas Peer ledger also has other requirements such as retrieve transaction by id.  Therefore Orderer ledger has a subset of the common ledger functions and supporting indexes, and Peer ledger has superset of ledger functions and supporting indexes.  It wasn't clear what your questions was though, hopefully that answered it.","username":"dave.enyeart","ts":"2017-10-09T09:01:32.801Z"}
{"msg":"@dave.enyeart thx,i just want to know how the orderer  store the  block\n","username":"asaningmaxchain","ts":"2017-10-09T09:10:48.596Z"}
{"msg":"Orderer stores the block in the same block storage that peer ledger uses","username":"dave.enyeart","ts":"2017-10-09T09:11:28.095Z"}
{"msg":"Orderer stores the block in the same block storage data structure that peer ledger uses","username":"dave.enyeart","ts":"2017-10-09T09:11:28.095Z"}
{"msg":"Orderer just has fewer supported queries and underlying apis","username":"dave.enyeart","ts":"2017-10-09T09:12:53.564Z"}
{"msg":"Orderer ledger just has fewer supported queries and underlying apis","username":"dave.enyeart","ts":"2017-10-09T09:12:53.564Z"}
{"msg":"Orderer ledger just has fewer supported queries and underlying indexes","username":"dave.enyeart","ts":"2017-10-09T09:12:53.564Z"}
{"msg":"@dave.enyeart thx, i am seeing the orderer ledger","username":"asaningmaxchain","ts":"2017-10-09T09:15:58.752Z"}
{"msg":"@muralisr, can you provide thoughts on this one?","username":"dave.enyeart","ts":"2017-10-09T09:17:35.675Z"}
{"msg":"@muralisr, can you provide thoughts on the following question from @ArnabChatterjee? Is it safe for chaincode to read things from disk?","username":"dave.enyeart","ts":"2017-10-09T09:17:35.675Z"}
{"msg":">Hello everyone. I am using Go chaincodes and want to read files from chaincode. Can anyone let me know how to mount volumes (where files would be placed) in chaincode docker container? Any ideas? Thanks. :)","username":"dave.enyeart","ts":"2017-10-09T09:17:42.278Z"}
{"msg":"Has joined the channel.","username":"jichen","ts":"2017-10-09T09:17:42.719Z","type":"uj"}
{"msg":"@dave.enyeart @ArnabChatterjee that would be an antipattern in general (an alternate persistent state to the ledger, potential global data leakage across channels, etc).... better approach would be to store data as state","username":"muralisr","ts":"2017-10-09T11:04:13.053Z"}
{"msg":"but if you do want to break those rules for good reasons, fabric samples have many examples of mounting volumes (e.g., yaml files under examples/e2e_cli)","username":"muralisr","ts":"2017-10-09T11:05:55.458Z"}
{"msg":"@muralisr @dave.enyeart - Thanks for pointing that out. I will consider that. But I was trying to mount the volumes using the examples in e2e_cli but that works in dev mode where the chaincode is running directly from the OS volume. Is there any alternative where the chaincode would run in a separate docker container (as in fabric-samples/balance-transfer example) ? Thanks for your support. :)","username":"ArnabChatterjee","ts":"2017-10-09T14:07:19.220Z"}
{"msg":"Has joined the channel.","username":"lmars","ts":"2017-10-10T15:51:03.373Z","type":"uj"}
{"msg":"@dave.enyeart @mastersingh24 I had a chat with @manish-sethi about the following pairs of shim APIs:\n- CreateCompositeKey()\n- GetStateByPartialCompositeKey()\n\nhe was suggesting that these are not providing enough value over having the app construct the keys directly and use GetStateByRange() to query, and suggest removing them. Now regardless of what we should do with v1.1 golang shim, I think we should consider not offering these APIs in node.js chaincode shim. can I get you guys to weigh in on this? @sstone1 @davidkel what's your opinion from Composer's point of view?","username":"jimthematrix","ts":"2017-10-10T19:10:15.008Z"}
{"msg":"@dave.enyeart @mastersingh24 I had a chat with @manish-sethi about the following pairs of shim APIs:\n- CreateCompositeKey()\n- GetStateByPartialCompositeKey()\n\nhe was suggesting that these are not providing enough value over having the app construct the keys directly and use GetStateByRange() to query, and suggest removing them. Now regardless of what we should do with v1.1 golang shim, I think we should consider not offering these APIs in node.js chaincode shim (they have been implemented already). can I get you guys to weigh in on this? @sstone1 @davidkel what's your opinion from Composer's point of view?","username":"jimthematrix","ts":"2017-10-10T19:10:15.008Z"}
{"msg":"Has joined the channel.","username":"davidkel","ts":"2017-10-10T19:10:15.108Z","type":"uj"}
{"msg":"@jimthematrix @manish-sethi It is true that strictly speaking applications could do this on their own with GetStateByRange().  CreateCompositeKey() and GetStateByPartialCompositeKey() are simply utility methods to make this pattern simple for applications.  Getting the separator characters correct so that you receive the exact expected results back from the range query is not trivial however.  For example when querying for Jim's marbles ensuring that you don't also get back Jimmy's marbles.  It took us a few tries to get this exactly correct.  I'm not seeing a reason to remove these utility APIs and pushing that burden onto applications.  I've advised many people how to use these APIs to solve their query use cases - it is a common query pattern. That advise would be an order of magnitude more complex if we didn't have these utility APIs.","username":"dave.enyeart","ts":"2017-10-10T19:38:30.335Z"}
{"msg":"@jimthematrix @manish-sethi It is true that strictly speaking applications could do this on their own with GetStateByRange().  CreateCompositeKey() and GetStateByPartialCompositeKey() are simply utility methods to make this pattern simple for applications.  Getting the separator characters correct so that you receive the exact expected results back from the range query is not trivial however.  For example when querying for Jim's marbles ensuring that you don't also get back Jimmy's marbles, and ensuring that you don't have collisions across simple and composite namespaces.  It took us a few tries to get this exactly correct.  I'm not seeing a reason to remove these utility APIs and pushing that burden onto applications.  I've advised many people how to use these APIs to solve their query use cases - it is a common query pattern. That advise would be an order of magnitude more complex if we didn't have these utility APIs.","username":"dave.enyeart","ts":"2017-10-10T19:38:30.335Z"}
{"msg":"i know i'm not a part of this conversation but from a developer perspective i definitely found value in using composite keys while writing chaincode in go and would like them to be kept as utility functions in the shim in v1.1","username":"jrosmith","ts":"2017-10-10T19:49:54.322Z"}
{"msg":"@dave.enyeart thanks for the input, will keep them then. writing API doc for the node.js chaincode APIs. will ask you (and @manish-sethi ) for review once they get uploaded to CR","username":"jimthematrix","ts":"2017-10-11T02:22:41.006Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=foZRxJ4j9PPhQzKvT) @manish-sethi  @qizhang , Thank you both for the response.  So with each node doing their own validation, if for some reason the blocks are not up-to-date, is there some recommended action to get the ledger-up-to-date, or is there something within the fabric itself which helps keep nodes which sporadically go offline in -sync?  I'm thinking in this case where you may have a node which loses network connectivity for a period of time or perhaps there is a DDOS attack.  Thanks again!","username":"tennenjl","ts":"2017-10-11T02:42:22.657Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=foZRxJ4j9PPhQzKvT","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=foZRxJ4j9PPhQzKvT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=foZRxJ4j9PPhQzKvT) @manish-sethi  @qizhang , Thank you both for the response.  So with each node doing their own validation, if for some reason the blocks are not up-to-date, is there some recommended action to get the ledger-up-to-date, or is there something within the fabric itself which helps keep nodes which may go offline in -sync?  I'm thinking in this case where you may have a node which loses network connectivity for a period of time or perhaps there is a DDOS attack.  Thanks again!","username":"tennenjl","ts":"2017-10-11T02:42:22.657Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=foZRxJ4j9PPhQzKvT","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=foZRxJ4j9PPhQzKvT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"amolpednekar","ts":"2017-10-11T05:16:51.000Z","type":"uj"}
{"msg":"@tennenjl I did not understand your scenario well. A peer validates and commits block number `n` only on top of `n+1`. It's a sequential processing of blocks.","username":"manish-sethi","ts":"2017-10-11T12:34:43.383Z"}
{"msg":"@tennenjl I did not understand your scenario well. A peer validates and commits block number `n` only on top of `n-1`. It's a sequential processing of blocks.","username":"manish-sethi","ts":"2017-10-11T12:34:43.383Z"}
{"msg":"@manish-sethi , Thanks, so if a peer is off line, when block number n is broadcast to the peer, when it comes on line, how does the gossip protocol receive block number n before receiving n+1?  Is it a pull or push?  Thanks!","username":"tennenjl","ts":"2017-10-11T13:46:25.359Z"}
{"msg":"@manish-sethi , Thanks, so if a peer is off line, when block number n is broadcast to the peer, when it comes on line, It does a sync by pulling the latest blocks using gossip?  Thanks!","username":"tennenjl","ts":"2017-10-11T13:46:25.359Z"}
{"msg":"yes, peers are always trying to get the next blocks in sequence.  it may pull from ordering service or by state transfer from other peers.","username":"dave.enyeart","ts":"2017-10-11T14:18:05.474Z"}
{"msg":"yes, peers are always trying to get the next blocks in sequence.  it may pull from ordering service or from other peers.","username":"dave.enyeart","ts":"2017-10-11T14:18:05.474Z"}
{"msg":"yes, peers are always trying to get the next blocks in sequence.  it may pull blocks from ordering service or from other peers.","username":"dave.enyeart","ts":"2017-10-11T14:18:05.474Z"}
{"msg":"yes, a peer is always trying to get the next blocks in sequence, regardless of how long it was done.  it may pull blocks from ordering service or from other peers.","username":"dave.enyeart","ts":"2017-10-11T14:18:05.474Z"}
{"msg":"yes, a peer is always trying to get the next blocks in sequence, regardless of how long it was down.  it may pull blocks from ordering service or from other peers.","username":"dave.enyeart","ts":"2017-10-11T14:18:05.474Z"}
{"msg":"@dave.enyeart Many thanks.  Does only the leader peer pull blocks from the ordering service and is the leader peer randomly selected?  ","username":"tennenjl","ts":"2017-10-11T14:32:37.694Z"}
{"msg":"for this next level of detail you'd have to ask in #fabric-gossip ","username":"dave.enyeart","ts":"2017-10-11T14:33:07.474Z"}
{"msg":"i believe so, but for this next level of detail you'd have to ask the experts in #fabric-gossip ","username":"dave.enyeart","ts":"2017-10-11T14:33:07.474Z"}
{"msg":"@dave.enyeart Thank you!","username":"tennenjl","ts":"2017-10-11T14:36:32.154Z"}
{"msg":"Hi, I ran into the following error when creating a Fabric network with Kafka, please advise. Thanks!","username":"qizhang","ts":"2017-10-11T16:09:59.968Z"}
{"msg":"```[2017-10-11 16:06:26,228] ERROR [Replica Manager on Broker 0]: Error processing append operation on partition [testchainid,0] (kafka.server.ReplicaManager)\nkafka.common.NotEnoughReplicasException: Number of insync replicas for partition [testchainid,0] is [1], below required minimum [2]\n\tat kafka.cluster.Partition$$anonfun$9.apply(Partition.scala:438)\n\tat kafka.cluster.Partition$$anonfun$9.apply(Partition.scala:428)\n\tat kafka.utils.CoreUtils$.inLock(CoreUtils.scala:262)\n\tat kafka.utils.CoreUtils$.inReadLock(CoreUtils.scala:268)\n\tat kafka.cluster.Partition.appendMessagesToLeader(Partition.scala:428)\n\tat kafka.server.ReplicaManager$$anonfun$appendToLocalLog$2.apply(ReplicaManager.scala:401)\n\tat kafka.server.ReplicaManager$$anonfun$appendToLocalLog$2.apply(ReplicaManager.scala:386)\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:245)\n\tat scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:245)\n\tat scala.collection.mutable.HashMap$$anonfun$foreach$1.apply(HashMap.scala:99)\n\tat scala.collection.mutable.HashMap$$anonfun$foreach$1.apply(HashMap.scala:99)\n\tat scala.collection.mutable.HashTable$class.foreachEntry(HashTable.scala:230)\n\tat scala.collection.mutable.HashMap.foreachEntry(HashMap.scala:40)\n\tat scala.collection.mutable.HashMap.foreach(HashMap.scala:99)\n\tat scala.collection.TraversableLike$class.map(TraversableLike.scala:245)\n\tat scala.collection.AbstractTraversable.map(Traversable.scala:104)\n\tat kafka.server.ReplicaManager.appendToLocalLog(ReplicaManager.scala:386)\n\tat kafka.server.ReplicaManager.appendMessages(ReplicaManager.scala:322)\n\tat kafka.server.KafkaApis.handleProducerRequest(KafkaApis.scala:365)\n\tat kafka.server.KafkaApis.handle(KafkaApis.scala:68)\n\tat kafka.server.KafkaRequestHandler.run(KafkaRequestHandler.scala:60)\n\tat java.lang.Thread.run(Thread.java:785)```","username":"qizhang","ts":"2017-10-11T16:10:28.295Z"}
{"msg":"Hey all, is the network ID used for anything other than logging?","username":"Asara","ts":"2017-10-11T18:27:31.491Z"}
{"msg":"@Asara yeah it's used to name the chaincode container","username":"yacovm","ts":"2017-10-11T20:20:08.114Z"}
{"msg":"Has joined the channel.","username":"baramustafa","ts":"2017-10-11T22:30:20.934Z","type":"uj"}
{"msg":"@qizhang Please post kafka questions over on #fabric-orderer , the folks that hang out over there should know","username":"dave.enyeart","ts":"2017-10-11T22:47:10.160Z"}
{"msg":"Has joined the channel.","username":"SanketPanchamia","ts":"2017-10-12T06:13:59.795Z","type":"uj"}
{"msg":"I have a question on couchDB. I am using the node sdk app for using the HL fabric and want to ask if there is a way to protect the couchdb instances with a username and password. I tried using environment variables COUCHDB_USER and COUCHDB_PASSWORD but then my peer service didnt . Any help will e appreciated.","username":"SanketPanchamia","ts":"2017-10-12T06:15:40.623Z"}
{"msg":"@SanketPanchamia If you set the couchdb user and password, you also have to tell the peer what the user and password are.  Instructions can be found here: https://hyperledger-fabric.readthedocs.io/en/latest/ledger.html#couchdb-configuration","username":"dave.enyeart","ts":"2017-10-12T09:03:06.817Z"}
{"msg":"and example here: https://github.com/hyperledger/fabric-samples/blob/release/first-network/docker-compose-couch.yaml#L34","username":"dave.enyeart","ts":"2017-10-12T09:03:46.531Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=R97Qm4mEhEbDWFSEB) @dave.enyeart Thanks Dave. Will have a look and see.","username":"SanketPanchamia","ts":"2017-10-12T09:04:55.783Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=R97Qm4mEhEbDWFSEB","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=R97Qm4mEhEbDWFSEB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"cs-wang","ts":"2017-10-12T11:05:18.680Z","type":"uj"}
{"msg":"","username":"cs-wang","ts":"2017-10-12T11:09:42.994Z","attachments":[{"type":"file","title":"error_of_config_update.txt","title_link":"/file-upload/M7WWD3chGun8HerPp/error_of_config_update.txt","url":"/file-upload/M7WWD3chGun8HerPp/error_of_config_update.txt","remote":false,"fileId":"M7WWD3chGun8HerPp","fileName":"error_of_config_update.txt"}]}
{"msg":"Has joined the channel.","username":"minollo","ts":"2017-10-13T01:57:08.102Z","type":"uj"}
{"msg":"Has joined the channel.","username":"changrui","ts":"2017-10-13T03:44:44.547Z","type":"uj"}
{"msg":"Hi all, I'm a freshman about fabric. I have a question: Since we can use couchDB as state database, can we also add mysql(or other rdbms) as state database easily?","username":"changrui","ts":"2017-10-13T03:51:58.447Z"}
{"msg":"@changrui At this point not easily since the existing chaincode programming model is based on key/value store with APIs like PutState() and GetState().  But there are some people looking into a SQL based programming model which would then enable relational data stores as state database.  Nothing in the core architecture prevents this.","username":"dave.enyeart","ts":"2017-10-13T10:50:50.757Z"}
{"msg":"Hi guys, if I want to get list of transaction history for each of particular wallet. how can I achieve this?","username":"Jonny","ts":"2017-10-16T10:00:29.440Z"}
{"msg":"See chaincode API GetHistoryForKey():  https://github.com/hyperledger/fabric/blob/release/core/chaincode/shim/interfaces.go#L152-L164","username":"dave.enyeart","ts":"2017-10-16T10:22:03.424Z"}
{"msg":"@Jonny See chaincode API GetHistoryForKey():  https://github.com/hyperledger/fabric/blob/release/core/chaincode/shim/interfaces.go#L152-L164","username":"dave.enyeart","ts":"2017-10-16T10:22:03.424Z"}
{"msg":"thanks @dave.enyeart. I will try to understand the method.","username":"Jonny","ts":"2017-10-16T10:50:15.972Z"}
{"msg":"@dave.enyeart can I safely say that key here is the id for the particular wallet/user that I want to get the transaction history?","username":"Jonny","ts":"2017-10-16T10:52:52.040Z"}
{"msg":"If that so, how can I handle the pagination the result?","username":"Jonny","ts":"2017-10-16T10:53:11.291Z"}
{"msg":"@Jonny  It all depends on how your chaincode is designed.  Assuming your chaincode is designed such that a state key is a particular waller/user, then yes, GetHistoryForKey() will return the history of transactions and values for that wallet/user.","username":"dave.enyeart","ts":"2017-10-16T10:57:28.610Z"}
{"msg":"You can next() through those results, see example at https://github.com/hyperledger/fabric/blob/release/examples/chaincode/go/marbles02/marbles_chaincode.go#L574-L621","username":"dave.enyeart","ts":"2017-10-16T10:57:41.656Z"}
{"msg":"You can return a paged list in your chaincode if you like","username":"dave.enyeart","ts":"2017-10-16T10:58:06.767Z"}
{"msg":"Thank you very much @dave.enyeart.  It's clear for me now.","username":"Jonny","ts":"2017-10-16T10:59:58.082Z"}
{"msg":"Really appreciate you help!","username":"Jonny","ts":"2017-10-16T11:00:27.655Z"}
{"msg":"Really appreciate your help!","username":"Jonny","ts":"2017-10-16T11:00:27.655Z"}
{"msg":"@dave.enyeart Sorry, I just notice that resultsIterator.Next() is looping thru the result. How about the result is too big. Is there any way to get only first 20 for example. then I call again to get next 20 for proper pagination.","username":"Jonny","ts":"2017-10-16T11:10:46.672Z"}
{"msg":"@Jonny No paging support within the internal API at this time.  There is intent to add in the future.  For now you can do paging at the chaincode level so that you return paged results to the client.","username":"dave.enyeart","ts":"2017-10-16T11:39:20.738Z"}
{"msg":"I have no clue how to implement it at the chaincode level. Can you show me how can I achieve this?","username":"Jonny","ts":"2017-10-16T11:46:27.288Z"}
{"msg":"In the example at https://github.com/hyperledger/fabric/blob/release/examples/chaincode/go/marbles02/marbles_chaincode.go#L574-L621 all history records are returned.  You could have a similar chaincode function that takes a page number and page count as input, and returns a corresponding subset of the history records.","username":"dave.enyeart","ts":"2017-10-16T13:00:56.213Z"}
{"msg":"Has joined the channel.","username":"thakkarparth007","ts":"2017-10-16T19:34:07.390Z","type":"uj"}
{"msg":"@minollo moving your discussion to this channel.. which is more relevant\nhttps://chat.hyperledger.org/channel/fabric-peer-endorser-committer?msg=KkuEaEE6MxwA6Qcnp\n\nTo summarize the discussion, your observation is absolutely correct that long running simulation can block the commit for a long time and which in turn could increase the transaction invalidation rate during future commits. However, as @muralisr pointed out most of the workload is expected to be of fairly short-lived simulation. \n\nHaving said that, as I stated earlier, we intend to work on snapshot based isolation for simulation(s) and commit. \n\nIn between, if you are having a practical application in mind that requires a long running simulations and you want to share the details of that or you have any empirical observations on performance in the context of long running simulations that you want to share, it would certainly be helpful.","username":"manish-sethi","ts":"2017-10-16T19:56:18.045Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-peer-endorser-committer?msg=KkuEaEE6MxwA6Qcnp","url":"https://chat.hyperledger.org/channel/fabric-peer-endorser-committer?msg=KkuEaEE6MxwA6Qcnp","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"rohitadivi","ts":"2017-10-16T21:43:20.594Z","type":"uj"}
{"msg":"hi, can i use protobuf in the chaincode?","username":"bh4rtp","ts":"2017-10-18T08:06:15.518Z"}
{"msg":"@bh4rtp  Yes, you can. you need to improve the fabric-ccenv image to include protobuf:\n`1.docker pull hyperledger/fabric-ccenv:x86_64-1.0.2\n2.docker run -it <IMAGEID> bash\n3.go get github.com/golang/protobuf\n4.docker commit <CONTAINERID> nameyoulike/fabric-ccenv:x86_64-1.0.2`\n","username":"shanlusun","ts":"2017-10-18T09:55:08.678Z"}
{"msg":"If you like, I already did this for `fabric-ccenv:x86_64-1.0.2` , you can: docker pull sunnys/fabric-ccenv:x86_64-1.0.2","username":"shanlusun","ts":"2017-10-18T09:56:29.401Z"}
{"msg":"@shanlusun won't vendoring the protobuf lib be an easier solution?","username":"Vadim","ts":"2017-10-18T09:58:09.983Z"}
{"msg":"@Vadim No, because the chaincode is built inside fabric-ccenv","username":"shanlusun","ts":"2017-10-18T09:59:46.826Z"}
{"msg":"yes, but you can add the protobuf to vendor folder and then you will have protobuf support in your chaincode, no?","username":"Vadim","ts":"2017-10-18T10:00:30.311Z"}
{"msg":"since it's copied along with the chaincode, it will end up in the ccenv container","username":"Vadim","ts":"2017-10-18T10:01:03.004Z"}
{"msg":"That depends on how fabric install chaincode for peer,right ?","username":"shanlusun","ts":"2017-10-18T10:01:36.346Z"}
{"msg":"For my understanding the vendor folder will not go with chaincode when we install chaincode to peer.","username":"shanlusun","ts":"2017-10-18T10:02:07.687Z"}
{"msg":"@shanlusun it does go","username":"Vadim","ts":"2017-10-18T10:02:35.075Z"}
{"msg":"So where we put the vendor folder when we install chaincode ?","username":"shanlusun","ts":"2017-10-18T10:04:20.293Z"}
{"msg":"@shanlusun it's in the chaincode/vendor","username":"Vadim","ts":"2017-10-18T10:16:36.326Z"}
{"msg":"@shanlusun it's in the your_chaincode_folder/vendor","username":"Vadim","ts":"2017-10-18T10:16:36.326Z"}
{"msg":"standard golang vendoring","username":"Vadim","ts":"2017-10-18T10:16:43.322Z"}
{"msg":"@shanlusun yes, @Vadim is right. i just found protobuf in `/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/golang`. and `protoc` can be used in fabric-ccenv container.","username":"bh4rtp","ts":"2017-10-18T10:17:15.253Z"}
{"msg":"@bh4rtp ccenv does not contain it, but you can include it yourself","username":"Vadim","ts":"2017-10-18T10:17:49.536Z"}
{"msg":"@Vadim it does contain protobuf in version 1.1.0. :slight_smile: ","username":"bh4rtp","ts":"2017-10-18T10:19:04.178Z"}
{"msg":"@bh4rtp  Yes, I did quick check, protobuf is in `/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/golang`","username":"shanlusun","ts":"2017-10-18T10:19:38.001Z"}
{"msg":"ok, but you might need some other libraries and you can include them  using vendoring","username":"Vadim","ts":"2017-10-18T10:19:45.112Z"}
{"msg":"protoc can be used in container ccenv.","username":"bh4rtp","ts":"2017-10-18T10:20:46.701Z"}
{"msg":"@Vadim  this helps, will try next time, I think I should put vendor folder under the same path with chaincode.go, right ?","username":"shanlusun","ts":"2017-10-18T10:20:55.543Z"}
{"msg":"So the path(has both chaincode.go and vendor) will be used to install chaincode later","username":"shanlusun","ts":"2017-10-18T10:21:38.594Z"}
{"msg":"so you have yourchaincode/chaincode.go, you put some external lib which is not in ccenv in yourchaincode/vendor/lib","username":"Vadim","ts":"2017-10-18T10:21:47.971Z"}
{"msg":"you can also use govendor to manage dependencies","username":"Vadim","ts":"2017-10-18T10:22:00.081Z"}
{"msg":"Got it","username":"shanlusun","ts":"2017-10-18T10:22:00.737Z"}
{"msg":"also, https://www.youtube.com/watch?v=-mlUaJbFHcM","username":"Vadim","ts":"2017-10-18T10:22:38.320Z"}
{"msg":"@Vadim Thanks a lot~ :)","username":"shanlusun","ts":"2017-10-18T10:24:05.557Z"}
{"msg":"@Vadim Thanks a lot too","username":"bh4rtp","ts":"2017-10-18T10:24:44.369Z"}
{"msg":"no problem","username":"Vadim","ts":"2017-10-18T10:24:53.082Z"}
{"msg":"Hi everyone, I got some problem with changing the block size, please advise. When I increase the `MaxMessageCount` from 10 to 100, I can see the block size increases also from 10 tx/block to 100 tx/block. However, when I further increase the `MaxMessageCount` from 100 to 200, the block size only increases to 104 tx/block, and it stays the same even when I increase the `BatchTimeout` from 2s to 5s. BTW, I am using a client that sends 600 tx/sec to the Fabric, so I think the tx rate from the client should be high enough to create blocks with 200 tx/block.","username":"qizhang","ts":"2017-10-18T15:12:01.304Z"}
{"msg":"@qizhang I thought BatchSize is responsible for block size","username":"Vadim","ts":"2017-10-18T15:13:42.490Z"}
{"msg":"Perhaps AbsoluteMaxBytes or PreferredMaxBytes are having an influence","username":"dave.enyeart","ts":"2017-10-18T15:14:11.503Z"}
{"msg":"```# Batch Timeout: The amount of time to wait before creating a batch\n    BatchTimeout: 4s\n\n    # Batch Size: Controls the number of messages batched into a block\n    BatchSize:\n\n        # Max Message Count: The maximum number of messages to permit in a batch\n        MaxMessageCount: 200\n\n        # Absolute Max Bytes: The absolute maximum number of bytes allowed for\n        # the serialized messages in a batch.\n        AbsoluteMaxBytes: 99 MB\n\n        # Preferred Max Bytes: The preferred maximum number of bytes allowed for\n        # the serialized messages in a batch. A message larger than the preferred\n        # max bytes will result in a batch larger than preferred max bytes.\n        PreferredMaxBytes: 512 KB```","username":"qizhang","ts":"2017-10-18T15:14:52.058Z"}
{"msg":"Please move discussion to #fabric-orderer ","username":"dave.enyeart","ts":"2017-10-18T15:15:08.364Z"}
{"msg":"that is where blocks are cut","username":"dave.enyeart","ts":"2017-10-18T15:15:12.407Z"}
{"msg":"Sure, thanks @dave.enyeart ","username":"qizhang","ts":"2017-10-18T15:15:49.872Z"}
{"msg":"Anyone has tried the master version of Fabric? I can no longer see the message `Channel [%s]: Created block [%d] with %d transaction(s)` from the peer log, why is that?","username":"qizhang","ts":"2017-10-18T18:54:07.073Z"}
{"msg":"Anyone has tried the master version of Fabric? I can no longer see the message `Channel [%s]: Created block [%d] with %d transaction(s)` from the peer log, why is that? I was able to see it in Fabric v1.0.3","username":"qizhang","ts":"2017-10-18T18:54:07.073Z"}
{"msg":"Has joined the channel.","username":"bamboo","ts":"2017-10-19T12:16:20.146Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kostas","ts":"2017-10-19T14:31:50.115Z","type":"uj"}
{"msg":"Before I suggest this as a solution to someone: my own very rough and quick testing shows that you can remove the \"index\" directory that hosts the LevelDB index and it will be rebuilt when you restart the orderer binary. Is that indeed the case? Anything that I'm missing, or any reasons not to do that?","username":"kostas","ts":"2017-10-19T14:35:57.862Z"}
{"msg":"(For context: a user is experiencing an issue where a hacky solution would be to have them delete all blocks from the orderer ledger directory for their channel besides the first one. But if they were to do that, the LevelDB index would be off.)","username":"kostas","ts":"2017-10-19T14:36:52.483Z"}
{"msg":"^^ @manish-sethi @dave.enyeart ","username":"kostas","ts":"2017-10-19T14:37:06.489Z"}
{"msg":"@kostas, yes your observation is correct. You can drop the index and it get rebuilt on next start.","username":"manish-sethi","ts":"2017-10-19T14:39:37.649Z"}
{"msg":"Awesome, thanks @manish-sethi ","username":"kostas","ts":"2017-10-19T14:39:48.875Z"}
{"msg":"@Vadim i do vendoring as you instructed, put `github.com/golang/protobuf/proto` to mychaincode/vendor. and got this error:\n```container_linux.go:247: starting container process caused \"exec: \\\"chaincode\\\": executable file not found in $PATH\"```","username":"bh4rtp","ts":"2017-10-20T01:14:08.618Z"}
{"msg":"@Vadim i do vendoring as you instructed, put `github.com/golang/protobuf/proto` to mychaincode/vendor. and got this error when instantiating chaincode:\n```container_linux.go:247: starting container process caused \"exec: \\\"chaincode\\\": executable file not found in $PATH\"```","username":"bh4rtp","ts":"2017-10-20T01:14:08.618Z"}
{"msg":"i found the reason, chaincode package not defined with `main`.","username":"bh4rtp","ts":"2017-10-20T02:44:02.630Z"}
{"msg":"Hi. I need to know if there is a way to share some data (key->value pair kind) across channels?\nWithout adopting weird and costly workarounds","username":"gen_el","ts":"2017-10-20T12:04:44.554Z"}
{"msg":"^ Let's delete this now please since it was posted and answered in #fabric ?","username":"kostas","ts":"2017-10-20T12:07:46.276Z"}
{"msg":"^ Let's delete this now since it was posted and answered in #fabric ?","username":"kostas","ts":"2017-10-20T12:07:46.276Z"}
{"msg":"hi, must i store json string as value into couchdb? can i replace it with protobuf bytes?","username":"bh4rtp","ts":"2017-10-21T00:14:30.570Z"}
{"msg":"i found `chaincode` occupied 52.3% memory. does it mean chaincode has memory leak?","username":"bh4rtp","ts":"2017-10-21T03:19:51.802Z"}
{"msg":"@bh4rtp not an authoritative answer, but I don't think you have that restriction. Non JSON data gets stored as attachments in couchdb  [ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=wYAEizHSPktJ8WMXR) @bh4rtp ","username":"thakkarparth007","ts":"2017-10-21T08:04:41.641Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wYAEizHSPktJ8WMXR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wYAEizHSPktJ8WMXR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@thakkarparth007 but selector can not be used.","username":"bh4rtp","ts":"2017-10-21T09:26:33.256Z"}
{"msg":"how to fix this error?\n```error executing chaincode: failed to execute transaction: timeout expired while executing transaction```\nthere is no error log from chaincode container side.","username":"bh4rtp","ts":"2017-10-21T10:06:19.232Z"}
{"msg":"http://hyperledger-fabric.readthedocs.io/en/latest/logging-control.html\n\"CORE_VM_DOCKER_ATTACHSTDOUT=true\"\n\n[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=pukReFBaF8ybFpCmw) @bh4rtp ","username":"thakkarparth007","ts":"2017-10-21T10:15:48.860Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pukReFBaF8ybFpCmw","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pukReFBaF8ybFpCmw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=unvjh7jWTF6cPedsQ) @bh4rtp Not very familiar with this part.","username":"thakkarparth007","ts":"2017-10-21T10:16:08.555Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=unvjh7jWTF6cPedsQ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=unvjh7jWTF6cPedsQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi everyone, I got following messages from peer log, what could go wrong?","username":"qizhang","ts":"2017-10-23T19:22:15.233Z"}
{"msg":"```peer1.org7.example.com    | 2017-10-23 19:14:48.555 UTC [gossip/state] queueNewMessage -> WARN 461 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1289\npeer1.org7.example.com    | 2017-10-23 19:14:48.555 UTC [gossip/state] queueNewMessage -> WARN 462 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1288\npeer1.org7.example.com    | 2017-10-23 19:14:48.555 UTC [gossip/state] queueNewMessage -> WARN 463 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1287\npeer1.org7.example.com    | 2017-10-23 19:14:48.556 UTC [gossip/state] queueNewMessage -> WARN 464 Failed adding payload: Ledger height is at 628, cannot enqueue block with sequence of 1290\npeer0.org2.example.com    | 2017-10-23 19:14:48.607 UTC [gossip/state] queueNewMessage -> WARN 44b Failed adding payload: Ledger height is at 696, cannot enqueue block with sequence of 1302\npeer0.org2.example.com    | 2017-10-23 19:14:48.609 UTC [gossip/state] queueNewMessage -> WARN 44c Failed adding payload: Ledger height is at 696, cannot enqueue block with sequence of 1304\npeer0.org2.example.com    | 2017-10-23 19:14:48.609 UTC [gossip/state] queueNewMessage -> WARN 44d Failed adding payload: Ledger height is at 696, cannot enqueue block with sequence of 1303```","username":"qizhang","ts":"2017-10-23T19:22:31.976Z"}
{"msg":"@qizhang As those messages are from gossip, please post to #fabric-gossip ","username":"dave.enyeart","ts":"2017-10-23T19:36:16.658Z"}
{"msg":"I'm planning to work on creating a \"non locking transaction manager\" implementation of txmgr.TxMgr (as opposed to the lock based one currently available) for experimenting storing the state on a database which supports transactions (and snapshot isolation level); has there been/is there any work in that area? Or am I just starting from scratch?","username":"minollo","ts":"2017-10-24T16:31:21.710Z"}
{"msg":"Has joined the channel.","username":"ConConCop","ts":"2017-10-24T17:12:30.315Z","type":"uj"}
{"msg":"@minollo Nothing exists yet, but I know that @manish-sethi has been thinking about design options.  I'd suggest pass your ideas by Manish.","username":"dave.enyeart","ts":"2017-10-24T17:12:32.234Z"}
{"msg":"Can I use MongoDB or Mysql store state database instead of CouchDB, LevelDB ?","username":"ConConCop","ts":"2017-10-24T17:20:31.879Z"}
{"msg":"@minollo - unless you have any specific implementation in mind, I would encourage if you can implement this by leveraging the snapshot feature of leveldb and measure the initial performance benefits.","username":"manish-sethi","ts":"2017-10-24T19:29:32.077Z"}
{"msg":"@ConConCop Chaincode programming model is based on key/value data model, therefore the state database needs to be key/value (or key/document where the 'document' can be considered the 'value).  You can plug in other implementations for the key/value statedb interface, mongodb would be a good choice.","username":"dave.enyeart","ts":"2017-10-24T20:25:44.067Z"}
{"msg":"@ConConCop Chaincode programming model is based on key/value data model, therefore the state database needs to be key/value (or key/document where the 'document' can be considered the 'value).  You can plug in other implementations for the key/value statedb interface, mongodb would be a good choice and look very similar to the couchdb impl.","username":"dave.enyeart","ts":"2017-10-24T20:25:44.067Z"}
{"msg":"@ConConCop Chaincode programming model is based on key/value data model, therefore the state database needs to be key/value (or key/document where the 'document' can be considered the 'value).  You can plug in other implementations for the key/value statedb interface, mongodb would be a good choice and would look very similar to the couchdb impl.","username":"dave.enyeart","ts":"2017-10-24T20:25:44.067Z"}
{"msg":"Relational would require a SQL-based programming model.  There is no support for this, but it would be possible in the future to add a SQL-based model.  The transaction 'results' in the block would be different, but the general architecture, block structure, consensus model, etc would not change.","username":"dave.enyeart","ts":"2017-10-24T20:28:23.626Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=YjvtXkNZb3au6if9D) @dave.enyeart There are ways to model key/value pairs in a relational database; it may (will) be less efficient than using a native key/value store, but it's surely possible to do it even keeping the current approach.","username":"minollo","ts":"2017-10-24T22:31:07.441Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YjvtXkNZb3au6if9D","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YjvtXkNZb3au6if9D","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=dStEK6fGG9cSNyk24) @manish-sethi I think I will actually use Berkeley DB - which I also expect to be faster than LevelDB in general; and it does support transactions and snapshot isolation levels.","username":"minollo","ts":"2017-10-24T22:31:58.705Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dStEK6fGG9cSNyk24","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dStEK6fGG9cSNyk24","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thank @dave.enyeart , can you direct basic me how to implement mongoDB ?","username":"ConConCop","ts":"2017-10-25T00:31:31.201Z"}
{"msg":"@ConConCop You would follow the precedent of state couchdb: https://github.com/hyperledger/fabric/tree/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb","username":"dave.enyeart","ts":"2017-10-25T00:33:42.350Z"}
{"msg":"which implements the VersionedDB (state db) interface: https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statedb.go","username":"dave.enyeart","ts":"2017-10-25T00:35:15.735Z"}
{"msg":"ok, thank you :relaxed: ","username":"ConConCop","ts":"2017-10-25T03:02:14.312Z"}
{"msg":"Has joined the channel.","username":"indira.kalagara","ts":"2017-10-25T13:06:28.179Z","type":"uj"}
{"msg":"@minollo yes, sure - as you feel comfortable. As a first step, you may like to integrate BDB under the current transaction manager (which should be simpler I believe and will iron out the integration issues for you). Then you can implement snapshot based approach using DBD's snapshots - This would also give us an apple to apple comparison of locking vs snapshotting benefits.\n\nOne of the decisions you would have to make is whether we should have a separate db for each channel or a shared db across channel. While the former approach has immense benefits (if possible with DBD), it was not easy to have 1000s of separate leveldbs because of combined resource requirements - primarily memory demand and number of open files etc.","username":"manish-sethi","ts":"2017-10-25T14:28:30.249Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ckXz5BDB7Wp9Whq2n) @manish-sethi Thanks; all good hints.","username":"minollo","ts":"2017-10-25T14:35:21.478Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ckXz5BDB7Wp9Whq2n","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ckXz5BDB7Wp9Whq2n","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@minollo have you created a JIRA task for that?","username":"grapebaba","ts":"2017-10-26T04:40:24.002Z"}
{"msg":"@grapebaba No; mostly experimenting and POC-ing around at this point. But I'll report back my findings.","username":"minollo","ts":"2017-10-26T04:42:30.375Z"}
{"msg":"k","username":"grapebaba","ts":"2017-10-26T04:45:03.257Z"}
{"msg":"hi, the `json` value state retrieved from `couchdb` is sorted by alphabetic order according to json keys. how to avoid the sorting?","username":"bh4rtp","ts":"2017-10-26T06:38:16.662Z"}
{"msg":"hi, the `json` value state retrieved from `couchdb` is sorted in alphabetic order according to json keys. how to avoid the sorting?","username":"bh4rtp","ts":"2017-10-26T06:38:16.662Z"}
{"msg":"what type of query are you doing?","username":"dave.enyeart","ts":"2017-10-26T12:06:58.168Z"}
{"msg":"@bh4rtp  what type of query are you doing?","username":"dave.enyeart","ts":"2017-10-26T12:06:58.168Z"}
{"msg":"@dave.enyeart i am using `stub.getState(key)`.","username":"bh4rtp","ts":"2017-10-26T15:00:42.184Z"}
{"msg":"Has joined the channel.","username":"nate94305","ts":"2017-10-27T01:09:17.928Z","type":"uj"}
{"msg":"I have a question regarding data hash. 1) is it the state data hash? 2) if so, how the data hash is calculated? is it a tree hash calculation, such as merkel tree as in bit coin?","username":"nate94305","ts":"2017-10-27T01:11:20.369Z"}
{"msg":"Hi everyone, any thought on how to fix this error? `[gossip/state] commitBlock -> ERRO 16b Got error while committing(write /var/hyperledger/production/ledgersData/pvtdataStore/000001.log: no space left on device` ","username":"qizhang","ts":"2017-10-27T02:12:29.029Z"}
{"msg":"Hi everyone, any thought on how to fix this error? \n`[gossip/state] commitBlock -> ERRO 16b Got error while committing(write /var/hyperledger/production/ledgersData/pvtdataStore/000001.log: no space left on device` ","username":"qizhang","ts":"2017-10-27T02:12:29.029Z"}
{"msg":"@qizhang seems like your host run out of disk space?","username":"Vadim","ts":"2017-10-27T05:45:56.472Z"}
{"msg":"hi all, for `ORDERER_GENERAL_TLS_PRIVATEKEY=/etc/hyperledger/crypto/orderer/tls/server.key` and `ORDERER_GENERAL_TLS_CERTIFICATE=/etc/hyperledger/crypto/orderer/tls/server.crt` I can simply create a selfsigned ssl certificate for this and mount the specified volume directly, am I right?","username":"Jonny","ts":"2017-10-27T08:20:17.287Z"}
{"msg":"Has joined the channel.","username":"knagware9","ts":"2017-10-28T10:46:58.009Z","type":"uj"}
{"msg":"Has left the channel.","username":"kostas","ts":"2017-10-29T16:41:37.066Z","type":"ul"}
{"msg":"Hi,: Can we restrict clients from querying ledged-level apis? such as getTransactionInfo() and so on ?","username":"niteshsolanki","ts":"2017-10-31T12:51:41.643Z"}
{"msg":"@niteshsolanki within chaincode you can add any access control logic as needed","username":"dave.enyeart","ts":"2017-10-31T13:02:58.169Z"}
{"msg":"if you are talking about peer APIs in general, for the channel there is a reader and writer policy in 1.0, and there is work underway to make these policies more fine grained (down to specific APIs) in https://jira.hyperledger.org/browse/FAB-3621","username":"dave.enyeart","ts":"2017-10-31T13:03:58.563Z"}
{"msg":"Thanks @dave.enyeart ","username":"niteshsolanki","ts":"2017-10-31T13:16:14.203Z"}
{"msg":"@dave.enyeart when i start the orderer by using ```go run orderer/main.go``` ","username":"asaningmaxchain","ts":"2017-11-01T04:44:04.575Z"}
{"msg":"it show me the log","username":"asaningmaxchain","ts":"2017-11-01T04:44:12.533Z"}
{"msg":"https://gist.github.com/asaningmaxchain/944dd98f98ac52f2b0c3ad28d2d340d1","username":"asaningmaxchain","ts":"2017-11-01T04:44:14.075Z"}
{"msg":"in previous,it doesn't exists","username":"asaningmaxchain","ts":"2017-11-01T04:44:29.020Z"}
{"msg":"it's ok?","username":"asaningmaxchain","ts":"2017-11-01T04:44:39.955Z"}
{"msg":"can i debug my chaincode step by step? now i am using log to find the bugs, it is very slow.","username":"bh4rtp","ts":"2017-11-01T08:50:50.496Z"}
{"msg":"@bh4rtp you can write tests and then use some IDE like IntelliJ to do the debugging","username":"Vadim","ts":"2017-11-01T08:52:14.380Z"}
{"msg":"@Vadim thanks. is there any document describe how to build the test environments?","username":"bh4rtp","ts":"2017-11-01T08:54:18.999Z"}
{"msg":"these are standard golang tests, you don't need any environments. As for example, check https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/chaincode_example02/chaincode_example02_test.go ","username":"Vadim","ts":"2017-11-01T08:55:51.791Z"}
{"msg":"you write the test file in a form \"<chaincode file name>_test.go\" and then you can run it with `go test`","username":"Vadim","ts":"2017-11-01T08:56:27.297Z"}
{"msg":"ok. that's convenient. i used to run and stop frequently the network and watch the log...:blush:","username":"bh4rtp","ts":"2017-11-01T08:59:05.440Z"}
{"msg":"@asaningmaxchain Those messages are ok, but I've opened a defect to suppress them: ","username":"dave.enyeart","ts":"2017-11-01T09:09:59.270Z"}
{"msg":"@asaningmaxchain Those messages are ok, but I've opened a defect to suppress them: https://jira.hyperledger.org/browse/FAB-6853","username":"dave.enyeart","ts":"2017-11-01T09:09:59.270Z"}
{"msg":"@asaningmaxchain Those messages are ok in your scenario, I've opened a defect to suppress them when everything is ok, so that it doesn't confuse people: https://jira.hyperledger.org/browse/FAB-6853","username":"dave.enyeart","ts":"2017-11-01T09:09:59.270Z"}
{"msg":"Ledger index recovery messages were recently added to provide information when ledger index recovery process starts.  Unfortunately these messages also show up in a new orderer with no data, since the index cannot be found for the system channel. These messages also show up each time a new channel is created in orderer. The messages are benign but confusing.","username":"dave.enyeart","ts":"2017-11-01T09:10:02.807Z"}
{"msg":"Ledger index recovery messages were recently added to provide information when ledger index recovery process starts.  Unfortunately these messages also show up in a new orderer with no data, since the index cannot be found for the system channel. These messages also show up each time a new channel is created in orderer. The messages are benign but confusing and should be suppressed in these scenarios.","username":"dave.enyeart","ts":"2017-11-01T09:10:02.807Z"}
{"msg":"so this message shouldn't display?","username":"asaningmaxchain","ts":"2017-11-01T09:11:33.466Z"}
{"msg":"@dave.enyeart can you provide some docs about the ledger how to build the index for each block","username":"asaningmaxchain","ts":"2017-11-01T09:12:25.902Z"}
{"msg":"@asaningmaxchain those messages should be suppressed in this scenario (when everything is ok)","username":"dave.enyeart","ts":"2017-11-01T09:17:56.946Z"}
{"msg":"how to build index for each block: https://github.com/hyperledger/fabric/blob/release/common/ledger/blkstorage/fsblkstorage/blockindex.go#L92","username":"dave.enyeart","ts":"2017-11-01T09:18:07.578Z"}
{"msg":"@dave.enyeart thx","username":"asaningmaxchain","ts":"2017-11-01T09:52:22.545Z"}
{"msg":"Has joined the channel.","username":"kayadhami","ts":"2017-11-01T16:00:58.972Z","type":"uj"}
{"msg":"hi, current block has a `previous_hash` field. does the previous block has a field which value is same as `previous_hash` of current block?","username":"bh4rtp","ts":"2017-11-02T15:31:49.646Z"}
{"msg":"or if i want to check the hash of previous block is equal to `previous_hash` of current block, must i calculate the hash of previous block and then compare these two hashes?","username":"bh4rtp","ts":"2017-11-02T15:35:25.759Z"}
{"msg":"@bh4rtp you must calculate hash of previous block","username":"dave.enyeart","ts":"2017-11-02T15:39:05.358Z"}
{"msg":"Does the peer use sync IO or async IO to commit blocks?","username":"qizhang","ts":"2017-11-02T15:39:55.320Z"}
{"msg":"@dave.enyeart thanks. someone told me the previous block has the hash value, and i just tried to find it but could not. comfirmed! :blush:","username":"bh4rtp","ts":"2017-11-02T15:40:23.993Z"}
{"msg":"@qizhang fsync is done upon block commit","username":"dave.enyeart","ts":"2017-11-02T15:42:22.345Z"}
{"msg":"@dave.enyeart fsync is done for every block commit?","username":"qizhang","ts":"2017-11-02T15:43:27.849Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2017-11-02T15:43:33.950Z"}
{"msg":"The purpose of doing this is for crash recovery?","username":"qizhang","ts":"2017-11-02T15:44:25.035Z"}
{"msg":"yes, there are some investigations ongoing to determine if parts could safely be async and if that would help performance","username":"dave.enyeart","ts":"2017-11-02T15:45:04.011Z"}
{"msg":"there is block, block index, and state db that needs to remain in sync, so it becomes complex","username":"dave.enyeart","ts":"2017-11-02T15:45:49.260Z"}
{"msg":"Yeah, I am also interested in looking at this, can you point me to where the fsync is in the code?","username":"qizhang","ts":"2017-11-02T15:45:53.355Z"}
{"msg":"please reach out to manish-sethi, he works on those details","username":"dave.enyeart","ts":"2017-11-02T15:46:28.694Z"}
{"msg":"Cool, thanks!","username":"qizhang","ts":"2017-11-02T15:46:52.770Z"}
{"msg":"Has joined the channel.","username":"kiranarshakota","ts":"2017-11-03T00:55:28.210Z","type":"uj"}
{"msg":"@dave.enyeart does fabric also build transactions into a merkle tree like bitcoin? if yes, which field is the merkleroot hash?","username":"bh4rtp","ts":"2017-11-03T03:01:48.812Z"}
{"msg":"@dave.enyeart What is the default value of grpc.max_send_message_length and grpc.max_receive_message_length for orderer and peers ?","username":"niteshsolanki","ts":"2017-11-03T10:29:41.246Z"}
{"msg":"@bh4rtp The Fabric use case does not require merkle hash. Rather the transactions from the BlockData are serialized all together and hashed to form the BlockHeader data_hash. Then the BlockHeader is hashed and is referenced in the next block's BlockHeader previous_hash","username":"dave.enyeart","ts":"2017-11-03T10:33:24.775Z"}
{"msg":"@niteshsolanki If I recall correctly it is 100MB in the code, and I think there is a work item to make them configurable","username":"dave.enyeart","ts":"2017-11-03T10:34:04.833Z"}
{"msg":"@dave.enyeart thanks","username":"niteshsolanki","ts":"2017-11-03T10:35:28.994Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ckXz5BDB7Wp9Whq2n) Hi @manish-sethi; is there a (set of) specific performance test(s) you would recommend for comparing a Berkeley DB State DB implementation against the LevelDB one?","username":"minollo","ts":"2017-11-03T12:25:01.493Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ckXz5BDB7Wp9Whq2n","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ckXz5BDB7Wp9Whq2n","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@minollo - yes, there is a perf test suit that you can run to observe the performance at the ledger layer.\nYou can find this here https://github.com/hyperledger/fabric/tree/release/test/tools/LTE","username":"manish-sethi","ts":"2017-11-03T13:16:04.771Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bxrFdRqTSp8cME3v4) @manish-sethi OK, thanks.","username":"minollo","ts":"2017-11-03T13:16:48.809Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bxrFdRqTSp8cME3v4","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bxrFdRqTSp8cME3v4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Have you done the basic integration under the current tx mgr and want to see the diff between Level and Berkeley?","username":"manish-sethi","ts":"2017-11-03T13:18:19.789Z"}
{"msg":"@minollo ^^^","username":"manish-sethi","ts":"2017-11-03T13:19:14.886Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA) @manish-sethi Almost; still working on some cleaning up a few things; but I'm getting close to the point where I will want to compare things, yes.","username":"minollo","ts":"2017-11-03T13:20:42.543Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA) @manish-sethi Almost; still working on some cleaning up a few things; but I'm getting close to the point where I will want to compare things, yes.","username":"minollo","ts":"2017-11-03T13:20:42.543Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA) @manish-sethi Almost; still working on cleaning up a few things; but I'm getting close to the point where I will want to compare things, yes.","username":"minollo","ts":"2017-11-03T13:20:42.543Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yJowwLanC5BrDkJqA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@minollo - Cool, it would be interesting to see the results. So, did you chose to have a single BerkeleyDB for all the channels or separate instance for each channel?","username":"manish-sethi","ts":"2017-11-03T13:22:47.426Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=k9o6xw2iFXXReB5m4) @manish-sethi BDB supports the ability of having multiple databases mapped to a single file; so, I went down the path of associating an individual BDB database to each channel. I was actually wondering if it wouldn't be worth having one database per chaincode/namespace - I really dislike the idea of handling composite keys build with namespace+keyname; but that's not important for where I am now.","username":"minollo","ts":"2017-11-03T13:24:57.941Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=k9o6xw2iFXXReB5m4","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=k9o6xw2iFXXReB5m4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@minollo - OK, sure.","username":"manish-sethi","ts":"2017-11-03T13:26:30.083Z"}
{"msg":"Has joined the channel.","username":"bennettneale","ts":"2017-11-03T16:24:10.009Z","type":"uj"}
{"msg":"i use go test to debug my chaincode. and it will tell `not implemented` when the chaincode calls `stub.GetQueryResult`. does this means `mock` can only simulate part of the shim?","username":"bh4rtp","ts":"2017-11-04T00:25:33.726Z"}
{"msg":"i use go test to debug my chaincode. and it will tell `not implemented` when the chaincode calls `stub.GetQueryResult`. does this means `MockStub` can only simulate part of the `shim.ChaincodeStubInterface`?","username":"bh4rtp","ts":"2017-11-04T00:25:33.726Z"}
{"msg":"Has joined the channel.","username":"falix","ts":"2017-11-04T02:13:44.507Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Luke_Chen","ts":"2017-11-06T03:31:06.155Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hasegawa","ts":"2017-11-06T09:58:09.367Z","type":"uj"}
{"msg":"Has joined the channel.","username":"swapnilpatil","ts":"2017-11-08T16:07:05.912Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shiyj93","ts":"2017-11-09T12:03:42.192Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rajasekharpippalla","ts":"2017-11-09T12:20:10.332Z","type":"uj"}
{"msg":"anyone worked on combination of nodejs and couchdb?","username":"rajasekharpippalla","ts":"2017-11-09T12:20:59.800Z"}
{"msg":"i am trying to work marbles02 example in fabric-samples\n\n1. in balance-transfer I have replaced chaincode with marbles02\n2. changed docker-compose file with couchdb configuration\n3. changed testAPIs.sh file with args\n4. when i am running join peer request some times it's giving Error:file_exists,  Status Code:412,  Reason:The database could not be created, the file already exists\n  \n   4.1. running the below commands to check DB , but it's not showning any database\n        docker run -p 5984:5984 -d couchdb\n        http://localhost:5984/_utils\n   4.2. I am unable to run invoke request's. It's saying like \"message\":\"'peers' field is missing or Invalid in the request\" ","username":"rajasekharpippalla","ts":"2017-11-09T12:21:10.421Z"}
{"msg":"pls help me if u have any idea about that","username":"rajasekharpippalla","ts":"2017-11-09T12:21:28.729Z"}
{"msg":"Has joined the channel.","username":"kostas","ts":"2017-11-09T12:44:10.630Z","type":"uj"}
{"msg":"@rajasekharpippalla your last message is from the balance transfer sdk application.  you cant mix sdk app for balance transfer with chaincode for marbles02","username":"dave.enyeart","ts":"2017-11-09T13:35:49.195Z"}
{"msg":"@dave.enyeart but I am getting issues","username":"rajasekharpippalla","ts":"2017-11-09T13:36:54.700Z"}
{"msg":"@rajasekharpippalla I think I know what could cause the couchdb error, I've opened a bug to protect against that: https://jira.hyperledger.org/browse/FAB-6938","username":"dave.enyeart","ts":"2017-11-09T13:59:32.160Z"}
{"msg":"@rajasekharpippalla I think I know what could cause the couchdb error, I've opened a bug to protect against that: https://jira.hyperledger.org/browse/FAB-6938 .  Question, what is your environment?  We've seen strange delays in couchdb when running on multiple layers of virtualization.","username":"dave.enyeart","ts":"2017-11-09T13:59:32.160Z"}
{"msg":"I use `requestBlocksInRange(1, 1)` to retrieve the starting block from another peer (let's assume the other peers' ledgers are correct for now). It seems that `requestBlocksInRange()` only retrieves a block, but not commit it. Thus we still need to do some work to write this block to the ledger. Is that correct?","username":"qizhang","ts":"2017-11-09T14:01:00.355Z"}
{"msg":"Has left the channel.","username":"mtxset","ts":"2017-11-09T15:07:46.447Z","type":"ul"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Wnait3tc8k2qHLPqg) @qizhang How you can use this function? E.g. this is a private method of the StateProvider...","username":"C0rWin","ts":"2017-11-09T19:59:25.778Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Wnait3tc8k2qHLPqg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Wnait3tc8k2qHLPqg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@qizhang and yes this function only retrieves block, while it's being committed in separate go routine  ","username":"C0rWin","ts":"2017-11-09T20:00:14.259Z"}
{"msg":"@qizhang since this is gossip related topic I'd suggest to move discussion into #fabric-gossip ","username":"C0rWin","ts":"2017-11-09T20:00:49.255Z"}
{"msg":"@C0rWin Sure, thanks!","username":"qizhang","ts":"2017-11-09T20:01:04.380Z"}
{"msg":"Has joined the channel.","username":"jskaqua","ts":"2017-11-09T21:32:53.865Z","type":"uj"}
{"msg":"A block is usually committed with `private data`. Do you know what is `private data`?","username":"qizhang","ts":"2017-11-09T21:35:29.897Z"}
{"msg":"A block is usually committed with `private data`. What is `private data` used for?","username":"qizhang","ts":"2017-11-09T21:35:29.897Z"}
{"msg":"Has joined the channel.","username":"yoheiueda","ts":"2017-11-10T08:12:01.114Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=zm6AESha6RpJETEsa) @qizhang please take a look on FAB-1151 it explains about private data","username":"C0rWin","ts":"2017-11-10T16:47:01.221Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zm6AESha6RpJETEsa","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zm6AESha6RpJETEsa","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"rojanjose","ts":"2017-11-13T04:09:46.627Z","type":"uj"}
{"msg":"how we can implement privacy through channels? ","username":"rajasekharpippalla","ts":"2017-11-14T05:41:53.191Z"}
{"msg":"Oracle ---->>> verification module\n\nJPMorgan ---->>> verification module\n\n1. Oracle as well as JPMorgan has done transactions with verfication module. \n2. Now verification module can have information for both Oracle and JPMorgan.\n3. Oracle should not have access for JPMorgan data and vice-versa. \n\nHow can we implement this kind of requirement? Can we implement this by using channels and how we can implement if we have any chances? ","username":"rajasekharpippalla","ts":"2017-11-14T05:53:36.830Z"}
{"msg":"@rajasekharpippalla no need to repeat your question in parallel in separate channels, please avoid spamming ","username":"C0rWin","ts":"2017-11-14T07:36:17.598Z"}
{"msg":"Do peers in the same ledger have exactly the same ledger file, in terms of each byte?","username":"qizhang","ts":"2017-11-14T16:52:37.553Z"}
{"msg":"Do peers in the same ledger have exactly the same ledger file, in terms of each single byte?","username":"qizhang","ts":"2017-11-14T16:52:37.553Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZvM6zZP8bWAw9rvDj) What if there is only 1 orderer?","username":"qizhang","ts":"2017-11-14T16:52:37.553Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZvM6zZP8bWAw9rvDj","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZvM6zZP8bWAw9rvDj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@qizhang - I think that you meant \"Do peers in the same channel...\". Yes, they have same ledger file.","username":"manish-sethi","ts":"2017-11-14T18:55:51.015Z"}
{"msg":"@manish-sethi do you mean fabric will not occur block chain branch like bitcoin?","username":"bh4rtp","ts":"2017-11-14T22:59:13.501Z"}
{"msg":"Hi @dave.enyeart  quick question: Is there any notion of batches in the peer code when it receives query ? I mean, will the peer maintain a queue of query requests before making a query to the leveldb ?","username":"niteshsolanki","ts":"2017-11-15T06:28:12.273Z"}
{"msg":"Hi @dave.enyeart  quick question: Is there any notion of batches in the peer code when it receives query ? I mean, will the peer maintain a queue of query requests before making a query to the leveldb ?  I noticed that when i make 2000 query requests per second, the difference between the first and last response is 0.3s. and if i make 100 query requests per second, the the difference between the first and last response is 30s.","username":"niteshsolanki","ts":"2017-11-15T06:28:12.273Z"}
{"msg":"@manish-sethi @dave.enyeart  https://gist.github.com/asaningmaxchain/60dcbce2269e13baa35d91a25879098e can you take a look? when i want to test the stability about the peer","username":"asaningmaxchain","ts":"2017-11-15T07:20:54.446Z"}
{"msg":"the couchdb seems reject the connection","username":"asaningmaxchain","ts":"2017-11-15T07:22:18.989Z"}
{"msg":"@manish-sethi @qizhang  - I don't think that's 100% correct.\nThe ordering service uses ECDSA signatures which are non-deterministic. \nWhich means, if you got your block from `nodeA` the blocks is different than if you got it from `nodeB`.\n @adc  @aso  please feel free to correct me.","username":"yacovm","ts":"2017-11-15T09:34:07.995Z"}
{"msg":"@manish-sethi @qizhang  - I don't think that's 100% correct.\nThe ordering service uses ECDSA signatures which are non-deterministic. \nWhich means, if you got your block from `orderer0` the blocks is different than if you got it from `orderer1`.\n @adc  @aso  please feel free to correct me.","username":"yacovm","ts":"2017-11-15T09:34:07.995Z"}
{"msg":"Has joined the channel.","username":"adc","ts":"2017-11-15T09:34:08.087Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shubhamvrkr","ts":"2017-11-15T09:56:27.196Z","type":"uj"}
{"msg":"@niteshsolanki That doesn't make sense to me.  @muralisr could you explain the behavior when an endorser gets more proposals than it can process? What would constrain the concurrency?","username":"dave.enyeart","ts":"2017-11-15T11:58:35.713Z"}
{"msg":"@asaningmaxchain Please don't spam the same question to multiple channels.","username":"dave.enyeart","ts":"2017-11-15T11:59:06.732Z"}
{"msg":"that is weird indeed that he only does queries since the ledger obtains a read lock for simulations IIRC ","username":"yacovm","ts":"2017-11-15T12:17:00.947Z"}
{"msg":"are you sure you're doing only queries @asaningmaxchain  ? ","username":"yacovm","ts":"2017-11-15T12:17:13.836Z"}
{"msg":"Perhaps you have also commits at the same time? Golang RWLock is very write-oriented and blocks pending readers as long as a writer is waiting for a lock","username":"yacovm","ts":"2017-11-15T12:18:23.009Z"}
{"msg":"@dave.enyeart I am working on Ubuntu OS. Thanks for your Jira bug ","username":"rajasekharpippalla","ts":"2017-11-15T12:55:24.566Z"}
{"msg":"@manish-sethi is CouchDB for State still supported as \"beta\" at this point, or has it moved beyond that?","username":"minollo","ts":"2017-11-15T16:38:10.654Z"}
{"msg":"@minollo  We are not labeling it as a beta, but there are some important couchdb updates coming in 1.1 that I think any serious consumer would want to have (e.g. index support and performance).","username":"dave.enyeart","ts":"2017-11-15T16:46:02.343Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=3RvqwnniZEJgxShfJ) @dave.enyeart Got it; I was wondering when indexing would be exposed - considering you are exposing queries. Thanks!","username":"minollo","ts":"2017-11-15T16:46:55.188Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3RvqwnniZEJgxShfJ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3RvqwnniZEJgxShfJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"yunxi.zhang","ts":"2017-11-16T15:24:29.632Z","type":"uj"}
{"msg":"Hi All, I'm using an AWS Ubuntu 16.04 LTS following Hyperledger Fabric readthedocs tutorial. I followed steps in \"Writing Your First Applications\". When I ran \"node enrollAdmin.js\", a eCert and key material is expected to be generated in a hfc-key-store directory, but nothing is generated in this folder, which means the folder is still empty after running the command. I looked into the code in this js file, in lines 54-55, only two arguments are provided, but from the API from this link:https://jimthematrix.github.io/FabricCAClient.html#enroll__anchor, the fabric_ca_client.enroll function should receive three arguments, which means the third argument 'csr' is not given in the js file. Strangely, no error information is shown after running the command, and the only information i got from the terminal is \"store path: $mypath/hfc-key-store\".\n\nAny one knows what the problem occurs?Thanks","username":"yunxi.zhang","ts":"2017-11-16T15:25:18.431Z"}
{"msg":"Has left the channel.","username":"yunxi.zhang","ts":"2017-11-16T16:23:32.673Z","type":"ul"}
{"msg":"@yunxi.zhang Please post in #fabric-sdk-node , that is where the node.js sdk experts familiar with the sample hang out","username":"dave.enyeart","ts":"2017-11-16T22:12:54.749Z"}
{"msg":"Has joined the channel.","username":"yunxi.zhang","ts":"2017-11-16T22:12:54.844Z","type":"uj"}
{"msg":"Has joined the channel.","username":"laroque","ts":"2017-11-17T01:20:26.422Z","type":"uj"}
{"msg":"I have a network with 2 peers, I got the following error when I try `requestBlocksInRange(0,0)` on one peer to get the block 0 from another peer, please advise. Thanks!\n```Error verifying block with sequence number 0, due to Failed to reach implicit threshold of 1 sub-policies, required 1 remaining```","username":"qizhang","ts":"2017-11-17T03:48:00.433Z"}
{"msg":"I have a network with 2 peers in the same channel (peer0 nad peer1), I got the following error when I try `requestBlocksInRange(0,0)` on one peer to get the block 0 from another peer, please advise. Thanks!\n```Error verifying block with sequence number 0, due to Failed to reach implicit threshold of 1 sub-policies, required 1 remaining```","username":"qizhang","ts":"2017-11-17T03:48:00.433Z"}
{"msg":"I am thinking the block 0 on peer0 should be the same as the block 0 in peer1, thus when peer0 gets block0 from peer1, it should be able to pass all the verifications, but why it failed here?","username":"qizhang","ts":"2017-11-17T03:49:33.279Z"}
{"msg":"@dave.enyeart, thanks for the response, have post this question in #fabric-sdk-node ","username":"yunxi.zhang","ts":"2017-11-17T09:27:15.183Z"}
{"msg":"Has left the channel.","username":"yunxi.zhang","ts":"2017-11-17T09:27:43.931Z","type":"ul"}
{"msg":"Has joined the channel.","username":"jarvis26","ts":"2017-11-20T12:01:10.613Z","type":"uj"}
{"msg":"Hi..I wanted to check if my peer crashes then how much time does it take to sync with the other peers. To do that I stopped one of my peer and then deleted the `production` directory and the channel records entry from couch db. After restarting my peer, when I queried my chaincode, I get this:","username":"jarvis26","ts":"2017-11-20T12:01:32.868Z"}
{"msg":"","username":"jarvis26","ts":"2017-11-20T12:01:41.984Z","attachments":[{"type":"file","title":"Clipboard - November 20, 2017 5:31 PM","title_link":"/file-upload/3Gjj96TRG9SmY2WMY/Clipboard - November 20, 2017 5:31 PM","image_url":"/file-upload/3Gjj96TRG9SmY2WMY/Clipboard - November 20, 2017 5:31 PM","image_type":"image/png","image_size":43771,"url":"/file-upload/3Gjj96TRG9SmY2WMY/Clipboard - November 20, 2017 5:31 PM","remote":false,"fileId":"3Gjj96TRG9SmY2WMY","fileName":"Clipboard - November 20, 2017 5:31 PM"}]}
{"msg":"I am able to query the same asset in my other peer","username":"jarvis26","ts":"2017-11-20T12:01:52.125Z"}
{"msg":"I am able to query the same asset in my other peer. Could anybody please help. Thanks","username":"jarvis26","ts":"2017-11-20T12:01:52.125Z"}
{"msg":"I am able to query the same asset in my other peer. Could anybody please help. Thanks.","username":"jarvis26","ts":"2017-11-20T12:01:52.125Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=FSwFMovnRaqEtiMh9) @dave.enyeart Could you please help.","username":"jarvis26","ts":"2017-11-20T12:15:47.598Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FSwFMovnRaqEtiMh9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FSwFMovnRaqEtiMh9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=nkr5LPTo52wo3aFzu) @jarvis26 have you re-joined peer back to the channel? ","username":"C0rWin","ts":"2017-11-20T12:18:18.761Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nkr5LPTo52wo3aFzu","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nkr5LPTo52wo3aFzu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes","username":"jarvis26","ts":"2017-11-20T12:18:49.011Z"}
{"msg":"I mean the `peer channel join ...` command ","username":"C0rWin","ts":"2017-11-20T12:19:28.396Z"}
{"msg":"yes","username":"jarvis26","ts":"2017-11-20T12:19:32.497Z"}
{"msg":"is this the only peer in the network?","username":"C0rWin","ts":"2017-11-20T12:20:04.778Z"}
{"msg":"I started the peer, joined the peer to the channel, installed the chaincode again and the issued the query commnd","username":"jarvis26","ts":"2017-11-20T12:20:11.527Z"}
{"msg":"you need somehow to delete the chain from the disk along with the DB","username":"yacovm","ts":"2017-11-20T12:20:17.660Z"}
{"msg":"as I told you in #fabric ","username":"yacovm","ts":"2017-11-20T12:20:24.667Z"}
{"msg":"No this is not the only peer in the network","username":"jarvis26","ts":"2017-11-20T12:20:31.807Z"}
{"msg":"","username":"C0rWin","ts":"2017-11-20T12:22:25.114Z","attachments":[{"type":"file","title":"Clipboard - November 20, 2017 2:22 PM","title_link":"/file-upload/8wz4bjNuGDhJv9csb/Clipboard - November 20, 2017 2:22 PM","image_url":"/file-upload/8wz4bjNuGDhJv9csb/Clipboard - November 20, 2017 2:22 PM","image_type":"image/png","image_size":25578,"url":"/file-upload/8wz4bjNuGDhJv9csb/Clipboard - November 20, 2017 2:22 PM","remote":false,"fileId":"8wz4bjNuGDhJv9csb","fileName":"Clipboard - November 20, 2017 2:22 PM"}]}
{"msg":"this message is it part of your chaincode logic?","username":"C0rWin","ts":"2017-11-20T12:22:37.706Z"}
{"msg":"Yes, it will throw this when it is not able to fetch the asset .","username":"jarvis26","ts":"2017-11-20T12:23:10.980Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=xkgNoNj4KMRcAb7Ky) @yacovm yes, but as I mentioned I wanted to check a practical scenario that what happens if the peer actually crashes. How does it sync back up again? I am confused on the \"somehow to delete the chain from the disk along with the DB\"","username":"jarvis26","ts":"2017-11-20T12:24:24.291Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xkgNoNj4KMRcAb7Ky","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xkgNoNj4KMRcAb7Ky","remote":true,"fileId":null,"fileName":null}]}
{"msg":"let me ensure something","username":"yacovm","ts":"2017-11-20T12:24:41.982Z"}
{"msg":"`/var/hyperledger/production`","username":"yacovm","ts":"2017-11-20T12:24:48.299Z"}
{"msg":"this directory is deleted?","username":"yacovm","ts":"2017-11-20T12:24:52.666Z"}
{"msg":"completely?","username":"yacovm","ts":"2017-11-20T12:24:54.669Z"}
{"msg":"and after that you restarted the peer?","username":"yacovm","ts":"2017-11-20T12:24:59.596Z"}
{"msg":"yes","username":"jarvis26","ts":"2017-11-20T12:25:03.936Z"}
{"msg":"hmm, and how many blocks did you have in the chain before that?","username":"yacovm","ts":"2017-11-20T12:25:21.129Z"}
{"msg":"305","username":"jarvis26","ts":"2017-11-20T12:25:29.905Z"}
{"msg":"what do the peer logs say?","username":"yacovm","ts":"2017-11-20T12:25:31.714Z"}
{"msg":"peerlogs posted here: `https://pastebin.com/551PNyQC`","username":"jarvis26","ts":"2017-11-20T12:28:19.840Z"}
{"msg":"ah I see","username":"yacovm","ts":"2017-11-20T12:29:12.071Z"}
{"msg":"so... upgrade to v1.0.4 ","username":"yacovm","ts":"2017-11-20T12:29:16.658Z"}
{"msg":"and you should be fine","username":"yacovm","ts":"2017-11-20T12:29:19.616Z"}
{"msg":"oh...ok..i see","username":"jarvis26","ts":"2017-11-20T12:29:53.388Z"}
{"msg":"hmm, but - ","username":"yacovm","ts":"2017-11-20T12:31:00.129Z"}
{"msg":"try to restart the peer anyway","username":"yacovm","ts":"2017-11-20T12:31:04.912Z"}
{"msg":"it should sync up","username":"yacovm","ts":"2017-11-20T12:31:09.273Z"}
{"msg":"so this was a version specific error.","username":"jarvis26","ts":"2017-11-20T12:31:19.564Z"}
{"msg":"oh..ok..will try ","username":"jarvis26","ts":"2017-11-20T12:31:39.265Z"}
{"msg":"I think you're experiencing https://gerrit.hyperledger.org/r/#/c/12495/","username":"yacovm","ts":"2017-11-20T12:32:00.401Z"}
{"msg":"it is solved in 1.0.2","username":"yacovm","ts":"2017-11-20T12:32:36.044Z"}
{"msg":"so either restart the peer or upgrade the version (which, involves too - restarting the peer)","username":"yacovm","ts":"2017-11-20T12:33:01.823Z"}
{"msg":"ok..let me check by restarting the peer","username":"jarvis26","ts":"2017-11-20T12:35:12.168Z"}
{"msg":"If you just want to delete the ledger, then just remove /var/hyperledger/production/ledgersData/","username":"dave.enyeart","ts":"2017-11-20T12:38:59.004Z"}
{"msg":"Otherwise you'll also delete the installed chaincode","username":"dave.enyeart","ts":"2017-11-20T12:39:07.646Z"}
{"msg":"Upon bringing the peer up, do a re-join and it should then start pulling and processing blocks until it is caught up again","username":"dave.enyeart","ts":"2017-11-20T12:40:20.280Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=crokw7Ssp23JaGDqB) @yacovm I restarted the peer, still some records are recovered, others aren't","username":"jarvis26","ts":"2017-11-20T12:47:59.931Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=crokw7Ssp23JaGDqB","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=crokw7Ssp23JaGDqB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"can you show the new logs?","username":"yacovm","ts":"2017-11-20T12:48:18.248Z"}
{"msg":"yes, here: https://pastebin.com/Mmsn5nVb","username":"jarvis26","ts":"2017-11-20T12:49:58.630Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=As5JK5kRvTFMGNW3D) @dave.enyeart Ok.","username":"jarvis26","ts":"2017-11-20T12:50:08.520Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=As5JK5kRvTFMGNW3D","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=As5JK5kRvTFMGNW3D","remote":true,"fileId":null,"fileName":null}]}
{"msg":" @C0rWin , @dave.enyeart  ideas? His blocks are synced now but still stuff are missing.. ","username":"yacovm","ts":"2017-11-20T12:51:18.946Z"}
{"msg":"I've tested the same and the chaincode state recovers fine for me","username":"dave.enyeart","ts":"2017-11-20T12:53:00.197Z"}
{"msg":"Would need peer with CORE_LOGGING_LEVEL=DEBUG to see the state db commits","username":"dave.enyeart","ts":"2017-11-20T12:53:20.340Z"}
{"msg":"Changed the logging level to DEBUG","username":"jarvis26","ts":"2017-11-20T13:02:48.756Z"}
{"msg":"here are the peerlogs: https://pastebin.com/wYZvs3US","username":"jarvis26","ts":"2017-11-20T13:03:06.965Z"}
{"msg":"Has joined the channel.","username":"hpurmann","ts":"2017-11-20T15:34:39.523Z","type":"uj"}
{"msg":"Hi All, in the block details is there any attribute which tell how many transactions proposed ","username":"MadhavaReddy","ts":"2017-11-21T20:16:23.381Z"}
{"msg":"also am not able find current hash in any of the blocks, can you please help to understand why this is not present","username":"MadhavaReddy","ts":"2017-11-21T20:17:27.581Z"}
{"msg":"Hi All, in the block details is there any attribute which tell how many transactions proposed\nalso am not able find current hash in any of the blocks, can you please help to understand why this is not present","username":"MadhavaReddy","ts":"2017-11-22T03:24:40.438Z"}
{"msg":"Has joined the channel.","username":"levinkwong","ts":"2017-11-22T03:42:23.693Z","type":"uj"}
{"msg":"Has joined the channel.","username":"asamk","ts":"2017-11-22T15:48:31.191Z","type":"uj"}
{"msg":"@MadhavaReddy A block's hash is implicit - it is the hash of the block header. There is no need to make it an explicit field. If you need to verify the chain then you would want to derive the hash rather than trust a separate field.","username":"dave.enyeart","ts":"2017-11-22T18:21:46.267Z"}
{"msg":"The block data is an array of transactions. To determine how many transactions are in the block you would simply look at the length of the block data array.","username":"dave.enyeart","ts":"2017-11-22T18:22:35.993Z"}
{"msg":"The block data is an array of transactions. To determine how many transactions are in the block you would simply look at the size of the block data array.","username":"dave.enyeart","ts":"2017-11-22T18:22:35.993Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=pwiQHEe8zi5Taikcn) @dave.enyeart Thank you, yes with the length.data was able to find number of transactions in a block","username":"MadhavaReddy","ts":"2017-11-22T18:24:03.534Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pwiQHEe8zi5Taikcn","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pwiQHEe8zi5Taikcn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"also i see a proposed hash in block data object, is this going to be the previous hash in next block, would like to know when this proposed hash going to converted into confirmed hash","username":"MadhavaReddy","ts":"2017-11-22T18:29:37.485Z"}
{"msg":"@MadhavaReddy some context would help...where are you looking?","username":"dave.enyeart","ts":"2017-11-22T18:58:42.536Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Pga6cfMyLq9yojZ4G) @dave.enyeart stopped the network, will share the block payload as soon as bring the network up","username":"MadhavaReddy","ts":"2017-11-22T18:59:37.733Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Pga6cfMyLq9yojZ4G","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Pga6cfMyLq9yojZ4G","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"BasanthVerma","ts":"2017-11-23T10:36:34.311Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jackeyliliang","ts":"2017-11-24T02:59:26.876Z","type":"uj"}
{"msg":"Hey! Is it correct that each peer needs an own couchdb instance?","username":"hpurmann","ts":"2017-11-24T15:10:03.718Z"}
{"msg":"1) Hey! Is it correct that each peer needs an own couchdb instance?","username":"hpurmann","ts":"2017-11-24T15:10:03.718Z"}
{"msg":"2) What is the best practice to join multiple peers to the same channel? Are you mounting the directory where where the mychannel.block is created to the host and using it for the other peers?","username":"hpurmann","ts":"2017-11-24T15:11:32.311Z"}
{"msg":"@hpurmann 1) yes 2) for development, I'd use whatever is convenient to do, for prod, I'd fetch the block from the orderer","username":"Vadim","ts":"2017-11-24T15:16:02.567Z"}
{"msg":"You're the best, @Vadim! Always so quick and helpful. Thank you!","username":"hpurmann","ts":"2017-11-24T15:16:34.957Z"}
{"msg":"Has joined the channel.","username":"muasif80","ts":"2017-11-28T03:20:01.021Z","type":"uj"}
{"msg":"How can I access BlockStore in gossip/state/state.go?","username":"qizhang","ts":"2017-11-28T20:53:56.462Z"}
{"msg":"How can I access the functions in 'BlockStore interface' from gossip/state/state.go?","username":"qizhang","ts":"2017-11-28T20:53:56.462Z"}
{"msg":"How can I access the functions in `BlockStore interface` from gossip/state/state.go?","username":"qizhang","ts":"2017-11-28T20:53:56.462Z"}
{"msg":"Has joined the channel.","username":"egeek","ts":"2017-11-29T11:16:31.346Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Gulsharnsingh","ts":"2017-11-29T14:09:13.950Z","type":"uj"}
{"msg":"Hi, please can someone explain how a transaction is send from one party and how other registered peer approve it and how a ledger is created from this ?","username":"Gulsharnsingh","ts":"2017-11-29T14:10:27.690Z"}
{"msg":"@Gulsharnsingh I'd suggest read https://hyperledger-fabric.readthedocs.io/en/release/txflow.html","username":"dave.enyeart","ts":"2017-11-29T15:27:07.676Z"}
{"msg":"Moved to #fabric-ledger \n@dave.enyeart @mastersingh24 @muralisr \nwe are seeing a mismatch in the JSON document count on couch db. Our test involved restarting couch-db container few times during which Peer Container too went down at the time of commit operation.\nThis is on the fabric-v1.0.4 release.\n\nI have the peer logs captured and would like to know if there is any additional information that may be required for analysis of this issue. ","username":"rahulhegde","ts":"2017-11-29T16:15:11.591Z"}
{"msg":"@rahulhegde I added next steps in your jira item: https://jira.hyperledger.org/browse/FAB-7156","username":"dave.enyeart","ts":"2017-11-29T16:23:45.526Z"}
{"msg":"I have added the statedb_savepoint detail in the JIRA, I have used node1/node2 to make it anonymous.","username":"rahulhegde","ts":"2017-11-29T16:36:56.720Z"}
{"msg":"I have added the statedb_savepoint detail in the JIRA, I have used node1/node2 to make it anonymous.","username":"rahulhegde","ts":"2017-11-29T16:36:56.720Z"}
{"msg":"We can talk on RC  instead of JIRA and can capture the discussion in JIRA finally. ","username":"rahulhegde","ts":"2017-11-29T16:37:45.330Z"}
{"msg":"@dave.enyeart  /\\ /\\","username":"rahulhegde","ts":"2017-11-29T16:38:30.184Z"}
{"msg":"i'll free up later this afternoon.  dump as much as you can in the jira and then i'll take a look when i free up","username":"dave.enyeart","ts":"2017-11-29T16:41:59.961Z"}
{"msg":"We are also trying to setup FTP access from CLS so u can receive this logs/information.","username":"rahulhegde","ts":"2017-11-29T16:42:56.137Z"}
{"msg":"i'm trying to teach you how to review the debug by searching for the keys, and then summarize findings in the jira","username":"dave.enyeart","ts":"2017-11-29T16:43:53.665Z"}
{"msg":"Sure. If you want we can directly work on my webex in the afternoon.","username":"rahulhegde","ts":"2017-11-29T16:45:17.954Z"}
{"msg":"and directly on that box - where we having this issue.","username":"rahulhegde","ts":"2017-11-29T16:45:31.693Z"}
{"msg":"and directly on that box - where we are having this issue.","username":"rahulhegde","ts":"2017-11-29T16:45:31.693Z"}
{"msg":"my day is greatly timesliced, which is why i recommend you pull together the debug findings before we talk","username":"dave.enyeart","ts":"2017-11-29T16:46:29.497Z"}
{"msg":"Okay - I will collect this information. Q - u mentioned that to take a diff between database - do u have any approach. I am planning to put down all keys-in files and find out the missing document.","username":"rahulhegde","ts":"2017-11-29T16:58:41.483Z"}
{"msg":"However the statement `look in the Peer Logs ` - peer was run in INFO mode","username":"rahulhegde","ts":"2017-11-29T17:00:24.796Z"}
{"msg":"How is that going to be helpful?","username":"rahulhegde","ts":"2017-11-29T17:01:20.215Z"}
{"msg":"@rahulhegde you will need to re-run peer with debug mode if you want to understand how a certain state got that way.","username":"dave.enyeart","ts":"2017-11-29T17:22:34.391Z"}
{"msg":"I don't have an automated way to diff CouchDB databases yet, but it would be possible to write a REST client that steps through and compares the documents.","username":"dave.enyeart","ts":"2017-11-29T17:23:19.816Z"}
{"msg":"BTW - I think I found the block by using my approach.","username":"rahulhegde","ts":"2017-11-29T18:59:32.518Z"}
{"msg":"@dave.enyeart \nBTW - I think I found the block by using my approach.","username":"rahulhegde","ts":"2017-11-29T18:59:32.518Z"}
{"msg":"@dave.enyeart please refer to the responses added to the FAB-7156","username":"rahulhegde","ts":"2017-11-29T20:39:30.528Z"}
{"msg":"I got this error when trying to join a peer to a channel, how shall I fix it? Thanks!\n`panic: Error while trying to open DB: resource temporarily unavailable`","username":"qizhang","ts":"2017-11-29T22:47:27.660Z"}
{"msg":"Has joined the channel.","username":"Russell-Columbia","ts":"2017-11-29T22:59:31.527Z","type":"uj"}
{"msg":"Has joined the channel.","username":"waaagh","ts":"2017-11-30T00:52:26.295Z","type":"uj"}
{"msg":"I had a query about storing data in WS. As I have seen in Fauxton Console, the Keys are stored with CCNAME\\0KEYNAME format. If I try to put the data programatically using the same Key format, can I read it from my chaincode? If No, then how is it secured? Can you explain? Any ideas @dave.enyeart ? Thanks.","username":"ArnabChatterjee","ts":"2017-11-30T14:17:49.268Z"}
{"msg":"Has joined the channel.","username":"Vlore","ts":"2017-12-02T14:02:42.695Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SanjivBhatia","ts":"2017-12-03T14:02:13.949Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alvaradojl","ts":"2017-12-03T18:53:19.262Z","type":"uj"}
{"msg":"I have a question on the transaction data in transaction log history. In Fabric, the transaction data in each block is it just encoded or is it encrypted with digital signatures ?","username":"gauthampamu","ts":"2017-12-04T09:54:49.093Z"}
{"msg":"@gauthampamu Fabric doesn't encrypt the transaction data by default, but as part of the app/chaincode you can decide if you want the data encrypted.  v1.1.0-preview added chaincode APIs to make this easier for solutions.  See http://hyperledger-fabric.readthedocs.io/en/v1.1.0-preview/chaincode4ade.html#chaincode-encryption","username":"dave.enyeart","ts":"2017-12-04T12:11:34.536Z"}
{"msg":"@ArnabChatterjee You cannot edit CouchDB data directly.  If you did, your peer's chaincode execution would result in different results than other peers, and the transaction would be rejected.","username":"dave.enyeart","ts":"2017-12-04T12:12:57.306Z"}
{"msg":"hey all, working on testing out large volumes of transactions. currently trying to send 1500 transactions at a rate or 3 per/s to a chaincode, and getting the following error:\n\n```2017-12-04 18:58:45.587 UTC [shim] handleGetQueryResult -> ERRO a898 [0477506d]Received ERROR\n2017-12-04 18:58:45.587 UTC [volumeCC] Errorf -> ERRO a89a Failed: Post http://127.0.0.1:5984/volumeCC/_find: dial tcp 127.0.0.1:5984: socket: too many open files\n```\n\nnot sure how to go about debugging this","username":"jrosmith","ts":"2017-12-04T19:09:35.602Z"}
{"msg":"it looks like it can't communicate with the couchDB instance because theres too many interactions with the db?","username":"jrosmith","ts":"2017-12-04T19:10:11.543Z"}
{"msg":"in the chaincode container i see this:\n\n```2017-12-04 20:00:30.305 UTC [volumeCC] Errorf -> ERRO a116 Error adding factoring to ledger: [308bc16f]No ledger context for PUT_STATE. Sending ERROR\n```","username":"jrosmith","ts":"2017-12-04T20:01:41.261Z"}
{"msg":"@jrosmith First, make sure that the queries have corresponding indexes, see https://github.com/hyperledger/fabric/blob/release/examples/chaincode/go/marbles02/marbles_chaincode.go#L39","username":"dave.enyeart","ts":"2017-12-05T11:39:58.152Z"}
{"msg":"Also check ulimit settings to handle \"too many open files\"","username":"dave.enyeart","ts":"2017-12-05T11:40:35.811Z"}
{"msg":"@dave.enyeart thank you! will look into this","username":"jrosmith","ts":"2017-12-05T14:47:31.817Z"}
{"msg":"@dave.enyeart as a follow up, do i need to increase the ulimit of the docker container since the chaincode is the one executing the query?","username":"jrosmith","ts":"2017-12-05T15:28:41.932Z"}
{"msg":"if the error is coming from couchdb side, then it needs to be resolved on couchdb side only","username":"dave.enyeart","ts":"2017-12-05T15:50:09.651Z"}
{"msg":"@dave.enyeart Why has https://jira.hyperledger.org/browse/FAB-2877 been rejected? It seems to be a sensible approach to expose statedb index management programmatically to the chaincode. If I understand it correctly, it looks like we are moving to configuration files taking care of that? (https://jira.hyperledger.org/browse/FAB-3067). Thanks.","username":"minollo","ts":"2017-12-05T18:11:27.154Z"}
{"msg":"@minollo I've added comments to FAB-3067:","username":"dave.enyeart","ts":"2017-12-05T18:24:12.995Z"}
{"msg":"@minollo I've added comments to FAB-2877:","username":"dave.enyeart","ts":"2017-12-05T18:24:12.995Z"}
{"msg":"Index creation is not a data transaction that needs to be ordered and recorded on chain.  Rather it is a configuration that should be agreed to as part of the chaincode package, and applied once chaincode is installed and configured on a channel.  Therefore indexes will be managed as part of chaincode lifecycle (FAB-3067) rather than as a data transaction.  For some databases the indexes must be applied manually, which again is more aligned with chaincode lifecycle than a sequenced data transaction.","username":"dave.enyeart","ts":"2017-12-05T18:24:14.863Z"}
{"msg":"@dave.enyeart Hm; it looks like in general having some \"DDL\" side to a chaincode would be desirable; and I understand if that's detached from the code handling data. Still, if one day I have a statedb which supports SQL, the last thing I would want to do is to express indexes in a property file differently from the language that I (or my developers) already know how to use (SQL)... I also have the impression that at some point, similarly to how we want to let users control indexes, we will also want them to be able to (even if not being compelled to) declare types associated to keys used by chaincode; plenty of benefit in doing that... Anyway. thanks for the clarification.","username":"minollo","ts":"2017-12-05T18:30:01.602Z"}
{"msg":"@minollo I agree, if using a relational database the index definition in the chaincode install package would be in the form of a SQL DDL statement.","username":"dave.enyeart","ts":"2017-12-05T18:32:08.838Z"}
{"msg":"@minollo I agree, if using a relational database the index definition in the chaincode install package would be in the form of SQL DDL statements.","username":"dave.enyeart","ts":"2017-12-05T18:32:08.838Z"}
{"msg":"What does this error mean? Promise is rejected: Error: Failed to deserialize creator identity, err the supplied identity is not valid: x509: certificate signed by unknown authority","username":"muasif80","ts":"2017-12-06T12:21:17.246Z"}
{"msg":"it means that the network does not have the CA which signed the identity among it's trusted roots in the config block","username":"Vadim","ts":"2017-12-06T12:21:57.376Z"}
{"msg":"it means that the network does not have the CA which signed the identity among its trusted roots in the config block","username":"Vadim","ts":"2017-12-06T12:21:57.376Z"}
{"msg":"Hi all .   When new peer join an existing channel , I think they need to install chaincode . So when I try to install chaincode from peer terminal `peer chaincode install -n firstchaincode -v 1.0 -p firtchaincode` I am getting error ```Error: Error getting chaincode code chaincode: <go, [env]>: failed with error: \"exec: not started\"``` . Is something missing in peer docker image or any package which I need to install in peer terminal ?\n`","username":"MohammadObaid","ts":"2017-12-06T17:52:28.751Z"}
{"msg":"@Vadim Ok thanks. I don't know what wrong i did but I could only resolve it by downloading fabric-samples fresh and then running the example.","username":"muasif80","ts":"2017-12-07T10:55:42.491Z"}
{"msg":"Has joined the channel.","username":"naveenv","ts":"2017-12-08T05:09:33.813Z","type":"uj"}
{"msg":"hey all, is there any way view the read/write sets for a given block? i've asked #fabric-peer-endorser-committer and #fabric-sdk-node and have been bumped here. i know i can't explicitly see it in the peer logs, and i've looked through the block events that get emitted and have not been able to access them. anything i can potentially do with couchDB to get this visibility?","username":"jrosmith","ts":"2017-12-08T15:04:54.995Z"}
{"msg":"@jrosmith I think you can use e.g. node-sdk to retrieve the block, it returns you a json where you can see rwsets","username":"Vadim","ts":"2017-12-08T15:23:44.903Z"}
{"msg":"@Vadim that block is also emitted if i have a handler for block events, right? i stepped through that json for an invoke and found the property `ns_rwset` but it was an array of length 0","username":"jrosmith","ts":"2017-12-08T15:25:17.391Z"}
{"msg":"maybe try with channel.queryBlock if you see rwsets","username":"Vadim","ts":"2017-12-08T15:25:53.725Z"}
{"msg":"maybe try with channel.queryBlock() if you see rwsets there","username":"Vadim","ts":"2017-12-08T15:25:53.725Z"}
{"msg":"will do, thank you!","username":"jrosmith","ts":"2017-12-08T15:26:06.965Z"}
{"msg":"@jrosmith  block events do nil out the rwset, but i believe from node sdk you can ask for a block and it will give you the full block including rwset.  i'm sorry to bounce you around again but I think the folks in  #fabric-sdk-node could explain how to get the rwset.  Concerning CouchDB state db, it only keeps the CURRENT values for keys, while the block's rwsets have all historical writes recorded.","username":"dave.enyeart","ts":"2017-12-08T16:55:49.473Z"}
{"msg":"Has left the channel.","username":"gdinhof","ts":"2017-12-08T17:02:28.977Z","type":"ul"}
{"msg":"@dave.enyeart all good, i've set up a block explorer so i'll start stepping through the information there. thank you so much for your help!","username":"jrosmith","ts":"2017-12-08T17:33:18.272Z"}
{"msg":"","username":"muasif80","ts":"2017-12-08T21:48:31.919Z","attachments":[{"type":"file","title":"Clipboard - December 9, 2017 2:48 AM","title_link":"/file-upload/u2sT3TMDicFbrJpGk/Clipboard - December 9, 2017 2:48 AM","image_url":"/file-upload/u2sT3TMDicFbrJpGk/Clipboard - December 9, 2017 2:48 AM","image_type":"image/png","image_size":69939,"url":"/file-upload/u2sT3TMDicFbrJpGk/Clipboard - December 9, 2017 2:48 AM","remote":false,"fileId":"u2sT3TMDicFbrJpGk","fileName":"Clipboard - December 9, 2017 2:48 AM"}]}
{"msg":"In the attached image above, I have run the first-network example. It launched the four peers and the orderer. \n\nI cant understand the containers whose names are started with `dev` why they are launched as separate containers? i think they are for the chain codes but why separate containers than the original peer nodes?","username":"muasif80","ts":"2017-12-08T21:50:56.770Z"}
{"msg":"Has joined the channel.","username":"eclairamb","ts":"2017-12-08T22:30:11.865Z","type":"uj"}
{"msg":"@muasif80 A separate Docker container is created for each version of a chaincode per peer.  The *dev* in the name is the name of your Hyperledger Fabric network, which defaults to *dev*.   Also, remember that you are not required to run your peer in a Docker container, you could run it as a native process on your OS.  But chaincode always runs in a Docker container, unless you are in chaincode dev mode","username":"silliman","ts":"2017-12-08T22:32:55.226Z"}
{"msg":"@silliman Ok thanks.","username":"muasif80","ts":"2017-12-09T05:31:46.510Z"}
{"msg":"Has joined the channel.","username":"elie","ts":"2017-12-11T10:42:54.272Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alexandra_g","ts":"2017-12-11T18:29:13.279Z","type":"uj"}
{"msg":"Has joined the channel.","username":"guolidong","ts":"2017-12-12T05:59:14.391Z","type":"uj"}
{"msg":"When we deploy a chain-code and perform some invokes (i.e. transactions), it stores some STATES and TRANSACTION-DATA on underlying distributed ledger. \nNow if we modify the source code of the same chain-code and deploy it again, all the previously stored STATES and DATA are gone. \n\nPlease suggest us a way so that we can keep Chaincode separate from STATES and ledger DATA , so that any redeployment of Chaincode would not affect STATES and ledger DATA.\n\nAny help would be \nBest Regards.","username":"SyneBlockChainTeam","ts":"2017-12-12T09:33:51.530Z"}
{"msg":"When we deploy a chain-code and perform some invokes (i.e. transactions), it stores some STATES and TRANSACTION-DATA on underlying distributed ledger. \nNow if we modify the source code of the same chain-code and deploy it again, all the previously stored STATES and DATA are gone. \n\nPlease suggest us a way so that we can keep Chaincode separate from STATES and ledger DATA , so that any redeployment of Chaincode would not affect STATES and ledger DATA.\n\nWe appreciate any help, clue.\n\nBest Regards.","username":"SyneBlockChainTeam","ts":"2017-12-12T09:33:51.530Z"}
{"msg":"@SyneBlockChainTeam you need to upgrade the chaincode","username":"Vadim","ts":"2017-12-12T09:34:15.236Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=wNXETdCAEBk7Bbozs) @Vadim \n\nWhen we say upgradation of chaincode, does this mean.... redeployment of chaincode after some modification in its source code (the .go file).\nIf so, we loose out previous STATES and DATA whenever we redeploy it.","username":"SyneBlockChainTeam","ts":"2017-12-12T09:36:28.190Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wNXETdCAEBk7Bbozs","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wNXETdCAEBk7Bbozs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SyneBlockChainTeam I mean if you want to preserve the state, you should use `peer chaincode upgrade` instead of `peer chaincode instantiate`","username":"Vadim","ts":"2017-12-12T09:37:17.581Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=btHKEsLffqEXacB6j) @Vadim \n\ngreat!!\n\nthanks Vadim","username":"SyneBlockChainTeam","ts":"2017-12-12T09:37:42.466Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=btHKEsLffqEXacB6j","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=btHKEsLffqEXacB6j","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SyneBlockChainTeam the new chaincode should have the same name as the already deployed one, but different version","username":"Vadim","ts":"2017-12-12T09:38:22.313Z"}
{"msg":"@SyneBlockChainTeam the new chaincode should have the same name as the already deployed one, but different version","username":"Vadim","ts":"2017-12-12T09:38:22.313Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=4YGj4kWQCLgMiaXB6) @Vadim \n\noh I see, we will follow this approach. and this will save a big efforts... Thanks!!","username":"SyneBlockChainTeam","ts":"2017-12-12T09:39:43.299Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4YGj4kWQCLgMiaXB6","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4YGj4kWQCLgMiaXB6","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Vadim, there is one small query...\n\nCan we share DATA between multiple channels ?","username":"SyneBlockChainTeam","ts":"2017-12-12T10:02:34.242Z"}
{"msg":"@SyneBlockChainTeam you can read data from one channel in one tx and write it to another channel in another tx","username":"Vadim","ts":"2017-12-12T10:03:25.562Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg) @Vadim \n\nThat means, if we are executing an API of a chaincode ( on Channel 1 ), from within that API we can not call another API of different chaincode ( Of Channel 2 )\n\n\n\n","username":"SyneBlockChainTeam","ts":"2017-12-12T10:10:18.749Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg) @Vadim \n\nThat means, if we are executing an API of a chaincode ( on Channel 1 ), from within that API we can not call another API of different chaincode ( Of Channel 2 )\n\nHere is a sample diagram of our scenario... (Please find attached)\n\n","username":"SyneBlockChainTeam","ts":"2017-12-12T10:10:18.749Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg) @Vadim \n\nThat means, if we are executing an API of a chaincode ( on Channel 1 ), from within that API we can not call another API of different chaincode ( Of Channel 2 )\n\nHere is a sample diagram of our scenario... (Please refer below attachment)\n\n","username":"SyneBlockChainTeam","ts":"2017-12-12T10:10:18.749Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg) @Vadim \n\nThat means, if we are executing an API of a chaincode ( on Channel 1 ), from within that API we can not call another API of different chaincode ( Of Channel 2 )\n\nHere is a sample diagram of our scenario... (Please refer attached image)\n\n","username":"SyneBlockChainTeam","ts":"2017-12-12T10:10:18.749Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tiBYfeSqfcGsKYYfg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"","username":"SyneBlockChainTeam","ts":"2017-12-12T10:25:38.556Z","attachments":[{"type":"file","title":"2 Channels with Multiple Orgs (Data Sharing).png","title_link":"/file-upload/NveDpa8kMNyNG8gZn/2 Channels with Multiple Orgs (Data Sharing).png","image_url":"/file-upload/NveDpa8kMNyNG8gZn/2 Channels with Multiple Orgs (Data Sharing).png","image_type":"image/png","image_size":26716,"url":"/file-upload/NveDpa8kMNyNG8gZn/2 Channels with Multiple Orgs (Data Sharing).png","remote":false,"fileId":"NveDpa8kMNyNG8gZn","fileName":"2 Channels with Multiple Orgs (Data Sharing).png"}]}
{"msg":"","username":"SyneBlockChainTeam","ts":"2017-12-12T10:26:35.567Z","attachments":[{"type":"file","title":"2 Channels with Multiple Orgs (Data Sharing).png","title_link":"/file-upload/sN7ZvfLCtpsY4tgXo/2 Channels with Multiple Orgs (Data Sharing).png","image_url":"/file-upload/sN7ZvfLCtpsY4tgXo/2 Channels with Multiple Orgs (Data Sharing).png","image_type":"image/png","image_size":26716,"url":"/file-upload/sN7ZvfLCtpsY4tgXo/2 Channels with Multiple Orgs (Data Sharing).png","remote":false,"fileId":"sN7ZvfLCtpsY4tgXo","fileName":"2 Channels with Multiple Orgs (Data Sharing).png"}]}
{"msg":"@SyneBlockChainTeam you can execute cross-channel queries, but not transactions that write data","username":"Vadim","ts":"2017-12-12T10:28:00.254Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\nCHANNEL1:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record with *REQUESTED* status.\nBanker reads this loan record and approves it, generate loan offer with *APPROVED* status.\n\nCHANNEL2:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\nCHANNEL1:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record with *REQUESTED* status.\nBanker reads this loan record and approves it, generates loan offer with *APPROVED* status.\n\nCHANNEL2:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\nCHANNEL1:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record with *REQUESTED* status.\nBanker reads this loan record and approves it, generates loan offer with *APPROVED* status.\n\nCHANNEL2:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\n(This scenario is depicted in above diagram)\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\nCHANNEL1:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record (e.g. LOAN0001) with *REQUESTED* status.\nBanker reads this loan record LOAN0001 and approves it, generates loan offer with *APPROVED* status.\n\nCHANNEL2:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan record LOAN0001 from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\n(This scenario is depicted in above diagram)\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\n*CHANNEL1*:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record (e.g. LOAN0001) with *REQUESTED* status.\nBanker reads this loan record LOAN0001 and approves it, generates loan offer with *APPROVED* status.\n\n*CHANNEL2*:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan record LOAN0001 from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\n(This scenario is depicted in above diagram)\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\n*CHANNEL1*:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record (e.g. LOAN0001) with *REQUESTED* status.\nBanker reads this loan record LOAN0001 and approves it, generates loan offer with *APPROVED* status.\n\n*CHANNEL2*:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan record LOAN0001 from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\n(_This scenario is depicted in above diagram_)\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\n*CHANNEL1*:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record (e.g. LOAN0001) with *REQUESTED* status.\nBanker reads this loan record LOAN0001 and approves it, generates loan offer with *APPROVED* status.\n\n*CHANNEL2*:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan record LOAN0001 from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\n_This scenario is depicted in above diagram_\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo) @Vadim \n\noh, is there some standard way to achieve following scenario\n\n*CHANNEL1*:\nBuyer and Banker chaincode exists on CHANNEL1. \nBuyer creates Loan record (e.g. LOAN0001) with *REQUESTED* status.\nBanker reads this loan record LOAN0001 and approves it, generates loan offer with *APPROVED* status.\n\n*CHANNEL2*:\n\"Legal Person\" chaincode exists on CHANNEL2.\nLegal person should read the same loan record LOAN0001 from CHANNEL1, do some Inspection and verification. And finally change the status of loan as *TRANSFERRED* on CHANNEL1.\n\n( _This scenario is depicted in above diagram_ )\n\nPlease give some clue to achieve this scenario.\n\nThanks.","username":"SyneBlockChainTeam","ts":"2017-12-12T11:32:55.701Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HrXPsbfe63Bxnopqo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SyneBlockChainTeam why do you need several channels in this scenario?","username":"Vadim","ts":"2017-12-12T11:49:14.681Z"}
{"msg":"I [ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Hw6gbPEE8jGbuyGBC) @Vadim \n\nTo achieve the privatization of the data the legal should not see the Bank and Buyer loan data but can see the data specific to legal from the loan data. ","username":"SyneBlockChainTeam","ts":"2017-12-12T12:27:18.844Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Hw6gbPEE8jGbuyGBC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Hw6gbPEE8jGbuyGBC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I [ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Hw6gbPEE8jGbuyGBC) @Vadim \n\nTo achieve the privatization of the data the legal should not see the Bank and Buyer loan data but can see the data specific to legal from the loan data.  But legal also need to modify loan data .","username":"SyneBlockChainTeam","ts":"2017-12-12T12:27:18.844Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Hw6gbPEE8jGbuyGBC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Hw6gbPEE8jGbuyGBC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SyneBlockChainTeam you said that the legal read the loan","username":"Vadim","ts":"2017-12-12T12:27:59.829Z"}
{"msg":"this means that the legal is a part of channel1","username":"Vadim","ts":"2017-12-12T12:28:21.969Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=YngipgEfyX24mHtFC) @Vadim legal is part of channel 2 and only have part of the data not whole loan","username":"SyneBlockChainTeam","ts":"2017-12-12T12:30:28.557Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YngipgEfyX24mHtFC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YngipgEfyX24mHtFC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZJ3EFqADXhahcp96p) how does he read the loan from channel1 then?","username":"Vadim","ts":"2017-12-12T12:31:01.392Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZJ3EFqADXhahcp96p","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZJ3EFqADXhahcp96p","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=eA8SzPcrXf656voSc) @Vadim  he can do through cross-channel queries","username":"SyneBlockChainTeam","ts":"2017-12-12T12:31:58.985Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=eA8SzPcrXf656voSc","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=eA8SzPcrXf656voSc","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SyneBlockChainTeam to be able to do cross-channel queries, he needs to be a part of both channels","username":"Vadim","ts":"2017-12-12T12:35:39.957Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=aoNJDpkiKzWFERahG) @Vadim yes thats true in above case buyer is common in both channel","username":"SyneBlockChainTeam","ts":"2017-12-12T12:37:03.499Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=aoNJDpkiKzWFERahG","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=aoNJDpkiKzWFERahG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"legal too if he reads from channel1","username":"Vadim","ts":"2017-12-12T12:37:35.061Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=nwHKugYTtdYMeMWbR) @Vadim how to do privatization data ? if legal is part of the channel 1 he can see all the loan data","username":"SyneBlockChainTeam","ts":"2017-12-12T12:59:30.779Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nwHKugYTtdYMeMWbR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nwHKugYTtdYMeMWbR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SyneBlockChainTeam fabric is good with managed inter-org privacy, but what you want is hard to achieve using chancode-only, so you probably need to orchestrate the process from the client application... If you want a pure blockchain solution, I'd look towards Corda.","username":"Vadim","ts":"2017-12-12T13:04:23.779Z"}
{"msg":"@SyneBlockChainTeam fabric is good with managing inter-org privacy, but what you want is hard to achieve using chancode-only, so you probably need to orchestrate the process from the client application... If you want a pure blockchain solution, I'd look towards Corda.","username":"Vadim","ts":"2017-12-12T13:04:23.779Z"}
{"msg":"@SyneBlockChainTeam also, the sidedb feature of fabric might help you, but it's not available yet (should be in 1.1)","username":"Vadim","ts":"2017-12-12T13:19:58.627Z"}
{"msg":"Has joined the channel.","username":"PetrVlasekCA","ts":"2017-12-12T16:50:06.737Z","type":"uj"}
{"msg":"Has joined the channel.","username":"frankz","ts":"2017-12-13T12:37:51.463Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Khaled.MH","ts":"2017-12-13T14:57:41.540Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bruteforced","ts":"2017-12-17T14:59:15.811Z","type":"uj"}
{"msg":"Has joined the channel.","username":"qingsongGuo","ts":"2017-12-19T02:46:19.598Z","type":"uj"}
{"msg":"Has left the channel.","username":"jon_s","ts":"2017-12-19T04:54:48.352Z","type":"ul"}
{"msg":"Has joined the channel.","username":"zhishui","ts":"2017-12-19T08:11:10.238Z","type":"uj"}
{"msg":"Hi people. I am getting an error while sending concurrent invoke transactions in the peer container ``` 94805:2017-12-19 07:24:12.542 UTC [lscc] Invoke -> ERRO 1713c error getting chaincode mycc on channel: mychannel(err:transaction not found [f52ad62b]No ledger context for GetState. Sending ERROR) ```. I am using fabric v1.0 images with node SDK for v1.0. Any Ideas ? Thanks :)","username":"ArnabChatterjee","ts":"2017-12-19T11:06:20.770Z"}
{"msg":"Hi people. I am getting an error while sending concurrent invoke transactions in the peer container ``` 94805:2017-12-19 07:24:12.542 UTC [lscc] Invoke -> ERRO 1713c error getting chaincode mycc on channel: mychannel(err:transaction not found [f52ad62b]No ledger context for GetState. Sending ERROR) ```. I am using fabric v1.0 images with node SDK for v1.0. Any Ideas ? Thanks :) @Vadim ","username":"ArnabChatterjee","ts":"2017-12-19T11:06:20.770Z"}
{"msg":"Hi people. I am getting an error while sending concurrent invoke transactions in the peer container ``` 94805:2017-12-19 07:24:12.542 UTC [lscc] Invoke -> ERRO 1713c error getting chaincode mycc on channel: mychannel(err:transaction not found [f52ad62b]No ledger context for GetState. Sending ERROR) ```. I am using fabric v1.0 images with node SDK for v1.0. Any Ideas @Vadim ? Thanks :) ","username":"ArnabChatterjee","ts":"2017-12-19T11:06:20.770Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=DjrBStJG77ReqGzH5) @dave.enyeart Hi Dave, many thanks.   So, the client code could review the endorsement results and detect any inconsistencies.  If the client code does not check and submits the transaction with the bad endorsement, how do the committing peers determine that there is a bad endorsement.   I was looking at the code here: https://github.com/hyperledger/fabric/blob/2cab745abf031d8ff5d3e8f4fa7a5e5af8907fad/core/common/validation/msgvalidation.go   Thanks!!","username":"tennenjl","ts":"2017-12-19T17:58:40.007Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DjrBStJG77ReqGzH5","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DjrBStJG77ReqGzH5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@tennenjl At validation time, all peers check the N endorsement signatures against the endorsement data, and again, would detect if an endorsing peer's signature didn't match and would therefore invalidate the transaction.","username":"dave.enyeart","ts":"2017-12-19T18:01:37.647Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=YCzshcZrb88wHaraM) @dave.enyeart Thanks, I was thinking about a scenario where the state db was tampered with for a specific peer, the peer doesn't know the data has been tampered with.   It signs the request.  The client doesn't check and then sends the signed response to the orderers.","username":"tennenjl","ts":"2017-12-19T18:03:41.168Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YCzshcZrb88wHaraM","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YCzshcZrb88wHaraM","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yep, this will still be detected on all peers at validation time before the commit","username":"dave.enyeart","ts":"2017-12-19T18:04:10.104Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bgAn9CpaN9dxqCscw) @dave.enyeart How does it detect that the write set is wrong?","username":"tennenjl","ts":"2017-12-19T18:05:03.015Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bgAn9CpaN9dxqCscw","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bgAn9CpaN9dxqCscw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"the RW set is part of the endorsement data that is signed over, and per my prior comment each of the endorsing peer signatures would be checked.  If one of the peers signed over different RW set, that is detected upon validation prior to commit.","username":"dave.enyeart","ts":"2017-12-19T18:06:30.112Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=htuqqhgiLY3aXMedR) @dave.enyeart Thanks, just trying to determine where and how.","username":"tennenjl","ts":"2017-12-19T18:07:20.690Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=htuqqhgiLY3aXMedR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=htuqqhgiLY3aXMedR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@tennenjl The N endorser signatures are checked here: https://github.com/hyperledger/fabric/blob/2cab745abf031d8ff5d3e8f4fa7a5e5af8907fad/core/scc/vscc/validator_onevalidsignature.go#L142-L148","username":"dave.enyeart","ts":"2017-12-19T18:15:09.044Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=iBnyKeG2hXhC7wZpm) @dave.enyeart If I understand that correctly it will check the number of signatures, which is a little different then what I am asking","username":"tennenjl","ts":"2017-12-19T18:16:41.661Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=iBnyKeG2hXhC7wZpm","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=iBnyKeG2hXhC7wZpm","remote":true,"fileId":null,"fileName":null}]}
{"msg":"It checks EACH of the signatures","username":"dave.enyeart","ts":"2017-12-19T18:17:56.255Z"}
{"msg":"It validates EACH of the signatures","username":"dave.enyeart","ts":"2017-12-19T18:17:56.255Z"}
{"msg":"It validates EACH of the signatures against the proposal response payload","username":"dave.enyeart","ts":"2017-12-19T18:17:56.255Z"}
{"msg":"It validates EACH of the endorser signatures against the proposal response payload","username":"dave.enyeart","ts":"2017-12-19T18:17:56.255Z"}
{"msg":"not just the number","username":"dave.enyeart","ts":"2017-12-19T18:18:06.617Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZFDNopM7znk39FHAZ) @dave.enyeart Thank you so much, is there any specific lines I should look at.  I can drill down a bit, but thanks a bunch for any pointers.","username":"tennenjl","ts":"2017-12-19T18:25:43.639Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZFDNopM7znk39FHAZ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZFDNopM7znk39FHAZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"drill into deduplicateIdentity() function.  you'll see that it builds a SignedData object for EACH of the endorsers","username":"dave.enyeart","ts":"2017-12-19T18:27:11.445Z"}
{"msg":"each of the SignedDatas will get evaluated in Evaluate()","username":"dave.enyeart","ts":"2017-12-19T18:27:38.867Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=odS7kCPQvFQuwayjY) @dave.enyeart Thanks!!!  I will take a look.  :beer:","username":"tennenjl","ts":"2017-12-19T18:29:26.771Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=odS7kCPQvFQuwayjY","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=odS7kCPQvFQuwayjY","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"DRSK","ts":"2017-12-20T04:55:19.621Z","type":"uj"}
{"msg":"Hi, Could anyone please tell me whether the fabcar sample has implementation for the ledger(worldstate) also.Because at present whatever transactions i make like changing the car owner affects the couchdb only.So when is it getting validated and committed in ledger(the so called immutable storage)?","username":"DRSK","ts":"2017-12-20T04:56:16.192Z"}
{"msg":"@DRSK what do you expect it should affect? The couchdb represents the world state, the ledger is the history of tx which is stored on the filesystem, in other words, history of changes to the world state. You have a possibility to check how the state identified by a certain key has been changing over time with stub.GetHistoryForKey()","username":"Vadim","ts":"2017-12-20T08:22:50.790Z"}
{"msg":"Has joined the channel.","username":"ynkumar143","ts":"2017-12-20T08:55:53.098Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pb","ts":"2017-12-20T10:14:45.187Z","type":"uj"}
{"msg":"@Vadim Hi,I have been going through the fabric documentation.It mentions about a stateDB to which all the transactions uncommitted transactions are stored temporarily. So how it is implemented in  fabcar?","username":"pb","ts":"2017-12-20T10:20:33.475Z"}
{"msg":"where did you see that statement?","username":"Vadim","ts":"2017-12-20T10:21:11.408Z"}
{"msg":"@DRSK I have the same doubt.","username":"pb","ts":"2017-12-20T10:21:25.783Z"}
{"msg":"@Vadim  sorry i found it in edx hyperledger fabric tutorial.","username":"pb","ts":"2017-12-20T10:49:35.567Z"}
{"msg":"here is the link to course page:\n https://courses.edx.org/courses/course-v1:LinuxFoundationX+LFS171x+3T2017/courseware/f0db5224eb0e4bbb8cc1e93a6819012c/5ebddaca983d4d6d952e83f95ea9e281/?child=first\n","username":"pb","ts":"2017-12-20T10:50:55.104Z"}
{"msg":"there is a state db with fabcar (or any other cc) uses, but it's not temporary. Perhaps there it's some implementation detail that they mentioned in that tutorial that I'm not aware of.","username":"Vadim","ts":"2017-12-20T10:51:33.935Z"}
{"msg":"there is a state db which fabcar (or any other cc) uses, but it's not temporary. Perhaps there it's some implementation detail that they mentioned in that tutorial that I'm not aware of.","username":"Vadim","ts":"2017-12-20T10:51:33.935Z"}
{"msg":"Here is the content and statements that confused me:\nThe current state data represents the latest values for all assets in the ledger. Since the current state represents all the committed transactions on the channel, it is sometimes referred to as world state.\n\nChaincode invocations execute transactions against the current state data. To make these chaincode interactions extremely efficient, the latest key/value pairs for each asset are stored in a state database. The state database is simply an indexed view into the chain’s committed transactions. It can therefore be regenerated from the chain at any time. The state database will automatically get recovered (or generated, if needed) upon peer startup, before new transactions are accepted. The default state database, LevelDB, can be replaced with CouchDB.\n\nLevelDB is the default key/value state database for Hyperledger Fabric, and simply stores key/value pairs.\nCouchDB is an alternative to LevelDB. Unlike LevelDB, CouchDB stores JSON objects. CouchDB is unique in that it supports keyed, composite, key range, and full data-rich queries.\nHyperledger Fabric’s LevelDB and CouchDB are very similar in their structure and function. Both LevelDB and CouchDB support core chaincode operations, such as getting and setting key assets, and querying based on these keys. With both, keys can be queried by range, and composite keys can be modeled to enable equivalence queries against multiple parameters. But, as a JSON document store, CouchDB additionally enables rich query against the chaincode data, when chaincode values (e.g. assets) are modeled as JSON data.","username":"pb","ts":"2017-12-20T10:51:54.838Z"}
{"msg":"so where is the statement about \" a stateDB to which all the transactions uncommitted transactions are stored temporarily. \"?","username":"Vadim","ts":"2017-12-20T10:53:12.228Z"}
{"msg":"@Vadim  So, u mean there is just 2 things, \n1) A *db* where data( committed / uncommitted until rollback) is stored,which can be a couch/level db\n2) and a *ledger* ,ie just a log file to which all history of so far happened transactions are recorded?\nLedger is what that implements the main feature of block chain, i.e *immutability*?","username":"DRSK","ts":"2017-12-20T10:59:48.995Z"}
{"msg":"1) yes, but there all data is always committed\n2) I would not call it \"just a log file\" as it heavily oversimplified, but this is the blockchain data itself and immutability is a property of a blockchain.","username":"Vadim","ts":"2017-12-20T11:01:55.475Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=kHdYSPix8WDtBAcfB) @Vadim \nso could you please tell how this  ledger is actually implemented and made immutable in fabcar sample?","username":"pb","ts":"2017-12-20T11:05:22.104Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kHdYSPix8WDtBAcfB","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kHdYSPix8WDtBAcfB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"fabcar sample does not implement any ledger","username":"Vadim","ts":"2017-12-20T11:05:43.508Z"}
{"msg":"so where can i find implementation for ledger.Because without it, isn't the sample meaningless as it doesn't exhibit the property of a block chain?","username":"pb","ts":"2017-12-20T11:08:30.869Z"}
{"msg":"Fabric itself provides the ledger, not the chaincode or application layer.  Every time you submit a transaction it gets added to the ledger.","username":"dave.enyeart","ts":"2017-12-20T11:37:56.810Z"}
{"msg":"For implementation, you can find it here:","username":"dave.enyeart","ts":"2017-12-20T11:38:03.222Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release/common/ledger/ledger_interface.go","username":"dave.enyeart","ts":"2017-12-20T11:38:07.144Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release/core/ledger/ledger_interface.go","username":"dave.enyeart","ts":"2017-12-20T11:38:30.111Z"}
{"msg":"'Common' ledger is shared between ordering service and peers","username":"dave.enyeart","ts":"2017-12-20T11:42:01.054Z"}
{"msg":"'Core' ledger extends it for peer-specific functions, for example to support chaincode operations.","username":"dave.enyeart","ts":"2017-12-20T11:42:24.853Z"}
{"msg":"So the endorsed transactions get added to which ledger: common / core / both ? Also, is it possible to view the ledger?","username":"DRSK","ts":"2017-12-20T11:52:02.287Z"}
{"msg":"Both.  Transactions that get submitted to ordering service get added to it's 'common' ledger, and then when peers receive the blocks from ordering service they are added to it's 'core' ledger.","username":"dave.enyeart","ts":"2017-12-20T11:55:29.533Z"}
{"msg":"The blockchain is a binary data structure on disk, there is a blockchain explorer to view the data: https://github.com/hyperledger/blockchain-explorer","username":"dave.enyeart","ts":"2017-12-20T11:56:29.553Z"}
{"msg":"@dave.enyeart  Thanks a lot for such a descriptive response. I am very new to this and hence so many doubts which might be silly.... \nThe document also says that once the ordering service sends blocks to peers they again does a re-validation. So it might be after that validation it gets added to the core ledger right? Just in case the validation fails, what will happen to the transactions already added to the common ledger?","username":"DRSK","ts":"2017-12-20T12:06:45.464Z"}
{"msg":"Thanks a lot for such a descriptive response. I am very new to this and hence so many doubts which might be silly.... \nThe document also says that once the ordering service sends blocks to peers they again does a re-validation. So it might be after that validation it gets added to the core ledger right? Just in case the validation fails, what will happen to the transactions already added to the common ledger?","username":"DRSK","ts":"2017-12-20T12:06:45.464Z"}
{"msg":"Transactions that get invalidated remain on both orderer ledger and peer ledger, it's just that on the peer ledger there is also an indicator of which transactions got invalidated.  The invalid transactions do not get applied to state database though, so they have no effect.  You can read more details here: http://hyperledger-fabric.readthedocs.io/en/release/ledger.html","username":"dave.enyeart","ts":"2017-12-20T12:13:00.528Z"}
{"msg":"Has joined the channel.","username":"MR","ts":"2017-12-20T13:26:49.027Z","type":"uj"}
{"msg":"not sure if this is the right place to bring this up or not, but i ran into an error while executing concurrent read-only queries against the statedb.\n\nin my chaincode i have a function that first performs a `GetState` to check the status of an item in the stateDB, and if a condition is true it executes a more complex rich query with `GetQueryResult`. there are multiple status checks so instead of doing all of the checks synchronously in series i made a worker pool that immediately has a worker do the complex rich query when required and the other `GetState` checks can proceed.\n\nin the case where more than one `GetQueryResult` task was dispatched to the pool i kept getting a `channel exists` error. i traced it down to https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/handler.go#L108. it looks like a specific transaction can only support one connection to the stateDB at a given time. this makes sense to me for actions that get inserted into the read/write set, but why can't we have concurrent connections to the stateDB for read only interactions?\n","username":"jrosmith","ts":"2017-12-20T20:32:15.733Z"}
{"msg":"@muralisr What do you think about jrosmith's question above?","username":"dave.enyeart","ts":"2017-12-20T22:06:07.890Z"}
{"msg":"@jrosmith if I understood correctly, you are attempting to optimize queries by executing several \"GetXX\" queries concurrently from the chaincode. This is not allowed (at least currently) stub.apicall(...) access has to be serial","username":"muralisr","ts":"2017-12-20T22:08:44.434Z"}
{"msg":"Didn't we have that batch GetXX @muralisr  ? ","username":"yacovm","ts":"2017-12-20T22:09:53.501Z"}
{"msg":"I heard someone added that ","username":"yacovm","ts":"2017-12-20T22:09:59.595Z"}
{"msg":"not sure @yacovm ... such a \"batch\" query would have to be relayed and executed directly in the ledger, Id think. From the CC Pov. it'll still be 1 GetXXX call","username":"muralisr","ts":"2017-12-20T22:11:35.615Z"}
{"msg":"is that what you mean ?","username":"muralisr","ts":"2017-12-20T22:11:41.668Z"}
{"msg":"I thought there was a change set","username":"yacovm","ts":"2017-12-20T22:11:48.947Z"}
{"msg":"that supported several keys in the Get() ","username":"yacovm","ts":"2017-12-20T22:11:59.535Z"}
{"msg":"there was a JIRA proposal","username":"C0rWin","ts":"2017-12-20T22:12:05.098Z"}
{"msg":"ok","username":"muralisr","ts":"2017-12-20T22:12:07.796Z"}
{"msg":"I saw a change set once","username":"yacovm","ts":"2017-12-20T22:12:10.956Z"}
{"msg":"while I haven't seen someone implemented it","username":"C0rWin","ts":"2017-12-20T22:12:14.160Z"}
{"msg":"not sure if it was merged or not","username":"yacovm","ts":"2017-12-20T22:12:15.737Z"}
{"msg":"it's not hard to implement, right? ;)","username":"yacovm","ts":"2017-12-20T22:12:25.756Z"}
{"msg":"yep. Sounds like a relayed query ","username":"muralisr","ts":"2017-12-20T22:12:28.081Z"}
{"msg":"no, it's not a relayed","username":"yacovm","ts":"2017-12-20T22:12:34.994Z"}
{"msg":"it's a batch ","username":"yacovm","ts":"2017-12-20T22:12:37.027Z"}
{"msg":"not saying it's hard","username":"C0rWin","ts":"2017-12-20T22:12:43.511Z"}
{"msg":"in the chaincode shim you mean","username":"muralisr","ts":"2017-12-20T22:12:49.135Z"}
{"msg":"just saying it's not in the master","username":"C0rWin","ts":"2017-12-20T22:12:50.387Z"}
{"msg":"https://gerrit.hyperledger.org/r/#/c/13493/","username":"yacovm","ts":"2017-12-20T22:13:07.504Z"}
{"msg":"here it is ^","username":"yacovm","ts":"2017-12-20T22:13:12.651Z"}
{"msg":"","username":"C0rWin","ts":"2017-12-20T22:13:47.771Z","attachments":[{"type":"file","title":"Clipboard - December 21, 2017 12:13 AM","title_link":"/file-upload/fkZRmTm8m5Q2tcjaH/Clipboard - December 21, 2017 12:13 AM","image_url":"/file-upload/fkZRmTm8m5Q2tcjaH/Clipboard - December 21, 2017 12:13 AM","image_type":"image/png","image_size":2909,"url":"/file-upload/fkZRmTm8m5Q2tcjaH/Clipboard - December 21, 2017 12:13 AM","remote":false,"fileId":"fkZRmTm8m5Q2tcjaH","fileName":"Clipboard - December 21, 2017 12:13 AM"}]}
{"msg":"I know","username":"yacovm","ts":"2017-12-20T22:13:51.762Z"}
{"msg":"looks like orphaned CR ","username":"C0rWin","ts":"2017-12-20T22:14:03.368Z"}
{"msg":"","username":"C0rWin","ts":"2017-12-20T22:14:37.406Z","attachments":[{"type":"file","title":"Clipboard - December 21, 2017 12:14 AM","title_link":"/file-upload/roFRtj28W9KBi2nDD/Clipboard - December 21, 2017 12:14 AM","image_url":"/file-upload/roFRtj28W9KBi2nDD/Clipboard - December 21, 2017 12:14 AM","image_type":"image/png","image_size":4506,"url":"/file-upload/roFRtj28W9KBi2nDD/Clipboard - December 21, 2017 12:14 AM","remote":false,"fileId":"roFRtj28W9KBi2nDD","fileName":"Clipboard - December 21, 2017 12:14 AM"}]}
{"msg":"I can't see this tiny font","username":"yacovm","ts":"2017-12-20T22:14:54.434Z"}
{"msg":"`ress, err := txContext.txsimulator.GetStateMultipleKeys(chaincodeID, keys)`","username":"muralisr","ts":"2017-12-20T22:14:57.358Z"}
{"msg":"can you enlarge it please?","username":"yacovm","ts":"2017-12-20T22:15:03.758Z"}
{"msg":":joy: ","username":"C0rWin","ts":"2017-12-20T22:15:06.872Z"}
{"msg":"zoom it","username":"C0rWin","ts":"2017-12-20T22:15:14.109Z"}
{"msg":"one set of keys is passed to the ledger....the compute is done there","username":"muralisr","ts":"2017-12-20T22:15:15.266Z"}
{"msg":"","username":"muralisr","ts":"2017-12-20T22:16:04.949Z","attachments":[{"type":"file","title":"Clipboard - December 20, 2017 5:16 PM","title_link":"/file-upload/ccsrcdetcJuFh8Ksz/Clipboard - December 20, 2017 5:16 PM","image_url":"/file-upload/ccsrcdetcJuFh8Ksz/Clipboard - December 20, 2017 5:16 PM","image_type":"image/png","image_size":77247,"url":"/file-upload/ccsrcdetcJuFh8Ksz/Clipboard - December 20, 2017 5:16 PM","remote":false,"fileId":"ccsrcdetcJuFh8Ksz","fileName":"Clipboard - December 20, 2017 5:16 PM"}]}
{"msg":"small enough for ya ? ;-)","username":"muralisr","ts":"2017-12-20T22:16:18.023Z"}
{"msg":"OK all I am trying to say that it would make sense to have this ability, because currently - the `GetState(), wait for the state to get back to you` ping pong is unnecesserily slow. ","username":"yacovm","ts":"2017-12-20T22:16:21.190Z"}
{"msg":"sure","username":"muralisr","ts":"2017-12-20T22:16:25.316Z"}
{"msg":"if we are doing multiple keys... AND know the keys apriori","username":"muralisr","ts":"2017-12-20T22:16:44.013Z"}
{"msg":"and @jrosmith can use this ability","username":"yacovm","ts":"2017-12-20T22:16:48.463Z"}
{"msg":"maybe","username":"muralisr","ts":"2017-12-20T22:17:08.931Z"}
{"msg":"we usually know the keys apriori when we use getState, and when we don't, we use a ranged query, is that not so?","username":"yacovm","ts":"2017-12-20T22:17:31.399Z"}
{"msg":"but definitely makes sense to include it ... seems the ledger supports multiple keys","username":"muralisr","ts":"2017-12-20T22:17:40.957Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=2pXwQF9CfdEsnYqQD) @yacovm unless you have conditions in the code","username":"C0rWin","ts":"2017-12-20T22:18:34.192Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2pXwQF9CfdEsnYqQD","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2pXwQF9CfdEsnYqQD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"right","username":"yacovm","ts":"2017-12-20T22:18:42.755Z"}
{"msg":"right that's what I was thinkibg of","username":"muralisr","ts":"2017-12-20T22:18:46.839Z"}
{"msg":"even so, its worth including","username":"muralisr","ts":"2017-12-20T22:18:56.353Z"}
{"msg":"if you getState once and then the next GetState depends on the first, that doesn't work","username":"yacovm","ts":"2017-12-20T22:19:01.914Z"}
{"msg":"yeap","username":"C0rWin","ts":"2017-12-20T22:19:02.973Z"}
{"msg":"but still it's good to have such capability","username":"C0rWin","ts":"2017-12-20T22:19:22.158Z"}
{"msg":"especially if some of the intelligence can be packed in the query","username":"muralisr","ts":"2017-12-20T22:19:23.315Z"}
{"msg":"I also never understood the putState deal, @muralisr ","username":"yacovm","ts":"2017-12-20T22:20:31.753Z"}
{"msg":"why do we need to wait for putstate?","username":"yacovm","ts":"2017-12-20T22:20:40.893Z"}
{"msg":"we can't read our writes","username":"yacovm","ts":"2017-12-20T22:20:56.722Z"}
{"msg":"in the ledger's simulator","username":"yacovm","ts":"2017-12-20T22:21:05.155Z"}
{"msg":"we can just send a put-state to the peer and continue the computation no?","username":"yacovm","ts":"2017-12-20T22:21:19.413Z"}
{"msg":"we may want to know if putstte succeed or not","username":"muralisr","ts":"2017-12-20T22:21:39.597Z"}
{"msg":"before proceeding","username":"muralisr","ts":"2017-12-20T22:21:43.349Z"}
{"msg":"but you are not writing to DB","username":"C0rWin","ts":"2017-12-20T22:21:53.392Z"}
{"msg":"why would it fail?","username":"C0rWin","ts":"2017-12-20T22:21:59.014Z"}
{"msg":"good to be cautious in the CC","username":"muralisr","ts":"2017-12-20T22:21:59.135Z"}
{"msg":"right... ","username":"yacovm","ts":"2017-12-20T22:22:01.887Z"}
{"msg":"exactly","username":"yacovm","ts":"2017-12-20T22:22:05.713Z"}
{"msg":"who knows","username":"muralisr","ts":"2017-12-20T22:22:10.088Z"}
{"msg":"you are just putting it in a buffer","username":"yacovm","ts":"2017-12-20T22:22:11.211Z"}
{"msg":"if we remove putstate returning error from the ledger call, then sure, we canm think about that","username":"muralisr","ts":"2017-12-20T22:24:05.062Z"}
{"msg":"as long as it can return errors we are bound to check","username":"muralisr","ts":"2017-12-20T22:24:20.521Z"}
{"msg":"and percolate all the way upwards","username":"muralisr","ts":"2017-12-20T22:24:28.087Z"}
{"msg":"it doesn't go to the ledger just yet","username":"yacovm","ts":"2017-12-20T22:24:58.740Z"}
{"msg":"it just puts it into a map","username":"yacovm","ts":"2017-12-20T22:25:04.363Z"}
{"msg":"or a slice","username":"yacovm","ts":"2017-12-20T22:25:14.034Z"}
{"msg":"I meant the \"ledger\" compomnent call `err = txContext.txsimulator.SetState(chaincodeID, putState.Key, putState.Value)`","username":"muralisr","ts":"2017-12-20T22:25:50.916Z"}
{"msg":"need to check out what is the error path there","username":"C0rWin","ts":"2017-12-20T22:26:30.941Z"}
{"msg":"it could be just an artifact","username":"C0rWin","ts":"2017-12-20T22:26:43.826Z"}
{"msg":"could be","username":"muralisr","ts":"2017-12-20T22:26:48.436Z"}
{"msg":"still i like the simpliciy of serial request response ...enough confusion as is :-)","username":"muralisr","ts":"2017-12-20T22:27:18.546Z"}
{"msg":"and then there is the the SetPrivateData ... which could be a different ball game ..but from the CC PoV is just another \"set\"","username":"muralisr","ts":"2017-12-20T22:28:21.488Z"}
{"msg":"well, probably worth asking that guy whenever he minds to rebase his change set","username":"C0rWin","ts":"2017-12-20T22:31:29.645Z"}
{"msg":"looks pretty valuable one","username":"C0rWin","ts":"2017-12-20T22:31:36.414Z"}
{"msg":"I commented in the CR....","username":"yacovm","ts":"2017-12-20T22:31:41.676Z"}
{"msg":"good","username":"C0rWin","ts":"2017-12-20T22:31:49.062Z"}
{"msg":"Hi. Is there any way I can visualize the blocks of the system chain? Thanks :)","username":"ArnabChatterjee","ts":"2017-12-25T06:17:59.739Z"}
{"msg":"Has joined the channel.","username":"Cavan2477","ts":"2017-12-26T01:58:24.769Z","type":"uj"}
{"msg":"@yacovm @muralisr i apologizefor the lateness of my reply, busy holiday season for me.\n\nso being able to get the state of multiple keys with `GetState()` would definitely speed up the process for me, but the real issue is trying to concurrently use `GetQueryResult()` for a query string using an index. for the workflow I am using `GetState()` either returns a value or returns nil, and if it returns nil I do not have to do the in depth indexed search with `GetQueryResult()`","username":"jrosmith","ts":"2017-12-26T13:54:44.374Z"}
{"msg":"Does \"busy holiday season\" mean busy with holiday or busy in working at holidays? :thinking: ","username":"yacovm","ts":"2017-12-26T13:55:24.215Z"}
{"msg":"@yacovm bit of both haha","username":"jrosmith","ts":"2017-12-26T14:04:14.658Z"}
{"msg":"so I don't understand what you're trying to say","username":"yacovm","ts":"2017-12-26T14:04:46.298Z"}
{"msg":"i mean at the end of the day the workflow is less important than the fact that I want to be able to concurrently perform read only actions against the chaincode and thats currently not allowed","username":"jrosmith","ts":"2017-12-26T14:15:58.076Z"}
{"msg":"as I understand it a call to `GetQueryResult()` does not go into the read/write set, so if there's no risk of mutating the set I'm not sure why I can't perform more than one at once","username":"jrosmith","ts":"2017-12-26T14:17:17.064Z"}
{"msg":"because the chaindoe is written in a way that you can't do 2 things in the same time","username":"yacovm","ts":"2017-12-26T14:19:26.673Z"}
{"msg":"the chaincode container processes only a single transaction in a given time","username":"yacovm","ts":"2017-12-26T14:19:50.699Z"}
{"msg":"the chaincode container sends a peer a request to obtain data ","username":"yacovm","ts":"2017-12-26T14:20:14.375Z"}
{"msg":"and then waits for the result","username":"yacovm","ts":"2017-12-26T14:20:18.291Z"}
{"msg":"and only afterwards, continues","username":"yacovm","ts":"2017-12-26T14:20:25.761Z"}
{"msg":"@muralisr correct me if I'm wrong, of course","username":"yacovm","ts":"2017-12-26T14:20:35.316Z"}
{"msg":"@jrosmith you can send concurrent requests TO the chaincode and but each state query (like GetState, PutState) for each of those requests FROM the chaincode have to be serial. This may be relaxed in future","username":"muralisr","ts":"2017-12-26T15:08:16.790Z"}
{"msg":"@muralisr as i understand it `GetState` and `PutState` have to be serial because they're part of the read write set. is this correct? if so i guess i don't understand why `GetQueryResult()` has to abide by the same state query rules","username":"jrosmith","ts":"2017-12-26T15:12:32.862Z"}
{"msg":"@muralisr as i understand it `GetState` and `PutState` have to be serial because they're part of the read/write set. is this correct? if so i guess i don't understand why `GetQueryResult()` has to abide by the same state query rules","username":"jrosmith","ts":"2017-12-26T15:12:32.862Z"}
{"msg":"It doesn't have to be serial actually","username":"yacovm","ts":"2017-12-26T15:13:07.266Z"}
{"msg":"since you don't read your own writes","username":"yacovm","ts":"2017-12-26T15:13:13.800Z"}
{"msg":"they have to respectively serial though, right?","username":"jrosmith","ts":"2017-12-26T15:21:41.823Z"}
{"msg":"what do you mean","username":"yacovm","ts":"2017-12-26T15:23:50.128Z"}
{"msg":"all GetState calls have to be serial with other GetStates, and all PutStates must be serial with other PutStates. but a GetState call does not need to be serial with a PutState call","username":"jrosmith","ts":"2017-12-26T15:28:55.409Z"}
{"msg":"what do you mean has to be serial with ?","username":"yacovm","ts":"2017-12-26T15:45:27.569Z"}
{"msg":"@jrosmith since you are not reading your own updates but only saved state from previous commits, Gets will get the same value no matter what the order of execution is (assuming new commits haven't come in of course but that is a different conversaion). If you want to keep track of updated values, you have to do keep track of in the chaincode yourself. In that sense these calls could be made concurrent. ","username":"muralisr","ts":"2017-12-26T15:50:18.218Z"}
{"msg":"However, keeping the chaincode model simple and discouraging concurrency within the chaincode logic, goroutines etc have its own value IMO. In general we assume chaincodes to be lean and mean with not too many complications","username":"muralisr","ts":"2017-12-26T15:52:44.785Z"}
{"msg":"@yacovm one GetState at a time with respect to other GetState calls, one PutState at a time with respect to other PutState calls. but since we do not read our own writes there is not specific order enforced for GetState calls with respect to PutState calls or vice versa.\n\n@muralisr this makes sense, thank you ","username":"jrosmith","ts":"2017-12-26T15:54:03.112Z"}
{"msg":"@yacovm one GetState at a time with respect to other GetState calls, one PutState at a time with respect to other PutState calls. but since we do not read our own writes there is no specific order enforced for GetState calls with respect to PutState calls or vice versa.\n\n@muralisr this makes sense, thank you ","username":"jrosmith","ts":"2017-12-26T15:54:03.112Z"}
{"msg":"Has left the channel.","username":"DannyWong","ts":"2017-12-27T02:17:37.006Z","type":"ul"}
{"msg":"I was trying the fabcar sample application of hyperledger fabric. But can anyone explain me the relevance of blockchain concept in this application context?","username":"pb","ts":"2017-12-27T06:16:17.768Z"}
{"msg":"Has joined the channel.","username":"varuna82","ts":"2017-12-27T10:26:50.952Z","type":"uj"}
{"msg":"@pb In Hyperledger Fabric you can model any asset in chaincode to track things like ownership and authenticity and provenance.  In the fabcar example cars are modeled as assets and saved on the blockchain ledger (as 'tokens'). The example could just have easily been bonds or diamonds or artwork. The point is that with a blockchain the participants have a shared version of the truth that is indisputable. For example if the car in the real world was stolen and there is a dispute about ownership, the blockchain can be referenced to identify the true owner and lineage of prior owners.  Or if there was a recall on cars created from a certain manufacturing plant, you could know with certainty which dealers or owners are impacted.","username":"dave.enyeart","ts":"2017-12-27T13:13:49.100Z"}
{"msg":"@dave.enyeart Thanks alot for such  a descriptive reply.\nBut how to reference the blockchain to identify true owner and lineage of prior owners?","username":"pb","ts":"2017-12-28T03:43:44.372Z"}
{"msg":"Genesis block:\n\n\"header\": {\n\t\t\"number\": {\n\t\t\t\"low\": 0,\n\t\t\t\"high\": 0,\n\t\t\t\"unsigned\": true\n\t\t},\n\t\t\"previous_hash\": \"\",\n\t\t\"data_hash\": \"71a06e3f717210bc914be8de60f4994c45f11e21875433565895f165501282ee\"\n\t}..............\n\t\nNext Block:\n\n\"header\": {\n\t\t\"number\": {\n\t\t\t\"low\": 1,\n\t\t\t\"high\": 0,\n\t\t\t\"unsigned\": true\n\t\t},\n\t\t\"previous_hash\": \"af2f6ff4cf91d3ca08d5d2d65682ad252b1e960e94d034191d8f97e62119b9d7\",\n\t\t\"data_hash\": \"ee1267f9f94bd9b4faf7365f40cb1556425fb42497629e2ec59198b863cd3794\"\n\t}\n\nThis is from the output of running balance transfer example. Isn't the \"previous_hash\" of the block after genesis should have the same value as the data_hash of the genisis block??? Please clarify. Any help woulfd be of real help. Thanks.","username":"pb","ts":"2017-12-28T10:27:52.821Z"}
{"msg":"@pb You can reference current owner and past owners by querying the ledger, there are chaincode APIs like GetState() and GetHistoryForKey() to do this.","username":"dave.enyeart","ts":"2017-12-28T13:49:01.863Z"}
{"msg":"The data  hash is the hash of the data transactions in a block.  It is added to the block header and then the header is hashed.  This is the block hash that is referenced in the next block's previous_hash.","username":"dave.enyeart","ts":"2017-12-28T13:51:29.045Z"}
{"msg":"The data  hash is the hash of the data transactions in a block.  It is added to the block header and then the header is hashed.  This is the block hash and is not visible when printed out.  It is  referenced in the next block's previous_hash.","username":"dave.enyeart","ts":"2017-12-28T13:51:29.045Z"}
{"msg":"@dave.enyeart  Thanks a lot.... Now the doubt on Hash got cleared. Is there any means to do a trial for tampering history and prove block chain cannot be tampered. Mainly with the purpose of demonstrating the block chain core property.","username":"pb","ts":"2017-12-29T04:20:06.824Z"}
{"msg":"Have anyone used getBlockByNumber?","username":"pb","ts":"2017-12-29T06:43:18.559Z"}
{"msg":"@pb To clarify your question... the blockchain data on a single node can be tampered (e.g. if you are the admin on the machine you can alter the bytes on disk), the point is that the tampering would break the hash chain and therefore this node could not convince other nodes of the alternate history.  A client can verify the integrity of the blockchain by checking the hashes.  An example of such validation can be found here: https://gerrit.hyperledger.org/r/#/c/14545/","username":"dave.enyeart","ts":"2017-12-29T15:22:41.894Z"}
{"msg":"Many people have used GetBlockByNumber.  I would suggest to use an SDK which makes the results straightforward.  For example see https://fabric-sdk-node.github.io/Channel.html#queryBlock which calls GetBlockByNumber internally.","username":"dave.enyeart","ts":"2017-12-29T15:23:50.586Z"}
{"msg":"Has joined the channel.","username":"elias_p","ts":"2018-01-02T22:57:44.217Z","type":"uj"}
{"msg":"Has joined the channel.","username":"songyuanjie","ts":"2018-01-03T00:31:43.689Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dijun","ts":"2018-01-03T01:53:00.577Z","type":"uj"}
{"msg":"@dave Thanks .I tried using queryBlock but the import \n\"github.com/hyperledger/fabric-sdk-go/third_party/github.com/hyperledger/fabric/protos/common\" ","username":"pb","ts":"2018-01-03T03:07:52.257Z"}
{"msg":"Unable to do the above import.Package not found error is encountered.","username":"pb","ts":"2018-01-03T03:08:31.944Z"}
{"msg":"","username":"songyuanjie","ts":"2018-01-03T06:04:49.807Z","attachments":[{"type":"file","title":"Clipboard - 2018年1月3日下午1点03分","title_link":"/file-upload/w4mWCRbhqwhJ43n9T/Clipboard - 2018年1月3日下午1点03分","image_url":"/file-upload/w4mWCRbhqwhJ43n9T/Clipboard - 2018年1月3日下午1点03分","image_type":"image/png","image_size":18330,"url":"/file-upload/w4mWCRbhqwhJ43n9T/Clipboard - 2018年1月3日下午1点03分","remote":false,"fileId":"w4mWCRbhqwhJ43n9T","fileName":"Clipboard - 2018年1月3日下午1点03分"}]}
{"msg":"Bad Request","username":"songyuanjie","ts":"2018-01-03T06:05:09.311Z"}
{"msg":"This is the part of output of query block function of fabcar sample. can anyone please say what these numbers stands for in the \"data\"? \n\"signature\": {\n\t\t\t\t\"type\": \"Buffer\",\n\t\t\t\t\"data\": [48, 69, 2, 33, 0, 156, 104, 218, 222, 3, 33, 72, 128, 228, 248, 18, 82, 34, 196, 23, 13, 58, 248, 224, 41, 112, 29, 109, 117, 171, 189, 22, 40, 154, 210, 154, 147, 2, 32, 13, 135, 220, 196, 147, 164, 239, 117, 190, 120, 127, 30, 11, 66, 24, 85, 150, 121, 86, 192, 39, 240, 51, 104, 188, 211, 22, 207, 16, 180, 180, 239]\n\t\t\t}","username":"DRSK","ts":"2018-01-03T11:56:09.058Z"}
{"msg":"I believe it's a buffer in UTF-8 encoding ","username":"yacovm","ts":"2018-01-03T12:04:37.816Z"}
{"msg":"Has joined the channel.","username":"gurel","ts":"2018-01-03T17:44:19.350Z","type":"uj"}
{"msg":"Has joined the channel.","username":"voutasaurus","ts":"2018-01-04T03:43:58.263Z","type":"uj"}
{"msg":"how multiple peers can be added to a single channel?","username":"DRSK","ts":"2018-01-04T09:27:55.845Z"}
{"msg":"@here how multiple peers can be added to a single channel?","username":"DRSK","ts":"2018-01-04T09:27:55.845Z"}
{"msg":"@yacovm Ok, shall check about that. Thanks ","username":"DRSK","ts":"2018-01-04T09:28:35.079Z"}
{"msg":"@DRSK you join those peers to a channel","username":"guoger","ts":"2018-01-04T09:38:10.727Z"}
{"msg":"@DRSK please avoid using \"here\" tag as there is no need to alert everyone in this channel. To your question, you just need to join those peers into the channel by using `peer channel join` command for each one of them.","username":"C0rWin","ts":"2018-01-04T09:38:14.326Z"}
{"msg":"in fact you can use something like: `CORE_PEER_ADDRESS=X.X.X.X:7051 peer channel join`, where you need to replace the X.X.X.X with proper IP address/hostname of the peer you would like to add to the channel","username":"C0rWin","ts":"2018-01-04T09:40:21.885Z"}
{"msg":"@guoger  @C0rWin  Thanks","username":"pb","ts":"2018-01-04T09:40:26.182Z"}
{"msg":"@guoger  @C0rWin Could spot that now in the sample. Thanks","username":"DRSK","ts":"2018-01-04T09:44:49.885Z"}
{"msg":"In a committing peer, whether there is a separate chaincode for describing validation condition? How is validation implemented in fabric sample, say fabcar?","username":"DRSK","ts":"2018-01-04T09:59:17.031Z"}
{"msg":"Has joined the channel.","username":"allonblocks21","ts":"2018-01-04T11:09:19.482Z","type":"uj"}
{"msg":"@dave.enyeart when i use the PTE to test the performance i use the couchdb,i start the 50 thread to query,it tell the following error","username":"asaningmaxchain","ts":"2018-01-04T13:25:34.717Z"}
{"msg":"```info: [PTE 0 main]: stderr: error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: make sure the chaincode sample_cc_ch1 has been successfully instantiated and try again: transaction not found Get http://couchdb2:5984/testorgschannel1/lscc%00sample_cc_ch1?attachments=true: dial tcp 172.22.0.5:5984: connect: cannot assign requested address```","username":"asaningmaxchain","ts":"2018-01-04T13:25:37.902Z"}
{"msg":"Hi @dave.enyeart . Is there any limit on max. number of Chaincodes that can be deployed in the network ?","username":"niteshsolanki","ts":"2018-01-05T12:50:24.275Z"}
{"msg":"no","username":"dave.enyeart","ts":"2018-01-05T12:50:47.289Z"}
{"msg":"ok. any limit on max. no channel a peer can be part of ?","username":"niteshsolanki","ts":"2018-01-05T12:51:07.218Z"}
{"msg":"no","username":"dave.enyeart","ts":"2018-01-05T12:51:19.650Z"}
{"msg":"ok. when a Chaincode container is started, does tht run on some port ?","username":"niteshsolanki","ts":"2018-01-05T12:52:25.277Z"}
{"msg":"i'm not seeing any ports used by my chaincode docker containers","username":"dave.enyeart","ts":"2018-01-05T12:57:11.679Z"}
{"msg":"how does the peer communicates with the CC container ?","username":"niteshsolanki","ts":"2018-01-05T13:00:40.478Z"}
{"msg":"i'd suggest ask on one of the general channels, i'm not an expert in that area, i was answering from ledger perspective","username":"dave.enyeart","ts":"2018-01-05T13:02:48.565Z"}
{"msg":"ok. thanks @dave.enyeart ","username":"niteshsolanki","ts":"2018-01-05T13:03:12.505Z"}
{"msg":"@dave.enyeart the ledger data compress?","username":"asaningmaxchain","ts":"2018-01-08T15:29:35.120Z"}
{"msg":"@dave.enyeart the ledger data compress?and  How much data is stored at most each time ","username":"asaningmaxchain","ts":"2018-01-08T15:29:35.120Z"}
{"msg":"@dave.enyeart the ledger data compress and  How much data is stored at most each time ","username":"asaningmaxchain","ts":"2018-01-08T15:29:35.120Z"}
{"msg":"@dave.enyeart the ledger uses data compress and  How much data is stored at most each time ","username":"asaningmaxchain","ts":"2018-01-08T15:29:35.120Z"}
{"msg":"@asaningmaxchain Ledger stores the data in a binary form but not compressed.  You can compress at the file system level if you like. How much data depends entirely on your transactions.  Number of transactions per block is configurable using orderer BatchTimeout and BatchSize.","username":"dave.enyeart","ts":"2018-01-08T16:15:45.842Z"}
{"msg":"so the fabric ledger module just save data in the fs?","username":"asaningmaxchain","ts":"2018-01-08T16:16:45.245Z"}
{"msg":"It is described in docs here: https://hyperledger-fabric.readthedocs.io/en/release/ledger.html","username":"dave.enyeart","ts":"2018-01-08T16:17:27.791Z"}
{"msg":"@dave.enyeart the ledger support the pagination?","username":"asaningmaxchain","ts":"2018-01-08T16:33:26.364Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-2809","username":"asaningmaxchain","ts":"2018-01-08T16:33:39.708Z"}
{"msg":"For range queries, you can read as many results as you like before returning back to client, and then do another range query where the first left off.  For CouchDB paging support is being added in https://jira.hyperledger.org/browse/FAB-2809.","username":"dave.enyeart","ts":"2018-01-08T16:37:52.668Z"}
{"msg":"For range queries, you can read as many results as you like before returning back to client, and then do another range query where the first left off.  For CouchDB queries paging support is being added in https://jira.hyperledger.org/browse/FAB-2809.","username":"dave.enyeart","ts":"2018-01-08T16:37:52.668Z"}
{"msg":"Hi, I am not sure this is the right channel to ask this question. Please forward it to the apt channel if its inappropriate here.\n\nI was https://github.com/hyperledger/fabric/blob/release/sampleconfig/configtx.yaml and I am not sure what is the significance of each field in this document. Is there any documentation that can clarify the use cases and functionalities of the configuration fields. For example :\n\n1. In what cases should/can I omit creating a consortium\n2. What are the differences between Orderer Org and consortium?\n3. What is the significance of AdminPrincipal? ( I know its used in Endorsement Policy, but how is an Admin MSP superior that a Member)\n\nThank you very much. ","username":"ArnabChatterjee","ts":"2018-01-09T02:57:32.511Z"}
{"msg":"Hi, I am not sure this is the right channel to ask this question. Please forward it to the apt channel if its inappropriate here.\n\nI was going through https://github.com/hyperledger/fabric/blob/release/sampleconfig/configtx.yaml and I am not sure what is the significance of each field in this document. Is there any documentation that can clarify the use cases and functionalities of the configuration fields. For example :\n\n1. In what cases should/can I omit creating a consortium\n2. What are the differences between Orderer Org and consortium?\n3. What is the significance of AdminPrincipal? ( I know its used in Endorsement Policy, but how is an Admin MSP superior that a Member)\n\nThank you very much. ","username":"ArnabChatterjee","ts":"2018-01-09T02:57:32.511Z"}
{"msg":"Has joined the channel.","username":"SjirNijssen","ts":"2018-01-09T13:37:04.665Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cchalc","ts":"2018-01-09T20:45:14.648Z","type":"uj"}
{"msg":"Has joined the channel.","username":"luomin","ts":"2018-01-10T09:14:22.908Z","type":"uj"}
{"msg":"Has joined the channel.","username":"singh.amitkumar","ts":"2018-01-11T17:37:49.082Z","type":"uj"}
{"msg":"@dave.enyeart can you tell why has the history db?","username":"asaningmaxchain","ts":"2018-01-12T14:39:12.939Z"}
{"msg":"@asaningmaxchain history db is used for storing the history of a particular key. For a key, it allows you to query for an ordered list of transactions that modified this key.","username":"manish-sethi","ts":"2018-01-12T15:01:23.390Z"}
{"msg":"@manish-sethi let me take example , key1 -> value1,and modify key1 -> value2,so in the history db it contains the k1->(value1,value2)","username":"asaningmaxchain","ts":"2018-01-12T15:03:09.849Z"}
{"msg":"so when i want to get the history for key1 it return the value1,value2","username":"asaningmaxchain","ts":"2018-01-12T15:03:38.142Z"}
{"msg":"so when i want to get the history for key1 it return the value1,value2?","username":"asaningmaxchain","ts":"2018-01-12T15:03:38.142Z"}
{"msg":"but the history db is very little,so i think it's just record the data index","username":"asaningmaxchain","ts":"2018-01-12T15:04:32.838Z"}
{"msg":"but the history db is very little,so i think it's just record the data index for particular key","username":"asaningmaxchain","ts":"2018-01-12T15:04:32.838Z"}
{"msg":"No, directly the end values are not stored in the history db.... a key in the history db is of the form of chaincodename_key_blknum_txNum and the value is actually nil","username":"manish-sethi","ts":"2018-01-12T15:06:15.119Z"}
{"msg":"yes, you are right","username":"manish-sethi","ts":"2018-01-12T15:06:25.516Z"}
{"msg":"the end value stored in the state db","username":"asaningmaxchain","ts":"2018-01-12T15:07:02.167Z"}
{"msg":"Yes, but that for transaction processing, nothing to do historydb as such","username":"manish-sethi","ts":"2018-01-12T15:07:49.790Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=BK8pDAA6Zhg6pPGhi) @manish-sethi when i modify the data,the txNum is modiy how do record the history","username":"asaningmaxchain","ts":"2018-01-12T15:08:11.638Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BK8pDAA6Zhg6pPGhi","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BK8pDAA6Zhg6pPGhi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"that would cause and additional entry into historydb","username":"manish-sethi","ts":"2018-01-12T15:08:47.148Z"}
{"msg":"for each key/tx combination, there would be an entry in the historydb","username":"manish-sethi","ts":"2018-01-12T15:09:29.501Z"}
{"msg":"so when i get the history for the key,it get all the like key in the historydb","username":"asaningmaxchain","ts":"2018-01-12T15:09:35.995Z"}
{"msg":"yes","username":"manish-sethi","ts":"2018-01-12T15:09:44.701Z"}
{"msg":"via a range scan","username":"manish-sethi","ts":"2018-01-12T15:09:52.216Z"}
{"msg":"another question what's the content of the block","username":"asaningmaxchain","ts":"2018-01-12T15:12:37.426Z"}
{"msg":"another question what's the content of the block,i know it store the transaction, so what's the content of the transaction","username":"asaningmaxchain","ts":"2018-01-12T15:12:37.426Z"}
{"msg":"chaincodeAction?","username":"asaningmaxchain","ts":"2018-01-12T15:12:42.919Z"}
{"msg":"lscc\n[key: \"mycc\"\nversion {\n  block_num: 1\n}\n]\n[]\nmycc\n[key: \"a\"\nversion {\n  block_num: 4\n}\n, key: \"b\"\nversion {\n  block_num: 4\n}\n]\n[key: \"a\"\nvalue: \"60\"\n, key: \"b\"\nvalue: \"240\"\n]\n","username":"asaningmaxchain","ts":"2018-01-12T15:13:17.057Z"}
{"msg":"```lscc\n[key: \"mycc\"\nversion {\n  block_num: 1\n}\n]\n[]\nmycc\n[key: \"a\"```\nversion {\n  block_num: 4\n}\n, key: \"b\"\nversion {\n  block_num: 4\n}\n]\n[key: \"a\"\nvalue: \"60\"\n, key: \"b\"\nvalue: \"240\"\n]\n","username":"asaningmaxchain","ts":"2018-01-12T15:13:17.057Z"}
{"msg":"Block has a whole lot of stuff... encourage you to look at proto structure for block/transaction","username":"manish-sethi","ts":"2018-01-12T15:14:47.121Z"}
{"msg":"```message Block {\n    BlockHeader header = 1;\n    BlockData data = 2;\n    BlockMetadata metadata = 3;\n}\n\n// BlockHeader is the element of the block which forms the block chain\n// The block header is hashed using the configured chain hashing algorithm\n// over the ASN.1 encoding of the BlockHeader\nmessage BlockHeader {\n    uint64 number = 1; // The position in the blockchain\n    bytes previous_hash = 2; // The hash of the previous block header\n    bytes data_hash = 3; // The hash of the BlockData, by MerkleTree\n}\n\nmessage BlockData {\n    repeated bytes data = 1;\n}\n\nmessage BlockMetadata {\n    repeated bytes metadata = 1;\n}\n```","username":"asaningmaxchain","ts":"2018-01-12T15:16:16.437Z"}
{"msg":"it doesn't give the `BlockData` comment","username":"asaningmaxchain","ts":"2018-01-12T15:16:54.809Z"}
{"msg":"@dave.enyeart @manish-sethi ","username":"asaningmaxchain","ts":"2018-01-12T15:17:10.853Z"}
{"msg":"yes, many places a comment should have been there.... I guess, for now, one way you can learn about this would be to follow a function that prepares a block / reads a block","username":"manish-sethi","ts":"2018-01-12T15:18:40.491Z"}
{"msg":"you are right, i try it","username":"asaningmaxchain","ts":"2018-01-12T15:19:52.452Z"}
{"msg":"Here is how we prepare basic block for ledger unit tests...https://github.com/hyperledger/fabric/blob/master/common/ledger/testutil/test_helper.go","username":"manish-sethi","ts":"2018-01-12T15:22:35.748Z"}
{"msg":"Here is how we prepare basic block for ledger unit tests... https://github.com/hyperledger/fabric/blob/master/common/ledger/testutil/test_helper.go","username":"manish-sethi","ts":"2018-01-12T15:22:35.748Z"}
{"msg":"@manish-sethi thx,i take a look","username":"asaningmaxchain","ts":"2018-01-12T15:34:34.125Z"}
{"msg":"@manish-sethi @dave.enyeart i know it's envelope and i parse payload from it,so what's the content of the payload?","username":"asaningmaxchain","ts":"2018-01-12T15:38:55.573Z"}
{"msg":"it's ChaincodeAction...","username":"manish-sethi","ts":"2018-01-12T15:53:39.894Z"}
{"msg":"You may like to look at this function in the ledger code that we execute during block validation and commit... \nthis may answer some of your questions...\nhttps://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/validator/valimpl/helper.go#L91","username":"manish-sethi","ts":"2018-01-12T15:54:35.369Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bkMmQG4CQPGRMaMeA) @manish-sethi no,it's signedTransaction","username":"asaningmaxchain","ts":"2018-01-12T16:00:10.046Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bkMmQG4CQPGRMaMeA","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bkMmQG4CQPGRMaMeA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes, i though that you were asking about the payload inside transaction...","username":"manish-sethi","ts":"2018-01-12T16:03:36.581Z"}
{"msg":"If you follow the above function, you should be able to get the details of each layer...","username":"manish-sethi","ts":"2018-01-12T16:04:16.458Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu) @manish-sethi you are right,so in the end,the block store the chaincodeAction","username":"asaningmaxchain","ts":"2018-01-12T16:22:54.985Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu) @manish-sethi you are right,so in the end,the block store the chaincodeAction?","username":"asaningmaxchain","ts":"2018-01-12T16:22:54.985Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu) @manish-sethi you are right,so in the end,the block store the chaincodeAction?accurate say is TxRwSet","username":"asaningmaxchain","ts":"2018-01-12T16:22:54.985Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu) @manish-sethi you are right,so in the end,the block store the chaincodeAction?more step is TxRwSet","username":"asaningmaxchain","ts":"2018-01-12T16:22:54.985Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=d6Gzaa8r7E8u3FtCu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"```b.Txs = append(b.Txs, &valinternal.Transaction{IndexInBlock: txIndex, ID: chdr.TxId, RWSet: txRWSet})```","username":"asaningmaxchain","ts":"2018-01-12T16:24:30.157Z"}
{"msg":"yes, from ledger point of view, this is the data of interest...","username":"manish-sethi","ts":"2018-01-12T16:24:48.626Z"}
{"msg":"another question is when the client send tx to peer for endorsement,it simulate the chaincode,the statedb data takes effect,so when the peer commit the tx,find it invalid,how to do it?","username":"asaningmaxchain","ts":"2018-01-12T16:27:08.557Z"}
{"msg":"another question is when the client send tx to peer for endorsement,it simulate the chaincode,the statedb data takes effect,so when the peer commit the tx,find it invalid,how to do it? @manish-sethi @dave.enyeart ","username":"asaningmaxchain","ts":"2018-01-12T16:27:08.557Z"}
{"msg":"another question is when the client send tx to peer for endorsement,it simulate the chaincode,the statedb data takes effect,so when the peer commit the tx,find it invalid,how to do it? what's the condition of the statedb  @manish-sethi @dave.enyeart ","username":"asaningmaxchain","ts":"2018-01-12T16:27:08.557Z"}
{"msg":"the version of the data read during simulation should not have been changed by other committed transaction","username":"manish-sethi","ts":"2018-01-12T17:04:20.178Z"}
{"msg":"Already committed transaction, could be in the same block...","username":"manish-sethi","ts":"2018-01-12T17:04:48.244Z"}
{"msg":"preceding the transaction being validated","username":"manish-sethi","ts":"2018-01-12T17:05:08.004Z"}
{"msg":"You may like to read a bit on \"optimistic concurrency control\" protocol for transaction processing... ","username":"manish-sethi","ts":"2018-01-12T17:06:05.800Z"}
{"msg":"i know the db exists the Optimistic Concurrency Control and Pessimistic Concurrency Control","username":"asaningmaxchain","ts":"2018-01-12T17:15:10.628Z"}
{"msg":"the validation logic in OCC is what we follow here for marking a transaction valid/invalid","username":"manish-sethi","ts":"2018-01-12T17:19:50.515Z"}
{"msg":"ok","username":"asaningmaxchain","ts":"2018-01-12T17:21:05.326Z"}
{"msg":"ok,i got it","username":"asaningmaxchain","ts":"2018-01-12T17:21:05.326Z"}
{"msg":"ok,i got it,you are so nice","username":"asaningmaxchain","ts":"2018-01-12T17:21:05.326Z"}
{"msg":"Has joined the channel.","username":"bjwswang","ts":"2018-01-15T07:56:22.823Z","type":"uj"}
{"msg":"Has joined the channel.","username":"udaykhambadkone","ts":"2018-01-15T14:50:48.100Z","type":"uj"}
{"msg":"@dave.enyeart I understand that Fabric 1.1 will have CouchDB performance improvements, is there an easy way to see what those will be and which, if any, were already included in the tech preview?","username":"jdockter","ts":"2018-01-15T14:59:46.403Z"}
{"msg":"Can I manually edit the blockfile_000000 which holds the ledger data? I am testing a scenario where a hacker has gotten into one of the peer nodes and has messed the data. Can the block on that peer node recover when the next transaction/chaincode is executed on a good node.","username":"udaykhambadkone","ts":"2018-01-15T15:59:04.133Z"}
{"msg":"@jdockter There are two main perf improvements for couchdb in 1.1:","username":"dave.enyeart","ts":"2018-01-16T12:24:55.846Z"}
{"msg":"1) bulk processing of transactions in the block. included in 1.1.0-preview.","username":"dave.enyeart","ts":"2018-01-16T12:25:37.363Z"}
{"msg":"2) ability to specify indexes that support queries, as part of chaincode metadata. recently added, will be documented in the next week.","username":"dave.enyeart","ts":"2018-01-16T12:26:07.060Z"}
{"msg":"Your mileage may vary, but you can expect an order of magnitude perf improvements with these","username":"dave.enyeart","ts":"2018-01-16T12:26:39.656Z"}
{"msg":"@udaykhambadkone If you tamper with a peer's block data, it will not be auto-fixed.  You would need start the peer from fresh so that it can rebuild the blockchain from other peers.  The point is, the tampered peer would not be able to convince other peers of the integrity of its data, therefore the network as a whole can not be compromised.","username":"dave.enyeart","ts":"2018-01-16T12:29:36.281Z"}
{"msg":"@dave.enyeart thanks for the explanation. I noticed that when I messed the blockfile_000000 which I believe is the genesis block, I could not restart that peer. using the docker command. It had to rebuild the blockchain by creating a genesis block first as you mentioned. ","username":"udaykhambadkone","ts":"2018-01-16T14:10:00.229Z"}
{"msg":"@dave.enyeart one more thing, where is the ledger stored on the peer node container? I could only locate the blockfile_000000. Is that also the ledger data. My setup has couchDB containers. What data is stored on the couchDB conatiners?","username":"udaykhambadkone","ts":"2018-01-16T14:13:54.642Z"}
{"msg":"this topic will help set the context: https://hyperledger-fabric.readthedocs.io/en/release/ledger.html","username":"dave.enyeart","ts":"2018-01-16T14:14:41.579Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=9tgQKjA6gecYATr5o) @dave.enyeart Thanks!","username":"jdockter","ts":"2018-01-16T14:21:21.290Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=9tgQKjA6gecYATr5o","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=9tgQKjA6gecYATr5o","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw) @dave.enyeart if one peer data is not complete,i can delete the ledger,and then i start peer,the peer will get the data from other peer","username":"asaningmaxchain","ts":"2018-01-16T14:43:31.538Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"You would need start the peer from fresh so that it can rebuild the blockchain from other peers. The point is, the tampered peer would not be able to convince other peers of the integrity of its data, therefore the network as a whole can not be compromised.","username":"asaningmaxchain","ts":"2018-01-16T14:43:31.538Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi. Quick question: In C-C read call, is the key being read from callee chaincode part of Read set?","username":"niteshsolanki","ts":"2018-01-16T15:02:28.226Z"}
{"msg":"Hi. Quick question: In C-C read call, is the key being read from called chaincode part of Read set?","username":"niteshsolanki","ts":"2018-01-16T15:02:28.226Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZM5EMHvzhz9B7Loi4) @asaningmaxchain where is the ledger stored on the peer node container?","username":"udaykhambadkone","ts":"2018-01-16T15:13:51.815Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZM5EMHvzhz9B7Loi4","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZM5EMHvzhz9B7Loi4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=cfDzvvNxHthBqrdCa) @udaykhambadkone you can find it in the sampleconfig/core.yaml","username":"asaningmaxchain","ts":"2018-01-16T15:14:26.425Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cfDzvvNxHthBqrdCa","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cfDzvvNxHthBqrdCa","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=9YE3QD9raTtxrjZ3s) @niteshsolanki If it is C-C call on a single channel, yes.  If it is C-C query across channels, no.  This is because transactionality is scoped to a certain channel.","username":"dave.enyeart","ts":"2018-01-16T15:32:58.047Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=9YE3QD9raTtxrjZ3s","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=9YE3QD9raTtxrjZ3s","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Ohk. Thanks @dave.enyeart for the response","username":"niteshsolanki","ts":"2018-01-16T15:37:29.562Z"}
{"msg":"If you tamper with a peer's block data, it will not be auto-fixed. You would need start the peer from fresh so that it can rebuild the blockchain from other peers. The point is, the tampered peer would not be able to convince other peers of the integrity of its data, therefore the network as a whole can not be compromised.","username":"asaningmaxchain","ts":"2018-01-16T15:47:26.096Z"}
{"msg":"@dave.enyeart can you describe it more detail,starting with `The point is`","username":"asaningmaxchain","ts":"2018-01-16T15:48:10.165Z"}
{"msg":"`the tampered peer would not be able to convince other peers of the integrity of its data, therefore the network as a whole can not be compromised.`","username":"asaningmaxchain","ts":"2018-01-16T15:49:00.795Z"}
{"msg":"`the tampered peer would not be able to convince other peers of the integrity of its data` means the tampered peer doesn't believe the other peer ledger data?","username":"asaningmaxchain","ts":"2018-01-16T15:50:09.640Z"}
{"msg":"Has joined the channel.","username":"bingimanasa","ts":"2018-01-17T10:38:52.338Z","type":"uj"}
{"msg":"hello all im new to hyperledger,i want to store text document to couchdb and retreive hash code of that document using chaincode please help to me acheive that.","username":"bingimanasa","ts":"2018-01-17T10:39:47.421Z"}
{"msg":"Has joined the channel.","username":"Devender_Singh","ts":"2018-01-18T05:12:38.158Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jks3462","ts":"2018-01-18T11:32:25.511Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yaubx7PNfeeqdAAD) @asaningmaxchain This is what I have seen on my network and need help understanding as to how it is all working., Whenever I invoke a chaincode through the cli on a peer node. I can see the docker logs for that peer node writing data on its historyleveldb and pvtdataStore files. I am assuming this is part of the ledger data. In my test I made a local copy of those files. I then sent another invoke chaincode command to the same peer which changed the file size of the local files under *bold* /var/hyperledger/production/ledgersData/historyleveldb and /var/hyperledger/production/ledgersData/pvtdataStore *bold* I then copied over the earlier files from my local machine to the peer folders. Basically putting in stale copies of data. I then ran a 3rd invoke chaincode command as init (to add) and a 4th to read that data with no issues. Got results successfully. However I see that those files under the two folders in the peer node have stopped growing in size. Can you please explain? Thanks!","username":"udaykhambadkone","ts":"2018-01-18T14:43:14.039Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yaubx7PNfeeqdAAD","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yaubx7PNfeeqdAAD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yaubx7PNfeeqdAAD) @asaningmaxchain This is what I have seen on my network and need help understanding as to how it is all working., Whenever I invoke a chaincode through the cli on a peer node. I can see the docker logs for that peer node writing data on its historyleveldb and pvtdataStore files. I am assuming this is part of the ledger data. In my test I made a local copy of those files. I then sent another invoke chaincode command to the same peer which changed the file size of the local files under * /var/hyperledger/production/ledgersData/historyleveldb and /var/hyperledger/production/ledgersData/pvtdataStore * I then copied over the earlier files from my local machine to the peer folders. Basically putting in stale copies of data. I then ran a 3rd invoke chaincode command as init (to add) and a 4th to read that data with no issues. Got results successfully. However I see that those files under the two folders in the peer node have stopped growing in size. Can you please explain? Thanks!","username":"udaykhambadkone","ts":"2018-01-18T14:43:14.039Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yaubx7PNfeeqdAAD","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yaubx7PNfeeqdAAD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=46P4yWr8LPtB6Zx6d) @asaningmaxchain I couldn't find the core.yaml. What is the exact location of it?","username":"udaykhambadkone","ts":"2018-01-18T14:53:41.566Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=46P4yWr8LPtB6Zx6d","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=46P4yWr8LPtB6Zx6d","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Does a peer check the integrity of its ledger when it restarts?","username":"qizhang","ts":"2018-01-18T21:33:13.858Z"}
{"msg":"If a peer detects a broken ledger when it starts, will the peer crash or it will repair the ledger? ","username":"qizhang","ts":"2018-01-18T21:33:13.858Z"}
{"msg":"Has joined the channel.","username":"mogamboizer","ts":"2018-01-18T21:37:28.019Z","type":"uj"}
{"msg":"depends how badly broken it is, but it will likely crash","username":"yacovm","ts":"2018-01-18T22:47:05.026Z"}
{"msg":"Thanks @yacovm , another thing that I am wondering: if the client requests a transaction from a block, but the transaction is not available since the block is broken, how will Fabric behave?","username":"qizhang","ts":"2018-01-19T00:20:11.361Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=wfYpf5wxDxKM9jZGp) @udaykhambadkone https://github.com/hyperledger/fabric/blob/78e18d179c29e5182594a0fa27dc8d5accdb8ead/sampleconfig/core.yaml#L224","username":"asaningmaxchain","ts":"2018-01-19T01:45:43.715Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wfYpf5wxDxKM9jZGp","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wfYpf5wxDxKM9jZGp","remote":true,"fileId":null,"fileName":null}]}
{"msg":"hello everyone please anyone help me to store an text document into database using chaincode.","username":"bingimanasa","ts":"2018-01-19T04:23:02.669Z"}
{"msg":"@dave.enyeart what's the relationship between the ledger data and the couchdb,if i use the couchdb to store the world state","username":"asaningmaxchain","ts":"2018-01-19T07:46:27.896Z"}
{"msg":"@qizhang i don't know, and I don't think this is an interesting question. ","username":"yacovm","ts":"2018-01-19T08:05:07.345Z"}
{"msg":"@qizhang Peer does not proactively check for corrupt/tampered blocks in its old history.  Verification utilities can do that, and somebody has submitted such a utility that can be run within peer (https://gerrit.hyperledger.org/r/#/c/14545/). But if a client requests information from a block that is corrupt/tampered, peer will try to fetch that block and will hit an error reading the data and panic peer.","username":"dave.enyeart","ts":"2018-01-19T12:39:28.413Z"}
{"msg":"@asaningmaxchain relationship between ledger and state database is described here: https://hyperledger-fabric.readthedocs.io/en/release/ledger.html","username":"dave.enyeart","ts":"2018-01-19T12:40:18.858Z"}
{"msg":"@bingimanasa If you are using couchdb, then I assume your document is JSON.  https://github.com/hyperledger/fabric/blob/release/examples/chaincode/go/marbles02/marbles_chaincode.go shows an example of storing JSON documents in chaincode to couchdb","username":"dave.enyeart","ts":"2018-01-19T12:42:32.038Z"}
{"msg":"If you are storing binary documents or only a hash of a document, then you are better off using the embedded leveldb.","username":"dave.enyeart","ts":"2018-01-19T12:43:03.080Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=jARrS6KfZfXK5NXwC) @dave.enyeart The ledger is comprised of a blockchain (‘chain’) to store the immutable, sequenced record in blocks, as well as a state database to maintain current state. ","username":"asaningmaxchain","ts":"2018-01-19T12:43:42.048Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jARrS6KfZfXK5NXwC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jARrS6KfZfXK5NXwC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=jARrS6KfZfXK5NXwC) @dave.enyeart The ledger is comprised of a blockchain (‘chain’) to store the immutable, sequenced record in blocks, as well as a state database to maintain current state. thx","username":"asaningmaxchain","ts":"2018-01-19T12:43:42.048Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jARrS6KfZfXK5NXwC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jARrS6KfZfXK5NXwC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=atmCjT8RA4tuHh7i3) @asaningmaxchain Thank you","username":"udaykhambadkone","ts":"2018-01-19T14:39:01.649Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=atmCjT8RA4tuHh7i3","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=atmCjT8RA4tuHh7i3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Brucepark","ts":"2018-01-20T06:15:11.337Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MartinStepien","ts":"2018-01-20T18:56:16.203Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IngoRammer","ts":"2018-01-21T09:08:08.244Z","type":"uj"}
{"msg":"AFAIK there is no mechanism to delete/remove chaincode or a channel.  FAB-1149 addresses removing chaincode, but I'm not seeing a similar issue for removing/deleting a channel.","username":"toddinpal","ts":"2018-01-21T14:08:15.527Z"}
{"msg":"You are correct, @toddinpal .\nIt can be implemented, of course. However - Since Fabric is distributed this isn't very easy to implement, and there are many corner-cases","username":"yacovm","ts":"2018-01-21T14:56:27.105Z"}
{"msg":"Hi,\n\nI want to customize the response which I am receiving from Fabric invoke API after adding an asset to the ledger. DO we have any SDK available in the node which can help me returning a customize response in version1.1?","username":"Devender_Singh","ts":"2018-01-22T15:56:42.189Z"}
{"msg":"Has joined the channel.","username":"kapilAtrey","ts":"2018-01-23T05:06:30.694Z","type":"uj"}
{"msg":"How do we simulate delete of assets in fabric? Do we just keep a flag for deleted objects and check that when querying the couch db database?","username":"sampath06","ts":"2018-01-23T14:25:54.082Z"}
{"msg":"@sampath06 `stub.DelState()`?","username":"Vadim","ts":"2018-01-23T14:31:57.284Z"}
{"msg":"@Vadim that should work. Does using this mean that GetState will not return the instance and we lose the complete history of the object?","username":"sampath06","ts":"2018-01-23T14:34:05.480Z"}
{"msg":"DelState() will delete it from state db.  GetState() therefore won't return it anymore.  But the history is still on the blockchain, and can be retrieved via GetHistoryForKey().","username":"dave.enyeart","ts":"2018-01-23T14:39:17.422Z"}
{"msg":"DelState() will delete it from state db.  GetState() therefore won't return it anymore.  But the full history of changes to the key is still on the blockchain, and can be retrieved via GetHistoryForKey().","username":"dave.enyeart","ts":"2018-01-23T14:39:17.422Z"}
{"msg":"DelState() will delete it from state db.  GetState() therefore won't return it anymore.  But the full history of changes to the key (including the delete transaction) is still on the blockchain, and can be retrieved via GetHistoryForKey().","username":"dave.enyeart","ts":"2018-01-23T14:39:17.422Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw) @dave.enyeart can you give more detail","username":"asaningmaxchain","ts":"2018-01-23T14:41:03.903Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw) @dave.enyeart can you give more detail about it","username":"asaningmaxchain","ts":"2018-01-23T14:41:03.903Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JZmtd2At5hiiS4hxw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"the tampered peer how to know the data from other peer is believable","username":"asaningmaxchain","ts":"2018-01-23T14:43:10.818Z"}
{"msg":"Perfect. Thanks.","username":"sampath06","ts":"2018-01-23T14:44:32.806Z"}
{"msg":"@asaningmaxchain I guess the idea is that the client app will detect that the results from one peer differ from other peers, so the admin of that peer will be informed and will reset the peer, bringing it into the correct state","username":"Vadim","ts":"2018-01-23T14:46:12.540Z"}
{"msg":"the admin of the peer how to get the information about it? in the client app how to do it?","username":"asaningmaxchain","ts":"2018-01-23T14:51:25.178Z"}
{"msg":"@asaningmaxchain it's all happens out-of-band as I imagine","username":"Vadim","ts":"2018-01-23T15:04:51.382Z"}
{"msg":"@asaningmaxchain it all happens out-of-band as I imagine","username":"Vadim","ts":"2018-01-23T15:04:51.382Z"}
{"msg":"@dave.enyeart the couchdb support the pagination?","username":"asaningmaxchain","ts":"2018-01-23T15:13:07.344Z"}
{"msg":"@dave.enyeart the couchdb support the pagination?and i see the http://docs.couchdb.org/en/2.0.0/couchapp/views/pagination.html#paging-alternate-method.","username":"asaningmaxchain","ts":"2018-01-23T15:13:07.344Z"}
{"msg":"@dave.enyeart the couchdb support the pagination?and i see the http://docs.couchdb.org/en/2.0.0/couchapp/views/pagination.html#paging-alternate-method.so the current ledger support the `view`","username":"asaningmaxchain","ts":"2018-01-23T15:13:07.344Z"}
{"msg":"Has joined the channel.","username":"StevenXu","ts":"2018-01-24T01:21:05.121Z","type":"uj"}
{"msg":"i am setting network for test,  i set up 1 orderer and 3 peers, but, only one peer run, some body can help me? ","username":"bamboo","ts":"2018-01-24T04:23:44.475Z"}
{"msg":"Has joined the channel.","username":"Ammu","ts":"2018-01-24T11:06:18.614Z","type":"uj"}
{"msg":"how to set primary key and foreign key in couch db?","username":"Ammu","ts":"2018-01-24T11:08:05.734Z"}
{"msg":"hello, iam running marbles demo in my localhost ,iam adding marbles to an user they are showing in UI but they are not storing in database. How can i store to database. Please anyone help","username":"bingimanasa","ts":"2018-01-24T12:20:10.602Z"}
{"msg":"Has joined the channel.","username":"kerokhin","ts":"2018-01-25T21:00:00.039Z","type":"uj"}
{"msg":"Has joined the channel.","username":"george.skrbic","ts":"2018-01-25T21:24:50.857Z","type":"uj"}
{"msg":"Hello All, I was doing a load test on my application with Node SDK as the front end and CouchDB as World state. While doing it, I found that the getState takes about 10~15 times (approx) more than the putState operation. Although it is in milliseconds, I am still curious to know why is there such a big difference. I took the difference in times in the logs in the peer logs to obtain the result. Thank you. 🙂","username":"ArnabChatterjee","ts":"2018-01-26T09:10:41.413Z"}
{"msg":"@ArnabChatterjee yes, this is expected - because, `GetState` retrieves the data from couchdb which in turn accesses the disk (most likely, if not found in cache). On the other hand `PutState` keeps the data in peer memory (does not even go to couch) as the data is not yet committed and will be committed after serializing through orderer.","username":"manish-sethi","ts":"2018-01-26T15:33:27.780Z"}
{"msg":"BTW, it will be helpful if you can publish your perf number along with the environment and chaincode details here, when you have these.","username":"manish-sethi","ts":"2018-01-26T15:35:16.105Z"}
{"msg":"@manish-sethi - Thanks. And Sure. What kind of figures do you think would be helpful? TPS and Response times?","username":"ArnabChatterjee","ts":"2018-01-26T15:37:58.207Z"}
{"msg":"Yes, these two would be most important. In addition, if you are already collecting the resource usages (primarily, cpu, memory and disk io), they may give further hint of some bottlenecks.","username":"manish-sethi","ts":"2018-01-26T15:39:50.611Z"}
{"msg":"Sure. Will post the figures shortly. \nOne of the preliminary and primary observations is, increasing the number of endorsement requests added to the degradation in performance. More the number of endorsement signatures required, slower is the transaction rate, although peer processes were underutilized. However, I was able to cope it up with by doubling the number of node processes and getting a better throughput (~1.5 - 1.7 times) and higher peer CPU utilization percentages. ","username":"ArnabChatterjee","ts":"2018-01-26T15:46:19.932Z"}
{"msg":"Sure. Will post the figures shortly. \nOne of the preliminary and primary observations is, increasing the number of endorsement requests added to the degradation in performance. More the number of endorsement signatures required, slower is the transaction rate, although peer processes' CPU were underutilized. However, I was able to cope it up with by doubling the number of node processes and getting a better throughput (~1.5 - 1.7 times) and higher peer CPU utilization percentages. ","username":"ArnabChatterjee","ts":"2018-01-26T15:46:19.932Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=S9eY7fyf6HMjLEyMN) @manish-sethi - BTW can you explain to me about world state data caching? What kind of policies are used?","username":"ArnabChatterjee","ts":"2018-01-26T15:48:28.606Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=S9eY7fyf6HMjLEyMN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=S9eY7fyf6HMjLEyMN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Are you referring to the cache that I mentioned in the context of `GetState` or keeping the data in memory during `PutState`?","username":"manish-sethi","ts":"2018-01-26T15:50:13.786Z"}
{"msg":"Yes","username":"ArnabChatterjee","ts":"2018-01-26T15:50:23.326Z"}
{"msg":"There is no caching for GetState that we explicitly do on the peer side. I was referring to the caching on the couchdn side - filesystem cache to be more specific.","username":"manish-sethi","ts":"2018-01-26T15:51:58.957Z"}
{"msg":"For PutState, caching would be a wrong word... all the data is just stored in a separate workspace for the transaction as it cannot be committed during endorsement.","username":"manish-sethi","ts":"2018-01-26T15:53:06.919Z"}
{"msg":"Yes, Right, you only track it for preparing write-sets. BTW, any plans to implement caching later? As I found out, switching to either Couch or Level, doesn't make any significant difference in `GetState` times. ","username":"ArnabChatterjee","ts":"2018-01-26T15:55:44.899Z"}
{"msg":"Ideally, there should be a measurable difference when you do `GetState` with level vs couch - unless, the higher layer (chaincode shim to peer communication layer) is bottleneck.","username":"manish-sethi","ts":"2018-01-26T16:00:48.422Z"}
{"msg":"Okay. Any reason why leveldb is faster than Couch? ","username":"ArnabChatterjee","ts":"2018-01-26T16:09:52.333Z"}
{"msg":"It's embedded and couchDB is a DB that uses an HTTP interface","username":"yacovm","ts":"2018-01-26T16:30:16.835Z"}
{"msg":"i had done with marbles, output also perfect . Is it possible that i can link with my front end application with marbles?\n","username":"Ammu","ts":"2018-01-27T05:16:09.111Z"}
{"msg":"@yacovm - Thanks. :)","username":"ArnabChatterjee","ts":"2018-01-27T10:52:03.777Z"}
{"msg":"Has joined the channel.","username":"titasp","ts":"2018-01-27T18:25:50.425Z","type":"uj"}
{"msg":"Hello, could someone give me hints on how to decode processed transaction envelope payload ?","username":"titasp","ts":"2018-01-27T18:25:54.674Z"}
{"msg":"Can someone help with a query of mine?\nDev Mode: Issuing the following command:\n`peer chaincode invoke`","username":"Amjadnz","ts":"2018-01-28T16:33:23.829Z"}
{"msg":"Can someone help with a query of mine?\nDev Mode: Issuing the following command:\n`peer chaincode invoke` to add a new object using PUTSTATE","username":"Amjadnz","ts":"2018-01-28T16:33:23.829Z"}
{"msg":"Result:\n```2018-01-28 20:29:12.063 GST [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-01-28 20:29:12.063 GST [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2018-01-28 20:29:12.064 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2018-01-28 20:29:12.064 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2018-01-28 20:29:12.064 GST [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0A8E070A7A08031A0B08D8F4B7D30510...1A0E0A097175657279427949640A0131 \n2018-01-28 20:29:12.064 GST [msp/identity] Sign -> DEBU 006 Sign: digest: 5698229C083204D1BFFEAE5D3C4A4BD246AA99CC63E6F12C2DE178C50CD07F9D \n2018-01-28 20:29:12.072 GST [msp/identity] Sign -> DEBU 007 Sign: plaintext: 0A8E070A7A08031A0B08D8F4B7D30510...B2720031A5B697752AE7652037641F57 \n2018-01-28 20:29:12.072 GST [msp/identity] Sign -> DEBU 008 Sign: digest: BA5B51709E04A537D27707B1E7997C86131E09D5EE0D64490BF27D30A01341C0 \n2018-01-28 20:29:12.073 GST [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 009 ESCC invoke result: version:1 response:<status:200 message:\"OK\" payload:\"{\\\"Message\\\":\\\"Not able to retrive Object Details...\\\",\\\"Status\\\":\\\"ERROR\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" > payload:\"\\n \\257T\\360P\\321\\241\\345\\037\\211\\317\\034\\030\\244\\002\\333FXBxY\\023\\303w\\363(\\351p1h@u/\\022\\357\\003\\n\\347\\002\\022\\300\\002\\n\\022AccountTransaction\\022\\251\\002\\022\\246\\002\\n\\215\\001\\000accounttransaction~id~company~eventcode~sequence~from~to~asset~transfertype~accounttype~accesstype~connectedaccountid\\0001\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\022\\221\\001\\000accounttransaction~id~company~eventcode~sequence~from~to~asset~transfertype~accounttype~accesstype~connectedaccountid\\0001\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\364\\217\\277\\277\\030\\001\\022\\\"\\n\\004lscc\\022\\032\\n\\030\\n\\022AccountTransaction\\022\\002\\010\\001\\032j\\010\\310\\001\\032e{\\\"Message\\\":\\\"Not able to retrive Object Details...\\\",\\\"Status\\\":\\\"ERROR\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\\\"\\027\\022\\022AccountTransaction\\032\\0010\" endorsement:<endorser:\"\\n\\006AdxOrg\\022\\347\\005-----BEGIN -----\\nMIICBzCCAa6gAwIBAgIRAPrx5ECBOhoBLi4sNzRliHMwCgYIKoZIzj0EAwIwZzEL\\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\\ncmFuY2lzY28xEzARBgNVBAoTCmFkeC51Ym4uYWUxFjAUBgNVBAMTDWNhLmFkeC51\\nYm4uYWUwHhcNMTcwOTMwMTI1NjIxWhcNMjcwOTI4MTI1NjIxWjBVMQswCQYDVQQG\\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\\nbzEZMBcGA1UEAxMQcGVlcjAuYWR4LnVibi5hZTBZMBMGByqGSM49AgEGCCqGSM49\\nAwEHA0IABJsPP+Q9otGsnGcbXD5B51w69yRTXoUeWuXnxltH/Pz6Cu3zpYDGdTO+\\nfc6UxBybu2MS3XNBoVXqx3Y1pYdQVkWjTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIGPLSFhE9lJHEPRmW8KQVQIOCKcVbVnnqL0w\\nCnIzBThdMAoGCCqGSM49BAMCA0cAMEQCIBoFtyg7lLhmyTvrJN8uWn15iFgx5FiQ\\nnHk+LVEel2ExAiAjWVRLkhW+NpwnlmNjbWuvamUGpJTLkmMt78L50wPHTQ==\\n-----END -----\\n\" signature:\"0D\\002 Md*\\3770\\017F\\363\\243\\223f\\346{`v}o\\033\\261#\\023\\252\\364s\\251\\204\\223F\\263\\230gS\\002 D\\352t\\276w\\202\\177c\\2676\\240\\010B\\322\\251\\354\\262r\\0001\\245\\266\\227u*\\347e 7d\\037W\" > \n2018-01-28 20:29:12.073 GST [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 00a Chaincode invoke successful. result: status:200 payload:\"{\\\"Message\\\":\\\"Not able to retrive Object Details...\\\",\\\"Status\\\":\\\"ERROR\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" \n2018-01-28 20:29:12.074 GST [main] main -> INFO 00b Exiting.....```","username":"Amjadnz","ts":"2018-01-28T16:33:52.586Z"}
{"msg":"Result:\n```CORE_PEER_MSPCONFIGPATH=/tts/official/src/tts/ubn/test/sampleconfig/peerOrganizations/adx.ubn.ae/users/Admin\\@adx.ubn.ae/msp/  CORE_PEER_ADDRESS=peer0.adx.ubn.ae:7051 CORE_PEER_LOCALMSPID=\"AdxOrg\" peer chaincode invoke -n AccountTransaction -v 0 -c '{\"Args\":[\"addNewItem\",\"1\",\"Admin@adx.ubn.ae\",\"1\",\"2018\",\"1\",\"20180128121212\",\"XXYXX\",\"YYXYY\",\"AssetY\",\"123456\",\"100\",\"1\",\"1\",\"1\",\"0\",\"0\",\"First Trasnfer\",\"0\",\"0\",\"First Hist Tr\",\"First Hist Action\"]}' -o 127.0.0.1:7050 -C adx-agm-channel  \n2018-01-28 20:28:20.704 GST [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-01-28 20:28:20.704 GST [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...69727374204869737420416374696F6E \n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 006 Sign: digest: B6181CB87946DB6DE90E1A4630C94F5AD53C9AECDBBD94A296198CFF62910F51 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 007 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...3CF965940A997D8C3D73685EB41488D4 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 008 Sign: digest: C8E9A3B119AF79D3F652ED17A97513DF6B712AAB6517AB70293CB50CBE21BCEE \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 009 ESCC invoke result: version:1 response:<status:200 message:\"OK\" payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" > payload:\"\\n %Q\\235y\\020\\014\\001\\251\\213k\\027\\010pn\\003!\\267\\037\\264\\213'>\\370\\262\\301\\251\\312'u\\316\\027\\365\\022\\311\\006\\n\\321\\005\\022\\252\\005\\n\\022AccountTransaction\\022\\223\\005\\n\\003\\n\\0011\\032\\243\\001\\n\\235\\001\\000accounttransaction~id~company~eventcode~sequence~from~to~asset~transfertype~accounttype~accesstype~connectedaccountid\\0001\\0001\\0002018\\0001\\000XXYXX\\000YYXYY\\000AssetY\\0001\\0001\\0001\\0000\\000\\032\\001\\000\\032\\345\\003\\n\\0011\\032\\337\\003{\\\"UniqueId\\\":\\\"1\\\",\\\"OrganizationId\\\":\\\"Admin@adx.ubn.ae\\\",\\\"CompanyCode\\\":\\\"1\\\",\\\"EventYear\\\":\\\"2018\\\",\\\"EventSequence\\\":\\\"1\\\",\\\"TimeStamp\\\":\\\"20180128121212\\\",\\\"FromAccount\\\":\\\"XXYXX\\\",\\\"ToAccount\\\":\\\"YYXYY\\\",\\\"AssetName\\\":\\\"AssetY\\\",\\\"CommonTransactionId\\\":\\\"123456\\\",\\\"Value\\\":\\\"100\\\",\\\"TransferType\\\":\\\"1\\\",\\\"AccessType\\\":\\\"1\\\",\\\"AccountType\\\":\\\"1\\\",\\\"IsPartial\\\":\\\"0\\\",\\\"ConnectedAccountId\\\":\\\"0\\\",\\\"Narrative1\\\":\\\"First Trasnfer\\\",\\\"Narrative2\\\":\\\"0\\\",\\\"Narrative3\\\":\\\"0\\\",\\\"HistoryComments\\\":\\\"Object Creation : First Hist Tr\\\",\\\"HistoryAction\\\":\\\"NEW\\\"}\\022\\\"\\n\\004lscc\\022\\032\\n\\030\\n\\022AccountTransaction\\022\\002\\010\\001\\032Z\\010\\310\\001\\032U{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\\\"\\027\\022\\022AccountTransaction\\032\\0010\" endorsement:<endorser:\"\\n\\006AdxOrg\\022\\347\\005-----BEGIN -----\\nMIICBzCCAa6gAwIBAgIRAPrx5ECBOhoBLi4sNzRliHMwCgYIKoZIzj0EAwIwZzEL\\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\\ncmFuY2lzY28xEzARBgNVBAoTCmFkeC51Ym4uYWUxFjAUBgNVBAMTDWNhLmFkeC51\\nYm4uYWUwHhcNMTcwOTMwMTI1NjIxWhcNMjcwOTI4MTI1NjIxWjBVMQswCQYDVQQG\\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\\nbzEZMBcGA1UEAxMQcGVlcjAuYWR4LnVibi5hZTBZMBMGByqGSM49AgEGCCqGSM49\\nAwEHA0IABJsPP+Q9otGsnGcbXD5B51w69yRTXoUeWuXnxltH/Pz6Cu3zpYDGdTO+\\nfc6UxBybu2MS3XNBoVXqx3Y1pYdQVkWjTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIGPLSFhE9lJHEPRmW8KQVQIOCKcVbVnnqL0w\\nCnIzBThdMAoGCCqGSM49BAMCA0cAMEQCIBoFtyg7lLhmyTvrJN8uWn15iFgx5FiQ\\nnHk+LVEel2ExAiAjWVRLkhW+NpwnlmNjbWuvamUGpJTLkmMt78L50wPHTQ==\\n-----END -----\\n\" signature:\"0E\\002!\\000\\352\\031\\220\\370\\233\\037f=\\211\\245#\\027d\\022\\271\\276\\375\\342iq\\372\\350\\\\\\321\\211\\n\\301\\375\\010M\\321Y\\002 rC\\262m\\320\\267\\004\\001\\272\\027\\230\\207\\372h\\020:<\\371e\\224\\n\\231}\\214=sh^\\264\\024\\210\\324\" > \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 00a Chaincode invoke successful. result: status:200 payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" \n2018-01-28 20:28:20.714 GST [main] main -> INFO 00b Exiting.....```","username":"Amjadnz","ts":"2018-01-28T16:33:52.586Z"}
{"msg":"Result:\n```CORE_PEER_MSPCONFIGPATH=/tts/official/src/tts/ubn/test/sampleconfig/peerOrganizations/adx.ubn.ae/users/Admin\\@adx.ubn.ae/msp/  CORE_PEER_ADDRESS=peer0.adx.ubn.ae:7051 CORE_PEER_LOCALMSPID=\"AdxOrg\" peer chaincode invoke -n AccountTransaction -v 0 -c '{\"Args\":[\"addNewItem\",\"1\",\"Admin@adx.ubn.ae\",\"1\",\"2018\",\"1\",\"20180128121212\",\"XXYXX\",\"YYXYY\",\"AssetY\",\"123456\",\"100\",\"1\",\"1\",\"1\",\"0\",\"0\",\"First Trasnfer\",\"0\",\"0\",\"First Hist Tr\",\"First Hist Action\"]}' -o 127.0.0.1:7050 -C adx-agm-channel```  \nAnd the result\n\n```2018-01-28 20:28:20.704 GST [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-01-28 20:28:20.704 GST [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...69727374204869737420416374696F6E \n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 006 Sign: digest: B6181CB87946DB6DE90E1A4630C94F5AD53C9AECDBBD94A296198CFF62910F51 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 007 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...3CF965940A997D8C3D73685EB41488D4 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 008 Sign: digest: C8E9A3B119AF79D3F652ED17A97513DF6B712AAB6517AB70293CB50CBE21BCEE \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 009 ESCC invoke result: version:1 response:<status:200 message:\"OK\" payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" > payload:\"\\n %Q\\235y\\020\\014\\001\\251\\213k\\027\\010pn\\003!\\267\\037\\264\\213'>\\370\\262\\301\\251\\312'u\\316\\027\\365\\022\\311\\006\\n\\321\\005\\022\\252\\005\\n\\022AccountTransaction\\022\\223\\005\\n\\003\\n\\0011\\032\\243\\001\\n\\235\\001\\000accounttransaction~id~company~eventcode~sequence~from~to~asset~transfertype~accounttype~accesstype~connectedaccountid\\0001\\0001\\0002018\\0001\\000XXYXX\\000YYXYY\\000AssetY\\0001\\0001\\0001\\0000\\000\\032\\001\\000\\032\\345\\003\\n\\0011\\032\\337\\003{\\\"UniqueId\\\":\\\"1\\\",\\\"OrganizationId\\\":\\\"Admin@adx.ubn.ae\\\",\\\"CompanyCode\\\":\\\"1\\\",\\\"EventYear\\\":\\\"2018\\\",\\\"EventSequence\\\":\\\"1\\\",\\\"TimeStamp\\\":\\\"20180128121212\\\",\\\"FromAccount\\\":\\\"XXYXX\\\",\\\"ToAccount\\\":\\\"YYXYY\\\",\\\"AssetName\\\":\\\"AssetY\\\",\\\"CommonTransactionId\\\":\\\"123456\\\",\\\"Value\\\":\\\"100\\\",\\\"TransferType\\\":\\\"1\\\",\\\"AccessType\\\":\\\"1\\\",\\\"AccountType\\\":\\\"1\\\",\\\"IsPartial\\\":\\\"0\\\",\\\"ConnectedAccountId\\\":\\\"0\\\",\\\"Narrative1\\\":\\\"First Trasnfer\\\",\\\"Narrative2\\\":\\\"0\\\",\\\"Narrative3\\\":\\\"0\\\",\\\"HistoryComments\\\":\\\"Object Creation : First Hist Tr\\\",\\\"HistoryAction\\\":\\\"NEW\\\"}\\022\\\"\\n\\004lscc\\022\\032\\n\\030\\n\\022AccountTransaction\\022\\002\\010\\001\\032Z\\010\\310\\001\\032U{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\\\"\\027\\022\\022AccountTransaction\\032\\0010\" endorsement:<endorser:\"\\n\\006AdxOrg\\022\\347\\005-----BEGIN -----\\n<CERT>==\\n-----END -----\\n\" signature:\"0E\\002!\\000\\352\\031\\220\\370\\233\\037f=\\211\\245#\\027d\\022\\271\\276\\375\\342iq\\372\\350\\\\\\321\\211\\n\\301\\375\\010M\\321Y\\002 rC\\262m\\320\\267\\004\\001\\272\\027\\230\\207\\372h\\020:<\\371e\\224\\n\\231}\\214=sh^\\264\\024\\210\\324\" > \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 00a Chaincode invoke successful. result: status:200 payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" \n2018-01-28 20:28:20.714 GST [main] main -> INFO 00b Exiting.....```","username":"Amjadnz","ts":"2018-01-28T16:33:52.586Z"}
{"msg":"Result:\n```CORE_PEER_MSPCONFIGPATH=/tts/official/src/tts/ubn/test/sampleconfig/peerOrganizations/adx.ubn.ae/users/Admin\\@adx.ubn.ae/msp/  CORE_PEER_ADDRESS=peer0.adx.ubn.ae:7051 CORE_PEER_LOCALMSPID=\"AdxOrg\" peer chaincode invoke -n AccountTransaction -v 0 -c '{\"Args\":[\"addNewItem\",\"1\",\"Admin@adx.ubn.ae\",\"1\",\"2018\",\"1\",\"20180128121212\",\"XXYXX\",\"YYXYY\",\"AssetY\",\"123456\",\"100\",\"1\",\"1\",\"1\",\"0\",\"0\",\"First Trasnfer\",\"0\",\"0\",\"First Hist Tr\",\"First Hist Action\"]}' -o 127.0.0.1:7050 -C adx-agm-channel```  \nAnd the result\n\n```2018-01-28 20:28:20.704 GST [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-01-28 20:28:20.704 GST [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...69727374204869737420416374696F6E \n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 006 Sign: digest: B6181CB87946DB6DE90E1A4630C94F5AD53C9AECDBBD94A296198CFF62910F51 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 007 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...3CF965940A997D8C3D73685EB41488D4 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 008 Sign: digest: C8E9A3B119AF79D3F652ED17A97513DF6B712AAB6517AB70293CB50CBE21BCEE \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 009 ESCC invoke result: version:1 response:<status:200 message:\"OK\" payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" > payload:\"\\n %Q\\235y\\020\\014\\001\\251\\213k\\027\\010pn\\003!\\267\\037\\264\\213'>\\370\\262\\301\\251\\312'u\\316\\027\\365\\022\\311\\006\\n\\321\\005\\022\\252\\005\\n\\022AccountTransaction\\022\\223\\005\\n\\003\\n\\0011\\032\\243\\001\\n\\235\\001\\000accounttransaction~id~company~eventcode~sequence~from~to~asset~transfertype~accounttype~accesstype~connectedaccountid\\0001\\0001\\0002018\\0001\\000XXYXX\\000YYXYY\\000AssetY\\0001\\0001\\0001\\0000\\000\\032\\001\\000\\032\\345\\003\\n\\0011\\032\\337\\003{\\\"UniqueId\\\":\\\"1\\\",\\\"OrganizationId\\\":\\\"Admin@adx.ubn.ae\\\",\\\"CompanyCode\\\":\\\"1\\\",\\\"EventYear\\\":\\\"2018\\\",\\\"EventSequence\\\":\\\"1\\\",\\\"TimeStamp\\\":\\\"20180128121212\\\",\\\"FromAccount\\\":\\\"XXYXX\\\",\\\"ToAccount\\\":\\\"YYXYY\\\",\\\"AssetName\\\":\\\"AssetY\\\",\\\"CommonTransactionId\\\":\\\"123456\\\",\\\"Value\\\":\\\"100\\\",\\\"TransferType\\\":\\\"1\\\",\\\"AccessType\\\":\\\"1\\\",\\\"AccountType\\\":\\\"1\\\",\\\"IsPartial\\\":\\\"0\\\",\\\"ConnectedAccountId\\\":\\\"0\\\",\\\"Narrative1\\\":\\\"First Trasnfer\\\",\\\"Narrative2\\\":\\\"0\\\",\\\"Narrative3\\\":\\\"0\\\",\\\"HistoryComments\\\":\\\"Object Creation : First Hist Tr\\\",\\\"HistoryAction\\\":\\\"NEW\\\"}\\022\\\"\\n\\004lscc\\022\\032\\n\\030\\n\\022AccountTransaction\\022\\002\\010\\001\\032Z\\010\\310\\001\\032U{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\\\"\\027\\022\\022AccountTransaction\\032\\0010\" endorsement:<endorser:\"\\n\\006AdxOrg\\022\\347\\005-----BEGIN -----\\n<CERT>==\\n-----END -----\\n\" signature:\"0E\\002!\\000\\352\\031\\220\\370\\233\\037f=\\211\\245#\\027d\\022\\271\\276\\375\\342iq\\372\\350\\\\\\321\\211\\n\\301\\375\\010M\\321Y\\002 rC\\262m\\320\\267\\004\\001\\272\\027\\230\\207\\372h\\020:<\\371e\\224\\n\\231}\\214=sh^\\264\\024\\210\\324\" > \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 00a Chaincode invoke successful. result: status:200 payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" \n2018-01-28 20:28:20.714 GST [main] main -> INFO 00b Exiting.....```","username":"Amjadnz","ts":"2018-01-28T16:33:52.586Z"}
{"msg":"Result:\n```CORE_PEER_MSPCONFIGPATH=/tts/official/src/tts/ubn/test/sampleconfig/peerOrganizations/adx.ubn.ae/users/Admin\\@adx.ubn.ae/msp/  CORE_PEER_ADDRESS=peer0.adx.ubn.ae:7051 CORE_PEER_LOCALMSPID=\"AdxOrg\" peer chaincode invoke -n AccountTransaction -v 0 -c '{\"Args\":[\"addNewItem\",\"1\",\"Admin@adx.ubn.ae\",\"1\",\"2018\",\"1\",\"20180128121212\",\"XXYXX\",\"YYXYY\",\"AssetY\",\"123456\",\"100\",\"1\",\"1\",\"1\",\"0\",\"0\",\"First Trasnfer\",\"0\",\"0\",\"First Hist Tr\",\"First Hist Action\"]}' -o 127.0.0.1:7050 -C adx-agm-channel```\n \n\n```2018-01-28 20:28:20.704 GST [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-01-28 20:28:20.704 GST [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...69727374204869737420416374696F6E \n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 006 Sign: digest: B6181CB87946DB6DE90E1A4630C94F5AD53C9AECDBBD94A296198CFF62910F51 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 007 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...3CF965940A997D8C3D73685EB41488D4 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 008 Sign: digest: C8E9A3B119AF79D3F652ED17A97513DF6B712AAB6517AB70293CB50CBE21BCEE \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 009 ESCC invoke result: version:1 response:<status:200 message:\"OK\" payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" > payload:\"\\n %Q\\235y\\020\\014\\001\\251\\213k\\027\\010pn\\003!\\267\\037\\264\\213'>\\370\\262\\301\\251\\312'u\\316\\027\\365\\022\\311\\006\\n\\321\\005\\022\\252\\005\\n\\022AccountTransaction\\022\\223\\005\\n\\003\\n\\0011\\032\\243\\001\\n\\235\\001\\000accounttransaction~id~company~eventcode~sequence~from~to~asset~transfertype~accounttype~accesstype~connectedaccountid\\0001\\0001\\0002018\\0001\\000XXYXX\\000YYXYY\\000AssetY\\0001\\0001\\0001\\0000\\000\\032\\001\\000\\032\\345\\003\\n\\0011\\032\\337\\003{\\\"UniqueId\\\":\\\"1\\\",\\\"OrganizationId\\\":\\\"Admin@adx.ubn.ae\\\",\\\"CompanyCode\\\":\\\"1\\\",\\\"EventYear\\\":\\\"2018\\\",\\\"EventSequence\\\":\\\"1\\\",\\\"TimeStamp\\\":\\\"20180128121212\\\",\\\"FromAccount\\\":\\\"XXYXX\\\",\\\"ToAccount\\\":\\\"YYXYY\\\",\\\"AssetName\\\":\\\"AssetY\\\",\\\"CommonTransactionId\\\":\\\"123456\\\",\\\"Value\\\":\\\"100\\\",\\\"TransferType\\\":\\\"1\\\",\\\"AccessType\\\":\\\"1\\\",\\\"AccountType\\\":\\\"1\\\",\\\"IsPartial\\\":\\\"0\\\",\\\"ConnectedAccountId\\\":\\\"0\\\",\\\"Narrative1\\\":\\\"First Trasnfer\\\",\\\"Narrative2\\\":\\\"0\\\",\\\"Narrative3\\\":\\\"0\\\",\\\"HistoryComments\\\":\\\"Object Creation : First Hist Tr\\\",\\\"HistoryAction\\\":\\\"NEW\\\"}\\022\\\"\\n\\004lscc\\022\\032\\n\\030\\n\\022AccountTransaction\\022\\002\\010\\001\\032Z\\010\\310\\001\\032U{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\\\"\\027\\022\\022AccountTransaction\\032\\0010\" endorsement:<endorser:\"\\n\\006AdxOrg\\022\\347\\005-----BEGIN -----\\n<CERT>==\\n-----END -----\\n\" signature:\"0E\\002!\\000\\352\\031\\220\\370\\233\\037f=\\211\\245#\\027d\\022\\271\\276\\375\\342iq\\372\\350\\\\\\321\\211\\n\\301\\375\\010M\\321Y\\002 rC\\262m\\320\\267\\004\\001\\272\\027\\230\\207\\372h\\020:<\\371e\\224\\n\\231}\\214=sh^\\264\\024\\210\\324\" > \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 00a Chaincode invoke successful. result: status:200 payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" \n2018-01-28 20:28:20.714 GST [main] main -> INFO 00b Exiting.....```","username":"Amjadnz","ts":"2018-01-28T16:33:52.586Z"}
{"msg":"Result:\n```CORE_PEER_MSPCONFIGPATH=/tts/official/src/tts/ubn/test/sampleconfig/peerOrganizations/adx.ubn.ae/users/Admin\\@adx.ubn.ae/msp/  CORE_PEER_ADDRESS=peer0.adx.ubn.ae:7051 CORE_PEER_LOCALMSPID=\"AdxOrg\" peer chaincode invoke -n AccountTransaction -v 0 -c '{\"Args\":[\"addNewItem\",\"1\",\"Admin@adx.ubn.ae\",\"1\",\"2018\",\"1\",\"20180128121212\",\"XXYXX\",\"YYXYY\",\"AssetY\",\"123456\",\"100\",\"1\",\"1\",\"1\",\"0\",\"0\",\"First Trasnfer\",\"0\",\"0\",\"First Hist Tr\",\"First Hist Action\"]}' -o 127.0.0.1:7050 -C adx-agm-channel\n \n2018-01-28 20:28:20.704 GST [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-01-28 20:28:20.704 GST [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2018-01-28 20:28:20.705 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...69727374204869737420416374696F6E \n2018-01-28 20:28:20.705 GST [msp/identity] Sign -> DEBU 006 Sign: digest: B6181CB87946DB6DE90E1A4630C94F5AD53C9AECDBBD94A296198CFF62910F51 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 007 Sign: plaintext: 0A8F070A7B08031A0C08A4F4B7D30510...3CF965940A997D8C3D73685EB41488D4 \n2018-01-28 20:28:20.713 GST [msp/identity] Sign -> DEBU 008 Sign: digest: C8E9A3B119AF79D3F652ED17A97513DF6B712AAB6517AB70293CB50CBE21BCEE \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 009 ESCC invoke result: version:1 response:<status:200 message:\"OK\" payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" > payload:\"\\n %Q\\235y\\020\\014\\001\\251\\213k\\027\\010pn\\003!\\267\\037\\264\\213'>\\370\\262\\301\\251\\312'u\\316\\027\\365\\022\\311\\006\\n\\321\\005\\022\\252\\005\\n\\022AccountTransaction\\022\\223\\005\\n\\003\\n\\0011\\032\\243\\001\\n\\235\\001\\000accounttransaction~id~company~eventcode~sequence~from~to~asset~transfertype~accounttype~accesstype~connectedaccountid\\0001\\0001\\0002018\\0001\\000XXYXX\\000YYXYY\\000AssetY\\0001\\0001\\0001\\0000\\000\\032\\001\\000\\032\\345\\003\\n\\0011\\032\\337\\003{\\\"UniqueId\\\":\\\"1\\\",\\\"OrganizationId\\\":\\\"Admin@adx.ubn.ae\\\",\\\"CompanyCode\\\":\\\"1\\\",\\\"EventYear\\\":\\\"2018\\\",\\\"EventSequence\\\":\\\"1\\\",\\\"TimeStamp\\\":\\\"20180128121212\\\",\\\"FromAccount\\\":\\\"XXYXX\\\",\\\"ToAccount\\\":\\\"YYXYY\\\",\\\"AssetName\\\":\\\"AssetY\\\",\\\"CommonTransactionId\\\":\\\"123456\\\",\\\"Value\\\":\\\"100\\\",\\\"TransferType\\\":\\\"1\\\",\\\"AccessType\\\":\\\"1\\\",\\\"AccountType\\\":\\\"1\\\",\\\"IsPartial\\\":\\\"0\\\",\\\"ConnectedAccountId\\\":\\\"0\\\",\\\"Narrative1\\\":\\\"First Trasnfer\\\",\\\"Narrative2\\\":\\\"0\\\",\\\"Narrative3\\\":\\\"0\\\",\\\"HistoryComments\\\":\\\"Object Creation : First Hist Tr\\\",\\\"HistoryAction\\\":\\\"NEW\\\"}\\022\\\"\\n\\004lscc\\022\\032\\n\\030\\n\\022AccountTransaction\\022\\002\\010\\001\\032Z\\010\\310\\001\\032U{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\\\"\\027\\022\\022AccountTransaction\\032\\0010\" endorsement:<endorser:\"\\n\\006AdxOrg\\022\\347\\005-----BEGIN -----\\n<CERT>==\\n-----END -----\\n\" signature:\"0E\\002!\\000\\352\\031\\220\\370\\233\\037f=\\211\\245#\\027d\\022\\271\\276\\375\\342iq\\372\\350\\\\\\321\\211\\n\\301\\375\\010M\\321Y\\002 rC\\262m\\320\\267\\004\\001\\272\\027\\230\\207\\372h\\020:<\\371e\\224\\n\\231}\\214=sh^\\264\\024\\210\\324\" > \n2018-01-28 20:28:20.714 GST [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 00a Chaincode invoke successful. result: status:200 payload:\"{\\\"Message\\\":\\\"Added Successfully!\\\",\\\"Status\\\":\\\"SUCCESS\\\",\\\"Contracts\\\":null,\\\"Size\\\":\\\"\\\\u0000\\\"}\" \n2018-01-28 20:28:20.714 GST [main] main -> INFO 00b Exiting.....```","username":"Amjadnz","ts":"2018-01-28T16:33:52.586Z"}
{"msg":"the code to read is to query the unique Id and give me the results:\n`peer chaincode query`\n\n```2018-01-28 20:29:27.687 GST [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP\n2018-01-28 20:29:27.687 GST [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity\n2018-01-28 20:29:27.687 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc\n2018-01-28 20:29:27.687 GST [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc\n2018-01-28 20:29:27.687 GST [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0A8F070A7B08031A0C08E7F4B7D30510...1A0E0A097175657279427949640A0131 \n2018-01-28 20:29:27.687 GST [msp/identity] Sign -> DEBU 006 Sign: digest: A4EC1C1E8ED9FAC9260638316FCC08AA5A68F71F10D3DF0A47A1A1FF474EFFFB \nQuery Result: {\"Message\":\"Not able to retrive Object Details...\",\"Status\":\"ERROR\",\"Contracts\":null,\"Size\":\"\\u0000\"}\n2018-01-28 20:29:27.695 GST [main] main -> INFO 007 Exiting.....```","username":"Amjadnz","ts":"2018-01-28T16:35:01.249Z"}
{"msg":"Is the ledger recoding my data? I am using couchdb as by state db. It also does not have any rows depicting this transaction.","username":"Amjadnz","ts":"2018-01-28T16:41:19.980Z"}
{"msg":"So I doubt my ledger entries are not going through - I have an endorsement policy with either of 2 orgs (OR). And the user under which principal this is running is properly belonging to one of the orgs.","username":"Amjadnz","ts":"2018-01-28T16:42:07.329Z"}
{"msg":"Log at my dev peer looks a bit fishy:\n```2018-01-28 20:48:26.466 GST [vscc] deduplicateIdentity -> DEBU 16a3 Signature set is of size 1 out of 1 endorsement(s)\n2018-01-28 20:48:26.466 GST [vscc] Invoke -> WARN 16a4 Endorsement policy failure for transaction txid=20381efa7ca0816f25e84630aeebb9cbe994e18c337ce9412b019954ab7ea381, err: Failed to authenticate policy```","username":"Amjadnz","ts":"2018-01-28T16:51:51.574Z"}
{"msg":"It seems my endorsement policy is failing","username":"Amjadnz","ts":"2018-01-28T16:52:16.612Z"}
{"msg":"Ok Resolved - the issue was with the endorsement policies. Once I corrected the right ORG and Members - all is fine now.","username":"Amjadnz","ts":"2018-01-28T17:03:21.758Z"}
{"msg":"Has joined the channel.","username":"HarryZhu","ts":"2018-01-29T00:13:33.145Z","type":"uj"}
{"msg":"Has joined the channel.","username":"fengfengs","ts":"2018-01-29T05:06:24.770Z","type":"uj"}
{"msg":"@dave.enyeart I'm using Fabric 1.1 preview and Composer configured with CouchDB...I've manually added CouchDB indexes for the asset I've modeled in Composer and that helps on queries for that asset....BUT after adding that index to CouchDB it seems to be effecting a query I have to a transaction registry (transaction defined via Composer) in the same CouchDB instance.  With the index on it returns no data, with the index removed it returns data.  Thoughts?","username":"jdockter","ts":"2018-01-29T18:00:02.519Z"}
{"msg":"@dave.enyeart also...I see in the logs I see limit is set to 10000 and skip is set to 0, will we be able to override that in 1.1 GA?","username":"jdockter","ts":"2018-01-29T18:02:36.913Z"}
{"msg":"@dave.enyeart also...I see in the logs that limit is set to 10000 and skip is set to 0, will we be able to override that in 1.1 GA?","username":"jdockter","ts":"2018-01-29T18:02:36.913Z"}
{"msg":"Has joined the channel.","username":"nkl199","ts":"2018-01-29T18:04:19.705Z","type":"uj"}
{"msg":"@here hey guys, anybody has the knowledge what's the best practise to build a currency (or something similar, I am actually looking for `awarding points` ) in fabric? I learnt from FAQ that MSP is needed to design digital tokens, and UTXO or account model is needed. But not sure where and how to start? Any sample network I can use? Thanks :)","username":"HarryZhu","ts":"2018-01-30T05:30:23.023Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=LdC8h3vQfPfguWKtB) With reference to the mentioned post, I also found out that the broadcast from the orderer to the committing peers is relatively slow. The rate of creation of blocks in the orderer is not at par with the creation of blocks on the committing peers. I tried increasing the batchtimeout and maxmessages per transaction, but the gap does not seem to zero in. As as result, I am ending up with increasing the batch timeout, hampering my overall performance. Any pointers on this Fabric Experts? Thanks. @manish-sethi @mastersingh24 ","username":"ArnabChatterjee","ts":"2018-01-30T07:51:49.542Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=LdC8h3vQfPfguWKtB","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=LdC8h3vQfPfguWKtB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@HarryZhu please do not use [at]here, you are pinging the entire channel and sending an alert to every member across every time zone.\n\nfabric is a private, permissioned blockchain. you can design an asset similar to a token if you'd like, but there are no coins required. there is no mining and no proof of work. i'd recommend taking a look at how transactions work in fabric here: https://hyperledger-fabric.readthedocs.io/en/latest/txflow.html ","username":"jrosmith","ts":"2018-01-30T13:57:37.262Z"}
{"msg":"@jdockter I would not expect the existence of a couchdb index to negatively impact what gets returned in the query.  At first glance it sounds like a CouchDB bug.  Please document the minimal steps to reproduce the issue (ideally without fabric / composer dependencies so that it can be worked by CouchDB), and open a defect.  I'd suggest to open against both CouchDB https://github.com/apache/couchdb/issues and Fabric https://jira.hyperledger.org/secure/Dashboard.jspa so that we can track it.","username":"dave.enyeart","ts":"2018-01-30T15:44:52.636Z"}
{"msg":"Concerning the query limit, it can be configured from the peer with CORE_LEDGER_STATE_COUCHDBCONFIG_QUERYLIMIT.  There is also a Jira item in progress to add explicit paging control https://jira.hyperledger.org/browse/FAB-2809 , it is currently targeted for 1.2.","username":"dave.enyeart","ts":"2018-01-30T15:48:20.708Z"}
{"msg":"`skip` is not recommended or supported, as it results in iterating through all prior records in the database.  Instead, CouchDB 2.1.1 has added efficient paging via `bookmark`.  Fabric has just moved up to CouchDB 2.1.1, and this is intended to be used for the explicit paging.","username":"dave.enyeart","ts":"2018-01-30T15:50:06.526Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=XyXYPA7qLZZG8Lonv) @ArnabChatterjee If you feel the order is the bottleneck in your set up, and want to get advice on different configurations to try out, I would suggest you posting the details on the channel `fabric-orderer`.","username":"manish-sethi","ts":"2018-01-30T19:36:28.466Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=XyXYPA7qLZZG8Lonv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=XyXYPA7qLZZG8Lonv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=XyXYPA7qLZZG8Lonv) @ArnabChatterjee If you feel that the order is the bottleneck in your set up, and want to get advice on different configurations to try out, I would suggest you posting the details on the channel `fabric-orderer`.","username":"manish-sethi","ts":"2018-01-30T19:36:28.466Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=XyXYPA7qLZZG8Lonv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=XyXYPA7qLZZG8Lonv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=LcYpdM8yFidnbggdD) @dave.enyeart thanks Dave","username":"jdockter","ts":"2018-01-30T21:10:57.251Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=LcYpdM8yFidnbggdD","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=LcYpdM8yFidnbggdD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@jrosmith ahh.. sorry the alert from downunder:sweat_smile: sure, will pay special attential to that. Thanks for your answer, yeah, i don't need coin, but a token system. Just not sure what's the best practice to design that...  This seems the only example i can goole out ATM: https://github.com/hyperledger-archives/fabric/tree/master/examples/chaincode/go/utxo :thinking:","username":"HarryZhu","ts":"2018-01-30T21:52:03.812Z"}
{"msg":"@HarryZhu so when you say token system are you just trying to directly mimic bitcoin? or do you mean in the manner of PersonA has X tokens and transfers Y to PersonB who previously had 0. Now PersonA has X-Y tokens and PersonB has Y tokens?","username":"jrosmith","ts":"2018-01-30T22:01:36.899Z"}
{"msg":"@jrosmith not bitcoin, just like a points awarding system, you can either purchase points or accrue points via some events from a vendor, and use the points to purchase some services from the vendor later. Probably you also can transfer the points to somebody else.","username":"HarryZhu","ts":"2018-01-30T22:05:00.723Z"}
{"msg":"Has joined the channel.","username":"vchengsong","ts":"2018-02-01T03:49:16.647Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chandg12","ts":"2018-02-01T05:53:20.423Z","type":"uj"}
{"msg":"Has joined the channel.","username":"adarshsaraf123","ts":"2018-02-01T06:22:38.883Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jmcnevin","ts":"2018-02-02T19:34:54.590Z","type":"uj"}
{"msg":"Has joined the channel.","username":"KnightTuring","ts":"2018-02-03T10:35:29.890Z","type":"uj"}
{"msg":"Does transaction log and state data in fabric ledger uses seperate database like leveldb or couchdb ?","username":"MohammadObaid","ts":"2018-02-04T18:29:20.314Z"}
{"msg":"@MohammadObaid The transaction logs are stored in flat files on the peer file system.  The World State uses either leveldb by default, or, optionally, CouchDB.  There are also supporting indexes and databases to aid chaincode functions such as GetHistoryByKey that are stored in leveldb.\n","username":"silliman","ts":"2018-02-04T18:39:25.032Z"}
{"msg":"Has joined the channel.","username":"ajithjosek","ts":"2018-02-04T20:18:19.854Z","type":"uj"}
{"msg":"Alright","username":"MohammadObaid","ts":"2018-02-05T12:51:39.219Z"}
{"msg":"Has joined the channel.","username":"ahmedsajid","ts":"2018-02-05T16:45:46.883Z","type":"uj"}
{"msg":"There is a channel named `channel1` in my network, but why `chains.list[\"channel1\"]` data structure in `fabric/core/peer/peer.go` is `nil` ?\n```\nvar chains = struct {\n\tsync.RWMutex\n\tlist map[string]*chain\n}{list: make(map[string]*chain)}\n```","username":"qizhang","ts":"2018-02-06T02:27:21.319Z"}
{"msg":"There is a channel named `channel1` in my network, but why `chains.list[\"channel1\"]` data structure in `fabric/core/peer/peer.go` is `nil` ?\n```var chains = struct {\n\tsync.RWMutex\n\tlist map[string]*chain\n}{list: make(map[string]*chain)}\n```","username":"qizhang","ts":"2018-02-06T02:27:21.319Z"}
{"msg":"@dave.enyeart @manish-sethi There is a channel named `channel1` in my network, but why `chains.list[\"channel1\"]` data structure in `fabric/core/peer/peer.go` is `nil` ?\n```var chains = struct {\n\tsync.RWMutex\n\tlist map[string]*chain\n}{list: make(map[string]*chain)}\n```","username":"qizhang","ts":"2018-02-06T02:27:21.319Z"}
{"msg":"@dave.enyeart @manish-sethi I started a Fabric network and ran some benchmarks, but it seems that the `func serve(args []string) error` in `core/peer/peer.go`has never been invoked. Can you please advise how this function is used? Thanks!","username":"qizhang","ts":"2018-02-06T02:27:21.319Z"}
{"msg":"@dave.enyeart @manish-sethi I started a Fabric network and ran some benchmarks, but it seems that the `func serve(args []string) error` in `core/peer/node/start.go`has never been invoked. Can you please advise how this function is used? Thanks!","username":"qizhang","ts":"2018-02-06T02:27:21.319Z"}
{"msg":"Has joined the channel.","username":"arunkarri","ts":"2018-02-06T15:38:03.983Z","type":"uj"}
{"msg":"we are looking to create a custom historian which shows all the details related to the transactions based on a particular assetId. Can someone help how can we do that. we have the api which shows just generic info in the history.","username":"arunkarri","ts":"2018-02-06T15:38:12.372Z"}
{"msg":"Hello, how to i can config system chaincode when build fabric?","username":"bamboo","ts":"2018-02-07T03:57:54.838Z"}
{"msg":"Has joined the channel.","username":"Amir","ts":"2018-02-07T21:38:53.845Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bburger","ts":"2018-02-07T22:14:49.938Z","type":"uj"}
{"msg":"Has joined the channel.","username":"PyiTheinKyaw","ts":"2018-02-08T05:17:57.303Z","type":"uj"}
{"msg":"Hello Everyone!\n\nI would like to ask some question for my blockchain network.\nI have some issues to clear data in blockchain.\n\nNow, My network configuration is \n1 orderer, 4 Kafaka and 1 zookeeper and 4 peers.\nIn peers, use the couchdb as state db.\n\nI tried to clear block in blockchain (Becuase of a lot of testing data block).\n\nAllow me to briefly steps to clean block (But It does not work).\n1. Stop All peer.\n2. I cleaned the file and folder under \"/var/hyperledger/production/\" of peer and\n   delete all file from couchDB (Run with docker, remove all files which linked folder with docker).\n3. Then start again the peer service, there are still block and can query the old data.\n\nBut I does not work.\nAm I miss something ? \nWould all of you please help me ?","username":"PyiTheinKyaw","ts":"2018-02-08T05:22:42.851Z"}
{"msg":"Hello, does anyone know how Fabric handles a blockchain growing very large in size? Is there a way to archive old, not actively needed blocks, e.g. moving the blockchain forward like a snake?","username":"bburger","ts":"2018-02-08T07:07:48.759Z"}
{"msg":"Hello Members,\n\nMay I confirm about one more thing.\n\nAccording to my knowledge, (May wrong)\nFor a channel, ledger maintains the following three components:\nBlock Storage\n- hash linked tamper-proof logs of ordered transactions\nState Database \n- current state of all keys\nHistory Database\n- past state of all keys\n\nI am clear for \"Block storage\", and \"State Database\"\n\nBut, where is history database and how could i check it.\nThe SDK for hyperledger fabric also supprot the following API.\n`GetHistoryForKey(namespace string, key string) (commonledger.ResultsIterator, error)`\n","username":"PyiTheinKyaw","ts":"2018-02-08T08:41:50.587Z"}
{"msg":"Hello Members,\n\nMay I confirm about one more thing.\n\nAccording to my knowledge, (May wrong)\nFor a channel, ledger maintains the following three components:\nBlock Storage\n- hash linked tamper-proof logs of ordered transactions\nState Database \n- current state of all keys\nHistory Database\n- past state of all keys\n\nI am clear for \"Block storage\", and \"State Database\"\n\nBut, where is history database and how could i check it.\nThe SDK for hyperledger fabric also supprot the following API.\n`GetHistoryForKey(namespace string, key string) (commonledger.ResultsIterator, error)`\n\nI would like to know the physical location of that History DB.\n\n>Ref : https://blockchain-fabric.blogspot.com/2017/09/three-component-maintained-by-ledger-in.html","username":"PyiTheinKyaw","ts":"2018-02-08T08:41:50.587Z"}
{"msg":"@PyiTheinKyaw Concerning your prior question, the orderer also stores blocks, you will need to clear blocks from orderer as well.","username":"dave.enyeart","ts":"2018-02-08T13:19:48.357Z"}
{"msg":"On the latter question, History Database is simply a leveldb index, storing the block height each time a key is modified.  The actual historical value is persisted in the blockchain transaction writeset, not in the history database.  Here are the contents of the ledger directories:","username":"dave.enyeart","ts":"2018-02-08T13:22:27.633Z"}
{"msg":"Content of <CORE_PEER_FILESYSTEMPATH>/ledgersData:\n/ledgerProvider - includes leveldb database indicating which chains this peer has joined\n/chains - includes block storage per chain and leveldb database with indexes into the chains\n/stateLevelDB - state database storing current values of chaincode keys\n/historyLevelDB - history database storing index of which transactions have modified which chaincode keys","username":"dave.enyeart","ts":"2018-02-08T13:22:30.526Z"}
{"msg":"Has joined the channel.","username":"Bchainer","ts":"2018-02-09T01:43:18.737Z","type":"uj"}
{"msg":"Has joined the channel.","username":"malama","ts":"2018-02-09T09:39:01.475Z","type":"uj"}
{"msg":"I was wondering if there was a possibility for participants in a channel to be limited to execute ONLY specific parts of the chaincode? ","username":"malama","ts":"2018-02-09T09:41:57.063Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=PnoaPDyMe6FCvDj5K) @malama no, if this is the case you might need consider to split your chaincode","username":"C0rWin","ts":"2018-02-09T13:04:57.843Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PnoaPDyMe6FCvDj5K","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PnoaPDyMe6FCvDj5K","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@malama within the chaincode you can check the submitters identity and make access control decisions, restricting them to certain actions/parts of the chaincode.  For more details see:","username":"dave.enyeart","ts":"2018-02-09T13:34:56.390Z"}
{"msg":"http://hyperledger-fabric-ca.readthedocs.io/en/latest/users-guide.html#attribute-based-access-control","username":"dave.enyeart","ts":"2018-02-09T13:34:57.837Z"}
{"msg":"https://github.com/hyperledger/fabric/tree/master/core/chaincode/lib/cid","username":"dave.enyeart","ts":"2018-02-09T13:35:04.835Z"}
{"msg":"Has joined the channel.","username":"ohmeraka","ts":"2018-02-12T16:24:07.266Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jasonpayne12","ts":"2018-02-12T20:35:43.439Z","type":"uj"}
{"msg":"Hello Guys @here,\n\nIn my all of peers apper following logs,\nWhat I was wrong.\nI think data could not able to sync over \"Gossip\" protocol.\n\n```\n2018-02-13 08:27:39.437 MMT [gossip/state] queueNewMessage -> WARN 315 Failed adding payload: Ledger height is at 5704, cannot enqueue block with sequence of 200\n2018-02-13 08:27:39.437 MMT [gossip/state] queueNewMessage -> WARN 316 Failed adding payload: Ledger height is at 5704, cannot enqueue block with sequence of 236\n2018-02-13 08:27:39.437 MMT [gossip/state] queueNewMessage -> WARN 317 Failed adding payload: Ledger height is at 5704, cannot enqueue block with sequence of 189\n2018-02-13 08:27:39.437 MMT [gossip/state] queueNewMessage -> WARN 318 Failed adding payload: Ledger height is at 5704, cannot enqueue block with sequence of 261\n```\n\nHow could I able to solve it.\nAny Idea ?","username":"PyiTheinKyaw","ts":"2018-02-13T07:33:44.806Z"}
{"msg":"@PyiTheinKyaw  Please do not use at-here, it is reserved for channel announcements.","username":"dave.enyeart","ts":"2018-02-13T09:24:19.087Z"}
{"msg":" I suggest you take post the gossip question on #fabric-gossip .","username":"dave.enyeart","ts":"2018-02-13T09:24:25.869Z"}
{"msg":" I suggest you post the gossip question on #fabric-gossip .","username":"dave.enyeart","ts":"2018-02-13T09:24:25.869Z"}
{"msg":"I see your same question on other channels as well, please do not post the same question on multiple channels.","username":"dave.enyeart","ts":"2018-02-13T09:25:34.191Z"}
{"msg":"Has joined the channel.","username":"Ryan2","ts":"2018-02-13T14:45:14.971Z","type":"uj"}
{"msg":"Has joined the channel.","username":"melwindmello","ts":"2018-02-15T09:59:03.528Z","type":"uj"}
{"msg":"@dave.enyeart Can you please help me out to backup and restore ledger data in case of failure?","username":"DRSK","ts":"2018-02-16T09:46:43.355Z"}
{"msg":"Can anyone please help me out to backup ad restore ledger data in case of failure?","username":"DRSK","ts":"2018-02-16T09:46:43.355Z"}
{"msg":"Can anyone please help me out to backup and restore ledger data in case of failure?","username":"DRSK","ts":"2018-02-16T09:46:43.355Z"}
{"msg":"Has joined the channel.","username":"foxtrot9","ts":"2018-02-18T10:39:34.274Z","type":"uj"}
{"msg":"Has joined the channel.","username":"iamdm","ts":"2018-02-20T09:59:44.422Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RajanGupta","ts":"2018-02-20T14:25:13.338Z","type":"uj"}
{"msg":"Hello Experts. Thanks for your support.\n\nI wish to allow only read access to a given channel in the network. I think this can be done by setting the Channel's writer's policy. But I cannot find any specific procedure/examples to achieve this. Any ideas? Thanks. :)","username":"ArnabChatterjee","ts":"2018-02-21T02:16:44.243Z"}
{"msg":"Has joined the channel.","username":"Wangrj","ts":"2018-02-22T08:21:12.208Z","type":"uj"}
{"msg":"Hi, I checked the Fabric-FAQ.html of the document. Regarding Security & Access Control, it wrote that 'If you do not want the data to go through the orderers at all, and you are only concerned about the input data, then you can use visibility settings. The visibility setting will determine whether input and output chaincode data is included in the submitted transaction, versus just output data. ' Could anyone tell me where I can find the visibility settings?","username":"Wangrj","ts":"2018-02-22T08:21:54.558Z"}
{"msg":"@Wangrj There is something called transientMap in the proposal request. Whatever goes in the transientMap is invisible to orderer. For java SDK, here is an example -- https://jira.hyperledger.org/secure/attachment/14563/MultiDomainSampleV10.java  Search for \"Now do move of 100 units\" to go directly to transientMap usage in this java file. ","username":"Senthil1","ts":"2018-02-22T08:54:35.635Z"}
{"msg":"I am trying to setup up peers on different servers. How do they discover each other? Any bootstrapping needs to be done?","username":"sampath06","ts":"2018-02-22T14:09:20.776Z"}
{"msg":"@sampath06 correct","username":"yacovm","ts":"2018-02-22T14:16:38.953Z"}
{"msg":"but please ask the question in #fabric-gossip ","username":"yacovm","ts":"2018-02-22T14:16:48.178Z"}
{"msg":"your question is not relevant to ledger","username":"yacovm","ts":"2018-02-22T14:16:58.355Z"}
{"msg":"Sure. Sorry about that","username":"sampath06","ts":"2018-02-22T14:17:09.645Z"}
{"msg":"np","username":"yacovm","ts":"2018-02-22T14:17:51.994Z"}
{"msg":"Has joined the channel.","username":"claude.mamo","ts":"2018-02-25T17:53:46.407Z","type":"uj"}
{"msg":" https://sstone1.github.io/composer/tutorials/deploy-to-fabric-multi-org.html                                        \n                                                                                                                          https://hyperledger-fabric.readthedocs.io/en/release/build_network.html\nwhich link shall i follow for setup? ","username":"Ammu","ts":"2018-02-27T05:24:55.855Z"}
{"msg":"Has joined the channel.","username":"debutinfotech","ts":"2018-02-27T06:02:13.705Z","type":"uj"}
{"msg":"Does couchdb support `skip` and `limit` values? I noticed that there are a bunch of improvement in CouchDB, but this doesn't appear to have made it in :(\nI'm getting RPC errors because the message size returned is too large. I only want it to return around 50 documents at a time, but it's try to send back all 175,000 of them...… This is massively inconvenient and I can't seem to find any way around it right now. Any help would be appreciated. Thanks","username":"pd93","ts":"2018-02-27T15:15:19.566Z"}
{"msg":"Does couchdb support `skip` and `limit` values? I noticed that there are a bunch of improvement in CouchDB in v1.1, but this doesn't appear to have made it in :(\nI'm getting RPC errors because the message size returned is too large. I only want it to return around 50 documents at a time, but it's try to send back all 175,000 of them...… This is massively inconvenient and I can't seem to find any way around it right now. Any help would be appreciated. Thanks","username":"pd93","ts":"2018-02-27T15:15:19.566Z"}
{"msg":"Does couchdb support `skip` and `limit` values? I noticed that there are a bunch of improvement in CouchDB in v1.1, but this doesn't appear to have made it in :(\nI'm getting RPC errors because the message size returned is too large. I only want it to return around 50 documents at a time, but it's trying to send back all 175,000 of them...… This is massively inconvenient and I can't seem to find any way around it right now. Any help would be appreciated. Thanks","username":"pd93","ts":"2018-02-27T15:15:19.566Z"}
{"msg":"I asked this question originally on #fabric-orderer, and I was asked to summarize it here - as it ended up being more of a ledger question. The original question was: \"Is there ever a situation where I may end up with duplicates of the same txnId in the same or even different blocks - maybe as the result of submitting the same transaction twice through the same OSN, or at the same time through multiple OSNs?\"; @kostas replies that \"yes, that's indeed possible, and only the first validated instance of the same txnId would have a chance of being valid, the others would be marked as invalid\" (which I personally find a bit odd, but, OK). The follow up question I asked @kostas and @manish-sethi  was \"then, how does the block index behave? What does getTransactionById(txnId) return if txnId was submitted multiple times?\". @manish-sethi confirmed that subsequent submissions of the same txnId would be marked as invalid, but he was not sure about the behavior of the block index/getTransactionById() in that scenario; maybe it returns the last submission of the same txnId? (which I would think is the worst of all possible scenarios).","username":"minollo","ts":"2018-02-27T15:27:27.207Z"}
{"msg":"@minollo you are correct, this needs to be looked into.  I suggest please open a Jira item. @manish-sethi could you look into it?","username":"dave.enyeart","ts":"2018-02-27T15:29:08.024Z"}
{"msg":"@pd93 `skip` is not an efficient way to do paging.  couchdb 2.1.1 added an efficient approach to paging.  fabric has recently moved up to couchdb 2.1.1 and will be exploiting the new paging capability. tagged for 1.2 currently: https://jira.hyperledger.org/browse/FAB-2809","username":"dave.enyeart","ts":"2018-02-27T15:29:39.226Z"}
{"msg":"in the meantime, the peer queryLimit config option is used to limit the number of results requested from couchdb.","username":"dave.enyeart","ts":"2018-02-27T15:30:17.393Z"}
{"msg":"@dave.enyeart Okay, thanks. This is definitely a priority feature for me.\npresumably this has a corresponding env var I can use in my compose config? ","username":"pd93","ts":"2018-02-27T15:31:43.597Z"}
{"msg":"yes, all of the core.yaml config options can be overridden with env variables: CORE_LEDGER_STATE_COUCHDBCONFIG_QUERYLIMIT","username":"dave.enyeart","ts":"2018-02-27T15:33:54.240Z"}
{"msg":"@dave.enyeart Thank you. Looking forward to 1.2 in the future","username":"pd93","ts":"2018-02-27T15:34:28.389Z"}
{"msg":"> (which I personally find a bit odd, but, OK)\n@minollo: What makes this odd exactly?","username":"kostas","ts":"2018-02-27T15:35:21.208Z"}
{"msg":"I would expect the commit submission of a duplicate txnId to be rejected immediately - never even processed by the peer(s) for validation","username":"minollo","ts":"2018-02-27T15:36:17.097Z"}
{"msg":"It has no chances to ever be valid","username":"minollo","ts":"2018-02-27T15:36:42.447Z"}
{"msg":"I don't know the peer handles validation (and whether it exits early when it sees a duplicate tx), but I don't see anything in the original statement that excludes that possibility?","username":"kostas","ts":"2018-02-27T15:38:40.286Z"}
{"msg":"I don't know how the peer handles validation (and whether it exits early when it sees a duplicate tx), but I don't see anything in the original statement that excludes that possibility?","username":"kostas","ts":"2018-02-27T15:38:40.286Z"}
{"msg":"what I'm saying is that I wouldn't expect the duplicate txnId to even ever be propagated to the peers; the OSN knows whether the same txnId is already in Kafka pending commit or already committed, and it could return an immediate error, without going through the whole txn handling process","username":"minollo","ts":"2018-02-27T15:40:24.106Z"}
{"msg":"I suppose I'm also implying that I would like to never see duplicate txnIds in blocks","username":"minollo","ts":"2018-02-27T15:40:45.782Z"}
{"msg":"the OSN does not know if the original transaction got validated or invalidated","username":"dave.enyeart","ts":"2018-02-27T15:41:58.482Z"}
{"msg":"it doesn't matter","username":"minollo","ts":"2018-02-27T15:42:06.044Z"}
{"msg":"it knows it came first; subsequent ones will never be valid - based on logic and what @manish-sethi said","username":"minollo","ts":"2018-02-27T15:42:42.839Z"}
{"msg":"Why can't the first txid `foo` be invalid and the second one `valid`?","username":"kostas","ts":"2018-02-27T15:43:08.913Z"}
{"msg":"Why can't the first txid `foo` be invalid and the second one valid?","username":"kostas","ts":"2018-02-27T15:43:08.913Z"}
{"msg":"I'm assuming that I'm reusing the transaction identifier but, say, I didn't include all the endorsements the first time.","username":"kostas","ts":"2018-02-27T15:43:50.989Z"}
{"msg":"oh, different content, same txnId... really ugly","username":"minollo","ts":"2018-02-27T15:44:21.166Z"}
{"msg":"I suppose that's another good reason for *never* allowing a duplicate txnId to be accepted","username":"minollo","ts":"2018-02-27T15:44:34.839Z"}
{"msg":"...and now you've opened the door to a DoS attack.","username":"kostas","ts":"2018-02-27T15:47:01.952Z"}
{"msg":"@minollo - while I look into the code for this, as @dave.enyeart suggested, can you please open a jira and tag us there (or copy the jira link here).","username":"manish-sethi","ts":"2018-02-27T15:47:41.673Z"}
{"msg":"@minollo: Assume you're sending txid `foo` to my endorsing peer. Before I send you my endorsement, I send another tx with the same txid to the ordering service. Now you're unable to send this transaction to the ordering service.","username":"kostas","ts":"2018-02-27T15:47:49.314Z"}
{"msg":"@kostas, yes, that's a legitimate concern.","username":"minollo","ts":"2018-02-27T15:49:09.735Z"}
{"msg":"We're working on those things (replay attacks, etc.) but the devil is in the details.","username":"kostas","ts":"2018-02-27T15:50:20.394Z"}
{"msg":"@kostas, yep, I understand. Still, I think that ending up with duplicate txnIds in the same channel at this point is more fundamentally dangerous.","username":"minollo","ts":"2018-02-27T15:52:11.081Z"}
{"msg":"@kostas, yep, I understand. Still, I think that ending up with duplicate txnIds in the same channel at this point is more fundamentally dangerous. ...and of course that's just my persona opinion...","username":"minollo","ts":"2018-02-27T15:52:11.081Z"}
{"msg":"@kostas, yep, I understand. Still, I think that ending up with duplicate txnIds in the same channel at this point is more fundamentally dangerous. ...and of course that's just my personal opinion...","username":"minollo","ts":"2018-02-27T15:52:11.081Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=yAhtQg7euwDgeezLF) @manish-sethi I think I did it: https://jira.hyperledger.org/browse/FAB-8557","username":"minollo","ts":"2018-02-27T16:25:40.074Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yAhtQg7euwDgeezLF","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yAhtQg7euwDgeezLF","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thanks @minollo ","username":"manish-sethi","ts":"2018-02-27T16:25:59.137Z"}
{"msg":"Has joined the channel.","username":"VikasJakhar","ts":"2018-02-27T20:10:13.826Z","type":"uj"}
{"msg":"@here What is Endorser, Committer & Consenters? What are their roles?","username":"debutinfotech","ts":"2018-02-28T06:17:30.319Z"}
{"msg":"Has joined the channel.","username":"AlanPalmer","ts":"2018-02-28T13:35:57.336Z","type":"uj"}
{"msg":"I’m new here so not sure if this the correct channel so happy to be advised. My friend and myself want to use Fabric to set up blockchain to record the details of a diamond through the supply chain journey. Any initial guidance would be appreciated.","username":"AlanPalmer","ts":"2018-02-28T13:36:17.034Z"}
{"msg":"Hello Fellow Hyperledgers","username":"AlanPalmer","ts":"2018-02-28T13:36:38.515Z"}
{"msg":"@debutinfotech please do not use @ here. it pings every on the channel. you spammed several different channels, pinging over 5000 people overnight.","username":"jrosmith","ts":"2018-02-28T13:57:26.280Z"}
{"msg":"Has joined the channel.","username":"dampuero","ts":"2018-02-28T15:06:17.801Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JayJong","ts":"2018-03-01T10:55:44.973Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Nabilel 1","ts":"2018-03-01T13:54:19.613Z","type":"uj"}
{"msg":"Hello everyone. In a Hyperldeger fabirc, can I have peer nodes acting as clients? in other words each participant in the network needs to be a peer node as well?","username":"Nabilel 1","ts":"2018-03-01T13:58:43.112Z"}
{"msg":"Has joined the channel.","username":"AndrewRy 1","ts":"2018-03-01T16:28:06.616Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sakoula","ts":"2018-03-02T10:35:06.526Z","type":"uj"}
{"msg":"I just upgraded my docker images to use the new version of fabric (`rc1`) and the base image (`0.4.6`) and brought my network up exactly the same as it was before.","username":"pd93","ts":"2018-03-05T16:22:33.603Z"}
{"msg":"I just upgraded my docker images to use the new version of fabric (`rc1`) and the base image (`0.4.6`) and brought my network up exactly the same as it was before.\nMy indexes get added, but when I run a query that uses one, I get a `no usable index` error","username":"pd93","ts":"2018-03-05T16:22:33.603Z"}
{"msg":"I just upgraded my docker images to use the new version of fabric (`rc1`) and the base image (`0.4.6`) and brought my network up exactly the same as it was before.\nMy indexes get added, but when I run a query that uses one, I get a `no usable index` error.\nI see a few index related changes in the changelogs for `rc1`, but nothing stands out as related.\nRunning stuff on `alpha` still works.. either with `0.4.5` or `0.4.6` as the base image","username":"pd93","ts":"2018-03-05T16:22:33.603Z"}
{"msg":"I just upgraded my docker images to use the new version of fabric ( `rc1` ) and base image ( `0.4.6` ) and brought my network up exactly the same as it was before.\nMy indexes get added, but when I run a query that uses one, I get a `no usable index` error.\nI see a few index related changes in the changelogs for `rc1`, but nothing stands out as related.\nRunning stuff on `alpha` still works.. either with `0.4.5` or `0.4.6` as the base image","username":"pd93","ts":"2018-03-05T16:22:33.603Z"}
{"msg":"you mean a couchdb index?","username":"dave.enyeart","ts":"2018-03-05T16:24:36.768Z"}
{"msg":"Yeah","username":"pd93","ts":"2018-03-05T16:24:45.491Z"}
{"msg":"the \"data\" envelope is no longer needed","username":"dave.enyeart","ts":"2018-03-05T16:24:54.189Z"}
{"msg":"Not sure what you're referring to by \"data envelope\", sorry","username":"pd93","ts":"2018-03-05T16:25:50.153Z"}
{"msg":"I have the JSON index files in a `META-INF/statedb/couchdb/indexes` folder with my chaincode","username":"pd93","ts":"2018-03-05T16:26:26.444Z"}
{"msg":"that's the only change i can think of that might break prior index definitions.... the json fields had to be pre-pended with \"data.\" in alpha","username":"dave.enyeart","ts":"2018-03-05T16:26:37.865Z"}
{"msg":"Oh I see what you mean, sorry","username":"pd93","ts":"2018-03-05T16:26:57.069Z"}
{"msg":"That might be it, I'll check","username":"pd93","ts":"2018-03-05T16:27:03.436Z"}
{"msg":"@dave.enyeart Removing the `data.` envelope, as you suggested, fixed the issue. Thanks :)","username":"pd93","ts":"2018-03-05T16:31:49.832Z"}
{"msg":"I have a questions on private data. Is private data planned for v1.1. I have looked at the release note and I don't see the JIRA number 1151 in release note of v1.1.0-rc1.  https://jira.hyperledger.org/browse/FAB-1151","username":"gauthampamu","ts":"2018-03-06T10:22:06.431Z"}
{"msg":"@gauthampamu Private data is an experimental feature in 1.1: https://wiki.hyperledger.org/projects/fabric/proposedv1_1#experimental_features_-_not_to_be_included_in_v11_release_images_but_available_if_you_build_from_source_and_first_set_experimental_true_environment_variable","username":"dave.enyeart","ts":"2018-03-06T12:32:39.511Z"}
{"msg":"Has joined the channel.","username":"aatkddny","ts":"2018-03-06T16:20:07.220Z","type":"uj"}
{"msg":"dave.enyeart","username":"rjones","ts":"2018-03-06T18:14:06.921Z","type":"subscription-role-added"}
{"msg":"mastersingh24","username":"rjones","ts":"2018-03-06T18:14:15.235Z","type":"subscription-role-added"}
{"msg":"dave.enyeart","username":"dave.enyeart","ts":"2018-03-06T19:56:24.110Z","type":"subscription-role-added"}
{"msg":"manish-sethi","username":"dave.enyeart","ts":"2018-03-06T19:56:33.635Z","type":"subscription-role-added"}
{"msg":"Has joined the channel.","username":"neharprodduturi","ts":"2018-03-08T00:42:09.243Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cheukchan","ts":"2018-03-08T05:25:40.000Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Rosan","ts":"2018-03-08T08:38:21.558Z","type":"uj"}
{"msg":"is PBFT supported","username":"kiranarshakota","ts":"2018-03-08T11:03:39.196Z"}
{"msg":"BFT support is in progress, for details please ask on #fabric-orderer ","username":"dave.enyeart","ts":"2018-03-08T11:44:34.064Z"}
{"msg":"Has joined the channel.","username":"gbolarhan","ts":"2018-03-09T05:03:08.234Z","type":"uj"}
{"msg":"Has joined the channel.","username":"creativemonk","ts":"2018-03-10T13:41:14.385Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MoulaliMvg","ts":"2018-03-12T05:22:55.970Z","type":"uj"}
{"msg":"Has joined the channel.","username":"javrevasandeep","ts":"2018-03-12T15:30:18.009Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jspark84","ts":"2018-03-13T13:15:40.716Z","type":"uj"}
{"msg":"Has left the channel.","username":"antitoine","ts":"2018-03-13T13:23:57.406Z","type":"ul"}
{"msg":"Is there any way to get the missed chaincode events for clients (in case of crash or connectivity dropped) ?","username":"guruce","ts":"2018-03-14T02:40:58.009Z"}
{"msg":"@guruce in 1.0.x you'll need to query the ledger's blocks to catch up on any missed events. Starting in 1.1 the event interface allows resuming the event flow at the last block event received. For details see http://hyperledger-fabric.readthedocs.io/en/latest/peer_event_services.html and https://fabric-sdk-node.github.io/tutorial-channel-events.html .","username":"dave.enyeart","ts":"2018-03-14T04:30:25.615Z"}
{"msg":"@dave.enyeart  A follow up question to guruce's question. When the buffersize gets full, events are not published. Is there a way to increase the buffersize to accommodate more events in the buffer or increasing the timeout to more than 10s? ","username":"neharprodduturi","ts":"2018-03-14T05:13:59.810Z"}
{"msg":"@neharprodduturi Based on the context, I'm guessing you're wondering if there's a way to change the buffer size or the timeout dynamically. Unfortunately, the peers must be restarted in order for the new values of the buffer size and timeout to take effect. ","username":"wlahti","ts":"2018-03-14T12:46:59.858Z"}
{"msg":"Has joined the channel.","username":"brian038","ts":"2018-03-14T15:30:27.511Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=DzA3HbDFwhQvKhrjo) @wlahti okay. Thank you","username":"neharprodduturi","ts":"2018-03-14T17:54:32.332Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DzA3HbDFwhQvKhrjo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DzA3HbDFwhQvKhrjo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"papegaaij","ts":"2018-03-15T10:24:16.751Z","type":"uj"}
{"msg":"hi, I asked the same question yesterday in #fabric-questions but did not get an answer there:","username":"papegaaij","ts":"2018-03-15T10:25:42.143Z"}
{"msg":"does fabric provide any protection against tampering with the couchdb database?","username":"papegaaij","ts":"2018-03-15T10:25:43.330Z"}
{"msg":"I trie**d the fabcar example, and after modifying the data in the database, queryCar returns the modified data, no error or warning about the changed data","username":"papegaaij","ts":"2018-03-15T10:26:06.344Z"}
{"msg":"I tried the fabcar example, and after modifying the data in the database, queryCar returns the modified data, no error or warning about the changed data","username":"papegaaij","ts":"2018-03-15T10:26:06.344Z"}
{"msg":"from what I understand from sawtooth, it uses a radix merkle tree, which should be tamper proof, but naturally that's a totally different thing than a couchdb","username":"papegaaij","ts":"2018-03-15T10:27:51.632Z"}
{"msg":"@papegaaij It is the endorsement policy that ensures the integrity of the blockchain data and protects against a bad peer (whether the LevelDB or CouchDB data was tampered/corrupted, or any other problem on peer). Fabric uses an endorsement policy where multiple peers must return the same results.  If ledger data has been altered or corrupted (in CouchDB, LevelDB, file system) it will be detected the next time the data is accessed. Transactions require N endorsing peers to execute the chaincode, the transaction results (reads and writes) across these endorsers must match. If ledger data had been altered or corrupted on a peer then the transaction results would be inconsistent across endorsing peers, the 'bad' peer will be found out, and the application client can throw out the results from the bad peer before submitting the transaction for ordering/commit. If client application tries to submit a transaction with inconsistent endorsement regardless, this will be detected and the transaction will be invalidated by all peers at commit time.  \nIf you are doing read-only queries rather than update transactions, then you can similarly query multiple endorsing peers and verify the results from each are consistent.\nIf there is doubt about state database integrity, the state database can be dropped and it will automatically get regenerated from the chain source of truth.  If there is doubt about the chain integrity itself, then the peer itself will need to be rebuilt and the chain will be the transferred from another peer upon startup.","username":"dave.enyeart","ts":"2018-03-15T10:41:10.522Z"}
{"msg":"@dave.enyeart thank you for the very clear answer, this conforms to what I expected, and certainly is something we need to take into account in our own solution","username":"papegaaij","ts":"2018-03-15T10:43:35.920Z"}
{"msg":" Hi @dave.enyeart, regarding to FAB-8665 \"Support golang plugin architecture for pluggable state databases\", is there a schedule for this work? how would you design the interfaces? Expecting a design doc could be shared first, and willing to contribute ","username":"luomin","ts":"2018-03-15T11:18:52.394Z"}
{"msg":"@luomin investigation has begun. We expect the interfaces to be similar to the existing VersionedDB interface that existing implementations compile in. @Senthil1 is working on this and may be able to provide additional update. I agree design should be documented in FAB-8665","username":"dave.enyeart","ts":"2018-03-15T11:21:44.040Z"}
{"msg":"@luomin investigation has begun. We expect the interfaces for key/value state databases to be similar to the existing VersionedDB interface that existing implementations compile in. @Senthil1 is working on this and may be able to provide additional update. I agree design should be documented in FAB-8665","username":"dave.enyeart","ts":"2018-03-15T11:21:44.040Z"}
{"msg":"@luomin investigation has begun. We expect the interfaces for key/value state databases to be similar to the existing VersionedDB interface that existing implementations compile in. @Senthil1 is working on this and may be able to provide additional update. I agree design should be documented in FAB-8665, and would appreciate your review and partnering with @Senthil1 ","username":"dave.enyeart","ts":"2018-03-15T11:21:44.040Z"}
{"msg":"@dave.enyeart Is there a way to run the experimental features on 1.1 (e.g. FAB-1151) without recompiling the peer node?","username":"sakoula","ts":"2018-03-15T14:15:49.735Z"}
{"msg":"Has joined the channel.","username":"blockgeek","ts":"2018-03-15T18:31:27.641Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yopep","ts":"2018-03-16T05:58:51.213Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chenjun-bj","ts":"2018-03-17T00:59:09.438Z","type":"uj"}
{"msg":"Has joined the channel.","username":"VinayChaudhary","ts":"2018-03-17T15:45:07.905Z","type":"uj"}
{"msg":"@luomin Will add an design doc in the JIRA ","username":"Senthil1","ts":"2018-03-17T16:37:31.592Z"}
{"msg":"@sakoula To try FAB-1151 you must re-compile peer with EXPERIMENTAL=true setting","username":"dave.enyeart","ts":"2018-03-17T16:58:38.959Z"}
{"msg":"@Senthil1  Thank you very much. I will read the design doc when it is ready and willing to have a chance to work together with you on this task. ","username":"luomin","ts":"2018-03-18T23:34:22.192Z"}
{"msg":"Has joined the channel.","username":"robinrob","ts":"2018-03-19T22:20:47.393Z","type":"uj"}
{"msg":"Has left the channel.","username":"greg2git","ts":"2018-03-19T23:39:52.526Z","type":"ul"}
{"msg":"Has joined the channel.","username":"wjzheng","ts":"2018-03-20T19:06:58.430Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ShikarSharma","ts":"2018-03-20T22:43:34.844Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bzeyben","ts":"2018-03-21T11:05:47.200Z","type":"uj"}
{"msg":"Hi Team for Fab-1151 what is the blockToLive attribute for?   Is that the block number where the hashed Pvt RW Set gets written to?  Thanks!","username":"tennenjl","ts":"2018-03-21T19:55:31.766Z"}
{"msg":"@tennenjl blockToLive will enable automatic purging of private data after a certain number of blocks. Some use cases require this for very sensitive information. The hashes would live on indefinitely though, as long lived proof of the data.  timeToLive would have been preferable, although there is no common time across the peers, therefore blockToLive is the next closest approximation for passage of time. The implementation behind blockToLive is not yet merged, and is targeted for 1.2.","username":"dave.enyeart","ts":"2018-03-21T21:07:44.151Z"}
{"msg":"this message will self destruct in 5 minutes... that kind of thing :)","username":"dave.enyeart","ts":"2018-03-21T21:08:52.496Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=KpfTNezBpJzJX6ALM) @dave.enyeart Thanks, that explains it :-)","username":"tennenjl","ts":"2018-03-21T21:09:35.990Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KpfTNezBpJzJX6ALM","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KpfTNezBpJzJX6ALM","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart This new feature I think can be a game changer.  I speak with clients that ask me about the EU/Google right to be forgotten issue and at first glance this seems like the perfect fit.","username":"tennenjl","ts":"2018-03-21T22:06:17.501Z"}
{"msg":"that is exactly what it is intended for","username":"dave.enyeart","ts":"2018-03-21T22:06:48.296Z"}
{"msg":"that is a prime use case - exactly what it is intended for","username":"dave.enyeart","ts":"2018-03-21T22:06:48.296Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=vTK5S4dLccruyda8e) @dave.enyeart Could this also change the discussion regarding PII data (on the ledger as well)?","username":"tennenjl","ts":"2018-03-21T22:13:07.338Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vTK5S4dLccruyda8e","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vTK5S4dLccruyda8e","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Fab-1151 limits data dissemination to those peers with a need to know, blockToLive purges the data after the need to know has passed.  I certainly think that would fit with some PII use cases. ","username":"dave.enyeart","ts":"2018-03-21T22:18:41.029Z"}
{"msg":"@dave.enyeart Thanks!","username":"tennenjl","ts":"2018-03-21T22:33:12.373Z"}
{"msg":"Is there a max limit for block size in fabric?","username":"DRSK","ts":"2018-03-22T05:20:15.978Z"}
{"msg":"Has joined the channel.","username":"AlbertCL","ts":"2018-03-22T10:47:11.036Z","type":"uj"}
{"msg":"I don't believe there is a limit for the block size per se, but you would likely bump into networking limits at some point. The first one you hit may be the grpc limit which I believe is still 100MB.  @yacovm is this limit configurable now? Or could it become configurable?","username":"dave.enyeart","ts":"2018-03-22T12:08:09.413Z"}
{"msg":"it is 100MB, it is not configurable via core.yaml","username":"yacovm","ts":"2018-03-22T12:09:18.418Z"}
{"msg":"it can, of course","username":"yacovm","ts":"2018-03-22T12:09:22.325Z"}
{"msg":"there is also the physical limit - you may run out of memory if you try to marshal a too big message ;)","username":"yacovm","ts":"2018-03-22T12:09:44.174Z"}
{"msg":"as for the block size - there is a heuristic ","username":"yacovm","ts":"2018-03-22T12:10:02.869Z"}
{"msg":"there is a block size that makes a block to be cut","username":"yacovm","ts":"2018-03-22T12:10:12.087Z"}
{"msg":"but if a transaction is bigger than that, then it gets bigger","username":"yacovm","ts":"2018-03-22T12:10:20.165Z"}
{"msg":"I mean, I thought there was a Jira already created to make the 100MB configurable. Do you know?","username":"dave.enyeart","ts":"2018-03-22T12:10:44.878Z"}
{"msg":"not that I know of... perhaps @mastersingh24 might know","username":"yacovm","ts":"2018-03-22T12:11:04.052Z"}
{"msg":"by the way - @dave.enyeart , @DRSK  - I think that the kafka system itself might also impose an external limit on the transaction size so that might result in a max size of the block. ","username":"yacovm","ts":"2018-03-22T12:13:59.232Z"}
{"msg":"(I hope I'm not wrong... @kostas  or @jyellick can confirm)","username":"yacovm","ts":"2018-03-22T12:14:11.825Z"}
{"msg":"found it: https://jira.hyperledger.org/browse/FAB-4461","username":"dave.enyeart","ts":"2018-03-22T12:14:23.547Z"}
{"msg":"there's a JIRA for it ..... most of the plumbing code is done .... \nhttps://jira.hyperledger.org/browse/FAB-6461\n\n(I have it on the 1.2 list)","username":"mastersingh24","ts":"2018-03-22T12:15:15.340Z"}
{"msg":"@yacov is correct (though it applies to all ordering service implementations). A block can't be larger than `BatchSize.AbsoluteMaxBytes` (plus the header overhead, etc.) -- see: https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/configtx.yaml#L292..L309","username":"kostas","ts":"2018-03-22T13:09:37.524Z"}
{"msg":"@yacovm  is correct (though it applies to all ordering service implementations). A block can't be larger than `BatchSize.AbsoluteMaxBytes` (plus the header overhead, etc.) -- see: https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/configtx.yaml#L292..L309","username":"kostas","ts":"2018-03-22T13:09:37.524Z"}
{"msg":"@yacovm is correct (though it applies to all ordering service implementations). A block can't be larger than `BatchSize.AbsoluteMaxBytes` (plus the header overhead, etc.) -- see: https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/configtx.yaml#L292..L309","username":"kostas","ts":"2018-03-22T13:09:37.524Z"}
{"msg":"@yacovm is correct (though it applies to all ordering service implementations). A block can't be larger than `BatchSize.AbsoluteMaxBytes` (plus the header overhead, etc.) — see: https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/configtx.yaml#L292..L309","username":"kostas","ts":"2018-03-22T13:09:37.524Z"}
{"msg":"@dave.enyeart  @yacovm Thanks :thumbsup:","username":"DRSK","ts":"2018-03-23T03:13:40.898Z"}
{"msg":"Has joined the channel.","username":"pankajcheema","ts":"2018-03-23T07:10:19.300Z","type":"uj"}
{"msg":"Hi experts","username":"pankajcheema","ts":"2018-03-23T07:10:32.346Z"}
{"msg":"Anyone here knows how do I explore a ledger from couchDB? I can see database names","username":"pankajcheema","ts":"2018-03-23T07:10:54.375Z"}
{"msg":"But I am not able to see ledger.","username":"pankajcheema","ts":"2018-03-23T07:11:04.615Z"}
{"msg":"Anyone have any idea?","username":"pankajcheema","ts":"2018-03-23T07:11:11.166Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=vJ4S2nmyocaTBGiGX) @TobiasN @jyellick @mikykey Please Look into this","username":"pankajcheema","ts":"2018-03-23T07:24:02.980Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vJ4S2nmyocaTBGiGX","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=vJ4S2nmyocaTBGiGX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"mikykey","ts":"2018-03-23T07:24:03.265Z","type":"uj"}
{"msg":"Has joined the channel.","username":"TobiasN","ts":"2018-03-23T07:24:03.347Z","type":"uj"}
{"msg":"@pankajcheema For ledger do you mean the chain of blocks?","username":"mikykey","ts":"2018-03-23T07:29:25.252Z"}
{"msg":"@mikykey I am using this command ```root@1523063cad82:/opt/gopath/src/github.com/hyperledger/fabric/peer# curl couchdb:5984/_all_dbs```","username":"pankajcheema","ts":"2018-03-23T07:34:13.646Z"}
{"msg":"inside a peer","username":"pankajcheema","ts":"2018-03-23T07:34:21.635Z"}
{"msg":"and I am getting result of this command ```[\"_global_changes\",\"_replicator\",\"_users\",\"channel1_\",\"channel1_cc\",\"channel1_lscc\"]```","username":"pankajcheema","ts":"2018-03-23T07:34:43.241Z"}
{"msg":"Do you know how can I open anyof these dbs?","username":"pankajcheema","ts":"2018-03-23T07:35:03.470Z"}
{"msg":"@TobiasN @mikykey @jyellick @DarshanBc @yacovm @mastersingh24 Please reply if anyone know this or have any idea","username":"pankajcheema","ts":"2018-03-23T07:37:36.719Z"}
{"msg":"Has joined the channel.","username":"DarshanBc","ts":"2018-03-23T07:37:38.135Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=YSgxqhtvTfioNysaE) @pankajcheema OK. wait. With this command you are accessin the state database and not the real chain of blocks. To acces the database it is better to use the following url http://localhost:5984/_utils    where 5984 is the predefined port used by CouchDB and configured in docker-compose.yaml (further details at http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html at the end of the page) \n(Example of docker-compose file: https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/examples/e2e_cli/docker-compose-couch.yaml)\nOn the contrary, if you are interested in retrieving the real blocks of the chain, you must access the single blocks, i.e. you can use the `peer channel fetch (number)`, where number is the block you are interested in (please refer to http://hyperledger-fabric.readthedocs.io/en/latest/peer-commands.html for details in the command) \n","username":"mikykey","ts":"2018-03-23T07:41:10.869Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YSgxqhtvTfioNysaE","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YSgxqhtvTfioNysaE","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@mikykey  http://couchdb:5984/_utils this doesnot work in peer container","username":"pankajcheema","ts":"2018-03-23T07:43:44.677Z"}
{"msg":"Its a GUI interface I think","username":"pankajcheema","ts":"2018-03-23T07:43:53.899Z"}
{"msg":"@pankajcheema http://localhost:5984/channel1_","username":"TobiasN","ts":"2018-03-23T08:19:34.978Z"}
{"msg":"@pankajcheema I think the CouchDB API is documented quite short and to the point: http://docs.couchdb.org/en/2.1.1/api/index.html","username":"TobiasN","ts":"2018-03-23T08:39:11.944Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=PcwWmSP5yoGjmw6vn) @pankajcheema I always used it from the browser hosting machine! As an alternative I think you can do something like this, i.e. doing a query by using cURL from the docker container (https://stackoverflow.com/questions/23201920/couchdb-having-trouble-querying-by-a-specific-key-or-value)","username":"mikykey","ts":"2018-03-23T09:05:38.502Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PcwWmSP5yoGjmw6vn","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PcwWmSP5yoGjmw6vn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi Everyone,  For Fab-1151, would client data queries be treated differently?   What determines if a client has access to data in the stateDB versus the privateStateDB?  Thanks!","username":"tennenjl","ts":"2018-03-23T12:22:38.881Z"}
{"msg":"@tennenjl FAB-1151 only controls which org's peers can persist private data.  For client access control you would build access control into chaincode logic like usual. ","username":"dave.enyeart","ts":"2018-03-24T12:00:14.225Z"}
{"msg":"Has joined the channel.","username":"hantzaras","ts":"2018-03-25T14:21:10.177Z","type":"uj"}
{"msg":"Has joined the channel.","username":"UjwalTamminedi","ts":"2018-03-25T14:23:51.099Z","type":"uj"}
{"msg":"Has joined the channel.","username":"amy_xu22","ts":"2018-03-27T02:02:45.773Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shivaganesh01","ts":"2018-03-27T03:52:04.006Z","type":"uj"}
{"msg":"How to use Side DB? Is there any examples in github regarding the same? If so, please give me the link to access it.","username":"shivaganesh01","ts":"2018-03-27T03:52:40.583Z"}
{"msg":"Has joined the channel.","username":"BilalAhmad","ts":"2018-03-27T06:30:47.192Z","type":"uj"}
{"msg":"@shivaganesh01 See https://jira.hyperledger.org/browse/FAB-6600 for sample and instructions","username":"dave.enyeart","ts":"2018-03-27T12:53:48.414Z"}
{"msg":"Thanks @dave.enyeart ","username":"shivaganesh01","ts":"2018-03-28T05:14:57.550Z"}
{"msg":"Has joined the channel.","username":"kingofsevens","ts":"2018-03-28T06:11:43.122Z","type":"uj"}
{"msg":"Has joined the channel.","username":"asaningmaxchain123","ts":"2018-03-28T06:35:18.022Z","type":"uj"}
{"msg":"@dave.enyeart can you tell me how to get latest block in a block file","username":"asaningmaxchain123","ts":"2018-03-28T06:36:18.143Z"}
{"msg":"i know it starts with the func (s *blockfileStream) nextBlockBytesAndPlacementInfo() ([]byte, *blockPlacementInfo, error) {","username":"asaningmaxchain123","ts":"2018-03-28T06:37:48.997Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/block_stream.go#L93","username":"asaningmaxchain123","ts":"2018-03-28T06:39:04.331Z"}
{"msg":"more extractly,i don't understand the following code","username":"asaningmaxchain123","ts":"2018-03-28T06:39:52.639Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/block_stream.go#L107","username":"asaningmaxchain123","ts":"2018-03-28T06:39:53.613Z"}
{"msg":"@dave.enyeart https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go#L631 can you give more comment about the checkPointInfo struct","username":"asaningmaxchain123","ts":"2018-03-28T07:27:43.260Z"}
{"msg":"Has joined the channel.","username":"KGiou","ts":"2018-03-28T08:33:32.974Z","type":"uj"}
{"msg":"@manish-sethi could you help with the question from @asaningmaxchain123 ","username":"dave.enyeart","ts":"2018-03-28T11:32:02.313Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=KSFXS4Hf3eQL55MMi) @asaningmaxchain123 - For reading the next block we need to know the length of the block bytes in the block file. So, we first read the length (say `l`) and then further `l` bytes (which are the actual block bytes).","username":"manish-sethi","ts":"2018-03-28T13:18:10.269Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KSFXS4Hf3eQL55MMi","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KSFXS4Hf3eQL55MMi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=pkfg2YKjta5x4P3uN) @asaningmaxchain123 - checkPointInfo is used to persist the last known good state of the last block file. It info this includes is such as block file number, length where last block in the file finishes... etc. This helps in detecting a situation whether the ledger is being started after a crash and the crash left a half written block in the tail of the file. So, this helps as an optimization in starting up the peer...","username":"manish-sethi","ts":"2018-03-28T13:28:22.398Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pkfg2YKjta5x4P3uN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pkfg2YKjta5x4P3uN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=pkfg2YKjta5x4P3uN) @asaningmaxchain123 - checkPointInfo is used to persist the last known good state of the last block file. This includes info such as block file number, length where last block in the file finishes... etc. This helps in detecting a situation whether the ledger is being started after a crash and the crash left a half written block in the tail of the file. So, this helps as an optimization in starting up the peer...","username":"manish-sethi","ts":"2018-03-28T13:28:22.398Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pkfg2YKjta5x4P3uN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pkfg2YKjta5x4P3uN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi thx,but i have a new question, that is the if the a new block size larger than available bytes in the blockfile,so it will create a new blockfile and append new block to new blockfile","username":"asaningmaxchain123","ts":"2018-03-28T14:36:51.686Z"}
{"msg":"@manish-sethi thx,but i have a new question, that is the if the a new block size larger than available bytes in the blockfile,so it will create a new blockfile and append new block to new blockfile?","username":"asaningmaxchain123","ts":"2018-03-28T14:36:51.686Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=s8TRQe2y8Mp3FRCS8) @manish-sethi when append a block to blockfile it will append the length of the block into the blockfile","username":"asaningmaxchain123","ts":"2018-03-28T14:37:54.994Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=s8TRQe2y8Mp3FRCS8","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=s8TRQe2y8Mp3FRCS8","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=fsumDquYknJo9RTxN) @manish-sethi yes,it the latest block is crash it will use the latest second block as the new checkpointinfo","username":"asaningmaxchain123","ts":"2018-03-28T14:39:17.901Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fsumDquYknJo9RTxN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fsumDquYknJo9RTxN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@asaningmaxchain123 yes to both of your questions","username":"manish-sethi","ts":"2018-03-28T14:39:20.466Z"}
{"msg":"@asaningmaxchain123 yes to third one as well :-)","username":"manish-sethi","ts":"2018-03-28T14:40:21.992Z"}
{"msg":"Your are making my job easy to answer - i simply have to say 'yes' :-)","username":"manish-sethi","ts":"2018-03-28T14:41:16.937Z"}
{"msg":"You are making my job easy to answer - I simply have to say 'yes' :-)","username":"manish-sethi","ts":"2018-03-28T14:41:16.937Z"}
{"msg":"another question,the blockfile is 64M,but when i see https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/blockfile_rw.go#L56","username":"asaningmaxchain123","ts":"2018-03-28T14:41:34.783Z"}
{"msg":"another question,the blockfile is 64M,but when i see https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/blockfile_rw.go#L56 it doesn't assign the size of the file","username":"asaningmaxchain123","ts":"2018-03-28T14:41:34.783Z"}
{"msg":"another question,the blockfile is 64M,but when i see https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/blockfile_rw.go#L56 it doesn't assign the size of the file？","username":"asaningmaxchain123","ts":"2018-03-28T14:41:34.783Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=3LFo58B3xj9i9gNak) @manish-sethi i see the source code,but i want to get more precise answer","username":"asaningmaxchain123","ts":"2018-03-28T14:43:05.499Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3LFo58B3xj9i9gNak","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3LFo58B3xj9i9gNak","remote":true,"fileId":null,"fileName":null}]}
{"msg":"about 64 MB question, the code you pointed out is just for opening the file. before appending the next block to the file, the size of the file is computed (if this block is to be appended)..","username":"manish-sethi","ts":"2018-03-28T14:45:57.190Z"}
{"msg":"so can you tell where the source code？","username":"asaningmaxchain123","ts":"2018-03-28T14:46:29.629Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go#L268","username":"manish-sethi","ts":"2018-03-28T14:46:48.679Z"}
{"msg":"i got it","username":"asaningmaxchain123","ts":"2018-03-28T14:47:21.809Z"}
{"msg":"i got it.thx a lot,another question, do test the performance about the write block","username":"asaningmaxchain123","ts":"2018-03-28T14:47:21.809Z"}
{"msg":"i got it.thx a lot,another question, do you test the performance about the write block","username":"asaningmaxchain123","ts":"2018-03-28T14:47:21.809Z"}
{"msg":"You mean that microbenchmark only for append the block function?","username":"manish-sethi","ts":"2018-03-28T14:50:53.867Z"}
{"msg":"yes","username":"asaningmaxchain123","ts":"2018-03-28T14:51:33.928Z"}
{"msg":"No at this microbenchmark level. However, this is expected to be bounded by only your disk sequential write throughput...","username":"manish-sethi","ts":"2018-03-28T14:52:36.429Z"}
{"msg":"Not at this microbenchmark level. However, this is expected to be bounded by only your disk sequential write throughput...","username":"manish-sethi","ts":"2018-03-28T14:52:36.429Z"}
{"msg":"Feel free to do so and report the finding here. However, you would essentially be reporting your disk write throughput...","username":"manish-sethi","ts":"2018-03-28T14:53:56.981Z"}
{"msg":"ok,if i have time,i will write the code to test the benchmark","username":"asaningmaxchain123","ts":"2018-03-28T14:54:57.344Z"}
{"msg":"Has joined the channel.","username":"Guid0","ts":"2018-03-29T09:33:43.583Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thalisson","ts":"2018-04-01T02:45:09.280Z","type":"uj"}
{"msg":"Has joined the channel.","username":"richzhao","ts":"2018-04-01T15:19:33.813Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Rumeel_Hussain","ts":"2018-04-03T15:11:33.407Z","type":"uj"}
{"msg":"Has joined the channel.","username":"wbhagan","ts":"2018-04-03T15:30:30.061Z","type":"uj"}
{"msg":"Has joined the channel.","username":"magicianx25","ts":"2018-04-03T15:33:18.752Z","type":"uj"}
{"msg":"Hi, I made a mess of my channel when I mixed up certificates as I added peers and anchor peers to my channel. Now, having rectified the certificate error, I need to add the peers accordingly to the channel however, I'm getting a \"ledger id already exists\" error. My understanding thus far of Fabric is that peers cannot be removed from a channel neither can channels be deleted. Please how can I delete the channel from the file system (/var/hyperledger/production) or is there some other way I can rectify my error?","username":"wbhagan","ts":"2018-04-03T15:47:27.331Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=EbPuSnLysb7kcZHrP) Hello @dave.enyeart Please can you help?","username":"wbhagan","ts":"2018-04-03T21:10:43.897Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=EbPuSnLysb7kcZHrP","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=EbPuSnLysb7kcZHrP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi, if you have messed up your peer somehow, I recommend delete everything in /var/hyperledger/production and restart peer from scratch, re-join any channels that you like","username":"dave.enyeart","ts":"2018-04-03T21:14:00.915Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bTFgxty3TtvCFbB3B) @dave.enyeart Thanks for that feedback. Does this imply that in a production system, should an error be made later in the life of a peer or peers and a new channel, we simply clear out the production folder of peer(s) and start again thereby losing data?","username":"wbhagan","ts":"2018-04-03T21:40:49.306Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bTFgxty3TtvCFbB3B","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bTFgxty3TtvCFbB3B","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Yes, the data is replicated to all peers.  The system is designed such that peers can be removed and added at any time.  Upon starting a new peer and (re)joining channels, the blockchain will get synchronized to the new peer.  It is recommended to have multiple peers per organization, so that if you need to rebuild a peer for whatever reason, you have no downtime.","username":"dave.enyeart","ts":"2018-04-03T21:52:55.158Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=BucTYx4HpxwybAdsK) @dave.enyeart Yes, I get that however, it seems that in a case like mine where things got messed up in my 2 peers each in 2 organisations (the evils of copy and paste), one is left with no choice but to lose all data. Is that a correct?","username":"wbhagan","ts":"2018-04-03T22:04:30.831Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BucTYx4HpxwybAdsK","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BucTYx4HpxwybAdsK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=BucTYx4HpxwybAdsK) @dave.enyeart Yes, I get that however, it seems that in a case like mine where things got messed up in my 2 peers each in 2 organisations (the evils of copy and paste), one is left with no choice but to lose all data. Is that correct?","username":"wbhagan","ts":"2018-04-03T22:04:30.831Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BucTYx4HpxwybAdsK","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BucTYx4HpxwybAdsK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"david636","ts":"2018-04-04T00:00:50.764Z","type":"uj"}
{"msg":"If 4 of 4 peers are 'messed up' then you are pressing your luck.  But I believe for now you will still be ok as you can bring up new peers and they will get blocks from ordering service and re-process the entire chain. There is intent to purge blocks from ordering service after a time, but I don't think anything is implemented around that yet. @kostas @jyellick do you see any issue rebuilding peers entirely from ordering service and not relying on peer-to-peer gossip at all?","username":"dave.enyeart","ts":"2018-04-04T02:43:51.951Z"}
{"msg":"@wbhagan you should be good to proceed as @dave.enyeart suggested, having the peer issue a Deliver request to the ordering service, starting from the oldest block on that channel. (Repeat per channel.)","username":"kostas","ts":"2018-04-04T03:54:25.999Z"}
{"msg":"Hello, I have the same problem with wbhagan, but I don't know how I can fix it","username":"magicianx25","ts":"2018-04-04T07:12:55.133Z"}
{"msg":"","username":"magicianx25","ts":"2018-04-04T07:13:02.335Z","attachments":[{"type":"file","title":"unsupported file3.png","title_link":"/file-upload/6n8Sg2taQhm66cXhA/unsupported%20file3.png","image_url":"/file-upload/6n8Sg2taQhm66cXhA/unsupported%20file3.png","image_type":"image/png","image_size":96777,"url":"/file-upload/6n8Sg2taQhm66cXhA/unsupported%20file3.png","remote":false,"fileId":"6n8Sg2taQhm66cXhA","fileName":"unsupported file3.png"}]}
{"msg":"I provided the debugs but I don't see any problem,do you know why I get 1 permission denied?","username":"magicianx25","ts":"2018-04-04T07:13:49.503Z"}
{"msg":"I tried to restart the channel but didn't work","username":"magicianx25","ts":"2018-04-04T07:32:33.728Z"}
{"msg":"","username":"magicianx25","ts":"2018-04-04T07:34:42.856Z","attachments":[{"type":"file","title":"unsupported file4.png","title_link":"/file-upload/2mNGuiCnERnDPD37d/unsupported%20file4.png","image_url":"/file-upload/2mNGuiCnERnDPD37d/unsupported%20file4.png","image_type":"image/png","image_size":100232,"url":"/file-upload/2mNGuiCnERnDPD37d/unsupported%20file4.png","remote":false,"fileId":"2mNGuiCnERnDPD37d","fileName":"unsupported file4.png"}]}
{"msg":"@magicianx25 are you signing with an admin user?","username":"jyellick","ts":"2018-04-04T13:51:24.723Z"}
{"msg":"@jyellick  how do i check","username":"magicianx25","ts":"2018-04-04T15:08:49.916Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Ul43stFon2NCHfqAij) Thank you @kostas and @dave.enyeart. I appreciate your assistance. Kind Regards.","username":"wbhagan","ts":"2018-04-04T15:57:19.272Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Ul43stFon2NCHfqAij","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Ul43stFon2NCHfqAij","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@magicianx25 Your `core.yaml` has two variables `peer.mspconfigpath`and `peer.localmspid`.  These may be overridden via `CORE_PEER_MSPCONFIGPATH` and `CORE_PEER_LOCALMSPID` respectively.  If you look in the directory pointed to by the msp config path, you should see a `signercerts` folder, and an `admincerts`.  There is likely one certificate in each, you should check that they are the same via a command like `md5sum $CORE_PEER_MSPCONFIGPATH/{admincerts,signercerts}/*`","username":"jyellick","ts":"2018-04-04T16:29:03.100Z"}
{"msg":"If they differ, you are not using an admin cert.  If they are the same, the most likely, your msp id is not being set correctly.  You can look in the orderer log for more details.","username":"jyellick","ts":"2018-04-04T16:29:31.204Z"}
{"msg":"@jyellick found my error thanks","username":"magicianx25","ts":"2018-04-05T08:54:55.308Z"}
{"msg":"","username":"Ammu","ts":"2018-04-05T10:18:22.629Z","attachments":[{"type":"file","title":"peer no.png","title_link":"/file-upload/RwpEuQN5cNjE2yvqe/peer%20no.png","image_url":"/file-upload/RwpEuQN5cNjE2yvqe/peer%20no.png","image_type":"image/png","image_size":81534,"url":"/file-upload/RwpEuQN5cNjE2yvqe/peer%20no.png","remote":false,"fileId":"RwpEuQN5cNjE2yvqe","fileName":"peer no.png"}]}
{"msg":"why did you exit after docker exec -it cli bash?","username":"magicianx25","ts":"2018-04-05T12:37:04.487Z"}
{"msg":"Anyone knows how to open or read the data stored inside ledger?","username":"pankajcheema","ts":"2018-04-05T17:58:15.256Z"}
{"msg":"@pankajcheema you can read block by qscc invocation, or refer to `hyperledger-explorer`, i.e. `blockchain-explorer`.","username":"bh4rtp","ts":"2018-04-06T12:51:34.603Z"}
{"msg":"@bh4rtp  what do you mean by qscc","username":"pankajcheema","ts":"2018-04-06T12:54:34.068Z"}
{"msg":"I know something about vscc","username":"pankajcheema","ts":"2018-04-06T12:55:03.564Z"}
{"msg":"@pankajcheema it is query scc, please see https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/scc/qscc/query.go. ","username":"bh4rtp","ts":"2018-04-06T13:00:32.960Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZaCLKLJRdRuHpiNcG) @manish-sethi so how to make sure the each blockfile is 64M? i don't understand","username":"asaningmaxchain123","ts":"2018-04-07T03:06:14.673Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZaCLKLJRdRuHpiNcG","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZaCLKLJRdRuHpiNcG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZaCLKLJRdRuHpiNcG) @manish-sethi so how to make sure the each blockfile is 64M? from source code,i don't understand","username":"asaningmaxchain123","ts":"2018-04-07T03:06:14.673Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZaCLKLJRdRuHpiNcG","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZaCLKLJRdRuHpiNcG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"terby","ts":"2018-04-09T05:18:45.771Z","type":"uj"}
{"msg":"Has left the channel.","username":"dayubian","ts":"2018-04-09T11:39:00.233Z","type":"ul"}
{"msg":"@asaningmaxchain123 it would be better if you point out what you do not understand in the code?","username":"manish-sethi","ts":"2018-04-09T13:43:54.138Z"}
{"msg":"@manish-sethi how to make sure each blockfile is 64M","username":"asaningmaxchain123","ts":"2018-04-09T15:15:18.149Z"}
{"msg":"@manish-sethi how to make sure each blockfile is 64M,if the currentOffset+totalBytesToAppend > 64M","username":"asaningmaxchain123","ts":"2018-04-09T15:15:18.149Z"}
{"msg":"@manish-sethi how to make sure each blockfile is 64M,if the currentOffset+totalBytesToAppend > 64M,i think the totalBytesToAppend will move next blockfile","username":"asaningmaxchain123","ts":"2018-04-09T15:15:18.149Z"}
{"msg":"Yes, this if condition does this","username":"manish-sethi","ts":"2018-04-09T15:15:59.423Z"}
{"msg":"if the currentOffset+totalBytesToAppend > 64M,i think the totalBytesToAppend will move next blockfile?","username":"asaningmaxchain123","ts":"2018-04-09T15:17:02.293Z"}
{"msg":"if the currentOffset+totalBytesToAppend > 64M,i think the totalBytesToAppend will move next blockfile?plesse take a look https://github.com/hyperledger/fabric/blob/09d508af677781f4a981d677efe4416dfa5a96ee/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go#L268","username":"asaningmaxchain123","ts":"2018-04-09T15:17:02.293Z"}
{"msg":"`currentOffset+totalBytesToAppend > 64M` then the existing file is closed and a new file is opened","username":"manish-sethi","ts":"2018-04-09T17:28:58.853Z"}
{"msg":"see the next line `mgr.moveToNextFile()`","username":"manish-sethi","ts":"2018-04-09T17:29:14.093Z"}
{"msg":"hey everyone, i have two peers living on different servers that belong to the same org. i've submitted ~1k transactions and noticed that couchDB for both report the same BlockNumber, but their UpdateSeq's are different. i thought that since both peers are referencing the same ledger data the couchDB info should be identical, is this not true? or does this mean the world states for the two peers are different?","username":"jrosmith","ts":"2018-04-09T18:10:49.330Z"}
{"msg":"Has joined the channel.","username":"BertCatsburg","ts":"2018-04-10T16:43:42.769Z","type":"uj"}
{"msg":"@jrosmith updatesequence number and _rev numbers are metadata maintained by each couchdb instance independently. The world state in statedb are identical across multiple peers at the same height.","username":"balaji.viswanathan","ts":"2018-04-11T04:26:50.175Z"}
{"msg":"@jrosmith updatesequence number and _rev numbers are metadata maintained by each couchdb instance independently. The world state in ledger is identical across multiple peers at the same height.","username":"balaji.viswanathan","ts":"2018-04-11T04:26:50.175Z"}
{"msg":"Has joined the channel.","username":"dsl","ts":"2018-04-11T04:58:47.845Z","type":"uj"}
{"msg":"Has joined the channel.","username":"anzalbeg","ts":"2018-04-11T05:58:32.383Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sayan.hlf","ts":"2018-04-11T10:29:39.690Z","type":"uj"}
{"msg":"For getting history data, is this the only method provided *stub.GetHistoryForKey(args[0])* or there are any variants like if I want to get history of last 10 updates of the record?","username":"sayan.hlf","ts":"2018-04-11T13:55:00.094Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=CoJAbXvyBX5cP4jKK) @manish-sethi thx,i know it means the blockfile can't exceed 64M,not extractly 64M","username":"asaningmaxchain123","ts":"2018-04-11T15:24:59.675Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=CoJAbXvyBX5cP4jKK","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=CoJAbXvyBX5cP4jKK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=CoJAbXvyBX5cP4jKK) @manish-sethi thx,i got it means the blockfile can't exceed 64M,not extractly 64M","username":"asaningmaxchain123","ts":"2018-04-11T15:24:59.675Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=CoJAbXvyBX5cP4jKK","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=CoJAbXvyBX5cP4jKK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@asaningmaxchain123 - yes, one block resides in one file completely and is never split across files","username":"manish-sethi","ts":"2018-04-11T15:26:26.563Z"}
{"msg":"@manish-sethi if the blockfile is in T level in capacity,the performance will rapid reduce ","username":"asaningmaxchain123","ts":"2018-04-11T15:27:57.813Z"}
{"msg":"```T level in capacity``` -- what does this mean>","username":"manish-sethi","ts":"2018-04-11T15:28:33.039Z"}
{"msg":"```T level in capacity``` what does this mean ?","username":"manish-sethi","ts":"2018-04-11T15:28:33.039Z"}
{"msg":"the total  capacity is 1000T","username":"asaningmaxchain123","ts":"2018-04-11T15:30:23.536Z"}
{"msg":"the total  capacity is 1000T my english is bad","username":"asaningmaxchain123","ts":"2018-04-11T15:30:23.536Z"}
{"msg":"the total  capacity is 1000T ,my english is bad","username":"asaningmaxchain123","ts":"2018-04-11T15:30:23.536Z"}
{"msg":"the total  capacity is 1000T  @manish-sethi @dave.enyeart ","username":"asaningmaxchain123","ts":"2018-04-11T15:30:23.536Z"}
{"msg":"Hi, is there a way (maybe a `peer` command) to know what statedb, i.e couch or level, a peer is using?","username":"AdnanC","ts":"2018-04-11T20:02:11.445Z"}
{"msg":"@balaji.viswanathan thank you!","username":"jrosmith","ts":"2018-04-11T20:43:27.387Z"}
{"msg":"@AdnanC you'd have to look into peer config or peer log","username":"dave.enyeart","ts":"2018-04-11T20:45:56.246Z"}
{"msg":"it's mentioned early on in peer log at INFO level","username":"dave.enyeart","ts":"2018-04-11T20:46:20.481Z"}
{"msg":"at least, if using couchdb it is mentioned","username":"dave.enyeart","ts":"2018-04-11T20:46:47.000Z"}
{"msg":"Thanks @dave.enyeart ","username":"AdnanC","ts":"2018-04-11T20:46:58.402Z"}
{"msg":"as part of the initial connection check","username":"dave.enyeart","ts":"2018-04-11T20:47:20.941Z"}
{"msg":"Not sure if I understand this comment. It would be helpful if you can elaborate this. @asaningmaxchain123 [ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=YNSp2TLsBs4Jy9cqv)","username":"manish-sethi","ts":"2018-04-12T03:01:07.440Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YNSp2TLsBs4Jy9cqv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=YNSp2TLsBs4Jy9cqv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"davidgsmits","ts":"2018-04-12T13:49:28.346Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SmartContract2018","ts":"2018-04-12T21:17:37.388Z","type":"uj"}
{"msg":"Where is the physical ledger file located on my Ubuntu peer node?  I am looking for the exact file location. Thanks","username":"SmartContract2018","ts":"2018-04-12T21:22:53.974Z"}
{"msg":"also, has anyone tried to deploy a network using Fabric, with a very large number of private ledgers (1000s)?  Did you face any issues?","username":"SmartContract2018","ts":"2018-04-12T21:23:59.810Z"}
{"msg":"Hello, I am trying to compile my chaincode using Go language but I get an error\n","username":"magicianx25","ts":"2018-04-13T07:39:16.730Z"}
{"msg":"","username":"magicianx25","ts":"2018-04-13T07:39:55.460Z","attachments":[{"type":"file","title":"5.png","title_link":"/file-upload/caum8hGNpLq7g5Se3/5.png","image_url":"/file-upload/caum8hGNpLq7g5Se3/5.png","image_type":"image/png","image_size":19729,"url":"/file-upload/caum8hGNpLq7g5Se3/5.png","remote":false,"fileId":"caum8hGNpLq7g5Se3","fileName":"5.png"}]}
{"msg":"Anyone knows what this means?","username":"magicianx25","ts":"2018-04-13T07:40:18.244Z"}
{"msg":"@SmartContract2018 ledger will be stored at location specified by this config option:","username":"dave.enyeart","ts":"2018-04-13T12:25:41.840Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/core.yaml#L297-L300","username":"dave.enyeart","ts":"2018-04-13T12:25:55.028Z"}
{"msg":"@magicianx25 please post chaincode dev issues in #fabric-chaincode-dev ","username":"dave.enyeart","ts":"2018-04-13T12:27:06.467Z"}
{"msg":"Has joined the channel.","username":"mozkarakoc","ts":"2018-04-13T16:26:18.228Z","type":"uj"}
{"msg":"Hi,","username":"mozkarakoc","ts":"2018-04-13T16:49:06.917Z"}
{"msg":"Hi,\nChaincode invocations execute transactions against the current state data. If I want to only one asset with key \"A\" in blockchain, I should query state in my chaincode?  Well, if I change state from outside? ","username":"mozkarakoc","ts":"2018-04-13T16:49:25.333Z"}
{"msg":"Chaincode state is only updated when transactions commit.  So the only way your state can update is through a chaincode transactions.  Your chaincode should `GetState` for your key `A`, and, if it is nil, then you may safely create the new key.  If two invocations do this concurrently, only one of them (the first one) will successfully commit.","username":"jyellick","ts":"2018-04-13T17:39:18.498Z"}
{"msg":"Ok, I assume that we have 2 org and use couchdb as state database","username":"mozkarakoc","ts":"2018-04-13T17:54:40.440Z"}
{"msg":"@jyellick I understood. What happen if deletes the committed transaction from state for each peer? If i understand correctly, getState is nil and transaction committed again and new blocks created. I confused about immutability.","username":"mozkarakoc","ts":"2018-04-13T18:28:24.987Z"}
{"msg":"@mozkarakoc Yes, if you had three transaction, one which creates the key, another which deletes it, and another which creates it again, this would succeed.  If you need for keys not to be re-uesd by your application, then you should simply not delete the key.","username":"jyellick","ts":"2018-04-13T18:43:54.099Z"}
{"msg":"@jyellick But I can make CRUD operations at state database from outside. For example CocuchDb console. Is this a immutabilitiy problem? I don't understand why we need blocks, ledger? Only transaction history?","username":"mozkarakoc","ts":"2018-04-13T19:05:13.728Z"}
{"msg":"@mozkarakoc You must protect your DB from external update operations.  This is critical.  If you allow modifications from outside, then the immutability property is lost.","username":"jyellick","ts":"2018-04-13T19:21:17.487Z"}
{"msg":"@mozkarakoc You must protect your DB from external update operations.  This is critical.  If you allow modifications from outside, then Fabric will be entirely broken.","username":"jyellick","ts":"2018-04-13T19:21:17.487Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=B6rjRuihhMQjmfF7M) @dave.enyeart Thanks Dave.  However I do not have this directory under /opt.  I am using the docker containers to run fabric (fabric-samples) and am afraid if it is creating files at a temporary  location.  ","username":"SmartContract2018","ts":"2018-04-13T19:26:16.458Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=B6rjRuihhMQjmfF7M","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=B6rjRuihhMQjmfF7M","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@jyellick If the state database update from outside, can I rebuild state from ledgers? If yes, how?","username":"mozkarakoc","ts":"2018-04-13T19:29:09.596Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=q8vQiZSAkhCLyXFfx) @mozkarakoc I have the same question. Thanks","username":"SmartContract2018","ts":"2018-04-13T19:32:35.539Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=q8vQiZSAkhCLyXFfx","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=q8vQiZSAkhCLyXFfx","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Sure, the peer owner could tamper with their own state database data (whether couchdb or leveldb data on disk), but there is no incentive to do so. It is the endorsement policy that ensures the integrity of the blockchain data and protects against these scenarios. Fabric uses an endorsement policy where peers from different orgs must return the same results for transactions to be validated.   If ledger state data had been altered or corrupted (in CouchDB or LevelDB file system) on a peer, then the transaction results would be inconsistent across endorsing peers, the 'bad’ peer/org will be found out, and the application client can throw out the results from the bad peer/org before submitting the transaction for ordering/commit. If client application tries to submit a transaction with inconsistent endorsement regardless, this will be detected on all the peers at validation time and the transaction will be invalidated.","username":"dave.enyeart","ts":"2018-04-13T19:37:36.044Z"}
{"msg":"At any time you can stop peer, delete state database, and restart peer to rebuild state database.  A state database that is missing or behind in block height will automatically get rebuild upon peer startup.","username":"dave.enyeart","ts":"2018-04-13T19:39:29.878Z"}
{"msg":"At any time you can stop peer, delete state database, and restart peer to rebuild state database.  A state database that is missing or behind in block height will automatically get rebuilt from the blockchain upon peer startup.","username":"dave.enyeart","ts":"2018-04-13T19:39:29.878Z"}
{"msg":"@SmartContract2018 I also use fabric-samples to start docker containers.  Here's where the ledger data is:","username":"dave.enyeart","ts":"2018-04-13T19:55:27.850Z"}
{"msg":"```# ls /var/hyperledger/production/\nchaincodes  ledgersData  peer.pid  transientStore```","username":"dave.enyeart","ts":"2018-04-13T19:55:42.867Z"}
{"msg":"@dave.enyeart thanks for satisfactory information. I need to playaround with these scenarios to fully understand. :)  BTW, I know we can use AND/OR conditional operations. So, If there are organizations that do not trust each other chaincode policies must contains each peers of organizations. Can I use percent operations in endorsment policies? ","username":"mozkarakoc","ts":"2018-04-13T19:56:43.580Z"}
{"msg":"@dave.enyeart thanks for satisfactory information. I need to play with these scenarios to fully understand. :)  \nI know we can use AND/OR conditional operations. If there are organizations that do not trust each other chaincode policies must contains each peers of organizations. This is good solution. Well, Can I use percent operations in endorsment policies? ","username":"mozkarakoc","ts":"2018-04-13T19:59:13.385Z"}
{"msg":"@muralisr Is there a way to model endorsement policies such as \"x% of channel members must endorse\"?  Or would that require custom vscc? FYI @aso is looking into default vscc (plugin) capabilities for next release...","username":"dave.enyeart","ts":"2018-04-13T20:02:59.416Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=yeoJ4qwipu9N3ipXF) @dave.enyeart Thanks Dave. I dug deeper and found that it is under overlay2 directory under /var/lib/docker, and then containerID and multiple levels down.  My user does not have permission to that directory (only root).  How do I run my script so that it goes directly under /var/hyperledger as you have mentioned. Is there any command to create a link for that location while running docker container?","username":"SmartContract2018","ts":"2018-04-13T20:24:30.779Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yeoJ4qwipu9N3ipXF","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yeoJ4qwipu9N3ipXF","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I went into docker container with `docker exec -it peer0.org1.example.com bash`","username":"dave.enyeart","ts":"2018-04-13T20:26:04.506Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=izFtbXN8fMyGaTKF3) @dave.enyeart Thanks. That worked.  One more question, if I may ask :-)   I want to start a peer node on another VM connecting to the same network.  I have never done this and any assistance will be appreciated. Thanks for the anticipated response.\n","username":"SmartContract2018","ts":"2018-04-13T20:29:27.187Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=izFtbXN8fMyGaTKF3","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=izFtbXN8fMyGaTKF3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"https://chat.hyperledger.org/channel/fabric-ledger?msg=b5pWzSj7gkTJDnCpz","username":"muralisr","ts":"2018-04-13T20:47:13.127Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=b5pWzSj7gkTJDnCpz","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=b5pWzSj7gkTJDnCpz","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I don't think there's a way to express % today @dave.enyeart ... if things haven't changed when I wasn't paying attention :-) the best we can do is M-outof-N where the N principal identites are specified explicitly. Also the \"outof\" is not supported from CLI (currently) but I believe is supported by the SDKs","username":"muralisr","ts":"2018-04-13T20:54:25.571Z"}
{"msg":"I don't think there's a way to express % today @dave.enyeart ... if things haven't changed when I wasn't paying attention :-) the best we can do is M-outof-N where the N  identites are specified explicitly. Also the \"outof\" is not supported from CLI (currently) but I believe is supported by the SDKs","username":"muralisr","ts":"2018-04-13T20:54:25.571Z"}
{"msg":"@muralisr How exactly to define M-outof-N? Is it documented?","username":"dave.enyeart","ts":"2018-04-13T20:56:00.082Z"}
{"msg":"the protos/common/policies.proto gives the protobuf specification which underlies everything.","username":"muralisr","ts":"2018-04-13T20:56:53.733Z"}
{"msg":"let me check the SDKs","username":"muralisr","ts":"2018-04-13T20:57:05.057Z"}
{"msg":"@SmartContract2018 I also have not deployed across VMs.  Many people use cello project to deploy across VMs, it uses ansible scripts, there is a channel #cello ","username":"dave.enyeart","ts":"2018-04-13T20:58:58.141Z"}
{"msg":"@dave.enyeart for node SDK https://fabric-sdk-node.github.io/global.html#PolicySpec","username":"muralisr","ts":"2018-04-13T20:59:55.413Z"}
{"msg":"there maybe something more for Java but the README has some starters https://github.com/hyperledger/fabric-sdk-java","username":"muralisr","ts":"2018-04-13T21:02:24.237Z"}
{"msg":"thanks murali!","username":"dave.enyeart","ts":"2018-04-13T21:04:38.594Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric-ledger?msg=q8vQiZSAkhCLyXFfx","username":"jyellick","ts":"2018-04-13T21:09:43.587Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=q8vQiZSAkhCLyXFfx","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=q8vQiZSAkhCLyXFfx","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@mozkarakoc You may simply stop the peer, drop the DB, and start it again.  The peer will rebuild the state db.","username":"jyellick","ts":"2018-04-13T21:10:05.823Z"}
{"msg":"@jyellick while your here, can you  look over my response on policies and double check please ?","username":"muralisr","ts":"2018-04-13T21:10:45.307Z"}
{"msg":"@jyellick while you are here, can you  look over my response on policies and double check please ?","username":"muralisr","ts":"2018-04-13T21:10:45.307Z"}
{"msg":"> Also the \"outof\" is not supported from CLI (currently) but I believe is supported by the SDKs\nActually, it is supported by the CLI!","username":"jyellick","ts":"2018-04-13T21:11:21.061Z"}
{"msg":"M-outof-N ?","username":"muralisr","ts":"2018-04-13T21:11:39.585Z"}
{"msg":"Indeed","username":"jyellick","ts":"2018-04-13T21:11:44.326Z"}
{"msg":":-) glad I checked","username":"muralisr","ts":"2018-04-13T21:11:57.805Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/release-1.1/common/cauthdsl/policyparser_test.go#L30","username":"jyellick","ts":"2018-04-13T21:12:29.572Z"}
{"msg":"ah good. that one slipped by","username":"muralisr","ts":"2018-04-13T21:12:58.928Z"}
{"msg":"@dave.enyeart a correction to the policies comment.. M-outof-N *is* supported in CLI too","username":"muralisr","ts":"2018-04-13T21:13:52.025Z"}
{"msg":"I'm using node sdk. That is perfect! Thanks everyone. :)","username":"mozkarakoc","ts":"2018-04-13T21:22:43.247Z"}
{"msg":"btw, I have a question about node sdk with kafka cluster in #fabric-sdk-node could you pls shoot a glance? @muralisr @jyellick  ","username":"mozkarakoc","ts":"2018-04-13T21:25:39.642Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=P7mHGcRmLaPGyoJBe) @dave.enyeart Thanks,","username":"SmartContract2018","ts":"2018-04-13T21:30:37.555Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=P7mHGcRmLaPGyoJBe","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=P7mHGcRmLaPGyoJBe","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has any one deployed fabric channels across multiple VMs?  I need some help with how to configure my peers.  Thanks","username":"SmartContract2018","ts":"2018-04-13T21:31:14.571Z"}
{"msg":"@SmartContract2018 the various samplles such as `examples/e2e` contain all the information needed to construct different types of network (docker, VM, etc...) . Each component in the docker compose files such as orderer, peer and  ca are networked with their own IPs. The mechanics of seperating the properties for each of those components into the VM should all be required. ","username":"muralisr","ts":"2018-04-13T21:34:48.170Z"}
{"msg":"(and I followed that approach to set up a network in AWS .. although I did that manually and not using another tool like Cello which might make that process easier)","username":"muralisr","ts":"2018-04-13T21:36:30.197Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=GjexAzwe8T3b9zejK) @muralisr Thanks. I will try that out.","username":"SmartContract2018","ts":"2018-04-13T22:33:03.649Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GjexAzwe8T3b9zejK","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GjexAzwe8T3b9zejK","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi \nCan anyone tell me,when does the validation of ledger across peers take place?","username":"pb","ts":"2018-04-16T03:14:39.207Z"}
{"msg":"if hackers taking information illegally from bank(AXIS bank), if the project into fabrics. if the data is taken from 1 peer how the owner of the bank get notification that our bank information has been stolen? in blockchain/fabrics","username":"Ammu","ts":"2018-04-17T10:25:45.859Z"}
{"msg":"Hi All \nI have tampered the ledger file blockfile_000000\nin my peers container's /var/hyperledger/production/ledgersData/chains/chains/mychannel location .And when i made a second transaction, i expected a erroneous log but instead it gave me a successful transaction.So i checked the ledger file content again but surprisingly the new transaction wasnt committed on the ledger .Have anyone of you noticed this?","username":"pb","ts":"2018-04-17T10:42:58.288Z"}
{"msg":"Hi All \nI have tampered the ledger file blockfile_000000\nin my peers container's /var/hyperledger/production/ledgersData/chains/chains/mychannel location .And when i made a second transaction, i expected a erroneous log but instead it gave me a successful transaction.So i checked the ledger file content again but surprisingly the new transaction wasnt committed on the ledger .Have anyone of you noticed this? @dave.enyeart ","username":"pb","ts":"2018-04-17T10:42:58.288Z"}
{"msg":"Has joined the channel.","username":"Gh0stR0ck","ts":"2018-04-17T12:58:58.855Z","type":"uj"}
{"msg":"@pb ordering service consensus defines the sequence of transactions in blocks.  Then peers process those blocks and each (deterministically) identify which transactions are valid/invalid","username":"dave.enyeart","ts":"2018-04-17T13:27:12.837Z"}
{"msg":"@ammu In an permissioned blockchain you must follow enterprise security standards to ensure unauthorized clients (hackers) do not get your data.","username":"dave.enyeart","ts":"2018-04-17T13:27:33.532Z"}
{"msg":"@Ammu In an permissioned blockchain you must follow enterprise security standards to ensure unauthorized clients (hackers) do not get your data.","username":"dave.enyeart","ts":"2018-04-17T13:27:33.532Z"}
{"msg":"@pb That doesn't make sense to me, and I have not seen that, successful and validated transactions get posted to ledger state database.  peer debug (CORE_LOGGING_LEVEL=DEBUG) will help demonstrate if the tran was validated and posted to state database.","username":"dave.enyeart","ts":"2018-04-17T13:27:51.368Z"}
{"msg":"Has joined the channel.","username":"tushad","ts":"2018-04-17T17:36:19.580Z","type":"uj"}
{"msg":"@pb this depends how you tempered the file and how you are observing the change to the file. Did you delete the partial contents towards the end of the file? For observing the change, did you reopen the file? If both of the above is true, can you make sure that you actually see the file till end... or simply see the size of the file before and after submitting your second tran","username":"manish-sethi","ts":"2018-04-18T00:36:36.545Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=bqiHXFxoTI7vgIXuZO) @manish-sethi \nYes i made changes to the data of the last successfully committed transaction and reopened the file to ensure that the changes i made reflected the file .How is this possible that the subsequent transactions are not getting committed on to the tampered ledger file without even a single error message or failure alert?","username":"pb","ts":"2018-04-18T03:07:58.494Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bqiHXFxoTI7vgIXuZO","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=bqiHXFxoTI7vgIXuZO","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I do always check the file contents and not size.","username":"pb","ts":"2018-04-18T03:08:56.754Z"}
{"msg":"Hi! \n\nIn the Fabric FAQ, its said, under \"How do I ensure data privacy?\" , one of the points is \"ledger data at rest can be encrypted via file system encryption on the peer.\" \n\nHow is this done","username":"amolpednekar","ts":"2018-04-18T05:06:48.286Z"}
{"msg":"Hi! \n\nIn the Fabric FAQ, its said, under \"How do I ensure data privacy?\" , one of the points is \"ledger data at rest can be encrypted via file system encryption on the peer.\" \n\nHow is this done?","username":"amolpednekar","ts":"2018-04-18T05:06:48.286Z"}
{"msg":"Hi! \n\nIn the Fabric FAQ, under \"How do I ensure data privacy?\" , one of the points is \"ledger data at rest can be encrypted via file system encryption on the peer.\" \n\nHow is this done?","username":"amolpednekar","ts":"2018-04-18T05:06:48.286Z"}
{"msg":"@amolpednekar There are many options for whole disk encryption: https://en.wikipedia.org/wiki/Comparison_of_disk_encryption_software","username":"dave.enyeart","ts":"2018-04-18T10:35:45.409Z"}
{"msg":"Ah, alright! I thought there was some fabric specific config which allowed this. Thanks.","username":"amolpednekar","ts":"2018-04-18T10:48:08.562Z"}
{"msg":"Has joined the channel.","username":"pjjp","ts":"2018-04-18T12:51:39.085Z","type":"uj"}
{"msg":"@pb based on what you confirmed above, the behavior you are noticing is a side-effect of writing concurrently on the same file by more than one processes - 1) the peer process and 2) your editor. This is how many file systems behave. You would notice the similar behavior even if you open two instance of vi and try to manipulate the same file from both concurrently. Only concurrent append is well defined in the posix spec. For instance, if you would have appended something to the file (echo 'this is just for fun' >> blk_0000) instead of modifying you would have seen the new transaction entry (Or if you would have stopped the peer process before modifying....). BTW, even if you would deleted this file (instead of modifying the file) the running peer would not notice that on most filesystems. \nhttps://www.unix.com/man-page/posix/3P/WRITE/ -- search for 'concurrent writes'","username":"manish-sethi","ts":"2018-04-18T13:53:58.988Z"}
{"msg":"@pb based on what you confirmed above, the behavior you are noticing is a side-effect of writing concurrently on the same file by more than one processes - 1) the peer process and 2) your editor. This is how many file systems behave. You would notice the similar behavior even if you open two instance of vi and try to manipulate the same file from both concurrently. Only concurrent append is well defined in the posix spec. For instance, if you would have appended something to the file (echo 'this is just for fun' >> blk_0000) instead of modifying you would have seen the new transaction entry (Or if you would have stopped the peer process before modifying....). BTW, even if you would have deleted this file (instead of modifying the file) the running peer would not notice that on most filesystems. \nhttps://www.unix.com/man-page/posix/3P/WRITE/ -- search for 'concurrent writes'","username":"manish-sethi","ts":"2018-04-18T13:53:58.988Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=GCDQ6arZB5biu5N5k) @manish-sethi \n*BTW, even if you would have deleted this file (instead of modifying the file) the running peer would not notice that on most filesystems. *\nI have tried deleting the ledger in the peer and when i made transactions, the transactions were successfully committed in all other peers but the ledger file blockfile_000000 was not recreated in the peer from which i deleted .","username":"pb","ts":"2018-04-19T06:25:01.281Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GCDQ6arZB5biu5N5k","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GCDQ6arZB5biu5N5k","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Mihai.A","ts":"2018-04-19T13:53:38.570Z","type":"uj"}
{"msg":"@pb yes, that's what I was trying to explain. In most of the filesystems you would notice the similar behavior. You may want to go through this stackexchange question that explains this in a bit more detail. So, in fabric one of the fundamental assumption is that no one is manually manipulating the files or any state data (the same as you would imagine the case in a secure IT environment in - say a database of a bank).\n\nHaving said this, it should still be possible for ledger to verify some basic sanity at the start up time. Some of these are already in place and surely there may be some scope of improving for other anomalies. But as I said before, one of the fundamental assumption is that at least no one is manually manipulating their own orgs data.","username":"manish-sethi","ts":"2018-04-19T14:57:44.800Z"}
{"msg":"@pb yes, that's what I was trying to explain. In most of the filesystems you would notice the similar behavior. You may want to go through this stackexchange question explains this in a bit more detail 0 https://unix.stackexchange.com/questions/146929/how-can-a-log-program-continue-to-log-to-a-deleted-file. So, in fabric one of the fundamental assumption is that no one is manually manipulating the files or any state data (the same as you would imagine the case in a secure IT environment in - say a database of a bank).\n\nHaving said this, it should still be possible for ledger to verify some basic sanity at the start up time. Some of these are already in place and surely there may be some scope of improving for other anomalies. But as I said before, one of the fundamental assumption is that at least no one is manually manipulating their own orgs data.","username":"manish-sethi","ts":"2018-04-19T14:57:44.800Z"}
{"msg":"@pb yes, that's what I was trying to explain. In most of the filesystems you would notice the similar behavior. You may want to go through this stackexchange question/answer. This explains the phenomena in bit more detail - https://unix.stackexchange.com/questions/146929/how-can-a-log-program-continue-to-log-to-a-deleted-file. So, in fabric one of the fundamental assumption is that no one is manually manipulating the files or any state data (the same as you would imagine the case in a secure IT environment in - say a database of a bank).\n\nHaving said this, it should still be possible for ledger to verify some basic sanity at the start up time. Some of these are already in place and surely there may be some scope of improving for other anomalies. But as I said before, one of the fundamental assumption is that at least no one is manually manipulating their own orgs data.","username":"manish-sethi","ts":"2018-04-19T14:57:44.800Z"}
{"msg":"Has joined the channel.","username":"remmeier","ts":"2018-04-20T06:34:38.775Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=x2qQp27oAHb8rCkTw) @manish-sethi \nThanks manish-sethi but how can we ignore the possibility of manual manipulation.Also it would be great if you could explain how the chain within each peer is validated?","username":"pb","ts":"2018-04-20T11:13:43.534Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=x2qQp27oAHb8rCkTw","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=x2qQp27oAHb8rCkTw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@pb - It's not about ignoring but it's more about technology limitation. Theoretically, it is not always feasible if the owner manipulates it's system by authorized access. The manipulation can be at various levels not only the block file.. for instance, one can install a completely different code for the contract (chaincode), manipulate state in the db, or completely run a different binary for the peer.... \nThe guarantees that block chain systems or BFT protocols provide under certain assumptions (e.g, 3f+1 node in PBFT) are that an 'honest' node should not be manipulatable by other malicious node. For instance, in fabric, the endorsement results from a manipulated node won't match with others.  If one wants to corrupt it's own node, its hard to stop him (For this, there is an entirely different computing paradigm of 'trusted computing' that involves hardware level security as well...). ","username":"manish-sethi","ts":"2018-04-20T20:02:03.475Z"}
{"msg":"@pb - It's not about ignoring but it's more about technology limitation. Theoretically, it is not always feasible if the owner manipulates it's system by authorized access. The manipulation can be at various levels not only the block file.. for instance, one can install a completely different code for the contract (chaincode), manipulate state in the db, or completely run a different binary for the peer.... \nThe guarantees that blockchain systems or BFT protocols provide under certain assumptions (e.g, 3f+1 node in PBFT) are that an 'honest' node should not be manipulatable by other malicious node. For instance, in fabric, the endorsement results from a manipulated node won't match with others.  If one wants to corrupt it's own node, its hard to stop him (For this, there is an entirely different computing paradigm of 'trusted computing' that involves hardware level security as well...). ","username":"manish-sethi","ts":"2018-04-20T20:02:03.475Z"}
{"msg":"Hi @manish-sethi; quick question: how stable are the sidedb specific shim interfaces exposed in 1.1? I understand that's an experimental feature in 1.1, and that formal support is supposed to happen only in 1.2; but should I expect major changes between what I see in the 1.1 experimental code vs. what I will see in 1.2 - from a chaincode developer point of view? For example, I noticed in the code that private data queries are accepted only in the context of chaincode invocations which do not perform writes; is that limitation changing at all in 1.2? Thanks.","username":"minollo","ts":"2018-04-21T03:40:34.485Z"}
{"msg":"Hi @minollo - yes, the existing functions in chaincode shim for private data are expected to be there in 1.2 as well. Also, for these APIs, the behavior will also be the same - i.e., allowing queries only in the read-only transactions. Having said this, there may be some additions in the shim for allowing more flexibility for endorsement for certain data. However, they are expected to be in the form of additional APIs.","username":"manish-sethi","ts":"2018-04-21T13:48:44.517Z"}
{"msg":"Excellent; thanks @manish-sethi ","username":"minollo","ts":"2018-04-21T13:49:21.011Z"}
{"msg":"Has joined the channel.","username":"toesterdahl","ts":"2018-04-22T20:39:27.807Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=iYd52zK6H4kipWmPc) @manish-sethi \nOk .Thanks :)","username":"pb","ts":"2018-04-23T03:42:18.836Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=iYd52zK6H4kipWmPc","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=iYd52zK6H4kipWmPc","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"labcoinpoc","ts":"2018-04-23T04:14:13.383Z","type":"uj"}
{"msg":"Is there any way to query history? `stub.GetHistoryForKey()` fetches all the transaction history for a particular key. Is there any way to fetch history based on some query or condition?","username":"pankajcheema","ts":"2018-04-23T08:53:07.292Z"}
{"msg":"Has joined the channel.","username":"hrt031293","ts":"2018-04-23T11:44:01.326Z","type":"uj"}
{"msg":"@pankajcheema - for now, this is the only way to retrieve history","username":"manish-sethi","ts":"2018-04-23T13:57:48.589Z"}
{"msg":"@manish-sethi One more query if am using couchdb the i can change the state directly from database.and now end user will get the wrong data .","username":"pankajcheema","ts":"2018-04-23T13:59:36.024Z"}
{"msg":"@manish-sethi One more query if am using couchdb then i can change the state directly from database.and now end user will get the wrong data .","username":"pankajcheema","ts":"2018-04-23T13:59:36.024Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=dXtF5QZ9X32zMRgAi) @pankajcheema you may like to follow the conversation with @pb above","username":"manish-sethi","ts":"2018-04-23T14:41:31.934Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dXtF5QZ9X32zMRgAi","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=dXtF5QZ9X32zMRgAi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi  and what about if there are two participating organization in a network.Who will be owner of the database ?","username":"pankajcheema","ts":"2018-04-23T14:44:24.810Z"}
{"msg":"is there any expert that can answer my question `How your data is safe in Hyperledger Fabric when one can make changes to couchdb data directly`\n\non https://stackoverflow.com/questions/49934312/how-your-data-is-safe-in-hyperledger-fabric-when-one-can-make-changes-to-couchdb","username":"pankajcheema","ts":"2018-04-23T17:15:35.394Z"}
{"msg":"@pankajcheema each have their own copy of the db","username":"manish-sethi","ts":"2018-04-23T18:54:15.723Z"}
{"msg":"Hi @manish-sethi; looking at the v1.1.0 code, it seems to me that range queries on private data are not added to the txn's rwset; which implies they are not validated at commit time for phantom reads; am I missing something in the code? If not, is that just a temporary limitation which is being addressed in the \"blessed\" release of sideDB in 1.2? Thanks!","username":"minollo","ts":"2018-04-24T07:22:58.342Z"}
{"msg":"Has joined the channel.","username":"tsnyder","ts":"2018-04-24T10:54:42.707Z","type":"uj"}
{"msg":"I had asked this question on Fabric Questions but did not receive an answer so am hoping here. Within the chaincode does the call stub.GetHistoryForKey() - does this call go against the ledger files or is it provided by the state db (couchdb)?","username":"tsnyder","ts":"2018-04-24T10:57:11.493Z"}
{"msg":"@tsnyder It goes against an index stored in LevelDB and then into the ledger to fetch the details. State db has nothing to do with it.","username":"minollo","ts":"2018-04-24T11:42:05.136Z"}
{"msg":"@minollo Thanks - so if you are using couchdb as the state db, leveldb is still there as an index for the block transactions? or the couchdb index is used?","username":"tsnyder","ts":"2018-04-24T11:44:52.974Z"}
{"msg":"@tsnyder LevelDB is the only implementation currently available for the index; not much point in having CouchDB as an alternative the way things are implemented right now, as no \"actual data\" is stored in that index - which implies no useful queries would be possible anyway.","username":"minollo","ts":"2018-04-24T11:46:28.870Z"}
{"msg":"@minollo - Thanks. To restate what you are saying - irrespective of what the statedb is (LevelDB or CouchDB), the ledger as represented by the blocks, has each block's transactions indexed by writeset key within LevelDB.","username":"tsnyder","ts":"2018-04-24T11:53:35.791Z"}
{"msg":"yep","username":"minollo","ts":"2018-04-24T11:54:05.676Z"}
{"msg":"Got it - thanks","username":"tsnyder","ts":"2018-04-24T11:54:16.224Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=DBabeZZqccFsQE5pZ) @minollo yes, your observation is correct. In fact, queries on private data are not supported in the update transactions. The fundamental problem is that the peers that do not maintain private data cannot re-execute the queries (as they maintain only hashed data).","username":"manish-sethi","ts":"2018-04-24T16:15:27.054Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DBabeZZqccFsQE5pZ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=DBabeZZqccFsQE5pZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi; yeah, I thought that was the case; you may want to change the documentation in the shim interface for the range query function on pvt data, as it explicitly mentions that it is re-executed at commit time for phantom reads detection. Any plan/idea about how to address this problem/limitation moving forward?","username":"minollo","ts":"2018-04-24T18:43:38.622Z"}
{"msg":"@minollo - I see. Would you mind opening a jira for this fixing the chaincode shim document. In fact, you may like to submit a patch if you will. As far as private data queries are concerned, in 1.2, they will stay as is and nothing concrete as yet for the later releases - thanks","username":"manish-sethi","ts":"2018-04-24T18:59:31.195Z"}
{"msg":"@manish-sethi OK, I'll play with it when I'm back in EST. Thanks.","username":"minollo","ts":"2018-04-24T19:02:04.215Z"}
{"msg":"hi, what is the size of  a normal transaction?","username":"qsmen","ts":"2018-04-25T06:03:44.330Z"}
{"msg":"or what are the components in a transaction and what is the size for each of these component?","username":"qsmen","ts":"2018-04-25T07:07:54.417Z"}
{"msg":"Are we adding new feature that will allow the member to keep the data on the ledger for certain time period to manage the size of the ledger and also purge the data that we no longer need after certain time period (30 days).  I have heard from someone that we are introducing this new feature. I want to get more details about the feature. ","username":"gauthampamu","ts":"2018-04-25T13:23:22.873Z"}
{"msg":"@dave.enyeart Are we adding new feature that will allow the member to keep the data on the ledger for certain time period to manage the size of the ledger and also purge the data that we no longer need after certain time period (30 days).  I have heard from someone that we are introducing this new feature. I want to get more details about the feature. ","username":"gauthampamu","ts":"2018-04-25T13:23:22.873Z"}
{"msg":"@dave.enyeart Are we adding new feature that will allow the member to keep the data on the ledger for certain time period to manage the size of the ledger and also purge the data that we no longer need after certain time period (30 days).  I have heard from someone that we are introducing this new feature. I want to get more details about the feature. Is this separate feature, is it part of the private data/side db capability in v1.1","username":"gauthampamu","ts":"2018-04-25T13:23:22.873Z"}
{"msg":"one question is often asked that what's the requirement for the computer used for fabric and how long it can serve.  to answer this question, the size of a transaction is one factor to consider","username":"qsmen","ts":"2018-04-26T02:39:46.417Z"}
{"msg":"Size of transactions. During this experiment, we also observed\nthe following is from  \"Hyperledger Fabric: A Distributed Operating System for Permissioned Blockchains\"  by IBM authors. the size MINT and SPEND transactions. In particular,\nthe 2MB-blocks contained 473 MINT or 670 SPEND transactions,\ni.e., the average transaction size is 3.06kB for SPEND\nand 4.33kB for MINT. In general, transactions in Fabric are\nlarge because they carry certificate information. Besides,\nMINT transactions of Fabcoin are larger than SPEND transactions\nbecause they carry CB certificates. This is an avenue\nfor future improvement of both Fabric and Fabcoin.","username":"qsmen","ts":"2018-04-26T03:31:10.339Z"}
{"msg":"the following is from  \"Hyperledger Fabric: A Distributed Operating System for Permissioned Blockchains\"  by IBM authors. the size MINT and SPEND transactions. In particular,\nthe 2MB-blocks contained 473 MINT or 670 SPEND transactions,\ni.e., the average transaction size is 3.06kB for SPEND\nand 4.33kB for MINT. In general, transactions in Fabric are\nlarge because they carry certificate information. Besides,\nMINT transactions of Fabcoin are larger than SPEND transactions\nbecause they carry CB certificates. This is an avenue\nfor future improvement of both Fabric and Fabcoin.","username":"qsmen","ts":"2018-04-26T03:31:10.339Z"}
{"msg":"the following is from  \"Hyperledger Fabric: A Distributed Operating System for Permissioned Blockchains\"  by IBM authors.  During this experiment, we also observed\n the size MINT and SPEND transactions. In particular,\nthe 2MB-blocks contained 473 MINT or 670 SPEND transactions,\ni.e., the average transaction size is 3.06kB for SPEND\nand 4.33kB for MINT. In general, transactions in Fabric are\nlarge because they carry certificate information. Besides,\nMINT transactions of Fabcoin are larger than SPEND transactions\nbecause they carry CB certificates. This is an avenue\nfor future improvement of both Fabric and Fabcoin.\n\n\n","username":"qsmen","ts":"2018-04-26T03:31:10.339Z"}
{"msg":"the following is from  \"Hyperledger Fabric: A Distributed Operating System for Permissioned Blockchains\"  by IBM authors.  During this experiment, we also observed\n the size MINT and SPEND transactions. In particular,\nthe 2MB-blocks contained 473 MINT or 670 SPEND transactions,\ni.e., the average transaction size is 3.06kB for SPEND\nand 4.33kB for MINT. \n\n\n","username":"qsmen","ts":"2018-04-26T03:31:10.339Z"}
{"msg":"of course, the size of a transaction depends. For details, you can read the paper.","username":"qsmen","ts":"2018-04-26T03:41:54.657Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=C96cAEmmR8qzJJcAZ) @gauthampamu I am looking for the same to be answered as well.  Please let us know when you have some update. Thanks.","username":"SmartContract2018","ts":"2018-04-26T13:27:44.278Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=C96cAEmmR8qzJJcAZ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=C96cAEmmR8qzJJcAZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I am working on a fabric based design that can potentially have 1000's of private transactions (as many chaincodes).  From data privacy perspective, I am looking to have the optimum design.  I can have individual channels for each private communication thus ensuring that only relevant transactions are stored physically on any node.  However it means creating 1000s of individual channels.  It creates operations/maintenance challenges and network stability. Any feedback would be appreciated.","username":"SmartContract2018","ts":"2018-04-26T15:40:03.080Z"}
{"msg":"Do we have sample example implementation that uses Side DB feature. Is the collection policy defined at chaincode level or defined at the transaction level. ","username":"gauthampamu","ts":"2018-04-26T16:56:25.214Z"}
{"msg":"","username":"gauthampamu","ts":"2018-04-26T17:02:50.918Z","attachments":[{"type":"file","title":"Screen Shot 2018-04-26 at 12.01.27 PM.png","title_link":"/file-upload/9NNPLf5f3fBN3zyT7/Screen%20Shot%202018-04-26%20at%2012.01.27%20PM.png","image_url":"/file-upload/9NNPLf5f3fBN3zyT7/Screen%20Shot%202018-04-26%20at%2012.01.27%20PM.png","image_type":"image/png","image_size":2100277,"url":"/file-upload/9NNPLf5f3fBN3zyT7/Screen%20Shot%202018-04-26%20at%2012.01.27%20PM.png","remote":false,"fileId":"9NNPLf5f3fBN3zyT7","fileName":"Screen Shot 2018-04-26 at 12.01.27 PM.png"}]}
{"msg":" So lets say I have two member member A and member B and two other regulators (X and Y). Member A does not want to share data with member B and member B does want to shared data with member A but only want to shared other regulators X and Y. So do need to define two collections Collection-A and Collection-B during instantiation and then use them in the chaincode. Also in your explain you are sending the price as transient data and since the member A does not want to share the data with other members on the channel, do we have to send all data as transient data. ","username":"gauthampamu","ts":"2018-04-26T17:06:01.676Z"}
{"msg":"Also what is implications to collections when you add one other member C to the network. Is the expectation that member C would define it collection and the network founder should update the collection policy that includes C's new collection so that member C can use it when it submits the transaction.","username":"gauthampamu","ts":"2018-04-26T17:07:24.041Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=H9JbHvxtsK36ydiGL)  @manish-sethi  can you suggest me location ?","username":"pankajcheema","ts":"2018-04-26T17:58:39.156Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=H9JbHvxtsK36ydiGL","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=H9JbHvxtsK36ydiGL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SmartContract2018 @gauthampamu Lots of good questions here... let me provide a summary as a baseline for everybody, and answer your questions inline...","username":"dave.enyeart","ts":"2018-04-26T19:59:04.338Z"}
{"msg":"Channel private data via collections (aka Side DB) enables a subset of channel members to share private data amongst themselves via peer-to-peer gossip, with a hash of the private data on the public channel as data proof.\nThe first production release is targeted for v1.2 with support of explicitly defined collections having a publicly known membership list.\nSee example at https://jira.hyperledger.org/browse/FAB-6600.\nThe collections are defined at chaincode instantiation/upgrade.  You can add members to the collection by updating the collection definition upon chaincode upgrade.\nTransactions can have a combination of public data and private collection data.\nPart of the feature includes ability to automatically purge private data after a certain number of blocks, while keeping all public data on-chain indefinitely, including the private data hashes.\nThere are various variants of this pattern being proposed for future releases, including:\n1) ability to keep the membership list private with private data dissemination driven by the client rather than peers,\n2) the ability to have implicitly defined collections based on any permutations of channel members (where non-members get the transactions with hashes), and\n3) the ability to have implicitly defined subchannels based on any permutations of channel members (where non-members don’t get the private transactions at all).\nIt sounds like you would benefit from these implicit collection/subchannel proposals, such that you don’t need to explicitly create and administer large numbers of channels/collections.\nQuestion - in your use cases, should the non-members receive the transactions with hashed data, or not receive the transactions at all?","username":"dave.enyeart","ts":"2018-04-26T20:01:51.220Z"}
{"msg":"Can you explain what you mean by implicitly defined collection.Just to clarify, in v1.1, you can only define one collection right ? Also where can I find the sample collections.json referenced in the JIRA documentation.  ","username":"gauthampamu","ts":"2018-04-26T21:23:24.296Z"}
{"msg":"Is it possible to have multiple collections in the JSON file and each member can they use different collection name when they submit the transaction. For example, can you define collection1 for member A and collection 2 for member B in the json file. Member A uses the collection1 when it submits the transaction to the chaincode and chaincode uses the collection name when it calls save private data call. ","username":"gauthampamu","ts":"2018-04-26T21:25:19.250Z"}
{"msg":"@dave.enyeart I don't understand why a hash of the key value is even going to the ordering service or all the peers.  Wouldn't it be sufficient to just include a hash of the private data RWset?","username":"toddinpal","ts":"2018-04-26T21:31:13.968Z"}
{"msg":"Peers would then store that with the TxID as the key","username":"toddinpal","ts":"2018-04-26T21:31:32.989Z"}
{"msg":"Has joined the channel.","username":"eabiodun","ts":"2018-04-26T21:33:32.345Z","type":"uj"}
{"msg":"The current design leaks a lot of information, such as who's communicating with whom and what keys are modified.  What is the value in leaking that information, or perhaps to put it another way, what's the benefit of sending the keys/hashed-values instead of just a hash of the private RWset?","username":"toddinpal","ts":"2018-04-26T21:36:57.613Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ugo4zX5WMYQpS6CL9) @SmartContract2018 This seems problematic on many levels. Not only in the architecture but also how this is managed from the client application perspective. I would advocate you await the Side DB functionality for this. ","username":"eabiodun","ts":"2018-04-26T21:38:04.110Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ugo4zX5WMYQpS6CL9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ugo4zX5WMYQpS6CL9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=xGCR2TE4c3awDA5Z4) @eabiodun How many separate channels do you think would be practical to create on one network?","username":"SmartContract2018","ts":"2018-04-26T21:45:27.368Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xGCR2TE4c3awDA5Z4","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xGCR2TE4c3awDA5Z4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=2Jd4RgLypLELE4C6d) @dave.enyeart Thanks Dave. I am ok for hashed data as long as there is no way for others to know the identity of the parties involved in that private communication.  \nSecondly, if I reduce the number of peer nodes, how many unique channels can be supported by one network (one set of orderers)?  In my case, there is one entity that is controlling the network and orderers will be managed by that entity only.  All participants are ok if the controlling entity has access to all private channels.\nWhat do you think is practical timeline for production ready implementation of SiceDB?\nMuch appreciated. \n\n\n","username":"SmartContract2018","ts":"2018-04-26T21:51:51.975Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2Jd4RgLypLELE4C6d","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2Jd4RgLypLELE4C6d","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ZurZDpX5iX8yKTEak) @SmartContract2018 It really depends on too many variables.... Overall channels are a relatively fragile way to do this in its existing form.  Are all your channels 1 to 1 relationships in regards to MSP's?","username":"eabiodun","ts":"2018-04-26T21:53:52.414Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZurZDpX5iX8yKTEak","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ZurZDpX5iX8yKTEak","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=LKMMK66tdkbudF5LS) @eabiodun Yes 1 to 1 and the controlling entity is the 3rd in that relationship (who has access to all other 1 to 1 channels as well).\n\nWhy are the channels a fragile way? What is the alternate to manage multiple private channels on one network?","username":"SmartContract2018","ts":"2018-04-26T21:58:50.446Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=LKMMK66tdkbudF5LS","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=LKMMK66tdkbudF5LS","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=3bgCEsSmMrxWexxtR) @SmartContract2018 Think of each channel as an expensive resource :-) Happy to have a \"side channel\" with you on this. In regards to your use case, it is quite a common request. So each entity transacts privately with each other entity with some regulator or entity that has overall view on all transactions?  ","username":"eabiodun","ts":"2018-04-26T22:05:55.471Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3bgCEsSmMrxWexxtR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3bgCEsSmMrxWexxtR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@SmartContract2018 consider this. (I am not saying this is the best solution). How about simply having 1 channel and using PKI to encrypt the values...Anything that is to be visible to all can be plain text....","username":"eabiodun","ts":"2018-04-26T22:10:32.172Z"}
{"msg":"Has joined the channel.","username":"srujana_k","ts":"2018-04-27T10:00:06.822Z","type":"uj"}
{"msg":"@gauthampamu You can have multiple collections in each chaincode, the example at the end of this file shows two collections  in the json format:","username":"dave.enyeart","ts":"2018-04-27T15:31:39.760Z"}
{"msg":"https://gerrit.hyperledger.org/r/#/c/14769/9/examples/e2e_cli/scripts/script_marbles_private.sh","username":"dave.enyeart","ts":"2018-04-27T15:31:41.620Z"}
{"msg":"Typically you will be transacting between multiple members, and therefore typically the collections will have as membership the members that are transacting together","username":"dave.enyeart","ts":"2018-04-27T15:32:41.936Z"}
{"msg":"implicit collections are just an idea at this point, see this chart deck for the thinking:","username":"dave.enyeart","ts":"2018-04-27T15:33:57.557Z"}
{"msg":"https://jira.hyperledger.org/secure/attachment/14891/CollectionTypesAndStateBasedEndorsement.pptx","username":"dave.enyeart","ts":"2018-04-27T15:34:00.121Z"}
{"msg":"@toddinpal You are right, technically we don't need the hashes of the values in order to process transactions.  But they are there as 'proof' of the value on the blockchain in case the parties in the transaction have a dispute and need to lookup of proof of their private value","username":"dave.enyeart","ts":"2018-04-27T15:35:29.763Z"}
{"msg":"But a hash of the RWset would also provide proof","username":"toddinpal","ts":"2018-04-27T15:35:56.740Z"}
{"msg":"assuming the clients have access to the private write set pre-image, which they may not in the long term","username":"dave.enyeart","ts":"2018-04-27T15:36:30.368Z"}
{"msg":"but they surely would store the private keys/values in their own systems long term","username":"dave.enyeart","ts":"2018-04-27T15:36:58.073Z"}
{"msg":"the hash of the key is also needed to store the version, which is used in the public MVCC validation on all peers","username":"dave.enyeart","ts":"2018-04-27T15:37:20.792Z"}
{"msg":"Yeah, well that's another interesting point, the aging of the private keys... yet maintaining the hashes in the public part of the chain... what's the use case for this?","username":"toddinpal","ts":"2018-04-27T15:37:58.946Z"}
{"msg":"you are correct that the initial impl leaks the transactors.  this is why other variants are being designed for more privacy-preserving scenarios","username":"dave.enyeart","ts":"2018-04-27T15:38:07.607Z"}
{"msg":"all peers (including non-members) need the hashed key to perform MVCC validation consistently","username":"dave.enyeart","ts":"2018-04-27T15:38:48.312Z"}
{"msg":"Seems like if the private parties maintain the RWset in their own ledger, then their clients would have access to necessary information to seek a proof...   As for MVCC, that is true, although only if the non-private portions of the RWset have a dependency on the private portion","username":"toddinpal","ts":"2018-04-27T15:40:12.106Z"}
{"msg":"So instead of a side db, it would essentially be a side ledger, with proofs on the main ledger","username":"toddinpal","ts":"2018-04-27T15:41:15.634Z"}
{"msg":"That is being considered as another variant, it's just that the sponsor project of the initial impl wanted the private data purged rather than saved in a side ledger indefintely.","username":"dave.enyeart","ts":"2018-04-27T15:42:51.891Z"}
{"msg":"ahhh... interesting... ok","username":"toddinpal","ts":"2018-04-27T15:43:09.547Z"}
{"msg":"we see a lot more use cases where a side ledger or perhaps more importantly a main ledger that proofs could be posted to.","username":"toddinpal","ts":"2018-04-27T15:43:59.823Z"}
{"msg":"for MVCC... even transactions with private data only need a way to do the MVCC validation consistently on all peers, and doing MVCC validation on the hashes of the keys is the current impl solution","username":"dave.enyeart","ts":"2018-04-27T15:44:24.319Z"}
{"msg":"the current inability to write to two ledgers (channels) atomically makes that difficult.","username":"toddinpal","ts":"2018-04-27T15:44:28.435Z"}
{"msg":"you obviously have thought about the various scenarios a lot, could you perhaps write a Jira or google doc with the various scenarios enumerated, ideally with prioritization highlighted.  we can merge with other use cases that we are seeing to determine what gets prioritized next...","username":"dave.enyeart","ts":"2018-04-27T15:46:33.226Z"}
{"msg":"Will do...","username":"toddinpal","ts":"2018-04-27T15:46:56.783Z"}
{"msg":"you can direct message me as well","username":"dave.enyeart","ts":"2018-04-27T15:47:28.088Z"}
{"msg":"Has joined the channel.","username":"chainsaw","ts":"2018-04-27T15:52:28.168Z","type":"uj"}
{"msg":"@dave.enyeart Thanks for the response. Going back to my use case. Lets say we have two member A and B and they competitors and they cannot share any data between each other but they want to share data with other participants Regulators X and Y. You mentioned we can have multiple collections in the JSON file. I want to define two collections, one for Member A such that transactions from Member A is shared with only Member A, X and Y. Also have another collection for Member B such that transactions from Member B are shared with only Member B, X and Y. ","username":"gauthampamu","ts":"2018-04-27T16:37:28.481Z"}
{"msg":"Will this collection configuration meet my requirements. What should be values for requiredPeerCount and maxPeerCount. In my case I don't want to delete the private data, so what should be the value for blockToLive.","username":"gauthampamu","ts":"2018-04-27T16:39:55.327Z"}
{"msg":"[\n {\n\t \"name\": \"collectionMemberAPrivateDetails”,\n\t \"policy\": \"OR('OrgAMSP.member', 'OrgXMSP.member’, 'OrgYMSP.member')”,\n\t \"requiredPeerCount\": 1,\n\t \"maxPeerCount\": 2,\n\t \"blockToLive\":1000000\n},\n {\n\t \"name\": \"collectionMemberBPrivateDetails\",\n\t \"policy\": \"OR('OrgBMSP.member', 'OrgXMSP.member’, 'OrgYMSP.member')”,\n\t \"requiredPeerCount\": 1,\n\t \"maxPeerCount”: 2,\n\t \"blockToLive”:100000\n }\n]","username":"gauthampamu","ts":"2018-04-27T16:39:59.224Z"}
{"msg":"In your example, why do they have two collections...are they linked in some way..or are they separate collections. ","username":"gauthampamu","ts":"2018-04-27T16:52:23.333Z"}
{"msg":"[\n {\n\t \"name\": \"collectionMarbles\",\n\t \"policy\": \"OR('Org1MSP.member', 'Org2MSP.member')\",\n\t \"requiredPeerCount\": 1,\n\t \"maxPeerCount\": 2,\n\t \"blockToLive\":1000000\n},\n {\n\t \"name\": \"collectionMarblePrivateDetails\",\n\t \"policy\": \"OR('Org1MSP.member')\",\n\t \"requiredPeerCount\": 1,\n\t \"maxPeerCount\": 1,\n\t \"blockToLive\":3\n }\n]","username":"gauthampamu","ts":"2018-04-27T16:52:24.175Z"}
{"msg":"@gauthampamu ","username":"dave.enyeart","ts":"2018-04-27T19:22:12.306Z"}
{"msg":"Yes, that’s how you would setup two collections for your scenario.\nThe two collections are not ‘linked’.  They are independent collections (key namespaces) within the chaincode.\n*maxPeerCount* is how many other authorized peers the endorsing peer attempts to send the private data to. It tries to scatter the private data across peers in other orgs in a best effort.\n*requiredPeerCount* is the minimum number of peers the endorsing peer must successfully disseminate data to, before endorsement returns success (this is to ensure private data availability before commit, even if some endorsing peers go down).\nIf authorized peers still don’t have the private data at commit time, they will attempt to pull the private data from a peer that does have it.\n*blockToLive* can be set to 0 to indicate that the private data lives forever.  Setting to an integer of 1 or higher indicates that the private data should be purged after this many blocks.","username":"dave.enyeart","ts":"2018-04-27T19:22:14.363Z"}
{"msg":"Here is another example, let say we have network work three A,B and C participants and the one of the member A wants to define the collection policy where only it should have access to it and other don't have access it but it wants others to endorse to it. For example Can we have endorsement policy of A and (B or C) to endorse it but B and C are not in the collection. Is that feasible ? Basic Question, Can peers endorse without having access to the data.  ","username":"gauthampamu","ts":"2018-04-27T20:08:03.496Z"}
{"msg":"@gauthampamu No, that doesn't make sense.  If peers don't have access to the private data, they will not be able to endorse transactions that manipulate the private data.   If you give them the private data such that they can execute chaincode and endorse, then you've defeated the purpose of private data collections, which is keep the data private from certain org's (and their peers).","username":"dave.enyeart","ts":"2018-04-27T21:02:59.437Z"}
{"msg":"Has left the channel.","username":"kostas","ts":"2018-04-27T21:58:41.283Z","type":"ul"}
{"msg":"Has joined the channel.","username":"naveen_saravanan","ts":"2018-04-29T03:45:04.853Z","type":"uj"}
{"msg":"Hi everyone. Can the hyperledger-fabric's couchdb be mounted on a S3 bucket? ","username":"naveen_saravanan","ts":"2018-04-29T03:45:35.499Z"}
{"msg":"technically it looks possible, but also looks like it would not be a recommended solution for a live database, see https://stackoverflow.com/a/10820560","username":"dave.enyeart","ts":"2018-04-29T13:52:44.269Z"}
{"msg":"@naveen_saravanan  technically it looks possible, but also looks like it would not be a recommended solution for a live database, see https://stackoverflow.com/a/10820560","username":"dave.enyeart","ts":"2018-04-29T13:52:44.269Z"}
{"msg":"@dave.enyeart thanks for the reply but I would like to also know how the hyperledger-fabric's couchdb can be mounted on a S3 bucket?\nAnd if you know any documents regarding it please share them.","username":"naveen_saravanan","ts":"2018-04-30T00:44:02.706Z"}
{"msg":"@naveen_saravanan http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence mentions how to write couchdb docker container data to host, and https://www.turnkeylinux.org/blog/exploring-s3-based-filesystems-s3fs-and-s3backer mentions how mount S3 buckets to the host.  None of this is fabric specific, search for docker volumes and S3.","username":"dave.enyeart","ts":"2018-04-30T01:22:12.553Z"}
{"msg":"that being said, it doesn't look like a good idea as files in S3 buckets cannot be incrementally written to, it would write the entire database file anytime there is a data change.","username":"dave.enyeart","ts":"2018-04-30T01:23:33.134Z"}
{"msg":"@dave.enyeart thanks for your reply. Are there any best approach in mounting Hyperledger fabric's couchdb? ","username":"naveen_saravanan","ts":"2018-04-30T06:17:04.362Z"}
{"msg":"@dave.enyeart thanks for your reply. Are there any best approach in mounting Hyperledger fabric's couchdb? \nand where are the data is stored normally in a cluster environment?","username":"naveen_saravanan","ts":"2018-04-30T06:17:04.362Z"}
{"msg":"@dave.enyeart thanks for your reply. Are there any best approach in mounting Hyperledger fabric's couchdb? \nand where are the data are stored normally in a cluster environment?","username":"naveen_saravanan","ts":"2018-04-30T06:17:04.362Z"}
{"msg":"@naveen_saravanan In a blockchain network every peer has its own local data.  The peer's and couchdb's docker container should write to the host file system using a docker volume, so that you can update the container while preserving the data.","username":"dave.enyeart","ts":"2018-04-30T08:13:22.161Z"}
{"msg":"@dave.enyeart What is tentative target date for v1.2 ? ","username":"gauthampamu","ts":"2018-04-30T14:42:58.663Z"}
{"msg":"@gauthampamu we have shifted to quarterly releases, so v1.2 is targeted for end of june","username":"dave.enyeart","ts":"2018-04-30T14:59:38.692Z"}
{"msg":"@dave.enyeart Is it correct that we cannot have private collection that is smaller set than the endorsement policy set ? Basically you can have private collection with just peer/org and expect to have endorsement policy with more than one org because the client would have to the submit the transaction to the endorsement peers so that means they need to part of the collection.","username":"gauthampamu","ts":"2018-04-30T16:23:52.000Z"}
{"msg":"Hi...I wanted to test a couple of samples with side db feature. Can somebody point me to its documentation or a getting started guide.","username":"MeenakshiSingh","ts":"2018-04-30T16:28:40.222Z"}
{"msg":"@gauthampamu Right. Endorsement is a signature against chaincode execution results.  To execute the chaincode you must have access to the data.  Therefore to endorse you must have access to the data.","username":"dave.enyeart","ts":"2018-04-30T17:10:50.813Z"}
{"msg":"@MeenakshiSingh Public tutorials/documentation will be made available in v1.2 release.  In the meantime you can look at this sample: https://jira.hyperledger.org/browse/FAB-6600","username":"dave.enyeart","ts":"2018-04-30T17:29:05.975Z"}
{"msg":"Has joined the channel.","username":"acbellini","ts":"2018-05-01T21:10:13.452Z","type":"uj"}
{"msg":"Has joined the channel.","username":"clydedacruz","ts":"2018-05-02T06:54:59.224Z","type":"uj"}
{"msg":"The fabric chaincode supports the couchdb **/db/_find** API via the QueryDocuments function.\n\nIs there similar support for CouchDB **/db/_design/design-doc/_view/view-name** API for querying views inside the chaincode?\n\nCouldnt find anthing in the source : https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/ledger/util/couchdb/couchdb.go\nAdded the question here ->https://stackoverflow.com/questions/50128674/does-fabric-support-queries-on-views\n","username":"clydedacruz","ts":"2018-05-02T06:55:51.863Z"}
{"msg":"@manish-sethi  @dave.enyeart  The fabric chaincode supports the couchdb **/db/_find** API via the QueryDocuments function.\n\nIs there similar support for CouchDB **/db/_design/design-doc/_view/view-name** API for querying views inside the chaincode?\n\nCouldnt find anthing in the source : https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/ledger/util/couchdb/couchdb.go\nAdded the question here ->https://stackoverflow.com/questions/50128674/does-fabric-support-queries-on-views\n","username":"clydedacruz","ts":"2018-05-02T06:55:51.863Z"}
{"msg":"@manish-sethi  @dave.enyeart  The fabric chaincode supports the couchdb **/db/_find** API via the QueryDocuments function ( in core/ledger/util/couchdb/couchdb.go)\n\nIs there similar support for CouchDB **/db/_design/design-doc/_view/view-name** API for querying views inside the chaincode?\n\nCouldnt find anthing in the source : https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/ledger/util/couchdb/couchdb.go\nAdded the question here ->https://stackoverflow.com/questions/50128674/does-fabric-support-queries-on-views\n","username":"clydedacruz","ts":"2018-05-02T06:55:51.863Z"}
{"msg":"If no , are there any future plans to support this ?","username":"clydedacruz","ts":"2018-05-02T07:15:16.901Z"}
{"msg":"There is a requirement to add support for views: https://jira.hyperledger.org/browse/FAB-5528","username":"dave.enyeart","ts":"2018-05-02T10:36:18.994Z"}
{"msg":"It is not yet planned for a release... many people think such aggregate reporting should be done against a datastore outside of Fabric.  For example have a client of the event deliver service listen for block events and build out a data warehouse that is more optimized for each specific organizations reporting needs.","username":"dave.enyeart","ts":"2018-05-02T10:38:05.331Z"}
{"msg":"Thanks @dave.enyeart! , This would be fine for orgs owning a peer(because they trust whats in their own peer), \nConsider This case .. \nAn org may want to consume results of aggregations from the chaincode itself without owning a peer or having to build a data warehouse themselves. In such cases it would help to have the capability for basic aggregations.\n","username":"clydedacruz","ts":"2018-05-02T11:10:55.343Z"}
{"msg":"agreed, that's why I created the requirement","username":"dave.enyeart","ts":"2018-05-02T11:12:43.757Z"}
{"msg":"cool thanks!","username":"clydedacruz","ts":"2018-05-02T11:14:04.252Z"}
{"msg":"reading the documention on endorsement policies (https://hyperledger-fabric.readthedocs.io/en/release-1.1/endorsement-policies.html), i see a lot of great example policies, but no way to define them","username":"papegaaij","ts":"2018-05-02T12:28:34.272Z"}
{"msg":"for example, how do i define a policy that states: at least 3 members of org1?","username":"papegaaij","ts":"2018-05-02T12:28:57.401Z"}
{"msg":"Has joined the channel.","username":"youssefg","ts":"2018-05-02T18:24:23.531Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kevin-s-wang","ts":"2018-05-03T02:36:19.244Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JNtcwkrcvA7YCoT8n) @dave.enyeart Thank you for your reply.","username":"naveen_saravanan","ts":"2018-05-03T04:21:44.844Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JNtcwkrcvA7YCoT8n","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JNtcwkrcvA7YCoT8n","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has left the channel.","username":"acbellini","ts":"2018-05-03T11:21:43.402Z","type":"ul"}
{"msg":"Has joined the channel.","username":"downTheFallLine","ts":"2018-05-03T18:54:01.755Z","type":"uj"}
{"msg":"i've an application that's attempting to write a few dozen CONCURRENT transactions into fabric, and getting MVCC_READ_CONFLICT back. Anyone have any thoughts on this?","username":"downTheFallLine","ts":"2018-05-03T18:54:34.611Z"}
{"msg":"For what it's worth, I did a quick search in this channel and found someone asked practically the same question a while back. Here's the primary part of the response:","username":"wlahti","ts":"2018-05-03T18:58:31.472Z"}
{"msg":"For what it's worth, I did a quick search in this channel and found someone asked practically the same question a while back. Here's the primary part of the response: https://chat.hyperledger.org/channel/fabric-ledger?msg=BHo3XRLhdLLBo67eZ","username":"wlahti","ts":"2018-05-03T18:58:31.472Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BHo3XRLhdLLBo67eZ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BHo3XRLhdLLBo67eZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@downTheFallLine For what it's worth, I did a quick search in this channel and found someone asked practically the same question a while back. Here's the primary part of the response: https://chat.hyperledger.org/channel/fabric-ledger?msg=BHo3XRLhdLLBo67eZ","username":"wlahti","ts":"2018-05-03T18:58:31.472Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BHo3XRLhdLLBo67eZ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BHo3XRLhdLLBo67eZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"JackStrohm","ts":"2018-05-03T19:05:14.730Z","type":"uj"}
{"msg":"I understand.  Thanks.  In a heavily concurrent application, this could well be the case, correct?  i'm new on this channel, so let me look at the link above ","username":"downTheFallLine","ts":"2018-05-03T19:17:02.233Z"}
{"msg":"yeah this seems to be at least a similar issue","username":"downTheFallLine","ts":"2018-05-03T19:18:53.837Z"}
{"msg":"@downTheFallLine yes, if you have a lot of updates to the same record you will get MVCC_READ_CONFLICT because multiple transactions in the same block are updating the readset to a new writeset. \n\nin order to get around this you could play around with how long it takes to cut a block/how many transactions go into a block or rework your chaincode logic.","username":"jrosmith","ts":"2018-05-03T19:59:23.423Z"}
{"msg":"@downTheFallLine yes, if you have a lot of updates to the same record you will get MVCC_READ_CONFLICT because multiple transactions in the same block are updating the readset to new, conflicting writeset. \n\nin order to get around this you could play around with how long it takes to cut a block/how many transactions go into a block or rework your chaincode logic.","username":"jrosmith","ts":"2018-05-03T19:59:23.423Z"}
{"msg":"@downTheFallLine yes, if you have a lot of updates to the same record you will get MVCC_READ_CONFLICT because multiple transactions in the same block are updating the readset to new, conflicting writesets. \n\nin order to get around this you could play around with how long it takes to cut a block/how many transactions go into a block or rework your chaincode logic.","username":"jrosmith","ts":"2018-05-03T19:59:23.423Z"}
{"msg":"a high-throughput example can be found here: https://github.com/hyperledger/fabric-samples/tree/release-1.1/high-throughput","username":"jrosmith","ts":"2018-05-03T19:59:32.182Z"}
{"msg":"if i'm understanding you, the issue is that 2 different business transactions have been \"cut\" into the same block and thus conflicting. ","username":"downTheFallLine","ts":"2018-05-03T20:18:36.556Z"}
{"msg":"@downTheFallLine yes. imagine you have an asset that has a key/value of `{\"key\": \"val1\"}`. two transactions then come in. tx1 reads `\"key\"`, sees it has a value of `\"val1\"`, and tries to update `\"key\"` to point to `\"val2\"`. tx2 reads `\"key\"`, sees it has a value of `\"val1\"`, and tries to update `\"key\"` to point to `\"val3\"`.\n\nwhen it comes time to commit the block, we have two transactions with a read set of `{\"key\": \"val1\"}`, but tx1 has a writeset of `{\"key\": \"val2\"}` and tx2 has a writeset of `{\"key\": \"val3\"}`. if tx1 gets ordered first it will be committed, but tx2 will be rejected from the block with `MVCC_READ_CONFLICT`. assuming tx1 gets cut in a block, when you retry tx2 it will then see the readset as `{\"key\": \"val2\"}` and can successfully write `{\"key\": \"val3\"}`","username":"jrosmith","ts":"2018-05-03T20:31:12.125Z"}
{"msg":"@downTheFallLine yes. imagine you have an asset that has a key/value of `{\"key\": \"val1\"}`. two transactions then come in. tx1 reads `\"key\"`, sees it has a value of `\"val1\"`, and tries to update `\"key\"` to point to `\"val2\"`. tx2 reads `\"key\"`, sees it has a value of `\"val1\"`, and tries to update `\"key\"` to point to `\"val3\"`.\n\nwhen it comes time to commit the block, we have two transactions with a read set of `{\"key\": \"val1\"}`, but tx1 has a writeset of `{\"key\": \"val2\"}` and tx2 has a writeset of `{\"key\": \"val3\"}`. if tx1 gets ordered first it will be committed, but tx2 will be rejected from the block with `MVCC_READ_CONFLICT`. assuming tx1 gets cut in the block, when you retry tx2 it will then see the readset as `{\"key\": \"val2\"}` and can successfully write `{\"key\": \"val3\"}`","username":"jrosmith","ts":"2018-05-03T20:31:12.125Z"}
{"msg":"Has joined the channel.","username":"titog","ts":"2018-05-03T20:31:53.898Z","type":"uj"}
{"msg":"When I read source code  of channel.go， \nOnly one grpc communication between client and endordser. here should not be more than one？\n","username":"songyuanjie","ts":"2018-05-04T02:11:37.841Z"}
{"msg":"@C0rWin After the discussion at February maintainers meeting you had started a checkpoint writeup.  Is it in any shape to post to FAB-106?  @sheehan is asking about it in Fabric mailing list...","username":"dave.enyeart","ts":"2018-05-05T14:07:00.699Z"}
{"msg":"Has joined the channel.","username":"sheehan","ts":"2018-05-05T14:07:02.376Z","type":"uj"}
{"msg":"@dave.enyeartI will post it once I will finish items for dynamic collections support. Also probably DM to @sheehan to update ","username":"C0rWin","ts":"2018-05-05T14:14:53.872Z"}
{"msg":"@dave.enyeart I will post it once I will finish items for dynamic collections support. Also probably DM to @sheehan to update ","username":"C0rWin","ts":"2018-05-05T14:14:53.872Z"}
{"msg":"Thanks! Do you know who is working on consensus on validation results? Or is that part of this same write up?","username":"sheehan","ts":"2018-05-05T14:18:01.701Z"}
{"msg":"@sheehan what do you mean consensus for validation?","username":"C0rWin","ts":"2018-05-05T14:40:53.473Z"}
{"msg":"From Dave’s email\n“To help simplify blockchain integrity verification, there are at least two (not mutually exclusive) proposals on the table for next releases:\n- consensus on validation results (each block)\n- consensus on checkpoints (at certain block intervals)”","username":"sheehan","ts":"2018-05-05T14:42:55.562Z"}
{"msg":"Oh, so yes I am addressing the consensus on checkpoint, it sort of including validation results implicitly ","username":"C0rWin","ts":"2018-05-05T15:02:58.743Z"}
{"msg":"Nobody is working on per-block validation consensus yet, it's just something we expect will need to be done if and when work starts on post-order execution model.  And per the mailing list thread, can also provide benefit in the execute/order model to ensure deterministic validation.","username":"dave.enyeart","ts":"2018-05-05T16:16:28.262Z"}
{"msg":"Has joined the channel.","username":"lclclc","ts":"2018-05-06T06:21:39.279Z","type":"uj"}
{"msg":"Hi, everyone. I am working on a project based on fabric, which is a auto-selling information market. Every participant store the information inside the ledger, and pay tokens/points to buy the information from smart contract. To ensure privacy and confidentiality, we encrypt all data in the ledger to prevent participant secretly query the info bypassing the smart contract. I heard in the fabric-question channel that there is an experimental feature in 1.1 which is called side-db. I can't found any clue about it except for a FAB link. Anyone can provide some example to show me how it works so that I can determine if I need to change my encryption solution.","username":"lclclc","ts":"2018-05-06T06:27:34.284Z"}
{"msg":"Has joined the channel.","username":"ShrutiSinha","ts":"2018-05-07T08:25:32.630Z","type":"uj"}
{"msg":"@C0rWin @dave.enyeart thanks, understood now","username":"sheehan","ts":"2018-05-07T15:48:29.261Z"}
{"msg":"@lclclc perhaps take a look at the powerpoint attached to https://jira.hyperledger.org/browse/FAB-1151\nhttps://jira.hyperledger.org/secure/attachment/12720/PrivacyEnabledLedger20171022.pptx","username":"sheehan","ts":"2018-05-07T16:01:56.997Z"}
{"msg":"That contains a lot of info, really helpful.","username":"lclclc","ts":"2018-05-08T05:52:00.940Z"}
{"msg":"That contains a lot of info, which is really helpful.","username":"lclclc","ts":"2018-05-08T05:52:00.940Z"}
{"msg":"Hello everyone,\nI want to know that, if I want to create a project in fabric, then what should be the basic architecture?\nThanks for the help","username":"hrt031293","ts":"2018-05-09T11:57:24.304Z"}
{"msg":"hello all,I am planning to write a chaincode that provides a look-up service using its internal lookup table. I know there could be multiple way to achieve this functionality but I would like this question to stay focused on this design pattern. The question: - what is the size limitation on a chaincode as my lookup data can get very large? ","username":"SmartContract2018","ts":"2018-05-09T21:25:44.338Z"}
{"msg":"","username":"Amjadnz","ts":"2018-05-10T06:22:29.111Z","attachments":[{"type":"file","title":"20180510_DFM_Server01_CommitLogs.zip","title_link":"/file-upload/4L4K6zZ47jvdXHKSx/20180510_DFM_Server01_CommitLogs.zip","url":"/file-upload/4L4K6zZ47jvdXHKSx/20180510_DFM_Server01_CommitLogs.zip","remote":false,"fileId":"4L4K6zZ47jvdXHKSx","fileName":"20180510_DFM_Server01_CommitLogs.zip"}]}
{"msg":"@dave.enyeart - the logs for the delay in multiple PUTSTATEs is attached here","username":"Amjadnz","ts":"2018-05-10T06:22:40.528Z"}
{"msg":"","username":"Amjadnz","ts":"2018-05-10T06:24:23.007Z","attachments":[{"type":"file","title":"20180510_DFM_LogsBreakup.txt","title_link":"/file-upload/ze6c8vFTexY9qjt6c/20180510_DFM_LogsBreakup.txt","url":"/file-upload/ze6c8vFTexY9qjt6c/20180510_DFM_LogsBreakup.txt","remote":false,"fileId":"ze6c8vFTexY9qjt6c","fileName":"20180510_DFM_LogsBreakup.txt"}]}
{"msg":"@dave.enyeart - the breakup of the logs attached with timings/linenumbers for your observations. Please let me know if you need any further info.","username":"Amjadnz","ts":"2018-05-10T06:25:07.624Z"}
{"msg":"```2018-05-10 22:47:57.510 UTC [txvalidator] VSCCValidateTxForCC -> ERRO 60b8 VSCC check failed for transaction txid=e84c295b29eabae1b14867b831b2c5d153a036b7c8d93ae864e8cd01cc87967a, error VSCC error: policy evaluation failed, err Failed to authenticate policy\n2018-05-10 22:47:57.510 UTC [lockbasedtxmgr] Done -> DEBU 60b9 Done with transaction simulation / query execution [f1779b40-77f9-4aa5-8757-fd6478110bc8]\n2018-05-10 22:47:57.510 UTC [txvalidator] Validate -> ERRO 60ba VSCCValidateTx for transaction txId = e84c295b29eabae1b14867b831b2c5d153a036b7c8d93ae864e8cd01cc87967a returned error VSCC error: policy evaluation failed, err Failed to authenticate policy```","username":"Amjadnz","ts":"2018-05-10T22:53:32.977Z"}
{"msg":"When using a endorsement-policy of the below I get the above error.","username":"Amjadnz","ts":"2018-05-10T22:53:55.031Z"}
{"msg":"```'endorsement-policy': {\n                        identities: [\n                                { role: { name: 'member', mspId: ORGS['dfm'].mspid }},\n                                { role: { name: 'member', mspId: ORGS['sca'].mspid }},\n                                { role: { name: 'member', mspId: ORGS['adx'].mspid }},\n                                { role: { name: 'admin', mspId: ORGS['dfm'].mspid }},\n                                { role: { name: 'admin', mspId: ORGS['sca'].mspid }}\n                        ],\n                        policy: {\n                                '1-of': [\n                                        { 'signed-by': 3},\n                                { 'signed-by': 4},\n                                        { '2-of': [{ 'signed-by': 0}, { 'signed-by': 1 }, {'signed-by': 2}]}\n                                ]\n                        }\n                }```","username":"Amjadnz","ts":"2018-05-10T22:54:56.148Z"}
{"msg":"```'endorsement-policy': {\n                        identities: [\n                                { role: { name: 'member', mspId: ORGS['aaa'].mspid }},\n                                { role: { name: 'member', mspId: ORGS['bbb'].mspid }},\n                                { role: { name: 'member', mspId: ORGS['ccc'].mspid }},\n                                { role: { name: 'admin', mspId: ORGS['ddd'].mspid }},\n                                { role: { name: 'admin', mspId: ORGS['eee'].mspid }}\n                        ],\n                        policy: {\n                                '1-of': [\n                                        { 'signed-by': 3},\n                                { 'signed-by': 4},\n                                        { '2-of': [{ 'signed-by': 0}, { 'signed-by': 1 }, {'signed-by': 2}]}\n                                ]\n                        }\n                }```","username":"Amjadnz","ts":"2018-05-10T22:54:56.148Z"}
{"msg":"Can someone put some additional light on the issue faced today?","username":"Amjadnz","ts":"2018-05-11T00:15:53.957Z"}
{"msg":"What if we submit a transaction when the peer is still waiting on some proposal responses. In my case the next service is hanging till all the nodes endorse the transaction and then only I can place new transactions - any help is greatly appreciated.","username":"Amjadnz","ts":"2018-05-11T00:16:05.801Z"}
{"msg":"So I have a TX-1 (with 3 peers to endorse) - takes 30 seconds\nI have a TX-2 (if tried within 30 seconds (the about timings) - I get  a timeout from NODE","username":"Amjadnz","ts":"2018-05-11T00:17:11.684Z"}
{"msg":"So I have a TX-1 (with 3 peers to endorse) - takes 30 seconds\nI have a TX-2 (if tried within 30 seconds (the about timings) - I get  a timeout from NODE . After that there is a quite period of 10 seconds and the process resumes.","username":"Amjadnz","ts":"2018-05-11T00:17:11.684Z"}
{"msg":"So I have a TX-1 (with 3 peers to endorse) - takes 30 seconds\nI have a TX-2 (if tried within 30 seconds (the above timings) - I get  a timeout from NODE . After that there is a quite period of 10 seconds and the process resumes.","username":"Amjadnz","ts":"2018-05-11T00:17:11.684Z"}
{"msg":"If I try TX-2 after the first one is completed then all goes fine","username":"Amjadnz","ts":"2018-05-11T00:17:22.721Z"}
{"msg":"The above process effects query too - the query timesout while reading changed datasets, the retries itself to confirm all transactions","username":"Amjadnz","ts":"2018-05-11T00:19:42.964Z"}
{"msg":"The above process effects query too - the query timesout while reading changed datasets, the retries itself to return all transactions","username":"Amjadnz","ts":"2018-05-11T00:19:42.964Z"}
{"msg":"Environment - DOCKER/RHEL7.3/Docker/Docker-compose","username":"Amjadnz","ts":"2018-05-11T00:20:39.094Z"}
{"msg":"Can someone provide me some insights to the below logs: The couch DB is taking too much time to save the DB\n```2018-05-11 13:22:02.467 UTC [couchdb] handleRequest -> DEBU b94 Entering handleRequest()  method=GET  url=http://couchdb_sca02:5984/agmchannel/agmaccounttransactions%00EA3387ED-075E-4017-888E-E5DFA72BD335?attachments=true\n2018-05-11 13:22:02.467 UTC [couchdb] handleRequest -> DEBU b95 HTTP Request: GET /agmchannel/agmaccounttransactions%00EA3387ED-075E-4017-888E-E5DFA72BD335?attachments=true HTTP/1.1 | Host: couchdb_sca02:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  |\n2018-05-11 13:22:12.496 UTC [couchdb] handleRequest -> DEBU b96 Couch DB Error:not_found,  Status Code:404,  Reason:missing\n2018-05-11 13:22:12.496 UTC [couchdb] ReadDoc -> DEBU b97 Document not found (404), returning nil value instead of 404 error\n2018-05-11 13:22:12.496 UTC [couchdb] handleRequest -> DEBU b98 Entering handleRequest()  method=PUT  url=http://couchdb_sca02:5984/agmchannel/agmaccounttransactions%00EA3387ED-075E-4017-888E-E5DFA72BD335\n2018-05-11 13:22:12.496 UTC [couchdb] handleRequest -> DEBU b99 HTTP Request: PUT /agmchannel/agmaccounttransactions%00EA3387ED-075E-4017-888E-E5DFA72BD335 HTTP/1.1 | Host: couchdb_sca02:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 817 | Accept: application/json | Content-Type: application/json | Accept-Encoding: gzip |  |```","username":"Amjadnz","ts":"2018-05-11T13:26:35.402Z"}
{"msg":"@Amjadnz That is a keyed lookup that is taking 10 seconds from couchdb.  Keyed lookups in couchdb use a b-tree, and I've always seen them respond instantly. The only exception to that is I've seen the couchdb process halt in some virtualized environments (e.g. docker within vagrant on mac occassionally), and that has been a problem with the environment rather than fabric or couchdb.  In that scenario I discussed in couchdb community and they convinced me it was an environment problem rather than a couchdb problem.  If you think there is any chance it is a couchdb problem rather than an environment problem, please reach out to couchdb community (slack, IRC, jira issue) as described at https://couchdb.apache.org/ and keep us informed of any updates.","username":"dave.enyeart","ts":"2018-05-11T15:17:33.391Z"}
{"msg":"Ok @dave.enyeart - thanks","username":"Amjadnz","ts":"2018-05-11T15:22:07.774Z"}
{"msg":"would check out to see if it is indeed a couch db related issue","username":"Amjadnz","ts":"2018-05-11T15:22:20.345Z"}
{"msg":"am planning to move to LEVEL DB and check if the issue exists (of slowness)","username":"Amjadnz","ts":"2018-05-11T15:22:36.400Z"}
{"msg":"As the trace shows the delay within couchdb,  I would surely expect leveldb would not demonstrate the slowness.  I suspect it is an issue running couchdb process (erlang process) on the particular environment.","username":"dave.enyeart","ts":"2018-05-11T15:26:05.014Z"}
{"msg":"That should work let me try - Thanks again.","username":"Amjadnz","ts":"2018-05-11T15:40:48.962Z"}
{"msg":"I'm getting the following error if i reduce my endorsement-policy to 1 peer:","username":"Amjadnz","ts":"2018-05-11T15:41:08.461Z"}
{"msg":"```2018-05-11 15:37:29.484 UTC [vscc] Invoke -> WARN 241b Endorsement policy failure for transaction txid=39fc27e682dba37929280b701266feeaf01b13fe18251345ea2e42c5c86a409c, err: Failed to authenticate policy\n2018-05-11 15:37:29.484 UTC [shim] func1 -> DEBU 241c [f19309b4]Transaction completed. Sending COMPLETED\n2018-05-11 15:37:29.484 UTC [shim] func1 -> DEBU 241d [f19309b4]Move state message COMPLETED\n2018-05-11 15:37:29.484 UTC [shim] handleMessage -> DEBU 241e [f19309b4]Handling ChaincodeMessage of type: COMPLETED(state:ready)\n2018-05-11 15:37:29.484 UTC [shim] func1 -> DEBU 241f [f19309b4]send state message COMPLETED\n2018-05-11 15:37:29.484 UTC [chaincode] processStream -> DEBU 2420 [f19309b4]Received message COMPLETED from shim\n2018-05-11 15:37:29.484 UTC [chaincode] HandleMessage -> DEBU 2421 [f19309b4]Fabric side Handling ChaincodeMessage of type: COMPLETED in state ready\n2018-05-11 15:37:29.484 UTC [chaincode] HandleMessage -> DEBU 2422 [f19309b4-7683-414c-a178-51434deb6b3a]HandleMessage- COMPLETED. Notify\n2018-05-11 15:37:29.484 UTC [chaincode] notify -> DEBU 2423 notifying Txid:f19309b4-7683-414c-a178-51434deb6b3a\n2018-05-11 15:37:29.484 UTC [chaincode] Execute -> DEBU 2424 Exit\n2018-05-11 15:37:29.484 UTC [txvalidator] VSCCValidateTxForCC -> ERRO 2425 VSCC check failed for transaction txid=39fc27e682dba37929280b701266feeaf01b13fe18251345ea2e42c5c86a409c, error VSCC error: policy evaluation failed, err Failed to authenticate policy\n2018-05-11 15:37:29.484 UTC [lockbasedtxmgr] Done -> DEBU 2426 Done with transaction simulation / query execution [00166af3-83b0-4eee-ae15-e5ed1d3363a9]\n2018-05-11 15:37:29.484 UTC [txvalidator] Validate -> ERRO 2427 VSCCValidateTx for transaction txId = 39fc27e682dba37929280b701266feeaf01b13fe18251345ea2e42c5c86a409c returned error VSCC error: policy evaluation failed, err Failed to authenticate policy```","username":"Amjadnz","ts":"2018-05-11T15:41:13.534Z"}
{"msg":"```2018-05-11 15:37:29.574 UTC [vscc] deduplicateIdentity -> DEBU 2506 Signature set is of size 2 out of 2 endorsement(s)\n2018-05-11 15:37:29.576 UTC [vscc] Invoke -> WARN 2507 Endorsement policy failure for transaction txid=2ac9f26677d21f4b525ec445bd2980415b793bec935f12fd172f94b297c6c403, err: Failed to authenticate policy\n2018-05-11 15:37:29.576 UTC [shim] func1 -> DEBU 2508 [34c15e55]Transaction completed. Sending COMPLETED\n2018-05-11 15:37:29.576 UTC [shim] func1 -> DEBU 2509 [34c15e55]Move state message COMPLETED\n2018-05-11 15:37:29.576 UTC [shim] handleMessage -> DEBU 250a [34c15e55]Handling ChaincodeMessage of type: COMPLETED(state:ready)\n2018-05-11 15:37:29.576 UTC [shim] func1 -> DEBU 250b [34c15e55]send state message COMPLETED\n2018-05-11 15:37:29.576 UTC [chaincode] processStream -> DEBU 250c [34c15e55]Received message COMPLETED from shim\n2018-05-11 15:37:29.576 UTC [chaincode] HandleMessage -> DEBU 250d [34c15e55]Fabric side Handling ChaincodeMessage of type: COMPLETED in state ready\n2018-05-11 15:37:29.576 UTC [chaincode] HandleMessage -> DEBU 250e [34c15e55-9cb8-424b-80e8-7a87b49e1f44]HandleMessage- COMPLETED. Notify\n2018-05-11 15:37:29.576 UTC [chaincode] notify -> DEBU 250f notifying Txid:34c15e55-9cb8-424b-80e8-7a87b49e1f44\n2018-05-11 15:37:29.576 UTC [chaincode] Execute -> DEBU 2510 Exit\n2018-05-11 15:37:29.576 UTC [txvalidator] VSCCValidateTxForCC -> ERRO 2511 VSCC check failed for transaction txid=2ac9f26677d21f4b525ec445bd2980415b793bec935f12fd172f94b297c6c403, error VSCC error: policy evaluation failed, err Failed to authenticate policy\n2018-05-11 15:37:29.576 UTC [lockbasedtxmgr] Done -> DEBU 2512 Done with transaction simulation / query execution [b5e83e41-13a9-4a99-9ec7-b4b4f1805631]\n2018-05-11 15:37:29.576 UTC [txvalidator] Validate -> ERRO 2513 VSCCValidateTx for transaction txId = 2ac9f26677d21f4b525ec445bd2980415b793bec935f12fd172f94b297c6c403 returned error VSCC error: policy evaluation failed, err Failed to authenticate policy```","username":"Amjadnz","ts":"2018-05-11T15:41:13.534Z"}
{"msg":"Can someone help?","username":"Amjadnz","ts":"2018-05-11T15:41:26.775Z"}
{"msg":"Question 1 : My endorsement policy is actually 1 of 1 but it is showing 2 of 2.\n\n``` 'endorsement-policy': {\n                        identities: [\n                                { role: { name: 'admin', mspId: ORGS['sca'].mspid }}\n                        ],\n                        policy: {\n                                '1-of': [{ 'signed-by': 0}]\n                                }\n                        }```","username":"Amjadnz","ts":"2018-05-11T15:42:12.516Z"}
{"msg":"Thanks in advance.","username":"Amjadnz","ts":"2018-05-11T15:43:25.815Z"}
{"msg":"Ok - when the policy was changed to \"member\" - it is working fine now. \n\nInitial 6 transactions go through - but the seventh one takes 1 minute. ","username":"Amjadnz","ts":"2018-05-11T15:53:46.241Z"}
{"msg":"Once the chain code is migrated to the LEVELDB - all performance issues seems to be resolved. I can now do all tests successfully with the expected volume. \nSo I assume as @dave.enyeart pointed out was a CouchDB issue. Would be taking it with them and fix the issues.\n ","username":"Amjadnz","ts":"2018-05-12T09:28:59.480Z"}
{"msg":"Thanks all for the help and inputs.","username":"Amjadnz","ts":"2018-05-12T09:29:06.178Z"}
{"msg":"what does this error mean when calling `stub.PutState`: ```2018-05-12 23:39:58.644 CST [shim] handlePutState -> ERRO 004 [95c37f35] Received ERROR. Payload: PUT_STATE failed: transaction ID: 95c37f357f71c3b05be3b8b5d323b88e5d13211b2c65cf2f3fb4407330578087: This instance should not be used after calling Done()```\n\n\n","username":"bh4rtp","ts":"2018-05-12T15:52:32.435Z"}
{"msg":"@bh4rtp what release are you on?","username":"dave.enyeart","ts":"2018-05-12T16:45:48.747Z"}
{"msg":"@dave.enyeart i am using the latest master branch. this error did not occur before.","username":"bh4rtp","ts":"2018-05-13T02:18:29.488Z"}
{"msg":"in the current chaincode, i invoke another chaincode where `stub.PutState` is called.","username":"bh4rtp","ts":"2018-05-13T02:19:46.757Z"}
{"msg":"@bh4rtp Please open a Jira defect.  There have been some changes in chaincode and txsimulator recently that may have caused it, let's check with the folks that have worked in that area recently - @sykesm @muralisr @manish-sethi @Senthil1 ","username":"dave.enyeart","ts":"2018-05-13T10:12:05.627Z"}
{"msg":"Has joined the channel.","username":"sykesm","ts":"2018-05-13T10:12:05.788Z","type":"uj"}
{"msg":"@dave.enyeart @bh4rtp  @sykesm I do see a regression in the invokechaincode execute path but not sure if that's the cause of your issue. Will put out a fix for that and we can go from there","username":"muralisr","ts":"2018-05-13T15:23:48.539Z"}
{"msg":"@dave.enyeart @muralisr ok. thanks.","username":"bh4rtp","ts":"2018-05-14T00:50:33.469Z"}
{"msg":"@bh4rtp if you have some time willl be good to see if this fix resolves your issue https://gerrit.hyperledger.org/r/#/c/21739/","username":"muralisr","ts":"2018-05-14T00:57:37.722Z"}
{"msg":"@muralisr roger. i am pulling down the updates.","username":"bh4rtp","ts":"2018-05-14T00:58:15.681Z"}
{"msg":"ty","username":"muralisr","ts":"2018-05-14T01:10:35.819Z"}
{"msg":"@muralisr the issue is not really solved. now `stub.PutState` is ok, but after `stub.InvokeChaincode` returned, the errors say:\n```2018-05-14 10:41:30.346 CST [shim] handleInvokeChaincode -> ERRO 129 [2343285e] Received 200. Error from chaincode\n2018-05-14 10:41:30.346 CST [Trade_CC] Error -> ERRO 12a failed to invoke bidcheck chaincode, status = 500, message =```\nNo error message was printed.","username":"bh4rtp","ts":"2018-05-14T02:46:47.546Z"}
{"msg":"sorry. i have not compiled using your provided patches, but pull from master branch which was committed three days ago.","username":"bh4rtp","ts":"2018-05-14T03:20:19.411Z"}
{"msg":"@muralisr great. your patch does work. the issue is solved. :thumbsup:","username":"bh4rtp","ts":"2018-05-14T03:45:13.636Z"}
{"msg":"Has joined the channel.","username":"versus","ts":"2018-05-14T09:06:38.143Z","type":"uj"}
{"msg":"thanks for testing @bh4rtp ","username":"muralisr","ts":"2018-05-14T13:12:51.328Z"}
{"msg":"Has joined the channel.","username":"umapm113","ts":"2018-05-16T07:19:33.546Z","type":"uj"}
{"msg":"@muralisr @dave.enyeart the state database for couchdb support the `index`","username":"asaningmaxchain123","ts":"2018-05-16T14:42:03.756Z"}
{"msg":"if it supports,please give me a example","username":"asaningmaxchain123","ts":"2018-05-16T15:09:29.595Z"}
{"msg":"@asaningmaxchain123 couchdb index support was added in v1.1, see details here:","username":"dave.enyeart","ts":"2018-05-16T15:15:19.834Z"}
{"msg":"http://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html?","username":"dave.enyeart","ts":"2018-05-16T15:15:21.400Z"}
{"msg":"http://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html","username":"dave.enyeart","ts":"2018-05-16T15:15:21.400Z"}
{"msg":"I have a question on CouchDB indexes. When you install chaincode, does it automatically deploy even the index JSON file in META folder.","username":"gauthampamu","ts":"2018-05-16T22:37:43.873Z"}
{"msg":"does peer support only one type of ledger db, i.e. couchdb now? and is every ledger an instance of couchdb database?","username":"bh4rtp","ts":"2018-05-17T01:53:39.006Z"}
{"msg":"@gauthampamu yes any index packaged with the chaincode will be deployed automatically when the chaincode is both installed on the peer and instantiated on the channel.  for more details see http://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html","username":"dave.enyeart","ts":"2018-05-17T04:03:45.586Z"}
{"msg":"@gauthampamu yes any couchdb index packaged with the chaincode will be deployed automatically when the chaincode is both installed on the peer and instantiated on the channel.  for more details see http://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html","username":"dave.enyeart","ts":"2018-05-17T04:03:45.586Z"}
{"msg":"@bh4rtp go-leveldb is the default state database.  couchdb is the optional alternative if you want json query support. for more details see: http://hyperledger-fabric.readthedocs.io/en/latest/ledger/ledger.html","username":"dave.enyeart","ts":"2018-05-17T04:04:55.836Z"}
{"msg":"if you choose couchdb, each peer would have one corresponding instance of couchdb, with a couchdb database within that instance per channel/chaincode.","username":"dave.enyeart","ts":"2018-05-17T04:06:56.186Z"}
{"msg":"@dave.enyeart can you take a look #fabric-peer-endorser-committer ","username":"asaningmaxchain123","ts":"2018-05-17T11:15:25.193Z"}
{"msg":"@asaningmaxchain123 Please review the Private Data demo playback at the bottom of this page first: https://wiki.hyperledger.org/projects/fabric/playbacks .  Then ask any follow-on questions if you still have questions.","username":"dave.enyeart","ts":"2018-05-17T12:51:56.299Z"}
{"msg":"@dave.enyeart i see the video in the youtube. i am going to test it","username":"asaningmaxchain123","ts":"2018-05-17T13:23:24.320Z"}
{"msg":"What is the performance implication of having multiple channels. Do we have any limit on the number of channels on the peer ? Is it recommended to use SideDB from v1.2 to limit the number of channels. ","username":"gauthampamu","ts":"2018-05-21T20:33:23.925Z"}
{"msg":"Initially the number of channels will improve throughput as it enables more parallel processing.  But there are diminishing returns after the resources are saturated, and eventually the overhead of many channels can be a drag, but not a large one.  I think the line of questioning is incorrect though...  better to choose an architecture based on functional requirements and then size the hardware accordingly.  For example use channels if you need complete data isolation, use side db private data if participants should know about transactions, but keep actual data private, and share hashes in order to validate private data that they may later receive.","username":"dave.enyeart","ts":"2018-05-22T03:06:04.895Z"}
{"msg":"Hi All,","username":"pankajcheema","ts":"2018-05-23T06:00:41.926Z"}
{"msg":"While fetching the block from sdk. I can see the transactions in ledger are getting saved with the time stamp of IST ","username":"pankajcheema","ts":"2018-05-23T06:01:17.672Z"}
{"msg":"as you can see here `\"timestamp\": \"Thu May 17 2018 14:27:07 GMT+0530 (IST)\"`","username":"pankajcheema","ts":"2018-05-23T06:01:25.240Z"}
{"msg":"Can it be configured to save it in UTC?","username":"pankajcheema","ts":"2018-05-23T06:01:36.757Z"}
{"msg":"Any help would be appreciated","username":"pankajcheema","ts":"2018-05-23T06:02:18.190Z"}
{"msg":"Thanks","username":"pankajcheema","ts":"2018-05-23T06:02:20.149Z"}
{"msg":"Has joined the channel.","username":"AnkitSingh5","ts":"2018-05-24T06:22:03.674Z","type":"uj"}
{"msg":"Hi,\n\nI have installed the chaincode and it got successful but facing this error when trying to instantiate the chaincode - \n`ERRO 692 [[e9585782 PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)\nERRO 6a2 [bloqchannel][e9585782] failed to invoke chaincode name:\"lscc\" , error: timeout expired while executing transaction`\n\nI am using Hyperledger Fabric v1.1.0 preview\nI have 2 orgs and 3 peers per org.","username":"AnkitSingh5","ts":"2018-05-24T06:22:17.401Z"}
{"msg":"Hi,\n\nI have installed the chaincode and it got successful but facing this error when trying to instantiate the chaincode - \n</>ERRO 692 [[e9585782 PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)\nERRO 6a2 [bloqchannel][e9585782] failed to invoke chaincode name:\"lscc\" , error: timeout expired while executing transaction</>\n\nI am using Hyperledger Fabric v1.1.0 preview\nI have 2 orgs and 3 peers per org.","username":"AnkitSingh5","ts":"2018-05-24T06:22:17.401Z"}
{"msg":"Hi,\n\nI have installed the chaincode and it got successful but facing this error when trying to instantiate the chaincode - \n`ERRO 692 [[e9585782 PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)\nERRO 6a2 [bloqchannel][e9585782] failed to invoke chaincode name:\"lscc\" , error: timeout expired while executing transaction`\n\nI am using Hyperledger Fabric v1.1.0 preview\nI have 2 orgs and 3 peers per org.","username":"AnkitSingh5","ts":"2018-05-24T06:22:17.401Z"}
{"msg":"Hi,\n\nI have installed the chaincode and it got successful but facing this error when trying to instantiate the chaincode - \n`ERRO 692 [[e9585782 PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)`\n`ERRO 6a2 [bloqchannel][e9585782] failed to invoke chaincode name:\"lscc\" , error: timeout expired while executing transaction`\n\nI am using Hyperledger Fabric v1.1.0 preview\nI have 2 orgs and 3 peers per org.","username":"AnkitSingh5","ts":"2018-05-24T06:22:17.401Z"}
{"msg":"`hi`","username":"AnkitSingh5","ts":"2018-05-24T06:49:45.320Z"}
{"msg":"Has joined the channel.","username":"DivyaAgrawal","ts":"2018-05-25T11:42:40.039Z","type":"uj"}
{"msg":"@AnkitSingh5 Are you using golang or nodejs chaincode? If nodejs, make sure the filename in your package.json's run script is the same as your chaincode. ","username":"amolpednekar","ts":"2018-05-27T14:49:59.200Z"}
{"msg":"Can anyone tell me why the newer CouchDB images are tagged 0.4.x and not 1.1.x ? Has the versioning system changed?","username":"amolpednekar","ts":"2018-05-27T14:50:14.024Z"}
{"msg":"Anyone ever see this?\n```2018-05-25 15:32:42.673 UTC [shim] handlePutState -> ERRO 007 [dcc05043]Received ERROR. Payload: [[dcc05043 PUT_STATE ERROR]]No ledger context for %!s(MISSING). Sending %!s(MISSING)\n2018-05-25 15:32:42.673 UTC [sacc] Errorf -> ERRO 008 [[dcc05043 PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)\n```\n\nThis code was working until I changed how I connect to the network. ","username":"aatkddny","ts":"2018-05-29T12:14:00.387Z"}
{"msg":"@dave.enyeart can you take a look #fabric-peer-endorser-committer ","username":"asaningmaxchain123","ts":"2018-05-29T14:36:05.936Z"}
{"msg":"Has joined the channel.","username":"header340","ts":"2018-05-29T17:17:37.960Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RocMax","ts":"2018-05-29T23:46:13.091Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IgorSim","ts":"2018-05-30T10:12:00.283Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AnilOner","ts":"2018-05-30T12:26:02.628Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vdelbar","ts":"2018-05-30T15:34:25.157Z","type":"uj"}
{"msg":"https://chat.hyperledger.org/channel/fabric-orderer?msg=KCdP3mJHqxpYmG4yR","username":"jyellick","ts":"2018-05-30T17:31:10.162Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-orderer?msg=KCdP3mJHqxpYmG4yR","url":"https://chat.hyperledger.org/channel/fabric-orderer?msg=KCdP3mJHqxpYmG4yR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart @manish-sethi Could you point @sarapara to the sidedb doc/examples","username":"jyellick","ts":"2018-05-30T17:31:52.257Z"}
{"msg":"Has joined the channel.","username":"sarapara","ts":"2018-05-30T17:31:52.411Z","type":"uj"}
{"msg":"@sarapara the side db docs and sample will be merged soon. In the meantime check these resources:\n\nhttps://docs.google.com/document/d/1sdfSIyLvoVW_32LXipm8sgs87oCE7D7bK2eCC0sLH9s/edit\nhttps://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/347/html/private_data_tutorial.html\nhttps://gerrit.hyperledger.org/r/#/c/22255/","username":"dave.enyeart","ts":"2018-05-30T17:35:00.080Z"}
{"msg":"@amolpednekar Yes the versioning system for dependencies (couchdb, kafka) has changed.  The dependencies used to be included in fabric and so the version matched the fabric version.  Now the dependency images are associated with fabric-baseimage which allows them to be used across fabric levels.","username":"dave.enyeart","ts":"2018-05-30T17:39:33.154Z"}
{"msg":"Has joined the channel.","username":"rbole","ts":"2018-05-30T17:51:53.322Z","type":"uj"}
{"msg":"@dave.enyeart, I understand that SideDB feature will be available in V1.2 which is in June but if i want to play around sidedb feature right now how do it go about that?","username":"sarapara","ts":"2018-05-30T18:33:24.164Z"}
{"msg":"@dave.enyeart, I understand that SideDB feature will be available in V1.2 which is in June but if i want to play around sidedb feature right now how do i go about that?","username":"sarapara","ts":"2018-05-30T18:33:24.164Z"}
{"msg":"@sarapara It's working on latest master, you can either setup dev env (http://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/devenv.html). Or pull daily docker images from nexus, these instructions are evolving but you could give it a try: https://github.com/hyperledger/ci-management/blob/master/docs/nexusdocker/nexusdocker_images.md","username":"dave.enyeart","ts":"2018-05-30T19:05:17.548Z"}
{"msg":"Then follow the tutorial/sample I mentioned above for private data","username":"dave.enyeart","ts":"2018-05-30T19:05:33.622Z"}
{"msg":"Has joined the channel.","username":"rogerwilcos","ts":"2018-05-30T23:14:24.063Z","type":"uj"}
{"msg":"I had a question about chaincode to chaincode calls.\n\nLets say there are two channels: \nChannel A, with Org1, Org2, Org3, and chaincode A\nChannel B, with Org1, Org4, Org5 and chaincode B\n\nIf Org1 makes a call from chaincode B on channel B to chaincode A on channel A, who need to be the endorsing peers on Chaincode B to commit this txn? Because if Org4 is also an endorsing peer for Chaincode B, it wont be access to chaincode A to run the function, right? Also, do committing peers (Lets say Org5, in the case) need access to Channel A? Or can they commit  without being members? ","username":"amolpednekar","ts":"2018-06-01T04:35:54.083Z"}
{"msg":"@amolpednekar take a look at the [InvokeChaincode](https://github.com/hyperledger/fabric/blob/release-1.1/core/chaincode/shim/interfaces_stable.go#L65) description, i think that might answer your question","username":"jrosmith","ts":"2018-06-01T04:38:06.940Z"}
{"msg":"Thanks @jrosmith , so from my understanding, only Endorsing Peers need to be on both channels for inter-channel calls, correct?","username":"amolpednekar","ts":"2018-06-01T04:47:28.543Z"}
{"msg":"@amolpednekar i dont think thats true, and from the description i don't think inter-channel writes are supported by `InvokeChaincode` based on the following excerpt:\n\n``` Effectively the called chaincode on a different channel is a `Query`, which does not participate in state validation checks in subsequent commit phase.```","username":"jrosmith","ts":"2018-06-01T04:55:27.570Z"}
{"msg":"Yes, what I meant is for the Endorsing peer to able run run the transaction (in chaincodeB; which calls chaincodeA), it needs to be a part of chaincodeA as well, to actually be able to execute the chaincode query, but not the commiting peeers.","username":"amolpednekar","ts":"2018-06-01T04:57:15.001Z"}
{"msg":"Yes, what I meant is for the Endorsing peer to able run run the transaction (in chaincodeB; which calls chaincodeA), it needs to be a part of chaincodeA as well, to actually be able to execute the chaincode query, but not the commiting peers on Channl B.","username":"amolpednekar","ts":"2018-06-01T04:57:15.001Z"}
{"msg":"Yes, what I meant is for the Endorsing peer to able run run the transaction (in chaincodeB; which calls chaincodeA), it needs to be a part of ChannelA as well, to actually be able to execute the chaincode query, but not the commiting peers on Channl B.","username":"amolpednekar","ts":"2018-06-01T04:57:15.001Z"}
{"msg":"i believe the peer would have to be a member of both channels, yes.","username":"jrosmith","ts":"2018-06-01T04:59:59.493Z"}
{"msg":"Has joined the channel.","username":"Kyroy","ts":"2018-06-01T10:38:08.153Z","type":"uj"}
{"msg":"I currently have a channel where (when querying the last block) `LastConfigFromBlock` points to block 1734, but actually, block 1735 is the CONFIG block.\nBlock 1734 is a ENDORSER_TRANSACTION\n\nHow can this happen?","username":"Kyroy","ts":"2018-06-01T10:39:27.159Z"}
{"msg":"GetLastConfigFromBlock: https://github.com/hyperledger/fabric-sdk-go/blob/master/pkg/fab/resource/config.go#L110","username":"Kyroy","ts":"2018-06-01T10:40:53.244Z"}
{"msg":"Has joined the channel.","username":"demonkm","ts":"2018-06-03T02:27:38.936Z","type":"uj"}
{"msg":"Hi. Question on sidedb design: let's say there are three orgs in a channel. Only two orgs wants to share data with each privately. Wt would happen if one org doesn't get the privateRW set data from another org and also the client doesn't have access to the private data anymore?","username":"niteshsolanki","ts":"2018-06-04T16:00:11.877Z"}
{"msg":"Hi. Question on sidedb design: let's say there are three orgs in a channel. Only two orgs wants to share data with each other privately. Wt would happen if one org doesn't get the privateRW set data from another org and also the client doesn't have access to the private data anymore?","username":"niteshsolanki","ts":"2018-06-04T16:00:11.877Z"}
{"msg":"@niteshsolanki The peers that endorsed the transaction would always have the private data so you'd have to query one of them to get it.  To avoid such problem, it is recommended to set the requiredPeerCount and maxPeerCount high enough such that there are guarantees that the endorsing peers disseminate the private data to other members of the collection.","username":"dave.enyeart","ts":"2018-06-04T17:22:10.679Z"}
{"msg":"In Fabric V1.1, is it possible to do cross-channels query ? Or is it available only in the future release?","username":"sarapara","ts":"2018-06-04T19:37:04.248Z"}
{"msg":"@sarapara you can use [InvokeChaincode](https://github.com/hyperledger/fabric/blob/release-1.1/core/chaincode/shim/interfaces_stable.go#L65)","username":"jrosmith","ts":"2018-06-05T03:50:46.745Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=CZNJj5FCZCSFRxPhg) @jrosmith the ENDORSING peer, yes?","username":"amolpednekar","ts":"2018-06-05T09:46:32.478Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=CZNJj5FCZCSFRxPhg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=CZNJj5FCZCSFRxPhg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart I had posted this question on #fabric-sdk-node Can you tell me who can answer this question. What is the max limit or the optimum size for the query data.  https://chat.hyperledger.org/channel/fabric-sdk-node?msg=2TMtWCoAAvmnBxAyH","username":"gauthampamu","ts":"2018-06-05T12:34:26.478Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-node?msg=2TMtWCoAAvmnBxAyH","url":"https://chat.hyperledger.org/channel/fabric-sdk-node?msg=2TMtWCoAAvmnBxAyH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@gauthampamu what types of queries?  Which state database?","username":"dave.enyeart","ts":"2018-06-05T13:25:24.505Z"}
{"msg":"CouchDB and queries supported by CouchDB. I understand we might not have limitation at the query level but my concern is with the data returned by the Fabric Node SDK.","username":"gauthampamu","ts":"2018-06-05T21:22:12.775Z"}
{"msg":"@dave.enyeart CouchDB and queries supported by CouchDB. I understand we might not have limitation at the query level but my concern is with the data returned by the Fabric Node SDK.","username":"gauthampamu","ts":"2018-06-05T21:22:12.775Z"}
{"msg":"@muralisr hi, remember invokechaincode question i asked? the master branch still has something wrong with it. now there is no error with invokechaincode but the sdk client invoke chaincode failed. i cannot find any message about the cause from container logging.","username":"bh4rtp","ts":"2018-06-06T00:39:28.848Z"}
{"msg":"@muralisr hi, remember the `InvokeChaincode` question i asked? the master branch still has something wrong with it. now there is no error with `InvokeChaincode` but the sdk client fails in case of invoking chaincode with another chaincode invocation. i cannot find any message about the cause from container logging.","username":"bh4rtp","ts":"2018-06-06T00:39:28.848Z"}
{"msg":"@muralisr hi, remember the `InvokeChaincode` question i asked? the master branch still has something wrong with it. now there is no error with `InvokeChaincode` but the sdk client fails to invoke chaincode in which invokes another chaincode. i cannot find any message about the cause from container logging.","username":"bh4rtp","ts":"2018-06-06T00:39:28.848Z"}
{"msg":"@muralisr sdk client printed one endorsement is good while another one is bad.","username":"bh4rtp","ts":"2018-06-06T06:08:36.127Z"}
{"msg":"@muralisr i found the reason. `InvokeChaincode` was just committed to `dev-peer0.org1.example.com-bidcheck-v2` while `dev-peer0.org2.example.com-bidcheck-v2` was not.","username":"bh4rtp","ts":"2018-06-06T06:54:13.829Z"}
{"msg":"@muralisr i found the reason. `InvokeChaincode` was just committed to `dev-peer0.org1.example.com-bidcheck-v2` ok while `dev-peer0.org2.example.com-bidcheck-v2` failed with error.","username":"bh4rtp","ts":"2018-06-06T06:54:13.829Z"}
{"msg":"@muralisr i found the reason. `InvokeChaincode` was successfully executed in `dev-peer0.org1.example.com-bidcheck-v2`, while `dev-peer0.org2.example.com-bidcheck-v2` failed with an error.","username":"bh4rtp","ts":"2018-06-06T06:54:13.829Z"}
{"msg":"the endorsement peers are  `peer0.org1.example.com` and `peer0.org2.example.com`.","username":"bh4rtp","ts":"2018-06-06T06:55:27.497Z"}
{"msg":"from node sdk client, i invoke `bidcheck` to peers `peer0.org1.example.com` and `peer1.org1.example.com`. executing `bidcheck` in `dev-peer0.org1.example.com-bidcheck-v2` was ok, but `dev-peer1.org1.example.com-bidcheck-v2` failed with an error:\n```[shim] handlePutState -> ERRO 004 [a6d0cb7a] Received ERROR. Payload: PUT_STATE failed: transaction ID: a6d0cb7a17429c943bf1e6ad9203a27ec17c496b001dd5cdd171b15dab8c8075: This instance should not be used after calling Done()```","username":"bh4rtp","ts":"2018-06-06T06:55:27.497Z"}
{"msg":"Has joined the channel.","username":"wangdong","ts":"2018-06-06T07:04:42.540Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=do9hczevgAjaiJicF) @dave.enyeart The state database is CouchDB and queries will be select queries supported by CouchDB. I understand we might not have limitation at the query level but my question is with the data returned by the Fabric Node SDK.","username":"gauthampamu","ts":"2018-06-06T11:50:33.981Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=do9hczevgAjaiJicF","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=do9hczevgAjaiJicF","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"rake66","ts":"2018-06-06T15:16:33.310Z","type":"uj"}
{"msg":"hello everyone! quick question","username":"rake66","ts":"2018-06-06T15:19:38.492Z"}
{"msg":"is it possible to move the genesis block up the chain every once in a while on the fly?","username":"rake66","ts":"2018-06-06T15:21:28.202Z"}
{"msg":"while also backing up the deleted blocks","username":"rake66","ts":"2018-06-06T15:22:19.154Z"}
{"msg":"i would like to keep the size of the whole ledger under a certain value, the entire history would not be essential for the functioning of the system","username":"rake66","ts":"2018-06-06T15:23:02.930Z"}
{"msg":"Has joined the channel.","username":"vish146","ts":"2018-06-06T18:14:07.212Z","type":"uj"}
{"msg":"@muralisr sorry. the issue is caused by endorsement policy configuration. i configured the endorsement peers as `peer0.org1.example.com` and `peer0.org2.example.com`, but invoked chaincode using `peer0.org1.example.com` and `peer1.org1.example.com`. correct the invocation peers, the issue will be solved.  ","username":"bh4rtp","ts":"2018-06-07T03:00:26.338Z"}
{"msg":"@bh4rtp thanks for letting me know.... also meant to respond with questions but was not sure what to go after","username":"muralisr","ts":"2018-06-07T03:01:25.569Z"}
{"msg":"glad it got resolved","username":"muralisr","ts":"2018-06-07T03:01:40.985Z"}
{"msg":"@gauthampamu I responded through other channels about the query limits from ledger side, but for node sdk specific questions I'd suggest #fabric-sdk-node ","username":"dave.enyeart","ts":"2018-06-07T04:59:32.725Z"}
{"msg":"@rake66 The feature you are talking about is generally called 'checkpoint', it is indeed part of the fabric roadmap, but not yet committed to a specific release","username":"dave.enyeart","ts":"2018-06-07T05:00:16.530Z"}
{"msg":"Upon running some high volume testing, I experienced a failure where all three of my peers failed catastrophically at pretty much the same moment.  Upon inspecting the logs, it seems that the peer started to have issues contacting CouchDB and started to retry in a loop.  This unfortunately occurred at a point where I was pushing some heavy volume and eventually the peers all failed out when they kept receiving blocks and couldn't process them.  That then kicked me over to looking at the Couch logs and there are 0 errors over there.  It all looks pretty normal right up to the point when the peers failed and at that point in time, Couch seems to have started compacting the shards.  By the time it compacted them all, including shutting down the indexes and reopening them, it was about an hour later.  Of course, it only took a second or two for the peer to fail.\n\nWhat am I missing here?  I have tons of questions including why it would take Couch so long to compact (DB was about 0.6 GB in size at this time).  Why are there no errors over there if the peer apparently couldn't reach it?  Does the compaction process make the DB unavailable?  How can I configure couch since it's inside of a docker container?  Can I set the log level or any parameters surrounding the compaction process?\n\nWhat's really odd to me is that all three peers died the same way and within seconds of each other.  I mean, the peers are each running in a VM of their own with the Couch container local to the VM.  So how could the compaction process have started at nearly the same time?  Is compaction triggered by a timer, or a volume/size trigger or something?\n\nSetup:\nFabric 1.1.0, 3rd party images 0.4.6\n(3 zookeepers, 4 kafka brokers, 3 orderers, 3 peers w/ couchdb as statedb)... all running in docker\n3 separate \"app\" servers acting as clients and pushing invoke transactions via node sdk randomly against the three peers","username":"header340","ts":"2018-06-07T17:03:59.893Z"}
{"msg":"In relation to my question earlier about all of my peers dying at the same time... when I bring their docker containers back up it's like they're fresh new peers.  I have to join them back to the channel (which is no big deal), but unfortunately that means that they have to gossip in all of the blocks from the beginning.  I guess I would have expected them to only have to gossip in blocks from the point of failure up to whatever is current.  I suppose my question is more docker related considering I'm using containers.  Is there something with the docker setup that would allow the peer to persist it's state from one startup to another?  Since I'm working with larger datasets it can take a significant amount of time to gossip in all of the blocks.","username":"header340","ts":"2018-06-07T17:16:12.956Z"}
{"msg":"Has joined the channel.","username":"PawelD","ts":"2018-06-07T19:33:45.356Z","type":"uj"}
{"msg":"Has joined the channel.","username":"abraham","ts":"2018-06-08T05:41:28.191Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AbhijeetPal","ts":"2018-06-08T10:17:35.084Z","type":"uj"}
{"msg":"If I need to backup the ledger data at a peer, which folder from the filesystem should I backup? In  the event of a crash of the infrastructure, will I be able to start the peer once I restore the backedup files ?","username":"AbhijeetPal","ts":"2018-06-08T10:17:52.729Z"}
{"msg":"What would be the optimum backup strategy for hyperledger fabric peer and couchdb, given that there are no transaction pruning available according to ","username":"AbhijeetPal","ts":"2018-06-08T10:19:25.331Z"}
{"msg":"What would be the optimum backup strategy for hyperledger fabric peer and couchdb? ","username":"AbhijeetPal","ts":"2018-06-08T10:19:25.331Z"}
{"msg":"Should the peer not reconstruct data from the other peers?","username":"aatkddny","ts":"2018-06-08T12:55:55.603Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=fgLEzASeeGbZRzTYN) @aatkddny The peer certainly *can* reconstruct the data from other peers, however @AbhijeetPal 's question is certainly still valid.  What if you have a significant amount of data in your chain and you don't want to wait for all of the blocks to gossip in.  From my understanding, bootstrapping a new peer with a copy of blocks is indeed possible but I've not personally done it.","username":"header340","ts":"2018-06-08T13:27:17.748Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fgLEzASeeGbZRzTYN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=fgLEzASeeGbZRzTYN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ibCq2MgZvLyZJptwn) @AbhijeetPal I've not done it personally and unfortunately can't give you a step by step, but the chain data should be located at /var/hyperledger/production/ledgersData/chains/chains/","username":"header340","ts":"2018-06-08T13:28:35.431Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ibCq2MgZvLyZJptwn","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ibCq2MgZvLyZJptwn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Tmt8bh7rpeMvLxM5r) @header340 \n\nI'd expect you'd run at least two peers on different devices for HA. That drove my question. I couldn't imagine trying to snapshot the drive and restart from there - how would you ensure that the ledger and couchdb are in sync?","username":"aatkddny","ts":"2018-06-08T14:24:57.479Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Tmt8bh7rpeMvLxM5r","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Tmt8bh7rpeMvLxM5r","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=QpSirhL55hWnGo999) @aatkddny Yes, you should be running more than one peer regardless, assuming you want to have any fault tolerance at all.  But in my case I've been pushing quite heavy volumes and to bring up a new peer (or restore a failed peer) can take several hours.  There is just a lot of data that needs to be gossip'd in.  However, if you copy the actual blockfiles from a healthy peer and move them over to your new peer I thought that essentially bootstrapped the chain itself and would remove the need to gossip in the blocks.  Again, I haven't done this but I do believe I've read about it being done.  As for Couch, I thought any time you restart the peer it rebuilds the world state within Couch.  So I don't see there being problems keeping the ledger and couch in sync.","username":"header340","ts":"2018-06-08T14:29:48.809Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=QpSirhL55hWnGo999","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=QpSirhL55hWnGo999","remote":true,"fileId":null,"fileName":null}]}
{"msg":"hi, i have a question about transaction count. in my testing fabric network, there are 3 chaincodes `trade`, `check` and `clearing`. and i invoke 36 times of `trade` chaincode, in which one invokes `check` chaincode to put state, and one invokes `clearing` chaincode to put state too. but in the chaincodes page of `blockchain-explorer`, it reads `trade` has 34 transactions, `bid` has 0 transaction, `clearing` has 1 transaction. why does `bid` have no transactions while `clearing` have one transaction?  ","username":"bh4rtp","ts":"2018-06-09T12:25:38.153Z"}
{"msg":"hi, i have a question about transaction count. in my testing fabric network, there are 3 chaincodes, i.e. `trade`, `check` and `clearing`. and i invoke 36 times of chaincode `trade`, in which one invokes chaincode `check` to put state, and one invokes chaincode `clearing` to put state too. but in the CHAINCODES page of `blockchain-explorer`, it reads `trade` has 34 transactions, `bid` has 0 transaction, `clearing` has 1 transaction. \nwhy does `bid` have no transactions while `clearing` have one transaction?  ","username":"bh4rtp","ts":"2018-06-09T12:25:38.153Z"}
{"msg":"hi, i have a question about transaction count. in my testing fabric network, there are 3 chaincodes, i.e. `trade`, `check` and `clearing`. and i invoke 36 times of chaincode `trade`, in which one invokes chaincode `check` and puts a state, and one invokes chaincode `clearing` and puts a state too. but in the CHAINCODES page of `blockchain-explorer`, it reads `trade` has 34 transactions, `bid` has 0 transaction, `clearing` has 1 transaction. \nwhy does `bid` have no transactions while `clearing` have one transaction?  ","username":"bh4rtp","ts":"2018-06-09T12:25:38.153Z"}
{"msg":"@AbhijeetPal @aatkddny @header340 You are generally correct. Please see the ledger backup description here for details: https://jira.hyperledger.org/browse/FAB-3364","username":"dave.enyeart","ts":"2018-06-10T09:45:29.602Z"}
{"msg":"@header340 I do not know the cause of your failures.  Are they reproducible? If so, please open a Jira bug with full details of reproduction steps. ","username":"dave.enyeart","ts":"2018-06-10T09:46:48.455Z"}
{"msg":"@header340 By default the docker container data is ephemeral. To persist the data, see this topic: http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence","username":"dave.enyeart","ts":"2018-06-10T09:47:59.127Z"}
{"msg":"Has joined the channel.","username":"YashGanthe","ts":"2018-06-11T08:47:53.170Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=uj6RorZqJke2hgCvJ) @dave.enyeart This https://jira.hyperledger.org/browse/FAB-3364 accompanied with peer and couchdb data persistence would certainly help in case of significant volumes of data","username":"AbhijeetPal","ts":"2018-06-11T08:59:34.502Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=uj6RorZqJke2hgCvJ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=uj6RorZqJke2hgCvJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Is there a simple way to set block size? I'm getting 10 tx/block with a set of basic puts and I'd like to up it to increase throughput. ","username":"aatkddny","ts":"2018-06-11T13:38:17.887Z"}
{"msg":"Is there a simple way to set block size? I'm getting 10 tx/block with a set of basic puts and I'd like to up it to increase throughput. \n```\n2018-06-11 13:28:03.957 UTC [kvledger] CommitWithPvtData -> INFO 071 Channel [stationchannel]: Committed block [1] with 1 transaction(s)\n2018-06-11 13:29:18.113 UTC [kvledger] CommitWithPvtData -> INFO 072 Channel [stationchannel]: Committed block [2] with 10 transaction(s)\n2018-06-11 13:29:18.602 UTC [kvledger] CommitWithPvtData -> INFO 073 Channel [stationchannel]: Committed block [3] with 10 transaction(s)\n2018-06-11 13:29:18.833 UTC [kvledger] CommitWithPvtData -> INFO 074 Channel [stationchannel]: Committed block [4] with 10 transaction(s)\n2018-06-11 13:29:19.074 UTC [kvledger] CommitWithPvtData -> INFO 075 Channel [stationchannel]: Committed block [5] with 10 transaction(s)\n2018-06-11 13:29:19.305 UTC [kvledger] CommitWithPvtData -> INFO 076 Channel [stationchannel]: Committed block [6] with 10 transaction(s)\n2018-06-11 13:29:19.660 UTC [kvledger] CommitWithPvtData -> INFO 077 Channel [stationchannel]: Committed block [7] with 10 transaction(s)\n2018-06-11 13:29:19.818 UTC [kvledger] CommitWithPvtData -> INFO 078 Channel [stationchannel]: Committed block [8] with 10 transaction(s)\n```","username":"aatkddny","ts":"2018-06-11T13:38:17.887Z"}
{"msg":"Is there a simple way to set block size? I'm getting 10 tx/block with a set of basic puts and I'd like to up it to increase throughput. I have 200 threads running against this thing and the time to cut the block is proving a limiting factor.\n```\n2018-06-11 13:28:03.957 UTC [kvledger] CommitWithPvtData -> INFO 071 Channel [stationchannel]: Committed block [1] with 1 transaction(s)\n2018-06-11 13:29:18.113 UTC [kvledger] CommitWithPvtData -> INFO 072 Channel [stationchannel]: Committed block [2] with 10 transaction(s)\n2018-06-11 13:29:18.602 UTC [kvledger] CommitWithPvtData -> INFO 073 Channel [stationchannel]: Committed block [3] with 10 transaction(s)\n2018-06-11 13:29:18.833 UTC [kvledger] CommitWithPvtData -> INFO 074 Channel [stationchannel]: Committed block [4] with 10 transaction(s)\n2018-06-11 13:29:19.074 UTC [kvledger] CommitWithPvtData -> INFO 075 Channel [stationchannel]: Committed block [5] with 10 transaction(s)\n2018-06-11 13:29:19.305 UTC [kvledger] CommitWithPvtData -> INFO 076 Channel [stationchannel]: Committed block [6] with 10 transaction(s)\n2018-06-11 13:29:19.660 UTC [kvledger] CommitWithPvtData -> INFO 077 Channel [stationchannel]: Committed block [7] with 10 transaction(s)\n2018-06-11 13:29:19.818 UTC [kvledger] CommitWithPvtData -> INFO 078 Channel [stationchannel]: Committed block [8] with 10 transaction(s)\n```","username":"aatkddny","ts":"2018-06-11T13:38:17.887Z"}
{"msg":"@aatkddny yeah, in the config tx yaml. Batch timeout sets how long it waits until committing a block with whatever it has. batch size is the maximum number of transactions it includes. max bytes is the absolute maximum size for a block and prefered max bytes is a soft limit for the size. as in if it has some room for one more transaction but that transaction brings you over prefered max size, it puts it in anyway. if the transaction would put you over max bytes as well, it leaves it out and puts it in the next block","username":"rake66","ts":"2018-06-11T16:09:58.347Z"}
{"msg":"configtx meaning you have to build the things? not exactly what i had in mind for simple. ","username":"aatkddny","ts":"2018-06-11T17:18:48.572Z"}
{"msg":"hi,\nI faced this error on the peer couchdb issue , peer cannot be started again (v1.1.0 fabric). It worked normal until I did some invoking chaincode, then It stopped.\n`panic: Error during commit to txmgr:Couch DB Error:illegal_docid,  Status Code:400,  Reason:Only reserved document ids may start with underscore.`\nhow to overcome in this situation.\npeer log: https://hastebin.com/axeyidogec.go","username":"Ryan2","ts":"2018-06-12T07:54:19.608Z"}
{"msg":"@aatkddny well, you can also change it on the fly with configtxlator, but that's not necessarily simpler","username":"rake66","ts":"2018-06-12T14:14:39.425Z"}
{"msg":"So no matter what one does there's no way to change the block cut time or size without surgery. One would have thought it would be configurable as an orderer property somewhere, either for the fabric as a whole or for the individual channel.","username":"aatkddny","ts":"2018-06-12T14:19:38.584Z"}
{"msg":"Can some one pls help to confirm if my state db is leveldb then can I use composite key queries?  I did read the doc but not able to get a confirmed answer.  Also if I could, appreciate it if you could show me the composite key queries syntax (an example is good enough) for leveldb","username":"l1nux","ts":"2018-06-12T17:01:31.125Z"}
{"msg":"@Ryan2 are you trying to use a string that starts with an underscore as a key in a `PutState` call?","username":"jrosmith","ts":"2018-06-12T18:08:25.148Z"}
{"msg":"@aatkddny no, not really. one orderer should not be able to mandate that there is a new time to cut. if a network needs to change the channel's time to cut, requisite members of that network need to agree as to what that time to cut is.","username":"jrosmith","ts":"2018-06-12T18:11:56.136Z"}
{"msg":"if you want one organization to be the arbiter of the network, you can make an endorsement policy where changes to network configurations requires the signature of that organizations admin","username":"jrosmith","ts":"2018-06-12T18:12:44.876Z"}
{"msg":"@l1nux the [marbles chaincode](https://github.com/hyperledger/fabric-samples/blob/release/chaincode/marbles02/marbles_chaincode.go#L208) example has syntax for setting composite keys and querying based on them","username":"jrosmith","ts":"2018-06-12T18:14:07.315Z"}
{"msg":"@jrosmith thanks, ok... would I be able to make composite-key queries with my state db is leveldb","username":"l1nux","ts":"2018-06-12T18:15:39.450Z"}
{"msg":"@l1nux yes i believe you should able to ","username":"jrosmith","ts":"2018-06-12T18:16:43.461Z"}
{"msg":"","username":"yacovm","ts":"2018-06-12T18:18:36.106Z","attachments":[{"type":"file","title":"Clipboard - June 12, 2018 9:18 PM","title_link":"/file-upload/NzNbRkMgakBD3DesN/Clipboard%20-%20June%2012,%202018%209:18%20PM","image_url":"/file-upload/NzNbRkMgakBD3DesN/Clipboard%20-%20June%2012,%202018%209:18%20PM","image_type":"image/png","image_size":3508,"url":"/file-upload/NzNbRkMgakBD3DesN/Clipboard%20-%20June%2012,%202018%209:18%20PM","remote":false,"fileId":"NzNbRkMgakBD3DesN","fileName":"Clipboard - June 12, 2018 9:18 PM"}]}
{"msg":"> So no matter what one does there's no way to change the block cut time or size without surgery\nIt's configured in the configtx.yaml at the channel creation time.... @aatkddny ","username":"yacovm","ts":"2018-06-12T18:19:06.874Z"}
{"msg":"but I have to say i really like your analogy. ","username":"yacovm","ts":"2018-06-12T18:19:17.203Z"}
{"msg":"I see it there now. So I can tune by channel at create time, which will suffice.","username":"aatkddny","ts":"2018-06-12T22:53:08.749Z"}
{"msg":"Hi @jrosmith , In my chaincode, none of key starting with underscore in `Put_State` call,\nThe situation is, my network working normal, when I perform some load test, it was fine, but suddenly pump into peer stopped with this error,\nI tried to recover, the couchdb recovery was fine til to the point it broke (you can see the recovery of couchdb full log here https://hastebin.com/obafaxoquq.go)\n","username":"Ryan2","ts":"2018-06-13T01:12:19.868Z"}
{"msg":"Hi @jrosmith , In my chaincode, none of key starting with underscore in `Put_State` call,\nThe situation is, my network working normal, when I perform some load test, it was fine, but suddenly pump into peer stopped error as mentioned,\nI tried to recover, the couchdb recovery was fine til to the point it broke (you can see the recovery of couchdb full log here https://hastebin.com/obafaxoquq.go)\n","username":"Ryan2","ts":"2018-06-13T01:12:19.868Z"}
{"msg":"hi, is privacy enabled ledger still developing? and does it affect client?","username":"bh4rtp","ts":"2018-06-13T01:23:22.786Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=38N6k4WvbSov8fLn9) @Ryan2 - the error is not about the a key starting with an underscore. It's about the name of one of the fields in your JSON value happens to start with an underscore. Can you check and confirm if this is the case?","username":"manish-sethi","ts":"2018-06-13T03:36:39.018Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=38N6k4WvbSov8fLn9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=38N6k4WvbSov8fLn9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=38N6k4WvbSov8fLn9) @Ryan2 - the error is not about the a key starting with an underscore. It's about the name of one of the fields in your JSON value happens to start with an underscore. Can you check and confirm if this is the case?","username":"manish-sethi","ts":"2018-06-13T03:36:39.018Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=38N6k4WvbSov8fLn9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=38N6k4WvbSov8fLn9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@bh4rtp Private data feature is complete in master and will be delivered as part of v1.2.  The only impact to the client is that client passes the collection config as part of chaincode instantiation, as described in this upcoming doc topic: https://gerrit.hyperledger.org/r/#/c/22817/3/docs/source/private-data-arch.rst","username":"dave.enyeart","ts":"2018-06-13T04:57:19.247Z"}
{"msg":"@dave.enyeart thanks. are there any differences between reading or writing public data and private data from the respective of client?","username":"bh4rtp","ts":"2018-06-13T07:35:12.789Z"}
{"msg":"@dave.enyeart i have a further question on private data. the endorsement peers and authorized peers have copies of private data with blockToLive configurable (at least 1). but how to guarantee that the endorsement peer outside the authorized organization rebuild the peer docker image and save the private data into its own database permanently?  ","username":"bh4rtp","ts":"2018-06-13T07:52:22.003Z"}
{"msg":"hi @manish-sethi , you are right, actually, I sent invoking transaction which starting with underscore for 1 field, and this error happened. \nI tried to recover and here is the log the this issue: document id contained underscore at the beginning\nhttps://hastebin.com/vucixoyavu.go\n\nI referred to https://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html\nAs I understood is that in the fabric v1.1.0, in the request, JSON document cannot use the underscore as the starting for any field\n\nSo In my case, issue had already happened, So is it possible to recover and continue using existing fabric network,\nOr abandon this network and avoid underscore?","username":"Ryan2","ts":"2018-06-13T08:00:27.359Z"}
{"msg":"hi @manish-sethi , you are right, actually, I sent invoking transaction which starting with underscore for 1 field, and this error happened. \nI tried to recover and here is the log the this issue: document id contained underscore at the beginning\nhttps://hastebin.com/vucixoyavu.go\n\nI referred to https://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html\nAs I understood is that in the fabric v1.1.0, in the request, JSON document cannot use the underscore as the starting for any field\n\nSo In my case, issue had already happened, I cannot start the peers again due to this error, So is it possible to recover and continue using existing fabric network,\nOr abandon this network and avoid underscore?","username":"Ryan2","ts":"2018-06-13T08:00:27.359Z"}
{"msg":"There is no immediate remedy and would require to develop a patch specifically for this situation - which may take some time. So, if proceeding with a fresh network is a possibility, I would advise to go ahead. If enough folks end up making this mistake, a patch may be worth it. Going forward, we will add this check at the time of simulation so that these mistakes get caught at the simulation time.","username":"manish-sethi","ts":"2018-06-13T08:29:13.920Z"}
{"msg":"thank you @manish-sethi ","username":"Ryan2","ts":"2018-06-13T08:33:21.279Z"}
{"msg":"side db","username":"sarapara","ts":"2018-06-14T05:26:48.060Z"}
{"msg":"Has left the channel.","username":"Kyroy","ts":"2018-06-14T13:37:08.096Z","type":"ul"}
{"msg":"hey all, looking for some help with updating a channel. i have a network with N orgs, and i first updated the [Admin policy](https://hastebin.com/kuqukanepi.pl) to require only the signature of the first organization instead of it being the \"MAJORITY\" rule.\n\nafterwards i tried to do another channel update only using the first organization, updating the [BatchTimeout time](https://hastebin.com/uculafiled.scala) but received a [BAD REQUEST](https://hastebin.com/ogigavojoq.vbs) error. but in my first update i thought i took out the sub policy?\n\n[full original channel configuration](https://hastebin.com/uvovudeqeb.json) and [full config after the first update](https://hastebin.com/ifoqafakuh.json) for reference.","username":"jrosmith","ts":"2018-06-14T15:51:45.821Z"}
{"msg":"@jrosmith I'd suggest post in #fabric-orderer , as the folks over there also deal with channel config items like this","username":"dave.enyeart","ts":"2018-06-14T16:58:59.629Z"}
{"msg":"thanks dave","username":"jrosmith","ts":"2018-06-14T16:59:22.804Z"}
{"msg":"@bh4rtp In terms of interacting with private data from chaincode, the same operations are possible for regular data and private data, see the description in https://gerrit.hyperledger.org/r/#/c/22817/3/docs/source/private-data-arch.rst for more details of the chaincode APIs supported.","username":"dave.enyeart","ts":"2018-06-14T16:59:49.550Z"}
{"msg":"If a new peer comes online or gets rebuilt, if the peer is a member of the private data collection it will request the private data from one of the other collection member peers as it commits the blocks, and will commit the private data to private state db at the same time.  If the peer is NOT a member of the private data collection, it will not request the private data (nor will other members provide the private data if asked).","username":"dave.enyeart","ts":"2018-06-14T17:02:53.264Z"}
{"msg":"@dave.enyeart Is there support for Views with Map Reduce capability in CouchDB. Can we generate a report that aggregates data. For example can we generate the result set with composite key and aggregate (sum/averages) the columns. ","username":"gauthampamu","ts":"2018-06-14T21:22:22.970Z"}
{"msg":"@dave.enyeart Is there support for Views with Map Reduce capability in CouchDB. Can we generate a report that aggregates data. For example can we generate the result set with composite key and aggregate (sum/averages) the attributes. ","username":"gauthampamu","ts":"2018-06-14T21:22:22.970Z"}
{"msg":"I am getting this error while trying to instantiate chaincode on peer1 of org1.\n\nNodeJS console error :\n\n`Failed to send Proposal and receive all good ProposalResponse\nFailed to instantiate. cause:Failed to send Proposal and receive all good ProposalResponse\n(node:25005) UnhandledPromiseRejectionWarning: Error: Failed to instantiate. cause:Failed to send Proposal and receive all good ProposalResponse`\n\nBlockchain console error :\n\n`ERRO 692 [[e9585782 PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)\nERRO 6a2 [bloqchannel][e9585782] failed to invoke chaincode name:\"lscc\" , error: timeout expired while executing transaction`\n\nI am using Hyperledger Fabric 1.1 and Hyperledger fabric node SDK. The nodeJS version is 8.11.2. The chaincode is in golang.\n\nAny help is appreciated.","username":"AnkitSingh5","ts":"2018-06-15T06:46:58.901Z"}
{"msg":"Has joined the channel.","username":"paulananth","ts":"2018-06-15T12:19:38.063Z","type":"uj"}
{"msg":"/ ","username":"knagware9","ts":"2018-06-15T15:44:37.744Z"}
{"msg":"Hello  All,  when using CouchDB, if I delete a key/value in the chaincode, will at some point after the commit, the couchdb documents associated with the key be automatically cleaned up?   Is there and housekeeping required ? Does the fabric keep a document with a record that the key was deleted ?\n\nI'm assuming its good practice to get rid of key/values that are no longer required.    \n\nI realise the history of the key value will be retained in the ledger. ","username":"rsherwood","ts":"2018-06-15T17:08:27.929Z"}
{"msg":"@gauthampamu There is a Jira requirement to support CouchDB views: https://jira.hyperledger.org/browse/FAB-5528. It is not yet targeted for a release.  For anything more advanced than the JSON selector queries that are already supported, the recommendation is to listen on the block events and create an external datastore optimized for the types of queries you need. ","username":"dave.enyeart","ts":"2018-06-15T18:09:17.189Z"}
{"msg":"@rsherwood When the chaincode delete key transaction is committed to ledger, the delete will indeed be committed to couchdb state database as well.  For example, if a subsequent chaincode tries to read that key, it will not be found.","username":"dave.enyeart","ts":"2018-06-15T18:10:53.745Z"}
{"msg":"@dave.enyeart i take `marbles02_private` as an example to learn private data. and still have trouble in invoking chaincode. the chaincode was instantiated successfully. but initMarble failed for `Failed disseminating 1 out of 2 private RWSets`.\nThere are different operations and configurations to deal with private data using node sdk, i.e. collections_config.json, `endorsement_policy` and `collections_config` in the instantiate chaincode and `network_config.yaml`. how to make sure they are consistent?","username":"bh4rtp","ts":"2018-06-16T13:05:02.155Z"}
{"msg":"@dave.enyeart i take `marbles02_private` as an example to learn private data. and still have trouble in invoking chaincode. the chaincode was instantiated successfully. but initMarble failed for `Failed disseminating 1 out of 2 private RWSets`.\nThere are different operations and configurations to deal with private data using node sdk, i.e. 1) policy in collections_config.json, 2) `endorsement_policy` and `collections_config` in the instantiate chaincode and 3) endorsement configuration in network yaml file.what are the differences between them?","username":"bh4rtp","ts":"2018-06-16T13:05:02.155Z"}
{"msg":"@dave.enyeart i take `marbles02_private` as an example to learn private data. and still have trouble in invoking chaincode. the chaincode was instantiated successfully. but initMarble failed for `Failed disseminating 1 out of 2 private RWSets`.\nThere are distributed operations and configurations to deal with private data using node sdk, i.e. 1) configtx.yaml file to create channel, 2) policy in collections_config.json, 3) `endorsement_policy` and `collections_config` in the instantiate chaincode and 4) endorsement configuration in network yaml file.what are the relations and differences between them?","username":"bh4rtp","ts":"2018-06-16T13:05:02.155Z"}
{"msg":"@dave.enyeart i take `marbles02_private` as an example to learn private data. and still have trouble in invoking chaincode. the chaincode was instantiated successfully. but initMarble failed for `Failed disseminating 1 out of 2 private RWSets`.\nThere are distributed operations and configurations to deal with private data using node sdk, i.e. 1) configtx.yaml file to create channel, 2) policy in `collections_config.json`, 3) `endorsement_policy` and `collections_config` in the instantiate chaincode and 4) channel peer configurations in network yaml file. what are the relations and differences between them?","username":"bh4rtp","ts":"2018-06-16T13:05:02.155Z"}
{"msg":"@dave.enyeart i take `marbles02_private` as an example to learn private data. and still have trouble in invoking chaincode. the chaincode was instantiated successfully. but initMarble failed for `Failed disseminating 1 out of 2 private RWSets`.\nThere are distributed operations and configurations to deal with private data using node sdk, i.e. 1) configtx.yaml file to create channel, 2) policy in `collections_config.json`, 3) `endorsement_policy` and `collections_config` in the instantiate chaincode and 4) channel peer configurations in network yaml file. what are the relationship and differences between them?","username":"bh4rtp","ts":"2018-06-16T13:05:02.155Z"}
{"msg":"Has joined the channel.","username":"DuncanMuhoro","ts":"2018-06-17T11:01:27.316Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nfrunza","ts":"2018-06-18T13:56:16.333Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Aswath8687","ts":"2018-06-18T19:18:47.078Z","type":"uj"}
{"msg":"hi, one question about CouchDB safe pagination, i found https://jira.hyperledger.org/browse/FAB-2809. Is this feature part of upcoming 1.2 release? And one more thing, is there  chaincode example(or best practice) how pagination can be implemented in 1.1 ?","username":"IgorSim","ts":"2018-06-19T06:49:28.990Z"}
{"msg":"Has joined the channel.","username":"divyank","ts":"2018-06-20T01:16:27.350Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hnadim","ts":"2018-06-20T18:39:14.693Z","type":"uj"}
{"msg":"Has anyone actually successfully backed up and restored the ledger when running hyperledger fabric with Kafka.  I can't get it to work.  Should I be able to backup the ledger stored on the orderer?  Am I expected to backup Kafka instead?  How can I actually run this in production and have a plan for if I loose the entire cluster?  Please help.  Real world experience would be helpful.  ","username":"JackStrohm","ts":"2018-06-21T02:27:51.548Z"}
{"msg":"sbft","username":"tennenjl","ts":"2018-06-21T21:18:02.725Z"}
{"msg":"Has joined the channel.","username":"nvxtien","ts":"2018-06-22T11:26:50.444Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DavidPark","ts":"2018-06-26T23:05:00.252Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alain2sf","ts":"2018-06-27T13:37:11.766Z","type":"uj"}
{"msg":"Has joined the channel.","username":"adave","ts":"2018-06-28T07:19:20.210Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mondraymond","ts":"2018-06-28T16:37:30.939Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sigma67","ts":"2018-07-01T19:51:01.209Z","type":"uj"}
{"msg":"is there an identifier in the peer log in the instantiation when you try to add private data to a chaincode","username":"aatkddny","ts":"2018-07-02T14:35:08.148Z"}
{"msg":"is there an identifier in the peer log in the instantiation when you try to add private data to a chaincode? trying to see if the code does what i think it does. or does it do it the first time it's used?","username":"aatkddny","ts":"2018-07-02T14:35:08.148Z"}
{"msg":"ummm i don't think it's possible @aatkddny ","username":"yacovm","ts":"2018-07-02T15:30:01.093Z"}
{"msg":"how can you add private data during instantiate?","username":"yacovm","ts":"2018-07-02T15:30:12.306Z"}
{"msg":"there is no collection definition","username":"yacovm","ts":"2018-07-02T15:30:20.099Z"}
{"msg":"channel can be between org or between peer? Can I create channel between peers of same org?","username":"knagware9","ts":"2018-07-03T12:57:33.617Z"}
{"msg":"Has joined the channel.","username":"suchith.arodi","ts":"2018-07-03T18:24:49.261Z","type":"uj"}
{"msg":"Has joined the channel.","username":"BabuPallam","ts":"2018-07-04T22:21:00.464Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=eZ9Hh5iizQizui4Ey) @yacovm I wasn't clear enough in my question. \nWhat I *meant* to say was - when I *try* to instantiate a chaincode which uses private data - using an extra definition file as per the instructions, is there anything in the peer at chaincode instantiation time to tell me that it parsed and accepted same. I don't care what it is, a call to the couch container to set up another table, a log message saying something is ok or not, pretty much anything at all I can see that signals to me that my configuration was correct before I go off and write something to test that the private data works how I think it works.\nOr alternately is all the setup done on the first call, and I need to look for errors then?\nHopefully that makes more sense.   ","username":"aatkddny","ts":"2018-07-05T11:29:06.654Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=eZ9Hh5iizQizui4Ey","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=eZ9Hh5iizQizui4Ey","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@aatkddny you can't use private data writes when you instantiate a chaincode","username":"yacovm","ts":"2018-07-05T11:30:09.271Z"}
{"msg":"since you define the collection at instantiation time....","username":"yacovm","ts":"2018-07-05T11:30:19.913Z"}
{"msg":"you can't write private data at the time of instantiation since the collection isn't defined yet in the system","username":"yacovm","ts":"2018-07-05T11:30:36.039Z"}
{"msg":"I get that. And that's my question. Is there anything that says it defined it properly at instantiation time.","username":"aatkddny","ts":"2018-07-05T11:34:04.661Z"}
{"msg":"I'm not trying to write to it. I'm trying to check I defined it correctly.","username":"aatkddny","ts":"2018-07-05T11:34:42.764Z"}
{"msg":"ohhh","username":"yacovm","ts":"2018-07-05T11:34:48.469Z"}
{"msg":"you're asking if is there anything that checks that the collection policy is correctly defined?","username":"yacovm","ts":"2018-07-05T11:35:03.755Z"}
{"msg":"yes.","username":"aatkddny","ts":"2018-07-05T11:35:16.461Z"}
{"msg":"exactly that","username":"aatkddny","ts":"2018-07-05T11:35:21.914Z"}
{"msg":"what would you consider correctly defined?","username":"yacovm","ts":"2018-07-05T11:35:24.530Z"}
{"msg":"able to create. syntactically correct. pretty much anything that says go forward and try to write to it.","username":"aatkddny","ts":"2018-07-05T11:35:55.118Z"}
{"msg":"so recall instantiation is simply an endorsement. ","username":"yacovm","ts":"2018-07-05T11:36:11.873Z"}
{"msg":"the checks are done at commit time (validation)","username":"yacovm","ts":"2018-07-05T11:36:21.956Z"}
{"msg":"so you need to see if the transaction was successfully validated ","username":"yacovm","ts":"2018-07-05T11:36:37.935Z"}
{"msg":"so you are saying that any first time initialization is done at first invoke rather than chaincode instantiation.","username":"aatkddny","ts":"2018-07-05T11:37:21.719Z"}
{"msg":"no","username":"yacovm","ts":"2018-07-05T11:37:41.481Z"}
{"msg":"when you instantiate - you need to wait for the block to be committed","username":"yacovm","ts":"2018-07-05T11:37:53.872Z"}
{"msg":"and then see if the instantiate succeeded or not since it's a transaction","username":"yacovm","ts":"2018-07-05T11:38:07.315Z"}
{"msg":"fiar enough. so the tx success back means it was sound. \ni was hoping to see some evidence in the peer log that it knew there was private data associated with this particular chaincode is all. \nthat way - since i'm using an SDK which adds another level of abstraction - I could be comfortable that it was all good.\ni'll just assume it's all good and try adding some private data.","username":"aatkddny","ts":"2018-07-05T11:40:45.318Z"}
{"msg":"fair enough. so the tx success back means it was sound. \ni was hoping to see some evidence in the peer log that it knew there was private data associated with this particular chaincode is all. \nthat way - since i'm using an SDK which adds another level of abstraction - I could be comfortable that it was all good.\ni'll just assume it's all good and try adding some private data.","username":"aatkddny","ts":"2018-07-05T11:40:45.318Z"}
{"msg":"but the application doesn't have access to the peer log","username":"yacovm","ts":"2018-07-05T11:41:29.851Z"}
{"msg":"no but i do.","username":"aatkddny","ts":"2018-07-05T11:41:37.051Z"}
{"msg":"docker log...","username":"aatkddny","ts":"2018-07-05T11:41:43.820Z"}
{"msg":"Has joined the channel.","username":"elciusferreira","ts":"2018-07-05T19:04:20.692Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ltt1st","ts":"2018-07-06T06:35:20.737Z","type":"uj"}
{"msg":"is there a specific reason why a key version is not just a counter rather than (blockNum,TxID)?","username":"adc","ts":"2018-07-06T12:55:33.297Z"}
{"msg":"With just a counter, it would be difficult to find the previous transaction that modified a key. The blockNum + txID gives you a link back.","username":"sheehan","ts":"2018-07-06T14:21:10.983Z"}
{"msg":"@adc Additionally, with a counter any deletes/re-creates would reset the counter and lead to confusion about state, and therefore a placeholder record with a version would have to remain after the delete, something we didn't want to burden the state database with.","username":"dave.enyeart","ts":"2018-07-06T14:40:08.846Z"}
{"msg":"while i trying to retrive the data frequently, I got the following error in Peer logs\n`2018-07-09 04:06:38.612 UTC [endorser] simulateProposal -> ERRO 79dc0 [smschannel3][26ceb252] failed to invoke chaincode name:\"xxxxx\" , error: timeout expired while executing transaction\ngithub.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:813\ngithub.com/hyperledger/fabric/core/chaincode.Execute\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/exectransaction.go:58\ngithub.com/hyperledger/fabric/core/chaincode.ExecuteChaincode\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincodeexec.go:85\ngithub.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:93\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:132\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).simulateProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:265\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:491\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\n        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:31\ngithub.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler\n        /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:112\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC\n        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:781\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream\n        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:981\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1\n        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:551\nruntime.goexit\n        /usr/local/go/src/runtime/asm_amd64.s:2337\nfailed to execute transaction\nerror executing chaincode\n2018-07-09 04:06:38.627 UTC [chaincode] isValidTxSim -> ERRO 79dc1 [920518c0]No ledger context for GetStateByRange. Sending ERROR\n2018-07-09 04:06:38.629 UTC [dev-org0-peer0-SMS_CC_002-t1] func2 -> INFO 79dc2 2018-07-09 04:06:38.422 UTC [shim] handleGetStateByRange -> ERRO d24b [38e7d93d]Received ERROR\n2018-07-09 04:06:38.632 UTC [dev-org0-peer0-SMS_CC_002-t1] func2 -> INFO 79dc3 2018-07-09 04:06:38.422 UTC [shim] handleGetStateByRange -> ERRO d24c [6361b54f]Received ERROR\n2018-07-09 04:06:38.633 UTC [dev-org0-peer0-SMS_CC_002-t1] func2 -> INFO 79dc4 2018-07-09 04:06:38.426 UTC [shim] handleGetStateByRange -> ERRO d24d [0db44ff4]Received ERROR\n2018-07-09 04:06:38.634 UTC [dev-org0-peer0-SMS_CC_002-t1] func2 -> INFO 79dc5 2018-07-09 04:06:38.426 UTC [shim] handleGetStateByRange -> ERRO d24e [2a96bee3]Received ERROR\n2018-07-09 04:06:38.636 UTC [dev-org0-peer0-SMS_CC_002-t1] func2 -> INFO 79dc6 2018-07-09 04:06:38.430 UTC [shim] handleGetStateByRange -> ERRO d24f [aac6d03e]Received ERROR```\n\n``` `","username":"PyiTheinKyaw","ts":"2018-07-09T04:13:45.696Z"}
{"msg":"Any suggestion ?","username":"PyiTheinKyaw","ts":"2018-07-09T04:14:03.697Z"}
{"msg":"I am trouble :(","username":"PyiTheinKyaw","ts":"2018-07-09T04:14:15.851Z"}
{"msg":"Has joined the channel.","username":"rajivgandhi2010","ts":"2018-07-09T07:07:57.064Z","type":"uj"}
{"msg":"@sheehan @dave.enyeart thanks for the answer. The point is that in this way, it is not possible for a submitting peer to construct a set of transactions with dependencies that it can hope will be merged without conflicts. With the current model, a client has to first submit an endorsed transaction then wait for commit confirmation and then submit another transaction depended on the previous one. ","username":"adc","ts":"2018-07-09T07:08:47.398Z"}
{"msg":"@adc I think there is a (rather ugly) way around this - you can use commutative keys and a custom validation plugin that enforces double spending and other logic, and then when you read the state- you do range queries and infer the data from the updates of the commutative keys","username":"yacovm","ts":"2018-07-09T07:43:49.338Z"}
{"msg":"of course - to make this scale and not bloat you'll have to issue transactions that do \"garbage collection\" to these update keys ","username":"yacovm","ts":"2018-07-09T07:50:50.535Z"}
{"msg":"skip and limit is not working in \"GetQueryResult\". please anyone help me on this?","username":"rajivgandhi2010","ts":"2018-07-09T09:02:07.161Z"}
{"msg":"@rajivgandhi2010 skip and limit is not yet supported.  The intent is to add support for pagination of couchdb queries in v1.3, see https://jira.hyperledger.org/browse/FAB-2809 for discussion.","username":"dave.enyeart","ts":"2018-07-09T10:34:35.460Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=nqEbkfuRBoHmCpzeP) @dave.enyeart Thank you Dave..","username":"rajivgandhi2010","ts":"2018-07-09T10:59:53.218Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nqEbkfuRBoHmCpzeP","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=nqEbkfuRBoHmCpzeP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"josiebhai","ts":"2018-07-09T13:07:59.987Z","type":"uj"}
{"msg":"@adc understand that pain point. We're working on a solution for 1.3.\nhttps://jira.hyperledger.org/browse/FAB-10711\nare you able to share your use case? We're collecting a list to ensure the solution satisfies the problems people are encountering","username":"sheehan","ts":"2018-07-09T13:43:02.298Z"}
{"msg":"Has joined the channel.","username":"xue35","ts":"2018-07-11T03:30:19.259Z","type":"uj"}
{"msg":"I notice idemixgen is not built into fabric-tools docker image. Is that true in v1.2?","username":"xue35","ts":"2018-07-11T03:31:00.480Z"}
{"msg":"Has joined the channel.","username":"NoLimitHoldem","ts":"2018-07-11T06:17:58.971Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jayeshjawale95","ts":"2018-07-11T07:32:27.163Z","type":"uj"}
{"msg":"@sheehan, thanks for the reference :)","username":"adc","ts":"2018-07-11T13:14:23.890Z"}
{"msg":"Has joined the channel.","username":"WadeLu","ts":"2018-07-12T07:34:34.359Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ChanderGovindarajan","ts":"2018-07-13T05:31:12.692Z","type":"uj"}
{"msg":"Hi, I notice that FAB-7330 describes a problem if multiple nodes in the kafka cluster go down as kafka does not flush all data to disk. In  FAB-7330 it describes the circumstances when this was caused by an upgrade, and is fixed by making the upgrade gracefully shut down.       What would happen if the failure was not caused by upgrade but by for example a hardware failure of a server ?   Is there a way of recovering from this scenario.    Is there a possibility for example that one of the orderers  ledgers contain a block with transactions in that the kafka no longer has, and would that matter ?","username":"rsherwood","ts":"2018-07-17T10:46:33.184Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=J6F3Bc4egFNxt2uug) Looking further I see that http://grokbase.com/t/kafka/users/162rashxyz/unable-to-start-kafka-cluster-after-crash-0-8-2-2   mentions a way of getting the Kafka cluster up but with data loss.   What would the orders make of this, and how should the system be recovered ?","username":"rsherwood","ts":"2018-07-17T11:31:27.034Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=J6F3Bc4egFNxt2uug","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=J6F3Bc4egFNxt2uug","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rsherwood Could I ask you to re-post over in #fabric-orderer , as the kafka experts hang out over there...","username":"dave.enyeart","ts":"2018-07-17T12:11:07.167Z"}
{"msg":"Has joined the channel.","username":"louisliu2048","ts":"2018-07-18T02:21:14.491Z","type":"uj"}
{"msg":"Has joined the channel.","username":"madhushreee","ts":"2018-07-18T07:08:50.416Z","type":"uj"}
{"msg":"Has joined the channel.","username":"samir.tata","ts":"2018-07-19T03:55:49.049Z","type":"uj"}
{"msg":"If i restart the system, the ledger data are lost. Is there any way to hold the records?","username":"rajivgandhi2010","ts":"2018-07-19T11:40:55.880Z"}
{"msg":"@rajivgandhi2010 I assume you are using ephemeral docker containers...you'll want to configure docker for data persistence e.g. http://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence","username":"dave.enyeart","ts":"2018-07-19T11:59:19.621Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=NWrzRtvYqBHwMLksj) @dave.enyeart thank you..","username":"rajivgandhi2010","ts":"2018-07-19T12:05:58.832Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NWrzRtvYqBHwMLksj","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=NWrzRtvYqBHwMLksj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"anyone can share me the latest ledger design document? many thanks","username":"richzhao","ts":"2018-07-19T15:05:54.139Z"}
{"msg":"Has joined the channel.","username":"mwenyan","ts":"2018-07-19T17:25:22.421Z","type":"uj"}
{"msg":"Has joined the channel.","username":"raccoonrat","ts":"2018-07-20T07:12:36.457Z","type":"uj"}
{"msg":"@dave.enyeart or any other developer: In which piece of code can I find how the data structure of the chain (incl. update of that structure) is determined? ","username":"SjirNijssen","ts":"2018-07-20T07:44:07.020Z"}
{"msg":"@SjirNijssen It can be difficult to parse through because there are many layers of serialized objects represented as bytes in the protos, but I'd still suggest to start by reading through the proto files. See block structure here as the starting point: https://github.com/hyperledger/fabric/blob/release-1.2/protos/common/common.proto#L161-L176.  The BlockData is an array of Envelopes holding Transactions which have Proposals and ProposalResponses.  Especially see the comments within transaction.proto, proposal.proto, proposal_response.proto.","username":"dave.enyeart","ts":"2018-07-20T11:48:19.794Z"}
{"msg":"@richzhao As a starting point I'd suggest look at the doc http://hyperledger-fabric.readthedocs.io/en/latest/ledger/ledger.html and ledger overview charts in https://jira.hyperledger.org/browse/FAB-758","username":"dave.enyeart","ts":"2018-07-20T11:51:12.283Z"}
{"msg":"thanks @dave.enyeart ","username":"richzhao","ts":"2018-07-20T13:11:11.823Z"}
{"msg":"@dave.enyeart Thanks Dave","username":"SjirNijssen","ts":"2018-07-21T19:48:34.024Z"}
{"msg":"Has joined the channel.","username":"mastreips","ts":"2018-07-22T13:51:51.727Z","type":"uj"}
{"msg":"Hello everyone, Can anyone help? I am getting the issue \"[[69b0d0ec PUT_STATE ERROR]]No ledger context for %!!(MISSING)s(MISSING). Sending %!!(MISSING)s(MISSING)\" while instantiating the chaincode using cli container","username":"anzalbeg","ts":"2018-07-23T10:52:28.598Z"}
{"msg":"@sykesm Any clue on the above error?  Just curious if the message may have gotten mangled during the chaincode refactoring?","username":"dave.enyeart","ts":"2018-07-23T11:55:53.435Z"}
{"msg":"Has joined the channel.","username":"Kyroy","ts":"2018-07-23T12:50:09.076Z","type":"uj"}
{"msg":"What is the best way to manually create a minimal block that is accepted by the peer?\nCurrently I fail in the VerifyBlock method in the peer beause\n```ERRO 24b [my-channel] Error verifying block with sequnce number 15725, due to Failed getting channel id from block with id [15725] on channel [my-channel]: [failed to retrieve channel id - block is empty]\n```\nbecause my block does not contain any transactions.\nhttps://github.com/hyperledger/fabric/blob/5a6e86267d8436be1c862b9d542e0c21f60fbe7b/peer/gossip/mcs.go#L120","username":"Kyroy","ts":"2018-07-23T12:57:27.174Z"}
{"msg":"@anzalbeg what version of fabric?","username":"sykesm","ts":"2018-07-23T19:29:06.818Z"}
{"msg":"@dave.enyeart fwiw, the log message referenced by @anzalbeg does not exist in 1.2 so it's pre-refactor.","username":"sykesm","ts":"2018-07-23T19:56:00.836Z"}
{"msg":"Has joined the channel.","username":"Wilsonli","ts":"2018-07-24T13:47:53.898Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=TY9oriuq4rJ2zCMgC) @sykesm by the way i am also getting teh same issue while deploying fabric on kubernetes","username":"javrevasandeep","ts":"2018-07-24T14:59:39.894Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TY9oriuq4rJ2zCMgC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TY9oriuq4rJ2zCMgC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=TY9oriuq4rJ2zCMgC) @sykesm by the way i am also getting teh same issue while deploying fabric on kubernetes. i am using fabric 1.1","username":"javrevasandeep","ts":"2018-07-24T14:59:39.894Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TY9oriuq4rJ2zCMgC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=TY9oriuq4rJ2zCMgC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"fabiomolinar","ts":"2018-07-24T18:12:41.272Z","type":"uj"}
{"msg":"@dave.enyeart when i restart the peer` panic: Error while trying to open DB: resource temporarily unavailable`","username":"asaningmaxchain123","ts":"2018-07-24T18:23:04.508Z"}
{"msg":"@dave.enyeart when i restart the peer `panic: Error while trying to open DB: resource temporarily unavailable`","username":"asaningmaxchain123","ts":"2018-07-24T18:23:04.508Z"}
{"msg":"the peer data is persistent","username":"asaningmaxchain123","ts":"2018-07-24T18:23:51.404Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric-ledger?msg=osSBBm93DGdi2Dhk9","username":"muralisr","ts":"2018-07-24T18:39:32.874Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=osSBBm93DGdi2Dhk9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=osSBBm93DGdi2Dhk9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@anzalbeg @javrevasandeep ^^^ above typically means the chaincode came back after the app the proposal timed out and cleaned up. This could happen if the proposal processing took more than the timeout value set in the core.yaml for some reason. Should be easy to tell if this is the case based on logs","username":"muralisr","ts":"2018-07-24T18:43:14.402Z"}
{"msg":"@anzalbeg @javrevasandeep ^^^ above typically means the chaincode came back after proposal timed out waiting for chaincode and went away after cleaning up. This could happen if the proposal processing took more than the timeout value set in the core.yaml for some reason. Should be easy to tell if this is the case based on logs","username":"muralisr","ts":"2018-07-24T18:43:14.402Z"}
{"msg":"Has joined the channel.","username":"anarodrigues","ts":"2018-07-24T18:53:26.948Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=oEAisAzxQoPXTEr96) @muralisr Thanks. I resolved the issue but i getting another error while invoking the transaction ","username":"anzalbeg","ts":"2018-07-25T06:12:56.439Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=oEAisAzxQoPXTEr96","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=oEAisAzxQoPXTEr96","remote":true,"fileId":null,"fileName":null}]}
{"msg":"below given is my peer logs ","username":"anzalbeg","ts":"2018-07-25T06:13:19.137Z"}
{"msg":"2018-07-25 05:59:45.983 UTC [shim] func1 -> DEBU 74d [0ebe1dea]Received message TRANSACTION from shim\n2018-07-25 05:59:45.983 UTC [shim] handleMessage -> DEBU 74e [0ebe1dea]Handling ChaincodeMessage of type: TRANSACTION(state:ready)\n2018-07-25 05:59:45.984 UTC [shim] beforeTransaction -> DEBU 74f [0ebe1dea]Received TRANSACTION, invoking transaction on chaincode(Src:ready, Dst:ready)\n2018-07-25 05:59:45.984 UTC [vscc] Invoke -> DEBU 750 VSCC invoked\n2018-07-25 05:59:45.984 UTC [vscc] deduplicateIdentity -> DEBU 751 Signature set is of size 1 out of 1 endorsement(s)\n2018-07-25 05:59:45.984 UTC [vscc] Invoke -> WARN 752 Endorsement policy failure for transaction txid=bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9, err: signature set did not satisfy policy\n2018-07-25 05:59:45.984 UTC [shim] func1 -> DEBU 753 [0ebe1dea]Transaction completed. Sending COMPLETED\n2018-07-25 05:59:45.984 UTC [shim] func1 -> DEBU 754 [0ebe1dea]Move state message COMPLETED\n2018-07-25 05:59:45.985 UTC [shim] handleMessage -> DEBU 755 [0ebe1dea]Handling ChaincodeMessage of type: COMPLETED(state:ready)\n2018-07-25 05:59:45.985 UTC [shim] func1 -> DEBU 756 [0ebe1dea]send state message COMPLETED\n2018-07-25 05:59:45.985 UTC [chaincode] processStream -> DEBU 757 [0ebe1dea]Received message COMPLETED from shim\n2018-07-25 05:59:45.985 UTC [chaincode] handleMessage -> DEBU 758 [0ebe1dea]Fabric side Handling ChaincodeMessage of type: COMPLETED in state ready\n2018-07-25 05:59:45.985 UTC [chaincode] handleMessage -> DEBU 759 [0ebe1dea-fd85-43b1-a291-b5aa50093a48]HandleMessage- COMPLETED. Notify\n2018-07-25 05:59:45.985 UTC [chaincode] notify -> DEBU 75a notifying Txid:0ebe1dea-fd85-43b1-a291-b5aa50093a48, channelID:mychannel\n2018-07-25 05:59:45.985 UTC [chaincode] Execute -> DEBU 75b Exit\n2018-07-25 05:59:45.985 UTC [lockbasedtxmgr] Done -> DEBU 75c Done with transaction simulation / query execution [bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9]\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] VSCCValidateTxForCC -> DEBU 75d VSCCValidateTxForCC completes for envbytes 0xc421e98800\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] VSCCValidateTx -> DEBU 75e VSCCValidateTx completes for env 0xc423166e10 envbytes 0xc421e98800\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] validateTx -> ERRO 75f VSCCValidateTx for transaction txId = bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9 returned error: VSCC error: endorsement policy failure, err: signature set did not satisfy policy\n2018-07-25 05:59:45.985 UTC [committer/txvalidator] validateTx -> DEBU 760 validateTx completes for block 0xc42359a640 env 0xc423166e10 txn 0\n2018-07-25 05:59:45.986 UTC [committer/txvalidator] Validate -> DEBU 761 got result for idx 0, code 10\n2018-07-25 05:59:45.986 UTC [committer/txvalidator] Validate -> DEBU 762 END Block Validation\n2018-07-25 05:59:45.987 UTC [kvledger] CommitWithPvtData -> DEBU 763 Channel [mychannel]: Validating state for block [4]\n2018-07-25 05:59:45.987 UTC [lockbasedtxmgr] ValidateAndPrepare -> DEBU 764 Validating new block with num trans = [1]\n2018-07-25 05:59:45.987 UTC [valimpl] ValidateAndPrepareBatch -> DEBU 765 ValidateAndPrepareBatch() for block number = [4]\n2018-07-25 05:59:45.987 UTC [valimpl] ValidateAndPrepareBatch -> DEBU 766 preprocessing ProtoBlock...\n2018-07-25 05:59:45.987 UTC [valimpl] preprocessProtoBlock -> WARN 767 Channel [mychannel]: Block [4] Transaction index [0] TxId [bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9] marked as invalid by committer. Reason code [ENDORSEMENT_POLICY_FAILURE]","username":"anzalbeg","ts":"2018-07-25T06:13:20.376Z"}
{"msg":"i am getting this \"2018-07-25 05:59:45.985 UTC [committer/txvalidator] validateTx -> ERRO 75f VSCCValidateTx for transaction txId = bbae754cdb42ccf121ecb77eecfd51190c618416ffabc59dcce47f02693957a9 returned error: VSCC error: endorsement policy failure, err: signature set did not satisfy policy\"","username":"anzalbeg","ts":"2018-07-25T06:13:43.429Z"}
{"msg":"Hi Experts","username":"pankajcheema","ts":"2018-07-25T08:41:23.359Z"}
{"msg":"I am trying to invoke a chaincode function. The couchdb is taking almost 15 seconds to serve 3 request to fabric (2 query and 1 write operation)","username":"pankajcheema","ts":"2018-07-25T08:42:10.413Z"}
{"msg":"Here are the peer logs ==> https://hastebin.com/ezihededuq.md","username":"pankajcheema","ts":"2018-07-25T08:42:27.117Z"}
{"msg":"Orderer logs ==> https://hastebin.com/enebuxuval.coffeescript","username":"pankajcheema","ts":"2018-07-25T08:42:39.000Z"}
{"msg":"But when i directly query couchdb it only takes few milliseconds","username":"pankajcheema","ts":"2018-07-25T08:43:00.095Z"}
{"msg":"If anyone knows","username":"pankajcheema","ts":"2018-07-25T08:43:14.787Z"}
{"msg":"please help","username":"pankajcheema","ts":"2018-07-25T08:43:17.020Z"}
{"msg":"Here `couchdb` took 5 seconds | line 5 & 6 ```2018-07-25 11:50:47.300 IST [couchdb] handleRequest -> DEBU 15cd HTTP Request: GET /assetchain_assetchaincode/_design/lastnameasc/_view/lastnameasc?stale=update_after HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:50:52.309 IST [couchdb] handleRequest -> DEBU 15ce Exiting handleRequest()```","username":"pankajcheema","ts":"2018-07-25T08:47:36.658Z"}
{"msg":"Line 9 & 10 `couchdb` took 4 seconds ```2018-07-25 11:50:52.309 IST [couchdb] handleRequest -> DEBU 15d1 HTTP Request: GET /assetchain_assetchaincode/_design/lastnamedesc/_view/lastnamedesc?stale=update_after HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:50:56.991 IST [endorser] ProcessProposal -> DEBU 15d2 Entering: Got request from 192.168.0.18:60858```","username":"pankajcheema","ts":"2018-07-25T08:48:08.091Z"}
{"msg":"Line 68 - 69 `couchdb` took 5 seconds again ```2018-07-25 11:50:57.322 IST [couchdb] handleRequest -> DEBU 160c HTTP Request: GET /assetchain_assetchaincode/_design/request_created_at_sort_asc/_view/request_sorting?stale=update_after HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:51:02.007 IST [couchdb] handleRequest -> DEBU 160d Exiting handleRequest()```","username":"pankajcheema","ts":"2018-07-25T08:48:50.334Z"}
{"msg":"line 259-260 `couchdb` took 2 seconds ```2018-07-25 11:51:02.335 IST [couchdb] handleRequest -> DEBU 1699 HTTP Request: GET /assetchain_assetchaincode/_design/request_sort_name_asc/_view/request_sort_name_asc?stale=update_after HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:51:04.123 IST [policies] Evaluate -> DEBU 169a == Evaluating *policies.implicitMetaPolicy Policy /Channel/Orderer/BlockValidation ==```","username":"pankajcheema","ts":"2018-07-25T08:49:50.967Z"}
{"msg":"line 293-294 `couchdb` took 2 seconds ```2018-07-25 11:51:04.125 IST [couchdb] handleRequest -> DEBU 16bb HTTP Request: GET /assetchain_lscc/assetchaincode?attachments=true HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:51:06.071 IST [endorser] ProcessProposal -> DEBU 16bc Entering: Got request from 192.168.0.18:60858```","username":"pankajcheema","ts":"2018-07-25T08:50:37.528Z"}
{"msg":"line 381-382  `couchdb` took 2 seconds 2018-07-25 11:51:07.346 IST [couchdb] handleRequest -> DEBU 1713 HTTP Request: GET /assetchain_assetchaincode/_design/request_sort_name_dsc/_view/request_sort_name_dsc?stale=update_after HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:51:09.137 IST [couchdb] handleRequest -> DEBU 1714 Exiting handleRequest()","username":"pankajcheema","ts":"2018-07-25T08:51:04.099Z"}
{"msg":"line 381-382  `couchdb` took 2 seconds ```2018-07-25 11:51:07.346 IST [couchdb] handleRequest -> DEBU 1713 HTTP Request: GET /assetchain_assetchaincode/_design/request_sort_name_dsc/_view/request_sort_name_dsc?stale=update_after HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:51:09.137 IST [couchdb] handleRequest -> DEBU 1714 Exiting handleRequest()```","username":"pankajcheema","ts":"2018-07-25T08:51:04.099Z"}
{"msg":"line 489-490 `couchdb` took 3 seconds ```2018-07-25 11:51:09.338 IST [couchdb] handleRequest -> DEBU 177c HTTP Request: GET /assetchain_/statedb_savepoint?attachments=true HTTP/1.1 | Host: couchdb:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | \n2018-07-25 11:51:12.356 IST [couchdb] handleRequest -> DEBU 177d Exiting handleRequest()```","username":"pankajcheema","ts":"2018-07-25T08:51:49.661Z"}
{"msg":"```func AddUser(stub shim.ChaincodeStubInterface, args []string) peer.Response {\n\tif len(args) != 9 {\n\t\treturn createErrorResponse(\"Invalid number of arguments. Expected 9\", 422, nil)\n\t} else if len(args[4]) == 0 { //Phone number validation\n\t\treturn createErrorResponse(\"Please enter a valid phone number\", 422, nil)\n\t}\n\n\tvar emailArr = []string{args[5]}\n\tvar phoneArr = []string{args[4]}\n\tvar empID = []string{args[2]}\n\n\tvar emailValidateResponse = CheckEmail(stub, emailArr)\n\tvar phoneValidateResponse = CheckPhone(stub, phoneArr)\n\tvar empIDValidateResponse = CheckEmployeeID(stub, empID)\n\n\tif emailValidateResponse.Status == 500 {\n\t\treturn emailValidateResponse\n\t} else if phoneValidateResponse.Status == 500 {\n\t\treturn phoneValidateResponse\n\t} else if empIDValidateResponse.Status == 500 {\n\t\treturn empIDValidateResponse\n\t}\n\n\tvar randomPassword = args[8]\n\tvar hashedPassword = xhashes.SHA256(randomPassword)\n\tphoneNumber, phoneConvError := strconv.ParseUint(args[4], 10, 64)\n\n\ttimeNow := time.Now().UTC()\n\tid := args[7]\n\n\tif phoneConvError != nil {\n\t\treturn shim.Error(phoneConvError.Error())\n\t}\n\n\tuser := User{\n\t\tFirstName:        args[0],\n\t\tLastName:         args[1],\n\t\tEmpID:            args[2],\n\t\tDocType:          \"user\",\n\t\tPassword:         hashedPassword,\n\t\tCountryCode:      args[3],\n\t\tPhoneNumber:      phoneNumber,\n\t\tEmail:            args[5],\n\t\tRole:             0,\n\t\tDeviceToken:      args[6],\n\t\tStatus:           1,\n\t\tIsRandomPassword: true,\n\t\tCreatedAt:        timeNow,\n\t\tUpdatedAt:        timeNow}\n\n\tuserBytes, err := json.Marshal(user)\n\n\tif err != nil {\n\t\treturn shim.Error(err.Error())\n\t}\n\n\tputStateError := stub.PutState(id, userBytes)\n\n\tfmt.Println(\"User Record => \" + string(userBytes))\n\tfmt.Println(\"Hashed Password ==> \" + hashedPassword)\n\tif putStateError != nil {\n\t\treturn shim.Error(putStateError.Error())\n\t}\n\n\tuserResponse := UserResponse{\n\t\tID:                id,\n\t\tGeneratedPassword: randomPassword,\n\t\tEmail:             args[5],\n\t\tFirstName:         args[0],\n\t\tLastName:          args[1]}\n\n\tresponse := Response{\n\t\tStatus:  1,\n\t\tMessage: \"User created successfully\",\n\t\tData:    userResponse}\n\n\tresponseBytes, respError := json.Marshal(response)\n\n\tif respError != nil {\n\t\treturn shim.Error(respError.Error())\n\t}\n\n\tfmt.Println(\"Hashed Last Password ==> \" + hashedPassword)\n\treturn shim.Success(responseBytes)\n}```","username":"pankajcheema","ts":"2018-07-25T08:55:53.795Z"}
{"msg":"This is the chaincode function that is executed and logs belong to this function","username":"pankajcheema","ts":"2018-07-25T08:57:18.266Z"}
{"msg":"","username":"pankajcheema","ts":"2018-07-25T08:57:40.728Z","attachments":[{"type":"file","title":"newscreen.png","title_link":"/file-upload/SsjScMAeKRSXwrbSz/newscreen.png","image_url":"/file-upload/SsjScMAeKRSXwrbSz/newscreen.png","image_type":"image/png","image_size":175014,"url":"/file-upload/SsjScMAeKRSXwrbSz/newscreen.png","remote":false,"fileId":"SsjScMAeKRSXwrbSz","fileName":"newscreen.png"}]}
{"msg":"I have posted this on SO here is the link https://stackoverflow.com/questions/51515097/hyperledger-fabric-performance-issue-with-couchdb","username":"pankajcheema","ts":"2018-07-25T09:10:38.908Z"}
{"msg":"Has joined the channel.","username":"souvik","ts":"2018-07-25T11:48:24.464Z","type":"uj"}
{"msg":"In our application the key value pairs quickly reach a final state that the application no longer needs. This means the couchdb will continue to grow over time.   I am contemplating writing a cleanup fabric chaincode transaction that deletes (a maximum number at a time) of these final value key value pairs so that the couchDB is just left with the tombstones.  We could manually removed  the tombstones by copying the couchDB if we ever needed to using CouchDB utilities.  In this way our couchDB size should be limited.\nI've been asked to check with the experts if anyone can see a downside, and that this is the best way of doing the couchDB housekeeping, and that this is not going to interfere with any potential archiving / check pointing designs? ","username":"rsherwood","ts":"2018-07-26T08:06:07.102Z"}
{"msg":"Has joined the channel.","username":"naviat","ts":"2018-07-26T09:02:07.801Z","type":"uj"}
{"msg":"the write doesn't complete until the block is cut. the default is 2s. perhaps that's the issue...","username":"aatkddny","ts":"2018-07-26T11:20:03.879Z"}
{"msg":"@rsherwood fabric has no need for tombstones, and has no intention of using them in the future (they are only used for couchdb replication purposes, which fabric doesn't utilize).  My understanding is that they are tiny and harmless.  How exactly do you propose to delete them with CouchDB utilities?","username":"dave.enyeart","ts":"2018-07-26T12:35:09.471Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=zP37BpR8SvnCxQzJg) @dave.enyeart Hi Dave, at this stage I don't plan to get rid of them .  However https://eclipsesource.com/blogs/2015/04/20/how-to-finally-delete-documents-in-couchdb/  suggest it would be possible to create a filtered replica if we ever need to (note I've not tested and am no CouchDB expert) .     My real question  was is the  deleting the redundant key / values good practice through Fabric transactions good practice ?   I assume  its yes its  just the customer asked me to check . ","username":"rsherwood","ts":"2018-07-26T14:33:39.889Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zP37BpR8SvnCxQzJg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zP37BpR8SvnCxQzJg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"yes, when the lifecycle of a key comes to a logical conclusion, it is good practice to delete from current state.  the history will remain on the chain regardless.","username":"dave.enyeart","ts":"2018-07-26T14:35:23.928Z"}
{"msg":"yes, when the lifecycle of a key comes to a logical conclusion, it is good practice to delete from current state via a chaincode call.  the history will remain on the chain regardless.","username":"dave.enyeart","ts":"2018-07-26T14:35:23.928Z"}
{"msg":"@dave.enyeart @manish-sethi \nScenario:\n- a channel exists, with a number of chaincodes installed\n- a new peer joins the channel; it doesn't have (some of the) chaincodes installed (yet)\nSo, let's say peer 5 joins channel C on which chaincode X is instantiated; but peer 5 doesn't have chaincode X installed.\nIs peer 5 supposed to maintain a stateDB for channel C/chaincode X? If yes, then I wonder why I see a log entry like this:\n07-26 13:02:22.829 UTC [cceventmgmt] HandleChaincodeDeploy -> INFO 412 Channel [default]: Chaincode [Name=X, Version=v0, Hash=[]byte{...}] is not installed hence no need to create chaincode artifacts for endorsement\nSkipping HandleChaincodeDeploy, that implies that the CouchDB statedb downstream isn't notified that a new chaincode needs to have a statedb associated - and the corresponding entities are not created; on the other hand, if that was not skipped, CouchDB wouldn't be able to create the proper indexes for chaincode X because the peer doesn't have the chaincode package installed","username":"minollo","ts":"2018-07-26T15:40:50.133Z"}
{"msg":"@minollo - in your scenario, the peer 5 will have the stateDB because, its required for performing the transaction validation at commit time. However, chaincode is not required to be installed. Since, the index definition are bundled in the chaincode package hence it is skipped.\nOther way to look at this is that the peer 5 is a committer-only node and not a full endorser node","username":"manish-sethi","ts":"2018-07-26T15:57:27.139Z"}
{"msg":"@manish-sethi ok; so, considering the CouchDB HandleChaincodeDeploy listener execution is skipped, how does CouchDB create its own artifact to manage the statedb for chaincode X?","username":"minollo","ts":"2018-07-26T16:00:54.486Z"}
{"msg":"@minollo - Since, there is no chaincode on this peer, you will not be able to invoke any chaincode function anyways","username":"manish-sethi","ts":"2018-07-26T16:05:12.605Z"}
{"msg":"@manish-sethi that's not my question; you still need the CouchDB artifacts to do validation for that chaincode, right? That's what you wrote above","username":"minollo","ts":"2018-07-26T16:05:46.806Z"}
{"msg":"No, since we allow only range queries in the read-write transaction, so it works without indexes","username":"manish-sethi","ts":"2018-07-26T16:06:45.921Z"}
{"msg":"sure, but ignore indexes for a moment","username":"minollo","ts":"2018-07-26T16:07:47.754Z"}
{"msg":"To add to that, When you later install the chaincode on the peer, the indexes etc will get created ","username":"manish-sethi","ts":"2018-07-26T16:07:56.917Z"}
{"msg":"doesn't CouchDB also create a specific database (or whatever they are called in CouchDB) to dedicate it to the representation of a chaincode's stateDB?","username":"minollo","ts":"2018-07-26T16:08:29.285Z"}
{"msg":"isn't that' performed as part of the listener code on handlechaincodedeploy?","username":"minollo","ts":"2018-07-26T16:08:44.312Z"}
{"msg":"No, the db gets created without chaincode","username":"manish-sethi","ts":"2018-07-26T16:09:25.482Z"}
{"msg":"ok; so, indexes aside, what you are saying is that there is no specific code we do for couchdb statedb when a new chaincode is created","username":"minollo","ts":"2018-07-26T16:10:36.359Z"}
{"msg":"hence, skipping the listener execution is safe","username":"minollo","ts":"2018-07-26T16:10:48.068Z"}
{"msg":"yes","username":"manish-sethi","ts":"2018-07-26T16:11:06.916Z"}
{"msg":"ok, got it; thanks","username":"minollo","ts":"2018-07-26T16:11:49.494Z"}
{"msg":":thumbsup:","username":"manish-sethi","ts":"2018-07-26T16:12:00.190Z"}
{"msg":"Has joined the channel.","username":"jakereps","ts":"2018-07-26T18:54:01.613Z","type":"uj"}
{"msg":"Has left the channel.","username":"Kyroy","ts":"2018-07-27T17:54:58.785Z","type":"ul"}
{"msg":"hey all, is instantiation no longer considered a transaction? for example lets say i'm deploying chaincode `testcc` on channel `mychannel`, after instantiation i do not see a database of `mychannel_testcc` in couchDB","username":"jrosmith","ts":"2018-07-30T14:28:06.660Z"}
{"msg":"@jrosmith state databases are created upon first use, not necessarily at instantiate time","username":"dave.enyeart","ts":"2018-07-30T14:53:47.614Z"}
{"msg":"if instantiate inits some data or deploys a couchdb index, it will auto-create the database","username":"dave.enyeart","ts":"2018-07-30T14:54:27.291Z"}
{"msg":"otherwise database will get created upon first use","username":"dave.enyeart","ts":"2018-07-30T14:54:41.278Z"}
{"msg":"@dave.enyeart is there documentation somewhere with an example of setting up couchdb indices within the chaincode?","username":"jrosmith","ts":"2018-07-30T14:58:05.095Z"}
{"msg":"and i'm assuming that will only write those indices for a given statedb, not for all peers. if my chaincode is in go would I be able to throw index creation into the `init` function so every instance of the chaincode sets up its respective statedb? ","username":"jrosmith","ts":"2018-07-30T14:59:32.010Z"}
{"msg":"yes, the docs point to a sample: https://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html#using-couchdb-from-chaincode","username":"dave.enyeart","ts":"2018-07-30T14:59:40.043Z"}
{"msg":"indexes defined in the chaincode get auto-created on each peer once the chaincode is installed on peer and instantiated on channel","username":"dave.enyeart","ts":"2018-07-30T15:00:49.155Z"}
{"msg":"this is described in the same doc","username":"dave.enyeart","ts":"2018-07-30T15:00:54.425Z"}
{"msg":"ahi see, reading through it now. thank you so much","username":"jrosmith","ts":"2018-07-30T15:01:10.592Z"}
{"msg":"you cannot create indexes via chaincode... you would have to upgrade the chaincode to a new definition","username":"dave.enyeart","ts":"2018-07-30T15:01:13.156Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=JSca26QEsrvAcziBi) In which version this behaviour was introduced ? @dave.enyeart ","username":"pankajcheema","ts":"2018-07-31T16:04:56.708Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JSca26QEsrvAcziBi","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=JSca26QEsrvAcziBi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"in v1.1, as that is when the state database structured changed to channel_chaincode","username":"dave.enyeart","ts":"2018-07-31T16:49:39.490Z"}
{"msg":"in v1.1, as that is when the state database structure changed to channel_chaincode","username":"dave.enyeart","ts":"2018-07-31T16:49:39.490Z"}
{"msg":"in v1.1, as that is when the state database structure changed to database per channel_chaincode","username":"dave.enyeart","ts":"2018-07-31T16:49:39.490Z"}
{"msg":"hey all, looking for more info on coucDB user creation. i know the peer automatically adds the admin as configured in `core.yaml` to the `admins`, but is there way to preconfigure users who fall under `members` of a specific couchDB database? or will I have to add those users to the database via couchDB directly. \n\nfor context i want to set up a couchDB user who has read only access of a given stateDB.","username":"jrosmith","ts":"2018-07-31T19:29:38.407Z"}
{"msg":"hey all, looking for more info on couchDB user creation. i know the peer automatically adds the admin as configured in `core.yaml` to the `admins`, but is there way to preconfigure users who fall under `members` of a specific couchDB database? or will I have to add those users to the database via couchDB directly. \n\nfor context i want to set up a couchDB user who has read only access of a given stateDB.","username":"jrosmith","ts":"2018-07-31T19:29:38.407Z"}
{"msg":"hey all, looking for more info on couchDB user creation. i know the peer automatically adds the admin as configured in `core.yaml` to the `admins`, but is there way to preconfigure users who fall under `members` of a `channel_chaincode` databases? or will I have to add those users to the database via couchDB directly?\n\nfor context i want to set up a couchDB user who has read only access of a given stateDB.","username":"jrosmith","ts":"2018-07-31T19:29:38.407Z"}
{"msg":"hey all, looking for more info on couchDB user creation. i know the peer automatically adds the admin as configured in `core.yaml` to the `admins`, but is there way to preconfigure users who fall under `members` of a `<channel>_<chaincode>` databases? or will I have to add those users to the database via couchDB directly?\n\nfor context i want to set up a couchDB user who has read only access of a given stateDB.","username":"jrosmith","ts":"2018-07-31T19:29:38.407Z"}
{"msg":"hey all, looking for more info on couchDB user creation. i know the peer automatically adds the admin as configured in `core.yaml` to the `admins`, but is there way to preconfigure users who fall under `members` of  `<channel>_<chaincode>` databases? or will I have to add those users to the database via couchDB directly?\n\nfor context i want to set up a couchDB user who has read only access of a given stateDB.","username":"jrosmith","ts":"2018-07-31T19:29:38.407Z"}
{"msg":"Has joined the channel.","username":"BoBoGithub","ts":"2018-08-02T02:03:31.953Z","type":"uj"}
{"msg":"Has joined the channel.","username":"username343","ts":"2018-08-02T03:55:35.768Z","type":"uj"}
{"msg":"Hi guys","username":"username343","ts":"2018-08-02T03:55:55.749Z"}
{"msg":"{ key: \"a\", \n                                                                        version: {\n                                                                            block_num: {\n                                                                                low: 4, \n                                                                                high: 0, \n                                                                                unsigned: true\n                                                                            }, \n                                                                            tx_num: {\n                                                                                low: 0, \n                                                                                high: 0, \n                                                                                unsigned: true\n                                                                            }\n                                                                        }","username":"username343","ts":"2018-08-02T03:55:55.749Z"}
{"msg":"{ key: \"a\", \n                                                                        version: {\n                                                                            block_num: {\n                                                                                low: 4, \n                                                                                high: 0, \n                                                                                unsigned: true\n                                                                            }, \n                                                                            tx_num: {\n                                                                                low: 0, \n                                                                                high: 0, \n                                                                                unsigned: true\n                                                                            }\n                                                                        }","username":"username343","ts":"2018-08-02T03:55:55.749Z"}
{"msg":"How do I get the the invoked function name and the argument from the transaction proposal data. I've tried using the data as a buffer in nodejs and then printing that buffer as a string but I'm not able to decode it in a perfect string. For example, consider the invocation : '{\"Args\":[\"init\",\"A\",\"100\",\"B\",\"200\"]}', the string that I'm getting after trying what I've mentioned above is -> '\\n{\\b\\u0001\\u0012\\u0006\\u0012\\u0004lscc\\u001ao\\n\\u0006deploy\\n\\tmychannel\\n*\\n(\\b\\u0001\\u0012\\f\\u0012\\u0005mycc2\\u001a\\u00031.0\\u001a\\u0016\\n\\u0004init\\n\\u0001A\\n\\u0003100\\n\\u0001B\\n\\u0003200\\n\"\\u0012\\f\\u0012\\n\\b\\u0001\\u0012\\u0002\\b\\u0000\\u0012\\u0002\\b\\u0001\\u001a\\b\\u0012\\u0006\\n\\u0004Org1\\u001a\\b\\u0012\\u0006\\n\\u0004Org2\\n\\u0004escc\\n\\u0004vscc'. Is there any way to get the above in the form of '{\"Args\":[\"init\",\"A\",\"100\",\"B\",\"200\"]}'","username":"username343","ts":"2018-08-02T03:55:57.626Z"}
{"msg":"can I ask what is different between MVCC read and Phantom read at committing phase?","username":"Ryan2","ts":"2018-08-02T07:53:07.050Z"}
{"msg":"They are both invalidations due to state changing between chaincode execution and commit time. MVCC invalidation means the version of a key that was read using a keyed query during chaincode execution has changed. Phantom read means a non-key query produced different result set at chaincode execution time and commit time, due to some key being added, updated, or deleted.  In either case, that transaction would break the serializability property of the blockchain and therefore must be invalidated.","username":"dave.enyeart","ts":"2018-08-02T10:59:27.081Z"}
{"msg":"Thank @dave.enyeart for the reply. \n  If I use couchdb as statedb, and perform GetStateByPartialCompositeKey rich query in the chaincode,, then within the Block timeout limit, perform update on the key, is this possible  avoiding Phantom read\nOr it will be prevented by `phantom protection is limited to range queries (i.e., GetStateByRange function in the chaincode)` \n(https://hyperledger-fabric.readthedocs.io/en/release-1.1/readwrite.html#transaction-validation-and-updating-world-state-using-read-write-set)\nI tried to solve the issue of perform the multiple transaction with same key within the batch timeout timing by spliting the key\n ","username":"Ryan2","ts":"2018-08-02T13:19:42.942Z"}
{"msg":"GetStateByPartialCompositeKey uses GetStateByRange under the covers, and as such phantoms will be validated against.   The question is, in your solution do you want to tolerate phantoms or protect against them?  If you want to protect against them this is the built in behavior when doing query/update in a single transaction.  If you want to tolerate them then you would need to split your transaction into two... first a query, and then an update, and only submit the update transaction to ordering.  These types of 'blind writes' have no state validation.","username":"dave.enyeart","ts":"2018-08-02T13:28:52.563Z"}
{"msg":"@jrosmith external read-only users of peer's CouchDB state database is not supported.  See https://jira.hyperledger.org/browse/FAB-1308 for proposal to add such support (there is not consensus on whether this should be added or not)","username":"dave.enyeart","ts":"2018-08-02T16:58:40.016Z"}
{"msg":"@dave.enyeart thanks dave! not sure if there is an active discussion on this topic but i do think supporting read only users would be valuable in production, especially for doing analytics on the state of the database and items modeled within it.","username":"jrosmith","ts":"2018-08-02T19:41:49.777Z"}
{"msg":"hi, how to define cross-channel access policies? and what is the relationship between channel and chaincode?","username":"bh4rtp","ts":"2018-08-03T00:47:23.386Z"}
{"msg":"can anybody explain what are the high and low in block_num and txn_num in read&write sets in block?","username":"username343","ts":"2018-08-03T05:21:03.643Z"}
{"msg":"For example what does the read/write set ","username":"username343","ts":"2018-08-03T05:21:39.594Z"}
{"msg":"}","username":"username343","ts":"2018-08-03T05:22:36.580Z"}
{"msg":"mean","username":"username343","ts":"2018-08-03T05:22:38.997Z"}
{"msg":"mean ?","username":"username343","ts":"2018-08-03T05:22:38.997Z"}
{"msg":"{\n   key:\"a\",\n   version:{\n      block_num:{\n         low:4,\n         high:0,\n         unsigned:true\n      },\n      tx_num:{\n         low:0,\n         high:0,\n         unsigned:true\n      }\n   }\n}","username":"username343","ts":"2018-08-03T05:24:51.814Z"}
{"msg":" mean?","username":"username343","ts":"2018-08-03T05:24:56.302Z"}
{"msg":"Hi Fabric Experts!","username":"pankajcheema","ts":"2018-08-03T09:10:12.804Z"}
{"msg":"Can anyone explain me the steps/procedure how data is saved in the ledger and blockchain in Hyperledger Fabric?","username":"pankajcheema","ts":"2018-08-03T09:11:02.429Z"}
{"msg":"or link/url to the documentation of internal architecture?","username":"pankajcheema","ts":"2018-08-03T09:11:19.165Z"}
{"msg":"I could not find any documentation for that","username":"pankajcheema","ts":"2018-08-03T09:11:29.796Z"}
{"msg":"Please any help would be appreciated","username":"pankajcheema","ts":"2018-08-03T09:11:42.108Z"}
{"msg":"I have faced an issue","username":"pankajcheema","ts":"2018-08-03T09:12:00.566Z"}
{"msg":"https://jira.hyperledger.org/browse/FAB-11458","username":"pankajcheema","ts":"2018-08-03T09:12:01.137Z"}
{"msg":"The peer is endorsing the transaction even if the `blockfile` and indexes are deleted","username":"pankajcheema","ts":"2018-08-03T09:12:29.499Z"}
{"msg":"Confusing","username":"pankajcheema","ts":"2018-08-03T09:12:36.783Z"}
{"msg":"@dave.enyeart Please if you know something about it","username":"pankajcheema","ts":"2018-08-03T09:13:14.222Z"}
{"msg":"@manish-sethi ","username":"pankajcheema","ts":"2018-08-03T09:15:23.845Z"}
{"msg":"Has joined the channel.","username":"Gaurav6794","ts":"2018-08-03T11:49:06.378Z","type":"uj"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed\nat new createStatusError (/var/www/html/hyperledgerfabric_tsest_chaincode/first-network/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15). \n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed\nat new createStatusError (/var/www/html/hyperledgerfabric_tsest_chaincode/first-network/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15). \n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk\n@pankajcheema  please tell if you know something","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed\nat new createStatusError (/var/www/html/hyperledgerfabric_tsest_chaincode/first-network/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15). \n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk\n@pankajcheema   please tell if you know something","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed\nat new createStatusError (/var/www/html/hyperledgerfabric_tsest_chaincode/first-network/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15). \n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk\n@pankajcheema   please tell if you know something","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed\nat new createStatusError (/var/www/html/hyperledgerfabric_tsest_chaincode/first-network/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15). \n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk\n@pankajcheema  please tell if you know something","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed\nat new createStatusError (/var/www/html/hyperledgerfabric_tsest_chaincode/first-network/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15). \n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk\n@pankajcheema  please if you know something","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed\nat new createStatusError (/var/www/html/hyperledgerfabric_tsest_chaincode/first-network/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15). \n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk\n@pankajcheema  please if you know something","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Hi all \nDuring Invoke while processing a proposal with endorser client in proto peer in node sdk with custom first network with tls enabled i am having this error\nhttps://hastebin.com/befaviletu.js\n\nI have six peers, one orderer, solo, tls enabled network \nI followed https://fabric-sdk-node.github.io/tutorial-mutual-tls.html for node sdk\n@pankajcheema  please if you know something","username":"Gaurav6794","ts":"2018-08-03T11:49:23.767Z"}
{"msg":"Has joined the channel.","username":"thakurnikk","ts":"2018-08-03T12:06:31.975Z","type":"uj"}
{"msg":"@pankajcheema - for the endorsement, state database is used - block files are not used in the endorsement process that's why it is working for you.","username":"manish-sethi","ts":"2018-08-03T13:38:35.005Z"}
{"msg":"@pankajcheema - BTW, you may be interested in a similar discussion on this channel - https://chat.hyperledger.org/channel/fabric-ledger?msg=59EseRdGahqb5smok","username":"manish-sethi","ts":"2018-08-03T13:46:31.176Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=59EseRdGahqb5smok","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=59EseRdGahqb5smok","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@pankajcheema I've close the jira with the following comments:","username":"dave.enyeart","ts":"2018-08-03T15:10:00.401Z"}
{"msg":"@pankajcheema I've closed the jira with the following comments:","username":"dave.enyeart","ts":"2018-08-03T15:10:00.401Z"}
{"msg":"If you tamper with the block files, the peer will not automatically detect this (imagine how expensive it would be to constantly recalculate hashes for millions of blocks). But you can audit the integrity of the blockchain by running a utility to check the hashes.  One such utility can be found at: https://github.com/C0rWin/ledgerfsck\nThere was a proposal to have such a verify utility within the peer itself, but current thinking is to use external verify tools.  See discussion in FAB-6486.\n\nIf you stop peer, delete the chains directory, and then try to invoke chaincode on a channel, you will get an error since peer wasn't able to initialize the chain upon restart.  I tested and confirmed, and will therefore close since it is working as designed.\n\nA few comments:\n- If you find your chain has been deleted or tampered, you will need to re-build your peer and re-join the channel.  Peer will get blocks from ordering service or another peer.\n- If you believe your chain indexes or state database is not correct, you can stop peer, delete them, and re-start peer.  Peer will automatically rebuild indexes and state database based on the blockchain.\n- The important concept in blockchain is - if you tamper with your own local copy of the blockchain, it is detectable and you will not be able to convince the network of other peers that your copy of the ledger is correct.  The integrity of the network cannot be compromised by a rogue organization/peer.","username":"dave.enyeart","ts":"2018-08-03T15:10:09.204Z"}
{"msg":"Has joined the channel.","username":"zmaro","ts":"2018-08-03T15:21:29.291Z","type":"uj"}
{"msg":"Hi @dave.enyeart  Thank you so much for this detailed explanation. ","username":"pankajcheema","ts":"2018-08-03T16:22:08.243Z"}
{"msg":"`If you stop peer, delete the chains directory, and then try to invoke chaincode on a channel, you will get an error since peer wasn't able to initialise the chain upon restart`. I deleted `blockfilexxxx`, then deleted the file in `index` index dir, then restarted the peer and invoke chaincode, it does not throw any error and endorsed the transaction successfully. I can even query the chaincode.","username":"pankajcheema","ts":"2018-08-03T16:25:45.903Z"}
{"msg":"In my scenario I deleted the entire chains directory.  You're right, if you just delete one block file the peer will not detect this.  But the peer will not be able to convince others that it has the correct ledger, hash verification utilities will detect the problem.  That is the fundamental design point.","username":"dave.enyeart","ts":"2018-08-03T16:53:21.917Z"}
{"msg":"Hello, does anyone know what the fabric DB model looks, any DDL, or mapping, i need to know defined data types for the models, like MSP's, channel, organizations, chaincodes etc","username":"nfrunza","ts":"2018-08-03T21:07:36.979Z"}
{"msg":"Has joined the channel.","username":"akshay.sood","ts":"2018-08-04T06:47:45.846Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=hhEFsZn5WY3S8rdow) @MeghaGupta ","username":"pankajcheema","ts":"2018-08-04T15:25:01.399Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hhEFsZn5WY3S8rdow","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hhEFsZn5WY3S8rdow","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"MeghaGupta","ts":"2018-08-04T15:25:01.658Z","type":"uj"}
{"msg":"@dave.enyeart  can you say something about this? https://stackoverflow.com/questions/51670810/implementing-acl-in-hyperledger-fabric-v1-2","username":"pankajcheema","ts":"2018-08-04T15:40:23.059Z"}
{"msg":"@dave.enyeart does it even verify the hash of last commited block before writing a new block? ","username":"pankajcheema","ts":"2018-08-04T19:15:11.535Z"}
{"msg":"Someone said to me that Hyperledger Fabric is not truly blockchain but it is just an implementation of DLT","username":"pankajcheema","ts":"2018-08-04T19:15:39.763Z"}
{"msg":"Is that correct? ","username":"pankajcheema","ts":"2018-08-04T19:15:44.189Z"}
{"msg":"@pankajcheema Let's move the ACL discussion to #fabric-peer-endorser-committer ","username":"dave.enyeart","ts":"2018-08-04T21:01:36.904Z"}
{"msg":"Hyperledger Fabric is indeed a blockchain, see the topic http://hyperledger-fabric.readthedocs.io/en/latest/ledger/ledger.html to understand how the blocks form a hashchain.","username":"dave.enyeart","ts":"2018-08-04T21:02:29.180Z"}
{"msg":"Hi All, Is there any way to recover couchdb from blockchain??","username":"pankajcheema","ts":"2018-08-05T07:10:55.347Z"}
{"msg":"You can delete the state database and restart the peer to regenerate the state database.  Upon start the peer checks to see if the state database and block indexes are missing or behind in block height, and if so, builds them up based on the transactions in the blockchain to bring them up to current height.","username":"dave.enyeart","ts":"2018-08-05T12:17:42.383Z"}
{"msg":"@dave.enyeart your mentioned state database is not the ledger or block chain, is it?","username":"bh4rtp","ts":"2018-08-05T12:39:26.648Z"}
{"msg":"Please read the ledger, blockchain, and state database overview here: http://hyperledger-fabric.readthedocs.io/en/latest/ledger/ledger.html","username":"dave.enyeart","ts":"2018-08-05T12:40:58.182Z"}
{"msg":"hi, I just wanna confirm that we don't support any pruning/archiving on peer/orderer yet, right? thx in advance","username":"guoger","ts":"2018-08-06T02:19:40.264Z"}
{"msg":"yes @guoger - that's right","username":"manish-sethi","ts":"2018-08-06T02:20:31.675Z"}
{"msg":"Hello @dave.enyeart  \n\nFabric Peer creates system couch databases,  _global_changes system database contributes to a whole file-system space that requires a regular repair via compaction. In single node setup for fabric, do we need these 3 system databases. We would optionally require _users however not even the  ` _replicator`.\n\nCopying from - http://docs.couchdb.org/en/latest/install/setup.html#single-node-setup\n```\nNote that the last of these is not necessary if you do not expect to be using the global changes feed. Feel free to delete this database if you have created it, it has grown in size, and you do not need the function (and do not wish to waste system resources on compacting it regularly.)\n```","username":"rahulhegde","ts":"2018-08-06T02:58:45.027Z"}
{"msg":"Hello @dave.enyeart  \n\nFabric Peer creates system couch databases,  `_global_changes` system database contributes to a whole file-system space that requires a regular repair via compaction. In single node setup for fabric, do we need these 3 system databases. We would optionally require `_users` however not even the  ` _replicator`.\n\nCopying from - http://docs.couchdb.org/en/latest/install/setup.html#single-node-setup\n```\nNote that the last of these is not necessary if you do not expect to be using the global changes feed. Feel free to delete this database if you have created it, it has grown in size, and you do not need the function (and do not wish to waste system resources on compacting it regularly.)\n```","username":"rahulhegde","ts":"2018-08-06T02:58:45.027Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=hhEFsZn5WY3S8rdow) @dave.enyeart so the blockfile can't pull from the other peer?","username":"asaningmaxchain123","ts":"2018-08-06T13:23:26.323Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hhEFsZn5WY3S8rdow","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hhEFsZn5WY3S8rdow","remote":true,"fileId":null,"fileName":null}]}
{"msg":"For new blocks the peer can pull from ordering service or other peers.  I'm just saying that the peer won't continually re-checks its old blocks.  You'll need an external utility to do those checks, e.g. https://github.com/C0rWin/ledgerfsck","username":"dave.enyeart","ts":"2018-08-06T13:25:02.819Z"}
{"msg":"@rahulhegde option to disable _global_changes: https://gerrit.hyperledger.org/r/#/c/24619/","username":"dave.enyeart","ts":"2018-08-06T13:25:38.828Z"}
{"msg":"@rahulhegde option to disable global changes db: https://gerrit.hyperledger.org/r/#/c/24619/","username":"dave.enyeart","ts":"2018-08-06T13:25:38.828Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=4F4DbCLNydcZaomDL) @dave.enyeart it means the peer can pull the old block from the other peer but it should check it by the https://github.com/C0rWin/ledgerfsck","username":"asaningmaxchain123","ts":"2018-08-06T13:28:41.780Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4F4DbCLNydcZaomDL","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=4F4DbCLNydcZaomDL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"the peer self will not check it","username":"asaningmaxchain123","ts":"2018-08-06T13:29:39.464Z"}
{"msg":"I mean a peer that is running behind can safely pull its next blocks from other peers.  But it won't re-check those blocks over and over at a later point in time.  For that you'll need the utility.","username":"dave.enyeart","ts":"2018-08-06T13:30:19.541Z"}
{"msg":"but for the old block,it's missing?","username":"asaningmaxchain123","ts":"2018-08-06T13:31:13.612Z"}
{"msg":"'old' is relative... it may be new to my peer if my peer is running behind.  ","username":"dave.enyeart","ts":"2018-08-06T13:31:56.878Z"}
{"msg":"it can safely pull next blocks from other peers.  I'm just saying it won't re-check already committed blocks later. ","username":"dave.enyeart","ts":"2018-08-06T13:32:45.854Z"}
{"msg":"@dave.enyeart my question is if i delete the blockfile for peer1, and i restart the peer1,the missing blockfile will pull from the other peer? ","username":"asaningmaxchain123","ts":"2018-08-06T13:35:22.564Z"}
{"msg":"no, the peer will not continually re-check old blocks.  if you want to ensure that blocks did not get tampered/corrupted post-commit, you will need an external validation utility.","username":"dave.enyeart","ts":"2018-08-06T13:38:21.405Z"}
{"msg":"ok，i got it,","username":"asaningmaxchain123","ts":"2018-08-06T13:42:16.730Z"}
{"msg":"@dave.enyeart  i use the e2e/cli to test the if i delete all data for a peer,but i still get the data from the data?","username":"asaningmaxchain123","ts":"2018-08-06T13:43:02.843Z"}
{"msg":"it seems wrong","username":"asaningmaxchain123","ts":"2018-08-06T13:43:17.765Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-08-06T13:44:18.640Z","attachments":[{"type":"file","title":"Clipboard - August 6, 2018 9:44 PM","title_link":"/file-upload/hoS9GK55mTQmH4tSf/Clipboard%20-%20August%206,%202018%209:44%20PM","image_url":"/file-upload/hoS9GK55mTQmH4tSf/Clipboard%20-%20August%206,%202018%209:44%20PM","image_type":"image/png","image_size":75828,"url":"/file-upload/hoS9GK55mTQmH4tSf/Clipboard%20-%20August%206,%202018%209:44%20PM","remote":false,"fileId":"hoS9GK55mTQmH4tSf","fileName":"Clipboard - August 6, 2018 9:44 PM"}]}
{"msg":"i did the data persistence","username":"asaningmaxchain123","ts":"2018-08-06T13:44:26.255Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-08-06T13:44:49.225Z","attachments":[{"type":"file","title":"Clipboard - August 6, 2018 9:44 PM","title_link":"/file-upload/u9hSZgyf7ymn553YR/Clipboard%20-%20August%206,%202018%209:44%20PM","image_url":"/file-upload/u9hSZgyf7ymn553YR/Clipboard%20-%20August%206,%202018%209:44%20PM","image_type":"image/png","image_size":111578,"url":"/file-upload/u9hSZgyf7ymn553YR/Clipboard%20-%20August%206,%202018%209:44%20PM","remote":false,"fileId":"u9hSZgyf7ymn553YR","fileName":"Clipboard - August 6, 2018 9:44 PM"}]}
{"msg":"and than i delete the file ","username":"asaningmaxchain123","ts":"2018-08-06T13:45:18.859Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-08-06T13:45:21.879Z","attachments":[{"type":"file","title":"Clipboard - August 6, 2018 9:45 PM","title_link":"/file-upload/6g5Bdw3pFmrMjBSdH/Clipboard%20-%20August%206,%202018%209:45%20PM","image_url":"/file-upload/6g5Bdw3pFmrMjBSdH/Clipboard%20-%20August%206,%202018%209:45%20PM","image_type":"image/png","image_size":18369,"url":"/file-upload/6g5Bdw3pFmrMjBSdH/Clipboard%20-%20August%206,%202018%209:45%20PM","remote":false,"fileId":"6g5Bdw3pFmrMjBSdH","fileName":"Clipboard - August 6, 2018 9:45 PM"}]}
{"msg":"and i use the `peer chaincode query -C mychannel -n mycc -c '{\"Args\":[\"query\",\"a\"]}'`","username":"asaningmaxchain123","ts":"2018-08-06T13:46:39.872Z"}
{"msg":"to query a","username":"asaningmaxchain123","ts":"2018-08-06T13:46:44.273Z"}
{"msg":"it tell me 90","username":"asaningmaxchain123","ts":"2018-08-06T13:46:54.579Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-08-06T13:47:31.938Z","attachments":[{"type":"file","title":"Clipboard - August 6, 2018 9:47 PM","title_link":"/file-upload/buX8LbbJHBXpTEbfM/Clipboard%20-%20August%206,%202018%209:47%20PM","image_url":"/file-upload/buX8LbbJHBXpTEbfM/Clipboard%20-%20August%206,%202018%209:47%20PM","image_type":"image/png","image_size":128896,"url":"/file-upload/buX8LbbJHBXpTEbfM/Clipboard%20-%20August%206,%202018%209:47%20PM","remote":false,"fileId":"buX8LbbJHBXpTEbfM","fileName":"Clipboard - August 6, 2018 9:47 PM"}]}
{"msg":"@manish-sethi ","username":"asaningmaxchain123","ts":"2018-08-06T13:55:17.933Z"}
{"msg":"can you take a look?","username":"asaningmaxchain123","ts":"2018-08-06T13:55:27.608Z"}
{"msg":"this is consistent with what i've said above.  if you delete old block files manually, but keep the state database, then the chaincode that queries the state database will continue to work.","username":"dave.enyeart","ts":"2018-08-06T13:59:07.683Z"}
{"msg":"but i delete the all the file","username":"asaningmaxchain123","ts":"2018-08-06T13:59:56.448Z"}
{"msg":"i know the state database contains the information the last new state,it can work ","username":"asaningmaxchain123","ts":"2018-08-06T14:00:50.320Z"}
{"msg":"but i delete the all the file which include the world state","username":"asaningmaxchain123","ts":"2018-08-06T14:01:13.689Z"}
{"msg":"@asaningmaxchain123 - i assume that you are observing that you are able to get the answer for the chaincode query after deleting the ledgersData folder? If you are using couchdb then that's outside this folder and if you are using leveldb then most likely you deleted the folder while the peer is running and the peer process already holds the file descriptors and won't observe the deletion of files by other process...","username":"manish-sethi","ts":"2018-08-06T14:12:39.520Z"}
{"msg":"@manish-sethi  so i should restart the container if i want to see it?","username":"asaningmaxchain123","ts":"2018-08-06T16:17:03.855Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Ei8QjNXhBersP2Gzf) @dave.enyeart Thanks @dave.enyeart . So the procedure for repair would be to manually remove the `_gloabal_changes` from every couch instance and update the peer configuration via docker compose file to disable creation of it further. ","username":"rahulhegde","ts":"2018-08-06T18:45:18.499Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Ei8QjNXhBersP2Gzf","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Ei8QjNXhBersP2Gzf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Ei8QjNXhBersP2Gzf) @dave.enyeart Thanks @dave.enyeart . So the procedure for repair would be to manually remove the `_global_changes` from every couch instance and update the peer configuration via docker compose file to disable creation of it further. ","username":"rahulhegde","ts":"2018-08-06T18:45:18.499Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Ei8QjNXhBersP2Gzf","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Ei8QjNXhBersP2Gzf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"right, the default going forward will be to have `_global_changes` disabled. per the couchdb docs, the database can be deleted if you are not using it: http://docs.couchdb.org/en/latest/install/setup.html#single-node-setup","username":"dave.enyeart","ts":"2018-08-06T18:56:05.811Z"}
{"msg":"right, the default going forward will be to have `_global_changes` disabled (never create it). per the couchdb docs, the database can be deleted if you are not using it: http://docs.couchdb.org/en/latest/install/setup.html#single-node-setup","username":"dave.enyeart","ts":"2018-08-06T18:56:05.811Z"}
{"msg":"We would like to change the existing JSON document representation from 1 format to another (couch database as world state ledger).  I can think of two ways -  1. writing a Migrate Chaincode Invoke function and later asking client like PEER CLI to call the same until the migration process is complete. 2. Other approach would perform migration inside the Init method however number of documents for conversion can be far many. \nAny other suggestion or recommendation?  ","username":"rahulhegde","ts":"2018-08-07T03:11:01.941Z"}
{"msg":"can anyone please explain me what are high and low values in hyperledger fabric?","username":"username343","ts":"2018-08-07T10:22:56.372Z"}
{"msg":"how do we read the high and low values in block structure for  the version of an asset like ->","username":"username343","ts":"2018-08-08T05:04:03.038Z"}
{"msg":"asset: \"asset1\",","username":"username343","ts":"2018-08-08T05:04:20.779Z"}
{"msg":"version: {","username":"username343","ts":"2018-08-08T05:04:25.372Z"}
{"msg":"low: 3,","username":"username343","ts":"2018-08-08T05:04:36.080Z"}
{"msg":"high: 0,","username":"username343","ts":"2018-08-08T05:04:42.082Z"}
{"msg":"}","username":"username343","ts":"2018-08-08T05:04:46.162Z"}
{"msg":"i got that low means the latest block but what does the high imply?","username":"username343","ts":"2018-08-08T05:05:04.026Z"}
{"msg":"@username343 This is a node.js sdk nuance, please take discussion to #fabric-sdk-node , you can see an existing answer here: https://chat.hyperledger.org/channel/fabric-sdk-node?msg=cLGhTykqwn5SJys7e","username":"dave.enyeart","ts":"2018-08-08T10:46:04.284Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-sdk-node?msg=cLGhTykqwn5SJys7e","url":"https://chat.hyperledger.org/channel/fabric-sdk-node?msg=cLGhTykqwn5SJys7e","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart thanks man :thumbsup:","username":"username343","ts":"2018-08-08T12:39:11.012Z"}
{"msg":"Has joined the channel.","username":"alek","ts":"2018-08-09T08:11:22.522Z","type":"uj"}
{"msg":"where the ledger data are stored in system?","username":"rajivgandhi2010","ts":"2018-08-09T12:46:46.147Z"}
{"msg":"is it a file based storage?","username":"rajivgandhi2010","ts":"2018-08-09T12:51:09.884Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=xQnDAhPjh5Xy9kLbv) @rajivgandhi2010 ledger data resides on peer file system under `/var/hyperledger/production/ledgersData/chains/`","username":"C0rWin","ts":"2018-08-09T14:20:01.244Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xQnDAhPjh5Xy9kLbv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xQnDAhPjh5Xy9kLbv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"in widnows?","username":"rajivgandhi2010","ts":"2018-08-10T05:33:15.995Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=kJirCbyxgBCnYEXjT) @rajivgandhi2010 peer file system, if you running windows, then most likely it's within peer's docker container","username":"C0rWin","ts":"2018-08-12T13:14:02.242Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kJirCbyxgBCnYEXjT","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kJirCbyxgBCnYEXjT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"pankaj9310","ts":"2018-08-13T14:48:08.386Z","type":"uj"}
{"msg":"Has joined the channel.","username":"VipinB","ts":"2018-08-13T21:18:09.275Z","type":"uj"}
{"msg":"@dave.enyeart i use the couchdb as the world state,i find it speed longer time to finish","username":"asaningmaxchain123","ts":"2018-08-15T13:51:52.873Z"}
{"msg":"Has joined the channel.","username":"dileban","ts":"2018-08-16T23:26:16.145Z","type":"uj"}
{"msg":"Could someone confirm whether in the current implementation of Fabric the writesets include the new value 'v' for key 'k' in it's entirety or a delta of 'k''s previous value?","username":"dileban","ts":"2018-08-16T23:31:46.363Z"}
{"msg":"Entirely","username":"yacovm","ts":"2018-08-16T23:34:02.384Z"}
{"msg":"So strictly speaking if I was looking at the transaction log (assuming I didn't have access the World State), I only need to look at the last valid transaction for 'k' to determine it's value. In other words, k's history doesn","username":"dileban","ts":"2018-08-16T23:36:01.646Z"}
{"msg":"So strictly speaking if I was looking at the transaction log (assuming I didn't have access the World State), I only need to look at the last valid transaction for 'k' to determine it's value. In other words, k's history doesn't matter","username":"dileban","ts":"2018-08-16T23:36:01.646Z"}
{"msg":"So strictly speaking if I was looking at the transaction log (assuming I didn't have access to the World State), I only need to look at the last valid transaction for 'k' to determine it's value. In other words, k's history doesn't matter","username":"dileban","ts":"2018-08-16T23:36:01.646Z"}
{"msg":"That is correct","username":"yacovm","ts":"2018-08-16T23:40:15.652Z"}
{"msg":"Is there a reason why we didn't want to use deltas for non-atomic values such as JSON documents? For instance of a single attribute in the document v was all that was changed, storing the delta in v' will be space efficient (I'm guessing the tradeoff here might not make a lot of sense in practice give storage is cheap)","username":"dileban","ts":"2018-08-16T23:47:15.076Z"}
{"msg":"@dave.enyeart i can set the couchdb index by the `curl` not in the chaincode isntall","username":"asaningmaxchain123","ts":"2018-08-17T15:39:30.378Z"}
{"msg":"@dave.enyeart i can set the couchdb index by the `curl` not in the chaincode isntall?","username":"asaningmaxchain123","ts":"2018-08-17T15:39:30.378Z"}
{"msg":"@dave.enyeart i can set the couchdb index by the `curl` not in the chaincode install?","username":"asaningmaxchain123","ts":"2018-08-17T15:39:30.378Z"}
{"msg":"You package the index with the chaincode installation.  This documentation describes it: https://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html","username":"dave.enyeart","ts":"2018-08-17T15:40:37.434Z"}
{"msg":"yes,i can do it,but i can do it by the `curl`","username":"asaningmaxchain123","ts":"2018-08-17T15:41:12.175Z"}
{"msg":"not by the `peer chaincode install `","username":"asaningmaxchain123","ts":"2018-08-17T15:41:30.133Z"}
{"msg":"in a development environment, sure you can try some things out in curl prior to finalizing the chaincode installation package","username":"dave.enyeart","ts":"2018-08-17T15:41:39.981Z"}
{"msg":"ok,i got it","username":"asaningmaxchain123","ts":"2018-08-17T15:42:28.248Z"}
{"msg":"in the `SideDB`, the control strength is `org`","username":"asaningmaxchain123","ts":"2018-08-17T15:43:21.062Z"}
{"msg":"?","username":"asaningmaxchain123","ts":"2018-08-17T15:43:23.362Z"}
{"msg":"not the `peer`","username":"asaningmaxchain123","ts":"2018-08-17T15:43:33.831Z"}
{"msg":"correct, the collection configuration that is passed at chaincode instantiation defines the private data dissemination policies at the org level.  Again, read all about it in the docs please: https://hyperledger-fabric.readthedocs.io/en/latest/private-data/private-data.html  https://hyperledger-fabric.readthedocs.io/en/latest/private-data-arch.html  https://hyperledger-fabric.readthedocs.io/en/latest/private_data_tutorial.html","username":"dave.enyeart","ts":"2018-08-17T15:45:08.584Z"}
{"msg":"ok,thx","username":"asaningmaxchain123","ts":"2018-08-17T15:45:36.439Z"}
{"msg":"another question,if i write a bad query statement for couchdb as world state,the peer shutdown?","username":"asaningmaxchain123","ts":"2018-08-17T15:46:03.589Z"}
{"msg":"so i think the fabric should check it","username":"asaningmaxchain123","ts":"2018-08-17T15:46:14.915Z"}
{"msg":"no, your proposal will return the error to your client","username":"dave.enyeart","ts":"2018-08-17T15:46:29.644Z"}
{"msg":"no, the peer will process the proposal and will return the error to your client","username":"dave.enyeart","ts":"2018-08-17T15:46:29.644Z"}
{"msg":"are you sure?","username":"asaningmaxchain123","ts":"2018-08-17T15:46:57.322Z"}
{"msg":"in my test,the peer shutdown","username":"asaningmaxchain123","ts":"2018-08-17T15:47:13.549Z"}
{"msg":"i'm sure, if i pass a bad query to chaincode invoke, the peer stays up and returns an error to the client such as:","username":"dave.enyeart","ts":"2018-08-17T15:49:15.490Z"}
{"msg":"```Error: endorsement failure during query. response: status:500 message:\"GET_QUERY_RESULT failed: transaction ID: aa61e25643450ba1a7dd3b72db1e2599d338bd5cd206bde41768ecc8e937cb2f: error handling CouchDB request. Error:missing_required_key,  Status Code:400,  Reason:Missing required key: selector\"```","username":"dave.enyeart","ts":"2018-08-17T15:49:19.693Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-08-17T15:49:28.931Z","attachments":[{"type":"file","title":"Clipboard - August 17, 2018 11:49 PM","title_link":"/file-upload/mhaffseQbQEE7J8KN/Clipboard%20-%20August%2017,%202018%2011:49%20PM","image_url":"/file-upload/mhaffseQbQEE7J8KN/Clipboard%20-%20August%2017,%202018%2011:49%20PM","image_type":"image/png","image_size":19309,"url":"/file-upload/mhaffseQbQEE7J8KN/Clipboard%20-%20August%2017,%202018%2011:49%20PM","remote":false,"fileId":"mhaffseQbQEE7J8KN","fileName":"Clipboard - August 17, 2018 11:49 PM"}]}
{"msg":"yes, you are right","username":"asaningmaxchain123","ts":"2018-08-17T15:49:37.066Z"}
{"msg":"If you see something different, please open a Jira with the peer shutdown log","username":"dave.enyeart","ts":"2018-08-17T15:49:40.141Z"}
{"msg":"but in the v1.0, i am sure the peer shutdown","username":"asaningmaxchain123","ts":"2018-08-17T15:50:05.021Z"}
{"msg":"I don't recall what v1.0 did, as couchdb is only recommended for production purpose as of v1.1","username":"dave.enyeart","ts":"2018-08-17T15:51:00.788Z"}
{"msg":"ok,i got it, thx for a lot","username":"asaningmaxchain123","ts":"2018-08-17T15:51:48.517Z"}
{"msg":"ok,i got it, thx ","username":"asaningmaxchain123","ts":"2018-08-17T15:51:48.517Z"}
{"msg":"in the fabric,the blockfile will be Archived?","username":"asaningmaxchain123","ts":"2018-08-17T15:53:16.869Z"}
{"msg":"the blockfile is stored on peer's disk, not archived","username":"dave.enyeart","ts":"2018-08-17T15:53:41.607Z"}
{"msg":"so the blockfile increase 1000T, i think the custom can't accept","username":"asaningmaxchain123","ts":"2018-08-17T15:54:17.496Z"}
{"msg":"so the blockfile increase into 1000T, i think the custom can't accept","username":"asaningmaxchain123","ts":"2018-08-17T15:54:17.496Z"}
{"msg":"the blockfiles can increase forever","username":"dave.enyeart","ts":"2018-08-17T15:54:42.340Z"}
{"msg":"until you run out of disk space that is, and then you obtain more disk space.  in the future there is intent to provide some archive function.","username":"dave.enyeart","ts":"2018-08-17T15:55:21.520Z"}
{"msg":"ok, i got it. thx very much","username":"asaningmaxchain123","ts":"2018-08-17T15:56:35.425Z"}
{"msg":"no problem, i need to step away...","username":"dave.enyeart","ts":"2018-08-17T15:57:01.664Z"}
{"msg":"@dave.enyeart @manish-sethi Is there any activity going on about https://jira.hyperledger.org/browse/FAB-8031? Any concrete plans?","username":"minollo","ts":"2018-08-18T00:53:51.701Z"}
{"msg":"Hi, where in 1.2 is \"private data collection\" physically stored. We use CouchDB as the key/value store.       Is it in a separate CouchDB database ?  Is it anywhere else ?  I'm asking from the point of view  of knowing where we might have to allocate storage if we wanted to use it ?","username":"rsherwood","ts":"2018-08-20T09:10:46.241Z"}
{"msg":"Private data is stored per block next to the blockchain on the file system, and private data current state is stored in a separate couchdb database next to regular data current state database.","username":"dave.enyeart","ts":"2018-08-20T11:22:17.114Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=gfnEfxZt4zv8i2pEg) @minollo Not the one that we can call concrete at the moment. This does not seem to have broken the 'priority' bar yet...","username":"manish-sethi","ts":"2018-08-20T12:49:55.592Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gfnEfxZt4zv8i2pEg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gfnEfxZt4zv8i2pEg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"OviiyaDominic","ts":"2018-08-21T09:22:17.727Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bdjidi","ts":"2018-08-21T22:48:28.847Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Akash-digiledge","ts":"2018-08-23T07:41:07.219Z","type":"uj"}
{"msg":"Hi all, i am trying to do pagination in my application(couchDB, Fabric Hyperleger). when i query with selector {\"selector\":{\"docType\":\"account\"},\"limit\": 4,\"skip\": 2} am getting all accounts. its not skipping and limiting...can any one explain me how to do this????","username":"Akash-digiledge","ts":"2018-08-23T07:42:15.925Z"}
{"msg":"@Akash-digiledge paging support is being added in next release. you can read about it here: https://jira.hyperledger.org/browse/FAB-2809 .  There are some workaround ideas mentioned in there.","username":"dave.enyeart","ts":"2018-08-23T09:49:28.713Z"}
{"msg":"Has joined the channel.","username":"tom.appleyard","ts":"2018-08-23T17:50:50.246Z","type":"uj"}
{"msg":"Hey All, I'm trying to deploy a piece of chaincode with a collection profile but I keep running into the following error:\n\n`Error: could not assemble transaction, err Proposal response was not successful, error code 500, msg invalid number of arguments to lscc:","username":"tom.appleyard","ts":"2018-08-23T17:52:02.242Z"}
{"msg":"Hey All, I'm trying to deploy a piece of chaincode with a collection profile but I keep running into the following error:\n\n`Error: could not assemble transaction, err Proposal response was not successful, error code 500, msg invalid number of arguments to lscc`","username":"tom.appleyard","ts":"2018-08-23T17:52:02.242Z"}
{"msg":"Command is:\n\n```    docker exec cli peer chaincode instantiate -o $ORDERER_ADDRESS \\\n                               -C \"$CHANNEL_NAME\" \\\n                               -n \"$CHAINCODE_ID\" \\\n                               -v \"$CHAINCODE_VERSION\" \\\n                               -c \"$INIT_ARGS\" \\\n                               --policy \"OR('org1.member', AND('org2.member', 'org3.member'))\" \\\n                               --collections-config \"/etc/hyperledger/policies/collections.json\"```\n\nPolicy is \n\n```[\n    {\n        \"name\": \"collection1\",\n        \"policy\": \"OR('org1.peer', 'org2.peer')\",\n        \"requiredPeerCount\": 0,\n        \"maxPeerCount\": 2,\n        \"blockToLive\": 1000000\n    }\n]```","username":"tom.appleyard","ts":"2018-08-23T17:53:07.027Z"}
{"msg":"Has anyone seen this before or has any idea?","username":"tom.appleyard","ts":"2018-08-23T17:53:14.350Z"}
{"msg":"This is due to the channel not have application capability V1_2 defined.  It's a bad error message though... I've opened https://jira.hyperledger.org/browse/FAB-11712 to improve it.","username":"dave.enyeart","ts":"2018-08-23T18:32:17.512Z"}
{"msg":"Has joined the channel.","username":"ErmyasTeshome","ts":"2018-08-24T00:55:50.376Z","type":"uj"}
{"msg":"awsome, thanks!","username":"tom.appleyard","ts":"2018-08-24T09:14:47.366Z"}
{"msg":"Hey All, I'm getting this after I push an anchor peer update:\n\n```2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 035 Anchor peer with same endpoint, skipping connecting to myself\n2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 036 Anchor peer peer0.org2.example.com:7051 isn't in our org(org2) and we have no external endpoint, skipping```","username":"tom.appleyard","ts":"2018-08-24T09:15:34.653Z"}
{"msg":"Hey All!\n\nSo I'm still stuck on this private data stuff, I've got my network deployed and 1.2 enabled now (huge thanks to @dave.enyeart) but I'm getting the following whenever I try to query private data:\n\n```2018-08-24 09:14:55.575 UTC [chaincode] HandleTransaction -> ERRO 043 [3e392ac5] Failed to handle GET_STATE. error: Private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x5, TxNum:0x0}, Private data version = (*version.Height)(nil)\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:545\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:197\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:242\nruntime.goexit\n/opt/go/src/runtime/asm_amd64.s:2361\nGET_STATE failed: transaction ID: 3e392ac59e91f3c859404f6715168b2b5ba2024af572822f818954866e31de8d\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:246\nruntime.goexit\n/opt/go/src/runtime/asm_amd64.s:2361```\n\n```2018-08-24 09:14:55.581 UTC [endorser] SimulateProposal -> ERRO 044 [defaultchannel][3e392ac5] failed to invoke chaincode name:\"cc1\" , error: transaction returned with failure: {}\ngithub.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\n/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:202\ngithub.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\n/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:141\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\n/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:136\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal\n/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:287\ngithub.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\n/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:501\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\n/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\ngithub.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\n/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:31\ngithub.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler\n/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:112\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:923\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1148\ngithub.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1\n/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:637\nruntime.goexit\n/opt/go/src/runtime/asm_amd64.s:2361```","username":"tom.appleyard","ts":"2018-08-24T09:25:16.029Z"}
{"msg":"Hey All!\n\nSo I'm still stuck on this private data stuff, I've got my network deployed and 1.2 enabled now (huge thanks to @dave.enyeart) but I'm getting the following whenever I try to query private data:\n\n```2018-08-24 09:14:55.575 UTC [chaincode] HandleTransaction -> ERRO 043 [3e392ac5] Failed to handle GET_STATE. error: Private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x5, TxNum:0x0}, Private data version = (*version.Height)(nil)```\n\n```2018-08-24 09:14:55.581 UTC [endorser] SimulateProposal -> ERRO 044 [defaultchannel][3e392ac5] failed to invoke chaincode name:\"cc1\" , error: transaction returned with failure: {}```","username":"tom.appleyard","ts":"2018-08-24T09:25:16.029Z"}
{"msg":"Hey All!\n\nSo I'm still stuck on this private data stuff, I've got my network deployed and 1.2 enabled now (huge thanks to @dave.enyeart) but I'm getting the following whenever I try to query private data:\n\n```2018-08-24 09:14:55.575 UTC [chaincode] HandleTransaction -> ERRO 043 [3e392ac5] Failed to handle GET_STATE. error: Private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x5, TxNum:0x0}, Private data version = (*version.Height)(nil)```\n\n```2018-08-24 09:14:55.581 UTC [endorser] SimulateProposal -> ERRO 044 [defaultchannel][3e392ac5] failed to invoke chaincode name:\"cc1\" , error: transaction returned with failure: {}```\n","username":"tom.appleyard","ts":"2018-08-24T09:25:16.029Z"}
{"msg":"Hey All!\n\nSo I'm still stuck on this private data stuff, I've got my network deployed and 1.2 enabled now (huge thanks to @dave.enyeart) but I'm getting the following whenever I try to query private data:\n\n```2018-08-24 09:14:55.575 UTC [chaincode] HandleTransaction -> ERRO 043 [3e392ac5] Failed to handle GET_STATE. error: Private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x5, TxNum:0x0}, Private data version = (*version.Height)(nil)```\n\n```2018-08-24 09:14:55.581 UTC [endorser] SimulateProposal -> ERRO 044 [defaultchannel][3e392ac5] failed to invoke chaincode name:\"cc1\" , error: transaction returned with failure: {}```\n","username":"tom.appleyard","ts":"2018-08-24T09:25:16.029Z"}
{"msg":"Hey All!\n\nSo I'm still stuck on this private data stuff, I've got my network deployed and 1.2 enabled now (huge thanks to @dave.enyeart) but I'm getting the following whenever I try to query private data:\n\n`2018-08-24 09:14:55.575 UTC [chaincode] HandleTransaction -> ERRO 043 [3e392ac5] Failed to handle GET_STATE. error: Private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x5, TxNum:0x0}, Private data version = (*version.Height)(nil)`\n\n`2018-08-24 09:14:55.581 UTC [endorser] SimulateProposal -> ERRO 044 [defaultchannel][3e392ac5] failed to invoke chaincode name:\"cc1\" , error: transaction returned with failure: {}`\n","username":"tom.appleyard","ts":"2018-08-24T09:25:16.029Z"}
{"msg":"When I try to invoke and write private data however:\n\n```2018-08-24 09:14:54.552 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 041 Created state database defaultchannel_testCollection$$htestCollection$collection\n2018-08-24 09:14:55.567 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 042 Created state database defaultchannel_testCollection$$ptestCollection$collection```\n\n```2018-08-24 09:18:14.432 UTC [kvledger] CommitWithPvtData -> INFO 045 Channel [defaultchannel]: Committed block [6] with 1 transaction(s)```\n\nMy Collection policy is as follows:\n\n```[\n    {\n        \"name\": \"exampleCollection\",\n        \"policy\": \"OR('org1.peer', 'org2.peer')\",\n        \"requiredPeerCount\": 0,\n        \"maxPeerCount\": 2,\n        \"blockToLive\": 1000000\n    }\n]```\n\nI'm assuming this is set up correctly as I can deploy the code and invoke it however when it comes to querying I get errors. I'm invoking and querying on org1's peer.\n\nGiven that private data is dissemenated via gossip I am getting the following on the org1 peer (and equivalents on the others):\n\n```2018-08-24 09:11:37.226 UTC [kvledger] CommitWithPvtData -> INFO 034 Channel [defaultchannel]: Committed block [1] with 1 transaction(s)\n2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 035 Anchor peer with same endpoint, skipping connecting to myself\n2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 036 Anchor peer peer0.org2.example.com:7051 isn't in our org(org2) and we have no external endpoint, skipping\n2018-08-24 09:11:38.597 UTC [kvledger] CommitWithPvtData -> INFO 037 Channel [defaultchannel]: Committed block [2] with 1 transaction(s)\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 038 Anchor peer with same endpoint, skipping connecting to myself\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 039 Anchor peer peer0.org2.example.com:7051 isn't in our org(org2) and we have no external endpoint, skipping\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 03a Anchor peer peer0.org3.example.com:7051 isn't in our org(org3) and we have no external endpoint, skipping```\n\nOrg 2 should also be in the collection but doesn't have any of the creating the sidedb that Org1 has. I assume this is a product of Gossip not working.\n\nAs such, my questions are:\n\n*Why aren't my queries working?*\n*How do I get Gossip set up correctly? (if it's not working)*\n\nThanks!","username":"tom.appleyard","ts":"2018-08-24T09:25:23.198Z"}
{"msg":"\n\n\n\nWhen I try to invoke and write private data however:\n\n```2018-08-24 09:14:54.552 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 041 Created state database defaultchannel_testCollection$$htestCollection$collection\n2018-08-24 09:14:55.567 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 042 Created state database defaultchannel_testCollection$$ptestCollection$collection```\n\nAnd then when I try to write again:\n\n```2018-08-24 09:18:14.432 UTC [kvledger] CommitWithPvtData -> INFO 045 Channel [defaultchannel]: Committed block [6] with 1 transaction(s)```\n\nMy Collection policy is as follows:\n\n```[\n    {\n        \"name\": \"exampleCollection\",\n        \"policy\": \"OR('org1.peer', 'org2.peer')\",\n        \"requiredPeerCount\": 0,\n        \"maxPeerCount\": 2,\n        \"blockToLive\": 1000000\n    }\n]```\n\nI'm assuming this is set up correctly as I can deploy the code and invoke it however when it comes to querying I get errors. I'm invoking and querying on org1's peer.\n\nGiven that private data is dissemenated via gossip I am getting the following on the org1 peer (and equivalents on the others):\n\n```2018-08-24 09:11:37.226 UTC [kvledger] CommitWithPvtData -> INFO 034 Channel [defaultchannel]: Committed block [1] with 1 transaction(s)\n2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 035 Anchor peer with same endpoint, skipping connecting to myself\n2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 036 Anchor peer peer0.org2.example.com:7051 isn't in our org(org2) and we have no external endpoint, skipping\n2018-08-24 09:11:38.597 UTC [kvledger] CommitWithPvtData -> INFO 037 Channel [defaultchannel]: Committed block [2] with 1 transaction(s)\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 038 Anchor peer with same endpoint, skipping connecting to myself\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 039 Anchor peer peer0.org2.example.com:7051 isn't in our org(org2) and we have no external endpoint, skipping\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 03a Anchor peer peer0.org3.example.com:7051 isn't in our org(org3) and we have no external endpoint, skipping```\n\nOrg 2 should also be in the collection but doesn't have any of the creating the sidedb that Org1 has. I assume this is a product of Gossip not working.\n\nAs such, my questions are:\n\n*Why aren't my queries working?*\n*How do I get Gossip set up correctly? (if it's not working)*\n\nThanks!","username":"tom.appleyard","ts":"2018-08-24T09:25:23.198Z"}
{"msg":"When I try to invoke and write private data however:\n\n```2018-08-24 09:14:54.552 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 041 Created state database defaultchannel_testCollection$$htestCollection$collection\n2018-08-24 09:14:55.567 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 042 Created state database defaultchannel_testCollection$$ptestCollection$collection```","username":"tom.appleyard","ts":"2018-08-24T09:25:23.198Z"}
{"msg":"And then when I try to write again:\n\n```2018-08-24 09:18:14.432 UTC [kvledger] CommitWithPvtData -> INFO 045 Channel [defaultchannel]: Committed block [6] with 1 transaction(s)```","username":"tom.appleyard","ts":"2018-08-24T09:27:04.284Z"}
{"msg":"My Collection policy is as follows:\n\n```[\n    {\n        \"name\": \"exampleCollection\",\n        \"policy\": \"OR('org1.peer', 'org2.peer')\",\n        \"requiredPeerCount\": 0,\n        \"maxPeerCount\": 2,\n        \"blockToLive\": 1000000\n    }\n]```","username":"tom.appleyard","ts":"2018-08-24T09:27:12.021Z"}
{"msg":"I'm assuming this is set up correctly as I can deploy the code and invoke it however when it comes to querying I get errors. I'm invoking and querying on org1's peer.\n\nGiven that private data is dissemenated via gossip I am getting the following on the org1 peer (and equivalents on the others):\n\n```2018-08-24 09:11:37.226 UTC [kvledger] CommitWithPvtData -> INFO 034 Channel [defaultchannel]: Committed block [1] with 1 transaction(s)\n2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 035 Anchor peer with same endpoint, skipping connecting to myself\n2018-08-24 09:11:38.582 UTC [gossip/gossip] learnAnchorPeers -> INFO 036 Anchor peer peer0.org2.example.com:7051 isn't in our org(org2) and we have no external endpoint, skipping\n2018-08-24 09:11:38.597 UTC [kvledger] CommitWithPvtData -> INFO 037 Channel [defaultchannel]: Committed block [2] with 1 transaction(s)\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 038 Anchor peer with same endpoint, skipping connecting to myself\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 039 Anchor peer peer0.org2.example.com:7051 isn't in our org(org2) and we have no external endpoint, skipping\n2018-08-24 09:11:39.957 UTC [gossip/gossip] learnAnchorPeers -> INFO 03a Anchor peer peer0.org3.example.com:7051 isn't in our org(org3) and we have no external endpoint, skipping```\n\nOrg 2 should also be in the collection but doesn't have any of the creating the sidedb that Org1 has. I assume this is a product of Gossip not working.\n\nAs such, my questions are:\n\n*Why aren't my queries working?*\n*How do I get Gossip set up correctly? (if it's not working)*\n\nThanks!","username":"tom.appleyard","ts":"2018-08-24T09:27:19.307Z"}
{"msg":"@tom.appleyard I'll take a look at your peer debug (generate with CORE_LOGGING_LEVEL=DEBUG) when I get a chance... make sure to include the invoke/commit that adds the private key, as well as the query. Mention timestamp of both.  ","username":"dave.enyeart","ts":"2018-08-24T11:15:07.006Z"}
{"msg":"Has joined the channel.","username":"SarahM","ts":"2018-08-25T17:45:53.122Z","type":"uj"}
{"msg":"@tom.appleyard - the logs say that your peer doesn't have an external endpoint configured... it's a dead giveaway. ","username":"yacovm","ts":"2018-08-26T20:17:12.317Z"}
{"msg":"if you want this peer to be accessible to other organizations you need to set its external endpoint","username":"yacovm","ts":"2018-08-26T20:17:29.517Z"}
{"msg":"right now, your peer receives a config block with an anchor peer update for `peer0.org3` and it basically refuses to talk to it because it has no external endpoint, and thus other organizations aren't supposed to know about its existence :spy: ","username":"yacovm","ts":"2018-08-26T20:18:35.223Z"}
{"msg":"If you configure an external endpoint (`CORE_PEER_GOSSIP_EXTERNALENDPOINT`) then the peer would then reach to the anchor peers and say \"hey! I'm here guys! talk to me!\"","username":"yacovm","ts":"2018-08-26T20:19:11.592Z"}
{"msg":"If you configure an external endpoint ( `CORE_PEER_GOSSIP_EXTERNALENDPOINT` ) then the peer would then reach to the anchor peers and say \"hey! I'm here guys! talk to me!\"","username":"yacovm","ts":"2018-08-26T20:19:11.592Z"}
{"msg":"Has joined the channel.","username":"FaizulHassan","ts":"2018-08-27T09:11:39.716Z","type":"uj"}
{"msg":"Hi All , Greetings ! \nDoes Fabric support MongoDB as a state database ?","username":"FaizulHassan","ts":"2018-08-27T09:15:41.341Z"}
{"msg":"@FaizulHassan not yet, there is some work in the community to add MongoDB support","username":"dave.enyeart","ts":"2018-08-27T09:32:58.901Z"}
{"msg":"thank you Dave !","username":"FaizulHassan","ts":"2018-08-27T09:43:42.093Z"}
{"msg":"thank you @dave.enyeart  !","username":"FaizulHassan","ts":"2018-08-27T09:43:42.093Z"}
{"msg":"Has joined the channel.","username":"nicolas.alfonso","ts":"2018-08-27T22:48:33.155Z","type":"uj"}
{"msg":"Hello everyone, I need help. I try to configure the block browser on another server. I do not know how to get the pair's tls. Does anyone know how I can do?","username":"nicolas.alfonso","ts":"2018-08-27T22:48:46.804Z"}
{"msg":"Has joined the channel.","username":"qiangjiyi","ts":"2018-08-28T02:11:09.175Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jdfigure","ts":"2018-08-30T17:48:37.271Z","type":"uj"}
{"msg":"hi am using fabric version 1.1. For getting events am using channel-eventhub. by using registerChaincodeEvent am getting the eventname and txnId but not getting the payload. can any one help me to find out the problem?","username":"Akash-digiledge","ts":"2018-08-31T07:14:37.812Z"}
{"msg":"@Akash-digiledge You'll need to post on the relevant #fabric-sdk channel","username":"dave.enyeart","ts":"2018-08-31T09:10:00.607Z"}
{"msg":"Has left the channel.","username":"nfrunza","ts":"2018-08-31T16:24:27.523Z","type":"ul"}
{"msg":"Has joined the channel.","username":"sureshtedla","ts":"2018-08-31T16:24:42.332Z","type":"uj"}
{"msg":"\nCan any one tell me how to invoke the system chaincode? please explain me with one example...any reply will be appreciated..","username":"Akash-digiledge","ts":"2018-09-03T09:10:40.223Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=quSkFC7KCjb2gNNrk) @Akash-digiledge https://blockchain-fabric.blogspot.com/2018/03/system-chaincodes-in-hyperledger-fabric.html","username":"demonkm","ts":"2018-09-03T09:22:01.960Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=quSkFC7KCjb2gNNrk","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=quSkFC7KCjb2gNNrk","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hello guys , I needs some clarity in Hyperledger Transaction Flow.\n\nKindly advice whether my assumption is right.\n\n*Transaction flow:*\n\n- Client application sends transaction proposal to \"Endorsing Peers\"\n\n- \"Endorsing Peers\" validates participants by checking\n    - whether their Certificates are valid\n    - whether they are authorized to perform operation\n    - the Endorsement policies, signs the transation and sends response to client application\n\n    Question: What will be the Response from Endorsing Peers to client application contains ?\n              What are read/write sets ?\n\n  Also please brief about the transaction flow..\n  Thanks much in advance","username":"FaizulHassan","ts":"2018-09-05T06:23:52.387Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=hAsGvc7eGRj67gFDH) @FaizulHassan This should help you\nhttps://hyperledger-fabric.readthedocs.io/en/release-1.2/txflow.html","username":"adarshsaraf123","ts":"2018-09-05T08:31:27.712Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hAsGvc7eGRj67gFDH","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hAsGvc7eGRj67gFDH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"thank you @adarshsaraf123 :)\n","username":"FaizulHassan","ts":"2018-09-05T09:01:55.421Z"}
{"msg":"Yuck. I'm not sure if this is the java-sdk or the peer or my lack of understanding here. Which is why I'm spamming two channels - for which I'll apologize in advance.\nStand up a fabric network. Create a channel. Life is good. \n\nStop and restart the peers. They come up. So far so good.\nTry to rejoin the previously created channel. Not so good. \nChannel rejoin code is the same as the sample sdk reconstruct logic - join peers to channel object and do an initialize. Code all works fine except in this case - it's been untouched for months.\n\nSDK throws an access denied exception - `Sending proposal to peer1-org failed because of: gRPC failure=Status{code=UNKNOWN, description=access denied: channel [channel] creator org [msp], cause=null}` - msp and channel here are redacted but correct.\n\nPeer throws this `2018-09-05 15:04:30.479 UTC [protoutils] ValidateProposalMessage -> WARN 15d7 channel [channel]: MSP error: channel doesn't exist` before all hell breaks loose (it starts throwing hundreds of peer event errors with same).\n\nChannel was created just fine. I can see it in my orderer logs - here's two that seem pertinent - start and (as far as I can tell) end of the create \n`2018-09-05 13:48:46.112 UTC [orderer/common/msgprocessor] ProcessConfigUpdateMsg -> DEBU 13f Processing channel create tx for channel channel on system channel genesischannel`\n`2018-09-05 13:48:47.012 UTC [orderer/consensus/kafka] processConnect -> DEBU 47e [channel: ibm-block-channel] It's a connect message - ignoring`\n\nTLS is off. Crypto is unchanged between restarts.\nPeer storage persists and was untouched. Couchdb (which also restarted) storage persists and was untouched.\n\nDo I need to join the channel differently in the case of a peer restart like this? Or is there some issue here? I - wrongly - assumed it would just pick up where it left off...","username":"aatkddny","ts":"2018-09-05T15:53:10.434Z"}
{"msg":"Yuck. I'm not sure if this is the java-sdk or the peer or my lack of understanding here. Which is why I'm spamming two channels - for which I'll apologize in advance.\nStand up a fabric network. Create a channel. Life is good. \n\nStop and restart the peers. They come up. So far so good.\nTry to rejoin the previously created channel. Not so good. \nChannel rejoin code is the same as the sample sdk reconstruct logic - join peers to channel object and do an initialize. Code all works fine except in this case - it's been untouched for months.\n\nSDK throws an access denied exception - `Sending proposal to peer1-org failed because of: gRPC failure=Status{code=UNKNOWN, description=access denied: channel [channel] creator org [msp], cause=null}` - msp and channel here are redacted but correct.\n\nPeer throws this `2018-09-05 15:04:30.479 UTC [protoutils] ValidateProposalMessage -> WARN 15d7 channel [channel]: MSP error: channel doesn't exist` before all hell breaks loose (it starts throwing hundreds of peer event errors with same).\n\nChannel was created just fine. I can see it in my orderer logs - here's two that seem pertinent - start and (as far as I can tell) end of the create \n`2018-09-05 13:48:46.112 UTC [orderer/common/msgprocessor] ProcessConfigUpdateMsg -> DEBU 13f Processing channel create tx for channel channel on system channel genesischannel`\n`2018-09-05 13:48:47.012 UTC [orderer/consensus/kafka] processConnect -> DEBU 47e [channel: channel] It's a connect message - ignoring`\n\nTLS is off. Crypto is unchanged between restarts.\nPeer storage persists and was untouched. Couchdb (which also restarted) storage persists and was untouched.\n\nDo I need to join the channel differently in the case of a peer restart like this? Or is there some issue here? I - wrongly - assumed it would just pick up where it left off...","username":"aatkddny","ts":"2018-09-05T15:53:10.434Z"}
{"msg":"Yuck. I'm not sure if this is the java-sdk or the peer or my lack of understanding here. Which is why I'm spamming two channels - for which I'll apologize in advance.\nStand up a fabric network. Create a channel. Life is good. \n\nStop and restart the peers. They come up. So far so good.\nTry to rejoin the previously created channel. Not so good. \nChannel rejoin code is the same as the sample sdk reconstruct logic - join peers to channel object and do an initialize. Code all works fine except in this case - it's been untouched for months.\n\nSDK throws an access denied exception - `Sending proposal to peer1-org failed because of: gRPC failure=Status{code=UNKNOWN, description=access denied: channel [channel] creator org [msp], cause=null}` - msp and channel here are redacted but correct.\n\nPeer throws this `2018-09-05 15:04:30.479 UTC [protoutils] ValidateProposalMessage -> WARN 15d7 channel [channel]: MSP error: channel doesn't exist` before all hell breaks loose (it starts throwing hundreds of peer event errors with same).\n\nChannel was created just fine. I can see it in my orderer logs - here's two that seem pertinent - start and (as far as I can tell) end of the create \n`2018-09-05 13:48:46.112 UTC [orderer/common/msgprocessor] ProcessConfigUpdateMsg -> DEBU 13f Processing channel create tx for channel channel on system channel genesischannel`\n`2018-09-05 13:48:47.012 UTC [orderer/consensus/kafka] processConnect -> DEBU 47e [channel: channel] It's a connect message - ignoring`\n\nTLS is off. Crypto is unchanged between restarts.\nPeer storage is container local in this case. Couchdb (which also restarted) storage persists and was untouched.\n\nDo I need to join the channel differently in the case of a peer restart like this? Or is there some issue here? I - wrongly - assumed it would just pick up where it left off and pull the channel info from another peer.","username":"aatkddny","ts":"2018-09-05T15:53:10.434Z"}
{"msg":"@dave.enyeart how many blockfile can generate by a fabric network?","username":"asaningmaxchain123","ts":"2018-09-06T15:18:18.024Z"}
{"msg":"1000000?","username":"asaningmaxchain123","ts":"2018-09-06T15:18:25.244Z"}
{"msg":"@dave.enyeart can you tell me in the fabric where use the `// BlockDataHashingStructure is encoded into the configuration transaction as a configuration item of\n// type Chain with a Key of \"BlockDataHashingStructure\" and a Value of HashingAlgorithm as marshaled protobuf bytes\nmessage BlockDataHashingStructure {\n    // width specifies the width of the Merkle tree to use when computing the BlockDataHash\n    // in order to replicate flat hashing, set this width to MAX_UINT32\n    uint32 width  = 1;\n}\n`","username":"asaningmaxchain123","ts":"2018-09-06T16:20:51.296Z"}
{"msg":"@dave.enyeart can you tell me in the fabric where use the ``` // BlockDataHashingStructure is encoded into the configuration transaction as a configuration item of\n// type Chain with a Key of \"BlockDataHashingStructure\" and a Value of HashingAlgorithm as marshaled protobuf bytes\nmessage BlockDataHashingStructure {\n    // width specifies the width of the Merkle tree to use when computing the BlockDataHash\n    // in order to replicate flat hashing, set this width to MAX_UINT32\n    uint32 width  = 1;\n}\n```","username":"asaningmaxchain123","ts":"2018-09-06T16:20:51.296Z"}
{"msg":"@asaningmaxchain123 there is no limit imposed by Fabric on number of block files... the zero padding you see in block files is there only to ensure reasonable file sorting in block file directory, it doesn't actually impose any limit.","username":"dave.enyeart","ts":"2018-09-06T16:51:36.613Z"}
{"msg":"@asaningmaxchain123 The block data hash ended up being a simple hash of the block's data, not a merkle tree.  @jyellick is BlockDataHashingStructure used anywhere else? or can it be removed?","username":"dave.enyeart","ts":"2018-09-06T16:54:23.855Z"}
{"msg":"I wish it had not been added in the first place, but removing it will cause problems.","username":"jyellick","ts":"2018-09-06T18:24:50.322Z"}
{"msg":"There had been aspirations of making the block hashing parameters configurable prior to v1.0 being released, and these fields were added, but when the feature didn't make it ,not everything was backed out.","username":"jyellick","ts":"2018-09-06T18:25:26.031Z"}
{"msg":"i advice remove it in the 1.3 release","username":"asaningmaxchain123","ts":"2018-09-06T23:33:24.069Z"}
{"msg":"@jyellick ","username":"asaningmaxchain123","ts":"2018-09-06T23:33:27.209Z"}
{"msg":"Has joined the channel.","username":"yousaf","ts":"2018-09-08T14:30:42.160Z","type":"uj"}
{"msg":"Has joined the channel.","username":"raviyelleni","ts":"2018-09-09T04:45:13.533Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Larisaa","ts":"2018-09-11T07:24:40.768Z","type":"uj"}
{"msg":"Hi everyone for private data collections,are there separate dbs for both private data collections and for the transient data?   Thanks!","username":"tennenjl","ts":"2018-09-12T14:40:51.697Z"}
{"msg":"yes, private data is included in state database for chaincode interaction upon commit, and transient data is stored in a dedicated leveldb database until the tran is committed.","username":"dave.enyeart","ts":"2018-09-12T15:33:53.907Z"}
{"msg":"@dave.enyeart Thanks for the confirmation.  As always, the help is greatly appreciated.","username":"tennenjl","ts":"2018-09-13T01:28:14.376Z"}
{"msg":"Has joined the channel.","username":"JaydipMakadia","ts":"2018-09-13T13:11:35.996Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Jgnuid","ts":"2018-09-15T19:38:48.243Z","type":"uj"}
{"msg":"Hi","username":"Jgnuid","ts":"2018-09-15T19:38:54.887Z"}
{"msg":"I have a question about the ledger design","username":"Jgnuid","ts":"2018-09-15T19:39:03.694Z"}
{"msg":"Before doing my question I'd mention what I suppose to be true, so maybe it's trivial the answer to the question hehe","username":"Jgnuid","ts":"2018-09-15T19:40:06.366Z"}
{"msg":"Each block is signed by the Orderer.","username":"Jgnuid","ts":"2018-09-15T19:40:46.677Z"}
{"msg":"Tampering a block would yield in concluding that someone somehow has the Orderer private key.","username":"Jgnuid","ts":"2018-09-15T19:41:25.178Z"}
{"msg":"If that is the case, it could re-calculate the following blocks of the tampered block... just to make the chain-hashing consistent.","username":"Jgnuid","ts":"2018-09-15T19:41:51.544Z"}
{"msg":"So, my question is: What value has doing the well-known chain-hashing?","username":"Jgnuid","ts":"2018-09-15T19:42:15.918Z"}
{"msg":"In public blockchains makes sense because re-calculating following blocks is computer expensive.","username":"Jgnuid","ts":"2018-09-15T19:42:41.718Z"}
{"msg":"But in the case here, 'making' blocks means signing as the Orderer","username":"Jgnuid","ts":"2018-09-15T19:42:59.180Z"}
{"msg":"and if you do it for one, you could make it for a lot more without effort. So whats the sense of linking the blocks thorough hashes?","username":"Jgnuid","ts":"2018-09-15T19:43:26.255Z"}
{"msg":">  If that is the case, it could re-calculate the following blocks of the tampered block... just to make the chain-hashing consistent. \nwhat do you mean?","username":"yacovm","ts":"2018-09-15T19:53:39.762Z"}
{"msg":"Suppose the ledger has Block0, Block1, Block2 and Block3.\nSomehow, Block1 is tampered... for example, a transaction is deleted. Even that Block1 was tampered, its valid... with this I mean that seems to be correctly signed by the Orderer (which seem to suggest that the private key was compromised).","username":"Jgnuid","ts":"2018-09-15T19:56:02.002Z"}
{"msg":"Moreover, since Block1 changed, Block2 and Block3 should change too to make the whole ledger consistent. Right?","username":"Jgnuid","ts":"2018-09-15T19:56:28.853Z"}
{"msg":"Since Block2 had the 'old' hash of Block1, etc.","username":"Jgnuid","ts":"2018-09-15T19:56:38.595Z"}
{"msg":"right, block2 has the old hash of block 1","username":"yacovm","ts":"2018-09-15T19:56:53.508Z"}
{"msg":"and now you need to sign every block again and again","username":"yacovm","ts":"2018-09-15T19:57:11.135Z"}
{"msg":"Great. Since the private key was compromised, reconstructing Block 2 and Block3, it's also easy.","username":"Jgnuid","ts":"2018-09-15T19:57:14.255Z"}
{"msg":"because this is a hash chain","username":"yacovm","ts":"2018-09-15T19:57:15.073Z"}
{"msg":"So, my question is: Why we link blocks through this hashes here?","username":"Jgnuid","ts":"2018-09-15T19:57:38.863Z"}
{"msg":"what kind of value they add to the design?","username":"Jgnuid","ts":"2018-09-15T19:57:46.336Z"}
{"msg":"we link blocks via hashes so you can do backward hash chain validation","username":"yacovm","ts":"2018-09-15T19:57:54.661Z"}
{"msg":"if you trust the last block's signature","username":"yacovm","ts":"2018-09-15T19:58:01.939Z"}
{"msg":"then you don't need to verify the signatures of all the blocks before","username":"yacovm","ts":"2018-09-15T19:58:14.665Z"}
{"msg":"just compute the hash","username":"yacovm","ts":"2018-09-15T19:58:29.392Z"}
{"msg":"and check that the hash chain is consistent ","username":"yacovm","ts":"2018-09-15T19:58:38.096Z"}
{"msg":"Right... each block signature is the validation of the signer for the block itself and indirectly all the history throught the prior-hash block.","username":"Jgnuid","ts":"2018-09-15T20:00:00.999Z"}
{"msg":"yes","username":"yacovm","ts":"2018-09-15T20:00:14.792Z"}
{"msg":"Ok, so its only a means of making easier 'checksum' blocks in the chains. It adds no extra value on security itself.","username":"Jgnuid","ts":"2018-09-15T20:00:53.030Z"}
{"msg":"I mention this compared to a public blockchain","username":"Jgnuid","ts":"2018-09-15T20:01:00.986Z"}
{"msg":"you can't add more security if you're already secure though","username":"yacovm","ts":"2018-09-15T20:01:15.372Z"}
{"msg":"Yes, that's my point!.","username":"Jgnuid","ts":"2018-09-15T20:01:54.615Z"}
{"msg":"and yeah - since you have a signature on each block","username":"yacovm","ts":"2018-09-15T20:01:55.406Z"}
{"msg":"you don't have to use the hash chain validation","username":"yacovm","ts":"2018-09-15T20:02:04.528Z"}
{"msg":"but, however","username":"yacovm","ts":"2018-09-15T20:02:15.787Z"}
{"msg":"signature checks are costly in comparison to hashing","username":"yacovm","ts":"2018-09-15T20:02:24.772Z"}
{"msg":"so - you might waste less CPU if you do hash chain verification","username":"yacovm","ts":"2018-09-15T20:02:48.813Z"}
{"msg":"For example if a new peer joins some ancient channel, it would just check the 'lead' Block signature, and then use hashing to validate older blocks. That is what you mean of an improved efficiency use case?.","username":"Jgnuid","ts":"2018-09-15T20:03:43.396Z"}
{"msg":"yeah","username":"yacovm","ts":"2018-09-15T20:03:49.465Z"}
{"msg":"though it's not implemented","username":"yacovm","ts":"2018-09-15T20:03:58.580Z"}
{"msg":"right now i don't think there are ancient channels in the world ;) ","username":"yacovm","ts":"2018-09-15T20:04:22.474Z"}
{"msg":"and there is another problem anyway","username":"yacovm","ts":"2018-09-15T20:04:29.503Z"}
{"msg":"that makes it not so effective","username":"yacovm","ts":"2018-09-15T20:04:35.115Z"}
{"msg":"so, each block carries inside dozens of signatures to validate anyway","username":"yacovm","ts":"2018-09-15T20:04:45.609Z"}
{"msg":"signatures of endorsing peers","username":"yacovm","ts":"2018-09-15T20:04:51.993Z"}
{"msg":"correct","username":"Jgnuid","ts":"2018-09-15T20:05:08.297Z"}
{"msg":"so - even if you save 1 signature check per block, you still have like 50 signature checks left to do","username":"yacovm","ts":"2018-09-15T20:05:09.505Z"}
{"msg":"or maybe at least 3 more","username":"yacovm","ts":"2018-09-15T20:05:24.043Z"}
{"msg":"You're right... since the orderer doesn't check signatures of endorsers Right?","username":"Jgnuid","ts":"2018-09-15T20:05:46.887Z"}
{"msg":"it doesn't... it's the peers","username":"yacovm","ts":"2018-09-15T20:05:57.389Z"}
{"msg":"Ok.. so I could have a valid block with the order signature correct, but the transactions are garbage.","username":"Jgnuid","ts":"2018-09-15T20:06:20.324Z"}
{"msg":"That would make it an invalid transaction in the block?","username":"Jgnuid","ts":"2018-09-15T20:06:40.456Z"}
{"msg":"yes","username":"yacovm","ts":"2018-09-15T20:07:01.799Z"}
{"msg":"Ok.. so, in conclusion, I'd still had to validate all endorers signatures in the history of the ledger :s","username":"Jgnuid","ts":"2018-09-15T20:07:30.454Z"}
{"msg":"yes","username":"yacovm","ts":"2018-09-15T20:07:35.975Z"}
{"msg":"I hope this thing of linking blocks through hashing wasn't done for comercial purposes (you know: using 'blockchain' word )","username":"Jgnuid","ts":"2018-09-15T20:08:24.441Z"}
{"msg":"hahahaha","username":"yacovm","ts":"2018-09-15T20:08:51.716Z"}
{"msg":"who knows?","username":"yacovm","ts":"2018-09-15T20:09:06.902Z"}
{"msg":"I still don't get why this exists here.","username":"Jgnuid","ts":"2018-09-15T20:09:11.786Z"}
{"msg":"In public blockchains makes perfect sense and it's a critical design decision ","username":"Jgnuid","ts":"2018-09-15T20:09:28.047Z"}
{"msg":"Or maybe im confused","username":"Jgnuid","ts":"2018-09-15T20:09:54.097Z"}
{"msg":"I think not.. because it's what forces you to re-calculate 'the future again'","username":"Jgnuid","ts":"2018-09-15T20:10:29.273Z"}
{"msg":"and in the case of PoW chains, means wasting a lot of power","username":"Jgnuid","ts":"2018-09-15T20:10:40.958Z"}
{"msg":"and in the case of hyperledger, it's wasting nothing (since I have the private key)","username":"Jgnuid","ts":"2018-09-15T20:10:57.671Z"}
{"msg":"I'm not very aware of how the gossip protocol works and how a fork would impact the network...","username":"Jgnuid","ts":"2018-09-15T20:11:26.613Z"}
{"msg":"Anyway, I'd prefer to think that there's still a good reason why here we're linking blocks with hashes...","username":"Jgnuid","ts":"2018-09-15T20:12:50.206Z"}
{"msg":"@Jgnuid You are right, if you obtain the orderer private key you can cut different blocks going forward.  But the blockchain is not about any one chain. It is about a distributed set of synchronized chains in a permissioned network.  If one peer's chain is altered and deviates from the others, the hash chain makes it simple to identify the 'bad' chain and where exactly it deviated. The 'bad' peers state data would be different from all the other peers, and therefore it would not be able to participate in further chaincode transactions and endorsements. The 'bad' peer would be isolated from the distributed ledger, and the other organizations would kick the bad organization out of the permissioned network.","username":"dave.enyeart","ts":"2018-09-16T14:45:08.167Z"}
{"msg":"@dave.enyeart, for sure detecting forks is much easier with hashes. \n\nBut just imagine if the hash is 'block independant' too to achieve the same goal?. I mean, if block number N in the chain has a computed hash different from the majority of the ledger, we can also be sure that we have a fork (even if the block hash doesn't depend of priori block hashes). And reach your same right conclusion. \n\nWhy making a chain of hashes is necessary? ","username":"Jgnuid","ts":"2018-09-16T15:28:00.458Z"}
{"msg":"If you extend that argument to its logical conclusion, you could also say that everybody should just use their own databases and they can compare the individual records if any disputes come up.   There is value in a single rolled up 'truth'.","username":"dave.enyeart","ts":"2018-09-16T15:38:17.636Z"}
{"msg":"If you extend that argument to its logical conclusion, you could also say that everybody should just use their own databases and they can compare the individual records and transaction logs if any disputes come up.   There is value in a single rolled up 'truth'.","username":"dave.enyeart","ts":"2018-09-16T15:38:17.636Z"}
{"msg":"Well, I think there's a huge gap between not chaining hashes and reconsidering the whole idea of distributed ledger. Not sure why that's the logical conclusion of my question.","username":"Jgnuid","ts":"2018-09-16T15:42:22.548Z"}
{"msg":"I guess I'm going to take that it helps in detecting fast forks in the network. Every block that the 'tampering peer' tries to spread in the network, could be easily detected because it would not be in the majority of what the ledger is saying its true. Moreover, it would happend to the tampered block but also with subsequent blocks (even if the tampering peer makes subsequent blocks identical to the real ones, because as hashes are chained, since he changed history, the block hash would be different).","username":"Jgnuid","ts":"2018-09-16T15:47:03.182Z"}
{"msg":"@dave.enyeart , that was your point?. :)","username":"Jgnuid","ts":"2018-09-16T15:47:18.764Z"}
{"msg":"If hashes wasn't chained, it would be harder to detect tampered history of this malicious peer (even if he nows tries to work as expected)","username":"Jgnuid","ts":"2018-09-16T15:48:25.535Z"}
{"msg":"If hashes wasn't changed, it would be harder to detect tampered history of this malicious peer (even if he nows tries to work as expected)","username":"Jgnuid","ts":"2018-09-16T15:48:25.535Z"}
{"msg":"Thanks for your opinion :)","username":"Jgnuid","ts":"2018-09-16T15:49:44.545Z"}
{"msg":"Thanks for your opinion :), very valuable for me!","username":"Jgnuid","ts":"2018-09-16T15:49:44.545Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=MhJwLRMLq8FW4yQi8) @Jgnuid How do you get to the \"immutable\" part of distributed and immutable without chaining the blocks?","username":"aatkddny","ts":"2018-09-17T17:19:29.903Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=MhJwLRMLq8FW4yQi8","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=MhJwLRMLq8FW4yQi8","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"waxer","ts":"2018-09-17T17:20:35.773Z","type":"uj"}
{"msg":"@aatkddny , since each block is signed by a trusted authority, any other peer cannot mutate a block without breaking the ledger.","username":"Jgnuid","ts":"2018-09-17T17:24:36.989Z"}
{"msg":"@aatkddny , since each block is signed by a trust authority, any other peer cannot mutate a block without breaking the ledger.","username":"Jgnuid","ts":"2018-09-17T17:24:36.989Z"}
{"msg":"yacov and jsign","username":"dave.enyeart","ts":"2018-09-17T21:28:30.186Z"}
{"msg":"Mutating one block doesn't break the ledger in that case. It breaks one block.\nYou'd have to check every block every time you write to see if any priors in that ledger were compromised. ","username":"aatkddny","ts":"2018-09-18T01:23:03.157Z"}
{"msg":"@aatkddny , I guess this is an interesting discussion :)","username":"Jgnuid","ts":"2018-09-18T01:33:32.693Z"}
{"msg":"@aatkddny , the way I think about immutability is the following: If you mutate the ledger, you will not satisfy the rules of a valid ledger. A valid ledger needs that every block is correctly signed. Thus, you 'broke' the ledger.","username":"Jgnuid","ts":"2018-09-18T01:34:47.023Z"}
{"msg":"If chaining the blocks with hashes makes easier to check the validity of the whole chain, I think is a different dicussion.","username":"Jgnuid","ts":"2018-09-18T01:35:16.532Z"}
{"msg":"That is true, but doesn't mean that you NEED to chain hashes to prove immutability of the ledger. (as a design feature of the ledger).","username":"Jgnuid","ts":"2018-09-18T01:35:46.686Z"}
{"msg":"Maybe my definition of immutability is not totally correct.","username":"Jgnuid","ts":"2018-09-18T01:37:43.398Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=hTADLeRnS3NkzS64D) @Jgnuid Yes, in theory, your observation is correct in the sense that the trust model does not count on this and the chaining mainly helps in practice by adding a scope of optimization or discovering bugs in implementation. The chaining is essential if the forks are allowed because you need a reference point to anchor the incoming blocks.","username":"manish-sethi","ts":"2018-09-18T01:42:56.510Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hTADLeRnS3NkzS64D","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=hTADLeRnS3NkzS64D","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi , correct. But in Hyperledger forks are mostly a sign of malicious behaviour or a bug. Is this correct?","username":"Jgnuid","ts":"2018-09-18T01:44:56.379Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=gQPucXguiLFgKFLfi) @Jgnuid Yes. Forks are not allowed by design","username":"manish-sethi","ts":"2018-09-18T01:46:32.603Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gQPucXguiLFgKFLfi","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gQPucXguiLFgKFLfi","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Have a problem with creating an index in couchdb and was referred here. Hopefully someone can tell me what I messed up...\nUsing the java SDK to create chaincode passing in an archive. Code works fine - been stable for months. \nTried to add an index using the instructions in the latest docs.\nThe archive looks like this:","username":"aatkddny","ts":"2018-09-18T14:31:23.925Z"}
{"msg":"","username":"aatkddny","ts":"2018-09-18T14:31:44.078Z","attachments":[{"type":"file","title":"cut2.png","title_link":"/file-upload/pHjmKMkmTQcDqyFMo/cut2.png","image_url":"/file-upload/pHjmKMkmTQcDqyFMo/cut2.png","image_type":"image/png","image_size":140636,"url":"/file-upload/pHjmKMkmTQcDqyFMo/cut2.png","remote":false,"fileId":"pHjmKMkmTQcDqyFMo","fileName":"cut2.png"}]}
{"msg":"CC is aacc. index1 looks like this: \n```\n{\n  \"index\":{\n      \"fields\":[\"id\", \"type\"] \n  },\n  \"ddoc\":\"index1Doc\",\n  \"name\":\"index1\",\n  \"type\":\"json\"\n}\n```","username":"aatkddny","ts":"2018-09-18T14:32:02.728Z"}
{"msg":"CC instantiates as expected. Nothing about the couch index though.\nWhat did I miss?","username":"aatkddny","ts":"2018-09-18T14:32:14.286Z"}
{"msg":"@aatkddny Check your peer log for a message like this:","username":"dave.enyeart","ts":"2018-09-18T14:54:52.831Z"}
{"msg":"```2018-09-18 10:53:38.013 EDT [couchdb] CreateIndex -> INFO 223 Created CouchDB index [indexOwner] in state database [myc_marbles] using design document [_design/indexOwnerDoc]```","username":"dave.enyeart","ts":"2018-09-18T14:55:00.632Z"}
{"msg":"I did. It's not there. ","username":"aatkddny","ts":"2018-09-18T14:55:06.721Z"}
{"msg":"That's why I said it didn't work","username":"aatkddny","ts":"2018-09-18T14:55:17.805Z"}
{"msg":"ok, and if you got no error or warning in peer log, that means the client didn't package it up correctly","username":"dave.enyeart","ts":"2018-09-18T14:55:33.006Z"}
{"msg":"I know you've been bounced between chat channels, but if client isn't packaging it up correctly, you'll need to work that issue in the sdk chat channel","username":"dave.enyeart","ts":"2018-09-18T14:56:07.549Z"}
{"msg":"Well you can see the archive structure above. It looks exactly the same as that in the documents.","username":"aatkddny","ts":"2018-09-18T14:56:41.671Z"}
{"msg":"it has to be looked at per SDK","username":"dave.enyeart","ts":"2018-09-18T14:57:15.154Z"}
{"msg":"Round and round and round we go.","username":"aatkddny","ts":"2018-09-18T14:57:26.632Z"}
{"msg":"The SDK sends me here. You send me there.","username":"aatkddny","ts":"2018-09-18T14:58:23.866Z"}
{"msg":"Is there a different fence to throw it over?","username":"aatkddny","ts":"2018-09-18T14:58:23.881Z"}
{"msg":"Has joined the channel.","username":"rickr","ts":"2018-09-18T15:01:30.594Z","type":"uj"}
{"msg":"@dave.enyeart   He provided you with how it was packaged -- you can't say what's wrong here ?","username":"rickr","ts":"2018-09-18T15:02:16.969Z"}
{"msg":"Peer log \n```\n2018-09-18 14:54:10.437 UTC [chaincode] Notify -> DEBU 61f [78f231d1] notifying Txid:78f231d109cf8797fa0ed3ebb14775548a83e3b9a6650e0c155d434b0c96a739, channelID:ibm-block-channel\n2018-09-18 14:54:10.437 UTC [chaincode] Execute -> DEBU 620 Exit\n2018-09-18 14:54:10.445 UTC [ccprovider] NewCCContext -> DEBU 621 NewCCCC(chain=ibm-block-channel,chaincode=aacc,version=1.0,txid=78f231d109cf8797fa0ed3ebb14775548a83e3b9a6650e0c155d434b0c96a739,syscc=false,proposal=0xc422ac8be0,canname=aacc:1.0)\n2018-09-18 14:54:10.448 UTC [chaincode] func1 -> DEBU 622 chaincode aacc:1.0 is being launched\n2018-09-18 14:54:10.449 UTC [chaincode] LaunchConfig -> DEBU 623 launchConfig: executable:\"chaincode\",Args:[chaincode,-peer.address=peer0.mediaocean.com:7052],Envs:[CORE_CHAINCODE_LOGGING_LEVEL=info,CORE_CHAINCODE_LOGGING_SHIM=warning,CORE_CHAINCODE_LOGGING_FORMAT=%{color}%{time:2006-01-02 15:04:05.000 MST} [%{module}] %{shortfunc} -> %{level:.4s} %{id:03x}%{color:reset} %{message},CORE_CHAINCODE_ID_NAME=aacc:1.0,CORE_PEER_TLS_ENABLED=true,CORE_TLS_CLIENT_KEY_PATH=/etc/hyperledger/fabric/client.key,CORE_TLS_CLIENT_CERT_PATH=/etc/hyperledger/fabric/client.crt,CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/peer.crt],Files:[/etc/hyperledger/fabric/client.crt /etc/hyperledger/fabric/client.key /etc/hyperledger/fabric/peer.crt]\n2018-09-18 14:54:10.449 UTC [chaincode] Start -> DEBU 624 start container: aacc:1.0\n2018-09-18 14:54:10.449 UTC [chaincode] Start -> DEBU 625 start container with args: chaincode -peer.address=peer0.mediaocean.com:7052\n2018-09-18 14:54:10.449 UTC [chaincode] Start -> DEBU 626 start container with env:\n\tCORE_CHAINCODE_LOGGING_LEVEL=info\n\tCORE_CHAINCODE_LOGGING_SHIM=warning\n\tCORE_CHAINCODE_LOGGING_FORMAT=%{color}%{time:2006-01-02 15:04:05.000 MST} [%{module}] %{shortfunc} -> %{level:.4s} %{id:03x}%{color:reset} %{message}\n\tCORE_CHAINCODE_ID_NAME=aacc:1.0\n\tCORE_PEER_TLS_ENABLED=true\n\tCORE_TLS_CLIENT_KEY_PATH=/etc/hyperledger/fabric/client.key\n\tCORE_TLS_CLIENT_CERT_PATH=/etc/hyperledger/fabric/client.crt\n\tCORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/peer.crt\n2018-09-18 14:54:10.450 UTC [container] lockContainer -> DEBU 627 waiting for container(aacc-1.0) lock\n2018-09-18 14:54:10.450 UTC [container] lockContainer -> DEBU 628 got container (aacc-1.0) lock\n2018-09-18 14:54:10.450 UTC [dockercontroller] Start -> DEBU 629 Cleanup container dcn_dcn-peer0.mediaocean.com-aacc-1.0\n2018-09-18 14:54:10.452 UTC [dockercontroller] stopInternal -> DEBU 62a Stop container dcn_dcn-peer0.mediaocean.com-aacc-1.0(No such container: dcn_dcn-peer0.mediaocean.com-aacc-1.0)\n2018-09-18 14:54:10.458 UTC [dockercontroller] stopInternal -> DEBU 62b Kill container dcn_dcn-peer0.mediaocean.com-aacc-1.0 (No such container: dcn_dcn-peer0.mediaocean.com-aacc-1.0)\n2018-09-18 14:54:10.459 UTC [dockercontroller] stopInternal -> DEBU 62c Remove container dcn_dcn-peer0.mediaocean.com-aacc-1.0 (No such container: dcn_dcn-peer0.mediaocean.com-aacc-1.0)\n2018-09-18 14:54:10.459 UTC [dockercontroller] Start -> DEBU 62d Start container dcn_dcn-peer0.mediaocean.com-aacc-1.0\n2018-09-18 14:54:10.459 UTC [dockercontroller] getDockerHostConfig -> DEBU 62e docker container hostconfig NetworkMode: dcn_dcn\n2018-09-18 14:54:10.460 UTC [dockercontroller] createContainer -> DEBU 62f Create container: dcn_dcn-peer0.mediaocean.com-aacc-1.0\n2018-09-18 14:54:10.466 UTC [dockercontroller] Start -> DEBU 630 start-could not find image <dcn_dcn-peer0.mediaocean.com-aacc-1.0-a1ed3f6ba26172e9d6dd8cb75f64be81e131c0a5ee8efb44f9e78ad87b729a21> (container id <dcn_dcn-peer0.mediaocean.com-aacc-1.0>), because of <no such image>...attempt to recreate image\n2018-09-18 14:54:10.466 UTC [chaincode-platform] generateDockerfile -> DEBU 631 \nFROM hyperledger/fabric-baseos:amd64-0.4.10\nADD binpackage.tar /usr/local/bin\nLABEL org.hyperledger.fabric.chaincode.id.name=\"aacc\" \\\n      org.hyperledger.fabric.chaincode.id.version=\"1.0\" \\\n      org.hyperledger.fabric.chaincode.type=\"GOLANG\" \\\n      org.hyperledger.fabric.version=\"1.2.0\" \\\n      org.hyperledger.fabric.base.version=\"0.4.10\"\nENV CORE_CHAINCODE_BUILDLEVEL=1.2.0\n2018-09-18 14:54:10.470 UTC [golang-platform] GenerateDockerBuild -> INFO 632 building chaincode with ldflagsOpt: '-ldflags \"-linkmode external -extldflags '-static'\"'\n2018-09-18 14:54:10.470 UTC [golang-platform] GenerateDockerBuild -> INFO 633 building chaincode with tags: \n2018-09-18 14:54:10.470 UTC [util] DockerBuild -> DEBU 634 Attempting build with image hyperledger/fabric-ccenv:latest\n```\n\nNothing about indices - or indexes for that matter.","username":"aatkddny","ts":"2018-09-18T15:03:31.374Z"}
{"msg":"","username":"aatkddny","ts":"2018-09-18T15:10:37.899Z","attachments":[{"type":"file","title":"peer0-log.txt","title_link":"/file-upload/8oR6YkQrQRXhPwruB/peer0-log.txt","url":"/file-upload/8oR6YkQrQRXhPwruB/peer0-log.txt","remote":false,"fileId":"8oR6YkQrQRXhPwruB","fileName":"peer0-log.txt"}]}
{"msg":"In the tar, META-INF must be the top level directory.","username":"dave.enyeart","ts":"2018-09-18T15:10:40.940Z"}
{"msg":"In the tar that SDK provides, META-INF must be the top level directory.","username":"dave.enyeart","ts":"2018-09-18T15:10:40.940Z"}
{"msg":"BTW hes sending this as his own stream .. so the SDK is not really doing any packaging at all ","username":"rickr","ts":"2018-09-18T15:11:27.475Z"}
{"msg":"So the go code goes under /src but metadata stays outside. I'll give that a try. Thanks.","username":"aatkddny","ts":"2018-09-18T15:12:43.680Z"}
{"msg":"To finally close this out - was stuck in meetings most of the afternoon\n```\n2018-09-19 00:32:23.251 UTC [couchdb] CreateIndex -> DEBU 405 Entering CreateIndex()  indexdefinition={\n  \"index\":{\n      \"fields\":[\"id\", \"type\"] \n  },\n  \"ddoc\":\"index1Doc\",\n  \"name\":\"index1\",\n  \"type\":\"json\"\n}\n```\n\nThanks for the pointer. ","username":"aatkddny","ts":"2018-09-19T00:33:40.897Z"}
{"msg":"@aatkddny nice.  question - what would have helped you figure this out sooner?  better fabric readthedocs?  better sdk docs? something else?","username":"dave.enyeart","ts":"2018-09-19T00:37:00.123Z"}
{"msg":"It was an odd problem. I'm using the java SDK, which means I'm trying to figure things out without the benefit of documentation that's as comprehensive as that for node. The file structure is slightly different for one. It expects a /chaincode_name directory with the go files inside it for each chaincode. \nYou can see that from cut2.png uploaded above my CC is aacc and the go for it is aacc.go . \n\nIf you look at the marbles example in the docs the meta-inf is inside a directory with the go file.\nIf the docs explicitly said that meta-inf had to be a top level directory rather than in the /chaincode_name  I'd likely not have screwed it up quite as badly. ","username":"aatkddny","ts":"2018-09-19T00:42:34.171Z"}
{"msg":"It was an odd problem. I'm using the java SDK, which means I'm trying to figure things out without the benefit of documentation that's as comprehensive as that for node. The file structure is slightly different for one. My code expects a /chaincode_name directory with the go files inside it for each chaincode. \nYou can see that from cut2.png uploaded above my CC is aacc and the go for it is aacc.go . \n\nIf you look at the marbles example in the docs the meta-inf is inside a directory with the go file.\nIf the docs explicitly said that meta-inf had to be a top level directory rather than in the /chaincode_name  I'd likely not have screwed it up quite as badly. ","username":"aatkddny","ts":"2018-09-19T00:42:34.171Z"}
{"msg":"It was an odd problem. I'm using the java SDK, which means I'm trying to figure things out without the benefit of documentation that's as comprehensive as that for node. The file structure is slightly different for one. My code expects a /chaincode_name directory with the go files inside it for each chaincode. \nYou can see that from cut2.png uploaded above - my cc name is aacc and the go file for it is aacc.go . \n\nIf you look at the marbles example in the docs the meta-inf is inside a directory with the go file.\nIf the docs explicitly said that meta-inf had to be a top level directory rather than in the /chaincode_name  I'd likely not have screwed it up quite as badly. ","username":"aatkddny","ts":"2018-09-19T00:42:34.171Z"}
{"msg":"It was an odd problem. I'm using the java SDK, which means I'm trying to figure things out without the benefit of documentation that's as comprehensive as that for node. The file structure is slightly different for one. My code expects a /chaincode_name directory with the go files inside it for each chaincode. It then packages them into an archive with structure \"src/chaincode_name/...\"\nYou can see that from cut2.png uploaded above - my cc name is aacc and the go file for it is aacc.go. \n\nIf you look at the marbles example in the docs the META-INF directory is *inside* the /go directory with the go file. \nThere's nothing I could see saying that it needs to be pulled out and packaged in a different path from where it is, and not where it is implicitly located - right with the .go file(s). That was the source of the confusion. \n\nIf the docs explicitly said that META-INF/ had to be a top level directory at the same level as src/chaincode_name rather than inside the /chaincode_name directory I'd likely not have screwed it up quite as badly. ","username":"aatkddny","ts":"2018-09-19T00:42:34.171Z"}
{"msg":"thanks, we'll improve that","username":"dave.enyeart","ts":"2018-09-19T00:43:50.861Z"}
{"msg":"When i try to update the configtx.yaml file to add new channel in profile section and when i execute the peer channel create command then m getting the error \"Unknown consortium name: my_consoritum_name\" ...........Any solution?","username":"yousaf","ts":"2018-09-19T18:46:08.863Z"}
{"msg":"I suggest post to #fabric-orderer , the channel config/creation gurus hang out over there","username":"dave.enyeart","ts":"2018-09-19T19:11:25.409Z"}
{"msg":"@plato what we do to lock down couchdb is have peer and its couchdb on their own docker network, without exposing the couchdb port to external clients. ","username":"dave.enyeart","ts":"2018-09-19T23:58:30.085Z"}
{"msg":"Has joined the channel.","username":"plato","ts":"2018-09-19T23:58:30.238Z","type":"uj"}
{"msg":"and also set username/password","username":"dave.enyeart","ts":"2018-09-20T00:02:36.229Z"}
{"msg":"@dave.enyeart so if I understand you put kind of proxy to access to couchDb  but I believe it's good to let anybody if the owner of peer want let to access the data at least for readonly use ","username":"plato","ts":"2018-09-20T00:02:47.021Z"}
{"msg":"in production environments i don't recommend making couchdb available outside of peer","username":"dave.enyeart","ts":"2018-09-20T00:04:33.187Z"}
{"msg":"@dave.enyeart look at this http://docs.couchdb.org/en/stable/intro/security.html","username":"plato","ts":"2018-09-20T00:04:50.594Z"}
{"msg":"peer will set the configured username to be the couchdb database admin and member, this way other users can't access the database, even if the port gets exposed","username":"dave.enyeart","ts":"2018-09-20T00:09:52.096Z"}
{"msg":"peer uses the _security api mentioned on your page to set this","username":"dave.enyeart","ts":"2018-09-20T00:11:03.629Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=3dt5fmohobJEZcexM) @dave.enyeart so I believe we have to change the configuration for CouchDb the time that we have install it or maybe after that change the configuration inside the docker But wondering if this impact on the connectivity between peers and DB","username":"plato","ts":"2018-09-20T00:14:29.341Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3dt5fmohobJEZcexM","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3dt5fmohobJEZcexM","remote":true,"fileId":null,"fileName":null}]}
{"msg":"change the config for what purpose?","username":"dave.enyeart","ts":"2018-09-20T00:18:34.791Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=pHLzGhSCZGKQjgdPo) @dave.enyeart I mean inside docker-compose-couch.yaml  to set the value for  CORE_LEDGER_STATE_COUCHDBCONFIG_USERNAME=\n      - CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD=","username":"plato","ts":"2018-09-20T00:24:46.048Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pHLzGhSCZGKQjgdPo","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=pHLzGhSCZGKQjgdPo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"you first set username/password in couchdb and then configure peer to use the same username/password. if using docker compose you can set them both in the same file as demonstrated in the sample here: https://github.com/hyperledger/fabric-samples/blob/release-1.2/first-network/docker-compose-couch.yaml#L15-L35 ","username":"dave.enyeart","ts":"2018-09-20T01:43:57.709Z"}
{"msg":"more info in the doc here:   https://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html#couchdb-configuration","username":"dave.enyeart","ts":"2018-09-20T01:44:24.530Z"}
{"msg":"Has joined the channel.","username":"Shyam_Pratap_Singh","ts":"2018-09-20T06:26:13.860Z","type":"uj"}
{"msg":"I am using this command peer channel upgrade and getting this error.......Error: could not assemble transaction, err Proposal response was not successful, error code 500, msg cannot get package for chaincode (mycc:2.0)....any solution?","username":"yousaf","ts":"2018-09-20T11:41:40.175Z"}
{"msg":"Has joined the channel.","username":"GuillaumeTong","ts":"2018-09-21T01:22:14.400Z","type":"uj"}
{"msg":"As seen on https://hyperledger-fabric.readthedocs.io/en/release-1.2/private-data/private-data.html#what-is-a-private-data-collection : \nA collection is the combination of two elements:\n\t1. The actual private data, [...]\n\t2. A hash of that data [...] The hash serves as evidence of the transaction and is used for state validation and can be used for audit purposes.\n","username":"GuillaumeTong","ts":"2018-09-21T01:26:39.958Z"}
{"msg":"HI all,\nAs seen on https://hyperledger-fabric.readthedocs.io/en/release-1.2/private-data/private-data.html#what-is-a-private-data-collection : \nA collection is the combination of two elements:\n\t1. The actual private data, [...]\n\t2. A hash of that data [...] The hash serves as evidence of the transaction and is used for state validation and can be used for audit purposes.\n","username":"GuillaumeTong","ts":"2018-09-21T01:26:39.958Z"}
{"msg":"How do I do that audit? Should I extract the data directly from the blocks and database? Or can I invoke a query on the hash of the private data key?","username":"GuillaumeTong","ts":"2018-09-21T01:28:39.687Z"}
{"msg":"On a slightly different topic, I have noticed some very strangely different behavior from using couchDB or levelDB when I use private data:\nI am adding a new org into the network after a few transactions involving private data have been made, and then I change the collection definition (via chaincode upgrade operation) to include the new organization into the collection while excluding a previously included organisation.\nUsing levelDB, the new organisation will not receive any of the previous private data, but it will keep any new private data from new transactions; also, the organisation which lost authorization to the private data will keep the old data, but it will not receive any new private data.\nUsing couchDB, the old private data will reach the newly joined organization (a pleasant surprise); however, the unauthorized organization will still receive new private data it should no longer be entitled to (quite a breach of privacy).\nCan anyone help me understand why using different databases is having different effect on the access to private data?","username":"GuillaumeTong","ts":"2018-09-21T08:10:45.062Z"}
{"msg":"@GuillaumeTong - the behavior that you described about the leveldb is the expected behavior and should not depend on the db that you are using. Do you want to make sure that somehow your couchdb nodes are not mistakenly configured as a part of single couchdb cluster and data sync is going on in the back channel vis couchdb sync?","username":"manish-sethi","ts":"2018-09-21T16:55:48.632Z"}
{"msg":"Right - we have not seen different behavior for CouchDB state database in our private data tests.  @GuillaumeTong  If you still see that behavior, please open a jira bug and attach peer debug log for analysis.","username":"dave.enyeart","ts":"2018-09-21T17:27:33.565Z"}
{"msg":"The 'nice surprise' that you mention about a new member receiving the old private data, is in fact a new 'reconciliation' feature in development targeted for a future release, but it should not be happening in current releases.","username":"dave.enyeart","ts":"2018-09-21T17:29:02.273Z"}
{"msg":"@GuillaumeTong Concerning how to audit private data, currently only way is to retrieve the block or transaction and inspect the readwriteset, the SDKs make this available to clients. There are some other ideas being considered for the future to make this simpler, for example a new chaincode API to retrieve hashes.","username":"dave.enyeart","ts":"2018-09-21T17:34:31.439Z"}
{"msg":"I am using this command to set the mod_policy.... jq -s '.[0] * {\"channel_group\":{\"groups\":{\"Consortiums\":{\"groups\":{\"mod_policy\":\"Admins\"}}}}}' config.json > modified_config.json....................to set the mod policy in config.json file.\nBut getting this error............. Error decoding: error decoding input: *common.Config: error in PopulateFrom for field channel_group for message *common.Config: *common.DynamicChannelGroup: error in PopulateFrom for map field groups with key Consortiums for message *common.DynamicChannelGroup: *common.DynamicConsortiumsGroup: expected map field groups value for mod_policy for message *common.DynamicConsortiumsGroup to be assignable from map[string]interface {} but was not. Is string....................Any solution?","username":"yousaf","ts":"2018-09-22T08:12:04.924Z"}
{"msg":"Has joined the channel.","username":"Wizzy123","ts":"2018-09-23T13:46:46.231Z","type":"uj"}
{"msg":"I have a doubt, as I am working on Hyperledger fabric\n\nSo \nHow to deploy chaincode  in multiple organisation environment,\nwhere all organisations in the environment has a peer node each,\n\nso that any transaction that happens on single organization peer is reflected on the peers of other organizations \n\n i.e how to keep the peers in each organization in sync ?\n\nOr how to setup Hyperledger fabric in multiple organization environment ?","username":"Wizzy123","ts":"2018-09-23T13:47:49.951Z"}
{"msg":"@Wizzy123 This is exactly how Fabric is designed to work.  I suggest you read the Key Concepts here: https://hyperledger-fabric.readthedocs.io/en/latest/key_concepts.html","username":"dave.enyeart","ts":"2018-09-23T16:16:47.247Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Q8RejhyFSZPNetZLL) @manish-sethi I am running my test about private data on the \"build your first network example\", with the private marbles chaincode, then using eyfn to extend the network with an extra organisation wile updating the collection definition. Being mostly unfamiliar with couchDB I have not changed any of its configuration. Most of the initial access control over private data is working correctly, and I can see that the queries to peers from org1, org2 and org3 all give different results, which makes me think that their databases are probably not working as a cluster and sharing data.","username":"GuillaumeTong","ts":"2018-09-24T01:15:39.975Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Q8RejhyFSZPNetZLL","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Q8RejhyFSZPNetZLL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=MoRKxmnLeymN5Cmfb) @dave.enyeart Thank you for this info, I'll look into the SDK for that, and I look forward for that hash retrieval API.","username":"GuillaumeTong","ts":"2018-09-24T01:17:43.673Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=MoRKxmnLeymN5Cmfb","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=MoRKxmnLeymN5Cmfb","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@GuillaumeTong  - just wondering that could you be running into this because of this error in one of the sample files (https://jira.hyperledger.org/browse/FAB-12073). This is fixed now in this CR - https://gerrit.hyperledger.org/r/#/c/26412/. Can you again give it a try with latest fabric-sample.","username":"manish-sethi","ts":"2018-09-24T02:46:01.109Z"}
{"msg":"also note that the peer's couchdbs do not form a cluster and share data.  each peer has a dedicated couchdb, and will commit to its own state database as blocks are committed.","username":"dave.enyeart","ts":"2018-09-24T02:50:43.087Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=2mGnJnmmgwymqjecj) @manish-sethi That might indeed explain what I am seeing. Let me try","username":"GuillaumeTong","ts":"2018-09-24T03:05:36.793Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2mGnJnmmgwymqjecj","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=2mGnJnmmgwymqjecj","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi after fixing that issue in my files the behavior of the network with couchDB is now as expected: new orgs will not receive old data and old orgs will not receive new data they have been unautorized from.","username":"GuillaumeTong","ts":"2018-09-24T04:53:15.476Z"}
{"msg":"Thanks for confirming :thumbsup: thumbsup:","username":"manish-sethi","ts":"2018-09-24T04:54:34.853Z"}
{"msg":"No problem. Thanks for helping me find the root of the problem","username":"GuillaumeTong","ts":"2018-09-24T04:55:11.388Z"}
{"msg":"Fortunately, that bug and fix came in time and I could relate that with your problem. Stars were aligned to help you :-)","username":"manish-sethi","ts":"2018-09-24T04:56:19.160Z"}
{"msg":"Hi. I am using this command to set the mod_policy.... jq -s '.[0] * {\"channel_group\":{\"groups\":{\"Consortiums\":{\"groups\":{\"mod_policy\":\"Admins\"}}}}}' config.json > modified_config.json...................to add a new consortium in the existing network.\nBut getting this error............. Error decoding: error decoding input: *common.Config: error in PopulateFrom for field channel_group for message *common.Config: *common.DynamicChannelGroup: error in PopulateFrom for map field groups with key Consortiums for message *common.DynamicChannelGroup: *common.DynamicConsortiumsGroup: expected map field groups value for mod_policy for message *common.DynamicConsortiumsGroup to be assignable from map[string]interface {} but was not. Is string.....................Any solution??","username":"yousaf","ts":"2018-09-24T07:38:45.856Z"}
{"msg":"Question: Should I think about endorsement policies like a guarantee that the writes to the ledger are \"trusted\"?. In the sense that enough parties reached consensus about what is the result of a particular chaincode invokation at a specific instant in time?","username":"waxer","ts":"2018-09-24T19:29:17.343Z"}
{"msg":"To put it in another way: Everyone in the channel agrees that if the policy was satisfied, the write to de ledger is correct (even if the write-set is some crazy thing)","username":"waxer","ts":"2018-09-24T19:29:55.997Z"}
{"msg":"I want to be sure to understand correctly that endorsement policies are only an instrument to be sure about writes to the ledger. For example, if all the members of an org were compromised, then if a chaincode has an endorsement policy that needs more than one org, then I'm safe. \nEndorsement policies were design to resolve this kind of issues? There are more kind of problems that it solves?","username":"waxer","ts":"2018-09-24T19:32:15.677Z"}
{"msg":"@waxer you got it, sort of","username":"yacovm","ts":"2018-09-24T20:05:47.323Z"}
{"msg":"It also reflects who the keys of the  chaincode \"belongs\" to ","username":"yacovm","ts":"2018-09-24T20:06:21.360Z"}
{"msg":"It also reflects who the keys of the  chaincode \"belong\" to","username":"yacovm","ts":"2018-09-24T20:06:21.360Z"}
{"msg":"@yacovm , what are the keys of the chaincode?","username":"waxer","ts":"2018-09-24T20:07:28.883Z"}
{"msg":"like when you do `PutState(key, value)`","username":"yacovm","ts":"2018-09-24T20:16:04.053Z"}
{"msg":"@yacovm , oh ok, but I should consider possible other chaincodes that could modify the state of the same keys. But yes, I agree that the 'key' belongs to every endorser of any chaincode (or chaincodes) that in some possible flow update the key. Is this what you mean?","username":"waxer","ts":"2018-09-24T20:18:32.864Z"}
{"msg":"a chaincode can only modify keys of itself","username":"yacovm","ts":"2018-09-24T20:18:53.674Z"}
{"msg":"ah, so in my example","username":"yacovm","ts":"2018-09-24T20:19:00.851Z"}
{"msg":"i meant to say - when you modify `PutState(key,value)` in chaincode `mycc` then the real key that gets modified is `mycc.key`","username":"yacovm","ts":"2018-09-24T20:19:24.042Z"}
{"msg":"even when the transaction is committed, it is checked that the keys that were modified are only the keys of the chaincode of the transaction","username":"yacovm","ts":"2018-09-24T20:19:53.849Z"}
{"msg":"unless, it is a chaincode-to-chaincode transaction","username":"yacovm","ts":"2018-09-24T20:20:09.167Z"}
{"msg":"and then - all endorsement policies of all chaincodes combined, are checked","username":"yacovm","ts":"2018-09-24T20:20:21.883Z"}
{"msg":"@yacovm , huh?!, I think I missed some kind of part of the architecture then. that my be exciting hehe","username":"waxer","ts":"2018-09-24T20:22:27.129Z"}
{"msg":"I wasn't aware that the chaincodes own keys of the ledger.","username":"waxer","ts":"2018-09-24T20:22:44.204Z"}
{"msg":"let's assume they don't","username":"yacovm","ts":"2018-09-24T20:23:15.981Z"}
{"msg":"Do you mean that if I create a new chaincode, I cannot PutState of any key of the ledger?","username":"waxer","ts":"2018-09-24T20:23:20.300Z"}
{"msg":"if they don't - doesn't that mean that I can overwrite your writes with my own chaincode?","username":"yacovm","ts":"2018-09-24T20:23:46.476Z"}
{"msg":">  Do you mean that if I create a new chaincode, I cannot PutState of any key of the ledger? \nso, when you create a new chaincode - it writes to completely different keys","username":"yacovm","ts":"2018-09-24T20:24:03.428Z"}
{"msg":"Wait, so you mean that chaincodes create like a new namespace of keys in the ledger? (in the same channel?)","username":"waxer","ts":"2018-09-24T20:24:28.470Z"}
{"msg":"that's exactly what it is.... it's even called `namespace` in the code","username":"yacovm","ts":"2018-09-24T20:24:45.747Z"}
{"msg":"Oh man, what a surprise.","username":"waxer","ts":"2018-09-24T20:25:07.761Z"}
{"msg":"Where in the documentation says that?.. I think I've read most of it (maybe wrong)","username":"waxer","ts":"2018-09-24T20:25:25.644Z"}
{"msg":"so the only way to change a keys of a change is to invoke it","username":"yacovm","ts":"2018-09-24T20:25:29.553Z"}
{"msg":"so the only way to change a keys of a chaincode is to invoke it","username":"yacovm","ts":"2018-09-24T20:25:29.553Z"}
{"msg":"because you need signatures of the peers from the endorsement policy to make the transaction validated","username":"yacovm","ts":"2018-09-24T20:26:37.141Z"}
{"msg":"@yacovm , just to be sure about this. If I ask you: 'What is the value of the key KEY1 in the ledger of channel CHANNEL1?'","username":"waxer","ts":"2018-09-24T20:27:38.047Z"}
{"msg":"You should ask me: 'Of what chaincode you're refering to?'","username":"waxer","ts":"2018-09-24T20:27:47.670Z"}
{"msg":"Is that correct?","username":"waxer","ts":"2018-09-24T20:27:53.118Z"}
{"msg":"yes","username":"yacovm","ts":"2018-09-24T20:28:07.093Z"}
{"msg":"@yacovm , ok!, what a surprise. Though, it makes a lot of sense.","username":"waxer","ts":"2018-09-24T20:29:16.533Z"}
{"msg":"Chaincode owns their data.","username":"waxer","ts":"2018-09-24T20:29:22.876Z"}
{"msg":"exactly. chaincode is like a digital agreement between parties ","username":"yacovm","ts":"2018-09-24T20:29:44.407Z"}
{"msg":"@yacovm , this changes waht I thought about what a channel means...","username":"waxer","ts":"2018-09-24T20:30:13.737Z"}
{"msg":"no. channel is a definition of membership of the parties","username":"yacovm","ts":"2018-09-24T20:30:30.236Z"}
{"msg":"channel defines the blockchain itself","username":"yacovm","ts":"2018-09-24T20:30:45.426Z"}
{"msg":"@yacovm , ok, but there's only one ledger per channel right?, not one ledger per chaincode.","username":"waxer","ts":"2018-09-24T20:32:05.986Z"}
{"msg":"I mean, the ledger is only one (in the channel), and in some block, in a transaction says what chaincode made the write, then it implicitly defines the 'namespace' of the keys modified (or read). is this correct?","username":"waxer","ts":"2018-09-24T20:33:45.388Z"}
{"msg":"Yes.","username":"yacovm","ts":"2018-09-24T20:33:46.526Z"}
{"msg":"1 ledger per channel","username":"yacovm","ts":"2018-09-24T20:34:07.930Z"}
{"msg":"1 ledger/channel to rule them (chaincodes) all","username":"yacovm","ts":"2018-09-24T20:34:42.361Z"}
{"msg":"@yacovm , so a channel is some kind of container that defines what chaincodes could interact to maybe modify multiple 'data domains'?","username":"waxer","ts":"2018-09-24T20:35:38.098Z"}
{"msg":"Considering that data is separated in boundaries defined by chaincodes","username":"waxer","ts":"2018-09-24T20:35:52.380Z"}
{"msg":"Channel is just a logical definition of the mapping between organizations and their CA certificates, orderer addresses, and other configurtion stuff","username":"yacovm","ts":"2018-09-24T20:37:18.406Z"}
{"msg":"The mapping implicotly defines who can do what in the channel context","username":"yacovm","ts":"2018-09-24T20:37:47.582Z"}
{"msg":"Who is authorized, etc.","username":"yacovm","ts":"2018-09-24T20:37:55.250Z"}
{"msg":"But it also define a new ledger","username":"waxer","ts":"2018-09-24T20:38:17.233Z"}
{"msg":"Right. The blocks are produced, and fetched from the orderer in the context of a channel and form a ledger","username":"yacovm","ts":"2018-09-24T20:38:52.513Z"}
{"msg":"@yacovm , ok!. Taking advantage of your last sentence: What do you mean that blocks are fetched from the orderer?. I read taht statement too in the documentation.\nThe orderer doesn't push the block to the leaders?","username":"waxer","ts":"2018-09-24T20:39:52.841Z"}
{"msg":"Or the peers does polling to the orderer?","username":"waxer","ts":"2018-09-24T20:40:06.823Z"}
{"msg":"(I understand 'fetching' as polling. Maybe its wrong)","username":"waxer","ts":"2018-09-24T20:40:19.476Z"}
{"msg":"(TLDR: Blocks are pushed from the orderer to the leaders, or the leaders poll the orderer for new blocks?)","username":"waxer","ts":"2018-09-24T20:41:23.370Z"}
{"msg":"The peer sends a single message saying the first block to get from the orderer","username":"yacovm","ts":"2018-09-24T20:44:10.358Z"}
{"msg":"Amd then from that block onward, when the orderer has a new block kt sends it down the stream","username":"yacovm","ts":"2018-09-24T20:44:37.649Z"}
{"msg":"Think netflix video stream but with blocks ","username":"yacovm","ts":"2018-09-24T20:44:53.661Z"}
{"msg":"The blocks are pushed to leader peers","username":"yacovm","ts":"2018-09-24T20:45:48.714Z"}
{"msg":"@yacovm , clear!. Thanks a lot for putting light to my doubts 😀","username":"waxer","ts":"2018-09-24T20:49:47.824Z"}
{"msg":"@waxer sure. I also forgot to mention that in fabric v1.3 (will be released next week, but early candidate is released tomorrow I think)  - you can set an endorsement policy *per key* (of a namespace). ","username":"yacovm","ts":"2018-09-24T21:12:29.237Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html#setting-key-level-endorsement-policies","username":"yacovm","ts":"2018-09-24T21:13:46.321Z"}
{"msg":"Interesting. Raises some question, by I'll take a look at the docs first. Thanks!","username":"waxer","ts":"2018-09-24T21:17:42.420Z"}
{"msg":"Are there any plans to support a slightly more - shall we say - flexible (vis-a-vis indexing) state database? I need to do some sql like operations and the number of indexes in couch will be a nightmare to maintain.","username":"aatkddny","ts":"2018-09-25T00:32:33.866Z"}
{"msg":"Has joined the channel.","username":"Ferrymania","ts":"2018-09-25T02:48:14.735Z","type":"uj"}
{"msg":"Hi,guys in the *data persistence* ,it mount peer and couchdb for restart ,but need kafka and zookeeper and CA to mount for persistent storage?","username":"Ferrymania","ts":"2018-09-25T02:50:42.983Z"}
{"msg":"Has joined the channel.","username":"MikeyGarcia","ts":"2018-09-25T13:17:39.271Z","type":"uj"}
{"msg":"Hi experts here, Orderers keeping configure transactions for system channel is reasonable. but why orderers also keep all transactions for each application channel? Thank you ","username":"qsmen","ts":"2018-09-26T03:05:25.077Z"}
{"msg":"Is there a max storage limit of Hyperledger Fabric? Such as, in the case of 6xTB or some other numbers... If so, in case that number is reached, what should we do?\n","username":"NoLimitHoldem","ts":"2018-09-28T09:40:44.224Z"}
{"msg":"Also, I found that when the ledger size for 1 channel grows, the TPS is getting worse. In my 600 users simulation case, the rough correlation of TPS and # of transactions (each is roughly 2.8x-3.x KB, the transaction just does a simple PutState) is -0.6. Anyone try more about that?\n","username":"NoLimitHoldem","ts":"2018-09-28T09:40:51.389Z"}
{"msg":"Also, I found that when the ledger size for 1 channel grows, the TPS is getting worse. In my 600 users simulation case, the rough correlation of TPS and # of transactions made (each is roughly 2.8x-3.x KB, the transaction just does a simple PutState) is -0.6. Anyone try more about that?\n","username":"NoLimitHoldem","ts":"2018-09-28T09:40:51.389Z"}
{"msg":"Has joined the channel.","username":"BlackMesa","ts":"2018-09-28T17:23:33.029Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zacpl","ts":"2018-09-28T18:37:57.779Z","type":"uj"}
{"msg":"where is the actual ledger data stored?","username":"MeenakshiSingh","ts":"2018-09-28T18:47:43.120Z"}
{"msg":"@MeenakshiSingh are you asking about the world state of the ledger? if so thats couch db. if youre talking blocks i believe that is stored in a file on the peer but i forget where exactly","username":"jrosmith","ts":"2018-09-28T20:26:12.306Z"}
{"msg":"Has joined the channel.","username":"HoneyShah","ts":"2018-10-02T09:26:22.833Z","type":"uj"}
{"msg":"Hello,\nCan we use views in fabric couchdb?","username":"HoneyShah","ts":"2018-10-02T09:27:07.247Z"}
{"msg":"The ledger (block storage and leveldb state database and indexes) is stored at the configured location here: https://github.com/hyperledger/fabric/blob/release-1.2/sampleconfig/core.yaml#L307","username":"dave.enyeart","ts":"2018-10-02T11:37:04.880Z"}
{"msg":"The only exception is if couchdb is configured as state database","username":"dave.enyeart","ts":"2018-10-02T11:37:14.728Z"}
{"msg":"There is no maximum to the number of blocks","username":"dave.enyeart","ts":"2018-10-02T11:37:40.128Z"}
{"msg":"Hi,  When a channel is created, is a separate DB inside the CouchDB container created?  How does HLF leverage CouchDB sharding capabilities?  Thanks!","username":"tennenjl","ts":"2018-10-03T02:26:21.586Z"}
{"msg":"There is a CouchDB database created within the CouchDB instance per channel_chaincode combination, in order to isolate the data","username":"dave.enyeart","ts":"2018-10-03T02:54:34.052Z"}
{"msg":"The Fabric provided CouchDB docker images sets 8 shards per database, but tests have not been run to actually distribute this across 8 hosts as far as I know","username":"dave.enyeart","ts":"2018-10-03T02:56:38.257Z"}
{"msg":"The Fabric provided CouchDB docker image sets 8 shards per database, but tests have not been run yet to actually distribute this across 8 hosts as far as I know","username":"dave.enyeart","ts":"2018-10-03T02:56:38.257Z"}
{"msg":"@dave.enyeart As always, thank you!!","username":"tennenjl","ts":"2018-10-03T03:30:54.485Z"}
{"msg":"Has joined the channel.","username":"MaddaliPadmaja","ts":"2018-10-03T07:14:48.080Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mrjdomingus","ts":"2018-10-04T08:13:03.054Z","type":"uj"}
{"msg":"@dave.enyeart can i use the `curl` to add an index not by index file which  defines in the chaincode install","username":"asaningmaxchain123","ts":"2018-10-05T09:33:24.765Z"}
{"msg":"that's because i want to dynamic add index not just write it in advance","username":"asaningmaxchain123","ts":"2018-10-05T09:33:52.811Z"}
{"msg":"i see the doc `https://hyperledger-fabric.readthedocs.io/en/master/couchdb_tutorial.html?highlight=couchdb%20index` that means when i want to update an index i should install/instantiate chaincode?","username":"asaningmaxchain123","ts":"2018-10-05T10:05:20.504Z"}
{"msg":"i see the doc https://hyperledger-fabric.readthedocs.io/en/master/couchdb_tutorial.html?highlight=couchdb%20index that means when i want to update an index i should install/instantiate chaincode?","username":"asaningmaxchain123","ts":"2018-10-05T10:05:20.504Z"}
{"msg":"i see the doc https://hyperledger-fabric.readthedocs.io/en/master/couchdb_tutorial.html?highlight=couchdb%20index that means when i want to update an index i should upgrade chaincode?","username":"asaningmaxchain123","ts":"2018-10-05T10:05:20.504Z"}
{"msg":"i don't think it's a good choice","username":"asaningmaxchain123","ts":"2018-10-05T10:05:42.629Z"}
{"msg":"because update an index is need by the business,upgrade chaincode is need by the logic","username":"asaningmaxchain123","ts":"2018-10-05T10:07:43.885Z"}
{"msg":"BFT","username":"tennenjl","ts":"2018-10-05T13:33:41.820Z"}
{"msg":"Has joined the channel.","username":"Barry_CPF","ts":"2018-10-05T16:14:47.173Z","type":"uj"}
{"msg":"@dave.enyeart when i want to open the data file in the `/var/hyperledger` i meet the following error ","username":"asaningmaxchain123","ts":"2018-10-06T04:42:22.745Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-10-06T04:42:27.573Z","attachments":[{"type":"file","title":"Clipboard - October 6, 2018 12:42 PM","title_link":"/file-upload/sg6Cu9nfn8E3a5W2i/Clipboard%20-%20October%206,%202018%2012:42%20PM","image_url":"/file-upload/sg6Cu9nfn8E3a5W2i/Clipboard%20-%20October%206,%202018%2012:42%20PM","image_type":"image/png","image_size":107868,"url":"/file-upload/sg6Cu9nfn8E3a5W2i/Clipboard%20-%20October%206,%202018%2012:42%20PM","remote":false,"fileId":"sg6Cu9nfn8E3a5W2i","fileName":"Clipboard - October 6, 2018 12:42 PM"}]}
{"msg":"@asaningmaxchain123 the indexes within the chaincode are indexes that all orgs will want to agree to, they should be finalized before doing to production with a certain chaincode version.  if your org wants additional indexes, you can use curl to create them","username":"dave.enyeart","ts":"2018-10-06T22:11:34.162Z"}
{"msg":"@asaningmaxchain123 the indexes within the chaincode are indexes that all orgs will want to agree to, they should be finalized before doing to production with a certain chaincode version.  if your org wants additional indexes, you can use curl to create them. in the future lifecycle enhancements, you may be able to update config including indexes without updating the chaincode itself.","username":"dave.enyeart","ts":"2018-10-06T22:11:34.162Z"}
{"msg":"@asaningmaxchain123 the indexes within the chaincode are indexes that all orgs will want to agree to, they should be finalized before going to production with a certain chaincode version.  if your org wants additional indexes, you can use curl to create them. in the future lifecycle enhancements, you may be able to update config including indexes without updating the chaincode itself.","username":"dave.enyeart","ts":"2018-10-06T22:11:34.162Z"}
{"msg":"on the second question, only one process can open leveldb files at a time","username":"dave.enyeart","ts":"2018-10-06T22:11:52.523Z"}
{"msg":"@dave.enyeart thx i got it","username":"asaningmaxchain123","ts":"2018-10-07T00:58:51.135Z"}
{"msg":"Hello, from Fabric v1.1,  the naming convention of couch database has been changed. one of the database is named as `channelname_` which holds the `statedb_savepoint`. Is that the complete name or something missing post `_` to be defined in the compose definition of peer?","username":"rahulhegde","ts":"2018-10-07T21:30:47.615Z"}
{"msg":"Hello,\nHow can we add bulk data in couchdb/","username":"HoneyShah","ts":"2018-10-08T05:47:57.235Z"}
{"msg":"Hello,\nHow can we add bulk data in couchdb?","username":"HoneyShah","ts":"2018-10-08T05:47:57.235Z"}
{"msg":"@rahulhegde that is the correct name for the channel database. it is differentiated from the old `channelname` database to avoid collisions","username":"dave.enyeart","ts":"2018-10-08T11:29:16.292Z"}
{"msg":"@HoneyShah peer commits all the chaincode json writes in bulk at block commit time,  since Fabric v1.1. ","username":"dave.enyeart","ts":"2018-10-08T11:31:42.854Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=rJpW7szzJ3Q92iNc9) @dave.enyeart Does this mean - if i have a multiple write-set in the Endorsement Response, would it be done using a single write to couch database? Is this also applicable even for Read-set, i.e. fetched in bulk during read-set validation.\nIf the rw set is very large, does peer do the bulk operation in batch?","username":"rahulhegde","ts":"2018-10-08T11:59:21.554Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=rJpW7szzJ3Q92iNc9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=rJpW7szzJ3Q92iNc9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rahulhegde yes, all the writes and readset verifications for a chaincode are done in bulk for all the transactions in a block.  if there are a huge number of writes, they will be batched up into multiple bulk writes based on core.yaml `maxBatchUpdateSize`","username":"dave.enyeart","ts":"2018-10-08T12:02:17.935Z"}
{"msg":"@rahulhegde yes, all the writes and readset verifications for a chaincode are done in bulk for all the valid transactions in a block.  if there are a huge number of writes, they will be batched up into multiple bulk writes based on core.yaml `maxBatchUpdateSize`","username":"dave.enyeart","ts":"2018-10-08T12:02:17.935Z"}
{"msg":"@rahulhegde yes, all the writes and readset verifications for a chaincode are done in bulk for all the valid transactions in a block. this greatly improves performance starting in Fabric v1.1. if there are a huge number of writes, they will be batched up into multiple bulk writes based on core.yaml `maxBatchUpdateSize`","username":"dave.enyeart","ts":"2018-10-08T12:02:17.935Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=zvnMCFENpha4qovY9) @dave.enyeart This is better. Other part, did you mean bulk fetch of read set would be irrespective of the ledger transaction state (accepted/rejected).","username":"rahulhegde","ts":"2018-10-08T12:17:05.875Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zvnMCFENpha4qovY9","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=zvnMCFENpha4qovY9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@rahulhegde  bulk fetch of readset is used to check all transactions for version conflicts.  then all the resulting valid transactions will be bulk written","username":"dave.enyeart","ts":"2018-10-08T12:27:43.844Z"}
{"msg":"Question: in case of a dispute regarding the write set of a committed transaction. It would make sense that the client argues that the write set is wrong?. Is he responsible for the write set always since he chose to commit the proposal? It would be a good practice as a client to check the write set to make some sanity checks before taking responsibility?","username":"waxer","ts":"2018-10-09T11:27:35.643Z"}
{"msg":"I want to understand what are the indisputable facts about the responsibility of a transaction.","username":"waxer","ts":"2018-10-09T11:28:40.346Z"}
{"msg":"if A the buyer sends money to B the seller and the seller gets the money transmitted <<< that is the simple case of consensus -- a final sae or transaction <<< indisputable.\n With any asset like a container of bananas there is a bill of lading and a receipted delivery but if their is fraud or some damaged or shorted goods ? There is a dispute? There would be no consensus and no change in the blockchain until the dispute is resolved where there can be a consensus?","username":"Barry_CPF","ts":"2018-10-09T15:25:02.498Z"}
{"msg":"there* is fraud","username":"Barry_CPF","ts":"2018-10-09T15:25:55.057Z"}
{"msg":"@dave.enyeart when the chaincode upgrading the invoke transaction should stop?","username":"asaningmaxchain123","ts":"2018-10-09T16:33:27.678Z"}
{"msg":"@dave.enyeart when the chaincode upgrading the invoke transaction should stop until all the peer has upgrade the chaincode successfully?","username":"asaningmaxchain123","ts":"2018-10-09T16:33:27.678Z"}
{"msg":"In a long view, or better said: in a business perspective, verification of some suspense criterion in a business transaction needs to be adjudicated, (acknowledged and confirmed), by the smart contract to the transaction <<< is what I am thinking. \n\nIn business, all transactions have some suspense period. Code is 1,0 or NULL Like apples and oranges but this is like fruit punch ;)","username":"Barry_CPF","ts":"2018-10-09T17:55:39.097Z"}
{"msg":"@asaningmaxchain123 i've answered your related question on #fabric-peer-endorser-committer ","username":"dave.enyeart","ts":"2018-10-09T21:27:39.821Z"}
{"msg":"@Barry_CPF , not sure if your reply was for me hehe","username":"waxer","ts":"2018-10-09T22:08:59.656Z"}
{"msg":"Sort of waxer ... I am working out programing for my own business logic for Hyperledger using Stellar wallet smart contracts as transaction *intermediary* or \"trigger\" so to speak. Your question seemed to me more of a business logic issue than a coding issue.","username":"Barry_CPF","ts":"2018-10-10T03:50:40.685Z"}
{"msg":"I have 3 peers and 1 organisation then if I want to set an endorsement policy such that 2 of 3 peers should endorsed the transaction. Then how can I do this? Can anybody please help?","username":"HoneyShah","ts":"2018-10-10T10:57:50.280Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=PLTHbAFuwEqGcG2LA) @HoneyShah Wouldn't you just count the responses and send to the orderer if you get enough from the peers?","username":"aatkddny","ts":"2018-10-10T12:05:05.998Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PLTHbAFuwEqGcG2LA","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=PLTHbAFuwEqGcG2LA","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=gydr2PTHjz2CWPwan) @aatkddny How can I do that? I don't understand","username":"HoneyShah","ts":"2018-10-10T12:20:12.285Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gydr2PTHjz2CWPwan","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gydr2PTHjz2CWPwan","remote":true,"fileId":null,"fileName":null}]}
{"msg":"your client calls the peers and collects the responses. i can show you an example using the java sdk but based on your response i'm guessing you aren't using that.","username":"aatkddny","ts":"2018-10-10T12:36:42.537Z"}
{"msg":"Has joined the channel.","username":"ColeBoudreau","ts":"2018-10-10T16:42:50.338Z","type":"uj"}
{"msg":"When blocks are stored on the ledger (log of transactions, not the state db, which I believe is held in the peer container, correct?), what hashing function specifically is used to link the blocks together? Or is that modular?","username":"ColeBoudreau","ts":"2018-10-10T16:46:19.219Z"}
{"msg":"@dave.enyeart can you provide an exmaple about `Setting key-level endorsement policies`","username":"asaningmaxchain123","ts":"2018-10-11T17:49:07.126Z"}
{"msg":"@asaningmaxchain123 that text that you provided from https://hyperledger-fabric.readthedocs.io/en/latest/whatsnew.html is actually a link that explains it: https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html#key-level-endorsement","username":"dave.enyeart","ts":"2018-10-11T17:57:30.761Z"}
{"msg":"and if you want a more concrete example see https://gerrit.hyperledger.org/r/#/c/26232/","username":"dave.enyeart","ts":"2018-10-11T17:58:23.816Z"}
{"msg":"@HoneyShah endorsement policies are based on number or orgs endorsing, not number of peers endorsing.  if you have 1 org and 3 peers, the only endorsement policy possible is for the one org.  now, you as the client may want to ensure that all 3 peers from the one org give the same response, so sure, you could ask all 3 peers to endorse and check that the responses are all the same, but that is not a requirement for the transaction to be validated","username":"dave.enyeart","ts":"2018-10-11T18:01:39.947Z"}
{"msg":"@dave.enyeart i pull the master branch for `fabric-samples` but i don't get the example","username":"asaningmaxchain123","ts":"2018-10-11T18:03:31.029Z"}
{"msg":"https://gerrit.hyperledger.org/r/#/c/26232/ is not merged yet","username":"dave.enyeart","ts":"2018-10-11T18:03:56.481Z"}
{"msg":"you can cherry pick it if you'd like to try it: git fetch ssh://denyeart@gerrit.hyperledger.org:29418/fabric-samples refs/changes/32/26232/12 && git cherry-pick FETCH_HEAD","username":"dave.enyeart","ts":"2018-10-11T18:04:23.903Z"}
{"msg":"i git clone from the github,not gerrit","username":"asaningmaxchain123","ts":"2018-10-11T18:06:56.682Z"}
{"msg":"so i don't fetch it","username":"asaningmaxchain123","ts":"2018-10-11T18:07:02.980Z"}
{"msg":"@dave.enyeart can you merge it?","username":"asaningmaxchain123","ts":"2018-10-11T18:11:11.425Z"}
{"msg":"sorry, it hasnt been reviewed by 2 maintainers yet...","username":"dave.enyeart","ts":"2018-10-11T18:14:35.147Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2018-10-11T18:16:40.012Z","attachments":[{"type":"file","title":"Clipboard - October 12, 2018 2:16 AM","title_link":"/file-upload/uaDF5hXJi7rqR2PrY/Clipboard%20-%20October%2012,%202018%202:16%20AM","image_url":"/file-upload/uaDF5hXJi7rqR2PrY/Clipboard%20-%20October%2012,%202018%202:16%20AM","image_type":"image/png","image_size":97856,"url":"/file-upload/uaDF5hXJi7rqR2PrY/Clipboard%20-%20October%2012,%202018%202:16%20AM","remote":false,"fileId":"uaDF5hXJi7rqR2PrY","fileName":"Clipboard - October 12, 2018 2:16 AM"}]}
{"msg":"how can i resolve it?","username":"asaningmaxchain123","ts":"2018-10-11T18:49:51.536Z"}
{"msg":"@dave.enyeart ","username":"asaningmaxchain123","ts":"2018-10-11T18:49:53.573Z"}
{"msg":"@asaningmaxchain123 , you're accessing a repository where your public key is not registered as permissioned. Are you sure you have to access to that repository? Can you find what are you looking for in https://github.com/hyperledger/fabric ?","username":"waxer","ts":"2018-10-11T19:25:46.979Z"}
{"msg":"@waxer i have resolve it","username":"asaningmaxchain123","ts":"2018-10-11T23:29:59.649Z"}
{"msg":"thx very much","username":"asaningmaxchain123","ts":"2018-10-11T23:30:07.177Z"}
{"msg":"@dave.enyeart i see the https://gerrit.hyperledger.org/r/#/c/26232/ source code, i think it's very hard to understand about the financial market, can you provide a more simple to explain the `Setting key-level endorsement policies`","username":"asaningmaxchain123","ts":"2018-10-12T14:26:43.892Z"}
{"msg":"The more simple explanation is in the target of that link itself: https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html#key-level-endorsement","username":"dave.enyeart","ts":"2018-10-12T14:54:34.461Z"}
{"msg":"@dave.enyeart can you tell me what's the propose of the `Setting key-level endorsement policies`","username":"asaningmaxchain123","ts":"2018-10-12T15:52:20.899Z"}
{"msg":"@dave.enyeart can you tell me what's the propose of the `Setting key-level endorsement policies` or what's the function of it","username":"asaningmaxchain123","ts":"2018-10-12T15:52:20.899Z"}
{"msg":"This topic explains the purpose and function of key-level endorsement policies: https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html#key-level-endorsement","username":"dave.enyeart","ts":"2018-10-12T16:02:09.360Z"}
{"msg":"This topic explains the purpose and function of key-level endorsement policies: https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html","username":"dave.enyeart","ts":"2018-10-12T16:02:09.360Z"}
{"msg":"if there is something in there that is confusing, please raise it so that it can be clarified","username":"dave.enyeart","ts":"2018-10-12T16:02:31.890Z"}
{"msg":"thx i got it, the `Setting key-level endorsement policies` provides an Fine-grained endorsement policies for a special `assert` due to multiple reason","username":"asaningmaxchain123","ts":"2018-10-12T16:14:31.432Z"}
{"msg":"thx i got it, the `Setting key-level endorsement policies` provides an Fine-grained endorsement policies for a special `assert` base on multiple reason","username":"asaningmaxchain123","ts":"2018-10-12T16:14:31.432Z"}
{"msg":"it's right?","username":"asaningmaxchain123","ts":"2018-10-12T16:15:30.503Z"}
{"msg":"@asaningmaxchain123 , yes.","username":"waxer","ts":"2018-10-12T16:38:39.537Z"}
{"msg":"\nMy all docker containers of peers and orderer are exiting except the cli container when i run docker-compose command to up my network. What could be the reason? Any info related to this? \n\n","username":"yousaf","ts":"2018-10-13T22:31:29.223Z"}
{"msg":"@yousaf please stop cross-posting the same question in many channels ","username":"yacovm","ts":"2018-10-13T22:38:45.687Z"}
{"msg":"I answered you in #fabric-questions ","username":"yacovm","ts":"2018-10-13T22:38:54.274Z"}
{"msg":"@yacovm okay sir. I am sorry","username":"yousaf","ts":"2018-10-13T23:31:01.854Z"}
{"msg":"Question: suppose a client makes a query invoke to a single peer. It gets the endorsement reply with the result of the query. This reply is signed by the peer (as is in a invoke with a readwrite set, right?). My question is: if the peer is malicious, the client has no way of knowing it right?","username":"waxer","ts":"2018-10-16T00:31:05.659Z"}
{"msg":"Say it differently, the current state of the world of the peers shouldn't be trusted. It's a easy store to tamper in the network.","username":"waxer","ts":"2018-10-16T00:32:16.834Z"}
{"msg":"Am I thinking it right?","username":"waxer","ts":"2018-10-16T00:32:38.165Z"}
{"msg":"@waxer In a blockchain network, any one peer may be tampered/corrupted/malicious.  The point is, there are multiple peers out there (including your own if you don't trust others), and for critical queries you can cross-check responses from multiple peers to ensure they match. ","username":"dave.enyeart","ts":"2018-10-16T03:00:19.264Z"}
{"msg":"@dave.enyeart thanks Dave. Regarding that point, why when BFT is talked in Fabric, it only correspons to the ordering service? Yes, Ordering service is critical, but why a  Byzantine peer isnt included? Isnt a problem in gossip?","username":"waxer","ts":"2018-10-16T11:03:38.208Z"}
{"msg":"If a peer feeds you 'bad' data (a bad block or bad private data) via gossip, it will be found out by the hash checks at commit time, either at the time you get the bad data or upon receiving the next 'good' block from ordering service or another peer, as the hash chain will not line up. And then the peer that sent the bad data will be found out and can be kicked out of the network. Remember, this is a permissioned network and the assumption is that the peers don't want to be kicked out. So the network is optimized for performance, while  still having recourse against bad actors. Anything to add @yacovm ?","username":"dave.enyeart","ts":"2018-10-16T12:11:47.825Z"}
{"msg":"it will find it before commit time","username":"yacovm","ts":"2018-10-16T12:12:43.986Z"}
{"msg":"gossip verifies the signatures of blocks","username":"yacovm","ts":"2018-10-16T12:12:51.131Z"}
{"msg":"so, if a peer changes the signature or changes the data - it will be found and the block will be discarded","username":"yacovm","ts":"2018-10-16T12:13:14.566Z"}
{"msg":"also - you can't use hash checks to protect against signature tampering because you commit blocks in-order ","username":"yacovm","ts":"2018-10-16T12:13:50.403Z"}
{"msg":"you can only do backward hash check validation given that you verified the signature of the last block","username":"yacovm","ts":"2018-10-16T12:14:08.376Z"}
{"msg":"but you could find out upon receiving the next honest block, right?","username":"dave.enyeart","ts":"2018-10-16T12:14:19.684Z"}
{"msg":"that would be too late, and since blocks are usually produced once per second or two, unless you're doing replication it's not cost effective to do hash chain validation because it means you need to wait for the next block","username":"yacovm","ts":"2018-10-16T12:15:19.301Z"}
{"msg":"this would mean you increase latency ","username":"yacovm","ts":"2018-10-16T12:15:32.090Z"}
{"msg":"i have hash chain validation in raft replication :) \nhttps://gerrit.hyperledger.org/r/#/c/26932/22/orderer/common/cluster/util.go@195 ","username":"yacovm","ts":"2018-10-16T12:16:06.643Z"}
{"msg":"once I finish to write the unit tests... that is","username":"yacovm","ts":"2018-10-16T12:16:19.849Z"}
{"msg":"got it, the gossip block signature verification is what protects us, with the block hash check being a 'backup' check","username":"dave.enyeart","ts":"2018-10-16T12:16:26.918Z"}
{"msg":"it depends  - the backup doesn't protect you completely because if i'm a malicious peer and i feed you sequences 100, 101, 102 - i am probably clever enough to also feed you blocks with \"previous hash\" that diverges from the real chain,\nbut of course once you somehow get a real block you'll see and you will crash","username":"yacovm","ts":"2018-10-16T12:18:11.017Z"}
{"msg":"but even if there is a clever and powerful adversary that isolates your network and feeds you with blocks only via gossip","username":"yacovm","ts":"2018-10-16T12:18:31.956Z"}
{"msg":"it can't do anything","username":"yacovm","ts":"2018-10-16T12:18:34.358Z"}
{"msg":"also there is another benefit of checking every block prior to commit","username":"yacovm","ts":"2018-10-16T12:18:53.747Z"}
{"msg":"if you don't check each block - then it means the incorrect block enters your memory buffer","username":"yacovm","ts":"2018-10-16T12:19:26.027Z"}
{"msg":"and then it means you also don't send other peers that pull from you, the correct block","username":"yacovm","ts":"2018-10-16T12:19:38.180Z"}
{"msg":"so, a block is verified only once, and in all pathways it enters the memory","username":"yacovm","ts":"2018-10-16T12:19:59.826Z"}
{"msg":"right, that's why i called the hash check a backup check... if we fail there, it is too late to save your chain, but at least you will find out and can start fresh if needed","username":"dave.enyeart","ts":"2018-10-16T12:20:15.512Z"}
{"msg":"ok","username":"yacovm","ts":"2018-10-16T12:20:23.193Z"}
{"msg":"TLDR @waxer don't worry! ","username":"yacovm","ts":"2018-10-16T12:20:47.501Z"}
{"msg":"we would only expect to hit the 'backup' hash check upon a catastrophic bug or something","username":"dave.enyeart","ts":"2018-10-16T12:21:12.838Z"}
{"msg":"we would only expect to hit the 'backup' hash check failure upon a catastrophic bug or something","username":"dave.enyeart","ts":"2018-10-16T12:21:12.838Z"}
{"msg":"we would only expect to hit the 'backup' hash check failure upon a catastrophic bug or some user error","username":"dave.enyeart","ts":"2018-10-16T12:21:12.838Z"}
{"msg":"@yacovm , Just to check if I understood correctly: Every peer that receives a block through gossip, checks that block is correctly signed by the orderer. Supposing that the orderer private key wasn't compromised, it would be infeasible that any peer could tamper a block in a 'valid way', thus can't affect gossip distribution.","username":"waxer","ts":"2018-10-16T12:43:14.111Z"}
{"msg":"right","username":"yacovm","ts":"2018-10-16T12:45:38.482Z"}
{"msg":"and if you compromise an orderer private key, at any point, it's game over","username":"yacovm","ts":"2018-10-16T12:45:54.103Z"}
{"msg":"when we move to BFT","username":"yacovm","ts":"2018-10-16T12:45:59.131Z"}
{"msg":"then you'll have to verify several signatures","username":"yacovm","ts":"2018-10-16T12:46:07.635Z"}
{"msg":"and then it will be game over only if you compromise a threshold of private keys ","username":"yacovm","ts":"2018-10-16T12:46:22.807Z"}
{"msg":"@yacovm, right, makes sense. The root of my question was thinking about if solving byzantines in the ordering service, would imply that the whole network is BFT. I think I have some trouble defining exactly what a 'failure' would mean in the network. Do you have some kind of idea about what could be a definition of that?. Seems reasonable to say that the network has 'failed' if exists a fork in the honest peers?, or could be a weaker definition?","username":"waxer","ts":"2018-10-16T13:12:05.843Z"}
{"msg":"i don't understand","username":"yacovm","ts":"2018-10-16T13:13:29.712Z"}
{"msg":"@yacovm , saying that Fabric is BFT, means that the network cannot fail due to byzantine faults. What would mean that the network 'fails'?","username":"waxer","ts":"2018-10-16T13:14:22.758Z"}
{"msg":"well BFT is being resistant to byzantine failures that make the blockchain be split","username":"yacovm","ts":"2018-10-16T13:15:14.612Z"}
{"msg":"meaning, that 2 honest nodes have a different blockchain","username":"yacovm","ts":"2018-10-16T13:15:31.452Z"}
{"msg":"Ok, so having no forks is the ultimate metric to define if the network has failed.","username":"waxer","ts":"2018-10-16T13:16:05.776Z"}
{"msg":"@yacovm , @dave.enyeart , thanks both for your help! :)","username":"waxer","ts":"2018-10-16T13:18:06.292Z"}
{"msg":"Has joined the channel.","username":"krabradosty","ts":"2018-10-16T17:33:49.477Z","type":"uj"}
{"msg":"Hello! I'm parsing сhannel using nodejs SDK and have two question:\n1. metadata.metadata[2] array contains information about the validity of the transactions. I've seen status codes 0 (VALID) and 11 (MVCC_READ_CONFLICT). Are there exist another status codes?\n2. data.data[tx_index].payload.data.actions - the length of this array for me is always 1, actions[0] contains information about chaincode invocation and so on. Why \"actions\" is an array? Is it possible that its size will be more than 1?","username":"krabradosty","ts":"2018-10-16T17:34:01.263Z"}
{"msg":"Hello! I'm parsing сhannel blocks using nodejs SDK and have two question:\n1. metadata.metadata[2] array contains information about the validity of the transactions. I've seen status codes 0 (VALID) and 11 (MVCC_READ_CONFLICT). Are there exist another status codes?\n2. data.data[tx_index].payload.data.actions - the length of this array for me is always 1, actions[0] contains information about chaincode invocation and so on. Why \"actions\" is an array? Is it possible that its size will be more than 1?","username":"krabradosty","ts":"2018-10-16T17:34:01.263Z"}
{"msg":"@krabradosty See the list of possible invalidation codes here: https://github.com/hyperledger/fabric/blob/master/protos/peer/transaction.proto#L115-L143","username":"dave.enyeart","ts":"2018-10-16T17:51:47.150Z"}
{"msg":"Currently peer only supports 1 action, in the future there is intent for peer to support N actions in a single transaction","username":"dave.enyeart","ts":"2018-10-16T17:52:15.453Z"}
{"msg":"Currently peer only supports 1 action, in the future there is intent for peer to support N actions in a single atomic transaction","username":"dave.enyeart","ts":"2018-10-16T17:52:15.453Z"}
{"msg":"Has joined the channel.","username":"ataul443","ts":"2018-10-17T18:23:02.711Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kh.nguyen","ts":"2018-10-19T00:21:28.055Z","type":"uj"}
{"msg":"Question: if I QueryChaincode to another chaincode, that means that keys read from the QueryChaincode chaincode would be included in the readset of the proposal?","username":"waxer","ts":"2018-10-19T01:58:06.930Z"}
{"msg":"And in the same vein, the queryed chaincode should necessary be installed in the same peer?","username":"waxer","ts":"2018-10-19T01:59:33.796Z"}
{"msg":"Has joined the channel.","username":"AndrewNRise","ts":"2018-10-19T08:20:59.140Z","type":"uj"}
{"msg":"@waxer Only if the chaincode you are calling is on the same channel.  Otherwise the two requests are completely independent.","username":"toddinpal","ts":"2018-10-19T16:49:16.573Z"}
{"msg":"Is there a history database for sidedb?  A presentation by Arnaud Le Hors indicated there is.","username":"toddinpal","ts":"2018-10-19T17:04:31.581Z"}
{"msg":"@toddinpal No, GetHistoryForKey api and underlying history database does not exist for private data","username":"dave.enyeart","ts":"2018-10-19T17:06:07.480Z"}
{"msg":"@dave.enyeart Thanks, that's what I thought, but this preso from Arnaud says otherwise: https://www.slideshare.net/alehors/hyperledger-fabric-update-june-2018","username":"toddinpal","ts":"2018-10-19T17:13:09.956Z"}
{"msg":"@toddinpal that is an architecture chart from private data design charts... history db is in fact planned, just not implemented yet","username":"dave.enyeart","ts":"2018-10-19T17:19:33.881Z"}
{"msg":"Has joined the channel.","username":"leura","ts":"2018-10-20T09:37:16.431Z","type":"uj"}
{"msg":"Related to side db, the documentation diagram https://hyperledger-fabric.readthedocs.io/en/release-1.2/private-data/private-data.html    seems to imply that the key is hashed.  I was under the impression that only the value is hashed.  Is the key indeed hashed?","username":"toddinpal","ts":"2018-10-20T14:42:18.256Z"}
{"msg":"key and value are hashed","username":"dave.enyeart","ts":"2018-10-20T15:01:45.560Z"}
{"msg":"the key itself may review private information. the hashed key enables version validation - all peers can validate based on the hashed key.","username":"dave.enyeart","ts":"2018-10-20T15:03:22.965Z"}
{"msg":"the key itself may reveal private information. the hashed key enables version validation - all peers can validate based on the hashed key.","username":"dave.enyeart","ts":"2018-10-20T15:03:22.965Z"}
{"msg":"@dave.enyeart Thanks Dave.  Was this a change as I thought the key in the past was not hashed?","username":"toddinpal","ts":"2018-10-20T15:43:24.059Z"}
{"msg":"not a change, been like that since the initial private data delivery","username":"dave.enyeart","ts":"2018-10-20T15:52:03.897Z"}
{"msg":"hello @dave.enyeart - we would like to use the automatic compaction http://docs.couchdb.org/en/stable/config/compaction.html#config-compactions available as part of fabric v1.2 couch db image. Can you help how we can modify the .ini file or use docker environment variable?","username":"rahulhegde","ts":"2018-10-23T22:30:14.984Z"}
{"msg":"@rahulhegde It should be configured by default... Look in your couchdb's default.ini, you should see [compaction_daemon] and [compactions] sections pre-configured.","username":"dave.enyeart","ts":"2018-10-24T00:35:01.903Z"}
{"msg":"For doc on config files in general, see http://docs.couchdb.org/en/stable/config/intro.html","username":"dave.enyeart","ts":"2018-10-24T00:36:17.715Z"}
{"msg":"I was not able to keep couch database container running when i tried to add docker host mount /opt/couchdb/data & /opt/couchdb/env.  This only  created `/opt/couchdb/env/local.d/docker.ini` but could not see rest of  *.ini file. If this is not getting created, i cannot edit it - Problem1? I am using the ibm-blockchain image. \n\nQ?\nFirst, before it gets created for the first time, is there way i could use docker environment variable to update to the required value in *.ini file - i feel the answer is no?\nsecondly - if i update the *.ini file, would the current docker update back to default value or should reuse what is it in - again expect to be later?\nIf i multiple *.ini, is there order  ","username":"rahulhegde","ts":"2018-10-24T02:19:10.928Z"}
{"msg":"I was not able to keep couch database container running when i tried to add docker host mount /opt/couchdb/data & /opt/couchdb/env.  This only  created `/opt/couchdb/env/local.d/docker.ini` but could not see rest of  *.ini file. If this is not getting created, i cannot edit it - Problem1? I am using the ibm-blockchain image. \n\nQ?\nFirst, before it gets created for the first time, is there way i could use docker environment variable to update to the required value in *.ini file - i feel the answer is no?\nsecondly - if i update the *.ini file, would the current docker update back to default value or should reuse what is it in - again expect to be later?","username":"rahulhegde","ts":"2018-10-24T02:19:10.928Z"}
{"msg":"the docker image comes pre-configured with /opt/couchdb/etc/default.ini having compaction configuration","username":"dave.enyeart","ts":"2018-10-24T02:32:52.263Z"}
{"msg":"you could re-build fabric-couchdb docker image with an updated config","username":"dave.enyeart","ts":"2018-10-24T02:34:06.678Z"}
{"msg":"0.4.10 config file is at: https://github.com/hyperledger/fabric-baseimage/blob/v0.4.10/images/couchdb/local.ini","username":"dave.enyeart","ts":"2018-10-24T02:34:23.502Z"}
{"msg":"local.ini takes precedence over default.ini, the full details are documented at http://docs.couchdb.org/en/stable/config/intro.html","username":"dave.enyeart","ts":"2018-10-24T02:35:08.815Z"}
{"msg":"The preference would be to use the same couch image that is released. I did add the volume mount but the couch database container failed to start.  ","username":"rahulhegde","ts":"2018-10-24T02:36:58.823Z"}
{"msg":"If i get the default.ini after successful starting the couch container, I should be able to edit with changed default compaction setting strict_window = true and enable from-to. would it overwrite on the next start?","username":"rahulhegde","ts":"2018-10-24T02:39:35.295Z"}
{"msg":"I'm not an expert in the docker mounting and persistence options, I'd have to point you to the docker doc.  If you always want a certain config though, I'd recommend rebuild the couchdb image with the config you want","username":"dave.enyeart","ts":"2018-10-24T02:55:54.624Z"}
{"msg":"Hello everyone, I have setup a small network with 3 peers (p1, p2, p3) and two channels (ch1, ch2). p1 and p2 have access to ch1 and p1, p3 have access to ch2. Now what I would like to do is to make peer 1 (p1) read data from channel 1 (ch1) and execute a chaincode on ch2 based on that. Can anyone give me some direction on how to do that? Do I need to write some code on the p1 container to do that?","username":"Nabilel 1","ts":"2018-10-24T09:08:32.479Z"}
{"msg":"@Nabilel 1 You would need to do that in your client application code. Application reads from channel 1 (against p1 or p2) and then propose a transaction for channel 2 (against p1 and/or p3 depending on endorsement policy).  Note that the channel interactions would be independent transactions.","username":"dave.enyeart","ts":"2018-10-24T09:36:33.082Z"}
{"msg":"yes I need it in the client application","username":"Nabilel 1","ts":"2018-10-24T11:41:21.570Z"}
{"msg":"ok great thank you","username":"Nabilel 1","ts":"2018-10-24T11:41:30.050Z"}
{"msg":"Has joined the channel.","username":"EricPetruzzelli","ts":"2018-10-24T12:53:18.631Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zimabry","ts":"2018-10-24T20:48:22.497Z","type":"uj"}
{"msg":"Question: how is the correct way of deleting a channel of a network?","username":"waxer","ts":"2018-10-24T22:01:27.635Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=eSiFtExRpSBsbnZsP) @dave.enyeart no problem  - i see w/o docker image rebuild, i may not achieve the same. Thanks @dave.enyeart ","username":"rahulhegde","ts":"2018-10-25T01:18:35.846Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=eSiFtExRpSBsbnZsP","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=eSiFtExRpSBsbnZsP","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"cagdast","ts":"2018-10-25T07:48:42.644Z","type":"uj"}
{"msg":"Has joined the channel.","username":"parags","ts":"2018-10-31T15:53:45.048Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AzfaarQureshi","ts":"2018-10-31T17:14:25.129Z","type":"uj"}
{"msg":"In which folder leveldb files are stored inside peer container and is there a way we can view leveldb file ? ","username":"MohammadObaid","ts":"2018-11-02T09:46:48.173Z"}
{"msg":"Has joined the channel.","username":"awes0menessInc","ts":"2018-11-06T03:37:45.228Z","type":"uj"}
{"msg":"Has joined the channel.","username":"enriquebusti","ts":"2018-11-07T12:01:30.912Z","type":"uj"}
{"msg":"@dave.enyeart I am facing issue with one of the peers. Actually one of the peer server was down for some days. until then we upgraded the chaincode and redeployed it with the help of other peers in the network. Now since this peer which was down earlier came up again and running but now when we tried to upgrade the chaincode then this peer event hub is throwing error stating that \n[committer/txvalidator] validateTx -> ERRO 00c VSCCValidateTx for transaction txId = 1d685017f2d2cbc1856e874715a2be9f532ceaa3ead2795bf345a388e7b8a1ac returned error: chaincode mycc:105.0/fatico-btic didn't match mycc:4.0/fatico-btic in lscc","username":"javrevasandeep","ts":"2018-11-13T16:08:58.320Z"}
{"msg":"@dave.enyeart I am facing issue with one of the peers. Actually one of the peer server was down for some days. until then we upgraded the chaincode and redeployed it with the help of other peers in the network. Now since this peer which was down earlier came up again and running but now when we tried to upgrade the chaincode then this peer event hub is throwing error stating that \ninstantiate-chaincode - Transaction 1d685017f2d2cbc1856e874715a2be9f532ceaa3ead2795bf345a388e7b8a1ac has status of MVCC_READ_CONFLICT in blocl 36\nAlso when i tried to invoke on this peer it shows the below error in peer logs\n[committer/txvalidator] validateTx -> ERRO 00c VSCCValidateTx for transaction txId = 1d685017f2d2cbc1856e874715a2be9f532ceaa3ead2795bf345a388e7b8a1ac returned error: chaincode mycc:105.0/fatico-btic didn't match mycc:4.0/fatico-btic in lscc\nand below logs in node sdk\n[2018-11-13 08:58:29.480] [INFO] invoke-chaincode - Transaction aa5521dcf496b9fe3d937a338bf893569ed197c109ab2b46c260d9aa875da671 has status of EXPIRED_CHAINCODE in blocl 40\n[2018-11-13 08:58:29.480] [ERROR] invoke-chaincode - The invoke chaincode transaction was invalid, code:EXPIRED_CHAINCODE\n[2018-11-13 08:58:29.481] [ERROR] invoke-chaincode - Error: The invoke chaincode transaction was invalid, code:EXPIRED_CHAINCODE","username":"javrevasandeep","ts":"2018-11-13T16:08:58.320Z"}
{"msg":"I don't know what \"redeployed it with the hold of other peers\" means. Can you clarify what you mean?  Your block height and state database may be out of sync.  You can drop the state database, upon restart peer will rebuild it.  Are you using leveldb or couchdb state database?","username":"dave.enyeart","ts":"2018-11-13T19:33:30.769Z"}
{"msg":"I don't know what \"redeployed it with the help of other peers\" means. Can you clarify what you mean?  Your block height and state database may be out of sync.  You can drop the state database, upon restart peer will rebuild it.  Are you using leveldb or couchdb state database?","username":"dave.enyeart","ts":"2018-11-13T19:33:30.769Z"}
{"msg":"@MohammadObaid There are various leveldb databases within the /var/hyperledger/fabric directory. There is no good way to view them.  You could switch state database to couchdb if you want to view the data in development environment.","username":"dave.enyeart","ts":"2018-11-13T19:35:33.272Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=c5oGf6G3awxguHdST) @dave.enyeart i have two channels with this peer. for one channel this is working fine but on the other channel it is unable to upgrade / invoke on this peer","username":"javrevasandeep","ts":"2018-11-14T05:18:48.267Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=c5oGf6G3awxguHdST","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=c5oGf6G3awxguHdST","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=c5oGf6G3awxguHdST) @dave.enyeart i have two channels with this peer. for one channel this is working fine but on the other channel it is unable to upgrade / invoke on this peer. Now how to delete the state database for a particular channel specifically which folder under /var/hyperledger/production?","username":"javrevasandeep","ts":"2018-11-14T05:18:48.267Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=c5oGf6G3awxguHdST","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=c5oGf6G3awxguHdST","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Are you using leveldb or couchdb as state database?","username":"dave.enyeart","ts":"2018-11-14T12:24:45.902Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=SjLhNPHb7aYTRvefC) @dave.enyeart I am using couchDB","username":"javrevasandeep","ts":"2018-11-14T12:37:57.234Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=SjLhNPHb7aYTRvefC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=SjLhNPHb7aYTRvefC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@javrevasandeep Here's I drop and restart couchdb:","username":"dave.enyeart","ts":"2018-11-14T13:49:25.511Z"}
{"msg":"```docker stop couchdb\ndocker rm couchdb\ndocker run --publish 5984:5984 --detach --name couchdb hyperledger/fabric-couchdb\n```","username":"dave.enyeart","ts":"2018-11-14T13:49:29.039Z"}
{"msg":"if you are persisting data to a host volume, then delete couchdb data from `/opt/couchdb/data`","username":"dave.enyeart","ts":"2018-11-14T13:50:18.805Z"}
{"msg":"when you restart peer, the couchdb state database will be rebuilt from the blockchain","username":"dave.enyeart","ts":"2018-11-14T13:51:09.945Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=gDeF53XgqJMNFC46r) @dave.enyeart ok i will try this out but I am wondering what will happen to historyDB, will that also be built up from scratch from other peers","username":"javrevasandeep","ts":"2018-11-14T14:02:48.968Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gDeF53XgqJMNFC46r","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=gDeF53XgqJMNFC46r","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@javrevasandeep history db is also built from the blockchain. if you suspect it is not correct you can drop it so that it gets rebuilt upon peer startup. location is /var/hyperledger/production/ledgersData/historyLeveldb/","username":"dave.enyeart","ts":"2018-11-14T14:10:39.644Z"}
{"msg":"if you've got multiple things going wrong for whatever reason, i'd suggest to make a new peer and re-join the channel rather than spend cycles fixing it piece by piece","username":"dave.enyeart","ts":"2018-11-14T14:11:18.551Z"}
{"msg":"@dave.enyeart what i should do in order to block access to a channel. say i may want to make a channel read only or i may want to restrict it for both read and write","username":"javrevasandeep","ts":"2018-11-14T16:30:33.954Z"}
{"msg":"@javrevasandeep  see https://hyperledger-fabric.readthedocs.io/en/latest/access_control.html","username":"dave.enyeart","ts":"2018-11-14T16:44:13.983Z"}
{"msg":"Hello,\nWhen chaincode container remains idle for some time then it stops with error:\n```\nERROR [lib/handler.js] Chat stream with peer - on error: \"Error: 14 UNAVAILABLE: EOF\\n    at createStatusError (/usr/local/src/node_modules/grpc/src/client.js:64:15)\\n    at ClientDuplexStream._emitStatusIfDone (/usr/local/src/node_modules/grpc/src/client.js:270:19)\\n at ClientDuplexStream._receiveStatus (/usr/local/src/node_modules/grpc/src/client.js:248:8)\\n    at /usr/local/src/node_modules/grpc/src/client.js:804:12\"\n\n```\n\nAnd when the first request comes after idle time it gives an error of \n```\nError: 14 UNAVAILABLE: TCP Write failed\n\n```\nAnd after that all works fine. How can I solve for the first request? Please help","username":"HoneyShah","ts":"2018-11-16T08:19:59.275Z"}
{"msg":"hello, suppose a peer suddently cannot work when it is committing a block because of poweroff or somthing else.  what should the peer do when it restarts?  pull the ledger from other peers in the same channel? Thank you.","username":"qsmen","ts":"2018-11-16T08:38:25.500Z"}
{"msg":"the answer should be yes. just like a new joined peer,  maybe many blocks have been produced since the failure, so the peer should pull ledger from other peers.","username":"qsmen","ts":"2018-11-16T09:16:13.318Z"}
{"msg":"@qsmen ","username":"dave.enyeart","ts":"2018-11-16T11:26:55.758Z"}
{"msg":"If the peer is a gossip leader in the org:\n- then it always pulls blocks from orderer\nIf the peer is not a gossip leader:\n- if the peer is current or just a little behind (within a cache threshold), then it gets blocks as usual via gossip from the org's leader peer (or potentially another peer in the org).\n- if the peer is way behind, then it gets blocks via block transfer from another peer (can be cross-org)","username":"dave.enyeart","ts":"2018-11-16T11:26:58.738Z"}
{"msg":"Hello,\nWhat if someone change data of couchdb directly using commandline or interface? I tried to modify it from interface then when we query data using getState from same peer then it gives us modified data which is wrong. So how can we resolve this?","username":"HoneyShah","ts":"2018-11-16T11:43:56.880Z"}
{"msg":"@HoneyShah See answer here: https://lists.hyperledger.org/g/fabric/message/4896","username":"dave.enyeart","ts":"2018-11-16T11:52:57.484Z"}
{"msg":"Has joined the channel.","username":"BellaAdams","ts":"2018-11-17T00:46:01.758Z","type":"uj"}
{"msg":"Has joined the channel.","username":"huxiangdong","ts":"2018-11-20T00:33:17.510Z","type":"uj"}
{"msg":"Thank you Dave for the detailed explanation.","username":"qsmen","ts":"2018-11-20T06:29:07.197Z"}
{"msg":"@dave.enyeart each org must have one anchor peer at least","username":"asaningmaxchain123","ts":"2018-11-20T14:04:16.946Z"}
{"msg":"@dave.enyeart should assign it by myself or dynamic assign by fabric ?","username":"asaningmaxchain123","ts":"2018-11-20T14:44:10.970Z"}
{"msg":"you must configure anchor peers in a config transaction. please use #fabric-gossip for gossip config questions.","username":"dave.enyeart","ts":"2018-11-20T14:45:05.663Z"}
{"msg":"you must configure anchor peers in a config transaction. please use #fabric-gossip for gossip config questions, the experts in gossip hang out over there.","username":"dave.enyeart","ts":"2018-11-20T14:45:05.663Z"}
{"msg":"Has joined the channel.","username":"ivanovv","ts":"2018-11-22T10:51:59.267Z","type":"uj"}
{"msg":"Hi,\n\nI have a question about the CouchDB databases created and used by the Hyperledger Fabric:\nIf I define a Private Data collection \"org1only\", I get 2 Couch databases called \"[namespace]$$horg1only\" & \"[namespace]$$porg1only\".\n(The difference is \"h\" vs \"p\")\nThe question is what is their purpose and what is the workflow between them?\n\nThe use case/test scenario is (even I misuse the private data concept):\nI have org1 & org2 and a collection \"org1only\" defined (using the java sdk) by referencing ONLY the org1 members. \nThen the chaincode transaction signed and endorsed by ORG2 user & peer tries to write to the \"org1only\" collection.\nLater org2 can not read the data. The data seems to be written to the \"h\" database, but the read uses the \"p\" database.\nI can not see any Errors or Warnings in the peers logs (Org1 & Org2)...\n\nThanks,\nVenko\n","username":"ivanovv","ts":"2018-11-22T12:51:04.525Z"}
{"msg":"Hi,\n\nI have a question about the CouchDB databases created and used by the Hyperledger Fabric:\nIf I define a Private Data collection \"org1only\", I get 2 Couch databases called \"[namespace]$$horg1only\" & \"[namespace]$$porg1only\".\n(The difference is \"h\" vs \"p\")\nThe question is what is their purpose and what is the workflow between them?\n\nThe use case/test scenario is (even I misuse the private data concept):\nI have org1 & org2 and a collection \"org1only\" defined (using the java sdk) by referencing ONLY the org1 members. \nThen the chaincode transaction signed and endorsed by ORG2 user & peer tries to write to the \"org1only\" collection.\nLater org2 can not read the data. The data seems to be written to the \"h\" database, but the read uses the \"p\" database.\nI can not see any Errors or Warnings in the peers logs (Org1 & Org2)...\n\nThanks,\nVenko\nHi Dave,","username":"ivanovv","ts":"2018-11-22T12:51:04.525Z"}
{"msg":"Hi,\n\nI have a question about the CouchDB databases created and used by the Hyperledger Fabric:\nIf I define a Private Data collection \"org1only\", I get 2 Couch databases called \"[namespace]$$horg1only\" & \"[namespace]$$porg1only\".\n(The difference is \"h\" vs \"p\")\nThe question is what is their purpose and what is the workflow between them?\n\nThe use case/test scenario is (even I misuse the private data concept):\nI have org1 & org2 and a collection \"org1only\" defined (using the java sdk) by referencing ONLY the org1 members. \nThen the chaincode transaction signed and endorsed by ORG2 user & peer tries to write to the \"org1only\" collection.\nLater org1 (fixed after Dave's reply) can not read the data. The data seems to be written to the \"h\" database, but the read uses the \"p\" database.\nI can not see any Errors or Warnings in the peers logs (Org1 & Org2)...\n\nThanks,\nVenko\n","username":"ivanovv","ts":"2018-11-22T12:51:04.525Z"}
{"msg":"@ivanovv the 'p' database stores the actual private data on the collection member peers. the 'h' database stores a hash of the private data on all peers. basically the 'h' database is needed so that all peers can do state validation at commit time, even though they don't have access to the actual private data.  The private data collection defines which org peers can accept, persist, and query for the private data.  In your example, org2 is indeed allowed to write private data to org1only, but org2 peers would not get the private data and therefore could not query it for users of the org2 peer. You may want to do this for example if org2 was transferring an asset to org1.  org2 could delete the asset from their collection and write it to org1 private data collection. then only org1 peers would have the private data, and only org1 peers could later transfer the private data to somebody else.","username":"dave.enyeart","ts":"2018-11-22T13:09:17.681Z"}
{"msg":"Hi Dave,\n\nthanks for the quick and punctual answer... but now I see I have made a mistake in my previous description (reverted the roles for clarity - my apologies for that ):\norg1 can not read from \"org1only\" collection (the data written there by org2).\n\nIf you say that org2 CAN write to the org1only collection, this means that I have made mistake somewhere in the configs... \nI do not see any errors/warnings and the collection definition is like:\n\n   {\n      \"StaticCollectionConfig\":{\n         \"name\":\"org1Only\",\n         \"SignaturePolicyEnvelope\":{\n            \"identities\":[\n               {\n                  \"user1\":{\n                     \"role\":{\n                        \"name\":\"member\",\n                        \"mspId\":\"Org1MSP\"\n                     }\n                  }\n               }\n            ],\n            \"policy\":{\n               \"1-of\":[\n                  {\n                     \"signed-by\":\"user1\"\n                  }\n               ]\n            }\n         },\n         \"requiredPeerCount\":0,\n         \"maximumPeerCount\":0,\n         \"blockToLive\":0\n      }\n   }\n\nand the org2 executes:\nAPIstub.PutPrivateData(\"org1only\", key, value)\n\nThanks again and sorry for the confusion,\nVenko\n","username":"ivanovv","ts":"2018-11-22T13:45:37.576Z"}
{"msg":"Hi Dave,\n\nthanks for the quick and punctual answer... but now I see I have made a mistake in my previous description (reverted the roles for clarity - my apologies for that ):\norg1 can not read from \"org1only\" collection (the data written there by org2).\n\nIf you say that org2 CAN write to the org1only collection, this means that I have made mistake somewhere in the configs... \nI do not see any errors/warnings and the collection definition is like:\n\n   {\n      \"StaticCollectionConfig\":{\n         \"name\":\"org1only\",\n         \"SignaturePolicyEnvelope\":{\n            \"identities\":[\n               {\n                  \"user1\":{\n                     \"role\":{\n                        \"name\":\"member\",\n                        \"mspId\":\"org1MSP\"\n                     }\n                  }\n               }\n            ],\n            \"policy\":{\n               \"1-of\":[\n                  {\n                     \"signed-by\":\"user1\"\n                  }\n               ]\n            }\n         },\n         \"requiredPeerCount\":0,\n         \"maximumPeerCount\":0,\n         \"blockToLive\":0\n      }\n   }\n\nand the org2 executes:\nAPIstub.PutPrivateData(\"org1only\", key, value)\n\nThanks again and sorry for the confusion,\nVenko\n","username":"ivanovv","ts":"2018-11-22T13:45:37.576Z"}
{"msg":"The difference in the letter case in the description & the example is correct in my code (is not causing the issue).","username":"ivanovv","ts":"2018-11-22T13:48:06.722Z"}
{"msg":"Hi Dave, \nThanks for the quick and punctual answer (i have actually made a mistake in my problem description - it is fixed now). \nYour statement that \"org2 is INDEED ALLOWED to write private data to org1only\" confirmed to me that I should be able to do what i needed and after a change in the collection policy I solved the issue.\nOriginally I had \"requiredPeerCount&maximumPeerCount = 0\", and after changing this to 1 the problem was solved.\nI was misled by using a config like \"org1andorg2\" collection definition that worked (AFAI remember) with both values set to 0.\n\nThanks again for the great help!\nVenko","username":"ivanovv","ts":"2018-11-22T17:32:50.684Z"}
{"msg":"Has joined the channel.","username":"aKesav","ts":"2018-11-24T08:16:24.155Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MaheshBalan_Pravici","ts":"2018-11-24T22:22:44.783Z","type":"uj"}
{"msg":"Folks we are running into an issue when the number of transactions in the ledger increases,ledger query performance degrades badly. In our Fabric 1.1 implementation, we have an asset defined as follows:\nasset TransferPointsTxn identified by transactionId {\no String transactionId\n--> Account account\n}\nBasically we have a participant called account, and the transactions the account makes is recorded in this asset with transactionId pointing to the ledger transaction. What we are seeing is, when we try to look at an Account's transactions, cycling through the TransferPointTxn asset is pretty fast (it is from couchdb, and the query is indexed with a view etc) but when we try to pull the corresponding transaction from the ledger with a nested query based on transactionid, the retrieval from the ledger slows drown dramatically. With less than 100,000 transactions in the ledger, we are now seeing that it takes almost 2 seconds to retrieve each transaction from the ledger. \nThe query on TransaferPointsTxn asset itself takes only a few seconds totally for a typical account, but the subquery to retrieve each transaction from the ledger is taking almost 2 seconds per transaction! This means if a customer has 20 transactions, we spend 2 + 20*2 = 42 seconds for the retrieval.\n2018-11-15T23:31:34.030Z [886d63c2] DEBUG :NodeDataService :executeQuery() > {\"selector\":{\"\\\\$class\":\"com.gm.lob.loyalty.TransferPoints\",\"\\\\$registryType\":\"Transaction\",\"\\\\$registryId\":\"com.gm.lob.loyalty.TransferPoints\",\"transactionId\":{\"$eq\":\"0d38c9fbb1263b12d69f78855fc592ac2910a433b53baaa9aa9f71560bce3bd9\"}}}\n2018-11-15T23:31:36.563Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 2533.00\n2018-11-15T23:31:38.818Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 2222.00\n2018-11-15T23:31:41.449Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 2619.00\n2018-11-15T23:31:43.944Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 2480.00\n2018-11-15T23:31:46.113Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 2152.00\n2018-11-15T23:31:48.664Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 2529.00\n2018-11-15T23:31:50.347Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 1655.00\n2018-11-15T23:31:52.645Z [886d63c2] DEBUG :NodeDataService :@PERF executeQuery() Total (ms) duration: 2262.00\nSo question really is, as we add more transactions to the ledger, are there ways for improving query performance of the ledger ?. WIth assets and participants being in Couchdb, the performance there can be optimized various ways, but what tools do we have to optimize ledger query performance ?\n\n\n","username":"MaheshBalan_Pravici","ts":"2018-11-24T22:23:09.024Z"}
{"msg":"@MaheshBalan_Pravici Make sure the CouchDB index covers all the fields in your query. Fully indexed queries should be fast. Note that Fabric doesn't interfere in the actual CouchDB query, you should be able to reproduce the same result outside of Fabric. So if you still have issues, try it outside of Fabric for example using the Fauxton client to query, and then open an issue against CouchDB: https://github.com/apache/couchdb/issues. They will be more likely to help if you can isolate an issue using Fauxton client to directly query CouchDB.","username":"dave.enyeart","ts":"2018-11-25T03:40:19.283Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=GkyPkWFe7tA4B229z) @dave.enyeart thanks for your reply. cActually my problem seems to be with reading the ledger itself. \n\n``` \n```","username":"MaheshBalan_Pravici","ts":"2018-11-25T19:16:08.081Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GkyPkWFe7tA4B229z","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=GkyPkWFe7tA4B229z","remote":true,"fileId":null,"fileName":null}]}
{"msg":"query TransferPointsByTxId {\n  description: \"Select  TransferPoints transactions by transactionid\"\n  statement:\n    SELECT com.test.TransferPoints WHERE (transactionId == _$transactionId)\n}\n\nquery TransferPointsTxnByAccount {\n  description: \"Select all TransferPointsTxn by account\"\n  statement:\n    SELECT com.test.TransferPointsTxn WHERE (account == _$account)\n}","username":"MaheshBalan_Pravici","ts":"2018-11-25T19:17:35.063Z"}
{"msg":"The couchdb query, which is the second query which gets from the asset the list of a customer's transactions itself is very fast taking 2 seconds. But for each row retrieved from that query, I am querying the ledger itself with the first \"TransferPointsBtTxnId\" query, which tries to query the ledger for a single transaction by the transaction id. This is the query which seems to get worse and worse as we add more transactions. Is there any way to optimize the reading of the ledger itself, short of emitting the Transactions and storing it in a separate database for query purposes ?","username":"MaheshBalan_Pravici","ts":"2018-11-25T19:21:58.141Z"}
{"msg":"@MaheshBalan_Pravici ok, in that case please open a Fabric jira issue and attach peer debug, e.g.:","username":"dave.enyeart","ts":"2018-11-25T23:04:11.277Z"}
{"msg":"```CORE_LOGGING_LEVEL=info:chaincode=debug:endorser=debug:kvledger=debug:lockbasedtxmgr=debug:statecouchdb=debug:couchdb=debug:statebasedval=debug:fsblkstorage=debug peer node start```","username":"dave.enyeart","ts":"2018-11-25T23:04:14.685Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=EEPzzfhtsidoYcrLz) @dave.enyeart Will do. Thanks.","username":"MaheshBalan_Pravici","ts":"2018-11-26T20:40:09.739Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=EEPzzfhtsidoYcrLz","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=EEPzzfhtsidoYcrLz","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi I noticed that in 1.3 there are new Get/Set/DeleteStateMetadata functions in the ledger interface; it looks like the plumbing is already in place to eventually expose them through the chaincode shim. Are there any details about the semantics and usecases of those functions? It looks like they allow you to associate K/V pairs to a key, but I would like to understand a bit more about them. Thanks!","username":"minollo","ts":"2018-11-27T23:22:07.531Z"}
{"msg":"@minollo - these functions are not meant to expose directly to chaincode shim as is. The metadata associated with a key is primarily meant to persist additional security info with the key - which in the shim is exposed via 'Get/SetStateValidationParameter'. Only for internal flexibility they are exposed as a map. This is mainly used in the recently added feature named 'key-based-endorsement' (interchangeably referred as 'state-based-endorsement').","username":"manish-sethi","ts":"2018-11-27T23:26:54.151Z"}
{"msg":"@minollo - these functions are not meant to expose directly to chaincode shim as is. The metadata associated with a key is primarily meant to persist additional security info with the key - which in the shim is exposed via 'Get/SetStateValidationParameter'. Only for internal flexibility they are exposed as a map. This is mainly used in the recently added feature in version 1.3 named 'key-based-endorsement' (interchangeably referred as 'state-based-endorsement').","username":"manish-sethi","ts":"2018-11-27T23:26:54.151Z"}
{"msg":"You can find more details about this feature in docs here - https://hyperledger-fabric.readthedocs.io/en/release-1.3/endorsement-policies.html#setting-key-level-endorsement-policies","username":"manish-sethi","ts":"2018-11-27T23:28:34.202Z"}
{"msg":"Got it; thanks @manish-sethi ","username":"minollo","ts":"2018-11-28T00:05:36.947Z"}
{"msg":"Hello, Can someone please guide me to a resource relating to back-up/restore procedure for Hyperledger fabric network. ","username":"melwindmello","ts":"2018-11-28T06:54:58.547Z"}
{"msg":"The best I could find is this: https://jira.hyperledger.org/browse/FAB-3364","username":"melwindmello","ts":"2018-11-28T06:55:24.538Z"}
{"msg":"Has joined the channel.","username":"theezenaku","ts":"2018-11-28T22:52:25.027Z","type":"uj"}
{"msg":"@melwindmello , if you use kafka, take care of good redundancy in the cluster. If you don't use kafka and are worries about data loss, use kafka.","username":"waxer","ts":"2018-11-29T02:14:31.476Z"}
{"msg":"Has joined the channel.","username":"haggis","ts":"2018-11-29T08:08:07.705Z","type":"uj"}
{"msg":"Thanks you @waxer .","username":"melwindmello","ts":"2018-11-29T10:37:46.424Z"}
{"msg":"However, I am looking at specific steps to backup/restore a Peer node (for now and then for Orderers, CAs) in case of total network failure. Kafka will provided take care of the Orderes. \nI am following this https://jira.hyperledger.org/browse/FAB-3364 and was hoping that someone might have done this.","username":"melwindmello","ts":"2018-11-29T10:43:33.362Z"}
{"msg":"However, I am looking at specific steps to backup/restore a Peer node (for now and then for Orderers, CAs) in case of total network failure. Kafka will take care of the Orderes. \nI am following this https://jira.hyperledger.org/browse/FAB-3364 and was hoping that someone might have done this.","username":"melwindmello","ts":"2018-11-29T10:43:33.362Z"}
{"msg":"@melwindmello kafka will take of the Orderers, and thus the peers indirectly.","username":"waxer","ts":"2018-11-29T11:27:40.282Z"}
{"msg":"If you want to avoid reprocessing the ledger again, thats another requirement. But all the necessary information to restore any orderer and any peer is in the kafka cluster.","username":"waxer","ts":"2018-11-29T11:28:58.669Z"}
{"msg":"If you bootstrap an Kafka-Orderer with 'FileLedger' and pre-existing blocks, will it revalidate the chain?","username":"haggis","ts":"2018-11-29T11:47:15.691Z"}
{"msg":"Has joined the channel.","username":"giacomo.minighin","ts":"2018-11-29T11:55:43.949Z","type":"uj"}
{"msg":"https://www.businesswire.com/news/home/20181128005680/en/Amazon-Web-Services-Announces-AWS-Outposts","username":"eabiodun","ts":"2018-11-29T20:13:53.513Z"}
{"msg":"for file ledger, we are using `FD.Sync()` to flush data to disk [here](https://github.com/hyperledger/fabric/blob/d200615cd6f95f5ec19cf89fc5198aa754bfd57b/common/ledger/blkstorage/fsblkstorage/blockfile_rw.go#L43). However, I came across [this golang issue](https://github.com/golang/go/issues/26650), which may lead to using `syscall.Syscall(syscall.SYS_FCNTL, f.Fd(), uintptr(syscall.F_FULLFSYNC), uintptr(0))` instead. Maybe someone could take a look? cc @manish-sethi ","username":"guoger","ts":"2018-11-30T07:18:14.166Z"}
{"msg":"Thanks @guoger for pointing to this - I'll take a closer look.","username":"manish-sethi","ts":"2018-11-30T14:20:56.640Z"}
{"msg":"@manish-sethi thanks! I probably should've noted that it's for OSX only. let me know if you have any further questions :)","username":"guoger","ts":"2018-12-01T06:27:01.642Z"}
{"msg":"(sadly performance is just much worse with `F_FULLSYNC`)","username":"guoger","ts":"2018-12-01T06:32:05.803Z"}
{"msg":"Has left the channel.","username":"giacomo.minighin","ts":"2018-12-03T15:18:10.093Z","type":"ul"}
{"msg":"@nRyDevOps The Fabric ledger has a state database interface that would allow you to add different database implementations. I know people have done trial MongoDB implementations, but nobody has submitted such an implementation to Fabric open source.","username":"dave.enyeart","ts":"2018-12-03T16:28:53.405Z"}
{"msg":"Has joined the channel.","username":"nRyDevOps","ts":"2018-12-03T16:28:54.368Z","type":"uj"}
{"msg":"@dave.enyeart thanks for answering this question as it helps me move forward with my testing of Fabric.","username":"nRyDevOps","ts":"2018-12-03T16:43:22.503Z"}
{"msg":"Has joined the channel.","username":"mallikarjunasai995","ts":"2018-12-04T05:02:05.463Z","type":"uj"}
{"msg":"Has joined the channel.","username":"FLASHJr","ts":"2018-12-04T10:49:39.483Z","type":"uj"}
{"msg":"In the fabcar example, To whom the car belongs to and who is initializing the ledger precisely which peer?\nSuppose there are two peers I want one one peer to setup the some rules or treaty then the second peer has to initialize the data , but while initializing it has to check and satisfy the treaty or rules created by another peer …. Where should I write this thing?\nhey hai if you can give me some idea for the above mentioned one if would be great ","username":"mallikarjunasai995","ts":"2018-12-04T14:47:00.550Z"}
{"msg":"Has joined the channel.","username":"arjitkhullar","ts":"2018-12-05T00:03:51.188Z","type":"uj"}
{"msg":"Quick clarification on Channel Readers as of Fabric 1.2: Are readers essentially committers that don't execute chaincode? They only allow queries via the CSCC and QSCC? Or has the thinking/design behind this changed to reflect what the user chaincode execution can and can't do with respect to reads and writes?","username":"dileban","ts":"2018-12-05T02:18:10.426Z"}
{"msg":"@wlahti can you answer the question from @dileban .  The doc may also need to be clarified to explain this...","username":"dave.enyeart","ts":"2018-12-05T06:15:36.170Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=jmRaiKfspMQT6TPAY) @mallikarjunasai995 You can do such validations in chaincode, for example by getting the transaction submitter information using GetCreator() chaincode API or Client Identity Library APIs: https://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html#chaincode-api. For example you can save submitter information as 'owner' information in an asset key/value, and then check this on subsequent transactions. Or require one org submitter to set a key before another org submitter changes a key.","username":"dave.enyeart","ts":"2018-12-05T06:22:09.039Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jmRaiKfspMQT6TPAY","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jmRaiKfspMQT6TPAY","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=jmRaiKfspMQT6TPAY) @mallikarjunasai995 You can do such validations in chaincode, for example by getting the transaction submitter information using GetCreator() chaincode API or Client Identity Library APIs: https://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html#chaincode-api. For example you can save submitter information as 'owner' information in an asset key/value, and then check this on subsequent transactions. Or require one org submitter to set a key before another org submitter changes a key in a subsequent transaction.","username":"dave.enyeart","ts":"2018-12-05T06:22:09.039Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jmRaiKfspMQT6TPAY","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=jmRaiKfspMQT6TPAY","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Nv88A8NWfZDQLrAir) @dave.enyeart thanks for the help but can you tell it in layman terms because i couldn't actually get it","username":"mallikarjunasai995","ts":"2018-12-05T06:37:44.537Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Nv88A8NWfZDQLrAir","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Nv88A8NWfZDQLrAir","remote":true,"fileId":null,"fileName":null}]}
{"msg":"where are assets stored in blockchain network ?\nis it only transaction data that is storing if so then wat about assets","username":"mallikarjunasai995","ts":"2018-12-06T05:51:35.046Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=xdi9vwpoyum9g9ZhR) @mallikarjunasai995 Its stored in state database (couch db or level DB) and transaction data stored in file format as Block","username":"knagware9","ts":"2018-12-06T05:54:38.743Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xdi9vwpoyum9g9ZhR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=xdi9vwpoyum9g9ZhR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HkiZQoB3NAiajqLpu) @knagware9 so to store the assets in state dabatabase, do we have to perform a trasaction ?","username":"mallikarjunasai995","ts":"2018-12-06T05:56:59.945Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HkiZQoB3NAiajqLpu","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HkiZQoB3NAiajqLpu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=3xdiR6XiEdhYsyEPf) @mallikarjunasai995 transaction history and state database update happned at the same time whenever any succesfull transaction commiteed at any peer","username":"knagware9","ts":"2018-12-06T05:58:32.489Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3xdiR6XiEdhYsyEPf","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=3xdiR6XiEdhYsyEPf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=yeycZ4zRycfXE5sR2) @knagware9 okay thanks ..... but i have small doubt \nSuppose there are two peers I want one one peer to setup the some rules or treaty then the second peer has to initialize the data , but while initializing it has to check and satisfy the treaty or rules created by another peer …. Where should I write this thinif you can give me some idea for the above mentioned one if would be great","username":"mallikarjunasai995","ts":"2018-12-06T05:59:52.272Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yeycZ4zRycfXE5sR2","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=yeycZ4zRycfXE5sR2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=FqtpjkHusjiFwWfvv) @mallikarjunasai995 That we need to write in chaincode and while instatiating the chaincode you need to pass endorsement policy ..https://hyperledger-fabric.readthedocs.io/en/release-1.2/endorsement-policies.html","username":"knagware9","ts":"2018-12-06T06:03:40.733Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FqtpjkHusjiFwWfvv","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FqtpjkHusjiFwWfvv","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=sG8kKD3EhGTeNiots) @knagware9 yes got it but endorsement policy is like what are the peers should accept to perform the successfull trasaction right but here in my case along with endorsement policy  i have one peer that sets some rules  so my question is where should i configure the rules in chaincode ?","username":"mallikarjunasai995","ts":"2018-12-06T06:05:24.548Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=sG8kKD3EhGTeNiots","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=sG8kKD3EhGTeNiots","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=Z89NrTJ3CxxgHReMd) @mallikarjunasai995 I think in init function of chaincode,,","username":"knagware9","ts":"2018-12-06T06:08:03.592Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Z89NrTJ3CxxgHReMd","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=Z89NrTJ3CxxgHReMd","remote":true,"fileId":null,"fileName":null}]}
{"msg":"okay thanks Kamlesh :relaxed: ","username":"mallikarjunasai995","ts":"2018-12-06T06:09:02.497Z"}
{"msg":"does peers perform the signing action or users in that peers will do that ?","username":"mallikarjunasai995","ts":"2018-12-06T13:43:49.121Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HKTK7EY2Gv9AxxC75) @wlahti - Sorry to ping you guys directly, but any thoughts on this? @dave.enyeart  Anyone else I could ping if walhti is away?","username":"dileban","ts":"2018-12-07T05:14:13.927Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HKTK7EY2Gv9AxxC75","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HKTK7EY2Gv9AxxC75","remote":true,"fileId":null,"fileName":null}]}
{"msg":"what is the difference between registering an user and enrolling an user?","username":"mallikarjunasai995","ts":"2018-12-07T05:57:26.935Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR) @dileban That's correct. They can also read events, which essentially means they can consume all the blockchain data. Many people use events to build other data stores for queries/analytics.","username":"dave.enyeart","ts":"2018-12-07T12:26:30.102Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR) @dileban That's correct. They can also read events, which essentially means they can consume all the blockchain data. Many people use events to build other data stores for queries/analytics.  More granular access control at the data level can be encoded into chaincode logic.","username":"dave.enyeart","ts":"2018-12-07T12:26:30.102Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR) @dileban That's correct. They can also read events, which essentially means they can consume all the blockchain data. Many people use events to build other data stores for queries/analytics.  More granular access control at the data level for individual reads and writes can be encoded into chaincode logic.","username":"dave.enyeart","ts":"2018-12-07T12:26:30.102Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=7pFGXCSvXhK8v5zhR","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=scsQQoijL3an2CXbT) @mallikarjunasai995 Please don't copy and paste questions to multiple channels. This one is appropriate for #fabric-ca . Most of your questions are answered in the Key Concepts docs https://hyperledger-fabric.readthedocs.io/en/latest/key_concepts.html and Tutorials, especially these two: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  https://hyperledger-fabric.readthedocs.io/en/latest/tutorial/commercial_paper.html","username":"dave.enyeart","ts":"2018-12-07T12:29:30.766Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=scsQQoijL3an2CXbT","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=scsQQoijL3an2CXbT","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"mbanerjee","ts":"2018-12-07T21:46:06.610Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mikd","ts":"2018-12-07T21:51:56.896Z","type":"uj"}
{"msg":"Can some one point me to pluggable state database interface. Has any one tried AmazonDynamoDb as world state? Any recommendations. thanks. ","username":"mbanerjee","ts":"2018-12-07T21:55:37.051Z"}
{"msg":"I am running Fabric with couchdb, but got the following problem after the system runs for a while, any suggestion? \n```\npeer0.org1.example.com    | 2018-12-10 15:09:56.644 UTC [couchdb] handleRequest -> WARN 13c Retrying couchdb request in 125ms. Attempt:1  Couch DB Error:badmatch,  Status Code:500 Internal Server Error  Reason:timeout\npeer0.org1.example.com    | 2018-12-10 15:10:06.771 UTC [couchdb] handleRequest -> WARN 13d Retrying couchdb request in 250ms. Attempt:2  Couch DB Error:badmatch,  Status Code:500 Internal Server Error  Reason:timeout\npeer0.org1.example.com    | 2018-12-10 15:10:09.595 UTC [gossip/discovery] func1 -> WARN 13e Could not connect to {127.0.0.1:7051 [] [] 127.0.0.1:7051 <nil> <nil>} : context deadline exceeded\npeer0.org1.example.com    | 2018-12-10 15:10:17.023 UTC [couchdb] handleRequest -> WARN 13f Retrying couchdb request in 500ms. Attempt:3  Couch DB Error:badmatch,  Status Code:500 Internal Server Error  Reason:timeout\npeer0.org1.example.com    | 2018-12-10 15:10:27.525 UTC [couchdb] handleRequest -> WARN 140 Retrying couchdb request in 1s. Attempt:4  Couch DB Error:badmatch,  Status Code:500 Internal Server Error  Reason:timeout\npeer0.org1.example.com    | panic: Error during commit to txmgr:Couch DB Error:badmatch,  Status Code:500,  Reason:timeout\npeer0.org1.example.com    |\npeer0.org1.example.com    | goroutine 319 [running]:\npeer0.org1.example.com    | github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc421fa05f0, 0xc42453c0f0, 0x0, 0x0)\npeer0.org1.example.com    | \t/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:273 +0x93a\npeer0.org1.example.com    | github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData(0xc420376260, 0xc42453c0f0, 0xc42392fd38, 0xdf8475800)\npeer0.org1.example.com    | \t/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:105 +0x84\npeer0.org1.example.com    | github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock(0xc421f1f360, 0xc425df9ba0, 0x0, 0x0, 0x0, 0x220fbca8, 0x183e03e)\npeer0.org1.example.com    | \t/opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:236 +0xc04\npeer0.org1.example.com    | github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc420309b80, 0xc425df9ba0, 0x0, 0x0, 0x0, 0x0, 0x0)\npeer0.org1.example.com    | \t/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:771 +0x5e\npeer0.org1.example.com    | github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc420309b80)\npeer0.org1.example.com    | \t/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:558 +0x43a\npeer0.org1.example.com    | created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider\npeer0.org1.example.com    | \t/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:239 +0x6f0\npeer0.org1.example.com exited with code 2\n```","username":"qizhang","ts":"2018-12-10T15:23:00.703Z"}
{"msg":"@qizhang  - my initial suspect would be that couch is overloaded to handle the workload -  \"panic: Error during commit to txmgr:Couch DB Error:badmatch,  Status Code:500,  Reason:timeout\" ","username":"manish-sethi","ts":"2018-12-10T18:41:22.484Z"}
{"msg":"@manish-sethi can you explain why you suspect couchdb overloaded from `panic: Error during commit to txmgr:Couch DB Error:badmatch, Status Code:500, Reason:timeout`?","username":"qizhang","ts":"2018-12-10T20:45:55.104Z"}
{"msg":"@qizhang - When you say that you get this error in system tests after a while, I suspected the load in absence of further info. If you think that this is not the case, and you get this error all the time (perhaps, for a specific content) and is reproducible - please open a jira bug with the steps to reproduce.","username":"manish-sethi","ts":"2018-12-10T21:26:37.891Z"}
{"msg":"@manish-sethi Thanks. Yeah, I think you suspection makes sense. Will create JIRA for this issue. This problem does not occur every time, but some times. I set the debug level to be `INFO`, and it is interesting that whenever I saw lots of messages like `couchdb0                  | [notice] 2018-12-10T20:15:23.909367Z nonode@nohost <0.32441.10> 082507efcd couchdb0:5984 172.19.0.5 undefined POST /testorgschannel1_lscc/_all_docs?include_docs=true 200 ok 1`, then the couchdb will not panic, otherwise it does.","username":"qizhang","ts":"2018-12-10T22:26:53.679Z"}
{"msg":"@manish-sethi Thanks. Yeah, I think you suspection makes sense. Will create JIRA for this issue. This problem does not occur every time, but sometimes. I set the debug level to be `INFO`, and it is interesting that whenever I saw lots of messages like `couchdb0                  | [notice] 2018-12-10T20:15:23.909367Z nonode@nohost <0.32441.10> 082507efcd couchdb0:5984 172.19.0.5 undefined POST /testorgschannel1_lscc/_all_docs?include_docs=true 200 ok 1`, then the couchdb will not panic, otherwise it does.","username":"qizhang","ts":"2018-12-10T22:26:53.679Z"}
{"msg":"Has joined the channel.","username":"YashParihar","ts":"2018-12-11T04:22:53.166Z","type":"uj"}
{"msg":"Has joined the channel.","username":"NilsP 1","ts":"2018-12-13T10:28:52.365Z","type":"uj"}
{"msg":"Hi everyone,\nin case of a transaction making use of private data: Is the transaction creators identity (certificate) still published to everyone on the channel?","username":"NilsP 1","ts":"2018-12-13T10:29:40.321Z"}
{"msg":"@NilsP 1 yes, but you can use Identity Mixer to make it anonymous: https://hyperledger-fabric.readthedocs.io/en/latest/idemix.html","username":"dave.enyeart","ts":"2018-12-13T12:56:43.633Z"}
{"msg":"Has joined the channel.","username":"varubasi77","ts":"2018-12-13T14:48:59.467Z","type":"uj"}
{"msg":"Hi Team,\nI have written an article over fabric ledger. Your feedback would be appreciated. Kindly find the link for article . “Deep dive into Hyperledger Fabric Ledger” by Shyam Pratap Singh https://link.medium.com/2NuQb92ZGS","username":"Shyam_Pratap_Singh","ts":"2018-12-16T11:40:52.971Z"}
{"msg":"Has joined the channel.","username":"nikospaz","ts":"2018-12-17T09:38:19.793Z","type":"uj"}
{"msg":"hello all,","username":"nikospaz","ts":"2018-12-17T09:39:27.948Z"}
{"msg":"I want to make a Supply Chain Traceability Application for peaches. We have farmers who have peaches and they write when they put fertiliser and such things. When they gather them, they bring them to something like a warehouse for peaches. There the peaches are chosen depending the weight and are packed. The packages are taken by a logistics company and brought to retailers. From the retailers the buyer can scan the number of the package and trace from which farmer are the peaches and when they where fertilised, when hey were transferred etc. Can you give me please an example how this can be done? Farmers, warehouse retail and customer will be my participants? The peaches and the farm in which they are grown will be the assets? how will I show with farm belongs to which farmer and from which farm is each peach? Thanks in advance for the answers!\nI want to make a Supply Chain Traceability Application for peaches. We have farmers who have peaches and they write when they put fertiliser and such things. When they gather them, they bring them to something like a warehouse for peaches. There the peaches are chosen depending the weight and are packed. The packages are taken by a logistics company and brought to retailers. From the retailers the buyer can scan the number of the package and trace from which farmer are the peaches and when they where fertilised, when hey were transferred etc. Can you give me please an example how this can be done? Farmers, warehouse retail and customer will be my participants? The peaches and the farm in which they are grown will be the assets? how will I show with farm belongs to which farmer and from which farm is each peach? Thanks in advance for the answers!I want to make a Supply Chain Traceability Application for peaches. We have farmers who have peaches and they write when they put fertiliser and such things. When they gather them, they bring them to something like a warehouse for peaches. There the peaches are chosen depending the weight and are packed. The packages are taken by a logistics company and brought to retailers. From the retailers the buyer can scan the number of the package and trace from which farmer are the peaches and when they where fertilised, when hey were transferred etc. Can you give me please an example how this can be done? Farmers, warehouse retail and customer will be my participants? The peaches and the farm in which they are grown will be the assets? how will I show with farm belongs to which farmer and from which farm is each peach? Thanks in advance for the answers!\n","username":"nikospaz","ts":"2018-12-17T09:47:23.658Z"}
{"msg":"I want to make a Supply Chain Traceability Application for peaches. We have farmers who have peaches and they write when they put fertiliser and such things. When they gather them, they bring them to something like a warehouse for peaches. There the peaches are chosen depending the weight and are packed. The packages are taken by a logistics company and brought to retailers. From the retailers the buyer can scan the number of the package and trace from which farmer are the peaches and when they where fertilised, when hey were transferred etc. Can you give me please an example how this can be done? Farmers, warehouse retail and customer will be my participants? The peaches and the farm in which they are grown will be the assets? how will I show with farm belongs to which farmer and from which farm is each peach? Thanks in advance for the answers!\n","username":"nikospaz","ts":"2018-12-17T09:47:35.338Z"}
{"msg":"I will also have an angular app as a frontend","username":"nikospaz","ts":"2018-12-17T09:48:03.848Z"}
{"msg":"Has left the channel.","username":"GuillaumeTong","ts":"2018-12-17T10:39:15.480Z","type":"ul"}
{"msg":"Has joined the channel.","username":"lfeagan","ts":"2018-12-18T03:47:13.440Z","type":"uj"}
{"msg":"I have a question about the TxIDs: for example when using stub.GetTxId() from the shim package. \n\nWith a given set of inputs (eg. ledger state), can I calculate the TxID for some arbitrary proposal without actually sending it form the client?\n\nIs this a deterministic process?","username":"zacpl","ts":"2018-12-18T15:39:13.008Z"}
{"msg":"@zacpl : the txid is generated by hashing the nonce (https://github.com/hyperledger/fabric/blob/release-1.4/protos/common/common.proto#L130) and the proposal/tx creator (https://github.com/hyperledger/fabric/blob/release-1.4/protos/common/common.proto#L127)","username":"aso","ts":"2018-12-19T08:24:43.770Z"}
{"msg":"it has no relationship with ledger state, other than the fact that no two transactions can have the same txid","username":"aso","ts":"2018-12-19T08:25:13.694Z"}
{"msg":"why do you need to pre-determine txids? What problem are you trying to solve?","username":"aso","ts":"2018-12-19T08:26:08.047Z"}
{"msg":"hi expers here, as time passes,  the ledger will become large. This will not affetct the ledger-write operation, but the ledger-query operation will be affected. How much does the query operation affected regarding to leger size?  Could the ledger be shortened by removing the older part?  Thank you.","username":"qsmen","ts":"2018-12-19T09:31:10.295Z"}
{"msg":"@aso thank you for your answer!\n\nI'm working on an international trade app. Looking at ways of creating events that are triggered by chaincode invocations of specific functions.\n\nLooking at your answer I am unclear whether the same client could have two identical TxIDs that refered to transactions on different channels. Is this the case, or is the nonce incremented in such a way that proposals are submitted with a different nonce regardless of the channel on which endorsement is sought?","username":"zacpl","ts":"2018-12-19T10:30:20.114Z"}
{"msg":"fabric enforces the uniqueness of txids on a channel basis - it's possible that two txes have the same txid on different channels if the same creator chooses the same nonce","username":"aso","ts":"2018-12-19T11:25:19.618Z"}
{"msg":"@aso how is nonce chosen typically?","username":"dave.enyeart","ts":"2018-12-19T13:01:54.606Z"}
{"msg":"the nonce must be chosen randomly, otherwise the transactor might run the risk of compromising their privacy","username":"aso","ts":"2018-12-19T13:53:56.105Z"}
{"msg":"Has joined the channel.","username":"chuda","ts":"2018-12-20T13:02:59.405Z","type":"uj"}
{"msg":"hi, while retriving records from ledger using startrkey,endkey unexpected results are shown,can any one help here","username":"chuda","ts":"2018-12-20T13:03:57.929Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=itsgjDd65aJLGB92E) @dave.enyeart hi ","username":"chuda","ts":"2018-12-20T13:04:46.370Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=itsgjDd65aJLGB92E","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=itsgjDd65aJLGB92E","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=tbsmiaXXRexvRaSAW) @qsmen @zacpl - Query operations are not much of a concern. Do you have a specific query in mind that you are worrying about. But yes, it has a noticeable impact on storage demand and the time taken for a new peer to join an existing channel. We are planning to start work on state check-pointing that would allow pruning the older data to keep the size under control.","username":"manish-sethi","ts":"2018-12-20T14:36:13.056Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tbsmiaXXRexvRaSAW","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tbsmiaXXRexvRaSAW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Thank you, Manish-sethi.  Even query operation is a concern, it is related to dbbase and can be solved by dbbase technique.  expecting the pruning to come.","username":"qsmen","ts":"2018-12-21T01:49:02.184Z"}
{"msg":"Has joined the channel.","username":"MayukhGhosh","ts":"2018-12-21T10:08:30.930Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=cxCpPbC7kP4CnH72E) @manish-sethi hi,feeling there is a bug in getallcarsbyrange(startkey,endkey)...if we give range as 1 to 12 having 20 records it retriving records like this...1,2,11,12,13,14...19...wats this error or bug..any one help me here","username":"chuda","ts":"2018-12-21T13:42:17.568Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cxCpPbC7kP4CnH72E","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=cxCpPbC7kP4CnH72E","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@chuda range queries use a lexicographic order","username":"dave.enyeart","ts":"2018-12-21T14:51:00.422Z"}
{"msg":"Has joined the channel.","username":"merq","ts":"2018-12-22T03:45:35.535Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=wndZrcxjkoTRZHKb5) @dave.enyeart thankyou,,but can you suggest me how i will resolve this issue,,,i need to display records as per range correctly..","username":"chuda","ts":"2018-12-22T05:13:59.492Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wndZrcxjkoTRZHKb5","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=wndZrcxjkoTRZHKb5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Explanation of lexical order https://stackoverflow.com/q/47478926/1332076","username":"mbwhite","ts":"2018-12-22T09:07:18.625Z"}
{"msg":"@chuda you have two options.  1) utilize couchdb as state database which has support for querying and sorting integer fields within JSON. 2) utilize key range queries but encode the integers in an order preserving string. The most trivial approach would be to zero pad the numbers, although this will waste space, and you must know your longest number in advance.  A quick google found this more elegant approach of an order preserving encoding, with a go implementation: https://github.com/jordanorelli/lexnum","username":"dave.enyeart","ts":"2018-12-22T12:45:36.411Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=77ea6c97-70bc-4319-9af2-1d756a8837b5) @mbwhite thankyou for your reply,,,now, iam using couchdb only as state database and tried range queries..and i try to encode string to int but it not allowing int type as key...can you please provide links if u find thank you...","username":"chuda","ts":"2018-12-22T13:25:43.630Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=77ea6c97-70bc-4319-9af2-1d756a8837b5","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=77ea6c97-70bc-4319-9af2-1d756a8837b5","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@chuda couchdb does indeed support keys like \"2\" and \"0000002\". These work correctly as lexicographical range queries.","username":"dave.enyeart","ts":"2018-12-22T13:37:33.180Z"}
{"msg":"however, if using couchdb, it may make sense to include the integer within the json body and do a json query","username":"dave.enyeart","ts":"2018-12-22T13:38:07.661Z"}
{"msg":"note that for JSON queries that sort, you will need a corresponding index that includes the sort field. See the couchdb query doc: http://docs.couchdb.org/en/stable/api/database/find.html","username":"dave.enyeart","ts":"2018-12-22T13:40:10.570Z"}
{"msg":"I have running byfn network on which I have deployed FABCAR chaincode  and invoked the chaincode function `initLedger` which has inserted 10 records onto blockchain..  now  using this url `http://localhost:5984/_utils/#/_all_dbs` I can see the records of 10 cars... now If I delete all the data from couch db, can I get it back from the peer's ledger? How? ","username":"FLASHJr","ts":"2018-12-24T11:27:22.218Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=BA82EbriQr85Zv4Ae) @FLASHJr yes ,,because you just deleted the couch db(state db) ,ledger is always there in peer side and even state db also can be recreated using ledger db","username":"knagware9","ts":"2018-12-24T12:56:13.538Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BA82EbriQr85Zv4Ae","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BA82EbriQr85Zv4Ae","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=ESSMJijv8PxYQPP72) @knagware9 How?","username":"FLASHJr","ts":"2018-12-24T12:57:09.239Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ESSMJijv8PxYQPP72","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=ESSMJijv8PxYQPP72","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=tnpRMhzA42tXfRs4G) @FLASHJr you just drop the peer and restart container again ..it will sync the current state of DB from other peer in the network","username":"knagware9","ts":"2018-12-24T12:58:31.810Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tnpRMhzA42tXfRs4G","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=tnpRMhzA42tXfRs4G","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=KYNuiCkdoCaHKxxu4) if peer starts up and finds CouchDB databases are missing or at lower block height (based on using an older CouchDB backup), the state database will be automatically re-constructed to catch up to current block height.","username":"knagware9","ts":"2018-12-24T13:03:30.434Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KYNuiCkdoCaHKxxu4","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KYNuiCkdoCaHKxxu4","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"mefy-pushpendu","ts":"2018-12-26T05:25:01.808Z","type":"uj"}
{"msg":"https://chat.hyperledger.org/channel/composer?msg=3x3tZ4sXtj7a6Rjno","username":"mefy-pushpendu","ts":"2018-12-26T05:57:54.947Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/composer?msg=3x3tZ4sXtj7a6Rjno","url":"https://chat.hyperledger.org/channel/composer?msg=3x3tZ4sXtj7a6Rjno","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I amworking a project where large amount of doctor and users will be on the platform and each will have individual account along with lots of personal and business data in the blockchain. But currently i am facing a problem that whenever i am upgrading the business network , all the data gets loss. Still can not find a way to preserve the data while uograding the net work. I am using hyperledger fabric v 1.2 , couchdb as a state db and fabric-cli and loopback as a mid tier to generate the apis for the app. How can i solve this issue to store data which upgradind the business network or restarting it ?","username":"mefy-pushpendu","ts":"2018-12-26T05:58:06.656Z"}
{"msg":"@mefy-pushpendu Data is not lost upon upgrade.  Please be sure you understand how docker volumes work and see these topics:","username":"dave.enyeart","ts":"2018-12-27T15:29:57.166Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#a-note-on-data-persistence","username":"dave.enyeart","ts":"2018-12-27T15:29:59.265Z"}
{"msg":"https://hyperledger-fabric.readthedocs.io/en/release-1.3/upgrading_your_network_tutorial.html","username":"dave.enyeart","ts":"2018-12-27T15:30:31.589Z"}
{"msg":"@mefy-pushpendu Please don't copy and paste the same question to 10 channels in the future","username":"dave.enyeart","ts":"2018-12-27T16:27:01.253Z"}
{"msg":"@dave.enyeart  thanks. But can you be more specific about how can i backup data and updagrade the network and restore the data again.","username":"mefy-pushpendu","ts":"2018-12-28T01:22:18.188Z"}
{"msg":"@mefy-pushpendu The upgrade document walks through all the steps: https://hyperledger-fabric.readthedocs.io/en/release-1.3/upgrading_your_network_tutorial.html","username":"dave.enyeart","ts":"2018-12-28T03:49:13.384Z"}
{"msg":"anyone know how to fix this error I am getting?\nhttps://github.com/PaddyMc/decentralised-ecosystem-prototype/issues/26\nmain -> ERRO 001 Cannot run peer because cannot init crypto, missing /etc/hyperledger/msp/users/Admin@org1.example.com/msp folder\nI created the directory that it says is missing but still getting the same error\nany help would be very much appreciated! 😉","username":"nRyDevOps","ts":"2018-12-28T08:18:46.659Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=o5J2Dd5WcPGEyX3iC) @nRyDevOps issue with your docker volume mounting ..please check did you mounted crypto-config folder","username":"knagware9","ts":"2018-12-28T10:07:14.791Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=o5J2Dd5WcPGEyX3iC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=o5J2Dd5WcPGEyX3iC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"hi , any function to get blockheight from sdk query.js...i have to post current height of the block to th applicaion user","username":"chuda","ts":"2018-12-28T13:26:17.519Z"}
{"msg":"@knagware9 thanks for the reply! I heard back from the developer on Github and have updated the issue. ","username":"nRyDevOps","ts":"2018-12-28T17:31:38.515Z"}
{"msg":"Has there been any progress with HLF and IPFS or something similar? ","username":"nRyDevOps","ts":"2018-12-29T05:46:34.063Z"}
{"msg":"https://discuss.ipfs.io/t/combining-ipfs-and-hyperledger-composer/2193","username":"nRyDevOps","ts":"2018-12-29T05:46:35.117Z"}
{"msg":"Hi everyone. I have seen that hyperledger cello and hyperledger explorer docs include mongodb and postgresql respectively. Both of the cello and explorer support fabric and fabric only supports level and couchdb. Then how cello and explorer have mentioned about mongo and postgreSql? kindly can somebody explain it?","username":"yousaf","ts":"2018-12-29T10:30:26.969Z"}
{"msg":"I am getting the following warning: ","username":"nRyDevOps","ts":"2018-12-31T00:34:59.826Z"}
{"msg":"(node:6083) DeprecationWarning: grpc.load: Use the @grpc/proto-loader module with grpc.loadPackageDefinition instead","username":"nRyDevOps","ts":"2018-12-31T00:35:01.468Z"}
{"msg":"how can I fix this?","username":"nRyDevOps","ts":"2018-12-31T00:35:43.619Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=6jb8sBmcvRBWu5KzF) @nRyDevOps Its just warning only due to grpc version changed","username":"knagware9","ts":"2019-01-02T06:57:25.507Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6jb8sBmcvRBWu5KzF","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6jb8sBmcvRBWu5KzF","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"ShajiThiyarathodi","ts":"2019-01-02T19:32:33.798Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xaviarias","ts":"2019-01-03T11:03:11.867Z","type":"uj"}
{"msg":"Has joined the channel.","username":"npc0405","ts":"2019-01-03T14:26:01.831Z","type":"uj"}
{"msg":"hi","username":"npc0405","ts":"2019-01-03T14:26:05.180Z"}
{"msg":"What if I change blockchain data from backend through couchdb client","username":"npc0405","ts":"2019-01-03T14:26:46.974Z"}
{"msg":"further transactions may not be committed; but is there any way to avoid it","username":"npc0405","ts":"2019-01-03T14:27:22.503Z"}
{"msg":"See https://lists.hyperledger.org/g/fabric/message/4896","username":"dave.enyeart","ts":"2019-01-03T14:27:34.680Z"}
{"msg":"You should lock down couchdb with username/password and not expose port beyond the peer's docker network","username":"dave.enyeart","ts":"2019-01-03T14:27:59.850Z"}
{"msg":"You should lock down couchdb with username/password and not expose port beyond the peer's docker network, so that no external processes can connect and update the data","username":"dave.enyeart","ts":"2019-01-03T14:27:59.850Z"}
{"msg":"hey all, looking to get a better understanding of how couchdb is being utilized. all of the peers are interacting with their respective couchdb instances the same way...would this mean that the update sequences for every couchdb instance would be that same?","username":"jrosmith","ts":"2019-01-03T15:16:25.833Z"}
{"msg":"yes, all peers deterministically process blocks and update their respective state database","username":"dave.enyeart","ts":"2019-01-03T15:30:04.301Z"}
{"msg":"read https://hyperledger-fabric.readthedocs.io/en/latest/ledger/ledger.html and https://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html","username":"dave.enyeart","ts":"2019-01-03T15:30:22.909Z"}
{"msg":"let us know what confusions remain","username":"dave.enyeart","ts":"2019-01-03T15:30:28.114Z"}
{"msg":"thank you!","username":"jrosmith","ts":"2019-01-03T15:33:17.497Z"}
{"msg":"Has joined the channel.","username":"hhlee","ts":"2019-01-07T02:56:31.265Z","type":"uj"}
{"msg":"@dave.enyeart in the release1.3","username":"asaningmaxchain123","ts":"2019-01-07T10:10:18.886Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2019-01-07T10:10:21.797Z","attachments":[{"type":"file","title":"Clipboard - January 7, 2019 6:10 PM","title_link":"/file-upload/GL7MXfh3EPABjf9y9/Clipboard%20-%20January%207,%202019%206:10%20PM","image_url":"/file-upload/GL7MXfh3EPABjf9y9/Clipboard%20-%20January%207,%202019%206:10%20PM","image_type":"image/png","image_size":47406,"url":"/file-upload/GL7MXfh3EPABjf9y9/Clipboard%20-%20January%207,%202019%206:10%20PM","remote":false,"fileId":"GL7MXfh3EPABjf9y9","fileName":"Clipboard - January 7, 2019 6:10 PM"}]}
{"msg":"the three index doesn't support?","username":"asaningmaxchain123","ts":"2019-01-07T10:10:29.125Z"}
{"msg":"if so ,how can i use the sdk to get the specified tx for transaction information","username":"asaningmaxchain123","ts":"2019-01-07T10:16:11.329Z"}
{"msg":"@asaningmaxchain123 you don't have to worry about that, the peer always maintains all three indexes","username":"dave.enyeart","ts":"2019-01-07T12:54:08.926Z"}
{"msg":"Has any one tried using a different state database (other than levelDB and couchDB)? Please share.","username":"mbanerjee","ts":"2019-01-09T03:26:46.368Z"}
{"msg":"How can in divide one org into mulptiple divisions with different msp id?","username":"wangdong","ts":"2019-01-09T05:49:49.151Z"}
{"msg":"I read the best practice.","username":"wangdong","ts":"2019-01-09T05:50:07.211Z"}
{"msg":"I think this kind config can be produced with cryptogen tool with a proper config in crypto-config.yaml.","username":"wangdong","ts":"2019-01-09T05:50:55.363Z"}
{"msg":"Am I right?","username":"wangdong","ts":"2019-01-09T05:51:01.132Z"}
{"msg":"But I can not find one example regarding this. Any one can help this?","username":"wangdong","ts":"2019-01-09T05:51:22.518Z"}
{"msg":"thanks in advance.","username":"wangdong","ts":"2019-01-09T05:51:29.702Z"}
{"msg":"is this the sub dir in peer org?","username":"wangdong","ts":"2019-01-09T06:09:06.677Z"}
{"msg":"Has joined the channel.","username":"raviranjan14","ts":"2019-01-09T13:01:59.604Z","type":"uj"}
{"msg":"hi, can we store more data in the format of json in ledger??? if not how wecan store more data in a record ","username":"chuda","ts":"2019-01-10T12:20:23.423Z"}
{"msg":"Has joined the channel.","username":"spacemandev","ts":"2019-01-11T12:12:10.000Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=FkZsfW4QR4TkRs7Hs) @wangdong The best way for this is to use OUs ( organization units) which each pone has diffrent responsibility and obliviously once you want to divided them as subsidiaries of the organization you have to set diffrent OU for each one inside the crypto-config things , let say if you have org1 which it has Marketing and sales department you could have define two different set of msp like org1.marketing and org1.sales which each identity only has access to thier own department , another approch is to define those diffrent department as diffrent organization with the same ca root  ","username":"plato","ts":"2019-01-15T00:30:16.386Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FkZsfW4QR4TkRs7Hs","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FkZsfW4QR4TkRs7Hs","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@chuda  Please read the document carefully","username":"pankajcheema","ts":"2019-01-15T10:47:28.230Z"}
{"msg":"@chuda yes, you can store complex objects within the ledger. fabric does not place any inherent limits on what you can store, it comes down to what can be stored in leveldb/couchdb","username":"jrosmith","ts":"2019-01-15T13:27:10.398Z"}
{"msg":"@plato Thanks for reply. But no, it is not used as that. It is related to identity administration. You can refer to the CA document.","username":"wangdong","ts":"2019-01-16T03:34:17.416Z"}
{"msg":"hi everyone, is the file blockfile_000001 in /var/hyperledger/production/ledgersData/chains/c\nhains/mychannel the blockchain?","username":"JayJong","ts":"2019-01-16T08:06:17.228Z"}
{"msg":"hi everyone, is the file blockfile_000001 in /var/hyperledger/production/ledgersData/chains/c\nhains/mychannel the blockchain?","username":"JayJong","ts":"2019-01-16T08:06:17.228Z"}
{"msg":"hi everyone, is the file blockfile_000001 in `/var/hyperledger/production/ledgersData/chains/c\nhains/mychannel` the blockchain?","username":"JayJong","ts":"2019-01-16T08:06:17.228Z"}
{"msg":"hi everyone, is the file blockfile_000001 in /var/hyperledger/production/ledgersData/chains/c\nhains/mychannel the blockchain?","username":"JayJong","ts":"2019-01-16T08:06:17.228Z"}
{"msg":"I think so . But not sure","username":"pankajcheema","ts":"2019-01-16T08:40:20.367Z"}
{"msg":"@JayJong ","username":"pankajcheema","ts":"2019-01-16T08:40:25.437Z"}
{"msg":"@dave.enyeart can you please confirm us on the same ","username":"pankajcheema","ts":"2019-01-16T08:41:56.163Z"}
{"msg":"yes","username":"dave.enyeart","ts":"2019-01-16T12:51:11.174Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=QnghL4Nb2JjWmNDHW) @wangdong at the end of day you have these inside the X509 which  OU is part of any certification and obvioulsy ca is in charge to generate the certifications ","username":"plato","ts":"2019-01-16T18:03:13.029Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=QnghL4Nb2JjWmNDHW","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=QnghL4Nb2JjWmNDHW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=rpM3GCh6XareeLLC3) @jrosmith thank you..please post any docs related to json inserting in to ledger,,,and can you help me here iam struggling to generate key while insertion,,bcoz cleint cannot creating key value...so how can i store value without key,,,r inherently any mechanism to create key..","username":"chuda","ts":"2019-01-18T08:04:32.719Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=rpM3GCh6XareeLLC3","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=rpM3GCh6XareeLLC3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@chuda assuming your're using go for your chaincode please refer to some of the example chaincodes in [fabric-samples](https://github.com/hyperledger/fabric-samples/). starting out i think the [marbles](https://github.com/hyperledger/fabric-samples/blob/release-1.4/chaincode/marbles02/go/marbles_chaincode.go#L160) chaincode is particularly useful. you can use the unique transaction id associate with the transaction as a key. in the chaincode it is retrieved by using `stub.GetTxId`","username":"jrosmith","ts":"2019-01-18T13:37:05.240Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=T5EPjjnoeWFiLo3RQ) @jrosmith Thank you so much, your are suggestion clear more doubts ...please keep sharing","username":"chuda","ts":"2019-01-18T17:41:28.693Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=T5EPjjnoeWFiLo3RQ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=T5EPjjnoeWFiLo3RQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=BuLYRShzjFBdo9fwk) thank you, but where i need to change attribute data type?..please check this,in node chaincode i didnot find datatype declration of attributes used","username":"chuda","ts":"2019-01-20T08:09:01.733Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BuLYRShzjFBdo9fwk","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=BuLYRShzjFBdo9fwk","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"AbhishekDudhrejia","ts":"2019-01-21T05:35:09.432Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ycarmel","ts":"2019-01-22T08:45:29.934Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Jamie","ts":"2019-01-22T17:08:59.530Z","type":"uj"}
{"msg":"Has joined the channel.","username":"incarose","ts":"2019-01-23T00:23:33.404Z","type":"uj"}
{"msg":"Hello everyone, \nI have a network with three peers A, B and C. All the peers are in channelone and A and C are in separate channeltwo for certain function in the application. The network uses CouchDB for database purposes. Is it appropriate to sync db of channelone with that of channeltwo such that changes in db of channelone are reflected in the channeltwo db but not the other way around? If not then suggestions would be most welcome.\nThanks.","username":"AbhishekDudhrejia","ts":"2019-01-23T10:44:41.458Z"}
{"msg":"@AbhishekDudhrejia No, the peer should be the only writer to its state database.  If your goal is to have combined reporting, the recommended patterns are 1) listen to block events from both channels and build a fit-for-purpose data store whose schema meets your query needs or 2) replicate the state couchdb databases to a common downstream couchdb database for query purpose.","username":"dave.enyeart","ts":"2019-01-23T16:48:55.870Z"}
{"msg":"@AbhishekDudhrejia No, the peer should be the only writer to its state databases.  If your goal is to have combined reporting, the recommended patterns are 1) listen to block events from both channels and build a fit-for-purpose data store whose schema meets your query needs or 2) replicate the state couchdb databases to a common downstream couchdb database for query purpose.","username":"dave.enyeart","ts":"2019-01-23T16:48:55.870Z"}
{"msg":"Hello,\nWhile using pagination, suppose we are retrieving 10 data per page. I retrieved first 10 data and now I want directly 30-40 data (page 4) directly without retrieving 11-30 records. How can I achieve this?","username":"HoneyShah","ts":"2019-01-24T08:39:41.211Z"}
{"msg":"Hi Guys, can someone help to enable getting history data for a key ? I implemented that functionality in chaincode (GO) and according to documentation set `core.ledger.history.enableHistoryDatabase` to be true. Beeing exact i added such line `- CORE_LEDGER_HISTORY_ENABLEHISTORYDATABASE=true` in `environment` section for   peer (docker-compose.yaml), then i restarted network. As the result i am not getting any historical data. Do you have any suggestions ?","username":"alek","ts":"2019-01-25T13:55:02.524Z"}
{"msg":"@alek It is true with default config, so you shouldn't have to configure. I'd recommend try marbles02 example that demonstrates getHistoryForKey() , see chaincode https://github.com/hyperledger/fabric-samples/blob/release-1.4/chaincode/marbles02/go/marbles_chaincode.go#L692-L702 and instructions https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#using-couchdb ...you dont have to use couchdb through for getHistoryForKey()","username":"dave.enyeart","ts":"2019-01-25T14:16:19.757Z"}
{"msg":"@alek It is true with default config, so you shouldn't have to configure. I'd recommend try marbles02 example that demonstrates getHistoryForKey() , see chaincode https://github.com/hyperledger/fabric-samples/blob/release-1.4/chaincode/marbles02/go/marbles_chaincode.go#L692-L702 and instructions https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#using-couchdb ...you dont have to use couchdb though for getHistoryForKey() ...you can follow the same instructions with the default leveldb","username":"dave.enyeart","ts":"2019-01-25T14:16:19.757Z"}
{"msg":"then after you are convinced it works, try to translate the same thing into your chaincode","username":"dave.enyeart","ts":"2019-01-25T14:16:51.384Z"}
{"msg":"@HoneyShah As that is not a performant paging pattern, chaincode doesn't have APIs to do that. But you could implement it in your own chaincode by getting a page of 40 and then Next()ing down to the 30th record before returning to client. It will work but not be very efficient... which is exactly why this is not implemented as a provided API. It would be more performant if you had a sorted and filtered query where client passes in starting point via filter condition and you get the next N results from that starting point.","username":"dave.enyeart","ts":"2019-01-25T14:22:31.535Z"}
{"msg":"Are there any tools to dump the contents of a ledger in human readable format, i.e., dissects the fields, etc.?","username":"toddinpal","ts":"2019-01-25T18:31:44.920Z"}
{"msg":"Has joined the channel.","username":"Pradeep_Pentakota","ts":"2019-01-26T13:42:15.850Z","type":"uj"}
{"msg":"Has left the channel.","username":"binhn","ts":"2019-01-26T16:49:54.103Z","type":"ul"}
{"msg":"Has joined the channel.","username":"lip-inagora","ts":"2019-01-28T00:22:28.563Z","type":"uj"}
{"msg":"@dave.enyeart  thanks a lot for support. I made  mistake in other part of application - Fabric SDK and that's why i was not able to retreive data.","username":"alek","ts":"2019-01-28T09:22:36.624Z"}
{"msg":"Has joined the channel.","username":"edisinovcic","ts":"2019-01-28T13:15:59.331Z","type":"uj"}
{"msg":"@toddinpal looking for the same","username":"pankajcheema","ts":"2019-01-28T16:44:40.940Z"}
{"msg":"@pankajcheema There is a tool called Fetchblock (https://github.com/cendhu/fetch-block) that is supposed to do this.","username":"toddinpal","ts":"2019-01-28T20:10:41.151Z"}
{"msg":"@toddinpal @pankajcheema Node.js SDK also has a queryBlock() method that returns a block decoded into fields : https://fabric-sdk-node.github.io/release-1.4/Channel.html","username":"dave.enyeart","ts":"2019-01-28T20:48:40.831Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yj3LDT6hN45tmAm8) @dave.enyeart Okay, I understood. But I have one question, how can I pass starting point via filter condition? I am only aware about bookmark as starting point.","username":"HoneyShah","ts":"2019-01-29T09:00:11.775Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yj3LDT6hN45tmAm8","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6Yj3LDT6hN45tmAm8","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@HoneyShah Let's say you are doing a query that sorts on appraisedValue. The query could take a filter where appriasedValue is greater than X.  Then client can pass in X as the starting point and get the next page of results.","username":"dave.enyeart","ts":"2019-01-29T09:07:55.130Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HhRPDgqGEyRzSrFG6) @dave.enyeart Okay. Got it:thumbsup: ","username":"HoneyShah","ts":"2019-01-29T09:12:01.645Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HhRPDgqGEyRzSrFG6","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HhRPDgqGEyRzSrFG6","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=HhRPDgqGEyRzSrFG6) @dave.enyeart Got it:thumbsup: ","username":"HoneyShah","ts":"2019-01-29T09:12:01.645Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HhRPDgqGEyRzSrFG6","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=HhRPDgqGEyRzSrFG6","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I'm calling `stub.invokeChaincode`  and getting this error within the peer.. \n```\npeer0.org1.example.com|2019-01-29 12:25:18.566 UTC [chaincode] HandleTransaction -> DEBU 1ecc [ad48f68e] handling INVOKE_CHAINCODE from chaincode\npeer0.org1.example.com|2019-01-29 12:25:18.566 UTC [chaincode] isValidTxSim -> ERRO 1ecd no ledger context: mychannel ad48f68e69b199d2b35875d35a2b89771c372a7bfc6ed83db3681d8bab0f99a3\npeer0.org1.example.com|\npeer0.org1.example.com| could not get valid transaction\npeer0.org1.example.com|github.com/hyperledger/fabric/core/chaincode.(*Handler).isValidTxSim\npeer0.org1.example.com|\t/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:545\npeer0.org1.example.com|github.com/hyperledger/fabric/core/chaincode.(*Handler).getTxContextForInvoke\npeer0.org1.example.com|\t/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:979\npeer0.org1.example.com|github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\npeer0.org1.example.com|\t/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:257\npeer0.org1.example.com|runtime.goexit\npeer0.org1.example.com|\t/opt/go/src/runtime/asm_amd64.s:1333\npeer0.org1.example.com|2019-01-29 12:25:18.566 UTC [chaincode] HandleTransaction -> ERRO 1ece [ad48f68e] Failed to handle INVOKE_CHAINCODE. error: could not get valid transaction\n```\n\nAny pointers for debugging please?  Or info around this area  (Fabric 1.4.0)","username":"mbwhite","ts":"2019-01-29T12:40:50.316Z"}
{"msg":"Original invocation was from  `docker exec cli peer chaincode invoke`","username":"mbwhite","ts":"2019-01-29T12:41:52.170Z"}
{"msg":"Has joined the channel.","username":"Daca 5","ts":"2019-01-29T13:03:22.377Z","type":"uj"}
{"msg":"^ above problem is solved - occurs because the `invokeChaincode` was invoking the same chaincode on the same channel (i.e. invoking myself).... kinda daft really!","username":"mbwhite","ts":"2019-01-29T14:17:58.363Z"}
{"msg":"@dave.enyeart hey Dave, I have stuck with some crazy part in my chain code , which I have put a json in the public ledger with stub.putstate(key,value) and after that I could retrieve the block content and I saw the the json in the content inside the block BUT once I'm trying to use stub.getState(key) unfortunately it return null without any error, any advise ?","username":"plato","ts":"2019-01-29T23:32:24.294Z"}
{"msg":"@plato Possibly the PutState() transaction got invalidated?  Check peer log to see if there is a Warning about invalidation. Otherwise try a known working example such as marbles02 and compare results: https://github.com/hyperledger/fabric-samples/blob/release-1.4/chaincode/marbles02/go/marbles_chaincode.go","username":"dave.enyeart","ts":"2019-01-29T23:36:11.043Z"}
{"msg":"Has joined the channel.","username":"RyanGriffiths","ts":"2019-01-30T11:21:00.895Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=KneRjn2kHxWNMwCLN) @dave.enyeart @dave.enyeart  I have added ObjectType          string  `json:\"docType\"` on the struct in my chaincode then everything working fine !!!, just wondering if adding this ObjectType is mandatory or not ?","username":"plato","ts":"2019-01-30T21:20:19.292Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KneRjn2kHxWNMwCLN","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=KneRjn2kHxWNMwCLN","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@plato nope, Fabric doesn't care about the JSON content, ObjectType is only there to demonstrate a data pattern in case your chaincode needs to distinguish between multiple data types.","username":"dave.enyeart","ts":"2019-01-30T23:49:43.270Z"}
{"msg":"Has joined the channel.","username":"Siva_vignesh","ts":"2019-02-01T08:44:31.115Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pasimoes","ts":"2019-02-02T00:58:54.171Z","type":"uj"}
{"msg":"Has joined the channel.","username":"prabu3192","ts":"2019-02-04T06:02:02.937Z","type":"uj"}
{"msg":"In HLF 1.4, there is fabric-ca 1.4.0 images but 1.4.0 images of fabric-ca-orderer and fabric-ca-peer is missing. Will fabric-ca-peer and fabric-ca-orderer work with 1.2.1 images?*","username":"sayan.hlf","ts":"2019-02-05T09:15:21.679Z"}
{"msg":"@sayan.hlf What is your use case? What do you mean by \"work with\"?","username":"dave.enyeart","ts":"2019-02-05T11:55:49.914Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=exxjEMFjfZDGvWivg) @dave.enyeart @dave.enyeart I am trying to setup a network using Fabric CA and not cryptogen tool. So I have used RCA and ICA containers which uses fabric-ca:1.4.0 images. But for setting up the orderer and peer containers, i see there are no 1.4.0 images available for fabric-ca-orderer and fabric-ca-peer in docker hub. Will it work with this configuration?","username":"sayan.hlf","ts":"2019-02-05T12:51:58.759Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=exxjEMFjfZDGvWivg","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=exxjEMFjfZDGvWivg","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=b9kMbvWtuHes6Wm3q) @sayan.hlf I think..there is no need of specific fabric-ca-peer & fabric-ca-orderer image.","username":"knagware9","ts":"2019-02-06T06:45:01.962Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=b9kMbvWtuHes6Wm3q","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=b9kMbvWtuHes6Wm3q","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Lets imagine a peer that is not an endorser from a chaincode. When he receives a transaction signed by two endorsers. And both endorsers coincide in the read and write set and everything seems fine. How does it know that even when the read write sets of both endorsers are the same, weren't produced by different code of the chaincode?. For example, when both endorsers installed version 2 of the chaincode, one of them modified slightly the code (imagine no signing packages)","username":"waxer","ts":"2019-02-09T03:09:46.774Z"}
{"msg":"@waxer On each peer that executes chaincode, there is check that the hash of the installed chaincode on the peer matches the hash of the chaincode that is instantiated on the channel.  So in current releases such a check exists.  Interestingly there is a proposal to relax this requirement in future releases.  That is, endorsers could run different chaincode logic with their own organization specific validations (for example the chaincode could check some values against their own enterprise systems before endorsing). As long as all endorsers validate the proposal and come to agreement on the read set and write set of a given transaction, what difference does it make that the actual logic to get there was slightly different.","username":"dave.enyeart","ts":"2019-02-09T13:27:42.293Z"}
{"msg":"For a deep dive on this proposal, see Peer and Chaincode cloud native deployment support playback at https://wiki.hyperledger.org/display/fabric/playbacks","username":"dave.enyeart","ts":"2019-02-09T13:30:49.992Z"}
{"msg":"@dave.enyeart . I see. I understand that relaxation... Each non endorsing peer in fact already is satisfied only with the readwrite set agreement. What I dont like about this idea and the proposak you mention is reproduceability. This already can happen if chaincodes are non deterministic, i.e: call an external API. I think isnt wise to do that or promote that even further. At least for auditability is not nice. I think is an important feature of ledgers... \nIm interested in your expert opinion on this. I might be thinking something wrong.","username":"waxer","ts":"2019-02-11T02:07:27.856Z"}
{"msg":"Has joined the channel.","username":"cenyongh","ts":"2019-02-12T05:14:55.803Z","type":"uj"}
{"msg":"Has left the channel.","username":"eddie.allen","ts":"2019-02-12T14:44:19.601Z","type":"ul"}
{"msg":"Question: can I store imagea close to 100k in the ledger? If yes, should I save it as an array of bytes or a base64 string?","username":"waxer","ts":"2019-02-16T22:26:19.173Z"}
{"msg":"it doesn't matter how you store it... and yes. you can","username":"yacovm","ts":"2019-02-16T22:50:30.648Z"}
{"msg":"Thanks @yacovm , gonna save it as a byte array then. ","username":"waxer","ts":"2019-02-17T03:58:38.577Z"}
{"msg":"Has joined the channel.","username":"Miguel-A","ts":"2019-02-18T11:57:03.476Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=e2faf2a8-e1ec-4433-870d-d699879c7361) So long as the read/write set is consistent (and unless I misunderstood the whole premise of this thing that's what matters to the orderer) why would allowing different peers to validate differently matter? \nFull disclosure - it fixes a use case for us where we have to model a multi-step process with each party giving assent sequentially so I'm in favor. Did I miss something by typing before I had my second cup of coffee? ","username":"aatkddny","ts":"2019-02-19T13:38:29.190Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=e2faf2a8-e1ec-4433-870d-d699879c7361","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=e2faf2a8-e1ec-4433-870d-d699879c7361","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@aatkddny Read/write set must be consistent across all endorsers. Peers must all validate using the same deterministric logic before commit. The point being discussed here is that in future releases the requirement that chaincode logic be identical across peers may be lifted. The important thing is that peers agree on the final transaction result, how the peers get to those results may be different.","username":"dave.enyeart","ts":"2019-02-19T14:47:32.905Z"}
{"msg":"@muralisr @jyellick Concerning the above discussion... In my opinion future releases should have an option (in the chaincode definition) that specifies whether chaincode bytes must be identical across peers.  In many cases it would be acceptable for peers to have their own logic (for example org-specific validations in the chaincode logic). But in other cases you may want the chaincode bytes to be identical for reproducablity/auditability reasons (as waxer suggests), as well as a sanity check that you've installed the correct chaincode","username":"dave.enyeart","ts":"2019-02-19T14:52:13.723Z"}
{"msg":"@muralisr @jyellick Concerning the above discussion... In my opinion future releases should have an _option_ (in the chaincode definition) that specifies whether chaincode bytes must be identical across peers.  In many cases it would be acceptable for peers to have their own logic (for example org-specific validations in the chaincode logic). But in other cases you may want the chaincode bytes to be identical for reproducablity/auditability reasons (as waxer suggests), as well as a sanity check that you've installed the correct chaincode","username":"dave.enyeart","ts":"2019-02-19T14:52:13.723Z"}
{"msg":"@muralisr @jyellick Concerning the above discussion... In my opinion future releases should have an _option_ (in the chaincode definition) that specifies whether chaincode bytes must be identical across peers.  In many cases it would be acceptable for peers to have their own logic (for example org-specific validations in the chaincode logic). But in other cases you may want the chaincode bytes to be identical across peers for reproducablity/auditability reasons (as waxer suggests), as well as a sanity check that you've installed the correct chaincode","username":"dave.enyeart","ts":"2019-02-19T14:52:13.723Z"}
{"msg":"Thats what I figured. As I said it fixes one of our biggest issues with multiple orgs endorsing a single asset simultaneously. \nThe only other enhancement I personally would wish for is the option to endorse based on write set only. So I can have one org (who has access) do a cross chain code read and the other one (who doesn't) not perform that piece of validation. ","username":"aatkddny","ts":"2019-02-19T15:07:22.423Z"}
{"msg":"@dave.enyeart Thats what I figured. As I said it fixes one of our biggest issues with multiple orgs endorsing a single asset simultaneously. \nThe only other enhancement I personally would wish for is the option to endorse based on write set only. So I can have one org (who has access) do a cross chain code read and the other one (who doesn't) not perform that piece of validation. ","username":"aatkddny","ts":"2019-02-19T15:07:22.423Z"}
{"msg":"@dave.enyeart Thats what I figured. As I said it fixes one of our biggest issues with multiple orgs endorsing a single asset simultaneously. \nThe only other enhancement I personally would wish for is the option to endorse based on write set only. So I can have one org (who has access) do a cross chain code read to check that a linked asset is extant, and the other one (who doesn't) not perform that piece of validation. ","username":"aatkddny","ts":"2019-02-19T15:07:22.423Z"}
{"msg":"@aatkddny cross channel reads are not added to read-write set regardless","username":"dave.enyeart","ts":"2019-02-19T15:38:29.011Z"}
{"msg":"@aatkddny cross channel reads are not added to read-write set regardless, see https://github.com/hyperledger/fabric/blob/release-1.4/core/chaincode/shim/interfaces.go#L62-L76","username":"dave.enyeart","ts":"2019-02-19T15:38:29.011Z"}
{"msg":"@aatkddny cross channel reads are not added to read-write set regardless and are therefore not validated, see https://github.com/hyperledger/fabric/blob/release-1.4/core/chaincode/shim/interfaces.go#L62-L76","username":"dave.enyeart","ts":"2019-02-19T15:38:29.011Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ) @dave.enyeart Is that new to 1.4. \nI'm asking because istr we ran into a problem where we couldn't read from one peer and could from another and ignoring the failure caused the endorser to reject. It was months ago and we solved it by going a different route, so I don't want to make a federal case about it. I was just curious.","username":"aatkddny","ts":"2019-02-19T15:54:39.134Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ) @dave.enyeart Is that new to 1.4. \nI'm asking because istr we ran into a problem where we couldn't read from one peer and could from another and ignoring the failure caused the endorser to reject. It was months ago and we solved it by going a different route, so I don't want to make a federal case about it. I was just curious. \nIt's also entirely possible that the problem was misrepresented - I didn't write or audit the go code in this instance. Again I was curious if this was new or existing behavior.","username":"aatkddny","ts":"2019-02-19T15:54:39.134Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ) @dave.enyeart Is that new to 1.4. \nI'm asking because istr we ran into a problem where channel auth meant that we couldn't read from one peer group, but could from another and ignoring the failure on the second set caused the endorser to reject. It was months ago and we solved it by going a different route, so I don't want to make a federal case about it. I was just curious. \nIt's also entirely possible that the problem was misrepresented - I didn't write or audit the go code in this instance. Again I was curious if this was new or existing behavior.","username":"aatkddny","ts":"2019-02-19T15:54:39.134Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=spSvqzzzkWNA5XYmQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dave.enyeart , in the 'Upgrading your network' article, you mention: \n\"We can then backup the peer’s ledger and MSP:\"\nThen it executes:\n\"docker cp $PEER:/var/hyperledger/production ./$LEDGERS_BACKUP/$PEER\"\nFrom what I understand, that backups the ledger. But the MSP isn't in /etc/hyperledger/fabric/msp?","username":"Jgnuid","ts":"2019-02-23T15:41:41.483Z"}
{"msg":"in the 'Upgrading your network' article, it mentions: \n\"We can then backup the peer’s ledger and MSP:\"\nThen it executes:\n\"docker cp $PEER:/var/hyperledger/production ./$LEDGERS_BACKUP/$PEER\"\nFrom what I understand, that backups the ledger. But the MSP isn't in /etc/hyperledger/fabric/msp?","username":"Jgnuid","ts":"2019-02-23T15:41:41.483Z"}
{"msg":"Additionally, wouldn't be better to backup the whole /etc/hyperledger/fabric folder?, just to backup the core.yaml if any custom configuration in the new operations service was made (i.e: the host and port). ","username":"Jgnuid","ts":"2019-02-23T15:53:54.608Z"}
{"msg":"Has joined the channel.","username":"suryalanka","ts":"2019-02-23T16:43:33.441Z","type":"uj"}
{"msg":"@Jgnuid yes, msp will be in `/etc/hyperledger/fabric/msp`. when following `Upgrade your network` tutorial, it uses byfn in which we generate the crypto material (msp) locally and mount the msp material to each peer docker container. So we will have the local copy of MSP","username":"suryalanka","ts":"2019-02-23T16:59:19.247Z"}
{"msg":"no additional backup is not required unless and until we dont delete local copy of MSP","username":"suryalanka","ts":"2019-02-23T17:01:02.835Z"}
{"msg":"no additional backup of MSP is required unless and until we dont delete local copy of MSP","username":"suryalanka","ts":"2019-02-23T17:01:02.835Z"}
{"msg":"https://github.com/hyperledger/fabric-samples/blob/4ed3933a8d6977c4c0d00116967f2da4439e4422/first-network/base/docker-compose-base.yaml#L70","username":"suryalanka","ts":"2019-02-23T17:04:04.524Z"}
{"msg":"@suryalanka , so in the docs you don't mention to backup the /etc/hyperledger/fabric/msp because it's in the host machine? (just repeating to be sure I understood correctly).","username":"Jgnuid","ts":"2019-02-23T18:20:35.706Z"}
{"msg":"@Jgnuid yes","username":"suryalanka","ts":"2019-02-23T19:25:16.709Z"}
{"msg":"@suryalanka , so it may be a good idea to change '\"We can then backup the peer’s ledger and MSP:\"' with '\"We can then backup the peer’s ledger:\". Because it could confuse someone that doesn't remind that the MSP is on another path.  Just a suggestion.","username":"Jgnuid","ts":"2019-02-23T19:26:48.819Z"}
{"msg":"(Moreover, mention there where is the MSP to back it up too)","username":"Jgnuid","ts":"2019-02-23T19:27:19.327Z"}
{"msg":"sure","username":"suryalanka","ts":"2019-02-23T19:27:36.681Z"}
{"msg":" @dave.enyeart @yacovm once I'","username":"plato","ts":"2019-02-26T00:54:49.653Z"}
{"msg":"I'm trying to run latest version of first network based on 1.4 I'm facing this issue inside the peers","username":"plato","ts":"2019-02-26T00:55:31.159Z"}
{"msg":"","username":"plato","ts":"2019-02-26T00:55:32.932Z","attachments":[{"type":"file","title":"Clipboard - February 25, 2019 4:55 PM","title_link":"/file-upload/S9awmZB2Z7ZZ4nDLt/Clipboard%20-%20February%2025,%202019%204:55%20PM","image_url":"/file-upload/S9awmZB2Z7ZZ4nDLt/Clipboard%20-%20February%2025,%202019%204:55%20PM","image_type":"image/png","image_size":182879,"url":"/file-upload/S9awmZB2Z7ZZ4nDLt/Clipboard%20-%20February%2025,%202019%204:55%20PM","remote":false,"fileId":"S9awmZB2Z7ZZ4nDLt","fileName":"Clipboard - February 25, 2019 4:55 PM"}]}
{"msg":"@plato does this answer resolve it? https://stackoverflow.com/a/49649678/8205919","username":"dave.enyeart","ts":"2019-02-26T02:19:40.446Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=FrTTapNMfT35zkHdC) @dave.enyeart thanks!, it works","username":"plato","ts":"2019-02-26T19:22:53.983Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FrTTapNMfT35zkHdC","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=FrTTapNMfT35zkHdC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Estebanrestrepo","ts":"2019-03-01T19:40:02.327Z","type":"uj"}
{"msg":"Has joined the channel.","username":"keshavrajput","ts":"2019-03-02T07:58:53.414Z","type":"uj"}
{"msg":"Has joined the channel.","username":"braduf","ts":"2019-03-05T00:06:22.770Z","type":"uj"}
{"msg":"Hi Team","username":"javrevasandeep","ts":"2019-03-11T06:51:20.654Z"}
{"msg":"Could you please provide help on below question","username":"javrevasandeep","ts":"2019-03-11T06:51:37.334Z"}
{"msg":"I am using HL 1.2 network. Can i read data from peer which is still in syncing process with other peer.\nIn other words, lets say one of my peer is down for days and then all of a sudden it came up, so if i read data from this peer while it is still in the process of syncing up with other peers, then would it provide me data or no data or stale data...?","username":"javrevasandeep","ts":"2019-03-11T06:51:37.903Z"}
{"msg":"@javrevasandeep All peers are always trailing the latest block that has been cut, it makes no difference if it is trailing by milliseconds (the normal scenario) or minutes or days. The peer will respond with data at its current block height. There are two things that ensure data integrity across block heights:","username":"dave.enyeart","ts":"2019-03-11T11:12:32.384Z"}
{"msg":" 1) multiple peers must return the same endorsement results... if there is one peer's response that deviates from the others (potentially due to it being further behind), then this response can be thrown out and you can get an endorsement from another peer to meet the endorsement policy. ","username":"dave.enyeart","ts":"2019-03-11T11:12:40.189Z"}
{"msg":"2) If you do get enough matching responses to meet endorsement policy and submit the transaction, but there is another conflicting transactions that reads/writes the same keys, then your transaction will get invalidated at validation/commit time on each peer.  This is why it is important for clients to listen for transaction events and ensure the transaction was committed.","username":"dave.enyeart","ts":"2019-03-11T11:12:42.415Z"}
{"msg":"Note that when using service discovery, SDKs will prioritize peers at higher block heights to avoid any issues with a peer that is lagging behind.","username":"dave.enyeart","ts":"2019-03-11T11:13:56.116Z"}
{"msg":"Has joined the channel.","username":"KyunghoKim","ts":"2019-03-12T03:09:34.890Z","type":"uj"}
{"msg":"Hello,\nI am frequently getting following error:\nhttps://stackoverflow.com/questions/53445400/hyperledger-fabric-error-14-unavailable-tcp-write-failed\nCan anyone help please?","username":"HoneyShah","ts":"2019-03-12T10:05:28.863Z"}
{"msg":"@dave.enyeart I have a multiple chaincode owner and I have signed it by all organization respectively (I have hand over this to the next org and again repeat the same thing and hand over the result to next org until I have received all signature in the  signedccpack.out) what I have to do next,  install the chaincode on all peers on on all organization? but how can I use signed package in installation or instantiate the chaincode\n\n`peer chaincode package -n slc_s6 -p github.com/chaincode/slc_6/go/ -v 1 -s -S -i \"AND('org1MSP.member', 'org2MSP.member', 'org3MSP.peer', 'org4MSP.peer', 'org5MSP.peer')\" ccpack.out`\n`peer chaincode signpackage ccpack.out signedccpack.out` ``` \n\n\n```","username":"plato","ts":"2019-03-12T17:24:39.113Z"}
{"msg":"@dave.enyeart I have a multiple chaincode owner and I have signed it by all organization respectively (I have hand over this to the next org and again repeat the same thing and hand over the result to next org until I have received all signature in the  signedccpack.out) what I have to do next,  install the chaincode on all peers on on all organization? but how can I use signed package in installation or instantiate the chaincode\n\n`peer chaincode package -n slc_s6 -p github.com/chaincode/slc_6/go/ -v 1 -s -S -i \"AND('org1MSP.admin', 'org2MSP.admin', 'org3MSP.admin', 'org4MSP.admin', 'org5MSP.admin')\" ccpack.out`\n`peer chaincode signpackage ccpack.out signedccpack.out` ``` \n\n\n```","username":"plato","ts":"2019-03-12T17:24:39.113Z"}
{"msg":"@dave.enyeart I have a multiple chaincode owner and I have signed it by all organization respectively (I have hand over this to the next org and again repeat the same thing and hand over the result to next org until I have received all signature in the  signedccpack.out) what I have to do next,  install the chaincode on all peers on on all organization? but how can I use signed package in installation or instantiate the chaincode\n\n`peer chaincode package -n slc_s6 -p github.com/chaincode/slc_6/go/ -v 1 -s -S -i \"AND('org1MSP.admin', 'org2MSP.admin', 'org3MSP.admin', 'org4MSP.admin', 'org5MSP.admin')\" ccpack.out`\n`peer chaincode signpackage ccpack.out signedccpack.out` ``` \n\n\n```","username":"plato","ts":"2019-03-12T17:24:39.113Z"}
{"msg":"@dave.enyeart I have a multiple chaincode owner and I have signed it by all organization respectively (I have hand over this to the next org and again repeat the same thing and hand over the result to next org until I have received all signature in the  signedccpack.out) what I have to do next,  install the chaincode on all peers on on all organization? but how can I use signed package in installation or instantiate the chaincode\n\n`peer chaincode package -n slc_s6 -p github.com/chaincode/slc_6/go/ -v 1 -s -S -i \"AND('org1MSP.admin', 'org2MSP.admin', 'org3MSP.admin', 'org4MSP.admin', 'org5MSP.admin')\" ccpack.out`\n`peer chaincode signpackage ccpack.out signedccpack.out` ``` \n\n\n```","username":"plato","ts":"2019-03-12T17:24:39.113Z"}
{"msg":"@dave.enyeart I have a multiple chaincode owner and I have signed it by all organization respectively (I have hand over this to the next org and again repeat the same thing and hand over the result to next org until I have received all signature in the  signedccpack.out) what I have to do next,  install the chaincode on all peers on on all organization? but how can I use signed package in installation or instantiate the chaincode\n\n`peer chaincode package -n slc_s6 -p github.com/chaincode/slc_6/go/ -v 1 -s -S -i \"AND('org1MSP.admin', 'org2MSP.admin', 'org3MSP.admin', 'org4MSP.admin', 'org5MSP.admin')\" ccpack.out`\n`peer chaincode signpackage ccpack.out signedccpack.out` ``` \n\n\n```  I have checked that the time that I instantiate I have used the admin user ```\npeer chaincode instantiate -o orderer0.abcd.org:7050 --tls --cafile $ORDERER_CA -C abcdchannel -n slc_s6 -v 1.0 -c '{\"Args\":[\"init\"]}' -P \"AND('org1MSP.peer', 'org2MSP.peer', 'org3MSP.peer', 'org4MSP.peer', 'org52MSP.peer')\" --collections-config $GOPATH/src/github.com/chaincode/slc_6/collections_config.json\n``` ","username":"plato","ts":"2019-03-12T17:24:39.113Z"}
{"msg":"@dave.enyeart I have a multiple chaincode owner and I have signed it by all organization respectively (I have hand over this to the next org and again repeat the same thing and hand over the result to next org until I have received all signature in the  signedccpack.out) what I have to do next,  install the chaincode on all peers on on all organization? but how can I use signed package in installation or instantiate the chaincode\n\n`peer chaincode package -n slc_s6 -p github.com/chaincode/slc_6/go/ -v 1 -s -S -i \"AND('org1MSP.admin', 'org2MSP.admin', 'org3MSP.admin', 'org4MSP.admin', 'org5MSP.admin')\" ccpack.out`\n`peer chaincode signpackage ccpack.out signedccpack.out` ``` \n\n\n```  I have checked that the time that I instantiate I have used the admin user ```\npeer chaincode instantiate -o orderer0.abcd.org:7050 --tls --cafile $ORDERER_CA -C abcdchannel -n slc_s6 -v 1.0 -c '{\"Args\":[\"init\"]}' -P \"AND('org1MSP.peer', 'org2MSP.peer', 'org3MSP.peer', 'org4MSP.peer', 'org52MSP.peer')\" --collections-config $GOPATH/src/github.com/chaincode/slc_6/collections_config.json\n``` ","username":"plato","ts":"2019-03-12T17:24:39.113Z"}
{"msg":"I have a multiple chaincode owner and I have signed it by all organization respectively (I have hand over this to the next org and again repeat the same thing and hand over the result to next org until I have received all signature in the  signedccpack.out) what I have to do next,  install the chaincode on all peers on on all organization? but how can I use signed package in installation or instantiate the chaincode\n\n`peer chaincode package -n slc_s6 -p github.com/chaincode/slc_6/go/ -v 1 -s -S -i \"AND('org1MSP.admin', 'org2MSP.admin', 'org3MSP.admin', 'org4MSP.admin', 'org5MSP.admin')\" ccpack.out`\n`peer chaincode signpackage ccpack.out signedccpack.out` ``` \n\n\n```  I have checked that the time that I instantiate I have used the admin user ```\npeer chaincode instantiate -o orderer0.abcd.org:7050 --tls --cafile $ORDERER_CA -C abcdchannel -n slc_s6 -v 1.0 -c '{\"Args\":[\"init\"]}' -P \"AND('org1MSP.peer', 'org2MSP.peer', 'org3MSP.peer', 'org4MSP.peer', 'org52MSP.peer')\" --collections-config $GOPATH/src/github.com/chaincode/slc_6/collections_config.json\n``` ","username":"plato","ts":"2019-03-12T17:24:39.113Z"}
{"msg":"","username":"plato","ts":"2019-03-12T17:28:04.525Z","attachments":[{"type":"file","title":"Clipboard - March 12, 2019 10:28 AM","title_link":"/file-upload/xsR37tc4ScSC5RigZ/Clipboard%20-%20March%2012,%202019%2010:28%20AM","image_url":"/file-upload/xsR37tc4ScSC5RigZ/Clipboard%20-%20March%2012,%202019%2010:28%20AM","image_type":"image/png","image_size":25512,"url":"/file-upload/xsR37tc4ScSC5RigZ/Clipboard%20-%20March%2012,%202019%2010:28%20AM","remote":false,"fileId":"xsR37tc4ScSC5RigZ","fileName":"Clipboard - March 12, 2019 10:28 AM"}]}
{"msg":"","username":"plato","ts":"2019-03-12T17:28:38.784Z","attachments":[{"type":"file","title":"Clipboard - March 12, 2019 10:28 AM","title_link":"/file-upload/rjiovSAsZJB98fhBR/Clipboard%20-%20March%2012,%202019%2010:28%20AM","image_url":"/file-upload/rjiovSAsZJB98fhBR/Clipboard%20-%20March%2012,%202019%2010:28%20AM","image_type":"image/png","image_size":25512,"url":"/file-upload/rjiovSAsZJB98fhBR/Clipboard%20-%20March%2012,%202019%2010:28%20AM","remote":false,"fileId":"rjiovSAsZJB98fhBR","fileName":"Clipboard - March 12, 2019 10:28 AM"}]}
{"msg":"@dave.enyeart this is the orderer log as well ","username":"plato","ts":"2019-03-12T17:30:48.835Z"}
{"msg":"this is the orderer log as well ","username":"plato","ts":"2019-03-12T17:30:48.835Z"}
{"msg":"","username":"plato","ts":"2019-03-12T17:30:56.075Z","attachments":[{"type":"file","title":"Clipboard - March 12, 2019 10:30 AM","title_link":"/file-upload/rWogbe7MfjscbRLHF/Clipboard%20-%20March%2012,%202019%2010:30%20AM","image_url":"/file-upload/rWogbe7MfjscbRLHF/Clipboard%20-%20March%2012,%202019%2010:30%20AM","image_type":"image/png","image_size":26028,"url":"/file-upload/rWogbe7MfjscbRLHF/Clipboard%20-%20March%2012,%202019%2010:30%20AM","remote":false,"fileId":"rWogbe7MfjscbRLHF","fileName":"Clipboard - March 12, 2019 10:30 AM"}]}
{"msg":"Has joined the channel.","username":"jlcs","ts":"2019-03-13T14:13:30.864Z","type":"uj"}
{"msg":"In case I want to purge / archive the blockchain data because of size issues? \nCan I do that?\nIf so then what can be standard / best practices?\n\nThanks.","username":"npc0405","ts":"2019-03-18T09:38:56.946Z"}
{"msg":"hi team am querying this ledger and getting the below error ... can anybody help me out\n\n Error: transaction returned with failure: Error: Illegal value for keyvalue element of type string: undefined (not a string)\n","username":"mallikarjunasai995","ts":"2019-03-18T14:11:29.797Z"}
{"msg":"@mallikarjunasai995 I don't see that error in Fabric code base","username":"dave.enyeart","ts":"2019-03-18T18:46:32.260Z"}
{"msg":"@npc0405 For state database data you can delete from chaincode. If you are talking about archiving the historical blockchain, there is a feature on the roadmap to support checkpoint and archive which would allow peers to consent on global state such that prior blocks could be archived away ","username":"dave.enyeart","ts":"2019-03-18T18:48:39.101Z"}
{"msg":"Thanks @dave.enyeart !!!","username":"npc0405","ts":"2019-03-19T02:00:39.811Z"}
{"msg":"@dave.enyeart  when can we expect this? in release 2.0?","username":"npc0405","ts":"2019-03-19T05:52:31.706Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=6f7kskvboR2A2krav) @dave.enyeart is there any article expalained in simple/layman terms on how to write chaincode and what are the packages that are available to write it . if so can you please post the link here ...","username":"mallikarjunasai995","ts":"2019-03-19T06:32:35.781Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6f7kskvboR2A2krav","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=6f7kskvboR2A2krav","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@mallikarjunasai995 For developing chaincode, a simple tutorial is https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html.  For a deeper view, see https://hyperledger-fabric.readthedocs.io/en/latest/developapps/developing_applications.html","username":"dave.enyeart","ts":"2019-03-19T08:05:10.006Z"}
{"msg":"@npc0405 Checkpoint and archive is not planned for v2.0, but we do expect it by end of year.","username":"dave.enyeart","ts":"2019-03-19T08:05:40.696Z"}
{"msg":"Thanks @dave.enyeart ","username":"npc0405","ts":"2019-03-19T10:08:53.490Z"}
{"msg":"While pushing bulk of records in blockchain in the form of chunks, some of records gets added and few of them missed without any error.","username":"npc0405","ts":"2019-03-19T10:10:21.654Z"}
{"msg":"any idea?","username":"npc0405","ts":"2019-03-19T10:10:24.586Z"}
{"msg":"Look in peer log for any invalidations. You can also see the keys that get committed to state database if you enable debug like this: FABRIC_LOGGING_SPEC=info:couchdb,stateleveldb=debug`","username":"dave.enyeart","ts":"2019-03-19T11:33:06.476Z"}
{"msg":"Look in peer log for any invalidations. You can also see the keys that get committed to state database if you enable debug like this: `FABRIC_LOGGING_SPEC=info:couchdb,stateleveldb=debug`","username":"dave.enyeart","ts":"2019-03-19T11:33:06.476Z"}
{"msg":"Has joined the channel.","username":"yanli133","ts":"2019-03-25T06:54:33.438Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Stacker","ts":"2019-03-28T11:13:10.942Z","type":"uj"}
{"msg":"Hello,\nWhen I use identityService.getOne() I got following response for attribute.\n```\n[ { name: 'userType', value: 'supplier' },\n{ name: 'hf.EnrollmentID', value: '11', ecert: true },\n{ name: 'hf.Type', value: 'client', ecert: true },\n{ name: 'hf.Affiliation',\nvalue: 'org1.department1',\necert: true },\n{ name: 'hf.Registrar.Roles', value: '*' },\n{ name: 'hf.Registrar.Attributes', value: '*' } ]\n\n```\n\nBut when I getAttribute value for `userType` it gives different value.\n\nI have updated identity once using identity.update().","username":"HoneyShah","ts":"2019-03-28T11:42:49.385Z"}
{"msg":"Hello,\nWhen I use identityService.getOne() I got following response for attribute.\n```\n[ { name: 'userType', value: 'supplier' },\n{ name: 'hf.EnrollmentID', value: '11', ecert: true },\n{ name: 'hf.Type', value: 'client', ecert: true },\n{ name: 'hf.Affiliation',\nvalue: 'org1.department1',\necert: true },\n{ name: 'hf.Registrar.Roles', value: '*' },\n{ name: 'hf.Registrar.Attributes', value: '*' } ]\n\n```\n\nBut when I getAttribute value for `userType` in chaincode it gives different value.\n\nI have updated identity once using identity.update().","username":"HoneyShah","ts":"2019-03-28T11:42:49.385Z"}
{"msg":"Has joined the channel.","username":"sunit.versatile","ts":"2019-04-01T08:32:08.454Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AliciaDominic","ts":"2019-04-03T04:47:41.060Z","type":"uj"}
{"msg":"Hi all.  if I have a blockchain network up and running and something happens to my CA and lose my CA certificates, will I be able to have access to my ledger or because I will change certs it will be impossible? What should I do in a situation like that?","username":"KGiou","ts":"2019-04-03T12:44:40.302Z"}
{"msg":"hi experts here,  I know system chaincodes can query ledger to get CA certificate. Now I want to use CA certificate in my application chaincode, how should I do? Thank you very much.","username":"qsmen","ts":"2019-04-16T01:05:16.106Z"}
{"msg":"If you are using the `fabric-contract-api` the `ClientIdentity` object is available to you via the stub in your chaincode and it includes the certificate.\nhttps://fabric-shim.github.io/release-1.4/fabric-shim.ClientIdentity.html","username":"qsmen","ts":"2019-04-17T00:50:39.857Z"}
{"msg":"the answer was given by Rthatcher in chaincode-dev channel. Thanks","username":"qsmen","ts":"2019-04-17T00:51:34.554Z"}
{"msg":"However,  I find the most related function getX509Certificate return the x509 certifcate of the revoking identity, not the root ca certificate.","username":"qsmen","ts":"2019-04-17T01:04:29.859Z"}
{"msg":"how to verify that world state hasn't been changed by a process other than chaincode? I mean database can be hacked, if the consistent state of a record is only checked when blockchain transaction is processed, then we have an issue here, correct? because most of uses cases are some kind of trace and track, written records will never be input of another transaction again.  ","username":"mwenyan","ts":"2019-04-17T22:09:26.624Z"}
{"msg":"@mwenyan See https://lists.hyperledger.org/g/fabric/message/4896","username":"dave.enyeart","ts":"2019-04-18T13:39:26.347Z"}
{"msg":"experts on ledger, if possible， wouldst  you please tell me how to obtain the CA","username":"qsmen","ts":"2019-04-19T05:44:08.737Z"}
{"msg":"experts on ledger, Wouldst  you please tell me how to obtain an org's root certificate. I know if it is possible because system chaincodes need root certificate to verify the correctness of certificates","username":"qsmen","ts":"2019-04-19T05:44:08.737Z"}
{"msg":"experts on ledger, Would  you please tell me how to obtain an org's root certificate in application chaincde? I know if it is possible because system chaincodes need root certificate to verify the correctness of certificates","username":"qsmen","ts":"2019-04-19T05:44:08.737Z"}
{"msg":"@manish-sethi , it looks like at some point someone introduced this notion of state listeners in kvledger; now the txmgr invokes such state listener as part of the ValidateAndPrepare. The strange thing I notice is that in the invokeNamespaceListeners() function you create two query executors which bypass the read lock creation which is included in the creation of the usual query executors (created by NewQueryExecutor()). That seem to imply that the state listeners may perform read operations against the stateDB without any lock acquisition - which means they could access dirty reads; or am I missing something?","username":"minollo","ts":"2019-04-19T19:33:50.689Z"}
{"msg":"@minollo - you can blame me instead of \"someone\" :-). Since, this is in the commit path (we have a single writer/channel per channel) so locking is not needed in this path.","username":"manish-sethi","ts":"2019-04-19T19:37:42.024Z"}
{"msg":"ok; then the assumption is that the lifecycle of that information (the query executor) terminates at the end of the HandleStateUpdates() call execution?","username":"minollo","ts":"2019-04-19T19:38:55.265Z"}
{"msg":"because the way things work today, the listeners holds on to that information; and in theory it can reuse it at any point later and asynchronously, if they want","username":"minollo","ts":"2019-04-19T19:39:59.819Z"}
{"msg":"Yes, the listeners are not supposed to keep hold of this beyond this scope else, they would be blocking the commit.","username":"manish-sethi","ts":"2019-04-19T19:40:11.702Z"}
{"msg":"ok; you may want to reconsider your unit test then, as it does exactly that","username":"minollo","ts":"2019-04-19T19:40:29.060Z"}
{"msg":"Sure, can you please open a jira to keep track of this","username":"manish-sethi","ts":"2019-04-19T19:41:10.424Z"}
{"msg":"will do; in the meanwhile you answered my question about the scope of these query executors, and that greatly helps my work in translating that approach in one which deals with db transactions; thanks!","username":"minollo","ts":"2019-04-19T19:41:58.560Z"}
{"msg":"Looking at raft for consensus (introduced in 1.4.1). Can a node be a leader for more than one channel? thanks. ","username":"mbanerjee","ts":"2019-04-24T22:08:17.984Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/fabric-ledger?msg=kPiAqCDjBnKMQSENu) @mbanerjee In raft every channel have different raft cluster so if same node is present in both channel raft cluster then it can have","username":"knagware9","ts":"2019-04-25T08:45:18.975Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kPiAqCDjBnKMQSENu","url":"https://chat.hyperledger.org/channel/fabric-ledger?msg=kPiAqCDjBnKMQSENu","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"sgaddam","ts":"2019-04-25T11:33:35.670Z","type":"uj"}
{"msg":"Hi,\n\n*I am able to fetch the Private data in the initial setup 2Orgs 2 peers. However in the newly added peer i am unable to fetch the reconciled private data.*\n \nI will eloborate my work in Private Data Reconciliation. Please suggest me if i am doing wrong in my process.\n\nI have a blockchain network with 2 Orgs each with 2 Peers along with 1 Orderer.\nI have a channel for 2 Orgs. I tried like below..\n\t- Initially the Org1Peer0 and Org2Peer0 have joined the Channel. After that, installed, instantiated, Invoked and Queried Private Data. Its working fine.\n\t- Later, the new peer Org1Peer1 joined to the channel. And also configured with the below options in the .bashrc file for Org1Peer0. But not added the below options in Peer0's of 2 Orgs.\n\t\t\t- export CORE_PEER_GOSSIP_PVTDATA_RECONCILIATIONENABLED=true\n\t\t\t- export CORE_PEER_GOSSIP_PVTDATA_RECONCILESLEEPINTERVAL=1m\n\t- After that i tried to query the reconciled private data. But i end up with errors.\n\t- To make simplify the process, i take only 1 Org with 2 peers to test the Privated Data Reconciliation.\n\t\t\t- I stopped Org1 Peer1 but Org1 Peer0 is already in running mode. I added the Reconciliation options in both the peers in a .bashrc file.\n\t\t\t- I installed new chaincode in Org1Peer0 and then instantiated, invoked couple of private data and then queryied the data. The private data is returning properly.\n\t\t\t- Now i started Org1Peer1 and installed the new chaincode in this node. Then i tried querying the reconciled data. But i end up with the same errors provided you earlier.\n\nBelow is the collection config which i used for the 1 Org scenario.\n[\n {\n\t \"name\": \"collectionPurchaseOrders\",\n\t \"policy\": \"OR('Org1MSP.member')\",\n\t \"requiredPeerCount\": 0,\n\t \"maxPeerCount\": 3,\n\t \"blockToLive\":1000000,\n\t \"memberOnlyRead\": true\n},\n {\n\t \"name\": \"collectionPrivatePurchaseOrders\",\n\t \"policy\": \"OR('Org1MSP.member')\",\n\t \"requiredPeerCount\": 0,\n\t \"maxPeerCount\": 3,\n\t \"blockToLive\":0,\n\t \"memberOnlyRead\": true\n }\n]\n\n\t\t\t\nCan you please suggest me if i have anything wrong in the above steps or configurations?","username":"sgaddam","ts":"2019-04-25T11:49:27.920Z"}
{"msg":"No Errors in Org1Peer0 while invoking. But, below is the error in Org1Peer1 while invoking the Private Data in Org1Peer0.\n\nError in Org1Peer1 while Invoking in Org1Peer0\n---------------------------------------------\n\n2019-04-25 09:55:38.088 UTC [gossip.privdata] reconcile -> ERRO 191f reconciliation error when trying to fetch missing items from different peers: Empty membership\n2019-04-25 09:55:38.088 UTC [gossip.privdata] run -> ERRO 1920 Failed to reconcile missing private info, error:  Empty membership\n2019-04-25 09:55:38.536 UTC [gossip.privdata] fetchPrivateData -> WARN 1921 Do not know any peer in the channel( channeltest2 ) that matches the policies , aborting\n2019-04-25 09:55:38.536 UTC [gossip.privdata] fetchFromPeers -> WARN 1922 Failed fetching private data for block 24 from peers: Empty membership\n2019-04-25 09:55:39.537 UTC [gossip.privdata] fetchPrivateData -> WARN 1923 Do not know any peer in the channel( channeltest2 ) that matches the policies , aborting\n2019-04-25 09:55:39.537 UTC [gossip.privdata] fetchFromPeers -> WARN 1924 Failed fetching private data for block 24 from peers: Empty membership\n2019-04-25 09:55:40.537 UTC [gossip.privdata] StoreBlock -> WARN 1925 [channeltest2] Could not fetch all missing collection private write sets from remote peers. Will commit block [24] with missing private write sets:[txID: 03ece15b2ef5dcaa952cdf663a60292426e82aa838a0304d73b6cd1659711fb1, seq: 0, namespace: xyzchaincode, collection: collectionPrivatePurchaseOrders, hash: 34f6ade8fa9fa825797941777f170262a95bfaf217572660a2434677b31b97f8\ntxID: 03ece15b2ef5dcaa952cdf663a60292426e82aa838a0304d73b6cd1659711fb1, seq: 0, namespace: xyzchaincode, collection: collectionPurchaseOrders, hash: 50fe70b55805b8281669b7ddd9aa8ac78c02a42b6693cc2a96f0f601613253de\n]\n2019-04-25 09:55:40.553 UTC [kvledger] CommitWithPvtData -> INFO 1926 [channeltest2] Committed block [24] with 1 transaction(s) in 15ms (state_validation=0ms block_commit=9ms state_commit=3ms)\n\n\n\nError in Org1Peer1 while querying in the same peer:\n-----------------------------------------------------\n2019-04-25 09:59:02.150 UTC [endorser] callChaincode -> INFO 1933 [channeltest2][651413f6] Entry chaincode: name:\"xyzchaincode\"\n2019-04-25 09:59:02.152 UTC [chaincode] HandleTransaction -> ERRO 1934 [651413f6] Failed to handle GET_STATE. error: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x18, TxNum:0x0}, Private data version = (*version.Height)(nil)\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:640\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:214\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272\nruntime.goexit\n        /opt/go/src/runtime/asm_amd64.s:1333\nGET_STATE failed: transaction ID: 651413f6371f594722a6c0b8ee46793e9232b32acac463939b356896d3211624\ngithub.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:276\nruntime.goexit\n        /opt/go/src/runtime/asm_amd64.s:1333\n2019-04-25 09:59:02.152 UTC [endorser] callChaincode -> INFO 1935 [channeltest2][651413f6] Exit chaincode: name:\"xyzchaincode\"  (2ms)\n2019-04-25 09:59:02.152 UTC [endorser] ProcessProposal -> ERRO 1936 [channeltest2][651413f6] simulateProposal() resulted in chaincode name:\"xyzchaincode\"  response status 500 for txid: 651413f6371f594722a6c0b8ee46793e9232b32acac463939b356896d3211624\n\n\nPlease help me in this. Thank you.","username":"sgaddam","ts":"2019-04-25T11:49:42.470Z"}
{"msg":"Has joined the channel.","username":"Fias","ts":"2019-04-26T06:57:02.103Z","type":"uj"}
{"msg":"The errors above are almost always a result of gossip misconfiguration (anchor peers and/or endpoints)","username":"dave.enyeart","ts":"2019-04-26T16:15:43.079Z"}
{"msg":"Has joined the channel.","username":"yerganat","ts":"2019-05-03T05:15:16.852Z","type":"uj"}
{"msg":"before initializing a chaincode, a docker image will be created and then a container instance. my questions are:\n1) is it recommended to reuse the docker image for future endorsing peers? \n2) does the docker image relate with crypto artifacts?","username":"bh4rtp","ts":"2019-05-13T06:47:09.575Z"}
{"msg":"Has joined the channel.","username":"circlespainter","ts":"2019-05-18T07:35:18.086Z","type":"uj"}
{"msg":"Hi, i have question regarding 'sharing'(ability to read&update) of document(asset) that reside in private data collection(explicit collection) to member of Org that is not part of collection yet.\nFor example: private data collection=PDC1, members: OrgA and OrgB. Organization that should be able to read&update assets from PDC1 is OrgC.\nI guess one way to achieve this is with 'explicit' collections like this:\n1. Modify collection config: add OrgC in distribution policy. That operation trigger chaincode upgrade\n2. If there is requirement for fine grain permission access in the future for specific asset(key) use key-level endorsement policy \n\nDoes this explanation make sense? Any other mechanism how to achieve this functionality (for ex with implicit collections or somethis else?)","username":"IgorSim","ts":"2019-05-21T09:00:05.965Z"}
{"msg":"Hi, i have question regarding 'sharing'(ability to read&update) of document(asset) that reside in private data collection(explicit collection) to member of Org that is not part of collection yet.\nFor example: private data collection=PDC1, members: OrgA and OrgB. Organization that should be able to read&update assets from PDC1 is OrgC.\nI guess one way to achieve this is with 'explicit' collections like this:\n1. Modify collection config: add OrgC in distribution policy. That operation trigger chaincode upgrade\n2. If there is requirement for fine grain permission access in the future for specific asset(key) use key-level endorsement policy \n\nDoes this explanation make sense? Any other mechanism how to achieve this functionality (for ex with implicit collections or something else?)","username":"IgorSim","ts":"2019-05-21T09:00:05.965Z"}
{"msg":"Hello! Does Couchdb support \"composite keys\" and queries with prefixes of keys as Goleveldb supports? I mean, is it efficient to use partial key queries with CouchDB as a state database?\nAlso, could somebody provide a link to learn how these composite keys search works in Leveldb under the hood? ","username":"krabradosty","ts":"2019-05-21T18:03:02.274Z"}
{"msg":"Has joined the channel.","username":"horse","ts":"2019-05-21T21:56:27.626Z","type":"uj"}
{"msg":"yes ,, check this https://medium.com/wearetheledger/hyperledger-fabric-couchdb-fantastic-queries-and-where-to-find-them-f8a3aecef767","username":"knagware9","ts":"2019-05-22T10:33:12.348Z"}
{"msg":"@krabradosty Yes, CouchDB supports range queries and composite key queries efficiently by using an internal index. For both CouchDB and LevelDB, the composite key query is actually turned into a simple range query in the shim, and then sent to CouchDB or LevelDB as a simple range query. For details see the shim code here: https://github.com/hyperledger/fabric/blob/release-1.4/core/chaincode/shim/chaincode.go#L778-L780","username":"dave.enyeart","ts":"2019-05-22T10:51:19.901Z"}
{"msg":"answered in mailing list: https://lists.hyperledger.org/g/fabric/message/6147","username":"dave.enyeart","ts":"2019-05-22T11:46:04.907Z"}
{"msg":"thanks","username":"IgorSim","ts":"2019-05-22T11:56:58.186Z"}
{"msg":"Has left the channel.","username":"spacemandev","ts":"2019-05-22T19:08:00.204Z","type":"ul"}
{"msg":"Has joined the channel.","username":"kn3118","ts":"2019-05-23T16:41:47.684Z","type":"uj"}
{"msg":"Hi Team, \nI am facing one strange issue with chaincode. I have one function in smart contract which gets asset record value from ledger based on asset key and based on the result, it create the asset record if it is not there and doesn't create the record if its already there and we have sub asset records for every asset record. The asset record data is coming from legacy systems one by one to blockchain ledger through invokation. What i found is that sometimes subsequent sub asset record is not getting stored for the asset record for which there is already at least one sub asset record for the same asset record stored on ledger in previous invokation request.","username":"javrevasandeep","ts":"2019-05-30T05:48:46.330Z"}
{"msg":"Hi Guys,\n\nI am getting the below error while installing the chaincode in the multinode network. \nEarlier it was working fine with the other chaincodes. Suddenly it stopped installing the chaincode and getting the below error.\n\nYour help will be greatly appreciated.\n\nError: error getting chaincode code marblesp: error getting chaincode package bytes: Error obtaining imports: command <go list -f {{ join .Imports \"\\n\"}} github.com/hyperledger/fabric/examples/chaincode/go/marbles02_private/go/>: failed with error: \"timed out after 1m0s\"","username":"sgaddam","ts":"2019-05-30T05:51:49.479Z"}
{"msg":"Has joined the channel.","username":"anand.fast","ts":"2019-06-04T01:31:34.450Z","type":"uj"}
{"msg":"Hi Team,  Need clarification about Raft consensus algorithm. Since the genesis block is generated at network startup time if a new Raft orderer node is added as a consenter, how do we update the sys channel and the application channel?","username":"mbanerjee","ts":"2019-06-11T00:49:33.656Z"}
{"msg":"Each new raft node will first receive all prior blocks starting with genesis block. For further questions about ordering nodes, please post to #fabric-orderer ","username":"dave.enyeart","ts":"2019-06-11T10:05:42.210Z"}
{"msg":"Has joined the channel.","username":"scottz","ts":"2019-06-17T13:39:09.667Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hanubc7743","ts":"2019-06-19T20:57:18.961Z","type":"uj"}
{"msg":"Hi Can we integrate oracle db instead of couch db in hyperledger fabric? ","username":"hanubc7743","ts":"2019-06-19T20:57:48.507Z"}
{"msg":"what is beinfit?","username":"wangdong","ts":"2019-06-20T06:15:48.125Z"}
{"msg":"Has joined the channel.","username":"aviralwal","ts":"2019-06-21T13:57:51.397Z","type":"uj"}
{"msg":"You can't  ... Fabric does not support SQL databases to store ledger state.  It only supports the embedded goleveldb and CouchDB","username":"mastersingh24","ts":"2019-06-24T20:44:06.634Z"}
{"msg":"Has joined the channel.","username":"richardmurillo","ts":"2019-06-24T21:00:06.396Z","type":"uj"}
{"msg":"checking https://console.aws.amazon.com/qldb/home?region=us-east-1#firstRun and yes, it works with SQL 'out-of-the-box' in a bucket of all places","username":"gregnotso","ts":"2019-06-27T23:58:25.033Z"}
{"msg":"Hi,\nI am using fabric 1.3 and it is taking too much time for even querying ledger. I have two organanizations. Total 2 peers and 3 orderers. Is there anything to track why it is taking so long and the ways to resolve this?","username":"HoneyShah","ts":"2019-07-08T03:58:43.567Z"}
{"msg":"@HoneyShah  need to provide logs","username":"pankajcheema","ts":"2019-07-17T10:32:56.552Z"}
{"msg":"Hello, can any maintainer look into the issue I opened in Jira https://jira.hyperledger.org/browse/FAB-15865 and give your comments? Thanks","username":"xixuejia","ts":"2019-07-18T01:40:37.408Z"}
{"msg":"Well the Oracle Blockchain Platform sort of does this.  We replicate the transactions and state database into an Oracle DB if so configured, and we provide a SQL query interface to the state database based on BerkeleyDB and SQLite.  But native Fabric doesn't support relational databases or SQL queries.","username":"toddinpal","ts":"2019-07-18T15:47:37.578Z"}
{"msg":"Hello. I had a question on indexing using couchDB. So i have a smart contract that has both public struct and a private struct that is used when a commit is done to the private database. (using a collections file). I have a filed called recordId in both the structs. Now i have added an index for querying faster and efficiently and i have used this recordId as a field for creating the index.\nThe question is - Will indexing work on both public ledger and private DB with this same index file? If not, what is the way to do indexing for private database?","username":"SanketPanchamia","ts":"2019-07-23T07:51:42.073Z"}
{"msg":"Yes you can create the same index for private data collections. See the documentation and sample here: https://hyperledger-fabric.readthedocs.io/en/release-1.4/private-data-arch.html#using-indexes-with-collections","username":"dave.enyeart","ts":"2019-07-24T05:02:20.285Z"}
{"msg":"Thanks @dave.enyeart ","username":"SanketPanchamia","ts":"2019-07-24T05:50:02.751Z"}
{"msg":"hi experts,  can a chaincode access the key in the world state which is created by one another chaincode?  here the two chaincodes are in the same channel. Thank you","username":"qsmen","ts":"2019-07-29T09:49:09.491Z"}
{"msg":"hi experts,  can a chaincode read(or query) the key in the world state which is created by another chaincode?  here the two chaincodes are in the same channel. Thank you","username":"qsmen","ts":"2019-07-29T09:49:09.491Z"}
{"msg":"No directly, but you can achieve it by having one chaincode call the other chaincode. See https://github.com/hyperledger/fabric/blob/release-1.4/core/chaincode/shim/interfaces.go#L62-L76","username":"dave.enyeart","ts":"2019-07-29T13:20:06.089Z"}
{"msg":"Not directly, but you can achieve it by having one chaincode call the other chaincode. See https://github.com/hyperledger/fabric/blob/release-1.4/core/chaincode/shim/interfaces.go#L62-L76","username":"dave.enyeart","ts":"2019-07-29T13:20:06.089Z"}
{"msg":"Thank you. But this conflict our usual impression that members in one channel share the ledger.  chaincode calling chaincode  should work even they are not in the same channel.","username":"qsmen","ts":"2019-07-30T00:55:59.963Z"}
{"msg":"Thank you. But this conflict with our usual impression that members in one channel share the ledger.  chaincode calling chaincode  should work even they are not in the same channel. ","username":"qsmen","ts":"2019-07-30T00:55:59.963Z"}
{"msg":"though eventing or did you fork it?","username":"aatkddny","ts":"2019-08-06T00:35:26.723Z"}
{"msg":"Has joined the channel.","username":"huxd","ts":"2019-08-06T05:46:34.958Z","type":"uj"}
{"msg":"getHistoryForKey can get the history transaction for the input key. My question is whether I can get the history transaction for the key if the key is deleted from the world state just now? Thank you","username":"qsmen","ts":"2019-08-09T07:13:54.572Z"}
{"msg":"getHistoryForKey can get the history transaction for the input key.  Can we  get the history transaction for the key if the key is deleted from the world state? Thank you","username":"qsmen","ts":"2019-08-09T07:13:54.572Z"}
{"msg":"Hello @dave.enyeart, we are running a Fabric peer v1.4.2 with Couch DB 2.3.1, and we have started receiving the below error\n\n```\n2019-08-09 18:32:43.786 CEST [couchdb] handleRequest -> DEBU 065 HTTP Request: PUT /_users/_security HTTP/1.1 | Host: couchdb01clsbgb6c.cit.clsnet:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 84 | Accept: application/json | Authorization: Basic Y2xzbmV0OmNvdWNoc2VjcmV0Y2l0MjE= | Content-Type: application/json | Accept-Encoding: gzip |  |\n2019-08-09 18:32:43.787 CEST [couchdb] handleRequest -> WARN 066 Retrying couchdb request in 1s. Attempt:4  Error:Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer\n2019-08-09 18:32:44.787 CEST [couchdb] CreateSystemDatabasesIfNotExist -> ERRO 067 Error calling CouchDB CreateDatabaseIfNotExist() for system dbName: _users, error: Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer\n2019-08-09 18:32:44.787 CEST [couchdb] VerifyCouchConfig -> ERRO 068 Unable to connect to CouchDB, error: Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer. Check the admin username and password.\n2019-08-09 18:32:44.788 CEST [couchdb] VerifyCouchConfig -> DEBU 069 Exiting VerifyCouchConfig()\npanic: Error initializing ledger provider: unable to connect to CouchDB. Check the admin username and password: Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer\n\ngoroutine 1 [running]:\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize(0xc0004d9d10)\n        /go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:81 +0x783\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()\n        /go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:53 +0x2a\nsync.(*Once).Do(0x232c8a8, 0xc000263410)\n        /usr/local/go/src/sync/once.go:44 +0xb3\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize(0xc0004d9d10)\n        /go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x55\ngithub.com/hyperledger/fabric/peer/node.serve(0x232c7d0, 0x0, 0x0, 0x0, 0x0)\n        /go/src/github.com/hyperledger/fabric/peer/node/start.go:180 +0x5bd\ngithub.com/hyperledger/fabric/peer/node.glob..func3(0x2222400, 0x232c7d0, 0x0, 0x0, 0x0, 0x0)\n        /go/src/github.com/hyperledger/fabric/peer/node/start.go:125 +0x9c\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x2222400, 0x232c7d0, 0x0, 0x0, 0x2222400, 0x232c7d0)\n        /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:762 +0x473\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x2222b20, 0x8, 0x0, 0x2221820)\n        /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:852 +0x2fd\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x2222b20, 0xc000263f40, 0x1)\n        /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:800 +0x2b\nmain.main()\n        /go/src/github.com/hyperledger/fabric/peer/main.go:53 +0x2f7\n```","username":"rahulhegde","ts":"2019-08-09T16:37:05.757Z"}
{"msg":"Hello @dave.enyeart @jyellick , we are running a Fabric peer v1.4.2 with Couch DB 2.3.1, and we have started receiving the below error\n\n```\n2019-08-09 18:32:43.786 CEST [couchdb] handleRequest -> DEBU 065 HTTP Request: PUT /_users/_security HTTP/1.1 | Host: couchdb01clsbgb6c.cit.clsnet:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 84 | Accept: application/json | Authorization: Basic Y2xzbmV0OmNvdWNoc2VjcmV0Y2l0MjE= | Content-Type: application/json | Accept-Encoding: gzip |  |\n2019-08-09 18:32:43.787 CEST [couchdb] handleRequest -> WARN 066 Retrying couchdb request in 1s. Attempt:4  Error:Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer\n2019-08-09 18:32:44.787 CEST [couchdb] CreateSystemDatabasesIfNotExist -> ERRO 067 Error calling CouchDB CreateDatabaseIfNotExist() for system dbName: _users, error: Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer\n2019-08-09 18:32:44.787 CEST [couchdb] VerifyCouchConfig -> ERRO 068 Unable to connect to CouchDB, error: Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer. Check the admin username and password.\n2019-08-09 18:32:44.788 CEST [couchdb] VerifyCouchConfig -> DEBU 069 Exiting VerifyCouchConfig()\npanic: Error initializing ledger provider: unable to connect to CouchDB. Check the admin username and password: Put http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security: read tcp 172.16.210.210:59378->172.16.210.106:5984: read: connection reset by peer\n\ngoroutine 1 [running]:\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize(0xc0004d9d10)\n        /go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:81 +0x783\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()\n        /go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:53 +0x2a\nsync.(*Once).Do(0x232c8a8, 0xc000263410)\n        /usr/local/go/src/sync/once.go:44 +0xb3\ngithub.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize(0xc0004d9d10)\n        /go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x55\ngithub.com/hyperledger/fabric/peer/node.serve(0x232c7d0, 0x0, 0x0, 0x0, 0x0)\n        /go/src/github.com/hyperledger/fabric/peer/node/start.go:180 +0x5bd\ngithub.com/hyperledger/fabric/peer/node.glob..func3(0x2222400, 0x232c7d0, 0x0, 0x0, 0x0, 0x0)\n        /go/src/github.com/hyperledger/fabric/peer/node/start.go:125 +0x9c\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x2222400, 0x232c7d0, 0x0, 0x0, 0x2222400, 0x232c7d0)\n        /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:762 +0x473\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x2222b20, 0x8, 0x0, 0x2221820)\n        /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:852 +0x2fd\ngithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x2222b20, 0xc000263f40, 0x1)\n        /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:800 +0x2b\nmain.main()\n        /go/src/github.com/hyperledger/fabric/peer/main.go:53 +0x2f7\n```","username":"rahulhegde","ts":"2019-08-09T16:37:05.757Z"}
{"msg":"`curl -X GET -u clsnet:couchsecretcit21 http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security` works. Y2xzbmV0OmNvdWNoc2VjcmV0Y2l0MjE= does match to the credential.","username":"rahulhegde","ts":"2019-08-09T17:01:32.895Z"}
{"msg":"But a PUT gives me a similar error \n```\nbash-4.4$  curl -X PUT -u clsnet:couchsecretcit21 http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security -d '{\"admins\":{\"names\":[\"clsnet\"],\"roles\":[]},\"members\":{\"names\":[\"clsnet\"],\"roles\":[]}}'\ncurl: (56) Recv failure: Connection reset by peer\n```","username":"rahulhegde","ts":"2019-08-09T18:43:20.962Z"}
{"msg":"I can do PUT on other channel specific database.","username":"rahulhegde","ts":"2019-08-09T18:43:48.697Z"}
{"msg":"yes, getHistoryForKey will provide the full history of the key, including indication of which transaction it was deleted in","username":"dave.enyeart","ts":"2019-08-09T18:47:36.054Z"}
{"msg":"That PUT works for me against a CouchDB 2.3.1 environment. Got anything in your couchdb log?","username":"dave.enyeart","ts":"2019-08-09T19:18:46.212Z"}
{"msg":"I changed the couch database log to debug, but it does not print anything out there. ","username":"rahulhegde","ts":"2019-08-09T19:26:36.595Z"}
{"msg":"Security object is already present, it got created when it was working \n```\nbash-4.4$ curl -X GET -u clsnet:couchsecretcit21 http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security\n{\"admins\":{\"names\":[\"clsnet\"],\"roles\":[]},\"members\":{\"names\":[\"clsnet\"],\"roles\":[]}}\n```\nNow curl fails \n```\nbash-4.4$ curl -X PUT -u clsnet:couchsecretcit21 http://couchdb01clsbgb6c.cit.clsnet:5984/_users/_security -d '{\"admins\":{\"names\":[\"clsnet\"],\"roles\":[]},\"members\":{\"names\":[\"clsnet\", \"clsnet1\"],\"roles\":[]}}'\ncurl: (56) Recv failure: Connection reset by peer\n```","username":"rahulhegde","ts":"2019-08-09T19:31:52.210Z"}
{"msg":"I see. Thank you.","username":"qsmen","ts":"2019-08-12T00:47:22.674Z"}
{"msg":"Has joined the channel.","username":"SatheeshNehru","ts":"2019-08-12T05:19:20.367Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rodolfoleal","ts":"2019-08-15T16:40:41.973Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sarapaul","ts":"2019-08-25T22:11:14.789Z","type":"uj"}
{"msg":"Has joined the channel.","username":"smita_narvekar","ts":"2019-08-29T06:19:20.508Z","type":"uj"}
{"msg":"Hello,\n\nI am seeing the below error in orderer logs\nany idea why I might be getting this error?\n\n2019-08-28 05:55:14.477 CEST [orderer.consensus.kafka] enqueue -> ERRO 73b [channel: cls2obo-cls5obo] cannot enqueue envelope because = read tcp 172.16.212.20:45696->172.16.212.13:9092: i/o timeout\n\n2019-08-28 05:55:14.477 CEST [orderer.common.broadcast] ProcessMessage -> WARN 73c [channel: cls2obo-cls5obo] Rejecting broadcast of normal message from 10.2.33.76:42658 with SERVICE_UNAVAILABLE: rejected by Order: cannot enqueue","username":"smita_narvekar","ts":"2019-08-29T06:19:54.077Z"}
{"msg":"We forked it...","username":"toddinpal","ts":"2019-08-29T16:50:18.928Z"}
{"msg":"Not sure if this should be here or in peer-endorser but here goes.\nJust upgraded to 1.4 and there appears to be a change in behavior. \nIt makes sense but I'm not sure if it is new functionality or a bug we introduced somewhere because I don't see how it ever worked.\n\nConsider a network with two channels - C1 and C2 and three Orgs A,B,C \nC1 is comprised of A and B and holds a parent asset with an identifier.\nC2 is comprised of B and C and holds an asset that needs to check if the parent asset is present.\nEndorsing policy is ","username":"aatkddny","ts":"2019-08-30T12:48:53.670Z"}
{"msg":"Not sure if this should be here or in peer-endorser but here goes.\nJust upgraded to 1.4 and there appears to be a change in behavior. \nIt makes sense but I'm not sure if it is new functionality or a bug we introduced somewhere because I don't see how it ever worked.\n\nConsider a network with two channels - C1 and C2 and three Orgs A,B,C \nC1 is comprised of A and B and holds a parent asset with an identifier.\nC2 is comprised of B and C and holds an asset that needs to check if the parent asset is present.\n\nC2 chaincode does a cross channel read to C1 to check for the presence of parent asset.\nIt was working for both orgs - B and C - and I have proof in assets already on C2. ","username":"aatkddny","ts":"2019-08-30T12:48:53.670Z"}
{"msg":"Not sure if this should be here or in peer-endorser but here goes.\nJust upgraded to 1.4 and there appears to be a change in behavior. \nIt makes sense but I'm not sure if it is new functionality or a bug we introduced somewhere because I don't see how it ever worked.\n\nConsider a network with two channels - C1 and C2 and three Orgs A,B,C \nC1 is comprised of A and B and holds a parent asset with an identifier.\nC2 is comprised of B and C and holds an asset that needs to check if the parent asset is present.\nC2 endorsement policy code required both B and C to endorse.\n\nC2 chaincode does a cross channel read to C1 to check for the presence of parent asset.\nIt was working for both orgs - B and C - and I have proof it worked with the presence of assets already on C2. \nNow it's throwing an (expected now I look at it) failure in the C peers (remember C has no visibility to C1).\n\nDid this get tightened up between 1.2 and 1.4 or is there something else going on here.","username":"aatkddny","ts":"2019-08-30T12:48:53.670Z"}
{"msg":"Not sure if this should be here or in peer-endorser but here goes.\nJust upgraded to 1.4 and there appears to be a change in behavior. \nIt makes sense but I'm not sure if it is new functionality or a bug we introduced somewhere because I don't see how it ever worked.\n\nConsider a network with two channels - C1 and C2 and three Orgs A,B,C \nC1 is comprised of A and B and holds a parent asset with an identifier.\nC2 is comprised of B and C and holds an asset that needs to check if the parent asset is present.\nC2 endorsement policy code required both B and C to endorse.\n\nC wants to add an asset to C2. It needs to check if the parent asset is present on C1. \nC2 chaincode does a cross channel read to C1 to check for the presence of parent asset.\nIt was working for both orgs - B and C - and I have proof it worked with the presence of assets already on C2. \nNow it's throwing an (expected now I look at it) failure in the C peers (remember C has no visibility to C1).\n\nDid this get tightened up between 1.2 and 1.4 or is there something else going on here.","username":"aatkddny","ts":"2019-08-30T12:48:53.670Z"}
{"msg":"Not sure if this should be here or in peer-endorser but here goes.\nJust upgraded to 1.4 and there appears to be a change in behavior. \nIt makes sense but I'm not sure if it is new functionality or a bug fix because I don't see how it ever worked.\n\nConsider a network with two channels - C1 and C2 and three Orgs A,B,C \nC1 is comprised of A and B and holds a parent asset with an identifier.\nC2 is comprised of B and C and holds an asset that needs to check if the parent asset is present.\nC2 endorsement policy code required both B and C to endorse.\n\nC wants to add an asset to C2. It needs to check if the parent asset is present on C1. \nC2 chaincode does a cross channel read to C1 to check for the presence of parent asset.\nIt was working for both orgs - B and C - and I have proof it worked with the presence of assets already on C2. \nNow it's throwing an (expected now I look at it) failure in the C peers (remember C has no visibility to C1).\n\nDid this get tightened up between 1.2 and 1.4 or is there something else going on here.","username":"aatkddny","ts":"2019-08-30T12:48:53.670Z"}
{"msg":"Any tutorials on hyperledger fabric on kubernetes? TIA.","username":"mbanerjee","ts":"2019-09-04T21:37:55.719Z"}
{"msg":"try #fabric-kubernetes ","username":"mastersingh24","ts":"2019-09-06T12:06:10.812Z"}
{"msg":"Hi,\n\nI have a HLF Network with 4 Orgs and each org has 2 peers in VM based environment.\nNow, I have a business requirement that i need to add one more peer (3rd peer) for Org4. But it should be in a docker container in a separate windows machine.\n\nI have done the setup with HLF in the docker container using docker-compose.yaml file.\nBut, when i try to install the chaincode in the docker container using Peer CLI, i am getting the below exception. By the way, i am using bccsp package in my chaincode.\n\nError: error getting chaincode code rcodso: error getting chaincode package bytes: Error obtaining dependencies for github.com/hyperledger/fabric/bccsp: command <go list -f {{ join .Deps \"\\n\"}} github.com/hyperledger/fabric/bccsp>: failed with error: \"exit status 1\"\ncan't load package: package github.com/hyperledger/fabric/bccsp: cannot find package \"github.com/hyperledger/fabric/bccsp\" in any of:\n        /opt/go/src/github.com/hyperledger/fabric/bccsp (from $GOROOT)\n        /opt/gopath/src/github.com/hyperledger/fabric/bccsp (from $GOPATH)\n\t\t\n\nIt clearly looking for bccsp package, but it was not there in the /opt/gopath/src/github.com/hyperledger/fabric directory.\n\nPlease help me in this regard to make it works.","username":"sgaddam","ts":"2019-09-09T09:59:11.353Z"}
{"msg":"`/fabric/bccsp` does exist, see https://github.com/hyperledger/fabric/tree/release-1.4/bccsp","username":"dave.enyeart","ts":"2019-09-09T16:40:40.585Z"}
{"msg":"`/fabric/bccsp` does exist, see https://github.com/hyperledger/fabric/tree/release-1.4/bccsp","username":"dave.enyeart","ts":"2019-09-09T16:41:05.216Z"}
{"msg":"why does your chaincode need internal fabric bccsp?","username":"dave.enyeart","ts":"2019-09-09T16:41:22.710Z"}
{"msg":"Hi Dave, We are using bccsp in our chaincodes for encrypting few of the confidential fields.","username":"sgaddam","ts":"2019-09-09T18:25:12.366Z"}
{"msg":"Hello @dave.enyeart, we are using Fabric v1.4.2 and we see delay in receiving the Peer endorsement response. Further looking at the Peer logs, the peer shows a freeze during execution of `func (pe *PluginEndorser) EndorseWithPlugin(ctx Context) (*pb.ProposalResponse, error) {`.  This is not happening on other peer running on a different VM. Can you please hint use what could be the reason","username":"rahulhegde","ts":"2019-09-10T19:53:16.713Z"}
{"msg":"Hello @dave.enyeart, we are using Fabric v1.4.2 and we see delay in receiving the Peer endorsement response. Further looking at the Peer logs, the peer shows a freeze during execution of `func (pe *PluginEndorser) EndorseWithPlugin(ctx Context) (*pb.ProposalResponse, error) {`.  This is not happening on other peer running on a different VM. Can you please hint, what could be the reason.","username":"rahulhegde","ts":"2019-09-10T19:53:16.713Z"}
{"msg":"@jyellick if you check.","username":"rahulhegde","ts":"2019-09-10T20:16:56.808Z"}
{"msg":"@jyellick if you can check.","username":"rahulhegde","ts":"2019-09-10T20:16:56.808Z"}
{"msg":"@rahulhegde EndorseWithPlugin is the step which actually computes the signature for the endorsement.  My guess would be some different in entropy, crypto hardware, etc. which is causes the signature to stall on the one VM.","username":"jyellick","ts":"2019-09-10T20:17:54.162Z"}
{"msg":"@rahulhegde EndorseWithPlugin is the step which actually computes the signature for the endorsement.  My guess would be some difference in entropy, crypto hardware, etc. which is causes the signature to stall on the one VM.","username":"jyellick","ts":"2019-09-10T20:17:54.162Z"}
{"msg":"@rahulhegde EndorseWithPlugin is the step which actually computes the signature for the endorsement.  My guess would be some difference in entropy, crypto hardware, etc. which is causing the signature to stall on the one VM.","username":"jyellick","ts":"2019-09-10T20:17:54.162Z"}
{"msg":"@rahulhegde if you see a freeze you can kill the peer with `kill -SIGABRT` and then get the stack trace","username":"yacovm","ts":"2019-09-10T20:18:42.848Z"}
{"msg":"are you using HSM?","username":"yacovm","ts":"2019-09-10T20:19:27.138Z"}
{"msg":"Yes - right, we are using HSM. Both the peers are using HSM however from a separate Partition/Label.","username":"rahulhegde","ts":"2019-09-10T20:24:46.668Z"}
{"msg":"then do the trick i mentioned above.... i am betting it's stuck on the HSM somewhere","username":"yacovm","ts":"2019-09-10T20:33:22.332Z"}
{"msg":"Let me do this - would we specific call trace.","username":"rahulhegde","ts":"2019-09-10T20:37:22.763Z"}
{"msg":"Let me do this - would we see a specific call stack?","username":"rahulhegde","ts":"2019-09-10T20:37:22.763Z"}
{"msg":"i am not psychic... give me the stack trace and i can look","username":"yacovm","ts":"2019-09-10T20:46:41.743Z"}
{"msg":"Okay - was looking if there is some PKCS11 API in the call stack.","username":"rahulhegde","ts":"2019-09-10T20:51:41.824Z"}
{"msg":"@yacovm - i tried killing the peer process inside the peer container and was not able to see any stack trace.","username":"rahulhegde","ts":"2019-09-10T21:21:41.303Z"}
{"msg":"@yacovm - i tried killing the peer process inside the peer container and was not able to see any stack trace. Can you please  check - what is incorrectly done here.","username":"rahulhegde","ts":"2019-09-10T21:21:41.303Z"}
{"msg":"```\n[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker ps | grep peer02clsbgb65.cit.clsnet\nae63c46bac53        ibmblockchain/fabric-peer:1.4.2        \"/docker-entrypoint.…\"   46 hours ago        Up 21 minutes       7052/tcp, 0.0.0.0:11051->7051/tcp, 0.0.0.0:11053->7053/tcp                          peer02clsbgb65.cit.clsnet\n[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker exec -it ae63c46bac53 sh\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ ps -ef\nPID   USER     TIME  COMMAND\n    1 10130     0:18 peer node start\n   23 10130     0:00 sh\n   28 10130     0:00 ps -ef\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ kill -SIGABRT 1\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ [rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$\n\n```","username":"rahulhegde","ts":"2019-09-10T21:21:54.706Z"}
{"msg":"```\n[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker ps | grep peer02clsbgb65.cit.clsnet\nae63c46bac53        ibmblockchain/fabric-peer:1.4.2        \"/docker-entrypoint.…\"   46 hours ago        Up 21 minutes       7052/tcp, 0.0.0.0:11051->7051/tcp, 0.0.0.0:11053->7053/tcp                          peer02clsbgb65.cit.clsnet\n[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker exec -it ae63c46bac53 sh\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ ps -ef\nPID   USER     TIME  COMMAND\n    1 10130     0:18 peer node start\n   23 10130     0:00 sh\n   28 10130     0:00 ps -ef\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ kill -SIGABRT 1\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ [rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$\n```","username":"rahulhegde","ts":"2019-09-10T21:21:54.706Z"}
{"msg":"```\n[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker ps | grep peer02clsbgb65.cit.clsnet\nae63c46bac53        ibmblockchain/fabric-peer:1.4.2        \"/docker-entrypoint.…\"   46 hours ago        Up 21 minutes       7052/tcp, 0.0.0.0:11051->7051/tcp, 0.0.0.0:11053->7053/tcp                          peer02clsbgb65.cit.clsnet\n[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker exec -it ae63c46bac53 sh\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ ps -ef\nPID   USER     TIME  COMMAND\n    1 10130     0:18 peer node start\n   23 10130     0:00 sh\n   28 10130     0:00 ps -ef\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ kill -SIGABRT 1\n/opt/gopath/src/github.com/hyperledger/fabric/peer $ [rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$\n\n[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker ps -a | grep peer02clsbgb65.cit.clsnet\nae63c46bac53        ibmblockchain/fabric-peer:1.4.2        \"/docker-entrypoint.…\"   46 hours ago        Exited (2) About a minute ago                                                                                       peer02clsbgb65.cit.clsnet\n```","username":"rahulhegde","ts":"2019-09-10T21:21:54.706Z"}
{"msg":"@rahulhegde now do `docker logs ae63c46bac53`","username":"yacovm","ts":"2019-09-10T22:04:33.615Z"}
{"msg":"hello @yacovm @jyellick - I want to pass the logs for review. I do see multiple Gossip related operation during the Endorsement Proposal signing operation. Is this also using the HSM and causing the slowness overall. are we incorrectly setting the gossip parameters for our blockchain?","username":"rahulhegde","ts":"2019-09-12T13:59:12.806Z"}
{"msg":"","username":"rahulhegde","ts":"2019-09-12T13:59:52.349Z","attachments":[{"type":"file","title":"ibmblockchain-fabric-peer-142.log","title_link":"/file-upload/QZJpvW3QDMCCQJHGx/ibmblockchain-fabric-peer-142.log","url":"/file-upload/QZJpvW3QDMCCQJHGx/ibmblockchain-fabric-peer-142.log","remote":false,"fileId":"QZJpvW3QDMCCQJHGx","fileName":"ibmblockchain-fabric-peer-142.log"}]}
{"msg":"gossip periodically signs stuff","username":"yacovm","ts":"2019-09-12T14:00:42.335Z"}
{"msg":"how many channels do you have?","username":"yacovm","ts":"2019-09-12T14:01:12.364Z"}
{"msg":"please don't say \" a lot\" :joy: ","username":"yacovm","ts":"2019-09-12T14:01:20.105Z"}
{"msg":"we dont define Anchor Peer and hence we dont use Gossip, Let me get the channel count data in few mins.","username":"rahulhegde","ts":"2019-09-12T14:02:49.346Z"}
{"msg":"we dont define Anchor Peer and hence we should not see Gossip interactions, Let me get the channel count data in few mins.","username":"rahulhegde","ts":"2019-09-12T14:02:49.346Z"}
{"msg":"","username":"rahulhegde","ts":"2019-09-12T14:05:36.741Z","attachments":[{"type":"file","title":"ibmblockchain-fabric-peer-142-windowscompatible.log","title_link":"/file-upload/kiPQTiPYS9EkSHW63/ibmblockchain-fabric-peer-142-windowscompatible.log","url":"/file-upload/kiPQTiPYS9EkSHW63/ibmblockchain-fabric-peer-142-windowscompatible.log","remote":false,"fileId":"kiPQTiPYS9EkSHW63","fileName":"ibmblockchain-fabric-peer-142-windowscompatible.log"}]}
{"msg":"In case if u would like to view in windows notepad.","username":"rahulhegde","ts":"2019-09-12T14:06:04.605Z"}
{"msg":"67 channels on that Peer.","username":"rahulhegde","ts":"2019-09-12T14:08:10.289Z"}
{"msg":"Currently we are running with higher channel count in a pre-production enviornment ~200. This is currently running with Fabric v1.0.6","username":"rahulhegde","ts":"2019-09-12T14:09:46.844Z"}
{"msg":"67 Channel Environment is SIT - System Integration Test environment where we installed Fabric v1.4.2","username":"rahulhegde","ts":"2019-09-12T14:10:19.588Z"}
{"msg":"Not seen slowness on this environment.","username":"rahulhegde","ts":"2019-09-12T14:10:45.374Z"}
{"msg":"Does Gossip use HSM for signing operations?","username":"rahulhegde","ts":"2019-09-12T14:11:07.054Z"}
{"msg":"Does Gossip use HSM for signing operation?","username":"rahulhegde","ts":"2019-09-12T14:11:07.054Z"}
{"msg":"There are 2 peers running on the same VM. One Peer running with 67 channel is seeing this slowness however the other peer which is running with 12 channel does is not showing this slowness.","username":"rahulhegde","ts":"2019-09-12T14:15:24.610Z"}
{"msg":"There are 2 peers running on the same VM. One Peer running with 67 channel is seeing this slowness however the other peer which is running with 12 channel is not showing this slowness.","username":"rahulhegde","ts":"2019-09-12T14:15:24.610Z"}
{"msg":"yeah it does","username":"yacovm","ts":"2019-09-12T14:30:11.322Z"}
{"msg":"so when you say slowness.... how slow is it?","username":"yacovm","ts":"2019-09-12T14:30:45.597Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L135","username":"yacovm","ts":"2019-09-12T14:31:38.030Z"}
{"msg":"look here at `publishStateInfoInterval: 4s` ","username":"yacovm","ts":"2019-09-12T14:31:53.679Z"}
{"msg":"you can increase it to a larger value, like `10s`","username":"yacovm","ts":"2019-09-12T14:32:03.346Z"}
{"msg":"and see if it is solved","username":"yacovm","ts":"2019-09-12T14:34:52.928Z"}
{"msg":"Endorsement Proposal signing operations is between 1sec to 20secs","username":"rahulhegde","ts":"2019-09-12T14:35:04.583Z"}
{"msg":"oh i see","username":"yacovm","ts":"2019-09-12T14:35:11.191Z"}
{"msg":"for the same Peer.","username":"rahulhegde","ts":"2019-09-12T14:35:11.491Z"}
{"msg":"yeah that is indeed super slow","username":"yacovm","ts":"2019-09-12T14:35:18.221Z"}
{"msg":"Is there a way to disable Gossip?","username":"rahulhegde","ts":"2019-09-12T14:36:59.681Z"}
{"msg":"Even gossip uses the Endorsement signing key which is present in the HSM??","username":"rahulhegde","ts":"2019-09-12T14:37:20.486Z"}
{"msg":"Even gossip uses the Endorsement signing key which is present in the HSM?","username":"rahulhegde","ts":"2019-09-12T14:37:20.486Z"}
{"msg":"we will try what u have asked.","username":"rahulhegde","ts":"2019-09-12T14:37:42.902Z"}
{"msg":"yes","username":"yacovm","ts":"2019-09-12T14:44:03.931Z"}
{"msg":"you can just not put any bootstrap peers","username":"yacovm","ts":"2019-09-12T14:44:15.633Z"}
{"msg":"and anchor peers","username":"yacovm","ts":"2019-09-12T14:44:20.537Z"}
{"msg":"oh, hmmm ","username":"yacovm","ts":"2019-09-12T14:45:18.179Z"}
{"msg":"actually it won't disable the signing ","username":"yacovm","ts":"2019-09-12T14:45:25.566Z"}
{"msg":"i think we can maybe make a patch that disables it in the config","username":"yacovm","ts":"2019-09-12T14:50:30.513Z"}
{"msg":"Is there way to delay the Gossip Operation say 4s to few mins.","username":"rahulhegde","ts":"2019-09-12T14:51:00.928Z"}
{"msg":"but it will take time util it goes into any release any time soon","username":"yacovm","ts":"2019-09-12T14:51:02.106Z"}
{"msg":"so unfortunately every time there is a commit of a block, you sign a message ","username":"yacovm","ts":"2019-09-12T14:51:21.565Z"}
{"msg":"but i don't understand","username":"yacovm","ts":"2019-09-12T14:51:25.091Z"}
{"msg":"doesn't verification also slow you down","username":"yacovm","ts":"2019-09-12T14:51:29.975Z"}
{"msg":"since it also goes through HSM","username":"yacovm","ts":"2019-09-12T14:51:33.783Z"}
{"msg":"is there a specific log which i can check for commit time.","username":"rahulhegde","ts":"2019-09-12T14:51:54.245Z"}
{"msg":"specifically like Entering endorsement and Exiting.","username":"rahulhegde","ts":"2019-09-12T14:52:08.488Z"}
{"msg":"Block cut by the orderer is ~2secs. so i dont see any delay there. it also uses HSM.","username":"rahulhegde","ts":"2019-09-12T14:52:44.765Z"}
{"msg":"Can you please suggest from below parameter - if this can be also changed.\n```\n        election:\n            # Longest time peer waits for stable membership during leader election startup (unit: second)\n            startupGracePeriod: 15s\n            # Interval gossip membership samples to check its stability (unit: second)\n            membershipSampleInterval: 1s\n            # Time passes since last declaration message before peer decides to perform leader election (unit: second)\n            leaderAliveThreshold: 10s\n            # Time between peer sends propose message and declares itself as a leader (sends declaration message) (unit: second)\n            leaderElectionDuration: 5s\n```","username":"rahulhegde","ts":"2019-09-12T14:58:33.404Z"}
{"msg":"The environment in the test is isolated environment (not lab/dev) environment, so if we could suggest different combination, I can try this in.","username":"rahulhegde","ts":"2019-09-12T14:59:16.245Z"}
{"msg":"I tried changing CORE_GOSSIP_PUBLISHSTATEINFOINTERVAL=30s in our non-HSM environment or DEV environment, but i do see the below logs continuously. I hope this is not the only parameter to be changed. @yacovm \n```\n2019-09-12 15:46:48.780 UTC [msp.identity] Sign -> DEBU 128d Sign: digest: 8AE2E4A1221B533CD3F56CB65319054B1DA2513B5D0D729E4D16CD143FFA97C2\n2019-09-12 15:46:48.780 UTC [gossip.election] waitForInterrupt -> DEBU 128e 40cb42faca1e036953bc20efe4908c5941a8efe3070a6c2de1c5e4462dab701b : Entering\n2019-09-12 15:46:48.829 UTC [gossip.election] waitForInterrupt -> DEBU 128f 40cb42faca1e036953bc20efe4908c5941a8efe3070a6c2de1c5e4462dab701b : Exiting\n2019-09-12 15:46:48.830 UTC [gossip.election] IsLeader -> DEBU 1290 40cb42faca1e036953bc20efe4908c5941a8efe3070a6c2de1c5e4462dab701b : Returning true\n2019-09-12 15:46:48.830 UTC [msp] GetDefaultSigningIdentity -> DEBU 1291 Obtaining default signing identity\n2019-09-12 15:46:48.830 UTC [msp.identity] Sign -> DEBU 1292 Sign: plaintext: 12067075626C69631804A201320A2040...120C08A7D8B2D6F2E3EEE115104B1801\n2019-09-12 15:46:48.830 UTC [msp.identity] Sign -> DEBU 1293 Sign: digest: B954291CBCAA463F87653DCEB2F646876D235EB45C9151EAA88E01AC1AC7A8C2\n2019-09-12 15:46:48.830 UTC [gossip.election] waitForInterrupt -> DEBU 1294 40cb42faca1e036953bc20efe4908c5941a8efe3070a6c2de1c5e4462dab701b : Entering\n2019-09-12 15:46:49.649 UTC [msp] GetDefaultSigningIdentity -> DEBU 1295 Obtaining default signing identity\n2019-09-12 15:46:49.649 UTC [msp.identity] Sign -> DEBU 1296 Sign: plaintext: 18012A330A221A2040CB42FACA1E0369...1B120D08A096D9F9F1E3EEE11510A901\n2019-09-12 15:46:49.649 UTC [msp.identity] Sign -> DEBU 1297 Sign: digest: 88ABDDC5994D6A7CC3AA35FAFEBC2B30537D9603CBE6AD7B57B95C9BECCAB56D\n2019-09-12 15:46:49.649 UTC [msp] GetDefaultSigningIdentity -> DEBU 1298 Obtaining default signing identity\n2019-09-12 15:46:49.649 UTC [msp.identity] Sign -> DEBU 1299 Sign: plaintext: 0A1E706565723032636C736267623635...2E6369742E636C736E65743A37303531\n2019-09-12 15:46:49.649 UTC [msp.identity] Sign -> DEBU 129a Sign: digest: 966AADFBAC1FFB2C385FE6FE2B9BC930F1D78AA5287CAF0B97354712E90D3E88\n```","username":"rahulhegde","ts":"2019-09-12T15:47:35.185Z"}
{"msg":"Let me do the correction and try it again, it should be `CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL`","username":"rahulhegde","ts":"2019-09-12T15:55:52.385Z"}
{"msg":"No change - the logs are getting printed frequently.  Do i need to change any other param to reduce the Gossip Interval?","username":"rahulhegde","ts":"2019-09-12T15:58:28.409Z"}
{"msg":"@jyellick - if u can help.","username":"rahulhegde","ts":"2019-09-12T15:59:12.172Z"}
{"msg":"@jyellick - if u can help also.","username":"rahulhegde","ts":"2019-09-12T15:59:12.172Z"}
{"msg":"@yacovm Do you know how to tune this?","username":"jyellick","ts":"2019-09-12T16:01:42.933Z"}
{"msg":"@jyellick so the signing occurs whenever a block is committed","username":"yacovm","ts":"2019-09-12T17:18:08.123Z"}
{"msg":"not when you send the message","username":"yacovm","ts":"2019-09-12T17:18:13.692Z"}
{"msg":"I was confused, in the past we were sending the message but then i optimized it ","username":"yacovm","ts":"2019-09-12T17:18:26.030Z"}
{"msg":"so changing the send interval won't do any good","username":"yacovm","ts":"2019-09-12T17:18:36.374Z"}
{"msg":"@jyellick if you want... i can do an ad hoc fix","username":"yacovm","ts":"2019-09-12T17:21:37.874Z"}
{"msg":"Out of curiosity, why is it that the peer signs, I would have thought the orderer signatures would have been adequate?","username":"jyellick","ts":"2019-09-12T17:21:49.247Z"}
{"msg":"well, there is more data in that message than just the block height","username":"yacovm","ts":"2019-09-12T17:22:14.185Z"}
{"msg":"I see","username":"jyellick","ts":"2019-09-12T17:22:24.777Z"}
{"msg":"it's a generic channel metadata","username":"yacovm","ts":"2019-09-12T17:22:40.423Z"}
{"msg":"Doing following changes snoozes the gossip for the first time however see the same messages coming back at frequency of 5secs\n```\n\t  - CORE_PEER_GOSSIP_PULLINTERVAL=5m\n      - CORE_PEER_GOSSIP_ALIVETIMEINTERVAL=5m\n      - CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_MEMBERSHIPSAMPLEINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_LEADERELECTIONDURATION=5m\n      - CORE_PEER_GOSSIP_REQUESTSTATEINFOINTERVAL=5m\n```","username":"rahulhegde","ts":"2019-09-12T17:45:55.557Z"}
{"msg":"Just changing `CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL` did nt help","username":"rahulhegde","ts":"2019-09-12T17:46:14.464Z"}
{"msg":"@rahulhegde i have another idea","username":"yacovm","ts":"2019-09-12T17:52:40.605Z"}
{"msg":"```\n2019-09-12 15:46:48.780 UTC [gossip.election] waitForInterrupt -> DEBU 128e 40cb42faca1e036953bc20efe4908c5941a8efe3070a6c2de1c5e4462dab701b : Entering\n2019-09-12 15:46:48.829 UTC [gossip.election] waitForInterrupt -> DEBU 128f 40cb42faca1e036953bc20efe4908c5941a8efe3070a6c2de1c5e4462dab701b : Exiting```","username":"jyellick","ts":"2019-09-12T17:52:54.952Z"}
{"msg":"https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L103","username":"yacovm","ts":"2019-09-12T17:53:06.246Z"}
{"msg":"make this `false`","username":"yacovm","ts":"2019-09-12T17:53:08.743Z"}
{"msg":"`useLeaderElection: false`","username":"yacovm","ts":"2019-09-12T17:53:20.667Z"}
{"msg":"First test  has come good. Running another test with \n```\n\t  - CORE_PEER_GOSSIP_PULLINTERVAL=5m\n      - CORE_PEER_GOSSIP_ALIVETIMEINTERVAL=5m\n      - CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_MEMBERSHIPSAMPLEINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_LEADERELECTIONDURATION=5m\n      - CORE_PEER_GOSSIP_REQUESTSTATEINFOINTERVAL=5m\n```","username":"rahulhegde","ts":"2019-09-12T17:54:55.492Z"}
{"msg":"First test  has shown improved result. Running few more test\n```\n\t  - CORE_PEER_GOSSIP_PULLINTERVAL=5m\n      - CORE_PEER_GOSSIP_ALIVETIMEINTERVAL=5m\n      - CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_MEMBERSHIPSAMPLEINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_LEADERELECTIONDURATION=5m\n      - CORE_PEER_GOSSIP_REQUESTSTATEINFOINTERVAL=5m\n```","username":"rahulhegde","ts":"2019-09-12T17:54:55.492Z"}
{"msg":"trust me.... disable the leader election","username":"yacovm","ts":"2019-09-12T17:56:25.425Z"}
{"msg":"If you disable leader election, you must set one or more (or all) peers to be leaders, no?","username":"jyellick","ts":"2019-09-12T17:57:47.850Z"}
{"msg":"yes of course","username":"yacovm","ts":"2019-09-12T17:57:55.124Z"}
{"msg":"Note - CLS does not use anchor peer.","username":"rahulhegde","ts":"2019-09-12T17:58:19.011Z"}
{"msg":"`orgLeader: false` needs to be `true` if you want to get blocks","username":"yacovm","ts":"2019-09-12T17:58:24.572Z"}
{"msg":"So we have 2 peers in only 1 organization and rest organizations have 1 peer per organization. \n\nDo you recommend to set?\n```\n      - CORE_PEER_GOSSIP_USELEADERELECTION=false\n      - CORE_PEER_GOSSIP_ORGLEADER=true\n```","username":"rahulhegde","ts":"2019-09-12T18:00:06.681Z"}
{"msg":"So we have 2 peers in only 1 organization and rest organizations have 1 peer per organization. \n\nDo you recommend to set for all peers and this would disable gossip forever?\n```\n      - CORE_PEER_GOSSIP_USELEADERELECTION=false\n      - CORE_PEER_GOSSIP_ORGLEADER=true\n```","username":"rahulhegde","ts":"2019-09-12T18:00:06.681Z"}
{"msg":"It will not disable gossip entirely, but it will eliminate the leader election messages, which may be the source of your problem.","username":"jyellick","ts":"2019-09-12T18:01:38.723Z"}
{"msg":"@rahulhegde yes","username":"yacovm","ts":"2019-09-12T18:02:53.307Z"}
{"msg":"try it ","username":"yacovm","ts":"2019-09-12T18:02:56.083Z"}
{"msg":"No Luck on \n```\n      - CORE_PEER_GOSSIP_USELEADERELECTION=false\n      - CORE_PEER_GOSSIP_ORGLEADER=true\n```\nI tried the same on DEV machine. I see these logs coming repeatedly and has signing operations \n```\n2019-09-12 18:05:30.406 UTC [chaincode] handleMessage -> DEBU 80e [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.407 UTC [chaincode] handleMessage -> DEBU 80f [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.408 UTC [chaincode] handleMessage -> DEBU 810 [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.411 UTC [msp] GetDefaultSigningIdentity -> DEBU 811 Obtaining default signing identity\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 812 Sign: plaintext: 18012A320A221A2040CB42FACA1E0369...701B120C08B4E7C6D591DFF0E115101C\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 813 Sign: digest: 00E3A28C587EB6E256CD2EA318D182F4798759EB2E1795856E50E584DAFB0CED\n2019-09-12 18:05:30.411 UTC [msp] GetDefaultSigningIdentity -> DEBU 814 Obtaining default signing identity\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 815 Sign: plaintext: 0A1E706565723032636C736267623635...2E6369742E636C736E65743A37303531\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 816 Sign: digest: 966AADFBAC1FFB2C385FE6FE2B9BC930F1D78AA5287CAF0B97354712E90D3E88\n2019-09-12 18:05:30.412 UTC [gossip.discovery] periodicalSendAlive -> DEBU 817 Sleeping 5s\n2019-09-12 18:05:30.415 UTC [msp] GetDefaultSigningIdentity -> DEBU 818 Obtaining default signing identity\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 819 Sign: plaintext: 18012A320A221A2040CB42FACA1E0369...701B120C08B4E7C6D591DFF0E115101D\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81a Sign: digest: 1305DFD8ADB7404E5712B2C05B4ADAB287F5807026AE3A21BFE64980E6DF556B\n2019-09-12 18:05:30.415 UTC [msp] GetDefaultSigningIdentity -> DEBU 81b Obtaining default signing identity\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81c Sign: plaintext: 0A1E706565723032636C736267623635...2E6369742E636C736E65743A37303531\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81d Sign: digest: 966AADFBAC1FFB2C385FE6FE2B9BC930F1D78AA5287CAF0B97354712E90D3E88\n```","username":"rahulhegde","ts":"2019-09-12T18:07:06.913Z"}
{"msg":"No Luck\n```\n      - CORE_PEER_GOSSIP_USELEADERELECTION=false\n      - CORE_PEER_GOSSIP_ORGLEADER=true\n```\nI tried the same on DEV machine. I see these logs coming repeatedly and has signing operations \n```\n2019-09-12 18:05:30.406 UTC [chaincode] handleMessage -> DEBU 80e [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.407 UTC [chaincode] handleMessage -> DEBU 80f [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.408 UTC [chaincode] handleMessage -> DEBU 810 [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.411 UTC [msp] GetDefaultSigningIdentity -> DEBU 811 Obtaining default signing identity\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 812 Sign: plaintext: 18012A320A221A2040CB42FACA1E0369...701B120C08B4E7C6D591DFF0E115101C\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 813 Sign: digest: 00E3A28C587EB6E256CD2EA318D182F4798759EB2E1795856E50E584DAFB0CED\n2019-09-12 18:05:30.411 UTC [msp] GetDefaultSigningIdentity -> DEBU 814 Obtaining default signing identity\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 815 Sign: plaintext: 0A1E706565723032636C736267623635...2E6369742E636C736E65743A37303531\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 816 Sign: digest: 966AADFBAC1FFB2C385FE6FE2B9BC930F1D78AA5287CAF0B97354712E90D3E88\n2019-09-12 18:05:30.412 UTC [gossip.discovery] periodicalSendAlive -> DEBU 817 Sleeping 5s\n2019-09-12 18:05:30.415 UTC [msp] GetDefaultSigningIdentity -> DEBU 818 Obtaining default signing identity\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 819 Sign: plaintext: 18012A320A221A2040CB42FACA1E0369...701B120C08B4E7C6D591DFF0E115101D\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81a Sign: digest: 1305DFD8ADB7404E5712B2C05B4ADAB287F5807026AE3A21BFE64980E6DF556B\n2019-09-12 18:05:30.415 UTC [msp] GetDefaultSigningIdentity -> DEBU 81b Obtaining default signing identity\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81c Sign: plaintext: 0A1E706565723032636C736267623635...2E6369742E636C736E65743A37303531\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81d Sign: digest: 966AADFBAC1FFB2C385FE6FE2B9BC930F1D78AA5287CAF0B97354712E90D3E88\n```","username":"rahulhegde","ts":"2019-09-12T18:07:06.913Z"}
{"msg":"@rahulhegde how do you deduce there is no luck?","username":"yacovm","ts":"2019-09-12T18:08:07.818Z"}
{"msg":"you still have cross channel signing but it's orthogonal to number of channels","username":"yacovm","ts":"2019-09-12T18:08:26.226Z"}
{"msg":"what is cross channel signing?","username":"rahulhegde","ts":"2019-09-12T18:09:04.855Z"}
{"msg":"i mean it's not channel related","username":"yacovm","ts":"2019-09-12T18:10:08.042Z"}
{"msg":"we have messages about membership that is orthogonal to channels","username":"yacovm","ts":"2019-09-12T18:10:18.566Z"}
{"msg":"so if you have 10 or 1000 channels it still signs once per 5 seconds","username":"yacovm","ts":"2019-09-12T18:10:28.531Z"}
{"msg":"now when you disabled leader election can you perhaps check if the endorsements are still slow, @rahulhegde  ? ","username":"yacovm","ts":"2019-09-12T18:11:52.584Z"}
{"msg":"We will try this test - we did break for 1hr. I had a question.","username":"rahulhegde","ts":"2019-09-12T18:22:51.141Z"}
{"msg":"The logs that were shared as attachment - it does have \n\n```\n\u001b[36m2019-09-10 19:11:03.337 CEST [endorser] EndorseWithPlugin -> DEBU 6145a\u001b[0m Entering endorsement for {plugin: escc, channel: cls1obo-cls2obo, tx: cba4ac61ecace906e80eb1161f8bdaa3c61ac8874951375b77c7f4105b84e9ed, chaincode: p2pcls}\n\u001b[36m2019-09-10 19:11:03.337 CEST [msp.identity] Sign -> DEBU 6145b\u001b[0m Sign: plaintext: 0A20CD46617AA34AEA3AB8D0AEC0D767...455254494649434154452D2D2D2D2D0A \n\u001b[36m2019-09-10 19:11:03.337 CEST [msp.identity] Sign -> DEBU 6145c\u001b[0m Sign: digest: 603912D0F6BDE305A66098BA8B12CB71E7EDFAB6CFBC32AEA5AA5A682E341089 \n\u001b[36m2019-09-10 19:11:03.337 CEST [bccsp_p11] getSession -> DEBU 6145d\u001b[0m Reusing existing pkcs11 session 36 on slot 0\n\u001b[36m2019-09-10 19:11:03.340 CEST [gossip.state] commitBlock -> DEBU 6145e\u001b[0m [cls1obo-cls2obo] Committed block [208224] with 3 transaction(s)\n\u001b[36m2019-09-10 19:11:03.501 CEST [gossip.election] waitForInterrupt -> DEBU 6145f\u001b[0m 8f165a0bff9a395d72441ebb0be8e5f539ddd27172320230d93c826daf6a590a : Exiting\n\u001b[36m2019-09-10 19:11:03.501 CEST [gossip.election] IsLeader -> DEBU 61460\u001b[0m 8f165a0bff9a395d72441ebb0be8e5f539ddd27172320230d93c826daf6a590a : Returning true\n\u001b[36m2019-09-10 19:11:03.501 CEST [msp] GetDefaultSigningIdentity -> DEBU 61461\u001b[0m Obtaining default signing identity\n\u001b[36m2019-09-10 19:11:03.501 CEST [msp.identity] Sign -> DEBU 61462\u001b[0m Sign: plaintext: 120F636C73356F626F2D636C73386F62...0D08B4FFB385E29AC8E11510E1011801 \n\u001b[36m2019-09-10 19:11:03.501 CEST [msp.identity] Sign -> DEBU 61463\u001b[0m Sign: digest: B55139BE9A1F916A88BE167FA9795E94D0C0AE0046B53E356850C903AE512834 \n\u001b[36m2019-09-10 19:11:03.501 CEST [bccsp_p11] getSession -> DEBU 61464\u001b[0m Reusing existing pkcs11 session 44 on slot 0\n\u001b[36m2019-09-10 19:11:03.640 CEST [gossip.election] waitForInterrupt -> DEBU 61465\u001b[0m 8f165a0bff9a395d72441ebb0be8e5f539ddd27172320230d93c826daf6a590a : Exiting\n\u001b[36m2019-09-10 19:11:03.640 CEST [gossip.election] IsLeader -> DEBU 61466\u001b[0m 8f165a0bff9a395d72441ebb0be8e5f539ddd27172320230d93c826daf6a590a : Returning true\n\u001b[36m2019-09-10 19:11:03.640 CEST [msp] GetDefaultSigningIdentity -> DEBU 61467\u001b[0m Obtaining default signing identity\n\u001b[36m2019-09-10 19:11:03.640 CEST [msp.identity] Sign -> DEBU 61468\u001b[0m Sign: plaintext: 120F616C7068636C732D636C73336F62...0D08B982FEB8889AC8E11510E7011801 \n\u001b[36m2019-09-10 19:11:03.640 CEST [msp.identity] Sign -> DEBU 61469\u001b[0m Sign: digest: CE92CFFB7DF2186125FFBEB2684AFAAB8936A7FA29531D4E3D18B58A329471DF \n\u001b[36m2019-09-10 19:11:03.640 CEST [bccsp_p11] getSession -> DEBU 6146a\u001b[0m Reusing existing pkcs11 session 9 on slot 0\n\u001b[36m2019-09-10 19:11:03.740 CEST [gossip.election] waitForInterrupt -> DEBU 6146b\u001b[0m 8f165a0bff9a395d72441ebb0be8e5f539ddd27172320230d93c826daf6a590a : Exiting\n\u001b[36m2019-09-10 19:11:03.740 CEST [gossip.election] IsLeader -> DEBU 6146c\u001b[0m 8f165a0bff9a395d72441ebb0be8e5f539ddd27172320230d93c826daf6a590a : Returning true\n\u001b[36m2019-09-10 19:11:03.740 CEST [msp] GetDefaultSigningIdentity -> DEBU 6146d\u001b[0m Obtaining default signing identity\n\u001b[36m2019-09-10 19:11:03.740 CEST [msp.identity] Sign -> DEBU 6146e\u001b[0m Sign: plaintext: 120F636C73356F626F2D636C73366F62...0D08B9EBF0C5DE9AC8E11510E4011801 \n\u001b[36m2019-09-10 19:11:03.740 CEST [msp.identity] Sign -> DEBU 6146f\u001b[0m Sign: digest: 5294F85123BE5B2F91DB8775F5B111AA8C45637DC42823F38212E2D618BC5F76 \n\u001b[36m2019-09-10 19:11:03.740 CEST [bccsp_p11] getSession -> DEBU 61470\u001b[0m Reusing existing pkcs11 session 69 on slot 0\n```","username":"rahulhegde","ts":"2019-09-12T18:23:36.583Z"}
{"msg":"This one from DEV environment, does also have similar messages related to signing operation\n```\n2019-09-12 18:05:30.406 UTC [chaincode] handleMessage -> DEBU 80e [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.407 UTC [chaincode] handleMessage -> DEBU 80f [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.408 UTC [chaincode] handleMessage -> DEBU 810 [] Fabric side handling ChaincodeMessage of type: KEEPALIVE in state ready\n2019-09-12 18:05:30.411 UTC [msp] GetDefaultSigningIdentity -> DEBU 811 Obtaining default signing identity\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 812 Sign: plaintext: 18012A320A221A2040CB42FACA1E0369...701B120C08B4E7C6D591DFF0E115101C\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 813 Sign: digest: 00E3A28C587EB6E256CD2EA318D182F4798759EB2E1795856E50E584DAFB0CED\n2019-09-12 18:05:30.411 UTC [msp] GetDefaultSigningIdentity -> DEBU 814 Obtaining default signing identity\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 815 Sign: plaintext: 0A1E706565723032636C736267623635...2E6369742E636C736E65743A37303531\n2019-09-12 18:05:30.411 UTC [msp.identity] Sign -> DEBU 816 Sign: digest: 966AADFBAC1FFB2C385FE6FE2B9BC930F1D78AA5287CAF0B97354712E90D3E88\n2019-09-12 18:05:30.412 UTC [gossip.discovery] periodicalSendAlive -> DEBU 817 Sleeping 5s\n2019-09-12 18:05:30.415 UTC [msp] GetDefaultSigningIdentity -> DEBU 818 Obtaining default signing identity\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 819 Sign: plaintext: 18012A320A221A2040CB42FACA1E0369...701B120C08B4E7C6D591DFF0E115101D\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81a Sign: digest: 1305DFD8ADB7404E5712B2C05B4ADAB287F5807026AE3A21BFE64980E6DF556B\n2019-09-12 18:05:30.415 UTC [msp] GetDefaultSigningIdentity -> DEBU 81b Obtaining default signing identity\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81c Sign: plaintext: 0A1E706565723032636C736267623635...2E6369742E636C736E65743A37303531\n2019-09-12 18:05:30.415 UTC [msp.identity] Sign -> DEBU 81d Sign: digest: 966AADFBAC1FFB2C385FE6FE2B9BC930F1D78AA5287CAF0B97354712E90D3E88\n```\nI am not sure - how would it improve throughput of Peer during Endorsement Processing?","username":"rahulhegde","ts":"2019-09-12T18:25:10.510Z"}
{"msg":"Note - we ran 3 test and all went well by snoozing the Gossip using following params\n```\n      - CORE_PEER_GOSSIP_PULLINTERVAL=5m\n      - CORE_PEER_GOSSIP_ALIVETIMEINTERVAL=5m\n      - CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_MEMBERSHIPSAMPLEINTERVAL=5m\n      - CORE_PEER_GOSSIP_ELECTION_LEADERELECTIONDURATION=5m\n      - CORE_PEER_GOSSIP_REQUESTSTATEINFOINTERVAL=5m\n```","username":"rahulhegde","ts":"2019-09-12T18:26:05.891Z"}
{"msg":"do what you want.... it's your system","username":"yacovm","ts":"2019-09-12T18:44:04.603Z"}
{"msg":"its true that its our system but would like to ask expert and do the best for the fabric product that we are running in Production and not in LAB or DEV","username":"rahulhegde","ts":"2019-09-12T19:21:33.193Z"}
{"msg":"i'll be back in a few hours","username":"yacovm","ts":"2019-09-12T19:22:48.332Z"}
{"msg":"meanwhile test what i asked ;)","username":"yacovm","ts":"2019-09-12T19:22:58.215Z"}
{"msg":"disable leader election","username":"yacovm","ts":"2019-09-12T19:23:10.194Z"}
{"msg":"Other thing i see in Fabric Peer (default value) v1.0.6 v/s Fabric v1.4.2\n\nFabric v1.0.6 - where we are \n```\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: true\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: false\n```\n\nand Fabric v1.4.2","username":"rahulhegde","ts":"2019-09-12T19:27:12.091Z"}
{"msg":"Other thing i see in Fabric Peer (default value) v1.0.6 v/s Fabric v1.4.2\n\nFabric v1.0.6 - where we are \n```\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: true\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: false\n```\n\nand Fabric v1.4.2\n```\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: true\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: false\n```","username":"rahulhegde","ts":"2019-09-12T19:27:12.091Z"}
{"msg":"Other thing i see in Fabric Peer (default value) v1.0.6 v/s Fabric v1.4.2\n\nFabric v1.0.6 - \n```\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: true\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: false\n```\n\nand Fabric v1.4.2\n```\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: true\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: false\n```","username":"rahulhegde","ts":"2019-09-12T19:27:12.091Z"}
{"msg":"Other thing i see in Fabric Peer (default value) v1.0.6 v/s Fabric v1.4.2\n\nFabric v1.0.6 - \n```\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: false\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: true\n```\n\nand Fabric v1.4.2\n```\n        # Defines whenever peer will initialize dynamic algorithm for\n        # \"leader\" selection, where leader is the peer to establish\n        # connection with ordering service and use delivery protocol\n        # to pull ledger blocks from ordering service. It is recommended to\n        # use leader election for large networks of peers.\n        useLeaderElection: true\n        # Statically defines peer to be an organization \"leader\",\n        # where this means that current peer will maintain connection\n        # with ordering service and disseminate block across peers in\n        # its own organization\n        orgLeader: false\n```","username":"rahulhegde","ts":"2019-09-12T19:27:12.091Z"}
{"msg":"The above 1.0.6 is running with 200 channels in PreProduction environment where we did not see the slowness. we will try u r test.","username":"rahulhegde","ts":"2019-09-12T19:28:29.292Z"}
{"msg":"@yacovm - we were not able to reproduce this issue once was added.\n\n```\n      - CORE_PEER_GOSSIP_USELEADERELECTION=false\n      - CORE_PEER_GOSSIP_ORGLEADER=true\n```","username":"rahulhegde","ts":"2019-09-12T21:45:44.154Z"}
{"msg":"@yacovm - we were not able to reproduce this issue once we added.\n\n```\n      - CORE_PEER_GOSSIP_USELEADERELECTION=false\n      - CORE_PEER_GOSSIP_ORGLEADER=true\n```","username":"rahulhegde","ts":"2019-09-12T21:45:44.154Z"}
{"msg":"ok","username":"yacovm","ts":"2019-09-12T21:47:13.126Z"}
{"msg":"@jyellick ^","username":"yacovm","ts":"2019-09-12T21:47:30.985Z"}
{"msg":"Can you explain, `you still have cross channel signing but it's orthogonal to number of channels`","username":"rahulhegde","ts":"2019-09-12T22:00:12.168Z"}
{"msg":"Can you explain with an example, `you still have cross channel signing but it's orthogonal to number of channels`","username":"rahulhegde","ts":"2019-09-12T22:00:12.168Z"}
{"msg":"yes... gossip has 2 levels of membership information","username":"yacovm","ts":"2019-09-12T22:03:10.115Z"}
{"msg":"the base level is alive membership - peers publish their Host:port periodically","username":"yacovm","ts":"2019-09-12T22:03:39.619Z"}
{"msg":"they sign this message when they send it","username":"yacovm","ts":"2019-09-12T22:03:45.938Z"}
{"msg":"the signing is used because this message is sent in hops and not point to point, so peer `a` can create this message and send to peer `b` and then peer `b` can send it to peer `c` ","username":"yacovm","ts":"2019-09-12T22:04:20.322Z"}
{"msg":"so in order for peer `c` to believe this message is authentic, it needs to be signed","username":"yacovm","ts":"2019-09-12T22:04:32.431Z"}
{"msg":"we have also other information in this message but let's leave it out for now","username":"yacovm","ts":"2019-09-12T22:04:43.535Z"}
{"msg":"now... on top of this level we build membership per channel","username":"yacovm","ts":"2019-09-12T22:04:55.818Z"}
{"msg":"for each channel, we send channel related metadata","username":"yacovm","ts":"2019-09-12T22:05:03.722Z"}
{"msg":"such as ledger height, and what chaincodes you have installed ","username":"yacovm","ts":"2019-09-12T22:05:21.119Z"}
{"msg":"so the first level is cross channel, as 2 peers can send each other this message even if they are not in the same channel, but they are in the same organization","username":"yacovm","ts":"2019-09-12T22:06:01.373Z"}
{"msg":"now, this is orthogonal to the number of channels because it's on the first level and the channel membership uses this level to bootstrap itself","username":"yacovm","ts":"2019-09-12T22:06:35.383Z"}
{"msg":"now an example would be, that if you have 2 peers- `p` and `q` then if `p` is member of 100 channels it will send an `AliveMessage` only once per 5 seconds","username":"yacovm","ts":"2019-09-12T22:07:16.884Z"}
{"msg":"now an example would be, that if you have 2 peers- `p` and `q` then if `p` is member of 100 channels or 1000000 channels it will still send an `AliveMessage` to `q` only once per 5 seconds ","username":"yacovm","ts":"2019-09-12T22:07:16.884Z"}
{"msg":"Thanks @yacom and @jyellick for all the support.","username":"rahulhegde","ts":"2019-09-12T22:35:13.128Z"}
{"msg":"Thanks @yacovm and @jyellick for all the support.","username":"rahulhegde","ts":"2019-09-12T22:35:13.128Z"}
{"msg":"Has joined the channel.","username":"aymanmt","ts":"2019-09-13T17:35:47.419Z","type":"uj"}
{"msg":"hello everybody","username":"aymanmt","ts":"2019-09-13T17:38:18.270Z"}
{"msg":"i have a question about pagination ","username":"aymanmt","ts":"2019-09-13T17:38:26.231Z"}
{"msg":"im using getQueryResultWithPagination function ","username":"aymanmt","ts":"2019-09-13T17:38:51.761Z"}
{"msg":"but the returned bookmark is always emtpy","username":"aymanmt","ts":"2019-09-13T17:39:05.429Z"}
{"msg":"any idea why is that?","username":"aymanmt","ts":"2019-09-13T17:39:12.126Z"}
{"msg":"im sending a page of 1000 and sure that the query should return around 32,000 records","username":"aymanmt","ts":"2019-09-13T17:39:54.044Z"}
{"msg":"im getting the 1000 records, but i cannot get next 1000 records because i dont have the bookmark value","username":"aymanmt","ts":"2019-09-13T17:40:26.879Z"}
{"msg":"Has joined the channel.","username":"soumyanayak","ts":"2019-09-14T13:03:07.780Z","type":"uj"}
{"msg":"Has joined the channel.","username":"HLFPOC","ts":"2019-09-16T04:02:03.566Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Bentipe","ts":"2019-09-19T14:40:09.533Z","type":"uj"}
{"msg":"Anyone seen this gem before?\n```\n10/16/2019 11:31:23 AM 2019-10-16 15:31:23.101 UTC [chaincode] HandleTransaction -> ERRO 155a [2cc0fa7a] Failed to handle GET_STATE. error: no revision tag detected\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/util/couchdb.getRevisionHeader\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:735\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchDatabase).ReadDoc\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:788\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*VersionedDB).GetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:297\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*CommonStorageDB).GetState\n10/16/2019 11:31:23 AM <autogenerated>:1\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).getState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:45\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedQueryExecutor).GetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_query_executer.go:27\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:637\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:214\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:640\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:214\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n10/16/2019 11:31:23 AM GET_STATE failed: transaction ID: 2cc0fa7a2836395685b73adc6dbf0bedaba1bc796d3e753b375af60049fa6264\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:276\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n```\nIt's just started on a couple of our peers. Never seen it before.","username":"aatkddny","ts":"2019-10-16T15:49:43.994Z"}
{"msg":"Anyone seen this gem before?\n```\n10/16/2019 11:31:23 AM 2019-10-16 15:31:23.101 UTC [chaincode] HandleTransaction -> ERRO 155a [2cc0fa7a] Failed to handle GET_STATE. error: no revision tag detected\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/util/couchdb.getRevisionHeader\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:735\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchDatabase).ReadDoc\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:788\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*VersionedDB).GetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:297\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*CommonStorageDB).GetState\n10/16/2019 11:31:23 AM <autogenerated>:1\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).getState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:45\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedQueryExecutor).GetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_query_executer.go:27\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:637\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:214\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:640\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:214\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n10/16/2019 11:31:23 AM GET_STATE failed: transaction ID: 2cc0fa7a2836395685b73adc6dbf0bedaba1bc796d3e753b375af60049fa6264\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:276\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n```\nIt's just started on a couple of our peers. Never seen it before.\nBonus points if there's a quick fix...","username":"aatkddny","ts":"2019-10-16T15:49:43.994Z"}
{"msg":"Anyone seen this gem before?\n```\n10/16/2019 11:31:23 AM 2019-10-16 15:31:23.101 UTC [chaincode] HandleTransaction -> ERRO 155a [2cc0fa7a] Failed to handle GET_STATE. error: no revision tag detected\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/util/couchdb.getRevisionHeader\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:735\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchDatabase).ReadDoc\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:788\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*VersionedDB).GetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:297\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*CommonStorageDB).GetState\n10/16/2019 11:31:23 AM <autogenerated>:1\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).getState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:45\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedQueryExecutor).GetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_query_executer.go:27\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:637\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:214\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:640\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:214\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n10/16/2019 11:31:23 AM GET_STATE failed: transaction ID: 2cc0fa7a2836395685b73adc6dbf0bedaba1bc796d3e753b375af60049fa6264\n10/16/2019 11:31:23 AM github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction\n10/16/2019 11:31:23 AM /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:276\n10/16/2019 11:31:23 AM runtime.goexit\n10/16/2019 11:31:23 AM /opt/go/src/runtime/asm_amd64.s:1333\n```\nIt's just started on a couple of our peers. Never seen it before.\nBonus points if there's a quick fix... NM - stack overflow to the rescue...","username":"aatkddny","ts":"2019-10-16T15:49:43.994Z"}
{"msg":"Has joined the channel.","username":"adineshreddy1","ts":"2019-10-24T14:52:19.331Z","type":"uj"}
{"msg":"Has joined the channel.","username":"saanvijay","ts":"2019-10-24T14:52:59.274Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rmscott","ts":"2019-10-24T15:40:28.511Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hawkinggg","ts":"2019-11-04T07:15:41.875Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DilipManjunatha","ts":"2019-11-13T13:07:59.360Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jyxie2007","ts":"2019-11-18T03:58:54.776Z","type":"uj"}
{"msg":"rebuild","username":"silliman","ts":"2019-11-22T23:00:04.357Z"}
{"msg":"how to view the data in the ledger ... for example car1 owner = \"Ammu\", car1 owner = \"Ram\",car1 owner = \"prabu\" how to view all these transaction change in hyper ledger fabric? in couch db i can see only latest updated data . ","username":"Ammu","ts":"2019-11-26T08:38:33.421Z"}
{"msg":"Has joined the channel.","username":"konda.kalyan","ts":"2019-12-26T06:00:03.363Z","type":"uj"}
{"msg":"Has joined the channel.","username":"andreevym","ts":"2019-12-29T10:48:38.991Z","type":"uj"}
{"msg":"","username":"SanketPanchamia","ts":"2020-01-08T13:07:18.664Z","attachments":[{"type":"file","title":"Clipboard - January 8, 2020 6:37 PM","title_link":"/file-upload/WzGRGRGfgWiuo2ptL/Clipboard%20-%20January%208,%202020%206:37%20PM","image_url":"/file-upload/WzGRGRGfgWiuo2ptL/Clipboard%20-%20January%208,%202020%206:37%20PM","image_type":"image/png","image_size":14866,"url":"/file-upload/WzGRGRGfgWiuo2ptL/Clipboard%20-%20January%208,%202020%206:37%20PM","remote":false,"fileId":"WzGRGRGfgWiuo2ptL","fileName":"Clipboard - January 8, 2020 6:37 PM"}]}
{"msg":"","username":"SanketPanchamia","ts":"2020-01-08T13:08:05.704Z","attachments":[{"type":"file","title":"Clipboard - January 8, 2020 6:38 PM","title_link":"/file-upload/3eD3tzRRDRu8BsixB/Clipboard%20-%20January%208,%202020%206:38%20PM","image_url":"/file-upload/3eD3tzRRDRu8BsixB/Clipboard%20-%20January%208,%202020%206:38%20PM","image_type":"image/png","image_size":51406,"url":"/file-upload/3eD3tzRRDRu8BsixB/Clipboard%20-%20January%208,%202020%206:38%20PM","remote":false,"fileId":"3eD3tzRRDRu8BsixB","fileName":"Clipboard - January 8, 2020 6:38 PM"}]}
{"msg":"","username":"SanketPanchamia","ts":"2020-01-08T13:09:55.000Z","attachments":[{"type":"file","title":"Clipboard - January 8, 2020 6:39 PM","title_link":"/file-upload/yZkokdSdXFshJv7WH/Clipboard%20-%20January%208,%202020%206:39%20PM","image_url":"/file-upload/yZkokdSdXFshJv7WH/Clipboard%20-%20January%208,%202020%206:39%20PM","image_type":"image/png","image_size":27474,"url":"/file-upload/yZkokdSdXFshJv7WH/Clipboard%20-%20January%208,%202020%206:39%20PM","remote":false,"fileId":"yZkokdSdXFshJv7WH","fileName":"Clipboard - January 8, 2020 6:39 PM"}]}
{"msg":"Hi All, I am having some trouble with the indexing feature in couchDB. I have enabled index and I can see that in the peer logs also. I also see the design document in the couchDB database that has this index.\nHowever when i try to query using this index, i keep getting a warning in the peer logs \n\nI am using this in the query arguments from postman\n[\"query\",\"{\\\"selector\\\":{\\\"recordId\\\":\\\"uuid-1\\\"}, \\\"use_index\\\":[\\\"_design/indexRecordIdDoc\\\", \\\"indexRecordId\\\"]}\"]","username":"SanketPanchamia","ts":"2020-01-08T13:10:19.293Z"}
{"msg":"You need to implement in chaincode....GetHistoryForKey()\nMore information here - https://fabric-shim.github.io/master/fabric-shim.ChaincodeStub.html","username":"SanketPanchamia","ts":"2020-01-08T13:52:30.391Z"}
{"msg":"couchdb does not think the index matches the query... this is pass through from Fabric perspective, so you'll need to test indexes and queries in couchdb outside of Fabric and get it working, then utilize the working index and query within chaincode. For troubleshooting CouchDB queries, I'd recommend go to CouchDB community rather than Fabric community.","username":"dave.enyeart","ts":"2020-01-08T22:07:48.023Z"}
{"msg":"Thanks Dave. I figured my issue and it works now. A very silly typo but took me a while to figure it out :)","username":"SanketPanchamia","ts":"2020-01-09T02:41:06.537Z"}
{"msg":"Hi all,  when I try to instantiate chaincode. the logs says, document not found error: ` HTTP Request: GET /twoorgschannel_lscc/ccex?attachments=true HTTP/1.1 | Host: couchdbp1o1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Authorization: Basic cGVlcjEtb3JnMTpwMW8xY2RicHc= | Accept-Encoding: gzip |  |\n 2020-01-10 12:54:21.903 UTC [couchdb] handleRequest -> DEBU 3897e Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:missing ` in the peer. \nThe couchdb logs has the following error:\n``` HTTP Request: GET /twoorgschannel_lscc/ccex?attachments=true HTTP/1.1 | Host: couchdbp1o1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Authorization: Basic cGVlcjEtb3JnMTpwMW8xY2RicHc= | Accept-Encoding: gzip |  |\n 2020-01-10 12:54:21.903 UTC [couchdb] handleRequest -> DEBU 3897e Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:missing ```\nCan anyone help me figure this out?","username":"indirajith","ts":"2020-01-10T14:31:22.510Z"}
{"msg":"Hi all,  when I try to instantiate chaincode. the logs says, document not found error: ``` HTTP Request: GET /twoorgschannel_lscc/ccex?attachments=true HTTP/1.1 | Host: couchdbp1o1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Authorization: Basic cGVlcjEtb3JnMTpwMW8xY2RicHc= | Accept-Encoding: gzip |  |\n 2020-01-10 12:54:21.903 UTC [couchdb] handleRequest -> DEBU 3897e Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:missing ``` in peer. \nThe couchdb logs has the following error:\n``` HTTP Request: GET /twoorgschannel_lscc/ccex?attachments=true HTTP/1.1 | Host: couchdbp1o1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Authorization: Basic cGVlcjEtb3JnMTpwMW8xY2RicHc= | Accept-Encoding: gzip |  |\n 2020-01-10 12:54:21.903 UTC [couchdb] handleRequest -> DEBU 3897e Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:missing ```\nCan anyone help me figure this out?","username":"indirajith","ts":"2020-01-10T14:31:22.510Z"}
{"msg":"@indirajith if first queries to see if the chaincode is already there, so a not_found error is expected if this is a new instantiation. it should go on to create the chaincode.","username":"dave.enyeart","ts":"2020-01-10T16:19:11.083Z"}
{"msg":"@indirajith it first queries to see if the chaincode is already there, so a not_found error is expected if this is a new instantiation. it should go on to create the chaincode.","username":"dave.enyeart","ts":"2020-01-10T16:19:11.083Z"}
{"msg":"oh, thank you very much. Now I get the point. So once, its instantiated or invoked, it will be created. So, shall I conclude the problem I face in instantiating is not related to this. ","username":"indirajith","ts":"2020-01-10T17:14:12.863Z"}
{"msg":"correct. look to see if there is an error response coming back to your client, or if there is a message in peer log, rather than looking at couchdb database level messages.","username":"dave.enyeart","ts":"2020-01-10T19:54:45.553Z"}
{"msg":"@dave.enyeart hi, I wonder why config block can't query by txId? how can I retrieve all the config block in history from the ledger","username":"kelvinzhong","ts":"2020-01-13T09:06:04.672Z"}
{"msg":"Hi All, has anyone here tried to run couchDB on a separate VM or as a cloud service and connected to the fabric peer?","username":"SanketPanchamia","ts":"2020-01-14T03:21:59.970Z"}
{"msg":"Has joined the channel.","username":"dineshthemacho1","ts":"2020-01-22T06:05:53.109Z","type":"uj"}
{"msg":"Hi Everyone, is it possible to use Private Data Collections if the network is configured to use LevelDB as the World State?  Thanks!","username":"tennenjl","ts":"2020-01-24T16:29:34.266Z"}
{"msg":"yes, private data works with both leveldb and couchdb","username":"dave.enyeart","ts":"2020-01-24T20:24:48.981Z"}
{"msg":"@dave.enyeart . Thanks a bunch.  Are there any performance considerations when using Private Data Collections?","username":"tennenjl","ts":"2020-01-24T20:26:03.327Z"}
{"msg":"Has joined the channel.","username":"lzaouche","ts":"2020-01-28T09:17:40.766Z","type":"uj"}
{"msg":"hello all , is there a anyone who tried to get peer identity using Shim functions ??","username":"Khaled.MH","ts":"2020-01-28T17:03:29.457Z"}
{"msg":"@Khaled.MH this story has just gotten merged for upcoming v2.0: https://jira.hyperledger.org/browse/FAB-17439","username":"dave.enyeart","ts":"2020-01-28T19:40:38.460Z"}
{"msg":"is that what you need? or you need something besides peer's org mspid? ","username":"dave.enyeart","ts":"2020-01-28T19:41:03.678Z"}
{"msg":"@dave.enyeart  i need something besides peer's org mspid !","username":"Khaled.MH","ts":"2020-01-29T09:07:21.848Z"}
{"msg":"@Khaled.MH ok, please describe the use case and what exactly you need. Ideally in a Jira story.","username":"dave.enyeart","ts":"2020-01-29T11:29:23.926Z"}
{"msg":"hello guys how can i download a specifig hyperledger lib using govendor ?","username":"Khaled.MH","ts":"2020-01-29T17:13:35.826Z"}
{"msg":"Has joined the channel.","username":"Abhishekkishor","ts":"2020-03-12T19:24:21.464Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aberwag","ts":"2020-03-24T08:08:51.388Z","type":"uj"}
{"msg":"Has joined the channel.","username":"levanto","ts":"2020-03-29T12:15:31.546Z","type":"uj"}
{"msg":"Has left the channel.","username":"matanyahu","ts":"2020-04-06T17:49:41.523Z","type":"ul"}
{"msg":"Has joined the channel.","username":"Adhavpavan","ts":"2020-04-07T15:36:53.270Z","type":"uj"}
{"msg":"Hi, I'm curious if creating a new channel (per year) could be considered as an acceptable practice/workaround, until the \"Checkpoint and Archive\" feature gets delivered. The data is relatively short living, so the question is more technical than business relevant. Thanks in advance!","username":"ivanovv","ts":"2020-04-24T18:13:03.988Z"}
{"msg":"@ivanovv if your data is append only, that sounds reasonable. if your transactions are read/write, then obviously the channel per year will become problematic at year boundaries","username":"dave.enyeart","ts":"2020-04-24T21:05:46.068Z"}
{"msg":"@dave.enyeart - Can Hyperledger Fabric peers be deployed in different AZ's? If so do you have any design document on that?","username":"mbanerjee","ts":"2020-04-28T21:03:55.830Z"}
{"msg":"Yes, having peers distributed around the world is a typical scenario. The current deployment guide work will likely help people understand the considerations - https://jira.hyperledger.org/browse/FAB-11240","username":"dave.enyeart","ts":"2020-04-29T12:53:02.114Z"}
{"msg":"Has joined the channel.","username":"Koushik","ts":"2020-04-29T20:30:29.315Z","type":"uj"}
{"msg":"Has joined the channel.","username":"KoushKilla","ts":"2020-04-30T11:22:01.507Z","type":"uj"}
{"msg":"Hi all, \n\nI believe I might of noticed a bug or maybe it is an expected error in regards to the fabric ledger. \n\n**Problem**\n\nSo I noticed when a peer container gets rebuild or taken down/brought up and if there is no *disk mounting* enabled then peer gets taken out of the channel because the peer data is lost, which is completely expected. *However* when the peer rejoins the same application channel, the previous blocks before it left the channel become invalid but the same blocks on other peers are valid. The blocks after the peer rejoined channel are synced correctly with txValidadtioncode matching with the corresponding blocks in all peers. \n\nI tried doing the command `peer node reset` on the peer that rejoined the channel but after the reset the peer still shows previous blocks as invalid.  \n\n**Steps to Reproduce**\n\n1. Create HF network with 2 Orgs and at least one peer per Org\n2. Create sample test transactions \n3. Check the txValidationCode for a random application transaction block such as block #10\n4. Change up a peer configuration such as logging level or timeout value. \n5. Rebuild the peer container that had the configuration changed, I used the command `docker-compose up -d —build`\n6. Rejoin the channel with the peer, because the peer left the channel due to the fact disk mounting was disabled when it rebuilt and all chaincode and channel data was lost. \n7. Check the txValidationCode for the same block in step 3 (Block #10). Should change to invalid now. \n8. I stopped the peer, then executed the command `peer node reset` and started the peer again but the previous blocks are still invalid. \n\n\nAny thoughts or suggestions on this issue will be much appreciated. If this is an expected issue, please let me know on how I might be able to resolve this. ","username":"KoushKilla","ts":"2020-04-30T11:42:31.058Z"}
{"msg":"Jira ticket: https://jira.hyperledger.org/browse/FAB-17823","username":"KoushKilla","ts":"2020-04-30T11:43:23.503Z"}
{"msg":"Has joined the channel.","username":"HarisC","ts":"2020-05-20T08:57:15.088Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nonmadden","ts":"2020-06-29T13:15:02.403Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nekia","ts":"2020-07-02T05:16:39.404Z","type":"uj"}
{"msg":"Has joined the channel.","username":"xachen","ts":"2020-07-21T01:20:30.763Z","type":"uj"}
{"msg":"@dave.enyeart https://jira.hyperledger.org/browse/FAB-17035","username":"xachen","ts":"2020-07-21T01:26:32.665Z"}
{"msg":"i meet the same question","username":"xachen","ts":"2020-07-21T01:26:40.255Z"}
{"msg":"i meet the same question,do you resovle it?","username":"xachen","ts":"2020-07-21T01:26:40.255Z"}
{"msg":"@xachen it seems like a timing issue in peer startup that is benign... gossip gets connections a few seconds later.","username":"dave.enyeart","ts":"2020-07-21T21:51:25.075Z"}
{"msg":"Has joined the channel.","username":"FarhanShafiq","ts":"2020-07-22T08:30:55.202Z","type":"uj"}
{"msg":"Hello, I'm trying to fetch peers from discover CLI but result giving me only target peer information. Is this the default behavior or should I expect all four peers information?\nNote: I have set the \"CORE_PEER_GOSSIP_EXTERNALENDPOINT\" on all four anchor peers but still no way of knowing that gossip is running properly since, peers logs contain no warning and error.","username":"FarhanShafiq","ts":"2020-07-22T08:30:58.193Z"}
{"msg":"https://chat.hyperledger.org/channel/fabric?msg=G65LwgcHxgYj3rbBn","username":"grapebaba","ts":"2020-07-30T02:46:08.154Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/fabric?msg=G65LwgcHxgYj3rbBn","url":"https://chat.hyperledger.org/channel/fabric?msg=G65LwgcHxgYj3rbBn","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manish-sethi @dave.enyeart @Senthil1","username":"grapebaba","ts":"2020-07-30T02:56:49.377Z"}
{"msg":"can you help this question?","username":"grapebaba","ts":"2020-07-30T02:57:08.467Z"}
{"msg":"Hi, I'm trying to connect fabric java sdk with fabric network but due to some unknown reasons facing grpc connection issue with peer.\nIssue:\n\n`2020-08-11 12:43:09.433  WARN 3068 --- [           main] org.hyperledger.fabric.sdk.Channel       : getConfigBlock for channel mychannel failed with peer peer1.liquidus.com.  Status FAILURE, details: Channel Channel{id: 1, name: mychannel} Sending proposal with transaction: 3060b0f5b6220c393fb4b96be9d7bbe7d5799404e271bdf1573022265f866afa to Peer{ id: 2, name: peer1.liquidus.com, channelName: mychannel, url: grpc://SERVER_IP:7061, mspid: liquidusMSP} failed because of: gRPC failure=Status{code=UNAVAILABLE, description=Network closed for unknown reason, cause=null}\n2020-08-11 12:43:09.435 ERROR 3068 --- [           main] org.hyperledger.fabric.sdk.Channel       : getConfigBlock for channel mychannel failed with peer peer1.liquidus.com.  Status FAILURE, details: Channel Channel{id: 1, name: mychannel} Sending proposal with transaction: 3060b0f5b6220c393fb4b96be9d7bbe7d5799404e271bdf1573022265f866afa to Peer{ id: 2, name: peer1.liquidus.com, channelName: mychannel, url: grpc://SERVER_IP:7061, mspid: liquidusMSP} failed because of: gRPC failure=Status{code=UNAVAILABLE, description=Network closed for unknown reason, cause=null}`","username":"FarhanShafiq","ts":"2020-08-11T12:37:26.504Z"}
{"msg":"Hi, I'm trying to connect fabric java sdk with fabric network but due to some unknown reasons facing grpc connection issue.\nIssue:\n\n`2020-08-11 12:43:09.433  WARN 3068 --- [           main] org.hyperledger.fabric.sdk.Channel       : getConfigBlock for channel mychannel failed with peer peer1.liquidus.com.  Status FAILURE, details: Channel Channel{id: 1, name: mychannel} Sending proposal with transaction: 3060b0f5b6220c393fb4b96be9d7bbe7d5799404e271bdf1573022265f866afa to Peer{ id: 2, name: peer1.liquidus.com, channelName: mychannel, url: grpc://SERVER_IP:7061, mspid: liquidusMSP} failed because of: gRPC failure=Status{code=UNAVAILABLE, description=Network closed for unknown reason, cause=null}\n2020-08-11 12:43:09.435 ERROR 3068 --- [           main] org.hyperledger.fabric.sdk.Channel       : getConfigBlock for channel mychannel failed with peer peer1.liquidus.com.  Status FAILURE, details: Channel Channel{id: 1, name: mychannel} Sending proposal with transaction: 3060b0f5b6220c393fb4b96be9d7bbe7d5799404e271bdf1573022265f866afa to Peer{ id: 2, name: peer1.liquidus.com, channelName: mychannel, url: grpc://SERVER_IP:7061, mspid: liquidusMSP} failed because of: gRPC failure=Status{code=UNAVAILABLE, description=Network closed for unknown reason, cause=null}`","username":"FarhanShafiq","ts":"2020-08-11T12:37:26.504Z"}
{"msg":"Has left the channel.","username":"nkl199","ts":"2020-09-01T09:54:39.494Z","type":"ul"}
{"msg":"Has joined the channel.","username":"czar0","ts":"2020-10-09T11:10:18.492Z","type":"uj"}
{"msg":"Has left the channel.","username":"troyronda","ts":"2020-10-28T17:46:08.315Z","type":"ul"}
{"msg":"Has joined the channel.","username":"heena066","ts":"2020-11-02T09:32:13.674Z","type":"uj"}
{"msg":"Has joined the channel.","username":"husnain","ts":"2020-11-03T11:44:24.224Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cynicalsnail","ts":"2020-11-18T07:01:48.234Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nmarco","ts":"2021-03-20T00:15:10.239Z","type":"uj"}
{"msg":"Asked this in the other channel but didn't see any response. Is there guidance on how to interpret `txValidationCode` returned when getting a block or transaction? I have most of mine showing up as 17, even the ones that were valid transactions. Looking backwards I now can't differentiate between what transactions failed \"at the time\" and which were previously valid and are now 17 (due to recent contract updates I assume).\n\nAll of my contract deploy transactions are also txValidationCode 10 which also seems strange as they definitely deployed","username":"nmarco","ts":"2021-03-20T13:16:51.168Z"}
{"msg":"https://github.com/hyperledger/fabric-protos/blob/318e632e5e0c668a1be9e1f882f814f179460766/peer/transaction.proto#L95","username":"manish-sethi","ts":"2021-03-24T20:07:13.087Z"}
{"msg":"Has joined the channel.","username":"lukeledet","ts":"2021-04-08T20:00:36.520Z","type":"uj"}
{"msg":"Dear All,","username":"konda.kalyan","ts":"2021-05-22T07:40:42.222Z"}
{"msg":"Dear Friends,\n\nIn CouchDB UI (Fauxton), I see that values are in encrypted format as below. Earlier, I used to see the exact values (plain text) (incluing big JSON values). Seems I am missing a simple thing. Please provide the way we can see exact values that are stored in CouchDB. Thank you.\n\n{\n  \"_id\": \"b\",\n  \"_rev\": \"2-f2e091417a9884e1f5ef483ae2b71093\",\n  \"~version\": \"\\u0000CgMBBAA=\",\n  \"_attachments\": {\n    \"valueBytes\": {\n      \"content_type\": \"application/octet-stream\",\n      \"revpos\": 2,\n      \"digest\": \"md5-erMb61ThOljS75mpAoTenw==\",\n      \"length\": 3,\n      \"stub\": true\n    }\n  }\n}","username":"konda.kalyan","ts":"2021-05-22T07:45:12.142Z"}
{"msg":"Has joined the channel.","username":"lcvalves","ts":"2021-05-31T01:33:12.895Z","type":"uj"}
{"msg":"If the value being persisted to state database is not well formed JSON then it will be saved to CouchDB as an attachment. What you see here is the attachment hash. It seems therefore that your value was not JSON.","username":"dave.enyeart","ts":"2021-06-04T19:45:38.617Z"}
{"msg":"Has joined the channel.","username":"Maginaro","ts":"2021-07-21T10:04:47.884Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jos61404","ts":"2021-08-29T10:13:20.003Z","type":"uj"}
{"msg":"Hi Team,","username":"npc0405","ts":"2021-09-16T00:24:01.419Z"}
{"msg":"I am trying to setup test-network in my local machine, it creates container and required artifacts but failing while creating channel.\nIt says \"scripts/createChannel.sh: line 40: osnadmin: command not found\nChannel creation failed\"\n\nAny idea what could go wrong here ?","username":"npc0405","ts":"2021-09-16T00:25:54.436Z"}
{"msg":"Any help would be greatly appreciated.\nThanks","username":"npc0405","ts":"2021-09-16T00:31:04.175Z"}
{"msg":"@dave.enyeart i meet a weird problem, when i start peer, it tell me","username":"asaningmaxchain123","ts":"2021-12-10T09:21:42.376Z"}
{"msg":"@dave.enyeart i meet a weird problem, i can't start the peer, the below is the peer's log,can you take a look?","username":"asaningmaxchain123","ts":"2021-12-10T09:21:42.376Z"}
{"msg":"","username":"asaningmaxchain123","ts":"2021-12-10T09:21:50.689Z","attachments":[{"type":"file","title":"Clipboard - 2021年12月10日下午5点21分","title_link":"/file-upload/QwH9qBoDpDuFGQr9R/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B921%E5%88%86","image_url":"/file-upload/nyZRt3Cov4j7KZEoP/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B921%E5%88%86","image_type":"image/png","image_size":1694707,"url":"/file-upload/QwH9qBoDpDuFGQr9R/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B921%E5%88%86","remote":false,"fileId":"QwH9qBoDpDuFGQr9R","fileName":"Clipboard - 2021年12月10日下午5点21分"}]}
{"msg":"","username":"asaningmaxchain123","ts":"2021-12-10T09:25:03.155Z","attachments":[{"type":"file","title":"Clipboard - 2021年12月10日下午5点24分","title_link":"/file-upload/wLB3qM5ptRyRvxbNJ/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B924%E5%88%86","image_url":"/file-upload/XfHLYbfS7YmtrQEEe/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B924%E5%88%86","image_type":"image/png","image_size":361947,"url":"/file-upload/wLB3qM5ptRyRvxbNJ/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B924%E5%88%86","remote":false,"fileId":"wLB3qM5ptRyRvxbNJ","fileName":"Clipboard - 2021年12月10日下午5点24分"}]}
{"msg":"","username":"asaningmaxchain123","ts":"2021-12-10T09:46:31.459Z","attachments":[{"type":"file","title":"Clipboard - 2021年12月10日下午5点46分","title_link":"/file-upload/eHjd8zbF3mp2Y3PFH/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B946%E5%88%86","image_url":"/file-upload/KSx9ajTs5xDHsC7Kz/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B946%E5%88%86","image_type":"image/png","image_size":619630,"url":"/file-upload/eHjd8zbF3mp2Y3PFH/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B946%E5%88%86","remote":false,"fileId":"eHjd8zbF3mp2Y3PFH","fileName":"Clipboard - 2021年12月10日下午5点46分"}]}
{"msg":"","username":"asaningmaxchain123","ts":"2021-12-10T09:47:00.994Z","attachments":[{"type":"file","title":"Clipboard - 2021年12月10日下午5点46分","title_link":"/file-upload/JqaWBNGkwMgeDXnC3/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B946%E5%88%86","image_url":"/file-upload/zoz8iRTp2EFaPx5m4/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B946%E5%88%86","image_type":"image/png","image_size":1184889,"url":"/file-upload/JqaWBNGkwMgeDXnC3/Clipboard%20-%202021%E5%B9%B412%E6%9C%8810%E6%97%A5%E4%B8%8B%E5%8D%885%E7%82%B946%E5%88%86","remote":false,"fileId":"JqaWBNGkwMgeDXnC3","fileName":"Clipboard - 2021年12月10日下午5点46分"}]}
{"msg":"@manish-sethi can you give me a clue, i see the code that you provide","username":"asaningmaxchain123","ts":"2021-12-10T09:58:47.368Z"}
{"msg":"","username":"skbalahere","ts":"2021-12-21T16:53:40.574Z","attachments":[{"type":"file","title":"Clipboard - December 21, 2021 10:23 PM","title_link":"/file-upload/hcqnRscDhYKCKkevy/Clipboard%20-%20December%2021,%202021%2010:23%20PM","image_url":"/file-upload/W2YpnSaTx7oYkWJ3b/Clipboard%20-%20December%2021,%202021%2010:23%20PM","image_type":"image/png","image_size":30898,"url":"/file-upload/hcqnRscDhYKCKkevy/Clipboard%20-%20December%2021,%202021%2010:23%20PM","remote":false,"fileId":"hcqnRscDhYKCKkevy","fileName":"Clipboard - December 21, 2021 10:23 PM"}]}
{"msg":"Has joined the channel.","username":"Bert","ts":"2022-01-22T09:25:55.977Z","type":"uj"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:21.357Z","type":"room_changed_topic"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:21.365Z","type":"room_changed_description"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:21.369Z","type":"room_changed_announcement"}
