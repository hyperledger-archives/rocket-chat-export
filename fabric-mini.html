<meta http-equiv="content-type" content="text/html; charset=utf-8"><p><strong>rjones</strong> (Mon, 03 Aug 2020 13:07:59 GMT):<br/>
@tongli we can debug minifab here if you like for windows 10
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:51:12 GMT):<br/>
hi, Ry, yes, we can do this here.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:51:30 GMT):<br/>
OK. what is the next step I should do?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:51:52 GMT):<br/>
I do not really actually have a windows 10 env.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:52:13 GMT):<br/>
it is a bit hard for me to recreate the issue you were reporting.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:52:24 GMT):<br/>
what is your desktop OS?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:52:36 GMT):<br/>
can you see if in the working directory, you have a vars/run directory?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:52:42 GMT):<br/>
I got a mac.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:52:45 GMT):<br/>
OS X
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:53:11 GMT):<br/>
https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:53:17 GMT):<br/>
free VM there
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:54:33 GMT):<br/>
I do, and I showed the content
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:54:39 GMT):<br/>
as a comment on github
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:54:48 GMT):<br/>
hmmm. really? I did not know that.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:55:07 GMT):<br/>
```C:\Users\s390x\minifabric>dir vars\run\
 Volume in drive C is OS
 Volume Serial Number is 0A64-E736

 Directory of C:\Users\s390x\minifabric\vars\run

08/03/2020  06:09 AM    <DIR>          .
08/03/2020  06:09 AM    <DIR>          ..
08/03/2020  06:09 AM               336 certtxgen.sh```
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:55:14 GMT):<br/>
were you using these machines when you saw errors using minifabric?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:55:35 GMT):<br/>
hmmm. so the certtxgen.sh file was produced.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:55:44 GMT):<br/>
but the scripts says does not exist.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:56:10 GMT):<br/>
interesting.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:57:42 GMT):<br/>
I'm not using those VMs I pointed you to - I'm using retail windows 10
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:57:53 GMT):<br/>
you mentioned windows versions.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:58:04 GMT):<br/>
like WSL. what are the differences do you know?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:58:20 GMT):<br/>
you said that on one version it worked, one the other it did not.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:58:56 GMT):<br/>
WSL2 worked, WSL does not?
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:58:58 GMT):<br/>
Yes, if I run it in WSL2 directly, it works. If I run it using the instructions at the command prompt, it doesn't
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:59:07 GMT):<br/>
I don't have WSL any more
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 13:59:40 GMT):<br/>
wait, what do you mean you run it in WSL2 directly?
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 13:59:57 GMT):<br/>
https://zoom.us/j/2032622322
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 14:59:47 GMT):<br/>
hi, bro,
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 14:59:55 GMT):<br/>
I think that the issue is here.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:01:46 GMT):<br/>
https://github.com/litong01/minifabric/blob/master/playbooks/ops/certgen/createcerts.yaml#L57
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:02:26 GMT):<br/>
Ok
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:02:53 GMT):<br/>
Should probably be something like $PWD?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:03:35 GMT):<br/>
https://github.com/litong01/minifabric/blob/master/playbooks/ops/netup/apply.yaml#L41
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:04:00 GMT):<br/>
these two lines probably need to be removed.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:04:12 GMT):<br/>
if you can test it on windows by rebuilding the docker image
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:04:26 GMT):<br/>
then you will need to get the source code.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:05:00 GMT):<br/>
make changes to these two lines by removing them.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:05:11 GMT):<br/>
then do a docker image build
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:05:31 GMT):<br/>
```docker build -t hfrd/minifab:latest . ```
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:06:08 GMT):<br/>
these have been working for linux. can not get a windows system. sigh!
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:06:32 GMT):<br/>
download the VB image which is about 20 gb kept failing on me.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:06:50 GMT):<br/>
and I actually tried that awhile back, docker wont work on the image.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:07:43 GMT):<br/>
so remove 41 and 57
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:08:04 GMT):<br/>
yes.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:08:41 GMT):<br/>
I will be testing this on linux and see if I can remove them without causing any issues.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:10:13 GMT):<br/>
```C:\Users\s390x\minifabric>minifabwin.cmd generate
standard_init_linux.go:211: exec user process caused "no such file or directory"
```
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:11:07 GMT):<br/>
```C:\Users\s390x\minifabric>git diff
diff --git a/playbooks/ops/certgen/createcerts.yaml b/playbooks/ops/certgen/createcerts.yaml
index 25a55eb..fd670d3 100755
--- a/playbooks/ops/certgen/createcerts.yaml
+++ b/playbooks/ops/certgen/createcerts.yaml
@@ -54,7 +54,6 @@
 - name: Use fabric tools container to create channel artifacts
   command: >-
     docker run --rm --name tools
-    -v /var/run/:/host/var/run
     -v {{ hostroot}}/vars:/etc/hyperledger/fabric
     hyperledger/fabric-tools:{{ fabric.release }} /etc/hyperledger/fabric/run/certtxgen.sh

diff --git a/playbooks/ops/netup/apply.yaml b/playbooks/ops/netup/apply.yaml
index 4038939..12b3c44 100644
--- a/playbooks/ops/netup/apply.yaml
+++ b/playbooks/ops/netup/apply.yaml
@@ -38,7 +38,6 @@
   command: >-
     docker run -d --network {{ NETNAME }} --name {{ item.fullname }} --hostname {{ item.fullname }}
     --env-file {{ pjroot }}/vars/run/{{ item.fullname }}.env {{ item.portmap }}
-    -v /var/run/:/host/var/run
     -v {{ mpath }}/{{item.org}}/peers/{{item.fullname}}/msp:/etc/hyperledger/fabric/msp
     -v {{ mpath }}/{{item.org}}/peers/{{item.fullname}}/tls:/etc/hyperledger/fabric/tls
     -v {{ item.fullname }}:/var/hyperledger/production

C:\Users\s390x\minifabric>```
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:11:58 GMT):<br/>
```C:\Users\s390x\minifabric>docker build -t hfrd/minifab:latest .
Sending build context to Docker daemon  350.7kB
Step 1/10 : FROM alpine:latest
 ---> a24bb4013296
Step 2/10 : LABEL maintainer="litong01@us.ibm.com"
 ---> Using cache
 ---> 0847f42be486
Step 3/10 : ENV PYTHONUNBUFFERED=1
 ---> Using cache
 ---> 1ca195ae64bd
Step 4/10 : RUN apk add --no-cache bash ansible docker-cli openssl xxd &&     if [ ! -e /usr/bin/python ]; then ln -sf python3 /usr/bin/python ; fi &&     mkdir -p /usr/lib/python3.8/site-packages/Crypto/Random/Fortuna
 ---> Using cache
 ---> 00501a2ae66b
Step 5/10 : COPY . /home
 ---> Using cache
 ---> 37919077d5a5
Step 6/10 : COPY plugins /usr/lib/python3.8/site-packages/ansible/plugins
 ---> Using cache
 ---> 1f40e669f55e
Step 7/10 : COPY pypatch /usr/lib/python3.8/site-packages/Crypto/Random/Fortuna
 ---> Using cache
 ---> 8642bfac90b0
Step 8/10 : RUN find /home/plugins -delete && find /home/pypatch -delete
 ---> Using cache
 ---> 531c4d23b92b
Step 9/10 : ENV PATH $PATH:/home/bin
 ---> Using cache
 ---> 20bb8fe24824
Step 10/10 : WORKDIR /home
 ---> Using cache
 ---> d27fd26565eb
Successfully built d27fd26565eb
Successfully tagged hfrd/minifab:latest
SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.

C:\Users\s390x\minifabric>```
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:15:16 GMT):<br/>
ah right, those would trying to run docker inside hyperv, so it wouldn't work
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:16:29 GMT):<br/>
sigh!
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:16:59 GMT):<br/>
I just tested on linux, removing these two lines wont cause any issues.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:17:47 GMT):<br/>
but I am not 100% positive that the issue is due to these two lines.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:18:33 GMT):<br/>
it seems to me for some reason that the working directory was not mounted to the container correctly.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:19:05 GMT):<br/>
I would say, drop the windows non-WSL2 support.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:19:26 GMT):<br/>
If someone is using Docker, they probably have WSL2, so just say it's a requirement for windows
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:19:33 GMT):<br/>
yes
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:19:44 GMT):<br/>
that probably would be the better solution.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:19:58 GMT):<br/>
then `git rm minifabwin` and all
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:20:22 GMT):<br/>
I really want this thing to work on windows though
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:20:44 GMT):<br/>
a lot of people still have only windows.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:20:46 GMT):<br/>
where did you test it in the past?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:21:06 GMT):<br/>
I have an old windows 10 machine (laptop) and did all the tests.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:21:18 GMT):<br/>
then some other people also helped test it on windows.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:21:38 GMT):<br/>
that windows 10 machine is old and slow.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:21:49 GMT):<br/>
```ver

Microsoft Windows [Version 10.0.19042.423]```
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:21:54 GMT):<br/>
but I do not know if it is windows WSL2 or not.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:21:54 GMT):<br/>
probably newer
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:22:05 GMT):<br/>
it probably isn't
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:22:20 GMT):<br/>
I can pull that one machine out again and try it.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:22:36 GMT):<br/>
don't get hung up on WSL versus WSL2 versus HyperV
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:22:43 GMT):<br/>
but what is the difference between regular windows WSL and WSL 2 are not clear to me.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:22:52 GMT):<br/>
WSL is deprecated
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:23:11 GMT):<br/>
I think you're overindexing on WSL.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:23:20 GMT):<br/>
I don't have a machine without it to test on
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:23:21 GMT):<br/>
ok.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:23:49 GMT):<br/>
oh, hmm, I have a machine, but I would need to install windows 10 on it
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:24:10 GMT):<br/>
I do not have a windows 10 license.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:24:20 GMT):<br/>
nor I have another machine.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:24:21 GMT):<br/>
you don't need one for the first 14 days
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:24:31 GMT):<br/>
oh, the trail.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:24:52 GMT):<br/>
let me try the latest minifabric on my windows machine and see what the issue is.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:25:02 GMT):<br/>
ok
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:25:06 GMT):<br/>
thanks for trying minifabric, it is getting a lot of attraction.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:25:23 GMT):<br/>
I am doing another webinar next week.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:25:27 GMT):<br/>
with no composer, it's hard
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:25:39 GMT):<br/>
right, right.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:25:49 GMT):<br/>
people keep reaching out to us about composer, because it was way easier to get fabric running using composer
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:25:49 GMT):<br/>
minifabric is the thing to have.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:26:06 GMT):<br/>
is even easier.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:26:17 GMT):<br/>
will keep you posted.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:27:27 GMT):<br/>
I gotta get better gifs in here
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:27:36 GMT):<br/>
haha.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:35:32 GMT):<br/>
@rjones these two lines actually can not be removed. they are still needed.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 15:35:41 GMT):<br/>
it has to be some other errors.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 15:36:01 GMT):<br/>
OK.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:24:45 GMT):<br/>
@rjones I pulled my old windows machine out.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:25:09 GMT):<br/>
it is windows 10 Pro, 10.0.18363 Build 18363
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:27:03 GMT):<br/>

<br/><a href="./assets/FYvbuFtRjQmrjxNwY-IMG_3382.HEIC">IMG_3382.HEIC</a>
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:27:12 GMT):<br/>

<br/><a href="./assets/Xi5NfZe68PswoEK26-IMG_3383.HEIC">IMG_3383.HEIC</a>
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:28:20 GMT):<br/>

<br/><a href="./assets/orjkzEZ5sB8pc82aD-IMG_3384.HEIC">IMG_3384.HEIC</a>
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:35:25 GMT):<br/>
everything runs correctly.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:36:39 GMT):<br/>
I mean on windows
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:36:43 GMT):<br/>
OK. I will need to set up a machine with an older version of windows and see what is broken
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:37:20 GMT):<br/>
or perhaps the guidance is, if you're running this version of windows, do this - otherwise, do that
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:37:28 GMT):<br/>
I think that our docker version is the same
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:37:47 GMT):<br/>
yeah I'm willing to bet it is the windows version, something has changed
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:38:09 GMT):<br/>
since I'm on `ver Microsoft Windows [Version 10.0.19042.423]`
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:38:15 GMT):<br/>
is your windows pro?
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:38:56 GMT):<br/>
yes
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:39:00 GMT):<br/>
I mean windwos 10 pro?
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:39:33 GMT):<br/>
```OS Name	Microsoft Windows 10 Pro
Version	10.0.19042 Build 19042
```
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:39:48 GMT):<br/>
yeah, both windows 10 pro
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:39:51 GMT):<br/>
sigh!
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:40:09 GMT):<br/>
```Virtualization-based security	Running
Virtualization-based security Required Security Properties	
Virtualization-based security Available Security Properties	Base Virtualization Support, Secure Boot, DMA Protection, SMM Security Mitigations 1.0, Mode Based Execution Control
Virtualization-based security Services Configured	
Virtualization-based security Services Running	
A hypervisor has been detected. Features required for Hyper-V will not be displayed.	
```
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:40:25 GMT):<br/>
 ¯\_(ツ)_/¯
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:40:46 GMT):<br/>
how did you get that info? I like to check mine as well
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:41:05 GMT):<br/>
BTW, thanks a lot for creating this channel
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:42:46 GMT):<br/>
run "system information"
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:43:58 GMT):<br/>
if you run it elevated, you'll see more
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:57:35 GMT):<br/>
ok
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 16:57:49 GMT):<br/>
did you find it?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:59:20 GMT):<br/>
got to start a meeting. will try after.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 16:59:26 GMT):<br/>
sorry @rjones
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 19:55:21 GMT):<br/>

<br/><a href="./assets/4LZGH8Gs6aFL8ZKu2-IMG_3385.HEIC">IMG_3385.HEIC</a>
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 19:56:44 GMT):<br/>
@rjones the setting is a bit different.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 19:56:44 GMT):<br/>
@rjones these setting is almost identical
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 19:59:11 GMT):<br/>
OK. I am rolling through all of the windows 10 versions, looking for breaks. So far I'm up to `Version 10.0.18362.959`
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 19:59:35 GMT):<br/>
wow.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 19:59:48 GMT):<br/>
working or not working?
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 20:00:13 GMT):<br/>
working. The next one is the big jump - it's the first version with wsl2 baked in
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 20:00:28 GMT):<br/>
ok.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 20:00:35 GMT):<br/>
great. thanks for trying it.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 20:54:19 GMT):<br/>
@tongli it is WSL2 - I was wrong. Once you install it, minifab is broken
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 20:55:12 GMT):<br/>
the May update, no WSL2 - works fine. Install WSL2 - broken
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 20:55:42 GMT):<br/>
I could not even update to a level which allows me to install WSL2.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 20:56:46 GMT):<br/>
I think WSL2 is the default now
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 20:57:08 GMT):<br/>
your intuition was correct; I was wrong to dismiss it ¯\_(ツ)_/¯
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 20:59:31 GMT):<br/>
I wonder what made it broken.
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 21:33:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 21:33:08 GMT):<br/>
I installed minifab on Windows 10, WSL 2, but this is Ubuntu 20.04 image...WSL 2 is if you have Windows 10 version 2004...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 21:34:45 GMT):<br/>
I tested on my office computer and on my home laptop... Lenovo...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 21:54:06 GMT):<br/>

<br/><a href="./assets/yKYbeRdirD8GFgEoL-Screenshot_52.jpg">Screenshot_52.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 21:55:14 GMT):<br/>

<br/><a href="./assets/nmYE3aTyPporX7Sje-Screenshot_53.jpg">Screenshot_53.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 21:56:44 GMT):<br/>
With this Ubuntu - minifabric work... maybe you can add ABstore example, too... I tested with minifabric, too... Java code...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:00:08 GMT):<br/>

<br/><a href="./assets/t7BEaDfZsAcYwbkGv-Screenshot_37.jpg">Screenshot_37.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:03:31 GMT):<br/>

<br/><a href="./assets/hBLb2cpjSApmxQN3W-Screenshot_39.jpg">Screenshot_39.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:04:28 GMT):<br/>

<br/><a href="./assets/6CmddgZaCekoQ49HK-Screenshot_40.jpg">Screenshot_40.jpg</a>
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:05:06 GMT):<br/>
Yeah. As long as it is a Linux it is ok.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:05:38 GMT):<br/>
What ry tried was to run minifabric on native windows
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:05:48 GMT):<br/>
Under Windows 10 I have problem at home Laptop...
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:06:10 GMT):<br/>
If you have wsl2 installed, it breaks
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:06:23 GMT):<br/>
If you just have wsl , works ok
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:06:29 GMT):<br/>
I first try this and report error on Forum...
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:07:26 GMT):<br/>
I do not have an wsl2 so can’t really see what broke the tool
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:07:41 GMT):<br/>
https://lists.hyperledger.org/g/fabric/message/8788
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:08:25 GMT):<br/>
Hmmm. That is exact error Ry got
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:08:45 GMT):<br/>
minifab.cmd up / have error... and after that I tested minifab.cmd  generate...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:09:23 GMT):<br/>
without success
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:09:48 GMT):<br/>
So you @zilich must have wsl 2 on your windows
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:11:16 GMT):<br/>
I like to work with minifabric without Linux... Or must get Linux Laptop :)
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:11:34 GMT):<br/>
Haha.yeah.
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:11:50 GMT):<br/>
I suspect it is a real small issue.
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:12:00 GMT):<br/>
Windows with Docker and WSL 2/Ubuntu eat memory...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:12:24 GMT):<br/>
When you made new release, I can test it...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:12:29 GMT):<br/>
Let me know...
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:12:49 GMT):<br/>
Hmmm, I do not have a wsl2 system
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:13:03 GMT):<br/>
Can’t really recreate the issue
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:13:14 GMT):<br/>
Or test. 
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:13:27 GMT):<br/>
Need a wsl2 system so that I can try it
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:13:52 GMT):<br/>

<br/><a href="./assets/MAboiBitS4YHtBvoh-Screenshot_54.jpg">Screenshot_54.jpg</a>
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:14:32 GMT):<br/>
Right. The system I have can’t be upgraded to wsl2 
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:14:45 GMT):<br/>
If IBM cant get mashine for test, who can then get???
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:14:58 GMT):<br/>
?
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:15:13 GMT):<br/>
Work for IBM or not?
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:15:37 GMT):<br/>
What r u try to say ?
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:16:03 GMT):<br/>
That maybe you can ask to get new comp for test?
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:16:38 GMT):<br/>
or to install new virtual windows???
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:16:48 GMT):<br/>
Windows 10...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:17:15 GMT):<br/>
I have problem with update to this version, too...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:17:31 GMT):<br/>
You need Windows 10 Pro...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:19:37 GMT):<br/>
I work at Faculty of Economics... SysAdmin... And now is free time... I can test minifab on 50 computers :) If neede ...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:23:44 GMT):<br/>
Bye... Let me know, if I can help...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:29:09 GMT):<br/>

<br/><a href="./assets/DQGvejrte3YRvdC38-Screenshot_246.jpg">Screenshot_246.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:33:25 GMT):<br/>

<br/><a href="./assets/wLikYwbaBzwfmStof-Screenshot_44.jpg">Screenshot_44.jpg</a>
</p>
<p><strong>tongli</strong> (Mon, 03 Aug 2020 22:33:37 GMT):<br/>
Minifabric works fine on wsl1
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:34:21 GMT):<br/>
In that time, I tested undel Ubuntu... Not with windows only...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:35:00 GMT):<br/>
But at Faculty isnt all computer updated... Only to see one, where I have remote access...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:38:01 GMT):<br/>
I update it, too :(
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 22:38:47 GMT):<br/>
@zilich if you're on a machine with WSL2, use the WSL2 UI (Ubuntu whatever) to use MiniFab. If your machine doesn't have WSL2 installed, you can use the previous instructions at the prompt
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:38:56 GMT):<br/>

<br/><a href="./assets/3rquCbpnehs9izyJw-Screenshot_56.jpg">Screenshot_56.jpg</a>
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 22:39:54 GMT):<br/>
right now, the windows instructions (the minifabwin.cmd file) won't work under the command prompt on a machine with WSL2 installed
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 22:41:19 GMT):<br/>
I've updated the bug: https://github.com/litong01/minifabric/issues/43
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:41:51 GMT):<br/>

<br/><a href="./assets/pRyeXBJYs6EuiPzDw-Screenshot_248.jpg">Screenshot_248.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:43:17 GMT):<br/>
I will test on office comp... There isnt enabled WSL 2... Or I can set version 1 :)
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:43:39 GMT):<br/>
And test Windows only installation... With WSL 1...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:44:01 GMT):<br/>
And last version of Windows 10 Pro... 2004
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:44:28 GMT):<br/>
I will report if this work or no...
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 22:45:06 GMT):<br/>
I did these tests today, on clean windows 10 with no WSL2, it's fine.
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 22:46:00 GMT):<br/>
@tongli https://github.com/litong01/minifabric/pull/46
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:46:05 GMT):<br/>
OK! Thanks for full information... I will make ScreenShots for every step... good night
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 22:46:24 GMT):<br/>
ok
</p>
<p><strong>rjones</strong> (Mon, 03 Aug 2020 22:46:30 GMT):<br/>
have a good day!
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:47:05 GMT):<br/>
Are you test other java programs with minifab? From HLF fabric-samples... FabCar?
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:47:16 GMT):<br/>
good night...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:47:28 GMT):<br/>
Here is pass midnight...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:47:35 GMT):<br/>
47 minutes ...
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:55:28 GMT):<br/>

<br/><a href="./assets/aurySYHYrQSH5DBAg-Screenshot_57.jpg">Screenshot_57.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 03 Aug 2020 22:55:52 GMT):<br/>
Bye... Thanks...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 04:43:39 GMT):<br/>
https://medium.com/@gmusumeci/linux-on-windows-totally-how-to-install-wsl-1-and-wsl-2-307c9dd38a36

Maybe you don`t read articles about WSL1 and WSL2...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 04:44:54 GMT):<br/>
If you update Windows, (Windows update Assistent?), You can switch to WSL 2...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 04:45:35 GMT):<br/>
I now look revers proccess to switch to WSL 1...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 04:51:30 GMT):<br/>
Before I installed miniFabric, I look that HLF work for me...
Based on this article...
https://hackernoon.com/hyperledger-fabric-installation-guide-74065855eca9

Second part is for Windows 10 only...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 05:44:27 GMT):<br/>

<br/><a href="./assets/EZGcDR6QZdRx2skZZ-Screenshot_75.jpg">Screenshot_75.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 05:46:17 GMT):<br/>
I will finish other steps... Like this...
https://golang.org/doc/install?download=go1.14.6.windows-amd64.msi
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:22:32 GMT):<br/>
wmic /namespace:\\root\wmi path Lenovo_BiosSetting get
I see that on this computer is wrong VT-d...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:22:32 GMT):<br/>
wmic /namespace:\\root\wmi path Lenovo_BiosSetting get
I see that on this computer have wrong VT-d...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:23:32 GMT):<br/>

<br/><a href="./assets/FL9rC8KqE75Z9ez5L-Screenshot_77.jpg">Screenshot_77.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:23:32 GMT):<br/>

<br/><a href="./assets/FL9rC8KqE75Z9ez5L-Screenshot_77.jpg">Screenshot_77.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:52:05 GMT):<br/>

<br/><a href="./assets/bvEpDA426ixS2gX6y-Screenshot_83.jpg">Screenshot_83.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:53:38 GMT):<br/>
There is some VB scripts to change this values... I dont test it...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:55:51 GMT):<br/>
npm install --global windows-build-tools

This command add python, too...
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 06:56:05 GMT):<br/>

<br/><a href="./assets/iT2HLwxRA5nrCu4F5-Screenshot_84.jpg">Screenshot_84.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 04 Aug 2020 07:38:56 GMT):<br/>

<br/><a href="./assets/X66JqkrEvfJxCKG6y-Screenshot_91.jpg">Screenshot_91.jpg</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 06 Aug 2020 10:57:31 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 06 Aug 2020 10:57:31 GMT):<br/>
Hi, anyone have any experience using minifab on a restricted network? At work, we use decrypt to decrypt and inspect all HTTPS traffic going into and out of the firm's network. This means that every docker image we use needs to install and trust our root certificates in order to access the web. I'm attempting to extend the images needed for minifab and I've edited "apply.yaml" so that all of the `docker run` commands launch my custom containers instead of the fabric official ones. This has a few issues: (1) I can only target one version of fabric at a time because I don't have an automated way to extend the images (2) I've had to install an additional package (ca-certificates) on fabric-peer and fabric-orderer in order to install the certificates I need, not sure if this would cause any issues (3) it doesn't work - I can bring up a network but I can't get past the 'create channel' step (see thread). 

We are attempting to build a HLF developer environment at my workplace and this is currently a blocker for us, if anyone has any time to help me out I would greatly appreciate it. Since HLF is targetting enterprise, I think minifab users can expect to encounter this issue in their own workplaces so a general solution may be of significant value. Cheers
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 06 Aug 2020 10:58:26 GMT):<br/>

<br/><a href="./assets/PXD5jHSj59BqLj6Qt-Clipboard - August 6, 2020 11:58 AM">Clipboard - August 6, 2020 11:58 AM</a>
</p>
<p><strong>rjones</strong> (Thu, 06 Aug 2020 14:53:06 GMT):<br/>
@SpecialAgentCooper interesting use case
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 06 Aug 2020 14:55:49 GMT):<br/>
the orderer goes into a loop where it spits out this error message repeatedly before exiting just after:
```
 2020-08-06 13:22:21.960 UTC [orderer.common.cluster] ReplicateChains -> PANI 8bf Failed pulling system channel: failed obtaining the latest block for channel systemchannel
 panic: Failed pulling system channel: failed obtaining the latest block for channel systemchannel
```
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 06 Aug 2020 14:55:49 GMT):<br/>
the orderer goes into a loop where it spits out a TLS handshake error message repeatedly before exiting just after:
```
 2020-08-06 13:22:21.960 UTC [orderer.common.cluster] ReplicateChains -> PANI 8bf Failed pulling system channel: failed obtaining the latest block for channel systemchannel
 panic: Failed pulling system channel: failed obtaining the latest block for channel systemchannel
```
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 06 Aug 2020 15:01:16 GMT):<br/>
yeah it's a challenge every time we want to get something to work inside our firewall :laughing: Interesting, I can bring up the network and get all the way to "cc install" before it fails if I don't try anything funky with the certs - it fails at the point where it tries to download the GO binaries because the HTTPS request is blocked without our certificates
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 06 Aug 2020 15:01:16 GMT):<br/>
yeah it's a challenge every time we want to get something to work inside our firewall :laughing: Interestingly, I can bring up the network and get all the way to "cc install" before it fails if I don't try anything funky with the certs - it fails at the point where it tries to download the GO binaries because the HTTPS request is blocked without our certificates
</p>
<p><strong>rjones</strong> (Thu, 06 Aug 2020 15:03:37 GMT):<br/>
hmm. you might be able to build them from source, but that would take forever.
</p>
<p><strong>rjones</strong> (Thu, 06 Aug 2020 15:04:22 GMT):<br/>
the CI to build/publish the docker images for fabric is in the fabric repo, is what I mean.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:16:16 GMT):<br/>
@SpecialAgentCooper hmmm, I think you probably can try to have your own images tagged as hyperledger fabric image and try that way and see how things go.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:17:47 GMT):<br/>
minifabric trusts your env since it should be completely under your control. As long as you have the image tagged as hyperledger/fabric-peer:4.5.1 (see what I did there?), and you are asking for that release during the deployment, then minifabric will happily use your local image to do things.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:18:01 GMT):<br/>
you could even tag your own image like this
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:18:21 GMT):<br/>
```hyperledger/fabric-peer:myrelease```
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:18:30 GMT):<br/>
then you can run minifabric like this
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:18:41 GMT):<br/>
```minifab up -i myrelease```
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:18:47 GMT):<br/>
your own image will be used.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:19:16 GMT):<br/>
have not tried this myself, but it should work in terms of using your own images.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:24:30 GMT):<br/>
Thanks for these suggestions (I'm makkasu from github by the way, we can chat here if you prefer). I'll give this a go.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:29:27 GMT):<br/>
@SpecialAgentCooper too many names, you get me confused. thought two different persons.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:29:35 GMT):<br/>
Haha sorry about that
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:29:46 GMT):<br/>
@SpecialAgentCooper haha, not a problem at all.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:30:40 GMT):<br/>
Just checked - spec.yaml changes are having no effect at all. Just described a network with extra nodes and they didn't come up:
```
fabric:
  cas:
    - "ca1.shang.example.com"
    - "ca1.edb.example.com"
  peers:
    - "peer1.shang.example.com"
    - "peer2.shang.example.com"
    - "peer1.edb.example.com"
    - "peer2.edb.example.com"
    - "peer3.edb.example.com"
  orderers:
    - "orderer1.example.com"
    - "orderer2.example.com"
    - "orderer3.example.com"
  settings:
    ca:
      FABRIC_LOGGING_SPEC: DEBUG
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
      CORE_CHAINCODE_BUILDER: max/fabric-nodeenv:latest
    orderer:
      FABRIC_LOGGING_SPEC: DEBUG
```
But the network that came up was the default one
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:31:10 GMT):<br/>
Where is this file supposed to live? I've got it in my working directory (same location as minifab.cmd)
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:31:32 GMT):<br/>
the spec.yaml file should be located in your working directory.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:31:47 GMT):<br/>
oh , you are on windows?
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:31:51 GMT):<br/>
that's right
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:32:37 GMT):<br/>
the location where minifab.cmd is is where you run your command?
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:33:21 GMT):<br/>
where you run that command is what working directory is, you can have minifab.cmd in another directory, that directory wont be considered working directory.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:41:18 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:46:48 GMT):<br/>
If you are on windows you can use
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:46:59 GMT):<br/>
docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v %CD%/vars:/home/vars ^
 -v %CD%/spec.yaml:/home/spec.yaml -e "hostroot=%currentdir%" -e "ADDRS=!_alladdress!" hfrd/minifab:latest /home/main.sh %*
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:47:09 GMT):<br/>
on minifab.cmd
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:47:16 GMT):<br/>
I have a working directory which contains/////////////////////////
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:47:16 GMT):<br/>
I have a working directory which contains 
vars
minifab.cmd
spec.yaml
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:47:42 GMT):<br/>
What do you mean //////
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:47:52 GMT):<br/>
sorry mistyped, edited now
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:48:32 GMT):<br/>
@SpecialAgentCooper do a `minifab.cmd cleanup`, and make sure that your spec.yaml is correct, then try again.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:48:33 GMT):<br/>
yeah inside mnifab.cmd you have a line of code
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:49:04 GMT):<br/>
and assume that you are not messing with minifabric.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:49:19 GMT):<br/>
yeah I've been using minifab down and minifab cleanup between tests
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:49:30 GMT):<br/>
Yeah in windows cmd tong you are not specifing the path on spec.yaml
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:49:39 GMT):<br/>
in one of your posts, you said that you changed some of minifabric stuff.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:49:53 GMT):<br/>
make sure that you are just using the latest minifabric code.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:49:55 GMT):<br/>
Yes that was a previous attempt - this time I am just using the minifabwin script in a clean irectory
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:50:05 GMT):<br/>
ok, good.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 13:50:38 GMT):<br/>
should that be in minifab win in place of the normal docker run command?
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:51:25 GMT):<br/>
My suggestion would be to change minifabwin to this docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v %CD%/vars:/home/vars ^
 -v %CD%/spec.yaml:/home/spec.yaml -e "hostroot=%currentdir%" -e "ADDRS=!_alladdress!" hfrd/minifab:latest /home/main.sh %*
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:51:25 GMT):<br/>
My suggestion would be to change minifabwin to this `docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v %CD%/vars:/home/vars ^
 -v %CD%/spec.yaml:/home/spec.yaml -e "hostroot=%currentdir%" -e "ADDRS=!_alladdress!" hfrd/minifab:latest /home/main.sh %*`
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:52:39 GMT):<br/>
and insert your specific path for spec.yaml
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:58:52 GMT):<br/>
@pkirkinezis that should work.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 13:59:13 GMT):<br/>
I 99% confident i tried my self
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:59:16 GMT):<br/>
and you can put up a PR for minifabwin
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:59:28 GMT):<br/>
@pkirkinezis, check if there is a spec.yaml file available.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 13:59:28 GMT):<br/>
@pkirkinezis
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:00:27 GMT):<br/>
that was what the script for linux did. do not remember why it was not done for windows.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:03:31 GMT):<br/>
Done
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:04:12 GMT):<br/>
reviewed, it wont work when there is no spec.yaml file exist.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:04:26 GMT):<br/>
I think there should be a spec.yaml file check.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:04:32 GMT):<br/>
can you add that logic?
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:04:56 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=yr97KZFGyJNBddKbP) Yeah i do not know . But i did found out the hard way teaching a colleague of mine that he use windows 5 days ago.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:05:27 GMT):<br/>
Yeah let me check i will implement a logic asap
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:05:32 GMT):<br/>
the idea is that if there is such file in the working directory, then that file should be used. if there is no such file, then the default would be used.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:06:11 GMT):<br/>
that will be the current command, only use your new command when there is such file exists in the current working directory.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:07:13 GMT):<br/>
Yeah how can i revert my pull request ?
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:07:23 GMT):<br/>
from github UI
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:07:55 GMT):<br/>
you can abandon it or simply make update to your commit.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:10:26 GMT):<br/>
oK
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:12:39 GMT):<br/>
hOW THIS CODE LOOKS LILE
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:12:40 GMT):<br/>
IF EXIST "%CD%/spec.yaml" (
   docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v %CD%/vars:/home/vars ^
   -v %CD%/spec.yaml:/home/spec.yaml -e "hostroot=%currentdir%" -e "ADDRS=!_alladdress!" hfrd/minifab:latest /home/main.sh %*
 ) ELSE (
   docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v %CD%/vars:/home/vars ^
  -e "hostroot=%currentdir%" -e "ADDRS=!_alladdress!" hfrd/minifab:latest /home/main.sh %*
  )
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:13:26 GMT):<br/>
looks good to me.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:14:32 GMT):<br/>
Done i updated the commit
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:15:06 GMT):<br/>
that is two commits,
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:15:14 GMT):<br/>
you should squash the commits into one.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 14:17:44 GMT):<br/>
I've just tested out the script - when I log in to the peer container I get:
```
/ # env | grep BUILDER
CORE_CHAINCODE_BUILDER=max/fabric-nodeenv:latest
```
which is good, the spec.yaml file is being read now. However, when the chaincode builder image launches it is still pulling from hyperledger. So I guess that's a Hyperledger issue at this point since it is not using the CORE_CHAINCODE_BUILDER variable to choose the chaincode environment?
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:19:03 GMT):<br/>
@SpecialAgentCooper you probably can point it to some different repo. or try to have that image local to the machine that you are running.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:19:46 GMT):<br/>
do you have the image tagged max/fabric-nodeenv:latest on your machine?
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:20:10 GMT):<br/>
or do you have that image on docker hub? if neither, it wont work.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 14:20:22 GMT):<br/>
yes: 
```
docker image ls
REPOSITORY                        TAG                 IMAGE ID            CREATED             SIZE
max/fabric-nodeenv                latest              b1201b995698        3 hours ago         294MB
```
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:20:43 GMT):<br/>
then it should work.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 14:20:53 GMT):<br/>
interesting
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:21:22 GMT):<br/>
you can remove the hyperledger/fabric-nodeenv and try again and see if it gets downloaded.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:21:29 GMT):<br/>
if it is, then it has to be a fabric issue.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:23:39 GMT):<br/>
@tongli  did whole think again
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 14:24:35 GMT):<br/>
`Error response from daemon: conflict: unable to delete ab88fe4d29dd (cannot be forced) - image has dependent child images` - I get this error message when I attempt to delete `hyperledger/fabric-nodeenv`, which my image extends. Perhaps I need to build from source
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:24:51 GMT):<br/>
@pkirkinezis ?
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:25:24 GMT):<br/>
@SpecialAgentCooper your own image depends on that image.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:25:48 GMT):<br/>
not sure how to test it more.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:26:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=jzhwCuodaHypQtRwJ) I did a new pull request cancelled the old one
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:27:04 GMT):<br/>
@pkirkinezis yeah. looks good to me. thanks for your contribution.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:27:41 GMT):<br/>
@pkirkinezis I assume that you are using windows 10 WSL1, is that right?
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 14:30:05 GMT):<br/>
Fair enough, thanks for all of your help. Minifab looks like a great tool, hopefully I'll get it to work inside my company firewall. It seems that fabric is tricky to run on restricted networks in general
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:30:13 GMT):<br/>
Microsoft Windows [Version 10.0.18363.959] @tongli
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:30:13 GMT):<br/>
Microsoft Windows [Version 10.0.18363.959]
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:31:20 GMT):<br/>
yeah, that is windows 10 WSL 1.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:32:23 GMT):<br/>
FIY I am on company computer .Is there any difference in WSL 2?
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:32:54 GMT):<br/>
@pkirkinezis if you are using WSL2, you can not use windows script.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:33:14 GMT):<br/>
you will need to use linux script on windows in WSL 2 console.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:33:24 GMT):<br/>
it is a whole lot different animal.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:33:28 GMT):<br/>
o  so the querstion was kind of pointless
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:33:41 GMT):<br/>
I would really really hope that you get a linux machine.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:34:09 GMT):<br/>
well, if you were using WSL 2, and made this far, I would be quite surprised.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:35:58 GMT):<br/>
@tongli  I strangled hard to get hyper ledger fabric-samples to work when i was first introduced to the HYPERLEDGER my self .  So my only experience with minifab and windows if from my colleague. I have only used minifab on linux my self .
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:35:58 GMT):<br/>
@tongli  I strangled hard to get hyper ledger fabric-samples to work when i was first introduced to the HYPERLEDGER my self .  So my only experience with minifab and windows is from my colleague. I have only used minifab on linux my self .
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:36:29 GMT):<br/>
ok.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:37:04 GMT):<br/>
well, I certainly hope that you have found minifabric useful to what you do.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:39:25 GMT):<br/>
More than useful I clearly can say . I am still working on approving and committing chain code as the issue I raised . Also i am on first staged of an API using java SDK
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:39:25 GMT):<br/>
More than useful I clearly can say . I am still working on approving and committing chain code as the issue I raised . Also i am on first stages of an API using java SDK
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:40:39 GMT):<br/>
@pkirkinezis congrats to your first contribution.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:40:54 GMT):<br/>
now take minifabric to the people who are in needs.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:40:59 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=xCC5i6Esk66SaBw6F) Second contribution
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:41:01 GMT):<br/>
and spread the words.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:41:39 GMT):<br/>
I did fix the "-" :P
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:41:44 GMT):<br/>
@pkirkinezis so your github id and the id here are different?
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:42:53 GMT):<br/>

<br/><a href="./assets/365RmXmYFA4SeFrKZ-Clipboard - August 10, 2020 5:42 PM">Clipboard - August 10, 2020 5:42 PM</a>
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 14:43:10 GMT):<br/>
@pkirkinezis haha.
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:43:51 GMT):<br/>
For some reason when i was searching desperately for documentation explanation etc  i urgently created this account to login here
</p>
<p><strong>pkirkinezis</strong> (Mon, 10 Aug 2020 14:51:56 GMT):<br/>
I did changed my ID to much my github .
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 10 Aug 2020 16:32:27 GMT):<br/>
@tongli just tried your earlier suggestion of tagging each of the required images as a specific version (went with 3.0.1) - the network is brought up, a channel created and joined (all using `hyperledger/fabric-node:3.0.1`, etc) but when the chaincode was installed it used `fabric-nodeenv:2.2`. Seems like this is a fabric bug? If it is, do you know where I should raise it? Do you have any further suggestions?
</p>
<p><strong>rjones</strong> (Mon, 10 Aug 2020 17:24:18 GMT):<br/>
@tongli try this out: https://github.com/litong01/minifabric/pull/51
</p>
<p><strong>rjones</strong> (Mon, 10 Aug 2020 17:24:26 GMT):<br/>
should make it easier to help people
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 18:32:41 GMT):<br/>
@SpecialAgentCooper probably first ask in the fabric channel.
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 18:33:00 GMT):<br/>
I mean before file a bug report
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 18:34:42 GMT):<br/>
I think that the builder setting is only to alter the chaincode image building process, how did you make sure which process was used?
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 18:35:16 GMT):<br/>
Was the chaincode image created?
</p>
<p><strong>tongli</strong> (Mon, 10 Aug 2020 18:35:38 GMT):<br/>
Can you check if the chaincode container uses right container image?
</p>
<p><strong>pkirkinezis</strong> (Tue, 11 Aug 2020 06:47:25 GMT):<br/>
yeah
</p>
<p><strong>pkirkinezis</strong> (Tue, 11 Aug 2020 06:48:53 GMT):<br/>
I did a new commit to the project so pullng the latest minifab will have it fixe
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 11 Aug 2020 09:05:06 GMT):<br/>
I'm not sure, I thought setting that variable was all I needed to control which env image was used to build the chaincode. The chaincode was not built (it fails on `npm install` because it isn't using my special image, designed to work inside our network). I don't know what you mean by the last question.
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 12 Aug 2020 09:02:27 GMT):<br/>
Just to update - with the following lines in my spec.yaml:
```
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
      CORE_CHAINCODE_BUILDER: hyperledger/fabric-ccenv:3.0.1
      CORE_CHAINCODE_NODE_RUNTIME: hyperledger/fabric-nodeenv:3.0.1
```
the correct image for building node.js chaincode was launched! I've now got minifab working properly on my windows machine on a restricted network :D thanks for the help guys, and thanks @tongli for minifab - I think it's saved me a hell of a lot of work.
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 10:39:09 GMT):<br/>
@SpecialAgentCooper great. you probably can add a doc in the /docs directory to talk about this use case. it will be a great help for others who may face same issue.
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 10:40:15 GMT):<br/>
@SpecialAgentCooper I thought you were planning to have your own builder, from the configuration you posted above, it does not seem to be customized.
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 10:40:15 GMT):<br/>
@SpecialAgentCooper so your fabric-ccenv:3.0.1 is your own image?
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 10:42:04 GMT):<br/>
to avoid long term possible issues, you probably can make the release like my3.0.1 or something alone the line to distinguish from the official one.
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 10:43:12 GMT):<br/>
the new doc can be titled like `how to use customized chaincode builders`
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 10:43:31 GMT):<br/>
I suspect real app developers probably will be interested in this.
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 12 Aug 2020 11:06:29 GMT):<br/>
Sure, I'll do some more testing to make sure it's working and write something up by the end of the week
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 12 Aug 2020 11:07:27 GMT):<br/>
And yeah, it is my own image. I'll try changing the tag for my next build.
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 13:21:08 GMT):<br/>
@SpecialAgentCooper thanks. BTW, which company do you work for?
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 12 Aug 2020 13:44:24 GMT):<br/>
Baillie Gifford, an asset manager in Edinburgh, UK
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 15:35:41 GMT):<br/>
@SpecialAgentCooper cool. thanks.
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 16:41:43 GMT):<br/>
Docker installed on Windows host: `v19.03.12`
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 16:42:23 GMT):<br/>
Docker installed within WSL2: ```$ docker -v
Docker version 19.03.8, build afacb8b7f0```
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 16:43:06 GMT):<br/>
`minifab generate` and `minifab up` work fine
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 16:43:38 GMT):<br/>
```$ git log -1
commit dfff0eb327e7a1cf4d5922c8161182d91b13f41c (HEAD -> master, origin/master, origin/HEAD)
Author: Tong Li <litong01@us.ibm.com>
Date:   Tue Aug 11 13:41:45 2020 +0000

    Fixed cc init required flag bug

    Signed-off-by: Tong Li <litong01@us.ibm.com>```
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 16:44:05 GMT):<br/>
so @tongli  to answer your question - that's what I'm using on Windows 10, and it works
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 16:59:57 GMT):<br/>
@rjones hmmm. now I am really confused.
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 17:00:10 GMT):<br/>
this is using linux script?
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 17:05:23 GMT):<br/>
Yes
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 17:26:32 GMT):<br/>
@tongli https://gist.github.com/ryjones/1f90f243ca95e77468accedbd407451d
</p>
<p><strong>tongli</strong> (Wed, 12 Aug 2020 20:29:56 GMT):<br/>
This is great. Thanks Ry.
</p>
<p><strong>rjones</strong> (Wed, 12 Aug 2020 20:30:29 GMT):<br/>
https://github.com/litong01/minifabric/pull/51 also :)
</p>
<p><strong>tongli</strong> (Thu, 13 Aug 2020 12:40:17 GMT):<br/>
@rjones Merged, thanks a lot for your contribution.
</p>
<p><strong>rjones</strong> (Thu, 13 Aug 2020 12:41:02 GMT):<br/>
thank you! Is there anything else I can do?
</p>
<p><strong>rjones</strong> (Thu, 13 Aug 2020 12:43:37 GMT):<br/>
I have plugged in my other wintendo for testing if need be
</p>
<p><strong>tongli</strong> (Thu, 13 Aug 2020 12:43:39 GMT):<br/>
had a talk tuesday, a lot of people interested in.
</p>
<p><strong>tongli</strong> (Thu, 13 Aug 2020 12:44:47 GMT):<br/>
it will be great if you can contribute a doc specifically on how to use it in WSL2 env. like a detailed steps to set it up.
</p>
<p><strong>tongli</strong> (Thu, 13 Aug 2020 12:45:01 GMT):<br/>
that will be really helpful to those on windows, but completely up to you.
</p>
<p><strong>rjones</strong> (Thu, 13 Aug 2020 12:46:17 GMT):<br/>
ok, I can try to do that. does wsl2 not work for you?
</p>
<p><strong>tongli</strong> (Thu, 13 Aug 2020 12:46:29 GMT):<br/>
no.
</p>
<p><strong>rjones</strong> (Thu, 13 Aug 2020 12:46:50 GMT):<br/>
awesome
</p>
<p><strong>tongli</strong> (Thu, 13 Aug 2020 12:47:31 GMT):<br/>
Once the wsl2 is installed, I even downloaded ubuntu 20.04 and booted it up, but the ubunto I boot up does not have docker, then I installed docker onto, but the docker would not work.
</p>
<p><strong>tongli</strong> (Thu, 13 Aug 2020 12:47:53 GMT):<br/>
so I think I missed some important steps or misunderstood how wsl2 actually work,
</p>
<p><strong>AndrewPark 1</strong> (Thu, 13 Aug 2020 13:32:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 13 Aug 2020 15:44:27 GMT):<br/>
@tongli added an extra section to the docs about using custom chaincode builders/runtimes, just put in a PR. Let me know if there's anything else I can help with
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:49:18 GMT):<br/>
@tongli I think I have questions for you when you have time with your wsl2 machine
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:51:12 GMT):<br/>
in an elevated cmd prompt, what is the output of `wsl --list --verbose`
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:51:50 GMT):<br/>
```C:\WINDOWS\system32>wsl --set-default-version 2+
For information on key differences with WSL 2 please visit https://aka.ms/wsl2

C:\WINDOWS\system32>wsl --list --verbose
  NAME                   STATE           VERSION
* docker-desktop         Running         2
  Ubuntu                 Stopped         1
  Ubuntu-20.04           Stopped         1
  docker-desktop-data    Running         2

C:\WINDOWS\system32>wsl --set-version Ubuntu-20.04 2
Conversion in progress, this may take a few minutes...
For information on key differences with WSL 2 please visit https://aka.ms/wsl2
Conversion complete.

C:\WINDOWS\system32>wsl --set-version Ubuntu 2
Conversion in progress, this may take a few minutes...
For information on key differences with WSL 2 please visit https://aka.ms/wsl2
Conversion complete.

C:\WINDOWS\system32>```
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:51:50 GMT):<br/>
```C:\WINDOWS\system32>wsl --set-default-version 2

C:\WINDOWS\system32>wsl --list --verbose
  NAME                   STATE           VERSION
* docker-desktop         Running         2
  Ubuntu                 Stopped         1
  Ubuntu-20.04           Stopped         1
  docker-desktop-data    Running         2

C:\WINDOWS\system32>wsl --set-version Ubuntu-20.04 2
Conversion in progress, this may take a few minutes...

C:\WINDOWS\system32>wsl --set-version Ubuntu 2
Conversion in progress, this may take a few minutes...
```
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:54:27 GMT):<br/>
then `wsl --list --verbose` should show all VMs are version 2
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:54:45 GMT):<br/>
then start a new vm, `sudo usermod -aG docker $USER` and exit and start a new one
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:55:37 GMT):<br/>

<br/><a href="./assets/WMktvvXFcCC7jrCoS-features.gif">features.gif</a>
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:55:54 GMT):<br/>
then it will work. this is on stock windows 10 (I reset the computer)
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:58:26 GMT):<br/>
```ry@DESKTOP-DOQJ7SM:~$ groups
ry adm dialout cdrom floppy sudo audio dip video plugdev netdev docker
ry@DESKTOP-DOQJ7SM:~$ cd minifabric/
ry@DESKTOP-DOQJ7SM:~/minifabric$ ./minifab up
./minifab: line 3: ifconfig: command not found
Unable to find image 'hfrd/minifab:latest' locally
latest: Pulling from hfrd/minifab
df20fa9351a1: Pull complete
16d327ff9a88: Pull complete
6e0c6abef359: Pull complete
63185ac9f51a: Pull complete
cb46d2e655f9: Pull complete
Digest: sha256:cbb8dab63494f4ca9dc6884961c2ef3778fa3447567cf2cb1c1d46a394048dcd
Status: Downloaded newer image for hfrd/minifab:latest
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=
    WORKING_DIRECTORY: /home/ry/minifabric
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
......................
# Running operation: ******************************************
  generate certificates
.............
# Running operation: ******************************************
  start network
....................
# Running operation: ******************************************
  network status
......
# Docker node status ******************************************
  f37c4326ea_cli : Up Less than a second
  ca1.org1.example.com : Up 2 seconds
  ca1.org0.example.com : Up 3 seconds
  orderer3.example.com : Up 5 seconds
  orderer2.example.com : Up 6 seconds
  orderer1.example.com : Up 7 seconds
  peer2.org1.example.com : Up 9 seconds
  peer1.org1.example.com : Up 10 seconds
  peer2.org0.example.com : Up 11 seconds
  peer1.org0.example.com : Up 12 seconds

# Fabric network peer and orderer node health status **********
  peer1.org0.example.com "OK"
  peer2.org0.example.com "OK"
  peer1.org1.example.com "OK"
  peer2.org1.example.com "OK"
  orderer1.example.com "OK"
  orderer2.example.com "OK"
  orderer3.example.com "OK"

# Running operation: ******************************************
  channel create
......
# Running operation: ******************************************
  channel join
...........................
# Running operation: ******************************************
  anchor update
............
# Running operation: ******************************************
  profile generation
.................................
# Running operation: ******************************************
  cc install
...........................
# Running operation: ******************************************
  cc approve
......
# Running operation: ******************************************
  cc commit
......
# Running operation: ******************************************
  cc initialize
......
# Running operation: ******************************************
  discover
........................

# STATS *******************************************************
minifab: ok=274 failed=0

real    7m15.331s
user    2m53.865s
sys     0m30.426s
ry@DESKTOP-DOQJ7SM:~/minifabric$ git log -1
commit 222b0b1c345922f62bc1fba368145d18d85297e9 (HEAD -> master, origin/master, origin/HEAD)
Merge: 7bc2b84 2075a6b
Author: litong01 <litong01@users.noreply.github.com>
Date:   Thu Aug 13 13:41:12 2020 -0400

    Merge pull request #54 from makkasu/master

    Instructions for using custom chaincode builders
```
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 00:58:26 GMT):<br/>
```ry@DESKTOP-DOQJ7SM:~$ groups
ry adm dialout cdrom floppy sudo audio dip video plugdev netdev docker
ry@DESKTOP-DOQJ7SM:~$ cd minifabric/
ry@DESKTOP-DOQJ7SM:~/minifabric$ ./minifab up
./minifab: line 3: ifconfig: command not found
Unable to find image 'hfrd/minifab:latest' locally
latest: Pulling from hfrd/minifab
df20fa9351a1: Pull complete
16d327ff9a88: Pull complete
6e0c6abef359: Pull complete
63185ac9f51a: Pull complete
cb46d2e655f9: Pull complete
Digest: sha256:cbb8dab63494f4ca9dc6884961c2ef3778fa3447567cf2cb1c1d46a394048dcd
Status: Downloaded newer image for hfrd/minifab:latest
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=
    WORKING_DIRECTORY: /home/ry/minifabric
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover


# STATS *******************************************************
minifab: ok=274 failed=0

real    7m15.331s
user    2m53.865s
sys     0m30.426s
ry@DESKTOP-DOQJ7SM:~/minifabric$ git log -1
commit 222b0b1c345922f62bc1fba368145d18d85297e9 (HEAD -> master, origin/master, origin/HEAD)
Merge: 7bc2b84 2075a6b
Author: litong01 <litong01@users.noreply.github.com>
Date:   Thu Aug 13 13:41:12 2020 -0400

    Merge pull request #54 from makkasu/master

    Instructions for using custom chaincode builders
```
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 12:34:09 GMT):<br/>
@rjones see the screen capture.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 12:34:15 GMT):<br/>

<br/><a href="./assets/Rx9Km3XuKMwzJwQw4-Screen Shot 2020-08-14 at 8.33.42 AM.png">Screen Shot 2020-08-14 at 8.33.42 AM.png</a>
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 12:35:35 GMT):<br/>

<br/><a href="./assets/GTSsxmL3cdorHp2PS-Screen Shot 2020-08-14 at 8.34.51 AM.png">Screen Shot 2020-08-14 at 8.34.51 AM.png</a>
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 12:43:53 GMT):<br/>
I rebooted the machine few times after I installed docker onto the vm, now once I launch the vm, I was able to run all the minifab command as well.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 12:44:41 GMT):<br/>
I am testing few other things to make sure everything is working great.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 12:56:47 GMT):<br/>
@rjones expose docker port also worked flawlessly.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 12:57:15 GMT):<br/>
I think we can write a rather detailed doc so that people on windows wsl2 can have an easier time dealing with it.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 13:00:04 GMT):<br/>
@rjones it seems to me that the ubuntu shell connects to the same docker engine as the windows shell docker engine because things were setting up using minifabric in the ubuntu shell show up in the windows shell as well.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 13:01:39 GMT):<br/>
also the port mapped out correctly.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 13:07:22 GMT):<br/>
so are the volumes.
</p>
<p><strong>pkirkinezis</strong> (Fri, 14 Aug 2020 15:54:09 GMT):<br/>
Hi to the community
</p>
<p><strong>pkirkinezis</strong> (Fri, 14 Aug 2020 15:54:56 GMT):<br/>
I would like to adress a question about if it is a best practice to save the identity secret to database to use afterwords for endrollment
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 16:32:11 GMT):<br/>
@tongli yes, it is talking directly to the docker install on windows. there is no docker running inside WSL2
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 16:32:50 GMT):<br/>
I think the steps I listed above would do it.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 16:52:53 GMT):<br/>
https://lists.hyperledger.org/g/fabric/message/8863
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:04:34 GMT):<br/>
@rjones I think I have found the magic on windows, I should be able to make changes to the script so that we do not have to run any shells to use minifabric, one just need to run the script in the windows shell.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:04:47 GMT):<br/>
should be able to put up a PR soon.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:07:13 GMT):<br/>
this way, we do not really need to download ubuntu or any linux distribution. as long as one has docker desktop running (regardless it is WSL or WSL2), it wont matter.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:07:30 GMT):<br/>
just run script in the windows cmd promopt.
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 17:09:36 GMT):<br/>
nice
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:23:16 GMT):<br/>
And when I use "-e true" whenever firewall is off, I have problem...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:24:37 GMT):<br/>
.....
# Run the channel creation script on cli container ************
  non-zero return code
  2020-08-14 17:11:04.937 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-08-14 17:11:04.969 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-08-14 17:11:04.969 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-08-14 17:11:04.973 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  Error: failed to create deliver client for orderer: orderer client failed to connect to 160.99.71.153:7006: failed to create new connection: connection error: desc = "transport: error while dialing: dial tcp 160.99.71.153:7006: connect: no route to host"

# STATS *******************************************************
minifab: ok=103 failed=1
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:31:23 GMT):<br/>
[zilic@pc86 mywork]$ docker ps -a
CONTAINER ID        IMAGE                              COMMAND                  CREATED             STATUS                   PORTS                                            NAMES
4807663648ed        hyperledger/fabric-tools:2.2.0     "/bin/sh"                13 minutes ago      Up 13 minutes                                                             ab1d229f5e_cli
b1022f97bee0        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   13 minutes ago      Up 13 minutes            0.0.0.0:7001->7054/tcp                           ca1.org1.example.com
9b653e235db5        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   13 minutes ago      Up 13 minutes            0.0.0.0:7000->7054/tcp                           ca1.org0.example.com
4a120d3a2604        hyperledger/fabric-orderer:2.2.0   "orderer"                13 minutes ago      Up 13 minutes            0.0.0.0:7008->7050/tcp, 0.0.0.0:8008->7060/tcp   orderer3.example.com
d9704296289d        hyperledger/fabric-orderer:2.2.0   "orderer"                13 minutes ago      Up 13 minutes            0.0.0.0:7007->7050/tcp, 0.0.0.0:8007->7060/tcp   orderer2.example.com
1d50cde32d24        hyperledger/fabric-orderer:2.2.0   "orderer"                13 minutes ago      Up 13 minutes            0.0.0.0:7006->7050/tcp, 0.0.0.0:8006->7060/tcp   orderer1.example.com
886a83e3ba18        hyperledger/fabric-peer:2.2.0      "peer node start"        13 minutes ago      Up 13 minutes            0.0.0.0:7005->7051/tcp, 0.0.0.0:8005->7061/tcp   peer2.org1.example.com
8b78fa48b7b5        hyperledger/fabric-peer:2.2.0      "peer node start"        13 minutes ago      Up 13 minutes            0.0.0.0:7004->7051/tcp, 0.0.0.0:8004->7061/tcp   peer1.org1.example.com
fd1c3d39f0c6        hyperledger/fabric-peer:2.2.0      "peer node start"        13 minutes ago      Up 13 minutes            0.0.0.0:7003->7051/tcp, 0.0.0.0:8003->7061/tcp   peer2.org0.example.com
1edcc2abefe4        hyperledger/fabric-peer:2.2.0      "peer node start"        13 minutes ago      Up 13 minutes            0.0.0.0:7002->7051/tcp, 0.0.0.0:8002->7061/tcp   peer1.org0.example.com
a003a9bd5394        hello-world                        "/hello"                 8 hours ago         Exited (0) 8 hours ago                                                    unruffled_dhawan
[zilic@pc86 mywork]$
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:36:04 GMT):<br/>
@zilich is your network working ok? can it connect to internet?
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:36:35 GMT):<br/>
I certainly have not tested it on centos.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:36:46 GMT):<br/>
not sure what could be the differences between ubuntu and centos
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:42:07 GMT):<br/>
you use/test "-e true"? You know that if you installed miniFabric without "-e true" 
you must remove installation and repeat it to work with "-e true"? (on Ubuntu)...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:42:33 GMT):<br/>
miniFab restart dont help...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:43:06 GMT):<br/>
down and up with "-e true" dont work, too
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 17:43:50 GMT):<br/>
I don't have a centos machine to test on
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:43:53 GMT):<br/>
Its on intarnet.... 160.99.71.153
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:44:17 GMT):<br/>
you can made it virtual :)
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:44:27 GMT):<br/>
20 GB or less...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:46:40 GMT):<br/>
internet...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:47:11 GMT):<br/>
misstype
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:47:31 GMT):<br/>
not intranet... on internet is... ip you can see...
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:47:36 GMT):<br/>
whatever of centos?
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:48:07 GMT):<br/>
I have not tried it on centos, but I can boot up one centos vm and give it a try.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 17:48:18 GMT):<br/>
but if you can figure out what the issue is, please submit a pr.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:48:46 GMT):<br/>

<br/><a href="./assets/E88MoBXWdmM5XHo9w-Screenshot_499.jpg">Screenshot_499.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:49:11 GMT):<br/>

<br/><a href="./assets/tFdPkwcD3aTq4AuBn-Screenshot_500.jpg">Screenshot_500.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:49:34 GMT):<br/>

<br/><a href="./assets/CmJYZ3ibidu7mzmx5-Screenshot_501.jpg">Screenshot_501.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:51:40 GMT):<br/>
I will try to delete miniFabric and again install it with and without "-e true"... and post here results...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:52:16 GMT):<br/>
only to eat something :)
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 17:53:34 GMT):<br/>

<br/><a href="./assets/npxxGfoXMH9Bx3Tk8-Screenshot_502.jpg">Screenshot_502.jpg</a>
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 19:07:25 GMT):<br/>
@rjones https://github.com/litong01/minifabric/commit/9f2f39bf7c1fc9937e1a69ea608fed009a6d4415
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 19:08:07 GMT):<br/>
please see this PR. I think this fixes the issue. now you can just run minifab at windows shell. no need to have a Ubuntu system.
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:25:45 GMT):<br/>
```C:\Users\s390x\minifabric>git log -2
commit e3acc7e3152213c6e1d467735ec9af01ffa659fd (HEAD -> master, origin/master, origin/HEAD)
Author: litong01 <litong01@users.noreply.github.com>
Date:   Fri Aug 14 15:22:13 2020 -0400

    Update README.md

commit 9f2f39bf7c1fc9937e1a69ea608fed009a6d4415
Author: Tong Li <litong01@us.ibm.com>
Date:   Fri Aug 14 18:58:57 2020 +0000

    Fixed the windows WSL issue

    Windows WSL changed a lot in terms of the volumes, it breaks
    the local volume mounting. This patch fixed that problem and
    also removed need of passing in working directory parameter
    for the main script

    Signed-off-by: Tong Li <litong01@us.ibm.com>
```
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:26:02 GMT):<br/>
```# Running operation: ******************************************
  generate certificates
...........
# Use fabric tools container to create channel artifacts ******
  non-zero return code
  docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused "exec: \"/etc/hyperledger/fabric/run/certtxgen.sh\": stat /etc/hyperledger/fabric/run/certtxgen.sh: no such file or directory": unknown.
  time="2020-08-14T19:25:15Z" level=error msg="error waiting for container: context canceled"

# STATS *******************************************************
minifab: ok=65  failed=1

real    0m7.852s
user    0m5.898s
sys     0m1.041s
```
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 19:33:57 GMT):<br/>
Did you @rjones pull the latest hfrd/minifab image?
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:34:10 GMT):<br/>
I just ran your script in a new directory
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 19:34:22 GMT):<br/>
the image needs to be updated as well.
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:34:33 GMT):<br/>
ok how do I build it
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 19:34:36 GMT):<br/>
the changes are not only in the script but also the image.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 19:34:44 GMT):<br/>
docker pull hfrd/minifab:latest
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:35:19 GMT):<br/>
```# Running operation: ******************************************
  start network
.......[WARNING]: Unable to convert data using to_nice_json, falling back to to_json:
'allkeys' is undefined

# Produce the key var file ************************************
  The task includes an option with an undefined variable. The error was: 'allkeys' is undefined

  The error appears to be in '/home/playbooks/common/processkeys.yaml': line 56, column 5, but may
  be elsewhere in the file depending on the exact syntax problem.

  The offending line appears to be:


    - name: Produce the key var file
      ^ here


# STATS *******************************************************
minifab: ok=64  failed=1

real    0m6.318s```
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:37:11 GMT):<br/>
I deleted all downloaded images in docker and tried again, same error
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:37:31 GMT):<br/>
```C:\Users\s390x\minifabric>docker -v
Docker version 19.03.12, build 48a66213fe```
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:42:05 GMT):<br/>
I had the same error about allkeys on my other machine
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 19:42:24 GMT):<br/>
@rjones that is really weird. let me dig through this more.
</p>
<p><strong>rjones</strong> (Fri, 14 Aug 2020 19:42:32 GMT):<br/>
OK.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 19:54:29 GMT):<br/>
under windows you can use git bash and cmd "shell"....
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 19:54:37 GMT):<br/>
maybe you dont know...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 19:54:46 GMT):<br/>
Or dont use it...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 19:55:10 GMT):<br/>

<br/><a href="./assets/T4qSGC8n6jyCxB7AJ-Screenshot_503.jpg">Screenshot_503.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:02:35 GMT):<br/>
C:\Users\Administrator\mywork>minifab.cmd up -e true
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.211,160.99.71.21
    WORKING_DIRECTORY: /home
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
............
# Running operation: ******************************************
  generate certificates
...........
# Use fabric tools container to create channel artifacts ******
  non-zero return code
  docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused "exec: \"/etc/hyperledger/fabric/run/certtxgen.sh\": stat /etc/hyperledger/fabric/run/certtxgen.sh: no such file or directory": unknown.

# STATS *******************************************************
minifab: ok=65  failed=1

real    0m11.311s
user    0m9.131s
sys     0m2.153s

C:\Users\Administrator\mywork>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:03:39 GMT):<br/>

<br/><a href="./assets/tRcA7dKAE59hLaxMw-Screenshot_505.jpg">Screenshot_505.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:06:39 GMT):<br/>
I run it one time more... purge all docker images before that...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:07:21 GMT):<br/>

<br/><a href="./assets/fuGSoMi9WAN4uTXQu-Screenshot_507.jpg">Screenshot_507.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:09:56 GMT):<br/>

<br/><a href="./assets/ym2Zopuc6LxDTYCr7-Screenshot_509.jpg">Screenshot_509.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:10:07 GMT):<br/>

<br/><a href="./assets/GsAz3BKuWvgxnEukE-Screenshot_510.jpg">Screenshot_510.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:12:39 GMT):<br/>
And now Centos 8.2...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:13:00 GMT):<br/>

<br/><a href="./assets/rsKkKz9dAXjc2KAsK-Screenshot_511.jpg">Screenshot_511.jpg</a>
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:18:44 GMT):<br/>
@zilich I just made some important changes to minifabric. You probably want to refresh both the minifab command and image
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:19:30 GMT):<br/>
yessss
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:19:55 GMT):<br/>
just remove and all old images
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:28:17 GMT):<br/>
Just need to remove hfrd/minifab:latest
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:28:27 GMT):<br/>
Do not need to remove fabric images
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:28:59 GMT):<br/>
Get the latest minifab script as well , there is a small change in it as well
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:29:41 GMT):<br/>
All dockers removed... All images removed...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:30:30 GMT):<br/>

<br/><a href="./assets/tuWCDZKbTsJngS4G6-Screenshot_515.jpg">Screenshot_515.jpg</a>
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:31:21 GMT):<br/>
Ok. Should not take long
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:31:44 GMT):<br/>
I start as user zilic... which is in docker group...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:32:03 GMT):<br/>

<br/><a href="./assets/gi2TDaCZCio5Q2R8b-Screenshot_516.jpg">Screenshot_516.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:32:19 GMT):<br/>
I have at office very fast internet... 1Gb...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:33:51 GMT):<br/>
[zilic@pc86 mywork]$ ls
[zilic@pc86 mywork]$ curl -o minifab -sL https://tinyurl.com/twrt8zv && chmod +x minifab
[zilic@pc86 mywork]$ ls -lat
укупно 8
drwxrwxr-x   2 zilic zilic   21 14. авг. у 22:30 .
-rwxrwxr-x   1 zilic zilic  578 14. авг. у 22:30 minifab
drwx------. 19 zilic zilic 4096 14. авг. у 11:52 ..
[zilic@pc86 mywork]$ ./minifab up
Unable to find image 'hfrd/minifab:latest' locally
latest: Pulling from hfrd/minifab
df20fa9351a1: Pull complete
16d327ff9a88: Pull complete
8ee9eafbcbc4: Pull complete
d21bd51726e1: Pull complete
c2815d624a85: Pull complete
Digest: sha256:c0b59f6143601a368e18221cf9eb7586647b29fa5e13c96597f944e56f0e8b2e
Status: Downloaded newer image for hfrd/minifab:latest
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.153
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
......................
# Running operation: ******************************************
  generate certificates
.............
# Running operation: ******************************************
  start network
....................
# Running operation: ******************************************
  network status
......
# Docker node status ******************************************
  ab1d229f5e_cli : Up Less than a second
  ca1.org1.example.com : Up 1 second
  ca1.org0.example.com : Up 1 second
  orderer3.example.com : Up 2 seconds
  orderer2.example.com : Up 3 seconds
  orderer1.example.com : Up 4 seconds
  peer2.org1.example.com : Up 5 seconds
  peer1.org1.example.com : Up 6 seconds
  peer2.org0.example.com : Up 6 seconds
  peer1.org0.example.com : Up 8 seconds

# Fabric network peer and orderer node health status **********
  peer1.org0.example.com
  peer2.org0.example.com
  peer1.org1.example.com
  peer2.org1.example.com
  orderer1.example.com
  orderer2.example.com
  orderer3.example.com

# Running operation: ******************************************
  channel create
.....
# Run the channel creation script on cli container ************
  non-zero return code
  2020-08-14 20:32:35.131 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-08-14 20:32:35.165 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-08-14 20:32:35.165 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-08-14 20:32:35.168 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  Error: failed to create deliver client for orderer: orderer client failed to connect to orderer1.example.com:7050: failed to create new connection: connection error: desc = "transport: error while dialing: dial tcp 172.18.0.6:7050: connect: no route to host"

# STATS *******************************************************
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:34:05 GMT):<br/>

<br/><a href="./assets/dgqsrBTFrYEMbqBLe-Screenshot_517.jpg">Screenshot_517.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:34:58 GMT):<br/>
[zilic@pc86 mywork]$ docker ps -a
CONTAINER ID        IMAGE                              COMMAND                  CREATED             STATUS                          PORTS               NAMES
80b7f05c1116        hyperledger/fabric-tools:2.2.0     "/bin/sh"                2 minutes ago       Up 2 minutes                                        ab1d229f5e_cli
30349007e521        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   2 minutes ago       Up 2 minutes                    7054/tcp            ca1.org1.example.com
6073243e8f4e        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   2 minutes ago       Up 2 minutes                    7054/tcp            ca1.org0.example.com
da1e34d2507d        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) About a minute ago                       orderer3.example.com
a8bc04a5971d        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) About a minute ago                       orderer2.example.com
f0b42aa68e53        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) 2 minutes ago                            orderer1.example.com
567c237b574c        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes                    7051/tcp            peer2.org1.example.com
ea0fd59d93bd        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes                    7051/tcp            peer1.org1.example.com
03b3c2e53a35        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes                    7051/tcp            peer2.org0.example.com
a8fc36b0088f        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes                    7051/tcp            peer1.org0.example.com
[zilic@pc86 mywork]$
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:35:03 GMT):<br/>
Seems still network issue
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:35:36 GMT):<br/>
firewall is down... maybe to switch off se linux... i will look this...
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:35:40 GMT):<br/>
Hmmm, docker container automatically quit?
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:39:57 GMT):<br/>
maybe need to be root???
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:40:12 GMT):<br/>

<br/><a href="./assets/56thJqT9iTPt75NP3-Screenshot_519.jpg">Screenshot_519.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:40:26 GMT):<br/>
and start down and up again...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:41:04 GMT):<br/>
[root@pc86 sysconfig]# exit
exit
[zilic@pc86 mywork]$ ls
minifab  vars
[zilic@pc86 mywork]$ ./minifab down
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.153
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, shutdown network
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  shutdown network
........

# STATS *******************************************************
minifab: ok=33  failed=0

real    0m7.827s
user    0m6.436s
sys     0m1.315s
[zilic@pc86 mywork]$ ./minifab up
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.153
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
............
# Running operation: ******************************************
  generate certificates
..
# Running operation: ******************************************
  start network
..
# Create fabric docker network if it does not exist ***********
  non-zero return code
  Error response from daemon: Failed to Setup IP tables: Unable to enable SKIP DNAT rule:  (iptables failed: iptables --wait -t nat -I DOCKER -i br-8341e4c0ce78 -j RETURN: iptables: No chain/target/match by that name.
   (exit status 1))

# STATS *******************************************************
minifab: ok=49  failed=1

real    0m5.845s
user    0m5.069s
sys     0m1.296s
[zilic@pc86 mywork]$
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:41:10 GMT):<br/>
error was different...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:41:24 GMT):<br/>
I will delet again all images and script...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:41:37 GMT):<br/>
and start as root
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:41:39 GMT):<br/>
hmmm.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:41:50 GMT):<br/>
no need to delete fabric images.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:41:55 GMT):<br/>
ok
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:42:03 GMT):<br/>
you need the latest hfrd/minifab:latest image
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:42:12 GMT):<br/>
and the latest minifab script.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:42:14 GMT):<br/>
that is all.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:42:38 GMT):<br/>
curl -o minifab -sL https://tinyurl.com/twrt8zv && chmod +x minifab
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:42:48 GMT):<br/>
only this to start?
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:42:53 GMT):<br/>
right.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:43:20 GMT):<br/>
wow. centos iso is huge.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:43:32 GMT):<br/>
7.7 GB. holly cow.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:44:23 GMT):<br/>
When you have 1Gb network... no problem :)
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:44:47 GMT):<br/>
I worked for provider which have 10Gb network...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:45:03 GMT):<br/>
[root@pc86 mywork]# ./minifab up
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.153
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
............
# Running operation: ******************************************
  generate certificates
..
# Running operation: ******************************************
  start network
..
# Create fabric docker network if it does not exist ***********
  non-zero return code
  Error response from daemon: Failed to Setup IP tables: Unable to enable SKIP DNAT rule:  (iptables failed: iptables --wait -t nat -I DOCKER -i br-5fafd9362635 -j RETURN: iptables: No chain/target/match by that name.
   (exit status 1))

# STATS *******************************************************
minifab: ok=49  failed=1

real    0m5.821s
user    0m5.025s
sys     0m1.286s
[root@pc86 mywork]#
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:45:20 GMT):<br/>
ha.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:45:21 GMT):<br/>
I see.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:45:28 GMT):<br/>
maybe to clear IPtables?
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:45:31 GMT):<br/>
you cannot create a docker network.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:45:48 GMT):<br/>
you can try to do this without running any minifabric command.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:45:55 GMT):<br/>
just try to create a docker network.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:46:01 GMT):<br/>
and see what error you are getting.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:46:12 GMT):<br/>
how?
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:46:31 GMT):<br/>
google is your friend. this is docker.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:46:35 GMT):<br/>
should be something like this
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:46:35 GMT):<br/>
ok
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:46:52 GMT):<br/>
``` docker network create testnet```
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:46:59 GMT):<br/>
something like that
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:47:22 GMT):<br/>
why do you@zilich use centos?
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 20:47:51 GMT):<br/>
I mean is there a good reason you pick centos over ubuntu?
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:53:29 GMT):<br/>
I started with Linux with Slackware... After that with RedHat... and after that with Centos for servers...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:54:02 GMT):<br/>
Nao I sersch some error in some java client application which work under miniFabric...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:54:33 GMT):<br/>
Now, I search for ...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:55:03 GMT):<br/>
I am one of the best sysadmin in this region :)
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:55:29 GMT):<br/>
And as good as possible programmer, too :)
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:56:33 GMT):<br/>
zvonko.ilich@bestfromserbia.com :) zilic@acm.org... member of ACM since 1997... :)
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:57:46 GMT):<br/>

<br/><a href="./assets/84dFDj6qHsASPXEec-Screenshot_521.jpg">Screenshot_521.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 20:58:00 GMT):<br/>
Network inside container work...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 21:22:37 GMT):<br/>
maybe only root access is needed...

[root@pc86 mywork]# ./minifab up
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.153
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
............
# Running operation: ******************************************
  generate certificates
..
# Running operation: ******************************************
  start network
................
# Running operation: ******************************************
  network status
......
# Docker node status ******************************************
  ab1d229f5e_cli : Up Less than a second
  ca1.org1.example.com : Up 1 second
  ca1.org0.example.com : Up 1 second
  orderer3.example.com : Up 2 seconds
  orderer2.example.com : Up 3 seconds
  orderer1.example.com : Up 4 seconds
  peer2.org1.example.com : Up 5 seconds
  peer1.org1.example.com : Up 6 seconds
  peer2.org0.example.com : Up 6 seconds
  peer1.org0.example.com : Up 7 seconds

# Fabric network peer and orderer node health status **********
  peer1.org0.example.com "OK"
  peer2.org0.example.com "OK"
  peer1.org1.example.com "OK"
  peer2.org1.example.com "OK"
  orderer1.example.com "OK"
  orderer2.example.com "OK"
  orderer3.example.com "OK"

# Running operation: ******************************************
  channel create
.....
# Run the channel creation script on cli container ************
  non-zero return code
  2020-08-14 21:21:29.351 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-08-14 21:21:29.385 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-08-14 21:21:29.386 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-08-14 21:21:29.389 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  2020-08-14 21:21:29.430 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: BAD_REQUEST -- error validating channel creation transaction for new channel 'mychannel', could not successfully apply update to template configuration: error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied

# STATS *******************************************************
minifab: ok=78  failed=1

real    0m22.945s
user    0m15.250s
sys     0m3.647s
[root@pc86 mywork]#
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 21:29:26 GMT):<br/>
I have similarly error and under ubuntu...
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 21:43:20 GMT):<br/>
@zilich I think that your system is having some serious issues.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 21:43:50 GMT):<br/>
all the errors that you reported having something to do with network.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 21:45:06 GMT):<br/>
you probably can figure out what the real issue is.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 21:47:08 GMT):<br/>
I mean that you were saying you are one of the best sysadmin in the region. I have a lot of respect to system admins.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 21:50:50 GMT):<br/>
@zilich I feel that on centos some of the port are restricted.
</p>
<p><strong>tongli</strong> (Fri, 14 Aug 2020 21:51:11 GMT):<br/>
that is the reason why containers can not communicated with each other.
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 22:42:32 GMT):<br/>

<br/><a href="./assets/uzQqRpKDyn6ya2dsq-Screenshot_523.jpg">Screenshot_523.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 22:43:08 GMT):<br/>
I go to sleep... This is Ubuntu error... another computer...
</p>
<p><strong>zilich</strong> (Fri, 14 Aug 2020 22:43:44 GMT):<br/>
good day
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:00:20 GMT):<br/>
@zilich I boot up centos 8.2.2 and did the following.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:00:25 GMT):<br/>
1. install docker ce
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:01:00 GMT):<br/>
2. open up docker firewall doing this ```firewall-cmd --zone=public --add-masquerade --permanent

# Specifically allow incoming traffic on port 80/443 (nothing new here)
firewall-cmd --zone=public --add-port=80/tcp
firewall-cmd --zone=public --add-port=443/tcp

# Reload firewall to apply permanent rules
firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:01:00 GMT):<br/>
2. open up docker firewall doing this ```firewall-cmd --zone=public --add-masquerade --permanent

# Reload firewall to apply permanent rules
firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:07:48 GMT):<br/>
everything worked just fine. as I have suspected, it was the firewall issue.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:11:49 GMT):<br/>
the --add-masquerade command basically allows docker container ports to be open so that containers can communicate with each other.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:12:43 GMT):<br/>
@zilich please see ^^^
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:12:58 GMT):<br/>
now the next trick: how do we replicate all of the composer stuff in minifab?
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:13:49 GMT):<br/>
A professor reached out to us about using composer in a classroom... yikes
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:13:53 GMT):<br/>
@zilich of course this is only applicable to centos because of its default firewall policy
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:14:07 GMT):<br/>
sigh!
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:14:23 GMT):<br/>
he's handing out VMs on USB sticks
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:14:39 GMT):<br/>
@rjones I do not know if we can do vscode plugin.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:14:47 GMT):<br/>
in theory, we should be able to.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:15:07 GMT):<br/>
I mean vscode minifab plugin.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:15:20 GMT):<br/>
hmm ok
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:15:28 GMT):<br/>
i have never done a such thing,
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:15:34 GMT):<br/>
not sure what is really involved.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:15:44 GMT):<br/>
you mean to edit and deploy chaincode?
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:15:54 GMT):<br/>
thinking we already have vscode fabric extension which is always behind
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:16:17 GMT):<br/>
@rjones no, I mean vscode plugin which drives minifab commands from vscode
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:16:35 GMT):<br/>
oh, that should be straightforward really
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:16:53 GMT):<br/>
not editing chaincode, but update chaincode onto peer.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:17:38 GMT):<br/>
it's all javascript.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:17:38 GMT):<br/>
https://code.visualstudio.com/api/get-started/your-first-extension
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:19:29 GMT):<br/>
I can take a look.but you can craft up a first shot, that will be nice.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:20:58 GMT):<br/>
I guess I don't understand what you want to do. minifab up? minifab cleanup?
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:21:23 GMT):<br/>
yeah , any of the commands can be a candidate I guess.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:22:22 GMT):<br/>
so I guess the idea is to replace minifab cli? users can do this via vscode?
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:23:35 GMT):<br/>
so, send docker commands via vscode?
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:27:54 GMT):<br/>
yes.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:28:14 GMT):<br/>
at the same time showing some nodes status,
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:28:18 GMT):<br/>
why would minifab exist, then?
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:28:32 GMT):<br/>
let me rephrase that. exist for other platforms.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:28:47 GMT):<br/>
minifab is working behind the scene
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:29:24 GMT):<br/>
vscode will still need the docker behind it, otherwise, nothing will work.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:29:52 GMT):<br/>
I am not completely sure it is really necessary to do vscode minifab extension.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:30:28 GMT):<br/>
when I was thinking of composer, I was not thinking of the vscode plugin, but the webUI
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:30:56 GMT):<br/>
yeah.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:31:19 GMT):<br/>
probably we can think about this idea a bit more.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:31:38 GMT):<br/>
give the professor minifab first, he might like it at the end.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:32:09 GMT):<br/>
now, minifabric really made things easy and especially run it basically natively on all major platforms.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:32:26 GMT):<br/>
before minifab, running fabric on windows is a huge struggle.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:33:39 GMT):<br/>
yes, agreed, this is what I pointed him to
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 02:35:33 GMT):<br/>
there are people asking questions on your youtube videos, btw.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 02:52:31 GMT):<br/>
Oh, I will take a look and try to answer.
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 03:50:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=3AkAmpJkTfXZFo4X5) If I removed (switch off) firewalld?
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 03:51:09 GMT):<br/>
and clear iptables rules ...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:03:16 GMT):<br/>
Ubuntu, removed old docker images, removed vars folder... clean install...


root@broktest1:/home/zilic/mywork# docker ps -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
root@broktest1:/home/zilic/mywork# ./minifab up -e true
Unable to find image 'hfrd/minifab:latest' locally
latest: Pulling from hfrd/minifab
df20fa9351a1: Pull complete
16d327ff9a88: Pull complete
19e43598f246: Pull complete
df4f36a03e0c: Pull complete
d3d46f357c13: Pull complete
Digest: sha256:99f830f4e43ca516ca58f04299e8f627db924ef37d618364d04df1ed893d380f
Status: Downloaded newer image for hfrd/minifab:latest
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.158
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
......................
# Running operation: ******************************************
  generate certificates
.............
# Running operation: ******************************************
  start network
....................
# Running operation: ******************************************
  network status
......
# Docker node status ******************************************
  ab1d229f5e_cli : Up Less than a second
  ca1.org1.example.com : Up 1 second
  ca1.org0.example.com : Up 6 seconds
  orderer3.example.com : Up 7 seconds
  orderer2.example.com : Up 9 seconds
  orderer1.example.com : Up 10 seconds
  peer2.org1.example.com : Up 11 seconds
  peer1.org1.example.com : Up 11 seconds
  peer2.org0.example.com : Up 12 seconds
  peer1.org0.example.com : Up 13 seconds

# Fabric network peer and orderer node health status **********
  peer1.org0.example.com "OK"
  peer2.org0.example.com "OK"
  peer1.org1.example.com "OK"
  peer2.org1.example.com "OK"
  orderer1.example.com "OK"
  orderer2.example.com "OK"
  orderer3.example.com "OK"

# Running operation: ******************************************
  channel create
.....
# Run the channel creation script on cli container ************
  non-zero return code
  2020-08-15 04:01:21.990 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-08-15 04:01:22.055 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-08-15 04:01:22.058 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-08-15 04:01:22.063 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  2020-08-15 04:01:22.223 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: FORBIDDEN -- config update for existing channel did not pass initial checks: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied

# STATS *******************************************************
minifab: ok=113 failed=1

real    1m11.047s
user    0m30.855s
sys     0m5.766s
root@broktest1:/home/zilic/mywork#
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:05:05 GMT):<br/>
root@broktest1:/home/zilic/mywork# docker ps -a
CONTAINER ID        IMAGE                              COMMAND                  CREATED             STATUS                     PORTS                                            NAMES
15612d82db5d        hyperledger/fabric-javaenv:2.2     "/bin/sh -c ./build.…"   33 seconds ago      Up 32 seconds                                                               brave_banzai
e7f2d51db6cb        hyperledger/fabric-javaenv:2.2     "/bin/sh -c ./build.…"   33 seconds ago      Up 32 seconds                                                               upbeat_heyrovsky
5ebecf3516d3        hyperledger/fabric-javaenv:2.2     "/bin/sh -c ./build.…"   33 seconds ago      Up 32 seconds                                                               vigilant_cannon
e62d91cae682        hyperledger/fabric-javaenv:2.2     "/bin/sh -c ./build.…"   34 seconds ago      Up 33 seconds                                                               sharp_cori
b14c5151b309        hyperledger/fabric-tools:2.2.0     "/bin/sh"                2 minutes ago       Up 2 minutes                                                                ab1d229f5e_cli
471f79882885        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   2 minutes ago       Up 2 minutes               0.0.0.0:7001->7054/tcp                           ca1.org1.example.com
763097810d1b        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   2 minutes ago       Up 2 minutes               0.0.0.0:7000->7054/tcp                           ca1.org0.example.com
6e86b4439eca        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) 2 minutes ago                                                    orderer3.example.com
63ae30f445da        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) 2 minutes ago                                                    orderer2.example.com
815adae24e25        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) 2 minutes ago                                                    orderer1.example.com
22c0aee47f0e        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7005->7051/tcp, 0.0.0.0:8005->7061/tcp   peer2.org1.example.com
d3ecec782bf9        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7004->7051/tcp, 0.0.0.0:8004->7061/tcp   peer1.org1.example.com
c6b93296c301        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7003->7051/tcp, 0.0.0.0:8003->7061/tcp   peer2.org0.example.com
79d9120d5472        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7002->7051/tcp, 0.0.0.0:8002->7061/tcp   peer1.org0.example.com
root@broktest1:/home/zilic/mywork#
root@broktest1:/home/zilic/mywork#
root@broktest1:/home/zilic/mywork# nc -zv 8000-8005
nc: missing port number
root@broktest1:/home/zilic/mywork# nc -zv localhost 8000-8005
nc: connect to localhost port 8000 (tcp) failed: Connection refused
nc: connect to localhost port 8001 (tcp) failed: Connection refused
Connection to localhost 8002 port [tcp/*] succeeded!
Connection to localhost 8003 port [tcp/*] succeeded!
Connection to localhost 8004 port [tcp/*] succeeded!
Connection to localhost 8005 port [tcp/*] succeeded!
root@broktest1:/home/zilic/mywork#
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:08:04 GMT):<br/>
root@broktest1:/home/zilic/mywork# nc -zv localhost 7000-7005
Connection to localhost 7000 port [tcp/afs3-fileserver] succeeded!
Connection to localhost 7001 port [tcp/afs3-callback] succeeded!
Connection to localhost 7002 port [tcp/afs3-prserver] succeeded!
Connection to localhost 7003 port [tcp/afs3-vlserver] succeeded!
Connection to localhost 7004 port [tcp/afs3-kaserver] succeeded!
Connection to localhost 7005 port [tcp/afs3-volser] succeeded!
root@broktest1:/home/zilic/mywork# nc -zv localhost 7051-7061
nc: connect to localhost port 7051 (tcp) failed: Connection refused
nc: connect to localhost port 7052 (tcp) failed: Connection refused
nc: connect to localhost port 7053 (tcp) failed: Connection refused
nc: connect to localhost port 7054 (tcp) failed: Connection refused
nc: connect to localhost port 7055 (tcp) failed: Connection refused
nc: connect to localhost port 7056 (tcp) failed: Connection refused
nc: connect to localhost port 7057 (tcp) failed: Connection refused
nc: connect to localhost port 7058 (tcp) failed: Connection refused
nc: connect to localhost port 7059 (tcp) failed: Connection refused
nc: connect to localhost port 7060 (tcp) failed: Connection refused
nc: connect to localhost port 7061 (tcp) failed: Connection refused
root@broktest1:/home/zilic/mywork#
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:08:59 GMT):<br/>
I will now go to centos and switch on firewall with your advice...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:28:54 GMT):<br/>

<br/><a href="./assets/JwkzzrTbNMzBSMYgs-Screenshot_530.jpg">Screenshot_530.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:29:58 GMT):<br/>
[root@pc86 mywork]# docker ps -a
CONTAINER ID        IMAGE                              COMMAND                  CREATED             STATUS                     PORTS                                            NAMES
c28fc9d6f302        hyperledger/fabric-tools:2.2.0     "/bin/sh"                2 minutes ago       Up 2 minutes                                                                ab1d229f5e_cli
f3547f209cc2        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   2 minutes ago       Up 2 minutes               0.0.0.0:7001->7054/tcp                           ca1.org1.example.com
f72b9236f940        hyperledger/fabric-ca:1.4          "/bin/sh -c 'fabric-…"   2 minutes ago       Up 2 minutes               0.0.0.0:7000->7054/tcp                           ca1.org0.example.com
6d8120ed6c50        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) 2 minutes ago                                                    orderer3.example.com
ef2534ca2f1f        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) 2 minutes ago                                                    orderer2.example.com
1dad906a7b1a        hyperledger/fabric-orderer:2.2.0   "orderer"                2 minutes ago       Exited (2) 2 minutes ago                                                    orderer1.example.com
8d341c6f5caf        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7005->7051/tcp, 0.0.0.0:8005->7061/tcp   peer2.org1.example.com
fe985a3975e4        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7004->7051/tcp, 0.0.0.0:8004->7061/tcp   peer1.org1.example.com
70557bf05f3f        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7003->7051/tcp, 0.0.0.0:8003->7061/tcp   peer2.org0.example.com
05e5b3274713        hyperledger/fabric-peer:2.2.0      "peer node start"        2 minutes ago       Up 2 minutes               0.0.0.0:7002->7051/tcp, 0.0.0.0:8002->7061/tcp   peer1.org0.example.com
[root@pc86 mywork]#
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:32:23 GMT):<br/>

<br/><a href="./assets/d82Nw8Gi8nqyEKeup-Screenshot_531.jpg">Screenshot_531.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:37:23 GMT):<br/>
Run the channel creation script on cli container ************
  non-zero return code
  2020-08-15 04:27:12.583 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-08-15 04:27:12.615 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-08-15 04:27:12.615 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-08-15 04:27:12.618 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  Error: failed to create deliver client for orderer: orderer client failed to connect to 160.99.71.153:7007: failed to create new connection: connection error: desc = "transport: error while dialing: dial tcp 160.99.71.153:7007: connect: no route to host"

# STATS *******************************************************
minifab: ok=78  failed=1

real    0m24.622s
user    0m15.317s
sys     0m3.576s
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 04:37:53 GMT):<br/>

<br/><a href="./assets/b3pPJzdHHDvdzGa5Z-Screenshot_532.jpg">Screenshot_532.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 05:07:25 GMT):<br/>
Under Windows, you can use bash without WSL/Ubuntu... git bash...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 05:10:58 GMT):<br/>

<br/><a href="./assets/hTnPvy8PEf55PaGh7-Screenshot_536.jpg">Screenshot_536.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 05:11:13 GMT):<br/>

<br/><a href="./assets/K7krRWog9pZdaYYKx-Screenshot_537.jpg">Screenshot_537.jpg</a>
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:07:55 GMT):<br/>
@zilich please please try this process
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:08:29 GMT):<br/>
1.get a clean cents 8.2.2 system, do not change anything especially the iptables
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:09:01 GMT):<br/>
2.install right docker if it is not on your clean system
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:09:19 GMT):<br/>
3. Run these command
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:09:19 GMT):<br/>
3. Run these two command
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:11:34 GMT):<br/>
```firewall-cmd --zone=public --add-masquerade --permanent

# Reload firewall to apply permanent rules
firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
2. open up docker firewall doing this ```firewall-cmd --zone=public --add-masquerade --permanent

# Reload firewall to apply permanent rules
firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
open up docker firewall doing this ```firewall-cmd --zone=public --add-masquerade --permanent

# Reload firewall to apply permanent rules
firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
open up docker firewall doing this ```firewall-cmd --zone=public --add-masquerade --permanent

firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
 ```firewall-cmd --zone=public --add-masquerade --permanent

firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
 Run ```firewall-cmd --zone=public --add-masquerade --permanent

firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
 Run ```firewall-cmd --zone=public --add-masquerade --permanent &&

firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
```firewall-cmd --zone=public --add-masquerade --permanent &&

firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:13:15 GMT):<br/>
```firewall-cmd --zone=public --add-masquerade --permanent

firewall-cmd --reload```
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:15:21 GMT):<br/>
4. Get minifabric, and run the command.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:15:42 GMT):<br/>
Follow the above 4 steps, you should be fine
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:16:23 GMT):<br/>
@zilich please please read the above instructions. You got be able to follow these instructions.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 11:16:23 GMT):<br/>
@zilich please please read the above instructions.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 13:14:43 GMT):<br/>
@zilich see this https://github.com/litong01/minifabric/blob/master/docs/Running%20Minifabric%20on%20centos.md
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 13:16:57 GMT):<br/>
Get some sleep Tong 😂
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 13:21:39 GMT):<br/>
@rjones haha, I did, actually pretty good one last night.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 13:22:12 GMT):<br/>
6 hours , not too bad comparing to other nights.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 13:23:02 GMT):<br/>
minifabric worked great on the centos system that I setup. after enabling masquerade.
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 13:26:22 GMT):<br/>
nice. any other things to try? it would be nice if we could get fabric CI to use minifab
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 13:26:51 GMT):<br/>
@rjones it will be awesome if we do that.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 13:30:06 GMT):<br/>
I do not know if we should try fedora CoreOS
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 13:30:15 GMT):<br/>
@rjones ^^^
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 13:48:18 GMT):<br/>
I don't have a machine where I can do that easily - I really don't want to flatten my little windows box you used
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 13:48:56 GMT):<br/>
I mean, the largest install base is probably Ubuntu, and everything else is probably noise.
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 14:04:57 GMT):<br/>
Ok. If I have time, I can try on fedora
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 14:05:47 GMT):<br/>
I was just using vbox creating these systems
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 14:06:05 GMT):<br/>
VirtualBox I mean
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:38:16 GMT):<br/>

<br/><a href="./assets/QTyM9gMcySj8bpM9M-Screenshot_562.jpg">Screenshot_562.jpg</a>
</p>
<p><strong>rjones</strong> (Sat, 15 Aug 2020 15:38:53 GMT):<br/>
@zilich did following the instructions @tongli provided work for you?
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:39:28 GMT):<br/>
I get last Centos, and I will made KVM Centos mashine on Centos ... At Faculty I have 40 computers... New... Empty... But I am now Far from office...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:39:28 GMT):<br/>
I get last Centos, and I will made virtual KVM Centos mashine on Centos host... 
At Faculty I have 40 computers... New... Empty... But I am now far from office...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:39:47 GMT):<br/>
I will follow on new KVM installation...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:42:22 GMT):<br/>
И ам ноњ он vacation... I will try installation on empty Centos 8.2 system...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:42:22 GMT):<br/>
I am now on vacation... I will try installation on empty Centos 8.2 system...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:42:33 GMT):<br/>
I am now on vacation...
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:47:51 GMT):<br/>
"Make sure that your Centos system has docker 18.03 or newer installed"  Here is important API version, too... 
1.40 minimum!!!
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:47:51 GMT):<br/>
"Make sure that your Centos system has docker 18.03 or newer installed"  Here is important Docker API version, too... 
1.40 minimum!!!
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:47:51 GMT):<br/>
"Make sure that your Centos system has docker 18.03 or newer installed"  

Here is important Docker API version, too...   1.40 minimum!!!
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:49:54 GMT):<br/>

<br/><a href="./assets/ZBEEiTa4Z46pFQWRd-Screenshot_498.jpg">Screenshot_498.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 15:51:18 GMT):<br/>

<br/><a href="./assets/hgfcMmM27EoHqWL8p-Screenshot_488.jpg">Screenshot_488.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 16:06:29 GMT):<br/>

<br/><a href="./assets/mgyrdF9AtFpDiYMHY-Screenshot_499.jpg">Screenshot_499.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 16:07:10 GMT):<br/>

<br/><a href="./assets/An3Pvg5faLcpfERN5-Screenshot_500.jpg">Screenshot_500.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 16:07:10 GMT):<br/>

<br/><a href="./assets/An3Pvg5faLcpfERN5-Screenshot_500.jpg">Screenshot_500.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 15 Aug 2020 16:07:10 GMT):<br/>

<br/><a href="./assets/An3Pvg5faLcpfERN5-Screenshot_500.jpg">Screenshot_500.jpg</a>
</p>
<p><strong>tongli</strong> (Sat, 15 Aug 2020 18:09:51 GMT):<br/>
@zilich you are using old minifabric image. Try to get the latest one. 
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 07:36:20 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=tJfvEAchaJVAHnqB5) I use last one... Finally, I installed Centos 8.2.2004... I will try miniFabric again... KVM virtualisation...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 07:37:35 GMT):<br/>

<br/><a href="./assets/fFYyFpLdx64TdtWGm-Screenshot_585.jpg">Screenshot_585.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:08:37 GMT):<br/>

<br/><a href="./assets/ArpoHYzEPDv9RsBb3-Screenshot_593.jpg">Screenshot_593.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:09:12 GMT):<br/>

<br/><a href="./assets/Zc2Ep6hnHjeEAPjtc-Screenshot_594.jpg">Screenshot_594.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:09:30 GMT):<br/>

<br/><a href="./assets/dyxKjQv6ewbW3dMTu-Screenshot_595.jpg">Screenshot_595.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:09:49 GMT):<br/>

<br/><a href="./assets/qqkqyWWbZQJQonWQm-Screenshot_596.jpg">Screenshot_596.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:10:06 GMT):<br/>

<br/><a href="./assets/dMSvnLrGakdvNCWkZ-Screenshot_597.jpg">Screenshot_597.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:11:16 GMT):<br/>
I will add after only java,gradle,maven... What I need for java applications...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:13:39 GMT):<br/>

<br/><a href="./assets/2wpuCx5YzkpJGfDik-Screenshot_599.jpg">Screenshot_599.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:46:40 GMT):<br/>
only to check "-e true"
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:48:48 GMT):<br/>
before...
[zilic@pc112 mywork]$ docker ps -a
CONTAINER ID        IMAGE                                                                                                                                                                     COMMAND                  CREATED             STATUS              PORTS               NAMES
f1f659135842        dev-peer2.org1.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee-3a957cd272925a8c04817ef991069376a87c9691913038ae5d300b200b52fc45   "chaincode -peer.add…"   36 minutes ago      Up 36 minutes                           dev-peer2.org1.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee
2df98b62da55        dev-peer1.org0.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee-0d13f315230afaf6059afa9eddc90ae892a82aace1ecd22d12dfa0e180f77381   "chaincode -peer.add…"   36 minutes ago      Up 36 minutes                           dev-peer1.org0.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee
e54abe393f84        dev-peer2.org0.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee-a84d74ac14999be91c58b5a314802150e644143030263e88a82fa55884952712   "chaincode -peer.add…"   36 minutes ago      Up 36 minutes                           dev-peer2.org0.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee
e1eb4607d377        dev-peer1.org1.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee-2b76ce85dc3e11b8fb846b4e01fc05fbe6a7f2d87378364537dae86c7fb1540f   "chaincode -peer.add…"   36 minutes ago      Up 36 minutes                           dev-peer1.org1.example.com-simple_1.0-c82db0b56d66da90ef4dcd01c4da7c0afc6f6225867477f7eb0409a022fceeee
550e3be920f0        hyperledger/fabric-tools:2.2.0                                                                                                                                            "/bin/sh"                41 minutes ago      Up 41 minutes                           ab1d229f5e_cli
70e6d4f9f443        hyperledger/fabric-ca:1.4                                                                                                                                                 "/bin/sh -c 'fabric-…"   41 minutes ago      Up 41 minutes       7054/tcp            ca1.org1.example.com
a24884f908f6        hyperledger/fabric-ca:1.4                                                                                                                                                 "/bin/sh -c 'fabric-…"   41 minutes ago      Up 41 minutes       7054/tcp            ca1.org0.example.com
feb1728d91c4        hyperledger/fabric-orderer:2.2.0                                                                                                                                          "orderer"                41 minutes ago      Up 41 minutes       7050/tcp            orderer3.example.com
2dfa2efdc7ea        hyperledger/fabric-orderer:2.2.0                                                                                                                                          "orderer"                41 minutes ago      Up 41 minutes       7050/tcp            orderer2.example.com
496db7ba8a4e        hyperledger/fabric-orderer:2.2.0                                                                                                                                          "orderer"                41 minutes ago      Up 41 minutes       7050/tcp            orderer1.example.com
277c22e6e7e3        hyperledger/fabric-peer:2.2.0                                                                                                                                             "peer node start"        41 minutes ago      Up 41 minutes       7051/tcp            peer2.org1.example.com
c2923c3c9f9c        hyperledger/fabric-peer:2.2.0                                                                                                                                             "peer node start"        41 minutes ago      Up 41 minutes       7051/tcp            peer1.org1.example.com
870d83943a76        hyperledger/fabric-peer:2.2.0                                                                                                                                             "peer node start"        41 minutes ago      Up 41 minutes       7051/tcp            peer2.org0.example.com
e306b27e970d        hyperledger/fabric-peer:2.2.0                                                                                                                                             "peer node start"        42 minutes ago      Up 41 minutes       7051/tcp            peer1.org0.example.com
[zilic@pc112 mywork]$
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:52:31 GMT):<br/>
[zilic@pc112 mywork]$ date;./minifab up -e true;date
Sun Aug 16 05:50:01 EDT 2020
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.177
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
............
# Running operation: ******************************************
  generate certificates
..
# Running operation: ******************************************
  start network
................
# Running operation: ******************************************
  network status
......
# Docker node status ******************************************
  ab1d229f5e_cli : Up 3 seconds
  ca1.org1.example.com : Up 12 seconds
  ca1.org0.example.com : Up 18 seconds
  orderer3.example.com : Up 25 seconds
  orderer2.example.com : Up 31 seconds
  orderer1.example.com : Up 37 seconds
  peer2.org1.example.com : Up 44 seconds
  peer1.org1.example.com : Up 49 seconds
  peer2.org0.example.com : Up 55 seconds
  peer1.org0.example.com : Up 59 seconds

# Fabric network peer and orderer node health status **********
  peer1.org0.example.com "OK"
  peer2.org0.example.com "OK"
  peer1.org1.example.com "OK"
  peer2.org1.example.com "OK"
  orderer1.example.com "OK"
  orderer2.example.com "OK"
  orderer3.example.com "OK"

# Running operation: ******************************************
  channel create
.....
# Run the channel creation script on cli container ************
  non-zero return code
  2020-08-16 09:51:40.260 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-08-16 09:51:40.453 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-08-16 09:51:40.453 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-08-16 09:51:40.471 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  2020-08-16 09:51:40.908 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application/org1-example-com be at version 0, but it is currently at version 1

# STATS *******************************************************
minifab: ok=78  failed=1

real    1m39.847s
user    0m18.020s
sys     0m6.225s
Sun Aug 16 05:51:45 EDT 2020
[zilic@pc112 mywork]$
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:53:18 GMT):<br/>

<br/><a href="./assets/GbFQS6zBnuWPvNCDw-Screenshot_601.jpg">Screenshot_601.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 09:54:27 GMT):<br/>
Maybe different order of operations??? for "-e true"? to delete all docker images and try again with "-e true"?
</p>
<p><strong>tongli</strong> (Sun, 16 Aug 2020 11:23:38 GMT):<br/>
You did not do minifab cleanup, did you?
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:16:56 GMT):<br/>
no! :(
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:17:19 GMT):<br/>
After cleanup, up -e true report error...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:18:20 GMT):<br/>

<br/><a href="./assets/8ZsXykpi5PnnYEJ8W-Screenshot_603.jpg">Screenshot_603.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:21:35 GMT):<br/>

<br/><a href="./assets/5hAD7xZ8AG6LHtG6R-LOGcleanupEtrue.txt">LOGcleanupEtrue.txt</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:23:16 GMT):<br/>

<br/><a href="./assets/22QnFomfEZgu5spLr-Screenshot_604.jpg">Screenshot_604.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:42:32 GMT):<br/>

<br/><a href="./assets/3xyGhCpCgnT5wpfbA-Screenshot_605.jpg">Screenshot_605.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:42:42 GMT):<br/>

<br/><a href="./assets/KfmAPcwyu2f2xcSyS-Screenshot_606.jpg">Screenshot_606.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:43:39 GMT):<br/>

<br/><a href="./assets/x7ZbCNLTuGZxuzcZc-Screenshot_607.jpg">Screenshot_607.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:43:49 GMT):<br/>

<br/><a href="./assets/Q2KrESNR3BLWmhtRq-Screenshot_608.jpg">Screenshot_608.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:44:47 GMT):<br/>
its look that is OK.. But miniFabric report error...
</p>
<p><strong>tongli</strong> (Sun, 16 Aug 2020 12:47:25 GMT):<br/>
@zilich so you have no idea what might have gone wrong?
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:53:31 GMT):<br/>
I look logs... Maybe you ask wrong ip/port combination...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:53:31 GMT):<br/>
I look logs... Maybe you ask wrong ip:port combination...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:53:58 GMT):<br/>
from Java port localhost:ip is accessible...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:53:58 GMT):<br/>
from Java port localhost:port is accessible...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:54:52 GMT):<br/>
not ip port... 160.99.71.177:port... You can test with nc ... I sent to you screenshots... above...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:55:34 GMT):<br/>
same problem is in Ubuntu, too... One of reason, what i try to move to Centos is to test clean system with -e true...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 12:58:17 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=WfeJyYDixByhmsGiA) this is test on Ubuntu... And ports test from OS...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:00:12 GMT):<br/>
IP number of broktest1 ubuntu installation is 160.99.71.158! And if I use this instead localhost I cant access to ports...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:05:24 GMT):<br/>

<br/><a href="./assets/eQa5FfP2Z5Fe3XneC-Ubuntu158.txt">Ubuntu158.txt</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:08:02 GMT):<br/>
And list minifab to see date of installation...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:10:40 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=Ex6QdjK6qYLaqTsHG) Maybe some firewall problem, again... With ubuntu  work ...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:16:18 GMT):<br/>

<br/><a href="./assets/vb2QbMzxyDAShebjQ-Ubuntu158.txt">Ubuntu158.txt</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:16:58 GMT):<br/>

<br/><a href="./assets/ZodAxvvbJLXmZ6FHL-Screenshot_611.jpg">Screenshot_611.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:26:47 GMT):<br/>
I test under Centos as root... Same result...
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:27:26 GMT):<br/>

<br/><a href="./assets/QobLfkXs9NMbBo4dH-Screenshot_613.jpg">Screenshot_613.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:27:48 GMT):<br/>

<br/><a href="./assets/xHNDHCdQsBpXnbo7C-Screenshot_614.jpg">Screenshot_614.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 13:29:00 GMT):<br/>
Are you have same results at yours centos installation?_
</p>
<p><strong>tongli</strong> (Sun, 16 Aug 2020 13:49:43 GMT):<br/>
@zilich https://github.com/litong01/minifabric/blob/master/docs/RunningOnCentos.md
</p>
<p><strong>tongli</strong> (Sun, 16 Aug 2020 13:50:21 GMT):<br/>
see the bottom part in terms of using -e true
</p>
<p><strong>tongli</strong> (Sun, 16 Aug 2020 13:51:06 GMT):<br/>
@zilich BTW, I add a doc for running minifabric on Fedora as well.
</p>
<p><strong>tongli</strong> (Sun, 16 Aug 2020 13:52:18 GMT):<br/>
if you are interested in trying , but I've tried all the options, after opening up the necessary port and fixing cgroup2 issues, everything worked perfectly.
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 15:15:51 GMT):<br/>

<br/><a href="./assets/p2bJ2n4TNW6mJZR7j-Screenshot_615.jpg">Screenshot_615.jpg</a>
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 15:18:07 GMT):<br/>
Have you some java client test application under miniFabric? Or where can I read/test documentation / examples?
</p>
<p><strong>zilich</strong> (Sun, 16 Aug 2020 15:37:41 GMT):<br/>

<br/><a href="./assets/NSXC4ESqkqqWei54G-Screenshot_619.jpg">Screenshot_619.jpg</a>
</p>
<p><strong>tongli</strong> (Sun, 16 Aug 2020 20:27:07 GMT):<br/>
@zilich happy that you got it all working for you. regarding the app, there are abundant examples available. All I like to tell you is that minifabric made developing apps a lot easier by providing you the ncessary connection profiles, when you develop your apps, you can directly use these profiles based on the sdk you use.
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 08:01:22 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=ivcT69b9HDtnDuGeP) 
<br/><a href="./assets/otyyNk34mxeCiTd7n-Screenshot_650.jpg">Screenshot_650.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 08:02:21 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=ivcT69b9HDtnDuGeP) 
<br/><a href="./assets/aeFHXMWYyW2AzxwDQ-Screenshot_649.jpg">Screenshot_649.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 08:06:56 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=ivcT69b9HDtnDuGeP) @tongli  I made ...javasdk.yaml based on ...gosdk.yaml. Path for file was OK, and readed...

Format for javasdk.yaml was different? I have following error:
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 142.048 sec <<< FAILURE!
ClientTest(org.example.ClientTest)  Time elapsed: 141.969 sec  <<< ERROR!
java.lang.IllegalArgumentException: No peers provided
        at org.hyperledger.fabric.gateway.impl.query.SingleQueryHandler.<init>(SingleQueryHandler.java:29)
        at org.hyperledger.fabric.gateway.DefaultQueryHandlers.lambda$static$0(DefaultQueryHandlers.java:30)
        at org.hyperledger.fabric.gateway.DefaultQueryHandlers.create(DefaultQueryHandlers.java:73)
        at org.hyperledger.fabric.gateway.impl.NetworkImpl.<init>(NetworkImpl.java:54)
        at org.hyperledger.fabric.gateway.impl.GatewayImpl.getNetwork(GatewayImpl.java:252)
        at org.example.ClientApp.main(ClientApp.java:40)
        at org.example.ClientTest.ClientTest(ClientTest.java:15)
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 08:22:54 GMT):<br/>

<br/><a href="./assets/6HrBj222QT6v2ZNsa-Screenshot_651.jpg">Screenshot_651.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 08:22:54 GMT):<br/>

<br/><a href="./assets/6HrBj222QT6v2ZNsa-Screenshot_651.jpg">Screenshot_651.jpg</a>
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 08:22:54 GMT):<br/>

<br/><a href="./assets/6HrBj222QT6v2ZNsa-Screenshot_651.jpg">Screenshot_651.jpg</a>
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 11:40:49 GMT):<br/>
Well the idea is that the profile will be mounted to a container using right path. 
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 11:48:37 GMT):<br/>
This is for network/server side... I develop client application...
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 11:48:37 GMT):<br/>
This is for network/server side... I develop client application, and i change this file... Maybe need to have another name...
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 11:48:37 GMT):<br/>
This is for network/server side... I develop client application, and I change this file... Maybe need to have another name...
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 11:48:37 GMT):<br/>
This is for network/server side... I develop client application, and I change this file... Maybe need to change it to another name...
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 11:53:58 GMT):<br/>
Or I need to run it from docker enviroment...
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 11:53:58 GMT):<br/>
Or I need to run it from docker environment...
</p>
<p><strong>zilich</strong> (Mon, 17 Aug 2020 11:54:19 GMT):<br/>
then I dont need to change nothing...
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 12:15:34 GMT):<br/>
Right. If your app runs inside a docker container then you do not need to change anything if you mount the files appropriately. This is completely up to you.
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 12:16:38 GMT):<br/>
You may not need all the files if your app runs on behave a particular user.
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:13:40 GMT):<br/>
@tongli i defore closing the issue i oped on github i would like to discuss .
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:14:18 GMT):<br/>
I am still confused on approve/ commit sequence you are explaining
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:15:58 GMT):<br/>
Lest say you have 3 servers 1 orginazation per server . Lest say we have a channel between 3 orgs .
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:18:56 GMT):<br/>
To instal the chaincode to this channel we first need to "install" chaincode to every server . Then  run  "approve" to every server . Which are the next steps ?  As of my understanding one orginization peer has to run commit command . Is that correct  ?
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:20:44 GMT):<br/>
Why dont use the peers found from discover function to run the commit command ?
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 19:22:45 GMT):<br/>
because that your site may not have the admin cert available to commit.
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:23:42 GMT):<br/>
Yeah but we need majority of the peers in the commit command
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:24:27 GMT):<br/>
You cannot run commit command including only one peer org . You will get endorsement policy failure
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:46:00 GMT):<br/>
Why commit has to be done including more than the peer commiting ?
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 19:49:38 GMT):<br/>
@pkirkinezis you got read more fabric docs.
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 19:50:22 GMT):<br/>
and get a good understanding of how things actually work.
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:51:49 GMT):<br/>
Am i so out of what actoully approve commit initialize does ? I also recntly saw the youtube video on hyperledger for chaincode
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:54:24 GMT):<br/>
I get to the same conclution
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 19:54:26 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/release-2.2/chaincode_lifecycle.html
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 20:00:21 GMT):<br/>
what is the conclution?
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 20:03:22 GMT):<br/>
That after enough aproovements (based on LifecycleEndorsement ) on org admin has to commit the chaincode
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 20:03:45 GMT):<br/>
But they don;t state anything about how to ryn commit command .
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 20:07:07 GMT):<br/>
But after looking here on an example of a commit
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 20:07:08 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/release-2.2/commands/peerlifecycle.html
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 20:07:58 GMT):<br/>
You can see it includes all the peer adresses 
peer lifecycle chaincode commit -o orderer.example.com:7050 --channelID mychannel --name mycc --version 1.0 --sequence 1 --init-required --tls --cafile $ORDERER_CA --peerAddresses peer0.org1.example.com:7051 --peerAddresses peer0.org2.example.com:9051
</p>
<p><strong>pkirkinezis</strong> (Mon, 17 Aug 2020 20:22:41 GMT):<br/>
Is ther something crusial i am missing here ?
</p>
<p><strong>sichen</strong> (Mon, 17 Aug 2020 21:47:53 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sichen</strong> (Mon, 17 Aug 2020 21:47:53 GMT):<br/>
Has anybody gotten Hyperledger Explorer working with Minifabric?  I got most of it set up with instructions from https://medium.com/@eplt/5-minutes-to-install-hyperledger-explorer-with-fabric-v2-0-0-unofficial-7958d8e2f540 but am stuck with error
 Failed to connect to remote gRPC server peer1.auditor1.com url:grpcs://peer1.auditor1.com:7051 timeout:3000

When I do  $ docker ps I do see this peer:
hyperledger/fabric-peer:2.2.0                                                                                                                                         "peer node start"        3 hours ago         Up 3 hours          7051/tcp            peer1.auditor1.com
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 22:50:30 GMT):<br/>
@sichen did you use -e flag to allow access to your node from outside of the docker network?
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 22:51:20 GMT):<br/>
Also if your system may have firewall blocking the access?
</p>
<p><strong>sichen</strong> (Mon, 17 Aug 2020 22:52:02 GMT):<br/>
@tongli No I didn't use the -e.  Should I do that as part of $ ./minifab up -o auditor1.com -e?
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 22:58:54 GMT):<br/>
Right. If you do not use -e, you can only access these node from a container running on the same docker network
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 22:59:16 GMT):<br/>
-e true
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 22:59:30 GMT):<br/>
Default is false
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 22:59:40 GMT):<br/>
That flag means expose ports
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 22:59:54 GMT):<br/>
Use -h to see more parameters
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 23:01:56 GMT):<br/>
@sichen if you got it going, please write a small short doc so others can use it as well
</p>
<p><strong>sichen</strong> (Mon, 17 Aug 2020 23:16:01 GMT):<br/>
@tongli I would certainly do that.
</p>
<p><strong>sichen</strong> (Mon, 17 Aug 2020 23:16:33 GMT):<br/>
I'm still stuck though -- I started it with
$ ./minifab up -e true -o auditor1.com
and I see
</p>
<p><strong>sichen</strong> (Mon, 17 Aug 2020 23:16:33 GMT):<br/>
I'm still stuck though -- I started it with
$ ./minifab up -e true -o auditor1.com
and I see
 EXPOSE_ENDPOINTS=true

but I still get same error from Hyperledger Explorer.
</p>
<p><strong>sichen</strong> (Mon, 17 Aug 2020 23:18:17 GMT):<br/>
Is there a way to test access that grpcs end point, like a curl?
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 23:32:08 GMT):<br/>
Sure. You can do few transaction and see things are working
</p>
<p><strong>tongli</strong> (Mon, 17 Aug 2020 23:32:25 GMT):<br/>
Like minifab invoke etc 
</p>
<p><strong>lamnguyen</strong> (Tue, 18 Aug 2020 00:21:54 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tongli</strong> (Tue, 18 Aug 2020 01:32:56 GMT):<br/>
@sichen I think that you might have the certificates setup in the explorer configuration not correct.
</p>
<p><strong>tongli</strong> (Tue, 18 Aug 2020 01:34:17 GMT):<br/>
obviously you are seeing the server, it is just that it wont connect, you can probably log in to the explorer container to see if you can indeed ping peer1.auditor1.com,
</p>
<p><strong>AndrewPark 1</strong> (Tue, 18 Aug 2020 09:38:45 GMT):<br/>
Is there anyone know why fabric chaincode evm project stopped?
</p>
<p><strong>AndrewPark 1</strong> (Tue, 18 Aug 2020 09:38:46 GMT):<br/>
https://github.com/hyperledger/fabric-chaincode-evm
</p>
<p><strong>tongli</strong> (Tue, 18 Aug 2020 11:44:41 GMT):<br/>
@AndrewPark 1 do not really know.
</p>
<p><strong>rjones</strong> (Tue, 18 Aug 2020 13:16:26 GMT):<br/>
@AndrewPark 1 my guess would be the person that was doing most of the work has moved on to another job
</p>
<p><strong>sichen</strong> (Tue, 18 Aug 2020 22:36:59 GMT):<br/>
@tongli Thanks for our advice.  I don't see a way to login to the explorer container.  Here is what my docker containers look like after trying to startup blockchain explorer: https://drive.google.com/file/d/1w3vk8P7bJL-6AbDEcKxmkJXo7alAT-YX/view?usp=sharing
</p>
<p><strong>sichen</strong> (Tue, 18 Aug 2020 22:36:59 GMT):<br/>
@tongli Thanks for our advice.  I don't see a way to login to the explorer container.  Here is what my docker containers look like after trying to startup blockchain explorer: https://drive.google.com/file/d/1w3vk8P7bJL-6AbDEcKxmkJXo7alAT-YX/view?usp=sharing and here is what my blockchain explorer connection JSON looks like:
</p>
<p><strong>sichen</strong> (Tue, 18 Aug 2020 22:36:59 GMT):<br/>
@tongli Thanks for our advice.  I don't see a way to login to the explorer container.  Here is what my docker containers look like after trying to startup blockchain explorer: https://drive.google.com/file/d/1w3vk8P7bJL-6AbDEcKxmkJXo7alAT-YX/view?usp=sharing and here is what my blockchain explorer connection JSON looks like: https://drive.google.com/file/d/1M05olaZQba7HNgZ88CFa2eFKCM__U48b/view?usp=sharing -- Do you see anything wrong with either one?
</p>
<p><strong>tongli</strong> (Wed, 19 Aug 2020 01:06:41 GMT):<br/>
@sichen I've added command to minifabric `minifab explorerup` and `minifab explorerdown` to boot up and shutdown explorer.
</p>
<p><strong>tongli</strong> (Wed, 19 Aug 2020 01:07:40 GMT):<br/>
if you use the latest minifabric, you can start up explorer just using the above command. then you can access the explorer by the showing url.
</p>
<p><strong>tongli</strong> (Wed, 19 Aug 2020 01:08:27 GMT):<br/>
@rjones please see above conversation with @sichen on adding explorer to minifabric.
</p>
<p><strong>tongli</strong> (Wed, 19 Aug 2020 01:18:51 GMT):<br/>
@sichen @rjones https://github.com/litong01/minifabric/commit/bae761ff8873a9ca4413281f24942f83a873d1c0
</p>
<p><strong>tongli</strong> (Wed, 19 Aug 2020 01:19:15 GMT):<br/>
and see the doc  https://github.com/litong01/minifabric/blob/master/docs/README.md#explorer-your-fabric-network
</p>
<p><strong>pkirkinezis</strong> (Wed, 19 Aug 2020 17:18:43 GMT):<br/>
regarding the issue with the VScode and identity . From java SDK i was able to register and enroll a new user and save these certificates generated to execute transactions . Why  it is not possible from VScode?
</p>
<p><strong>pkirkinezis</strong> (Wed, 19 Aug 2020 17:29:49 GMT):<br/>
There is any way to force ibm blockchain tool to create a user via fabric ca?
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 18:46:42 GMT):<br/>

<br/><a href="./assets/8gBMnfwtf5ykgMJo6-Screen Shot 2020-08-19 at 11.46.11 AM.png">Screen Shot 2020-08-19 at 11.46.11 AM.png</a>
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 18:48:07 GMT):<br/>
@tongli I cloned your github repo but now it is not working at all.  I'm attaching the 2 error messages I get.  What is also strange is that WORKING_DIRECTORY=/home whereas before using that tiny.url it sets the working directory correctly.
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 18:48:31 GMT):<br/>

<br/><a href="./assets/B367TvSrRqKG4Y9ZB-Screen Shot 2020-08-19 at 11.46.21 AM.png">Screen Shot 2020-08-19 at 11.46.21 AM.png</a>
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:20:39 GMT):<br/>
@sichen when I was seeing that earlier, I had an old version of the minifab dockerhub imagew
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:20:39 GMT):<br/>
@sichen when I was seeing that earlier, I had an old version of the minifab dockerhub image
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 19:45:54 GMT):<br/>
@rjones How do I fix that?  I just git clone and git fetch, and everything is up to date.
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:48:10 GMT):<br/>
`docker pull hfrd/minifab:latest`
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:48:40 GMT):<br/>
@sichen the image ID is `e99fc7185128`
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:50:25 GMT):<br/>
I just ran it, and it worked
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 19:50:49 GMT):<br/>

<br/><a href="./assets/tWW5jegTuZcgXRZXc-Screen Shot 2020-08-19 at 12.50.34 PM.png">Screen Shot 2020-08-19 at 12.50.34 PM.png</a>
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 19:51:08 GMT):<br/>
Do these look right to you?  I just did docker images prune, docker images rmi on some temporary images, so this is all that's left.
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:52:22 GMT):<br/>
this is what I have: ```C:\Users\s390x\mywork>docker images
REPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE
hfrd/minifab                 latest              e99fc7185128        8 hours ago         274MB
hyperledger/explorer-db      latest              5217ac66f395        6 days ago          97.7MB
hyperledger/explorer         latest              3f61c0231202        6 days ago          174MB
hyperledger/fabric-ca        1.4                 152b9082adf6        2 weeks ago         158MB
hyperledger/fabric-tools     2.2.0               5eb2356665e7        5 weeks ago         519MB
hyperledger/fabric-peer      2.2.0               760f304a3282        5 weeks ago         54.9MB
hyperledger/fabric-orderer   2.2.0               5fb8e97da88d        5 weeks ago         38.4MB
hyperledger/fabric-ccenv     2.2                 aac435a5d3f1        5 weeks ago         586MB
hyperledger/fabric-ccenv     2.2.0               aac435a5d3f1        5 weeks ago         586MB
hyperledger/fabric-baseos    2.2                 aa2bdf8013af        5 weeks ago         6.85MB```
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 19:54:59 GMT):<br/>
I think we have the same ones, except for explorer
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 19:58:02 GMT):<br/>
Wait.  I think the problem is on my end -- let me cleanup everything properly and start all over again.
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:58:08 GMT):<br/>
I don't know. I built it using the instructions, it worked, the error you were showing is one I got when my minifab image was old
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 19:58:09 GMT):<br/>
OK.
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 20:08:08 GMT):<br/>
That probably helped.  Then I had to clean everything up properly and it worked.
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 20:08:13 GMT):<br/>
Thanks so much!
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 20:21:35 GMT):<br/>
@tongli Amazing!  The explorer is working!!!  Thank you so much!!!!!
</p>
<p><strong>rjones</strong> (Wed, 19 Aug 2020 20:33:41 GMT):<br/>
Pretty cool, no?
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 20:57:24 GMT):<br/>
Yes, very nice!  Thanks to you guys.
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 20:58:31 GMT):<br/>
I'm having another problem: When I install, approve, commit my chaincode, there are no error messages.  But when I do a stats, I do see that the docker nodes for the chaincode Exited (1) 8 minutes ago.  There are no nodes for them with $ docker ps, so running the chaincode doesn't work.  Where should I go to debug what happened then?
</p>
<p><strong>sichen</strong> (Wed, 19 Aug 2020 21:01:21 GMT):<br/>

<br/><a href="./assets/A47rRtNBQF4vp2E3G-install chaincode log.txt">install chaincode log.txt</a>
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 01:39:50 GMT):<br/>
@sichen , what chaincode were you installing?
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 01:40:35 GMT):<br/>
There was no error during the install but failed after awhile? That is quite new to me .
</p>
<p><strong>sichen</strong> (Thu, 20 Aug 2020 01:40:57 GMT):<br/>
It is from our repo https://github.com/opentaps/blockchain-carbon-accounting/tree/master/utility-emissions-channel/chaincode/node
</p>
<p><strong>sichen</strong> (Thu, 20 Aug 2020 01:41:57 GMT):<br/>
what is strange is the   dev-peer1.auditor2.org-emissions_1.1-b94e2cac8c709 : Exited (1) 8 minutes ago
the peer exited (1) but how do I see the error message?
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 01:41:57 GMT):<br/>
Oh. Ok. I can try it tomorrow. 
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 01:42:16 GMT):<br/>
Make sure you use the language flag to indicate that your chaincode is node
</p>
<p><strong>sichen</strong> (Thu, 20 Aug 2020 01:42:36 GMT):<br/>
~/hyperledger/minifabric/minifab install -n emissions -l node -v 1.1
</p>
<p><strong>sichen</strong> (Thu, 20 Aug 2020 01:44:28 GMT):<br/>
I'm running from the blockchain-carbon-accounting/utility-emissions-channel directory and
$ ls vars/chaincode/emissions/
emissions_node_1.0.tar.gz  emissions_node_1.1.tar.gz  node/              
so it looks like it built it but then it couldn't deploy it successfully.
</p>
<p><strong>sichen</strong> (Thu, 20 Aug 2020 01:46:17 GMT):<br/>
Thanks for looking into it.  I'd like to know where to look for log of the install to see if there are errors.  When I try to $ docker logs <peer-container-id> it just keeps running a very long file of repetitive logs
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 01:57:50 GMT):<br/>
Hmmm. Can you try to install the chaincode which comes with minifabric?
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 01:58:00 GMT):<br/>
That way we know network is fine.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:33:40 GMT):<br/>
@sichen does your chaincode require initialization ?
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:33:58 GMT):<br/>
is there a method that I can invoke ?
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:37:20 GMT):<br/>
I named your chaincode tongli, and installed , approved and committed. now I see 4 containers running on my 4 nodes network.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:37:30 GMT):<br/>

<br/><a href="./assets/qaE7grgrqzrAsoYjx-Screen Shot 2020-08-19 at 10.36.48 PM.png">Screen Shot 2020-08-19 at 10.36.48 PM.png</a>
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:37:54 GMT):<br/>
just do not know how to invoke it and what method can be called.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:39:06 GMT):<br/>
@sichen see above ^^^
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:43:24 GMT):<br/>
after approve, commit, I did this `minifab initialize -p '"instantiate"'`
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:43:30 GMT):<br/>
it worked fine as well.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:49:36 GMT):<br/>
I also did this
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:49:41 GMT):<br/>
```minifab invoke -p '"getEmissionsData","101","201","08/01/2020","08/31/2020"'```
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:49:57 GMT):<br/>
which successfully created a block on the ledger.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:50:27 GMT):<br/>
however, this one , produced an error
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:50:32 GMT):<br/>
```minifab invoke -p '"recordEmissions","101","201","08/01/2020","08/31/2020",100,"kwh"'```
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:51:47 GMT):<br/>
I think that the problem is in your code , you assumed that emissionsAmount is a number.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:51:48 GMT):<br/>
https://github.com/opentaps/blockchain-carbon-accounting/blob/master/utility-emissions-channel/chaincode/node/lib/emissionscontract.js#L70
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:54:25 GMT):<br/>
I believe that needs to be a string as well, you can change that to a number once you receive it.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 02:55:29 GMT):<br/>
as far as I can see, the chaincode worked but I do not know if it does what you meant it to. anyhow, the chaincode installed ok and worked ok too. This was running on the latest fabric 2.2
</p>
<p><strong>lamnguyen</strong> (Thu, 20 Aug 2020 09:20:58 GMT):<br/>

<br/><a href="./assets/Bpsc33cbs7TFWtCKN-Clipboard - 20 tháng 8 năm 2020 11:20">Clipboard - 20 tháng 8 năm 2020 11:20</a>
</p>
<p><strong>lamnguyen</strong> (Thu, 20 Aug 2020 09:34:52 GMT):<br/>
Ah, it works. Just make sure the path to chaincode folder is correct. Thanks.
</p>
<p><strong>lamnguyen</strong> (Thu, 20 Aug 2020 09:37:53 GMT):<br/>

<br/><a href="./assets/MpPsydDrvoBQrn5D9-Clipboard - 20 tháng 8 năm 2020 11:37">Clipboard - 20 tháng 8 năm 2020 11:37</a>
</p>
<p><strong>lamnguyen</strong> (Thu, 20 Aug 2020 09:37:54 GMT):<br/>
After initialize the chaincode, I tried to invoke, but have same error
</p>
<p><strong>HeMBaD</strong> (Thu, 20 Aug 2020 10:44:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 11:25:36 GMT):<br/>
@lamnguyen that error was due to the error in the chaincode itself. As I pointed out in an earlier msg, the variable needs to be a string then converted to a number in the chaincode
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 11:27:03 GMT):<br/>
@lamnguyen are you the same person who uses sichen as the id in earlier conversation?
</p>
<p><strong>lamnguyen</strong> (Thu, 20 Aug 2020 11:28:13 GMT):<br/>
hi @tongli , thanks for your help, me and @sichen are working on the same project using minifab :)
</p>
<p><strong>lamnguyen</strong> (Thu, 20 Aug 2020 11:46:35 GMT):<br/>
Hi @tongli, is there anyway to upgrade the chain code as "peer chaincode upgrade" in minifab?
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 13:08:02 GMT):<br/>
@lamnguyen oh i see. Again I think if you convert these number parameters to strings , things will work fine.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 13:08:32 GMT):<br/>
Once you get strings in your chaincode you should convert them to various types.
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 22:08:33 GMT):<br/>

<br/><a href="./assets/K6tNhJafpPCNdFSzn-Clipboard - August 20, 2020 11:08 PM">Clipboard - August 20, 2020 11:08 PM</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 22:08:33 GMT):<br/>
When I try to update chaincode I get the following error:
<br/><a href="./assets/K6tNhJafpPCNdFSzn-Clipboard - August 20, 2020 11:08 PM">Clipboard - August 20, 2020 11:08 PM</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 22:08:33 GMT):<br/>
When I try to update chaincode I get the following error (command used `minifab install,approve,commit,discover -v 2.0`):
<br/><a href="./assets/K6tNhJafpPCNdFSzn-Clipboard - August 20, 2020 11:08 PM">Clipboard - August 20, 2020 11:08 PM</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 22:08:33 GMT):<br/>
When I try to update chaincode I get the following error:
<br/><a href="./assets/K6tNhJafpPCNdFSzn-Clipboard - August 20, 2020 11:08 PM">Clipboard - August 20, 2020 11:08 PM</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 22:19:39 GMT):<br/>

<br/><a href="./assets/SdNZdN8WvYcAEYdq7-Clipboard - August 20, 2020 11:19 PM">Clipboard - August 20, 2020 11:19 PM</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 22:21:28 GMT):<br/>
Getting the following error when I do the whole thing fresh with the command `minifab up -l node -d false -n tradingtx`
```
# Running operation: ******************************************
  cc commit
.....
# Run the chaincode commit script on cli container ************
  non-zero return code
  jq: error (at <stdin>:1): Cannot iterate over null (null)
  Error: proposal failed with status: 500 - failed to invoke backing implementation of 'CommitChaincodeDefinition': chaincode definition not agreed to by this org (org0-example-com)
```
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 22:29:13 GMT):<br/>
You need to install,approve,commit
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 22:29:28 GMT):<br/>
Just like a new chaincode.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 22:29:54 GMT):<br/>
Any time there is a change to the chaincode, the same process has to be followed.
</p>
<p><strong>tongli</strong> (Thu, 20 Aug 2020 22:30:40 GMT):<br/>
If your chaincode needs initialize, you will have to use correct initialize parameters to initialize as well
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 22:57:53 GMT):<br/>

<br/><a href="./assets/uFJNmjmGNpuJsfmsm-Clipboard - August 20, 2020 11:57 PM">Clipboard - August 20, 2020 11:57 PM</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 20 Aug 2020 23:08:39 GMT):<br/>
That's what I'm saying, that was one snippet of the output of `minifab up -l node -d false -n tradingtx` which runs through the install, approve commit process. My chaincode does not need to initialise.
</p>
<p><strong>sichen</strong> (Fri, 21 Aug 2020 00:29:22 GMT):<br/>
@tongli Thanks for your help and for looking at my code.  Yes, minifabric did work with the the chaincode that comes with minifabric.  I've fixed a few things with my code and am continuing to work on it.  I don't mean to bug you about my bugs :)  But I noticed a few things about minifabric that you might be interested in:
1.  If you $ minifabric initialize and it has been run before, it will give you an error about the parameters.  You have to $ minifabric initialize -p '' to clear the parameters.  Is this expected behavior?
2.  If you modify my code and add a var emissionsAmount = 0.0; at https://github.com/opentaps/blockchain-carbon-accounting/blob/master/utility-emissions-channel/chaincode/node/lib/emissions.js#L15, then try to deploy, it crashes the peer nodes.  They have error  dev-peer1.auditor1.com-emissions_3.0-43dcd6619d08b : Exited (1) 12 seconds ago and then you'd have to start over again.
</p>
<p><strong>sichen</strong> (Fri, 21 Aug 2020 00:29:57 GMT):<br/>

<br/><a href="./assets/rXRhSrZkuoF4arTG8-Terminal Saved Output.txt">Terminal Saved Output.txt</a>
</p>
<p><strong>tongli</strong> (Fri, 21 Aug 2020 00:53:18 GMT):<br/>
@sichen looks like you are having chaincode issues.
</p>
<p><strong>tongli</strong> (Fri, 21 Aug 2020 00:53:50 GMT):<br/>
especially here ```# Run the chaincode invoke script on cli container ************
  non-zero return code
  Error: endorsement failure during invoke. response: status:500 message:"error in simulation: transaction returned with failure: ReferenceError: emissionsAmount is not defined"

```
</p>
<p><strong>tongli</strong> (Fri, 21 Aug 2020 00:53:59 GMT):<br/>
this is during the chaincode invoke.
</p>
<p><strong>tongli</strong> (Fri, 21 Aug 2020 00:54:13 GMT):<br/>
the error comes from your chaincode.
</p>
<p><strong>tongli</strong> (Fri, 21 Aug 2020 00:54:41 GMT):<br/>
check your chaincode.
</p>
<p><strong>sichen</strong> (Fri, 21 Aug 2020 00:57:46 GMT):<br/>
@tongli OK I will but I just wanted to point out that by adding a var emissionsAmount = 0.0 it crashes the peer nodes.  Is that expected?
</p>
<p><strong>SpecialAgentCooper</strong> (Fri, 21 Aug 2020 00:59:54 GMT):<br/>
Has anyone got an example node sdk client that connects to a minifab network? Even just the connection config for enrolling admins would be helpful
</p>
<p><strong>sichen</strong> (Fri, 21 Aug 2020 23:21:58 GMT):<br/>
@tongli Just wanted to thank you for minifabric.  It's truly great!  We got everything up and running and are now able to run our chain code.  Thank you so much!
</p>
<p><strong>tongli</strong> (Sat, 22 Aug 2020 01:49:47 GMT):<br/>
@sichen happy to hear that.
</p>
<p><strong>tongli</strong> (Sat, 22 Aug 2020 01:50:16 GMT):<br/>
@sichen when you get chance, please promote so that more people can use it and also contribute to it.
</p>
<p><strong>tongli</strong> (Sat, 22 Aug 2020 02:17:45 GMT):<br/>
@SpecialAgentCooper normally you can find some examples from the sdk repo that you are using.
</p>
<p><strong>tongli</strong> (Sat, 22 Aug 2020 02:18:05 GMT):<br/>
If I remember right, node ask has a package for ca
</p>
<p><strong>tongli</strong> (Sat, 22 Aug 2020 02:18:22 GMT):<br/>
There has to be some examples
</p>
<p><strong>tongli</strong> (Sat, 22 Aug 2020 02:18:41 GMT):<br/>
Or look into the test cases
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 24 Aug 2020 09:33:24 GMT):<br/>
Thanks, I have a node.js client app which works for the test network on my VM, but I'm now trying to connect it to minifab and struggling
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 24 Aug 2020 09:35:07 GMT):<br/>
How is the mychannel_connection_for_nodesdk.json file to be used? It makes the assumption that a client app will be on the same machine: the CA certificates are specified by location. The test network has the actual key in the connection profiles, which might be a better approach
</p>
<p><strong>tongli</strong> (Mon, 24 Aug 2020 14:01:57 GMT):<br/>
@SpecialAgentCooper no, it does not assume that, you assumed that. You can easily use flag -e true to expose your node ports as described in docs. Please read the docs in docs directory. Few minutes spent there will really save you a lot of time.
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 25 Aug 2020 08:41:57 GMT):<br/>
@tongli I promise you I have read the docs, sorry if I'm a little slow on the uptake but I'm not as well versed in all of this as you. In fact, I've read the docs and watched all of the videos. I'm really doing my best here so I would appreciate my comments being taken in good faith. I've just read the docs again and the '-e' flag is only really described in the "health & metrics" section, so forgive me for not realising it was relevant to using minifab in conjunction with client apps.
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 25 Aug 2020 09:27:00 GMT):<br/>
Anyway, thanks for pointing me in the right direction.
</p>
<p><strong>tongli</strong> (Tue, 25 Aug 2020 10:45:55 GMT):<br/>
@SpecialAgentCooper , not at all. Run minifab without any option will tell you all the possible commands and options too.
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 26 Aug 2020 12:35:48 GMT):<br/>
Another day, another annoying question from me :P 

Here is a snippet of the output from ` minifab up -l node -n simple -o edb.bg.com`
```
# Running operation: ******************************************
  channel create
.....
# Run the channel creation script on cli container ************
  non-zero return code
  2020-08-26 12:27:47.517 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-08-26 12:27:47.544 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-08-26 12:27:47.544 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-08-26 12:27:47.585 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  2020-08-26 12:27:47.646 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: SERVICE_UNAVAILABLE -- no Raft leader

# STATS *******************************************************
minifab: ok=103 failed=1
```

Here is my spec.yaml:
```
fabric:
  cas:
    - "ca1.edb.bg.com"
    - "ca1.sha.bg.com"
  peers:
    - "peer1.edb.bg.com"
    - "peer2.edb.bg.com"
    - "peer1.sha.bg.com"
    - "peer2.sha.bg.com"
  orderers:
    - "orderer1.bg.com"
    - "orderer2.bg.com"
    - "orderer3.bg.com"
  settings:
    ca:
      FABRIC_LOGGING_SPEC: DEBUG
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
      CORE_CHAINCODE_BUILDER: hyperledger/fabric-ccenv:bg2.2.1
      CORE_CHAINCODE_NODE_RUNTIME: hyperledger/fabric-nodeenv:bg2.2.1
    orderer:
      FABRIC_LOGGING_SPEC: DEBUG
```

As usual, I'm running this on windows. I read the docs again but didn't spot anything wrong with my approach. Is there something I'm missing from the spec yaml?
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 26 Aug 2020 12:37:29 GMT):<br/>
Note that I don't get this error for the default network config & org.
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 26 Aug 2020 12:37:29 GMT):<br/>
Note that I don't get this `no Raft leader` error for the default network config & org.
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 26 Aug 2020 13:48:02 GMT):<br/>
When I try to do it in stages (i.e. `netup` first, then wait a bit, then create a channel) the ordering service crashes. The only network config I can get to behave is the default one.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 15:24:42 GMT):<br/>
@SpecialAgentCooper try to cleanup and update your windows script and minifabric image and give it a try. We’ve made a lot of changes recently for windows. You do not need to change your spec file.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 16:19:50 GMT):<br/>
@SpecialAgentCooper you are saying that only your customized network has issues?
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 16:19:50 GMT):<br/>
@SpecialAgentCooper you are saying that only when you use customized network spec you found has issues?
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 17:24:15 GMT):<br/>
@SpecialAgentCooper I've tested using your spec but without the customized builder.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 17:26:06 GMT):<br/>
the error is due to this. when your orderers were up running, each individual node is probably up running but while you are moving on to create channel, the orderers may have not done electing a raft leader yet.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 17:26:24 GMT):<br/>
when you do netup, and wait for awhile, then everything will work fine.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 17:27:10 GMT):<br/>
this is normally not a problem and only occurs when your orderer nodes are slow to start up.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 17:32:08 GMT):<br/>
@SpecialAgentCooper it is a bit difficult to check if the leader has been elected.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 17:32:41 GMT):<br/>
because any orderer node can be the Raft leader.
</p>
<p><strong>tongli</strong> (Wed, 26 Aug 2020 18:03:03 GMT):<br/>
@SpecialAgentCooper I've added some logic in Minifabric to wait for RAFT leader to be selected before moving on. if you extract latest image, you should not see the RAFT leader issue any more.
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 27 Aug 2020 10:42:31 GMT):<br/>
Thanks for looking into this @tongli . I'll check out the latest image later today
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 27 Aug 2020 14:44:45 GMT):<br/>
Latest image + minifabwin script + my custom spec.yaml file - worked! The network is up and running with the names I specified, chaincode installed and accepting queries. Thanks again!
</p>
<p><strong>rjones</strong> (Thu, 27 Aug 2020 16:03:42 GMT):<br/>
@SpecialAgentCooper thoughts on making a video walkthrough, for other people who are in your shoes?
</p>
<p><strong>tongli</strong> (Thu, 27 Aug 2020 16:33:24 GMT):<br/>
@rjones @SpecialAgentCooper I think cooper’s issue is that in his env, orderer nodes do not come up quickly and leader selection process was slow. Minifabric did not check if raft leader selection process has been done or not before moving on creating channels, that was what failed his process. I added a validation clause to check if raft leader has been selected before moving on. The check is done by iterating orderer nodes and wait 2 seconds to see the condition has been met. It sounded that the clause worked pretty well.
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 27 Aug 2020 16:37:28 GMT):<br/>
@rjones once I've managed to connect a client app, I might do a walkthrough of the whole process of getting this stuff to work behind corporate firewalls since I imagine that's a common use case (and no one has written this tutorial for me to follow!). Just struggling to use the connection profile at the minute
</p>
<p><strong>rjones</strong> (Thu, 27 Aug 2020 16:37:57 GMT):<br/>
if you can put it together, I'll publish it on the Hyperledger Youtube channel
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 27 Aug 2020 16:42:37 GMT):<br/>
nice! It's been one of those awkward problems to solve where you don't get to see the whole shape of it at once - just one error message at a time... Mostly my companies fault rather than hyperledger, though node-gyp shares a lot of the blame for being generally awkward to use. Would be a mammoth task without minifab though so thanks for all your efforts
</p>
<p><strong>rjones</strong> (Thu, 27 Aug 2020 16:43:17 GMT):<br/>
well, IIRC, a few bugs have been fixed as you work through this, so thank you for being persistent.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 31 Aug 2020 10:27:29 GMT):<br/>
any tips for operating minifab with client apps? Any environment variables I need to set? The reason I ask is I'm getting timeouts when I try to enroll the admin user. I tried to just connect directly using curl and got the same timeout error:
```
curl https://ca1.edb.bg.com:7054/api/v1/cainfo
curl: (7) Failed to connect to ca1.edb.bg.com port 7054: Timed out
```
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 31 Aug 2020 10:32:05 GMT):<br/>
Here's the minifab command:
`minifab up -l node -n tradingtx -p '\"instantiate\"' -o edb.bg.com -c ordermanagement -e 7000-8000:7000-8000` 
for the same spec.yaml I posted last time.
</p>
<p><strong>tongli</strong> (Mon, 31 Aug 2020 12:49:39 GMT):<br/>
-e can only take either true, false or a port as starting port.
</p>
<p><strong>tongli</strong> (Mon, 31 Aug 2020 12:51:32 GMT):<br/>
Seems to me that you command is also using the container port not the mapped port. Correct these two issues and also provide the tls cert to make it working. You probably can read some of the ca command docs before you execute the command.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 31 Aug 2020 13:37:02 GMT):<br/>
Thanks, how do I provide the TLS cert? Do you mean to provide it to curl?
</p>
<p><strong>tongli</strong> (Mon, 31 Aug 2020 13:59:15 GMT):<br/>
When you do anything with ca, you should be using fabric-ca-client
</p>
<p><strong>tongli</strong> (Mon, 31 Aug 2020 14:00:13 GMT):<br/>
I never used bare https and do not know how you provide cert doing curl. You will have to look up docs from ca server.
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 31 Aug 2020 15:45:05 GMT):<br/>
`-e true` was all I needed, my client has happily enrolled an admin user now. Ran into an error after that, but progress!
</p>
<p><strong>tongli</strong> (Mon, 31 Aug 2020 15:59:55 GMT):<br/>
great.
</p>
<p><strong>tongli</strong> (Mon, 31 Aug 2020 16:01:06 GMT):<br/>
I've updated quite a bit of connection profiles for easier adoption. If you are using connection profiles, you may want to get the latest minifab container.
</p>
<p><strong>tongli</strong> (Mon, 31 Aug 2020 16:01:15 GMT):<br/>
if you are not using connection profile, then it is ok.
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 01 Sep 2020 13:33:43 GMT):<br/>
Having issues upgrading a chaincode that was previously installed (see thread)
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 01 Sep 2020 13:34:02 GMT):<br/>

<br/><a href="./assets/kkRgHEFGn9Q6DwdzF-Clipboard - September 1, 2020 2:33 PM">Clipboard - September 1, 2020 2:33 PM</a>
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 01 Sep 2020 13:34:28 GMT):<br/>
this was the execution context:
```
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=ordermanagement
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=node
    CHAINCODE_NAME=tradingtx
    CHAINCODE_VERSION=2.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="instantiate"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=edb.bg.com
    HOST_ADDRESSES=10.134.6.32,255.255.255.255,192.168.0.18,172.18.81.161,255.255.255.240
    WORKING_DIRECTORY: /host_mnt/c/projects/fintech/Blockchain/repos/blockchain-poc/minifab
```
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 01 Sep 2020 13:44:24 GMT):<br/>
after the command, there is a `tradingtx_node_2.0.tar.gz` file in `vars\chaincode\tradingtx', the same size as the old one. I'm not able to initialize the new chaincode or submit transaction to the old one:
```
# Running operation: ******************************************
  cc invoke
..........
# Run the chaincode invoke script on cli container ************
  non-zero return code
  Error: error getting endorser client for invoke: endorser client failed to connect to 10.134.3.68:7003: failed to create new connection: context deadline exceeded
```
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 01 Sep 2020 14:58:20 GMT):<br/>
Ended up getting it to install: 
- `minifab cleanup` 
- set up chaincode dir
- `minifab up -l node -n tradingtx -p '\"instantiate\"' -o edb.bg.com -c ordermanagement -e true`
- copy new chaincode into folder
- `minifab install -v 2.0`
- `minifab approve,commit,initialize,discover`

Should I add a section to the docs? The part on upgrading chaincode is missing some steps (I think!)
</p>
<p><strong>rjones</strong> (Tue, 01 Sep 2020 15:42:34 GMT):<br/>
please do
</p>
<p><strong>rjones</strong> (Tue, 01 Sep 2020 15:43:38 GMT):<br/>
I'm in favor of documentation that skips no steps :)
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 01 Sep 2020 16:11:39 GMT):<br/>
Nice, ok I'll add something tomorrow
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 02 Sep 2020 13:10:12 GMT):<br/>
Just created a pull request - I've expanded the instructions to upgrade chaincode and fixed spelling mistakes throughout the docs page
</p>
<p><strong>rjones</strong> (Wed, 02 Sep 2020 13:10:40 GMT):<br/>
cool, thanks!
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 10:44:50 GMT):<br/>
some problem with installation of minifabric???
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 10:45:48 GMT):<br/>

<br/><a href="./assets/uCgDdheFuSXpHdTgZ-Screenshot_935.jpg">Screenshot_935.jpg</a>
</p>
<p><strong>tongli</strong> (Sat, 05 Sep 2020 11:25:46 GMT):<br/>
What command were you using? Seems that you are having trouble pulling down the docker images. Make sure that you can docker pull fabric images
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 11:43:50 GMT):<br/>
I try to reinstall minifabric...
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 11:44:01 GMT):<br/>
remove all docker and images...
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 11:44:26 GMT):<br/>
and install wait more then 1 houre...
</p>
<p><strong>tongli</strong> (Sat, 05 Sep 2020 11:52:34 GMT):<br/>
Hmm, you have network issues
</p>
<p><strong>tongli</strong> (Sat, 05 Sep 2020 11:53:27 GMT):<br/>
And please follow the docs procedure on updating minifabric itself
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 12:00:23 GMT):<br/>
I delete everything and try to install clean system...
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 12:01:10 GMT):<br/>

<br/><a href="./assets/gn7zTFs2v322pBaNP-Screenshot_944.jpg">Screenshot_944.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 12:01:23 GMT):<br/>

<br/><a href="./assets/9kwQh4ZYdHamXTCAR-Screenshot_945.jpg">Screenshot_945.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 12:08:01 GMT):<br/>
on Centos 8.2 work now... wait short...

[root@pc86 mywork]# ./minifab up -e true
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=160.99.71.153
    WORKING_DIRECTORY: /home/zilic/mywork
...
# Preparing for the following operations: *********************
  verify options, download images, generate certificates, start network, network status, channel create, channel join, anchor update, profile generation, cc install, cc approve, cc commit, cc initialize, discover
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  download images
............
# Running operation: ******************************************
  generate certificates
.............
# Running operation: ******************************************
  start network
.......................
# Running operation: ******************************************
  network status
......
# Docker node status ******************************************
  ab1d229f5e_cli : Up 6 seconds
  ca1.org1.example.com : Up 7 seconds
  ca1.org0.example.com : Up 8 seconds
  orderer3.example.com : Up 9 seconds
  orderer2.example.com : Up 10 seconds
  orderer1.example.com : Up 10 seconds
  peer2.org1.example.com : Up 11 seconds
  peer1.org1.example.com : Up 12 seconds
  peer2.org0.example.com : Up 13 seconds
  peer1.org0.example.com : Up 14 seconds

# Fabric network peer and orderer node health status **********
  peer1.org0.example.com "OK"
  peer2.org0.example.com "OK"
  peer1.org1.example.com "OK"
  peer2.org1.example.com "OK"
  orderer1.example.com "OK"
  orderer2.example.com "OK"
  orderer3.example.com "OK"

# Running operation: ******************************************
  channel create
......
# Running operation: ******************************************
  channel join
...........................
# Running operation: ******************************************
  anchor update
............
# Running operation: ******************************************
  profile generation
.................................
# Running operation: ******************************************
  cc install
............

date
...............
# Running operation: ******************************************
  cc approve
......
# Running operation: ******************************************
  cc commit
......
# Running operation: ******************************************
  cc initialize
......
# Running operation: ******************************************
  discover
........................

# STATS *******************************************************
minifab: ok=267 failed=0

real    3m38.682s
user    0m56.475s
sys     0m11.357s
[root@pc86 mywork]#
[root@pc86 mywork]#
[root@pc86 mywork]# date
суб,  5. сеп 2020.  14:07:37 CEST
[root@pc86 mywork]#
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 12:08:33 GMT):<br/>
I dont know what is problem... maybe network...
</p>
<p><strong>zilich</strong> (Sat, 05 Sep 2020 12:42:28 GMT):<br/>
Thanks!
</p>
<p><strong>zilich</strong> (Sun, 06 Sep 2020 13:47:08 GMT):<br/>
Are you test following:
1. Start miniFabric.(./minifab up) 2. Install java chaincode(simple/sample). 3. Stop miniFabric network.(./minifab down)

How to start miniFabric network again (./minifab up)?

Are you have any error after that?
</p>
<p><strong>zilich</strong> (Sun, 06 Sep 2020 13:48:06 GMT):<br/>
Or this is wrong order of steps for that?
</p>
<p><strong>tongli</strong> (Sun, 06 Sep 2020 16:05:08 GMT):<br/>
minifab restart 
</p>
<p><strong>zilich</strong> (Sun, 06 Sep 2020 20:00:08 GMT):<br/>
This restart work as expected! Thanks!
</p>
<p><strong>zilich</strong> (Mon, 07 Sep 2020 04:09:43 GMT):<br/>
# Run the channel creation script on cli container ************
  non-zero return code
  2020-09-07 04:05:26.532 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-09-07 04:05:26.655 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-09-07 04:05:26.655 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-09-07 04:05:26.683 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  2020-09-07 04:05:26.884 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating ReadSet: proposed update requires that key [Group]  /Channel/Application be at version 0, but it is currently at version 1

# STATS *******************************************************
minifab: ok=81  failed=1

This error is reported if I do ./minifab down, and ./minifab up... whithout ./minifab reset
</p>
<p><strong>zilich</strong> (Mon, 07 Sep 2020 04:10:53 GMT):<br/>
even if I remove envsettings, i.e.
rm vars/envsettings
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 07 Sep 2020 09:03:02 GMT):<br/>
you need to do minifab cleanup before running minifab up that to avoid the error
</p>
<p><strong>SpecialAgentCooper</strong> (Mon, 07 Sep 2020 09:03:24 GMT):<br/>
which deletes everything in vars
</p>
<p><strong>tongli</strong> (Mon, 07 Sep 2020 11:36:50 GMT):<br/>
When you do minifab up, that means you will be creating the channel as well, the issue is that though you did minifab down, your data including channel still exists, it is just that peers and orderers are not running, if you brings peers and orderers up, then your channel will be up as well, then when minifab up comes to create the channel, it will fail.
</p>
<p><strong>tongli</strong> (Mon, 07 Sep 2020 11:37:05 GMT):<br/>
That is all expected and should fail.
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 10 Sep 2020 10:43:05 GMT):<br/>
I'm quite satisfied with minifab as a development tool for HLF, but I'm now looking at deploying a proper network to a kubernetes array. Is there a way to take a network generated by minifab commands and deploy it, or should I be looking at another tool? Thanks
</p>
<p><strong>tongli</strong> (Thu, 10 Sep 2020 10:44:11 GMT):<br/>
@SpecialAgentCooper I was looking at making minifabric supporting kubernetes, but got distracted by other tasks.
</p>
<p><strong>tongli</strong> (Thu, 10 Sep 2020 10:44:42 GMT):<br/>
minifabric can actually be made to setup network on k8s, then all other commands remain the same.
</p>
<p><strong>tongli</strong> (Thu, 10 Sep 2020 10:44:53 GMT):<br/>
but I just do not have time to do this.
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 10 Sep 2020 10:45:00 GMT):<br/>
ah interesting
</p>
<p><strong>tongli</strong> (Thu, 10 Sep 2020 10:45:04 GMT):<br/>
at present, you will have to look at some other means.
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 10 Sep 2020 10:45:22 GMT):<br/>
fair enough
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 10 Sep 2020 10:45:34 GMT):<br/>
do you have an idea of what needs to be done?
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 01:25:55 GMT):<br/>
Hi, everyone, Minifabric has just added caliper. to run a test using caliper, you simply need to run two commands if you do not really have anything at all. please see doc here https://github.com/litong01/minifabric/tree/master/docs#run-caliper-test
here are the two commands needed to run caliper test.
```minifab install,approve,commit,initialize -n samplecc -p ''
minifab caliperrun```
see the document at the link above if you like to run your own test with your own chaincode.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 01:26:40 GMT):<br/>
some of the recent updates also include adding explorerup and apprun command
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 01:27:06 GMT):<br/>
explorerup command will bring up Explorer up running, so that you can see from a user interface what is happening.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 01:27:33 GMT):<br/>
apprun command makes running your blockchain app very easy.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 01:27:41 GMT):<br/>
please see the document for the details.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 01:28:02 GMT):<br/>
also I will be giving a webminar this Wednesday. welcome to participate in the talk.
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 14:52:42 GMT):<br/>
cool, will it be recorded for YouTube usage?
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:28:11 GMT):<br/>
@tongli https://github.com/litong01/minifabric/pull/71
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:29:24 GMT):<br/>
Merged, thanks a lot for your contribution.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:29:37 GMT):<br/>
were you able to start up explorer and see the UI?
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:30:13 GMT):<br/>
yes
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:30:31 GMT):<br/>
great.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:30:43 GMT):<br/>
you can do the caliper as well if you want to.
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:30:50 GMT):<br/>
I tried to find a way to make it emit the actual username/password in case they were edited, but I figured nobody would do that
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:31:14 GMT):<br/>
does Caliper have a website with a username/password?
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:31:24 GMT):<br/>
not really.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:31:29 GMT):<br/>
it creates a html file.
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:31:40 GMT):<br/>
OK, I'll add something
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:31:59 GMT):<br/>
it would be nice to simply serve that using apache?
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:32:15 GMT):<br/>
oh, interesting.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:32:57 GMT):<br/>
yeah. I mean, we can simply hook it up to an apache container to server that html.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:33:10 GMT):<br/>
but you know, I do not know if it is really needed.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:33:19 GMT):<br/>
it is just one file.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 15:34:29 GMT):<br/>
Ry, on 9/30 contributers meeting,I will do minifabric updates once more and will ask to make it a formal project under hyperledger.
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:36:13 GMT):<br/>
ok, cool. I was telling the Explorer team about it today
</p>
<p><strong>rjones</strong> (Tue, 15 Sep 2020 15:49:34 GMT):<br/>
it's interesting: running `caliperrun`, it doesn't look like I'm limited by CPU or RAM and it's still really slow
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:24:13 GMT):<br/>
@ry, I am not really sure why. but minifabric only setup two workers to run things and caliper is running inside of a container.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:24:17 GMT):<br/>
can that be an issue?
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:26:15 GMT):<br/>
@ry, I think I know why.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:26:22 GMT):<br/>
the interval is set to 5s.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:26:28 GMT):<br/>
that is probably the problem.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:26:55 GMT):<br/>
let me do something real quick and put up a PR to allow more customizations.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:34:10 GMT):<br/>
also caliper has to be setup which include downloading caliper docker image and all necessary dependency files, this happens for each run, that is why it is slow.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:35:03 GMT):<br/>
the reason is that caliper container does not contain any necessary libraries, :-(
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:38:19 GMT):<br/>
I think that most of the time spent was downloading the caliper docker image, setup node dependencies, the actual run is not long.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:40:20 GMT):<br/>
the log file actually tells user that.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:40:33 GMT):<br/>
```2020.09.15-17:39:22.359 info  [caliper] [bind] 	User-provided arguments for npm: "-g"
2020.09.15-17:39:22.359 info  [caliper] [bind] 	Binding for fabric@1.4.8. This might take some time...
2020.09.15-17:39:22.360 info  [caliper] [bind] 	Using working directory: /hyperledger/caliper/workspace```
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:54:40 GMT):<br/>
to make it run faster is possible for the 2nd time or 3rd time, but that will require create a docker image which contains all necessary file. You probably can add a PR.
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 17:54:48 GMT):<br/>
@rjones ^^^
</p>
<p><strong>zilich</strong> (Tue, 15 Sep 2020 20:42:29 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=ceenCPWakn5JFwcxw) Link?
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 21:25:09 GMT):<br/>
https://zoom.us/w/97342328890?tk=LjV3YBzpfwnHQyzF7TBxM9Jc1wV3BaDMXl4gHReeQn0.DQIAAAAWqg4QOhZoVF8xM3AxTVJhV2F4QUNEOW9ZOWVnAAAAAAAAAAAAAAAAAAAAAAAAAAAA&uuid=WN_Ck6aCqJOQ-u7wD-E63-erA
</p>
<p><strong>tongli</strong> (Tue, 15 Sep 2020 21:25:15 GMT):<br/>
@zilich ^^^
</p>
<p><strong>zilich</strong> (Wed, 16 Sep 2020 02:48:17 GMT):<br/>
Thanks!
</p>
<p><strong>zilich</strong> (Wed, 16 Sep 2020 17:07:14 GMT):<br/>
Link on youtube?
My friend ask me to see it...

You havent GUI for Caliper, as for Explorer?

https://wiki.hyperledger.org/display/INTERN/Hyperledger+Caliper+visualization
</p>
<p><strong>zilich</strong> (Wed, 16 Sep 2020 17:08:47 GMT):<br/>
Thanks again for Webinar!
</p>
<p><strong>nedc</strong> (Wed, 16 Sep 2020 17:20:51 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>nedc</strong> (Wed, 16 Sep 2020 17:20:51 GMT):<br/>
@tongli Thanks for the zoom webinar!
</p>
<p><strong>tongli</strong> (Wed, 16 Sep 2020 17:25:41 GMT):<br/>
@nedc happy to do it. thanks for participating
</p>
<p><strong>tongli</strong> (Wed, 16 Sep 2020 19:17:30 GMT):<br/>
@rjones Hi, Ry, added a bit more code to Minifabric, so that you only need to suffer once when binding fabric sdk to caliper. Any following runs will not need to suffer from installing the sdk. Please give it a try to see the results.
</p>
<p><strong>rjones</strong> (Wed, 16 Sep 2020 19:31:49 GMT):<br/>
OK. how can I make it run for say, 10 minutes?
</p>
<p><strong>tongli</strong> (Wed, 16 Sep 2020 22:07:33 GMT):<br/>
You can change this file vars/run/caliperbenchmarkconfig.yaml file
</p>
<p><strong>tongli</strong> (Wed, 16 Sep 2020 22:08:00 GMT):<br/>
Open that up and change txDuration to be 600, 
</p>
<p><strong>tongli</strong> (Wed, 16 Sep 2020 22:08:15 GMT):<br/>
Then run the same command
</p>
<p><strong>rjones</strong> (Wed, 16 Sep 2020 23:14:05 GMT):<br/>
ok cool
</p>
<p><strong>rjones</strong> (Thu, 17 Sep 2020 15:27:37 GMT):<br/>
Hi, if you have anything you'd like to see added to the /dev/weekly newsletter, please comment in the next two hours: https://wiki.hyperledger.org/pages/viewpage.action?pageId=39618911
</p>
<p><strong>mvkillu</strong> (Fri, 18 Sep 2020 00:14:04 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>mvkillu</strong> (Fri, 18 Sep 2020 00:15:27 GMT):<br/>
How can I update my minifab to get the latest changes? I am using WSL2 and facing the issue mentioned on [this page](https://github.com/litong01/minifabric/issues/43)
</p>
<p><strong>rjones</strong> (Fri, 18 Sep 2020 02:20:16 GMT):<br/>
@mvkillu `docker pull hfrd/minifab:latest` ; if you checked out the source tree, `docker build -t hfrd/minifab:latest .`
</p>
<p><strong>ericmvaughn</strong> (Mon, 21 Sep 2020 22:48:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>mvkillu</strong> (Tue, 22 Sep 2020 14:19:58 GMT):<br/>
@rjones I did update minifabric, but I am not able to spin up a network on WSL2/Windows 10. I posted some screenshots [here](https://github.com/litong01/minifabric/issues/72)
</p>
<p><strong>tongli</strong> (Tue, 22 Sep 2020 15:20:24 GMT):<br/>
@mvkillu I though that you were running the command inside wsl2 which was not supposed to be used that way. Doing that created way too much docker inside docker problem, minifabric never meant to do that. You should do what the tool meant to. And you closed the issue, not sure why you still stated that it won’t work for you.
</p>
<p><strong>mvkillu</strong> (Tue, 22 Sep 2020 15:31:20 GMT):<br/>
@tongli  Yes. To be clear, when I run it in command prompt of Windows 10, everything is working fine as expected. The reason I was still hung up on running it in WSL2 was because it was running fine inside WSL2 earlier (couple of weeks back). it
</p>
<p><strong>mvkillu</strong> (Tue, 22 Sep 2020 15:31:20 GMT):<br/>
@tongli  Yes. To be clear, when I run it in command prompt of Windows 10, everything is working fine as expected. The reason I was still hung up on running it in WSL2 was because it was running fine inside WSL2 earlier (couple of weeks back). it's no big deal, I just wanted to know if there is a way to run minifab inside wsl2, thats all. no issues.
</p>
<p><strong>rjones</strong> (Tue, 22 Sep 2020 15:32:59 GMT):<br/>
yes, something changed in the way Docker and WSL work, and the old way no longer works
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:24:13 GMT):<br/>
hi guys, not sure if this is a minifab issue but a basic transaction scenario which was working two weeks ago is no longer working: 
 - two orgs with MSPs: sha-bg-com and edb-bg-com
 - register one user with sha-bg-com, another with edb-bg-com 
 - open a gateway
 - get contract, do transaction

It now fails at opening a gateway with the following error: "2020-09-22T16:18:44.042Z - error: [DiscoveryService]: send[ordermanagement] - Channel:ordermanagement received discovery error:access denied"

When I look in the peer logs, I see: "identity 0 does not satisfy principal: the identity is a member of a different MSP (expected edb-bg-com, got sha-bg-com)"

I've checked both wallets and they have the correct user IDs, with the correct MSPid fields, so I'm a bit stumped. Like I said, not sure if this is a minifab issue so can you think of any changes that would affect how connection profiles and identity registration works? Thanks
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:24:13 GMT):<br/>
hi guys, not sure if this is a minifab issue but a basic transaction scenario, written using node.js sdk v2.2, which was working two weeks ago is no longer working: 
 - two orgs with MSPs: sha-bg-com and edb-bg-com
 - register one user with sha-bg-com, another with edb-bg-com 
 - open a gateway
 - get contract, do transaction

It now fails at opening a gateway with the following error: "2020-09-22T16:18:44.042Z - error: [DiscoveryService]: send[ordermanagement] - Channel:ordermanagement received discovery error:access denied"

When I look in the peer logs, I see: "identity 0 does not satisfy principal: the identity is a member of a different MSP (expected edb-bg-com, got sha-bg-com)"

I've checked both wallets and they have the correct user IDs, with the correct MSPid fields, so I'm a bit stumped. Like I said, not sure if this is a minifab issue so can you think of any changes that would affect how connection profiles and identity registration works? Thanks
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:24:13 GMT):<br/>
hi guys, not sure if this is a minifab issue but a basic transaction scenario, written using node.js sdk v2.2, which was working two weeks ago is no longer working: 
 - two orgs with MSPs: sha-bg-com and edb-bg-com
 - register one user with sha-bg-com, another with edb-bg-com 
 - open a gateway
 - get contract, do transaction

It now fails at opening a gateway with the following error: "2020-09-22T16:18:44.042Z - error: [DiscoveryService]: send[ordermanagement] - Channel:ordermanagement received discovery error:access denied"

When I look in the peer logs, I see: "identity 0 does not satisfy principal: the identity is a member of a different MSP (expected edb-bg-com, got sha-bg-com)"

I've checked both wallets and they have the correct user IDs, with the correct MSPid fields, so I'm a bit stumped. Like I said, not sure if this is a minifab issue so can you think of any changes that would affect how connection profiles and identity registration works? I pulled the latest versions of the windows script and docker image mid last week. Thanks
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:24:13 GMT):<br/>
hi guys, not sure if this is a minifab issue but a basic transaction scenario, written using node.js sdk v2.2, which was working two weeks ago is no longer working: 
 - two orgs with MSPs: sha-bg-com and edb-bg-com
 - register one user with sha-bg-com, another with edb-bg-com 
 - open a gateway
 - get contract, do transaction

It now fails at opening a gateway with the following error: "2020-09-22T16:18:44.042Z - error: [DiscoveryService]: send[ordermanagement] - Channel:ordermanagement received discovery error:access denied"

When I look in the peer logs, I see: "identity 0 does not satisfy principal: the identity is a member of a different MSP (expected edb-bg-com, got sha-bg-com)"

I've checked both wallets and they have the correct user IDs, with the correct MSPid fields, so I'm a bit stumped. Like I said, not sure if this is a minifab issue so can you think of any changes that would affect how connection profiles and identity registration works? I pulled the latest versions of the windows script and docker image mid last week but have only just tested this scenario. Thanks
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:24:13 GMT):<br/>
hi guys, not sure if this is a minifab issue but a basic transaction scenario, written using node.js sdk v2.2, which was working two weeks ago is no longer working: 
 - two orgs with MSPs: sha-bg-com and edb-bg-com
 - register one user with sha-bg-com, another with edb-bg-com 
 - open a gateway
 - get contract, do transaction

It now fails at opening a gateway with the following error: "2020-09-22T16:18:44.042Z - error: [DiscoveryService]: send[ordermanagement] - Channel:ordermanagement received discovery error:access denied"

When I look in the peer logs, I see: "identity 0 does not satisfy principal: the identity is a member of a different MSP (expected edb-bg-com, got sha-bg-com)"

I've checked both wallets and they have the correct user IDs, with the correct MSPid fields, so I'm a bit stumped. Like I said, not sure if this is a minifab issue so can you think of any changes that would affect how connection profiles and identity registration works? I pulled the latest versions of the windows script and docker image mid last week but have only just tested this scenario - submitting transactions via minifab in the terminal still works. Thanks
</p>
<p><strong>tongli</strong> (Tue, 22 Sep 2020 16:48:49 GMT):<br/>
I did change how certs are generated recently due to the limitation of cryptogen, minifabric was using that but now it completely removed using of that tool. All certs get created by using OpenSSL so that we are under full control. That being said, if your network was set up awhile back , your existing certs should still work. Minifab would not regenerate.
</p>
<p><strong>tongli</strong> (Tue, 22 Sep 2020 16:50:57 GMT):<br/>
If your network never changed, any minifabric change can’t possibly affect that.
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:57:55 GMT):<br/>
it's a fresh network, so there has been some changes
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:58:04 GMT):<br/>
it will have been regenerated, that is
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 16:58:10 GMT):<br/>
just based off the same spec
</p>
<p><strong>SpecialAgentCooper</strong> (Tue, 22 Sep 2020 17:00:18 GMT):<br/>
Just before the gateway connection is refused, 
the logs in peer1.*sha*.bg.com show:
`[36m2020-09-22 16:32:47.791 UTC [cauthdsl] func2 -> DEBU 49ea[0m 0xc00476fad0 identity 0 does not satisfy principal: the identity is a member of a different MSP (expected edb-bg-com, got sha-bg-com)`

the logs in peer1.*edb*.bg.com:
`[36m2020-09-22 16:32:49.740 UTC [cauthdsl] func2 -> DEBU 4ac7[0m 0xc003e0afd0 identity 0 does not satisfy principal: the identity is a member of a different MSP (expected sha-bg-com, got edb-bg-com)`

What do you think?
</p>
<p><strong>tongli</strong> (Tue, 22 Sep 2020 17:27:50 GMT):<br/>
Can you try to use minifabric command to do the same thing that your app is doing to see what happens?
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 00:47:48 GMT):<br/>
I am able to create and run a chaincode successfully in minifabric. I am now trying to create a nodeJS api to communicate wit the fabric network. I borrowed the scripts from [here](https://github.com/hyperledger/fabric-samples/tree/master/fabcar/javascript) and running enrollAdmin. I am getting the error 
```
Wallet path: C:\Users\Calvin\code\minifab\exp\javascript\wallet
2020-09-23T00:43:38.964Z - error: [FabricCAClientService.js]: Failed to enroll admin, error:%o message=Calling enrollment endpoint failed with error [Error: getaddrinfo ENOTFOUND ca1.org0.example.com
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:64:26) {
  errno: 'ENOTFOUND',
  code: 'ENOTFOUND',
  syscall: 'getaddrinfo',
  hostname: 'ca1.org0.example.com'
}], stack=Error: Calling enrollment endpoint failed with error [Error: getaddrinfo ENOTFOUND ca1.org0.example.com
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:64:26) {
  errno: 'ENOTFOUND',
  code: 'ENOTFOUND',
  syscall: 'getaddrinfo',
  hostname: 'ca1.org0.example.com'
}]
    at ClientRequest.<anonymous> (C:\Users\Calvin\code\minifab\exp\javascript\node_modules\fabric-ca-client\lib\FabricCAClient.js:484:12)
    at ClientRequest.emit (events.js:311:20)
    at TLSSocket.socketErrorListener (_http_client.js:426:9)
    at TLSSocket.emit (events.js:311:20)
    at emitErrorNT (internal/streams/destroy.js:92:8)
    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)
    at processTicksAndRejections (internal/process/task_queues.js:84:21)
Failed to enroll admin user "admin": Error: Calling enrollment endpoint failed with error [Error: getaddrinfo ENOTFOUND ca1.org0.example.com
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:64:26) {
  errno: 'ENOTFOUND',
  code: 'ENOTFOUND',
  syscall: 'getaddrinfo',
  hostname: 'ca1.org0.example.com'
}]
```
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 00:57:29 GMT):<br/>
I used the profilegen command and modified the enrollAdmin.js with these lines
```
        const ccpPath = path.resolve(__dirname, '..', 'vars', 'profiles', 'mychannel_connection_for_nodesdk.json');
........
        const caInfo = ccp.certificateAuthorities['ca1.org0.example.com'];

```
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 23 Sep 2020 08:59:32 GMT):<br/>
the problem is it's the client app trying to open a gateway that causes the problem. I can do the transaction within minifab, but that uses peer lifecycle chaincode commands right? The client app successfully enrolls some identities, but then it can't use them to open gateways
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 23 Sep 2020 09:00:31 GMT):<br/>
have you tried using the expose endpoints flag? if it's not there, add `-e true` to your minifab up command
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 09:25:48 GMT):<br/>
yes, that flag is set to true and I could see it in the execution context as well.
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 23 Sep 2020 10:19:17 GMT):<br/>
Update: my first scenario fails (register users works, open gateway fails), but if I follow it up with registering new identities and using those it proceeds and completes as expected. Very odd
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 12:38:07 GMT):<br/>
Register users are against ca nodes, open gateway is to establish a connection, that fails? If so, it sounds like a configuration issue in your app.
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 14:04:18 GMT):<br/>
@tongli could you help me with my issue pls?
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 15:30:03 GMT):<br/>
@mvkillu can you please open an issue against minifab with very detailed steps you took and supporting materials such as your apps, so that I can recreate the issue.
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 15:52:32 GMT):<br/>
@tongli Sure will do, thank you.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 15:53:02 GMT):<br/>
@mvkillu not a problem, will be happy if we figure it out.
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 15:53:26 GMT):<br/>
quick question, will enrolladmin.js (provided in fabric samples) work with minifab nodesdk json?
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 23 Sep 2020 15:56:26 GMT):<br/>
Yeah, the interesting part is that it only fails for some user identities - the first ones I create after bringing up the network. Any new users added after that work fine
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 15:59:48 GMT):<br/>
sdk 1.4.8 yes.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 15:59:48 GMT):<br/>
hmm. I thought you were talking about the app.js coming with minifabirc.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:00:10 GMT):<br/>
not 2.1.0 which has issues as far as I know.
</p>
<p><strong>sichen</strong> (Wed, 23 Sep 2020 16:00:33 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:01:53 GMT):<br/>
have not run the enrolladmin.js myself, I would not know.
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 16:09:11 GMT):<br/>
I am looking for a sample NodeJS Web Service (API) that would communicate with the fabric network. Thanks to minifabric, I am able to write my chaincode and bring up the fabric network. I am now stuck with how my Node APP will communicate with the chaincode.
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 16:09:11 GMT):<br/>
I am looking for a sample NodeJS Web Service code (API) that would communicate with the fabric network. Thanks to minifabric, I am able to write my chaincode and bring up the fabric network. I am now trying to figure out with how my Node APP will communicate with the chaincode. Do you happen to have any sample code that I can use?
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:11:13 GMT):<br/>
minifab support a command called apprun
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:11:42 GMT):<br/>
which run go apps where you place in vars/app directory.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:12:07 GMT):<br/>
see doc here https://github.com/litong01/minifabric/tree/master/docs#run-your-application-quickly
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:12:32 GMT):<br/>
it was meant to also support node js apps but I have not had time to support node js apps,
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:13:17 GMT):<br/>
the idea is that you can use your application to replace app/main.go, then you can simply do `minifab apprun`
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:13:23 GMT):<br/>
your app will start running.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:13:45 GMT):<br/>
but currently one can only do go, by replacing go app with the main.go file.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:14:20 GMT):<br/>
I would think we may eventually support main.js, to run node js apps.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:14:37 GMT):<br/>
any way, take a look at that and you probably can get some ideas.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:14:51 GMT):<br/>
the other issue you might have is the actually connection profile.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:15:11 GMT):<br/>
various sdk uses different format of connection profile, that really sucks.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:15:49 GMT):<br/>
when you use node connection profile, you might have to change few the path in the connection profile for the certs to be correct.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:16:06 GMT):<br/>
if you use as is, it may give you issues.
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 16:19:28 GMT):<br/>
@tongli I will try the apprun command to see if it helps. Unfortunately, I don't have much knowledge in Go. That's the reason I was trying the enrollAdmin.js (provided in fabric-samples/fabcar) with the nodesdk json generated by minifabric (profilegen command?) My idea is to build a webapp (front end in React and backend in NodeJS) that can communicate with the fabric blockchain. Anyway, I will try to figure it out. Minifabric is an excellent tool.
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 23 Sep 2020 16:37:39 GMT):<br/>
I've based my client app on this stuff for setting up connections https://github.com/hyperledger/fabric-samples/tree/master/test-application/javascript
and this for the app itself https://github.com/hyperledger/fabric-samples/blob/master/asset-transfer-basic/application-javascript/app.js

These are the most up to date sample apps, things have changed a little from the fabcar one. So far I have had some success, but occassionally run into identity problems (not sure why). Hope that helps
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 16:51:24 GMT):<br/>
Thank you very much. I will give it a try in the morning tomorrow. Looking at the source code in the first link, which file from (minifabric vars directory) should we provide the path for the ccpPath?
</p>
<p><strong>mvkillu</strong> (Wed, 23 Sep 2020 16:52:08 GMT):<br/>
@SpecialAgentCooper  Is it \vars\profiles\mychannel_connection_for_nodesdk.json ?
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:52:20 GMT):<br/>
look at the connection profiles in vars/profiles
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 16:52:34 GMT):<br/>
you probably want nodesdk profile.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 21:37:02 GMT):<br/>
@mvkillu , just added apprun to support node js app. Take a look at the example in app/node/main.js file.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 21:37:29 GMT):<br/>
It uses the wallets and connection file to get things going.
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 21:37:49 GMT):<br/>
Your enrollAdmin can run as well,
</p>
<p><strong>tongli</strong> (Wed, 23 Sep 2020 21:55:43 GMT):<br/>
Please also read the docs/readme.md file to learn a bit more how to get your own app running.
</p>
<p><strong>mvkillu</strong> (Thu, 24 Sep 2020 00:30:31 GMT):<br/>
@tongli  That was super quick. I tested it out and it was working just fine. thank you very much.
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 24 Sep 2020 10:47:09 GMT):<br/>
I'm using /vars/profiles/<channelname>ordermanagement_connection_for_nodesdk.json
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 24 Sep 2020 10:47:09 GMT):<br/>
You're welcome, I'm using /vars/profiles/<channelname>ordermanagement_connection_for_nodesdk.json
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 24 Sep 2020 10:47:09 GMT):<br/>
You're welcome, I'm using /vars/profiles/<channelname>_connection_for_nodesdk.json
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 24 Sep 2020 10:47:09 GMT):<br/>
You're welcome, I'm using `/vars/profiles/<channelname>_connection_for_nodesdk.json`
</p>
<p><strong>mvkillu</strong> (Thu, 24 Sep 2020 14:22:05 GMT):<br/>
What is the flag to check verbose log of minifabric ?
</p>
<p><strong>tongli</strong> (Thu, 24 Sep 2020 14:30:40 GMT):<br/>
-f default
</p>
<p><strong>tongli</strong> (Thu, 24 Sep 2020 14:31:18 GMT):<br/>
Run minifab without any parameter or just -h , then you will see all the options and commands
</p>
<p><strong>mvkillu</strong> (Thu, 24 Sep 2020 15:07:56 GMT):<br/>
I am having an issue with custom spec.yaml file. Posted details [here](https://github.com/litong01/minifabric/issues/80)
</p>
<p><strong>tongli</strong> (Thu, 24 Sep 2020 15:39:35 GMT):<br/>
@mvkillu I wonder if you have an outdated minifab.cmd, try to update that script and hfrd/minifab:latest container
</p>
<p><strong>mvkillu</strong> (Thu, 24 Sep 2020 15:56:14 GMT):<br/>
@tongli updated both minifab.cmd and minifab image. still no luck
</p>
<p><strong>mvkillu</strong> (Thu, 24 Sep 2020 15:56:39 GMT):<br/>
may be in the future you could add some version info for those commands..
</p>
<p><strong>mvkillu</strong> (Thu, 24 Sep 2020 15:57:23 GMT):<br/>
is this valid spec.yaml? ```fabric:
  cas:
  - "ca1.dfp.com"
  - "ca1.amc.com"
  peers: 
  - "peer1.dfp.com"
  - "peer1.amc.com"
  orderers:
  - "orderer1.dfp.com"
  settings:
    ca:
      FABRIC_LOGGING_SPEC: DEBUG
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
    orderer:
      FABRIC_LOGGING_SPEC: DEBUG
  ### use go proxy when default go proxy is restricted in some of the regions.
  ### the default goproxy
  # goproxy: "https://proxy.golang.org,direct"
  ### the goproxy in China area
  # goproxy: "https://goproxy.cn,direct"````
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:04:15 GMT):<br/>
I am trying to send a json as parameter while invoking a chaincode. The JSON contains a space which I think minifab thinks is another parameter. How to fix this?
``` minifab invoke -p \"updateISIN\",\"Infy\",\"{'isin':'INFY','price':'20.4567','dttm':'2020-09-25 17:26'}\"```
The output is: 
```17:26'}" is a not supported option\\\
```
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:04:15 GMT):<br/>
I am trying to send a json as parameter while invoking a chaincode. The JSON contains a space which I think minifab thinks is another parameter. How to fix this?
``` minifab invoke -p \"updateISIN\",\"Infy\",\"{'isin':'INFY','price':'20.4567','dttm':'2020-09-25 17:26'}\"```
The output is: 
```17:26'}" is a not supported option```
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:04:15 GMT):<br/>
I am trying to send a json as parameter while invoking a chaincode. The JSON contains a space which I think minifab thinks is another parameter. How to fix this?
`minifab invoke -p \"updateISIN\",\"Infy\",\"{'isin':'INFY','price':'20.4567','dttm':'2020-09-25 17:26'}\"`
The output is: 
`17:26'}" is a not supported option`
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:40:52 GMT):<br/>
How to add space in the parameter. For eg: `minifab invoke -p \"updateISIN\",\"Infy\",\"{\"isin\":\"INFY\",\"text\":\"20.4567 123\"}\"` throws error: `123"}" is a not supported option`
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:41:59 GMT):<br/>
I assume that you are using windows, right?
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:42:41 GMT):<br/>
I am not really sure how that can be done, do google search to see how space can be used as part of a parameter on windows.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:42:55 GMT):<br/>
this is really just a windows thing.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:49:00 GMT):<br/>
https://stackoverflow.com/questions/18639663/how-to-pass-command-line-parameters-with-space-in-batch-file
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:49:16 GMT):<br/>
@mvkillu take a look at ^^^
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:49:26 GMT):<br/>
so your command becomes this?
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:50:06 GMT):<br/>
```minifab invoke -p \"updateISIN\",\"Infy\",\"{\"isin\":\"INFY\",\"text\":\"\"20.4567 123\"\"}\"```
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:50:20 GMT):<br/>
not really sure it will work, but give it a try.
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:50:33 GMT):<br/>
that didn't work, but I will look it up on internet.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:50:40 GMT):<br/>
windows certainly make things difficult to deal with.
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:50:56 GMT):<br/>
yeah, i am thinking of installing ubuntu on my laptop and work there...
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:51:24 GMT):<br/>
well, I know on windows docker and virtualbox do not play well together.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:51:46 GMT):<br/>
if you have docker running and at the same time having virtualbox going, things can mess up real quick.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:51:59 GMT):<br/>
so you probably can have one of the two on your windows, not both.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:52:11 GMT):<br/>
from my own experiences.
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:52:22 GMT):<br/>
i will install ubuntu on a different partition and will do dualboot
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:52:30 GMT):<br/>
you can always try and come to your own conclusion.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:52:45 GMT):<br/>
ah, yeah, that will work for sure.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:53:16 GMT):<br/>
18.04 or 20.04 will be nice I think.
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:54:03 GMT):<br/>
minifab used to work fine with wsl2 and docker on windows earlier, but it stopped working after i upgraded docker. anyway, I will install ubuntu on a different partition. that is much better than working on windows i think.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:54:36 GMT):<br/>
I would agree with that.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:55:04 GMT):<br/>
you can also invoke a chaincode from a node js or go app by using apprun command.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:55:18 GMT):<br/>
that way, you do not need to mess with the command line.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:55:41 GMT):<br/>
you can operate things from a program and I think you wont have issues with spaces in your parameter.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:55:55 GMT):<br/>
take a look at app/node/main.js.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:56:06 GMT):<br/>
it is easy to change it to do what you want to.
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:56:34 GMT):<br/>
yeah, i tried it yesterday on a sample chaincode and worked. Have started a new project now. will use apprun.
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:56:52 GMT):<br/>
also small suggestion, would it possible to not delete custom chaincode when running the minifab cleanup command/
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 12:57:14 GMT):<br/>
also, with contents in app run folder too..
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:59:49 GMT):<br/>
hmmmm.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 12:59:54 GMT):<br/>
not sure.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 13:00:07 GMT):<br/>
cleanup is supposed to cleanup everything.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 13:00:31 GMT):<br/>
leave things there could cause some issues I think.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 13:00:45 GMT):<br/>
like versions, I probably would not do that.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 13:01:12 GMT):<br/>
your code should be saved in github or some repo, no?
</p>
<p><strong>mvkillu</strong> (Fri, 25 Sep 2020 13:04:41 GMT):<br/>
yeah, i am maintaining my code in github. no issues.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 13:55:12 GMT):<br/>
all, I've just added `minifab update` command, if you already have minifabric on your system, you need to do one last time `docker pull hfrd/minifab:latest` to start using `minifab update`.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 13:55:50 GMT):<br/>
If you have not had minifabric on your system, please follow the README.md file to get Minifabric.
</p>
<p><strong>SpecialAgentCooper</strong> (Fri, 25 Sep 2020 14:02:31 GMT):<br/>
just to add to the passing parameters on windows discussion, I didn't manage to get any JSON objects to work as arguments on Windows from the minifab command line tool
</p>
<p><strong>SpecialAgentCooper</strong> (Fri, 25 Sep 2020 14:02:52 GMT):<br/>
ended up just making a client app to submit transactions, which works fine (apart from my weird user id issue)
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:04:00 GMT):<br/>
@SpecialAgentCooper yeah, windows command line stuff is a mess. if you can avoid , please do.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:04:18 GMT):<br/>
I do not feel there are whole lot of things we can do to improve that.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:04:44 GMT):<br/>
this is really just an issue when dealing with invocation parameters. I do not feel there are a lot of options.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:05:49 GMT):<br/>
but I think for json objection, you can probably do base64 encoding the entire object, then pass the string as one parameter, then in your chaincode, you can base64 decode it.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:06:05 GMT):<br/>
that will be probably the best thing you can do.
</p>
<p><strong>SpecialAgentCooper</strong> (Fri, 25 Sep 2020 14:07:19 GMT):<br/>
good idea! yeah I figured it wasn't worth figuring out how to properly escape everything just for testing purposes, but it we use minifab in some sort of release pipeline then the encoding option is a good bet
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:08:54 GMT):<br/>
minifabric already base64 encode the entire parameters, then decode when it is time to invoke a method.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:09:27 GMT):<br/>
these space and weird escaping thing is really just the windows command line issue.
</p>
<p><strong>SpecialAgentCooper</strong> (Fri, 25 Sep 2020 14:20:46 GMT):<br/>
yeah, classic windows issues. Trying to convince my org to give me a better environment for r&d...
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:21:20 GMT):<br/>
well, if you can remove docker from your windows env and install VirtualBox, that can work well.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:21:31 GMT):<br/>
I have been doing that for years before I moved onto macbook.
</p>
<p><strong>tongli</strong> (Fri, 25 Sep 2020 14:22:00 GMT):<br/>
the only issue is that VirtualBox does not co-exist with Docker Desktop for Windows.
</p>
<p><strong>mvkillu</strong> (Tue, 29 Sep 2020 00:11:51 GMT):<br/>
@tongli When I run apprun -l node, there is a connections.json getting created. Is it the same file as /vars/profiles/dfchannel_connection_for_nodesdk.json ? I am creating my own express server in NodeJS and loading this file for ccpPath. When I am trying to submit the transaction, I am getting few errors such as: `020-09-29T00:06:37.613Z - error: [ServiceEndpoint]: Error: Failed to connect before the deadline on Committer- name: orderer1.dff.com, url:grpcs://orderer1.dff.com:7050, connected:false, connectAttempted:true
2020-09-29T00:06:37.613Z - error: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server orderer1.dff.com url:grpcs://orderer1.dff.com:7050 timeout:3000
2020-09-29T00:06:37.613Z - error: [NetworkConfig]: buildOrderer - Unable to connect to the committer orderer1.dff.com due to Error: Failed to connect before the deadline on Committer- name: orderer1.dff.com, url:grpcs://orderer1.dff.com:7050, connected:false, connectAttempted:true
    at checkState (/home/calvin/code/github/mfbc/app/server/node_modules/@grpc/grpc-js/build/src/client.js:69:26)
    at Timeout._onTimeout (/home/calvin/code/github/mfbc/app/server/node_modules/@grpc/grpc-js/build/src/channel.js:292:17)
    at listOnTimeout (internal/timers.js:549:17)
    at processTimers (internal/timers.js:492:7) {
  connectFailed: true
}
`
I looked up on the [internet](https://stackoverflow.com/questions/61420539/hyperledger-fabric-2-0-1-error-failed-to-connect-before-the-deadline-on-discov) which says the issue could be because of incorrect pem values.
</p>
<p><strong>mvkillu</strong> (Tue, 29 Sep 2020 00:11:51 GMT):<br/>
@tongli When I run apprun -l node, there is a connections.json getting created. Is it the same file as /vars/profiles/dfchannel_connection_for_nodesdk.json ? I am creating my own express server in NodeJS and loading this file for ccpPath. When I am trying to submit the transaction, I am getting few errors such as: 

```[ServiceEndpoint]: Error: Failed to connect before the deadline on Committer- name: orderer1.dff.com, url:grpcs://orderer1.dff.com:7050, connected:false, connectAttempted:true
2020-09-29T00:06:37.613Z - error: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server orderer1.dff.com url:grpcs://orderer1.dff.com:7050 timeout:3000
2020-09-29T00:06:37.613Z - error: [NetworkConfig]: buildOrderer - Unable to connect to the committer orderer1.dff.com due to Error: Failed to connect before the deadline on Committer- name: orderer1.dff.com, url:grpcs://orderer1.dff.com:7050, connected:false, connectAttempted:true
    at checkState (/home/calvin/code/github/mfbc/app/server/node_modules/@grpc/grpc-js/build/src/client.js:69:26)
    at Timeout._onTimeout (/home/calvin/code/github/mfbc/app/server/node_modules/@grpc/grpc-js/build/src/channel.js:292:17)
    at listOnTimeout (internal/timers.js:549:17)
    at processTimers (internal/timers.js:492:7) {
  connectFailed: true
}
```

I looked up on the [internet](https://stackoverflow.com/questions/61420539/hyperledger-fabric-2-0-1-error-failed-to-connect-before-the-deadline-on-discov) which says the issue could be because of incorrect pem values.
</p>
<p><strong>mvkillu</strong> (Tue, 29 Sep 2020 00:11:51 GMT):<br/>
@tongli When I run apprun -l node, there is a connections.json getting created. Is it the same file as /vars/profiles/dfchannel_connection_for_nodesdk.json ? I am creating my own express server in NodeJS and loading this file for ccpPath. When I am trying to submit the transaction, I am getting few errors such as: 

```[ServiceEndpoint]: Error: Failed to connect before the deadline on Committer- name: orderer1.dff.com, url:grpcs://orderer1.dff.com:7050, connected:false, connectAttempted:true
2020-09-29T00:06:37.613Z - error: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server orderer1.dff.com url:grpcs://orderer1.dff.com:7050 timeout:3000
2020-09-29T00:06:37.613Z - error: [NetworkConfig]: buildOrderer - Unable to connect to the committer orderer1.dff.com due to Error: Failed to connect before the deadline on Committer- name: orderer1.dff.com, url:grpcs://orderer1.dff.com:7050, connected:false, connectAttempted:true
    at checkState (/home/calvin/code/github/mfbc/app/server/node_modules/@grpc/grpc-js/build/src/client.js:69:26)
    at Timeout._onTimeout (/home/calvin/code/github/mfbc/app/server/node_modules/@grpc/grpc-js/build/src/channel.js:292:17)
    at listOnTimeout (internal/timers.js:549:17)
    at processTimers (internal/timers.js:492:7) {
  connectFailed: true
}
```

I looked up on the [internet](https://stackoverflow.com/questions/61420539/hyperledger-fabric-2-0-1-error-failed-to-connect-before-the-deadline-on-discov) which says the issue could be because of incorrect pem values. What am I doing wrong?
</p>
<p><strong>mvkillu</strong> (Tue, 29 Sep 2020 00:17:33 GMT):<br/>
My code is available [here](https://github.com/mvkillu/mfbc) if you want to take a look
</p>
<p><strong>rjvsa</strong> (Tue, 29 Sep 2020 06:09:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjvsa</strong> (Tue, 29 Sep 2020 06:20:13 GMT):<br/>
Hi everyone, I am not able to find information on how to add specific peers to a channel. As per the minifab help: -  'join'  - join all peers currently in the network to a channel.  What if I don't want to join all peers but add only selected peers. For example, using default spec.yaml file: https://raw.githubusercontent.com/litong01/minifabric/master/spec.yaml I wan tot create two channels.... channel1 between peer1.org0.example.com and peer1.org1.example.com  and  channel2 between peer2.org0.example.com and peer2.org1.example.com. Any help on how to do that using minifab is much appreciated.
</p>
<p><strong>rjvsa</strong> (Tue, 29 Sep 2020 06:20:13 GMT):<br/>
Hi everyone, I am not able to find information on how to add specific peers to a channel. As per the minifab help: -  'join'  - join all peers currently in the network to a channel.  What if I don't want to join all peers but add only selected peers. For example, using the default spec.yaml file: https://raw.githubusercontent.com/litong01/minifabric/master/spec.yaml I want tocreate two channels.... channel1 between peer1.org0.example.com and peer1.org1.example.com  and  channel2 between peer2.org0.example.com and peer2.org1.example.com. Any help on how to do that using minifab is much appreciated.
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 11:40:33 GMT):<br/>
@rjvsa you can create another working directory, set up a peer, then do join that new org to the channel and peer to the channel eventually 
</p>
<p><strong>rjvsa</strong> (Tue, 29 Sep 2020 11:42:31 GMT):<br/>
@tongli Is it possible to create a channel for the existing peers. I mean is creating a new org is the only way ?
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 12:11:11 GMT):<br/>
You can, but minifabric will add all the peers to the channel. It was done that way by design , otherwise you will have to specify which peer to join, that makes a command more complex, but it can be done with new parameter.
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 12:11:11 GMT):<br/>
minifabric will add all the peers to the channel. It was done that way by design , otherwise you will have to specify which peer to join, that makes a command more complex, but it can be done with new parameter.
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 12:12:18 GMT):<br/>
What is your use case ?
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 12:14:19 GMT):<br/>
Install, and join both commands behave the same.
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 12:15:06 GMT):<br/>
If we ever add that new parameter to specify which peer to join, it would apply to both install and join.
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 12:15:41 GMT):<br/>
Currently I am not see a need for it unless you present a really good use case.
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 12:15:41 GMT):<br/>
Currently I am not seeing  a need for it unless you present a really good use case.
</p>
<p><strong>rjvsa</strong> (Tue, 29 Sep 2020 13:31:36 GMT):<br/>
Primarily when a customer signs up on a website we add each one of the customer to their region specific org for example say OrgFL. Then assign a specific person from our org say OrgXYZ to that customer via a private channel. Thus we have to add a org and create a channel on the go as soon as a customer signs up and then we add that customer (say from OrgFL) as well as one peer from our OrgXYZ. Similarly for customer from CA say we add them to OrgCA and then create a channel and add that customer and one of our OrgXYZ peer to that channel.
</p>
<p><strong>rjones</strong> (Tue, 29 Sep 2020 14:13:38 GMT):<br/>
@rjvsa I think minifab is for development and testing, not deployment.
</p>
<p><strong>tongli</strong> (Tue, 29 Sep 2020 19:15:12 GMT):<br/>
@rjones it can be used for deployment if one knows how to correctly use it.
</p>
<p><strong>rjvsa</strong> (Wed, 30 Sep 2020 01:56:04 GMT):<br/>
Right now I am in dev and testing phase. I think best option here will be to bring up the network using minifab. After that to add channels modify the configtx.yaml as per the instructions given in here: https://hyperledger-fabric.readthedocs.io/en/release-2.2/create_channel/create_channel.html
</p>
<p><strong>rjvsa</strong> (Wed, 30 Sep 2020 01:57:29 GMT):<br/>
I am hoping that changes made as per: https://hyperledger-fabric.readthedocs.io/en/release-2.2/create_channel/create_channel.html will picked up by minifab next time I bring up the network.
</p>
<p><strong>pkirkinezis</strong> (Mon, 05 Oct 2020 16:26:37 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=wp4FAfLJ7zBGHiLgN) What holds back minifabric for deployment use ?
</p>
<p><strong>rjones</strong> (Mon, 05 Oct 2020 16:37:01 GMT):<br/>
@pkirkinezis I was wrong, Tong corrected me.
</p>
<p><strong>pkirkinezis</strong> (Mon, 05 Oct 2020 16:47:21 GMT):<br/>
Yeash out of the box is pretty basic l. But if you read carfully the documentation (that currently i realized it's beeing updated regurly with couchdb detailed funtionality because i was searching for indexes ) you can do many thinks . I also implemented a basic java API for registering a user / enrolling a user / invoking with a specific user / quering with a specific user . Is was a little tricky at first because cryptogen and fabric ca are 2 different ways to generate keyfiles . Also the signing process was a bit tricky also
</p>
<p><strong>pkirkinezis</strong> (Mon, 05 Oct 2020 16:49:32 GMT):<br/>
Without the community here in some situations you want to implement something very specific you are playing the trial and error method
</p>
<p><strong>tongli</strong> (Mon, 05 Oct 2020 16:55:52 GMT):<br/>
@pkirkinezis minifabric recently abandoned cryptogen and now it uses OpenSSL to produce certs, this is to fix pitfalls of cryptogen. Now you can really use it even for your production env.
</p>
<p><strong>pkirkinezis</strong> (Mon, 05 Oct 2020 16:58:15 GMT):<br/>
O missed that . For my API because of the nature of java SDK the keys where produced via Fabric ca
</p>
<p><strong>pkirkinezis</strong> (Mon, 05 Oct 2020 17:00:37 GMT):<br/>
And i can admit that in first generating afterwords keyfiles with fabric ca was very straight forword via java sdk
</p>
<p><strong>pkirkinezis</strong> (Mon, 05 Oct 2020 17:02:49 GMT):<br/>
I am not 100% but java sdk will by default enroll a user inside fabric ca and generate the keys. Cryptogen was only used to start the fabric ca containers with specific admin keys . Is that right ?
</p>
<p><strong>tongli</strong> (Mon, 05 Oct 2020 21:33:34 GMT):<br/>
Minifabric creates certs and private keys, then use them to start all nodes including ca node.
</p>
<p><strong>tongli</strong> (Mon, 05 Oct 2020 21:34:15 GMT):<br/>
You can always use either sdk or fabric_ca_client to enroll users against the ca nodes
</p>
<p><strong>tongli</strong> (Mon, 05 Oct 2020 21:35:06 GMT):<br/>
Minifabric added a great feature today 
</p>
<p><strong>tongli</strong> (Mon, 05 Oct 2020 21:35:17 GMT):<br/>
minifab orgjoin
</p>
<p><strong>tongli</strong> (Mon, 05 Oct 2020 21:35:39 GMT):<br/>
This is to allow user having a much easier time to join new org to a channel
</p>
<p><strong>tongli</strong> (Mon, 05 Oct 2020 21:35:55 GMT):<br/>
See the doc in docs directory
</p>
<p><strong>pkirkinezis</strong> (Tue, 06 Oct 2020 05:23:02 GMT):<br/>
I was doing the whole process you describe manually .In my 6 server/ 6 node , each server has one node , Automating the process will help 100%
</p>
<p><strong>pkirkinezis</strong> (Tue, 06 Oct 2020 05:24:08 GMT):<br/>
My only concert would be this part :
Install and approve chaincode samplecc for orgx peers

cd ~/mysite1
minifab install,approve -n samplecc -p ''

Approve the chaincode on org0 and org1

Since new orgs joined, the chaincode will need to be approved again so that new org can also commit

cd ~/mysite0
minifab approve,commit
</p>
<p><strong>pkirkinezis</strong> (Tue, 06 Oct 2020 05:24:40 GMT):<br/>
Will this work between different servers ?
</p>
<p><strong>aguel</strong> (Tue, 06 Oct 2020 07:12:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>aguel</strong> (Tue, 06 Oct 2020 07:12:49 GMT):<br/>
@tongli is there a way to control Fabric CA Server configuration? Like i want to increase the certificate expiry (enrollment) from 365 days to like 10 years?
</p>
<p><strong>pkirkinezis</strong> (Tue, 06 Oct 2020 10:44:03 GMT):<br/>
I did get the latest update . Finally you add a function to only channelsign. I was doing it manually across all the server very time i was testing
</p>
<p><strong>pkirkinezis</strong> (Tue, 06 Oct 2020 10:49:52 GMT):<br/>
I did download the latest update . I can see many interesting updates . Does any functionality of the pre existing functions changed ?
</p>
<p><strong>tongli</strong> (Tue, 06 Oct 2020 12:50:56 GMT):<br/>
@pkirkinezis no, any existing functions all work same way, added new functions mostly or improved.
</p>
<p><strong>tongli</strong> (Tue, 06 Oct 2020 12:52:51 GMT):<br/>
@aguel currently the certs all generated with 10 year length for all nodes. You can  use the ca (setup by minifabric) to generate more certs if you want to.
</p>
<p><strong>tongli</strong> (Tue, 06 Oct 2020 13:00:38 GMT):<br/>
3560 days to be specific
</p>
<p><strong>aguel</strong> (Tue, 06 Oct 2020 13:33:19 GMT):<br/>
@tongli yes i think that was for TLS certs, but for the enrollment certs it is 8760h or 365days. 
</p>
<p><strong>aguel</strong> (Tue, 06 Oct 2020 13:34:18 GMT):<br/>
by the way, can enlighten me about the ca setup from minifabric?
</p>
<p><strong>tongli</strong> (Tue, 06 Oct 2020 17:16:50 GMT):<br/>
@aguel if you use the default spec, you should have two ca setup
</p>
<p><strong>tongli</strong> (Tue, 06 Oct 2020 17:17:14 GMT):<br/>
You can run fabric ca client aginast the ca node for enrollment or registration
</p>
<p><strong>aguel</strong> (Tue, 06 Oct 2020 23:57:13 GMT):<br/>
@tongli no I mean yes i was able to do that now, im more into how we can configure via minifab to change fabric ca server configuration
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:08:31 GMT):<br/>
Hmmm, @aguel  I am not really sure what you are trying to get at. If your ca server is up running, you can get certs with fabric-ca-client, right? Should be all the attributes being specified in the csr?
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 01:18:00 GMT):<br/>
@tongli basically no issue with the fabric ca server, all is working well, it can generate tls certificate valid for 10 years and enrollment certificate valid for 1 year. Is there a way to change enrollment certificate validity from 1 year to say 5 years from within fabric spec file? I know this can be done by changing the fabric-ca-service config file directly but not sure if it is possible to inject such configuration from minifabric spec file
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:45:46 GMT):<br/>
@aguel not really sure though. If you found something configuration we can change, please do a PR, we can review it and see if that is good. I thought that fabric-ca-client can specify that in csr.
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 01:46:53 GMT):<br/>
thank you
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:50:39 GMT):<br/>
@aguel looks like you can just set this in spec file for ca node
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 01:52:00 GMT):<br/>
thank you, i will check it out
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:52:34 GMT):<br/>
FABRIC_CA_SIGNING_DEFULT_EXPIRY=87600h
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:53:00 GMT):<br/>
That is the parameter but I am not sure if I get it exactly right
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:53:53 GMT):<br/>
In theory, anything you put in spec.yaml under settings, the parameters will be passed to the node
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 01:53:55 GMT):<br/>
@tongli excellent, i will test this one. Do we have any documentation on spec file parameters?
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:55:28 GMT):<br/>
https://hyperledger-fabric-ca.readthedocs.io/en/release-1.4/serverconfig.html
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:56:28 GMT):<br/>
You will need to confirm the name , how the described parameters get translated to the env variable. I made that up from my memory, maybe a bit different
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 01:57:01 GMT):<br/>
will do the test and will provide the feedback
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:57:41 GMT):<br/>
Just checked 
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 01:58:03 GMT):<br/>
it works?
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:59:15 GMT):<br/>
It should be FABRIC_CA_SERVER_SIGNING_DEFAULT_EXPIRY=87600h
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 01:59:27 GMT):<br/>
Try this one. Should work I think
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 01:59:53 GMT):<br/>
Thank you. will surely test this out.
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:00:35 GMT):<br/>
The naming convention was described at the top of the page I sent above
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:01:16 GMT):<br/>
@tongli really appreciate the help. thank you very much.
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:01:33 GMT):<br/>
Not a problem. Now promote minifabric
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:02:39 GMT):<br/>
will surely do, im not sure if you can still remember, got a few PR to minifab months back. im a big fan
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:03:29 GMT):<br/>
Yeah. I remember. Thanks for your contributions. We need more people using it and making it better
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:05:01 GMT):<br/>
Btw, I just added orgjoin command to help with expanding the network
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:05:10 GMT):<br/>
great work. thank very much. this should be promoted for incubation
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:05:37 GMT):<br/>
will this be in hyperledger-labs soon?
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:05:50 GMT):<br/>
Not sure 
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:06:43 GMT):<br/>
would love to see this part or incubation in hyperledger
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:06:52 GMT):<br/>
🙏
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:07:01 GMT):<br/>
Goal is a real project not just a lab
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:07:33 GMT):<br/>
i agree, hence having this for incubation will be the first step
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:08:00 GMT):<br/>
will definitely be supporting this all the  way
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:09:07 GMT):<br/>
minifabric is game changer
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:09:33 GMT):<br/>
Great. Thanks
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:10:45 GMT):<br/>
No, we should be the one that should be saying thanks for bringing out such an amazing project
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:11:11 GMT):<br/>
Cool, cool. Glad I can help.
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:12:46 GMT):<br/>
Not just that, despite your busy schedule, you still find time to help people here and in github, replying to questions and so
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:14:18 GMT):<br/>
and community is growing now because of that, i think we should do out part as well but at least promoting or help answer basic questions to those who are new to this project
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:18:10 GMT):<br/>
That is great. Happy that you like to help as well.
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 02:18:21 GMT):<br/>
I have one suggestion though, it looks like github becomes a channel for Q & A filing issues after issues, would suggest to post there link to rocket chat link for discussion (cant see it there at the moment)
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:34:50 GMT):<br/>
yeah,good idea.
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 02:35:12 GMT):<br/>
Do a PR to add the rocket channel so that people can ask questions here
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 11:06:18 GMT):<br/>
PR requested.
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 13:02:01 GMT):<br/>
@aguel the file should look like this
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 13:02:07 GMT):<br/>
```fabric:
  cas:
  - "ca1.guild.wrappy.net"
  peers:
  - "peer1.guild.wrappy.net"
  orderers:
  - "orderer1.wrappy.net"
  settings:
    ca:
      FABRIC_LOGGING_SPEC: DEBUG
      FABRIC_CA_SERVER_SIGNING_DEFAULT_EXPIRY: 87600h
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
    orderer:
      FABRIC_LOGGING_SPEC: DEBUG
```
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 13:02:17 GMT):<br/>
noticed the setting section?
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 13:02:48 GMT):<br/>
you can literally add any settings described in ca, peer or orderer node there to affect how the node is going to run.
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:20:07 GMT):<br/>
@tongli thanks will do some testing
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:30:23 GMT):<br/>

<br/><a href="./assets/A7DLMRsspZjLR2Zib-settings.png">settings.png</a>
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:30:59 GMT):<br/>
It seems the CA Server still using the 8760h (from: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml)
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:31:14 GMT):<br/>
But tried issuing an enrollment certificate, it seems to be working fine
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:31:22 GMT):<br/>

<br/><a href="./assets/fw6bTcewwjy7gL6Jc-cert.png">cert.png</a>
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:31:51 GMT):<br/>
strange behaviour, though it works, i wonder were the modified CA server setting was saved
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:38:27 GMT):<br/>
@tongli  got only one CA server. looks strange behaviour but wondering enrollment seems to behave correctly
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 13:45:42 GMT):<br/>
Environmental settings, not saved in the generated config by the ca server. That is what is supposed to do
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 13:46:11 GMT):<br/>
Minifabric basically using the env variable to override the default setting 
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 13:48:43 GMT):<br/>
@tongli i see. thanks for clarifying. i think that would make it even more flexible to change configuration on the fly.
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 16:01:09 GMT):<br/>
Yes, that is why I suggested to change your spec.yaml file and do a `minifab restart` to test
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 23:01:03 GMT):<br/>
Guys, good news, Minifabric is now a Hyperledger lab project.
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 23:01:09 GMT):<br/>
you can find it here. https://github.com/hyperledger-labs/minifabric
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 23:01:21 GMT):<br/>
the repo under my name no longer exist.
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 23:01:33 GMT):<br/>
but links should still work.
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 23:36:32 GMT):<br/>
@tongli  thats good news
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 23:37:22 GMT):<br/>
i was talking about ut ealier and this happened
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 23:48:22 GMT):<br/>
@aguel haha, yeah, it was in the works for awhile, I was not sure if it will be approved. but it was approved today. I am pretty happy about that. @rjones helped tremendously and put up many PRs to make it happen. Big thanks to @rjones .
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 23:57:59 GMT):<br/>
Minifabric has a new home now https://github.com/hyperledger-labs/minifabric
</p>
<p><strong>aguel</strong> (Wed, 07 Oct 2020 23:59:25 GMT):<br/>
congratulation, this is a very deserving project
</p>
<p><strong>tongli</strong> (Wed, 07 Oct 2020 23:59:37 GMT):<br/>
haha. cool cool.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 00:00:02 GMT):<br/>
just go to that page, download the new sccript. everything will work exactly the same.
</p>
<p><strong>mvkillu</strong> (Thu, 08 Oct 2020 02:11:02 GMT):<br/>
congratulations @tongli  and I am very happy for Minifabric.
</p>
<p><strong>mvkillu</strong> (Thu, 08 Oct 2020 02:14:26 GMT):<br/>
I recently created a sub on reddit to gain some traction for the Minifabric community. Feel free to stop by if you are on reddit. The link is https://www.reddit.com/r/minifabric/
</p>
<p><strong>mvkillu</strong> (Thu, 08 Oct 2020 02:18:51 GMT):<br/>
For some reason, Hyperledger explorer isn't working. The command `minifab explorerup` completes successfully and i get a url http://192.168.0.103:7006. However, when I try to open the url in the browser, I get a connection refused. Am I doing something wrong? i swear it worked fine few days ago.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 03:02:28 GMT):<br/>
@mvkillu the problem is due to the new explorer image. We have to fallback to 1.1.2 of explorer which was the latest. So go ahead use the latest from official minifabric repo, your issue will be fixed.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 09:32:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 09:32:15 GMT):<br/>
AHAHAHAHAHA @tongli and @mvkillu 
Congrats. I am really happy. Also so glad I found this post. I came across this project last night, and wanted to use it for a demo today. Everything worked like a charm, and then this morning when I tried to show it o my boss to show our clients, HL Explorer didn't start. I was so confused. Have like 7 different instances of minifab running and that container just crashes. Now everything makes sense. Because I couldn't understand how in the span of 6 hours (from when I left work and from when I showed up again) minifab broke. Thank you. Will try the new repo, but looks like the tinyURL is still the same in the README.md
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 09:32:15 GMT):<br/>
AHAHAHAHAHA @tongli and @mvkillu 
Congrats. I am really happy. Also so glad I found this post. I came across this project last night, and wanted to use it for a demo today. Everything worked like a charm, and then this morning when I tried to show it o my boss to show our clients, HL Explorer didn't start. I was so confused. Have like 7 different instances of minifab running and that container just crashes. Now everything makes sense. Because I couldn't understand how in the span of 6 hours (from when I left work and from when I showed up again) minifab broke. Thank you. Will try the new repo, but looks like the tinyURL is still the same in the README.md (https://github.com/hyperledger-labs/minifabric) - old one (https://github.com/litong01/minifabric)
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 09:32:15 GMT):<br/>
AHAHAHAHAHA @tongli and @mvkillu 
Congrats. I am really happy. Also so glad I found this post. I came across this project last night, and wanted to use it for a demo today. Everything worked like a charm, and then this morning when I tried to show it to my boss to show our clients, HL Explorer didn't start. I was so confused. Have like 7 different instances of minifab running and that container just crashes. Now everything makes sense. Because I couldn't understand how in the span of 6 hours (from when I left work and from when I showed up again) minifab broke. Thank you. Will try the new repo, but looks like the tinyURL is still the same in the README.md (https://github.com/hyperledger-labs/minifabric) - old one (https://github.com/litong01/minifabric)
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 09:53:08 GMT):<br/>
@skulos dont worry. liton01/minifabric is now a fork of  hyperledgerlabs/minifabric so they should be the same
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 09:53:08 GMT):<br/>
@skulos dont worry. litong01/minifabric is now a fork of  hyperledgerlabs/minifabric so they should be the same
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 09:53:18 GMT):<br/>

<br/><a href="./assets/3xtfsinKbchLXN33D-fork.png">fork.png</a>
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 09:54:17 GMT):<br/>
Yeah I saw. But I still can't get Explorer to start up gain
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 09:56:02 GMT):<br/>
minifab swallows my spec.yaml, but the docker container for the hl explorer keeps on crashing. So I thought that a new url might point to a new minifab script that pulls the 1.1.2 version of explorer (of the one that worked)
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 09:56:02 GMT):<br/>
minifab swallows my spec.yaml, but the docker container for the hl explorer keeps on crashing. So I thought that a new url might point to a new minifab script that pulls the 1.1.2 version of explorer (or the one that worked)
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 09:59:53 GMT):<br/>
if you look at the ansible template, it still point to hyperledger/explorer:latest, which is now at 1.1.3 which causes the issue, must fallback first to 1.1.2 for it to work
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 10:01:44 GMT):<br/>
if you can do a PR, to accept parameter for explorer version for "explorerup" command, that will help the project
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 10:20:10 GMT):<br/>
I'll look into it.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 10:20:35 GMT):<br/>
Thanks @aguel for the help
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 10:23:52 GMT):<br/>
I've honestly not worked a lot with python and ansible, but think my colleagues have. Will rope them in if I get stuck
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 11:18:06 GMT):<br/>
@skulos you do not need to know either python or ansible to use it, your problem has been fixed in minifabric. You just need to get the latest minifabric.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 11:53:32 GMT):<br/>
Try ‘’’minifab update’’’
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 11:54:32 GMT):<br/>
Then ‘’’ minifab explordown’’’ and ‘’’ minifab explorerup’’’
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 11:55:51 GMT):<br/>
If the update command failed, that means you have a rather old minifabric, do an manual update to get the latest minifabric from the official repo which has been posted above
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:00:10 GMT):<br/>
Thanks for the feedback. Saw it on github.com too. I'm running the commands right now to see. I should have a version that's too old, since I started using it approximately 18 hours ago.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:05:54 GMT):<br/>
Hmmm, the fix was put in right before we moved over. But in any case, do an update and it won’t hurt
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:16:40 GMT):<br/>
Nope.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:17:35 GMT):<br/>
$ ./minifab cleanup
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/mywork
...
# Preparing for the following operations: *********************
  verify options, shutdown network, cleanup working directory
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  shutdown network
.........
# Running operation: ******************************************
  cleanup working directory
......

# STATS *******************************************************
minifab: ok=32	failed=0	

real	0m20.813s
user	0m17.790s
sys	0m3.011s
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:17:35 GMT):<br/>
*$ ./minifab cleanup*
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/mywork
...
# Preparing for the following operations: *********************
  verify options, shutdown network, cleanup working directory
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  shutdown network
.........
# Running operation: ******************************************
  cleanup working directory
......

# STATS *******************************************************
minifab: ok=32	failed=0	

real	0m20.813s
user	0m17.790s
sys	0m3.011s
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:17:46 GMT):<br/>
Then I deleted the docker image
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:17:46 GMT):<br/>
Then I deleted the docker image and then I ran update
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:17:46 GMT):<br/>
*Then I deleted the docker image and then I ran update*
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:18:12 GMT):<br/>
$ ./minifab update
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/mywork
...
# Preparing for the following operations: *********************
  verify options, update Minifabric
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  update Minifabric
...
# Minifabric update succeeded *********************************
  "Latest Windows script is vars/minifab.cmd"
  "Latest Linux and OS X script is vars/minifab"
  "Replace your existing minifab script with the one for your system"
  

# STATS *******************************************************
minifab: ok=29	failed=0	

real	0m9.228s
user	0m6.058s
sys	0m0.905s
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:18:12 GMT):<br/>
./minifab update
Using default spec file
Unable to find image 'hyperledgerlabs/minifab:latest' locally
latest: Pulling from hyperledgerlabs/minifab
df20fa9351a1: Already exists 
d0f029206413: Pull complete 
6f963bb304b2: Pull complete 
55118b3327e1: Pull complete 
fd3d1be34328: Pull complete 
Digest: sha256:8910cf60e691b935cc8a4a052cd26ad59a011a8f53d328b836e2f1ad452bd6d0
Status: Downloaded newer image for hyperledgerlabs/minifab:latest
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/mywork
...
# Preparing for the following operations: *********************
  verify options, update Minifabric
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  update Minifabric
...
# Minifabric update succeeded *********************************
  "Latest Windows script is vars/minifab.cmd"
  "Latest Linux and OS X script is vars/minifab"
  "Replace your existing minifab script with the one for your system"
  

# STATS *******************************************************
minifab: ok=19	failed=0	

real	0m7.381s
user	0m4.667s
sys	0m0.789s
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:18:12 GMT):<br/>
$ ./minifab update
Using default spec file
Unable to find image 'hyperledgerlabs/minifab:latest' locally
latest: Pulling from hyperledgerlabs/minifab
df20fa9351a1: Already exists 
d0f029206413: Pull complete 
6f963bb304b2: Pull complete 
55118b3327e1: Pull complete 
fd3d1be34328: Pull complete 
Digest: sha256:8910cf60e691b935cc8a4a052cd26ad59a011a8f53d328b836e2f1ad452bd6d0
Status: Downloaded newer image for hyperledgerlabs/minifab:latest
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/mywork
...
# Preparing for the following operations: *********************
  verify options, update Minifabric
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  update Minifabric
...
# Minifabric update succeeded *********************************
  "Latest Windows script is vars/minifab.cmd"
  "Latest Linux and OS X script is vars/minifab"
  "Replace your existing minifab script with the one for your system"
  

# STATS *******************************************************
minifab: ok=19	failed=0	

real	0m7.381s
user	0m4.667s
sys	0m0.789s
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:18:12 GMT):<br/>
*$ ./minifab update*
Using default spec file
Unable to find image 'hyperledgerlabs/minifab:latest' locally
latest: Pulling from hyperledgerlabs/minifab
df20fa9351a1: Already exists 
d0f029206413: Pull complete 
6f963bb304b2: Pull complete 
55118b3327e1: Pull complete 
fd3d1be34328: Pull complete 
Digest: sha256:8910cf60e691b935cc8a4a052cd26ad59a011a8f53d328b836e2f1ad452bd6d0
Status: Downloaded newer image for hyperledgerlabs/minifab:latest
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/mywork
...
# Preparing for the following operations: *********************
  verify options, update Minifabric
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  update Minifabric
...
# Minifabric update succeeded *********************************
  "Latest Windows script is vars/minifab.cmd"
  "Latest Linux and OS X script is vars/minifab"
  "Replace your existing minifab script with the one for your system"
  

# STATS *******************************************************
minifab: ok=19	failed=0	

real	0m7.381s
user	0m4.667s
sys	0m0.789s
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:21:25 GMT):<br/>
Now use the new script in vars directory to replace your old one
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:21:38 GMT):<br/>
As the output says
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:26:52 GMT):<br/>
I did. I moved the minifab script from inside vars one directory up. Also ran `chmod +x minifab`
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:27:15 GMT):<br/>
Good. You should be good to go then.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:28:06 GMT):<br/>
> Executing task: docker logs -f 92517f41b2f78643d0f884c10f26560ff4a48f6fb00b5c5d37afd4fdb0b156f9 <

internal/modules/cjs/loader.js:638
    throw err;
    ^

Error: Cannot find module '/opt/explorer/main.js'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)

Terminal will be reused by tasks, press any key to close it.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:28:06 GMT):<br/>
```> Executing task: docker logs -f 92517f41b2f78643d0f884c10f26560ff4a48f6fb00b5c5d37afd4fdb0b156f9 <

internal/modules/cjs/loader.js:638
    throw err;
    ^

Error: Cannot find module '/opt/explorer/main.js'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)

Terminal will be reused by tasks, press any key to close it.```
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:28:36 GMT):<br/>
Container hyperledger/explorer:latest stopped
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:29:40 GMT):<br/>
You still use the wrong image.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:30:15 GMT):<br/>
The latest should be using explorer:1.1.2
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:30:36 GMT):<br/>
Do a cat minifab script which you were using
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:30:43 GMT):<br/>
And copy content here
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:31:05 GMT):<br/>
```
```
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:31:08 GMT):<br/>
$ cat minifab 
#!/bin/bash
[ ! -d "$(pwd)/vars" ] && mkdir vars
ADDRS=$(ifconfig|grep 'inet '|grep -v '\.1 '|tr -s ' '|awk '{$1=$1};1'|cut -d ' ' -f 2|cut -d '/' -f 1|paste -sd "," -|sed s/addr://g)
if [ -f "$(pwd)/spec.yaml" ]; then
  echo "Using spec file: $(pwd)/spec.yaml"
  docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v $(pwd)/vars:/home/vars \
  -v $(pwd)/spec.yaml:/home/spec.yaml -e "ADDRS=$ADDRS" hyperledgerlabs/minifab:latest /home/main.sh "$@"
else
  echo "Using default spec file"
  docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v $(pwd)/vars:/home/vars \
  -e "ADDRS=$ADDRS" hyperledgerlabs/minifab:latest /home/main.sh "$@"
fi
```
```
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:31:08 GMT):<br/>
```
$ cat minifab 
#!/bin/bash
[ ! -d "$(pwd)/vars" ] && mkdir vars
ADDRS=$(ifconfig|grep 'inet '|grep -v '\.1 '|tr -s ' '|awk '{$1=$1};1'|cut -d ' ' -f 2|cut -d '/' -f 1|paste -sd "," -|sed s/addr://g)
if [ -f "$(pwd)/spec.yaml" ]; then
  echo "Using spec file: $(pwd)/spec.yaml"
  docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v $(pwd)/vars:/home/vars \
  -v $(pwd)/spec.yaml:/home/spec.yaml -e "ADDRS=$ADDRS" hyperledgerlabs/minifab:latest /home/main.sh "$@"
else
  echo "Using default spec file"
  docker run --rm --name minifab -v /var/run/docker.sock:/var/run/docker.sock -v $(pwd)/vars:/home/vars \
  -e "ADDRS=$ADDRS" hyperledgerlabs/minifab:latest /home/main.sh "$@"
fi
```
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:32:17 GMT):<br/>
That is the latest.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:32:34 GMT):<br/>
I've also delete all my docker images
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:32:47 GMT):<br/>
Make sure that is the sceilt you are using. 
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:32:51 GMT):<br/>
Script 
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:33:36 GMT):<br/>
Only terminal I've got open at the moment.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:33:50 GMT):<br/>
And minifab isn't in my $PATH
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:34:36 GMT):<br/>
minifab cleanup, minifab up, minifab explorerup 
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:34:44 GMT):<br/>
Try that sequence
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:36:12 GMT):<br/>
Hmmm, I saw what went wrong
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:36:28 GMT):<br/>
The changes made to fix the issue was lost somehere
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:36:37 GMT):<br/>
Sigh!
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:37:09 GMT):<br/>
Ok. Should I still post the output?
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:37:43 GMT):<br/>
This is really strange. I fixed that right after the issue was reported
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:38:45 GMT):<br/>
Ok. Not sure how comfortable you feel working with git, you can build minifab with a single command.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:39:05 GMT):<br/>
But let me put up the fix again.
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:39:20 GMT):<br/>
If I manually set the tag somewhere in the repo I cloned this morning it works fine. It's just not the curl tinyURL approach that works.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:39:40 GMT):<br/>
Ok.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:40:11 GMT):<br/>
Yeah , you can pull down 1.1.2 image and tag it as latest, that will work for you
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 12:40:53 GMT):<br/>
@tongli i saw your changes yesterday, somehow i was looking for it in the labs repo, it was not there , but when i checked back on your repo, it was already forked to labs
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:41:32 GMT):<br/>
@aguel yeah. I do not know what happened.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:41:54 GMT):<br/>
Will fix it up as soon as I am at my computer 
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:42:01 GMT):<br/>
what needs fixed?
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:42:10 GMT):<br/>
You can also put up a pr. I can review and approve it
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 12:42:14 GMT):<br/>
i have mine forked from yours, too bad i forked it as well to labs
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:42:41 GMT):<br/>
@rjones the explorer latest image broke.
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 12:43:15 GMT):<br/>
@rjones  by the way, thanks for all your work putting things to labs
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:43:16 GMT):<br/>
In one place we use hyperledger/explorer:latest , we need to replace latest with 1.1.2
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:43:28 GMT):<br/>
Two places, that is the fix
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:43:38 GMT):<br/>
OK will fix
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:44:12 GMT):<br/>
One is for explorer db, one is explorer, should be in one file
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:44:32 GMT):<br/>
I thought I fixed that.
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 12:45:14 GMT):<br/>
i guess it was in minifabric/playbooks/ops/explorerup/
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:45:56 GMT):<br/>
@rjones @aguel Ry is really good at this, he knows.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:46:14 GMT):<br/>
I bet taking him a minute to put up PR.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:46:14 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/98
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:46:20 GMT):<br/>
Haha
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 12:46:32 GMT):<br/>
@tongli  i know, really appreciate his help putting things together
</p>
<p><strong>aguel</strong> (Thu, 08 Oct 2020 12:46:45 GMT):<br/>
@rjones that was quick :) thanks
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:47:15 GMT):<br/>
np
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:47:37 GMT):<br/>
something has changed in docker for windows, so I need to figure it out
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:48:11 GMT):<br/>
Approved but it is doing the checks 
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:48:24 GMT):<br/>
yes, we should add mergify
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:48:46 GMT):<br/>
@rjones something changed for windows, what do you mean?
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 12:52:12 GMT):<br/>
(just a side note, it's not important, but the hyperledger/explorer-db:latest works, just not the hyperledger/explorer:latest   ... but I suppose it's better to keep the version aligned)
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:52:50 GMT):<br/>
not sure. minifab is getting permissions problems right now after a docker update
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:52:55 GMT):<br/>
Right. We should use the 1.1.2, until we know what breaks
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:53:04 GMT):<br/>
```# Use fabric tools container to create channel artifacts ******
  non-zero return code
  docker: Error response from daemon: mkdir C:Userss390xmywork: Access is denied.
  See 'docker run --help'.

# STATS *******************************************************
minifab: ok=201 failed=1

real    0m52.148s
user    0m43.729s
sys     0m7.277s```
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:53:26 GMT):<br/>
Is this on windows?
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:53:35 GMT):<br/>
note that the director should be `c:\users\s390x\mywork\`
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 12:53:44 GMT):<br/>
yes, this is for windows
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:53:50 GMT):<br/>
Right.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:54:03 GMT):<br/>
Just saw that.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:54:51 GMT):<br/>
Interesting
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:55:01 GMT):<br/>
I will take a look on that issue
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:55:48 GMT):<br/>
Thanks Ry for checking it and fix the image issue
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 12:57:35 GMT):<br/>
Hi @tongli  i downloaded and deployed the latest minifabric (because i was using the old one with cryptogen keys) . My java API gives an error PKIX path validation failed: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors. The old version of minifabric worked great
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 12:57:46 GMT):<br/>
Is something i have to consider extra ?
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 12:57:52 GMT):<br/>
That i am not aware of ?
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 12:58:42 GMT):<br/>
Hmmm, I am not sure. @pkirkinezis 
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 12:59:11 GMT):<br/>
As of java perspective https://stackoverflow.com/questions/23775155/pkix-path-does-not-chain-with-any-of-the-trust-anchors-error-in-windows-environm i found that
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 12:59:20 GMT):<br/>
is propable realted to ssl
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:01:32 GMT):<br/>
How are you generating the openssl keys ?
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:01:53 GMT):<br/>
The code is in the certgen directory
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:02:02 GMT):<br/>
You can take a look.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:02:38 GMT):<br/>
The changes were made to accommodate some issues with no way adding SANs
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:03:04 GMT):<br/>
Should have been transparent to application 
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:03:41 GMT):<br/>
Cryptogen won’t allow adding SANs for ca node.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:04:05 GMT):<br/>
Which made it hard to use.
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:04:25 GMT):<br/>
yeah that true
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:04:39 GMT):<br/>
@rjones merged
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:05:28 GMT):<br/>
@skulos you can do an update in few minutes so that you do not have to mess with explorer image
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:06:28 GMT):<br/>
@pkirkinezis in terms of the Java stuff , I am not sure. I have tested it with node and go apps, no issue at all
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:08:19 GMT):<br/>
@rjones when you have time, can you add the new minifabric repo link for this channel announcement ?
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:08:33 GMT):<br/>
People always ask for that link.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:09:48 GMT):<br/>
Minifab is a lab, check it out! https://github.com/hyperledger-labs/minifabric
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:09:48 GMT):<br/>
Discussion of minifab, the only way to run Fabric
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:10:42 GMT):<br/>
and something else
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:11:22 GMT):<br/>
when i run my api i use go.yaml file as an network config file. I now find out that you user ${ROOTPATH}.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:12:06 GMT):<br/>
well maybe I goofed up the rewrite, dang
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:12:15 GMT):<br/>
i manually added my path to keyfiles in a folder on windows . Is that affecting the key validation ?
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 13:12:55 GMT):<br/>
@tongli @aguel @rjones thank you, will link the pr done by Ry and close the issue on github. Again, thanks.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:14:15 GMT):<br/>
@skulos I want to let you know I really appreciated how well your bug report was written
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:19:46 GMT):<br/>
Is there a posibility java not accepting the openssl key because is self signed from a non trusted source?
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:20:23 GMT):<br/>
Should not be since the cryptogen produced certs are also self signed
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:23:54 GMT):<br/>
If the new folks could: 1) [set up an LFID like this](https://wiki.hyperledger.org/display/CA/Setting+up+an+LFID) 2) [make sure this page works for you when you have your LFID setup](https://myprofile.linuxfoundation.org/) I'd really appreciate it.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:23:54 GMT):<br/>
If the new folks could: [make sure this page works for you when you have your LFID setup](https://myprofile.linuxfoundation.org/) I'd really appreciate it.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:25:29 GMT):<br/>
(since you're in chat, I know you have an LFID)
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:28:11 GMT):<br/>
I don't know also how to search about this bug online. Strange
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:33:16 GMT):<br/>
NetworkConfig.CAInfo myCA = CAList.get(0);
		Properties props = new Properties();
		props = myCA.getProperties();
        props.put("allowAllHostNames", "true");
        //USED TO CREATE KEYFILES FOR ADMIN
		HFCAClient caClient = HFCAClient.createNewInstance(myCA.getUrl(), props);
		CryptoSuite cryptoSuite = CryptoSuiteFactory.getDefault().getCryptoSuite();
	    caClient.setCryptoSuite(cryptoSuite);
	    final EnrollmentRequest enrollmentRequestTLS = new EnrollmentRequest();
		enrollmentRequestTLS.addHost(myCA.getUrl());
		enrollmentRequestTLS.setProfile("tls");
	    Enrollment enrollment= caClient.enroll("admin", "adminpw",enrollmentRequestTLS);
	    String key = Identities.toPemString(enrollment.getKey());
        System.out.println(key);
        System.out.println("###############################");
        System.out.println(enrollment.getCert());
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:34:03 GMT):<br/>
for your expierence i have to change something to the above . Because i has allowallhost  to true and TLS enabled
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 13:34:18 GMT):<br/>
I also asked the guys in java sdk
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:37:07 GMT):<br/>
@rjones I just tested the latest on windows 10, with docker engine v19.03.12, use wsl 2 based engine, everything worked ok
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 13:37:17 GMT):<br/>
Did not see permission error
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 13:55:55 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=uqWhY9fsFPFSzPyjZ) As in how does the dashboard look and feel from a UI/UX perspective?
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 13:56:06 GMT):<br/>
yeah
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 14:00:17 GMT):<br/>
like, maybe add your github credentials to sign on and stuff
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 14:01:11 GMT):<br/>
:man_shrugging: Maybe a little button at the *Events I am Attending* similar to the `Enroll` button at *Training & Certifications* to get info about upcoming events
</p>
<p><strong>skulos</strong> (Thu, 08 Oct 2020 14:01:11 GMT):<br/>
:man_shrugging: Maybe a little button at the *Events I am Attending* similar to the `Enroll` button at *Training & Certifications* to get info about upcoming events to register for them
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 14:06:06 GMT):<br/>
I think that comes from cevent. not sure
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:06:54 GMT):<br/>
@rjones Thanks so much for changing the channel announcement. it is now very easy to take user there.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:23:00 GMT):<br/>
@pkirkinezis just looked at the portainer,
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:23:06 GMT):<br/>
seems quite nice.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:23:32 GMT):<br/>
but do not like the UI that much, wonder if there is anything similar to that in terms of functionnality.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:26:28 GMT):<br/>
I've hooked it up with minifabric, it worked quite nice.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:34:28 GMT):<br/>
very tempting to add it to minifabric
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 14:34:57 GMT):<br/>
what is it?
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:43:32 GMT):<br/>
Yeah minifabric it evolved to a quite necessery tool while 1. debugging chaincode reuqest . In my case I had to implement complex COUCHDB quries so ... 2. Log mechanism  in portainer is handy for docker containers 3. It gave me the functionality to clone couchdb and access fauxrt UI of couchdb to check my SAVED COUCHDB documents .
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:43:32 GMT):<br/>
Yeah portainer it evolved to a quite necessery tool while 1. debugging chaincode reuqest . In my case I had to implement complex COUCHDB quries so ... 2. Log mechanism  in portainer is handy for docker containers 3. It gave me the functionality to clone couchdb and access fauxrt UI of couchdb to check my SAVED COUCHDB documents .portainer
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:44:29 GMT):<br/>
@rjones https://github.com/portainer/portainer
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:44:31 GMT):<br/>

<br/><a href="./assets/rCrD2cG5pwXDXarnc-Screen Shot 2020-10-08 at 10.44.21 AM.png">Screen Shot 2020-10-08 at 10.44.21 AM.png</a>
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:44:47 GMT):<br/>
@rjones it is web based container management tool.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 14:45:01 GMT):<br/>
nice
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:45:04 GMT):<br/>
I just booted it up.
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:45:17 GMT):<br/>
It is hasle free to set up
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:45:20 GMT):<br/>
I can see all the fabric containers, logs, networks, volumes etc.
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:45:22 GMT):<br/>
less than a minute
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:45:36 GMT):<br/>
we can do what we did for explorer.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:45:50 GMT):<br/>
if user wants to use it, run `minifab portainerup`
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:46:02 GMT):<br/>
if does not want to use it, never need to touch that command.
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:46:22 GMT):<br/>
@tongli  that is great . I will not have ti manually install it everytime now
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:46:24 GMT):<br/>
thanks !!!
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:46:42 GMT):<br/>
just thinking how we do that.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:46:45 GMT):<br/>
have not done it.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:47:02 GMT):<br/>
will have `minifab portainerup` and `minifab portaindown`
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:47:13 GMT):<br/>
should be really easy to do.
</p>
<p><strong>pkirkinezis</strong> (Thu, 08 Oct 2020 14:47:56 GMT):<br/>
The port has to be empty . So in a very complex hyperledger fabric network maybe port 9000 is not empty
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:48:28 GMT):<br/>
yeah, I do not want to add too many parameters though.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:52:59 GMT):<br/>
@rjones Arnaud made an announcement just today.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:54:28 GMT):<br/>
@rjones u ok with adding portainer command to minifabric?
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 14:54:40 GMT):<br/>
sure
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:54:43 GMT):<br/>
fairly easy to add and seems can help quite a bit.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 14:54:52 GMT):<br/>
especially it has a user interface.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 16:05:14 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/99
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 16:05:37 GMT):<br/>
@rjones @pkirkinezis @skulos the portainer ui integration. please see the PR ^^^
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 16:38:02 GMT):<br/>
Probably do a minifab update, then the portainerup and portainerdown will be available.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 17:20:37 GMT):<br/>
https://wiki.hyperledger.org/pages/viewpage.action?pageId=41583107 I added a line about minifab
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 17:22:56 GMT):<br/>
I see it, thanks @rjones
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 18:32:12 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/100
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 18:33:30 GMT):<br/>
this PR is to make changes to use specific Explorer version in Minifabric. and it is now using 1.1.3 with this PR. also fixed the launch command parameters which cause the explorer flash quit issue earlier.
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 19:34:45 GMT):<br/>
https://old.reddit.com/r/hyperledger/comments/j7jszg/minifab_has_become_a_hyperledger_lab_help_us_make/?
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 19:53:45 GMT):<br/>
@rjones awesome , thanks 
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 21:46:45 GMT):<br/>
@rjones what do you think about converting the minifab script to a small go program to compile it to binary targeting different os?
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 21:52:10 GMT):<br/>
More difficult to understand, but more portable
</p>
<p><strong>rjones</strong> (Thu, 08 Oct 2020 21:53:09 GMT):<br/>
It’s harder to hack on, since someone needs the whole golang build chain
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 21:57:36 GMT):<br/>
True.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 21:57:47 GMT):<br/>
I will sit on it for now then.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 21:58:41 GMT):<br/>
Normally I build go using golang container since docker  is already available.
</p>
<p><strong>tongli</strong> (Thu, 08 Oct 2020 22:03:16 GMT):<br/>
@rjones ^^^
</p>
<p><strong>rjones</strong> (Fri, 09 Oct 2020 01:28:57 GMT):<br/>
Ah gotcha
</p>
<p><strong>rjones</strong> (Fri, 09 Oct 2020 02:07:37 GMT):<br/>
I'm not against it. Certainly, it would be more portable
</p>
<p><strong>pkirkinezis</strong> (Fri, 09 Oct 2020 06:35:35 GMT):<br/>
I solved the problem java sdk I had  PKIX path validation failed: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors. 
Something went wrong with the minifabric network . I did a test in a vmware machine and my java  sdk is working fine with the latest minifabric .
</p>
<p><strong>pkirkinezis</strong> (Fri, 09 Oct 2020 06:37:41 GMT):<br/>
I don't know why minifabric I setup in the server is giving me this error . So i decided to clean everything up and start from the begginging on the server . And now everything works fine
</p>
<p><strong>pkirkinezis</strong> (Fri, 09 Oct 2020 06:37:57 GMT):<br/>
FIY the server is running on Azure a verion of Oracle Linux
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:09:55 GMT):<br/>

<br/><a href="./assets/dGiPAW4LPTHPePGSp-skulos - Fri Oct 09 2020 12:09:29 GMT+0200 (South Africa Standard Time).txt">skulos - Fri Oct 09 2020 12:09:29 GMT+0200 (South Africa Standard Time).txt</a>
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:11:25 GMT):<br/>
Good morning everyone. Has anyone tested the privatemarbles chaincode since the update? I've been trying to run it all morning. I seem to be getting an endosement error, even after I approved it to the channel via org0.example.com,

```
$ ./minifab approve,commit,initialize -p ''
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=privatemarbles
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS=
    CHAINCODE_PRIVATE=true
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/episodic-demo-v5.0
...
# Preparing for the following operations: *********************
  verify options, cc approve, cc commit, cc initialize
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  cc approve
......
# Running operation: ******************************************
  cc commit
.............
# Running operation: ******************************************
  cc initialize
......

# STATS *******************************************************
minifab: ok=44	failed=0	

real	0m17.363s
user	0m8.427s
sys	0m1.412s
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:11:25 GMT):<br/>
Good morning everyone. Has anyone tested the privatemarbles chaincode since the update? I've been trying to run it all morning. I seem to be getting an endorsement error, even after I approved it to the channel via org0.example.com,

```
$ ./minifab approve,commit,initialize -p ''
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=privatemarbles
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS=
    CHAINCODE_PRIVATE=true
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/episodic-demo-v5.0
...
# Preparing for the following operations: *********************
  verify options, cc approve, cc commit, cc initialize
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  cc approve
......
# Running operation: ******************************************
  cc commit
.............
# Running operation: ******************************************
  cc initialize
......

# STATS *******************************************************
minifab: ok=44	failed=0	

real	0m17.363s
user	0m8.427s
sys	0m1.412s
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:11:41 GMT):<br/>
Then I set the variable ` $ MARBLE=$( echo '{"name":"marble1","color":"blue","size":35,"owner":"tom","price":99}' | base64 | tr -d \\n ) `, followed by

```
$ ./minifab invoke -p '"initMarble"' -t '{"marble":"'$MARBLE'"}'
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=privatemarbles
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="initMarble"
    CHAINCODE_PRIVATE=true
    CHAINCODE_POLICY=
    TRANSIENT_DATA={"marble":"eyJuYW1lIjoibWFyYmxlMSIsImNvbG9yIjoiYmx1ZSIsInNpemUiOjM1LCJvd25lciI6InRvbSIsInByaWNlIjo5OX0K"}
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/episodic-demo-v5.0
...
# Preparing for the following operations: *********************
  verify options, cc invoke
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  cc invoke
.............
# Run the chaincode invoke script on cli container ************
  non-zero return code
  Error: endorsement failure during invoke. response: status:500 message:"Failed to get marble: GET_STATE failed: transaction ID: 2bbfc466805270bb350bd150f5be407892d9fa9a069aac1f2470e6caf29e3aad: collection mychannel/privatemarbles/collectionMarbles could not be found"

# STATS *******************************************************
minifab: ok=28	failed=1	

real	0m5.375s
user	0m4.757s
sys	0m0.983s
```

If I change the *privatemarbles_collection_config.json* I get errors about the config but that goes away if I change the config back to the original that minifab spits out :
```
$ ./minifab approve,commit,initialize -p ''
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=privatemarbles
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS=
    CHAINCODE_PRIVATE=true
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=172.23.0.248
    WORKING_DIRECTORY: /home/hendreh/episodic-demo-v5.0
...
# Preparing for the following operations: *********************
  verify options, cc approve, cc commit, cc initialize
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  cc approve
.....
# Run the channel signing off script on cli container *********
  non-zero return code
  Error: proposal failed with status: 500 - failed to invoke backing implementation of 'ApproveChaincodeDefinitionForMyOrg': error validating chaincode definition: collection-name: collectionMarbles -- collection member 'org0examplecom' is not part of the channel
  Error: proposal failed with status: 500 - failed to invoke backing implementation of 'ApproveChaincodeDefinitionForMyOrg': error validating chaincode definition: collection-name: collectionMarbles -- collection member 'org0examplecom' is not part of the channel

# STATS *******************************************************
minifab: ok=22	failed=1	

real	0m5.147s
user	0m4.486s
sys	0m0.774s
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:11:52 GMT):<br/>
Also, after the `discover` command, I get this as my *channel endorsement policy*
```
{
  "Chaincode": "privatemarbles",
  "EndorsersByGroups": {
    "G0": [
      {
        "MSPID": "org1-example-com",
        "Endpoint": "peer1.org1.example.com:7051"
      },
      {
        "MSPID": "org1-example-com",
        "Endpoint": "peer2.org1.example.com:7051"
      }
    ],
    "G1": [
      {
        "MSPID": "org0-example-com",
        "Endpoint": "peer1.org0.example.com:7051"
      },
      {
        "MSPID": "org0-example-com",
        "Endpoint": "peer2.org0.example.com:7051"
      }
    ]
  },
  "Layouts": [
    {
      "quantities_by_group": {
        "G0": 1,
        "G1": 1
      }
    }
  ]
}
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:13:10 GMT):<br/>
Is the error just a config I need to dig and sort out, or was there a change in the way `minifab` creates the *endorsement policy*?
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:14:58 GMT):<br/>
Explorer also sees the endorsement as *OK*:
Transaction ID:	c4820f58145e36c19f0d264369528ebf8ee3365d7e87005c105e256b2b035111
Validation Code:	VALID
Payload Proposal Hash:	613826c3168de459c846143b2fd580ffa8b27e0b61fd57b8bc8db921a3fc6025
Creator MSP:	org0-example-com
Endorser:	{"org0-example-com","org1-example-com"}
Chaincode Name:	privatemarbles
Type:	ENDORSER_TRANSACTION
Time:	2020-10-09T09:48:59.189Z
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:14:58 GMT):<br/>
Explorer also sees the endorsement as *OK*:
```
Transaction ID:	c4820f58145e36c19f0d264369528ebf8ee3365d7e87005c105e256b2b035111
Validation Code:	VALID
Payload Proposal Hash:	613826c3168de459c846143b2fd580ffa8b27e0b61fd57b8bc8db921a3fc6025
Creator MSP:	org0-example-com
Endorser:	{"org0-example-com","org1-example-com"}
Chaincode Name:	privatemarbles
Type:	ENDORSER_TRANSACTION
Time:	2020-10-09T09:48:59.189Z
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:14:58 GMT):<br/>
Explorer also sees the endorsement as *OK*:
```
Transaction ID:	                c4820f58145e36c19f0d264369528ebf8ee3365d7e87005c105e256b2b035111
Validation Code:	        VALID
Payload Proposal Hash:	613826c3168de459c846143b2fd580ffa8b27e0b61fd57b8bc8db921a3fc6025
Creator MSP:	                org0-example-com
Endorser:	                        {"org0-example-com","org1-example-com"}
Chaincode Name:	        privatemarbles
Type:	                                ENDORSER_TRANSACTION
Time:	                                2020-10-09T09:48:59.189Z
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:14:58 GMT):<br/>
Explorer also sees the endorsement as *OK*:
```
Transaction ID:	                c4820f58145e36c19f0d264369528ebf8ee3365d7e87005c105e256b2b035111
Validation Code:	        VALID
Payload Proposal Hash:	613826c3168de459c846143b2fd580ffa8b27e0b61fd57b8bc8db921a3fc6025
Creator MSP:	                org0-example-com
Endorser:	                        {"org0-example-com","org1-example-com"}
Chaincode Name:	        privatemarbles
Type:           ENDORSER_TRANSACTION
Time:	                                2020-10-09T09:48:59.189Z
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:14:58 GMT):<br/>
Explorer also sees the endorsement as *OK*:
```
Transaction ID:**c4820f58145e36c19f0d264369528ebf8ee3365d7e87005c105e256b2b035111
Validation Code:	        VALID
Payload Proposal Hash:	613826c3168de459c846143b2fd580ffa8b27e0b61fd57b8bc8db921a3fc6025
Creator MSP:	                org0-example-com
Endorser:	                        {"org0-example-com","org1-example-com"}
Chaincode Name:	        privatemarbles
Type:           ENDORSER_TRANSACTION
Time:	                                2020-10-09T09:48:59.189Z
```
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 10:49:56 GMT):<br/>
From explorer:

```
org0-example-com   mychannel   c4820f...    ENDORSER_TRANSACTION   privatemarbles         2020-10-09T09:48:59.189Z
org0-example-com   mychannel   06a08d...   ENDORSER_TRANSACTION   _lifecycle              2020-10-09T09:48:55.263Z
org1-example-com   mychannel   6492d8...   ENDORSER_TRANSACTION   _lifecycle              2020-10-09T09:48:51.019Z
org0-example-com   mychannel   490c15...   ENDORSER_TRANSACTION   _lifecycle              2020-10-09T09:48:48.849Z
```
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 11:49:13 GMT):<br/>
Mspid for org0.example.com is org0-example-com
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 11:49:39 GMT):<br/>
Your mspid is missing the dash, I think that is the problem
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 11:50:06 GMT):<br/>
Once upon a time, minifabric did that but that has been changed long time ago
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 11:50:47 GMT):<br/>
So org mspid is always the string with dot being replaced by dash
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 11:51:04 GMT):<br/>
Docs/readme.md has a section for it
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 12:37:03 GMT):<br/>
@skulos ^^^^
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:42:34 GMT):<br/>
mmm, sorry. I'm trying to fix it. I didn't change anything. I started with a clean directory and docker RT this morning. Ran the tinyURL cURL command. Did the update, swapped out the shells, add execution permission (+x) and started up the network with `./minifab up`
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:42:55 GMT):<br/>
I'm checking to see if I get the same results before the update command
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:47:40 GMT):<br/>
mmm, still getting that error before  `./minifab update`
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:48:03 GMT):<br/>
@tongli I'll check out your suggestion now
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:50:31 GMT):<br/>
Do I still need to change the *privatemarbles_collection_config.json* file before running `./minifab approve,commit,initialize -p '' `
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:50:31 GMT):<br/>
Do I still need to change the *privatemarbles_collection_config.json* file before running `./minifab approve,commit,initialize -p '' ` ?
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:54:04 GMT):<br/>
I think that the *privatemarbles_collection_config.json* is the problem
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 12:54:23 GMT):<br/>
Testing my theory now
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 13:12:42 GMT):<br/>
:woo:
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 13:17:06 GMT):<br/>
@tongli I only changed the policy names from *collectionPublic* to *collectionMarbles* and the other policy too, left the actual policy in tack, i.e. left `"policy": "OR( 'org0-example-com.member', 'org1-example-com.member' )"` instead of changing it to `"policy": "OR( 'org0examplecom.member', 'org1examplecom.member' )"`
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 13:35:42 GMT):<br/>
@skulos that is right, the private collection name is specific per chaincode, minifabric can only create one so that you can use as a starting point, with different chaincode, you should change it to the way the chaincode expect.
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 13:38:20 GMT):<br/>
Ah. Makes so much sense. Thank you so much. I'm learning so much about HL Fabric using this tool. It's going to help my so much in the next few weeks when we start building our own network.
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 13:38:20 GMT):<br/>
Ah. Makes so much sense. Thank you so much. I'm learning so much about HL Fabric using this tool. It's going to help me so much in the next few weeks when we start building our own network.
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 13:40:01 GMT):<br/>
great. happy to help. and please spread the words about the tool and get more people using it so that the community grow and more people do not have to pull their hair out on small things. Also please check the channel often to help others with their questions.
</p>
<p><strong>skulos</strong> (Fri, 09 Oct 2020 13:45:11 GMT):<br/>
I'm going to check it everyday. It's loaded into my startup browser folder, and I'm telling everyone at work. I'm starting first, and later when my colleagues start with Fabric, this will be their starting point. And I'm going to use it for all our demos. I'll try and contribute where I can. :smile:
</p>
<p><strong>tongli</strong> (Fri, 09 Oct 2020 13:45:59 GMT):<br/>
@skulos great, great. I appreciate that.
</p>
<p><strong>rjones</strong> (Fri, 09 Oct 2020 16:31:26 GMT):<br/>
@skulos by being an active user, you are already contributing :)
</p>
<p><strong>tongli</strong> (Mon, 12 Oct 2020 18:08:03 GMT):<br/>
please review https://github.com/hyperledger-labs/minifabric/pull/101
</p>
<p><strong>rjones</strong> (Mon, 12 Oct 2020 18:31:31 GMT):<br/>
merged
</p>
<p><strong>tongli</strong> (Mon, 12 Oct 2020 18:42:33 GMT):<br/>
@rjones thanks very much!
</p>
<p><strong>rjones</strong> (Tue, 13 Oct 2020 06:46:32 GMT):<br/>
`portainer` is pretty ncie
</p>
<p><strong>rjones</strong> (Tue, 13 Oct 2020 06:46:32 GMT):<br/>
`portainer` is pretty nice
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 06:50:44 GMT):<br/>
It is right? I usually used the `docker ps` and VS Code Docker Plugin to check out running containers, but since @tongli and @pkirkinezis mentioned `Portainer` with all my Docker enviroments. I still a sucker for `Kube Ops View` for Kubernetes.
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 06:50:44 GMT):<br/>
It is right? I usually used the `docker ps` and VS Code Docker Plugin to check out running containers, but since @tongli and @pkirkinezis mentioned `Portainer`, I've been using it with all my Docker enviroments. I still a sucker for `Kube Ops View` for Kubernetes.
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 06:50:44 GMT):<br/>
It is right? I usually used the `docker ps` and VS Code Docker Plugin to check out running containers, but since @tongli and @pkirkinezis mentioned `Portainer`, I've been using it with all my Docker enviroments. I'm still a sucker for `Kube Ops View` for Kubernetes.
</p>
<p><strong>rjones</strong> (Tue, 13 Oct 2020 06:52:05 GMT):<br/>
I'd never used it until just now with minifab. I'm blown away by how easy it is
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 06:53:20 GMT):<br/>
xaxa you can thanks me later . I am in the middle of a proof of concept with 6 servers and 7 organization peers with total of 11 channels so portainer was mandatory
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 06:58:45 GMT):<br/>
beggining my journey I was doing everything manually playing with 6 vms between multiple machines(more than 1 instance in 1 machine was not available at the beggining of minifabric ) . You can imagine the struggle . Anyway portainer helped most with chaincode /smart contract debbuging
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 11:58:33 GMT):<br/>
@tongli @rjones  Something else . Do minifabric checks for already taken ports when you expose_endopoints ?
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 11:59:38 GMT):<br/>
For example you running 2 instances of minifabric on the same computer with exposed ports . Do both minifabric networks will  try to expose a peer to 7001 and return an error ?
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:01:25 GMT):<br/>
beacuse if i try it a get an error docker: Error response from daemon: driver failed programming external connectivity on endpoint peer1.learom.node6.com (7dd97c12fe4dc06deb496d932917b6ed50e3be3bc8d0925ba987a169532c7b59): Bind for 0.0.0.0:7001 failed: port is already allocated.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:09:28 GMT):<br/>
@pkirkinezis not , it does not, but you can use -e 7001 or -e some number to start your site. Minifabric will use the number as a starting port to allocating sequentially to other containers
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:10:16 GMT):<br/>
o ok thanks
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:11:08 GMT):<br/>
@pkirkinezis for example, you can do the following things for different sites on same machine
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:11:25 GMT):<br/>
```minifab netup -e 7000```
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:11:27 GMT):<br/>
or
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:11:40 GMT):<br/>
```minifab netup -e 7200```
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:12:15 GMT):<br/>
doing the above, you start allocating 7000 for your first site, and 7200 for your second site on the same machine.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:12:36 GMT):<br/>
of course, you can use this to avoid ports which may have already been allocated.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:12:56 GMT):<br/>
minifabric runs inside a container and wont be able to see if a port has been taken.
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:13:08 GMT):<br/>
also cleanup how it is working in that situation ?
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:13:39 GMT):<br/>
cleanup mostly based on docker network.
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:14:14 GMT):<br/>
so it will cleanup the specific network based on spec.yaml?
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:14:26 GMT):<br/>
but it did a bit extra to remove chaincode images as well. which can fail when you have multiple sites on same machine.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:14:51 GMT):<br/>
but that failure is ok, and would not impact anything.
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:15:02 GMT):<br/>
yeah i just realized that
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:15:39 GMT):<br/>
you could avoid that failure by simply use ```minifab down``` on one site.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:15:50 GMT):<br/>
then do cleanup against each site.
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:16:03 GMT):<br/>
works like a churm . Another think i am trying to resolve .
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:17:42 GMT):<br/>
i have a minifab folder with the /vars . If i zip this folder and transfer it to another machine and trye to run ./minifab restart
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:17:45 GMT):<br/>
will it work ?
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:18:51 GMT):<br/>
it should work for most of the commands, but not network related.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:19:07 GMT):<br/>
for example, it should work for explorer, and caliper.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:19:29 GMT):<br/>
but it probably wont work for chaincode operations since you do not have cli container.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:19:52 GMT):<br/>
even if you start up cli container, it wont work because the cli container wont be on the same network.
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:22:09 GMT):<br/>
ok . I accidentally recreated a the node 6 of my total 6 nodes
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:22:44 GMT):<br/>
i had 11 channels running on the net  across servers . Is there any way to join the network from node 6
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:22:44 GMT):<br/>
?
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:23:27 GMT):<br/>
have no idea what you are talking about
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:25:51 GMT):<br/>
i had 6 servers with 1 node in each server .
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:27:02 GMT):<br/>
i had my network working with 11 channels across the nodes .
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:27:46 GMT):<br/>
For a test i took backup of server 6 node 6 zipping the folder and run cleanup netup .
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 12:29:57 GMT):<br/>
I thought reusing this zipped folder will work with ./minifab restart
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:31:20 GMT):<br/>
hmmm. you can try. but consider your container may need docker volumes. unless you have all volumes recreated, if you already have some data, I am not sure how it will work.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:32:01 GMT):<br/>
but if this is just a small piece of the bigger network, these volumes can be rebuilt, it should work in that case.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 12:32:12 GMT):<br/>
if this is the entire network, I would not think it will work.
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 13:36:03 GMT):<br/>
Yeah but how i can access the channels i was previusly joined?
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 13:36:16 GMT):<br/>
i can to join them again from the beggining ?
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 15:09:58 GMT):<br/>
@pkirkinezis 

https://github.com/hyperledger-labs/minifabric/tree/master/docs#add-a-new-organization-to-your-fabric-network
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 15:12:40 GMT):<br/>
Check out the vid on Youtube: https://youtu.be/c1Ab57IrgZg?t=544
</p>
<p><strong>rjones</strong> (Tue, 13 Oct 2020 15:13:45 GMT):<br/>
If you want to make short youtube videos for the hyperledger channel, let me know, @skulos (well, anybody, really)
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 15:15:00 GMT):<br/>
@skulos https://github.com/hyperledger-labs/minifabric/blob/master/docs/ExpandYourNetwork.md#join-orgxexamplecom-to-the-application-channel-with-the-following-step
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 15:15:09 GMT):<br/>
looks at this new way of doing it.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 15:15:18 GMT):<br/>
takes a few seconds.
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 15:15:32 GMT):<br/>
Okay cool. I linked the minifabric vids, think @tongli still made them.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 15:15:34 GMT):<br/>
use orgjoin method.
</p>
<p><strong>tongli</strong> (Tue, 13 Oct 2020 15:15:34 GMT):<br/>
use `minifab orgjoin`
</p>
<p><strong>rjones</strong> (Tue, 13 Oct 2020 15:15:56 GMT):<br/>
for some reason, the video you pointed to is unlisted, which makes me think it might be old
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 15:18:56 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=nGwea4FgBvzNvK5dt) Ooo, this looks really useful. Thank you.
</p>
<p><strong>skulos</strong> (Tue, 13 Oct 2020 15:19:46 GMT):<br/>
@rjones It's the vids on YouTube post earlier this year.
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 19:25:23 GMT):<br/>
Why you tagged me on that ?
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 19:27:10 GMT):<br/>
What was skulos question?
</p>
<p><strong>pkirkinezis</strong> (Tue, 13 Oct 2020 19:27:18 GMT):<br/>
i lost track
</p>
<p><strong>skulos</strong> (Wed, 14 Oct 2020 06:27:21 GMT):<br/>
It was to answer your question on how to make an organization join , so that you don't have to bring the whole network down, but rather just bring those orgs back online and make them join the appropriate channels. But check out @tongli 's post two posts down. There is a new way of doing it joining than the one I posted. Should be under explandNetwork in under docs in the minifabric repo.
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:19:28 GMT):<br/>
I was refering to the existing channels and the block data
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:21:00 GMT):<br/>
I think you can't do what i was refering to . In what described we will have to join the org like it was new org
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:22:11 GMT):<br/>
Also FIY @skulos  i woudl recoment to verify your profile so you don't loose your acount
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:22:11 GMT):<br/>
Also FYI @skulos  i woudl recoment to verify your profile so you don't loose your acount
</p>
<p><strong>skulos</strong> (Wed, 14 Oct 2020 07:33:14 GMT):<br/>
How do i do that?
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:33:51 GMT):<br/>
You go up left corner click on my acount
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:33:55 GMT):<br/>
and you have to add your email
</p>
<p><strong>skulos</strong> (Wed, 14 Oct 2020 07:36:32 GMT):<br/>
I get blank pages... :eyes:
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:36:41 GMT):<br/>
?
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:37:07 GMT):<br/>

<br/><a href="./assets/qRYwQGPBRPg96hRyz-Clipboard - October 14, 2020 10:37 AM">Clipboard - October 14, 2020 10:37 AM</a>
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:37:50 GMT):<br/>
cd ..
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:39:06 GMT):<br/>
@tongli  i tried ./minifab restart on my zip minifab folder . But i get ERROR! Invalid callback for stdout specified:
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:39:13 GMT):<br/>
I guess is not working
</p>
<p><strong>skulos</strong> (Wed, 14 Oct 2020 07:41:30 GMT):<br/>

<br/><a href="./assets/TSDYzetJTWJxD9mCQ-Screenshot from 2020-10-14 09-40-28.png">Screenshot from 2020-10-14 09-40-28.png</a>
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:42:31 GMT):<br/>
:woo:
</p>
<p><strong>pkirkinezis</strong> (Wed, 14 Oct 2020 07:43:09 GMT):<br/>
I have no clue what is happening
</p>
<p><strong>skulos</strong> (Wed, 14 Oct 2020 07:53:09 GMT):<br/>
Ahah, but thanks anyway. Will figure it out later.
</p>
<p><strong>dustinle2309</strong> (Thu, 15 Oct 2020 11:30:51 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>dustinle2309</strong> (Thu, 15 Oct 2020 11:30:51 GMT):<br/>
Hi everyone. I see on this repo https://github.com/hyperledger/blockchain-explorer and follow it. I don't know why the start.sh call main.js file but don't have any main.js file
</p>
<p><strong>tongli</strong> (Thu, 15 Oct 2020 12:00:50 GMT):<br/>
@dustinle2309 that was a change explorer made from 1.1.2 to 1.1.3, update to latest minifab, you should be ok.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:07:35 GMT):<br/>
@tongli from the #general channel sounds like he's reference a standalone HL Explorer deployment. Not a instance governed by a Minifab network.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:07:35 GMT):<br/>
@tongli from the #general channel sounds like he's referring to  a standalone HL Explorer deployment. Not a instance governed by a Minifab network.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:07:35 GMT):<br/>
@tongli from the #general channel sounds like @dustinle2309  is referring to a standalone HL Explorer deployment. Not a instance governed by a Minifab network.
</p>
<p><strong>tongli</strong> (Thu, 15 Oct 2020 12:11:30 GMT):<br/>
@skulos @dustinle2309 right, in root cause is that the explorer latest image now switched to 1.1.3, it was based on 1.1.2 whose docker cmd was calling main.js, the latest 1.1.3 won’t, I guess explorer made quite some changes from 1.1.2 to 1.1.3 how to start the server.
</p>
<p><strong>tongli</strong> (Thu, 15 Oct 2020 12:11:30 GMT):<br/>
@skulos @dustinle2309 right, i guess that the root cause is that the explorer latest image now switched to 1.1.3, it was based on 1.1.2 whose docker cmd was calling main.js, the latest 1.1.3 won’t, I guess explorer made quite some changes from 1.1.2 to 1.1.3 how to start the server.
</p>
<p><strong>tongli</strong> (Thu, 15 Oct 2020 12:14:42 GMT):<br/>
@dustinle2309 if you use minifabric to stand up your network, you won’t need to worry about these@kind of errors, minifabric would take care of these tedious problem for you.
</p>
<p><strong>tongli</strong> (Thu, 15 Oct 2020 12:14:42 GMT):<br/>
@dustinle2309 if you use minifabric to stand up your network, you won’t need to worry about these@kind of errors, minifabric would take care of these tedious tasks for you.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:15:42 GMT):<br/>
I did mention in that @dustinle2309 should try and take out the starting command that wants to run main.js, and check if that solves it.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:15:42 GMT):<br/>
I did mention in #general that @dustinle2309 should try and take out the starting command that wants to run main.js, and check if that solves it.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:16:21 GMT):<br/>
Maybe just post it to the #hyperledger-explorer channel too?
</p>
<p><strong>dustinle2309</strong> (Thu, 15 Oct 2020 12:22:14 GMT):<br/>
@skulos So now, What should I do to run explorer? try to run ./start.sh without "node main.js" line code?
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:29:51 GMT):<br/>
Yes,
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:29:51 GMT):<br/>
Yes, it without the node main.js
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:29:51 GMT):<br/>
Yes, try it without the node main.js
</p>
<p><strong>dustinle2309</strong> (Thu, 15 Oct 2020 12:35:51 GMT):<br/>

<br/><a href="./assets/YJd8znGi6BgHT6Cva-Clipboard - October 15, 2020 7:35 PM">Clipboard - October 15, 2020 7:35 PM</a>
</p>
<p><strong>dustinle2309</strong> (Thu, 15 Oct 2020 12:36:34 GMT):<br/>
This is start.sh file
</p>
<p><strong>dustinle2309</strong> (Thu, 15 Oct 2020 12:38:09 GMT):<br/>
if I run without node main.js, So what is file to run now, Skulos?
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:54:50 GMT):<br/>
From this repo (https://github.com/hyperledger/blockchain-explorer), if you configured the config files correctly, simple

```
$ docker-compose up 
```
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:54:50 GMT):<br/>
From this repo (https://github.com/hyperledger/blockchain-explorer), if you configured the config files correctly, simply

```
$ docker-compose up 
```
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 12:55:18 GMT):<br/>
Not sure if the ./start.sh is suppose to start Explorer.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 13:00:21 GMT):<br/>
That's how I did it last time
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 13:41:59 GMT):<br/>
@dustinle2309 anything? Did you succeed?
</p>
<p><strong>dustinle2309</strong> (Thu, 15 Oct 2020 14:42:07 GMT):<br/>
Yup. It run. But, I got a new error. I am trying to fix it.
</p>
<p><strong>skulos</strong> (Thu, 15 Oct 2020 15:31:13 GMT):<br/>
Great news.
</p>
<p><strong>robmurgai</strong> (Thu, 15 Oct 2020 15:57:32 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>davidkhala</strong> (Thu, 15 Oct 2020 16:25:32 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>davidkhala</strong> (Thu, 15 Oct 2020 16:28:29 GMT):<br/>
@tongli Hi Tong, I feel some issue are taken as stale in a too short waiting time. Would you consider applying an stale-bot powered by Github workflow? I can help to raise a simple PR for it.
</p>
<p><strong>tongli</strong> (Thu, 15 Oct 2020 16:37:49 GMT):<br/>
@davidkhala sure.
</p>
<p><strong>rjones</strong> (Fri, 16 Oct 2020 16:48:44 GMT):<br/>
I put another mention of minifab in `/dev/weekly`
</p>
<p><strong>tongli</strong> (Fri, 16 Oct 2020 18:09:14 GMT):<br/>
Thanks very much! Hope these really want to get things going can take a look at.
</p>
<p><strong>davidkhala</strong> (Sat, 17 Oct 2020 13:54:51 GMT):<br/>
Done, BTW, can you count me as committer?
</p>
<p><strong>tongli</strong> (Sat, 17 Oct 2020 17:56:50 GMT):<br/>
@davidkhala sure. I will ask Ry for that.
</p>
<p><strong>zilich</strong> (Sat, 17 Oct 2020 18:42:45 GMT):<br/>
with -е true, java chaincode cant install...

...
# Preparing for the following operations: *********************
  verify options, cc approve, cc commit, cc initialize, cc invoke
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  cc approve
......
# Running operation: ******************************************
  cc commit
.............
# Running operation: ******************************************
  cc initialize
......
# Running operation: ******************************************
  cc invoke
.............
# Run the chaincode invoke script on cli container ************
  non-zero return code
  Error: endorsement failure during invoke. response: status:500 message:"error in simulation: failed to execute transaction b030bfe795d92170d3838a5511f5bdc1f6e2951bf656e68d4e89bc6077bee5df: error sending: txid: b030bfe795d92170d3838a5511f5bdc1f6e2951bf656e68d4e89bc6077bee5df(mychannel) exists"

# STATS *******************************************************
minifab: ok=59  failed=1

real    0m21.393s
user    0m10.168s
sys     0m2.133s
Sat 17 Oct 2020 06:37:59 PM UTC

Same code, worked with older version...
And work whithout -e true...
</p>
<p><strong>zilich</strong> (Sat, 17 Oct 2020 18:44:52 GMT):<br/>
between test, I do cleanup...
</p>
<p><strong>zilich</strong> (Sat, 17 Oct 2020 19:19:01 GMT):<br/>
ok... work....possible is that parameter "-e true" isnt valid :)... When I put -e 7000 everything work as expected ...
</p>
<p><strong>zilich</strong> (Sun, 18 Oct 2020 08:48:04 GMT):<br/>
same code, which work on real linux(ubuntu), on virtual ubuntu report following error:
</p>
<p><strong>zilich</strong> (Sun, 18 Oct 2020 08:48:20 GMT):<br/>

<br/><a href="./assets/Bq6Lp2hnXEptcvqCY-image_2020_10_18T08_35_21_657Z.png">image_2020_10_18T08_35_21_657Z.png</a>
</p>
<p><strong>zilich</strong> (Sun, 18 Oct 2020 08:50:47 GMT):<br/>
How to change timeout values in miniFabric?
</p>
<p><strong>mvkillu</strong> (Mon, 19 Oct 2020 23:46:56 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/blob/master/docs/README.md#update-the-channel-configuration
</p>
<p><strong>ashlinSajan</strong> (Wed, 21 Oct 2020 05:20:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ashlinSajan</strong> (Wed, 21 Oct 2020 06:20:31 GMT):<br/>
Hi @SpecialAgentCooper trying to do minifab up.But getting the error
# Run the chaincode install script on cli container ***********
  non-zero return code
  go: github.com/golang/protobuf@v1.3.1: Get "https://proxy.golang.org/github.com/golang/protobuf/@v/v1.3.1.mod": dial tcp: lookup proxy.golang.org on 127.0.0.11:53: read udp 127.0.0.1:59110->127.0.0.11:53: i/o timeout
  Error: failed to normalize chaincode path: 'go list' failed with: go: github.com/golang/protobuf@v1.3.1: Get "https://proxy.golang.org/github.com/golang/protobuf/@v/v1.3.1.mod": dial tcp: lookup proxy.golang.org on 127.0.0.11:53: read udp 127.0.0.1:50782->127.0.0.11:53: i/o timeout: exit status 1
  Error: failed to read chaincode package at 'simple_go_1.0.tar.gz': open simple_go_1.0.tar.gz: no such file or directory

 

# STATS *******************************************************
minifab: ok=345    failed=1   
Could you please help me on this
</p>
<p><strong>dustinle2309</strong> (Wed, 21 Oct 2020 08:47:19 GMT):<br/>
Thank you.
</p>
<p><strong>dustinle2309</strong> (Wed, 21 Oct 2020 08:48:38 GMT):<br/>
Is there any document for me to connect SDK node with minifabric network? I really wanna.
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 08:49:26 GMT):<br/>
?
</p>
<p><strong>dustinle2309</strong> (Wed, 21 Oct 2020 08:50:36 GMT):<br/>
Because I want to write API for minifabric.
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 08:51:20 GMT):<br/>
API dev is not minifabric specific.
</p>
<p><strong>dustinle2309</strong> (Wed, 21 Oct 2020 08:53:46 GMT):<br/>
Ok. Thank you, P.
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 08:54:00 GMT):<br/>
read the manual for node sdk from hyperledger
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 08:54:08 GMT):<br/>
read the docs
</p>
<p><strong>dustinle2309</strong> (Wed, 21 Oct 2020 08:54:37 GMT):<br/>
Yup. I think I should follow HL docs.
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 10:49:22 GMT):<br/>
This is for java **
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 10:49:24 GMT):<br/>
https://github.com/hyperledger/fabric-gateway-java
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 10:50:32 GMT):<br/>
in the newtwork config path there you enter the _go json or yaml file generated from minifabric
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 11:37:24 GMT):<br/>
@dustinle2309 please take a look at app/go directory, there is a go app, which uses minifabric generated connection profile, Java app should follow similar pattern. To run the app/go app, you just need to do minifab apprun command
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 11:37:44 GMT):<br/>
Please also see some of the docs in docs directory
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 11:40:16 GMT):<br/>
Minifabric creates connection profiles, you need to simply use the connection profile in your app, but your app should be able to connect to any fabric network, minifabric simply makes that process a bit easier by creating necessary connection files. If you use other means creating fabric network, you may have to manually create these connection files.
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 11:45:45 GMT):<br/>
Yeah as tongli said . I was reffering to java because i have prior knownledge
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 12:00:21 GMT):<br/>
Minifabric created fabric network should have no differences than other tools created fabric network, an app written using any sdk should be able to connect to any such network. Your app should not be developed in a way which depends on some things special about minifabric which has none since minifabric created fabric network is truly a functional production grade fabric network.
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 12:02:17 GMT):<br/>
@tongli would apprun work with java ?
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 12:02:29 GMT):<br/>
I think it's not supported
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 12:02:40 GMT):<br/>
you state node / go the docs
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 12:03:35 GMT):<br/>
* Sorry fot he off topic question *
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Oct 2020 12:03:35 GMT):<br/>
* Sorry for he off topic question *
</p>
<p><strong>SpecialAgentCooper</strong> (Wed, 21 Oct 2020 14:12:03 GMT):<br/>
I'm not certain but it looks like you either can't access the golang urls listed above (which is used by chaincode builders) or your 'vars' directory is not set up correctly. Try looking through the container logs. Are you on a restricted network?
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 20:45:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 20:45:30 GMT):<br/>
Hello. This is Claudio from Hyperledger LatinAmerican Chapter.
</p>
<p><strong>rjones</strong> (Wed, 21 Oct 2020 20:46:11 GMT):<br/>
howdy!
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 20:47:04 GMT):<br/>
Hello, @rjones . This is a very cool tool. I'm creating new projects using minifabric. It really helps!!
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 20:47:37 GMT):<br/>
Congratulations, @everybody.
</p>
<p><strong>rjones</strong> (Wed, 21 Oct 2020 20:48:00 GMT):<br/>
@tongli has built a great tool for us all :)
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 21:21:52 GMT):<br/>
Is there a way to manage docker volumes and docker networks directly from mini fab?
Every time I do a cleanup and a new up, a new docker network is created with a random name. Can I specify the name?
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 21:22:36 GMT):<br/>
Something like a "docker-compose-override.yml"
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 21:22:40 GMT):<br/>
?
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 23:13:56 GMT):<br/>
No, only support node and Java 
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 23:13:56 GMT):<br/>
No, only support node and go
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 23:14:19 GMT):<br/>
You can add Java support
</p>
<p><strong>tongli</strong> (Wed, 21 Oct 2020 23:17:32 GMT):<br/>
@claudiocebpaz minifab purposely not allow user to mess with its created volumes. If you want to keep the volume, you do minifab down not minifab cleanup, that way only docker containers will be removed, all data remains. If you do minifab cleanup, then everything will be removed.
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 23:18:59 GMT):<br/>
ok. Thanks.
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 23:19:32 GMT):<br/>
What about network? Is there a way to have a specific named network?
</p>
<p><strong>claudiocebpaz</strong> (Wed, 21 Oct 2020 23:20:33 GMT):<br/>
It could be usefull to add another container with an API to access the peers
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 01:03:07 GMT):<br/>
No, there is really no such thing as network name. Minifabric uses a hash code of the current working directory to name the docker network, as long as the current working directory stays the same, that name will stay the same.
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 01:03:44 GMT):<br/>
Not really sure why you mean by with an API access, can you elaborate a bit more on this?
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 01:03:44 GMT):<br/>
Not really sure what you mean by with an API access, can you elaborate a bit more on this?
</p>
<p><strong>sichen</strong> (Thu, 22 Oct 2020 01:42:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>dustinle2309</strong> (Thu, 22 Oct 2020 02:15:46 GMT):<br/>
Hi everybody, May I custom minifabric and how to do that? help me. Because I just wanna use 01 orderer.
</p>
<p><strong>ashlinSajan</strong> (Thu, 22 Oct 2020 05:37:56 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=ea6s6tjt6yTXiYxdW) Yes I work in a restricted network.How to set the 'vars' directory?Thanks for your help
</p>
<p><strong>pkirkinezis</strong> (Thu, 22 Oct 2020 06:09:12 GMT):<br/>
I will try to find time and do a PR .
</p>
<p><strong>pkirkinezis</strong> (Thu, 22 Oct 2020 06:11:19 GMT):<br/>
If you want to use only 1 orderer change spec.yaml and only have 1 orderer inside and not three . It applies the same principle as organization nodes in spec.yaml
</p>
<p><strong>pkirkinezis</strong> (Thu, 22 Oct 2020 06:13:11 GMT):<br/>
I am not 100% but you can pre build custom docker containers with go lang libraries pre downloaded .I never done it but we had a github issue i long time ago with the same thing.
</p>
<p><strong>pkirkinezis</strong> (Thu, 22 Oct 2020 06:13:55 GMT):<br/>
If you read the docs in minifabric it states how to build custom docker containers
</p>
<p><strong>dustinle2309</strong> (Thu, 22 Oct 2020 07:17:01 GMT):<br/>
How to change post for each peer in minifabric? Pls, help me.
</p>
<p><strong>dustinle2309</strong> (Thu, 22 Oct 2020 07:17:01 GMT):<br/>
How to change port for each peer in minifabric? Pls, help me.
</p>
<p><strong>pkirkinezis</strong> (Thu, 22 Oct 2020 09:40:17 GMT):<br/>
@tongli  orgjoin will read multiple join files at once ?
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 22 Oct 2020 10:45:51 GMT):<br/>
You can also extend the dockerfile with your network certificate bundle, which is what I do for the fabric-nodeenv container. You'll have to figure out what you need to do to the Dockerfile yourself (it's different depending on your network setup, I got help from our DevOps guys) but once you have it see this section of the docks to use it with minifab https://github.com/hyperledger-labs/minifabric/tree/master/docs#working-with-customised-chaincode-builders
</p>
<p><strong>SpecialAgentCooper</strong> (Thu, 22 Oct 2020 10:45:51 GMT):<br/>
You can also extend the dockerfile with your network certificate bundle, which is what I do for the fabric-nodeenv container. You'll have to figure out what you need to do to the Dockerfile yourself (it's different depending on your network setup, I got help from our DevOps guys) but once you have it see this section of the docs to use it with minifab https://github.com/hyperledger-labs/minifabric/tree/master/docs#working-with-customised-chaincode-builders
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 11:17:55 GMT):<br/>
@dustinle2309 you only need ports when you want to expose these port outside of the docker network, in that case use -e startportno , for example -e 7300, this way, minifabric will use port 7300 as a starting port to allocate ports to ca, peer, orderer nodes. You need to make sure you have a block of ports not being used by any app, otherwise your setup will fail obviously.
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 11:19:09 GMT):<br/>
In terms of the vars directory, it gets created under your working directory which can be any directory you like, normally the working directory is ~/mywork, but that can be any directory.
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 11:20:43 GMT):<br/>
Directory vars is just a directory Minifabric creates, that can not be changed and there is no reason why you need to customize it. Like under Linux, you should not use /etc or under windows you should not use /system32
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 11:24:08 GMT):<br/>
Orgjoin only uses one org request a time.@pkirkinezis 
</p>
<p><strong>dustinle2309</strong> (Thu, 22 Oct 2020 15:10:39 GMT):<br/>

<br/><a href="./assets/x3AhaBBrPgrq4Bq3r-Clipboard - October 22, 2020 10:10 PM">Clipboard - October 22, 2020 10:10 PM</a>
</p>
<p><strong>dustinle2309</strong> (Thu, 22 Oct 2020 15:11:05 GMT):<br/>
Hi everybody, I got this error. :( how to resolve that?
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 15:16:07 GMT):<br/>
@dustinle2309 open an issue against minifabric with detailed steps how this error was found, then someone can take a look at it.  please provide as much information as you can especially the env. firewall, etc
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 15:17:20 GMT):<br/>
typiecally this kind of error may indicate that you may not have necessary port open, but I am really just guessing not knowing what env you are using and firewall settings, docker versions, etc
</p>
<p><strong>dustinle2309</strong> (Thu, 22 Oct 2020 15:19:00 GMT):<br/>
Oh, Oke. I will try it again.
</p>
<p><strong>sichen</strong> (Thu, 22 Oct 2020 17:07:03 GMT):<br/>
Hello!  Thanks @tongli again for getting us up and running with minifabric a little while ago.  Now I have another question: Can minifabric be used to deploy a production set up?  I saw it in your readme but was wondering how you would do it?
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 17:09:37 GMT):<br/>
@sichen if you want to deploy fabric into production, you can certainly use minifabric, what is important is that you probably want to use your own certificates. in that sense, you will need to organize your certs in a structure just like how currently minifabric layout these certificates.
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 17:10:18 GMT):<br/>
as long as there is a set of cert files in the vars/keyfiles directory, then minifabric wont generate a set for you.
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 17:10:35 GMT):<br/>
so the nodes will be all start up using the provided certificates.
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 17:10:52 GMT):<br/>
other than that, I do not see any other things that you will have to do
</p>
<p><strong>tongli</strong> (Thu, 22 Oct 2020 17:11:28 GMT):<br/>
minifabric uses docker volumes , you just need to configure your docker to make sure that you have plenty of spaces.
</p>
<p><strong>sichen</strong> (Thu, 22 Oct 2020 17:13:46 GMT):<br/>
OK thanks!  I'll spend some more time looking at it.
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 13:20:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 13:20:07 GMT):<br/>
@tongli Hi, I do not see any documentation in minifab explaining how we can create a wallet and add identities to the wallet or how we can generate wallet files. Can you please explain the commands we need for this process?
</p>
<p><strong>tongli</strong> (Fri, 23 Oct 2020 13:21:12 GMT):<br/>
command is `minifab profilegen`, results will be in vars/profiles I think.
</p>
<p><strong>tongli</strong> (Fri, 23 Oct 2020 13:22:13 GMT):<br/>
@said_shah command help is part of the code , run `minifab` to see all available commands.
</p>
<p><strong>tongli</strong> (Fri, 23 Oct 2020 13:22:28 GMT):<br/>
which is part of the readme doc
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 13:23:34 GMT):<br/>
ok thank you
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 14:46:43 GMT):<br/>

<br/><a href="./assets/3bfRGxScdsJeuDWmp-Clipboard - October 23, 2020 10:46 AM">Clipboard - October 23, 2020 10:46 AM</a>
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 14:47:06 GMT):<br/>
Does anyone know why I am getting this error, I'm trying to connect and make transactions
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 14:48:50 GMT):<br/>
here is the file
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 14:48:53 GMT):<br/>

<br/><a href="./assets/asbk2MsZLSid4QSkT-Clipboard - October 23, 2020 10:48 AM">Clipboard - October 23, 2020 10:48 AM</a>
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 14:49:51 GMT):<br/>
everything else is working fine and I am able to invoke transactions from the terminal, but I'm getting that error when I run the file to invoke transactions
</p>
<p><strong>aguel</strong> (Fri, 23 Oct 2020 15:19:41 GMT):<br/>
I supposed this is an issue of your API rather than minifabric, you might want to post your question in #fabric-sdk-node 
</p>
<p><strong>said_shah</strong> (Fri, 23 Oct 2020 15:26:34 GMT):<br/>
ok thank you
</p>
<p><strong>zilich</strong> (Fri, 23 Oct 2020 17:56:47 GMT):<br/>
Next zoom meeting?
https://www.youtube.com/watch?v=KM-HQvtd0E0
</p>
<p><strong>pkirkinezis</strong> (Mon, 26 Oct 2020 15:36:37 GMT):<br/>
@tongli
</p>
<p><strong>pkirkinezis</strong> (Mon, 26 Oct 2020 15:37:23 GMT):<br/>
Is there any way to add simutanlusly more than 1 organization ?
</p>
<p><strong>pkirkinezis</strong> (Mon, 26 Oct 2020 15:37:59 GMT):<br/>
Is this a good practive .. Maybe you have to add 3 sties on your network channel with chaincode .
</p>
<p><strong>pkirkinezis</strong> (Mon, 26 Oct 2020 16:31:21 GMT):<br/>
Something else how long ago did you fixed the commit command i was talking to the issue i had open . Now you looking the endorsers.json to commit including all the endorsing peers
</p>
<p><strong>tongli</strong> (Mon, 26 Oct 2020 16:33:57 GMT):<br/>
What is the point to add more than 1 org at the same time? Why can’t it be done one by one?
</p>
<p><strong>pkirkinezis</strong> (Mon, 26 Oct 2020 16:36:36 GMT):<br/>
For production porpose there is no point
</p>
<p><strong>pkirkinezis</strong> (Mon, 26 Oct 2020 16:37:29 GMT):<br/>
But when i am  ttesting with to many sites on my machines and trying to experiment it takes times to add one by one every time you reset your network
</p>
<p><strong>pkirkinezis</strong> (Mon, 26 Oct 2020 16:39:46 GMT):<br/>
every time i reset the network .Also updating to latest minifabric i was mannualy fixing the ccommit.sh to add all the endorsers :P
</p>
<p><strong>ericmvaughn</strong> (Mon, 26 Oct 2020 18:34:31 GMT):<br/>
Is there a way to set the HOST_ADDRESS when setting EXPOSE_ENDPOINTS to true?
</p>
<p><strong>tongli</strong> (Mon, 26 Oct 2020 21:14:42 GMT):<br/>
@ericmvaughn currently the host address was automatically detected, you can see it can be wrong when a machine has so many nics, I am thinking that we can probably pass that in the spec file as an option. It will be super nice someone put up a PR.
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 10:46:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 10:46:34 GMT):<br/>
Hi All 

Am trying to start minifabric with a custom spec file. But am getting below error. Is this a known issue ?

`./minifab -o nimble.efpf.com
Using spec file: /home/ayesh/Pictures/blockchian/logistic-network/spec.yaml
nimble.efpf.com is a not supported option
`
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 10:59:37 GMT):<br/>

<br/><a href="./assets/HtFvFax3hGsCZzX8N-Screenshot from 2020-10-27 11-59-24.png">Screenshot from 2020-10-27 11-59-24.png</a>
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:05:23 GMT):<br/>
uhm, @ayeshperera the orgs name need to be the same.
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:06:36 GMT):<br/>
In the spec file you have  ` nimble.example.com ` as the DNS, but in the command-line you give ` nimble.efpf.com `
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:06:55 GMT):<br/>
Since these 2 don't match, you should get an error.
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:08:38 GMT):<br/>
Either change the `spec.yaml` to use *efpf.com* instead of *example.com*, or change the command in the terminal : *./minifab -o nimble.example.com*
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:34:16 GMT):<br/>
Oh am sorry for the confusion here am using 
./minifab --organization nimble.example.com
for sure
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:34:16 GMT):<br/>
Oh am sorry for the confusion here am using 
./minifab --organization nimble.example.com
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:37:03 GMT):<br/>
Do you still get an error when starting up? What happens if you run :
```
$ ./minifab -o nimble.example.com up
```
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:37:22 GMT):<br/>
same error
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:37:23 GMT):<br/>
<pre>nimble.example.com is a not supported option</pre>
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:37:35 GMT):<br/>
this seems like an issue in the cli
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:37:49 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/blob/78d44facc6268cb9586d5cfdc7f5fd60ec088749/main.sh#L63
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:40:17 GMT):<br/>
am not sure why it's taking value  `nimble.example.com`
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:40:22 GMT):<br/>
as an option
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:40:28 GMT):<br/>
Did you add `up` in the command when you ran the minifab script?
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:41:19 GMT):<br/>
yes
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:44:54 GMT):<br/>
@ayeshperera I'll try and recreate the network now. But try and update the *minifab* script so long if you have not already done it.

Run :
```
$ ./minifab update
```

And replace the ./minifab with ./vars/minifab , i.e.
```
$ mv ./vars/minifab .
```
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:44:54 GMT):<br/>
@ayeshperera I'll try and recreate the network now. But try and update the *minifab* script so long if you have not already done it.

Run :
```
$ ./minifab update
```

And replace the ./minifab with ./vars/minifab , i.e.
```
$ rm minifab
$ mv ./vars/minifab .
$ chmod +x minfab
```
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:46:30 GMT):<br/>
@skulos  thanks alot
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 12:46:32 GMT):<br/>
sure will do
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:51:43 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=JTNkHgMMrjrm7TmN4) I'm retyping your `spec.yaml` from the picture above, and can already say that it's wrong. Org *nimble* has 2 peers named peer1 and *efactory* has 2 peers named peer2. Try swapping those digit around to give nimble a peer1 and peer2, and efactory a peer1 and peer2. (FYI I totally missed it the first time, sorry about that)
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:59:17 GMT):<br/>
Okay, and the order of the command was the problem
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:59:17 GMT):<br/>
Okay @ayeshperera , so the order of the command was the problem
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 12:59:55 GMT):<br/>
The order should be :
```
$ ./minifab up -o nimble.example.com
```
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 13:00:21 GMT):<br/>
Not  `-o nimble.example.com up`
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 13:00:21 GMT):<br/>
Not  `-o nimble.example.com up` , that is, *up* first, then the org.
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 13:10:44 GMT):<br/>
@ayeshperera did you manage to get the network up?
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 13:35:52 GMT):<br/>
Hi @skulos  thanks alot for getting back soon give me a minute
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 13:38:01 GMT):<br/>
exactly it works thanks alot for youre time to help
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 13:47:48 GMT):<br/>
Great stuff. Glad to hear you got the network up. If you run into any more problems or have anymore questions, just post them.
</p>
<p><strong>skulos</strong> (Tue, 27 Oct 2020 13:47:55 GMT):<br/>
:wink:
</p>
<p><strong>ayeshperera</strong> (Tue, 27 Oct 2020 13:48:44 GMT):<br/>
:thumbsup:
</p>
<p><strong>ericmvaughn</strong> (Tue, 27 Oct 2020 13:53:05 GMT):<br/>
@tongli The spec file does seem like a good place to put.  I'll give it a try and see if I can figure out how to do it.
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:08:42 GMT):<br/>
@ericmvaughn that will be great. Minifabric has used a global variable ADDRS to hold the automatically detected ip addresses, and use the first one in the list for exposing the port. You can probably find all the places where that variable was used, then you have user specified from spec.yaml, you can probably define another variable to replace the ADDRS use when spec.yaml has the entry.
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:09:08 GMT):<br/>
Should not be too big A deal 
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:09:34 GMT):<br/>
for some reason after the latest docker update on windows minifab no longer works.
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:12:05 GMT):<br/>
```# Running operation: ******************************************
  generate certificates
..........................................................................................................................................
# Use fabric tools container to create channel artifacts ******
  non-zero return code
  docker: Error response from daemon: mkdir C:Userss390xmywork: Access is denied.
  See 'docker run --help'.

# STATS *******************************************************
minifab: ok=201 failed=1```
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:12:24 GMT):<br/>
that is after `minifab cleanup` and `rd /s/q vars`
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:12:50 GMT):<br/>
Hmm, what version of docker?
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:13:03 GMT):<br/>
I think I have been using the latest docker.
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:13:17 GMT):<br/>
Is this on windows 10 with wsl 2?
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:13:24 GMT):<br/>
`v20.10.0-beta1`
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:13:36 GMT):<br/>
yes, same machine I've been using for a while
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:14:32 GMT):<br/>
Oh, the beta, I think there have been some issues regarding this version. I do not remember what needs to be done. I think there is some kind of flag that you have to turn off
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:14:41 GMT):<br/>
FUSE?
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:15:40 GMT):<br/>
OK. I have a linux machine to work on anyway.
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:16:01 GMT):<br/>
Let me dig the flag
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:19:28 GMT):<br/>
@rjones please take a look at this. https://lists.hyperledger.org/g/fabric/message/9108
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:20:12 GMT):<br/>
not completely sure if this is the root of the issue.
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:20:22 GMT):<br/>
but you can probably try that and see.
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:21:46 GMT):<br/>
will do
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:22:24 GMT):<br/>
thanks @rjones
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 15:28:41 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=oADpfpueqh7JB5d8t) last weekend, I see this, too... try it on two different WSL installation... have screenshots, if needed...
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:32:27 GMT):<br/>
OK, rolling back to the non-edge version fixed it, thanks
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:33:47 GMT):<br/>
@rjones great.
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:34:08 GMT):<br/>
Arnaud suggested not to use the beta version.
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 15:34:26 GMT):<br/>
I didn't realize I was until you asked
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 15:35:31 GMT):<br/>
sure, not a problem.
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 17:59:49 GMT):<br/>

<br/><a href="./assets/4HZeDwmjY4ykXppZq-anydesk00036.png">anydesk00036.png</a>
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 18:01:19 GMT):<br/>
If letters was to small:
# Running operation: ******************************************
  generate certificates
..........................................................................................................................................
# Use fabric tools container to create channel artifacts ******
  non-zero return code
  docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused "exec: \"/etc/hyperledger/fabric/run/certtxgen.sh\": stat /etc/hyperledger/fabric/run/certtxgen.sh: no such file or directory": unknown.

# STATS *******************************************************
minifab: ok=211 failed=1
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 18:14:04 GMT):<br/>
I get only spec.yml from github...

wget https://raw.githubusercontent.com/hyperledger-labs/minifabric/master/spec.yaml

You can test such installation, too.
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 18:14:36 GMT):<br/>
after cleanup, I test and without -e ...
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 18:15:39 GMT):<br/>

<br/><a href="./assets/u4wcpcLcoNzmsLR5T-Screenshot_354.jpg">Screenshot_354.jpg</a>
</p>
<p><strong>tongli</strong> (Tue, 27 Oct 2020 18:57:17 GMT):<br/>
@zilich if you are using latest docker(beta), there is an issue with docker, you probably can tell the channel, what docker version you are using.
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:15:15 GMT):<br/>

<br/><a href="./assets/H7vtZohotQAzJQy8X-Screenshot_356.jpg">Screenshot_356.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:15:15 GMT):<br/>

<br/><a href="./assets/H7vtZohotQAzJQy8X-Screenshot_356.jpg">Screenshot_356.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:15:38 GMT):<br/>

<br/><a href="./assets/3KN657f7NqihKKz87-Screenshot_357.jpg">Screenshot_357.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:15:38 GMT):<br/>

<br/><a href="./assets/3KN657f7NqihKKz87-Screenshot_357.jpg">Screenshot_357.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:27:58 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=ByrNdu0wLbC3wdffH) Docker updated today :(
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:28:09 GMT):<br/>
maybe isnt beta?
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:33:43 GMT):<br/>
19.03.13 is the version I'm using
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:34:14 GMT):<br/>
but I'm also not using it within WSL2, I'm using it at the command prompt. I don't think running it within WSL2 is supported
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:34:53 GMT):<br/>

<br/><a href="./assets/NZ8jfHEmTTqyGe2Ys-Screenshot_358.jpg">Screenshot_358.jpg</a>
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:35:23 GMT):<br/>
yes, that is the exact version I'm running right now
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:35:23 GMT):<br/>

<br/><a href="./assets/cFyPYNJMX2GApXdKE-Screenshot_359.jpg">Screenshot_359.jpg</a>
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:36:24 GMT):<br/>
```C:\Users\s390x\mywork>minifab stats
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=192.168.4.5,192.168.7.243
    WORKING_DIRECTORY: /run/desktop/mnt/host/c/Users/s390x/mywork
...
# Preparing for the following operations: *********************
  verify options, network status
.................
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  network status
......
# Docker node status ******************************************
  portainer.2e8bf3da79_net : Exited (1) 4 hours ago
  explorer.2e8bf3da79_net : Up 4 hours
  explorerdb.2e8bf3da79_net : Up 4 hours (healthy)
  dev-peer2.org1.example.com-simple_1.0-87b0fa55d9dd : Up 4 hours
  dev-peer1.org0.example.com-simple_1.0-87b0fa55d9dd : Up 4 hours
  dev-peer2.org0.example.com-simple_1.0-87b0fa55d9dd : Up 4 hours
  dev-peer1.org1.example.com-simple_1.0-87b0fa55d9dd : Up 4 hours
  2e8bf3da79_cli : Up 4 hours
  ca1.org1.example.com : Up 4 hours
  ca1.org0.example.com : Up 4 hours
  orderer3.example.com : Up 4 hours
  orderer2.example.com : Up 4 hours
  orderer1.example.com : Up 4 hours
  peer2.org1.example.com : Up 4 hours
  peer1.org1.example.com : Up 4 hours
  peer2.org0.example.com : Up 4 hours
  peer1.org0.example.com : Up 4 hours

# Fabric network peer and orderer node health status **********
  peer1.org0.example.com "OK"
  peer2.org0.example.com "OK"
  peer1.org1.example.com "OK"
  peer2.org1.example.com "OK"
  orderer1.example.com "OK"
  orderer2.example.com "OK"
  orderer3.example.com "OK"


# STATS *******************************************************
minifab: ok=33  failed=0

real    0m3.921s
user    0m3.300s
sys     0m0.625s

C:\Users\s390x\mywork>```
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:36:24 GMT):<br/>
```C:\Users\s390x\mywork>minifab stats
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=192.168.4.5,192.168.7.243
    WORKING_DIRECTORY: /run/desktop/mnt/host/c/Users/s390x/mywork
...
# Preparing for the following operations: *********************
  verify options, network status
.................
# STATS *******************************************************
minifab: ok=33  failed=0

real    0m3.921s
user    0m3.300s
sys     0m0.625s

C:\Users\s390x\mywork>```
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:37:20 GMT):<br/>

<br/><a href="./assets/TPKroS7nFEhcn4cSq-Screenshot_360.jpg">Screenshot_360.jpg</a>
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:38:37 GMT):<br/>
today installation...
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:38:48 GMT):<br/>
sure, I'm not sure what you're asking me.
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:38:55 GMT):<br/>
try it from the command prompt
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:39:55 GMT):<br/>
I will delete spec.yaml and make same test as you...
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:40:05 GMT):<br/>
maybe this is problem...
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:40:25 GMT):<br/>
well, you don't have to delete, just make a new directory
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:40:36 GMT):<br/>
grab the current minifab.cmd and run it in a new place
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:44:20 GMT):<br/>

<br/><a href="./assets/tWzjqKK6HqiMs9Spc-Screenshot_361.jpg">Screenshot_361.jpg</a>
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:44:55 GMT):<br/>
it looks like you're running it from within WSL2, which IIRC, isn't supported
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:45:22 GMT):<br/>
from power shell???
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:45:43 GMT):<br/>
https://chat.hyperledger.org/channel/fabric-mini?msg=gSayDR28rXBkJNJJB
</p>
<p><strong>rjones</strong> (Tue, 27 Oct 2020 19:45:47 GMT):<br/>
cmd.exe
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:46:36 GMT):<br/>
ok... last time I install it ... same procedures work...
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:46:45 GMT):<br/>
i will try as you say...
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 19:58:09 GMT):<br/>

<br/><a href="./assets/bo9t52khczKmRgTTW-anydesk00037.png">anydesk00037.png</a>
</p>
<p><strong>zilich</strong> (Tue, 27 Oct 2020 20:00:33 GMT):<br/>
Maybe this is solution, why i have problem with client java program :( ...  different logic... :)
</p>
<p><strong>ericmvaughn</strong> (Wed, 28 Oct 2020 16:23:44 GMT):<br/>
@tongli  I just submitted a PR to add endpoint configuration to the spec.yaml file.  I'm new to ansible so take a close look at fabops.yaml to see if it's ok.  Thanks
</p>
<p><strong>zhenbing</strong> (Wed, 28 Oct 2020 16:24:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>zhenbing</strong> (Wed, 28 Oct 2020 16:24:23 GMT):<br/>
@ericmvaughn :thumbsup:
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:10:41 GMT):<br/>
cool, I'm taking a look. Not sure how to get it consumed correctly yet :)
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:10:56 GMT):<br/>
ah, there it is.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:12:27 GMT):<br/>
@rjones @ericmvaughn I've reviewed it but there is an issue with fabric 1.4.1 to 1.4.6 failing. I am not really sure it is due to this PR though. I think something else has changed.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:12:43 GMT):<br/>
the Azure pipeline for 1.4.1 and 1.4.6 are failing. others tests are fine.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:13:04 GMT):<br/>
that is the reason why I have not approved the PR. but I think this is due to other issues.
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:20:36 GMT):<br/>
I clobbered the PR by accident
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:20:41 GMT):<br/>
so I had to open https://github.com/hyperledger-labs/minifabric/pull/108
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:20:43 GMT):<br/>
sorry, I suck
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:21:48 GMT):<br/>
the change I wanted to propose was line 27 of spec.yaml: https://github.com/hyperledger-labs/minifabric/pull/108/files
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:22:20 GMT):<br/>
changing the formatting to make it clear the correct indent for `endpoint_address`
</p>
<p><strong>pkirkinezis</strong> (Wed, 28 Oct 2020 18:23:03 GMT):<br/>
@rjones is this affects and existing up and running network?
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:23:06 GMT):<br/>
@rjones the endpoint_address setting should be similar to goproxy
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:23:06 GMT):<br/>
But I did test the change, and it worked.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:24:05 GMT):<br/>
yeah, I think that the PR is fine. can be merged.
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:24:08 GMT):<br/>
the indent didn't make it clear to me what the correct indent level was. I was going to ask a question, not try to delete the other PR
</p>
<p><strong>pkirkinezis</strong> (Wed, 28 Oct 2020 18:24:12 GMT):<br/>
I am thinking of a scenario you update your existing up and runnig network to latest minifab and then run ./minifab restart
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:24:17 GMT):<br/>
there should be another issue opened though.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:24:53 GMT):<br/>
something has been happening breaking go chaincode instantiate on 1.4.1 to 1.4.6
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:25:11 GMT):<br/>
@ericmvaughn if you want to re-open another PR with your old content, please do. I'm really sorry I clobbered your other one
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:37:15 GMT):<br/>
@rjones I think that the PR is fine, I approved it.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:37:25 GMT):<br/>
but can not merge, do not know why.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:38:22 GMT):<br/>
two checks failed due to a different problem. I found the cause of the problem. that was due to the ccenv changes. sigh!
</p>
<p><strong>ericmvaughn</strong> (Wed, 28 Oct 2020 18:41:42 GMT):<br/>
I'm looking at the PR now and it appears open.  Is there something I should do at this point?
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:42:08 GMT):<br/>
@ericmvaughn not really. it looks fine.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:42:14 GMT):<br/>
but I can not merge for some reason.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:42:59 GMT):<br/>
two checks failed, one for 1.4.1 and one for 1.4.6 both due to ccenv changes.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:43:31 GMT):<br/>
which is not related to your PR. but it just happened that your PR triggered the tests and we found these issues.
</p>
<p><strong>ericmvaughn</strong> (Wed, 28 Oct 2020 18:43:44 GMT):<br/>
I tested with 1.4.4 and 2.2 before submitting it and didn't see the error
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:44:13 GMT):<br/>
yeah, it is possible that your 1.4.4 ccenv container image was a good one.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:44:28 GMT):<br/>
if you have a clean system, without any ccenv image, you probably will hit the issue.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:45:02 GMT):<br/>
I only tested 1.4.1 and 1.4.6, both broken. but it will be good if you remove your image ccenv  and test 1.4.4
</p>
<p><strong>ericmvaughn</strong> (Wed, 28 Oct 2020 18:45:35 GMT):<br/>
I'll give it a try
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:46:43 GMT):<br/>
@rjones can not merge eric's PR, can you help?
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:47:09 GMT):<br/>
actually both you and eric.
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:48:16 GMT):<br/>
@tongli done
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:49:01 GMT):<br/>
thanks Ry. was it due to these two failed checks?
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:49:09 GMT):<br/>
yes
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:49:26 GMT):<br/>
ok, I c. let me fix these two real quick.
</p>
<p><strong>ericmvaughn</strong> (Wed, 28 Oct 2020 18:49:37 GMT):<br/>
Thanks Ry
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:49:38 GMT):<br/>
I like to support 1.4.1 and newer.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:49:56 GMT):<br/>
that is the version since minifabric was started.
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:50:20 GMT):<br/>
I propose active LTS only
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:50:42 GMT):<br/>
I c.
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:50:48 GMT):<br/>
"we support the versions of Fabric IBM supports"
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:50:55 GMT):<br/>
@rjones
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:51:04 GMT):<br/>
1.4.whatever, 2.0.whatever, 2.2.whatever
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:51:19 GMT):<br/>
it is my preference, I'm not saying a requirement
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:51:49 GMT):<br/>
yeah. being a development tool, it is actually useful to support .x releases, so that people can get the latest as soon as it is out.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:52:10 GMT):<br/>
let me get these two checks fixed.
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:52:36 GMT):<br/>
let me be more concrete: the latest release of 1.4 (which I think is 1.4.5), the latest of 2.0, the latest of 2.2, and whatever master is
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 18:52:58 GMT):<br/>
yeah, that is LTS, right?
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:53:11 GMT):<br/>
https://github.com/hyperledger/fabric/releases/tag/v2.2.1 https://github.com/hyperledger/fabric/releases/tag/v1.4.9
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 18:54:06 GMT):<br/>
https://github.com/hyperledger/fabric/releases/tag/v2.0.1
</p>
<p><strong>ericmvaughn</strong> (Wed, 28 Oct 2020 18:56:46 GMT):<br/>
@tongli I just got the error on 1.4.4 as you predicted
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:00:53 GMT):<br/>
@ericmvaughn yeah.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:01:07 GMT):<br/>
that was the underly change made to ccenv, sigh!
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:01:17 GMT):<br/>
I am fixing it right now.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:01:21 GMT):<br/>
should be done quickly
</p>
<p><strong>ericmvaughn</strong> (Wed, 28 Oct 2020 19:01:49 GMT):<br/>
OK great
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 19:40:42 GMT):<br/>
Hi all  is there a way to have the client application seprately. Outside minifabric network and connect to the nework.

so from my client application am trying to invoke ca to enroll my admin user for the first use. But ca is inside the docker network seems like it's not accessible. Later on will be packaging the service as a container and will make sure to run on the same network but for the testing purposes am not sure how to test it out.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:41:21 GMT):<br/>
@ayeshperera yes. when you setup your network use this flag
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:41:24 GMT):<br/>
-e true
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 19:41:40 GMT):<br/>
Yeah I already exposed the endpoints
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 19:42:13 GMT):<br/>
Using spec file: /home/ayesh/Pictures/blockchian/logistic-network/spec.yaml
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=node
    CHAINCODE_NAME=logistic-contract
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="getOrder","some id"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=nimble.efpf.com
    HOST_ADDRESSES=172.16.18.166
    WORKING_DIRECTORY: /home/ayesh/Pictures/blockchian/logistic-network
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:42:48 GMT):<br/>
ok. in your case, it used your private IP address.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:42:57 GMT):<br/>
which is 172.16.18.166
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:43:11 GMT):<br/>
this IP address probably can not be access outside of your server.
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 19:43:16 GMT):<br/>
ok so is it possible to change the host address
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:43:22 GMT):<br/>
right.
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 19:43:39 GMT):<br/>
that is the change that was merged today
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:43:47 GMT):<br/>
that is exactly what the PR does (what we have been talked about)
</p>
<p><strong>rjones</strong> (Wed, 28 Oct 2020 19:43:48 GMT):<br/>
like... 20 minutes ago
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:44:12 GMT):<br/>
you need to run `minifab update` command to get it
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:45:05 GMT):<br/>
@rjones got the PR up , it is to fix the issue for 1.4.1 to 1.4.6
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:45:11 GMT):<br/>
oneline code change basically.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:45:17 GMT):<br/>
please take a look.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:45:27 GMT):<br/>
I think that the test shall pass
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 19:45:45 GMT):<br/>
:woo:  awesome I will give it a try thanks alot  @tongli  and @rjones
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:45:58 GMT):<br/>
or not.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:46:56 GMT):<br/>
crap. my PR broke 2.x
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:46:59 GMT):<br/>
sigh!
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:48:39 GMT):<br/>
@ayeshperera you need to make sure that the IP you specify in the spec.yaml file indeed used by the machine that you install fabric network on.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 19:48:55 GMT):<br/>
you can not use an IP address which is foreign to the machine running fabric.
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 19:51:56 GMT):<br/>
so am still testing it out locally where I have my chain-code working perfectly with minifabric and my application is also am still testing locally  so I hope I can specify 127.0.0.1  in spec file. 

Sure when going for the vm will make sure to use the ip of the machine
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 20:13:30 GMT):<br/>
@rjones now this one should work, https://github.com/hyperledger-labs/minifabric/pull/110
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 20:13:42 GMT):<br/>
I've tested against 1.4.1, 1.4.6 and 2.2.0
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 20:23:50 GMT):<br/>
Thanks a lot @rjones
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 20:23:57 GMT):<br/>
we are back to green.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 20:24:06 GMT):<br/>
for all the releases.
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 20:51:41 GMT):<br/>
@tongli  thanks for the fix btw still  it takes the private address when setting up the network here is my spec file.
`fabric:
  cas:
  - "ca1.nimble.efpf.com"
  - "ca1.efactory.efpf.com"
  peers: 
  - "peer1.nimble.efpf.com"
  - "peer1.efactory.efpf.com"
  - "peer2.nimble.efpf.com"
  - "peer2.efactory.efpf.com"
  orderers:
  - "orderer1.efpf.com"
  - "orderer2.efpf.com"
  - "orderer3.efpf.com"
  settings:
    ca:
      FABRIC_LOGGING_SPEC: DEBUG
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
    orderer:
      FABRIC_LOGGING_SPEC: DEBUG
  endpoint_address: "127.0.0.1"
`
and the output
`
Using spec file: /home/ayesh/Pictures/blockchian/logistic-network/spec.yaml
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=nimble.efpf.com
    HOST_ADDRESSES=172.16.18.166
    WORKING_DIRECTORY: /home/ayesh/Pictures/blockchian/logistic-network
`
but something is going on in the end there is a dial up error 
`on channel creation phase
 non-zero return code
  2020-10-28 20:47:53.868 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2020-10-28 20:47:53.894 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2020-10-28 20:47:53.894 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2020-10-28 20:47:53.896 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  Error: failed to create deliver client for orderer: orderer client failed to connect to 127.0.0.1:7006: failed to create new connection: connection error: desc = "transport: error while dialing: dial tcp 127.0.0.1:7006: connect: connection refused"`
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 20:51:41 GMT):<br/>
@tongli  thanks for the fix btw still  it takes the private address when setting up the network here is my spec file.
`fabric:
  endpoint_address: "127.0.0.1"
`
and the output
`
Using spec file: /home/ayesh/Pictures/blockchian/logistic-network/spec.yaml
Minifab Execution Context:
    FABRIC_RELEASE=2.2.0
    CHANNEL_NAME=mychannel
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="init","a","200","b","300"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=true
    CURRENT_ORG=nimble.efpf.com
    HOST_ADDRESSES=172.16.18.166
    WORKING_DIRECTORY: /home/ayesh/Pictures/blockchian/logistic-network
`
*but something is going on in the end there is a dial up error *
`"transport: error while dialing: dial tcp 127.0.0.1:7006: connect: connection refused"`
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 21:28:49 GMT):<br/>
Is your app running on the machine or on other machine?
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 21:29:23 GMT):<br/>
The loop back address may not be used 
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 21:29:49 GMT):<br/>
same machine
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 21:30:24 GMT):<br/>
so localhost basically wanted to test things out before moving o the cloud
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 21:33:48 GMT):<br/>
I tried with my current ip for the machine it was the same :no_mouth:
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 21:33:48 GMT):<br/>
I tried with my current public ip for the machine it was the same :no_mouth:
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 21:38:19 GMT):<br/>
Hmm, I am not sure then. You may check the certs and see if the IP address is an entry in the cert
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 21:41:30 GMT):<br/>
sure will do
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:22:35 GMT):<br/>
@ayeshperera not really sure about your env. it could be that your system has a firewall. or some of the ports may have not been opened up.
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:27:32 GMT):<br/>
hmm @tongli  actually there is not any firewall installed in my workstation :pensive:
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:27:45 GMT):<br/>
ok.
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:28:01 GMT):<br/>
I am only getting an error in the orderer client
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:28:03 GMT):<br/>
Error: failed to create deliver client for orderer: orderer client failed to connect to 127.0.0.1:7008: failed to create new connection: connection error: desc = "transport: error while dialing: dial tcp 127.0.0.1:7008: connect: connection refused"
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:28:03 GMT):<br/>
Error: failed to create deliver client for orderer: orderer client failed to connect to 192.168.1.27:7008: failed to create new connection: connection error: desc = "transport: error while dialing: dial tcp 192.168.1.27:7008: connect: connection refused"
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:28:49 GMT):<br/>
I think that the loopback ip should never be used.
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:30:38 GMT):<br/>
yeah I tested  with 192.168.240.1 this ip as well
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:30:42 GMT):<br/>
do an ifconfig and paste it here.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:30:48 GMT):<br/>
let me take a look at the output
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:31:05 GMT):<br/>
also do this
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:31:10 GMT):<br/>
`docker network ls`
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:32:00 GMT):<br/>
sure
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:32:00 GMT):<br/>
sure here it is
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:32:01 GMT):<br/>
https://pastebin.com/ANaGLPgt
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:32:37 GMT):<br/>
NETWORK ID          NAME                DRIVER              SCOPE
f6117dbf9e54        a674c12505_net      bridge              local
dee29641bc08        bridge              bridge              local
5e203a011aa7        host                host                local
28855907c014        none                null                local
sh: 0: getcwd() failed: No such file or directory
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:33:58 GMT):<br/>
that all looks good.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:34:24 GMT):<br/>
I think in your spec.yaml file, you can use this ip `172.16.123.157`
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:35:12 GMT):<br/>
that is your real IP
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:35:36 GMT):<br/>
the  nic `enp0s31f6` you do not have it configured.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:36:57 GMT):<br/>
another thing that you can try is this
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:37:08 GMT):<br/>
`minifab cleanup`
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:37:24 GMT):<br/>
`minifab up -e true`
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:37:24 GMT):<br/>
`minifab up -e true -n samplecc`
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:37:49 GMT):<br/>
`minifab apprun`
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:38:45 GMT):<br/>
the last command actually run a go written app which comes with minifabric, it can be used to test if one can run a go app against the network.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:39:02 GMT):<br/>
here is the app
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:39:03 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/blob/master/app/go/main.go
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:40:00 GMT):<br/>
another thing you can try is this
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:40:10 GMT):<br/>
if you are using go connection profile,
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:40:23 GMT):<br/>
the profile uses an env variable.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:40:42 GMT):<br/>
like this
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:40:46 GMT):<br/>
```{
  "name": "7839ced3e6_net",
  "x-comment-0": "ROOTPATH should be set to the absolute path of crypto material starting directory",
  "x-comment-1": "for example: export ROOTPATH=/home/ubuntu/mywork/vars/keyfiles",
  "x-type": "hlfv-2.2.0",
  "version": "1.0.0",
  "client": {
    "organization": "org1.example.com",
    "cryptoconfig": {
      "path": "${ROOTPATH}"
    },```
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:41:01 GMT):<br/>
notice that ROOTPATH needs to be set for your environment.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:41:13 GMT):<br/>
otherwise, your app wont be able to find the tls certs.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:41:23 GMT):<br/>
that can often cause connection rejection.
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:41:31 GMT):<br/>
@ayeshperera ^^^
</p>
<p><strong>ayeshperera</strong> (Wed, 28 Oct 2020 23:41:59 GMT):<br/>
awesome thanks alot for these I will try all options and will let you know
</p>
<p><strong>tongli</strong> (Wed, 28 Oct 2020 23:47:48 GMT):<br/>
@ayeshperera ok.
</p>
<p><strong>ayeshperera</strong> (Thu, 29 Oct 2020 00:01:25 GMT):<br/>
it works
</p>
<p><strong>ayeshperera</strong> (Thu, 29 Oct 2020 00:01:40 GMT):<br/>
:partying_face: :partying_face: :partying_face: :partying_face:
</p>
<p><strong>ayeshperera</strong> (Thu, 29 Oct 2020 00:02:12 GMT):<br/>
thanks alot again @tongli
</p>
<p><strong>ayeshperera</strong> (Thu, 29 Oct 2020 00:02:27 GMT):<br/>
it worked with 172.16.123.157 ip
</p>
<p><strong>tongli</strong> (Thu, 29 Oct 2020 00:05:56 GMT):<br/>
@ayeshperera great. Glad to hear it. 
</p>
<p><strong>zilich</strong> (Thu, 29 Oct 2020 16:32:08 GMT):<br/>

<br/><a href="./assets/7hE3GzYqje8LSkFyj-anydesk00063.png">anydesk00063.png</a>
</p>
<p><strong>zilich</strong> (Thu, 29 Oct 2020 16:41:03 GMT):<br/>
# Run the chaincode instantiate script on cli container *******
  non-zero return code
  Error: chaincode argument error: invalid character 'i' looking for beginning of value
  Usage:
    peer chaincode invoke [flags]

  Flags:
    -C, --channelID string               The channel on which this command should be executed
        --connectionProfile string       Connection profile that provides the necessary connection information for the network. Note: currently only supported for providing peer connection information
    -c, --ctor string                    Constructor message for the chaincode in JSON format (default "{}")
    -h, --help                           help for invoke
    -I, --isInit                         Is this invocation for init (useful for supporting legacy chaincodes in the new lifecycle)
    -n, --name string                    Name of the chaincode
        --peerAddresses stringArray      The addresses of the peers to connect to
        --tlsRootCertFiles stringArray   If TLS is enabled, the paths to the TLS root cert files of the peers to connect to. The order and number of certs specified should match the --peerAddresses flag
        --waitForEvent                   Whether to wait for the event from each peer's deliver filtered service signifying that the 'invoke' transaction has been committed successfully
        --waitForEventTimeout duration   Time to wait for the event from each peer's deliver filtered service signifying that the 'invoke' transaction has been committed successfully (default 30s)

  Global Flags:
        --cafile string                       Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
        --certfile string                     Path to file containing PEM-encoded X509 public key to use for mutual TLS communication with the orderer endpoint
        --clientauth                          Use mutual TLS when communicating with the orderer endpoint
        --connTimeout duration                Timeout for client to connect (default 3s)
        --keyfile string                      Path to file containing PEM-encoded private key to use for mutual TLS communication with the orderer endpoint
    -o, --orderer string                      Ordering service endpoint
        --ordererTLSHostnameOverride string   The hostname override to use when validating the TLS connection to the orderer.
        --tls                                 Use TLS when communicating with the orderer endpoint
        --transient string                    Transient map of arguments in JSON encoding

# STATS *******************************************************
minifab: ok=21  failed=1
</p>
<p><strong>tongli</strong> (Thu, 29 Oct 2020 19:11:30 GMT):<br/>
@rjones Ry, got this msg, not sure why ```The "Mark stale issues and pull requests" workflow in litong01/minifabric has been disabled ```
</p>
<p><strong>tongli</strong> (Thu, 29 Oct 2020 19:11:56 GMT):<br/>
oh, this is in my own repo.
</p>
<p><strong>tongli</strong> (Thu, 29 Oct 2020 19:12:22 GMT):<br/>
@rjones I guess this is fine.
</p>
<p><strong>rjones</strong> (Thu, 29 Oct 2020 20:00:44 GMT):<br/>
I think you have to enable actions on your forks
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 07:16:20 GMT):<br/>
Propably 2 reasong you get this error .
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 07:17:25 GMT):<br/>
1. Your query to couchdb has syntax error
2. when you run invoke -p '"function","args"' the args are not on the correct format to be desirialized
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 07:17:25 GMT):<br/>
1. Your query to couchdb has syntax error (inside your chaincode implementation)
2. when you run invoke -p '"function","args"' the args are not on the correct format to be desirialized
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 07:19:21 GMT):<br/>
If you have the init function i would sugest to trye bellow
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 07:20:45 GMT):<br/>
minifabric initialize -l cclang-n ccname -p '"init"'
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 07:21:21 GMT):<br/>
It will only work if the init function of your chaincode is not requiring any arguments
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 07:30:25 GMT):<br/>
It is possible to start init minifab with language java?
i.e. minifab -l java?
or under windows 
minifab.cmd -l java?
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 07:32:06 GMT):<br/>
after cleanup... or as first install command...
I misstype up command above...
i.e.
./minifab up -l java
or
minifab.cmd up -l java?
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 08:06:10 GMT):<br/>
Of course . Just run ./minifabric -l java
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 08:07:05 GMT):<br/>
Make sure you have the correct version on your gradlew . If not fix it and run it again . Because the default gradle version hyperledger will use in version 5.3
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 08:09:49 GMT):<br/>
For fixing it you have to install gradle localy and then run "gradle wrapper --gradle-version 6.5.1 --distribution-type allgradle wrapper --gradle-version 6.5.1 --distribution-type all" on your chaincode path this will create a gradlew with gradle version 6.5.1
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 08:11:20 GMT):<br/>
then if you have a function init implemented on your java chaincode . After install,approve commit run ./minifab initialize -l java -n ccname -p '"init"'
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:34:11 GMT):<br/>
As first command, this not work...
Just checked... 
./minifab up -l java!!!
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:35:06 GMT):<br/>
what chaincode ?
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:35:59 GMT):<br/>
the example chaincode "SIMPLE" i installed it without any issue .
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:36:27 GMT):<br/>
also make sure to have the correct gradle version
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:39:11 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=dpzG8SzAdEvh7zJ39) maybe after „./minifab up“
but on clean system which have java, maven, gradel,... and not installed minifab,
dont work...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:39:33 GMT):<br/>
./minifab up -l java
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:40:43 GMT):<br/>
I never tried ./minifab up -l java just give a moment to try it
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:42:02 GMT):<br/>
./minifab up -l java this only without any other parameters?
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:42:25 GMT):<br/>
even I test and  adding same as for go...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:43:23 GMT):<br/>

<br/><a href="./assets/46oWJ22qpuKQf2uPH-Screenshot_378.jpg">Screenshot_378.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:43:27 GMT):<br/>

<br/><a href="./assets/BNjyemssgSWNZecv6-Screenshot_379.jpg">Screenshot_379.jpg</a>
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:44:01 GMT):<br/>
this is an erro while hyperledger is compiling your chaincode
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:45:00 GMT):<br/>
„./minifab up -l java“

default?
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:45:18 GMT):<br/>
„this is an erro while hyperledger is compiling your chaincode“
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:45:47 GMT):<br/>
* What went wrong:
  Receiver class com.github.jengelman.gradle.plugins.shadow.internal.DependencyFileCollection does not define or inherit an implementation of the resolved method 'abstract org.gradle.api.tasks.TaskDependency getBuildDependencies()' of interface org.gradle.api.Buildable.
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:45:57 GMT):<br/>
by default yes
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:47:24 GMT):<br/>
maybe this can be corrected in ansible init with java :)
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:48:04 GMT):<br/>
That we havent go chaincode image :)
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 09:49:01 GMT):<br/>
or to init with some path to java chanicode...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:51:39 GMT):<br/>
please inside simple chaincode folder
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:51:44 GMT):<br/>
in java folder run
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:51:54 GMT):<br/>
gradle wrapper --gradle-version 6.5.1 --distribution-type allgradle wrapper --gradle-version 6.5.1 --distribution-type all
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:51:57 GMT):<br/>
and then try again
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:53:32 GMT):<br/>
ot simple "gradle wrapper --gradle-version 6.5.1"
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 09:55:14 GMT):<br/>
simple running ./minifab up -l java is not working mainly i thing because gradlew version is missing on simple chaincode java
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:22:43 GMT):<br/>
Do manage to get it working
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:22:44 GMT):<br/>
?
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 11:25:32 GMT):<br/>
under linux work... I will try with minifab.cmd later...
Thanks...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:26:26 GMT):<br/>
did what i described worked ?
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:27:11 GMT):<br/>
under linux i mean the gradle command
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 11:38:35 GMT):<br/>
no :(
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 11:52:05 GMT):<br/>
[root@pc86 java]# gradle --version

------------------------------------------------------------
Gradle 6.6
------------------------------------------------------------

Build time:   2020-08-10 22:06:19 UTC
Revision:     d119144684a0c301aea027b79857815659e431b9

Kotlin:       1.3.72
Groovy:       2.5.12
Ant:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020
JVM:          1.8.0_265 (Oracle Corporation 25.265-b01)
OS:           Linux 4.18.0-240.el8.x86_64 amd64

[root@pc86 java]#
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:56:50 GMT):<br/>
try this chaincode
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:57:06 GMT):<br/>
compy paste is my simple chaincode but with string not intiger
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:57:26 GMT):<br/>
copy paste to java sub direcotry on simple chaincode
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:57:26 GMT):<br/>
https://we.tl/t-5X1bhnO8KG
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 11:57:30 GMT):<br/>
and let me know
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 12:01:29 GMT):<br/>
Ok... I will test... miniFabric worked and in WSL, but when WSL was install in WSL linux prompt... But now use different Working folder, which is to long... but this is another story...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 12:01:38 GMT):<br/>
I realized something on ./minifab up vars directory is empty .
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 12:01:57 GMT):<br/>
clenup delete everything...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 12:02:11 GMT):<br/>
under vars
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 12:02:16 GMT):<br/>
So whatever you do on chaincode sud directory will be be ovewritten with ./minifub up
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 12:02:49 GMT):<br/>
only cleanup delete...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 12:02:59 GMT):<br/>
up/down/restart no!
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 12:03:25 GMT):<br/>
Yes i mean if you run cleanup and then up
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 12:03:58 GMT):<br/>
Also keep in mind everytime to run ./minifab install a tgz file is produced even if installation failes
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 12:05:18 GMT):<br/>
so if you in case the chaincode fail to install you have to manually delete the tgz file and run again . Because if it find tgz file it will use it , but it will be the old one
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 12:05:49 GMT):<br/>
if you mauyally install the chaincode you can use minifab -v to create a new tgz
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 12:08:20 GMT):<br/>
I know that... :) And use it last 3 months ...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 12:08:56 GMT):<br/>
strart with 0.051,0.52, ... 0.91 ...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:04:40 GMT):<br/>
Yeah i saw it didn't work . It is 100% realted to gradle . I would suggest running netup and install chaincode afterwords
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:06:43 GMT):<br/>
ok... I find what is problem...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:07:00 GMT):<br/>
Its not problem to gradle >(
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:07:04 GMT):<br/>
XM
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:07:11 GMT):<br/>
elaborate
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:07:23 GMT):<br/>
Centos was problem...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:07:41 GMT):<br/>
When I test same code on ubuntu, everytning work...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:07:55 GMT):<br/>
I few days ago, we have problem with power...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:07:59 GMT):<br/>
I never thouth of that i was testing on ubuntu the whole time i left centos behind from the beggining of minifabric
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:08:11 GMT):<br/>
and maybe was firewall comant after restart missing...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:08:37 GMT):<br/>
maybe it would be great to chekc the documentation of centos installtion for linux Tongli made
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:08:45 GMT):<br/>

<br/><a href="./assets/r8uaM3djr2qSfGZa2-Screenshot_383.jpg">Screenshot_383.jpg</a>
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:09:21 GMT):<br/>
I glad that you've made it .
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:09:32 GMT):<br/>
yess... this worked, and I just check how long computer worked...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:09:45 GMT):<br/>
above is ubuntu...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:09:56 GMT):<br/>
Nice
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:10:03 GMT):<br/>
I will later and Centos to work...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:10:51 GMT):<br/>
keep me posted
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:12:03 GMT):<br/>
ann time I tested my code on 3 different computers... with different configurations :)
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:12:34 GMT):<br/>

<br/><a href="./assets/7qGfjQMAMw7vRan7b-Screenshot_384.jpg">Screenshot_384.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:13:06 GMT):<br/>
I will fix it later...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 16:13:14 GMT):<br/>
Must go outside...
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 16:14:26 GMT):<br/>
pff
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 21:24:19 GMT):<br/>
I replace gradle (simpe under Centos), but install java chain code dont work...
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 21:24:53 GMT):<br/>

<br/><a href="./assets/rtLHLNXPCc6gdsCdf-Screenshot_389.jpg">Screenshot_389.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 21:25:17 GMT):<br/>

<br/><a href="./assets/2secEgJSkKoNRwjzu-Screenshot_388.jpg">Screenshot_388.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 21:26:48 GMT):<br/>

<br/><a href="./assets/hpuGbmi2rrwFGR7Sn-Screenshot_390.jpg">Screenshot_390.jpg</a>
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 21:55:08 GMT):<br/>
this is centos?
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 21:56:09 GMT):<br/>
some line of the error is missing on your screen shot
</p>
<p><strong>pkirkinezis</strong> (Fri, 30 Oct 2020 21:56:12 GMT):<br/>
also
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:25:57 GMT):<br/>

<br/><a href="./assets/fwdZbcTdeYCQNfqpE-Screenshot_17.png">Screenshot_17.png</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:26:29 GMT):<br/>
Or Linux isnt Linux under WSL???
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:27:52 GMT):<br/>
Today, this is not possible?
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:33:38 GMT):<br/>

<br/><a href="./assets/4aYSybweBQiFdNvPz-Screenshot_17.jpg">Screenshot_17.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:33:38 GMT):<br/>

<br/><a href="./assets/4aYSybweBQiFdNvPz-Screenshot_17.jpg">Screenshot_17.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:33:38 GMT):<br/>

<br/><a href="./assets/4aYSybweBQiFdNvPz-Screenshot_17.jpg">Screenshot_17.jpg</a>
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:35:01 GMT):<br/>
In that time, worked without problems!!! Today - cant! Is any logical answer? Or Microsoft logic made big influence to IBM team, too?
</p>
<p><strong>zilich</strong> (Fri, 30 Oct 2020 23:36:49 GMT):<br/>

<br/><a href="./assets/ig6BiMSLP9hwFRvKP-Screenshot_384.jpg">Screenshot_384.jpg</a>
</p>
<p><strong>zilich</strong> (Sat, 31 Oct 2020 00:00:13 GMT):<br/>
# Running operation: ******************************************
  cc install
.......
# Run the chaincode install script on cli container ***********
  non-zero return code
  Error: chaincode install failed with status: 500 - failed to invoke backing implementation of 'InstallChaincode': could not build chaincode: docker build failed: docker image build failed: docker build failed: Error returned from build: 1 "+ INPUT_DIR=/chaincode/input
  + OUTPUT_DIR=/chaincode/output
  ++ mktemp -d
  + TMP_DIR=/tmp/tmp.FBGbJc
  ++ find /chaincode/input -name .jar
  ++ paste -s -d : -
  + JARS=
  ++ find /chaincode/input -name '*.jar'
  ++ wc -l
  + NUM_JARS=1
  + for DIR in ${INPUT_DIR} ${INPUT_DIR}/src
  + '[' -f /chaincode/input/build.gradle -o -f /chaincode/input/build.gradle.kts ']'
  + '[' -f /chaincode/input/pom.xml ']'
  + for DIR in ${INPUT_DIR} ${INPUT_DIR}/src
  + '[' -f /chaincode/input/src/build.gradle -o -f /chaincode/input/src/build.gradle.kts ']'
  + buildGradle /chaincode/input/src /chaincode/output
  + echo 'Copying from /chaincode/input/src to /tmp/tmp.FBGbJc'
  Copying from /chaincode/input/src to /tmp/tmp.FBGbJc
  + cd /chaincode/input/src
  + tar cf - .
  + cd /tmp/tmp.FBGbJc
  + tar xf -
  + cd /tmp/tmp.FBGbJc
  + echo 'Gradle build'
  + '[' -f ./gradlew ']'
  + chmod +x ./gradlew
  Gradle build
  + ./gradlew build shadowJar -x test
  Downloading https://services.gradle.org/distributions/gradle-6.5.1-bin.zip
  .........10%..........20%..........30%..........40%.........50%..........60%..........70%..........80%.........90%..........100%

  Welcome to Gradle 6.5.1!

  Here are the highlights of this release:
   - Experimental file-system watching
   - Improved version ordering
   - New samples

  For more details see https://docs.gradle.org/6.5.1/release-notes.html

  Starting a Gradle Daemon (subsequent builds will be faster)

  > Task :compileJava
  Note: /tmp/tmp.FBGbJc/src/main/java/org/hyperledger/fabric/example/SimpleChaincode.java uses or overrides a deprecated API.
  Note: Recompile with -Xlint:deprecation for details.

  > Task :processResources NO-SOURCE
  > Task :classes
  > Task :jar
  > Task :assemble
  > Task :check
  > Task :build
  > Task :shadowJar FAILED

  FAILURE: Build failed with an exception.

  * What went wrong:
  Execution failed for task ':shadowJar'.
  > Could not resolve all files for configuration ':runtimeClasspath'.
     > Could not find com.github.everit-org.json-schema:org.everit.json.schema:1.11.1.
       Searched in the following locations:
         - file:/root/.m2/repository/com/github/everit-org/json-schema/org.everit.json.schema/1.11.1/org.everit.json.schema-1.11.1.pom
         - https://repo.maven.apache.org/maven2/com/github/everit-org/json-schema/org.everit.json.schema/1.11.1/org.everit.json.schema-1.11.1.pom
       Required by:
           project : > org.hyperledger.fabric-chaincode-java:fabric-chaincode-shim:1.4.7

  * Try:
  Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

  * Get more help at https://help.gradle.org

  Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.
  Use '--warning-mode all' to show the individual deprecation warnings.
  See https://docs.gradle.org/6.5.1/userguide/command_line_interface.html#sec:command_line_warnings

  BUILD FAILED in 27s
  3 actionable tasks: 3 executed
  "

# STATS *******************************************************
minifab: ok=25  failed=1
</p>
<p><strong>zilich</strong> (Sat, 31 Oct 2020 00:00:26 GMT):<br/>
compete log...
</p>
<p><strong>zilich</strong> (Sat, 31 Oct 2020 00:00:33 GMT):<br/>
GN
</p>
<p><strong>gabrielodi</strong> (Sat, 31 Oct 2020 06:56:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>gabrielodi</strong> (Sat, 31 Oct 2020 06:56:50 GMT):<br/>
hello there! I am new to hyper ledger and minifabric, trying to setup the basic ledger with minifab up, but I am gettin an error... could anyone support me on this, please?
</p>
<p><strong>gabrielodi</strong> (Sat, 31 Oct 2020 06:57:05 GMT):<br/>
Running operation: ******************************************
  generate certificates
..
# Running operation: ******************************************
  start network
......
# Create env file for all nodes *******************************
  All items completed
    
[WARNING]: Failure using method (v2_runner_on_failed) in callback plugin
(<ansible.plugins.callback.minifab.CallbackModule object at 0x7f664f7e04f0>):
unsupported operand type(s) for +: 'dict_keys' and 'dict_keys'

# STATS *******************************************************
minifab: ok=54	failed=1
</p>
<p><strong>gabrielodi</strong> (Sat, 31 Oct 2020 06:57:48 GMT):<br/>
searched in google, github and here also, found no answers...
</p>
<p><strong>gabrielodi</strong> (Sat, 31 Oct 2020 07:05:21 GMT):<br/>
same issue trying to run minifab netup
</p>
<p><strong>gabrielodi</strong> (Sat, 31 Oct 2020 07:19:19 GMT):<br/>
solved... deleted Vars folder and tried again, wored
</p>
<p><strong>gabrielodi</strong> (Sat, 31 Oct 2020 07:19:27 GMT):<br/>
worked.... thanks
</p>
<p><strong>aim8526</strong> (Sat, 31 Oct 2020 15:57:08 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tongli</strong> (Sun, 01 Nov 2020 00:14:28 GMT):<br/>
@gabrielodi, you can always run command ‘minifab cleanup’ to clean up every thing
</p>
<p><strong>rjones</strong> (Sun, 01 Nov 2020 01:57:00 GMT):<br/>
maybe :)
</p>
<p><strong>rjones</strong> (Sun, 01 Nov 2020 01:57:11 GMT):<br/>
depends if you run it from the same directory or not... :)
</p>
<p><strong>gabrielodi</strong> (Sun, 01 Nov 2020 14:24:54 GMT):<br/>
Thank you
</p>
<p><strong>gabrielodi</strong> (Sun, 01 Nov 2020 14:25:02 GMT):<br/>
I have another question:
</p>
<p><strong>gabrielodi</strong> (Sun, 01 Nov 2020 14:27:38 GMT):<br/>
I see that minifab support the standard methods from shim (fabric-chaincode-go). I have seen no examples on chaincodes written on the high-level fabric-contract-api-go. Does minifab have support for fabric-contract-api-go? how should I invoke the functions? I suppose I cant use the original invoke method? thanks
</p>
<p><strong>tongli</strong> (Sun, 01 Nov 2020 17:07:30 GMT):<br/>
@gabrielodi what you talked about is the way developing chaincode. Minifabric does not care how your chaincode was developed, you can install any type of chaincode to minifabric created network just like any other fabric network.
</p>
<p><strong>tongli</strong> (Sun, 01 Nov 2020 17:07:53 GMT):<br/>
You invoke the functions same way you invoke other chaincode. No difference.
</p>
<p><strong>tongli</strong> (Mon, 02 Nov 2020 18:27:59 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/113
</p>
<p><strong>tongli</strong> (Mon, 02 Nov 2020 18:29:05 GMT):<br/>
This is the PR to upgrade caliper to the latest. from 0.3.2 to 0.4.1, caliper contains breaking changes. To take advantages of the latest caliper and fabric sdk, we need to upgrade the caliper.
</p>
<p><strong>tongli</strong> (Mon, 02 Nov 2020 18:30:45 GMT):<br/>
@rjones can you please take a look at it?
</p>
<p><strong>rjones</strong> (Mon, 02 Nov 2020 22:52:15 GMT):<br/>
@tongli done
</p>
<p><strong>tongli</strong> (Mon, 02 Nov 2020 23:16:17 GMT):<br/>
@rjones thanks
</p>
<p><strong>pkirkinezis</strong> (Wed, 04 Nov 2020 06:30:27 GMT):<br/>
fabric sdk 2.1.0 changelog is anywhere online i can't find it
</p>
<p><strong>pkirkinezis</strong> (Wed, 04 Nov 2020 06:32:55 GMT):<br/>
?
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 15:56:29 GMT):<br/>
@tongli I'd like to make another change if you are in agreement.  I'd like to be able to put a collection configuration file into the vars directory before bringing up minifab and have minifab use it without overwriting it with the default collection file.  This will enable me to bring up minifab with my custom chaincode with a single command.  It looks like it can be done by adding the 'force: on' option to where the collection file gets created.
</p>
<p><strong>zilich</strong> (Wed, 04 Nov 2020 16:10:27 GMT):<br/>

<br/><a href="./assets/3mXQ3FxetDmFrrRvz-Screenshot_458.jpg">Screenshot_458.jpg</a>
</p>
<p><strong>zilich</strong> (Wed, 04 Nov 2020 16:12:04 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=55xX65vRqJipyJZZk) 
<br/><a href="./assets/2MnTSmgRzB2sC5oNw-Screenshot_458.jpg">Screenshot_458.jpg</a>
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 17:32:25 GMT):<br/>
@ericmvaughn yes, put up an PR, I will be very happy to review it. Thanks.
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 17:35:36 GMT):<br/>
:thumbsup:
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:19:09 GMT):<br/>
@ericmvaughn very nice PR, I love it how small it is. Added a comment for changing in the doc. Can you take a look at it?
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 18:19:50 GMT):<br/>
Thanks, I'll take a look
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:21:53 GMT):<br/>
in the doc, simply state that the chaincode private data collection configuration file is produced automatically, but if one wants to provide their own private data collection, they can simply add the file as such such file named this this etc, so other people can take full advantages of your contribution.
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:21:59 GMT):<br/>
@ericmvaughn ^^^
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:22:34 GMT):<br/>
I suspect this in the future can be very helpful.
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:22:52 GMT):<br/>
as minifabric can not really predict how the private data collection should be created.
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 18:23:19 GMT):<br/>
should it go into the docs/README.md file?
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:23:26 GMT):<br/>
right.
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:24:48 GMT):<br/>
you probably can add new content here in this section
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:24:49 GMT):<br/>
app.get('/burbidge.js', (req, res) => {
    res.setHeader('content-type', 'text/javascript');
    res.write('var offerOrigin = "' + req.protocol + '://' + req.get('host') + '";');
    res.write(burbidgejs);
    res.end();
  });
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:25:15 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/tree/master/docs#install-your-own-chaincode
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:25:26 GMT):<br/>
at the end of this section.
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 18:25:28 GMT):<br/>
There's a "Install your own chaincode" section that looks like a good place
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:25:48 GMT):<br/>
haha, I beat you on that one :-)
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 18:26:19 GMT):<br/>
OK good I'll work on it
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:27:09 GMT):<br/>
yeah. just a paragraph, at the end of the section,
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:27:37 GMT):<br/>
talking about private data collection and its behavior.
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 18:27:59 GMT):<br/>
Thanks very much for doing this.
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 18:28:47 GMT):<br/>
You're welcome, I'll give it a go.
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 19:43:26 GMT):<br/>
@tongli Take look at what I added and let me know if you'd like something else.  I'll be happy to change it.
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 19:43:59 GMT):<br/>
I've approved it, waiting for other checks to go through before I can merge into the master branch.
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 19:44:03 GMT):<br/>
thanks for your contribution.
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 19:44:18 GMT):<br/>
and you can simply run `minifab update` to get the latest.
</p>
<p><strong>ericmvaughn</strong> (Wed, 04 Nov 2020 19:46:45 GMT):<br/>
great, thanks for your help and guidance
</p>
<p><strong>tongli</strong> (Wed, 04 Nov 2020 19:50:23 GMT):<br/>
@ericmvaughn thanks, I've merged it. thanks a lot for your 2nd merged PRs. great work.
</p>
<p><strong>pkirkinezis</strong> (Thu, 05 Nov 2020 08:24:54 GMT):<br/>
they where talking for caliper fabric sdk . Not java
</p>
<p><strong>claudiocebpaz</strong> (Thu, 05 Nov 2020 18:43:09 GMT):<br/>
Hello. Is there any docs on how to use MiniFabric with docker swarm? Thanks!
</p>
<p><strong>tongli</strong> (Thu, 05 Nov 2020 19:45:35 GMT):<br/>
@claudiocebpaz minifabric does not use docker swarm. And there is no reason to, if you are thinking about having multiple nodes running fabric, you can set up fabric on each nodes then join them together to make a bigger fabric network.
</p>
<p><strong>claudiocebpaz</strong> (Thu, 05 Nov 2020 19:52:01 GMT):<br/>
Ok, Thanks!
</p>
<p><strong>zilich</strong> (Sat, 07 Nov 2020 15:59:51 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=pqsWrXKS3Pej4W5HX) I made it to work again and under WSL 2...  Not only from cmd...  Images was in windows docker...
</p>
<p><strong>zilich</strong> (Sat, 07 Nov 2020 16:01:11 GMT):<br/>

<br/><a href="./assets/i9HxeYcj6L7y2Y4Dr-Screenshot_489.jpg">Screenshot_489.jpg</a>
</p>
<p><strong>tongli</strong> (Mon, 09 Nov 2020 21:27:38 GMT):<br/>
please review this PR which fixed a bug for some edge chaincode invocation/query cases. https://github.com/hyperledger-labs/minifabric/pull/117
</p>
<p><strong>tongli</strong> (Mon, 09 Nov 2020 21:28:01 GMT):<br/>
@pkirkinezis @rjones ^^^ thanks.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 04:00:00 GMT):<br/>
@rjones Thanks very much for getting it merged.
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 05:07:40 GMT):<br/>

<br/><a href="./assets/EmRoimbTBYGzxto5L-Clipboard - November 10, 2020 12:22 PM">Clipboard - November 10, 2020 12:22 PM</a>
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 05:08:29 GMT):<br/>
@tongli When I run the up command and GOPROXY can't work in cc install step, where can I modify the script? Thanks.
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 05:11:42 GMT):<br/>
I saw a script vars/run/ccinstall.peer1.org0.example.com.sh, how does this file generated? I only define GO111MODULE, but no GOPROXY define nor use the environment defined.
</p>
<p><strong>pkirkinezis</strong> (Tue, 10 Nov 2020 07:28:40 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=2bL2r7QPi9eYon2ro) I lost that one . I was in the middle of deployiment yesterday of a faeture so iwas busy
</p>
<p><strong>pkirkinezis</strong> (Tue, 10 Nov 2020 07:30:22 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=8uRE2ZYhuHDJMqwtg) Probably someone is forbit you from accesing to download protobuf . Check internet access and try again . Also contact system admin to see wether the network is blocks you from download
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 11:55:23 GMT):<br/>
@zhenbing please take a look spec.yaml file at the repo and make a copy of that file, uncomment the proxy line to use a proxy in China as the sample says, then you can try install command.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 11:55:23 GMT):<br/>
@zhenbing please take a look at spec.yaml file in the repo and make a copy of that file, uncomment the proxy line to use a proxy in China as the sample says, then you can try install command.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 11:56:20 GMT):<br/>
This problem is due to firewall in China blocking google sites.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 12:31:13 GMT):<br/>
Place the new spec.yaml file in your working directory where you run minifab command, remember to do a minifab cleanup first to make sure your env is clean.
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 13:58:33 GMT):<br/>
@tongli Thanks. It's works but new barriers occurs. Start with "non-zero return code" and start downloading and finally...
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 13:58:40 GMT):<br/>

<br/><a href="./assets/eZy7AZeqpfhBXZmKa-Clipboard - November 10, 2020 9:58 PM">Clipboard - November 10, 2020 9:58 PM</a>
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:00:02 GMT):<br/>
what is your env? windows , linux?
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 14:00:17 GMT):<br/>
macOS
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 14:01:04 GMT):<br/>
Docker desktop 2.5.0.1
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:01:28 GMT):<br/>
I wonder if docker was not able to access your working directory.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:01:46 GMT):<br/>
mac os x has some rather restrictive security rules.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:02:32 GMT):<br/>
can you see if your vars/chaincode/simple directory has a tar.gz file?
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 14:03:16 GMT):<br/>
Okay, let me try on Ubuntu 18... Yes, it has a simple_go_1.0.tar.gz.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:03:40 GMT):<br/>
hmmm. if that file is there and that means the package was built.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:05:32 GMT):<br/>
it seems to me that the file somehow was not being found by container. I wonder if this is a latest docker issue https://lists.hyperledger.org/g/fabric/message/9108
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:06:58 GMT):<br/>
not really sure, have not tested against 2.5 on mac, yeah. try it on ubuntu and please continue try on mac os x as well so that we figure out what is wrong.
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 14:08:00 GMT):<br/>
Okay.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:18:59 GMT):<br/>
@zhenbing is this the place where you download docker desktop for mac? https://hub.docker.com/editions/community/docker-ce-desktop-mac
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 14:25:34 GMT):<br/>
Yes, I downloaded from officer site base 2.4 and updated to 2.5 online. It's on stable channel.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:28:30 GMT):<br/>
@zhenbing I tested with this gRPC turned off, it worked fine, before I turned that off, I got the same error as you did.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:28:35 GMT):<br/>

<br/><a href="./assets/QXtk4iR3Z2yjNos3D-Screen Shot 2020-11-10 at 9.26.33 AM.png">Screen Shot 2020-11-10 at 9.26.33 AM.png</a>
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:39:17 GMT):<br/>
@zhenbing I am using 2.5.0.1 which is the latest.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:39:33 GMT):<br/>
turning on gRPC will have issues.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:39:48 GMT):<br/>
turning it off will work fine.
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 14:48:20 GMT):<br/>
:thumbsup: yeah, it works now! It's a macOS related issue... but the previous 10 containers all   finished create and leave cc container alone...
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:48:51 GMT):<br/>
do `minifab cleanup` to cleanup everything.
</p>
<p><strong>tongli</strong> (Tue, 10 Nov 2020 14:49:43 GMT):<br/>
some of the posts said that that issue has been fixed in 2.4.2.0, but we are using 2.5.0.1 still same problem. but I think we should turn off this experimental features for now.
</p>
<p><strong>zhenbing</strong> (Tue, 10 Nov 2020 14:50:36 GMT):<br/>
that's not so bad:grinning:
</p>
<p><strong>pkirkinezis</strong> (Wed, 11 Nov 2020 10:56:28 GMT):<br/>
@tongli  @rjones  to add a already isntalled chaincode to a new Channel i will have to follow the saem process ?
</p>
<p><strong>pkirkinezis</strong> (Wed, 11 Nov 2020 10:57:16 GMT):<br/>
only i have to overtake install command?>
</p>
<p><strong>pkirkinezis</strong> (Wed, 11 Nov 2020 11:15:26 GMT):<br/>
something else why chaincode endorsers json file after discover is empty ?
</p>
<p><strong>tongli</strong> (Wed, 11 Nov 2020 15:39:45 GMT):<br/>
@rjones docker desktop 2.4.x.x to 2.5.0.1 changed a lot things for volume , had to fix one small thing for it to work. can you please look at this PR https://github.com/hyperledger-labs/minifabric/pull/119
</p>
<p><strong>pkirkinezis</strong> (Thu, 12 Nov 2020 15:03:49 GMT):<br/>
@tongli  is it necessery from your expirience to initialize a chaincode again when you bump it version
</p>
<p><strong>pkirkinezis</strong> (Thu, 12 Nov 2020 15:04:12 GMT):<br/>
lest say we are on -v 1.0 of chaincode and want to update it to -v 2.0 .
</p>
<p><strong>pkirkinezis</strong> (Thu, 12 Nov 2020 15:04:36 GMT):<br/>
Is it necessery to run initialize again after after commit ?
</p>
<p><strong>tongli</strong> (Thu, 12 Nov 2020 16:40:24 GMT):<br/>
@pkirkinezis no, you should not do that, but this is normally depends on your business logic. I normally do not use init method at all.
</p>
<p><strong>tongli</strong> (Thu, 12 Nov 2020 16:40:24 GMT):<br/>
@pkirkinezis no, you should not need to do that, but this is normally depends on your business logic. I normally do not use init method at all.
</p>
<p><strong>pkirkinezis</strong> (Fri, 13 Nov 2020 07:11:19 GMT):<br/>
Xm there is a reason to reinitialize if your couchdb document structs that you have in your chaincode have changed . But in this situation initializaton command has to use all the chaincode_endorsers to reinitialize the chaincode
</p>
<p><strong>ericmvaughn</strong> (Fri, 13 Nov 2020 19:01:41 GMT):<br/>
@tongli I just submitted an issue and a PR to fix it.  Let me know if you'd liked to see changes to it.
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:02:37 GMT):<br/>
looking
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:02:45 GMT):<br/>
@ericmvaughn ^^^
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:04:21 GMT):<br/>
@ericmvaughn so the original will skip the peer element when no peers, the changes will provide an empty list, is that the intent of the PR?
</p>
<p><strong>ericmvaughn</strong> (Fri, 13 Nov 2020 19:06:02 GMT):<br/>
The original would put in a single line with just '"peer":' which I think equates to peer = null which the SDK chokes on
</p>
<p><strong>ericmvaughn</strong> (Fri, 13 Nov 2020 19:06:50 GMT):<br/>
The change will be to create an empty array instead of null
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:06:57 GMT):<br/>
oh. ok. I see.
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:07:09 GMT):<br/>
@ericmvaughn thanks for your contribution, I have approved it.
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:07:26 GMT):<br/>
once it pass all the tests which I do not see reason why it would not, I will merge it.
</p>
<p><strong>ericmvaughn</strong> (Fri, 13 Nov 2020 19:07:52 GMT):<br/>
OK great, thanks for taking a look at it right away
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:07:56 GMT):<br/>
actually it just passed all the test, merged.
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:08:16 GMT):<br/>
the latest image should become available in about 20 minutes.
</p>
<p><strong>ericmvaughn</strong> (Fri, 13 Nov 2020 19:08:39 GMT):<br/>
alright thanks
</p>
<p><strong>tongli</strong> (Fri, 13 Nov 2020 19:09:12 GMT):<br/>
@ericmvaughn sure thing.
</p>
<p><strong>rjones</strong> (Fri, 13 Nov 2020 20:46:32 GMT):<br/>
@tongli if you add a merge label, once tests pass, mergify bot will merge for you (so you don't have to wait)
</p>
<p><strong>ericmvaughn</strong> (Fri, 13 Nov 2020 22:01:07 GMT):<br/>
@tongli The change I just made doesn't appear to be in the latest minifab on dockerhub.
</p>
<p><strong>rjones</strong> (Fri, 13 Nov 2020 23:40:08 GMT):<br/>
@ericmvaughn https://hub.docker.com/repository/docker/hyperledgerlabs/minifab shows the last publication was 4 hours ago
</p>
<p><strong>rjones</strong> (Fri, 13 Nov 2020 23:40:47 GMT):<br/>
[at this commit](https://github.com/hyperledger-labs/minifabric/tree/cf1d63cf051ca4bd6d525b3250b5ebc34b5e17da)
</p>
<p><strong>rjones</strong> (Fri, 13 Nov 2020 23:41:50 GMT):<br/>
https://hub.docker.com/repository/registry-1.docker.io/hyperledgerlabs/minifab/builds/df4e98b2-e0b2-4c3f-977a-18f9b66ebfa8 logs here
</p>
<p><strong>ericmvaughn</strong> (Fri, 13 Nov 2020 23:42:53 GMT):<br/>
That's the commit but when I went into a container build with the new image I didn's see the changes
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:03:24 GMT):<br/>
@rjones I deleted the image and pulled it again but I still don't see the changes
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:13:31 GMT):<br/>
The latest build should include it.
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:14:26 GMT):<br/>
I agree but unless I'm looking at it wrong I don't think it's there
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:14:50 GMT):<br/>
Do you have latest script as well?
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:15:04 GMT):<br/>
I mean minifab script?
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:15:11 GMT):<br/>
yes
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:15:43 GMT):<br/>
Hmmm. That is really weird. Probably build it locally first
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:16:11 GMT):<br/>
I will take a look later. Not in front of a computer 
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:16:21 GMT):<br/>
I did a `docker run -it hyperledgerlabs/minifab sh` to look at the file directly
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:16:53 GMT):<br/>
There's no rush for this on my end and it can wait until next week
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:17:12 GMT):<br/>
Hmm, unless docker hub has some issues
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:17:36 GMT):<br/>
Your pr has been merged
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:17:59 GMT):<br/>
I don't have authorization to look at the log file Ry pointed me to
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:18:20 GMT):<br/>
Docker Hub calls out the correct commit
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:18:59 GMT):<br/>
Can you do a minifab update ?
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:19:13 GMT):<br/>
 I mean just run that command
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:19:19 GMT):<br/>
I did that first
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:19:32 GMT):<br/>
Hmmm. Interesting 
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:19:52 GMT):<br/>
Then after seeing the problem I deleted the minifab image and did a fresh pull
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:20:03 GMT):<br/>
same results
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 00:55:09 GMT):<br/>
@ericmvaughn here is the log: https://gist.github.com/ryjones/700780bb7ea47f9cbf43b55aa0e575a7
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 00:57:41 GMT):<br/>
It looks like step 2 might be still pointing to the previos repo  `Step 2/11 : RUN cd /tmp && git init minifabric && cd minifabric && git remote add origin https://github.com/litong01/minifabric`
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:58:01 GMT):<br/>
wow.
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:58:03 GMT):<br/>
holy cow
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 00:58:08 GMT):<br/>
yikes
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:58:31 GMT):<br/>
yes. you are absolutely right.
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:58:44 GMT):<br/>
can you fix that?
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:58:58 GMT):<br/>
I will merge it, if I do a PR, it wont allow me to merge.
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 00:59:02 GMT):<br/>
how has anything every worked
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 00:59:02 GMT):<br/>
how has anything ever worked
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 00:59:17 GMT):<br/>
I'm doing it right now
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 00:59:19 GMT):<br/>
since I probably kept my repo in sync
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 01:02:03 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/122
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 01:14:01 GMT):<br/>
@rjones can not access github right now.
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 01:14:06 GMT):<br/>
can you get it merged?
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 01:14:33 GMT):<br/>
done
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 01:14:58 GMT):<br/>
thx @rjones
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 01:29:12 GMT):<br/>
@tongli @rjones The new build worked and has the latest change.  Thanks much
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 01:44:13 GMT):<br/>
@ericmvaughn @rjones awesome. thanks.
</p>
<p><strong>rjones</strong> (Sat, 14 Nov 2020 15:37:03 GMT):<br/>
@ericmvaughn thank you for pushing me, I looked at that log a dozen times and never noticed :)
</p>
<p><strong>tongli</strong> (Sat, 14 Nov 2020 17:47:22 GMT):<br/>
@rjones @ericmvaughn thanks, this is what the community all about, we contribute and we help each other to get better.
</p>
<p><strong>ericmvaughn</strong> (Sat, 14 Nov 2020 18:12:58 GMT):<br/>
I'm happy I was able to contribute and help out.
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 18:50:53 GMT):<br/>
@rjones when you have a minute please review this https://github.com/hyperledger-labs/minifabric/pull/123
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 18:51:17 GMT):<br/>
which is to improve the stats function a bit so that the command will always work regardless the network is up running or not.
</p>
<p><strong>pkirkinezis</strong> (Sun, 15 Nov 2020 21:29:24 GMT):<br/>
@tongli  https://github.com/hyperledger-labs/minifabric/pull/123 this works across server ?
</p>
<p><strong>pkirkinezis</strong> (Sun, 15 Nov 2020 21:30:55 GMT):<br/>
It works allogn side the discover command to check which nodes from other machines also are up and running ?
</p>
<p><strong>pkirkinezis</strong> (Sun, 15 Nov 2020 21:33:06 GMT):<br/>
As i review the code it seems to work sepcifically on the machine is rubnning to .
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 22:24:27 GMT):<br/>
It should work for the node which has access to any node. It is done based on the nodes which the running machine can see.
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 22:25:42 GMT):<br/>
Hmmm, I am not actually sure. It should only check for the nodes running on the machine which is doing the checking 
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 22:26:12 GMT):<br/>
Because it checks nodes in the docker network.
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 22:26:12 GMT):<br/>
Because it checks nodes on the docker network.
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 22:26:35 GMT):<br/>
Which is local.
</p>
<p><strong>tongli</strong> (Sun, 15 Nov 2020 22:27:27 GMT):<br/>
So I think it only checks the nodes local.
</p>
<p><strong>tongli</strong> (Mon, 16 Nov 2020 03:21:26 GMT):<br/>
@rjones thanks so much for review and merge the pr.
</p>
<p><strong>pkirkinezis</strong> (Mon, 16 Nov 2020 06:53:57 GMT):<br/>
Yeah it was clear the minute i saw the code .
</p>
<p><strong>gabrielodi</strong> (Mon, 16 Nov 2020 15:38:18 GMT):<br/>
I just wanted to congratulate and thank you all for the amazing work you do. I understand half of the things said here, I am from another field (mechanical engineering) and I am using hyperledger fabric in my PhD. I appreciate all your work here and I am always tuned reading what is happening here and on the github. I am not able to commit anything and help with the development (at least not yet), but I would like to thank you all, specially tongli. Great work, guys!
</p>
<p><strong>tongli</strong> (Tue, 17 Nov 2020 00:50:16 GMT):<br/>
@gabrielodi thank you. Happy to produce things that is useful to others.
</p>
<p><strong>tongli</strong> (Tue, 17 Nov 2020 13:03:19 GMT):<br/>
@mvkillu thanks for your PR, but I think you missed your PR signoff
</p>
<p><strong>tongli</strong> (Tue, 17 Nov 2020 13:03:43 GMT):<br/>
to get it going again, please do the following against your own forked repo.
</p>
<p><strong>tongli</strong> (Tue, 17 Nov 2020 13:03:58 GMT):<br/>
```git commit --amend --signoff```
</p>
<p><strong>tongli</strong> (Tue, 17 Nov 2020 13:04:12 GMT):<br/>
```git push --force-with-lease origin master```
</p>
<p><strong>tongli</strong> (Tue, 17 Nov 2020 13:04:32 GMT):<br/>
please do the above two steps, then the PR can be merged.
</p>
<p><strong>rjones</strong> (Tue, 17 Nov 2020 15:04:54 GMT):<br/>
yeah I messed that up, please approve 125 @tongli
</p>
<p><strong>tongli</strong> (Tue, 17 Nov 2020 15:06:31 GMT):<br/>
@rjones approved. thanks.
</p>
<p><strong>tongli</strong> (Wed, 18 Nov 2020 21:14:05 GMT):<br/>
@rjones added release 2.3 to the pipeline for testing. please see this PR. https://github.com/hyperledger-labs/minifabric/pull/126
</p>
<p><strong>tongli</strong> (Wed, 18 Nov 2020 21:15:36 GMT):<br/>
this will be in addition to the tests that we have already run. So now we run against 1.4.1, 1.4.6, 1.4.8, 2.0.0, 2.1.0, 2.2.0 and 2.3
</p>
<p><strong>tongli</strong> (Wed, 18 Nov 2020 21:15:52 GMT):<br/>
2.3 being the latest.
</p>
<p><strong>pkirkinezis</strong> (Thu, 19 Nov 2020 09:28:25 GMT):<br/>
I would love to know how asuze pipelines work ? And what practically means updating to 2.3 ?
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 12:16:47 GMT):<br/>
Added to azure pipeline so that each of our build will run against many different fabric releases. We have been testing against fabric releases listed above for every PR.
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 12:17:25 GMT):<br/>
So that we confident that mini fabric continues to support fabric releases since 1.4.1
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 12:19:02 GMT):<br/>
Take a look at changes made in the last PR and where the changes happened. Then you can start looking up on internet how azure pipeline works.
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 16:24:32 GMT):<br/>
@rjones Continued to improve minifabric and making use of it easy. I added this PR , please review . https://github.com/hyperledger-labs/minifabric/pull/127
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 16:24:47 GMT):<br/>
```connection files have been using referenced certs in the past
for golang connection profile, it is not very convinient since
there will be many files to be moved with connection files.
This PR fixed that issue so that all certs will come with
the connection file. Also added example using wallet.```
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 17:51:03 GMT):<br/>
@rjones Thanks a lot for approving the PR.
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 18:30:18 GMT):<br/>
@rjones @gabrielodi @ericmvaughn another PR to make the default fabric release to be 2.3.0, here it is https://github.com/hyperledger-labs/minifabric/pull/128
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 18:30:21 GMT):<br/>
Thanks
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 18:30:49 GMT):<br/>
grand total of one character change in the PR.
</p>
<p><strong>tongli</strong> (Thu, 19 Nov 2020 19:44:13 GMT):<br/>
Thanks @rjones
</p>
<p><strong>ericmvaughn</strong> (Thu, 19 Nov 2020 20:32:18 GMT):<br/>
@tongli I just gave the new build a try and it used Fabric 2.3.0 without any issue.  Which brought up a thought, should we add the 2.3.0 release to the azure test list?
</p>
<p><strong>pkirkinezis</strong> (Fri, 20 Nov 2020 07:52:55 GMT):<br/>
One big change for me in the new 2.3.0 is the deprecation of System Channel
</p>
<p><strong>pkirkinezis</strong> (Fri, 20 Nov 2020 07:53:59 GMT):<br/>
I have to familirize my self with the changelog . Its not time to break the functionality of my concept in the middle of the demo period .
</p>
<p><strong>tongli</strong> (Fri, 20 Nov 2020 11:35:30 GMT):<br/>
@ericmvaughn already added 2.3.0 as part of the pipeline test. Please see the latest build.
</p>
<p><strong>ericmvaughn</strong> (Fri, 20 Nov 2020 13:55:43 GMT):<br/>
I see it now, sorry I missed it. 
</p>
<p><strong>tongli</strong> (Sat, 21 Nov 2020 00:32:52 GMT):<br/>
@ericmvaughn not a problem at all.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:10:05 GMT):<br/>
@rjones new PR to improve the update command to show extra information such as minifabric image id and created at date and time so that when we do update we know where we are at. https://github.com/hyperledger-labs/minifabric/pull/130
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:10:13 GMT):<br/>
Thanks.
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 14:43:52 GMT):<br/>
For the leatest pr . Do you think is a good idea to somehow give the user the option to choose what version of minifabric docker want to use ?
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:44:19 GMT):<br/>
actually I already took that back.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:44:23 GMT):<br/>
working on this new one.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:44:36 GMT):<br/>
I wanted to add to the stats command instead of the update command.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:44:49 GMT):<br/>
sometimes, the user may not want to update.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:45:09 GMT):<br/>
so stats command is no harm.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:45:19 GMT):<br/>
you can do `minifab stats` first,
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 14:45:39 GMT):<br/>
Yeah . Yeah this will give us the flexibility to do major changes without affecting someone who already deployed a project
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:46:23 GMT):<br/>
right.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:46:45 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/131
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:46:56 GMT):<br/>
this is the new one, you can take a look.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:48:47 GMT):<br/>
@rjones I submitted a PR but then later changed my mind on which command this should go with, I decided that `minifab stats` is a better home than `minifab update` since user may not want to update minifabric in some cases. `minifab stats` is a no harm command and can be run any time.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:49:13 GMT):<br/>
so I've put up a new PR. https://github.com/hyperledger-labs/minifabric/pull/131, please take a look when you have time.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:49:41 GMT):<br/>
@pkirkinezis if you are good with this PR, approve, so that we can merge it.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:49:59 GMT):<br/>
I believe that you have permission to approve a PR.
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 14:50:17 GMT):<br/>
i think yes
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:50:40 GMT):<br/>
right, please approve if you think this is a good one after all checks are done.
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 14:51:15 GMT):<br/>
yeah i think it's ok . I approved it but it says owner review required
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 14:51:17 GMT):<br/>
xm
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:52:42 GMT):<br/>
need all the tests to go through.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:53:14 GMT):<br/>
we run azure pipeline tests whenever there is a PR to ensure everything works against all selected fabric releases. so it will take awhile.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 14:53:29 GMT):<br/>
but I think all tests will pass.
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 15:18:44 GMT):<br/>
yeah . Another topic is the Anchor peers . Many people seem to miss the anchor peer importance while running their projects . Anchor peers are very important especialy when dealing with SDK . If the anchor peers are not setup and you try to invoke the chaincode throuth SDK it will return endorsement failure.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 15:51:59 GMT):<br/>
@pkirkinezis that is not true. That only happens when you use some connection options which requires anchor nodes. Not all options require that.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 15:52:11 GMT):<br/>
there are so many different ways making a connection.
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 16:25:49 GMT):<br/>
Sorry my bad explanation  . In multi server configuration how to you get endorsement for a invoke ? You have run invoke including all of th endorsing peers
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 16:28:19 GMT):<br/>
If your nodes are not discoverable  , then you have to manually set them in the config file you use for the SDK.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 16:43:32 GMT):<br/>
Right. You can always specify which node you want to send your endorsement request too. This is a must have function as for private data collection, you never want to send endorsement to a peer which you do not trust.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 16:44:00 GMT):<br/>
Or that peer is not part of the private data collection.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 16:44:28 GMT):<br/>
As I said that you will need to figure out how to do that in each ask.
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 16:44:34 GMT):<br/>
Each sdk
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 18:03:21 GMT):<br/>
Yeah that why i am telling that this is not clear to everyone using minifabriv
</p>
<p><strong>pkirkinezis</strong> (Sun, 22 Nov 2020 18:03:25 GMT):<br/>
minifabric
</p>
<p><strong>tongli</strong> (Sun, 22 Nov 2020 22:41:31 GMT):<br/>
This has nothing to do with mini fabric 
</p>
<p><strong>tongli</strong> (Mon, 23 Nov 2020 16:10:39 GMT):<br/>
@rjones can you take a look at this pr https://github.com/hyperledger-labs/minifabric/pull/131
</p>
<p><strong>tongli</strong> (Mon, 23 Nov 2020 16:10:41 GMT):<br/>
Thanks
</p>
<p><strong>tongli</strong> (Mon, 23 Nov 2020 19:32:04 GMT):<br/>
@rjones thanks for merging the PR.
</p>
<p><strong>tongli</strong> (Mon, 23 Nov 2020 21:26:53 GMT):<br/>
we've added quite few features last couple of weeks, all these changes are to make things easier for users, For example, you can run `minifab stats` any time to see the current network status including your Minifabric image created at date and time, also percentage of your network running. if all your nodes are running healthy, then your status will be 100%, if no node is running healthy, then your status will be 0%. etc.
</p>
<p><strong>tongli</strong> (Mon, 23 Nov 2020 21:29:00 GMT):<br/>
we've also improved the go connection json and yaml files so that certificates are now all embedded in the connection file, this is to easy the reference path issues when one only copy connection profile but did not point the application to the right path to reference certificates, including all the certificates in the connection file will basically remove that issue. All you need to do is to get the connection profile.
</p>
<p><strong>tongli</strong> (Mon, 23 Nov 2020 21:30:33 GMT):<br/>
I've also added new go sample code in app/go/main.go file so that you can see how the connection profile gets used using user id and wallets. I have no added event listener sample there yet, but if someone would like to contribute, you can certainly submit a PR to include golang samples doing event listening.
</p>
<p><strong>tongli</strong> (Mon, 23 Nov 2020 21:33:17 GMT):<br/>
Thanks for using and contributing to Minifabric, and also thanks for encouraging others to try Minifabric. If this has been a tool helped you learning, developing and deploying Fabric, please spread the words to others, so more people can benefit from it. Thanks and have a happy Thanksgiving.
</p>
<p><strong>mvkillu</strong> (Tue, 24 Nov 2020 03:08:50 GMT):<br/>
Happy Thanksgiving @tongli @rjones and all other Minifab users here...
</p>
<p><strong>ayeshperera</strong> (Tue, 24 Nov 2020 23:34:21 GMT):<br/>
Hi All 
I  am facing problem when I have more than one contract in the chain code when invoking the  contract methods.
Is there specific way in minifab to invoke methods when there are more than one contract in the chaincode

In fabric it says you have to get the contract from the network like below and then you can invoke the 2nd contract methods.
network.getContract('fabcar', 'NewContract1');

I am not sure how to invoke like this in minifabric any idea ?
</p>
<p><strong>ayeshperera</strong> (Tue, 24 Nov 2020 23:34:21 GMT):<br/>
Hi All 
I  am facing problem when I have more than one contract in the chain code when invoking the  contract methods.
Is there specific way in minifab to invoke methods when there are more than one contract in the chaincode?

In fabric it says you have to get the contract from the network like below and then you can invoke the 2nd contract methods.
network.getContract('fabcar', 'NewContract1');

I am not sure how to invoke like this in minifabric any idea ?
</p>
<p><strong>ayeshperera</strong> (Tue, 24 Nov 2020 23:36:21 GMT):<br/>
In the logs I can see the 2nd contract getting deployed but am note sure how to invoke through minifabric cli
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 00:57:07 GMT):<br/>
@ayeshperera hmmm, I think that you may have confused by contract and methods. 
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 00:58:03 GMT):<br/>
It seems to me in your example, your chain code is “fabcar”, method is “NewContract1”,
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 00:58:55 GMT):<br/>
What seems to be confusing is that the method name is called “NewContract1”, though it is not really a contract(chaincode).
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 00:59:59 GMT):<br/>
You can use any method name in place of “NewContract1” to invoke that method , of course parameters will be different as well.
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:03:56 GMT):<br/>
Hi @tongli  hm nope I just pointed out just an example 
so fabcar is the chaincode name and the newcontract1 is the contract name not a method inovication
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:04:52 GMT):<br/>
and below are my 2 contracts which I try to deploy and invoke
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:05:08 GMT):<br/>
https://github.com/nimble-platform/logistic-contract/blob/master/src/lib/contracts/identity.ts
https://github.com/nimble-platform/logistic-contract/blob/master/src/lib/contracts/logistic.ts
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:07:30 GMT):<br/>
I was trying to find out and got to know from fabric-client I can perform like in the answer below
https://stackoverflow.com/questions/48334334/multiple-smart-contracts-in-hyperledger-fabric
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:07:50 GMT):<br/>
so I was checking is it possible from minifabric
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 01:16:33 GMT):<br/>
You have two contracts, you should install them as such. 
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:17:24 GMT):<br/>
hm in fabric chaincode we can include more than one contract ?
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 01:17:33 GMT):<br/>
In theory, they have nothing to do with each other
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:17:50 GMT):<br/>
yeah later on I will cross talk from one to another
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 01:17:52 GMT):<br/>
Not that I know of
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 01:18:07 GMT):<br/>
That is their logic relationship
</p>
<p><strong>tongli</strong> (Wed, 25 Nov 2020 01:18:28 GMT):<br/>
As fas as fabric is concerned, they are two separate contracts
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 01:20:31 GMT):<br/>
oh ok
</p>
<p><strong>ayeshperera</strong> (Wed, 25 Nov 2020 18:07:41 GMT):<br/>
Hi tongli
I actually went further more and tried out deploying both contracts in the same chaincode
from fabric client I was been able to access both
const contract = await network.getContract(chaincodeName, "org.nimble.supplychain_network.identity");
this is one contract in my chancode
const contract = await network.getContract(chaincodeName,"org.nimble.supplychain_network.logistic");
this is the other contract
I have a function in both smart contract to test the endpoints
I was been able to invoke the endpoints and get results
wdyt ?
</p>
<p><strong>zhenbing</strong> (Thu, 26 Nov 2020 09:44:11 GMT):<br/>
@tongli It seem I fell into a trap like something caching... Yesterday I git pull 2.3 and cleanup and I always fall into 2.2 even I remove minifab docker image. Today I try to submit a PR to fix apprun GOPROXY, but... whenever I add line to apprun_go.j2 or add a -e directly in apply.yaml, nothing happening...
</p>
<p><strong>zhenbing</strong> (Thu, 26 Nov 2020 09:51:19 GMT):<br/>

<br/><a href="./assets/t8mp43WKnx92C6jsp-Clipboard - November 26, 2020 5:50 PM">Clipboard - November 26, 2020 5:50 PM</a>
</p>
<p><strong>zhenbing</strong> (Thu, 26 Nov 2020 09:52:48 GMT):<br/>

<br/><a href="./assets/pBRv93uZbHKTkBYZJ-Clipboard - November 26, 2020 5:52 PM">Clipboard - November 26, 2020 5:52 PM</a>
</p>
<p><strong>tongli</strong> (Thu, 26 Nov 2020 13:08:42 GMT):<br/>
@zhenbing you probably did not build local mini fabric image?
</p>
<p><strong>tongli</strong> (Thu, 26 Nov 2020 13:10:08 GMT):<br/>
Also, do minifab cleanup should clean up everything
</p>
<p><strong>zhenbing</strong> (Thu, 26 Nov 2020 13:10:50 GMT):<br/>
Yes:innocent:
</p>
<p><strong>zhenbing</strong> (Thu, 26 Nov 2020 16:33:02 GMT):<br/>
@tongli azp test have passed. pls review and merge, thanks.
</p>
<p><strong>tongli</strong> (Thu, 26 Nov 2020 16:40:33 GMT):<br/>
@zhenbing thanks for your contribution, I have done that, there is a small issue , please amend your PR according to the comment
</p>
<p><strong>zhenbing</strong> (Thu, 26 Nov 2020 16:41:00 GMT):<br/>
okay
</p>
<p><strong>tongli</strong> (Thu, 26 Nov 2020 23:57:55 GMT):<br/>
@zhenbing merged and thanks for your contribution 
</p>
<p><strong>pkirkinezis</strong> (Mon, 30 Nov 2020 07:22:55 GMT):<br/>
Hi i was unable to connect ot the chat for the past few days . I was trying to log in but was getting and error . Then i reseted the password of my linux foundation acount with no luck . Today without changing anything I finaly managed to log in to the chat . Maybe was a fault with linux foundation update iI don'y know.
</p>
<p><strong>tongli</strong> (Wed, 09 Dec 2020 16:50:20 GMT):<br/>
@rjones Ry, can you please take a look at this PR https://github.com/hyperledger-labs/minifabric/pull/137
</p>
<p><strong>tongli</strong> (Wed, 09 Dec 2020 16:52:42 GMT):<br/>
this is to allow couchdb ports to be exposed. This has been asked few times before, I did not have time to add the feature, now one can simply connect to a couchdb instance using Fauxton UI to inspect the database.
</p>
<p><strong>tongli</strong> (Wed, 09 Dec 2020 16:53:01 GMT):<br/>
Thanks @rjones
</p>
<p><strong>tongli</strong> (Wed, 09 Dec 2020 19:40:46 GMT):<br/>
Thanks @rjones
</p>
<p><strong>gabrielodi</strong> (Thu, 10 Dec 2020 12:46:06 GMT):<br/>
"this is to allow couchdb ports to be exposed"
the ports from the docker where we have the couchdb installed?
Oh, this is amazing! I was indeed looking for something like that!! this is great
</p>
<p><strong>gabrielodi</strong> (Thu, 10 Dec 2020 12:47:06 GMT):<br/>
so I can run fabric in a machine, with all dockers set, and access it through from outside my network?
</p>
<p><strong>gabrielodi</strong> (Thu, 10 Dec 2020 12:52:19 GMT):<br/>
then one question, it exposes couchdb port for queries... ok... noob question, but -> is there an easy way to expose docker ports for ordering nodes? Is it already implemented?
</p>
<p><strong>gabrielodi</strong> (Thu, 10 Dec 2020 12:54:16 GMT):<br/>
just to explain why I ask: I am developing a conceptual solution for my PhD and I plan to keep it simple at fabric level. By that I mean: I want to deploy the ledger in an easy way (minifab is amazing) and don't want to think about networks, nodes connections, etc. Everything working in dockers is fine for me.

BUT I would like to send invokes and queries from outside my network.
I understand that exposing docker port for couchdb solves part of my issue, but am I able to invoke from outside?

thank you very much in advance
</p>
<p><strong>pkirkinezis</strong> (Thu, 10 Dec 2020 17:57:58 GMT):<br/>
@gabrielodi  the orderer ports are exposes because vuia which way the peers would comunicate with orderers in a multi server project
</p>
<p><strong>pkirkinezis</strong> (Thu, 10 Dec 2020 17:59:27 GMT):<br/>
For queries and invokes i would suggest implementing and API to a language of your preference . I personally worked with JAVA hyperledger gateway API
</p>
<p><strong>pkirkinezis</strong> (Thu, 10 Dec 2020 18:02:10 GMT):<br/>
You simple get the keys produced by minifabric + connection profile produced .
</p>
<p><strong>pkirkinezis</strong> (Thu, 10 Dec 2020 18:02:43 GMT):<br/>
Minifabric is just hyperledger fabric . So any SDK would do from hyperledger documentation . Please have a look https://github.com/hyperledger/fabric-gateway-java
</p>
<p><strong>tongli</strong> (Thu, 10 Dec 2020 18:40:03 GMT):<br/>
@gabrielodi please take a look at documents in the repo docs directory. To do what you asked is very simple in minifabric, even if you want to see how to develop an app, there are examples packaged in minifabric, you can look at apps/go directory and get a feel about writing an app using golang, if you prefer other languages, then use other sdks but the concept/logic stays the same. Then you can try to run minifab apprun command to see things actually working.
</p>
<p><strong>tongli</strong> (Thu, 10 Dec 2020 18:40:41 GMT):<br/>
Expose ports to the outside of your machine simply use -e true flag.
</p>
<p><strong>gabrielodi</strong> (Thu, 10 Dec 2020 23:14:42 GMT):<br/>
possibly I have missed about it then
thank you for the answers and patience! (y)
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 05:36:53 GMT):<br/>
Hello guys... I have performed some test in the past days and I have some questions, if I may
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 05:42:44 GMT):<br/>
1) Once I ran 'minifab apprun -l go' and "minifab apprun", I see no output or return in terminal. I see the standard output from minifab and in the end " Application in go completed successfully". But there was nothing from the chaincode on the output.
Other than that, the go-app seems only to run the "useWalletGateway()" function, but no interaction with the chaincode itself.
There are other functions in the app, but how to use them? I couldn't "minifab apprun doEnroll" for instance.
Sorry, but this is really not clear for me how to work with apprun. 
If you could explain better to me, I can even commit my time to try to enhance the minifab docs in a more clear way for incoming new people.
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 05:46:07 GMT):<br/>
2) even opening the ports (minifab up -e) I can't see them when I run 'docker port <container>'. Is "-e" really working? Should I specify which port (ex 7051) I would like to open?
But ok, this is exposing the port, is it also published?
And how could I check it? I tried to access http://<my-ip>:7051/healthz or 8051/healthz, but I have no success.
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 05:52:22 GMT):<br/>
3) how is "-f" supposed to work? Haven't found it in documentation. If you explain to me, I also compromise to include it in docs
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 05:57:55 GMT):<br/>
4) following your recommendation, I studied fabric-sdk-go and also the example on apps/go. Other than that, the fabric documentation also includes a lot of material on that - quite heavy in fact, I couldn't understand everything yet.
Anyway, will I be able to have an app running outside (for instance, in my case, in Heroku) talking to the deployed fabric in AWS, for instance?
If I understood well, exposing (-e) will allow me to send the invokes through the app running in heroku, for instance?
And the IP/ports my app will access will be defined in connection.json for instance? In minifab, the best way to do it is running the apprun -l go once and then I have the .json generated, just for me to replace the ip and port, then?
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 05:58:45 GMT):<br/>
thank you very much and sorry for the pack of questions... I am really pushing myself here, but it is starting to get more complex than I thought and I think I could use some help from experts...
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 05:58:52 GMT):<br/>
thank you very much in advance
</p>
<p><strong>tongli</strong> (Mon, 14 Dec 2020 17:19:33 GMT):<br/>
@gabrielodi if the IP address of your machine on aws is accessible outside, you can certainly do that. If you think minifabric is complex, wait until you see fabric without minifabric.
</p>
<p><strong>tongli</strong> (Mon, 14 Dec 2020 17:20:48 GMT):<br/>
Connection files get created regardless you use them or not. Command to generate connection files is profilegen
</p>
<p><strong>tongli</strong> (Mon, 14 Dec 2020 17:21:03 GMT):<br/>
Please also read the docs in docs directory
</p>
<p><strong>tongli</strong> (Mon, 14 Dec 2020 17:21:39 GMT):<br/>
And run minifab command without any parameter to see all available commands
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 17:35:11 GMT):<br/>
" If you think minifabric is complex, wait until you see fabric without minifabric."
Ah yes, I know that. I tried to use plain fabric before knowing minifabric. It is awesome.
Complex for me now is the process of app integration, which I know is not a minifabric issue!
</p>
<p><strong>gabrielodi</strong> (Mon, 14 Dec 2020 17:36:27 GMT):<br/>
yes, I am reading the documentation, thank you
</p>
<p><strong>gabrielodi</strong> (Tue, 15 Dec 2020 05:28:21 GMT):<br/>
I am trying to migrate to AWS (I was running locally), but for some reason I get this error:

# Run the channel join script on cli container ****************
  non-zero return code
  2020-12-15 05:19:39.078 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  2020-12-15 05:19:39.089 UTC [cli.common] readBlock -> INFO 002 Received block: 0
  Error: error getting endorser client for channel: endorser client failed to connect to 10.0.0.96:7002: failed to cr
eate new connection: connection error: desc = "transport: error while dialing: dial tcp 10.0.0.96:7002: connect: conn
ection refused"

I am running "minifab up -s couchdb -e 7000"
And yes, I have tcp ports open for 7000-7020 and 8000-8020 for all ips... really dont understand what is going on. What could it be?
</p>
<p><strong>tongli</strong> (Tue, 15 Dec 2020 12:31:09 GMT):<br/>
@gabrielodi you probably want to check if aws vm has firewall enabled, if so, you probably want to see the docs in docs directory about centos and fedora as reference on how to open up the ports
</p>
<p><strong>gabrielodi</strong> (Tue, 15 Dec 2020 14:18:24 GMT):<br/>
I opened the ports, let me see the firewalls... I will check the docs on centos/fedora
Thank you
</p>
<p><strong>tongli</strong> (Tue, 15 Dec 2020 14:19:29 GMT):<br/>
@gabrielodi not a problem. happy to help out
</p>
<p><strong>said_shah</strong> (Tue, 15 Dec 2020 20:44:14 GMT):<br/>

<br/><a href="./assets/fgDmaQJtc4hSekJwZ-Clipboard - December 15, 2020 3:44 PM">Clipboard - December 15, 2020 3:44 PM</a>
</p>
<p><strong>said_shah</strong> (Tue, 15 Dec 2020 20:44:19 GMT):<br/>
Does anybody know why I would be getting this error, I have added the ip to my etc/hosts file, but I still keep getting this error, it's kind of driving me crazy :angry:
</p>
<p><strong>said_shah</strong> (Tue, 15 Dec 2020 20:44:25 GMT):<br/>

<br/><a href="./assets/YSHH8rRTteMPmgQNS-Clipboard - December 15, 2020 3:44 PM">Clipboard - December 15, 2020 3:44 PM</a>
</p>
<p><strong>said_shah</strong> (Tue, 15 Dec 2020 20:45:10 GMT):<br/>
I'm running minifab, VMWare, Ubuntu 20.04
</p>
<p><strong>tongli</strong> (Tue, 15 Dec 2020 22:26:30 GMT):<br/>
What command are you using?
</p>
<p><strong>tongli</strong> (Tue, 15 Dec 2020 22:26:52 GMT):<br/>
@said_shah ^^^
</p>
<p><strong>tongli</strong> (Tue, 15 Dec 2020 22:27:29 GMT):<br/>
It is kind hard to help you with very little information.
</p>
<p><strong>zhenbing</strong> (Wed, 16 Dec 2020 04:38:21 GMT):<br/>

<br/><a href="./assets/pmEa8HCntLSBvY83Q-Clipboard - December 16, 2020 11:13 AM">Clipboard - December 16, 2020 11:13 AM</a>
</p>
<p><strong>zhenbing</strong> (Wed, 16 Dec 2020 04:47:01 GMT):<br/>
@tongli I encounter an error with -o and -s option when create channel, I modified spec.ymal and pass a specified organization -o xxx.com, anything was wrong with me?
</p>
<p><strong>tongli</strong> (Wed, 16 Dec 2020 11:10:54 GMT):<br/>
Check your org names, peer org and orderer org cannot be the same
</p>
<p><strong>tongli</strong> (Wed, 16 Dec 2020 11:39:31 GMT):<br/>
@zhenbing ^^^
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 12:29:43 GMT):<br/>
@said_shah I am facing the same with latest fabric version... older versions no issues... but it happens only at "-s couchdb" from what I saw.
</p>
<p><strong>tongli</strong> (Wed, 16 Dec 2020 12:59:36 GMT):<br/>
@gabrielodi @said_shah can you both detail what exactly the issue is and how to recreate it and what system you were using? Without detailed info, it is extremely hard to help you. Only here or there pieces of information does not really help others trying to help you. 
</p>
<p><strong>tongli</strong> (Wed, 16 Dec 2020 13:01:33 GMT):<br/>
Also knowing that people out there trying to help you are completely out of kindness. If you provide more information, others may spend less time to give you a good solution.
</p>
<p><strong>tongli</strong> (Wed, 16 Dec 2020 13:04:21 GMT):<br/>
And can provide you solution also faster.
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:39:49 GMT):<br/>
sorry tonli, was just saying I got the exactly same thing... I couldn't access my other computer at that time
I have all info now:
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:40:14 GMT):<br/>

<br/><a href="./assets/guwu47g8ue4aHC7gh-Clipboard - 16 de Dezembro de 2020 às 11:40">Clipboard - 16 de Dezembro de 2020 às 11:40</a>
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:41:40 GMT):<br/>
after cleaning all my dockers and 'minifab cleanup':
minifab up -e 7000 -n samplecc -s couchdb
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:42:02 GMT):<br/>
then exactly same issue than @said_shah
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:42:15 GMT):<br/>
since I think it is due to -s couchdb, I will run without it and report back
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:44:43 GMT):<br/>
as we can see, both him and my issue occours just after channel join operation
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:45:00 GMT):<br/>
I am running in an AWS Linux 2, ports open, no firewall running
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:45:22 GMT):<br/>
AWS Linux 2 EC2*
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:47:05 GMT):<br/>
Confirmation: No issue when running without "-s couchdb"... I kept the other parameters ( minifab up -e 7000 -n samplecc  )
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 14:48:02 GMT):<br/>
I will now run with "-s couchdb" and without "-e 7000" and report back...
</p>
<p><strong>tongli</strong> (Wed, 16 Dec 2020 14:55:14 GMT):<br/>
@gabrielodi ok
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:10:02 GMT):<br/>
here it is
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:10:05 GMT):<br/>

<br/><a href="./assets/Q2MaHaMwBXRaGbKbR-Clipboard - 16 de Dezembro de 2020 às 12:10">Clipboard - 16 de Dezembro de 2020 às 12:10</a>
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:10:30 GMT):<br/>
all ports open, asking for -s couchdb, not asking -e ####
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:10:46 GMT):<br/>
not the same error as before
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:11:17 GMT):<br/>
but still ...
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:21:24 GMT):<br/>
not in the screenshot above, just realized now, and the following picture is just an example, but I could see that network status is not 100% when we got those errors... its ~37%
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:21:26 GMT):<br/>

<br/><a href="./assets/f28P4oTDNLyTXmwZL-Clipboard - 16 de Dezembro de 2020 às 12:21">Clipboard - 16 de Dezembro de 2020 às 12:21</a>
</p>
<p><strong>gabrielodi</strong> (Wed, 16 Dec 2020 15:21:45 GMT):<br/>
once I run again I will take a better look into the whole log
</p>
<p><strong>zhenbing</strong> (Thu, 17 Dec 2020 08:34:49 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=TKI4LIfudoYUOFI8F) Thanks. Where can I define peer org and orderer org? give me some clue pls:)
</p>
<p><strong>zhenbing</strong> (Thu, 17 Dec 2020 08:42:52 GMT):<br/>

<br/><a href="./assets/YigdC7ac8Rc2m62Wj-Clipboard - December 17, 2020 4:42 PM">Clipboard - December 17, 2020 4:42 PM</a>
</p>
<p><strong>zhenbing</strong> (Thu, 17 Dec 2020 08:42:58 GMT):<br/>
Here is my spec.yaml.
</p>
<p><strong>tongli</strong> (Thu, 17 Dec 2020 12:22:53 GMT):<br/>
@zhenbing, make sure that your orderer org name is not the same as any of the peer org name. Looks like your spec is ok.
</p>
<p><strong>tongli</strong> (Thu, 17 Dec 2020 12:26:14 GMT):<br/>
What env were you using ?
</p>
<p><strong>tongli</strong> (Thu, 17 Dec 2020 12:38:32 GMT):<br/>
@gabrielodi the error of 127.0.0.11:53 not found is interesting. That is default docker dns. I wonder if your docker was configured differently. The problem seems that cli node cannot find the peer node by its name. You probably can look at how your docker dns was setup. 
</p>
<p><strong>tongli</strong> (Thu, 17 Dec 2020 12:46:05 GMT):<br/>
If you are on Linux system, check your /etc/docker/daemon.json file to see if you have dns defined there which  points to other entries other than 127.0.0.11 which is where default docker dns runs on. There has to be some issues with your docker because container is trying to reach the dns server for resolving the peer names but it cannot reach the dns services. Therefore it can find the peer to do the work.
</p>
<p><strong>tongli</strong> (Thu, 17 Dec 2020 12:46:23 GMT):<br/>
I have not seen this kind of error before.
</p>
<p><strong>gabrielodi</strong> (Thu, 17 Dec 2020 14:49:12 GMT):<br/>
this is weird, since it was a brand new VM with docker installed directly from source... but I will try again
</p>
<p><strong>zhenbing</strong> (Thu, 17 Dec 2020 15:44:48 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=xCToatwiWv5QgZ7tv) I test on ubuntu 16(docker version 19) and macOS(docker 20) with go 1.15, try -i 1.4.4 and 2.3, all lost... I notice that Minifab Execution Context with default is prompt CURRENT_ORG=org0.example.com but with -o it will be xxx.com, no leading org, maybe there missing add org to -o parameter somewhere? Only my guess:grinning:
</p>
<p><strong>tongli</strong> (Thu, 17 Dec 2020 16:44:13 GMT):<br/>
I am not really if your docker version is newer enough. There is a requirement for docker to be 18.xx  ore newer
</p>
<p><strong>tongli</strong> (Thu, 17 Dec 2020 16:44:42 GMT):<br/>
Not sure if Ubuntu 16.04 has newer docker and also 16.04 is pretty old.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 03:33:09 GMT):<br/>
@gabrielodi @said_shah the cause of the error with couchdb was found. I am fixing it now. Should have a PR up soon.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 03:33:48 GMT):<br/>
The problem was that the couchdb is now secured. But the credential was not set correctly. That causes the peer won’t be able to talk to couchdb
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 03:56:00 GMT):<br/>
@zhenbing @gabrielodi @said_shah had this PR to fix the couchdb related issue. https://github.com/hyperledger-labs/minifabric/pull/138
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 03:56:15 GMT):<br/>
you can build it yourself to test or wait until it gets merged.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 03:56:57 GMT):<br/>
@rjones Ry, can you please take a look at this PR? this is to fix a bug recently introduced. https://github.com/hyperledger-labs/minifabric/pull/138
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 03:57:26 GMT):<br/>
@zhenbing not really sure if this fixed your issue though, your issue looks a bit differently.
</p>
<p><strong>zhenbing</strong> (Fri, 18 Dec 2020 04:03:46 GMT):<br/>
yes, it's working in ur environment? I'm wondering for I meet in two situations:blush: I'll investigating my channel create issue with a fresh install.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:04:42 GMT):<br/>
if you are not using the latest (without my PR 138), but without using couchdb, you should be fine.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:04:54 GMT):<br/>
the fix is really just a bug when using couchdb.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:04:54 GMT):<br/>
the fix is really just for fixing a bug when using couchdb.
</p>
<p><strong>zhenbing</strong> (Fri, 18 Dec 2020 04:05:20 GMT):<br/>
Okay, thanks, let me try~
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:05:42 GMT):<br/>
you will have to get the PR and build the minifab image yourself.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:05:52 GMT):<br/>
the PR has not been merged to the master yet.
</p>
<p><strong>zhenbing</strong> (Fri, 18 Dec 2020 04:06:29 GMT):<br/>
ok~
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 04:20:50 GMT):<br/>
@tongli all of the builds at AZP are dying at the generate cert step
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:21:14 GMT):<br/>
oh.
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 04:21:51 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/138/checks
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:23:36 GMT):<br/>
ah, I know what happened.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:24:02 GMT):<br/>
I think azure devops switched to 20.04 now.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:24:10 GMT):<br/>
which does not have ifconfig
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 04:24:12 GMT):<br/>
yes
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:24:18 GMT):<br/>
it is failing to get IP address.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:24:37 GMT):<br/>
therefore creating cert (SAN) failed.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:24:49 GMT):<br/>
need to install iptools.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:24:57 GMT):<br/>
was it iptools?
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:25:46 GMT):<br/>
net-tools
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 04:27:17 GMT):<br/>
`ip` is probably a better tool to use, no?
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:27:39 GMT):<br/>
right, but the problem is that it does not exist on mac.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:28:06 GMT):<br/>
we are using same thing for linux and mac. I really wanted to use ip command. but mac does not have one.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:34:17 GMT):<br/>
it is working now @rjones
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:34:27 GMT):<br/>
added command to install net-tools.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:35:06 GMT):<br/>
one could write a bit script to overcome this without install net-tools
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:35:14 GMT):<br/>
test if ip command exists or not.
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 04:36:49 GMT):<br/>
https://github.com/actions/virtual-environments/issues/1816
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:38:41 GMT):<br/>
right, we could switch back to 18.04 but I would like to use the newer system.
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 04:39:05 GMT):<br/>
no, I'm not suggesting moving back.
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 04:39:25 GMT):<br/>
I was just pointing out the rollout started a couple weeks ago
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 04:39:50 GMT):<br/>
right, I actually know but the issue just did not register to my brain.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 05:29:46 GMT):<br/>
@rjones did this PR as well. https://github.com/hyperledger-labs/minifabric/pull/139 this is to check if IP command exists, if it does, it will use ip command, otherwise, it will try ifconfig
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 05:30:06 GMT):<br/>
so this will satisfy both new, old ubuntu and os x.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 05:30:29 GMT):<br/>
I've also removed install net-tools from azure pipeline.
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 05:30:55 GMT):<br/>
I don't have a Mac to test on (I'm on an M1 Mac)
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 05:31:09 GMT):<br/>
if you like this approach, please approve, otherwise,we can leave it alone.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 05:36:09 GMT):<br/>
I've tested on mac os x, it worked fine.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 05:37:41 GMT):<br/>
I think we should have this PR merged so that people using 20.04 wont have to install net-tools.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 05:38:09 GMT):<br/>
also we are not installing net-tools on azure to test things.
</p>
<p><strong>rjones</strong> (Fri, 18 Dec 2020 06:01:12 GMT):<br/>
I merged it a while ago?
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 12:48:12 GMT):<br/>
Thanks Ry. I saw that after.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 12:48:18 GMT):<br/>
It is in now
</p>
<p><strong>said_shah</strong> (Fri, 18 Dec 2020 13:25:31 GMT):<br/>
@tongli @gabrielodi  The new update fixed my issue. Thank you.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 13:27:06 GMT):<br/>
@said_shah great. Happy to hear.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 13:28:13 GMT):<br/>
@said_shah curious why you use couchdb?
</p>
<p><strong>said_shah</strong> (Fri, 18 Dec 2020 13:32:02 GMT):<br/>
Well, to be honest, I don't have much experience in Hyperledger or Blockchain but from what I have read it provides better and easier interaction with data.
</p>
<p><strong>gabrielodi</strong> (Fri, 18 Dec 2020 15:01:27 GMT):<br/>
very good job everyone!
I will test it tonight!

I am using couchdb as an easy way for me to see changes in the ledger and I plan to use queries directly in couchdb, without dealing querying directly the ledger... I found it to be quicker, other than that, I can query it directly from client without submitting a request to app for quering and returning from ledger
</p>
<p><strong>gabrielodi</strong> (Fri, 18 Dec 2020 15:02:48 GMT):<br/>
I see in the code change that it is installing net-tools now? It wasn't before? Because I had to install net-tools in order to run ifconfig... it will do it automatically now then?
</p>
<p><strong>said_shah</strong> (Fri, 18 Dec 2020 15:14:30 GMT):<br/>
yea, I had to manually install net-tools before also
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 16:36:09 GMT):<br/>
@said_shah @gabrielodi the script used to use ifconfig to obtain IP address but ifconfig has been installed in latest Linux distros, instead ip command becomes available. So the latest script did a bit extra work to check if ip command is available, if it does, then use ip command otherwise fallback to ifconfig, I would have used ip command all alone but OS X and windows do not have these available.
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 16:37:31 GMT):<br/>
Latest changes fixed all the mess and will use ip if available, otherwise use ifconfig for OS X and ipconfig for windows
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 16:38:11 GMT):<br/>
Have tested on all@platforms and worked fine. Do minifab update to get both latest script and image
</p>
<p><strong>tongli</strong> (Fri, 18 Dec 2020 16:38:32 GMT):<br/>
Thanks for trying and have a great holiday season!
</p>
<p><strong>gabrielodi</strong> (Fri, 18 Dec 2020 20:04:53 GMT):<br/>
great, good, thanks tongli
</p>
<p><strong>said_shah</strong> (Tue, 22 Dec 2020 16:46:55 GMT):<br/>
@tongli When I run the profilegen, discover commands it generates the profiles but it generates the wallets with .id files and does not include the public and private keys is there a reason why it does not add the public and private keys for the wallets admins. I have added an image below
</p>
<p><strong>said_shah</strong> (Tue, 22 Dec 2020 16:46:57 GMT):<br/>

<br/><a href="./assets/4QAQW8Ngj9eNk5or4-Clipboard - December 22, 2020 11:46 AM">Clipboard - December 22, 2020 11:46 AM</a>
</p>
<p><strong>said_shah</strong> (Tue, 22 Dec 2020 16:49:34 GMT):<br/>
When I am watching your video on youtube it's showing a different structure for your profilegen command, I have added an image of this below
</p>
<p><strong>said_shah</strong> (Tue, 22 Dec 2020 16:49:38 GMT):<br/>

<br/><a href="./assets/iT5dcR9vua3kepx9w-Clipboard - December 22, 2020 11:49 AM">Clipboard - December 22, 2020 11:49 AM</a>
</p>
<p><strong>said_shah</strong> (Tue, 22 Dec 2020 16:50:23 GMT):<br/>
The reason for this is when I am following your video to connect throught the IBM extension for VS Code, I cannot connect since my files do not include the public and private keys
</p>
<p><strong>said_shah</strong> (Tue, 22 Dec 2020 17:05:53 GMT):<br/>
When I try to use the VSCode extension on another platform and select "Specify an existing file system wallet" I get an error stating that no identities were found in wallet. I have included an image below
</p>
<p><strong>said_shah</strong> (Tue, 22 Dec 2020 17:05:55 GMT):<br/>

<br/><a href="./assets/68FHovJGKNS7dGxZ7-Clipboard - December 22, 2020 12:05 PM">Clipboard - December 22, 2020 12:05 PM</a>
</p>
<p><strong>tongli</strong> (Wed, 23 Dec 2020 01:58:19 GMT):<br/>
The video is probably a bit of outdated. Certs are all in keyfiles directory.
</p>
<p><strong>tongli</strong> (Wed, 23 Dec 2020 01:59:14 GMT):<br/>
Admin.Id file follows the standard which is not supposed to include certs only admin’s private key and cert
</p>
<p><strong>tongli</strong> (Wed, 23 Dec 2020 02:00:01 GMT):<br/>
You probably can look at the connection profiles which have all the certs embedded 
</p>
<p><strong>tongli</strong> (Wed, 23 Dec 2020 02:00:38 GMT):<br/>
Normally you would use a connection profile and admin.id file to connect to fabric network using any of the available sdks
</p>
<p><strong>said_shah</strong> (Wed, 23 Dec 2020 16:27:32 GMT):<br/>
@tongli when you have time can you please make a youtube tutorial video on connecting minifab network with the IBM Blockchain VSCode extension, similar to the one you made before?
</p>
<p><strong>mvkillu</strong> (Thu, 31 Dec 2020 15:45:55 GMT):<br/>
A very happy new year guys !!!
</p>
<p><strong>mvkillu</strong> (Thu, 31 Dec 2020 15:47:18 GMT):<br/>
May this new year bring lot of achievements, joy and inspiration to Hyperledger Fabric and MiniFabric !!!!
</p>
<p><strong>tongli</strong> (Fri, 01 Jan 2021 00:30:32 GMT):<br/>
@mvkillu totally, very well said. Happy new year to everyone. May new year brings prosperity to both fabric and minifabric.
</p>
<p><strong>rjones</strong> (Fri, 01 Jan 2021 06:43:16 GMT):<br/>
https://youtu.be/U9b43PzBO7I
</p>
<p><strong>pkirkinezis</strong> (Tue, 05 Jan 2021 08:32:58 GMT):<br/>
Hi to everybody . Happy new year to anyone . Best wishes .
</p>
<p><strong>gabrielodi</strong> (Thu, 14 Jan 2021 17:46:39 GMT):<br/>
a little late, but happy new year everyone
</p>
<p><strong>mvkillu</strong> (Mon, 18 Jan 2021 14:36:37 GMT):<br/>
Is there some sample code online that uses minifabric, NodeJS for chaincode/app that I can refer to? Any github links other than fabric samples?
</p>
<p><strong>gabrielodi</strong> (Sat, 23 Jan 2021 01:00:02 GMT):<br/>
I dont know... I use only go
</p>
<p><strong>tongli</strong> (Mon, 25 Jan 2021 15:06:16 GMT):<br/>
@rjones good day Ry, since the branch now is called main instead of master, there will be changes required for some links for minifabric (suspect many other projects as well). But I also found that the links to master will still work at the moment. what is the right process to follow to accommendate this change? Thanks.
</p>
<p><strong>tongli</strong> (Mon, 25 Jan 2021 15:06:56 GMT):<br/>
for example, the two links point to the same file currently.
</p>
<p><strong>tongli</strong> (Mon, 25 Jan 2021 15:07:27 GMT):<br/>
```https://raw.githubusercontent.com/hyperledger-labs/minifabric/main/minifab```
</p>
<p><strong>tongli</strong> (Mon, 25 Jan 2021 15:07:37 GMT):<br/>
```https://raw.githubusercontent.com/hyperledger-labs/minifabric/master/minifab```
</p>
<p><strong>tongli</strong> (Mon, 25 Jan 2021 15:08:02 GMT):<br/>
looks like there is some kind of alias. but not sure if this will last.
</p>
<p><strong>rjones</strong> (Mon, 25 Jan 2021 18:06:01 GMT):<br/>
@tongli I renamed it back to master; we can fix this later
</p>
<p><strong>tongli</strong> (Mon, 25 Jan 2021 19:44:52 GMT):<br/>
@rjones ok. Thanks.
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 12:29:33 GMT):<br/>
Hi everyone. Quick question ... Has anyone ever deployed chaincode in Scala?
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 12:32:59 GMT):<br/>
We're build a event pipeline and would like to trigger chaincode, written in Scala, on a distributed Fabric network. I'm using Minifab to test out our chaincode, but I'm having trouble getting it deployed. Since I usually code in go, I was hoping any here might know something.
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 12:32:59 GMT):<br/>
We're building a event pipeline and would like to trigger chaincode, written in Scala, on a distributed Fabric network. I'm using Minifab to test out our chaincode, but I'm having trouble getting it deployed. Since I usually code in go, I was hoping any here might know something.
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 12:33:12 GMT):<br/>
Any help would be greatly appreciated.
</p>
<p><strong>tongli</strong> (Tue, 26 Jan 2021 13:14:46 GMT):<br/>
@skulos is your chaincode written in Scala or you like to invoke chaincode in scala? Even for an app trying to invoke chaincode Without a language sdk is a bit difficult. Do you have to use scala? Can Java work for you? If you plan to have a rather serious app but choose to depend on a path which has not been really tried and confirmed is a bit hard, I suspect you probably will encounter many challenges which may really impact your progress. My 2 cents.
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 13:28:31 GMT):<br/>
The chaincode is written in Scala. The Java SDK seems to be compatible with Scala. From an article I found, seems like I could do the networking of Fabric (like creating a CA and connect to channels) from the Java SDK. And I've gotten my hands on a library that wraps the Java SDK into a Scala lib. My problem is the building of Scala code. Since is is just `go build` or `go run`, I'm not sure how to get Scala (or Java for that matter) as a chaincode onto minifab. I'm also trying to use Gradle. Trying to closely follow the minifab Java example. Everything looks right, it's just the Gradle build fails. Having never worked with Gradle or Java ... Not sure what I'm in for.
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 13:28:43 GMT):<br/>
But thank you for the advice @tongli
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 13:29:29 GMT):<br/>
I just thought I'd ask.
</p>
<p><strong>skulos</strong> (Tue, 26 Jan 2021 14:27:34 GMT):<br/>
I can't seem to run `./minifab install -n simple -l java" either. Not sure if I'm messing up the environment, but the build fails too.
</p>
<p><strong>gabrielodi</strong> (Tue, 26 Jan 2021 22:42:14 GMT):<br/>
offtopic but I just wanted to share and thank some of you for all the help and work... I have just finished my solution in fabric, for sure using minifabric, for my master degree... it is working, with chaincode, app and connection to a webapp, everything working, the test phases will start now...

I owe you guys, thank you very much. I will include the minifab developers and github comitters in my thesis acknowledgements
</p>
<p><strong>tongli</strong> (Tue, 26 Jan 2021 23:26:16 GMT):<br/>
@gabrielodi very nice. Thanks
</p>
<p><strong>rjones</strong> (Wed, 27 Jan 2021 00:22:04 GMT):<br/>
@tongli supposedly the grpc-fuse issue was fixed in [3.0.4](https://github.com/docker/for-mac/issues/5124)
</p>
<p><strong>rjones</strong> (Wed, 27 Jan 2021 00:52:22 GMT):<br/>
@tongli https://github.com/hyperledger-labs/minifabric/issues/141#issuecomment-767931311
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 12:44:32 GMT):<br/>
@rjones awesome! Thanks
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 13:27:06 GMT):<br/>
I will give it a try myself today.
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 14:57:20 GMT):<br/>
@skulos The java simple chaincode needs a bit work in the build.gradle file. here is what needs to be changed.
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 14:57:28 GMT):<br/>
```plugins {
    id 'com.github.johnrengelman.shadow' version '5.1.0'
    id 'java'
}

group 'org.hyperledger.fabric-chaincode-java'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url "https://hyperledger.jfrog.io/hyperledger/fabric-maven"
    }
    maven {
        url 'https://jitpack.io'
    }
}

dependencies {
    compile group: 'org.hyperledger.fabric-chaincode-java', name: 'fabric-chaincode-shim', version: '1.+'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

shadowJar {
    baseName = 'chaincode'
    version = null
    classifier = null

    manifest {
        attributes 'Main-Class': 'org.hyperledger.fabric.example.SimpleChaincode'
    }
}```
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 14:58:33 GMT):<br/>
@skulos if you change the vars/chaincode/simple/java/build.gradle file to have the content like the above, you should be able to install the chaincode.
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 14:59:10 GMT):<br/>
the gradle file is really old and worked on fabric 1.4.x release and no longer working for fabric 2.x
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 14:59:46 GMT):<br/>
@skulos if possible, please do a PR with the changes.
</p>
<p><strong>rjones</strong> (Wed, 27 Jan 2021 19:50:56 GMT):<br/>
@tongli sorry to hear the new version of docker doesn't fix everything - I think it's strange it works for parts of the bring-up, but not all of them
</p>
<p><strong>tongli</strong> (Wed, 27 Jan 2021 19:51:23 GMT):<br/>
yeah. I think it is still the issue with volume.
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 15:35:32 GMT):<br/>
@rjones it is not too bad since this only affects OS X. Other platforms do not have this problem.
</p>
<p><strong>rjones</strong> (Thu, 28 Jan 2021 15:39:42 GMT):<br/>
I spent a lot of time last night trying to figure out a way to detect if Docker Desktop is using FUSE. No go.
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 15:40:18 GMT):<br/>
@rjones haha, yeah, do not really understand what that feature brings though.
</p>
<p><strong>rjones</strong> (Thu, 28 Jan 2021 15:40:35 GMT):<br/>
better iops
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 15:40:35 GMT):<br/>
it is not available on windows.
</p>
<p><strong>rjones</strong> (Thu, 28 Jan 2021 15:40:44 GMT):<br/>
I think it's default on Windows?
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 15:41:01 GMT):<br/>
hmmmm. it does not appear on windows docker desktop.
</p>
<p><strong>rjones</strong> (Thu, 28 Jan 2021 15:41:26 GMT):<br/>
what I mean is, I think it's baked in to the Windows. it isn't behind a feature flag
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 15:41:40 GMT):<br/>
oh. ok.
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 15:42:03 GMT):<br/>
in that case, minifabric worked totally fine on windows with that feature.
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 17:49:28 GMT):<br/>
please review this PR: https://github.com/hyperledger-labs/minifabric/pull/149
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 17:49:41 GMT):<br/>
this PR is to fix java chaincode downlevel dependencies.
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 17:50:10 GMT):<br/>
with this fix, you can install the default java chaincode coming with minifabric.
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 17:54:01 GMT):<br/>
@rjones please take a look at this fix for the default java chaincode. https://github.com/hyperledger-labs/minifabric/pull/149
</p>
<p><strong>tongli</strong> (Thu, 28 Jan 2021 18:28:08 GMT):<br/>
@rjones Thanks very much for reviewing and merging the PR.
</p>
<p><strong>barankilic</strong> (Sun, 31 Jan 2021 10:00:24 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>anil_helvaci</strong> (Sun, 31 Jan 2021 18:31:21 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cmhacker</strong> (Mon, 01 Feb 2021 03:47:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>skulos</strong> (Mon, 01 Feb 2021 07:44:15 GMT):<br/>
Good morning. I'm sorry. I've been on leave to write exams the since the 28th. @tongli  only reading your messages now.
</p>
<p><strong>anil_helvaci</strong> (Mon, 01 Feb 2021 12:40:15 GMT):<br/>
Hello everyone :wave: I am having trouble with updating the system channel. My goal is to define a new consortium and new channel profiles but I can't seem to achieve this by updating a network that is already up using "netup" command. So I pulled the source and changed the configtx.j2 file that is called in the "generating certificates" process. Built the docker image again and I was good to go. I was able to deploy chaincodes using IBM VsCode extension and also monitor the network using the "explorerup" command. Do you know if it is possible to first run the network with "netup" using the image from the docker hub and then make the changes in order to achieve the requested design for my case?
</p>
<p><strong>rjones</strong> (Mon, 01 Feb 2021 20:57:11 GMT):<br/>
@thiagooggioni better to ask in here
</p>
<p><strong>thiagooggioni</strong> (Mon, 01 Feb 2021 20:57:11 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>thiagooggioni</strong> (Mon, 01 Feb 2021 22:34:48 GMT):<br/>
Dear, good afternoon, running Minfabric, when trying to create the "coolchannel" channel, the following message is shown in the image below, even though I followed the tutorial, but at the end the file "./vars/coolchannel_config,json" was not generated. Can anybody help me?

ps .: I'm a beginner at Hyperlegder and I'm sorry if the question is too simple.
</p>
<p><strong>thiagooggioni</strong> (Mon, 01 Feb 2021 22:35:10 GMT):<br/>

<br/><a href="./assets/dxpnNuqcpM7dXBYsd-Clipboard - 1 de Fevereiro de 2021 às 19:35">Clipboard - 1 de Fevereiro de 2021 às 19:35</a>
</p>
<p><strong>pkirkinezis</strong> (Tue, 02 Feb 2021 09:05:12 GMT):<br/>
@rjones Is there a way to calculate the server need on hardware level to run one node ?
</p>
<p><strong>BlockCrasher</strong> (Tue, 02 Feb 2021 10:35:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Tue, 02 Feb 2021 15:02:25 GMT):<br/>
@pkirkinezis I would need to try to find out. I don't know - @tongli ?
</p>
<p><strong>pkirkinezis</strong> (Tue, 02 Feb 2021 15:22:50 GMT):<br/>
YEAH  some say that arduino is capable . We carently using 4gb and 4 cores byt i would oike to know how to calculate maybe the resources
</p>
<p><strong>thiagooggioni</strong> (Tue, 02 Feb 2021 17:58:11 GMT):<br/>
Dear, I can not explain the reason for the problems, however I restarted my V (M Hyper-V) and went up the network again and it worked normally.
</p>
<p><strong>thiagooggioni</strong> (Tue, 02 Feb 2021 18:01:17 GMT):<br/>
Dear, I can not explain the reason for the problems, however I restarted my V (M Hyper-V) and went up the network again and it worked normally.
</p>
<p><strong>thiagooggioni</strong> (Tue, 02 Feb 2021 18:04:38 GMT):<br/>
Dear, I can not explain the reason for the problems, however I restarted my V (M Hyper-V) and went up the network again and it worked normally.
</p>
<p><strong>anil_helvaci</strong> (Tue, 02 Feb 2021 18:09:59 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=RoxKyMwtaKWHeas9X) @rjones What do you think about this? How can I manage this? Any help would appreciated :pray:
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 19:07:22 GMT):<br/>
@anil_helvaci what can not be done with the existing consortium? Can’t you set up another one which is totally new? Why the new one has to be together with the default one?
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 19:07:53 GMT):<br/>
I do not think I follow what you are trying to do.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 19:10:33 GMT):<br/>
In 2.3 system channel is no longer required. I think that fabric is now trying to get rid of the system channel. Consortium will be playing very weak role if there is still any.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 19:11:38 GMT):<br/>
Try to use channels to archive what you were trying to do.
</p>
<p><strong>anil_helvaci</strong> (Tue, 02 Feb 2021 19:40:20 GMT):<br/>
In the docs it is stated that only the members of a consortium have rights over the channel configuration. Therefore, only the members of a consortium can add new organizations to a channel. In default consortium, every organization in the network is included so an organization which isn't in a channel A can add new organizations to channel A. I want only the certain organizations have rights over certain channels so I should be able to update configtx.yaml in order to define such consortia. @tongli
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 21:14:27 GMT):<br/>
@anil_helvaci you should be able to do that use channels.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 21:15:23 GMT):<br/>
Use channel update to specify policies.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 21:15:44 GMT):<br/>
It is very flexible.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 21:16:03 GMT):<br/>
Please look into channel policies and related docs.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 21:17:22 GMT):<br/>
Think fabric like a club, anyone wants to join, the existing members have a say about new membership.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 21:17:37 GMT):<br/>
That is endorsement policy.
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 21:18:49 GMT):<br/>
If someone does not like the club, then a new club can be created which could be completely separate from the old club. That is new cluster and new channel.
</p>
<p><strong>anil_helvaci</strong> (Tue, 02 Feb 2021 21:20:53 GMT):<br/>
Okay I will look into the docs you say. Thank you. But is it possible to define a new consortium after the network is already up?
</p>
<p><strong>thiagooggioni</strong> (Tue, 02 Feb 2021 22:13:47 GMT):<br/>
Hello everyone, another difficulty that I am not able to overcome. In the mini fabric when executing the
minifab invoke -p '"query", "a"' ', I'm getting the error below. I did a lot of research and did several tests and couldn't find a solution.

Error presented: "# Run the chaincode invoke script on cli container ************
  non-zero return code
  Error: endorsement failure during invoke. response: status: 500 message: "error in simulation: failed to execute transaction 06b180072bf999d57c61d6962b353a786c7532c112351cfa9f83b8e8d9789e39: invalid invocation: chaincode 'cmcc' has not been initialized for this version, must call as init first"
"
I watched the envsettings file with the parameter declare XX_CC_INIT_REQUIRED = 'true'. Is it related to the problem found?

I am running the CMCC chaincoda in the GO language and following the minifabric tutorial.

I appreciate anyone who can help me.

Below the print if more information is needed.

thank you
</p>
<p><strong>thiagooggioni</strong> (Tue, 02 Feb 2021 22:13:57 GMT):<br/>

<br/><a href="./assets/gJJMzEFbeZjsTW7A9-Clipboard - 2 de Fevereiro de 2021 às 19:13">Clipboard - 2 de Fevereiro de 2021 às 19:13</a>
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 23:26:05 GMT):<br/>
@thiagooggioni not sure what you did before that command. If you minifab up, you should be able to run that command. Also, that command only works for chaincode simple which comes with minifab. If you have been trying with other chaincode, the method will be different 
</p>
<p><strong>tongli</strong> (Tue, 02 Feb 2021 23:26:51 GMT):<br/>
No. You cannot.
</p>
<p><strong>CaptainIRS</strong> (Wed, 03 Feb 2021 06:39:18 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>pkirkinezis</strong> (Wed, 03 Feb 2021 09:48:17 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=qgzi4LpzmhknKJEsv) You have to initialize your chaincode . If you are using cmcc chaicode run something like "minifab initialize -p '"init"' " or whatever function cmcc needs to be initialized
</p>
<p><strong>thiagooggioni</strong> (Wed, 03 Feb 2021 19:24:39 GMT):<br/>
@tongli 
the Mini Fabric 2.3 version does not have the "mycc" chaincode used in the tutorial, so I am trying to run the "cmcc" chaincode that comes with that version. If possible, indicate where I get the "mycc" chaincode for me to perform tests I appreciate it.
</p>
<p><strong>tongli</strong> (Wed, 03 Feb 2021 19:28:01 GMT):<br/>
Are you trying to use that to join new orgs?
</p>
<p><strong>tongli</strong> (Wed, 03 Feb 2021 19:28:19 GMT):<br/>
If so, that has not been maintained for quite some time.
</p>
<p><strong>tongli</strong> (Wed, 03 Feb 2021 19:28:45 GMT):<br/>
I strongly suggest use the org join command instead.
</p>
<p><strong>thiagooggioni</strong> (Wed, 03 Feb 2021 22:22:18 GMT):<br/>
I'm just running the tutorials to learn how MiniFabric works, I'm running step by step without any changes.

I am a beginner in the subject and I am studying the tool.

Therefore, it is possible that my difficulties are due to lack of knowledge.

Thank you for your help
</p>
<p><strong>gabrielodi</strong> (Thu, 04 Feb 2021 01:36:55 GMT):<br/>
@thiagooggioni are you brazillian? PM me. I have just developed a chaincode in Go and maybe I could even support you, what do you think? This is not a minifabric issue, this is a chaincode or invocation issue.
</p>
<p><strong>lebdron</strong> (Fri, 05 Feb 2021 07:14:52 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>lebdron</strong> (Fri, 05 Feb 2021 07:50:13 GMT):<br/>
Hi! I would like to add a new orderer when doing "expand the network with a new org" scenario. Is there a recommended way to do this? Does it make sense to contribute a new command to minifab for this?
</p>
<p><strong>tongli</strong> (Fri, 05 Feb 2021 12:33:26 GMT):<br/>
@lebdron normally, you use update channel command to do that, but you are welcome to add a new command if that really makes things easy
</p>
<p><strong>lebdron</strong> (Fri, 05 Feb 2021 12:43:09 GMT):<br/>
@tongli Well, it seems nice to me to have all the changes regarding consenters configuration documented and automated.  I also assume that if I need a single orderer to participate in two deployments, system channel names should be different?
</p>
<p><strong>lebdron</strong> (Fri, 05 Feb 2021 12:44:52 GMT):<br/>
https://hyperledger-fabric.readthedocs.io/en/release-2.2/raft_configuration.html#reconfiguration seems to be quite a high-level overview
</p>
<p><strong>tongli</strong> (Fri, 05 Feb 2021 17:43:40 GMT):<br/>
There can be only one system channel. Not really sure what you mean about system channel names @lebdron 
</p>
<p><strong>lebdron</strong> (Fri, 05 Feb 2021 17:55:22 GMT):<br/>
Yes, I was mistaken. The problem I am facing now with a single system channel is that the node from the new organization with it's own CA cannot catch up the ledger from the organization it joins. Should I specify two root CAs in the new orderer container?
</p>
<p><strong>tongli</strong> (Fri, 05 Feb 2021 18:08:13 GMT):<br/>
That has nothing to do with number of ca nodes. Not being able to synchronize with existing nodes has no relation with ca nodes
</p>
<p><strong>thiagooggioni</strong> (Fri, 05 Feb 2021 18:09:12 GMT):<br/>
@gabrielodi , I'm Brazilian and I'm starting to study Hyperlegder, I started with Fabric and now I'm doing some tests with Minifabric. All help is important and I appreciate your availability. My biggest difficulty is in interpreting the errors that are presented when I execute some transaction (which can be an execution or configuration error).

I am still very inexperienced in the tool.
</p>
<p><strong>lebdron</strong> (Fri, 05 Feb 2021 18:12:05 GMT):<br/>
Understood. Somehow I was getting the error with "Certificate of unidentified node expires" on the node I added, so I thought that might be relevant. Would you recommend me to ask further questions regarding this process in another chatroom?
</p>
<p><strong>tongli</strong> (Fri, 05 Feb 2021 19:15:51 GMT):<br/>
I am not really sure what problems you have. I would think try the fabric channel may help.
</p>
<p><strong>thiagooggioni</strong> (Sat, 06 Feb 2021 00:27:52 GMT):<br/>
minifab invoke
</p>
<p><strong>tongli</strong> (Sat, 06 Feb 2021 13:50:37 GMT):<br/>
@rjones can you please review this one https://github.com/hyperledger-labs/minifabric/pull/156?
</p>
<p><strong>tongli</strong> (Sat, 06 Feb 2021 13:50:44 GMT):<br/>
thanks @rjones
</p>
<p><strong>rjones</strong> (Sun, 07 Feb 2021 06:55:23 GMT):<br/>
@tongli I [tested this on my local repo](https://github.com/ryjones/minifabric/actions/runs/544778373), it works: https://github.com/hyperledger-labs/minifabric/pull/159
</p>
<p><strong>rjones</strong> (Sun, 07 Feb 2021 19:32:05 GMT):<br/>
@tongli step two: https://github.com/hyperledger-labs/minifabric/pull/160 I've enabled checks for status on GHA.
</p>
<p><strong>rjones</strong> (Sun, 07 Feb 2021 19:36:14 GMT):<br/>
@AzizMestiri join us over here
</p>
<p><strong>AzizMestiri</strong> (Sun, 07 Feb 2021 19:36:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>AzizMestiri</strong> (Mon, 08 Feb 2021 15:11:38 GMT):<br/>
* Anyone knows how to build minifabric on multiple hosts (e.g with docker swarm) or has a link for a tutorial ?? Thanks! *
</p>
<p><strong>lebdron</strong> (Mon, 08 Feb 2021 21:44:39 GMT):<br/>
Well, fabric channel did not turn out to be useful, but I joined the orderer successfully. 

Now I have a new issue - nodeimport does not account for peers, so chaincode commit does not work properly automatically. Any suggestions for this problem? The issue I face now is that chaincode commit does not take into account another organization and corresponding tls ca.crt files and peer addresses.
</p>
<p><strong>tongli</strong> (Mon, 08 Feb 2021 23:27:45 GMT):<br/>
@AzizMestiri setup fabric on different nodes using netup command then join these orgs together.
</p>
<p><strong>thiagooggioni</strong> (Tue, 09 Feb 2021 12:39:17 GMT):<br/>
@pkirkinezis the ohaincode was initialized and it worked.
Thank you
</p>
<p><strong>Grant-Steinfeld001</strong> (Fri, 12 Feb 2021 15:58:51 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Grant-Steinfeld001</strong> (Fri, 12 Feb 2021 15:58:52 GMT):<br/>
Hi everyone, I'm new to this channel.  I've mostly stood up test networks at IBM as a dev. advocate.  - now I'm trying out Minifabric, it mostly succeeds, but fails on the last step:

Error: chaincode install failed with status: 500 - failed to invoke backing implementation of 'InstallChaincode': could not build chaincode: docker build failed: docker image inspection failed: Get "http://unix.sock/images/dev-peer1.org0.example.com-simple_1.0-c18bd5c8cd186be47d3b1f7350622b788e3827951f51e7470326155eca1161aa-bb845e3da1b8b00fd1b76bb4a0ad8ef6cfd5890591ceff9e285192942b6cb794/json": dial unix /host/var/run/docker.sock: connect: no such file or directory

# STATS *******************************************************
minifab: ok=350	failed=1

docker ps looks OK as far as I can tell:

docker ps --format "{{.Names}} \t {{.ID}} \t {{.Status}}"                                                             [10:48:17]
079039a892_cli 	 32d90c926357 	 Up 2 minutes
ca1.org1.example.com 	 2d8945746ad4 	 Up 2 minutes
ca1.org0.example.com 	 0ebe905e4d25 	 Up 2 minutes
orderer3.example.com 	 32aa887ca881 	 Up 3 minutes
orderer2.example.com 	 ee4889d112a6 	 Up 3 minutes
orderer1.example.com 	 6078f25c4761 	 Up 3 minutes
peer2.org1.example.com 	 560daa3bb98d 	 Up 3 minutes
peer1.org1.example.com 	 ad35e83cb72e 	 Up 3 minutes
peer2.org0.example.com 	 ed9db586f779 	 Up 3 minutes
peer1.org0.example.com 	 f6e6ffb6c600 	 Up 3 minutes

I'm running Docker Desktop v3.0.4 on my macbook - Big Sur 11.3b

Sorry for the long post, but any help would be really appreciated, Thanks!
</p>
<p><strong>tongli</strong> (Fri, 12 Feb 2021 17:35:37 GMT):<br/>
@Grant-Steinfeld001 Mac docker desktop has this experimental feature which causing issue. Please disable that feature and try again. The feature is call gRPC FUSE. Turn it off you should be fine.
</p>
<p><strong>Grant-Steinfeld001</strong> (Fri, 12 Feb 2021 19:00:28 GMT):<br/>
Thanks @tongli - I turned off the gRPC FUSE feature, however sadly I now get this error:

# Create volumes for peer and orderer nodes *******************
  'allcouchdbs' is undefined
</p>
<p><strong>tongli</strong> (Sat, 13 Feb 2021 03:16:45 GMT):<br/>
Do a minifab cleanup, then try again
</p>
<p><strong>tongli</strong> (Sat, 13 Feb 2021 03:17:46 GMT):<br/>
@Grant-Steinfeld001 see above msg. Also it will be extremely helpful if you look at the docs.
</p>
<p><strong>Grant-Steinfeld001</strong> (Wed, 17 Feb 2021 11:05:32 GMT):<br/>
thanks @tongli  - will peruse docs again properly - been dragged off into prodution less interesting issues
</p>
<p><strong>barankilic</strong> (Thu, 18 Feb 2021 15:29:21 GMT):<br/>
Hi! When I launch a Fabric network, is it runs successfully. But when I want to relaunch the network with "minifab down" and then "minifab netup". It gives this error: 
'allcouchdbs' is undefined. 
I disabled gRPC FUSE feature. What could be the reason?
</p>
<p><strong>tongli</strong> (Thu, 18 Feb 2021 17:26:24 GMT):<br/>
@barankilic you may have changed some configuration between down and netup?
</p>
<p><strong>tongli</strong> (Thu, 18 Feb 2021 17:27:06 GMT):<br/>
If not, please create an issue, in that issue please details the steps how to recreate this.
</p>
<p><strong>barankilic</strong> (Thu, 18 Feb 2021 18:01:36 GMT):<br/>
@tongli No, I have not changed the configuration. I just run the up, down, and netup consecutively.
</p>
<p><strong>tongli</strong> (Thu, 18 Feb 2021 23:26:34 GMT):<br/>
Before any of these operation, did you run cleanup command?
</p>
<p><strong>barankilic</strong> (Fri, 19 Feb 2021 09:14:42 GMT):<br/>
@tongli Yes. I run cleanup.
</p>
<p><strong>Grant-Steinfeld001</strong> (Sat, 20 Feb 2021 23:25:21 GMT):<br/>
Hi @tongli - setup it up on my CentOS 7 VM works great! Thanks!!
</p>
<p><strong>tongli</strong> (Sun, 21 Feb 2021 03:15:52 GMT):<br/>
@Grant-Steinfeld001 great. Happy that it worked for you.
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Feb 2021 14:23:03 GMT):<br/>
Hi is there a way to create KPI is there any documentation or papaer on hyperledger docs . I mean KPI for failure , transactions , etc
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Feb 2021 14:24:07 GMT):<br/>
Its not realted 100% to Minifabric but if anyone has knowledge or did that before thanks in advance
</p>
<p><strong>IvanV6</strong> (Tue, 23 Feb 2021 17:43:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>IvanV6</strong> (Tue, 23 Feb 2021 17:43:16 GMT):<br/>
Hi, i'm working to add new organisation inside a Fabric network. The first org is the default, the second one has the following specs:

`fabric:
peers:

"peer1.orgx.example.com"
"peer2.orgx.example.com"`

Now, i'm trying to add a new org with the following specs:

`fabric:
peers:

"peer1.orgy.example.com"
"peer2.orgy.example.com"
orderers:
"orderer4.example.com"`

But when i run the command:

`minifab.cmd nodeimport,join`

on the new folder, i received the following error:

`# Run the channel join script on cli container ****************
  non-zero return code
  2021-02-15 18:07:30.155 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  2021-02-15 18:07:30.159 UTC [cli.common] readBlock -> INFO 002 Expect block, but got status: &{NOT_FOUND}
  Error: can't read the block: &{NOT_FOUND}
  2021-02-15 18:07:30.307 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: genesis block file not found open /vars/mychannel.genesis.block: no such file or directory

# STATS *******************************************************
minifab: ok=34  failed=1`

How can I handle it? There is a way to add a new org with a new orderer? Thanks in advance
</p>
<p><strong>tongli</strong> (Tue, 23 Feb 2021 20:18:55 GMT):<br/>
@IvanV6 did you not open an issue on this? I thought we’ve talked about this. You will need to add orderer org separately from adding peer org. Currently minifabric only has joinorg for peer orgs. For adding orderer org, you will need to use channel update to do that.
</p>
<p><strong>kensayers</strong> (Wed, 24 Feb 2021 03:22:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>IvanV6</strong> (Wed, 24 Feb 2021 08:35:03 GMT):<br/>
Dear @tongli thanks but i'm still stuck on this. Could you please provide the steps to add an orderer org?
</p>
<p><strong>tongli</strong> (Wed, 24 Feb 2021 12:15:48 GMT):<br/>
Please try channelquery, channelsign, channel update command and also read fabric channel update docs. You can search how fabric channel configuration should be updated on internet. There are tons of info in the channelquery output. Every piece of the info can be updated including orderer node section.
</p>
<p><strong>IvanV6</strong> (Wed, 24 Feb 2021 12:41:40 GMT):<br/>
Thanks @tongli , i will search on internet. One more question, if an org is offline without orderers (e.g. a second org on another VM), it is possible to query the chaincode and perform operations?
</p>
<p><strong>tongli</strong> (Wed, 24 Feb 2021 22:53:28 GMT):<br/>
Query is done against peer node. @IvanV6 
</p>
<p><strong>pkirkinezis</strong> (Thu, 25 Feb 2021 14:09:46 GMT):<br/>
hi i am getting a weird error
</p>
<p><strong>pkirkinezis</strong> (Thu, 25 Feb 2021 14:10:29 GMT):<br/>
2021-02-25 13:28:45.006 UTC [common.ledger.blockledger.file] Next -> ERRO 94b3f error opening block file /var/hyperledger/production/ledgersData/chains/chains/devchannel/blockfile_000000: open /var/hyperledger/production/ledgersData/chains/chains/devchannel/blockfile_000000: too many open files


2021-02-25 13:28:45.006 UTC [common.deliver] deliverBlocks -> ERRO 94b40 [channel: devchannel] Error reading from channel, cause was: SERVICE_UNAVAILABLE
</p>
<p><strong>pkirkinezis</strong> (Thu, 25 Feb 2021 14:11:03 GMT):<br/>
does anyone experienced such an issue?
</p>
<p><strong>tongli</strong> (Thu, 25 Feb 2021 18:52:16 GMT):<br/>
@pkirkinezis have not seen anything like that. Wonder if your node actually not running?
</p>
<p><strong>tongli</strong> (Thu, 25 Feb 2021 18:52:36 GMT):<br/>
Do a minifab stats command and see how many are actually running
</p>
<p><strong>knagware9</strong> (Fri, 26 Feb 2021 06:47:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>pkirkinezis</strong> (Fri, 26 Feb 2021 08:56:22 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=6wzHVQ6ktEbOZFXk4) Apparently I maxed out the allowed open files on linux server . Restarted my java gateway and  docker logs on peers stopped giving me this error. I don't know how java app can make hypeledger peer nodes to give this error .
</p>
<p><strong>pkirkinezis</strong> (Fri, 26 Feb 2021 09:10:16 GMT):<br/>
java app is running localy. Maybe Invoking chaincode or quering  leaves  files opens that lead to mazin out the allowed open files from linux server
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 14:05:24 GMT):<br/>
@rjones @pkirkinezis @barankilic please see the fix the issue 163. https://github.com/hyperledger-labs/minifabric/pull/169
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 14:05:36 GMT):<br/>
please review. thanks.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:19:31 GMT):<br/>
@tongli done. Please take a look at 170
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:19:57 GMT):<br/>
@rjones looking at it now.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:20:19 GMT):<br/>
thanks. Once merged, I will make the settings change
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:20:53 GMT):<br/>
will the tinyurl still work? @rjones
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:21:27 GMT):<br/>
maybe.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:21:39 GMT):<br/>
in the readme.md file, we have two urls which were generated using the raw branch.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:21:48 GMT):<br/>
lasttime we changed to main branch, I tried it, it worked.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:21:51 GMT):<br/>
I noticed that I changed the chat asset from master to main, but github is redirecting it
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:22:00 GMT):<br/>
right.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:22:09 GMT):<br/>
so I think until another branch named master is created, it will work
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:22:27 GMT):<br/>
ok, great. that was my only concern.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:22:50 GMT):<br/>
if it breaks, we can fix it :)
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:23:04 GMT):<br/>
right. Thanks Ry.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:23:10 GMT):<br/>
approved.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:23:29 GMT):<br/>
thank you
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:23:58 GMT):<br/>
comment from one of the recent users.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:24:02 GMT):<br/>
```Thank you very much for the project, it is incredible```
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:25:15 GMT):<br/>
nice!
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:25:32 GMT):<br/>
I was talking to a team about a thing and they were very excited to find out about it
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:25:47 GMT):<br/>
I am in the process of adding k8s support.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:25:52 GMT):<br/>
very close to get it done.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:26:04 GMT):<br/>
they're wanting to move a fabric installation from one provider to another but had no way to test that the export worked
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:26:24 GMT):<br/>
the goal is to not add any new command, just using existing command, with a kubeconfig present, it will deploy fabric onto k8s.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:26:25 GMT):<br/>
I said, look, minifab has portainer and explorer
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:26:45 GMT):<br/>
haha. awesome.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:26:57 GMT):<br/>
nice. what is the use case? people want to move away from docker?
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:27:20 GMT):<br/>
some people just want to use k8s. this has been asked few times in the past.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:27:27 GMT):<br/>
gotcha
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:27:52 GMT):<br/>
I am close to get it all done.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:28:04 GMT):<br/>
it will be a quite big PR.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:28:29 GMT):<br/>
I don't know if I have k8s set up anywhere to test. it will be nice to have it in CI tho
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:47:21 GMT):<br/>
@rjones do we have k8s env?
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:47:29 GMT):<br/>
if there is, I would love to try it.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:51:18 GMT):<br/>
I think GHA should support it
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:51:38 GMT):<br/>
GHA?
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:52:25 GMT):<br/>
https://github.com/marketplace?type=actions&query=k8s
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:52:30 GMT):<br/>
github actions sorry
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:53:18 GMT):<br/>
right, but it still will require a running k8s cluster, right?
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:53:38 GMT):<br/>
I think the issue is to find a k8s env.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 15:54:37 GMT):<br/>
ah, I was thinking you could build one using minikube or something, like docker
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:54:54 GMT):<br/>
microk8s, indeed,
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 15:55:36 GMT):<br/>
sure. sure, we can do that with a relative larger node.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:17:41 GMT):<br/>
Need a way to pass `--platform` all the way to the bottom so I can run `minifab` on an M1 Mac
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:18:56 GMT):<br/>
@rjones not following. --platform needs to be fed to what command in minifabric?
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:19:23 GMT):<br/>
docker
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:19:44 GMT):<br/>
`docker run .... --platform linux/amd64 ...` or whatever
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:20:06 GMT):<br/>
ah, there is a recent PR which does that exactly.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:20:13 GMT):<br/>
let me get the instruction on doing that.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:20:49 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/blob/main/spec.yaml#L30
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:21:00 GMT):<br/>
see that configuration parameter?
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:21:17 GMT):<br/>
you can pretty much add any docker parameters you like
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:22:49 GMT):<br/>
cool, thanks
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:22:59 GMT):<br/>
let me know if that worked for you.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:23:18 GMT):<br/>
minifabric should work on mac without that flag I think.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:23:39 GMT):<br/>
not on an M1 (arm) mac
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:23:51 GMT):<br/>
oh, i c.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:24:20 GMT):<br/>
so you have a mac which is using ARM chip?
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:25:38 GMT):<br/>
yes
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:25:41 GMT):<br/>
```# Retrieve the image if it does not already exist *************
  non-zero return code
  no matching manifest for linux/arm64/v8 in the manifest list entries
```
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:26:24 GMT):<br/>
I wonder if the hyperledgerlabs/minifab:latest has to be built based on arm.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:26:35 GMT):<br/>
no, doesn't help. I already tried that. :)
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:26:49 GMT):<br/>
it is a dependency, but I can't tell which one b/c the logging is not verbose enough
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:26:52 GMT):<br/>
wonder what image it was trying to pull?
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:27:02 GMT):<br/>
-f default
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:27:17 GMT):<br/>
use -f default to see more logs entries.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:27:28 GMT):<br/>
fabric-ca
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:28:20 GMT):<br/>
wonder what parameter I need to add to the yaml file. `--platform linux/amd64` didn't work.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:28:33 GMT):<br/>
I'll keep digging.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:29:11 GMT):<br/>
so that flag is supposed to change the docker to run under different arch?
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:31:37 GMT):<br/>
seems to me --platform is only for build command?
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:31:43 GMT):<br/>
not for run?
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:32:45 GMT):<br/>
this worked: ```% docker pull --platform linux/amd64 hyperledger/fabric-ca:1.4
1.4: Pulling from hyperledger/fabric-ca
b8f262c62ec6:...
Digest: sha256:28f50c6aa4f4642842e706d3ae6dcee181921d03bd30ab2a8b09b66e0349d92f
Status: Downloaded newer image for hyperledger/fabric-ca:1.4
docker.io/hyperledger/fabric-ca:1.4```
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:33:34 GMT):<br/>
by manually pulling that image, it worked
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:34:05 GMT):<br/>
hmmmm.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:34:07 GMT):<br/>
i c.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:34:45 GMT):<br/>
I wonder if you can try to pull all necessary images, then run minifab up command.
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:34:57 GMT):<br/>
just to make sure that the issue is in the image pulling phase.
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:36:09 GMT):<br/>
well, it failed differently :)
</p>
<p><strong>tongli</strong> (Fri, 26 Feb 2021 19:36:33 GMT):<br/>
we will be needing hyperledger/fabric-peer, -orderer, -ccenv, -tools
</p>
<p><strong>rjones</strong> (Fri, 26 Feb 2021 19:37:41 GMT):<br/>
the failure was after that.
</p>
<p><strong>barankilic</strong> (Sat, 27 Feb 2021 10:16:13 GMT):<br/>
Thank you @tongli . Restarting the network works now.
</p>
<p><strong>SamYuan1990</strong> (Mon, 01 Mar 2021 13:02:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>SamYuan1990</strong> (Mon, 01 Mar 2021 13:02:56 GMT):<br/>
Hello everyone,

[Probe](https://github.com/SamYuan1990/Probe) is a web based "coordinator" project, from [TWGC](https://github.com/Hyperledger-TWGC). 
With 0.0.3 release, Probe now supports minifab as fabric network provider.
You are encouraged to play Probe with minifab and [Tape](https://github.com/Hyperledger-TWGC/tape), to investigate
how block parameters(batchtimeout, max msg account, etc) impacts fabric network tps.

Thanks and Regards
Sam
</p>
<p><strong>SamYuan1990</strong> (Mon, 01 Mar 2021 13:04:54 GMT):<br/>
Videos in Chinese, [Probe introduction](https://www.bilibili.com/video/BV13t4y1B7AE/) and [Probe with minifab demo](https://www.bilibili.com/video/BV1Kz4y1179L/)
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:29:31 GMT):<br/>
@SamYuan1990 great. Thanks for doing the excellent work!
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:30:44 GMT):<br/>
@rjones question, i've added k8s to minifab and like to create PR, there are around 20+ commits for this work.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:31:11 GMT):<br/>
I wonder if you prefer I squash all the commits into one as a PR or just use all the commits in the PR.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:31:19 GMT):<br/>
quite few files got changed.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:31:33 GMT):<br/>
I can go either, but wonder what is your preference.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:53:06 GMT):<br/>
@rjones I went ahead squashed all the commits into one so that it will be a bit easier for reviewer.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:53:10 GMT):<br/>
here is the PR.
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 15:53:12 GMT):<br/>
ok thanks
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:53:17 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/171
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 15:54:38 GMT):<br/>
Minifabric Kubernetes deployment is added in this PR. Once it is merged, Minifabric can be used to deploy Fabric onto a given k8s cluster. See the doc in docs directory on how to do it.
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 17:51:30 GMT):<br/>
@tongli I don't really have a way to test this, so I'll just merge it. Are you OK with that?
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:52:05 GMT):<br/>
@rjones yes, have tested it against GKE.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:52:08 GMT):<br/>
all is well.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:52:29 GMT):<br/>
I can add minikube test in the pipeline.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:52:53 GMT):<br/>
but it will take a bit time to set it up
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:53:07 GMT):<br/>
either minikube or microk8s
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 17:54:37 GMT):<br/>
it's OK
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 17:55:45 GMT):<br/>
(merged)
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:56:01 GMT):<br/>
@rjones the workflow is the azure workflow, right? we are still using Azure devops for the our testing?
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:56:07 GMT):<br/>
@rjones Thanks for merging it.
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 17:56:08 GMT):<br/>
No, GitHub only
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:57:13 GMT):<br/>
so , no more azure devop pipelines, right?
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:57:50 GMT):<br/>
other than `runs-on: ubuntu-latest`
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 17:58:01 GMT):<br/>
what else can be used?
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 18:03:49 GMT):<br/>
GitHub actions should have a wide selection of platforms; I can also connect a dedicated runner (buy a machine and put it in my apartment)
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 18:05:24 GMT):<br/>
[here is a list](https://docs.github.com/en/actions/reference/specifications-for-github-hosted-runners)
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 18:05:56 GMT):<br/>
ok. let me look around and see if I can find an easy way to get minikube up running then do a test
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 18:06:28 GMT):<br/>
OK. I don't want to grow anything into AZP right now. We do have an AWS account we could use, but it's a PITA to manage
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 18:08:00 GMT):<br/>
I would avoid aws if my life is not depends on it.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 18:09:04 GMT):<br/>
I can do minikube then minifabric, the only issue is that the node may not big enough to run both k8s cluster and a fabric network.
</p>
<p><strong>rjones</strong> (Mon, 01 Mar 2021 18:27:34 GMT):<br/>
gotcha
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 22:43:45 GMT):<br/>
Folks, minifabric is now officially support k8s deployment.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 22:44:22 GMT):<br/>
Please see related document in docs directory before you start running it.
</p>
<p><strong>tongli</strong> (Mon, 01 Mar 2021 22:44:44 GMT):<br/>
Also do an update to get this feature.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 14:36:29 GMT):<br/>
Use either docker desktop kubernetes on Windows 10 or Mac, you can easily experiences this feature.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 14:36:43 GMT):<br/>

<br/><a href="./assets/yy5KpFwJwHhDW4uQx-Screen Shot 2021-03-02 at 9.01.38 AM.png">Screen Shot 2021-03-02 at 9.01.38 AM.png</a>
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 14:37:52 GMT):<br/>
That is a picture which showed the successful run of `minifab up -e true` against the one node kubernetes running on windows 10. For mac, it is exactly the same.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 14:49:15 GMT):<br/>
@rjones good morning Ry, the docker build on docker hub is based on master branch,
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 14:50:42 GMT):<br/>
I do not have permission to change it. can you please change that to branch main instead?
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:22:13 GMT):<br/>
ok, fixed.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:22:53 GMT):<br/>
https://hub.docker.com/repository/registry-1.docker.io/hyperledgerlabs/minifab/builds/8f75e9f0-d645-4681-a377-18fc89149d9f (it is building now)
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:23:16 GMT):<br/>
Thanks so much @rjones
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:23:42 GMT):<br/>
I can see it but can not make changes.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:26:30 GMT):<br/>
when I look, your email4tong account has full access to that repo
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:27:05 GMT):<br/>
but I can not make changes , this is really weird, we actually talked about this last time.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:27:18 GMT):<br/>
hmm take a look now
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:27:26 GMT):<br/>
I had to make a change to a different account
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:27:54 GMT):<br/>
I had to make `hyperledger-dockerhub-bot` an owner of the `Hyperledger-labs` GitHub repo just now.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:27:54 GMT):<br/>
I had to make `hyperledger-dockerhub-bot` an owner of the `hyperledger-labs` GitHub org just now.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:28:26 GMT):<br/>
same thing,
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:28:50 GMT):<br/>
so for instance, you cannot add another build?
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:29:31 GMT):<br/>
hmmmm. something just changed.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:29:58 GMT):<br/>
ok, I added another build rule just to test. now that showed up, but can not change the rule for main branch
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:30:00 GMT):<br/>
I had to delete the previous build config because I could not edit it, either
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:30:09 GMT):<br/>
haha.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:30:11 GMT):<br/>
ok.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:30:13 GMT):<br/>
try deleting it and adding a new one
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:30:18 GMT):<br/>
can add new and delete but not to change.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:30:42 GMT):<br/>
right, me either
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:30:43 GMT):<br/>
I tried that as well before you made changes, it did not work, but it is working now.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:31:00 GMT):<br/>
before, you could not do it because the bot was not an owner of the GitHub org
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:31:26 GMT):<br/>
I just deleted the one I added, it is working now bro, thanks so much.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:31:52 GMT):<br/>
I will send you a Neko sculpture in celebration
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:32:10 GMT):<br/>
haha. man,
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:32:21 GMT):<br/>
ok, I really appreciate that.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:32:53 GMT):<br/>
just a picture will be fine if you want to save it for others.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:41:38 GMT):<br/>
OK. How do you want it staged? I also got some HK masks (with the logo).
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:42:50 GMT):<br/>
@rjones HK masks? like for covid-19?
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 15:43:12 GMT):<br/>
well, sure. They're thin fabric, so I don't know how well they would work
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:43:48 GMT):<br/>
oh, i c. ok, if you have some extras, yeah, I would like to have couple.
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 15:43:54 GMT):<br/>
Thanks again.
</p>
<p><strong>rjones</strong> (Tue, 02 Mar 2021 16:50:38 GMT):<br/>
well, I meant to take a picture, but now I see the masks won't fit the cat :)
</p>
<p><strong>tongli</strong> (Tue, 02 Mar 2021 16:51:15 GMT):<br/>
haha. not a problem at all.
</p>
<p><strong>IvanV6</strong> (Thu, 04 Mar 2021 08:58:07 GMT):<br/>
Hi all, there is a way to use minifabric into a Mac with M1 chip? thanks a lot!
</p>
<p><strong>tongli</strong> (Thu, 04 Mar 2021 12:27:34 GMT):<br/>
@IvanV6 there are some issues using the M1 chip. Ry has been trying it, not sure the results.@rjones any update on that?
</p>
<p><strong>IvanV6</strong> (Thu, 04 Mar 2021 12:41:03 GMT):<br/>
ok thanks, i will wait for a response from @rjones
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 12:48:48 GMT):<br/>
No updates. The issue was the one image
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 12:49:21 GMT):<br/>
it might be possible if you force the arch to amd64
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 12:55:19 GMT):<br/>
different failure: ```  2021-03-04 12:54:35.917 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 004 Loaded configuration: /etc/hyperledger/fabric/configtx.yaml
  qemu: uncaught target signal 11 (Segmentation fault) - core dumped
  /etc/hyperledger/fabric/run/certtxgen.sh: line 7:    28 Segmentation fault      configtxgen -printOrg org1-example-com > JoinRequest_org1-example-com.json
```
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 12:55:40 GMT):<br/>
that is via `arch -x86_64 ./minifab up`
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 12:56:02 GMT):<br/>
so right now I think it is not possible unless you build M1 docker images for everything
</p>
<p><strong>IvanV6</strong> (Thu, 04 Mar 2021 12:58:53 GMT):<br/>
ok thanks, in case, how can i build all docker images for M1?
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 13:00:12 GMT):<br/>
Are you running the docker beta for M1?
</p>
<p><strong>IvanV6</strong> (Thu, 04 Mar 2021 13:00:54 GMT):<br/>
Yes
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 13:37:49 GMT):<br/>
it looks like the blocker is there is not yet a port of adoptjdk for arm64
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 13:38:38 GMT):<br/>
``` => ERROR [internal] load metadata for docker.io/library/adoptopenjdk:8u2  1.9s
------
 > [internal] load metadata for docker.io/library/adoptopenjdk:8u222-b10-jdk-openj9-0.15.1:
------
failed to solve with frontend dockerfile.v0: failed to create LLB definition: no match for platform in manifest sha256:05378647791e45a696543234a8df32b353ea84e32a3c749fce0dd4697ebf3dca: not found
make: *** [build/docker/baseimage/.arm64-0.4.22] Error 1```
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 13:39:16 GMT):<br/>
so I don't think it will happen anytime soon, unless someone can rebuild all of the docker images it depends on
</p>
<p><strong>IvanV6</strong> (Thu, 04 Mar 2021 13:42:38 GMT):<br/>
oh ok, so it's queit complex to use minifabric on M1 if i understood correctly
</p>
<p><strong>tongli</strong> (Thu, 04 Mar 2021 14:08:56 GMT):<br/>
@IvanV6, not sure this is minifabric issue though.
</p>
<p><strong>IvanV6</strong> (Thu, 04 Mar 2021 14:16:00 GMT):<br/>
@tongli yes, i guess it depends on other docker images. unfortunately for me :)
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 14:26:12 GMT):<br/>
I was considering publishing arm64 images of the fabric images, but those can't be built because of stuff like the one I just showed
</p>
<p><strong>rjones</strong> (Thu, 04 Mar 2021 14:26:35 GMT):<br/>
All of the turtles need arm64 flavors.
</p>
<p><strong>pkirkinezis</strong> (Fri, 05 Mar 2021 19:12:18 GMT):<br/>
Error: could not assemble transaction: proposal response was not successful, error code 500, msg error in simulation: failed to execute transaction 4e2d78ac1cd9249d56e272c2190f5b5c0d2e233a5d9ba56b8fb1e65f9de83ccb: could not launch chaincode locard_4.0:81848aa4b5973009f2c2af35fdf51ce730a1ec42f771bad745ac407a85eacd2e: chaincode registration failed: container exited with 2 - proposal response: version:1 response:<status:200 >
</p>
<p><strong>pkirkinezis</strong> (Fri, 05 Mar 2021 19:12:38 GMT):<br/>
Do anyone had the same error before ? @rjones @tongli
</p>
<p><strong>pkirkinezis</strong> (Tue, 09 Mar 2021 08:30:36 GMT):<br/>
Hi to everyone . I managed to slove the issue . Currently I am trying to learn about discovery service because "minifab discover " returns empty chaincode_endorsments.json
</p>
<p><strong>pkirkinezis</strong> (Tue, 09 Mar 2021 08:31:27 GMT):<br/>

<br/><a href="./assets/AQ5y46gdNicY6BSmb-Clipboard - March 9, 2021 10:31 AM">Clipboard - March 9, 2021 10:31 AM</a>
</p>
<p><strong>pkirkinezis</strong> (Tue, 09 Mar 2021 08:31:48 GMT):<br/>
Manually running the command on docker CLI returns the above error
</p>
<p><strong>tongli</strong> (Tue, 09 Mar 2021 13:20:50 GMT):<br/>
You probably does not have anchor node setup
</p>
<p><strong>tongli</strong> (Tue, 09 Mar 2021 13:20:50 GMT):<br/>
You probably do not have anchor node setup
</p>
<p><strong>tongli</strong> (Tue, 09 Mar 2021 13:21:34 GMT):<br/>
Discovery is per channel/chaincode.
</p>
<p><strong>tongli</strong> (Tue, 09 Mar 2021 13:22:26 GMT):<br/>
So basically you would need to have channel created, chaincode installed, approved, commuted , setup anchor, then run discover command
</p>
<p><strong>tongli</strong> (Tue, 09 Mar 2021 13:22:26 GMT):<br/>
So basically you would need to have channel created, chaincode installed, approved, committed, setup anchor, then run discover command
</p>
<p><strong>tongli</strong> (Tue, 09 Mar 2021 13:24:19 GMT):<br/>
Discovery is not available in fabric 1.4.3 or lower.
</p>
<p><strong>kensayers</strong> (Wed, 10 Mar 2021 19:55:30 GMT):<br/>
hi, i am looking for sample code to execute transactions and listen to events, i am using minifab to learn setup and admin, my job is to migrate code written by others and was hoping for a simple example of connecting and interacting from node js / react.  Any direction would be helpful
</p>
<p><strong>tongli</strong> (Wed, 10 Mar 2021 22:06:05 GMT):<br/>
Look at apps directory. You will get both and also you can run them use apprun command and make some changes to see how each function gets run. @kensayers 
</p>
<p><strong>davidkhala</strong> (Mon, 15 Mar 2021 08:27:44 GMT):<br/>
@tongli I see there is a `vscode.tgz` under `/vars`. What is it used for?
</p>
<p><strong>tongli</strong> (Mon, 15 Mar 2021 12:47:10 GMT):<br/>
Whole package that you can use to deliver it to other applications which might need credentials to make connections to the fabric network.
</p>
<p><strong>tongli</strong> (Mon, 15 Mar 2021 12:47:56 GMT):<br/>
@davidkhala ^^^
</p>
<p><strong>davidkhala</strong> (Mon, 15 Mar 2021 12:55:51 GMT):<br/>
got it, the wallet looks like the vscode software itself
</p>
<p><strong>tongli</strong> (Mon, 15 Mar 2021 13:14:12 GMT):<br/>
The wallets were packaged specially that way so that you can import to vscode easily without doing anything to it.
</p>
<p><strong>kinyeung</strong> (Wed, 17 Mar 2021 02:10:13 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kinyeung</strong> (Wed, 17 Mar 2021 02:10:13 GMT):<br/>
Sorry to bother you. Is it right that the "setting" in spec.yaml can only set the environment of container. What should I do if I want to write the other parameters like in the docker-compose yaml file? For example I want to set different VCPU and memory limit for orderer container and peer container which are not the environment of container. Can I realize it with "setting" in spec.yaml or other method in spec.yaml?
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Mar 2021 07:39:12 GMT):<br/>
Hi something weird i found out today . During the weekend our server got down .So as a result minifabric was down also .I executed "minifab restart " without any issue but i noticed something weird . 
MInifabric had a chaincode at version 93.0 before restart . But after "minifab restart" minifabric started with an older version of the chaincode ,version 84.0 , and i had to mannualy install version 93 again . Is this an expected behavior ?
</p>
<p><strong>tongli</strong> (Mon, 22 Mar 2021 10:04:15 GMT):<br/>
@pkirkinezis hmmm, this is not expected behavior
</p>
<p><strong>tongli</strong> (Mon, 22 Mar 2021 10:05:55 GMT):<br/>
I wonder somehow you missed an chaincode update on one of your peer node? So that that node was never on 93?
</p>
<p><strong>tongli</strong> (Mon, 22 Mar 2021 10:06:52 GMT):<br/>
If you have 2.x running, once chaincode is updated, the old version chaincode container will be removed.
</p>
<p><strong>tongli</strong> (Mon, 22 Mar 2021 10:08:01 GMT):<br/>
Probably try to recreate this and see what happens. Also I assume that all data have been still intact?
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Mar 2021 11:09:25 GMT):<br/>
Yeah data was still intact . I am running the August version of minifabric with the 2.2 version of hyperledger . So in chaincode folder all the tar gz files are there for all the older  versions . I am not sure if a specific pear was in an older version.
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Mar 2021 11:22:13 GMT):<br/>
Also i am not sure if i can update to latest version of minifabric without impacting existing channels and chaincodes on my servers.
</p>
<p><strong>tongli</strong> (Mon, 22 Mar 2021 15:26:49 GMT):<br/>
@pkirkinezis that has not been tried. I suspect it won’t be a problem if you shutdown then restart using new version flag since the volumes should not recreate but in any case do back up your stuff first.
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Mar 2021 15:34:59 GMT):<br/>
That is also my guess .I've spend some weekends trying to figure out if anything would go wrong and my only concern is the channel configurarions  and keyfiles . If by any reason with the update the keyfiles cannot be read successfully I will  have to reconfigure the whole network with the new keyfiles.
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Mar 2021 15:41:43 GMT):<br/>
FYI and for better undestand of the bug and recreate maybe . The server was restarted also today .
 I tried "minifabric restart " and everything worked as described but again i was not at the latest version of chaincode but neather version 84 or 93 (which is the latest) . I had again to install version 93 manually .
</p>
<p><strong>pkirkinezis</strong> (Mon, 22 Mar 2021 15:43:16 GMT):<br/>
This time "minifabric restart"  has been restarted to version 89 of the chaincode .
</p>
<p><strong>tongli</strong> (Tue, 23 Mar 2021 12:34:49 GMT):<br/>
Curious, what is the version before 93? Is 84 the version right before 93? Or 84 is just one of the many before 93?
</p>
<p><strong>tongli</strong> (Tue, 23 Mar 2021 12:35:20 GMT):<br/>
@pkirkinezis ^^^
</p>
<p><strong>pkirkinezis</strong> (Tue, 23 Mar 2021 12:59:43 GMT):<br/>
Every time i make a refactor on the chaincode or a new function i bump up the version . So 84 -85 -85 etc etc until 93 . For your question the  previous version of 93 is 92 . So 84 is 9 versions behind .
</p>
<p><strong>pkirkinezis</strong> (Tue, 23 Mar 2021 12:59:43 GMT):<br/>
Every time i make a refactor on the chaincode or a new function i bump up the version . So 84 -85 -86 etc etc until 93 . For your question the  previous version of 93 is 92 . So 84 is 9 versions behind .
</p>
<p><strong>tongli</strong> (Tue, 23 Mar 2021 16:53:17 GMT):<br/>
This is really strange. What is magic about 84?
</p>
<p><strong>tongli</strong> (Tue, 23 Mar 2021 16:54:15 GMT):<br/>
If it goes back to previous one, then it makes some sense, if it always goes back to version 84, then there has to be something different about 84.
</p>
<p><strong>pkirkinezis</strong> (Tue, 23 Mar 2021 17:08:40 GMT):<br/>
No its random the first time went to version 84 . The second time went to version 89 .
</p>
<p><strong>pkirkinezis</strong> (Tue, 23 Mar 2021 17:11:30 GMT):<br/>
I will have to dig into that . Maybe i will have to update to latest version of minifabric or in the extreme case biuld the netwrok from scratch again deleting all the existing data and settings to see if that still happens . Who knows i will have to make a desition sooner or later
</p>
<p><strong>pkirkinezis</strong> (Tue, 23 Mar 2021 17:11:30 GMT):<br/>
I will have to dig into that . Maybe i will have to update to latest version of minifabric or in the extreme case biuld the netwrok from scratch again deleting all the existing data and settings to see if that still happens . Who knows i will have to make a decision sooner or later
</p>
<p><strong>tongli</strong> (Tue, 23 Mar 2021 18:07:43 GMT):<br/>
@pkirkinezis hmmm, do not rebuild your cluster to test this. Use another machine to test , you can have multiple sites on one machine
</p>
<p><strong>pkirkinezis</strong> (Wed, 24 Mar 2021 07:01:57 GMT):<br/>
You have a point . I will have to testi it this way and reproduce the steps .
</p>
<p><strong>pkirkinezis</strong> (Fri, 26 Mar 2021 06:17:54 GMT):<br/>
223433
</p>
<p><strong>pkirkinezis</strong> (Tue, 30 Mar 2021 16:35:55 GMT):<br/>
@tongli  I found the problem . When i am running 'minifab restart' the minifabric algorithm tries to start all the docker containers including previous containers of older chaincodes until it gets to the latest version docker container . This proccess takes around 30 minutes until it gets to version 93 chaincode and if for some reason I  interupt this process it will stop to a previous version of chaincode
</p>
<p><strong>pkirkinezis</strong> (Tue, 30 Mar 2021 16:40:46 GMT):<br/>
My first thought is that it tries to run all chaincodes until it gets to the latest
</p>
<p><strong>pkirkinezis</strong> (Tue, 30 Mar 2021 18:01:15 GMT):<br/>
and i found that out because in an isolated envirorment every time i runned docker ps
</p>
<p><strong>pkirkinezis</strong> (Tue, 30 Mar 2021 18:03:02 GMT):<br/>
the docker container name was changing to newer version . 
docker ps 
dev-peer2.supplier.example.com-obcs_1.0
...................
</p>
<p><strong>pkirkinezis</strong> (Tue, 30 Mar 2021 18:03:14 GMT):<br/>
docker ps 
dev-peer2.supplier.example.com-obcs_23.0
</p>
<p><strong>pkirkinezis</strong> (Tue, 30 Mar 2021 18:03:37 GMT):<br/>
and i left it for about half an hour and eventually after docker ps i got 
dev-peer2.supplier.example.com-obcs_93.0
</p>
<p><strong>tongli</strong> (Tue, 30 Mar 2021 20:42:32 GMT):<br/>
@pkirkinezis good to know. I certainly did not know the process. And I do not think it is something minifabric did made  it behave that way.
</p>
<p><strong>tongli</strong> (Tue, 30 Mar 2021 20:43:14 GMT):<br/>
When you have that many versions, it seems to me will take some time.
</p>
<p><strong>tongli</strong> (Tue, 30 Mar 2021 20:43:42 GMT):<br/>
I wonder if there is some kind of settings to make it not to try from the beginning.
</p>
<p><strong>pkirkinezis</strong> (Wed, 31 Mar 2021 05:47:19 GMT):<br/>
Xm . Settings on what ?
</p>
<p><strong>pkirkinezis</strong> (Wed, 31 Mar 2021 05:47:24 GMT):<br/>
@tongli
</p>
<p><strong>RatakondalaArun</strong> (Thu, 01 Apr 2021 06:38:32 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>RatakondalaArun</strong> (Thu, 01 Apr 2021 07:14:44 GMT):<br/>
Hello I am using minifabric it exites with error code 
```
Default option org is citizen.example.com which does not exist in your spec, use -o to specify one
```
I am using this command
```
minifab.cmd up -s couchdb -c mainchannel -l node -n news_cc -v v1.0 -p '"initLedger"' -o citizen.example.com -f
```
</p>
<p><strong>RatakondalaArun</strong> (Thu, 01 Apr 2021 07:14:44 GMT):<br/>
Hello I am using minifabric it exites with error code 
```
Default option org is citizen.example.com which does not exist in your spec, use -o to specify one
```
I am using this command
```bash
minifab.cmd up -s couchdb -c mainchannel -l node -n news_cc -v v1.0 -p '"initLedger"' -o citizen.example.com -f
```
</p>
<p><strong>RatakondalaArun</strong> (Thu, 01 Apr 2021 07:14:44 GMT):<br/>
Hello I am using minifabric it exites with error code 
```
Default option org is citizen.example.com which does not exist in your spec, use -o to specify one
```
I am using this command
```bash
minifab.cmd up -s couchdb -c mainchannel -l node -n news_cc -v v1.0 -p '"initLedger"' -o citizen.example.com
```
</p>
<p><strong>RatakondalaArun</strong> (Thu, 01 Apr 2021 07:15:49 GMT):<br/>
This is my `spec.yaml` file
```yaml
fabric:
  cas:
    - "ca.citizen.example.com"
    - "ca.pci.example.com"
    - "ca.icmr.example.com"
    - "ca.moh.example.com"
  peers:
    - "peer0.citizen.example.com"
    - "peer0.pci.example.com"
    - "peer0.icmr.example.com"
    - "peer0.moh.example.com"
  orderers:
    - "orderer1.example.com"
    - "orderer2.example.com"
    - "orderer3.example.com"
  settings:
    ca:
      FABRIC_LOGGING_SPEC: DEBUG
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
    orderer:
      FABRIC_LOGGING_SPEC: DEBUG
  netname: "news-network"
```
</p>
<p><strong>RatakondalaArun</strong> (Thu, 01 Apr 2021 07:16:04 GMT):<br/>
can some one help me
</p>
<p><strong>RatakondalaArun</strong> (Thu, 01 Apr 2021 15:54:47 GMT):<br/>
How to use deploy *chaincode* written with `fabric-contract-api` on fabricmini
</p>
<p><strong>harshita</strong> (Thu, 01 Apr 2021 20:16:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tongli</strong> (Fri, 02 Apr 2021 22:17:09 GMT):<br/>
@RatakondalaArun there is no difference in deploying a chaincode how it was created.
</p>
<p><strong>tongli</strong> (Fri, 02 Apr 2021 22:17:48 GMT):<br/>
Exactly same way. You just have to make sure that the chaincode built with correct dependencies.
</p>
<p><strong>RatakondalaArun</strong> (Sat, 03 Apr 2021 05:07:34 GMT):<br/>
@tongli Thanks for reply.
Issue solved I think I did some typo and bumped my fabric-contract-api dependencies to `2.2.1`
</p>
<p><strong>krgko</strong> (Mon, 05 Apr 2021 06:24:35 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>aguel</strong> (Mon, 05 Apr 2021 06:45:22 GMT):<br/>

<br/><a href="./assets/da583oqMgTKoGiMG4-Screen Shot 2021-04-05 at 2.44.31 PM.png">Screen Shot 2021-04-05 at 2.44.31 PM.png</a>
</p>
<p><strong>aguel</strong> (Mon, 05 Apr 2021 06:45:22 GMT):<br/>

<br/><a href="./assets/da583oqMgTKoGiMG4-Screen Shot 2021-04-05 at 2.44.31 PM.png">Screen Shot 2021-04-05 at 2.44.31 PM.png</a>
</p>
<p><strong>aguel</strong> (Mon, 05 Apr 2021 06:45:22 GMT):<br/>

<br/><a href="./assets/da583oqMgTKoGiMG4-Screen Shot 2021-04-05 at 2.44.31 PM.png">Screen Shot 2021-04-05 at 2.44.31 PM.png</a>
</p>
<p><strong>dalaomai</strong> (Tue, 06 Apr 2021 10:55:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>GaberAl-Absi</strong> (Tue, 06 Apr 2021 15:11:36 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Thu, 08 Apr 2021 21:45:36 GMT):<br/>
@canenas check out [the readme](https://github.com/hyperledger-labs/minifabric/blob/main/docs/README.md)
</p>
<p><strong>canenas</strong> (Thu, 08 Apr 2021 21:45:36 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>canenas</strong> (Thu, 08 Apr 2021 23:28:46 GMT):<br/>
can I use fabric-mini to setup a fabric network on my kubernetes deployment?
</p>
<p><strong>tongli</strong> (Fri, 09 Apr 2021 11:49:45 GMT):<br/>
Yes. Please follow the docs
</p>
<p><strong>tongli</strong> (Fri, 09 Apr 2021 11:50:36 GMT):<br/>
Make sure that you have persistent volume available in your k8s
</p>
<p><strong>canenas</strong> (Fri, 09 Apr 2021 12:01:24 GMT):<br/>
So looking at the docs, is the nginx ingress required? Our lab doesn't allow any incoming connections and for every remote requests I need to go through a proxy.
</p>
<p><strong>davidkel</strong> (Sat, 10 Apr 2021 07:24:59 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ymo 7</strong> (Mon, 12 Apr 2021 16:50:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tongli</strong> (Tue, 13 Apr 2021 01:00:44 GMT):<br/>
@canenas if you deploy onto k8s, then yes. If you deploy onto docker, you do not need Nginx ingress.
</p>
<p><strong>rjones</strong> (Sat, 17 Apr 2021 12:24:44 GMT):<br/>
@tongli take a look? https://github.com/hyperledger-labs/minifabric/pull/189
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:31:31 GMT):<br/>
Hi to everyone . Hs anyone experienced the bellow error . I am trying to install a new version for our chaincode and we get this error . 
 `non-zero return code
  Error: timed out waiting for txid on all peers`
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:31:31 GMT):<br/>
Hi to everyone . Hs anyone experienced the bellow error . I am trying to install a new version for our chaincode and we get this error . 
 `non-zero return code`
  `Error: timed out waiting for txid on all peers`
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:31:31 GMT):<br/>
Hi to everyone . Hs anyone experienced the bellow error . I am trying to install a new version for our chaincode and we get this error . 
 ```non-zero return code
  `Error: timed out waiting for txid on all peers```
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:31:31 GMT):<br/>
Hi to everyone . Hs anyone experienced the bellow error . I am trying to install a new version for our chaincode and we get this error . 
 ```non-zero return code
  Error: timed out waiting for txid on all peers```
</p>
<p><strong>rjones</strong> (Wed, 21 Apr 2021 16:32:46 GMT):<br/>
you will need to add a lot more details
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:33:58 GMT):<br/>
The command we run across our peers is  ```./minifab install,approve -l go -n cc_name-c channelname-v 5.4 -d true -p '"Init"'```
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:35:04 GMT):<br/>
In some peers install and aprrove finishes without any issue . But in 3 specific peers the 'approve' function takes ages and return the above erro i mentioned
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:36:00 GMT):<br/>

<br/><a href="./assets/GceGq6T2Yc48sdcwE-Clipboard - April 21, 2021 7:35 PM">Clipboard - April 21, 2021 7:35 PM</a>
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:37:40 GMT):<br/>

<br/><a href="./assets/zQ3TeJXHxavabi87d-Clipboard - April 21, 2021 7:36 PM">Clipboard - April 21, 2021 7:36 PM</a>
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:37:50 GMT):<br/>
Any tips for debugging will be great also
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:54:18 GMT):<br/>
And if i try to to run "./minifab blockquery -newest " on the nodes that give me an error 
 I get the bellow error 
'''2021-04-21 16:52:54.856 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  2021-04-21 16:52:54.858 UTC [cli.common] readBlock -> INFO 002 Expect block, but got status: &{BAD_REQUEST}
'''
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 16:54:18 GMT):<br/>
And if i try to to run "./minifab blockquery -newest " on the nodes that give me an error 
 I get the bellow error 
```2021-04-21 16:52:54.856 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  2021-04-21 16:52:54.858 UTC [cli.common] readBlock -> INFO 002 Expect block, but got status: &{BAD_REQUEST}
```
</p>
<p><strong>nmakaris</strong> (Wed, 21 Apr 2021 17:03:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 18:56:12 GMT):<br/>
I found the Problem @rjones the Sever had 15m difference on Date . Orderer where rejecting all the requests from the peers with 15m difference on there sys date .
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 18:57:58 GMT):<br/>
I synchronized the server who had there sys dates out of sync and then everything worked like a charm
</p>
<p><strong>pkirkinezis</strong> (Wed, 21 Apr 2021 18:58:01 GMT):<br/>

<br/><a href="./assets/EMZudesbnsHdT7LrM-Clipboard - April 21, 2021 9:57 PM">Clipboard - April 21, 2021 9:57 PM</a>
</p>
<p><strong>urkizu</strong> (Fri, 23 Apr 2021 13:29:19 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>urkizu</strong> (Fri, 23 Apr 2021 13:30:33 GMT):<br/>
Hi all.
</p>
<p><strong>urkizu</strong> (Fri, 23 Apr 2021 13:30:33 GMT):<br/>
Hi all.
I'm trying to launch a network with a particular block  BatchTimeout that is located on configtx.yaml. Folowing https://github.com/hyperledger-labs/minifabric/issues/151 I generate this spec.yaml
  settings:
    ca:
      FABRIC_LOGGING_SPEC: INFO
    peer:
      FABRIC_LOGGING_SPEC: INFO
      CORE_CHAINCODE_LOGGING_LEVEL: INFO
    orderer:
      FABRIC_LOGGING_SPEC: INFO
      GENERAL_ORDERER_BATCHTIMEOUT: 10s
      GENERAL_ORDERER_BATCHSIZE_MAXMESSAGECOUNT: 500
      GENERAL_ORDERER_BATCHSIZE_ABSOLUTEMAXBYTES: 120MB
      GENERAL_ORDERER_BATCHSIZE_PREFERREDMAXBYTES: 2048 KB

Then generate the network with:
minifab up

Then launch a script that generates a lot of tx.

The block size is 10 and the time is around 2sg, it seems that something I'm doing wrong. Are correct the env variables? Are inside the rigth place?
</p>
<p><strong>tongli</strong> (Fri, 23 Apr 2021 16:32:09 GMT):<br/>
@urkizu I think these parameters should be changed using update channel configuration.
</p>
<p><strong>tongli</strong> (Fri, 23 Apr 2021 16:32:20 GMT):<br/>
channel update command basically.
</p>
<p><strong>rjones</strong> (Fri, 23 Apr 2021 21:13:04 GMT):<br/>
@tongli https://github.com/hyperledger-labs/minifabric/pull/197
</p>
<p><strong>rjones</strong> (Fri, 23 Apr 2021 21:13:22 GMT):<br/>
(that includes the latest releases that just happened today)
</p>
<p><strong>nizos</strong> (Wed, 28 Apr 2021 08:05:36 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>nizos</strong> (Wed, 28 Apr 2021 08:05:37 GMT):<br/>
Can I use affiliations with minifabric?
</p>
<p><strong>tongli</strong> (Wed, 28 Apr 2021 11:13:41 GMT):<br/>
CA is setup , you can use ca client to do whatever you want
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 11:49:42 GMT):<br/>
I am not sure how to add the `fabric-ca-server-config.yaml` file to the ca that I deploy using minifabric.
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 11:50:12 GMT):<br/>
When I exec into the container I see that it has the default `fabric-ca-server-config.yaml`
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 11:50:34 GMT):<br/>
Is there a way to add it through a volume mount?
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 11:50:56 GMT):<br/>
I would prefer not having to exec into the container and modify the file manualy.
</p>
<p><strong>tongli</strong> (Thu, 29 Apr 2021 12:08:48 GMT):<br/>
There is a fabric-ca-client program to access the ca to do things
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 12:12:54 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=86ZIuUj7sCZ78pmkk) Can you elaborate a bit more? Do you mean the fabric-ca-client binary that you can use to execute commands with?
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 12:13:21 GMT):<br/>
Can I use it to change the affiliations that are available on the channel/network?
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 12:14:02 GMT):<br/>
https://hyperledger-fabric-ca.readthedocs.io/en/release-1.4/clientcli.html
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 12:14:06 GMT):<br/>
This one right?
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 12:15:10 GMT):<br/>
Interesting, I found those commands: https://hyperledger-fabric-ca.readthedocs.io/en/release-1.4/clientcli.html#affiliation-command
</p>
<p><strong>nizos</strong> (Thu, 29 Apr 2021 12:15:53 GMT):<br/>
Is it enough to run those commands? Do you I need to do anything to the peers/orderes etc
</p>
<p><strong>tongli</strong> (Thu, 29 Apr 2021 17:24:15 GMT):<br/>
@nizos yes you can use that client to hit minifabric created ca nodes to do whatever you need to do, 
</p>
<p><strong>bur</strong> (Mon, 10 May 2021 10:28:35 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Wed, 12 May 2021 05:40:26 GMT):<br/>
I updated the wiki to have a GFI macro: https://wiki.hyperledger.org/display/labs/Minifab
</p>
<p><strong>tongli</strong> (Wed, 12 May 2021 15:26:26 GMT):<br/>
@rjones thanks a lot Ry
</p>
<p><strong>giorgio.nocera</strong> (Tue, 25 May 2021 14:09:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>giorgio.nocera</strong> (Tue, 25 May 2021 20:30:09 GMT):<br/>
Hi everyone, I'm new on mini-fabric. I found this link on google: https://www.gitmemory.com/issue/hyperledger-labs/minifabric/112/720651619 where someone asks about "deploy Fabric networks across multiple servers". Is there any guide or tutorial for this?
I watched the video of Professor Li, but I was not able to understand how to distribute. Can you help me?
Thank you.
</p>
<p><strong>tongli</strong> (Tue, 25 May 2021 20:35:54 GMT):<br/>
@giorgio.nocera basically it is to deploy onto one machine, then to another machine, then join the 2nd machine to the first machine hosted fabric network.
</p>
<p><strong>giorgio.nocera</strong> (Tue, 25 May 2021 20:38:56 GMT):<br/>
Thank you for the patience Professor Li. So if I'm not wrong, assuming I've 3 machines connected to the same real network,
can I deploy minifabric on the three machines and the connect the peers by using the docker IPs?
</p>
<p><strong>tongli</strong> (Wed, 26 May 2021 00:33:45 GMT):<br/>
@giorgio.nocera yes, you can run minifab up -e true on the first node, then minifab netup using different spec.yaml on 2nd and 3nd node, then join these two orgs to the network on first node. Make sure each machine has their own org and fabric nodes.
</p>
<p><strong>brohamgoham</strong> (Wed, 26 May 2021 01:02:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>brohamgoham</strong> (Wed, 26 May 2021 01:02:30 GMT):<br/>
hello can miniFab be used for production
</p>
<p><strong>brohamgoham</strong> (Wed, 26 May 2021 01:03:04 GMT):<br/>
i am developing a production ready HLF , but fisrt the company wants a demo and i was thinking minifab would be perfect
</p>
<p><strong>tongli</strong> (Wed, 26 May 2021 02:06:11 GMT):<br/>
It is fully functional fabric network. The only thing is that it uses self generated certs
</p>
<p><strong>giorgio.nocera</strong> (Thu, 27 May 2021 14:15:08 GMT):<br/>
Thank you so much Professor Li!
</p>
<p><strong>lcvalves</strong> (Mon, 31 May 2021 18:42:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tongli</strong> (Wed, 02 Jun 2021 00:56:55 GMT):<br/>
@lcvalves welcome to the channel. Hope that you’ve found minifabric to be useful.
</p>
<p><strong>tongli</strong> (Wed, 02 Jun 2021 00:57:14 GMT):<br/>
Ask questions here if you have any.
</p>
<p><strong>lcvalves</strong> (Wed, 02 Jun 2021 01:02:10 GMT):<br/>
@tongli Hi! I've been trying out minifab and it really simplifies the process of working with Fabric. Great work!
</p>
<p><strong>lcvalves</strong> (Wed, 02 Jun 2021 01:04:38 GMT):<br/>
The challenges I'm facing at the current time are more related with World State data modeling. I come from a Relational Database background and it's hard for me to "transalate" a ER model to a K/V model.
</p>
<p><strong>lcvalves</strong> (Wed, 02 Jun 2021 01:05:47 GMT):<br/>
But that's inherent to the Fabric structure so I don't think that this is the best place to chat about that topic but I'm open to hear some explanations :slight_smile:
</p>
<p><strong>tongli</strong> (Wed, 02 Jun 2021 04:34:26 GMT):<br/>
That is right. The best place for these questions will be fabric channel.@lcvalves
</p>
<p><strong>lcvalves</strong> (Tue, 08 Jun 2021 10:24:00 GMT):<br/>
I need to test/debug my chaincode but it takes too long to do the entire CC lifecycle, is there a way to run Minifab on dev mod like in the standard Fabric releases? Couldn't find this info on the provided docs on github.
</p>
<p><strong>lcvalves</strong> (Tue, 08 Jun 2021 10:24:00 GMT):<br/>
I need to test/debug my chaincode but it takes too long to do the entire CC lifecycle, is there a way to run Minifab on dev mode like in the standard Fabric releases? Couldn't find this info on the provided docs on github.
</p>
<p><strong>tongli</strong> (Tue, 08 Jun 2021 11:31:44 GMT):<br/>
If you could, that means you are somehow short cutting blockchain, then blockchain will have serious issues. The answer is no. But you can always run some unit tests using mock objects. 
</p>
<p><strong>tusharbansal</strong> (Sun, 13 Jun 2021 18:32:42 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>giorgio.nocera</strong> (Mon, 21 Jun 2021 08:39:54 GMT):<br/>
Hi Professor @tongli , I'm trying to installa a node chaincode on a instance of minifabric, but I've some issues.
In particular I'm trying to run a 
`minifab up`
, and then 
`minifab install -n simple -l node`
but I receive an error:
`Error: chaincode install failed with status: 500 - error in simulation: failed to execute transaction e7318180a93d2aecaf99b12358ca759e468fcc39055b6f06be799080701f8111: error sending: timeout expired while executing transaction`.

Is there something I'm missing?
Thank you!
</p>
<p><strong>tongli</strong> (Mon, 21 Jun 2021 21:05:30 GMT):<br/>
It should have worked. You can try again.
</p>
<p><strong>tongli</strong> (Mon, 21 Jun 2021 21:11:03 GMT):<br/>
Hmmm, when you do ‘minifab up’, the chaincode should have already installed. You probably can try to install with a different version number
</p>
<p><strong>zhenbing</strong> (Tue, 22 Jun 2021 14:53:07 GMT):<br/>
@tongli Hi LiTong, The WALL is too high to go thru these years. I tried 2.2 version (1.4 work fine) and the cc install failed at cc build phase. Is there a way to pass GOProxy to cc builder?
</p>
<p><strong>zhenbing</strong> (Tue, 22 Jun 2021 14:53:21 GMT):<br/>

<br/><a href="./assets/airPrCAptBHYGJaRj-Clipboard - June 22, 2021 10:53 PM">Clipboard - June 22, 2021 10:53 PM</a>
</p>
<p><strong>tongli</strong> (Wed, 23 Jun 2021 02:30:35 GMT):<br/>
You should setup the go proxy as the docs suggested. You do not really need to go through the firewall. Look at the spec.yaml file and see goproxy and the proxy in China 
</p>
<p><strong>zhenbing</strong> (Wed, 23 Jun 2021 02:47:27 GMT):<br/>
Yes, I already setup goproxy in spec.yaml and 1.4 work fine, even I wrapped a goprxoy ENV to fabric-ccenv. I wonder if 2.0 use default external chaincode builder and the configure of chaincode.externalBuilders: doesn't use our spec.yaml GOPROXY?:blush:
</p>
<p><strong>tongli</strong> (Wed, 23 Jun 2021 11:15:45 GMT):<br/>
Should work for 2.x . 
</p>
<p><strong>tongli</strong> (Wed, 23 Jun 2021 11:16:28 GMT):<br/>
I Cannot test about it though
</p>
<p><strong>giorgio.nocera</strong> (Thu, 24 Jun 2021 13:51:13 GMT):<br/>
Hi, I tried with a different code, and a different version number (`minifab install -n simple -l node -v 2.0`), but I always get the same error.
</p>
<p><strong>giorgio.nocera</strong> (Thu, 24 Jun 2021 16:14:07 GMT):<br/>
I also tried to cleanup the environment and directly run `minifab up -l node`
</p>
<p><strong>zhenbing</strong> (Fri, 25 Jun 2021 01:10:26 GMT):<br/>
can u paste the error message or a screenshot?
</p>
<p><strong>giorgio.nocera</strong> (Fri, 25 Jun 2021 06:24:29 GMT):<br/>

<br/><a href="./assets/5QWi8693p2oHkY8AT-Install node chaincode error">Install node chaincode error</a>
</p>
<p><strong>giorgio.nocera</strong> (Fri, 25 Jun 2021 06:24:33 GMT):<br/>
Sure, thank you for your time.
</p>
<p><strong>jimkom</strong> (Fri, 25 Jun 2021 09:48:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>jimkom</strong> (Fri, 25 Jun 2021 09:48:08 GMT):<br/>
hello guys! quick question: anyone knows how to solve the following error? "Cannot find module 'pkcs11js'"
</p>
<p><strong>davidkel</strong> (Fri, 25 Jun 2021 09:51:10 GMT):<br/>
see https://stackoverflow.com/questions/67959099/hypeledger-fabric-javascript-application-node-app-js-does-not-work
</p>
<p><strong>jimkom</strong> (Fri, 25 Jun 2021 10:01:38 GMT):<br/>
i will check it out thanks!
</p>
<p><strong>jimkom</strong> (Fri, 02 Jul 2021 14:04:00 GMT):<br/>
Hello! I'm trying to run the mywork, node.js app on mini fabric tutorial (https://github.com/hyperledger-labs/minifabric/blob/main/docs/README.md) but I'm getting a lot of errors. It does no seem to work. Is there another tutorial/documentation to use?
</p>
<p><strong>tongli</strong> (Fri, 02 Jul 2021 16:21:08 GMT):<br/>
@jimkom, if you detail your steps and your env, someone probably can help. Otherwise, people will not know how and where problems started.
</p>
<p><strong>tongli</strong> (Fri, 02 Jul 2021 16:21:46 GMT):<br/>
First, you obviously need access to internet, 2nd you need docker working correctly in your env.
</p>
<p><strong>tongli</strong> (Fri, 02 Jul 2021 16:22:48 GMT):<br/>
Also checking your docker version
</p>
<p><strong>tongli</strong> (Fri, 02 Jul 2021 16:23:06 GMT):<br/>
The error msg that you saw will be also helpful.
</p>
<p><strong>jimkom</strong> (Wed, 07 Jul 2021 07:28:22 GMT):<br/>
Hello again. Ok so, I'm running Debian 10 on VirtualBox, with Docker version 20.10.7, build f0df350. Controlling it via SSH on VScode. My goal is to run the sample node application that came with minifabric to work with the samplecc chaincode. So I run `minifab cleanup`, `minifab up` and finally `minifab apprun -l node`, all in the /mywork directory. Then I get the following error:
</p>
<p><strong>jimkom</strong> (Wed, 07 Jul 2021 07:28:47 GMT):<br/>

<br/><a href="./assets/L5i9nEJnie7Nvcong-2nd part of the error.PNG">2nd part of the error.PNG</a>
</p>
<p><strong>jimkom</strong> (Wed, 07 Jul 2021 07:28:47 GMT):<br/>

<br/><a href="./assets/pd5iooxQW8CDQkcE2-1st part of the error.PNG">1st part of the error.PNG</a>
</p>
<p><strong>jimkom</strong> (Wed, 07 Jul 2021 07:29:04 GMT):<br/>

<br/><a href="./assets/GRKtyXGZhL5mtuAuq-2nd part of the error.PNG">2nd part of the error.PNG</a>
</p>
<p><strong>jimkom</strong> (Wed, 07 Jul 2021 07:40:44 GMT):<br/>
@tongli
</p>
<p><strong>jimkom</strong> (Wed, 07 Jul 2021 10:11:02 GMT):<br/>
Nevermind, found it! The default chaincode being installed with `minifab up` was the *simple *chaincode. The sample node app uses the *samplecc *chaincode though, that needs to be _installed,approved,commited,initialized,discovered_ and then run the `minifab apprun -l node` command.
</p>
<p><strong>tongli</strong> (Thu, 08 Jul 2021 00:52:52 GMT):<br/>
@jimkom, happy that you solved the issues.
</p>
<p><strong>jimkom</strong> (Thu, 08 Jul 2021 13:04:08 GMT):<br/>
Hello Mr. @tn
</p>
<p><strong>jimkom</strong> (Thu, 08 Jul 2021 13:06:00 GMT):<br/>
Hello Mr @tongli . Is it possible to setup a REST service application with apprun (nodejs)?
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 16:54:15 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 16:54:15 GMT):<br/>
After I ran ".\minifab.cmd down; .\minifab.cmd up;  .\minifab.cmd explorerdown ; .\minifab.cmd explorerup"
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 16:54:38 GMT):<br/>

<br/><a href="./assets/MnGF5mYcEehxAPupg-Clipboard - July 8, 2021 9:54 AM">Clipboard - July 8, 2021 9:54 AM</a>
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 16:54:41 GMT):<br/>
the explorer is not up:
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 16:55:09 GMT):<br/>
The console says: ```# Run the channel creation script on cli container ************
  non-zero return code
  2021-07-08 16:42:54.052 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
  2021-07-08 16:42:54.077 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /vars/configtx.yaml
  2021-07-08 16:42:54.077 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
  2021-07-08 16:42:54.265 UTC [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004 Writing new channel tx
  Error: failed to create deliver client for orderer: orderer client failed to connect to orderer2.example.com:7050: failed to create new connection: connection error: desc = "transport: error while dialing: dial tcp: lookup orderer2.example.com on 127.0.0.11:53: no such host"

# STATS *******************************************************
minifab: ok=89  failed=1
```
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 16:55:35 GMT):<br/>
I'm using latest docker images, and testing on windows 10
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 16:56:24 GMT):<br/>
My init script is:  mkdir %userprofile%\mywork & cd %userprofile%\mywork & curl -o minifab.cmd -sL https://tinyurl.com/y3gupzby
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 17:06:25 GMT):<br/>
Newver mind, I figured it out. After I cleaned all my images and start it over, the explorer is up.
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 17:06:41 GMT):<br/>

<br/><a href="./assets/Jg48WyJrZ7umRxEPt-Clipboard - July 8, 2021 10:07 AM">Clipboard - July 8, 2021 10:07 AM</a>
</p>
<p><strong>sammi2021</strong> (Thu, 08 Jul 2021 17:07:08 GMT):<br/>

<br/><a href="./assets/w4j7YZTkSqfs2j3f7-Clipboard - July 8, 2021 10:07 AM">Clipboard - July 8, 2021 10:07 AM</a>
</p>
<p><strong>alicia.antony</strong> (Tue, 13 Jul 2021 11:52:20 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>bhavesh.c</strong> (Mon, 19 Jul 2021 10:59:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>septcinquante</strong> (Thu, 22 Jul 2021 15:22:25 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>septcinquante</strong> (Thu, 22 Jul 2021 15:22:25 GMT):<br/>
hello
</p>
<p><strong>tongli</strong> (Thu, 22 Jul 2021 15:22:45 GMT):<br/>
hi
</p>
<p><strong>septcinquante</strong> (Thu, 22 Jul 2021 15:23:57 GMT):<br/>
thanks for your works , great idea !!! :thumbsup:
</p>
<p><strong>tongli</strong> (Thu, 22 Jul 2021 15:27:33 GMT):<br/>
@septcinquante are you using minifabric?
</p>
<p><strong>septcinquante</strong> (Thu, 22 Jul 2021 15:36:45 GMT):<br/>
@tongli  I will do that but before to play with minifabric , i have read from your response that MF can be use for production ? do you confirme ? is it a good idea to use MiniFabric to develop a Rest Full API to communicate with the ledger? I have to manage documents, certificates, notices in my project. Will I be able to do this with minifabric? i would like use a service cloud service to record documents and juste store URI. I have read a lot of blockhain on Linux Hyperledger and i have follow some course , I have understand the theorie but i need practice, and i feel good with MF
</p>
<p><strong>tongli</strong> (Thu, 22 Jul 2021 16:00:21 GMT):<br/>
@septcinquante sure you can.
</p>
<p><strong>tongli</strong> (Thu, 22 Jul 2021 16:00:38 GMT):<br/>
starts with minifabric, you will have a lot easier time.
</p>
<p><strong>tongli</strong> (Thu, 22 Jul 2021 16:01:00 GMT):<br/>
you probably will not be too frustrated with Fabric.
</p>
<p><strong>septcinquante</strong> (Thu, 22 Jul 2021 16:02:02 GMT):<br/>
thank happy to joint , What language for API development do you recommend?
</p>
<p><strong>rjones</strong> (Thu, 22 Jul 2021 16:10:28 GMT):<br/>
what are you most comfortable in? I would guess the golang SDK is the most rich
</p>
<p><strong>septcinquante</strong> (Thu, 22 Jul 2021 19:28:22 GMT):<br/>
@rjones Node, Php i don't no if there are somes  particularies constraintes.
</p>
<p><strong>septcinquante</strong> (Thu, 22 Jul 2021 19:28:22 GMT):<br/>
@rjones Node, java, Php i don't no if there are somes  particularies constraintes.
</p>
<p><strong>cpux07</strong> (Thu, 22 Jul 2021 21:08:18 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>septcinquante</strong> (Fri, 23 Jul 2021 14:36:29 GMT):<br/>
hello !  is there a tuto, a webinar to show us the way to develop API for MiniFabric ? thanks
</p>
<p><strong>tongli</strong> (Fri, 23 Jul 2021 14:37:27 GMT):<br/>
@septcinquante develop API for Minifabric? I am not really sure what you mean by that. elaborate a bit please.
</p>
<p><strong>tongli</strong> (Fri, 23 Jul 2021 14:37:59 GMT):<br/>
Minifabric is a tool to stand up Fabric network, dealing with channels, chaincode, inspect ledgers,
</p>
<p><strong>tongli</strong> (Fri, 23 Jul 2021 14:38:19 GMT):<br/>
develop API for Minifabric? I am not really sure what you mean.
</p>
<p><strong>septcinquante</strong> (Fri, 23 Jul 2021 14:46:36 GMT):<br/>
Ok Sorry,I will try to be clear. Imagine that we have several organizations on our blockchain; I want to give them the possibility to add an entry (a product for example) or to consult an entry in the chain through a WEB API REST FULL. Maybe I'm wrong with mini-fabric
</p>
<p><strong>tongli</strong> (Fri, 23 Jul 2021 19:49:36 GMT):<br/>
you probably want to develop some chaincode (smart contract), then install them onto the network, then dev apps to deal with the smart contract, that would be the normal process of using blockchain system.
</p>
<p><strong>NajetBENHAMOUDA</strong> (Sun, 25 Jul 2021 11:18:02 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>septcinquante</strong> (Mon, 26 Jul 2021 09:18:53 GMT):<br/>
thanks , i will explore
</p>
<p><strong>septcinquante</strong> (Mon, 26 Jul 2021 09:23:14 GMT):<br/>
Hello  Li Another question please, with my poor level in blockchain, do you sincerely think that it will be better for me to try minifabric or directly go to tools like hyperledger GRID. Thank you
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 15:30:20 GMT):<br/>
Do not know anything about hyperledger GRID.
</p>
<p><strong>cpux07</strong> (Tue, 27 Jul 2021 16:52:54 GMT):<br/>
When setting up minifab on Ubuntu server, I am getting the following warning: Status: Downloaded newer image for hyperledgerlabs/minifab:latest
WARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/s390x) and no specific platform was requested ------ is there a s390x version of the update ?
</p>
<p><strong>cpux07</strong> (Tue, 27 Jul 2021 16:53:35 GMT):<br/>
I also keep getting "The requested image's platform (linux/amd64) does not match the detected host platform (linux/s390x) and no specific platform was requested" for any other command that I try to run after ./minifab up
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 17:34:49 GMT):<br/>
@ cpux07 I do not think it runs on s390x. One probably has to build an image for that?
</p>
<p><strong>cpux07</strong> (Tue, 27 Jul 2021 20:22:03 GMT):<br/>
@tongli thank you, is there a guide on how to build an image on s390x? if there is one I can try building one
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:44:40 GMT):<br/>
I wonder if you can simply clone the minifabric repo and build on s390x?
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:45:17 GMT):<br/>
Then you would need hyperlwdger fabric s390x images right?
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:45:38 GMT):<br/>
I do not really know if these images are available.
</p>
<p><strong>cpux07</strong> (Tue, 27 Jul 2021 21:45:40 GMT):<br/>
Yes, I m trying to make that happen but everything seems to amd64
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:46:06 GMT):<br/>
Probably just check docker bun on these images.
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:46:27 GMT):<br/>
Docker hub
</p>
<p><strong>cpux07</strong> (Tue, 27 Jul 2021 21:46:31 GMT):<br/>
I know that my predecessor has built and deployed a hyperledger fabric on s390x but even his code is not working...
</p>
<p><strong>cpux07</strong> (Tue, 27 Jul 2021 21:46:44 GMT):<br/>
I will look into it thank you
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:46:55 GMT):<br/>
Not a problem. Thx
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:47:43 GMT):<br/>
I am curious why you are doing this on s390x.
</p>
<p><strong>tongli</strong> (Tue, 27 Jul 2021 21:48:12 GMT):<br/>
Your company has a need to run fabric on s390x?
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 00:56:11 GMT):<br/>
I don't think the Fabric project has built s390x images in years.
</p>
<p><strong>nikolas</strong> (Wed, 28 Jul 2021 15:30:09 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>nikolas</strong> (Wed, 28 Jul 2021 15:30:10 GMT):<br/>
Hi, quick question: how can I set the couchdb passwords? obviously exposing ports with the defaults is not a good idea...
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 15:36:10 GMT):<br/>
@cpux07 looking on dockerhub, the last `s390x` image was last pushed almost three years ago.
</p>
<p><strong>cpux07</strong> (Wed, 28 Jul 2021 17:16:59 GMT):<br/>
@tongli i am a college professor and IBM provides these servers to us for free to be used with students, but I teach in college of business and the course focus is on the blockchain application not development and deployment, my goal is to have a working hyperledger so I can have students run some usecases on it without the hassle of setting up the system.  To that end, i need to build a working solution and then have it imaged and cloned to student server by IBM support
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:18:06 GMT):<br/>
it sounds like minifabric is perfect for that
</p>
<p><strong>cpux07</strong> (Wed, 28 Jul 2021 17:18:09 GMT):<br/>
@rjones thank you, yea i am running to many issues... everything that is out there seems to be designed to work with amd64
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:18:28 GMT):<br/>
I don't think Fabric supports s390x formally any more.
</p>
<p><strong>cpux07</strong> (Wed, 28 Jul 2021 17:18:41 GMT):<br/>
yea but I cant get minifabric deployed properly on s390x
</p>
<p><strong>cpux07</strong> (Wed, 28 Jul 2021 17:18:51 GMT):<br/>
neither does minifabric
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:19:00 GMT):<br/>
right, because the images don't exist
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:19:22 GMT):<br/>
I had the same problems trying to get Fabric working on Apple's M1 silicon
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:20:42 GMT):<br/>
There was a group that wanted to set up s390x builds some time ago, but I haven't heard from them in years
</p>
<p><strong>cpux07</strong> (Wed, 28 Jul 2021 17:25:00 GMT):<br/>
well if you saw anything out there for s390x, i appreciate it if you let me know, I am teaching the course this semester and as of now due to these issues i am taking the hands-on use-cases out of course plan but they can make it back if I can deploy and run either mini-fabric or fabric smoothly on s390x
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:26:43 GMT):<br/>
if the students have laptops, they could use minifab on the laptops directly
</p>
<p><strong>cpux07</strong> (Wed, 28 Jul 2021 17:28:57 GMT):<br/>
@rjones they are not tech savy students, they will run into endless technical issue when installing docker and other pre-reqs for hypeledger, we do not have the resources to help them out of these technical issues. Students being students in a non technical college are waiting for a technical reason in order not to complete their task!
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:29:28 GMT):<br/>
ah I see
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:30:54 GMT):<br/>
I guess the only way out is to ask IBM for x86-64 servers
</p>
<p><strong>cpux07</strong> (Wed, 28 Jul 2021 17:30:55 GMT):<br/>
that's why in the past we have gone with clean and cloned and ready to use server, to not to give students any technical excuse, but IBM has changed its arch for these server from amd64 to s390x and here were are now...
</p>
<p><strong>rjones</strong> (Wed, 28 Jul 2021 17:31:02 GMT):<br/>
gotcha
</p>
<p><strong>alanveloso</strong> (Thu, 29 Jul 2021 12:47:53 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>alanveloso</strong> (Thu, 29 Jul 2021 12:47:53 GMT):<br/>
Hi, I'm starting with minifabric. I'm trying to use minimal configuration to run a network, but I can't start a network without 2 peers from 2 different organizations. Does anyone know why this is?
</p>
<p><strong>zhenbing</strong> (Fri, 30 Jul 2021 07:39:43 GMT):<br/>
without 2 peers from 2 different organizations? How do u config in the spec.yaml?
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:47:26 GMT):<br/>
All, added Fabric operation console support in Minifabric. You can now easily manage your network with the console.
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:47:58 GMT):<br/>
``` minifab up -e true && minifab consoleup```
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:48:07 GMT):<br/>
that is all it takes to get things going.
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:48:28 GMT):<br/>
@rjones Can you review? Thanks  https://github.com/hyperledger-labs/minifabric/pull/248
</p>
<p><strong>rjones</strong> (Tue, 10 Aug 2021 18:50:12 GMT):<br/>
done; waiting on CI to merge
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:50:29 GMT):<br/>
Thanks so much @rjones
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:50:49 GMT):<br/>
very happy to see the console can be used with Minifabric created network.
</p>
<p><strong>rjones</strong> (Tue, 10 Aug 2021 18:51:00 GMT):<br/>
pretty neat
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:51:43 GMT):<br/>
similar to `explorerup & explorerdown`, one just needs to do `consoleup & consoledown` to get it up running or get rid of it.
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:52:20 GMT):<br/>
then it will display an URL so humans can access it from a browser.
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:52:33 GMT):<br/>
added in the doc as well.
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 18:52:55 GMT):<br/>
we probably can update the Minifabric blog to high light that?
</p>
<p><strong>davidkel</strong> (Tue, 10 Aug 2021 19:01:32 GMT):<br/>
@tongli just a slight problem with the new docs added
```
Start up portainer web ui <--- is a link
[Use Fabric operation console](Use Fabric operation console)  <-- not a link
```
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 19:02:04 GMT):<br/>
let me fix that now.
</p>
<p><strong>davidkel</strong> (Tue, 10 Aug 2021 19:02:35 GMT):<br/>
Great to see the console being included
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 19:06:35 GMT):<br/>
https://github.com/hyperledger-labs/minifabric/pull/249
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 19:06:40 GMT):<br/>
to fix the link issue.
</p>
<p><strong>tongli</strong> (Tue, 10 Aug 2021 19:06:46 GMT):<br/>
in the doc.
</p>
<p><strong>rjones</strong> (Thu, 12 Aug 2021 16:47:22 GMT):<br/>
hey @tongli check this out: https://github.dev/hyperledger-labs/minifabric/pull/250
</p>
<p><strong>rjones</strong> (Thu, 12 Aug 2021 16:47:37 GMT):<br/>
it shows you the exact diffs in an in-browser VSCode instance
</p>
<p><strong>razasikander</strong> (Tue, 17 Aug 2021 14:21:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>razasikander</strong> (Tue, 17 Aug 2021 14:24:41 GMT):<br/>
Hello i have recently started minifabric it seems good . i wanted to test the k8s deployment. I have created 1 master node and 2 workers in my setup on local PC. I have added calico cni and ngnix-ingress controller. the ip was pending so used metallb to assign external ip as local cluster cannot get ip it self. But now when i try to run "./minifab.sh up -e true" im getting this error  "  Failed to get client due to HTTPSConnectionPool(host='172.16.0.3', port=6443): Max retries exceeded with url: /version (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fe43f08ad60>: Failed to establish a new connection: [Errno 113] Host is unreachable'))"
</p>
<p><strong>razasikander</strong> (Tue, 17 Aug 2021 14:25:10 GMT):<br/>
Any idea what to do ? im kinda struck over here since a day or sor.
</p>
<p><strong>razasikander</strong> (Tue, 17 Aug 2021 14:27:04 GMT):<br/>

<br/><a href="./assets/sZcj22XF8sTXwyzZz-Ofhsz7AILs.png">Ofhsz7AILs.png</a>
</p>
<p><strong>davidwboswell</strong> (Wed, 18 Aug 2021 14:45:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>gabrielodi</strong> (Thu, 19 Aug 2021 13:08:41 GMT):<br/>
Hey guys... My phd dissertation has been published two weeks ago, and I would like again to thank to all minifabric developers and comitters
I made sure to include a "thank you note" in the pre-textual elements and, for sure, information on usage of minifabric within the dissertation itself... thank you very much
</p>
<p><strong>gabrielodi</strong> (Thu, 19 Aug 2021 13:09:17 GMT):<br/>
I will be writting a paper on the findings from my dissertation, and again I will include references to the minifabric
</p>
<p><strong>gabrielodi</strong> (Thu, 19 Aug 2021 13:09:34 GMT):<br/>
I hope someone can read it and start using this amazing tool you are developing
</p>
<p><strong>gabrielodi</strong> (Thu, 19 Aug 2021 13:09:47 GMT):<br/>
thank you, good job and success for you all
</p>
<p><strong>gabrielodi</strong> (Thu, 19 Aug 2021 13:09:48 GMT):<br/>
bye!
</p>
<p><strong>gabrielodi</strong> (Thu, 19 Aug 2021 13:11:18 GMT):<br/>
I am not sure, but dont you have to include a port after -e ?
</p>
<p><strong>rjones</strong> (Thu, 19 Aug 2021 15:16:56 GMT):<br/>
@gabrielodi links to your dissertaion and paper?
</p>
<p><strong>tongli</strong> (Fri, 20 Aug 2021 12:38:02 GMT):<br/>
@rjones good morning Ry! got a PR fixing an issue recently introduced by some refactoring work @itaru2622 did. Please review https://github.com/hyperledger-labs/minifabric/pull/258, basically a batch file name was renamed with .bat which was not supposed to since the tinyurl in the doc points to the one without extension name.
</p>
<p><strong>tongli</strong> (Fri, 20 Aug 2021 12:38:52 GMT):<br/>
I also would like to make itaru2622 a committer for the project. he has done a lot of PRs and very active in the community especially on the k8s devs.
</p>
<p><strong>rjones</strong> (Fri, 20 Aug 2021 15:27:03 GMT):<br/>
I'm fine with that - if they want to be one, let's make it happen
</p>
<p><strong>tongli</strong> (Fri, 20 Aug 2021 15:27:54 GMT):<br/>
@rjones right. I have reached out to him and he may respond next week.
</p>
<p><strong>tongli</strong> (Fri, 20 Aug 2021 15:28:05 GMT):<br/>
he has been doing a lot lately.
</p>
<p><strong>mikexiour</strong> (Fri, 27 Aug 2021 13:06:20 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>mikexiour</strong> (Fri, 27 Aug 2021 13:06:20 GMT):<br/>
Hello everyone i keep getting this error while following the invoke chaincode with a simple minifabric invoke -p '"Query","a"' from the video tutorial
</p>
<p><strong>mikexiour</strong> (Fri, 27 Aug 2021 13:08:34 GMT):<br/>
./minifab.cmd invoke -p '"query","a"'
Using default spec file
Minifab Execution Context:
    FABRIC_RELEASE=2.3.0
    CHANNEL_NAME=onichan
    PEER_DATABASE_TYPE=golevel
    CHAINCODE_LANGUAGE=go
    CHAINCODE_NAME=simple
    CHAINCODE_VERSION=1.0
    CHAINCODE_INIT_REQUIRED=true
    CHAINCODE_PARAMETERS="query","a"
    CHAINCODE_PRIVATE=false
    CHAINCODE_POLICY=
    TRANSIENT_DATA=
    BLOCK_NUMBER=newest
    EXPOSE_ENDPOINTS=false
    CURRENT_ORG=org0.example.com
    HOST_ADDRESSES=192.168.1.163
    WORKING_DIRECTORY: C:/Users/MichalisX/mywork
.......
# Preparing for the following operations: *********************
  verify options, cc invoke
.......
# Running operation: ******************************************
  verify options
.
# Running operation: ******************************************
  cc invoke
...........
# Select a random endorser group ******************************
  The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'Layouts'

  The error appears to be in '/home/playbooks/common/peerselection.yaml': line 25, column 5, but may
  be elsewhere in the file depending on the exact syntax problem.

  The offending line appears to be:


    - name: Select a random endorser group
      ^ here


# STATS *******************************************************
minifab: ok=30  failed=1
</p>
<p><strong>alanveloso</strong> (Tue, 14 Sep 2021 16:40:01 GMT):<br/>
Sorry for the delay. This is the minimal spec to start the net without problems.

`fabric:
  cas:
  - "ca1.org1.com.br"
  peers:
  - "peer1.org1.com.br"
  - "peer1.org2.com.br"
  orderers:
  - "orderer1.org0.com.br"
  settings:
    ca:
      FABRIC_LOGGING_SPEC: DEBUG
    peer:
      FABRIC_LOGGING_SPEC: DEBUG
    orderer:
      FABRIC_LOGGING_SPEC: DEBUG
`
</p>
<p><strong>alanveloso</strong> (Tue, 14 Sep 2021 16:41:34 GMT):<br/>
I can't run with only 1 peer on org1
</p>
<p><strong>tongli</strong> (Wed, 15 Sep 2021 17:19:00 GMT):<br/>
@mikexiour not sure how you set things up, if you are adding new orgs or creating new channels, most likely you need to run `minifab discover` before you actually invoke a chaincode.
</p>
<p><strong>tongli</strong> (Wed, 15 Sep 2021 17:19:18 GMT):<br/>
this is important , otherwise, it does not know where to send the proposals to.
</p>
<p><strong>tongli</strong> (Wed, 15 Sep 2021 17:19:37 GMT):<br/>
try that and see if the problem still exists.
</p>
<p><strong>razasikander</strong> (Fri, 17 Sep 2021 05:19:29 GMT):<br/>
@tongli Hello i  have a question. i have setup minifab with k8s in localcluster. Everything is working fine i have installed cc and able to invoke,query but im unable to find the chaincode container, to check the logs. please guide me regarding this
</p>
<p><strong>sidnaik1989</strong> (Tue, 21 Sep 2021 17:33:08 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sidnaik1989</strong> (Tue, 21 Sep 2021 17:33:09 GMT):<br/>
hi all, how do I give a custom endorsement policy when deploying chaincode through minifab?  
Would be great if some one could share an example

I tried with -y "OR('org.peer','org2.peer')"  with minifab up.

However this failed with 
```
```
</p>
<p><strong>sidnaik1989</strong> (Tue, 21 Sep 2021 17:33:09 GMT):<br/>
hi all, how do I give a custom endorsement policy when deploying chaincode through minifab?  
Would be great if some one could share an example

I tried with -y "OR('org.peer','org2.peer')"  with minifab up.

However this failed with 
```Error: invalid signature policy: OR(org1.peer, org2.peer)
  Usage:
    peer lifecycle chaincode approveformyorg [flags]
```
</p>
<p><strong>sidnaik1989</strong> (Tue, 21 Sep 2021 17:33:09 GMT):<br/>
hi all, how do I give a custom endorsement policy when deploying chaincode through minifab?  
Would be great if some one could share an example

I tried with -y "OR('org.peer','org2.peer')"  with minifab up.

However this failed with 
```Error: invalid signature policy: OR(org1.peer, org2.peer)
  Usage:
    peer lifecycle chaincode approveformyorg [flags]
```
Been stuck on this for a while, would be great if someone could help
</p>
<p><strong>sidnaik1989</strong> (Tue, 21 Sep 2021 17:33:09 GMT):<br/>
hi all, how do I give a custom endorsement policy when deploying chaincode through minifab?  
Could you please share an example

I tried with -y "OR('org.peer','org2.peer')"  with minifab up.

However this failed with 
```Error: invalid signature policy: OR(org1.peer, org2.peer)
  Usage:
    peer lifecycle chaincode approveformyorg [flags]
```
Been stuck on this for a while, would be great if someone could help
</p>
<p><strong>Rafailk</strong> (Thu, 23 Sep 2021 08:01:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Rafailk</strong> (Thu, 23 Sep 2021 08:01:35 GMT):<br/>
Hello everybody. My simple question is, can I use Fabric-CA in order to create users in mini fabric and then use them with a node sdk to invoke the chaincode?
</p>
<p><strong>mikexiour</strong> (Thu, 23 Sep 2021 09:22:41 GMT):<br/>
@tongli i would like to ask you a few questions if possible.
</p>
<p><strong>mikexiour</strong> (Thu, 23 Sep 2021 09:25:48 GMT):<br/>
I have a project of creating a blockchain platform using smart contracts that will be used through apis to be integrated into another system. As i am new to Fabric and Mini Fabric will i need to set up a production network for this project or if i use the mini fabric i could bypass that entire step. Also i dont need to create a blockchain platform as Fabric is used i just need to create the chaincode and its functions to do everything needed which is mostly invoking transactions between peers using a bidding auction method
</p>
<p><strong>mikexiour</strong> (Thu, 23 Sep 2021 09:27:45 GMT):<br/>
Could you tell me if my thinking is correct or wrong. If you could give me some pointers that would be swell as i have not been getting a lot of answers from the community.
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:07:40 GMT):<br/>
yes.
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:08:20 GMT):<br/>
use minifabric, your fabric network is up running, you just need to develop your chaincode and deploy onto the fabric network and develop your own client app which should work with your chaincode.
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:08:35 GMT):<br/>
not exactly sure how familiar you are with fabric.
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:08:57 GMT):<br/>
mostly, when you develop with fabric, you have 3 major tasks,
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:09:04 GMT):<br/>
1. stand up a fabric network
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:09:19 GMT):<br/>
2. develop and deploy chaincode onto the network
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:10:01 GMT):<br/>
3. develop apps (such as payment client app on mobile devices) which work with chaincode
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:12:46 GMT):<br/>
Minifabric helps with #1 tasks and 2nd part of #2 (deployment)
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:14:05 GMT):<br/>
@mikexiour also copy here to benefit others.
</p>
<p><strong>tongli</strong> (Thu, 14 Oct 2021 16:14:07 GMT):<br/>
use minifabric, your fabric network is up running, you just need to develop your chaincode and deploy onto the fabric network and develop your own client app which should work with your chaincode.
not exactly sure how familiar you are with fabric.
mostly, when you develop with fabric, you have 3 major tasks,
1. stand up a fabric network
2. develop and deploy chaincode onto the network
3. develop apps (such as payment client app on mobile devices) which work with chaincode
Minifabric helps with #1 tasks and 2nd part of #2 (deployment)
</p>
<p><strong>mikexiour</strong> (Fri, 15 Oct 2021 05:28:01 GMT):<br/>
use minifabric, your fabric network is up running, you just need to develop your chaincode and deploy onto the fabric network and develop your own client app which should work with your chaincode.
not exactly sure how familiar you are with fabric.
mostly, when you develop with fabric, you have 3 major tasks,
1. stand up a fabric network
2. develop and deploy chaincode onto the network
3. develop apps (such as payment client app on mobile devices) which work with chaincode
Minifabric helps with #1 tasks and 2nd part of #2 (deployment)
</p>
<p><strong>mikexiour</strong> (Fri, 15 Oct 2021 05:29:26 GMT):<br/>
Thank you for the help i copied it as well for others if i need any pointers could i ask here or is there a better/faster way to communicate with you sir ?
</p>
<p><strong>jkneubuhl</strong> (Tue, 19 Oct 2021 11:55:46 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Luis_Manuel_Cortes_Tirado</strong> (Tue, 19 Oct 2021 12:00:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Luis_Manuel_Cortes_Tirado</strong> (Tue, 19 Oct 2021 12:00:41 GMT):<br/>
I am using minifabric to deploy the following network in two different computers:

Computer 1:

    ca01.org1.domain1.net
    peer01.org1.domain1.net
    peer02.org1.domain1.net
    orderer01.domain1.net

Computer 2:

    ca01.org2.domain2.es
    peer01.org2.domain2.es
    peer02.org2.domain2.es
    orderer01.domain2.es

My question is How can I join both organizations? If I try to join with both orderers I get error. I've used the following docs: https://github.com/hyperledger-labs/minifabric/blob/main/docs/AddNewOrganization.md Thanks for any help
</p>
<p><strong>Gavimat</strong> (Tue, 19 Oct 2021 18:28:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tongli</strong> (Wed, 20 Oct 2021 21:27:47 GMT):<br/>
@rjones Please review https://github.com/hyperledger-labs/minifabric/pull/296 when you get a chance, it is to allow fqdn to be used as endpoint_address when set things up.
</p>
<p><strong>razasikander</strong> (Thu, 21 Oct 2021 08:55:38 GMT):<br/>
tried installing a javascript based chaincode on k8s cluster with minifab getting this error # Run the chaincode install script on cli container ***********
  non-zero return code
  Error: chaincode install failed with status: 500 - error in simulation: failed to execute transaction c132039f9cb856a7575ddd8c9b4122f226f474beab9a26ce6a597e0ba5b47486: error sending: timeout expired while executing transaction 
any idea what might be the reason?
im able to install go chaincodes
</p>
<p><strong>Luis_Manuel_Cortes_Tirado</strong> (Mon, 25 Oct 2021 15:24:27 GMT):<br/>
Hi, is there any tutorial to install the FabCar chaincode from fabric-samples with the Minifabric tool in Java? Thanks
</p>
<p><strong>nikolas</strong> (Tue, 26 Oct 2021 12:11:08 GMT):<br/>
Hi,I bring up a network with the default spec.yaml . After that I enroll a registrar and try to register a new user via the CA, but this doesn't work. For example, trying to register "user", returns `Registration of 'user' failed in affiliation validation: Failed getting affiliation 'org0.example.com': : scode: 404, code: 63, msg: Failed to get Affiliation: sql: no rows in result set` - I would appreciate some feedback.
</p>
<p><strong>efrain</strong> (Sat, 30 Oct 2021 10:00:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Luis_Manuel_Cortes_Tirado</strong> (Thu, 04 Nov 2021 07:16:59 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=hoti3BvKkHqdAJ3pm) ??
</p>
<p><strong>Luis_Manuel_Cortes_Tirado</strong> (Fri, 05 Nov 2021 08:21:18 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/fabric-mini?msg=nTcP2gw3cCzf6c8he) ??
</p>
<p><strong>zhenbing</strong> (Tue, 09 Nov 2021 16:31:06 GMT):<br/>
@tongli I have  simple chaincode install failed issue, there maybe cause by use go-dockerclient when package, so I wanner have a test but the nain.sh alway copy the origin chaincode folder even I do modify or add new file, is there a cache or something...? I'm so confuse..."_"
</p>
<p><strong>zhenbing</strong> (Tue, 09 Nov 2021 16:32:07 GMT):<br/>

<br/><a href="./assets/DHZ5MomrnwTjWyE6B-Clipboard - November 10, 2021 12:32 AM">Clipboard - November 10, 2021 12:32 AM</a>
</p>
<p><strong>zhenbing</strong> (Tue, 09 Nov 2021 16:33:12 GMT):<br/>
It should do a fresh copy and I run cleanup. But every time it stay unchanged...-_-
</p>
<p><strong>zhenbing</strong> (Thu, 18 Nov 2021 11:08:40 GMT):<br/>
It's my fault"_" chaincode folder is build into the images, not copied to var directly~
</p>
<p><strong>jdroberts94</strong> (Wed, 01 Dec 2021 13:48:41 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>jdroberts94</strong> (Wed, 01 Dec 2021 13:48:41 GMT):<br/>
I am getting the following error message when trying to invoke the simple chaincode on a 1.4.2 network:
```
# Running operation: ******************************************
  cc invoke
...........
# Select a random endorser group ******************************
  The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'Layouts'
  
  The error appears to be in '/home/playbooks/common/peerselection.yaml': line 25, column 5, but may
  be elsewhere in the file depending on the exact syntax problem.
  
  The offending line appears to be:
  
  
    - name: Select a random endorser group
      ^ here
```
It appears my simple_endorsers.json file is empty which is causing this error to occur.  I've tried running `minifab discovery` which succeeds in executing but simple_endorsers.json remains empty.  I've also read that I may need to call  `minifab anchorupdate`, however I get this error message:
```
# Running operation: ******************************************
  anchor update
......
# Run the anchor update script on cli container ***************
  non-zero return code
  2021-12-01 02:45:15.482 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  2021-12-01 02:45:15.485 UTC [cli.common] readBlock -> INFO 002 Received block: 4
  2021-12-01 02:45:15.488 UTC [cli.common] readBlock -> INFO 003 Received block: 2
  configtxlator: error: Error computing update: error computing config update: no differences detected between original and updated config
  2021-12-01 02:45:15.909 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: ConfigUpdate for channel '' but envelope for channel 'mychannel'
```
Any ideas?
</p>
<p><strong>jdroberts94</strong> (Wed, 01 Dec 2021 13:51:40 GMT):<br/>
I spun up the network by running `minifab up -i 1.4.2`
</p>
<p><strong>zhenbing</strong> (Thu, 02 Dec 2021 02:01:04 GMT):<br/>
try to cleanup and run again~
</p>
<p><strong>jdroberts94</strong> (Fri, 03 Dec 2021 21:52:05 GMT):<br/>
Hi @zhenbing thanks for your response.  I tried cleaning up and running again but got the same error.  When I run a 2.3.0 network, everything works fine and simple_endorsers.json is populated after running `minifab discover`.  It's only with a 1.4.2 network that the simple_endorsers.json file is empty after running `minifab discover`.
</p>
<p><strong>atsveloso</strong> (Thu, 09 Dec 2021 13:21:05 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>atsveloso</strong> (Thu, 09 Dec 2021 13:21:06 GMT):<br/>
Hi, I'm using minifabric and I created a net with 3 nodes between differents host, but when I added the 4th it occured a error. I used the documentation on repository (https://github.com/hyperledger-labs/minifabric/tree/main/docs). Is this documentation still actualized?
</p>
<p><strong>murilo_silva</strong> (Thu, 09 Dec 2021 15:38:46 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>murilo_silva</strong> (Thu, 09 Dec 2021 15:38:48 GMT):<br/>
Hi, I am following the Minifabric documentation for add new organizations to the application channel, but when I tried to add the 4th organization, I got the following error: ```
`# Running operation: ******************************************
  channel update
.....
# Run the channel update script on cli container **************
  non-zero return code
  2021-12-09 15:34:04.343 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 2 sub-policies were satisfied, but this policy requires 3 of the 'Admins' sub-policies to be satisfied
`
``` ```
This happens even though I transfer the file between different organizations and run the 'channelsign' command. The documentation I'm following is available at https://github.com/hyperledger-labs/minifabric/blob/main/docs/AddNewOrganization.md
```
</p>
<p><strong>murilo_silva</strong> (Thu, 09 Dec 2021 15:38:48 GMT):<br/>
Hi, I am following the Minifabric documentation for add new organizations to the application channel, but when I tried to add the 4th organization, I got the following error: ```
`# Running operation: ******************************************
  channel update
.....
# Run the channel update script on cli container **************
  non-zero return code
  2021-12-09 15:34:04.343 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 2 sub-policies were satisfied, but this policy requires 3 of the 'Admins' sub-policies to be satisfied
`
``` 
This happens even though I transfer the file between different organizations and run the 'channelsign' command. The documentation I'm following is available at https://github.com/hyperledger-labs/minifabric/blob/main/docs/AddNewOrganization.md
</p>
<p><strong>murilo_silva</strong> (Thu, 09 Dec 2021 15:38:48 GMT):<br/>
Hi, I am following the Minifabric documentation for add new organizations to the application channel, but when I tried to add the 4th organization, I got the following error: ```
`# Running operation: ******************************************
  channel update
.....
# Run the channel update script on cli container **************
  non-zero return code
  2021-12-09 15:34:04.343 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
  Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 2 sub-policies were satisfied, but this policy requires 3 of the 'Admins' sub-policies to be satisfied
`
``` 
This happens even though I transfer the file between different organizations and run the 'channelsign' command. The documentation I'm following is available at https://github.com/hyperledger-labs/minifabric/blob/main/docs/AddNewOrganization.md . Any idea what might be causing the error?
</p>
<p><strong>anil8753</strong> (Sat, 25 Dec 2021 05:45:43 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>nikolas</strong> (Thu, 06 Jan 2022 09:02:16 GMT):<br/>
Hi, is it possible to set the password for couchdb in spec or some other parameter?
</p>
<p><strong>sumiteshnaithani</strong> (Mon, 24 Jan 2022 05:10:18 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sumiteshnaithani</strong> (Mon, 24 Jan 2022 05:10:19 GMT):<br/>
Hi ! I have minifabric network running on EC2 instance and i am trying to connect to that network using local client app(Java SDK). Client app is able to connect to CA and successfully enroll admin and appuser but while invoking transaction it gives a error => ''Channel Channel{id: 1, name: mychannel} Sending proposal with transaction: 6729d6ac528da6695808607886f380032c85aa33dbd4f270f2f4bec65365c4ec to Peer{ id: 3, name: peer2.org0.example.com, channelName: mychannel, url: grpcs://xx.xx.xx.xx:7003, mspid: org0-example-com} failed because of: gRPC failure=Status{code=UNAVAILABLE, description=io exception, cause=io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection timed out: /xx.xx.xx.xx:7003". I have exposed endpoints using -e flag as well while launching minifab network. Any help is appreciated. Thanks
</p>
<p><strong>sichen</strong> (Tue, 25 Jan 2022 00:04:02 GMT):<br/>
Hello.  Is it possible to use Minifabric to deploy a Fabric network to production?  We would probably need to update chain codes and add or remove peers and nodes as time goes on.
</p>
<p><strong>sichen</strong> (Tue, 25 Jan 2022 00:04:02 GMT):<br/>
Hello.  Is it possible to use Minifabric to deploy a Fabric network to production?  We would like to be able to bring nodes in different cloud networks to work together and update chain codes and add or remove peers and nodes as time goes on.
</p>
<p><strong>sumiteshnaithani</strong> (Tue, 25 Jan 2022 04:57:07 GMT):<br/>
According to minifabric's official github repository - If you would like to learn Hyperledger Fabric or develop your smart contract, or just want to get a feel of Hyperledger Fabric, Minifabric is the tool to get you started. Minifabric can stand up a Fabric network on a small machine like a VirtualBox VM *but can also deploy Fabric networks across multiple production grade servers*. Minifabric has been tested on Linux, OS X, Windows 10 and supports Fabric releases 1.4.4 or newer. So i think it can be used.
</p>
<p><strong>sichen</strong> (Tue, 25 Jan 2022 15:58:35 GMT):<br/>
Are there any instructions on how to use minifabric to deploy a production network?
</p>
<p><strong>sumiteshnaithani</strong> (Tue, 25 Jan 2022 17:09:15 GMT):<br/>
Not that i know of for minifabric explicitly but you can always follow this -> https://hyperledger-fabric.readthedocs.io/en/release-2.2/deployment_guide_overview.html
</p>
<p><strong>nikolas</strong> (Tue, 25 Jan 2022 22:37:38 GMT):<br/>
Hi, is it possible to set the password for couchdb in spec or some other parameter?
</p>
<p><strong>knagware9</strong> (Wed, 26 Jan 2022 08:02:26 GMT):<br/>
@sichen  we can follow this guide https://www.hyperledger.org/blog/2020/04/29/minifabric-a-hyperledger-fabric-quick-start-tool-with-video-guides
</p>
<p><strong>knagware9</strong> (Wed, 26 Jan 2022 08:03:47 GMT):<br/>
https://github.com/litong01/minifabric/blob/main/docs/README.md
</p>
<p><strong>sichen</strong> (Wed, 26 Jan 2022 16:41:26 GMT):<br/>
@sumiteshnaithani Those are the general Fabric deployment instructions.  We have followed those as well but they were very time consuming.  We were hoping for an easier way to do it.
</p>
<p><strong>sichen</strong> (Wed, 26 Jan 2022 16:43:08 GMT):<br/>
@knagware9 I think I've followed those when I first started working with Fabric using minifabric.  They were very helpful, but could they be used for production deployments?
</p>
<p><strong>knagware9</strong> (Fri, 28 Jan 2022 05:56:44 GMT):<br/>
@sichen  yes, what they mentioned on repo. @tongli  Can you please help us to deploy miinifabric in prod deployment. Do you have any refrence document other than this
</p>
<p><strong>lebdron</strong> (Wed, 09 Feb 2022 17:40:56 GMT):<br/>
Hello! Are there plans to support Fabric Private Chaincode? https://github.com/hyperledger/fabric-private-chaincode
</p>
<p><strong>tongli</strong> (Fri, 11 Feb 2022 20:25:31 GMT):<br/>
@lebdron it is supported already
</p>
<p><strong>tongli</strong> (Fri, 11 Feb 2022 20:26:29 GMT):<br/>
yes, you certainly can.
</p>
<p><strong>lebdron</strong> (Sat, 12 Feb 2022 12:10:08 GMT):<br/>
@tongli Could you tell how to use it? Because it's different from private data collections
</p>
<p><strong>lebdron</strong> (Sat, 12 Feb 2022 12:10:50 GMT):<br/>
By the way, it would be nice to move to Discord
</p>
<p><strong>rjones</strong> (Sat, 12 Feb 2022 20:56:24 GMT):<br/>
@tongli may I archive this channel and export it? [I have a new place for it](https://discord.com/channels/905194001349627914/942161888022790204)
</p>
<p><strong>nikolas</strong> (Wed, 23 Feb 2022 09:44:08 GMT):<br/>
Hi, can we somehow configure the CAs that get created with minifab? I mean things like Locality etc for the certificates, but also the password of the ca admin. Thank you!
</p>
<p><strong>pkirkinezis</strong> (Mon, 28 Feb 2022 14:03:45 GMT):<br/>
Hi to all how are you? I would like to ask what is docker overlay2 in linux that takes up a lot of space ? Has anyone have experienced that ?
</p>
<p><strong>rjones</strong> (Wed, 02 Mar 2022 22:59:57 GMT):<br/>
hi @pkirkinezis - please join us on discord. https://discord.gg/hyperledger
</p>
<p><strong>davidkel</strong> (Wed, 02 Mar 2022 23:03:06 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:35:22 GMT):<br/>

</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:35:22 GMT):<br/>

</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:35:22 GMT):<br/>

</p>
