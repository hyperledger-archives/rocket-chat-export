{"msg":"Dan","username":"rjones","ts":"2017-03-23T04:49:14.705Z","type":"subscription-role-added"}
{"msg":"@jjason @cianx @jsmitchell @pschwarz can we pick up the consensus interface discussion here?","username":"Dan","ts":"2017-03-23T13:09:25.277Z"}
{"msg":"Has joined the channel.","username":"cianx","ts":"2017-03-23T13:09:25.328Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pschwarz","ts":"2017-03-23T13:09:25.350Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jsmitchell","ts":"2017-03-23T13:09:25.363Z","type":"uj"}
{"msg":"?","username":"cianx","ts":"2017-03-23T13:09:53.983Z"}
{"msg":"@jjason was looking for input on passing a view or a view factory into the consenus methods yesterday on #sawtoothlake ","username":"Dan","ts":"2017-03-23T13:10:36.109Z"}
{"msg":"sec.. maybe I can link to the original posts","username":"Dan","ts":"2017-03-23T13:10:59.542Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtoothlake?msg=MgYXMLcHh7f4ZAmuW) ","username":"Dan","ts":"2017-03-23T13:11:29.757Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtoothlake?msg=MgYXMLcHh7f4ZAmuW","url":"https://chat.hyperledger.org/channel/sawtoothlake?msg=MgYXMLcHh7f4ZAmuW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"My trailing questions...","username":"Dan","ts":"2017-03-23T13:11:59.915Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtoothlake?msg=g3pZzwSS8SZyJu8Kx) ","username":"Dan","ts":"2017-03-23T13:12:21.256Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtoothlake?msg=g3pZzwSS8SZyJu8Kx","url":"https://chat.hyperledger.org/channel/sawtoothlake?msg=g3pZzwSS8SZyJu8Kx","remote":true,"fileId":null,"fileName":null}]}
{"msg":"And jjason's response:","username":"Dan","ts":"2017-03-23T13:12:59.008Z"}
{"msg":" [ ](https://chat.hyperledger.org/channel/sawtoothlake?msg=iyawYeZQEq3vBn4Ek) ","username":"Dan","ts":"2017-03-23T13:13:00.355Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtoothlake?msg=iyawYeZQEq3vBn4Ek","url":"https://chat.hyperledger.org/channel/sawtoothlake?msg=iyawYeZQEq3vBn4Ek","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtoothlake?msg=g3pZzwSS8SZyJu8Kx) [ ](https://chat.hyperledger.org/channel/sawtoothlake?msg=iyawYeZQEq3vBn4Ek) ","username":"Dan","ts":"2017-03-23T13:13:00.355Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtoothlake?msg=g3pZzwSS8SZyJu8Kx","url":"https://chat.hyperledger.org/channel/sawtoothlake?msg=g3pZzwSS8SZyJu8Kx","remote":true,"fileId":null,"fileName":null},{"message_link":"https://chat.hyperledger.org/channel/sawtoothlake?msg=iyawYeZQEq3vBn4Ek","url":"https://chat.hyperledger.org/channel/sawtoothlake?msg=iyawYeZQEq3vBn4Ek","remote":true,"fileId":null,"fileName":null}]}
{"msg":"The consensus interface needs to pass the stateviewfactory to the BlockPublisher and BlockVerifier, so they can create the stateviews desired. That is the cleanest simplest solution. It pushes 1 line of additional code into the consensus implementations if they need a stateview but allows them to get a stateview on any block they desire.","username":"cianx","ts":"2017-03-23T13:17:28.807Z"}
{"msg":"Unclear as to what additional questions need to be answered I favor @jjason #1 as it is cleaner and more consistent but both accomplish the goal of allowing consensus implementations to access stateviews anywhere in the chain.","username":"cianx","ts":"2017-03-23T13:24:51.149Z"}
{"msg":"Has joined the channel.","username":"boydjohnson","ts":"2017-03-23T13:47:31.051Z","type":"uj"}
{"msg":"Has joined the channel.","username":"agunde","ts":"2017-03-23T13:48:01.075Z","type":"uj"}
{"msg":"I don't feel strongly enough to fight for or against either. Going with #1. ","username":"jjason","ts":"2017-03-23T14:00:51.932Z"}
{"msg":"Has joined the channel.","username":"mfford","ts":"2017-03-23T14:22:05.969Z","type":"uj"}
{"msg":"Has left the channel.","username":"rjones","ts":"2017-03-23T17:34:26.860Z","type":"ul"}
{"msg":"Has joined the channel.","username":"mahesh_rao","ts":"2017-03-23T18:48:57.094Z","type":"uj"}
{"msg":"Has joined the channel.","username":"drozd","ts":"2017-03-23T19:14:51.446Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kelly_","ts":"2017-03-23T19:15:33.040Z","type":"uj"}
{"msg":"the triumph of ambivalence","username":"cianx","ts":"2017-03-23T20:56:23.148Z"}
{"msg":"Chatting a bit out of band with @jsmitchell, @cianx and @Dan on the subject of the genesis block on non-genesis validators, and we arrived at the solution of introducing a GenesisConsensus module that would be the default consensus as configured from the empty state. This change requires that a genesis.batch needs some settings transactions for configuring the consensus modules for blocks 1+ - not an unreasonable ask since we're planning on making sawtooth_settings vote-only with a minimum of one approved public key, which changes `sawtooth admin genesis` to require at least one set of batches -- unlike now, where it has none.","username":"pschwarz","ts":"2017-03-23T21:25:57.347Z"}
{"msg":"(moved from #sawtoothlake )","username":"pschwarz","ts":"2017-03-23T21:26:04.885Z"}
{"msg":"Part of the validation that the genesis consensus could do is fail validation if used on a block with a previous block.","username":"pschwarz","ts":"2017-03-23T21:26:40.435Z"}
{"msg":"@jjason does poet already handle genesis block (or I guess generally any non-poet block) when it comes to stats like aggregate local mean?","username":"Dan","ts":"2017-03-23T21:27:38.652Z"}
{"msg":"@dan The assumption has always been that all blocks in the chain belong to a single consensus.","username":"jjason","ts":"2017-03-23T21:28:07.410Z"}
{"msg":"it feels like if this is the first poet block then it should be an initialization process, regardless of where the first poet block occurs in the block sequence","username":"jsmitchell","ts":"2017-03-23T21:28:41.178Z"}
{"msg":"it feels like if this is the first poet block in the current sequence then it should be an initialization process, regardless of where the first poet block occurs in the block sequence","username":"jsmitchell","ts":"2017-03-23T21:28:41.178Z"}
{"msg":"I would have to just put code in the PoET consensus to ignore blocks where the .consensus field does not contain what we expect.","username":"jjason","ts":"2017-03-23T21:28:44.380Z"}
{"msg":"I think that if the intent was to use poet going forward - for example, the genesis block contained the config setting `sawtooth.consensus.algorithm=poet` then that block should also contain the signup information for the first validator.","username":"jjason","ts":"2017-03-23T21:30:51.892Z"}
{"msg":"yep, but that still represents a transition from the empty state to the state containing those values","username":"jsmitchell","ts":"2017-03-23T21:31:19.087Z"}
{"msg":"which is the application of the genesis block","username":"jsmitchell","ts":"2017-03-23T21:31:25.756Z"}
{"msg":"and that needs to be done under the regime of the prior consensus","username":"jsmitchell","ts":"2017-03-23T21:31:39.486Z"}
{"msg":"which is nothing because state is empty","username":"jsmitchell","ts":"2017-03-23T21:31:47.503Z"}
{"msg":"so it should be a default","username":"jsmitchell","ts":"2017-03-23T21:31:53.270Z"}
{"msg":"Yeah...that is fine....if we have this \"genesis consensus\" and it can do all of the legwork to then bootstrap us into PoET consensus...then cool.","username":"jjason","ts":"2017-03-23T21:37:35.636Z"}
{"msg":"I don't see anything in the validator registry transaction handler that would be an issue other than this freshness problem we have regardless of genesis approach: https://github.com/hyperledger/sawtooth-core/blob/master/consensus/poet/families/sawtooth_validator_registry/validator_registry/processor/handler.py#L359  I wonder if that would be better as most recent block_id rather than most recent wait_cert_id.\nthen you aren't special casing genesis differently than if you dev-moded for 20 blocks and then switched to poet.","username":"Dan","ts":"2017-03-23T21:44:59.262Z"}
{"msg":"Created a story for the genesis consensus in the next sprint, assigned to me.  If anyone has things they'd like to add to the description, please do","username":"pschwarz","ts":"2017-03-23T22:05:32.461Z"}
{"msg":"There was talk about changing consensus algorithms after the genesis block has been created. '''[01:18:08.436 INFO     chain] on_block_validated: 03e465dc(1, S:8e200cdd, P:9e9b4953)\n[01:18:08.437 INFO     chain] Chain head updated to: 03e465dc(1, S:8e200cdd, P:9e9b4953)\n[01:18:08.437 INFO     publisher] Now building on top of block: 03e465dc(1, S:8e200cdd, P:9e9b4953)\n[01:18:08.550 INFO     poet_enclave_factory] Load PoET enclave module: sawtooth_poet_simulator.poet_enclave_simulator.poet_enclave_simulator\n[01:18:08.551 INFO     poet_enclave_factory] sawtooth.poet.target_wait_time: 10.000000\n[01:18:08.551 INFO     poet_enclave_factory] sawtooth.poet.initial_wait_time: 3000.000000\n[01:18:08.551 INFO     poet_enclave_factory] sawtooth.poet.certificate_sample_length: 50\n[01:18:08.551 INFO     poet_enclave_factory] sawtooth.poet.fixed_duration_blocks: 50\n[01:18:08.551 INFO     poet_enclave_factory] sawtooth.poet.minimum_wait_time: 1.000000\n[01:18:08.725 CRITICAL publisher] on_chain_updated exception.\n[01:18:08.725 ERROR    publisher] Expecting value: line 1 column 1 (char 0)\nTraceback (most recent call last):\n  File \"/project/sawtooth-core/validator/sawtooth_validator/journal/publisher.py\", line 332, in on_chain_updated\n    self._candidate_block = self._build_block(chain_head)\n  File \"/project/sawtooth-core/validator/sawtooth_validator/journal/publisher.py\", line 134, in _build_block\n    if not self._consensus.initialize_block(block_builder.block_header):\n  File \"/project/sawtooth-core/consensus/poet/core/sawtooth_poet/poet_consensus/poet_block_publisher.py\", line 211, in initialize_block\n    self._register_signup_information(block_header=block_header)\n  File \"/project/sawtooth-core/consensus/poet/core/sawtooth_poet/poet_consensus/poet_block_publisher.py\", line 100, in _register_signup_information\n    poet_enclave_module=self._poet_enclave_module).identifier\n  File \"/project/sawtooth-core/consensus/poet/core/sawtooth_poet/poet_consensus/utils.py\", line 54, in deserialize_wait_certificate\n    wait_certificate_dict = json.loads(block.header.consensus.decode())\n  File \"/usr/lib/python3.5/json/__init__.py\", line 319, in loads\n    return _default_decoder.decode(s)\n  File \"/usr/lib/python3.5/json/decoder.py\", line 339, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/usr/lib/python3.5/json/decoder.py\", line 357, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)'''","username":"boydjohnson","ts":"2017-03-24T01:23:27.571Z"}
{"msg":"yeah.....right now all hell will break loose.....the PoET consensus module will expect that it can deserialize the contents of block_header.consensus into a wait certificate.  The assumption up until this afternoon was that all blocks will have been created by the same consensus module ;)","username":"jjason","ts":"2017-03-24T03:05:19.008Z"}
{"msg":"@jjason PR-265 LGTM. I couldn't break it with my mind. I did not run it on a computer though. Usually they break things better.","username":"Dan","ts":"2017-03-27T22:03:17.926Z"}
{"msg":"@drozd found a problem if you run 5 validators, but it is deep down in the bowels of abc.py seemingly caused by the cryptography package :(","username":"jjason","ts":"2017-03-27T22:04:41.738Z"}
{"msg":"I haven't been able to reproduce it though","username":"drozd","ts":"2017-03-27T22:05:26.405Z"}
{"msg":"what's more concerning to me is that the publisher frequently gets stuck in a loop when it gets an error","username":"drozd","ts":"2017-03-27T22:06:50.499Z"}
{"msg":"an extremely verbose error loop","username":"drozd","ts":"2017-03-27T22:07:02.736Z"}
{"msg":"That may be my fault if I am letting an exception sneak out of `initialize_block()`.","username":"jjason","ts":"2017-03-27T22:08:30.762Z"}
{"msg":"Hey @jjason, do you have that abc.py stack trace? I want to add it to my collection.","username":"boydjohnson","ts":"2017-03-27T22:13:35.980Z"}
{"msg":"```\nvalidator-2_1              | [03:45:58.672 ERROR    publisher] issubclass() arg 2 must be a class or tuple of classes\nvalidator-2_1              | Traceback (most recent call last):\nvalidator-2_1              |   File \"/project/sawtooth-core/validator/sawtooth_validator/journal/publisher.py\", line 414, in on_check_publish_block\nvalidator-2_1              |     self._candidate_block = self._build_block(self._chain_head)\nvalidator-2_1              |   File \"/project/sawtooth-core/validator/sawtooth_validator/journal/publisher.py\", line 135, in _build_block\nvalidator-2_1              |     if not self._consensus.initialize_block(block_builder.block_header):\nvalidator-2_1              |   File \"/project/sawtooth-core/consensus/poet/core/sawtooth_poet/poet_consensus/poet_block_publisher.py\", line 211, in initialize_block\nvalidator-2_1              |     factory.PoetEnclaveFactory.get_poet_enclave_module(state_view)\nvalidator-2_1              |   File \"/project/sawtooth-core/consensus/poet/core/sawtooth_poet/poet_consensus/poet_enclave_factory.py\", line 124, in get_poet_enclave_module\nvalidator-2_1              |     module = importlib.import_module(module_name)\nvalidator-2_1              |   File \"/usr/lib/python3.5/importlib/__init__.py\", line 126, in import_module\nvalidator-2_1              |     return _bootstrap._gcd_import(name[level:], package, level)\nvalidator-2_1              |   File \"<frozen importlib._bootstrap>\", line 986, in _gcd_import\nvalidator-2_1              |   File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\nvalidator-2_1              |   File \"<frozen importlib._bootstrap>\", line 958, in _find_and_load_unlocked\nvalidator-2_1              |   File \"<frozen importlib._bootstrap>\", line 673, in _load_unlocked\nvalidator-2_1              |   File \"<frozen importlib._bootstrap_external>\", line 665, in exec_module\nvalidator-2_1              |   File \"<frozen importlib._bootstrap>\", line 222, in _call_with_frames_removed\nvalidator-2_1              |   File \"/project/sawtooth-core/consensus/poet/simulator/sawtooth_poet_simulator/poet_enclave_simulator/poet_enclave_simulator.py\", line 52, in <module>\nvalidator-2_1              |     class _PoetEnclaveSimulator(object):\nvalidator-2_1              |   File \"/project/sawtooth-core/consensus/poet/simulator/sawtooth_poet_simulator/poet_enclave_simulator/poet_enclave_simulator.py\", line 121, in _PoetEnclaveSimulator\nvalidator-2_1              |     backend=backends.default_backend())\nvalidator-2_1              |   File \"/usr/local/lib/python3.5/dist-packages/cryptography/hazmat/backends/__init__.py\", line 74, in default_backend\nvalidator-2_1              |     _default_backend = MultiBackend(_available_backends())\nvalidator-2_1              |   File \"/usr/local/lib/python3.5/dist-packages/cryptography/hazmat/backends/__init__.py\", line 31, in _available_backends\nvalidator-2_1              |     \"cryptography.backends\"\nvalidator-2_1              |   File \"/usr/local/lib/python3.5/dist-packages/cryptography/hazmat/backends/__init__.py\", line 30, in <listcomp>\nvalidator-2_1              |     for ep in pkg_resources.iter_entry_points(\nvalidator-2_1              |   File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2235, in resolve\nvalidator-2_1              |     module = __import__(self.module_name, fromlist=['__name__'], level=0)\nvalidator-2_1              |   File \"/usr/local/lib/python3.5/dist-packages/cryptography/hazmat/backends/openssl/__init__.py\", line 7, in <module>\nvalidator-2_1              |     from cryptography.hazmat.backends.openssl.backend import backend\nvalidator-2_1              |   File \"/usr/local/lib/python3.5/dist-packages/cryptography/hazmat/backends/openssl/backend.py\", line 45, in <module>\nvalidator-2_1              |     from cryptography.hazmat.backends.openssl.x509 import (\nvalidator-2_1              |   File \"/usr/local/lib/python3.5/dist-packages/cryptography/hazmat/backends/openssl/x509.py\", line 165, in <module>\nvalidator-2_1              |     class _RevokedCertificate(object):\nvalidator-2_1              |   File \"/usr/local/lib/python3.5/dist-packages/cryptography/utils.py\", line 31, in register_decorator\nvalidator-2_1              |     iface.register(klass)\nvalidator-2_1              |   File \"/usr/lib/python3.5/abc.py\", line 158, in register\nvalidator-2_1              |     if issubclass(subclass, cls):\nvalidator-2_1              |   File \"/usr/lib/python3.5/abc.py\", line 221, in __subclasscheck__\nvalidator-2_1              |     if issubclass(subclass, rcls):\nvalidator-2_1              | TypeError: issubclass() arg 2 must be a class or tuple of classes\n```","username":"jjason","ts":"2017-03-27T22:15:59.932Z"}
{"msg":"Per @drozd ","username":"jjason","ts":"2017-03-27T22:16:08.242Z"}
{"msg":"the publisher doesn't raise when it gets an exception, it just logs it","username":"drozd","ts":"2017-03-27T22:19:12.434Z"}
{"msg":"it gets called in a loop by journal, so that loop doesn't stop","username":"drozd","ts":"2017-03-27T22:19:27.055Z"}
{"msg":"@drozd You might also start up validators with -vv so you get more verbose logging while you are debugging.","username":"jjason","ts":"2017-03-27T22:22:39.290Z"}
{"msg":"with three validators, -vv results in getting buried in interconnect chatter","username":"drozd","ts":"2017-03-27T22:26:29.410Z"}
{"msg":"Well...if you can't see the error, then it must not exist ;)","username":"jjason","ts":"2017-03-27T22:29:33.310Z"}
{"msg":"@jjason Do you remember what the issue was that casued problems in PoET with speculatively building on the just published? It was missing from one of the stores or caches. ","username":"cianx","ts":"2017-03-28T03:47:11.490Z"}
{"msg":"The problem I ran into was that because blocks were speculatively built, it caused a wait timer to be created (because `initialize_block()` was called) and by the time `finalize_block()` was called, because it might be some time before transactions were submitted, the timer had not only expired, but it had timed out so the call to create the wait certificate would fail.","username":"jjason","ts":"2017-03-28T04:22:23.288Z"}
{"msg":"Thx, that was different than I remembered.","username":"cianx","ts":"2017-03-28T05:24:16.761Z"}
{"msg":"Has joined the channel.","username":"travin","ts":"2017-03-29T14:28:27.304Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MicBowman","ts":"2017-03-29T17:40:45.974Z","type":"uj"}
{"msg":"@jjason I think you were intending to use validator_id to construct a file name? per PR 288 https://github.com/hyperledger/sawtooth-core/pull/288/\nI see in your unit tests you use a _friendly_ string like we once (still?) had for validator *name*. In your calls it looks like you will instantiate in practice with the public key of the validator.","username":"Dan","ts":"2017-03-31T21:13:47.930Z"}
{"msg":"The intention is that this will really be the validator's string-encoded public key.  This is also what the validator registry keys off of.","username":"jjason","ts":"2017-03-31T21:15:06.172Z"}
{"msg":"Id is used elsewhere as a function of the pk. If this param is to be used as a pk then consider calling it as such. I'm still not clear on the use though. Is this for a file name,  or creating signup info, ...?","username":"Dan","ts":"2017-03-31T21:23:43.828Z"}
{"msg":"It is meant to be a persistent, unique identifier for a validator.  The validator registry uses it as its key so it can look up signup information.  The consensus state store will use it to guarantee a unique name for its underlying LMDB file.","username":"jjason","ts":"2017-03-31T21:29:21.725Z"}
{"msg":"`[06:46:52.992 INFO     poet_fork_resolver] Chain with new fork head 28c0c6b1...b16bdf17 longer (5) than current chain head 9a55aed4...24233547 (4)`","username":"drozd","ts":"2017-03-31T21:43:16.873Z"}
{"msg":"fancy new logging statement","username":"drozd","ts":"2017-03-31T21:43:23.382Z"}
{"msg":"@drozd Yeah - I wanted some visibility into fork resolution.","username":"jjason","ts":"2017-03-31T21:43:53.473Z"}
{"msg":"Got it. Thanks. ","username":"Dan","ts":"2017-03-31T22:04:55.783Z"}
{"msg":"It doesn't necessarily _have_ to be the public key of the validator, but currently that is the only unique identifier we have.  In 0-7 I believe it was the bitcoin-style address derived from the public key.  It may be that this is a larger question about what we should use as a persistent, unique ID for a validator.","username":"jjason","ts":"2017-03-31T22:12:55.297Z"}
{"msg":"Maybe not _the_ only...but certainly the one that the PoET consensus module has access to when verifying blocks, etc.","username":"jjason","ts":"2017-03-31T22:13:26.648Z"}
{"msg":"@jjason I've been trying variations of the test, and I haven't seen them get out of consensus so far","username":"drozd","ts":"2017-03-31T22:56:11.807Z"}
{"msg":"what's something that you think might be more difficult?","username":"drozd","ts":"2017-03-31T22:56:44.076Z"}
{"msg":"Oh....I can pretty reliably cause all sorts of havoc :)","username":"jjason","ts":"2017-03-31T22:56:46.440Z"}
{"msg":"This branch is pretty good at breaking things:https://github.com/jjason/sawtooth-core/tree/DebugForkResolution","username":"jjason","ts":"2017-03-31T22:57:09.475Z"}
{"msg":"It sets target wait time to 5 and initial wait time to 0.","username":"jjason","ts":"2017-03-31T22:57:23.604Z"}
{"msg":"Increases odds of forks tremendously.","username":"jjason","ts":"2017-03-31T22:57:36.345Z"}
{"msg":"That branch also sets the validators to -vv logging level.  What I have been doing is running the test as such:\n\n`run_docker_test poet-smoke.yaml | tee output`\n\nThat way I can watch for anomlies (like timeouts, etc.) and also capture to a file so I can post-process.","username":"jjason","ts":"2017-03-31T23:02:04.421Z"}
{"msg":"damn, I was trying to figure out how to do that","username":"drozd","ts":"2017-03-31T23:02:36.449Z"}
{"msg":"Here are a couple of scripts I use to post-process the log (strips out color stuff and messages we don't really care about).  It also takes the test results summary and makes it a little easier to read.","username":"jjason","ts":"2017-03-31T23:03:00.278Z"}
{"msg":"","username":"jjason","ts":"2017-03-31T23:05:02.313Z","attachments":[{"title":"File Uploaded: clean_smoke_test_results.txt","title_link":"/file-upload/kALTL96oCzSFoTRTm/clean_smoke_test_results.txt","url":"/file-upload/kALTL96oCzSFoTRTm/clean_smoke_test_results.txt","remote":false,"fileId":"kALTL96oCzSFoTRTm"}]}
{"msg":"","username":"jjason","ts":"2017-03-31T23:05:29.122Z","attachments":[{"title":"File Uploaded: process_log.txt","title_link":"/file-upload/9268GthbwdvAg4igf/process_log.txt","url":"/file-upload/9268GthbwdvAg4igf/process_log.txt","remote":false,"fileId":"9268GthbwdvAg4igf"}]}
{"msg":"@drozd After capturing the log, you can run:\n\n`./process_log output`\n\nIt has hard-coded assumption right now for 3 validators, so produces 4 files.  One that is the results of the PoET smoke test and one file for the log messages emitted by that particular validator.","username":"jjason","ts":"2017-03-31T23:06:25.205Z"}
{"msg":"Hey @jjason, in that branch you posted. the second to last commit has block, and batch broadcast commented out. Is that what @jsmitchell was talking about was causing the weird stack corruption errors?","username":"boydjohnson","ts":"2017-03-31T23:29:28.535Z"}
{"msg":"I think so.","username":"jjason","ts":"2017-03-31T23:30:52.264Z"}
{"msg":"Is that commit message something like \"GARBAGE....\"","username":"jjason","ts":"2017-03-31T23:31:19.271Z"}
{"msg":"Yeah, there are two commit messages \"GARBAGE GARBAGE GARBAGE NEVER MERGE\", and this one has @jsmitchell as the Author and you as the Committer.","username":"boydjohnson","ts":"2017-03-31T23:33:00.042Z"}
{"msg":"yeah.  His commit did that as well as added some more logging and changed some PoET parameters in the configuration.  The other one is mine that adds more logging and turns up the verbosity of the validator to _11_.","username":"jjason","ts":"2017-03-31T23:33:53.378Z"}
{"msg":":) I would like to write some unitish tests for these weird errors that would use one component but in a mult-threaded manner, like it would be used in the actual code.","username":"boydjohnson","ts":"2017-03-31T23:36:50.248Z"}
{"msg":"Perhaps we could narrow the concurrency bugs down to components.","username":"boydjohnson","ts":"2017-03-31T23:37:34.288Z"}
{"msg":"Yeah....being able to ferret out threading issues with unit tests would be suh-weet.","username":"jjason","ts":"2017-03-31T23:37:34.684Z"}
{"msg":"Now that I got those other PRs up and done, I am back to debugging.  I have found that when the fork happens, it _seems_ that the validator that is out of consensus has validated a block but because the chain head changed underneath it, it wants to re-verify.  I am not trying to figure out if it does and if it doesn't, why not.  Once that happens, the block just sits in the pending queue and all blocks that build on the block also just sit in the pending queue.","username":"jjason","ts":"2017-03-31T23:40:17.170Z"}
{"msg":"Now that I got those other PRs up and done, I am back to debugging.  I have found that when the fork happens, it _seems_ that the validator that is out of consensus has validated a block but because the chain head changed underneath it, it wants to re-verify.  I am now trying to figure out if it does and if it doesn't, why not.  Once that happens, the block just sits in the pending queue and all blocks that build on the block also just sit in the pending queue.","username":"jjason","ts":"2017-03-31T23:40:17.170Z"}
{"msg":"One thing I have noticed with testing is that if the default PoET settings are used, the PoET smoke test passes pretty reliably.  However, once ratcheting it up (for example - setting target wait time to 5 so that wait timers are shorter and increase the likelihood of forks) that is when the wheels start to fall off.","username":"jjason","ts":"2017-03-31T23:43:01.050Z"}
{"msg":"Yeah, @drozd says there are other ways to get errors, too. Like different peering combinations, especially more of a mesh network.","username":"boydjohnson","ts":"2017-03-31T23:44:00.872Z"}
{"msg":"But I would think those are more of our concurrency issues in the networking layer problems.","username":"boydjohnson","ts":"2017-03-31T23:45:16.373Z"}
{"msg":"I'm taking off. Have a good weekend, @jjason!","username":"boydjohnson","ts":"2017-03-31T23:46:19.568Z"}
{"msg":"@boydjohnson You too.","username":"jjason","ts":"2017-03-31T23:46:49.446Z"}
{"msg":"@jjason I'm working on a new test setup, so get ready to throw that hard-coded assumption in the trash","username":"drozd","ts":"2017-03-31T23:55:17.941Z"}
{"msg":"@drozd That's cool. The scripts were thrown together quickly for quick debugging. I was thinking of changing to a single Python script that you could just pipe output of test while it is running and would clean up and produce output files in real time. Could also make it take as a command line parameter a file that has messages to strip out. ","username":"jjason","ts":"2017-04-01T00:04:07.781Z"}
{"msg":"@jsmitchell @boydjohnson @drozd @cianx @pschwarz I found what _appears_ to be an issue in fork resolution/chain processing that is leading to the unrecoverable forks seeing when running the PoET smoke test with aggressive target wait time (5).  I have some potential fixes that I am going to test today.","username":"jjason","ts":"2017-04-01T16:09:35.790Z"}
{"msg":":woo: ","username":"jsmitchell","ts":"2017-04-01T16:12:34.562Z"}
{"msg":"@jsmitchell @boydjohnson @cianx @drozd @pschwarz I made a couple of potential fixes to the the chain controller code (in `ChainController.on_block_validated`).\n\nThe first problem I found was that, because target and initial wait times are small, blocks are coming quickly and I found that validators would get into this state where they kept running the same block through validation.  The reason was that each time it had made a decision about the block, it would find that the chain head was updated while that was happening.  So, I changed the code so that that if a block validates successfully, but the chain head changed while it was being validated, and one or more descendant blocks arrived while the block was being validated, instead of rescheduling that block it schedules the descendants.  If not, then it simply reschedules the block.  There is still a potential problem with that I haven't bothered working out yet.\n\nThe second problem I found was that if a validator checks a block, decides it likes the current chain head better, and it doesn't detect that the chain head changed while it was processing it, if a descendant had arrived while that block was being processed it will stay in the pending blocks map and it, and all of its descendants, will never be checked (because each descendant block checks to see if its ancestor is in the pending blocks map and if so, it assumes that it will eventually be processed).  Essentially, the original block and all descendants are on a fork that that validator will never bother checking.  The fix was that if a block is valid, but is not to become the chain head, if it has immediate descendants in the pending blocks map, then the descendants are validated.\n\nHere is my branch with the proposed fixes (as well as copious amounts of logging messages):\n\nhttps://github.com/jjason/sawtooth-core/tree/DebugForkResolution\n\nIf you search for `JLJ` you'll find the two places I updated in the code.\n\nI am still tracking down one problem I am seeing.  For some reason, the executor thread stops running once the PoET smoke test starts getting the results.  If you look at the log messages in my next post, you notice that all of a sudden the chain controller stops processing even though the validator keeps responding to message from REST API.","username":"jjason","ts":"2017-04-02T03:51:21.557Z"}
{"msg":"@jsmitchell @boydjohnson @cianx @drozd @pschwarz I made a couple of potential fixes to the the chain controller code (in `ChainController.on_block_validated`).\n\nThe first problem I found was that, because target and initial wait times are small, blocks are coming quickly and I found that validators would get into this state where they kept running the same block through validation.  The reason was that each time it had made a decision about the block, it would find that the chain head was updated while that was happening.  So, I changed the code so that that if a block validates successfully, but the chain head changed while it was being validated, and one or more descendant blocks arrived while the block was being validated, instead of rescheduling that block it schedules the descendants.  If not, then it simply reschedules the block.  There is still a potential problem with that I haven't bothered working out yet.\n\nThe second problem I found was that if a validator checks a block, decides it likes the current chain head better, and it doesn't detect that the chain head changed while it was processing it, if a descendant had arrived while that block was being processed it will stay in the pending blocks map and it, and all of its descendants, will never be checked (because each descendant block checks to see if its ancestor is in the pending blocks map and if so, it assumes that it will eventually be processed).  Essentially, the original block and all descendants are on a fork that that validator will never bother checking.  The fix was that if a block is valid, but is not to become the chain head, if it has immediate descendants in the pending blocks map, then the descendants are validated.\n\nHere is my branch with the proposed fixes (as well as copious amounts of logging messages):\n\nhttps://github.com/jjason/sawtooth-core/tree/DebugForkResolution\n\nI am still tracking down one problem I am seeing.  For some reason, the executor thread stops running once the PoET smoke test starts getting the results.  If you look at the log messages in my next post, you notice that all of a sudden the chain controller stops processing even though the validator keeps responding to message from REST API.","username":"jjason","ts":"2017-04-02T03:51:21.557Z"}
{"msg":"```validator-1_1              | [02:15:03.255 INFO     chain] Block wrapper status valid: 89fed805(16, S:c67da7e4, P:29fe84f5)\nvalidator-1_1              | [02:15:03.256 INFO     chain] Finish self.validate_block: 89fed805(16, S:c67da7e4, P:29fe84f5)\nvalidator-1_1              | [02:15:03.256 INFO     chain] Start self.validate_block: b852fc69(17, S:c0814a75, P:89fed805)\nvalidator-1_1              | [02:15:03.256 INFO     chain] Block wrapper status valid: b852fc69(17, S:c0814a75, P:89fed805)\nvalidator-1_1              | [02:15:03.256 INFO     chain] Finish self.validate_block: b852fc69(17, S:c0814a75, P:89fed805)\nvalidator-1_1              | [02:15:03.257 INFO     chain] Start self.validate_block: 40f1b20b(18, S:bb0bc0fa, P:b852fc69)\nvalidator-1_1              | [02:15:03.257 INFO     chain] Block wrapper status valid: 40f1b20b(18, S:bb0bc0fa, P:b852fc69)\nvalidator-1_1              | [02:15:03.257 INFO     chain] Finish self.validate_block: 40f1b20b(18, S:bb0bc0fa, P:b852fc69)\nvalidator-1_1              | [02:15:03.257 INFO     chain] Start self.validate_block: 08b6c692(19, S:c28bb8b9, P:40f1b20b)\nvalidator-1_1              | [02:15:03.258 INFO     chain] Block wrapper status valid: 08b6c692(19, S:c28bb8b9, P:40f1b20b)\nvalidator-1_1              | [02:15:03.258 INFO     chain] Finish self.validate_block: 08b6c692(19, S:c28bb8b9, P:40f1b20b)\nvalidator-1_1              | [02:15:03.258 INFO     chain] Start self.validate_block: 68fcdc24(20, S:0cb4daf9, P:08b6c692)\nvalidator-1_1              | [02:15:14.622 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 receiving NETWORK_PING message: 70 bytes\nvalidator-1_1              | [02:15:14.635 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 sending NETWORK_ACK to tcp://validator-0:8800\nvalidator-1_1              | [02:15:18.639 DEBUG    interconnect] ServerThread sending NETWORK_PING to b'd67529ad395db2b3f38ab74-555ddcfc6bb35c8f3618e26'\nvalidator-1_1              | [02:15:18.652 DEBUG    interconnect] ServerThread receiving NETWORK_ACK message: 70 bytes\nvalidator-1_1              | [02:15:18.654 DEBUG    interconnect] message round trip: NETWORK_ACK 0.014345884323120117\nvalidator-1_1              | [02:15:28.872 DEBUG    interconnect] ServerThread receiving CLIENT_BLOCK_LIST_REQUEST message: 69 bytes\nvalidator-1_1              | [02:15:28.877 DEBUG    interconnect] ServerThread sending CLIENT_BLOCK_LIST_RESPONSE to b'e2eb927b89484c5d'\nvalidator-1_1              | [02:15:30.067 DEBUG    interconnect] ServerThread receiving CLIENT_BLOCK_LIST_REQUEST message: 69 bytes\nvalidator-1_1              | [02:15:30.073 DEBUG    interconnect] ServerThread sending CLIENT_BLOCK_LIST_RESPONSE to b'e2eb927b89484c5d'\nvalidator-1_1              | [02:15:30.160 DEBUG    interconnect] ServerThread receiving CLIENT_BLOCK_LIST_REQUEST message: 69 bytes\nvalidator-1_1              | [02:15:30.165 DEBUG    interconnect] ServerThread sending CLIENT_BLOCK_LIST_RESPONSE to b'e2eb927b89484c5d'\nvalidator-1_1              | [02:15:34.643 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 receiving NETWORK_PING message: 70 bytes\nvalidator-1_1              | [02:15:34.646 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 sending NETWORK_ACK to tcp://validator-0:8800\nvalidator-1_1              | [02:15:38.660 DEBUG    interconnect] ServerThread sending NETWORK_PING to b'd67529ad395db2b3f38ab74-555ddcfc6bb35c8f3618e26'\nvalidator-1_1              | [02:15:38.671 DEBUG    interconnect] ServerThread receiving NETWORK_ACK message: 70 bytes\nvalidator-1_1              | [02:15:38.672 DEBUG    interconnect] message round trip: NETWORK_ACK 0.01240682601928711\nvalidator-1_1              | [02:15:44.662 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 receiving NETWORK_PING message: 70 bytes\nvalidator-1_1              | [02:15:44.667 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 sending NETWORK_ACK to tcp://validator-0:8800\nvalidator-1_1              | [02:15:48.673 DEBUG    interconnect] ServerThread sending NETWORK_PING to b'd67529ad395db2b3f38ab74-555ddcfc6bb35c8f3618e26'\nvalidator-1_1              | [02:15:48.688 DEBUG    interconnect] ServerThread receiving NETWORK_ACK message: 70 bytes\nvalidator-1_1              | [02:15:48.689 DEBUG    interconnect] message round trip: NETWORK_ACK 0.01577305793762207\nvalidator-1_1              | [02:16:04.681 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 receiving NETWORK_PING message: 70 bytes\nvalidator-1_1              | [02:16:04.685 DEBUG    interconnect] OutboundConnectionThread-tcp://validator-0:8800 sending NETWORK_ACK to tcp://validator-0:8800```\n","username":"jjason","ts":"2017-04-02T03:52:54.234Z"}
{"msg":"There are more interconnect messages (for the next 1.5 minutes while test finishes), but no messages from chain.  All three validators show this same behavior.  So, I don't know if it is something funky going on in the docker containers or what is going on.","username":"jjason","ts":"2017-04-02T03:54:21.095Z"}
{"msg":"@jjason: I've seen situations where exceptions are getting swallowed. You might want to put a try except block around the contents of run() and log and exception that is caught","username":"jsmitchell","ts":"2017-04-02T21:30:57.955Z"}
{"msg":"@jsmitchell Will do. It is strange that all three validators just stop processing blocks at the same time. ","username":"jjason","ts":"2017-04-02T21:48:00.987Z"}
{"msg":"Would make sense if there is a condition that is deterministically causing them to error :)","username":"jsmitchell","ts":"2017-04-02T22:09:42.402Z"}
{"msg":"`ChainController.run` is already wrapped to catch `Exception`.  Going to dive into excecutor code to see what is going on.","username":"jjason","ts":"2017-04-03T15:42:09.071Z"}
{"msg":"I think that there is one more thing I need to check in `ChainController.on_block_validated()`.  If a block is considered invalid, then I think that the all descendant blocks need to be removed from the pending blocks queue as they will never be added to the chain as they are on a fork with an invalid block.","username":"jjason","ts":"2017-04-03T16:30:28.664Z"}
{"msg":"@jjason nice work on PR 291... 5 neatly packaged commits, full unit tests for new functionality, clear comments. And in 1200 LOC I can't find anything wrong. ","username":"Dan","ts":"2017-04-04T01:31:34.711Z"}
{"msg":"Thanks @Dan.  Give @pschwarz  credit for the commit messages.","username":"jjason","ts":"2017-04-04T01:38:38.645Z"}
{"msg":"Thanks @Dan. Give @pschwarz  credit for the commit messages.","username":"jjason","ts":"2017-04-04T01:38:38.645Z"}
{"msg":"Oh, and let's just leave it at most unit tests for new functionality :(  I have a few more I need to add.","username":"jjason","ts":"2017-04-04T01:39:38.136Z"}
{"msg":"```$ run_tests\n[---Running cli tests---]\nINFO:__main__:Bringing up with ['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'up', '--abort-on-container-exit']\nCreating network \"latest_default\" with the default driver\nPulling cli (sawtooth-dev-test:latest)...\nERROR: repository sawtooth-dev-test not found: does not exist or no pull access\nERROR:__main__:Failed to start test.\nERROR:__main__:Command '['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'up', '--abort-on-container-exit']' returned non-zero exit status 1\nTraceback (most recent call last):\n  File \"/project/sawtooth-core/bin/run_docker_test\", line 101, in main\n    subprocess.run(compose_up, check=True, timeout=timer.remaining())\n  File \"/usr/lib/python3.5/subprocess.py\", line 708, in run\n    output=stdout, stderr=stderr)\nsubprocess.CalledProcessError: Command '['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'up', '--abort-on-container-exit']' returned non-zero exit status 1\nINFO:__main__:Shutting down with: ['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'down', '--remove-orphans']\nRemoving network latest_default\n```","username":"cianx","ts":"2017-04-06T22:57:09.037Z"}
{"msg":"Error Number 1 today(that I am sharing): ```$ run_tests\n[---Running cli tests---]\nINFO:__main__:Bringing up with ['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'up', '--abort-on-container-exit']\nCreating network \"latest_default\" with the default driver\nPulling cli (sawtooth-dev-test:latest)...\nERROR: repository sawtooth-dev-test not found: does not exist or no pull access\nERROR:__main__:Failed to start test.\nERROR:__main__:Command '['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'up', '--abort-on-container-exit']' returned non-zero exit status 1\nTraceback (most recent call last):\n  File \"/project/sawtooth-core/bin/run_docker_test\", line 101, in main\n    subprocess.run(compose_up, check=True, timeout=timer.remaining())\n  File \"/usr/lib/python3.5/subprocess.py\", line 708, in run\n    output=stdout, stderr=stderr)\nsubprocess.CalledProcessError: Command '['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'up', '--abort-on-container-exit']' returned non-zero exit status 1\nINFO:__main__:Shutting down with: ['docker-compose', '-p', 'latest', '-f', './cli/tests/unit_cli.yaml', 'down', '--remove-orphans']\nRemoving network latest_default\n```","username":"cianx","ts":"2017-04-06T22:57:09.037Z"}
{"msg":"Thought maybe this was because I forgot to do a build all. ","username":"cianx","ts":"2017-04-06T22:57:35.524Z"}
{"msg":"so ....","username":"cianx","ts":"2017-04-06T22:58:00.486Z"}
{"msg":"```(SAWTOOTH)ubuntu-xenial /project/sawtooth-core\n$ time build_all\n\n[--- Building images with sawtooth mounted ---]\n\n\n[--- Building java ---]\n\n\n[--- Building sawtooth-build-java... ---]\n\nSending build context to Docker daemon  48.64kB\nStep 1/2 : FROM maven:3-jdk-8\n3-jdk-8: Pulling from library/maven\n6d827a3ef358: Pull complete \n2726297beaf1: Pull complete \n7d27bd3d7fec: Pull complete \ne61641c845ed: Pull complete \ncce4cca5b76b: Pull complete \n6826227500b0: Pull complete \nc03b117ffd91: Pull complete \n821a1547b435: Pull complete \n2bd47f6b1b42: Pull complete \ne4cf3e9f705c: Pull complete \n3733107c5c01: Pull complete \nDigest: sha256:18e8bd367c73c93e29d62571ee235e106b18bf6718aeb235c7a07840328bba71\nStatus: Downloaded newer image for maven:3-jdk-8\n ---> 9997d8483b2f\nStep 2/2 : CMD /project/sawtooth-core/bin/build_java_sdk  && /project/sawtooth-core/bin/build_java_intkey\n ---> Running in 42487c1c551d\n ---> e1bf9ff1bfa9\nRemoving intermediate container 42487c1c551d\nSuccessfully built e1bf9ff1bfa9\nSetting HTTP proxy to (proxy-us.intel.com, 911/)\nSetting HTTPS proxy to (proxy-us.intel.com, 912/)\n[INFO] Scanning for projects...\n[INFO] Downloading: https://repo.maven.apache.org/maven2/kr/motd/maven/os-maven-plugin/1.4.0.Final/os-maven-plugin-1.4.0.Final.pom\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Unresolveable build extension: Plugin kr.motd.maven:os-maven-plugin:1.4.0.Final or one of its dependencies could not be resolved: Failed to read artifact descriptor for kr.motd.maven:os-maven-plugin:jar:1.4.0.Final @ \n @ \n[ERROR] The build could not read 1 project -> [Help 1]\n[ERROR]   \n[ERROR]   The project sawtooth:sdk:1.0-SNAPSHOT (/project/sawtooth-core/sdk/java/pom.xml) has 1 error\n[ERROR]     Unresolveable build extension: Plugin kr.motd.maven:os-maven-plugin:1.4.0.Final or one of its dependencies could not be resolved: Failed to read artifact descriptor for kr.motd.maven:os-maven-plugin:jar:1.4.0.Final: Could not transfer artifact kr.motd.maven:os-maven-plugin:pom:1.4.0.Final from/to central (https://repo.maven.apache.org/maven2): Connect to proxy-us.intel.com:443 [proxy-us.intel.com/10.7.211.16] failed: Connection refused (Connection refused) -> [Help 2]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginManagerException\n\nreal\t0m59.633s\nuser\t0m0.156s\nsys\t0m0.256s\n","username":"cianx","ts":"2017-04-06T22:58:04.762Z"}
{"msg":"Testing but this may be due to a trailing slash on my proxy environment settings. ","username":"cianx","ts":"2017-04-06T23:16:45.405Z"}
{"msg":"@adamludvik ^ can you harden your docker build scripts to not be tripped up by a trailing slash on the proxy environment variables?","username":"cianx","ts":"2017-04-06T23:17:40.890Z"}
{"msg":"Has joined the channel.","username":"adamludvik","ts":"2017-04-06T23:17:40.936Z","type":"uj"}
{"msg":"Has joined the channel.","username":"haridhakshini","ts":"2017-04-09T02:12:11.821Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Lin-YiTang","ts":"2017-04-11T21:15:03.096Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jaredcorduan","ts":"2017-04-13T19:28:42.590Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sklymenko","ts":"2017-04-14T12:07:38.210Z","type":"uj"}
{"msg":"Has joined the channel.","username":"schwentker2","ts":"2017-04-17T12:25:50.635Z","type":"uj"}
{"msg":"Has joined the channel.","username":"amundson","ts":"2017-04-17T22:36:46.592Z","type":"uj"}
{"msg":"Has joined the channel.","username":"DerekTiffany","ts":"2017-04-24T18:01:36.943Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pancake","ts":"2017-04-27T08:59:49.712Z","type":"uj"}
{"msg":"@jjason with your spate of commits over the last couple weeks I think we are now at feature complete on the poet - sawtooth 0.8 integration? I know there are testing stories and some refactoring / cleanup, but from a functionality perspective we are golden right?","username":"Dan","ts":"2017-04-29T16:09:37.640Z"}
{"msg":"@Dan I think from the perspective of the core PoET consensus, we are 99% of the way.  We do have a couple of small stories about removing the old kwargs from the PoET enclaves.  However, those stories are not part of the core PoET consensus, so from that perspective you could consider it done.","username":"jjason","ts":"2017-04-29T20:11:31.051Z"}
{"msg":"Has joined the channel.","username":"tkuhrt","ts":"2017-05-02T17:22:47.401Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nitingaur","ts":"2017-05-05T22:20:01.967Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jaemin.lim","ts":"2017-05-11T13:11:10.821Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dhuseby","ts":"2017-05-11T14:14:48.797Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chrisconway","ts":"2017-05-15T16:07:08.174Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vinoypm","ts":"2017-05-16T09:32:21.979Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Donald Liu","ts":"2017-05-17T01:59:21.763Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kellyo","ts":"2017-05-23T16:01:22.826Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kenmazsyma","ts":"2017-05-24T11:51:20.405Z","type":"uj"}
{"msg":"Has left the channel.","username":"kenmazsyma","ts":"2017-05-24T23:39:31.442Z","type":"ul"}
{"msg":"Has joined the channel.","username":"desongchen","ts":"2017-05-26T03:30:22.747Z","type":"uj"}
{"msg":"Heads up to anyone using PoET consensus.  With recent merge, you now need to put the report key public PEM in the config settings on the blockchain (`sawtooth.poet.report_public_key_pem`).  For example:\n```\nsawtooth admin keygen validator\nsawtooth config genesis --key ~/sawtooth/keys/validator.priv -o config-genesis.batch\nsawtooth config proposal create -k ~/sawtooth/keys/validator.priv sawtooth.consensus.algorithm=poet sawtooth.poet.report_public_key_pem=\"$(cat /project/sawtooth-core/consensus/poet/simulator/packaging/simulator_rk_pub.pem)\" -o config.batch\npoet genesis -k ~/sawtooth/keys/validator.priv -o poet_genesis.batch\nsawtooth admin genesis config-genesis.batch config.batch poet_genesis.batch\n```","username":"jjason","ts":"2017-05-26T23:56:00.859Z"}
{"msg":"@drozd @jjason Does this break https://github.com/hyperledger/sawtooth-core/blob/master/integration/sawtooth_integration/tests/node_controller.py#L141?","username":"adamludvik","ts":"2017-05-30T19:38:25.875Z"}
{"msg":"Or is that only for SGX?","username":"adamludvik","ts":"2017-05-30T19:38:51.466Z"}
{"msg":"The change is PoET-specific, either simulator or SGX.  What you are referencing uses PoET simulator.","username":"jjason","ts":"2017-05-30T19:40:53.400Z"}
{"msg":"@adamludvik  The change is PoET-specific, either simulator or SGX.  What you are referencing uses PoET simulator.","username":"jjason","ts":"2017-05-30T19:40:53.400Z"}
{"msg":"What is the failure mode if you don't set that config option?","username":"adamludvik","ts":"2017-05-30T19:42:50.976Z"}
{"msg":"The PEM I assume you mean.  The failure is that the genesis node validator registry transaction cannot be validated and the genesis validator will not start.","username":"jjason","ts":"2017-05-30T19:46:56.626Z"}
{"msg":"You wouild likely see a message something like the following in the validators","username":"jjason","ts":"2017-05-30T19:51:00.998Z"}
{"msg":"You wouild likely see a message something like the following in the validator's log:\n```\n[12:48:34.086 ERROR    cli] Unable to create genesis block, due to batch 1b4321dc95ba19e1f6f94c13c68db48309f91bc474f6eeafd515437bcfbae0eb381f7a499c3b7109875ea3639fe0099a90d2656da03a583ff4e1fa7e65aec7a7\n```","username":"jjason","ts":"2017-05-30T19:51:00.998Z"}
{"msg":"And in the validator registry TP log, you would see something similar to:\n```\n[12:48:34 WARNING core] Invalid Transaction Invalid Signup Info: poet_public_key: \"03950845be76e144edc58289c2afc88856566d4779de053a945e5d451b0179301e\" proof_data: \"{\\\"evidence_payload\\\": {\\\"pse_manifest\\\": \\\"YTdjYzYzNjM3NmI5N2FhYzhkMjM3YjkyYjYxMzUyMjNhNWZiNzFmYmU1NjM0ZWQ2NDc3MjZjNTlkNjU5MTkyYw==\\\"}, \\\"signature\\\": \\\"Qrr+AAd5D1t+Ki1UYsFXNRVlM27fodTDU9vVX098RtoPAeTMywPKJ47dEBU0OH54BSXA0BQLQqtp2ig0RORS5QOKPLPAfmdKdOF82ljUSYfIL3zFmnC6loWHA8/MUjjUomsCPYoxdoRC7w/65uJksn+riEGVjNjenHpiDaZXSb2y1Kbv8487zZ6vYwDU/96xE3nwC75UiYypHO7VeovFM/jT+Hw8jfLhJMFIKoUQ3toFC96O4edFXzMK7erhkH147vSCpEVX5USrkq+20Ih+7JUQDSD0H2JGgjPs0reHP+w07qFT8mSkWCtRwsFZDFFZ6D/V2mw8ZiRay1ZuAE5rbQ==\\\", \\\"verification_report\\\": \\\"{\\\\\\\"epidPseudonym\\\\\\\": \\\\\\\"84ef48385ce91ec2802a88e100ddb3530d86d4e7749f27e65a41fa92ff42e4f2\\\\\\\", \\\\\\\"id\\\\\\\": \\\\\\\"ZTUwNjRmNThmNTE2OGE2MGMxM2U0Nzg2OWQyYzhhODVjYWUyMjhmOTYyZWNkNjM2MTIzY2IzYmY2NWUyZGRlZA==\\\\\\\", \\\\\\\"isvEnclaveQuoteBody\\\\\\\": \\\\\\\"AAAAAAAAAAAAAAAAAAAAALeFxYt3FSy+f9Ve44UcSZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMmfIZVeONuwPSyoONOvbkPvQ4km7QLbTMcpOAyMehdOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2Y+QClFcV0M09DEZdyLf4Qsa6nys5ZZpM7xY9R6KvdwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\\\\\\\", \\\\\\\"isvEnclaveQuoteStatus\\\\\\\": \\\\\\\"OK\\\\\\\", \\\\\\\"nonce\\\\\\\": \\\\\\\"0000000000000000\\\\\\\", \\\\\\\"pseManifestHash\\\\\\\": \\\\\\\"ec02c5dca90d042ca178c7de222977e802c32f70b3606983d7137158245968dc\\\\\\\", \\\\\\\"pseManifestStatus\\\\\\\": \\\\\\\"OK\\\\\\\", \\\\\\\"timestamp\\\\\\\": \\\\\\\"2017-05-30T12:48:15.437003\\\\\\\"} \\\"}\", anti_sybil_id: \"84ef48385ce91ec2802a88e100ddb3530d86d4e7749f27e65a41fa92ff42e4f2\", nonce: \"0000000000000000\" \\\"}\", Reason: Report public key configuration setting (sawtooth.poet.report_public_key_pem) not found\n```\n","username":"jjason","ts":"2017-05-30T19:56:58.464Z"}
{"msg":"I think I figured it out","username":"adamludvik","ts":"2017-05-30T19:58:02.103Z"}
{"msg":"@jjason Can you remind why this error occurs? `Failed to create wait certificate: Cannot create wait certificate because timer has timed out`","username":"adamludvik","ts":"2017-05-31T14:13:37.442Z"}
{"msg":"It is taking too long between the time the wait timer for the block expired and the corresponding wait certificate was created. ","username":"jjason","ts":"2017-05-31T14:24:06.728Z"}
{"msg":"What happens in that interval?","username":"adamludvik","ts":"2017-05-31T14:43:54.243Z"}
{"msg":"(roughly)","username":"adamludvik","ts":"2017-05-31T14:44:08.319Z"}
{"msg":"Also, I am seeing a lot of poet errors that seem to be related to the c, k, z tests. Examples:\n\n`[14:53:39.730 ERROR    poet_block_publisher] Reject building on block 4e632c39: Validator signup information not committed in a timely manner.`","username":"adamludvik","ts":"2017-05-31T14:55:15.290Z"}
{"msg":"`[14:53:46.728 ERROR    consensus_state] Validator validator-036c3364 (ID=036c3364...e1782255): Committed in block 3, trying to claim block 4, must wait until block 5`","username":"adamludvik","ts":"2017-05-31T14:55:29.394Z"}
{"msg":"`[14:53:46.731 ERROR    poet_block_publisher] Reject building on block ee4908d3: Validator has not waited long enough since registering validator information.`","username":"adamludvik","ts":"2017-05-31T14:55:41.560Z"}
{"msg":"`[14:54:19.322 ERROR    poet_block_publisher] Reject building on block 7165ee16: Validator signup information not committed in a timely manner.`","username":"adamludvik","ts":"2017-05-31T14:55:55.071Z"}
{"msg":"Does anyone know if these were happening previously in the dynamic-network test? @drozd ","username":"adamludvik","ts":"2017-05-31T14:56:45.081Z"}
{"msg":"those are new to me","username":"drozd","ts":"2017-05-31T15:53:53.443Z"}
{"msg":"I think those are normal if it's reporting it for itself","username":"jsmitchell","ts":"2017-05-31T16:41:31.562Z"}
{"msg":"if it publishes a block and other validators are rejecting it, that seems like an issue","username":"jsmitchell","ts":"2017-05-31T16:41:50.428Z"}
{"msg":"@adamludvik Yes.","username":"jjason","ts":"2017-05-31T16:42:00.394Z"}
{"msg":"Basically the validator is deciding that it has not waited the number of blocks required and so isn't even going to try to build a block as it knows that the other validators will reject it.  This is expected behavior.","username":"jjason","ts":"2017-05-31T16:42:44.056Z"}
{"msg":"I don't like the last error as much but it is still normal - basically that one means that when a validator went to register it thought that a certain block was the head of the chain.  However, when other blocks received the block containing its registration information, that block is not building on top of the expected block.  So, they are rejecting.  However, the error message you see causes that validator to generate new signup information.","username":"jjason","ts":"2017-05-31T16:44:34.906Z"}
{"msg":"Heads up to anyone using PoET consensus.  With recent merge, you now need to put the expected enclave measurement in the config settings on the blockchain before and validator registry transactions are submitted.  For example:\n```\nsawtooth config proposal create -k ~/sawtooth/keys/validator.priv sawtooth.consensus.algorithm=poet sawtooth.poet.report_public_key_pem=\"$(cat /project/sawtooth-core/consensus/poet/simulator/packaging/simulator_rk_pub.pem)\" sawtooth.poet.valid_enclave_measurements=$(poet enclave measurement) -o config.batch\n```\n\nThe above command, usually used when firing up the genesis validator, gets that validator's enclave measurement value as the enclave measurement value that the validator registry transaction processor will use when verifying signup information.  If the validator registry transaction processor is unable to find the value `sawtooth.poet.valid_enclave_measurements` in the on-chain config settings, it will reject the validator registry transaction.","username":"jjason","ts":"2017-06-01T22:46:42.624Z"}
{"msg":"@jjason what is the enclave measurement for the simulated enclave?","username":"Dan","ts":"2017-06-02T18:45:37.519Z"}
{"msg":"@Dan `c99f21955e38dbb03d2ca838d3af6e43ef438926ed02db4cc729380c8c7a174e`","username":"jjason","ts":"2017-06-02T19:46:24.772Z"}
{"msg":"We can make it pretty much anything we like.","username":"jjason","ts":"2017-06-02T19:46:30.582Z"}
{"msg":"You can also run `poet enclave measurement` as the default is to use the simulator.","username":"jjason","ts":"2017-06-02T19:46:50.124Z"}
{"msg":"Final piece of on-chain configuration settings for the validator registry transaction processor has been merged.  Moving forward, if you are using PoET consensus, when launching a the genesis validator manually, you need to add `sawtooth.poet.valid_enclave_basenames` to the settings before the first validator is registered.  You can use `poet enclave basename` to get the genesis validator's basename and use it for testing.  For example:\n```\nsawtooth config proposal create -k ~/sawtooth/keys/validator.priv sawtooth.consensus.algorithm=poet sawtooth.poet.report_public_key_pem=\"$(cat /project/sawtooth-core/consensus/poet/simulator/packaging/simulator_rk_pub.pem)\" sawtooth.poet.valid_enclave_measurements=$(poet enclave measurement) sawtooth.poet.valid_enclave_basenames=$(poet enclave basename) -o config.batch\n```","username":"jjason","ts":"2017-06-02T20:00:16.606Z"}
{"msg":"sweet! i hadn't had occasion to use the poet CLI yet ","username":"Dan","ts":"2017-06-02T20:38:37.054Z"}
{"msg":"Has joined the channel.","username":"h4xr","ts":"2017-06-03T05:35:07.854Z","type":"uj"}
{"msg":"Has joined the channel.","username":"benoit.razet","ts":"2017-06-06T17:47:55.932Z","type":"uj"}
{"msg":"Has joined the channel.","username":"trbs","ts":"2017-06-08T16:10:40.829Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yahtoo","ts":"2017-06-14T08:51:06.653Z","type":"uj"}
{"msg":"Has left the channel.","username":"yahtoo","ts":"2017-06-14T08:54:25.782Z","type":"ul"}
{"msg":"Has joined the channel.","username":"dataharvest","ts":"2017-06-22T15:59:12.189Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dplumb","ts":"2017-07-10T15:05:38.925Z","type":"uj"}
{"msg":"in stl-394 I'm cleaning up some validator registry state management. In doing that it looks like we have no use for the registered field of ValidatorInfo (consensus/poet/families/sawtooth_validator_registry/protos/validator_registry.proto:23)","username":"Dan","ts":"2017-07-11T16:36:17.864Z"}
{"msg":"I may remove that field from the wire protocol in the same PR. Anyone can let me know if they see danger there.","username":"Dan","ts":"2017-07-11T16:36:56.820Z"}
{"msg":"@agunde @adamludvik ^","username":"jsmitchell","ts":"2017-07-11T19:09:00.660Z"}
{"msg":"@Dan Instead of setting the ValidatorInfo.registred = \"revoked\", are you just going to delete the info?","username":"agunde","ts":"2017-07-11T19:20:45.751Z"}
{"msg":"yes, I'm going to delete the entry for that validator. and then I propose also changing the protobuf definition to not contain  the registered field.","username":"Dan","ts":"2017-07-11T19:25:32.362Z"}
{"msg":"registration is implicit in being in state. and 'freshness' is checked regularly by poet. ","username":"Dan","ts":"2017-07-11T19:25:54.697Z"}
{"msg":"Then I don't see a reason to keep the registered field. ","username":"agunde","ts":"2017-07-11T19:26:42.619Z"}
{"msg":"I thought we had a 'stochastic' re-registration policy, but maybe we only talked about it. We wanted to guard against a flurry of machines having to re-register because their registrations timed out. \nI was looking here: consensus/poet/core/build/lib/sawtooth_poet/poet_consensus/poet_block_publisher.py:380 but I don't see a policy besides, it reached its limit.","username":"Dan","ts":"2017-07-14T20:12:39.635Z"}
{"msg":"I thought we had a 'stochastic' registration policy, but maybe we only talked about it. We wanted to guard against a flurry of machines having to re-register because their registrations timed out. \nI was looking here: consensus/poet/core/build/lib/sawtooth_poet/poet_consensus/poet_block_publisher.py:380 but I don't see a policy besides, it reached its limit.","username":"Dan","ts":"2017-07-14T20:12:39.635Z"}
{"msg":"Has joined the channel.","username":"tim-d-blue","ts":"2017-07-19T15:05:48.453Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MaximeLandon","ts":"2017-07-25T11:42:25.960Z","type":"uj"}
{"msg":"@cianx @adamludvik @rbuysse can I get eyes on these PRs #727, #728, #730 when you get a chance. The first two are baby seals. ","username":"Dan","ts":"2017-08-01T14:36:28.805Z"}
{"msg":"Has joined the channel.","username":"rbuysse","ts":"2017-08-01T14:36:28.864Z","type":"uj"}
{"msg":"apparently purple baby seals. ","username":"Dan","ts":"2017-08-01T14:37:09.020Z"}
{"msg":"Has joined the channel.","username":"wbsmith","ts":"2017-08-04T06:02:07.955Z","type":"uj"}
{"msg":"@cianx do you think we still need the bridge functions in poet? Or is that obviated now that we don't have to worry about msvc?","username":"Dan","ts":"2017-08-08T14:11:58.260Z"}
{"msg":"those functions do argument validation and convertions, you can move that else where if you want to rewrite the python bindings to a new api specification.","username":"cianx","ts":"2017-08-08T16:36:44.505Z"}
{"msg":"i'm not planning to do anything soon. just curious if the structure was no longer mandated because the compiler situation changed. maybe peel a layer or two out. (noting reduce maintenance cost might not justify the cost to refactor all of the middle.)","username":"Dan","ts":"2017-08-08T16:56:28.290Z"}
{"msg":"@cianx @adamludvik @drozd the unit tests under poet/core seem implicitly simulator. One of the tests checks for replay of wait timers. That seems irrelevant. At least the simulator won't have any protection from that without trying to simulate a HW counter - which I don't think is useful.\ni can either @skip it or remove it.\nIf these tests are intended to run against either sgx or simulator I should skip it, if they are intended only for simulator then I should remove it. ","username":"Dan","ts":"2017-08-08T20:07:59.855Z"}
{"msg":"I vote skip it. If they are only implicitly referencing the simulator and are testing details like wait timer replay, I'm guessing they were meant to be used against both the simulator and sgx.","username":"adamludvik","ts":"2017-08-08T21:17:19.525Z"}
{"msg":"@adamludvik @cianx @drozd please look at #730 when you get a chance. @rbuysse tested overnight without issue.\n@cianx note I've updated the top comment to include Jira's for your earlier feedback.","username":"Dan","ts":"2017-08-11T16:18:31.300Z"}
{"msg":"https://github.com/hyperledger/sawtooth-core/pull/730","username":"Dan","ts":"2017-08-11T16:18:36.648Z"}
{"msg":"Has joined the channel.","username":"Arun.S.M","ts":"2017-08-11T16:45:07.934Z","type":"uj"}
{"msg":"Has joined the channel.","username":"zhangchao","ts":"2017-08-12T13:39:33.104Z","type":"uj"}
{"msg":"I've got an itchy merge finger.","username":"Dan","ts":"2017-08-12T14:17:12.244Z"}
{"msg":"we're at 11661 blocks re: ^","username":"rbuysse","ts":"2017-08-13T21:08:49.371Z"}
{"msg":"Has joined the channel.","username":"yiting","ts":"2017-08-13T22:40:26.502Z","type":"uj"}
{"msg":"@rbuysse can I get a :thumbsup: on the PR?","username":"Dan","ts":"2017-08-14T13:41:59.682Z"}
{"msg":"@rbuysse can I get a :thumbsup: on the approval?","username":"Dan","ts":"2017-08-14T13:41:59.682Z"}
{"msg":":thumbsup: ","username":"rbuysse","ts":"2017-08-14T14:01:35.572Z"}
{"msg":"thx","username":"Dan","ts":"2017-08-14T14:36:42.867Z"}
{"msg":"@cianx please double check I have addressed your earlier feedback. I'd like to get this PR merged asap.","username":"Dan","ts":"2017-08-14T14:38:02.889Z"}
{"msg":"Has joined the channel.","username":"SameerF","ts":"2017-08-16T17:38:25.883Z","type":"uj"}
{"msg":"Hi, my name is Sameer Ahmed and I work at Wind River. Recently, we have been working on software parts (sparts) project using sawtooth lake. We have already implemented 4 transaction families. Now, I need some guidance on the POET consensus.  ","username":"SameerF","ts":"2017-08-16T18:16:44.423Z"}
{"msg":"Currently, I have docker containers running on different machines. Validator, poet-validator-registry, rest-api is running on each of the container. ","username":"SameerF","ts":"2017-08-16T18:23:20.734Z"}
{"msg":"What are your questions, @SameerF ?","username":"boydjohnson","ts":"2017-08-16T18:23:32.161Z"}
{"msg":"I have already initialized genesis for poet. What should be the next steps? I did browser thru the documentation but I need some guidance here.","username":"SameerF","ts":"2017-08-16T18:25:12.219Z"}
{"msg":"Check out this docker-compose file. It is how we run a 3 validator poet integration test. https://github.com/hyperledger/sawtooth-core/blob/master/integration/sawtooth_integration/docker/test_poet_smoke.yaml","username":"boydjohnson","ts":"2017-08-16T18:26:57.916Z"}
{"msg":"There are three steps for the poet genesis validator. `sawtooth config genesis`, `poet genesis`, and `sawtooth admin genesis`.","username":"boydjohnson","ts":"2017-08-16T18:28:04.082Z"}
{"msg":"Thanks.","username":"SameerF","ts":"2017-08-16T18:28:34.708Z"}
{"msg":"I did try to execute the sawtooth config proposal create command in my container and got the following message. ","username":"SameerF","ts":"2017-08-16T18:28:34.708Z"}
{"msg":"No problem. Ask again if you need more guidance.","username":"boydjohnson","ts":"2017-08-16T18:28:53.710Z"}
{"msg":"I'm looking to do some system cleanup on validator shutdown. Is there some event stream I can tap into for that? \nSpecifically this is for poet consensus. Maybe something the poet block publisher knows about would be handy.","username":"Dan","ts":"2017-08-16T20:05:06.671Z"}
{"msg":"meh, nevermind. i think I'd have to plumb threading events up into the consensus interface which would be yucky.","username":"Dan","ts":"2017-08-16T20:56:45.408Z"}
{"msg":"","username":"SameerF","ts":"2017-08-16T21:00:25.970Z","attachments":[{"title":"File Uploaded: cmd_output.png","title_link":"/file-upload/sihHfchenS2w3uQaf/cmd_output.png","image_url":"/file-upload/sihHfchenS2w3uQaf/cmd_output.png","image_type":"image/png","image_size":4868,"url":"/file-upload/sihHfchenS2w3uQaf/cmd_output.png","remote":false,"fileId":"sihHfchenS2w3uQaf","fileName":"cmd_output.png"}]}
{"msg":"Am I doing something different?","username":"SameerF","ts":"2017-08-16T21:01:12.549Z"}
{"msg":"I did try to execute the sawtooth config proposal command from the yaml file provided above and got the above message.","username":"SameerF","ts":"2017-08-16T21:05:22.534Z"}
{"msg":"I also did try to remove begin public key and end public key argument from pem file and executed the command again. Here is the output: ","username":"SameerF","ts":"2017-08-16T21:22:18.661Z"}
{"msg":"","username":"SameerF","ts":"2017-08-16T21:22:52.643Z","attachments":[{"title":"File Uploaded: cmd_output2.png","title_link":"/file-upload/s3fEGLLZKE84Y4i74/cmd_output2.png","image_url":"/file-upload/s3fEGLLZKE84Y4i74/cmd_output2.png","image_type":"image/png","image_size":12871,"url":"/file-upload/s3fEGLLZKE84Y4i74/cmd_output2.png","remote":false,"fileId":"s3fEGLLZKE84Y4i74","fileName":"cmd_output2.png"}]}
{"msg":"Has joined the channel.","username":"MikeMayori","ts":"2017-08-17T15:58:37.520Z","type":"uj"}
{"msg":"Are you joining the training meeting today?","username":"tkuhrt","ts":"2017-08-22T20:05:00.266Z"}
{"msg":"Has joined the channel.","username":"ksachdeva","ts":"2017-08-23T17:08:03.070Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JuanmaArcas","ts":"2017-08-30T07:18:21.141Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lmrln","ts":"2017-09-01T10:11:03.252Z","type":"uj"}
{"msg":"Has joined the channel.","username":"detroitpro","ts":"2017-09-11T17:35:54.889Z","type":"uj"}
{"msg":"Has joined the channel.","username":"skbodwell","ts":"2017-09-11T20:42:30.089Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Southside","ts":"2017-09-13T23:36:05.395Z","type":"uj"}
{"msg":"Has joined the channel.","username":"leogzl","ts":"2017-09-19T11:06:47.749Z","type":"uj"}
{"msg":"Has joined the channel.","username":"avi-nyc","ts":"2017-09-24T00:02:19.159Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mikykey","ts":"2017-10-01T09:45:10.735Z","type":"uj"}
{"msg":"Hello to everybody! I'm reading the documentation but I have a doubt. Is it necessary to run an Intel Processor with SGX or is it possible to use another kind of processor too?","username":"mikykey","ts":"2017-10-01T14:14:08.659Z"}
{"msg":"Hello to everybody! I'm reading the documentation but I have a doubt. Is it necessary to run an Intel Processor with SGX or is it possible to use another kind of processor too? Thank you ","username":"mikykey","ts":"2017-10-01T14:14:08.659Z"}
{"msg":"Hey @mikykey You do not need an Intel processor for Sawtooth","username":"kelly_","ts":"2017-10-02T14:07:40.987Z"}
{"msg":"However Sawtooth does support a consensus mechanism called PoET that can be run in SGX for more protection","username":"kelly_","ts":"2017-10-02T14:08:00.370Z"}
{"msg":"there is also a version of PoET that runs without SGX, although it has weaker security gaurantees","username":"kelly_","ts":"2017-10-02T14:08:35.011Z"}
{"msg":"Has joined the channel.","username":"carlos_frijoles","ts":"2017-10-02T14:14:37.664Z","type":"uj"}
{"msg":"Hi @kelly_ thank you very much :) you told me exactly the same things I though :) ","username":"mikykey","ts":"2017-10-03T08:41:01.795Z"}
{"msg":"Has joined the channel.","username":"lovesh","ts":"2017-10-03T14:02:58.577Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kiro112","ts":"2017-10-04T05:28:11.789Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cre8bidio","ts":"2017-10-04T15:37:07.643Z","type":"uj"}
{"msg":"Has joined the channel.","username":"parisa","ts":"2017-10-11T17:19:36.506Z","type":"uj"}
{"msg":"Has joined the channel.","username":"karthikworks","ts":"2017-10-27T08:39:26.033Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sam","ts":"2017-11-01T16:31:46.032Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nicolapaoli","ts":"2017-11-01T19:22:51.302Z","type":"uj"}
{"msg":"Has joined the channel.","username":"askmish","ts":"2017-11-02T09:58:56.575Z","type":"uj"}
{"msg":"Has joined the channel.","username":"teious","ts":"2017-11-02T18:37:01.368Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hhimanshu","ts":"2017-11-05T16:36:59.933Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cam.ross","ts":"2017-11-06T19:46:11.153Z","type":"uj"}
{"msg":"Has joined the channel.","username":"grkvlt","ts":"2017-11-07T13:37:22.411Z","type":"uj"}
{"msg":"Has anyone done any work regarding alternative consensus mechanisms for Sawtooth?\nWe are building some prototypes for a fairly large system (100,000 users+) and are looking for possible alternatives should PoET not scale as effectively as we would hope. \nAll comments suggestions welcome.","username":"Southside","ts":"2017-11-08T14:32:59.682Z"}
{"msg":"I am currently working on a Raft prototype for Sawtooth.","username":"adamludvik","ts":"2017-11-08T15:24:58.968Z"}
{"msg":"_googles Raft_","username":"Southside","ts":"2017-11-08T15:27:06.934Z"}
{"msg":"This is really great explainer of how Raft works. http://thesecretlivesofdata.com/raft/","username":"adamludvik","ts":"2017-11-08T15:31:53.166Z"}
{"msg":"It is like a simplified Paxos. Or PBFT with the byzantine fault tolerance.","username":"adamludvik","ts":"2017-11-08T15:32:26.117Z"}
{"msg":"It is like a simplified Paxos. Or PBFT without the byzantine fault tolerance.","username":"adamludvik","ts":"2017-11-08T15:32:26.117Z"}
{"msg":"tyvm","username":"Southside","ts":"2017-11-08T15:43:55.662Z"}
{"msg":"Has joined the channel.","username":"Jimskie","ts":"2017-11-08T16:51:01.086Z","type":"uj"}
{"msg":"Has joined the channel.","username":"srongzhe","ts":"2017-11-09T00:51:48.745Z","type":"uj"}
{"msg":"@southside traditional consensus mechanisms like raft and pbft will likely not be very good for very very large networks","username":"kelly_","ts":"2017-11-09T15:03:05.610Z"}
{"msg":"@Southside you may want to look at some of the recent academic papers like honeybadger BFT or algorand, or the work that dfinity is doing with BLS signatures","username":"kelly_","ts":"2017-11-09T15:03:55.498Z"}
{"msg":"Has joined the channel.","username":"GhadiShayban","ts":"2017-11-09T15:54:48.606Z","type":"uj"}
{"msg":"algorand is brilliant","username":"GhadiShayban","ts":"2017-11-09T15:55:53.154Z"}
{"msg":"Has left the channel.","username":"hhimanshu","ts":"2017-11-09T16:54:06.434Z","type":"ul"}
{"msg":"yes we were seriously impressed by Algorand earlier this year when we were at a much earlier stage. I was over-ruled on that as it is still low on the Technilogy Readiness Level","username":"Southside","ts":"2017-11-09T17:25:43.073Z"}
{"msg":"Has much further work been published on it, other than Silvio Micali's paper?","username":"Southside","ts":"2017-11-09T17:26:24.708Z"}
{"msg":"which is seriously academic and as one crypto researcher who I have great respect for put it \"takes  70 pages to say what any other person could put across in less than 30\"","username":"Southside","ts":"2017-11-09T17:27:45.513Z"}
{"msg":"there is a 24 page pager","username":"GhadiShayban","ts":"2017-11-09T17:34:39.909Z"}
{"msg":"there is a 24 page paper","username":"GhadiShayban","ts":"2017-11-09T17:34:39.909Z"}
{"msg":"https://people.csail.mit.edu/nickolai/papers/gilad-algorand-eprint.pdf","username":"GhadiShayban","ts":"2017-11-09T17:35:00.180Z"}
{"msg":"I agree the 74-pager is a bit much, but i guess it's justified this is a protocol description, not a simple algorithm","username":"GhadiShayban","ts":"2017-11-09T17:35:40.241Z"}
{"msg":"I agree the 74-pager is a bit much, but i guess it's justified b/c this is a protocol description, not a simple algorithm","username":"GhadiShayban","ts":"2017-11-09T17:35:40.241Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus?msg=W9cY7YCaccFNubNRr) @kelly_   Thank you","username":"Southside","ts":"2017-11-09T17:42:34.590Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=W9cY7YCaccFNubNRr","url":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=W9cY7YCaccFNubNRr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"AuHuR","ts":"2017-11-13T10:20:20.805Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dkhungme","ts":"2017-11-16T08:22:44.213Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chandrairawan","ts":"2017-11-17T03:35:57.234Z","type":"uj"}
{"msg":"Has joined the channel.","username":"amolk","ts":"2017-11-17T06:44:27.275Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nitefrog","ts":"2017-11-20T09:07:17.757Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Timote","ts":"2017-11-20T12:52:25.762Z","type":"uj"}
{"msg":"Has joined the channel.","username":"umairmansha","ts":"2017-11-20T13:26:15.649Z","type":"uj"}
{"msg":"Has left the channel.","username":"chandrairawan","ts":"2017-11-23T02:17:06.254Z","type":"ul"}
{"msg":"Has joined the channel.","username":"vinit_3101","ts":"2017-11-24T07:49:24.815Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ruchit 2","ts":"2017-11-24T12:32:35.623Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ajenie","ts":"2017-11-25T12:39:27.179Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Vthot4","ts":"2017-11-25T20:34:40.631Z","type":"uj"}
{"msg":"Has left the channel.","username":"mikykey","ts":"2017-11-26T07:43:09.583Z","type":"ul"}
{"msg":"Has joined the channel.","username":"mk3595","ts":"2017-11-27T21:30:29.622Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Johnjam","ts":"2017-11-28T16:06:14.456Z","type":"uj"}
{"msg":"Has joined the channel.","username":"GulshanKumar","ts":"2017-11-30T12:34:57.273Z","type":"uj"}
{"msg":"hello guys. I really new to Blockchain-Hyperledger and i want learn more about it.\ni want to know about consensus protocols used in the various Hyperledger projects","username":"GulshanKumar","ts":"2017-11-30T12:35:02.849Z"}
{"msg":"can anyone please help me?","username":"GulshanKumar","ts":"2017-11-30T12:39:24.599Z"}
{"msg":"@GulshanKumar here's Proof of Elapsed Time consensus: https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html","username":"Dan","ts":"2017-11-30T13:46:04.982Z"}
{"msg":"@Dan thank you so much....do u also know about other protocols?","username":"GulshanKumar","ts":"2017-11-30T13:52:02.644Z"}
{"msg":"Has joined the channel.","username":"iamprem","ts":"2017-11-30T18:19:07.725Z","type":"uj"}
{"msg":"this is a foundational paper \"PBFT\" http://pmg.csail.mit.edu/papers/osdi99.pdf","username":"Dan","ts":"2017-11-30T20:33:14.801Z"}
{"msg":"this describes proof of work https://bitcoin.org/bitcoin.pdf","username":"Dan","ts":"2017-11-30T20:33:49.427Z"}
{"msg":"happy reading :)","username":"Dan","ts":"2017-11-30T20:33:54.086Z"}
{"msg":"Has joined the channel.","username":"ddcprg","ts":"2017-12-02T18:55:20.807Z","type":"uj"}
{"msg":"Hi everyone, I was reading a document about consensus models (really basic stuff from here : https://www.persistent.com/wp-content/uploads/2017/04/WP-Understanding-Blockchain-Consensus-Models.pdf) and I'm wondering which consensus, between PoET and PoS, has a superior transactions rate and if it's possible to control it ? This document indicates only a \"Medium\" rate for PoET, some advice ? Thank you !","username":"Johnjam","ts":"2017-12-03T14:19:47.234Z"}
{"msg":"Hi @Johnjam I don't think there are any complete Proof of Stake algorithms yet. The ethereum community has been working on casper for a while but I'm not aware of any breakthroughs yet. Confusingly, they have 2 Casper protocols. One of which will go into production soon, but it's not really proof of stake. It's tag line is \"finality gadget\". ","username":"Dan","ts":"2017-12-03T19:31:01.640Z"}
{"msg":"There's some material inaccuracies in the PDF you linked by the way. You might want to research a  different source. Maybe look at the papers I listed just above here on Nov 30.","username":"Dan","ts":"2017-12-03T19:41:01.190Z"}
{"msg":"Thank you @Dan for your precisions ! I'll check your link","username":"Johnjam","ts":"2017-12-04T08:19:22.654Z"}
{"msg":"Has joined the channel.","username":"reggie","ts":"2017-12-05T10:02:48.230Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ken.momma","ts":"2017-12-05T13:48:53.207Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vizillion","ts":"2017-12-07T03:23:01.840Z","type":"uj"}
{"msg":"Has joined the channel.","username":"van0303","ts":"2017-12-08T07:43:56.740Z","type":"uj"}
{"msg":"Has joined the channel.","username":"eclairamb","ts":"2017-12-08T22:26:26.045Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thiago-moreira","ts":"2017-12-08T22:29:13.950Z","type":"uj"}
{"msg":"Has joined the channel.","username":"formax","ts":"2017-12-12T22:40:36.842Z","type":"uj"}
{"msg":"Has joined the channel.","username":"FaysalAhmed","ts":"2017-12-14T09:51:15.090Z","type":"uj"}
{"msg":"Has joined the channel.","username":"iswariyar","ts":"2017-12-14T11:06:35.669Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Aires.Marques","ts":"2017-12-17T18:23:02.620Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Sam_Liban","ts":"2017-12-18T19:07:22.201Z","type":"uj"}
{"msg":"Newb questions: In the documentation found at https://sawtooth.hyperledger.org/docs/core/releases/latest/introduction.html#proof-of-elapsed-time-poet I find the mention of \"secure CPU instructions which are becoming widely available in consumer and enterprise processors\". \n1. Does this refer to TPM (trusted platform modules) or more general cryptographic hardware chips?\n2. When the \"enclave\" is mentioned in the same document, is this then the \"instruction\" created on these hardware chips as mentioned in the quote above? (\"using new secure CPU instructions\")","username":"Sam_Liban","ts":"2017-12-18T19:14:49.801Z"}
{"msg":"Newb questions: In the documentation found at https://sawtooth.hyperledger.org/docs/core/releases/latest/introduction.html#proof-of-elapsed-time-poet I find the mention of \"secure CPU instructions which are becoming widely available in consumer and enterprise processors\". \n1. Does this refer to TPM (trusted platform modules) or more general cryptographic hardware chips?\n2. When the \"enclave\" is mentioned (\"enclave(a trusted function)\") in the same document, is this then the \"instruction\" created on these hardware chips as mentioned in the quote above? (\"using new secure CPU instructions\") If not, why is it \"trusted\"?","username":"Sam_Liban","ts":"2017-12-18T19:14:49.801Z"}
{"msg":"Has joined the channel.","username":"jmugambi","ts":"2017-12-18T20:50:54.009Z","type":"uj"}
{"msg":"Hi @Sam_Liban I think that reference is to Trusted Execution Environments (TEEs). One of those is Intel SGX. An enclave is a function or group of functions protected by the TEE. ","username":"Dan","ts":"2017-12-18T21:05:53.091Z"}
{"msg":"In SGX the enclaves are protected by special instructions that prevent manipulation or reading by other processes including the host OS.","username":"Dan","ts":"2017-12-18T21:06:31.339Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus?msg=cJxHvRYKusRj7nr5Z) @Dan So have the issues the BSD devs been resolved or are these referencing another solution from Intel? Its really confusing for me at the moment: While I really love the idea of using the hardware, of course we need to ensure, we can trust the hardware manufacturers...so it would need to be a lot of them and not only Intel, right?\nMaybe an open hardware consortia would be an answer to this issue?\nThis is the article I am referencing here: https://arstechnica.com/information-technology/2013/12/we-cannot-trust-intel-and-vias-chip-based-crypto-freebsd-developers-say/\nThanks for your suppoer, Dan. I appreciate it!","username":"Sam_Liban","ts":"2017-12-19T07:33:13.596Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=cJxHvRYKusRj7nr5Z","url":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=cJxHvRYKusRj7nr5Z","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi @Sam_Liban PoET is designed to explore how to use a trusted execution environment. It has two implementations. One using a simulated enclave with no hardware protections. Kind of a reference implementation that could be applied to any TEE. And one implementation that makes use of SGX. I'm sure the decisions for how and when to trust any vendor are complex for each organization. It's our hope that making this software open source will enable organizations to make more informed decisions, and also help the community to explore this new TEE space.","username":"Dan","ts":"2017-12-19T14:59:35.667Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus?msg=CzMAKcB8M8ftGJ9vZ) @Dan Thanks Dan, making it OpenSource is what I needed to relax my brain ;-)","username":"Sam_Liban","ts":"2017-12-19T15:00:40.145Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=CzMAKcB8M8ftGJ9vZ","url":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=CzMAKcB8M8ftGJ9vZ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi everyone ! I would like to know if someone has the same problem with the devmode consensus model. I'm able to edit the sawtooth.consensus.max_wait_time and the sawtooth.consensus.min_wait_time records in the settings transaction family, but when I add a new block (with intkey for example), the check function (check_publish_block in sawtooth_validator/journal/consensus/dev_mode/dev_mode_consensus.py) seems to be called before the initialize one (initialize_block in sawtooth_validator/journal/consensus/dev_mode/dev_mode_consensus.py). That way, the check function checks a value from the initalized value from the block - 1. Any clues ? Thanks !","username":"Johnjam","ts":"2017-12-20T14:44:45.465Z"}
{"msg":"Has joined the channel.","username":"wheeze","ts":"2017-12-23T14:56:58.592Z","type":"uj"}
{"msg":"Has joined the channel.","username":"PallabPaul","ts":"2017-12-25T06:50:33.300Z","type":"uj"}
{"msg":"Hello I hope i am in the right channel. So I am testing out the XO game tutorial found here: https://sawtooth.hyperledger.org/docs/core/releases/latest/app_developers_guide/intro_xo_transaction_family.html#xo-transaction-family-specification and I am running into an issue when I try to create game1. when i do the command 'xo list' game1 does not appear and these are the issues that appear on my validator: ","username":"PallabPaul","ts":"2017-12-25T08:57:42.184Z"}
{"msg":"","username":"PallabPaul","ts":"2017-12-25T08:57:58.841Z","attachments":[{"type":"file","title":"Clipboard - December 25, 2017 3:57 AM","title_link":"/file-upload/ZQDGHXtpSMeXaSRWu/Clipboard - December 25, 2017 3:57 AM","image_url":"/file-upload/ZQDGHXtpSMeXaSRWu/Clipboard - December 25, 2017 3:57 AM","image_type":"image/png","image_size":192706,"url":"/file-upload/ZQDGHXtpSMeXaSRWu/Clipboard - December 25, 2017 3:57 AM","remote":false,"fileId":"ZQDGHXtpSMeXaSRWu","fileName":"Clipboard - December 25, 2017 3:57 AM"}]}
{"msg":"i think there may be an issue with the ports i am using because after setting up my validator i have to kill port 8080 for my REST API to run properly. please let me know if anyone can help. thanks","username":"PallabPaul","ts":"2017-12-25T08:59:25.967Z"}
{"msg":"Has joined the channel.","username":"RTLagot","ts":"2017-12-28T14:49:37.560Z","type":"uj"}
{"msg":"Has joined the channel.","username":"marc0o","ts":"2017-12-30T19:24:35.171Z","type":"uj"}
{"msg":"Has joined the channel.","username":"elias_p","ts":"2018-01-02T10:44:05.139Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RahulBansal","ts":"2018-01-04T07:35:55.562Z","type":"uj"}
{"msg":"Has joined the channel.","username":"davod","ts":"2018-01-10T13:16:15.804Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sealthedeal","ts":"2018-01-10T16:09:48.725Z","type":"uj"}
{"msg":"Hey, I've been deeply interested in Hyperledger Sawtooth lately, but when I was recently asked to explain Proof of Elapsed Time, I wasn't able to explain in detail how it scales comparably to PoW. I've tried to youtube it, but there's little to no resources I've been able to locate that expand on the subject other than \"Pluggable election strategy set to a permissioned, voting-based strategy by default that scales well and it byzantine fault tolerant. However, finality may be delayed due to forks that must be resolved.\"","username":"sealthedeal","ts":"2018-01-10T16:12:41.433Z"}
{"msg":"Both are random leader election. The difference is in how you make sure you only get 1 leader in the desired block interval. In PoW the probablility of finding a partial hash collision enforces an exponential distribution of times. In PoET its a trusted timer. ","username":"Dan","ts":"2018-01-10T17:51:37.300Z"}
{"msg":"@jsmitchell @pschwarz @cianx James mentioned unexpectedly long wait times on the LR networks last month. I put this PR up to limit the population estimates. Upside is it really cuts down wait times. Down side is it really cuts down on wait times. i.e. it shifts the average wait time off of e.g. 30s to 9s. \nI can do an uglier hack that will continue to pass the original pop estimates around and should keep the target in tact but I'd rather not if we aren't seeing problematic outliers. \nThat is I don't want to fix something that isn't broken, nor put in awkward changes to make PoET work smoother on small networks when its really designed for big networks. Notes in: https://github.com/hyperledger/sawtooth-core/pull/1275","username":"Dan","ts":"2018-01-10T17:59:45.275Z"}
{"msg":"Has joined the channel.","username":"islandDeveloper242","ts":"2018-01-11T17:38:37.868Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nycycr","ts":"2018-01-15T00:13:30.036Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pekayde","ts":"2018-01-15T09:56:53.835Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Rak","ts":"2018-01-16T10:47:21.014Z","type":"uj"}
{"msg":"Has joined the channel.","username":"liushengxi","ts":"2018-01-17T12:08:59.142Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mehmetshams","ts":"2018-01-18T12:12:56.910Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IsraelOyinlola","ts":"2018-01-18T19:48:31.142Z","type":"uj"}
{"msg":"Has joined the channel.","username":"arthurgreef","ts":"2018-01-20T23:39:42.843Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AmarBagineni","ts":"2018-01-21T06:34:07.677Z","type":"uj"}
{"msg":"Hello good people,   ","username":"AmarBagineni","ts":"2018-01-21T06:37:08.103Z"}
{"msg":"i have tried out Hyperledger yesterday, as my dive into implementing blockchain technology","username":"AmarBagineni","ts":"2018-01-21T06:37:45.509Z"}
{"msg":"I have an understanding that, the data/payload/transaction gets submitted to the network .. and then it has to be commited","username":"AmarBagineni","ts":"2018-01-21T06:38:28.501Z"}
{"msg":"but i am not able to decipher what i am missing, while submitting the batches .. the command \"sawtooth block list\" does not change","username":"AmarBagineni","ts":"2018-01-21T06:39:14.993Z"}
{"msg":"and shows only one row (index = 0)","username":"AmarBagineni","ts":"2018-01-21T06:39:27.526Z"}
{"msg":"here is the code in my repo for what i tried - https://github.com/amarbagineni/govt-frame/blob/master/modules/add_block.py","username":"AmarBagineni","ts":"2018-01-21T06:39:42.503Z"}
{"msg":"@AmarBagineni Might be better to try your question in #sawtooth . This channel is more specifically focused on the consensus algorithms used by Sawtooth (e.g. PoET)","username":"pschwarz","ts":"2018-01-22T15:46:20.813Z"}
{"msg":"Has joined the channel.","username":"RachnaChadha","ts":"2018-01-26T12:51:41.871Z","type":"uj"}
{"msg":"I  have been trying to understand PoET. Can anyone explain what does wait time mean for nodes ? I am not understanding gist of algorithm but just reading words that are not making sense. Who is creating blocks here ? is TEE on ever node. Is there steps guide for this algorithm? ","username":"RachnaChadha","ts":"2018-01-26T12:54:29.727Z"}
{"msg":"@RachnaChadha wait time is how long a node but wait before publishing a block","username":"kelly_","ts":"2018-01-26T19:34:38.750Z"}
{"msg":"each node gets a different wait time","username":"kelly_","ts":"2018-01-26T19:34:43.438Z"}
{"msg":"when the wait time expires, the tee creates a proof that that node is an eligible leader","username":"kelly_","ts":"2018-01-26T19:35:08.832Z"}
{"msg":"that node can package that proof up along with a block of transaction and broadcast to the network","username":"kelly_","ts":"2018-01-26T19:35:23.511Z"}
{"msg":"the rest of the nodes check the transactions and the proof, and if they are valid, it appends it to the blockchain","username":"kelly_","ts":"2018-01-26T19:35:38.701Z"}
{"msg":"at that point the nodes all restart their wait timers again","username":"kelly_","ts":"2018-01-26T19:35:47.147Z"}
{"msg":"every node that wants to generate blocks needs a TEE","username":"kelly_","ts":"2018-01-26T19:36:02.960Z"}
{"msg":"@kelly_ Thanks. You said each node gets a different wait time who is coming up with wait time a nd what is deriving the wait time ? ","username":"RachnaChadha","ts":"2018-01-26T20:15:43.100Z"}
{"msg":"there is more information here - https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html","username":"kelly_","ts":"2018-01-26T20:16:41.603Z"}
{"msg":"the short story is that it is a deterministic function based off a unique processor diea","username":"kelly_","ts":"2018-01-26T20:17:05.551Z"}
{"msg":"id*","username":"kelly_","ts":"2018-01-26T20:17:07.532Z"}
{"msg":"https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html","username":"kelly_","ts":"2018-01-26T20:18:43.353Z"}
{"msg":"oops thats the same link","username":"kelly_","ts":"2018-01-26T20:18:46.890Z"}
{"msg":"hold on","username":"kelly_","ts":"2018-01-26T20:18:47.737Z"}
{"msg":"https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html#createwaittimer-localmean-waitcertid-n","username":"kelly_","ts":"2018-01-26T20:19:05.009Z"}
{"msg":"I do not understand how PoET  works for forking ? I s there concept if longest chain here as in Pow in bitcoin ? I get that PoET is more capital cost so 51% attack is preventable.What about forking though ? Does it happen ?","username":"RachnaChadha","ts":"2018-01-27T13:51:32.390Z"}
{"msg":"All random leader election protocols fork. What you want is only short lived forks. PoET has a fork resolution algorithm which is roughly that the chain with the most work and most population wins. ","username":"Dan","ts":"2018-01-28T19:32:07.595Z"}
{"msg":"All random leader election protocols fork. What you want is only short lived forks (i.e. the network quickly comes into agreement). PoET has a fork resolution algorithm which is roughly that the chain with the most work and most population wins. ","username":"Dan","ts":"2018-01-28T19:32:07.595Z"}
{"msg":"Has joined the channel.","username":"shanlusun","ts":"2018-01-30T15:08:22.129Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Verticom","ts":"2018-01-30T22:19:43.172Z","type":"uj"}
{"msg":"Has joined the channel.","username":"toddinpal","ts":"2018-01-31T00:51:10.191Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JOYELIN","ts":"2018-02-01T05:42:00.705Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ricardor","ts":"2018-02-01T15:38:29.839Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vijayin26","ts":"2018-02-02T22:45:07.961Z","type":"uj"}
{"msg":"Has joined the channel.","username":"vs0901","ts":"2018-02-03T07:39:22.786Z","type":"uj"}
{"msg":"Has joined the channel.","username":"atonit","ts":"2018-02-03T12:26:07.190Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nutthasakrotchirat","ts":"2018-02-06T19:18:08.164Z","type":"uj"}
{"msg":"Has joined the channel.","username":"keyur","ts":"2018-02-07T05:44:39.668Z","type":"uj"}
{"msg":"Hi devs and Dan Middleton, thanks for open sourcing an awesome Blockchain project!\n  \nI cannot find any documentation around Sawtooth \"PoET Simulated\" implementation. PoET + SGX would be very secure, but how does PoET Simulated hold up in terms of security?  Where can I find out more about security and integrity considerations behind using this as the consensus algo?\n  \nI am also wondering whether there are any plans to add Proof-of-Stake (PoS) algo as one of the consensus options in Sawtooth in near future?\n\nThank you!","username":"keyur","ts":"2018-02-07T05:47:37.563Z"}
{"msg":"Hi devs and Dan Middleton, thanks for open sourcing an awesome Blockchain project!\n  \nI cannot find any documentation around Sawtooth \"PoET Simulated\" implementation. PoET + SGX would be very secure, but how does PoET Simulated hold up in terms of security?  Where can I find out more about security and integrity considerations behind using this as a consensus algo in a permissionless BC?\n  \nI am also wondering whether there are any plans to add Proof-of-Stake (PoS) algo as one of the consensus options in Sawtooth in near future?\n\nThank you!","username":"keyur","ts":"2018-02-07T05:47:37.563Z"}
{"msg":"Hi, good point, I don't recall if we clearly define the distinction somewhere. Basically for simulator the enclave is run in software. It is a separate python implementation from the c++ enclave made for SGX, but the behavior should be the same. So what you forego with the simulated enclave are the trusted execution protections, which reduces the byzantine protections - specifically around fairness. The other poet mechanisms (validator registry, c,z,&K tests) will mitigate or prevent other byzantine attacks.","username":"Dan","ts":"2018-02-07T17:33:39.019Z"}
{"msg":"I haven't seen a full proof of stake algorithm yet. Would be interested in adding one when there's a mature one. What I have seen are a few algorithms labeled as proof of stake that are veneers over something like POW or voting.","username":"Dan","ts":"2018-02-07T17:34:48.874Z"}
{"msg":"Has joined the channel.","username":"candidosg","ts":"2018-02-07T20:18:29.558Z","type":"uj"}
{"msg":"Thanks Dan! What are your thoughts on Ethereum Casper PoS algo in the works?  https://github.com/ethereum/wiki/wiki/Proof-of-Stake-FAQ","username":"keyur","ts":"2018-02-08T06:31:14.713Z"}
{"msg":"One suggestion I have for the upcoming Hackathon in LA is to have a 15-30 minute walkthrough of PoET: it is an important innovation that needs to be highlighted more. ","username":"keyur","ts":"2018-02-08T06:33:41.125Z"}
{"msg":"Has joined the channel.","username":"manxiaqu","ts":"2018-02-08T06:56:27.261Z","type":"uj"}
{"msg":"Has left the channel.","username":"manxiaqu","ts":"2018-02-08T07:19:19.864Z","type":"ul"}
{"msg":"Has joined the channel.","username":"kakuzu","ts":"2018-02-08T18:44:09.157Z","type":"uj"}
{"msg":"Since Casper is in the works its kinda hard to say. Which is the problem. I think if they solve it totally it will be a huge breakthrough. Last I checked they had two different things going on though. One part that was still very much in reasearch that was the POS algorithm proper. And the other was what vitalik was calling \"Casper the Friendly Finality Gadget\" or something like that. The gadget is interesting and useful, but is still really POW with a limit on how big a fork can get. ","username":"Dan","ts":"2018-02-08T21:33:34.327Z"}
{"msg":"I'll have to read through the entirety of the faq you posted though. probably some new stuff there I'm not up to speed on.","username":"Dan","ts":"2018-02-08T21:33:57.993Z"}
{"msg":"Happy to talk about PoET in LA. Feel free to throw it on the community agenda.","username":"Dan","ts":"2018-02-08T21:34:17.816Z"}
{"msg":"Hi, I post my question in this channel, maybe it's more \"consensus specific\" : I struggle to understand the real meaning of \"local mean\" in sawtooth validator code and PoET consensus code. The documentation describe it a little bit in the PoET specifications 1.0 (https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html?highlight=local%20mean) but if someone have an article or some explanations, it would be helpful !","username":"Johnjam","ts":"2018-02-09T08:09:00.289Z"}
{"msg":"Hi @Johnjam each node keeps track of the average wait times it sees. Using that average it infers the size of the population of other validators. The next wait times are drawn from a pool that is proportionate to the size of the network population. \nWhen a wait certificate is generated (the certificate is the proof that the node ran the poet protocol correctly) to claim a block, it includes the mean that node computed locally. That localmean then is used by the other validators (along with all the previous localmeans announced in the prior blocks in the chain) to estimate the network population and the whole cycle repeats.","username":"Dan","ts":"2018-02-09T13:58:15.496Z"}
{"msg":"Thanks for your answer @Dan ! I'm still a litlle bit confused by one thing : how can a node deduct the size of the population of other validators from the average wait times it sees ? And if I understood well, when you precise \"average wait time it sees\", you mean the localmean in wait certificates sent by other validators ?","username":"Johnjam","ts":"2018-02-09T15:28:41.534Z"}
{"msg":"@Johnjam since the wait times are all exponentially distributed... the minimum is also exponential.. we use the minimum wait times as samples of that distribution and \"reverse\" the process to determine the parameters for the distribution (including population)","username":"MicBowman","ts":"2018-02-09T16:37:20.411Z"}
{"msg":"Thank you @MicBowman ","username":"Johnjam","ts":"2018-02-09T17:03:13.291Z"}
{"msg":"Has joined the channel.","username":"mdoan","ts":"2018-02-10T01:44:11.118Z","type":"uj"}
{"msg":"It's mathemagic","username":"Dan","ts":"2018-02-11T17:32:46.867Z"}
{"msg":"Has joined the channel.","username":"pankajgoyal","ts":"2018-02-13T03:08:56.643Z","type":"uj"}
{"msg":":woo: ","username":"askmish","ts":"2018-02-13T14:25:05.505Z"}
{"msg":":woot: ","username":"kakuzu","ts":"2018-02-13T20:09:49.224Z"}
{"msg":"Transaction header is signed by the signers private key (not sent with the transaction) and the resulting signature is stored in header_signature. this is fine if i do transaction i sign it . The batcher_public_key field must match the public key used to sign the batch in which this transaction is contained. who will sign it. Does it mean single transaction in a batch","username":"kakuzu","ts":"2018-02-13T21:05:26.513Z"}
{"msg":"Has joined the channel.","username":"JasonG","ts":"2018-02-14T07:33:46.683Z","type":"uj"}
{"msg":"Hi I want to ask about PoET consensus algorithm. In Proof of Stake, there's this 'nothing at stake' problem when there's a branch in the blockchain. Namely, the forger can choose to bet the stake at two branches at the same time to maximize his/her own interests. In PoET, we have the same problem -- whenever there's a branch in the blockchain, validators can choose to run PoET using the same SGX hardware on two branches at the same time right? How do we prevent this from happening?","username":"JasonG","ts":"2018-02-14T07:34:19.270Z"}
{"msg":"Thank you guys in advance for your help!","username":"JasonG","ts":"2018-02-14T07:34:45.523Z"}
{"msg":"Does SGX prevent 'double running' PoET on the hardware? In PoET specification 1.0 https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html, which sepcification helps with this?","username":"JasonG","ts":"2018-02-14T07:38:25.316Z"}
{"msg":"Hi @JasonG branches or rather forks are resolved by the fork resolution portion of the algorithm. In brief, fork resolution will try to pick the fork with the most work on it, and only build new blocks on that fork. All nodes will run the same algorithm and choose the same fork.\nYes, there is a restriction on double running of poet with SGX. it uses monotonic counters. Unfortunately the spec needs to be updated there with the exact approach. But the short version is you bind the validator registration to a hardware counter. if the enclave can't find that counter (because another instance is using it) the enclave won't produce a wait certificate.","username":"Dan","ts":"2018-02-14T14:48:25.195Z"}
{"msg":"@Dan Thank you very much for the answer! What if the malicious entity has multiple validator keys registered? He/She can just bind two keys to run two PoET on the same hardware?","username":"JasonG","ts":"2018-02-14T15:47:06.600Z"}
{"msg":"@Dan Thank you very much for the answer! What if the malicious entity has multiple validator keys registered? He/She can then bind two keys to run two PoET on the same hardware?","username":"JasonG","ts":"2018-02-14T15:47:06.600Z"}
{"msg":"I thinking of using an open blockchain model where everyone can join and leave the validator pool freely","username":"JasonG","ts":"2018-02-14T15:49:42.719Z"}
{"msg":"@JasonG right now we enforce 1 PoET instance per CPU","username":"kelly_","ts":"2018-02-14T16:37:57.485Z"}
{"msg":"so think about PoET as similar to PoW, but without the operation cost","username":"kelly_","ts":"2018-02-14T16:38:18.419Z"}
{"msg":"so there is still the capital cost to buy the \"miner\"/CPU, and therefore not a nothing-at-stake problem","username":"kelly_","ts":"2018-02-14T16:39:00.302Z"}
{"msg":"validator in the business network will be trusted nodes so they have brand image and lawsuit at stake :)","username":"kakuzu","ts":"2018-02-14T16:47:44.232Z"}
{"msg":"open network is good but with some thing at stake is a good choice. If something valuable is not to lose, people won't fear of losing and becomes bad actors","username":"kakuzu","ts":"2018-02-14T16:50:33.879Z"}
{"msg":"Has joined the channel.","username":"LuisMarado","ts":"2018-02-14T18:01:52.255Z","type":"uj"}
{"msg":"@kelly_ appreciate the explanation! By 'enforce', you mean it can enforced using SGX or it's enforced based on permission system?  How do you use SGX to enforce 1 PoET per CPU? ","username":"JasonG","ts":"2018-02-14T18:16:35.187Z"}
{"msg":"using the monotonic counter mechanism i mentioned above","username":"Dan","ts":"2018-02-14T19:05:31.484Z"}
{"msg":"@Dan got it thanks! will check the detailed implementation in the code","username":"JasonG","ts":"2018-02-14T20:57:46.873Z"}
{"msg":"no image is available how can i run seth","username":"kakuzu","ts":"2018-02-14T20:58:40.818Z"}
{"msg":"```Pulling seth (sawtooth-seth:latest)...\nERROR: The image for the service you're trying to recreate has been removed. If you continue, volume data could be lost. Consider backing up your data before continuing.\n\nContinue with the new image? [yN]y\nPulling seth (sawtooth-seth:latest)...\nERROR: pull access denied for sawtooth-seth, repository does not exist or may require 'docker login'\n```","username":"kakuzu","ts":"2018-02-14T21:00:51.121Z"}
{"msg":"i already login","username":"kakuzu","ts":"2018-02-14T21:01:09.287Z"}
{"msg":"could you repost to #sawtooth-seth ?","username":"Dan","ts":"2018-02-14T21:27:06.636Z"}
{"msg":"sorry","username":"kakuzu","ts":"2018-02-14T21:29:15.368Z"}
{"msg":"no worries.. not always clear which channel to post things to.","username":"Dan","ts":"2018-02-14T21:30:04.748Z"}
{"msg":"Has joined the channel.","username":"gurpreetlucky","ts":"2018-02-16T07:18:41.348Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ColinAlstad","ts":"2018-02-16T17:10:50.771Z","type":"uj"}
{"msg":"Is it possible to test out PoET with SGX without submitting a certificate to Intel?","username":"ColinAlstad","ts":"2018-02-16T17:17:15.072Z"}
{"msg":"i dont remember if we have links in the docs, but yes you will need a developer credential. that lets you access the attestation verification service. ","username":"Dan","ts":"2018-02-16T19:07:39.379Z"}
{"msg":"there's no fee or anything for that. its just key management.","username":"Dan","ts":"2018-02-16T19:07:56.162Z"}
{"msg":"Has joined the channel.","username":"TheOnlyJoey","ts":"2018-02-20T13:52:55.664Z","type":"uj"}
{"msg":"Good day, it seems that I can't find documentation regarding using different consensus on the sawtooth docker, any tips on how to do this? seems to only do dev consensus","username":"TheOnlyJoey","ts":"2018-02-20T13:54:13.815Z"}
{"msg":"I would think that the validator would have a API call of some sort where you change out the consensus algorithm to whatever","username":"TheOnlyJoey","ts":"2018-02-20T14:01:37.704Z"}
{"msg":"@TheOnlyJoey you declare you consensus algo in the Genesis block (you can change it later, however).\nThe required interfaces to be implemented are here --> https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/journal.html#the-consensus-interface\nand, of course, \"Use the source, Luke!\" :relaxed: ","username":"formax","ts":"2018-02-20T20:35:10.188Z"}
{"msg":"@TheOnlyJoey if you take a look at https://github.com/hyperledger/sawtooth-core/blob/master/integration/sawtooth_integration/docker/test_poet_liveness.yaml you can see an example of the sawset and poet cli commands being used to set the sawtooth.consensus.algorithm to poet and establish other required settings. These are built into the genesis block, but can also be set on the fly while the system is running.\nthese are on chain settings\nlook at the 'validator-0' block in the yaml file","username":"jsmitchell","ts":"2018-02-20T21:10:40.114Z"}
{"msg":"+1 this is what I used to find the commands to start PoET in my Apache Brooklyn catalog entries for Sawtooth networks","username":"grkvlt","ts":"2018-02-21T15:22:34.583Z"}
{"msg":"Has joined the channel.","username":"nage","ts":"2018-02-21T18:46:56.981Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kdenhartog","ts":"2018-02-21T18:47:08.667Z","type":"uj"}
{"msg":"Has joined the channel.","username":"TreyZhong","ts":"2018-02-22T04:22:48.018Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Gabisan","ts":"2018-02-22T12:24:40.099Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kyogesh91","ts":"2018-02-22T20:28:45.213Z","type":"uj"}
{"msg":"Has joined the channel.","username":"GulshanKrish","ts":"2018-02-26T11:46:16.569Z","type":"uj"}
{"msg":"Has joined the channel.","username":"brian038","ts":"2018-02-26T19:18:40.236Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pmettu","ts":"2018-02-26T22:46:59.712Z","type":"uj"}
{"msg":"Has joined the channel.","username":"azanux","ts":"2018-02-27T01:35:35.561Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ttvanderveen","ts":"2018-02-28T09:05:01.254Z","type":"uj"}
{"msg":"Has joined the channel.","username":"LaurenNeely","ts":"2018-03-04T21:41:30.023Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cuevrob","ts":"2018-03-05T17:49:17.309Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Snixells","ts":"2018-03-06T12:04:20.124Z","type":"uj"}
{"msg":"Has joined the channel.","username":"eramitg","ts":"2018-03-06T19:04:21.524Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SharedMocha","ts":"2018-03-06T23:58:50.764Z","type":"uj"}
{"msg":"one basic question regarding POET -As i understand POET uses Intel SGX which can work on any Intel chip/processes on servers/machines anywhere.  Now, will POET work on non Intel processors -Say for example AMD ?","username":"SharedMocha","ts":"2018-03-07T00:01:55.612Z"}
{"msg":"@SharedMocha the current implementation is for Intel SGX, but PoET could potentially be implemented on other trusted execution environments besides SGX","username":"kelly_","ts":"2018-03-07T04:28:50.405Z"}
{"msg":"Has joined the channel.","username":"cheukchan","ts":"2018-03-07T06:13:36.371Z","type":"uj"}
{"msg":"@SharedMocha we have two versions of poet. One which is secured with SGX and the other with a simulated enclave. The latter does not require any trusted execution (i.e. does not require SGX) but does not provide BFT fairness. ","username":"Dan","ts":"2018-03-07T07:53:58.757Z"}
{"msg":"Has joined the channel.","username":"st","ts":"2018-03-07T14:36:57.205Z","type":"uj"}
{"msg":"@bill.keller @Dan  Thanks for the info","username":"SharedMocha","ts":"2018-03-07T19:24:02.029Z"}
{"msg":"Has joined the channel.","username":"bill.keller","ts":"2018-03-07T19:24:02.103Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nbajjuri","ts":"2018-03-07T23:48:36.315Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AndrewRy 1","ts":"2018-03-08T03:25:00.213Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Ryan2","ts":"2018-03-08T03:25:51.855Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SmoDav","ts":"2018-03-08T10:40:50.930Z","type":"uj"}
{"msg":"Has joined the channel.","username":"abrahamjum","ts":"2018-03-09T00:53:01.093Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Gandalf","ts":"2018-03-09T03:43:29.884Z","type":"uj"}
{"msg":"@Dan Is there a reason that PoET is not vulnerable to the type of side channel attacks on SGX? https://www.darkreading.com/vulnerabilities---threats/intel-sgx-can-be-used-to-hide-execute-malware/d/d-id/1331211?\nhttps://www.theregister.co.uk/2017/03/07/eggheads_slip_a_note_under_intels_door_sgx_can_leak_crypto_keys/","username":"Gandalf","ts":"2018-03-09T04:10:15.549Z"}
{"msg":"Has joined the channel.","username":"vijayendrabvs","ts":"2018-03-09T05:01:09.042Z","type":"uj"}
{"msg":"@Gandalf PoET was designed with the assumption that compromise was possible (even if we didn't know how it could happen). The \"z-test\" limits the number of times a given validator could win the election","username":"MicBowman","ts":"2018-03-09T15:40:51.599Z"}
{"msg":"So long as an attack isn't \"scalabe\" (meaning, that it could easily be reproduced over a large number of nodes) the z-test provides some probabalistic guarantees of liveness","username":"MicBowman","ts":"2018-03-09T15:41:43.790Z"}
{"msg":"Thanks for the reply Mic, but that is the issue, no? The attack referenced above could be scalable, unless it was a very large network of nodes. Even then, once identified, could it not attack the underlying counter mechanism upon which the selector is based. I am thinking not only of double spending type of attacks but denial of service types as well.","username":"Gandalf","ts":"2018-03-09T15:50:29.497Z"}
{"msg":"Thanks for the reply Mic, but that is the issue, no? The attack referenced above could be scalable, unless it was a very large network of nodes. Even then, once identified, could it not attack the underlying counter mechanism upon which the selector is based. I am thinking not only of double spending type of attacks but denial of service types as well. Maybe since a sizable number would be running on a simulated enclave, it would be harder to attack both ways at once (different vulnerabilities).","username":"Gandalf","ts":"2018-03-09T15:50:29.497Z"}
{"msg":"Also, has their been any throughput testing of PoET running on a AWS type system that we can reference? I am trying to compare it to something like Thunderella, which we are also considering using in our Sawtooth implementation","username":"Gandalf","ts":"2018-03-09T15:52:09.367Z"}
{"msg":"Also, has their been any throughput testing of PoET running on a AWS type system that we can reference? I am trying to compare it to something like Thunderella, Honeybadger or Algorand, which we are also considering using in our Sawtooth implementation. Thanks again for the reply.","username":"Gandalf","ts":"2018-03-09T15:52:09.367Z"}
{"msg":"Possibly... side channel attacks still require a presence on the server where the attack takes place... ","username":"MicBowman","ts":"2018-03-09T15:56:15.907Z"}
{"msg":"So having a diverse set of hosting organizations for the validator pool limits the scalability ","username":"MicBowman","ts":"2018-03-09T15:56:54.443Z"}
{"msg":"Regarding throughput... the sawtooth channel is probably best for that question","username":"MicBowman","ts":"2018-03-09T15:57:55.628Z"}
{"msg":"Regarding denial of service... we've run simulations of z-test with up to 30% compromised nodes... throughput (and time to commit transactions) is deeply affected... however, we were able to get about half the blocks from \"good\" validators","username":"MicBowman","ts":"2018-03-09T15:58:53.745Z"}
{"msg":"and obviously... simulated enclaves are MUCH easier to attack... there has to be some kind of trust in rational behavior... but that is true of other consensus algorithms that are being used in HL","username":"MicBowman","ts":"2018-03-09T16:00:11.505Z"}
{"msg":"Yes, on the simulated enclave. Not yet sure what standard config would be of our average Validator Node. If on laptop/desktop then SGX is handy, if many are trying to set up on a cheap VPS, then not so sure. Love Sawtooth modularity, btw - not completely sold yet on PoET for our needs.","username":"Gandalf","ts":"2018-03-09T16:04:13.981Z"}
{"msg":"It (PoET) truly is a novel idea, however and I suspect that future consensus models will have some sort of hardware component check","username":"Gandalf","ts":"2018-03-09T16:05:23.842Z"}
{"msg":"It (PoET) truly is a novel idea, however and I suspect that future consensus models will have some sort of hardware component check. It makes a lot of sense in one way almost as a \"two factor\" i.e. physical validator.  Would LOVE to see something like that at a mobile level. Not sure how it will work in today's cloud environment.","username":"Gandalf","ts":"2018-03-09T16:05:23.842Z"}
{"msg":"Thanks for info on your simulations. You say getting 1/2 from good validators. How many does PoET require to finalize/confirm block?","username":"Gandalf","ts":"2018-03-09T16:10:00.988Z"}
{"msg":"Thanks for info on your simulations and for taking time to answer my questions. You say getting 1/2 from good validators. How many does PoET require to finalize/confirm block?","username":"Gandalf","ts":"2018-03-09T16:10:00.988Z"}
{"msg":"PoET is a form of nakamoto consensus... so the leader proposes the block and others commit implicitly by building on it. When i say 1/2 i mean that half of the blocks in the chain come from good validators... so transactions are accepted \"fairly\"","username":"MicBowman","ts":"2018-03-09T17:05:28.362Z"}
{"msg":"assuming less than 50% compromised... there is no way to incorporate a \"bad\" transaction into the chain (every good validator rejects a block with bad transactions no matter how it was elected)","username":"MicBowman","ts":"2018-03-09T17:06:23.232Z"}
{"msg":"however... a compromised validator could censor good transactions","username":"MicBowman","ts":"2018-03-09T17:06:43.356Z"}
{"msg":"that's the power of the leader","username":"MicBowman","ts":"2018-03-09T17:06:47.518Z"}
{"msg":"the z-test ensures that, while throughput is degraded, good transactions will eventually be committed","username":"MicBowman","ts":"2018-03-09T17:07:11.119Z"}
{"msg":"Has joined the channel.","username":"jkmart","ts":"2018-03-09T18:12:12.576Z","type":"uj"}
{"msg":"Has joined the channel.","username":"PabitraMartha","ts":"2018-03-11T08:16:08.292Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kasmobir","ts":"2018-03-11T16:43:55.107Z","type":"uj"}
{"msg":"Has joined the channel.","username":"adityasingh177","ts":"2018-03-12T05:44:27.836Z","type":"uj"}
{"msg":"Has joined the channel.","username":"nissshh","ts":"2018-03-12T14:47:39.761Z","type":"uj"}
{"msg":"Has joined the channel.","username":"groussarda","ts":"2018-03-14T18:43:27.345Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tubevip","ts":"2018-03-16T03:26:41.977Z","type":"uj"}
{"msg":"Has joined the channel.","username":"smgulley","ts":"2018-03-16T14:12:36.620Z","type":"uj"}
{"msg":"Has joined the channel.","username":"anrgbndhu","ts":"2018-03-18T07:23:28.199Z","type":"uj"}
{"msg":"Has joined the channel.","username":"LeifuChen","ts":"2018-03-18T16:19:33.184Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AntoniosHadji","ts":"2018-03-18T16:54:30.546Z","type":"uj"}
{"msg":"Has joined the channel.","username":"TomBarnes","ts":"2018-03-19T17:31:29.044Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ShikarSharma","ts":"2018-03-20T22:56:15.030Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rnagler","ts":"2018-03-21T18:58:12.548Z","type":"uj"}
{"msg":"Has joined the channel.","username":"brycebudd","ts":"2018-03-22T21:08:54.921Z","type":"uj"}
{"msg":"Has left the channel.","username":"kasmobir","ts":"2018-03-22T21:13:48.183Z","type":"ul"}
{"msg":"Has joined the channel.","username":"cheetara","ts":"2018-03-23T14:33:15.983Z","type":"uj"}
{"msg":"Hi - can someone tell me what constitutes a quorum of validators that agree on the validity of a block? Is it 51% of static peers? Does it change for dynamic peers? Thanks.","username":"arthurgreef","ts":"2018-03-23T16:57:20.906Z"}
{"msg":"With PoET it's random leader election not voting. In something like PBFT or raft the nodes 'vote' at a view change (leader election). In PoW, PoET, etc. leaders emerge randomly each round. Other nodes follow that leader using a deterministic mechanism, so that with high probability all nodes follow the same leader.","username":"Dan","ts":"2018-03-23T18:35:41.136Z"}
{"msg":"Has joined the channel.","username":"FrankCastellucci","ts":"2018-03-23T23:29:27.187Z","type":"uj"}
{"msg":"Has joined the channel.","username":"aj07","ts":"2018-03-25T19:56:28.845Z","type":"uj"}
{"msg":"Has joined the channel.","username":"saurabharora","ts":"2018-03-25T20:35:19.813Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sivo4kin","ts":"2018-03-26T11:35:40.368Z","type":"uj"}
{"msg":"@Dan If I understand it, it is similar to the RAFT protocol with the timer running at the SGX level?","username":"Gandalf","ts":"2018-03-26T12:16:32.484Z"}
{"msg":"More like POW, but without the energy burn. ","username":"Dan","ts":"2018-03-27T12:56:37.265Z"}
{"msg":"Has joined the channel.","username":"Wilsonda Fonseca","ts":"2018-03-27T17:24:27.866Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pavithrans","ts":"2018-03-28T11:57:53.394Z","type":"uj"}
{"msg":" any idea how to clear this error\nunable to prepare context: unable to evaluate symlinks in Dockerfile path: GetFileAttributesEx C:\\c: The system cannot find the file specified. ","username":"pavithrans","ts":"2018-03-28T12:05:15.522Z"}
{"msg":"I would like do know, if the current PoET implementation is considered safe regarding new side-channel attacks, see for example:\nhttps://www.theregister.co.uk/2018/03/28/intel_shrugs_off_new_sidechannel_attacks_on_branch_prediction_units_and_sgx/","username":"rnagler","ts":"2018-03-28T12:56:09.283Z"}
{"msg":"Has joined the channel.","username":"KOttoni","ts":"2018-03-28T16:57:36.243Z","type":"uj"}
{"msg":"Has joined the channel.","username":"obo20","ts":"2018-03-30T00:02:35.162Z","type":"uj"}
{"msg":"are you able to use a difference consensus mechanism like POA in sawtooth?","username":"obo20","ts":"2018-03-30T00:05:35.821Z"}
{"msg":"so far all I've read is about PoET","username":"obo20","ts":"2018-03-30T00:05:42.043Z"}
{"msg":"and I honestly don't trust it","username":"obo20","ts":"2018-03-30T00:05:55.620Z"}
{"msg":"Has joined the channel.","username":"ousooners2834","ts":"2018-03-30T16:19:56.323Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mfoege41","ts":"2018-03-31T00:30:30.387Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Steep","ts":"2018-03-31T11:18:23.863Z","type":"uj"}
{"msg":"Has joined the channel.","username":"seet 3","ts":"2018-04-01T12:16:53.428Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Rumeel_Hussain","ts":"2018-04-02T10:45:09.145Z","type":"uj"}
{"msg":"Has joined the channel.","username":"audreyle","ts":"2018-04-02T17:16:13.563Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hanen","ts":"2018-04-02T23:07:21.417Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shonblock","ts":"2018-04-03T15:44:29.691Z","type":"uj"}
{"msg":"Has joined the channel.","username":"thomasknoll","ts":"2018-04-04T01:32:46.080Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sunil_hyper","ts":"2018-04-05T06:29:24.441Z","type":"uj"}
{"msg":"Hi.. I'm Sunil, very new to sawtooth. I have some queries please give answers for it. 1) Which database Sawtooth is using in BCT..? 2) is CA required for it..? 3) can we sawtooth support partial nodes..? ","username":"sunil_hyper","ts":"2018-04-05T06:29:38.414Z"}
{"msg":"Has joined the channel.","username":"harimohanchoudhary","ts":"2018-04-05T09:29:18.611Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cheeky","ts":"2018-04-05T19:58:45.823Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tommling","ts":"2018-04-05T21:17:18.128Z","type":"uj"}
{"msg":"Hi Sunil, this channel is best for consensus questions. For general sawtooth questions #sawtooth is a better channel. I'm not sure what BCT means, but Sawtooth uses the Lightning database. That database is fully managed by sawtooth and users/operators don't need to know its there. 2) CA is not required. All permissioning can be handled on-chain using the identity transaction family. 3) no, all sawtooth nodes are uniform and must operate all services required by the particularly network.","username":"Dan","ts":"2018-04-06T13:28:00.506Z"}
{"msg":"@adamludvik do you know what the trigger is for rBFT to publish a block?","username":"Dan","ts":"2018-04-06T16:45:33.184Z"}
{"msg":"No, I am not yet familiar with rBFT.","username":"adamludvik","ts":"2018-04-06T21:26:29.903Z"}
{"msg":"The general impression I have is that most voting based consensus algorithms are described without blockchain specifically in mind, and so there is usually some work that goes into defining that trigger. It probably makes sense to set a timer and max block size and publish whenever one of those thresholds is reached.","username":"adamludvik","ts":"2018-04-06T21:29:21.871Z"}
{"msg":"Has joined the channel.","username":"sv2011","ts":"2018-04-07T23:11:52.841Z","type":"uj"}
{"msg":"Has joined the channel.","username":"indirajith","ts":"2018-04-08T22:18:27.968Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ThangDC","ts":"2018-04-09T07:33:00.394Z","type":"uj"}
{"msg":"Can someone kindly point me to a guide on quickstarting poet?","username":"tommling","ts":"2018-04-09T16:06:23.217Z"}
{"msg":"=]","username":"tommling","ts":"2018-04-09T16:06:32.066Z"}
{"msg":"via the simulator is fine","username":"tommling","ts":"2018-04-09T16:06:46.993Z"}
{"msg":"@tommling have you looked into https://github.com/hyperledger/sawtooth-core/blob/master/integration/sawtooth_integration/docker/test_poet_liveness.yaml","username":"benoit.razet","ts":"2018-04-09T16:41:26.450Z"}
{"msg":"but that's not really a guide","username":"benoit.razet","ts":"2018-04-09T16:54:23.821Z"}
{"msg":"Has joined the channel.","username":"fedotovcorp","ts":"2018-04-10T10:15:55.897Z","type":"uj"}
{"msg":"@tommling here's some other docker scripts that will spin everything up for you. https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/creating_sawtooth_network.html#\nYou can also use the contents of those to see what to do natively on ubuntu if you prefer.","username":"Dan","ts":"2018-04-11T14:24:50.868Z"}
{"msg":"@tommling here's some docker scripts that will spin everything up for you. https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/creating_sawtooth_network.html#\nYou can also use the contents of those to see what to do natively on ubuntu if you prefer.","username":"Dan","ts":"2018-04-11T14:24:50.868Z"}
{"msg":"Hi Folks , I am an Phd Candidate in www.nitrr.ac.in my Linkedind Profile is https://www.linkedin.com/in/eramitg/ for sake of earning an Phd Degree i was proposed Blockchain Technology research work area to my guide so oom I request all of you gyus ,please guide me and assign me some research oriented task so that we mutullay benifited research related to Hyperledger Umbrella Project , All of you feel free to catch me on twitter or skype to https://twitter.com/eramitg1 or amitg.iitb skype id also in Zoom to in Zoom ID 3649222703 or whatsapp +917773011100 Regards","username":"eramitg","ts":"2018-04-11T15:38:25.123Z"}
{"msg":"Hi Folks , I am an Phd Candidate in www.nitrr.ac.in my Linkedind Profile is https://www.linkedin.com/in/eramitg/ for sake of earning an Phd Degree i was proposed Blockchain Technology research work area to my guide so  I request all of you guys ,please guide me and assign me some research oriented task so that we mutually benefited research related to Hyperledger Umbrella Project , All of you feel free to catch me on twitter or skype to https://twitter.com/eramitg1 or amitg.iitb skype id also in Zoom to in Zoom ID 3649222703 or whatsapp +917773011100 Regards Amit","username":"eramitg","ts":"2018-04-11T15:38:25.123Z"}
{"msg":"Has joined the channel.","username":"fahad.suhaib","ts":"2018-04-12T08:10:43.084Z","type":"uj"}
{"msg":"Has joined the channel.","username":"WLash","ts":"2018-04-12T10:44:59.478Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ShashankChndkr","ts":"2018-04-12T10:46:06.338Z","type":"uj"}
{"msg":"how are smart contracts defined in sawtooth ","username":"ShashankChndkr","ts":"2018-04-12T10:47:29.631Z"}
{"msg":"@ShashankChndkr Take a look at this: https://sawtooth.hyperledger.org/docs/core/releases/latest/transaction_family_specifications.html","username":"askmish","ts":"2018-04-12T12:12:10.301Z"}
{"msg":"Has joined the channel.","username":"Samikkumar","ts":"2018-04-12T13:47:49.047Z","type":"uj"}
{"msg":"Hi, Im analyzing the PoET for my thesis and Ive got two questions which I cant after reading the PoET part in the documentation:```\n1. How do the validators decide that an election is over? Do they recognize when all eligible nodes sent a wait certificate or is there a max-wait-time for wait certificates?```\n2. How is an election for a new block triggered? Does it start immediately after consensus over the predecessor is reached?\n``` \n``` ","username":"WLash","ts":"2018-04-12T14:17:43.169Z"}
{"msg":"Hi, Im analyzing the PoET for my thesis and Ive got two questions which I cant after reading the PoET part in the documentation:","username":"WLash","ts":"2018-04-12T14:18:26.773Z"}
{"msg":"1. How do the validators decide that an election is over? Do they recognize when all eligible nodes sent a wait certificate or is there a max-wait-time for wait certificates?","username":"WLash","ts":"2018-04-12T14:18:30.483Z"}
{"msg":"2. How is an election for a new block triggered? Does it start immediately after consensus over the predecessor is reached?","username":"WLash","ts":"2018-04-12T14:18:40.299Z"}
{"msg":"I hope someone can help me out :wink:","username":"WLash","ts":"2018-04-12T14:18:53.769Z"}
{"msg":"@WLash PoET provides probabilistic finality, so there's always a small chance that a block might come in with a lower overall wait time at a later time. The probability of a block being final increases as more blocks get added to the chain. As soon as a claim block is sent out, the validator starts working on creating the next block.","username":"amolk","ts":"2018-04-12T14:29:56.138Z"}
{"msg":"@amolk Thanks for your answer. So in the case the chain has already 567 blocks and the validator receives a claim block for position 566 with a lower waiting time than the current block on this position. The validator simply reacts to it by setting the new block on that position and checks if block 567 is still valid?","username":"WLash","ts":"2018-04-12T14:44:57.865Z"}
{"msg":"No, all blocks after 566 will be invalidated because they will now be pointing to an old block. The transactions from 567 will end up in some other block, likely the next one published.","username":"amolk","ts":"2018-04-12T14:47:02.526Z"}
{"msg":"@WLash i can send you some additional information if it would help","username":"MicBowman","ts":"2018-04-12T14:52:29.775Z"}
{"msg":"@amolk Ok, I think I got it. Thank you :)","username":"WLash","ts":"2018-04-12T15:09:26.498Z"}
{"msg":"Has joined the channel.","username":"zscole","ts":"2018-04-12T21:47:56.150Z","type":"uj"}
{"msg":"@Dan @benoit.razet  Thanks for the links  ^^, I find that I don't need actual instances of poet set up yet. I am working on a library that models the expected behavior of a network by enumerating the initial inputs such as sampleLenght, initWaitTime, targetWaitTime, minWaitTime, Vertices, Edges, etc. and calculating the the populationSize / localMean as described in the PoET 1.0 specs. The end goal is to visualize information to pick reasonable parameters for our use case. ","username":"tommling","ts":"2018-04-13T17:57:06.566Z"}
{"msg":"I am having some issues understanding what the local mean is, besides the average performance of a node's validation times.","username":"tommling","ts":"2018-04-13T17:57:40.364Z"}
{"msg":"I've found information about why its useful: `PoET uses the measure of aggregate local mean (a measure of the total amount of time spent waiting) to determine the valid fork,` [1.2 docs. consensus interface]. ","username":"tommling","ts":"2018-04-13T17:57:52.235Z"}
{"msg":"This makes sense, but when I run my models, the local average is always orders of magnitudes larger than the target wait time.","username":"tommling","ts":"2018-04-13T17:58:53.583Z"}
{"msg":"*Really, I am looking for insight into how these values are calculated and what the inputs  `sw` and `sm` are for calculating populationSize*","username":"tommling","ts":"2018-04-13T18:00:35.301Z"}
{"msg":"*Really, I am looking for insight into how and why these values are calculated and what they mean. Is the local mean a measure of all the validator's expected wait time on a specific block slot? Is the populationSize a measure of the effective number of nodes in the network? *","username":"tommling","ts":"2018-04-13T18:00:35.301Z"}
{"msg":"I guess this is sw = sampleWait and sm = sampleMean?","username":"tommling","ts":"2018-04-13T18:02:52.522Z"}
{"msg":"Has joined the channel.","username":"sswabhiman","ts":"2018-04-15T15:11:22.165Z","type":"uj"}
{"msg":"@tommling good question and local mean is kind of the linchpin of poet. \nthe local mean is the validator's observed wait times in the fork it is operating on. It's used as a mechanism to infer the population. (https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html#population-size-and-local-mean-computation)\nThere's a similarly named metric in the code \"aggregate local mean\" which is the sum of all the local means of the blocks in a fork. That sum is used to infer the population of participants in a fork.\n(Note that the initial wait time is poorly named variable. It is really more like the anticipated local mean once the initial validators are launched. It is meant to help provide a ramp mechanism as a network is starting. It is essentially irrelevant after the ramp time is complete.)","username":"Dan","ts":"2018-04-16T13:35:47.909Z"}
{"msg":"@tommling good question and local mean is kind of the lynch pin of poet. \nthe local mean is the validator's observed wait times in the fork it is operating on. It's used as a mechanism to infer the population. (https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html#population-size-and-local-mean-computation)\nThere's a similarly named metric in the code \"aggregate local mean\" which is the sum of all the local means of the blocks in a fork. That sum is used to infer the population of participants in a fork.\n(Note that the initial wait time is poorly named variable. It is really more like the anticipated local mean once the initial validators are launched. It is meant to help provide a ramp mechanism as a network is starting. It is essentially irrelevant after the ramp time is complete.)","username":"Dan","ts":"2018-04-16T13:35:47.909Z"}
{"msg":"Has joined the channel.","username":"vascosotomaior","ts":"2018-04-17T09:53:11.338Z","type":"uj"}
{"msg":"@Dan Thanks for the clarification. On an unrelated note, we have been experiencing forks in dev mode running only one validator. This is strange because that means our node is inconsistent with itself (ha-ha...). This is a pastebin with the syslogs, It goes on for hundreds of blocks, and really messes with performance because every block has be compared.   https://pastebin.com/t1N05SRd","username":"tommling","ts":"2018-04-17T20:39:20.973Z"}
{"msg":"@Dan Thanks for the clarification. On an unrelated note, we have been experiencing forks in dev mode running only one validator. This is strange because that mean the node is inconsistent with itself. I will try to pastebin some logs, but my hunch is it has to do with the scheduler.  https://pastebin.com/t1N05SRd","username":"tommling","ts":"2018-04-17T20:39:20.973Z"}
{"msg":"That's weird! Everytime a new block comes in it's technically considered as a fork so you'll see messages about forks even when the network isn't forking in the way we'd all think of it. However, that pastebin looks like there's actual deep fork inspections going on.","username":"Dan","ts":"2018-04-18T17:32:16.363Z"}
{"msg":"@Dan , this goes on for ~ 80 something blocks, or wherever our chainhead is currently at. The /var/sawtooth data directory may be the culprit, but oddly I do not use a persistent volume in our k8 deployment","username":"tommling","ts":"2018-04-19T17:20:22.229Z"}
{"msg":"if you look at it more closely, it's just publishing blocks in sequence and then validating them","username":"jsmitchell","ts":"2018-04-19T21:15:42.501Z"}
{"msg":"there are no forks","username":"jsmitchell","ts":"2018-04-19T21:15:45.467Z"}
{"msg":"the log message is confusing","username":"jsmitchell","ts":"2018-04-19T21:15:55.884Z"}
{"msg":"that pastebin is only 76 lines long though, so maybe you mean to post another one with different behavior?","username":"jsmitchell","ts":"2018-04-19T21:16:53.135Z"}
{"msg":"Has joined the channel.","username":"hviewtiful","ts":"2018-04-20T19:35:37.830Z","type":"uj"}
{"msg":"Has joined the channel.","username":"PavelG 1","ts":"2018-04-21T19:36:59.681Z","type":"uj"}
{"msg":"Hi! I'm building a proof of concept where two organizations would have a shared sawtooth network and make their transactions visible to each other. Would like to achieve a throughput of 10 transactions per second and minimize time to commit.\nAre there recommendations/good reading on network sizing, PoET config and other considerations for throughput/latency?","username":"PavelG 1","ts":"2018-04-21T19:38:31.604Z"}
{"msg":"I don't know if we have good docs out there for sizing but I've heard a few others ask similar questions. In general with a blockchain the number of nodes should match (or be a multiple of) the number of participating companies. PoET is designed for large networks. If you just have two organizations that doesn't warrant a lot of nodes. ","username":"Dan","ts":"2018-04-23T17:46:22.094Z"}
{"msg":"Has joined the channel.","username":"LoveshHarchandani_1","ts":"2018-04-25T15:12:04.120Z","type":"uj"}
{"msg":"Has joined the channel.","username":"IVictorFeng","ts":"2018-04-26T02:33:41.529Z","type":"uj"}
{"msg":"Has left the channel.","username":"obo20","ts":"2018-04-28T17:49:18.621Z","type":"ul"}
{"msg":"Has joined the channel.","username":"MabelOza","ts":"2018-04-29T17:20:25.223Z","type":"uj"}
{"msg":"Has joined the channel.","username":"bodhisha","ts":"2018-05-02T14:58:33.048Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jeremie.inblocks","ts":"2018-05-02T15:30:43.540Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JCourech","ts":"2018-05-03T04:33:29.231Z","type":"uj"}
{"msg":"Regarding PoET certification for deploying in production a multi-node, multi-companies oragnization: at what level do we need to obtain these certificates? at node, company or organization level?\nI couldn't find any reference if anybody could guide me or answer this please.","username":"Gabisan","ts":"2018-05-04T08:50:13.152Z"}
{"msg":"I think logically it would be the consortium level and practically it would be one company (or if the consortium is a legal entity, then the consortium itself) would sign the enclave. And the network would only trust that identity for enclave validity.","username":"Dan","ts":"2018-05-04T15:57:19.571Z"}
{"msg":"Ok, thank you!","username":"Gabisan","ts":"2018-05-04T16:50:47.806Z"}
{"msg":"Has joined the channel.","username":"tungdt_socoboy","ts":"2018-05-05T11:39:45.659Z","type":"uj"}
{"msg":"Has joined the channel.","username":"pravindia","ts":"2018-05-06T17:09:45.918Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dsl","ts":"2018-05-07T05:53:35.049Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ltseeley","ts":"2018-05-08T17:20:52.249Z","type":"uj"}
{"msg":"Has left the channel.","username":"ThangDC","ts":"2018-05-09T05:09:02.187Z","type":"ul"}
{"msg":"hi","username":"nbajjuri","ts":"2018-05-09T17:18:48.119Z"}
{"msg":"is there any documentation about consenus? like how sawtooth consensus work","username":"nbajjuri","ts":"2018-05-09T17:18:48.182Z"}
{"msg":"Hi Sawtooth provides Dynamic Consensus - the ability to change consensus on the fly. We currently provide devmode targeted at app development and two flavors of PoET. Work is in progress on adding additional consensus algorithms to be released later this year.\nA slightly dated post of Dynamic Consensus (originally called unpluggable consensus) https://www.hyperledger.org/blog/2017/11/22/un-pluggable-consensus-with-hyperledger-sawtooth\nAnd this is specifically how PoET works:\nhttps://sawtooth.hyperledger.org/docs/core/nightly/master/architecture/poet.html","username":"Dan","ts":"2018-05-09T18:54:19.920Z"}
{"msg":"Has joined the channel.","username":"lucienlu","ts":"2018-05-10T11:58:17.830Z","type":"uj"}
{"msg":"Has joined the channel.","username":"temas","ts":"2018-05-10T15:55:55.949Z","type":"uj"}
{"msg":"thanks dan","username":"nbajjuri","ts":"2018-05-10T16:37:08.230Z"}
{"msg":"Has joined the channel.","username":"mastys100","ts":"2018-05-12T22:23:53.365Z","type":"uj"}
{"msg":"Has joined the channel.","username":"varinder","ts":"2018-05-15T00:03:38.833Z","type":"uj"}
{"msg":"I am quite new to Sawtooth architecture but I have experience with Fabric network and development consensus methods. My question is does Sawtooth require a certain processor for it to be deployed on a network? I ask because I understand it uses a specific SGX extension. Does that mean the consensus is limited to those processors that allow this feature? ","username":"varinder","ts":"2018-05-15T00:06:35.454Z"}
{"msg":"Has joined the channel.","username":"sauravverma","ts":"2018-05-15T10:31:36.697Z","type":"uj"}
{"msg":"@varinder that is a common question :).  SGX is only needed if you use the hardened version of PoET. We also have a version of PoET that just uses conventional software. There is a third consensus, devmode, which developers use across small networks. We also are in the process of adding a fourth consensus, RAFT and may add other consensus engines this year.","username":"Dan","ts":"2018-05-15T13:00:30.653Z"}
{"msg":"Has joined the channel.","username":"RyanBennett","ts":"2018-05-15T17:05:01.806Z","type":"uj"}
{"msg":"Has joined the channel.","username":"paul.sitoh","ts":"2018-05-16T16:20:42.274Z","type":"uj"}
{"msg":"Has joined the channel.","username":"harper58","ts":"2018-05-17T02:50:23.529Z","type":"uj"}
{"msg":"Has joined the channel.","username":"svanschalkwyk","ts":"2018-05-18T21:11:21.169Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RichardHill","ts":"2018-05-22T19:37:16.420Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jeffcoop9","ts":"2018-05-22T23:40:41.303Z","type":"uj"}
{"msg":"Hello to all, I want to experiment a little bit with consensus, which docker image files should I get in order to have a working network of two or more nodes with PoET consensus? (no CPU SGX support, I need the conventional version)","username":"st","ts":"2018-05-23T07:09:33.761Z"}
{"msg":"@Dan Raft seems very similar to PoET in some ways in its leader selection, with PoET using a (theoretically independent) CPU(virtualized) clock. Raft is noted to provide good crash protection but no byzantine of course - its also easier to implement than most any paxos flavor. Is there any chat or git where there is more discussion on the work that is being done to implement?","username":"Gandalf","ts":"2018-05-23T14:56:22.334Z"}
{"msg":"@st  Here's the poet setup info: https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/creating_sawtooth_network.html","username":"askmish","ts":"2018-05-23T15:06:17.770Z"}
{"msg":"@Gandalf raft and poet differ a bit in leader election and some of the properties","username":"kelly_","ts":"2018-05-23T16:50:02.551Z"}
{"msg":"I believe the RAFT implementation is starting in the next few weeks now that the new consensus interface is almost complete","username":"kelly_","ts":"2018-05-23T16:51:14.234Z"}
{"msg":"this would be the channel to discuss that though","username":"kelly_","ts":"2018-05-23T16:51:23.638Z"}
{"msg":"Please join the Hyperledger Sawtooth Technical Forum on Thursday, May 24th at 10am CDT for the following discussion:\n\nPoET 2.0 Preview (Ashish Mishra)\n\nJoin from PC, Mac, Linux, iOS or Android:\nhttps://zoom.us/my/hyperledger.community","username":"Dan","ts":"2018-05-23T18:02:33.815Z"}
{"msg":"Has joined the channel.","username":"SjirNijssen","ts":"2018-05-23T19:49:33.515Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kc1116","ts":"2018-05-23T19:50:09.857Z","type":"uj"}
{"msg":"Anyone know if any docs exist describing how to plug and play the consensus ","username":"kc1116","ts":"2018-05-23T19:51:16.223Z"}
{"msg":"There's a stale RFC for the new consensus engine interface. I think it gives the conceptual ideas but won't be prescriptive on the interface. Are you looking at adding a consensus protocol? https://github.com/hyperledger/sawtooth-rfcs/pull/4/files","username":"Dan","ts":"2018-05-24T13:49:44.157Z"}
{"msg":"@Dan was thinking about how a classic POW would work","username":"kc1116","ts":"2018-05-24T14:18:04.381Z"}
{"msg":"I thought Sawtooth came out the box with a bunch of different consensus algo's ready ","username":"kc1116","ts":"2018-05-24T14:18:39.605Z"}
{"msg":"yeah you can just switch consensus using settings transactions","username":"Dan","ts":"2018-05-24T14:24:10.826Z"}
{"msg":"Yea but that doesn't work unless interface is implemented correct ? ","username":"kc1116","ts":"2018-05-24T14:28:55.710Z"}
{"msg":"and currently POET is only interface besides dev mode correct ? ","username":"kc1116","ts":"2018-05-24T14:29:11.564Z"}
{"msg":"Also why can't people comment on that RFC ? I have a bunch of comments and questions, is it being discussed anywhere ? ","username":"kc1116","ts":"2018-05-24T14:30:13.222Z"}
{"msg":"nvm just noticed, theres a entire RFC process","username":"kc1116","ts":"2018-05-24T14:31:56.077Z"}
{"msg":"@kc1116 here is probably a fine place to discuss it","username":"kelly_","ts":"2018-05-24T20:09:14.126Z"}
{"msg":"or the mailing list","username":"kelly_","ts":"2018-05-24T20:09:18.723Z"}
{"msg":"I can see if it is supposed to be open for comment","username":"kelly_","ts":"2018-05-24T20:09:25.181Z"}
{"msg":"also there is a RAFT prototype that is being modified for the new interface","username":"kelly_","ts":"2018-05-24T20:09:43.109Z"}
{"msg":"so that will give 4 consensus options","username":"kelly_","ts":"2018-05-24T20:09:48.401Z"}
{"msg":"devmode, PoET, PoET-SGX, RAFT","username":"kelly_","ts":"2018-05-24T20:09:59.535Z"}
{"msg":"would be cool to see an POW style added to the option","username":"kelly_","ts":"2018-05-24T20:10:29.284Z"}
{"msg":"@kelly_ Cant see why anyone would add a PoW to the mix. Seriously doubt any of the currently operating blockchains would launch a PoW chain if they could start afresh today. Some DPoS perhaps like Algorand would be more to my liking - or the ability to shift algos a la Thunderella - running RAFT until leader corruption and then it shifts to something with BFT like tendermint or even PoET 2.0 - how you are running network (public, private, consortium) is a big factor tho on optimal consensus config","username":"Gandalf","ts":"2018-05-24T20:58:34.649Z"}
{"msg":"agreed","username":"kelly_","ts":"2018-05-24T22:05:18.376Z"}
{"msg":"there is one place that I think PoW makes sense, and that's for public networks that don't have an initial coin distribution","username":"kelly_","ts":"2018-05-24T22:05:41.013Z"}
{"msg":"i guess also for large scale public networks where you don't want to relay on some set of staking nodes and don't trust SGX","username":"kelly_","ts":"2018-05-24T22:09:31.673Z"}
{"msg":"though at this point staking seems to be more decentralized than mining","username":"kelly_","ts":"2018-05-24T22:09:42.155Z"}
{"msg":"@kelly_ @Gandalf Yes Kelly I think for public networks with no coin distribution this makes sense because it should be easy using sawtooth to then move the chain to one of the stake based options. Also if this also makes sense for completeness, unless Sawtooth is going to be a very opinionated framework","username":"kc1116","ts":"2018-05-25T14:57:51.412Z"}
{"msg":"Has joined the channel.","username":"sanjeet_kumar","ts":"2018-05-28T11:30:17.378Z","type":"uj"}
{"msg":"Has joined the channel.","username":"donatopellegrino","ts":"2018-05-28T13:26:04.204Z","type":"uj"}
{"msg":"Has joined the channel.","username":"BALACHUPPALA","ts":"2018-05-29T06:45:51.159Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AlexanderZhovnuvaty","ts":"2018-05-29T14:04:59.723Z","type":"uj"}
{"msg":"Has left the channel.","username":"jeffcoop9","ts":"2018-05-29T16:05:53.351Z","type":"ul"}
{"msg":"Has joined the channel.","username":"sidhujag","ts":"2018-05-31T23:57:56.804Z","type":"uj"}
{"msg":"hi guys for permissionless setup does this mean that you do not need to setup a whitelist for validators and validators can come and go without affecting the consensus algo in terms of orphans etc?","username":"sidhujag","ts":"2018-06-01T00:15:51.428Z"}
{"msg":"@gandalf the only way to go for POW is merged mining atm and otherwise would have to be a fault tolerant consensus that is probably PoW/PoS hybrid. PoW is still cheaper than PoS in the game theoretical sense as paul sztorc highlighted http://www.truthcoin.info/blog/pow-cheapest/","username":"sidhujag","ts":"2018-06-01T00:18:30.213Z"}
{"msg":"For me its either TEE completely or PoW+PoS hybrid with fraud proof design","username":"sidhujag","ts":"2018-06-01T00:18:56.006Z"}
{"msg":"Has joined the channel.","username":"Jasminess","ts":"2018-06-01T06:30:37.847Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Aswath8687","ts":"2018-06-02T20:21:52.235Z","type":"uj"}
{"msg":"Has joined the channel.","username":"quan2d","ts":"2018-06-04T02:40:36.883Z","type":"uj"}
{"msg":"@askmish Here's a consideration for you as you write poet2: https://jira.hyperledger.org/browse/STL-963. Didn't get around to doing this with PoET1 before we released sawtooth 1.0 and now it's pretty hard to make a change that is both helpful and backwards compatible. In a nutshell be wary how you initialize default values or whether you have default values at all or whether you can change default values.","username":"Dan","ts":"2018-06-04T13:37:15.066Z"}
{"msg":"Has joined the channel.","username":"BlackCat1397","ts":"2018-06-06T12:48:20.008Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shresthi","ts":"2018-06-06T12:49:29.401Z","type":"uj"}
{"msg":"Hello! Is there any plans about implementing PoET for ARM TrustZone?","username":"BlackCat1397","ts":"2018-06-06T12:50:06.926Z"}
{"msg":"Always welcome to contributions","username":"Dan","ts":"2018-06-06T13:17:56.007Z"}
{"msg":"Any tutorials about replacing consensus?","username":"BlackCat1397","ts":"2018-06-06T16:16:26.640Z"}
{"msg":"Has joined the channel.","username":"bebinu","ts":"2018-06-06T21:48:19.123Z","type":"uj"}
{"msg":"tendermint","username":"bebinu","ts":"2018-06-06T21:48:29.818Z"}
{"msg":"Hi all, I came across the following JIRA ticket https://jira.hyperledger.org/browse/STL-725 that mentions the following \"Produce a design document which describes an overall approach for integrating Tendermint consensus with Sawtooth for the purposes of providing a PBFT-like consensus module, while continuing to support PoET/SGX, PoET/Simulator, and devmode consensus modules.\" Was this document or a write up of the findings published anywhere? If so, where is it?","username":"bebinu","ts":"2018-06-06T21:57:02.063Z"}
{"msg":"kind of. there's a sawtooth-rfc up for a consensus interface that is intended to improve on the existing consensus abstraction. https://github.com/hyperledger/sawtooth-rfcs/pull/4/files","username":"Dan","ts":"2018-06-06T22:13:55.047Z"}
{"msg":"@Dan , thanks, I'll have a read. Do you know if any of the individuals involved in that investigation (e.g.  Adam Ludvik  or Mark Ford) hang out on RocketChat?  I'd love to have a conversation with them about their findings, assuming they did the work.","username":"bebinu","ts":"2018-06-06T22:39:31.899Z"}
{"msg":"Has joined the channel.","username":"Johannes2511","ts":"2018-06-07T09:58:27.752Z","type":"uj"}
{"msg":"Yep. They are all still very involved. I don't have links handy but there's PRs and a branch on sawtooth core developing to that RFC (or some evolution there of).","username":"Dan","ts":"2018-06-07T12:44:58.664Z"}
{"msg":"@bebinu there is a lot of development happening on that front right now. any specific questions?","username":"amundson","ts":"2018-06-07T18:27:18.700Z"}
{"msg":"@bebinu Hi, I am the Adam Ludvik you are interested in :) What's up?","username":"adamludvik","ts":"2018-06-07T18:31:37.993Z"}
{"msg":"Has joined the channel.","username":"bridgerherman","ts":"2018-06-07T18:36:29.441Z","type":"uj"}
{"msg":"Has joined the channel.","username":"abraham","ts":"2018-06-08T04:53:51.922Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rys_rahul","ts":"2018-06-08T09:04:31.482Z","type":"uj"}
{"msg":"How can I use the simulated PoET with a docker/virtual machine network? What is the maximum network size, which I am able to emulate? ","username":"Johannes2511","ts":"2018-06-08T15:53:16.615Z"}
{"msg":"We chose a bad word for PoET simulator as it seems to cause confusion. The enclave (the code that would run in trusted execution) runs in normal memory and so that trusted execution is simulated. That's really the only difference.","username":"Dan","ts":"2018-06-08T16:17:26.146Z"}
{"msg":"And you can run as many as you like. See how many you can add before it breaks :)","username":"Dan","ts":"2018-06-08T16:17:43.549Z"}
{"msg":"For our continuous integration testing we typically launch networks with 10 nodes and 30s interblock times (== target wait time). ","username":"Dan","ts":"2018-06-08T16:18:15.268Z"}
{"msg":"how would tendermint consensus work in conjunction with TEE's?","username":"sidhujag","ts":"2018-06-08T20:46:08.899Z"}
{"msg":"would it be for example useful to have a PBFT to control the account states for EVM while the execution can be through SGX?","username":"sidhujag","ts":"2018-06-08T20:46:53.691Z"}
{"msg":"if you have PBFT in which context does using SGX make sense then as you are then going towards the fraud proof model which has other game theoretical implications","username":"sidhujag","ts":"2018-06-08T20:48:59.249Z"}
{"msg":"can you somehow do TEE through a web-of-trust model or perhaps through a PBFT consensus to decide which TEE's are valid?","username":"sidhujag","ts":"2018-06-08T20:49:50.987Z"}
{"msg":"the consensus has to be designed to use the TEE. ","username":"Dan","ts":"2018-06-08T20:49:54.245Z"}
{"msg":"ok can you step me through what you meant by saying it has to be designed to use the TEE, doesn't that mean your common denominator becomes TEE because its a trusted setup, why the need for PBFT, in which context does it make sense?","username":"sidhujag","ts":"2018-06-08T20:51:18.242Z"}
{"msg":"If you want to take advantage of a tee your software component has to be designed for it. There isn't an automatic protection that comes from using a tee. Also in case this is a point of confusion Sawtooth does not require a tee it just happens that we have a component that is designed to take advantage of it in poet.","username":"Dan","ts":"2018-06-08T23:56:10.119Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus?msg=JQgZnhPxtatq8MsJQ) @Dan Where can I see *all* settings related to configuring the PoET enclave? I was targeting roughly 1 new block / 5sec, and ~100+ nodes. Do you have recommendations regarding maximum batch/transaction size","username":"Johannes2511","ts":"2018-06-09T10:47:34.561Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=JQgZnhPxtatq8MsJQ","url":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=JQgZnhPxtatq8MsJQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"These might be in the docs somewhere but you can see them explicitly here:","username":"Dan","ts":"2018-06-10T17:52:36.974Z"}
{"msg":"https://github.com/hyperledger/sawtooth-core/blob/master/consensus/poet/core/sawtooth_poet/poet_consensus/poet_settings_view.py","username":"Dan","ts":"2018-06-10T17:52:40.225Z"}
{"msg":"I'd set target wait time to 30s (default is 20s and assumes smaller networks). If you set your interblock time too small you will have many leaders each round resulting in more forks which will end up slowing the network down.","username":"Dan","ts":"2018-06-10T17:53:32.788Z"}
{"msg":"I don't have recommendations on max batch or txn size. ","username":"Dan","ts":"2018-06-10T17:54:23.586Z"}
{"msg":"Thanks :-)","username":"Johannes2511","ts":"2018-06-11T07:10:03.725Z"}
{"msg":"Currently, I tried the following: \n`sawtooth.consensus.algorithm=poet\nsawtooth.poet.report_public_key_pem=\"$(cat /etc/sawtooth/simulator_rk_pub.pem)\"\nsawtooth.poet.valid_enclave_measurements=$(poet enclave measurement)\nsawtooth.poet.valid_enclave_basenames=$(poet enclave basename)\nsawtooth.poet.target_wait_time=5\nsawtooth.poet.initial_wait_time=5\nsawtooth.publisher.max_batches_per_block=100`\n\nFor validation, I ran in a single node (validator with REST and settings+poet+intkey TPs) `intkey set foobar` and afterwards manually ran `intkey inc foobar 1` until I had 50 blocks (==population_estimate_sample_size) in the blockchain. Therefore, \"bootstrapping\" was finished. I wanted to determine, if it is possible to roughly append a block every 5-10 seconds and I ran: `watch -n 6 'intkey inc foobar 1'`, which would try to increase the foobar value by one every six seconds. Unfortunately, I ran into severe problems: the validator outputs `Consensus not ready to build candidate block` every 100 ms! I am no longer able to submit *any* transaction. The same behavior is reproducible and also occures, if i use two nodes (same configuration as single node setup). \n","username":"Johannes2511","ts":"2018-06-11T07:19:02.923Z"}
{"msg":"Currently, I tried the following with the following settings: \n```sawtooth.consensus.algorithm=poet\nsawtooth.poet.report_public_key_pem=\"$(cat /etc/sawtooth/simulator_rk_pub.pem)\"\nsawtooth.poet.valid_enclave_measurements=$(poet enclave measurement)\nsawtooth.poet.valid_enclave_basenames=$(poet enclave basename)\nsawtooth.poet.target_wait_time=5\nsawtooth.poet.initial_wait_time=5\nsawtooth.publisher.max_batches_per_block=100```\n\nFor validation, I ran in a single node (validator with REST and settings+poet+intkey TPs) `intkey set foobar` and afterwards manually ran `intkey inc foobar 1` until I had 50 blocks (==population_estimate_sample_size) in the blockchain. Therefore, \"bootstrapping\" was finished. I wanted to determine, if it is possible to roughly append a block every 5-10 seconds and I ran: `watch -n 6 'intkey inc foobar 1'`, which would try to increase the foobar value by one every six seconds. Unfortunately, I ran into severe problems: the validator outputs `Consensus not ready to build candidate block` every 100 ms! I am no longer able to submit *any* transaction. The same behavior is reproducible and also occures, if i use two nodes (same configuration as single node setup). \n","username":"Johannes2511","ts":"2018-06-11T07:19:02.923Z"}
{"msg":"","username":"Johannes2511","ts":"2018-06-11T09:22:55.612Z","attachments":[{"type":"file","title":"hyperledger_sawtooth001_11_06_2018_11_22_17.png","title_link":"/file-upload/CGhpPELevT9hTPDuK/hyperledger_sawtooth001_11_06_2018_11_22_17.png","image_url":"/file-upload/CGhpPELevT9hTPDuK/hyperledger_sawtooth001_11_06_2018_11_22_17.png","image_type":"image/png","image_size":343463,"url":"/file-upload/CGhpPELevT9hTPDuK/hyperledger_sawtooth001_11_06_2018_11_22_17.png","remote":false,"fileId":"CGhpPELevT9hTPDuK","fileName":"hyperledger_sawtooth001_11_06_2018_11_22_17.png"}]}
{"msg":"Ok. This behavior occus after a validator claims blocks too frequently (see \"last valid\" log msg below). So far, I couldn't find recovery from this state. Is this a bug or intendet?\n\n```[2018-06-11 13:05:54.987 INFO     poet_block_publisher] Reject building on block 52779e59: Validator is claiming blocks too frequently.`","username":"Johannes2511","ts":"2018-06-11T11:35:54.548Z"}
{"msg":"Ok. This behavior occus after a validator claims blocks too frequently (see \"last valid\" log msg below). So far, I couldn't find recovery from this state. Is this a bug or intendet?\n\n```[2018-06-11 13:05:54.987 INFO     poet_block_publisher] Reject building on block 52779e59: Validator is claiming blocks too frequently.```","username":"Johannes2511","ts":"2018-06-11T11:35:54.548Z"}
{"msg":"claiming too frequently is a security check. if you want to disable it you need to bump up the z test values","username":"Dan","ts":"2018-06-11T14:25:00.695Z"}
{"msg":"If a validator can't claim blocks it's because it's registration didn't get in.","username":"Dan","ts":"2018-06-11T14:25:31.293Z"}
{"msg":"the startup phase can be kind of sensitive","username":"Dan","ts":"2018-06-11T14:25:53.515Z"}
{"msg":"Do you mean `sawtooth.poet.ztest_maximum_win_deviation`and `sawtooth.poet.ztest_maximum_win_count` settings? I assume those parameters are dependent on the network size or are they only relevant for the startup phase?","username":"Johannes2511","ts":"2018-06-11T15:07:26.491Z"}
{"msg":"min win count","username":"Dan","ts":"2018-06-11T15:11:19.875Z"}
{"msg":"if you make that a huge number the test will never trip","username":"Dan","ts":"2018-06-11T15:11:28.639Z"}
{"msg":"you can also make win deviation huge, but it's asymptotic so it's harder to work with","username":"Dan","ts":"2018-06-11T15:11:55.379Z"}
{"msg":"Again thanks for that quic response :-)","username":"Johannes2511","ts":"2018-06-11T15:12:44.422Z"}
{"msg":"*quick","username":"Johannes2511","ts":"2018-06-11T15:13:01.503Z"}
{"msg":"`max_win_count` defaults to 3 wins. Are there any experiments variying the size of that Score? Are there already some research papers regarding that PoET algorithm?","username":"Johannes2511","ts":"2018-06-11T15:13:52.305Z"}
{"msg":"Maybe some links to further literature would helpful in the documentation.","username":"Johannes2511","ts":"2018-06-11T15:18:00.582Z"}
{"msg":"I will try to set max_win_count to some larger number for now :-)","username":"Johannes2511","ts":"2018-06-11T15:18:28.125Z"}
{"msg":"_ZTEST_MINIMUM_WIN_COUNT_  (min means that at least that many blocks must have been claimed before we start testing for statistically improbable winning)","username":"Dan","ts":"2018-06-11T15:23:08.381Z"}
{"msg":"`_ZTEST_MINIMUM_WIN_COUNT ` (min means that at least that many blocks must have been claimed before we start testing for statistically improbable winning)","username":"Dan","ts":"2018-06-11T15:23:08.381Z"}
{"msg":"there's also `_KEY_BLOCK_CLAIM_LIMIT_` which you may also want to make big. That one controls how often a validator has to re-register. If you have a small network you can deadlock it if all the validators exhaust their block claim limits sort of simultaneously.","username":"Dan","ts":"2018-06-11T15:28:12.289Z"}
{"msg":"Has joined the channel.","username":"rranjan3","ts":"2018-06-11T17:01:05.819Z","type":"uj"}
{"msg":"Has joined the channel.","username":"JonathanLevi","ts":"2018-06-11T17:11:57.003Z","type":"uj"}
{"msg":"Has joined the channel.","username":"markg 17","ts":"2018-06-11T22:35:25.607Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rkrish82","ts":"2018-06-12T02:58:08.101Z","type":"uj"}
{"msg":"Has joined the channel.","username":"ravipatisivaramaprasad","ts":"2018-06-12T04:42:08.575Z","type":"uj"}
{"msg":"@Dan Hi. I want to deploy my sawtooth application on two node sawtooth network(Docker version). Initially, my compose file is as https://pastebin.com/raw/2Xs6JLLv. Everything working fine when I did compose-up and transaction initiation.\n\nTest case 1 : I just did stop&start of validator-1 container. After I started validator-1 container it is just rebuilding its DB from Validator-0 and continuing with its further functionality once I submit the transaction batch.\n\nTest case 2 : I just did stop&start of validator-0(seed) container. After I started validator-0 container it is just exited. Generally, validator-0 has to rebuild its DB from validator-1 but that doesn't happened. Because when I started Validator-0 it is trying to create genesis block again and at the same time it is rebuilding its DB from validator-1. So genesis block conflict occurred.\n\nTo resolve this, I just tried to externalize the validator-0 DB by modifying the compose file as https://pastebin.com/raw/BpuBPVYF. I just written a script that will do compose-up. Please first look at the script file[https://pastebin.com/raw/Fsa5VSze] and then look at compose file[https://pastebin.com/raw/BpuBPVYF]. I just have executed script file then in console the control stuck at a particular point as mentioned in the below snippet.","username":"ravipatisivaramaprasad","ts":"2018-06-12T05:07:18.201Z"}
{"msg":"","username":"ravipatisivaramaprasad","ts":"2018-06-12T05:07:53.655Z","attachments":[{"type":"file","title":"Clipboard - June 12, 2018 10:37 AM","title_link":"/file-upload/PNne49D4d7n5mbgv9/Clipboard%20-%20June%2012,%202018%2010:37%20AM","image_url":"/file-upload/PNne49D4d7n5mbgv9/Clipboard%20-%20June%2012,%202018%2010:37%20AM","image_type":"image/png","image_size":230847,"url":"/file-upload/PNne49D4d7n5mbgv9/Clipboard%20-%20June%2012,%202018%2010:37%20AM","remote":false,"fileId":"PNne49D4d7n5mbgv9","fileName":"Clipboard - June 12, 2018 10:37 AM"}]}
{"msg":"Validator-0 log file /sawtooth/logs/validator-debug.log is showing the below debug messages. `Consensus not ready to build candidate block`","username":"ravipatisivaramaprasad","ts":"2018-06-12T05:09:22.807Z"}
{"msg":"","username":"ravipatisivaramaprasad","ts":"2018-06-12T05:10:24.677Z","attachments":[{"type":"file","title":"Clipboard - June 12, 2018 10:39 AM","title_link":"/file-upload/iHuWrKEvCMTLEaeFr/Clipboard%20-%20June%2012,%202018%2010:39%20AM","image_url":"/file-upload/iHuWrKEvCMTLEaeFr/Clipboard%20-%20June%2012,%202018%2010:39%20AM","image_type":"image/png","image_size":208462,"url":"/file-upload/iHuWrKEvCMTLEaeFr/Clipboard%20-%20June%2012,%202018%2010:39%20AM","remote":false,"fileId":"iHuWrKEvCMTLEaeFr","fileName":"Clipboard - June 12, 2018 10:39 AM"}]}
{"msg":"@Dan I stuck at this particular point. I am debugging. But I didn't get the reason why `Consensus not ready to build candidate block`. Can you please help me in resolving this issue.","username":"ravipatisivaramaprasad","ts":"2018-06-12T05:11:53.929Z"}
{"msg":"","username":"ravipatisivaramaprasad","ts":"2018-06-12T05:31:15.375Z","attachments":[{"type":"file","title":"Clipboard - June 12, 2018 10:59 AM","title_link":"/file-upload/yySt8TdJ4QvuJ9oq7/Clipboard%20-%20June%2012,%202018%2010:59%20AM","image_url":"/file-upload/yySt8TdJ4QvuJ9oq7/Clipboard%20-%20June%2012,%202018%2010:59%20AM","image_type":"image/png","image_size":71481,"url":"/file-upload/yySt8TdJ4QvuJ9oq7/Clipboard%20-%20June%2012,%202018%2010:59%20AM","remote":false,"fileId":"yySt8TdJ4QvuJ9oq7","fileName":"Clipboard - June 12, 2018 10:59 AM"}]}
{"msg":"Has joined the channel.","username":"tauras","ts":"2018-06-12T06:32:36.613Z","type":"uj"}
{"msg":"I would like to implement a *Will application*, which would over time trigger some functionality on its own and not based on any transaction. i.e After 25 years the ownership of the asset need to be changed to the in-laws. Is it possible to perform such kind of *Autonomous event* in sawtooth, which is purely automatic and nothing driven based on a transaction? ","username":"tauras","ts":"2018-06-12T06:33:02.341Z"}
{"msg":"Hi all,\nI would like to implement a *Will application*, which would over time trigger some functionality on its own and not based on any transaction. i.e After 25 years the ownership of the asset need to be changed to the in-laws. Is it possible to perform such kind of *Autonomous event* in sawtooth, which is purely automatic and nothing driven based on a transaction? ","username":"tauras","ts":"2018-06-12T06:33:02.341Z"}
{"msg":"@tauras you can send/inject a transaction periodically to do that, either via a client or via the batch injector; unfortunately, the batch injector's API is not currently exposed (it is used in the block info txn family).  The transaction submitted would look through the wills and update them appropriately.","username":"amundson","ts":"2018-06-12T13:58:27.252Z"}
{"msg":"@ravipatisivaramaprasad usually that error is a sign that something broke in the registration process. That might have happened if you've lost files the container was managing (i.e.  the location of that file wasn't mapped to the host file system so you just had ephemeral storage in the container.) I would need the log file to know more. Rather than dig through the log though, make sure you have a good reason to run the validator in a container (or are you solving a problem you wouldn't have in production) and if you do then make sure that you are mapping all of the volumes.","username":"Dan","ts":"2018-06-12T19:07:39.230Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus?msg=kLmbRMK846ME4xXZr) @amundson \nOk thanks but could you please elaborate on how a client side or batch injector call can* look through the wills*?Is there any filetered api for retrieving the transactions based on its value?","username":"tauras","ts":"2018-06-13T03:35:42.586Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=kLmbRMK846ME4xXZr","url":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=kLmbRMK846ME4xXZr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus?msg=kLmbRMK846ME4xXZr) @amundson \nOk thanks but could you please elaborate on how a client side or batch injector call can *look through the wills* ?Is there any filetered api for retrieving the transactions based on its value?","username":"tauras","ts":"2018-06-13T03:35:42.586Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=kLmbRMK846ME4xXZr","url":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=kLmbRMK846ME4xXZr","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Rekha","ts":"2018-06-13T07:22:03.341Z","type":"uj"}
{"msg":"@tauras we should take this to #sawtooth since it's not a consensus topic","username":"amundson","ts":"2018-06-13T08:39:58.174Z"}
{"msg":"@Dan Ok, Thank you. ","username":"ravipatisivaramaprasad","ts":"2018-06-13T11:15:53.758Z"}
{"msg":"Has joined the channel.","username":"csengor","ts":"2018-06-14T05:18:39.024Z","type":"uj"}
{"msg":"@Dan Hi. I just have understood the multi-node sawtooth network workflow as mentioned below. Please see and provide your comments on my understanding.","username":"ravipatisivaramaprasad","ts":"2018-06-14T07:20:56.113Z"}
{"msg":"Sawtooth client submits transaction batch to the validator through the corresponding REST-API\nPoET Consensus takes the submitted batch of transactions and builds a candidate block. Once candidate blocks are completed, they are delivered to the Chain Controller for validation and fork resolution.\nEach validator within the network requests a wait time from an enclave, or a trusted function. This is where the 'Elapsed Time' comes into play. \n\nThe validator with the shortest wait time for a specific block is appointed the leader, and creates the block to be committed to the ledger.\n\nThe transaction validator with the shortest wait time publishes the transaction block. \n\nThe transaction block is then broadcast to the publishing nodes.\n\nEach node within the network receives the transaction block, and validators verify whether the transaction is valid or not. If the transaction is validated, the global state is updated.","username":"ravipatisivaramaprasad","ts":"2018-06-14T07:21:02.420Z"}
{"msg":"What is meant by chain controller here?","username":"ravipatisivaramaprasad","ts":"2018-06-14T07:21:48.458Z"}
{"msg":"`What is meant by chain controller here?`","username":"ravipatisivaramaprasad","ts":"2018-06-14T07:21:48.458Z"}
{"msg":"chain controller is an internal component of the validator. It manages adding or removing blocks from the chain for that particular validator. ","username":"Dan","ts":"2018-06-14T13:36:40.188Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus?msg=AKQZisGhAXnJBDgwH) Hey Dan. Thanks for the advies","username":"Johannes2511","ts":"2018-06-14T13:39:48.704Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=AKQZisGhAXnJBDgwH","url":"https://chat.hyperledger.org/channel/sawtooth-consensus?msg=AKQZisGhAXnJBDgwH","remote":true,"fileId":null,"fileName":null}]}
{"msg":"When i run with two machines and are now alternating somehow with that message but they continue to add blocks to the chain","username":"Johannes2511","ts":"2018-06-14T13:40:40.491Z"}
{"msg":"Unfortunately, at some point, the system starts to fork. When I run with many (\"5\") nodes is occures faster than with two","username":"Johannes2511","ts":"2018-06-14T13:41:35.963Z"}
{"msg":"How is that supposed to happen?","username":"Johannes2511","ts":"2018-06-14T13:41:47.425Z"}
{"msg":"Shouldn't a blockchain or consensus avoid such situations?","username":"Johannes2511","ts":"2018-06-14T13:42:01.796Z"}
{"msg":"The networks should always converge. Note that there are a number of log statements that talk about forks but that's only because each new block is evaluated as a potential fork. If you see that `sawtooth block list` on each validator is actually divergent then you have a real fork. There's also a newer command `sawnet` that can help you diagnose as well. ","username":"Dan","ts":"2018-06-14T14:04:08.129Z"}
{"msg":"Yes. I already used sawnet compare-chains. And at some points the net seems to split","username":"Johannes2511","ts":"2018-06-14T14:18:34.176Z"}
{"msg":"","username":"Johannes2511","ts":"2018-06-14T14:19:29.924Z","attachments":[{"type":"file","title":"screenshot","title_link":"/file-upload/8ccHkmxFFMJogMSde/screenshot","image_url":"/file-upload/8ccHkmxFFMJogMSde/screenshot","image_type":"image/png","image_size":3300405,"url":"/file-upload/8ccHkmxFFMJogMSde/screenshot","remote":false,"fileId":"8ccHkmxFFMJogMSde","fileName":"screenshot"}]}
{"msg":"In the screenshot it is currently only one node drifting away. But usually I have two nodes featuring one fork and the other three featuring another","username":"Johannes2511","ts":"2018-06-14T14:19:32.183Z"}
{"msg":"I used only a slightly different docker file: \n```\njoe@term0:~ $ wget https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/sawtooth-default-poet.yaml\njoe@term0:~ $ cp sawtooth-default-poet.yaml sawtooth-joe-poet.yaml\njoe@term0:~ $ vim sawtooth-joe-poet.yaml # configure run file\njoe@term0:~ $ diff sawtooth-default-poet.yaml sawtooth-joe-poet.yaml\n49,50c49,51\n<              sawtooth.poet.target_wait_time=5 \\\n<              sawtooth.poet.initial_wait_time=25 \\\n---\n>              sawtooth.poet.target_wait_time=30 \\\n>              sawtooth.poet.initial_wait_time=300 \\\n>              sawtooth.poet.key_block_claim_limit=128000\\\n55c55\n<         sawtooth-validator -v \\\n---\n>         sawtooth-validator -vv \\\n\njoe@term0:~ $ docker-compose -f sawtooth-joe-poet.yaml up\n\n# in other bash shell login: \njoe@term1:~ $ docker exec -it sawtooth-shell-default bash\nroot@container:/ $ intkey set foo 1 --url http://rest-api-0:8008\nroot@container:/ $ intkey inc foo 1 --url http://rest-api-0:8008\nroot@container:/ $ intkey list --url http://rest-api-0:8008\n# everything works so far. Now we start one transaction every 5 seconds\nroot@container:/ $ watch -n 5 'intkey inc foo 1 --url http://rest-api-0:8008'\n# or execute randomly:\nroot@container:/ $ watch -n 5 \"bash -c 'intkey inc foo 1 --url http://rest-api-\\$(( \\$RANDOM % 4 )):8008'\"\n```","username":"Johannes2511","ts":"2018-06-14T14:20:42.457Z"}
{"msg":"output of chain comparison: \n```\n$ sawnet compare-chains http://129.217.186.228:8000 http://129.217.186.228:8001 http://129.217.186.228:8002 http://129.217.186.228:8003 http://129.217.186.228:8004\nFailed to reach common height with node 0: http://129.217.186.228:8000\nFailed to reach common height with node 2: http://129.217.186.228:8002\nFailed to reach common height with node 3: http://129.217.186.228:8003\nFailed to reach common height with node 4: http://129.217.186.228:8004\nCOMMON   HEIGHT   BLOCKS   \n---------------------------\nANCESTOR 76       73bb3c99 \nHEIGHT   77       {'ef2c8b69'} \n\nNODE HEAD     HEIGHT LAG DIVERG\n-------------------------------\n1    ef2c8b69 77     0   1     \n``","username":"Johannes2511","ts":"2018-06-14T14:29:03.802Z"}
{"msg":"output of chain comparison: \n```\n$ sawnet compare-chains http://129.217.186.228:8000 http://129.217.186.228:8001 http://129.217.186.228:8002 http://129.217.186.228:8003 http://129.217.186.228:8004\nFailed to reach common height with node 0: http://129.217.186.228:8000\nFailed to reach common height with node 2: http://129.217.186.228:8002\nFailed to reach common height with node 3: http://129.217.186.228:8003\nFailed to reach common height with node 4: http://129.217.186.228:8004\nCOMMON   HEIGHT   BLOCKS   \n---------------------------\nANCESTOR 76       73bb3c99 \nHEIGHT   77       {'ef2c8b69'} \n\nNODE HEAD     HEIGHT LAG DIVERG\n-------------------------------\n1    ef2c8b69 77     0   1     \n```\n","username":"Johannes2511","ts":"2018-06-14T14:29:03.802Z"}
{"msg":"output of chain comparison: \n```\n$ sawnet compare-chains http://129.217.186.228:8000 http://129.217.186.228:8001 http://129.217.186.228:8002 http://129.217.186.228:8003 http://129.217.186.228:8004\nFailed to reach common height with node 0: http://129.217.186.228:8000\nFailed to reach common height with node 2: http://129.217.186.228:8002\nFailed to reach common height with node 3: http://129.217.186.228:8003\nFailed to reach common height with node 4: http://129.217.186.228:8004\nCOMMON   HEIGHT   BLOCKS   \n---------------------------\nANCESTOR 76       73bb3c99 \nHEIGHT   77       {'ef2c8b69'} \n\nNODE HEAD     HEIGHT LAG DIVERG\n-------------------------------\n1    ef2c8b69 77     0   1     \n```\n(plz note that i made rest-api-X ports available via docker hosts public ip & port 8000+X to access it via my laptop)","username":"Johannes2511","ts":"2018-06-14T14:29:03.802Z"}
{"msg":"output of chain comparison: \n```\n$ sawnet compare-chains http://129.217.186.228:8000 http://129.217.186.228:8001 http://129.217.186.228:8002 http://129.217.186.228:8003 http://129.217.186.228:8004\nFailed to reach common height with node 0: http://129.217.186.228:8000\nFailed to reach common height with node 2: http://129.217.186.228:8002\nFailed to reach common height with node 3: http://129.217.186.228:8003\nFailed to reach common height with node 4: http://129.217.186.228:8004\nCOMMON   HEIGHT   BLOCKS   \n---------------------------\nANCESTOR 76       73bb3c99 \nHEIGHT   77       {'ef2c8b69'} \n\nNODE HEAD     HEIGHT LAG DIVERG\n-------------------------------\n1    ef2c8b69 77     0   1     \n```\n(plz note that i made rest-api-X ports available via docker hosts public ip to access it via my laptop. this leads to port number 8000+X ;-) )","username":"Johannes2511","ts":"2018-06-14T14:29:03.802Z"}
{"msg":"Ok. It seems like that node1 has not forked, but i only a lot of blocks \"behind\". If I parse the latest block_id of node1, it is in all other chains at the same position","username":"Johannes2511","ts":"2018-06-14T14:43:04.369Z"}
{"msg":"However, node1 is in everyone's peer list. shouldn't it sync up somehow?","username":"Johannes2511","ts":"2018-06-14T14:43:31.403Z"}
{"msg":"","username":"Johannes2511","ts":"2018-06-14T15:12:29.393Z","attachments":[{"type":"file","title":"bild2.png","title_link":"/file-upload/buBQ5qnEmAmLDf8fW/bild2.png","image_url":"/file-upload/buBQ5qnEmAmLDf8fW/bild2.png","image_type":"image/png","image_size":25041,"url":"/file-upload/buBQ5qnEmAmLDf8fW/bild2.png","remote":false,"fileId":"buBQ5qnEmAmLDf8fW","fileName":"bild2.png"}]}
{"msg":"The longer the run, more nodes start to drift. Node 2&4 seem to be aligned. 3 is behind, 0 even more behind and node 1 far from good and evil. this is also reflected in an asynchronous state: \n```\nfor x in {0..4}; do echo \"node$x\" && intkey list --url http://129.217.186.228:800${x} && echo \"\"; done \nnode0\nfoo: 719\n\nnode1\nfoo: 248\n\nnode2\nfoo: 822\n\nnode3\nfoo: 807\n\nnode4\nfoo: 822\n```\n","username":"Johannes2511","ts":"2018-06-14T15:13:44.797Z"}
{"msg":"This seems to be the most easy use case, when incrementing a number on 5 nodes. Is there a more stable version, which runs more properly? Sawtooth seems to be a very nice project. The code base looks very clean and well maintained. And also the PoET algorithm is a very interesting concept. Therefore, I would like to leverage Sawtooth for my blockchain project. But I would need a PoC that it is able to operate a setup of ~100 validator nodes.","username":"Johannes2511","ts":"2018-06-14T15:18:43.320Z"}
{"msg":"are you running the above as docker containers on the same machine? Like you are running 5 nodes in containers on a laptop? If so maybe you are just resource constrained. \nFor integeration testing we typically run 10 VMs (medium sized instances, I believe) on AWS and verify that they stay in sync - depending on the test for a day or a week. ","username":"Dan","ts":"2018-06-14T16:56:04.018Z"}
{"msg":"[17:32:59.853 [ConnectionManager] gossip DEBUG] Endpoint has not completed authorizati\non in 1280 seconds: tcp://10.188.64.95:8801\n","username":"tkuhrt","ts":"2018-06-14T18:06:00.968Z"}
{"msg":"@rbuysse ^","username":"tkuhrt","ts":"2018-06-14T18:06:09.354Z"}
{"msg":"Has joined the channel.","username":"Matsw7","ts":"2018-06-15T09:56:44.239Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rock_martin","ts":"2018-06-15T13:05:06.640Z","type":"uj"}
{"msg":"@Dan any movement on the Consensus Engine API to support proof of stake ? ","username":"kc1116","ts":"2018-06-15T14:24:23.461Z"}
{"msg":"I don't think there's a PoS algorithm out yet. The two things I've seen for PoS are 1. basically voting branded as PoS and 2. Casper FFG - which imo isn't really PoS - it just caps finality after n blocks, it doesn't change leader election away from PoW.  We do have some RAFT coming and an update to PoET. Both of which will be on the new consensus engine interface.","username":"Dan","ts":"2018-06-15T14:49:27.684Z"}
{"msg":"Has joined the channel.","username":"DuncanMuhoro","ts":"2018-06-17T11:16:52.642Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rjones","ts":"2018-06-17T16:29:34.898Z","type":"uj"}
{"msg":"Room name changed to: <em>sawtooth-consensus-dev</em> by <em>rjones</em>","username":"rjones","ts":"2018-06-17T16:29:51.830Z","type":"r"}
{"msg":"Has left the channel.","username":"rjones","ts":"2018-06-17T16:30:03.293Z","type":"ul"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=AwgaPiTNAqwCxHSWW) @Dan Thank you. Can you please provide me clarification on the following questions. I know something. But I want to get clarity. 1) Once a transaction is submitted to the validator, what are the different actions performed by PoET consensus in a sequential manner?\n2)  Is PoET consensus has any relation with `Global state` directly?\n3)  Who will commit the block to the blockchain once it is validated in multinode validator network? And Who will update the State(Is consensus update the state?)?\n4)  What PoET Consensus will do and what it won't do? I mean What is the exact role of PoET Consensus?\n ","username":"ravipatisivaramaprasad","ts":"2018-06-19T04:44:37.769Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=AwgaPiTNAqwCxHSWW","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=AwgaPiTNAqwCxHSWW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=AwgaPiTNAqwCxHSWW) @Dan Thank you. Can you please clarify me one thing. 1) Once a transaction is submitted to the validator, what are the different actions performed by PoET consensus in a sequential manner?\n2)  Is PoET consensus has any relation with `Global state` directly?\n3)  Who will commit the block to the blockchain once it is validated in multinode validator network? And Who will update the State(Is consensus update the state?)?\n4)  What PoET Consensus will do and what it won't do? I mean What is the exact role of PoET Consensus?\n ","username":"ravipatisivaramaprasad","ts":"2018-06-19T04:44:37.769Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=AwgaPiTNAqwCxHSWW","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=AwgaPiTNAqwCxHSWW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"yadhuksp","ts":"2018-06-19T05:12:00.035Z","type":"uj"}
{"msg":"Has joined the channel.","username":"honeyjills","ts":"2018-06-19T09:10:08.259Z","type":"uj"}
{"msg":"The other parts of the validator manage state and check the validity of transactions. PoET is just responsible for checking when to publish blocks or when blocks are received from other validators checking the consensus rules for fork resolution. ","username":"Dan","ts":"2018-06-19T18:31:35.241Z"}
{"msg":"@adamludvik that's a really nice Raft PR. Despite the overall size of the PR the commit discipline made it much more tractable to review. And double kudos for getting the documentation in there.","username":"Dan","ts":"2018-06-19T21:19:14.308Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=PruhaBao4FCir8X2B) @Dan Thank You","username":"ravipatisivaramaprasad","ts":"2018-06-20T04:17:57.079Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=PruhaBao4FCir8X2B","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=PruhaBao4FCir8X2B","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"bmv025","ts":"2018-06-20T05:15:22.533Z","type":"uj"}
{"msg":"Has joined the channel.","username":"veena.s7","ts":"2018-06-20T05:30:18.717Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kdnmih","ts":"2018-06-20T10:01:04.576Z","type":"uj"}
{"msg":"I asked this question in #sawtooth channel but nobody answer.","username":"kdnmih","ts":"2018-06-20T12:07:45.105Z"}
{"msg":"Does anyone provide me about the novel consensus paper?","username":"kdnmih","ts":"2018-06-20T12:08:10.696Z"}
{"msg":"Or.. any good resource to start to study about novel consensus ","username":"kdnmih","ts":"2018-06-20T12:08:49.581Z"}
{"msg":"Seriously I could not find an article about the novel consensus.","username":"kdnmih","ts":"2018-06-20T12:09:35.389Z"}
{"msg":"if you are talking about poet you can read this: https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html","username":"Dan","ts":"2018-06-20T13:48:23.551Z"}
{"msg":"if you are talking about the novel ability to change consensus on the fly in a running blockchain you can read this:\nhttps://www.hyperledger.org/blog/2017/11/22/un-pluggable-consensus-with-hyperledger-sawtooth\n(note that we rebranded it \"dynamic consensus\" before we launched 1.0).","username":"Dan","ts":"2018-06-20T13:50:33.558Z"}
{"msg":"Thank you Dan. Could you look at the introduction comment of Sawtooth in https://www.hyperledger.org/projects?","username":"kdnmih","ts":"2018-06-21T04:10:19.342Z"}
{"msg":"Thank you @Dan . Could you look at the introduction comment of Sawtooth in https://www.hyperledger.org/projects?","username":"kdnmih","ts":"2018-06-21T04:10:19.342Z"}
{"msg":"It is written that \"Hyperledger Sawtooth is a modular platform for building, deploying, and running distributed ledgers. Hyperledger Sawtooth includes a novel consensus algorithm, Proof of Elapsed Time (PoET), which targets large distributed validator populations with minimal resource consumption.\"","username":"kdnmih","ts":"2018-06-21T04:10:38.981Z"}
{"msg":"You means novel consensus algorithm == novel consensus algorithm?","username":"kdnmih","ts":"2018-06-21T04:12:39.401Z"}
{"msg":"You means novel consensus algorithm == PoET algorithm?","username":"kdnmih","ts":"2018-06-21T04:12:39.401Z"}
{"msg":"What is the mean of novel ability?","username":"kdnmih","ts":"2018-06-21T04:13:46.719Z"}
{"msg":"correct","username":"Dan","ts":"2018-06-21T13:48:36.914Z"}
{"msg":"Here's an RFC proposing a simple PBFT consensus algorithm for Sawtooth: https://github.com/hyperledger/sawtooth-rfcs/pull/19","username":"bridgerherman","ts":"2018-06-21T14:12:28.756Z"}
{"msg":"Any thoughts, comments, or reviews would be greatly appreciated!","username":"bridgerherman","ts":"2018-06-21T14:12:43.292Z"}
{"msg":"@Dan thanks","username":"adamludvik","ts":"2018-06-21T15:32:17.464Z"}
{"msg":"@bridgerherman this is really well written - nice job!","username":"jsmitchell","ts":"2018-06-21T15:49:14.286Z"}
{"msg":"@jsmitchell Thank you!","username":"bridgerherman","ts":"2018-06-21T16:07:36.921Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=2BfivcKZSgC5RLEqq) @Dan Both. I ran it on laptop, a virtualized server and now run on a bare metal server using the docker-compose. The system has more than enough ressources (8 core xeon cpu, 16GB ram, ssd) so resource constrains shouldn't be an issue. ","username":"Johannes2511","ts":"2018-06-22T12:35:35.045Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=2BfivcKZSgC5RLEqq","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=2BfivcKZSgC5RLEqq","remote":true,"fileId":null,"fileName":null}]}
{"msg":"I also tried increasing the number of nodes in the network to 10 as you suggested. But unfortunately, I still have no success :-(","username":"Johannes2511","ts":"2018-06-22T13:07:16.744Z"}
{"msg":"@Dan How do your integration tests look like? are they included in the public github repository?","username":"Johannes2511","ts":"2018-06-25T07:10:38.345Z"}
{"msg":"Has joined the channel.","username":"guyfawkes","ts":"2018-06-25T11:38:26.530Z","type":"uj"}
{"msg":"@dan I think i found the issue. The documentation (https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/creating_sawtooth_network.html#docker-start-a-multiple-node-sawtooth-network) links to the `awtooth-default-poet.yaml` in which the dockerimages `hyperledger/sawtooth-XXX:1.0` are used. When i compiled images from the git-repo using latest branch (1.1.0) it works for me :-)","username":"Johannes2511","ts":"2018-06-25T15:07:15.440Z"}
{"msg":"Hi all, We have setup a 5-Node network.\nAdded INTKEY TP for 2 nodes and exectuted an INT-KEY txn. Consequently, the nodes without the INTKEY went to \"Waiting\" mode, and the subsequent txns were added to its queue, and no more txn were validated by those nodes. The 3 validators(without INTKEY) will be activated back only if INTKEY is added to those validators.\n\nSo,is it not considering the TPs in majority nodes(3 nodes are not having INTKEY)?\nI would like to know how the PoET consensus and aggregate local mean works here.\nThanks in advance! ","username":"veena.s7","ts":"2018-06-26T09:14:00.368Z"}
{"msg":"Hi. Since those three machines aren't really participating on the network they won't be counted. It seems like that's the majority of the network because you have 5 machines, but since those 3 aren't processing transactions they aren't really part of the network and so your network is 2 machines.","username":"Dan","ts":"2018-06-26T17:20:38.154Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=6b6wE4tERktJw4Y9t) @Dan So if I understood you correctly,..those validators without INTKEY are not at all considered in network even though they are majority(3 out of 5).\nOn considering a system of 10 nodes, suppose only the 9&10th node have INTKEY and rest 8 have XO alone, shouldn't be the 9&10th considered bad nodes in the network?? Sorry, I'm trying to get the concept clear..","username":"veena.s7","ts":"2018-06-27T06:20:01.042Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=6b6wE4tERktJw4Y9t","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=6b6wE4tERktJw4Y9t","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"rootDistress","ts":"2018-06-27T07:23:25.525Z","type":"uj"}
{"msg":"Every node in the network has to have the transaction processors for all the transactions to be applied.  If a node doesn't have a TP - XO in your above example, it can't make progress - either publishing new blocks or validating old blocks.  When it encounters a transaction of a given family, if it doesn't have an available transaction processor, it will wait until one connects.  This blocks progress, so essentially the node stops participating in the network. ","username":"pschwarz","ts":"2018-06-27T09:21:06.492Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=GCEQySYDASHFai5RX) @pschwarz So, like if I have a network of 10 nodes, 10th one tries to break the system..\nthis bad node add a new TP which is not in any of the other nodes, and executed a Tnx with the new TP. \nCan this bring down the entire network (bcos 9 nodes are not at all participating in the network)?","username":"veena.s7","ts":"2018-06-27T10:13:19.911Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=GCEQySYDASHFai5RX","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=GCEQySYDASHFai5RX","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Yes, but you can constrain what TP's are required/allowed via an on-chain setting","username":"pschwarz","ts":"2018-06-27T10:14:34.320Z"}
{"msg":"`sawtooth.validator.transaction_families`","username":"pschwarz","ts":"2018-06-27T10:16:25.588Z"}
{"msg":"It is an json string like: `[{\"name\": \"MyFamily\", \"version\": \"1.0\"}, ...]`","username":"pschwarz","ts":"2018-06-27T10:17:30.933Z"}
{"msg":"Put that in your genesis block","username":"pschwarz","ts":"2018-06-27T10:17:48.245Z"}
{"msg":"The basic dev setup is not locked down at all to make it easier for developers ","username":"pschwarz","ts":"2018-06-27T10:18:21.930Z"}
{"msg":"great thankyou! and one more doubt, what if someone is trying to remove a TP from an already running network..can this be permissioned as well?","username":"veena.s7","ts":"2018-06-27T10:20:59.403Z"}
{"msg":"Do you mean by altering that setting?","username":"pschwarz","ts":"2018-06-27T11:06:51.135Z"}
{"msg":"@bridgerherman nice job on the PBFT writeup! I just got a chance to go through it and it looks good. I had a few questions/suggestions. feel free to shoot me a message on here if any of them weren't clear","username":"kelly_","ts":"2018-06-28T15:42:52.375Z"}
{"msg":"@bridgerherman if you are working on the implementation as well you may be interested in this if you haven't seen it: https://github.com/jpmorganchase/quorum/tree/master/consensus/istanbul","username":"kelly_","ts":"2018-06-28T16:04:17.162Z"}
{"msg":"^this is a bft implementation for Ethereum, if you want to look online 'instanbul bft' is the name and it was done by a company called 'amis'","username":"kelly_","ts":"2018-06-28T16:04:43.281Z"}
{"msg":"@kelly_ Thanks for the comments - Looking at them now!","username":"bridgerherman","ts":"2018-06-28T16:14:54.257Z"}
{"msg":"Has joined the channel.","username":"jnessbcf","ts":"2018-06-28T17:26:21.937Z","type":"uj"}
{"msg":"Has joined the channel.","username":"willyko","ts":"2018-06-28T20:37:22.297Z","type":"uj"}
{"msg":"hi guys how does Self Attestation work from a high level design point of view for sawtooth SGX? Is the motivation similar to LiberateSGX? where your removing dependence from using Intel for every quote verification? I assume your cpu still needs to get verified by Intel first before you become a validator and then the remove attestations and quotes are verified by a CA? hows it work? Is it similar to the model described here as the \"Antarctica\" model so you don't rely on Intel? https://www.idc.ac.il/en/schools/cs/research/Documents/jackson-msc-thesis.pdf","username":"sidhujag","ts":"2018-06-30T20:45:32.416Z"}
{"msg":"hi guys how does Self Attestation work from a high level design point of view for sawtooth SGX? Is the motivation similar to LiberateSGX? where your removing dependence from using Intel for every quote verification? I assume your cpu still needs to get verified by Intel first before you become a validator and then the remote attestations and quotes are verified by a CA? hows it work? Is it similar to the model described here as the \"Antarctica\" model so you don't rely on Intel? https://www.idc.ac.il/en/schools/cs/research/Documents/jackson-msc-thesis.pdf","username":"sidhujag","ts":"2018-06-30T20:45:32.416Z"}
{"msg":"for reference Liberating Remote Attestation, which means Intel should allow anyone, not just its own IAS servers to perform Quote verifications (of course, its perfectly fine, and probably justified if Intel will continue to operate and offer IAS to those customers who find such a service convenient)","username":"sidhujag","ts":"2018-06-30T20:52:07.483Z"}
{"msg":"should be possible.. which is why im wondering if Self Attestation does that: https://software.intel.com/en-us/articles/intel-software-guard-extensions-product-licensing-faq see there someone asked the question if they can become an IAS service","username":"sidhujag","ts":"2018-06-30T20:52:59.555Z"}
{"msg":"My other question is more to do with loading enclaves but maybe you guys have figured it out: Does sawtooth allow to load enclaves signed with any key, not just ones blessed by Intel. But at the same time still allowing for meaningful Remote Attestation to work. By meaningful attestation I understand one that performs signing of the Quote using keys derived from the processors private key, of course.","username":"sidhujag","ts":"2018-06-30T20:54:57.749Z"}
{"msg":"I found this link perhaps relevant to that discussion, let me know if I am offbase https://software.intel.com/en-us/sgx-sdk-dev-reference-using-a-different-extended-intel-epid-group-for-remote-attestation","username":"sidhujag","ts":"2018-06-30T20:55:20.878Z"}
{"msg":"IMHO it would be awesome to verify integrity of the TEE through a software analysis via timing and thus removing the need for whitelist checking... I wonder if you guys have thoughts on how to remove the bottleneck of verifiying that your HW is adequate by connecting to a central authority rather than an algorithm that may do it deterministically","username":"sidhujag","ts":"2018-06-30T20:57:46.159Z"}
{"msg":"is there an RFC for poet2?","username":"MicBowman","ts":"2018-07-02T23:26:53.646Z"}
{"msg":"@MicBowman https://github.com/hyperledger/sawtooth-rfcs/pull/12","username":"agunde","ts":"2018-07-02T23:44:14.409Z"}
{"msg":"@MicBowman that's the very initial version. We have an update almost ready. Will send you once its done.","username":"amolk","ts":"2018-07-03T09:15:42.036Z"}
{"msg":"@amolk looking forward to seeing the update!","username":"amundson","ts":"2018-07-03T17:45:06.812Z"}
{"msg":"@sidhujag we use sgx attestation to join a validator to the list of authorized block publishers. That registration lasts for k blocks. So I think that's similar to the model you are talking about. We don't go back to the intel attestation service to verify quotes but for those registration transactions.","username":"Dan","ts":"2018-07-03T19:57:03.230Z"}
{"msg":"poet's use of SGX is whatever is enabled in the SGX SDK. We don't have anything special for enclave authorization.","username":"Dan","ts":"2018-07-03T19:59:35.065Z"}
{"msg":"yea just for the initial verification right @Dan and then use self-attestation after that once its in the endpoint registry you ensure it stays in there by requiring a resign every k blocks from IAS again?","username":"sidhujag","ts":"2018-07-04T03:11:38.725Z"}
{"msg":"I assume then if you get blacklisted or something in the meantime after kth block that you wont be able to verify quotes anymore from those enclaves right","username":"sidhujag","ts":"2018-07-04T03:12:30.752Z"}
{"msg":"also have you coded with cache attacks in mind, like use stack instead of heap","username":"sidhujag","ts":"2018-07-04T03:51:01.472Z"}
{"msg":"also have you coded with cache attacks in mind, like use stack instead of heap wherever possible?","username":"sidhujag","ts":"2018-07-04T03:51:01.472Z"}
{"msg":"@sidhujag yes that's right on the registration flow.","username":"Dan","ts":"2018-07-04T15:27:13.727Z"}
{"msg":"it's been a while since the initial code was written, so I don't recall for sure if there's much heap use. There's little state though, so most of what needs to be in memory is getting read in from sealed storage as local variables in the enclave. I'm more than happy to get a code review on what's there and PRs for any important security fixes.","username":"Dan","ts":"2018-07-04T15:28:46.184Z"}
{"msg":"cool yea we can def take a look and try to apply best practices to see if theres code there to fix.. what was that saying in bitcoin core for every 10 lines of code theres a bug... so I assume unit testing/black box testing would be critical here, not sure how to detect that other than actively trying to attack it and see if the code is safe. Design wise though, I think most of what you got here makes sense for what I want to do. Is there a project you know or code you know that creates an incentive layer to see what the best way to do it is? I'm also thinking of a bonded validator approach because it will be a permissionless network so validators would require some stake.. so any thoughts on how to best do that? In terms of the EVM, the state storage is stored on all nodes right (any thoughts on IPFS or a content addressable distributed storage medium to store the contracts and just store the balances on chain?).. to run the contracts only 1 node needs to run instead of all validators? That one enclave would submit the evm contract tx after running it through the TEE and the submitter would verify it is the correct state before letting the enclave submit, that is how I kinda imagine it would work efficiently. Each block producer doesn;t need to reverify the transactions because they are signed by enclaves, maybe a sig check is done prior to block inclusion of txs.","username":"sidhujag","ts":"2018-07-05T04:15:28.713Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=TpXRn3GRXkz7yzfBf) @agunde thanks!","username":"MicBowman","ts":"2018-07-05T14:07:15.499Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=TpXRn3GRXkz7yzfBf","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=TpXRn3GRXkz7yzfBf","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@sidhujag regarding incentives.. @MicBowman has done a lot of work there. not sure if anything has been opensourced though.","username":"Dan","ts":"2018-07-05T15:53:53.125Z"}
{"msg":"@sidhujag we did a project a couple years ago that used SGX & a blockchain to create \"burnable tokens\"... these could be used for incentives fairly easily","username":"MicBowman","ts":"2018-07-05T15:55:26.170Z"}
{"msg":"it was research code against an older version of sawtooth","username":"MicBowman","ts":"2018-07-05T15:56:29.481Z"}
{"msg":"I did see this one aswell https://fullmetalhealth.com/cryptoasset-framework-intels-hyperledger-sawtooth-part-one/ @Dan ","username":"sidhujag","ts":"2018-07-05T20:32:11.975Z"}
{"msg":"@MicBowman interesting.. is it on your github or any reference code to take a look at? I saw that this link I posted designed it I wonder if the design is good though @Dan there are things I would do differently but if the idea is right in which classes to extend and build from then its a good starting point perhaps","username":"sidhujag","ts":"2018-07-05T21:09:25.765Z"}
{"msg":"@MicBowman interesting.. is it on your github or any reference code to take a look at? I saw that this link I posted designed it I wonder if the design is good though @Dan there are things I would do differently but if the idea is right in which classes to extend and build from then its a good starting point pehaps","username":"sidhujag","ts":"2018-07-05T21:09:25.765Z"}
{"msg":"Has joined the channel.","username":"danny_lee","ts":"2018-07-05T21:32:55.608Z","type":"uj"}
{"msg":"I haven't reviewed that in detail @sidhujag but I believe the authors are often on the #sawtooth channel. You might be able to hail them there by mentioning pokitdok.","username":"Dan","ts":"2018-07-06T00:36:12.638Z"}
{"msg":"@dan thanks I joined that  weekly call and have another question. What is the intuition regarding how EVM will work with sawtooth. I would think since you can deterministically prove that you are running TEE can you not run the smart contract and modify the internal state inside the database by creating that transaction through protected enclave? This way you only need 1 validator to run the contract and post the tx. The same as any other transaction. The rest of the network doesn't need to verify if its run through protected hw as gatekeepers of the blockchain.","username":"sidhujag","ts":"2018-07-06T16:57:54.612Z"}
{"msg":"@dan thanks I joined that  weekly call and have another question. What is the intuition regarding how EVM will work with sawtooth. I would think since you can deterministically prove that you are running TEE can you not run the smart contract and modify the internal accounts db by creating that transaction through protected enclave? This way you only need 1 validator to run the contract and post the tx. The same as any other transaction. The rest of the network doesn't need to verify if its run through protected hw as gatekeepers of the blockchain.","username":"sidhujag","ts":"2018-07-06T16:57:54.612Z"}
{"msg":"Hi @sidhujag. While someone could write a consensus that used SGX in a way that all validators trusted the results of a block without checking each transaction, that's not how poet or sawtooth is written. At the moment the only SGX usage in sawtooth is the optional PoET enclave that handles random leader election - the part of PoW that wastes energy.\nSawtooth as a whole is entirely independent of SGX. So when it comes to the EVM there's no special SGX behavior (unless you want to create that feature :) )","username":"Dan","ts":"2018-07-09T14:16:55.574Z"}
{"msg":"@Dan You better look at https://github.com/hyperledger/sawtooth-core/pull/1757 before it gets merged","username":"pschwarz","ts":"2018-07-09T14:41:14.961Z"}
{"msg":"Already in it.","username":"Dan","ts":"2018-07-09T15:02:04.772Z"}
{"msg":"Hey everyone, I updated the RFC for PBFT a bit ago to address comments from @kelly_ . Feel free to take a look and comment!","username":"bridgerherman","ts":"2018-07-09T19:44:47.319Z"}
{"msg":"Hey everyone, I updated the RFC for PBFT a bit ago to address comments from @kelly_ . Feel free to take a look and comment!\nhttps://github.com/hyperledger/sawtooth-rfcs/pull/19","username":"bridgerherman","ts":"2018-07-09T19:44:47.319Z"}
{"msg":"@adamludvik regarding the thread safety thing we were discussing you said that the poet engine is single threaded. Is the engine concept single threaded, like that should be the case for Raft too and all consumers of the SDKS or is this specific to Python or to just PoET?","username":"Dan","ts":"2018-07-09T23:09:29.442Z"}
{"msg":"@Dan The consensus engine process, in general, is multi-threaded. An object (the driver) is created and passed an object that implements an Engine interface. The interface is basically just a `start()` method that receives a couple objects used to communicate with it. When the driver is started, it creates a background thread that handles communications with the validator and then calls the engine's start method from whatever thread called `driver.start()`, which is the main thread in both the PoET engine and Raft engine. It is expected that the engine will sit in a loop and process updates from the validator (which is receives on a queue or channel) and make requests to the validator (using a service object provided by the driver). Any data used by the engine is private to the engine and it is up to the engine implementer to decide what kind of threading model to use. In both the PoET engine and the Raft engine, we have opted for a single-threaded Engine implementation, but this is not a requirement.","username":"adamludvik","ts":"2018-07-10T02:25:59.606Z"}
{"msg":"thanks @adamludvik ","username":"Dan","ts":"2018-07-10T02:43:25.214Z"}
{"msg":"@adamludvik does the communication thread also do the signature verification single threaded?","username":"sidhujag","ts":"2018-07-10T04:10:18.875Z"}
{"msg":"@adamludvik does the communication thread also do the signature verification single threaded ( the memory pool verification not block processing) ?","username":"sidhujag","ts":"2018-07-10T04:10:18.875Z"}
{"msg":"consensus engines run in a separate process.signature verification happens in the validator process and is concurrent.","username":"adamludvik","ts":"2018-07-10T12:49:21.364Z"}
{"msg":"concurrent as in global to all transactions? or to an individual tx (more that 1 signature verification per tx)","username":"sidhujag","ts":"2018-07-10T16:46:07.194Z"}
{"msg":"also does it relay concurrently as well then or right away with some recourse if a signature verification failed?","username":"sidhujag","ts":"2018-07-10T16:46:49.988Z"}
{"msg":"An updated PoET 2.0 RFC has been posted. https://github.com/hyperledger/sawtooth-rfcs/pull/20. This deprecates the earlier RFC (#12), which has been left in place for anyone trying to get context. @MicBowman ","username":"amolk","ts":"2018-07-10T17:04:35.847Z"}
{"msg":"thanks, @amolk ","username":"MicBowman","ts":"2018-07-11T17:31:35.578Z"}
{"msg":"Maidsafe have released the code for PARSEC. \nhttps://safenetforum.org/t/parsec-the-release-of-the-code/24469\n\nVery different approach (putting it mildly) from other consensus mechanisms.  Could this possibly become a Pluggable Consensus Mechanism for Sawtooth?","username":"Southside","ts":"2018-07-11T22:42:06.093Z"}
{"msg":"ooh, it's in rust too!","username":"jsmitchell","ts":"2018-07-12T03:22:59.731Z"}
{"msg":"@dan how do you keep https://sawtooth.hyperledger.org/docs/core/releases/0.8.8/examples/private_utxo/overview.html the UTXO model private.. the data is encrypted to which keys? are those keys available to all enclaves network wide to be able to validate the transactions?","username":"sidhujag","ts":"2018-07-12T05:07:39.340Z"}
{"msg":"Has joined the channel.","username":"sergefdrv","ts":"2018-07-12T13:04:06.152Z","type":"uj"}
{"msg":"Hi there! We just release an initial version of implementation of a consensus protocol called MinBFT. Please have a look if you are interested https://github.com/nec-blockchain/minbft","username":"sergefdrv","ts":"2018-07-12T13:06:20.019Z"}
{"msg":"Hi there! We just published an initial version of implementation of a consensus protocol called MinBFT. Please have a look if you are interested https://github.com/nec-blockchain/minbft","username":"sergefdrv","ts":"2018-07-12T13:06:20.019Z"}
{"msg":"Any feedback is highly appreciated!","username":"sergefdrv","ts":"2018-07-12T13:07:00.107Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=5fuMh6n4p8iroHneC) @jsmitchell The power of C++    without the dangers ","username":"Southside","ts":"2018-07-12T14:30:22.074Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=5fuMh6n4p8iroHneC","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=5fuMh6n4p8iroHneC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@sidhujag that was a concept we put up like a year ago. We decided not to mature it because it seemed fragile. You are more than welcome to use it as a starting point though and see if you can come up with something better.\nThe original author on that has since moved on to other projects.","username":"Dan","ts":"2018-07-12T14:35:35.142Z"}
{"msg":"@sergefdrv that looks pretty cool! Would you be up for presenting at our tech forum next thursday? (https://calendar.google.com/calendar/r/customweek/2018/7/19?eid=Y3RqdjgwMTltMTVrOGkwZmdmdDZvaG1xN2NfMjAxODA3MTlUMTUwMDAwWiBsaW51eGZvdW5kYXRpb24ub3JnX25mOXU2NGc5azlydmQ5Zjh2cDR2dXIyM2IwQGc&ctz=UTC&sf=true)","username":"Dan","ts":"2018-07-12T14:43:03.174Z"}
{"msg":"@Dan sorry, unfortunately, I have a conflicting appointment for this time. Maybe the week after would work?","username":"sergefdrv","ts":"2018-07-12T15:12:32.228Z"}
{"msg":"@Dan I mean, Aug 2","username":"sergefdrv","ts":"2018-07-12T15:13:42.008Z"}
{"msg":"https://github.com/askmish/sawtooth-poet2","username":"kelly_","ts":"2018-07-12T17:20:40.550Z"}
{"msg":"^ PoET 2 repo","username":"kelly_","ts":"2018-07-12T17:20:45.089Z"}
{"msg":"@dan i was just asking because I wanted to see if there was a novel way to keep the data private in context with discussions I'm having with @MicBowman regarding the same type of thing to encrypt data in enclaves","username":"sidhujag","ts":"2018-07-12T17:54:19.152Z"}
{"msg":"@dan i was just asking because I wanted to see if there was a novel way to keep the data private in context with discussions I'm having with @MicBowman regarding the same type of thing to encrypt data to enclave ephemeral keys","username":"sidhujag","ts":"2018-07-12T17:54:19.152Z"}
{"msg":"@Dan i was just asking because I wanted to see if there was a novel way to keep the data private in context of discussions I'm having with @MicBowman regarding the same type of thing to encrypt data to enclave ephemeral keys","username":"sidhujag","ts":"2018-07-12T17:54:19.152Z"}
{"msg":"@Dan i was just asking because I wanted to see if there was a novel way to keep the data private in context with discussions I'm having with @MicBowman regarding the same type of thing to encrypt data to enclave ephemeral keys","username":"sidhujag","ts":"2018-07-12T17:54:19.152Z"}
{"msg":"@sergefdrv that sounds good to me.\n@mfford do you think we can schedule a tech forum for 8/2 at the normal slot?","username":"Dan","ts":"2018-07-12T18:24:14.430Z"}
{"msg":"@mfford (checking tag)","username":"Dan","ts":"2018-07-12T18:24:36.325Z"}
{"msg":"Has joined the channel.","username":"PHeinz","ts":"2018-07-12T18:58:22.133Z","type":"uj"}
{"msg":"@Dan @kelly_ we are going to start going through PR review of PBFT consensus engine code. current plan is to do this here: https://github.com/bitwiseio/sawtooth-pbft since we don't have a PBFT repo yet for it in hyperledger. but if there is enough interest, we could do it in a hyperledger repo so it's easier to get more reviewers. opinions? (I know we want the new poet code reviewed by the core maintainers, like I said before, but I don't know if you feel the same about pbft or not)","username":"amundson","ts":"2018-07-12T20:03:39.153Z"}
{"msg":"sure","username":"Dan","ts":"2018-07-12T22:51:40.079Z"}
{"msg":"sounds like one of your more strongly held opinions, @Dan ","username":"amundson","ts":"2018-07-12T22:52:30.554Z"}
{"msg":"too many chats today. learning non-verbose responses.","username":"Dan","ts":"2018-07-12T22:53:17.390Z"}
{"msg":"i think HL repo is fine","username":"kelly_","ts":"2018-07-12T23:09:46.103Z"}
{"msg":"with devmode - should we call this proof of authority? seems pretty similar to what ethereum etc. are doing, though I guess devmode doesn't have an actual 'authority' list registered on chain","username":"kelly_","ts":"2018-07-12T23:16:10.494Z"}
{"msg":"i think once we have devmode, poet-sim, poet-sgx, poet-sgx-without-PSE, raft, and pbft. sawtooth will have the most consensus choices","username":"kelly_","ts":"2018-07-12T23:17:37.526Z"}
{"msg":"out of all platforms","username":"kelly_","ts":"2018-07-12T23:17:45.028Z"}
{"msg":"Has anyone thought about PARSEC?  https://safenetforum.org/t/parsec-the-release-of-the-code/24469","username":"Southside","ts":"2018-07-12T23:19:59.054Z"}
{"msg":"@sergefdrv I just went through the minBFT protocol. Thanks for sharing it, it looks very interesting! I have a question about the monotonic counter (USIG). I've just looked at the code superficially and perhaps you're already handling this case. It seems there's no way to prevent an untrusted (i.e. outside the enclave) component from sending an earlier version of the sealed data. So a compromised component could potentially send two messages with the same counter value by just keeping a copy of a previous version of the sealed data?","username":"amolk","ts":"2018-07-13T16:12:13.510Z"}
{"msg":"@amolk Thanks for your question! In our implementation of USIG, a key pair is generated and sealed when a USIG enclave instance is initialized the first time. That key pair is used afterwards. However, every USIG enclave generates an ephemeral random value, epoch, that is unique for each enclave instance. This value, as well as the counter value, is never sealed. We use the epoch value to detect an attempt of rollback attack.","username":"sergefdrv","ts":"2018-07-13T16:21:29.119Z"}
{"msg":"I see. So as long as the enclave is loaded and has these values in memory, the protocol can continue. If the enclave gets unloaded, these values are destroyed. So a new instance of an enclave appears as a new node to the network.","username":"amolk","ts":"2018-07-13T16:29:31.079Z"}
{"msg":"@amolk right, in current implementation, we capture the epoch value of the first valid UI. Then every subsequent UI from that replica is checked against that value","username":"sergefdrv","ts":"2018-07-13T16:32:27.610Z"}
{"msg":"@amolk we plan to investigate possible ways to implement faulty replica recovery, including the USIG recreation issue. It seems to be possible using a stable checkpoint retrieved from any of the correct replicas","username":"sergefdrv","ts":"2018-07-13T16:34:31.659Z"}
{"msg":"On receiving nodes do you maintain a list of epochs that you've encountered? Do you need to protect that list?","username":"amolk","ts":"2018-07-13T16:35:20.943Z"}
{"msg":"and the corresponding counters, of course.","username":"amolk","ts":"2018-07-13T16:35:43.279Z"}
{"msg":"every replica maintains a list of the captured epoch value and the last accepted counter values per each peer. This data doesn't have to be protected by TEE, because at most f replicas are assumed to be possibly faulty. The f+1 correct replicas will ensure safety and liveness according to the protocol","username":"sergefdrv","ts":"2018-07-13T16:39:10.399Z"}
{"msg":"Thanks for the explanation.","username":"amolk","ts":"2018-07-13T17:18:00.414Z"}
{"msg":"That sounds similar to what we are doing with PoET2. We were looking to remove hardware counters which were used to enforce a sort of singleton pattern with the enclave per machine. Each validator is registered on the network (stored in state on the blockchain). That registration had contained the monotonic counter ID which would let the registration safely persist across reboots etc. Doing away with hw counters in PoET 2 the node needs to register every time the process starts since we can't trust persisting any identity token. (You can correct me if I'm remembering wrong Amol. I'll need to double check if that detail is in the RFC too).  ","username":"Dan","ts":"2018-07-13T19:56:00.364Z"}
{"msg":"Where can I read an overview of PoET2?","username":"Southside","ts":"2018-07-13T19:58:19.610Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=JQWTQS6b2j8z7mBiD) @Southside ","username":"Dan","ts":"2018-07-13T20:24:51.830Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=JQWTQS6b2j8z7mBiD","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=JQWTQS6b2j8z7mBiD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@dan, that's right. We go a bit further than that by not persisting signing keys either. ","username":"amolk","ts":"2018-07-14T05:58:04.941Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=rjfaJdqqJsAEs4xiw) @Dan Thank you    I have had a chance to read this over in depth now. Is it the case that embracing PoET2 would simplify the use of the protocol in the cloud? ","username":"Southside","ts":"2018-07-15T19:12:29.365Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=rjfaJdqqJsAEs4xiw","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=rjfaJdqqJsAEs4xiw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=5bZp55v7K6Nn8zRC8) @amolk We considered to get by using ephemeral keys in USIG, that we would never seal/unseal. But the rational not to do so was that this would make online remote attestation mandatory. Whereas allowing to seal/unseal the keys and using a random enclave instance \"ID\" would allow to do remote attestation before the consensus network starts, \"offline\".","username":"sergefdrv","ts":"2018-07-16T08:18:09.491Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=5bZp55v7K6Nn8zRC8","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=5bZp55v7K6Nn8zRC8","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Southside PoET 2 will be able to run on Intel SGX servers that are available in the cloud. I believe IBM and Azure both offer these today","username":"kelly_","ts":"2018-07-16T14:40:25.803Z"}
{"msg":"@Southside yes that's the gist. By reducing the HW requirements we hope that it increases the available platforms/environments.","username":"Dan","ts":"2018-07-17T14:03:02.891Z"}
{"msg":"https://media.consensys.net/scaling-consensus-for-enterprise-explaining-the-ibft-algorithm-ba86182ea668","username":"kelly_","ts":"2018-07-17T23:32:57.284Z"}
{"msg":"^ fyi @bridgerherman ","username":"kelly_","ts":"2018-07-17T23:33:03.985Z"}
{"msg":"@kelly_ Thanks!","username":"bridgerherman","ts":"2018-07-18T13:43:20.558Z"}
{"msg":"Has joined the channel.","username":"johnfranklin","ts":"2018-07-19T06:10:19.142Z","type":"uj"}
{"msg":"Has joined the channel.","username":"johnsourour","ts":"2018-07-19T17:14:36.857Z","type":"uj"}
{"msg":"Has joined the channel.","username":"kirkwood","ts":"2018-07-23T04:00:48.875Z","type":"uj"}
{"msg":"@MicBowman @amundson Could you please take a look at the PoET2 RFC and provide comments? https://github.com/hyperledger/sawtooth-rfcs/pull/20 ","username":"amolk","ts":"2018-07-24T17:18:59.973Z"}
{"msg":"how soon? ","username":"MicBowman","ts":"2018-07-24T17:22:42.046Z"}
{"msg":"before lunch ;)","username":"Dan","ts":"2018-07-24T18:30:23.554Z"}
{"msg":"In particular, @MicBowman please look whether we've capture properly the case where a new validator joins an existing network. I'm not sure off the top of my head how we handle setting the chain clock. I'm sure it's either trivial or completely a mess. :D","username":"Dan","ts":"2018-07-24T18:32:16.581Z"}
{"msg":"@amolk yes, I will soon (but not before lunch, @Dan ). we should have some other maintainers read through it too that are probably too busy to do it immediately","username":"amundson","ts":"2018-07-24T20:13:34.040Z"}
{"msg":"@amolk biggest comment... the WaitTime and LocalMean are completely redundant in the wait certificate","username":"MicBowman","ts":"2018-07-24T21:08:30.196Z"}
{"msg":"they have to be computed by the validators anyway... why make the enclave do it","username":"MicBowman","ts":"2018-07-24T21:08:46.515Z"}
{"msg":"Has joined the channel.","username":"naviat","ts":"2018-07-26T09:04:55.483Z","type":"uj"}
{"msg":"@adamludvik @amundson Would the validator-registry-tp for poet1.0 still ship as a separate package, without any additional deps. If not, I'm going to implement it just as a separate module as part of the poet2.0 instead of a tp.","username":"askmish","ts":"2018-07-27T05:41:59.895Z"}
{"msg":"@askmish not sure what you mean. your question seems to be about packaging, but 'instead of a tp' seems to be about how you plan to store data. these seem like unrelated things.","username":"amundson","ts":"2018-07-27T05:48:05.180Z"}
{"msg":"it is certainly possible to package stuff up in such a way as to share a TP between both implementations (assuming the data is reasonably similar)","username":"amundson","ts":"2018-07-27T05:48:58.282Z"}
{"msg":"it is certainly possible to package stuff up in such a way as to share a TP between both implementations (which would make sense if the data is reasonably similar)","username":"amundson","ts":"2018-07-27T05:48:58.282Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=JKdi2PgiYYkSBj93J) @amundson Yep that's what I meant. My intention was to reuse the validator-registry TP for both poet1.0 and poet2.0 engines.","username":"askmish","ts":"2018-07-27T05:49:59.320Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=JKdi2PgiYYkSBj93J","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=JKdi2PgiYYkSBj93J","remote":true,"fileId":null,"fileName":null}]}
{"msg":"seems beneficial and easier to support an upgrade path that way","username":"amundson","ts":"2018-07-27T05:52:58.104Z"}
{"msg":"the easiest way to manage that is going to be to make your new code a subdirectory in the current poet repo, so you can make changes to the TP in your branch as necessary to support the new poet, etc., etc.","username":"amundson","ts":"2018-07-27T05:57:42.102Z"}
{"msg":"@askmish are you starting from scratch out of a desire to switch to rust, or because the design actually has nothing in common except the registry?","username":"amundson","ts":"2018-07-27T06:00:44.744Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=rr9k82sduTsNYdxqw) @amundson both. Though there's a few differences in the way the validator registry is currently closely implemented for poet1.0 settings and stuff.","username":"askmish","ts":"2018-07-27T06:03:28.905Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=rr9k82sduTsNYdxqw","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=rr9k82sduTsNYdxqw","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Are there any plans to update the validator-registry TP?","username":"askmish","ts":"2018-07-27T06:04:10.128Z"}
{"msg":"No, not outside what you are working on.","username":"amundson","ts":"2018-07-27T06:04:52.500Z"}
{"msg":"The plan is to make sgx optional via a crate feature and thus conditional compilation instead of it being run-time dynamically determined?","username":"amundson","ts":"2018-07-27T06:07:15.549Z"}
{"msg":" That will present some new packaging fun -- needing to compile twice to get all the artifacts generated, etc.","username":"amundson","ts":"2018-07-27T06:08:45.046Z"}
{"msg":"If it is possible, that would be made easier with three options 'sgx, nosgx, both'","username":"amundson","ts":"2018-07-27T06:09:06.064Z"}
{"msg":"where we could use 'both' when doing deb packaging, for example","username":"amundson","ts":"2018-07-27T06:09:24.970Z"}
{"msg":"also, the binaries should differ in name so the packages can be installed at the same time","username":"amundson","ts":"2018-07-27T06:10:42.431Z"}
{"msg":"it is possible to have multiple [bin] directives in the crate, but I'm not sure if they can be conditionally generated","username":"amundson","ts":"2018-07-27T06:11:26.136Z"}
{"msg":"Yep, I'm sure it will impact both our crates and it'll be twice the fun solving them. It would have been easier though, if it was a separate, standalone tp. Perhaps, we just stick with implementing parts of it at runtime right now, with plans to separate the tp into its own repo at a later time. Or, I'll have to go back and rewrite the whole functionality for poet2.0.","username":"askmish","ts":"2018-07-27T06:16:15.076Z"}
{"msg":"Yep, I'm sure it will impact both our crates and it'll be twice the fun solving them. It would have been easier though, if it was a separate, standalone tp. Perhaps, we just stick with implementing parts of it at runtime right now, with plans to separate the tp into its own repo at a later time. Or, I'll have to go back and rewrite the whole functionality for poet2.0. Ofcourse with intention to make it poet-agnostic.","username":"askmish","ts":"2018-07-27T06:16:15.076Z"}
{"msg":"Yep, I'm sure it will impact both our crates and it'll be twice the fun solving them. It would have been easier though, if it was a separate, standalone tp. Perhaps, we just stick with implementing parts of it at runtime right now, with plans to separate the tp into its own repo at a later time. Or, I'll have to go back and rewrite the whole functionality for poet2.0. Ofcourse with intention to make it poet-version-agnostic.","username":"askmish","ts":"2018-07-27T06:16:15.076Z"}
{"msg":"we really don't want to deal with multiple poet repos","username":"amundson","ts":"2018-07-27T06:25:34.348Z"}
{"msg":"Is the directory strcuture in sawtooth-poet repo going to change? ","username":"askmish","ts":"2018-07-27T06:28:41.682Z"}
{"msg":"do you want it to change?","username":"amundson","ts":"2018-07-27T06:28:55.970Z"}
{"msg":"both poet1.0 and poet2.0 are mostly different and don't have many parts of poet1.0","username":"askmish","ts":"2018-07-27T06:29:44.036Z"}
{"msg":"why are we calling it poet if it's not the same thing?","username":"amundson","ts":"2018-07-27T06:30:43.385Z"}
{"msg":"lack of imagination? :)","username":"amundson","ts":"2018-07-27T06:30:47.455Z"}
{"msg":"seriously though, sawtooth 0.8 shared no code with sawtooth 0.7, and we are currently rewriting portions of sawtooth in rust, and we managed to do that all without creating a new repo from scratch each time","username":"amundson","ts":"2018-07-27T06:31:50.757Z"}
{"msg":"Are you suggesting multiple branches?","username":"askmish","ts":"2018-07-27T06:33:04.994Z"}
{"msg":"I wasn't above, no. But it does seem appropriate to create a feature branch off of master to do the new poet work, since you won't be able to get any code into master without it working and passing LR networks.","username":"amundson","ts":"2018-07-27T06:34:20.880Z"}
{"msg":"We do need to maintain both poet1.0 and poet2.0 simultaneously. ","username":"askmish","ts":"2018-07-27T06:34:47.564Z"}
{"msg":"poet/cft and the new poet. presumably not the older poet/bft given no one is bringing that packaging work forward to the new consensus engine model","username":"amundson","ts":"2018-07-27T06:36:04.031Z"}
{"msg":"is there really no opportunity for code sharing though? if poet/cft was rewritten in rust?","username":"amundson","ts":"2018-07-27T06:38:39.944Z"}
{"msg":"I think poet/cft probably gets simpler when you throw away any desire to have sgx support","username":"amundson","ts":"2018-07-27T06:39:30.697Z"}
{"msg":"though, maybe that doesn't make sense if we believe the reason for keeping poet/cft is only because it is better tested","username":"amundson","ts":"2018-07-27T06:42:16.972Z"}
{"msg":"also, in packaging, you can absolutely not use \"2.0\", because we won't be able to package it like that (it doesn't replace the current poet) so if Intel continues with this version thing instead of coming up with a cooler designation, you should consider it part of it's name, not its version number. which probably means \"poet2\" not \"poet2.0\" since \"poet2.0\" can't be a package name.","username":"amundson","ts":"2018-07-27T06:44:47.577Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=7LLRWeXdjuQoXoPt8) @amundson If the existing PoET were to be rewritten in rust, there would certainly be many areas where we would be able to share code.","username":"amolk","ts":"2018-07-27T06:49:07.384Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=7LLRWeXdjuQoXoPt8","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=7LLRWeXdjuQoXoPt8","remote":true,"fileId":null,"fileName":null}]}
{"msg":"to be clearer, if the debian package name was \"poet-1.1.3\" (we will be using 1.1.x for the current poet engine I imagine, since 1.0.x was taken up by sawtooth 1.0), you can't have \"poet-2.0.0\" because it would replace the \"poet-1.1.3\" package. and you need to allow them to co-exist if we are supporting both.","username":"amundson","ts":"2018-07-27T06:49:10.422Z"}
{"msg":"But, you can do \"poet2-0.1.0\"","username":"amundson","ts":"2018-07-27T06:49:35.612Z"}
{"msg":"because \"poet-1.1.3\" and \"poet2-0.1.0\" are different package names","username":"amundson","ts":"2018-07-27T06:49:55.871Z"}
{"msg":"Would it make you happier if we called it poet-csp? :slight_smile:","username":"amolk","ts":"2018-07-27T06:51:41.460Z"}
{"msg":"absolutely. what does csp stand for?","username":"amundson","ts":"2018-07-27T06:51:55.540Z"}
{"msg":"something cool :slight_smile:","username":"amolk","ts":"2018-07-27T06:52:17.683Z"}
{"msg":"I'll think of it and let you know","username":"amolk","ts":"2018-07-27T06:52:27.639Z"}
{"msg":":wink:","username":"amolk","ts":"2018-07-27T06:52:41.121Z"}
{"msg":"I like it even better now","username":"amundson","ts":"2018-07-27T06:52:41.180Z"}
{"msg":"poet-spv ?","username":"amundson","ts":"2018-07-27T06:53:20.685Z"}
{"msg":"second-poet-version","username":"amundson","ts":"2018-07-27T06:53:28.475Z"}
{"msg":":)","username":"amundson","ts":"2018-07-27T06:53:33.413Z"}
{"msg":"There you go!","username":"amolk","ts":"2018-07-27T06:53:37.968Z"}
{"msg":"though, we are really on like version 3 or 4","username":"amundson","ts":"2018-07-27T06:53:44.284Z"}
{"msg":"as in, poet 0, poet 1, poet 2 --- you would may call \"poet 2\" the tpv since it's the third in the list, not the sedond","username":"amundson","ts":"2018-07-27T06:54:48.628Z"}
{"msg":"as in, poet 0, poet 1, poet 2 --- you would may call \"poet 2\" the tpv since it's the third in the list, not the second","username":"amundson","ts":"2018-07-27T06:54:48.628Z"}
{"msg":"in addition to the TP code, would it make sense to share the CLI for both versions?","username":"amundson","ts":"2018-07-27T06:59:43.831Z"}
{"msg":"is ias_(client|proxy) still relevant for the new poet?","username":"amundson","ts":"2018-07-27T07:00:13.687Z"}
{"msg":"Yes, partially. The PSE manifest portion is no longer relevant.","username":"amolk","ts":"2018-07-27T07:05:58.595Z"}
{"msg":"Let me summarize to make sure we're all on the same page.\nNo changes to date with poet other than moving the exiting poet code and the validator registry TP to a new sawtooth-poet repo.\nThe poet2 development should probably be a branch in the sawtooth-poet repo.\nThis will facilitate reusing the TP and CLI.\nI still recommend deprecating poet1 after poet2 is considered well reviewed and stable.\nPoET1/Sim/CFT will have no particular benefit over PoET2 compiled with sgx simulation. \nMaintaining both will just be confusing because we'll have a matrix of 4 poet flavors.\nBut maybe that naming part is different conversation.","username":"Dan","ts":"2018-07-27T14:25:29.210Z"}
{"msg":"Hi everyone, I've updated the PBFT consensus RFC again to provide a bit more information on states and state transitions, and to more accurately reflect the prototype implementation I've been working on: https://github.com/hyperledger/sawtooth-rfcs/pull/19","username":"bridgerherman","ts":"2018-07-27T14:36:31.822Z"}
{"msg":"since we are already on poet3.1 i recommend we rename poet2 to Poet NT","username":"kelly_","ts":"2018-07-27T16:32:06.892Z"}
{"msg":"NT can stand for network time vs the traditional trusted timers","username":"kelly_","ts":"2018-07-27T16:32:24.495Z"}
{"msg":"any future poet versions can be poet95, poetXP, etc","username":"kelly_","ts":"2018-07-27T16:33:24.787Z"}
{"msg":":facepalm_tone1: ","username":"Dan","ts":"2018-07-27T18:24:40.272Z"}
{"msg":"@Dan @kelly_ @amundson @adamludvik @TomBarnes @pschwarz It would be great if we could get some more reviews on @bridgerherman PBFT rfc. Please take a look when you have time. Thanks!","username":"agunde","ts":"2018-07-27T18:37:07.701Z"}
{"msg":"Has joined the channel.","username":"zZz","ts":"2018-07-28T09:16:29.621Z","type":"uj"}
{"msg":"Has joined the channel.","username":"henrytill","ts":"2018-07-28T19:10:16.267Z","type":"uj"}
{"msg":"Sorry for the delay on feedback here. I got part way through today and hopefully can finish up tomorrow. Meanwhile, @bridgerherman is the \"Seal\" concept part of the original PBFT paper or is that novel in this RFC? Thanks.","username":"Dan","ts":"2018-07-31T04:35:40.699Z"}
{"msg":"@sergefdrv Hi, are we still on for your presentation of MinBFT on 8/2? ","username":"Dan","ts":"2018-07-31T12:17:25.507Z"}
{"msg":"@Dan Yes, I'm preparing the slides :slight_smile: ","username":"sergefdrv","ts":"2018-07-31T12:31:26.526Z"}
{"msg":"Excellent :)","username":"Dan","ts":"2018-07-31T12:51:45.110Z"}
{"msg":"@Dan As I recall, the original paper mentions a \"consensus proof,\" but does not go into much detail. I read about Istanbul BFT consensus, which led me to believe that the \"seal\" is a good idea: https://github.com/ethereum/EIPs/issues/650","username":"bridgerherman","ts":"2018-07-31T13:28:07.926Z"}
{"msg":"thx","username":"Dan","ts":"2018-07-31T14:00:21.058Z"}
{"msg":"@bridgerherman just went through the new RFC, looks great","username":"kelly_","ts":"2018-07-31T18:22:06.444Z"}
{"msg":"I have one question, do you think the RFC needs to document how a node that has been offline comes back online/syncs?","username":"kelly_","ts":"2018-07-31T18:22:44.124Z"}
{"msg":"for example, how does the node get from the last checkpoint to the current head","username":"kelly_","ts":"2018-07-31T18:24:09.867Z"}
{"msg":"@kelly_ I'm currently working on a way to do that - the consensus API now has PeerConnected and PeerDisconnected updates, so theoretically the primary should be able to help the offline node sync back up with the network.","username":"bridgerherman","ts":"2018-07-31T18:29:55.740Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=WGfAxLoGpY5iPoroD) @Dan FYI... poetV1 is still substantially more efficient than poetV2 (and more resilient to attack)","username":"MicBowman","ts":"2018-07-31T21:57:42.060Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=WGfAxLoGpY5iPoroD","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=WGfAxLoGpY5iPoroD","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@bridgerherman cool, got it!","username":"kelly_","ts":"2018-07-31T22:01:46.628Z"}
{"msg":"thanks @MicBowman. In terms of efficiency do you mean forking or what do you have in mind there?\nI think we can only maintain one and that it will be too confusing for users to have ~4 poet variants. With the wider hardware footprint available to poet2 it seems we'll get more for our time with that protocol.","username":"Dan","ts":"2018-07-31T22:12:36.655Z"}
{"msg":"Has joined the channel.","username":"martinadolfi","ts":"2018-08-01T12:31:42.848Z","type":"uj"}
{"msg":"Has joined the channel.","username":"diegos","ts":"2018-08-01T18:12:44.051Z","type":"uj"}
{"msg":"Please join us in less than an hour for a presentation on the consensus algorithm, MinBFT (https://github.com/nec-blockchain/minbft) by\nSergey Fedorov <sergey.fedorov@neclab.eu>\nSoftware Specialist, Security and Networking Division\nNEC Laboratories Europe GmbH\n \nWhere https://zoom.us/my/hyperledger.community\nWhen: August 2, 3-4pm UTC\nPlease check the community calendar for your local timezone\nhttps://www.google.com/calendar/event?eid=Y3RqdjgwMTltMTVrOGkwZmdmdDZvaG1xN2NfMjAxODA4MDJUMTUwMDAwWiBsaW51eGZvdW5kYXRpb24ub3JnX25mOXU2NGc5azlydmQ5Zjh2cDR2dXIyM2IwQGc&ctz=UTC\n\n\n\nOr iPhone one-tap :\n    US: +16465588656,,4034983298#  or +16699006833,,4034983298# \nOr Telephone:\n    Dial(for higher quality, dial a number based on your current location): \n        US: +1 646 558 8656  or +1 669 900 6833  or +1 855 880 1246 (Toll Free) or +1 877 369 0926 (Toll Free)\n    Meeting ID: 403 498 3298\n    International numbers available: https://zoom.us/u/bAaJoyznp\n","username":"Dan","ts":"2018-08-02T14:12:20.939Z"}
{"msg":"https://drive.google.com/file/d/1LSNwYM2f7j-DRdCRvJu_K6JG6Oc468lr/view?usp=sharing","username":"sergefdrv","ts":"2018-08-02T15:01:04.750Z"}
{"msg":"Has joined the channel.","username":"LeonardoCarvalho","ts":"2018-08-15T20:43:13.220Z","type":"uj"}
{"msg":"Hello all. I've got some inquisitions about a way of getting Oracles on Sawtooth, is this the correct forum ? :)","username":"LeonardoCarvalho","ts":"2018-08-16T12:21:11.395Z"}
{"msg":"@LeonardoCarvalho here or sawtooth-core-dev should be fine, depending on the scope, etc.","username":"amundson","ts":"2018-08-16T19:35:34.891Z"}
{"msg":"Ah, ok.\n","username":"LeonardoCarvalho","ts":"2018-08-17T11:51:22.881Z"}
{"msg":"So, let me explain the scopes I've asked about \n\nAccountants sometimes need external confirmations on certain processes (fees, slips, etc), so II am inclined to consider this external confirmation as an Oracle, that all validators would confirm.\n\nBeing the validators sitting in external networks, the HTTP requests to confirm on the foreign servers would be safe from Eclipse Attacks, or simple forgeries.","username":"LeonardoCarvalho","ts":"2018-08-17T11:54:21.563Z"}
{"msg":"So, I would like to bind the confirmation of each transaction to a external process, asynchronously","username":"LeonardoCarvalho","ts":"2018-08-17T11:55:09.795Z"}
{"msg":"Has joined the channel.","username":"Gabe","ts":"2018-08-17T20:25:42.780Z","type":"uj"}
{"msg":"Hi @LeonardoCarvalho , should it be the External confirmations will sent a Tx to push the confirmation data into the TPs, then the TPs will based on received information, to process its terms and conditions?","username":"tungdt_socoboy","ts":"2018-08-18T17:20:48.662Z"}
{"msg":"Actually, the TP could call to external services to get the data, but in term of its security and data trust, the external should sign-off a Tx and sent confirmation data into the blockchain instead. How do you think?","username":"tungdt_socoboy","ts":"2018-08-18T17:22:10.973Z"}
{"msg":"That would invalidate the access to the confirmation service from different networks. You see, if the validators do the job, it would be out of the TP control.  Being on the TP control, you got out the distributed validation of the confirmation, and easily \"eclipseable\".","username":"LeonardoCarvalho","ts":"2018-08-18T17:50:15.322Z"}
{"msg":"The current architecture supports the service being handled on the TP.","username":"LeonardoCarvalho","ts":"2018-08-18T17:52:38.365Z"}
{"msg":"@ltseeley in the Raft code (node.rs) where is RawNode defined? It looks like it comes from the raft namespace ... I thought I'd find a module in the tikv repo but I'm coming up empty grepping in there.","username":"Dan","ts":"2018-08-20T02:56:47.600Z"}
{"msg":"Has joined the channel.","username":"YueYin","ts":"2018-08-20T04:30:01.292Z","type":"uj"}
{"msg":"It's in the raft-rs repo: https://github.com/pingcap/raft-rs/blob/master/src/raw_node.rs","username":"ltseeley","ts":"2018-08-20T14:16:33.125Z"}
{"msg":"Has joined the channel.","username":"LakshmanTavag","ts":"2018-08-21T19:15:14.458Z","type":"uj"}
{"msg":"Has joined the channel.","username":"alchmeina","ts":"2018-08-23T14:16:26.167Z","type":"uj"}
{"msg":"@amolk thanks for the presentation. that was really good.","username":"amundson","ts":"2018-08-23T15:56:30.589Z"}
{"msg":"With respect to the SGX/non-SGX compilation flag decision, I don't think it is necessarily the right approach. It might be better to have two rust 'bin' projects and one 'lib' project that the bin projects use. all the code could go in the lib project, but the compilation time to produce both binaries would be roughly the same as it is for one binary.  I think that would already be very close to what you are planning with less compilation time.","username":"amundson","ts":"2018-08-23T15:59:32.275Z"}
{"msg":"maybe that doesn't solve the lower-level problem of conditional compilation within the library though, so its probably more complex than that","username":"amundson","ts":"2018-08-23T16:01:24.377Z"}
{"msg":"though maybe that code should be at the bin levle","username":"amundson","ts":"2018-08-23T16:02:30.188Z"}
{"msg":"though maybe that code should be at the bin level","username":"amundson","ts":"2018-08-23T16:02:30.188Z"}
{"msg":"I think rust projects also support multiple targets","username":"jsmitchell","ts":"2018-08-23T16:03:38.210Z"}
{"msg":"https://doc.rust-lang.org/cargo/reference/manifest.html#configuring-a-target","username":"jsmitchell","ts":"2018-08-23T16:06:02.599Z"}
{"msg":"you can have a [[lib]] section in addition to multiple [[bin]] sections","username":"jsmitchell","ts":"2018-08-23T16:06:19.713Z"}
{"msg":"yeah, that might be better if you can conditionally turn off one of the [[bin]] sections","username":"amundson","ts":"2018-08-23T16:17:09.427Z"}
{"msg":"@amolk @Dan how does updating the key when the enclave restarts remove the need for the monotonic counter? what prevents a validator from retrying for a more attractive duration multiple times?","username":"amundson","ts":"2018-08-23T16:25:30.085Z"}
{"msg":"The enclave will only create one Wait Certificate per block number - the block number-WaitCertificate mapping is maintained in the enclave. So an attacker cannot request the duration multiple times.","username":"amolk","ts":"2018-08-23T16:27:31.721Z"}
{"msg":"An attacker may choose to unload the enclave, which will remove the mapping but also the keys. The C test will then prevent the attacker from trying to get a new duration immediately.","username":"amolk","ts":"2018-08-23T16:29:03.111Z"}
{"msg":"ok, I was associating it with boot of the machine. but you mean initializing the enclave. so if we had a validator try and use the enclave multiple times, each would require a different key.","username":"amundson","ts":"2018-08-23T16:29:10.701Z"}
{"msg":"how does that one wait cert per block number work with forks that cause an N block rewind?","username":"jsmitchell","ts":"2018-08-23T16:29:32.623Z"}
{"msg":"But the EPID pseudonym can only be associated with a single enclave instance at a time, so a validator cannot create multiple instances simultaneously and pick whichever gives the best duration.","username":"amolk","ts":"2018-08-23T16:30:29.367Z"}
{"msg":"@jsmitchell the enclave code wouldn't know about forks presumably","username":"amundson","ts":"2018-08-23T16:30:54.248Z"}
{"msg":"if we rewind N blocks, the network needs to republish new blocks reusing block numbers which have already been mapped in the enclaves","username":"jsmitchell","ts":"2018-08-23T16:31:30.887Z"}
{"msg":"yeah, I get your point, really you need previous block id, not block height","username":"amundson","ts":"2018-08-23T16:32:22.532Z"}
{"msg":"block height is bogus out of context","username":"amundson","ts":"2018-08-23T16:32:35.125Z"}
{"msg":"you could do a map of (genesis_block_id, height) -> wait_cert or (previous_block_id) -> wait_cert fine though","username":"amundson","ts":"2018-08-23T16:33:54.169Z"}
{"msg":"well, no, the first doesn't work (duh)","username":"amundson","ts":"2018-08-23T16:34:09.234Z"}
{"msg":"come on","username":"jsmitchell","ts":"2018-08-23T16:34:14.157Z"}
{"msg":"LOL","username":"amundson","ts":"2018-08-23T16:34:16.952Z"}
{"msg":"@amolk ok, so if you use previous_block_id->wait_cert, you need some mechanism to prevent attacks that consume memory (which could be caused in this case by excessive forking)","username":"amundson","ts":"2018-08-23T16:35:36.547Z"}
{"msg":"like, by not having all that in memory","username":"amundson","ts":"2018-08-23T16:35:52.849Z"}
{"msg":"i guess you are just reusing the pre-rolled winner for that block height, which probably isn't that bad, but it would seem to be better to do it the other way","username":"jsmitchell","ts":"2018-08-23T16:36:18.538Z"}
{"msg":"is there an estimate of the amount of memory required if the enclave is up for a couple years doing this?","username":"amundson","ts":"2018-08-23T16:36:39.658Z"}
{"msg":"One of the implications of the rewinding scenario in the current design is that the validator will not be able to publish any blocks until the fork catches up. Need to think about that.","username":"amolk","ts":"2018-08-23T16:39:11.655Z"}
{"msg":"If we were to limit ourselves to simply the last block published and the corresponding wait certificate, then we need a fixed amount of memory.","username":"amolk","ts":"2018-08-23T16:40:02.930Z"}
{"msg":"@amolk that probably applies to all the validators, and is therefore a liveness issue ","username":"jsmitchell","ts":"2018-08-23T16:56:03.019Z"}
{"msg":"@amolk could you post those slides here, please?","username":"jsmitchell","ts":"2018-08-23T19:08:03.030Z"}
{"msg":"Has joined the channel.","username":"blackbutterflysailing","ts":"2018-08-25T15:49:32.298Z","type":"uj"}
{"msg":"poet","username":"blackbutterflysailing","ts":"2018-08-25T15:49:42.467Z"}
{"msg":"minbft","username":"sergefdrv","ts":"2018-08-27T09:51:30.484Z"}
{"msg":"Hello, I'm looking for some documentation on how to additional keys to the validator-registry for Poet ( simulator ). I've been able to add the first key in the genesis block using 'poet registration create', but I'm not sure how to add subsequent keys. Could anyone point me in the right direction here ? ","username":"LakshmanTavag","ts":"2018-08-27T13:58:29.926Z"}
{"msg":"@LakshmanTavag this channel is for discussing consensus development. Please ask your question in #sawtooth","username":"jsmitchell","ts":"2018-08-27T14:02:57.337Z"}
{"msg":"Sure, appreciate it. ","username":"LakshmanTavag","ts":"2018-08-27T14:04:39.866Z"}
{"msg":"","username":"amolk","ts":"2018-08-28T08:17:38.525Z","attachments":[{"type":"file","title":"PSE-Free POET v3.pdf","title_link":"/file-upload/tqmCLP7bYWoMGjc8J/PSE-Free%20POET%20v3.pdf","url":"/file-upload/tqmCLP7bYWoMGjc8J/PSE-Free%20POET%20v3.pdf","remote":false,"fileId":"tqmCLP7bYWoMGjc8J","fileName":"PSE-Free POET v3.pdf"}]}
{"msg":"@jsmitchell here you go.","username":"amolk","ts":"2018-08-28T08:17:46.708Z"}
{"msg":"@jsmitchell @amundson With the proposed fork resolution mechanism, the order of checks is: longest fork, lowest ChainClock, lowest WaitCertificate.Duration. We will never be in a situation where we have to rewind the chain. A validator will always pick the longest fork even if a smaller fork has a lower CC. So a wait certificate will always be issued for blocks numbers higher than the last issued one. ","username":"amolk","ts":"2018-08-28T08:23:04.922Z"}
{"msg":"No.","username":"jsmitchell","ts":"2018-08-28T13:03:16.926Z"}
{"msg":"I dont think that will work","username":"jsmitchell","ts":"2018-08-28T13:03:16.926Z"}
{"msg":"A small clique which has published a slightly longer fork than the bulk of the network rejoins the network and its fork wins?","username":"jsmitchell","ts":"2018-08-28T13:11:43.439Z"}
{"msg":"Therefore making the majority of the network replace their last N blocks?","username":"jsmitchell","ts":"2018-08-28T13:12:25.767Z"}
{"msg":"Has joined the channel.","username":"luckycharms810","ts":"2018-08-28T14:25:34.265Z","type":"uj"}
{"msg":"@amolk \"We will never be in a situation where we have to rewind the chain.\" <-- can you elaborate on what you mean by this? I assume you are not saying that forks will not exist since you are talking about fork resolution","username":"amundson","ts":"2018-08-28T14:45:58.036Z"}
{"msg":"What I mean is that if a block comes in that forks the chain, it will be persisted but the validator won't switch to that fork. The switch will happen only if the fork has equal or more blocks","username":"amolk","ts":"2018-08-28T14:48:53.086Z"}
{"msg":"so we will not get into a situation where we switch to a fork that has lesser number of blocks","username":"amolk","ts":"2018-08-28T14:49:14.153Z"}
{"msg":"longest fork being the primary method of fork resolution means only chain head comparisons matter, and comparisons should not done at a specific height (chain A, block 5 vs. chain B, block 5) like today. correct?","username":"amundson","ts":"2018-08-28T14:49:29.532Z"}
{"msg":"For equal length chains we also do a chain clock comparison and switch to the fork with the lower chain clock","username":"amolk","ts":"2018-08-28T14:50:55.946Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Tm3KTfvYFeA8C5wae) @amundson Only so far as both chains contain only 5 blocks. We will not compare blocks further down in the chain.","username":"amolk","ts":"2018-08-28T14:52:17.519Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Tm3KTfvYFeA8C5wae","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Tm3KTfvYFeA8C5wae","remote":true,"fileId":null,"fileName":null}]}
{"msg":"This is a simpler mechanism. Of course, not having the SGX to enforce wait times means there's always a possibility for someone to game the system.","username":"amolk","ts":"2018-08-28T14:53:22.294Z"}
{"msg":"this seems to ignore the reality of split/rejoining networks","username":"jsmitchell","ts":"2018-08-28T14:54:14.078Z"}
{"msg":"and in a literal sense, the network is really always N split networks separated by the transmission and processing latency","username":"jsmitchell","ts":"2018-08-28T14:55:06.835Z"}
{"msg":"it would certainly mean that blocks that where non-winning could becoming winning blocks later, just need a successful clique","username":"amundson","ts":"2018-08-28T14:55:21.660Z"}
{"msg":"@amolk lets say a 2-clique gets separated from the network and gets lucky with timers and published 100 more blocks than the mainline network","username":"jsmitchell","ts":"2018-08-28T14:56:27.590Z"}
{"msg":"@amolk and then rejoins. Since chain length wins, the mainline network needs to apply that fork, and now all those nodes have to wait 100 blocks before they can publish again?","username":"jsmitchell","ts":"2018-08-28T14:57:14.426Z"}
{"msg":"and say those 2-clique where started at genesis to make it worse (they weren't initially connected to the network properly)","username":"amundson","ts":"2018-08-28T14:57:20.799Z"}
{"msg":"@jsmitchell We still have the Z test though. Before blocks can be considered for consensus, they need to pass that test. Also, suppose we do switch to the other fork, other validators would be immediately able to publish from that chain head. The restriction on block numbers is only for preventing a validator going back, not going forward on the chain.","username":"amolk","ts":"2018-08-28T14:59:49.639Z"}
{"msg":"@amolk would be cool to see a network run where we didn't run off z test :)","username":"amundson","ts":"2018-08-28T15:01:32.966Z"}
{"msg":"yeah, i mixed up the direction.","username":"jsmitchell","ts":"2018-08-28T15:02:22.949Z"}
{"msg":"@amolk the focus on only comparing chain head could result in a parallelization boost in transaction processing, by feeding more than one block to the parallel scheduler at a time. currently we serialize at block boundaries but if block-height comparisons are irrelevant, then there is no reason to not try and get that efficiency boost.","username":"amundson","ts":"2018-08-28T15:09:09.048Z"}
{"msg":"That's an interesting thought. We can certainly give it a try.","username":"amolk","ts":"2018-08-28T15:10:54.622Z"}
{"msg":"@amolk in poet 1 testing we basically disable z-test because it can kill liveness with even 10 node networks","username":"jsmitchell","ts":"2018-08-28T15:12:03.690Z"}
{"msg":"FYI - I removed branch ryjones-patch-1 from sawtooth-raft repo","username":"amundson","ts":"2018-08-28T15:27:18.437Z"}
{"msg":"which, as it turns out, is kind of an elaborate process","username":"amundson","ts":"2018-08-28T15:27:53.110Z"}
{"msg":"The permissions and settings on sawtooth-raft have changed. The permissions now (almost) match the maintainers file, and the settings are more in-line with our other sawtooth repos.","username":"amundson","ts":"2018-08-28T15:29:21.807Z"}
{"msg":"just chiming in here on the PoET2 thread - a very high level observation is that longest chain seems inconsistent with how nakamoto consensus is typically done, which is really 'most work' chain","username":"kelly_","ts":"2018-08-28T20:30:50.910Z"}
{"msg":"so if you had a long running fork, where there were 3 validators with a lower local mean (difficulty), and 7 validators at higher local mean (difficulty), for a given block height you should select the one with a higher local mean","username":"kelly_","ts":"2018-08-28T20:32:38.110Z"}
{"msg":"chain length can be manipulated by adding a lot of nodes after difficulty is reset","username":"kelly_","ts":"2018-08-28T20:33:59.926Z"}
{"msg":"or let's say a network forked at genesis, 3 nodes on one chain and 7 on another. if the 3 node chain is at 20 blocks, and the 7 node is at 10, the 7 node chain is still the 'most work' chain (3*20 < 10*7)","username":"kelly_","ts":"2018-08-28T20:38:11.903Z"}
{"msg":"otherwise you aren't getting security up to 49% attack, it is just 'luckiest' fork wins","username":"kelly_","ts":"2018-08-28T20:41:40.479Z"}
{"msg":"Bitcoin's block chain system is really two quite separate systems, and they are easily confused. The first one is the block tree and the second is the active chain.\n\nThe block tree consists of all valid blocks whose entire ancestry is known, up to the genesis block. The rules for validness include no double spending, valid signatures, no introduction of more currency than allowed, ... These are the network rules, and every full Bitcoin node verifies them.\n\nThe active chain is one path from genesis block at the top to some leaf node at the bottom of the block tree. Every such path is a valid choice, but nodes are expected to pick the one with the most \"work\" in it they know about (where work is loosely defined as the sum of the difficulties). Relativity and technological constraints prevent us from doing instant communication across the globe, so two nodes can not be expected to pick the same chain as the active one. This is no problem: the mining mechanism makes sure that the chance two nodes disagree about blocks in the past decreases exponentially as they are older.\n\nSo no, there is not one \"right chain\", there are many. Nodes choose for themselves, but the system is designed to make sure consensus arises quickly.\n\nThe rules in practice are this: when a new block arrives, and it extends the previous active chain, we just append it to the active chain. If not, it depends on whether the branch it extends now has more work than the currently active branch. If not, we store the block and stop. If it does have more work, we do a so called \"reorganisation\": deactivating blocks from the old branch, and activating blocks from the new branch.","username":"kelly_","ts":"2018-08-28T21:09:20.014Z"}
{"msg":"^thats a description of Bitcoin's system, so I guess the thing I'm talking about is making sure a long chain with low difficulty doesn't become the active chain","username":"kelly_","ts":"2018-08-28T21:10:06.692Z"}
{"msg":"@MicBowman can you shed light on the fork resolution prioritization of longest chain wins in poet2 vs. largest aggregate local mean in poet1?","username":"Dan","ts":"2018-08-30T02:56:18.612Z"}
{"msg":"@dan  in the spec we developed, the block contains the random number generated... that number can be used by each validator to compute the expected wait time (by computing the expected local mean and multiplying it by the random number). the nice part about the random number is that it abstracts the local mean calculation... so a small population will *probably* generate larger average random numbers than a large population. So... for equal length chains, you can always pick the one with the smaller sum of the random numbers","username":"MicBowman","ts":"2018-08-30T20:22:09.562Z"}
{"msg":"if one chain has n blocks and the other m blocks (n>m), then another easy test...  if the sum of the random numbers in chain 1 through block m is less than the sum of chain 2 (through its last block m), then you pick chain 1","username":"MicBowman","ts":"2018-08-30T20:26:31.006Z"}
{"msg":"so the only interesting case is where you chain one has a higher random number sum than chain 2 through block m... question is do you wait for the next block on chain 2 (which still could be preferred over chain 1) or just take the longer chain","username":"MicBowman","ts":"2018-08-30T20:29:12.831Z"}
{"msg":"Has joined the channel.","username":"wchang","ts":"2018-08-31T00:13:53.359Z","type":"uj"}
{"msg":"Has joined the channel.","username":"knkski","ts":"2018-08-31T14:17:46.419Z","type":"uj"}
{"msg":"Hmmm the ole SSoRNaSH method eh? (Smallest Sum of Random Numbers at Same Height) ;) \nI'm not coming up with a reasonable case where I can challenge longest fork first is wrong.\nOne I thought about was a long-lived small clique, but that clique will be disadvantaged especially when it first forks and it believes its part of a larger network.  ","username":"Dan","ts":"2018-08-31T15:17:45.698Z"}
{"msg":"@Dan you're pretty much where we've been... the distribution of the raw random numbers (which was implicit in the local mean/duration computation from poet v1) is a reasonable indicator for population size","username":"MicBowman","ts":"2018-08-31T15:36:37.197Z"}
{"msg":"don't know if hart follows this channel, but he's been doing some work on alternate distributions and estimators that looks very promising","username":"MicBowman","ts":"2018-08-31T15:37:15.233Z"}
{"msg":"I also don't know if @hartm follows this channel or if my blatant at'ing there will work ;)","username":"Dan","ts":"2018-08-31T16:05:24.584Z"}
{"msg":"Has joined the channel.","username":"hartm","ts":"2018-08-31T16:05:24.950Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sureshtedla","ts":"2018-08-31T17:31:44.633Z","type":"uj"}
{"msg":"Your at-ing does work!  There are too many channels to follow these days...","username":"hartm","ts":"2018-08-31T20:33:20.689Z"}
{"msg":"Yes, we have been doing a theoretical analysis of PoET.  I can talk more about it if you like.","username":"hartm","ts":"2018-08-31T20:34:56.928Z"}
{"msg":"The focus is on 1) a proof of security for the consensus algorithm and 2) mathematically rigorous statements about optimal distributions and estimators.","username":"hartm","ts":"2018-08-31T20:38:16.772Z"}
{"msg":"We also have a couple of protocol tweaks that we think might help (but aren't sure yet) for certain networks.","username":"hartm","ts":"2018-08-31T20:39:08.601Z"}
{"msg":"Yes way too many channels. :) \nDefinitely interested to know more about both points.\nThis current thread of discussion is about fork resolution for what we're calling PoET 2, which is PoET that doesn't rely on the TEE to enforce wait time, only relying on the TEE to generate the fair random.\nThe assertion in this model is that the longest chain is the best fork resolution decision. When their are two equal length chains, sum the random numbers and choose the smallest sum (as the randoms are analogs of wait times). \nPreviously we relied on population estimates, but those are also just functions of the distribution of the random numbers so in a sense summing the randoms is more direct.\nIf you had some thoughts on the distributions that would effect that thinking please chime in.\nAnd if not sorry to have tricked you into reading this much babble. :) ","username":"Dan","ts":"2018-08-31T21:28:35.255Z"}
{"msg":"@amolk DM'd me that he has some updates based on @MicBowman  's feedback but DCO or something is in the way. Anyway the current version of the spec is here: https://github.com/hyperledger/sawtooth-rfcs/pull/20","username":"Dan","ts":"2018-08-31T21:30:31.905Z"}
{"msg":"OK.  I'm going to be gone for the next week and a half, but I was planning on talking to @MicBowman about some of this stuff when I get back.  I'd be happy to include you if you like.","username":"hartm","ts":"2018-08-31T21:40:28.469Z"}
{"msg":"Wait, you're just going on longest chain?  It seems to me like the algorithm wouldn't work in this case--a small group could fork, wait for the \"difficulty\" to go down, and then add in a bunch of new members and use these to pass the main chain in terms of length.  Why isn't this a valid attack?  I don't see how you can avoid incorporating a population estimate (or some correlated statistic) to compare forks of different lengths if the \"mining difficulty\"\nis allowed to change quickly.","username":"hartm","ts":"2018-08-31T21:48:36.999Z"}
{"msg":"","username":"jsmitchell","ts":"2018-08-31T22:48:00.325Z"}
{"msg":"Guys, I was talking with a friend, and got a interesting thought... Bitcoin (like all cryptocoins) is based on a finite set of resources that people compete (mine) for, and the competition generate the chain.\n\nSawtooth, in the other hand, is based on trust of the information inside the blocks, in a no-competing way.\n\nI think that, based on that, the concept of \"longest chain\" could be changed to something more like the Channels on Fabric.\n\nSay, if a Validator was kept out of the network for, say, 1 hours, and only get transactions that it deemed valid and only in addresses that weren't seen on the \"main block\", why would it drop all of them ?","username":"LeonardoCarvalho","ts":"2018-09-01T12:25:01.425Z"}
{"msg":"\"main chain\", I mean","username":"LeonardoCarvalho","ts":"2018-09-01T12:25:23.536Z"}
{"msg":"@hartm if you haven't had a chance to read through it, there is a PoET 2 RFC doc here - https://github.com/hyperledger/sawtooth-rfcs/pull/12 ; it is nearing acceptance I think, but now is still a good time to add comments and/or questions","username":"amundson","ts":"2018-09-03T16:18:49.218Z"}
{"msg":"@amundson Thanks for the link!  I added a question.","username":"hartm","ts":"2018-09-03T16:55:30.945Z"}
{"msg":"@hartm see above for what I mean by \"longest chain\"","username":"MicBowman","ts":"2018-09-04T16:04:50.814Z"}
{"msg":"we keep the raw random number generated in the blocks & use that as the differentiator... that is... its the pre-difficulty level differentiator","username":"MicBowman","ts":"2018-09-04T16:06:25.934Z"}
{"msg":"the only question that is really of issue is under what circumstances a short chain (that had a lower sum of random numbers at equal length... which kills all of the small group attacks) should be chosen over a longer chain","username":"MicBowman","ts":"2018-09-04T16:08:13.396Z"}
{"msg":"Hi I am experiencing some difficulties with the sawtooth_sdk.consensus.engine interfaces. Specifically related to the message types being passed around by ZMQ. I noticed in the ZMQ driver can process peer connect/disconnect events. I based my implementation of engine off of the https://github.com/hyperledger/sawtooth-poet.git repository. \n\nMy bootstrap/genesis node keeps outputting the following logs when I try to add more peers. They negotiate their connection fine on the validator logs, but this is what I see on the engine logs:\n\n```\n[2018-09-04 21:24:17.519 DEBUG    selector_events] Using selector: ZMQSelector\n[2018-09-04 21:24:22.913 INFO     oracle] Loading signing key: /etc/sawtooth/keys/validator.priv\n[2018-09-04 21:24:22.914 DEBUG    selector_events] Using selector: ZMQSelector\n[2018-09-04 21:24:23.019 DEBUG    consensus_state_store] Create consensus store: /var/lib/sawtooth/poet_consensus_state-024a58d5.lmdb\n[2018-09-04 21:24:23.021 DEBUG    cs_key_state_store] Create PoET key state store: /var/lib/sawtooth/poet-key-state-024a58d5.lmdb\n[2018-09-04 21:24:23.039 INFO     cs_enclave_factory] Load PoET enclave module: chronoshift_simulator.chronoshift_enclave_simulator.chronoshift_enclave_simulator; Target wait time: 20.000000; Initial wait time: 5.000000; Population estimate sample size: 50; \n[2018-09-04 21:24:23.220 DEBUG    chronoshift_enclave_simulator] PoET enclave simulator creating anti-Sybil ID from: 2018-09-04T21:24:23.220345\n[2018-09-04 21:24:23.225 DEBUG    cs_block_publisher] PoET public key 02be3692...a1863208 in validator registry not found in key state store.  Sign up again\n[2018-09-04 21:24:23.228 INFO     cs_block_publisher] Register Validator Name=validator-024a58d5, ID=024a58d5...7ff7d950, PoET public key=033c8941...8624e8aa, Nonce=1aea563f474783d2627b45912161aa06\n[2018-09-04 21:24:23.234 INFO     cs_block_publisher] Save key state PPK=033c8941...8624e8aa => SSD=eyJjb3Vu...OGFhIn0=\n[2018-09-04 21:25:20.279 DEBUG    engine] Received message: CONSENSUS_NOTIFY_PEER_CONNECTED\n[2018-09-04 21:25:20.279 ERROR    engine] Unknown type tag: CONSENSUS_NOTIFY_PEER_CONNECTED \n```\n\nAny Ideas? The logs on the validator side during this negotiation looks like this : \n```\n[2018-09-04 21:25:18.256 DEBUG    base] ALLOWED (CURVE allow any client)\n[2018-09-04 21:25:18.256 DEBUG    base] ZAP reply code=b'200' text=b'OK'\n[2018-09-04 21:25:18.257 DEBUG    handlers] got connect message from 4aeb992cce80c263c6acc67cb976278a3b67dd7ad927c3ceb855f6d091a25b56af99936f6c6405712e496781d889b1c807d21dd0ec5c42ac94b0c5400df066ef. sending ack\n[2018-09-04 21:25:18.258 DEBUG    handlers] Endpoint of connecting node is tcp://berlin-service.tommling.svc:8800\n[2018-09-04 21:25:18.258 DEBUG    interconnect] Determining whether inbound connection should be allowed. num connections: 1 max 100\n[2018-09-04 21:25:18.258 DEBUG    handlers] Allowing incoming connection: 4aeb992cce80c263c6acc67cb976278a3b67dd7ad927c3ceb855f6d091a25b56af99936f6c6405712e496781d889b1c807d21dd0ec5c42ac94b0c5400df066ef\n[2018-09-04 21:25:18.262 DEBUG    handlers] Connection: 4aeb992cce80c263c6acc67cb976278a3b67dd7ad927c3ceb855f6d091a25b56af99936f6c6405712e496781d889b1c807d21dd0ec5c42ac94b0c5400df066ef is approved\n[2018-09-04 21:25:18.274 DEBUG    gossip_handlers] Got peers request message from 4aeb992cce80c263c6acc67cb976278a3b67dd7ad927c3ceb855f6d091a25b56af99936f6c6405712e496781d889b1c807d21dd0ec5c42ac94b0c5400df066ef\n[2018-09-04 21:25:18.279 DEBUG    handlers] got disconnect message from 4aeb992cce80c263c6acc67cb976278a3b67dd7ad927c3ceb855f6d091a25b56af99936f6c6405712e496781d889b1c807d21dd0ec5c42ac94b0c5400df066ef. sending ack\n\n```\n","username":"tommling","ts":"2018-09-04T22:09:25.758Z"}
{"msg":"are you more or less on head of sawtooth-core?","username":"Dan","ts":"2018-09-04T22:10:41.027Z"}
{"msg":"@MicBowman That's exactly the question I'm asking.  Suppose f(chain, block) = the sum of all the population estimates for all of the blocks after the input block.  Why couldn't you just always take the fork with the higher value of f? ","username":"hartm","ts":"2018-09-04T22:17:46.619Z"}
{"msg":"This is the most direct analogy to picking which fork has had the most \"work\" done on it.","username":"hartm","ts":"2018-09-04T22:26:43.820Z"}
{"msg":"@hartm i just sent the analysis that we did (a year ago) on this. it should have come through on the comments on the rfc","username":"MicBowman","ts":"2018-09-04T23:39:40.552Z"}
{"msg":"a lot of this is trying to reconstruct the logic that went behind the design decisions... i definitely need to write better notes to myself","username":"MicBowman","ts":"2018-09-04T23:41:19.658Z"}
{"msg":"_(also pick up milk today)_","username":"Dan","ts":"2018-09-05T13:58:39.150Z"}
{"msg":"@Dan Yeah, if that was directed towards me.  Was there a recent change that introduced these messages?","username":"tommling","ts":"2018-09-05T20:11:28.647Z"}
{"msg":"I recall something in the commit history (about consensus engine connections not milk) lemme see if I can pull it up.","username":"Dan","ts":"2018-09-05T20:16:10.812Z"}
{"msg":"Many thanks","username":"tommling","ts":"2018-09-05T20:17:37.903Z"}
{"msg":"I think this is what i was thinking of... not real recent \n```commit 5b2465073f2444e2be9787ccb63cf908575de1c0\nAuthor: Logan Seeley <seeley@bitwise.io>\nDate:   Thu Jul 26 15:36:01 2018 -0500\n\n    Prevent notifying until engine registered\n    \n    Prevents the Consensus Notifier from sending notifications until a\n    Consensus Engine has been registered. The notifier should not send\n    messages to the engine until it has been registered. This was causing a\n    lock-up when the two components were waiting on each other in\n    test_peer_list.\n    ```","username":"Dan","ts":"2018-09-05T20:17:59.502Z"}
{"msg":"I see","username":"tommling","ts":"2018-09-05T20:23:41.394Z"}
{"msg":"This may be affecting us because I am using the nightly builds for my engine","username":"tommling","ts":"2018-09-05T20:23:58.205Z"}
{"msg":"@MicBowman Can you send it again?  I didn't get it.  And is there a simple answer why what I proposed won't work?  Thanks!","username":"hartm","ts":"2018-09-05T22:36:44.849Z"}
{"msg":"I think short answer is that the pop est. is derived from the randoms so it's all functions of the same source information. Mic has a more thorough reply though. https://github.com/hyperledger/sawtooth-rfcs/pull/20","username":"Dan","ts":"2018-09-06T01:18:36.592Z"}
{"msg":"Has joined the channel.","username":"qiang0723","ts":"2018-09-06T01:27:15.634Z","type":"uj"}
{"msg":"@Dan Thanks!  I'll respond to him there. ","username":"hartm","ts":"2018-09-06T09:23:21.452Z"}
{"msg":"@hartm not sure how best to have the discussion... but just to point out the that your W effectively reduces to sum of the random numbers, right?","username":"MicBowman","ts":"2018-09-06T14:12:12.824Z"}
{"msg":"not exactly... because of the minimum of a set of number taken from uniform distribution is not uniform... 1/(n+1) right?","username":"MicBowman","ts":"2018-09-06T14:15:05.133Z"}
{"msg":"that is E(min(x1...xn)) == 1/(n+1) if xn are uniformly distributed 0 to 1","username":"MicBowman","ts":"2018-09-06T14:17:19.778Z"}
{"msg":"@MicBowman Not exactly.  If my fork has more blocks with lower random numbers and yours has fewer blocks with higher random numbers, the sum would be the same, but my W would be much higher than yours.  This is intended behavior--my fork should clearly win here.","username":"hartm","ts":"2018-09-07T06:41:25.382Z"}
{"msg":"If we did the (terrible, and not good) population estimator of 1 / (random number) * c for some constant c, then W would reduce to something like c * \\sum_{i} { 1/ rand_{i}}, which is clearly not the same as summing random numbers.  ","username":"hartm","ts":"2018-09-07T06:43:27.651Z"}
{"msg":"(Ugh, my \"*\" got interpreted as bold()","username":"hartm","ts":"2018-09-07T06:43:56.819Z"}
{"msg":"(And my statement should say, \"the sum *could* be the same\" not *would*).  It's early in Europe.","username":"hartm","ts":"2018-09-07T06:44:44.800Z"}
{"msg":"To \"sum\" this up:  suppose I have a fork with 8 blocks with numbers (1, 2, 2, 3, 2, 1, 3, 1).  Now suppose Mic has a fork with 4 blocks with numbers (4, 4, 3, 5).  Note that the sum of the random numbers in both cases is 15, but my fork should clearly win.  If we use the (bad!!) population estimator c (x) 1/r (where r is the randomness value), my value for W = c (x) [ 1/1 + 1/2 + 1/2 + 1/3 + 1/2 + 1/1  + 1/3 + 1/1] whereas Mic's W = c (x) [1/4 + 1/4 + 1/3 + 1/5].  Clearly my W is higher than Mic's as desired.","username":"hartm","ts":"2018-09-07T10:03:12.594Z"}
{"msg":"Is this making sense at all (Mic or others)?","username":"hartm","ts":"2018-09-07T10:03:42.168Z"}
{"msg":"@hartm but if you look at my description... everything is couched in terms of chain length... the only case that is of any interest at all is where a shorter chain has a higher population estimate for an equal length prefex... and in that case, you have to drop the math and start thinking about systems... *why* did it end up that way","username":"MicBowman","ts":"2018-09-07T14:53:44.664Z"}
{"msg":"Hmmmm.  My point is that \"total chain work\" is a much better first metric than chain length.  I'm in rural Bavaria right now and my internet is approximately a trickle, but I'll follow up later on this.","username":"hartm","ts":"2018-09-09T08:29:44.897Z"}
{"msg":"Has joined the channel.","username":"raviyelleni","ts":"2018-09-09T09:09:10.681Z","type":"uj"}
{"msg":"Has joined the channel.","username":"arsulegai","ts":"2018-09-11T18:57:48.939Z","type":"uj"}
{"msg":"OK, finally back in the office.  Would people be OK having a discussion on this at the hackfest in Montreal (and do we have enough of the core people to discuss this)?  I've managed to convince myself that judging which fork to take based on \"total work\" is a better metric than going first with chain length, then considering random numbers (they may be equivalent, but this is non-obvious and needs to be proven if it is indeed the case), but I doubt I'll be able to convince others without a formal paper or time in-person.","username":"hartm","ts":"2018-09-13T18:55:42.022Z"}
{"msg":"I think @Dan @MicBowman and I will be in Montreal","username":"kelly_","ts":"2018-09-13T19:08:52.174Z"}
{"msg":"sounds good to me","username":"Dan","ts":"2018-09-13T19:12:30.513Z"}
{"msg":"@hartm i'm with you on the total work thing. I also don't doubt that Mic is right re: chain length (cause he's a smart dude) but it's not intuitive to me","username":"kelly_","ts":"2018-09-13T19:15:44.179Z"}
{"msg":"I'm also not a PoET2 expert either though..","username":"kelly_","ts":"2018-09-13T19:16:10.610Z"}
{"msg":"Awesome, let's chat in Montreal then.","username":"hartm","ts":"2018-09-13T19:17:34.704Z"}
{"msg":"@kelly_ Yeah, it's entirely possible that the cases I know that are \"bad\" for the chain length metric are not reachable in practice, but we need to prove this if we want to use the chain length metric (for instance, if somehow I have a fork with numbers 1,2,1,2,2 and Mic has a fork with numbers 4,5,6,8,1 then Mic's policy would dictate we take his fork and not mine, although we should probably take mine--but this fork pattern is unlikely since my fork will have probably existed in its current state before Mic's third and fourth blocks). ","username":"hartm","ts":"2018-09-13T19:20:24.711Z"}
{"msg":"temporary network segmentation is a reasonable consideration","username":"Dan","ts":"2018-09-14T13:10:33.993Z"}
{"msg":"@Dan Yeah, I think I can prove security if we fork based on a \"total work\" metric.  I'm not sure about the case where you go with chain length first, and I'm worried that there may in fact be network segmentation attacks if the chain length forking policy doesn't agree with the total work policy.         ","username":"hartm","ts":"2018-09-14T17:08:04.990Z"}
{"msg":"This worries me......\nhttps://people.cs.kuleuven.be/~jo.vanbulck/ccs18.pdf\n\nWhat is the reaction from the folk in the know?","username":"Southside","ts":"2018-09-14T18:35:03.958Z"}
{"msg":"Is this the effective end of SGX and hence PoET?","username":"Southside","ts":"2018-09-14T18:35:35.271Z"}
{"msg":"My apologies if this sounds somewhat alarmist but it seems like a serious vulnerability  - Hopefully you good people can reassure me but right now, I need to look at alternatives to PoET","username":"Southside","ts":"2018-09-14T18:55:08.977Z"}
{"msg":"@Southside You're a paper behind!  The current paper is much more damaging:  https://www.usenix.org/system/files/conference/usenixsecurity18/sec18-van_bulck.pdf.  However, these are mostly just system \"bugs\" and I believe that the most damaging attacks are in the process of being patched, if they haven't been patched already (someone from Intel on this list can say more).  It's definitely not the end of SGX, but definitely qualifies as a \"zero-day\" bug.","username":"hartm","ts":"2018-09-14T19:09:40.834Z"}
{"msg":"@Southside I take that back.  Sorry!  You're not a paper behind, I was too hasty.","username":"hartm","ts":"2018-09-14T19:11:06.907Z"}
{"msg":"@Southside It is a serious vulnerability, but I doubt it will be the effective end of SGX (or trusted hardware in general, since the attack applies to a lot of trusted hardware).  If you're really concerned, you may want to PM some of the Intel people on this channel.","username":"hartm","ts":"2018-09-14T21:15:27.570Z"}
{"msg":"PoET is designed to accommodate non-scalable attacks on the TEE... and many who run PoET today, do so without SGX (the z-test is very effective in any permissioned environment)","username":"MicBowman","ts":"2018-09-14T22:12:25.303Z"}
{"msg":"Thank you @MicBowman  and @hartm ","username":"Southside","ts":"2018-09-15T16:04:30.616Z"}
{"msg":"Sawtooth PBFT component is being (formally) proposed in #sawtooth-governance. Related to https://github.com/hyperledger/sawtooth-rfcs/pull/19 and https://github.com/bitwiseio/sawtooth-pbft.","username":"amundson","ts":"2018-09-17T16:52:52.531Z"}
{"msg":"@tommling RE: `[2018-09-04 21:25:20.279 ERROR    engine] Unknown type tag: CONSENSUS_NOTIFY_PEER_CONNECTED `, I believe in the PoET engine that this should actually be logged at the WARNING or INFO level, as the message should is just ignored (as it should be with PoET). In general, if you are building a new consensus engine, I would not look to the Sawtooth PoET Python implementation as a good reference, as it is adapting an old interface to a new interface. It would be better to take a look at how the Sawtooth Raft or Sawtooth PBFT engines were implemented, as these were built from the ground up to work with the new API.","username":"adamludvik","ts":"2018-09-18T15:39:55.556Z"}
{"msg":"@adamludvik Thank-you for the response. I became that it was not an error after I got the endpoints correct. The consensus algorithm I wrote actually just hybridizes another transaction family with PoET. Now there is a Stake transaction family and a Registry transaction family. The stake addresses are used instead of the anti sybil id, because the stake is finite it can be used instead.","username":"tommling","ts":"2018-09-18T20:07:16.158Z"}
{"msg":"@adamludvik Thank-you for the response. I became aware that it was not an error after I got the endpoints correct. The consensus algorithm I wrote actually just hybridizes another transaction family with PoET. Now there is a Stake transaction family and a Registry transaction family. The stake addresses are used instead of the anti sybil id, because the stake is finite it can be used instead.","username":"tommling","ts":"2018-09-18T20:07:16.158Z"}
{"msg":"@adamludvik Thank-you for the response. I became aware that it was not an error after I got the endpoints correct. The consensus algorithm I wrote actually just hybridizes another transaction family with PoET. Now there is a Stake transaction family and a Registry transaction family. The stake addresses are used instead of the anti sybil id, because the stake is finite and unique it can be used instead.","username":"tommling","ts":"2018-09-18T20:07:16.158Z"}
{"msg":"@Dan @kelly_ @hartm based on the above conversation, is it correct that we are not ready yet for an FCP vote for the PoET RFC, and that we will do one after the hackfest?","username":"amundson","ts":"2018-09-18T21:49:20.333Z"}
{"msg":"If we are going to resolve this at the hackfest we'll want it on the agenda. ","username":"Dan","ts":"2018-09-18T23:52:57.555Z"}
{"msg":"Ok, added to an almost empty agenda","username":"Dan","ts":"2018-09-18T23:55:05.126Z"}
{"msg":"do we know of any other open issues with the RFC that we need to discuss?","username":"amundson","ts":"2018-09-19T00:05:10.621Z"}
{"msg":"Have you all looked at the following paper:  https://eprint.iacr.org/2016/1048.pdf?  There are some interesting attacks on the general bitcoin protocol without modifications (see https://eprint.iacr.org/2013/868.pdf for an example of such an attack on the difficulty mechanism) that I'd like to make sure can't be used on PoET.  I'd like to make sure that these kinds of attacks can't be done, even in the presence of a (small-ish) number of compromised enclaves.","username":"hartm","ts":"2018-09-19T00:40:17.643Z"}
{"msg":"I have another question.  Is there an up-to-date document explaining the z-test?  I can find the one for PoET 1, but the PoET 2 spec doesn't have it.  I'm a bit concerned about the following fact:  the z-test only addresses block wins rather than the randomness sampled.  I'm worried that some of the block difficulty attacks on the bitcoin backbone can get amplified big time here, since we are estimating population based on the randomness sampled, and the z-test documentation that I found doesn't address the randomness itself, other than the block wins.  Intuitively, if I'm sampling a 256-bit number, and I sample, say, 1, then the z-test should toss this.  Otherwise the impact on the population estimate may be huge, particularly if I have enough compromised enclaves to cover the population estimator's window.  There are relatively easy mitigations to this attack, but it still might be good to check by *how much* someone is winning blocks. ","username":"hartm","ts":"2018-09-19T00:53:16.648Z"}
{"msg":"I'll ask again:  is this the current z-test being used:  https://sawtooth.hyperledger.org/docs/core/releases/1.0/architecture/poet.html#z-test ?  ","username":"hartm","ts":"2018-09-20T14:01:07.402Z"}
{"msg":"Thanks!","username":"hartm","ts":"2018-09-20T14:01:08.977Z"}
{"msg":"@amolk ^","username":"kelly_","ts":"2018-09-20T14:09:44.343Z"}
{"msg":"Yes","username":"amolk","ts":"2018-09-20T14:41:41.031Z"}
{"msg":"I think @hartm was also wondering if it has changed since 1.0, and if there is documentation on z-test in 2.0","username":"kelly_","ts":"2018-09-20T15:00:45.924Z"}
{"msg":"We're using the same Z-test. There's no separate documentation about the various tests in the PoET 2 RFC. ","username":"amolk","ts":"2018-09-20T17:07:33.493Z"}
{"msg":"@amolk @kelly_  Thanks!  I discussed this with Mic some this morning and we're planning on having a follow-up discussion tomorrow.","username":"hartm","ts":"2018-09-20T17:30:56.306Z"}
{"msg":"@adamludvik @ltseeley have we done any crash fault tests with sawtooth-raft?","username":"Dan","ts":"2018-09-20T20:52:40.081Z"}
{"msg":"Yeah, Raft continues to make progress when an engine goes down but the raft engine was not restarting correctly. We have been spending the last week fixing it and this should be the last change needed: https://github.com/hyperledger/sawtooth-raft/pull/30","username":"adamludvik","ts":"2018-09-20T21:01:39.488Z"}
{"msg":"I have updated the Consensus Engine API RFC to reflect changes made during implementation. Going to work on documentation next: https://github.com/hyperledger/sawtooth-rfcs/pull/4/commits/7355af743cd0c15674318a7fbd0e8b9112c440a4","username":"adamludvik","ts":"2018-09-21T20:28:30.920Z"}
{"msg":"@Dan ^","username":"adamludvik","ts":"2018-09-21T20:32:15.269Z"}
{"msg":"@ltseeley what is the longest LR run you've done with sawtooth-raft?","username":"Dan","ts":"2018-09-25T15:21:38.778Z"}
{"msg":"The longest run I recorded was almost 17 hours","username":"ltseeley","ts":"2018-09-25T15:22:32.232Z"}
{"msg":"cool. did that end at 17hrs because of failure or were you just done with some other criteria?","username":"Dan","ts":"2018-09-25T15:23:00.098Z"}
{"msg":"I stopped it to run it with different parameters; no failures.","username":"ltseeley","ts":"2018-09-25T15:24:07.076Z"}
{"msg":"Are you interested in running a Raft network for a longer period of time?","username":"ltseeley","ts":"2018-09-25T15:24:27.426Z"}
{"msg":"Our release criteria for sawtooth 1.1/bumper is raft passing LR1","username":"Dan","ts":"2018-09-25T15:25:02.666Z"}
{"msg":"Got it. Couple questions: is there a specific node count that is required for this LR1 run to meet the criteria? And has there been any discussion yet on a particular commit to use for the release?","username":"ltseeley","ts":"2018-09-25T15:30:48.071Z"}
{"msg":"hmmm good questions. I don't have a strong opinion on the node count. Top end would be 10. I feel like 5 is low end. People might run 3 node nets but that seems kind of pointless for a blockchain. ","username":"Dan","ts":"2018-09-25T15:39:35.496Z"}
{"msg":"As far as commit.. one criteria is whether we introduce new dependencies that need a licensing scan. I recall the LRU addition recently. I think that's already being scanned for sawtooth core but not completely sure about that. ","username":"Dan","ts":"2018-09-25T15:41:28.692Z"}
{"msg":"the commit will be the head of master at the time we tag it","username":"amundson","ts":"2018-09-25T15:44:46.819Z"}
{"msg":"Has joined the channel.","username":"thou_shalt","ts":"2018-09-27T06:38:42.481Z","type":"uj"}
{"msg":"Hello, can somebody help with instructions how to write own consensus engine using pyhon sdk from sawtooth_sdk.consensus .Some simple example for instance .","username":"thou_shalt","ts":"2018-09-27T06:46:02.661Z"}
{"msg":"the only example atm is poet. poet is shimmed in from the approach that preceded engines so it's not a good example. The more recent examples are written in rust. This design doc may be of help to you:\nhttps://github.com/hyperledger/sawtooth-rfcs/pull/4/files","username":"Dan","ts":"2018-09-27T12:40:22.148Z"}
{"msg":"Has joined the channel.","username":"sivak2018","ts":"2018-09-29T04:25:52.375Z","type":"uj"}
{"msg":"Has joined the channel.","username":"AshishBanerjee","ts":"2018-09-29T07:37:57.732Z","type":"uj"}
{"msg":"Has joined the channel.","username":"fz","ts":"2018-09-30T01:50:01.083Z","type":"uj"}
{"msg":"Has joined the channel.","username":"phaniac","ts":"2018-10-01T18:17:45.990Z","type":"uj"}
{"msg":"@Dan @kelly_ @amundson Any objections to moving the consensus RFC to FCP? https://github.com/hyperledger/sawtooth-rfcs/pull/4","username":"adamludvik","ts":"2018-10-03T16:07:01.559Z"}
{"msg":"I think we all need to vote to accept it first? and then we move it to FCP?","username":"Dan","ts":"2018-10-03T17:19:09.851Z"}
{"msg":"I think we all need to vote to accept it first and then we move it to FCP 7 days therafter.","username":"Dan","ts":"2018-10-03T17:19:09.851Z"}
{"msg":"n/m I think we had all thumbs up or approved the PR in the past and then moved to FCP. It doesn't explicitly say that in the governance RFC though. It's just when we hit a steady state that the shepherd proposes FCP.","username":"Dan","ts":"2018-10-03T17:33:42.964Z"}
{"msg":"Having written the process down, you'd think I would remember it..","username":"adamludvik","ts":"2018-10-03T18:21:34.529Z"}
{"msg":"@hartm @MicBowman Did you get a chance to discuss the fork resolution for PoET at Montreal?","username":"amolk","ts":"2018-10-04T05:29:02.343Z"}
{"msg":"@amolk  It's on the agenda for today.","username":"hartm","ts":"2018-10-04T12:14:40.755Z"}
{"msg":"Has joined the channel.","username":"bur","ts":"2018-10-08T08:31:47.285Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hedrickw","ts":"2018-10-08T14:40:41.029Z","type":"uj"}
{"msg":"ltavag","username":"hedrickw","ts":"2018-10-08T14:56:33.754Z"}
{"msg":"Here's my notes @amolk https://lists.hyperledger.org/g/tsc/message/1697","username":"Dan","ts":"2018-10-08T20:18:12.851Z"}
{"msg":"Thanks @Dan @MicBowman @hartm for the clarification on the fork resolution. So to summarize, the winner will be the fork having the larger population, rather than the longest chain. Ties will be broken by the smaller duration value in the wait certificate. ","username":"amolk","ts":"2018-10-09T01:48:44.068Z"}
{"msg":"Just to be clear, it's the sum of the population estimates of all of the blocks on the fork.","username":"hartm","ts":"2018-10-09T04:19:43.234Z"}
{"msg":"Apologies in advance for the long post.. calling @Dan, @MicBowman, @hartm, @jsmitchell, @amundson for your input on the following consensus problem.\n\nI am researching if and how consensus algorithms solve the \"fair ordering\" problem. In general, fair ordering means that a Byzantine node can not order transactions in a way that unfairly benefits that node. This problem is not interesting in lottery-type algorithms, because the probability of a single node winning and being able to take advantage of unfair ordering is small enough that it is ignored.\n\nThis problem is important in voting-type algorithms with a long-term leader, such as many PBFT variants. A malicious leader can, in some cases, participate in a protocol perfectly but manipulate the ordering to its benefit by:\n\n1. Manipulating the order of a given set of transaction to its benefit\n2. Generating and inserting new transactions into the ordering to its benefit\n3. Withholding submitted transactions from the ordering to its benefit\n\nOne thing that makes this problem hard is that, without application-specific knowledge from the transactions, it is difficult to tell if an ordering actually benefits the leader or if \"random noise\" caused the ordering to be substantially different than the expected ordering.\n\nI have been able to come up with two partial solutions to this problem within the context of solving it for sawtooth-pbft. The first is to have followers compute a heuristic or \"probability that the ordering is fair\" and to start a new election if they determine the leader appears to be manipulating the order. The second is inspired by the original PBFT paper by Castro and Liskov and applies to the ordering of batches within blocks.\n\nI have described one example of a heuristic that prevents excluding batches indefinitely here: https://gist.github.com/aludvik/164a9c0a7419b758e54190c4a0dfa72b This solution is somewhat inspired by the PoET z-test.\n\nFor the second solution, the relevant portion of the PBFT paper is section 4.6 on non-determinism. (Paper found here: http://pmg.csail.mit.edu/papers/osdi99.pdf) If we treat the batch ordering as non-deterministic (because of network latency, dictionary iteration order, etc.), then we can use some application of what is described in 4.6. An example would be to have all followers vote on the batch ordering for the next block before it is published and to require that the leader decide which batches to include by some deterministic computation over 2f+1 of the votes. This creates a smaller new problem to deal with, which is that malicious followers can vote for bogus batch ids, but I think a clever computation should be able to resolve it.\n\nHas anyone else out there considered this problem in any detail? Does anyone have any thoughts or feedback on the two solutions I proposed, or have any ideas for extending them that would improve how they handle the problem?","username":"adamludvik","ts":"2018-10-10T00:56:07.226Z"}
{"msg":"Sorry, and @kelly_ ","username":"adamludvik","ts":"2018-10-10T01:19:39.900Z"}
{"msg":"Has joined the channel.","username":"kodonnel","ts":"2018-10-10T16:04:07.227Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=cxw2hPBwY3yzrjYKp) @amolk And to be clear... any time the longest chain is not chosen we need to engage a more thorough evaluation of *why* we got there because that is a potential indication of a more serious problem","username":"MicBowman","ts":"2018-10-10T16:11:30.582Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=cxw2hPBwY3yzrjYKp","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=cxw2hPBwY3yzrjYKp","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Mic is correct.  If the longest chain is not the chain with the \"most work done\" or the \"highest difficulty chain\" as is put in the literature, then it seems like there is almost certainly adversarial activity.","username":"hartm","ts":"2018-10-10T16:17:56.819Z"}
{"msg":"@adamludvik I haven't had a chance to look at your proposals but I can think of a couple techniques that could maybe partially solve the problem, though they would add a bunch of complexity","username":"kelly_","ts":"2018-10-10T20:23:02.806Z"}
{"msg":"one would be some sort of commit reveal scheme where commitments are ordered and then the reveals are applied in the order of the commitments","username":"kelly_","ts":"2018-10-10T20:23:43.164Z"}
{"msg":"there are probably a bunch of edge cases there","username":"kelly_","ts":"2018-10-10T20:23:52.148Z"}
{"msg":"the other cryptographic technique you could potentially use to prevent item #2 in your list would be requiring some sort of verifiable delay function to be added as a 'proof-of-wait' to a transaction before it could be included","username":"kelly_","ts":"2018-10-10T20:24:53.653Z"}
{"msg":"if this function was longer than the pbft timeout then maybe the leader couldn't put a bunch of new transactions into a block he is creating","username":"kelly_","ts":"2018-10-10T20:25:23.131Z"}
{"msg":"but there are also ways around that, e.g. withhold one transaction while you generate the 'proof-of-wait'","username":"kelly_","ts":"2018-10-10T20:26:05.338Z"}
{"msg":"a third idea would be to force view changes on a regular basis so you limit the impact of the leader","username":"kelly_","ts":"2018-10-10T20:26:47.968Z"}
{"msg":"I don't think 'front-running' has really been solved for any consensus algo (including nakamoto-style), but to be fair i haven't really researched it","username":"kelly_","ts":"2018-10-10T20:27:32.317Z"}
{"msg":"@kelly_ @adamludvik Our front-running strategy has been to use time-locked encryption for blockchain.  Basically, you encrypt a transaction which is automatically decrypted at a certain block (i.e., in the consensus proof, there is a threshold signature done on the block number.  This signature can be used as a key to decrypt transactions encrypted to the block utilizing the standard IBE/signature duality).  This only works for traditional BFT algorithms though, where you can have a supemajority of the BFT nodes sign something that is known in advance.","username":"hartm","ts":"2018-10-10T20:33:54.311Z"}
{"msg":"This doesn't work against traffic analysis, etc., but is a starting point.","username":"hartm","ts":"2018-10-10T20:34:35.868Z"}
{"msg":"oh that's net","username":"kelly_","ts":"2018-10-10T20:35:05.194Z"}
{"msg":"neat*","username":"kelly_","ts":"2018-10-10T20:35:07.329Z"}
{"msg":"In general, you'll need to rigorously define what a fair ordering is before you can prove things about it.  For instance, something like \"a transaction received by 2/3 n + 1 of the nodes before another one always precedes it in the consensus output\" or a similar flavor. ","username":"hartm","ts":"2018-10-10T20:36:39.766Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=BT8iZsNpDbpXEhRju) This is basically what Tendermint does: https://www.tendermint.com/docs/introduction/introduction.html#consensus-overview","username":"adamludvik","ts":"2018-10-10T21:06:26.403Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=BT8iZsNpDbpXEhRju","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=BT8iZsNpDbpXEhRju","remote":true,"fileId":null,"fileName":null}]}
{"msg":"They have a new node propose the block at each height.","username":"adamludvik","ts":"2018-10-10T21:06:44.473Z"}
{"msg":"@hartm good point about formalizing the definition of fair.","username":"adamludvik","ts":"2018-10-10T21:07:03.133Z"}
{"msg":"@hartm your front-running strategy sounds interesting. Can you point me at anything that has more detail on how it works?","username":"adamludvik","ts":"2018-10-10T23:00:05.512Z"}
{"msg":"@adamludvik I'll try to find the detailed materials.  We unfortunately don't have a paper--it was intended as something \"directly to business\".","username":"hartm","ts":"2018-10-10T23:20:42.991Z"}
{"msg":"","username":"Dan","ts":"2018-10-11T17:06:14.729Z","attachments":[{"type":"file","title":"can you spot the elections?","title_link":"/file-upload/wNhWJigWj3PSE9JTZ/can%20you%20spot%20the%20elections?","image_url":"/file-upload/wNhWJigWj3PSE9JTZ/can%20you%20spot%20the%20elections?","image_type":"image/png","image_size":17338,"url":"/file-upload/wNhWJigWj3PSE9JTZ/can%20you%20spot%20the%20elections?","remote":false,"fileId":"wNhWJigWj3PSE9JTZ","fileName":"can you spot the elections?"}]}
{"msg":"block publishing on raft looks cool. I should have been doing more LR review before.\n","username":"Dan","ts":"2018-10-11T17:06:18.583Z"}
{"msg":"@pankajgoyal what params are you using on that raft_new network? It looks like a lot of leader change. (not sure what's objectively a lot, but I'm going to claim that's a lot :) )","username":"Dan","ts":"2018-10-11T17:31:34.837Z"}
{"msg":"@Dan for  raft_new network, I'm using below params:\nsawtooth.consensus.raft.period=3000\nsawtooth.consensus.raft.election_tick=20\nsawtooth.consensus.raft.heartbeat_tick=2\nsawtooth.publisher.max_batches_per_block=500","username":"pankajgoyal","ts":"2018-10-11T18:02:50.605Z"}
{"msg":"@ltseeley @adamludvik Reporters ( @kirkwood ) of https://jira.hyperledger.org/browse/STL-1461 have a proposed resolution. When you are able, please review and comment.","username":"Dan","ts":"2018-10-11T18:25:31.024Z"}
{"msg":"@ltseeley @adamludvik Reporters of https://jira.hyperledger.org/browse/STL-1461 have a proposed resolution. When you are able, please review and comment.","username":"Dan","ts":"2018-10-11T18:25:31.024Z"}
{"msg":"Has left the channel.","username":"cuevrob","ts":"2018-10-11T21:11:24.738Z","type":"ul"}
{"msg":"@ltseeley @adamludvik I'm looking through ~2hrs of 1.1 logs from a raft leader and a replica (out of a 10 node network). The leader has dropped 2 duplicate blocks and the replica dealt with about 175 duplicate blocks. As the Raft network is required to be fully connected right now, do you have any thoughts on gossiping blocks?","username":"Dan","ts":"2018-10-12T20:00:54.716Z"}
{"msg":"Forwarding is very aggressive right now (100% chance to forward I think) so there are going to be a lot of duplicates for followers. With a 100% chance and a fully connected network, all of the forwarding is probably unnecessary. I think @jsmitchell and @boydjohnson are experimenting with different gossip rates right now. If the rate is <100% you would still need it turned on. It may even make sense to make the gossip rate configurable for situations like this.","username":"adamludvik","ts":"2018-10-15T16:13:55.501Z"}
{"msg":"I'm currently working on implementing consensus engine changes and Im considering what is the best strategy for notifying a consensus engine when its unregistered (i.e. the on-chain setting is updated and no longer corresponds to the registered engine). I'm proposing introducing a general `ConfigChange` notification to the consensus API that will be used to notify the engine about any important configuration changes. For now, itll just be used for telling the engine about a change to the algorithm name/version settings (i.e. an unregister), but in the future it could check other settings. This could be useful for updating the engine's configuration based on on-chain settings (like the peers list, block period, and election/heartbeat tick settings used by Raft); the engine could just pass a list of settings to the validator when it registers, then each time a block is committed, the validator can check those settings and notify the engine of any changes. This would make this task much simpler from the engines perspective if it can rely on the validator to keep it informed. Any feedback/discussion around this idea would be great.","username":"ltseeley","ts":"2018-10-15T18:37:46.806Z"}
{"msg":"I think this is a really interesting proposal. All of the consensus engines we have written so far have depended on some on-chain settings, and have had to choose between either polling state every time a block is committed to see if a setting has changed (more network traffic), or reading the setting once on startup and assuming it doesn't change (less configurable). Allowing engine's to subscribe to push notifications about settings, and possibly other addresses, seems like a good way way to avoid that tradeoff altogether.\n\nThis is also a lot like a state delta subscriber, and we may be able to reuse parts of that subsystem to implement this.\n\n@Dan  @amundson do you have any thoughts on this?","username":"adamludvik","ts":"2018-10-15T19:29:42.150Z"}
{"msg":"I think this is a really interesting proposal. All of the consensus engines we have written so far have depended on some on-chain settings, and have had to choose between either polling state every time a block is committed to see if a setting has changed (more network traffic), or reading the setting once on startup and assuming it doesn't change (less configurable). Allowing engine's to subscribe to push notifications about settings, and possibly other addresses, seems like a good way way to avoid that tradeoff altogether.\n\nThis is also a lot like a state delta subscriber, and we may be able to reuse parts of that subsystem to implement this.\n\n@Dan @amundson do you have any thoughts on this?","username":"adamludvik","ts":"2018-10-15T19:29:42.150Z"}
{"msg":"@Dan ?","username":"adamludvik","ts":"2018-10-15T19:31:16.275Z"}
{"msg":"state delta for consensus engines sounds intriguing. it's been a while since I hacked on poet.. I need to go back and look at how we handled walking back in time while evaluating forks. ","username":"Dan","ts":"2018-10-15T19:54:18.557Z"}
{"msg":"@ltseeley @adamludvik sure, sounds like a good idea. maybe SettingsChange if it is settings specific","username":"amundson","ts":"2018-10-16T00:55:01.647Z"}
{"msg":"Has joined the channel.","username":"MohitJuneja","ts":"2018-10-16T03:26:48.397Z","type":"uj"}
{"msg":"","username":"kelly_","ts":"2018-10-16T05:47:36.975Z","attachments":[{"type":"file","title":"Screenshot_20181015-224652.png","title_link":"/file-upload/ysZPBuM8iE3MC8uhK/Screenshot_20181015-224652.png","image_url":"/file-upload/ysZPBuM8iE3MC8uhK/Screenshot_20181015-224652.png","image_type":"image/png","image_size":174817,"url":"/file-upload/ysZPBuM8iE3MC8uhK/Screenshot_20181015-224652.png","remote":false,"fileId":"ysZPBuM8iE3MC8uhK","fileName":"Screenshot_20181015-224652.png"}]}
{"msg":"@Dan @amolk  how much epc does poet use?","username":"kelly_","ts":"2018-10-16T05:48:13.561Z"}
{"msg":"@adamludvik I am wondering if the configuration delta could arrive to the consensus engine asynchronously. Could it be that the delta comes after some other thing to be handled considering the configuration has already been changed?\n\n> Allowing engine's to subscribe to push notifications about settings, and possibly other addresses, seems like a good way way to avoid that tradeoff altogether.","username":"sergefdrv","ts":"2018-10-16T08:40:12.113Z"}
{"msg":"sorry for my English :laughing: ","username":"sergefdrv","ts":"2018-10-16T08:40:47.149Z"}
{"msg":"@kelly_ <HeapMaxSize>0x100000</HeapMaxSize>","username":"amolk","ts":"2018-10-16T09:34:49.607Z"}
{"msg":"@kelly_ about that tweet, in a VM setting the EPC is also virtualized and so appears as 30 MB or whatever's configured to each VM.  ","username":"amolk","ts":"2018-10-16T14:35:54.933Z"}
{"msg":"@adamludvik just curious why `summary` instead of `digest` or `hash`? https://github.com/hyperledger/sawtooth-core/blob/master/protos/consensus.proto#L42","username":"Dan","ts":"2018-10-16T14:43:56.771Z"}
{"msg":"@amolk so one megabyte?","username":"kelly_","ts":"2018-10-16T15:07:26.310Z"}
{"msg":"Yup","username":"amolk","ts":"2018-10-16T15:13:35.335Z"}
{"msg":"@Dan It's a somewhat unique concept, in that it is a digest of some subset of the contents of a block-like-thing before it is actually a block with a signature. So I was looking for a new term that was similar to digest, but also answered the question \"digest of what?\". In other words, \"the block summary\" should be unambiguous, whereas \"the block digest\" would need further clarification about what you are digesting (the entire block serialized? the header serialized? something else?).","username":"adamludvik","ts":"2018-10-16T15:34:41.011Z"}
{"msg":"@sergefdrv Like the other updates (block commit, peer message) the proposal is to have the settings updates arrive asynchronously. The update would occur sometime after a new block had been committed, and might need to include the block id of the associated block.\n\n> Could it be that the delta comes after some other thing to be handled considering the configuration has already been changed?\n\nThis is a good point. How would an engine know that the settings have or have not changed after a new block is committed? It might make more sense to include the configuration change in the BlockCommit update instead of in a separate update.","username":"adamludvik","ts":"2018-10-16T15:39:44.461Z"}
{"msg":"@adamludvik there is never anything that is unambiguous in variable names. ;)\nIs the summary exclusively over the batch list?","username":"Dan","ts":"2018-10-16T15:43:19.946Z"}
{"msg":"I think so, although we had talked about including the previous block id in there too","username":"adamludvik","ts":"2018-10-16T15:44:00.306Z"}
{"msg":"It was unusual enough to make you ask the question though :)))","username":"adamludvik","ts":"2018-10-16T15:45:26.915Z"}
{"msg":"@adamludvik @sergefdrv I think including configuration changes with the BlockCommit update is a good idea. That is already what engines use to verify when a block is committed, so I that's probably the most reliable way to notify consistently.","username":"ltseeley","ts":"2018-10-16T16:30:26.012Z"}
{"msg":"@adamludvik @sergefdrv I think including configuration changes with the BlockCommit update is a good idea. That is already what engines use to verify when a block is committed, so that's probably the most reliable way to notify consistently.","username":"ltseeley","ts":"2018-10-16T16:30:26.012Z"}
{"msg":"Has joined the channel.","username":"grapebaba","ts":"2018-10-17T01:43:19.529Z","type":"uj"}
{"msg":"@adamludvik have you guys done a LRN on pbft?","username":"kelly_","ts":"2018-10-17T16:37:07.070Z"}
{"msg":"one of the reasons i put poet2 and pbft as 'under development' is because we haven't put them under an lrn for the 1.1 release and i thought they both had new featuers being added","username":"kelly_","ts":"2018-10-17T16:37:49.066Z"}
{"msg":"we did raft on LRN and we're able to hit 12-16 hours and then encountered bugs","username":"kelly_","ts":"2018-10-17T16:38:02.705Z"}
{"msg":"if pbft works today and can run for 10 or 12 hours under load I think that's fine to put it as alpha","username":"kelly_","ts":"2018-10-17T16:38:53.011Z"}
{"msg":"i was just concerned about pointing developers at something that is fragile","username":"kelly_","ts":"2018-10-17T16:39:05.936Z"}
{"msg":"That is good point. @amundson, @agunde, or @bridgerherman did you do any PBFT LR testing this summer?","username":"adamludvik","ts":"2018-10-17T16:48:21.420Z"}
{"msg":"I know @bridgerherman and @rberg2 were in the process of trying to set up an LR network before Bridger's internship ended but they ran into issues. But I do not know the specifics.","username":"agunde","ts":"2018-10-17T16:51:03.121Z"}
{"msg":"I know @bridgerherman and @rberg2 were in the process of trying to set up an LR network before Bridger's internship ended but they ran into issues. But I do not remember the specifics.","username":"agunde","ts":"2018-10-17T16:51:03.121Z"}
{"msg":"Has joined the channel.","username":"rberg2","ts":"2018-10-17T16:51:03.354Z","type":"uj"}
{"msg":"@kelly_ retest raft. There was a deadlocking issue that @boydjohnson fixed in master.","username":"jsmitchell","ts":"2018-10-17T17:12:49.097Z"}
{"msg":"we are curious to see if the raft LR issue is related","username":"jsmitchell","ts":"2018-10-17T17:13:26.756Z"}
{"msg":"Was this a recent commit?","username":"kirkwood","ts":"2018-10-17T17:13:44.696Z"}
{"msg":"yeah","username":"jsmitchell","ts":"2018-10-17T17:13:49.616Z"}
{"msg":"https://github.com/hyperledger/sawtooth-core/pull/1896","username":"jsmitchell","ts":"2018-10-17T17:14:26.886Z"}
{"msg":"oh, in core. gotcha","username":"kirkwood","ts":"2018-10-17T17:15:07.955Z"}
{"msg":"@jsmitchell awesome - will do and and report back","username":"kelly_","ts":"2018-10-17T17:23:34.828Z"}
{"msg":"@amolk may know if the Raft run included that PR","username":"kelly_","ts":"2018-10-17T17:25:18.580Z"}
{"msg":"@kelly_ Raft run didn't include that PR...we were running Raft with sawtooth 1.1 and the PR is raised on sawtooth-core (master)","username":"pankajgoyal","ts":"2018-10-17T18:21:03.885Z"}
{"msg":"thanks @pankajgoyal ","username":"kelly_","ts":"2018-10-17T19:07:44.356Z"}
{"msg":"we'll kick off a run on master shortly","username":"kelly_","ts":"2018-10-17T19:07:53.346Z"}
{"msg":"@adamludvik @amundson @jsmitchell @Dan re: sending settings updates to consensus engines, can we have a discussion on the pros/cons of including this information in the BlockCommit messages sent by the validator? Specifically, we are are considering including updated values of requested settings, as well as some kind of unregister flag.","username":"ltseeley","ts":"2018-10-18T16:23:27.720Z"}
{"msg":"and @askmish \nMonitoring state/settings was a little messy in poet1. not sure how it's shaping up in poet2.\nI can commit to reviewing the poet1 requirements this week and be prepared to discuss in more detail early next week.","username":"Dan","ts":"2018-10-18T16:32:48.494Z"}
{"msg":"@ltseeley what are some of the pros/cons you have considered so far?","username":"adamludvik","ts":"2018-10-18T16:50:43.953Z"}
{"msg":"Pros:\n- Easier for engines to track on-chain settings (no polling)\n- Better synchronicity than supplying an update before or after the BlockCommit message\nCons:\n- Adds complexity to BlockCommit message\n- Changes protobufs and SDK","username":"ltseeley","ts":"2018-10-18T18:57:52.355Z"}
{"msg":"@adamludvik any that I'm missing from our previous discussions?","username":"ltseeley","ts":"2018-10-18T18:58:12.428Z"}
{"msg":"We would also need an API for subscribing to the changes and there would be some work in the validator to monitor for changes and send them to the engine.","username":"adamludvik","ts":"2018-10-18T22:52:17.082Z"}
{"msg":"Has joined the channel.","username":"warren13245","ts":"2018-10-19T13:34:34.319Z","type":"uj"}
{"msg":"do we feel that this is something to address for 1.1? it starts to feel like it to me.","username":"amundson","ts":"2018-10-19T14:39:06.220Z"}
{"msg":"I feel like that will kick 1.1 back. We've talked about a 1.2 tentatively for EOY. Assuming we had additions to the interface they could be added at that time.","username":"Dan","ts":"2018-10-19T16:09:56.412Z"}
{"msg":"ok, should probably take this to the release channel","username":"amundson","ts":"2018-10-19T16:22:36.002Z"}
{"msg":"wait, when did  you get that Tech Ambassador tag? Did that just happen?","username":"Dan","ts":"2018-10-19T16:23:20.990Z"}
{"msg":"tag?","username":"amundson","ts":"2018-10-19T16:25:45.055Z"}
{"msg":"","username":"Dan","ts":"2018-10-19T16:35:57.362Z","attachments":[{"type":"file","title":"Clipboard - October 19, 2018 11:35 AM","title_link":"/file-upload/2uGcuBbvswFHhGLap/Clipboard%20-%20October%2019,%202018%2011:35%20AM","image_url":"/file-upload/2uGcuBbvswFHhGLap/Clipboard%20-%20October%2019,%202018%2011:35%20AM","image_type":"image/png","image_size":8066,"url":"/file-upload/2uGcuBbvswFHhGLap/Clipboard%20-%20October%2019,%202018%2011:35%20AM","remote":false,"fileId":"2uGcuBbvswFHhGLap","fileName":"Clipboard - October 19, 2018 11:35 AM"}]}
{"msg":"neat","username":"amundson","ts":"2018-10-19T16:36:57.786Z"}
{"msg":"I think the tags were just added to rocketchat","username":"amundson","ts":"2018-10-19T16:37:15.174Z"}
{"msg":"Has joined the channel.","username":"silasdavis","ts":"2018-10-19T18:51:38.298Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yusra","ts":"2018-10-21T06:48:06.264Z","type":"uj"}
{"msg":"Has joined the channel.","username":"danintel","ts":"2018-10-22T15:03:55.862Z","type":"uj"}
{"msg":"@ltseeley Seeing no strong objections to pushing configuration changes with block commits, I think you are good to draft an initial RFC for this.","username":"adamludvik","ts":"2018-10-22T17:40:13.096Z"}
{"msg":"@adamludvik @ltseeley is the plan within pbft then to support both the 1.1 consensus API where you have to ask for that information every block, in addition to the new way for 1.2 where it comes with block commit messages? if so, I'm in favor of it.","username":"amundson","ts":"2018-10-22T21:21:39.062Z"}
{"msg":"I have no objections to that","username":"ltseeley","ts":"2018-10-22T21:23:06.191Z"}
{"msg":"we could maintain a 1.1-specific pbft branch too, but the longer we can get away with just a single branch the better in my opinion","username":"amundson","ts":"2018-10-22T21:24:54.046Z"}
{"msg":"I don't think a 1.1-specific branch would be necessary, since the differences between the two should be minimal. @adamludvik @knkski will the membership change procedure rely on updating the `peers` setting like Raft does? And is updating other configuration values from on-chain settings something we want to have in PBFT 1.0?","username":"ltseeley","ts":"2018-10-22T21:35:29.559Z"}
{"msg":"@amundson I agree that we shouldn't need a separate 1.1 branch. Receiving push notifications would be an optional optimization.","username":"adamludvik","ts":"2018-10-22T21:43:43.647Z"}
{"msg":"@ltseeley I don't think we've hashed out the first question about reading the setting for membership changes yet. I think the WIP branch was based on responding to PeerConnect and PeerDisconnect messages, but I think that is probably the wrong approach. I think you need membership changes to happen on block commit boundaries so you don't have nodes committing blocks based on vote count thresholds from different node counts. I also think it is wrong to initiate a membership change when a node faults.","username":"adamludvik","ts":"2018-10-22T21:44:24.228Z"}
{"msg":"> And is updating other configuration values from on-chain settings something we want to have in PBFT 1.0?\nThis seems more like a nice-to-have, low-priority feature in general, and would be done time-permitting.","username":"adamludvik","ts":"2018-10-22T21:46:18.515Z"}
{"msg":"Has joined the channel.","username":"achenette","ts":"2018-10-23T16:51:55.752Z","type":"uj"}
{"msg":"This PR introduces new requirements for configuring consensus engines: https://github.com/hyperledger/sawtooth-core/pull/1916 It requires that the settings `sawtooth.consensus.algorithm.name` and `sawtooth.consensus.algorithm.version` be set for an engine to register and interact with the validator. @amundson @Dan @achenette can we have a discussion about this change and how/if we should handle backporting this to 1.1? @adamludvik has suggested that we mark the `sawtooth.consensus.algorithm` setting as deprecated and the two new settings as required for the 1.1 release, but do not actually enforce it (i.e. do not backport the PR).","username":"ltseeley","ts":"2018-10-23T20:52:57.878Z"}
{"msg":"@ltseeley \"Validator only accepts consensus engine registration requests from an engine with name and version matching the on-chain settings\" -- this seems like a very broken approach. what should happen is that any consensus engines can register with the validator, and the settings drive which consensus engine is asked to process messages. for rolling upgrades, you should be able to connect a new consensus engine to all the validators, then make the settings change to switch over. you shouldn't need to coordinate a network-wide sysadmin party to bring the new consensus engine online after changing the setting.","username":"amundson","ts":"2018-10-24T16:45:19.300Z"}
{"msg":"Maybe we are being a little loose with the term \"registered\" and should re-evaluate that. What we mean by \"registered\" in this context is which consensus engine is actively being used. Any consensus engine can be started up and connected to the validator, and will attempt to register with the validator indefinitely. If the engine doesn't match the on-chain settings, the validator will simply ignore the registration, which leaves the engine in an infinite loop until the on-chain settings are changed to match the engine's. Once the settings are changed, the validator will respond to the engine's request, the engine will be asked to process messages, and the validator will accept service requests from it.","username":"ltseeley","ts":"2018-10-24T16:54:52.177Z"}
{"msg":"So the consensus engine can be brought online and be ready before it's used; the validator just won't acknowledge it until the settings match up.","username":"ltseeley","ts":"2018-10-24T16:56:06.091Z"}
{"msg":"@ltseeley that is significantly different than the TP design, for exactly the same problem","username":"amundson","ts":"2018-10-24T16:56:28.871Z"}
{"msg":"what I'd want as a sysadmin is to start it up, have it register, be able to confirm with a command (sawadm probably) that it's registered, and then report back to the consortium that my validator is all ready to go","username":"amundson","ts":"2018-10-24T16:59:02.915Z"}
{"msg":"another disadvantage of this approach is that it puts the polling on the consensus engine, which has no real knowledge. say we set it to retry once every 10 seconds, then you have on average a 5s gap when making the switch. but worse, if you used exponential backoff so you aren't making so many requests, let's say we make the cap a minute. that means on average we would have a 30s gap when the settings change occurs. which depending on the network may or may not be a big deal. but in the reverse, if it's just a routing change because it's already registered, then there is no delay and no polling on either side (just heartbeat perhaps to make sure the connection remains working).","username":"amundson","ts":"2018-10-24T17:05:29.230Z"}
{"msg":"Makes sense to me. Any engine can register, but only one can be \"active\" (send/receive messages). Checking registration with a CLI command seems reasonable as well. @adamludvik do you have any opinions on this?","username":"ltseeley","ts":"2018-10-24T17:15:18.415Z"}
{"msg":"@amundson it is not \"exactly the same problem\". While TPs and consensus engines are similar, the major difference is that TPs are passive and only respond to requests from the validator whereas engines are active and send requests to the validator. So while a TP can sit idle indefinitely with little harm, once started a consensus engine is going to react to internal state and events and try to interact with the validator. What we don't want is an engine to connect and think it is the \"active\" engine, but have everything it tries to do be rejected by the validator so that it gets into some weird state or crashes.\n\nYou bring up a valid point about polling being a bad model, which I don't think is hard to resolve. We can define the states as {Connected, Registered, Active} instead of {Connected, Registered} and allow engines to connect and register their name/version with the validator. The validator can then sends \"you are now active\" and \"you are now inactive\" messages to the registered engines when the setting changes to let them know when they should start monitoring internal state and events.","username":"adamludvik","ts":"2018-10-24T17:49:03.694Z"}
{"msg":"I think this 3 state approach also satisfies the requirements imposed by block history like we have for TPs. It's not just that we need a smooth launch for a new consensus but also that a fresh validator - or for any reason you need to play history across consensus changes - you'll need all consensus engines running that were invoked during that history.","username":"Dan","ts":"2018-10-24T18:48:59.847Z"}
{"msg":"I think this 3 state approach also satisfies the requirements imposed by block history like we have for TPs. It's not just that we need a smooth launch for a new consensus but also that a fresh validator or for any reason you need to play history across consensus changes you'll need all consensus engines running that were invoked during that history.","username":"Dan","ts":"2018-10-24T18:48:59.847Z"}
{"msg":"Has left the channel.","username":"pravindia","ts":"2018-10-28T18:23:17.992Z","type":"ul"}
{"msg":"Has joined the channel.","username":"Mahi_3","ts":"2018-10-29T05:41:07.790Z","type":"uj"}
{"msg":"Has joined the channel.","username":"athulramesh","ts":"2018-10-29T13:24:26.958Z","type":"uj"}
{"msg":"Has joined the channel.","username":"srinivas","ts":"2018-10-30T17:53:12.275Z","type":"uj"}
{"msg":"Has joined the channel.","username":"chainsaw","ts":"2018-10-31T14:28:55.265Z","type":"uj"}
{"msg":"Has joined the channel.","username":"shobhaa","ts":"2018-11-04T17:43:48.543Z","type":"uj"}
{"msg":"@ltseeley can you help me find the commit(s) that deprecates consensus.algorithm to consensus.algorithm.<name|version> ?  I'm wondering if there's anything in that which might be borking poet v. bumper. \nTrying to mine out of git log I don't see anything in the vicinity of the last successful poet build or anything that grep catches for like 'consensus.algorithm'.","username":"Dan","ts":"2018-11-12T15:01:42.543Z"}
{"msg":"The `consensus.algorithm.","username":"ltseeley","ts":"2018-11-12T15:22:41.842Z"}
{"msg":"The `consensus.algorithm.<name|version>` is not actually enforced in bumper (just as `consensus.algorithm` has never really been enforced). After 1.1, the name/version settings will be enforced. We deprecated the old setting and \"require\" the new setting in 1.1 to prepare for future releases.","username":"ltseeley","ts":"2018-11-12T15:25:22.210Z"}
{"msg":"The `consensus.algorithm.<name|version>` settings are not actually enforced in bumper (just as `consensus.algorithm` has never really been enforced). After 1.1, the name/version settings will be enforced. We deprecated the old setting and \"require\" the new setting in 1.1 to prepare for future releases.","username":"ltseeley","ts":"2018-11-12T15:25:22.210Z"}
{"msg":"Are you seeing problems with poet v. bumper?","username":"ltseeley","ts":"2018-11-12T15:26:04.601Z"}
{"msg":"I think poet checks settings for which algorithm is set.","username":"Dan","ts":"2018-11-12T15:38:23.422Z"}
{"msg":"As far as errors see #sawtooth-core-dev \nI'm kind of wandering around channels :)","username":"Dan","ts":"2018-11-12T15:38:54.321Z"}
{"msg":"Not to be confusing, but I don't think I linked any error related to settings there. I just remember seeing something over the weekend where poet may have errored on getting settings. Of course I don't see that now. Sometimes when those liveness-style tests kill a validator there's a bunch of spurious errors. ","username":"Dan","ts":"2018-11-12T15:42:18.831Z"}
{"msg":"Hmm, that PublisherThread error is strange, I have not seen that before. Doesn't seem related to settings, though.","username":"ltseeley","ts":"2018-11-12T15:47:26.227Z"}
{"msg":"no, separate things. I'm trying to find the settings error I ran into but it was unreleated to the thing I posted over there. ","username":"Dan","ts":"2018-11-12T15:58:58.971Z"}
{"msg":"and I also can't substantiate my claim yet that poet actually does anything with that algorithm setting :)","username":"Dan","ts":"2018-11-12T15:59:18.880Z"}
{"msg":"but anyway, is there a predecessor to https://github.com/hyperledger/sawtooth-core/pull/1916? the bumper release notes say that the setting is deprecated but I couldn't find a commit related to that.","username":"Dan","ts":"2018-11-12T16:00:20.938Z"}
{"msg":"What do you mean by \"predecessor\"?","username":"ltseeley","ts":"2018-11-12T16:03:04.675Z"}
{"msg":"I guess a logical predecessor. Does it relate to or depend on an earlier commit that changed or extended the consenus settings?","username":"Dan","ts":"2018-11-12T16:04:14.237Z"}
{"msg":"I assume from the release notes that there's already a commit in place that deprecates that setting and then this PR #1916 is moving along that deprecation goal. ","username":"Dan","ts":"2018-11-12T16:05:09.898Z"}
{"msg":"Unless it's just that the release notes are warning that we see this change coming so fair warning to stop using consensus.algorithm. ","username":"Dan","ts":"2018-11-12T16:05:43.740Z"}
{"msg":"Your last comment is correct. Until the PR you referenced (1916) gets merged, the on-chain consensus settings have never been enforced in any way. We are including the deprecation in the release notes to prepare everyone for when those settings are actually enforced.","username":"ltseeley","ts":"2018-11-12T16:07:48.946Z"}
{"msg":"So @ltseeley if you run `bin/run_tests -m integration` in poet against the bumper aftifacts (that include your most recent change) do you see liveness failures like what I reported?","username":"Dan","ts":"2018-11-12T19:35:08.650Z"}
{"msg":"I'll test it out","username":"ltseeley","ts":"2018-11-12T19:41:52.239Z"}
{"msg":"I am getting that failure as well","username":"ltseeley","ts":"2018-11-12T20:10:15.928Z"}
{"msg":"Hey Dan, could you review this PR when you have a sec? We want to tag it for 0.1.1","username":"ltseeley","ts":"2018-11-13T15:27:00.137Z"}
{"msg":"https://github.com/hyperledger/sawtooth-raft/pull/43","username":"ltseeley","ts":"2018-11-13T15:27:01.137Z"}
{"msg":"@Dan ^","username":"agunde","ts":"2018-11-13T15:32:20.244Z"}
{"msg":"only if @pschwarz gives me a second :thumbsup: here: https://github.com/hyperledger/sawtooth-poet/pull/12 ;)","username":"Dan","ts":"2018-11-13T15:35:55.688Z"}
{"msg":"and here: https://github.com/hyperledger/sawtooth-poet/pull/11 :)","username":"Dan","ts":"2018-11-13T15:38:36.474Z"}
{"msg":"or @TomBarnes you could also review #11 ^","username":"Dan","ts":"2018-11-13T15:39:12.414Z"}
{"msg":"Both approved @Dan, but it does look like you have some CI issues.","username":"pschwarz","ts":"2018-11-13T16:07:35.399Z"}
{"msg":"They look like Dynamic network test failure, so I restarted the builds to see if they will right themselves","username":"pschwarz","ts":"2018-11-13T16:09:08.922Z"}
{"msg":"thx. that's the existing issue that was patched into sawtooth-core/1-1 but not fixed in master.  ","username":"Dan","ts":"2018-11-13T16:21:35.616Z"}
{"msg":"that's the existing issue that was patched into sawtooth-core/1-1 but not fixed in master.  ","username":"Dan","ts":"2018-11-13T16:21:35.616Z"}
{"msg":"Yeah, I had that explained to me","username":"pschwarz","ts":"2018-11-13T17:11:28.519Z"}
{"msg":":)","username":"pschwarz","ts":"2018-11-13T17:11:31.666Z"}
{"msg":"Catching back up","username":"pschwarz","ts":"2018-11-13T17:11:38.972Z"}
{"msg":"that does beg the question about how to handle these merges. It seems bad practice to merge when jenkins has a failure. I could put a PR disabling the offending tests and merge these reviewed PRs. I think I prefer that to waiting until sawtooth-core <--> sawtooth-poet integration is resolved.\nAnother variant of that is I could alter those tests to use the core bumper nightly instead of 1.0 artifacts.\nThat would address the first of the issues but it seems we still have a liveness failure that seems releated to sawtooth-core.","username":"Dan","ts":"2018-11-13T17:23:02.702Z"}
{"msg":"oh and the other condiration is getting these commits ahead of tagging for bumper","username":"Dan","ts":"2018-11-13T17:24:54.755Z"}
{"msg":"@dan we're starting to produce nightly docker images for this reason. once we're confident about this approach, we'll update the tests to use them so we can do faster turn around for things like this","username":"rbuysse","ts":"2018-11-13T17:35:08.660Z"}
{"msg":"@Dan we're starting to produce nightly docker images for this reason. once we're confident about this approach, we'll update the tests to use them so we can do faster turn around for things like this","username":"rbuysse","ts":"2018-11-13T17:35:08.660Z"}
{"msg":"hm. disregard what I said. it looks like we use the apt repos instead of dockerhub for this one.","username":"rbuysse","ts":"2018-11-13T18:46:18.224Z"}
{"msg":"@Dan I think this should fix it: https://github.com/hyperledger/sawtooth-poet/pull/13","username":"pschwarz","ts":"2018-11-13T21:49:33.816Z"}
{"msg":"Will have to wait to see if it builds, of course ","username":"pschwarz","ts":"2018-11-13T21:49:50.905Z"}
{"msg":"muchas gracias!\nI expect that it will not show a dynamic network failure but will still see a liveness failure. Expected error is something like `validator-0_1 | thread 'PublisherThread' panicked at 'BlockInjector.block_start failed: PyErr { ptype: <class 'TypeError'>, pvalue: Some(\"a bytes-like object is required, not 'BlockHeader'\"), ptraceback: Some(<traceback object at 0x7fda0bb254c8>) }', libcore/result.rs:1009:5`","username":"Dan","ts":"2018-11-13T21:59:45.335Z"}
{"msg":"Is that something that is fixed in one of the other open PR's?","username":"pschwarz","ts":"2018-11-13T22:03:45.673Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=mRQtyw8sQsqBWe2vB)  @Dan Interestingly we have been dealing with this error too today, playing around with the docker-compose*.yaml to avoid volume mounting code to prevent this error","username":"benoit.razet","ts":"2018-11-13T22:18:35.735Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=mRQtyw8sQsqBWe2vB","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=mRQtyw8sQsqBWe2vB","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@pschwarz no not yet. but i'm honing in on it like the Warren Commission. ","username":"Dan","ts":"2018-11-13T22:20:06.290Z"}
{"msg":"I had the dynamic network test passing locally with the changes in that PR, so we'll see","username":"pschwarz","ts":"2018-11-13T22:21:13.423Z"}
{"msg":"yeah it passes locally for me too. it's the test_poet_liveness that fails.","username":"Dan","ts":"2018-11-13T22:21:51.549Z"}
{"msg":"every time I run it, it goes back and to the left. very curious.","username":"Dan","ts":"2018-11-13T22:22:20.972Z"}
{"msg":"It's more of a crap shoot, than a sniper shoot, @Dan ","username":"pschwarz","ts":"2018-11-13T22:24:37.795Z"}
{"msg":"@Dan disregard my message, I'm still getting used to the new error message from the Rust validator, and I thought I had recognized something we encounter, but it's not related ","username":"benoit.razet","ts":"2018-11-13T22:24:37.949Z"}
{"msg":"test_poet_liveness passes if I remove block_info and the associated block_validation_rules \nso my current analysis is that this is a trap set by boyd to trick me into learning the batch injector.","username":"Dan","ts":"2018-11-13T22:36:05.241Z"}
{"msg":"Ok, dynamic network test failed","username":"pschwarz","ts":"2018-11-13T23:01:24.093Z"}
{"msg":"Though, not due to a timeout, like the other builds - maybe a fluke.  I'll kick it off one more time, just to be sure","username":"pschwarz","ts":"2018-11-13T23:02:34.320Z"}
{"msg":"@pschwarz it passed the second time. From a real quick look, the first session seemed to just not reach consensus which might be just bad luck on timing. I'm firing off a third to see how reproducible it is. ","username":"Dan","ts":"2018-11-14T00:42:39.131Z"}
{"msg":"Ah, you fired that third one off","username":"pschwarz","ts":"2018-11-14T00:52:36.978Z"}
{"msg":"That was the merge window!!","username":"pschwarz","ts":"2018-11-14T00:52:43.927Z"}
{"msg":";)","username":"pschwarz","ts":"2018-11-14T00:52:46.805Z"}
{"msg":"Looks like that one passed too, so we could mege it, and then rebase all the remaining PR's that you want ","username":"pschwarz","ts":"2018-11-14T02:57:23.548Z"}
{"msg":"Merged - rebase away","username":"pschwarz","ts":"2018-11-14T03:09:51.934Z"}
{"msg":"Has joined the channel.","username":"ra_w","ts":"2018-11-14T08:46:12.780Z","type":"uj"}
{"msg":"cool. thanks. I'm confused now though... why did this pass? :)\nI thought we had only fixed the dynamic network test failure. @ltseeley had separately confirmed seeing a failure with the test_poet_liveness. Maybe it was because we had only partially hacked up the test settings to use local builds of the validator. Anyway, I'm rebuilding poet and will verify locally and rebase those other PRs. ","username":"Dan","ts":"2018-11-14T14:40:52.221Z"}
{"msg":"Has joined the channel.","username":"JayeshJawale2","ts":"2018-11-19T09:11:02.445Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MaherBouidani","ts":"2018-11-21T17:34:05.920Z","type":"uj"}
{"msg":"Hi Guys, I have a question regarding consensus in general and I wish to find help....\nIf we have a total nodes N, now the general reliability assumption to achieve consensus is that the faulty nodes F should be LESS thank N/K ","username":"MaherBouidani","ts":"2018-11-21T17:35:52.873Z"}
{"msg":"where K is {2,3}","username":"MaherBouidani","ts":"2018-11-21T17:36:00.232Z"}
{"msg":"which makes sense, the faulty nodes should be less than either half or one third of total nodes ","username":"MaherBouidani","ts":"2018-11-21T17:36:34.932Z"}
{"msg":"the question is, what do you call K in this case? ","username":"MaherBouidani","ts":"2018-11-21T17:36:47.348Z"}
{"msg":"What is K? ","username":"MaherBouidani","ts":"2018-11-21T17:36:54.414Z"}
{"msg":"if you are looking for a name, there might be a term in the original PBFT paper.","username":"Dan","ts":"2018-11-21T18:05:20.473Z"}
{"msg":"http://pmg.csail.mit.edu/papers/osdi99.pdf","username":"Dan","ts":"2018-11-21T18:05:56.486Z"}
{"msg":"Has joined the channel.","username":"aKesav","ts":"2018-11-24T08:19:40.698Z","type":"uj"}
{"msg":"Has joined the channel.","username":"OviiyaDominic","ts":"2018-11-27T09:18:09.998Z","type":"uj"}
{"msg":"Hi, I've been looking in to working on a custom consensus algorithm, and I was wondering if there is the ability for state to be modified as part of the block creation process. This state modification would not occur in the constituent transactions, but it would use the contents of the transactions to make the appropriate state modification. ","username":"luckycharms810","ts":"2018-11-27T17:02:32.065Z"}
{"msg":"@luckycharms810 take a look at how block_info transactions are injected to support sawtooth-seth","username":"jsmitchell","ts":"2018-11-27T17:04:50.647Z"}
{"msg":"https://github.com/hyperledger/sawtooth-core/blob/master/families/block_info/sawtooth_block_info_injector/injector.py","username":"jsmitchell","ts":"2018-11-27T17:08:21.054Z"}
{"msg":"and https://github.com/hyperledger/sawtooth-core/blob/master/validator/sawtooth_validator/journal/batch_injector.py","username":"jsmitchell","ts":"2018-11-27T17:08:46.776Z"}
{"msg":"transactions are the mechanism for state mutation","username":"jsmitchell","ts":"2018-11-27T17:09:29.091Z"}
{"msg":"avoid the temptation to mutate state outside a transaction","username":"jsmitchell","ts":"2018-11-27T17:10:03.855Z"}
{"msg":"Has left the channel.","username":"kdenhartog","ts":"2018-11-27T19:52:21.068Z","type":"ul"}
{"msg":"Can you access other transactions in the block injector ? ","username":"luckycharms810","ts":"2018-11-27T20:23:57.986Z"}
{"msg":"@luckycharms810 Depending on how much delay is able to happen, you can just broadcast out a transaction from the consensus engine. https://sawtooth.hyperledger.org/docs/core/nightly/master/rust_sdk/doc/sawtooth_sdk/consensus/service/trait.Service.html#tymethod.broadcast","username":"boydjohnson","ts":"2018-11-27T20:35:24.915Z"}
{"msg":"the interface doesn't expose the details of the candidate block to the injector, but it does provide a state view. I believe if you inject at the end of the block, and a transaction mutated state in the block, you could inspect the ephemeral state view during your injected txn construction.","username":"jsmitchell","ts":"2018-11-27T20:37:01.302Z"}
{"msg":"that would be worth testing, since my confidence in that answer is low ^","username":"jsmitchell","ts":"2018-11-27T20:37:18.568Z"}
{"msg":"you _may_ only be able to see state as of the parent block","username":"jsmitchell","ts":"2018-11-27T20:37:58.746Z"}
{"msg":"Ah interesting is the consensus engine all implemented in rust after 1.1 ? ","username":"luckycharms810","ts":"2018-11-27T20:39:09.449Z"}
{"msg":"The python sdk has support for writing consensus engines, too. ","username":"boydjohnson","ts":"2018-11-27T20:43:11.266Z"}
{"msg":"I know we had talked at some point about exposing the transactions in the candidate block to the injector","username":"jsmitchell","ts":"2018-11-27T20:48:50.168Z"}
{"msg":"I don't know if they have been executed at that point or not (for injecting at the end)","username":"jsmitchell","ts":"2018-11-27T20:49:10.148Z"}
{"msg":"@boydjohnson @adamludvik ^","username":"jsmitchell","ts":"2018-11-27T20:49:16.881Z"}
{"msg":"https://www.hyperledger.org/blog/2018/11/09/hyperledger-sawtooth-blockchain-security-part-one\n\n","username":"Gabe","ts":"2018-11-28T00:56:05.412Z"}
{"msg":"Sawtooths Pluggable Consensus\nSawtooth supports pluggable consensus algorithmsthat is it is configurable. Not only is the consensus configurable at blockchain genesis (block 0), but the consensus algorithm can be changed at any point after after blockchain creation with an in-chain setting, sawtooth.consensus.algorithm.  \nAnother Nakamoto-style consensus algorithm, still in the experimental stage, is Proof of Stake (PoS), where the winner has the most of something (","username":"Gabe","ts":"2018-11-28T00:56:58.495Z"}
{"msg":"Proof of Stake - are there any PoS options for Sawtooth?\n\nSawtooths Pluggable Consensus\nSawtooth supports pluggable consensus algorithmsthat is it is configurable. Not only is the consensus configurable at blockchain genesis (block 0), but the consensus algorithm can be changed at any point after after blockchain creation with an in-chain setting, sawtooth.consensus.algorithm.  \n\nAnother Nakamoto-style consensus algorithm, still in the experimental stage, is Proof of Stake (PoS)\n\nOther consensus algorithms are in the works, such as PBFT. The Sawtooth community encourages contributions of other consensus algorithms by third parties. \n\n","username":"Gabe","ts":"2018-11-28T00:56:58.495Z"}
{"msg":"Proof of Stake - are there any PoS options for Sawtooth?\n\nSawtooths Pluggable Consensus\nSawtooth supports pluggable consensus algorithmsthat is it is configurable. Not only is the consensus configurable at blockchain genesis (block 0), but the consensus algorithm can be changed at any point after after blockchain creation with an in-chain setting, sawtooth.consensus.algorithm.  \n\nOther consensus algorithms are in the works, such as PBFT. The Sawtooth community encourages contributions of other consensus algorithms by third parties. \n\nAnother Nakamoto-style consensus algorithm, still in the experimental stage, is Proof of Stake (PoS)\n\nWhat does in the experimental stage mean?\n\n","username":"Gabe","ts":"2018-11-28T00:56:58.495Z"}
{"msg":"Proof of Stake - are there any PoS options for Sawtooth?\n\nSawtooths Pluggable Consensus\nSawtooth supports pluggable consensus algorithmsthat is it is configurable. Not only is the consensus configurable at blockchain genesis (block 0), but the consensus algorithm can be changed at any point after after blockchain creation with an in-chain setting, sawtooth.consensus.algorithm.  \n\nOther consensus algorithms are in the works, such as PBFT. The Sawtooth community encourages contributions of other consensus algorithms by third parties. \n\nAnother Nakamoto-style consensus algorithm, still in the experimental stage, is Proof of Stake (PoS)\n\nWhat does in the experimental stage mean?\n\nIs PoS for Sawtooth on any roadmaps?","username":"Gabe","ts":"2018-11-28T00:56:58.495Z"}
{"msg":"Has joined the channel.","username":"Humphries","ts":"2018-11-28T03:48:43.262Z","type":"uj"}
{"msg":"@Gabe current consensus mechanisms: PoET/CFT (Also called PoET Simulator, PoET 1, etc.); PBFT, Raft, and DevMode ","username":"amundson","ts":"2018-11-28T15:35:29.759Z"}
{"msg":"Soon PoET 2 (SGX and non-SGX) will be available as well.","username":"amundson","ts":"2018-11-28T15:36:00.250Z"}
{"msg":"PoET/CFT is the default currently; PBFT will have its first stable release probably very early January; Raft is a prototype; DevMode is stable but only for development","username":"amundson","ts":"2018-11-28T15:37:42.464Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=BhcG3mHG3moWQAr9o) @jsmitchell @jsmitchell This never made it past the design phase, because of time constraints and concerns about how it would affect performance.","username":"adamludvik","ts":"2018-11-28T16:30:32.429Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=BhcG3mHG3moWQAr9o","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=BhcG3mHG3moWQAr9o","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@amundson I am having a lot of trouble running the consensus and validator images within a kubernetes cluster. Is there any specific hardware I need. There is some issue with the code code in there after I submit a transaction I get a Failed to panic error unwrapping and validator restarts","username":"kc1116","ts":"2018-11-30T15:49:55.169Z"}
{"msg":"Has joined the channel.","username":"digysol","ts":"2018-11-30T18:04:20.928Z","type":"uj"}
{"msg":"@kc1116 , no - no special hardware required.\nAre you aware of https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/kubernetes.html","username":"Dan","ts":"2018-11-30T19:32:33.567Z"}
{"msg":"Need guidance, any idea why would validator keep waiting/in hung state when summarize_block is called via consensus SDK?","username":"arsulegai","ts":"2018-12-04T14:47:15.054Z"}
{"msg":"@amundson ^","username":"arsulegai","ts":"2018-12-04T16:09:34.989Z"}
{"msg":"@amundson thanks for the update on current consensus mechanisms (familiar with all of those). We are happy with PoET for permissioned private and consortium networks. \n\nBut we wish to develop and deploy a public network as well using ERC-20 or ERC-1404 compliant tokens for payments and to implement a PoS style consensus mechanism for public incentives (as per many of the other public chain business models).\n\nFrom what we can see, the pluggable consensus architecture enables us to develop and deploy a PoS algorithm for a public chain.\n\nMy questions are:\n1. Are there any experimental stage PoS algorithms available?\n2. Are there any plans on the road map for developing a PoS algorithm?\n\nIf this is not right forum for this discussion? please let me know and we can engage directly with Intel.\n\nGabriel\n","username":"Gabe","ts":"2018-12-04T20:40:17.041Z"}
{"msg":"I am not aware of any PoS consensuses (consensi?) available for sawtooth or in development. There aren't any on the roadmap.","username":"jsmitchell","ts":"2018-12-04T20:56:18.663Z"}
{"msg":"It would be very cool to see some though. ","username":"Dan","ts":"2018-12-04T21:43:21.741Z"}
{"msg":"@arsulegai I think that message gets handled by the proxy (see diagram here: https://github.com/hyperledger/sawtooth-rfcs/blob/master/text/0000-consensus-api.md#consensus-engine-architecture-integration\nDo you see a log message like this?                       \n```LOGGER.exception(\"ConsensusSummarizeBlock\")```\n\nIf it's just hanging though it might be waiting on the response.\nI believe the proxy routes that summarize request to the block publisher and thence to a candidate block.\nThe most relevant code is probably in the candidate_block.rs:\nhttps://github.com/hyperledger/sawtooth-core/blob/master/validator/src/journal/candidate_block.rs#L341\nI see the potential for GIL contention and lots of other stuff going on in there. You might try adding more logging statements and see if it's stuck in there.","username":"Dan","ts":"2018-12-04T22:13:18.797Z"}
{"msg":"@arsulegai I think that message gets handled by the proxy (see diagram here: https://github.com/hyperledger/sawtooth-rfcs/blob/master/text/0000-consensus-api.md#consensus-engine-architecture-integration\nDo you see a log message like this:                      \n```LOGGER.exception(\"ConsensusSummarizeBlock\")```\n\nIf it's just hanging though it might be waiting on the response.\nI believe the proxy routes that summarize request to the block publisher and thence to a candidate block.\nThe most relevant code is probably in the candidate_block.rs:\nhttps://github.com/hyperledger/sawtooth-core/blob/master/validator/src/journal/candidate_block.rs#L341\nI see the potential for GIL contention and lots of other stuff going on in there. You might try adding more logging statements and see if it's stuck in there.","username":"Dan","ts":"2018-12-04T22:13:18.797Z"}
{"msg":"@Dan thanks - we're looking at moving a PoS development along in the absence of anything on the road map","username":"Gabe","ts":"2018-12-04T22:33:12.846Z"}
{"msg":"@Dan thanks, issue turned out to be because of transaction family version mismatch in client's request.\n\nI see a potential for handling it better. Validator has transactions, but relevant version transaction family is not available when consensus engine sends summarize_block. Validator could rather say nothing to do instead of waiting indefinitely at this point. Any thoughts?","username":"arsulegai","ts":"2018-12-05T00:47:13.286Z"}
{"msg":"There might be log messages about missing the TP? ","username":"Dan","ts":"2018-12-05T02:33:44.138Z"}
{"msg":"No, validator doesn't print anything at this stage of summarizing block. In history of logs from beginning, I see a trace about TP registering with other version.","username":"arsulegai","ts":"2018-12-05T03:08:22.699Z"}
{"msg":"No, verbosity of logs with 3 v's, validator doesn't print anything at this stage of summarizing block. However in history of logs from beginning, I see a trace about TP registering with other version.","username":"arsulegai","ts":"2018-12-05T03:08:22.699Z"}
{"msg":"Has joined the channel.","username":"Brenwen","ts":"2018-12-05T09:04:48.728Z","type":"uj"}
{"msg":"Is there any instruction how to install and run raft engine? I read the documentation (https://sawtooth.hyperledger.org/docs/raft/nightly/master/configuring_deploying.html#starting-a-raft-engine) but it assymes that engine is installed and running already.","username":"Brenwen","ts":"2018-12-05T09:06:15.597Z"}
{"msg":"Is there any instruction how to install and run raft engine? I read the documentation (https://sawtooth.hyperledger.org/docs/raft/nightly/master/configuring_deploying.html#starting-a-raft-engine) but it assumes that engine is installed and running already.","username":"Brenwen","ts":"2018-12-05T09:06:15.597Z"}
{"msg":"This might help","username":"arsulegai","ts":"2018-12-05T11:31:26.739Z"}
{"msg":"do I need to build it from source on github?","username":"Brenwen","ts":"2018-12-05T11:36:06.208Z"}
{"msg":"@Brenwen https://github.com/hyperledger/sawtooth-raft/blob/master/adhoc/node.yaml\n\nThis docker compose file might be helpful","username":"arsulegai","ts":"2018-12-05T16:10:31.511Z"}
{"msg":"I built the raft-engine, now i'm trying to connect 2 nodes into network but have some troubles. When I launch second validator and run raft engine on it - the raft engine of first node crashes with Encoding Error: UnexpectedWireType(WireTypeVariant). When I restart it - the second raft engine crashes with the same error. ","username":"Brenwen","ts":"2018-12-07T07:10:52.860Z"}
{"msg":"Has joined the channel.","username":"nhrishi","ts":"2018-12-10T17:23:28.260Z","type":"uj"}
{"msg":"@Brenwen could you explain in a bit more detail how you're starting up the network? Are you using the provided docker compose files or something else?","username":"ltseeley","ts":"2018-12-10T20:37:08.540Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=tmQ4gddzSnqu8TTGo) @ltseeley I'm starting it in ubuntu on virtualbox.","username":"Brenwen","ts":"2018-12-11T06:55:36.713Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=tmQ4gddzSnqu8TTGo","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=tmQ4gddzSnqu8TTGo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@ltseeley I'm starting it in ubuntu on virtualbox.","username":"Brenwen","ts":"2018-12-11T06:55:36.713Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=tmQ4gddzSnqu8TTGo","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=tmQ4gddzSnqu8TTGo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@ltseeley I'm starting it from ubuntu on virtualbox.","username":"Brenwen","ts":"2018-12-11T06:55:36.713Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=tmQ4gddzSnqu8TTGo","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=tmQ4gddzSnqu8TTGo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"DatNguyen","ts":"2018-12-11T07:22:19.016Z","type":"uj"}
{"msg":"Are you following a process outlined somewhere in the documentation? Could you share the commands you are using to start the validators, Raft engines, etc.?","username":"ltseeley","ts":"2018-12-11T16:48:15.100Z"}
{"msg":"@Brenwen are you trying to dynamically setup network?","username":"arsulegai","ts":"2018-12-11T18:48:28.934Z"}
{"msg":"I just updated my dev sawtooth network on real machines from 1.0 to 1.1 version and now I have some stability and performance issues. I use poet-simulator consensus. After upgrading sawtooth components it didn't work, so I added \"consensus:tcp://127.0.0.1:5050\" to validator.toml bind, installed python3-sawtooth-poet-engine package and run *poet-engine -vvv* in sepparate terminal window. At last it began to work, but much slower than 1.0 version. I have only 2 nodes active now and if I send several requests to validator at once it can freeze for several minutes, while 1.0 version could process more than 50 async post requests at the same time in 15 seconds. Did I do everything correct when upgrading and is there any way to improve the system peformance? ","username":"Brenwen","ts":"2018-12-13T07:49:15.059Z"}
{"msg":"I just updated my dev sawtooth network on real machines from 1.0 to 1.1 version and now I have some stability and performance issues. I use poet-simulator consensus, i raised network as it is explained in docs (https://sawtooth.hyperledger.org/docs/core/releases/1.1/app_developers_guide/creating_sawtooth_network.html#ubuntu-add-a-node-to-the-single-node-environment) and everything was working well. After upgrading sawtooth components it didn't work, so I added \"consensus:tcp://127.0.0.1:5050\" to validator.toml bind, installed python3-sawtooth-poet-engine package and run *poet-engine -vvv* in sepparate terminal window. At last it began to work, but much slower than 1.0 version. I have only 2 nodes active now and if I send several requests to validator at once it can freeze for several minutes, while 1.0 version could process more than 50 async post requests at the same time in 15 seconds. Did I do everything correct when upgrading and is there any way to improve the system peformance? ","username":"Brenwen","ts":"2018-12-13T07:49:15.059Z"}
{"msg":"I just updated my dev sawtooth network on real machines from 1.0 to 1.1 version and now I have some stability and performance issues. I use poet-simulator consensus and raised network as it is explained in docs (https://sawtooth.hyperledger.org/docs/core/releases/1.1/app_developers_guide/creating_sawtooth_network.html#ubuntu-add-a-node-to-the-single-node-environment) and everything was working well. After upgrading sawtooth components it didn't work, so I added \"consensus:tcp://127.0.0.1:5050\" to validator.toml bind, installed python3-sawtooth-poet-engine package and run *poet-engine -vvv* in sepparate terminal window. At last it began to work, but much slower than 1.0 version. I have only 2 nodes active now and if I send several requests to validator at once it can freeze for several minutes, while 1.0 version could process more than 50 async post requests at the same time in 15 seconds. Did I do everything correct when upgrading and is there any way to improve the system peformance? ","username":"Brenwen","ts":"2018-12-13T07:49:15.059Z"}
{"msg":"I just updated my dev sawtooth network on real machines from 1.0 to 1.1 version and now I have some stability and performance issues. I use poet-simulator consensus and raised network as it is explained in docs (https://sawtooth.hyperledger.org/docs/core/releases/1.1/app_developers_guide/creating_sawtooth_network.html#ubuntu-add-a-node-to-the-single-node-environment) and everything was working well. After upgrading sawtooth components it didn't work, so I added \"consensus:tcp://127.0.0.1:5050\" to validator.toml bind, installed python3-sawtooth-poet-engine package and run *poet-engine -vvv* in sepparate terminal window. At last it began to work, but much slower than 1.0 version. I have only 2 nodes active now and if I send several requests to validator at once it can freeze for several minutes, while 1.0 version validator could process more than 50 async post requests at the same time in 15 seconds. Did I do everything correct when upgrading and is there any way to improve the system peformance? ","username":"Brenwen","ts":"2018-12-13T07:49:15.059Z"}
{"msg":"updated network to latest dev version, poet-engine remains 1.1, having same issues with sending multiple post requests. Is there any solution to help solving this problem? ","username":"Brenwen","ts":"2018-12-13T07:49:28.134Z"}
{"msg":" it freezes after log messages of such type:\n[2018-12-13 11:17:01.209 INFO engine] Received Block(block_num: 36, block_id: f3548a7d085f231a89b0feeb066eb154ef0a215af61d6478e75a01b58249adfe171913c3741d898746dac5764a8a213202f76ec0fdf47595e7a71d1a2080d6bb, previous_id: c88e2099a2578106f73f34f10adbf90c0bd262176722115063a9b8db778cd4bf4257ab107d65d54c482a32efd44a7f7cb6104e41e3925db1537cb93536a553d0, signer_id: 037b9204d04b1d93e1d2b29457e581d7676f9d41712b94edaed726746954d9d229, payload: b'{\"SerializedCertificate\": \"{\\\\\"block_hash\\\\\": \\\\\"b\\'\\\\\\\\\\\\\\\\x96\\\\\\\\\\\\\\\\xa4~\\\\\\\\\\\\\\\\x89!=\\\\\\\\\\\\\\\\x04\\\\\\\\\\\\\\\\x04;\\\\\\\\\\\\\\\\xd9\\\\\\\\\\\\\\\\xd0\\\\\\\\\\\\\\\\x15XV\\\\\\\\\\\\\\\\xc0l$f\\\\\\\\\\\\\\\\xd2\\\\\\\\\\\\\\\\xb0q\\\\\\\\\\\\\\\\xa4?\\\\\\\\\\\\\\\\xb9F\\\\\\\\\\\\\\\\x8ffe\\\\\\\\\\\\\\\\xc0\\\\\\\\\\\\\\\\t\\\\\\\\\\\\\\\\x1b\\\\\\\\\\\\\\\\x18\\'\\\\\", \\\\\"duration\\\\\": 1.419965844994794, \\\\\"local_mean\\\\\": 14.799999999999997, \\\\\"nonce\\\\\": \\\\\"d3f2c8ef1d1d9d70c0238b7f42070a80f2e8145a82759adf3b02326e69bbb0b6\\\\\", \\\\\"previous_certificate_id\\\\\": \\\\\"GVRGKZTCHEZWENJX\\\\\", \\\\\"request_time\\\\\": 1544689019.2977455, \\\\\"validator_address\\\\\": \\\\\"037b9204d04b1d93e1d2b29457e581d7676f9d41712b94edaed726746954d9d229\\\\\"}\", \"Signature\": \"634a1f37ad446961e58ac3a292e1cceba0c45f114b71811ca3aafd4de7c191c06d39cec2e1d35a902be7ba0f8fc9ad67e1639e6e896d924f40fb3601f2b44d32\"}', summary: 96a47e89213d04043bd9d0155856c06c2466d2b071a43fb9468f6665c0091b18)\n[2018-12-13 11:17:01.217 DEBUG poet_block_verifier] Block Signer Name=validator-037b9204, ID=037b9204...54d9d229, PoET public key=03aac0fe...44c54caf","username":"Brenwen","ts":"2018-12-13T08:20:27.035Z"}
{"msg":"@amundson @jsmitchell Looks like validator published images on docker-hub or the ones published as debian package, doesn't still support changed consensus SDK behavior. Consensus engine registers with validator but validator doesn't send activated message to consensus SDK. Could you please confirm it?","username":"arsulegai","ts":"2018-12-15T07:46:41.485Z"}
{"msg":"^ @rberg2 ","username":"arsulegai","ts":"2018-12-17T16:54:56.155Z"}
{"msg":"@arsulegai currently the SDK only works with the nightly validator. I'm updating the SDK right now to support both the 1.1 and nightly versions of the validator.","username":"ltseeley","ts":"2018-12-17T18:30:30.454Z"}
{"msg":"Thanks","username":"arsulegai","ts":"2018-12-17T18:50:41.705Z"}
{"msg":"Here's the PR for this SDK update: https://github.com/hyperledger/sawtooth-core/pull/1976","username":"ltseeley","ts":"2018-12-17T21:03:28.406Z"}
{"msg":"is that really <=1.1 or just handling for 1.1 specifically? Like the consensus SDK probably doesn't apply to any release but 1.1 and greater. Not being pedantic just trying to understand if I'm forgetting something.","username":"Dan","ts":"2018-12-17T23:23:12.737Z"}
{"msg":"Has joined the channel.","username":"Eddiwar","ts":"2018-12-17T23:55:57.968Z","type":"uj"}
{"msg":"@ltseeley another question unanswered is that we always picked validator from \"deb [arch=amd64] http://repo.sawtooth.me/ubuntu/nightly xenial universe\" repository and it was not sending activation message. Confused here, so was new nightly validator image published only for bionic?","username":"arsulegai","ts":"2018-12-18T04:32:08.447Z"}
{"msg":"The Hyperledger Sawtooth Team will be hosting a Technical Forum on Thursday, December 20th from 10-11am CDT. The technical forums feature presentations and discussions for the Hyperledger Sawtooth platform. We invite Hyperledger community members interested in Hyperledger Sawtooth to join our forum!\n\nAgenda\nIntroductions-Mark Ford\nHyperledger Sawtooth Consensus API-Logan Seeley\n\nJoin from PC, Mac, Linux, iOS or Android: https://zoom.us/my/hyperledger.community.backup\n\nOr iPhone one-tap :\n    US: +16465588656,,6223336701#  or +16699006833,,6223336701# \nOr Telephone:\n    Dial(for higher quality, dial a number based on your current location): \n        US: +1 646 558 8656  or +1 669 900 6833  or +1 855 880 1246 (Toll Free) or +1 877 369 0926 (Toll Free)\n    Meeting ID: 622 333 6701\n    International numbers available: https://zoom.us/u/bAaJoyznp","username":"mfford","ts":"2018-12-18T15:54:29.670Z"}
{"msg":"@Dan that's a good catch, you're right. I've updated the comments and commit message to reflect that.","username":"ltseeley","ts":"2018-12-18T18:50:10.638Z"}
{"msg":"@rbuysse are the nightly validator images only being published for bionic, or are they published for xenial as well? Re: @arsulegai's question","username":"ltseeley","ts":"2018-12-18T18:51:17.927Z"}
{"msg":"we are publishing nightly bumper images for everything and nightly master images for everything except sawtooth-shell","username":"rbuysse","ts":"2018-12-18T18:53:29.270Z"}
{"msg":"we'll have shell soon once the poet repo is upgraded to bionic","username":"rbuysse","ts":"2018-12-18T18:53:47.841Z"}
{"msg":"@arsulegai so it looks like you are using the nightly master image for the validator. What consensus engine are you using?","username":"ltseeley","ts":"2018-12-18T18:57:36.887Z"}
{"msg":"It's PoET2 consensus engine which is under review. Dockerfile is written to consider latest nightly debian package from \"deb [arch=amd64] http://repo.sawtooth.me/ubuntu/nightly xenial universe\"","username":"arsulegai","ts":"2018-12-20T17:21:09.708Z"}
{"msg":"before that PR is merged any dockerfiles should be updated to use ubuntu:bionic and the bionic distro for the sawtooth repo","username":"rbuysse","ts":"2018-12-20T18:10:32.370Z"}
{"msg":"As far as the first PR for the poet2 branch, I'm inclined not to muddy it. let's get that first PR through and then back into a normal PR cadence with digestible commits. ","username":"Dan","ts":"2018-12-20T18:18:30.011Z"}
{"msg":"As far as the first PR for the poet2 branch, I'm inclined not to muddy it. let's get that first PR through and then back into a normal PR cadence with digestible ~commits~ PRs. ","username":"Dan","ts":"2018-12-20T18:18:30.011Z"}
{"msg":"If this bionic thing is an issue a different option is to peg the poet2 branch to sawtooth 1.1 / xenial. That would also protect the poet2 testing from moving targets in validator master.","username":"Dan","ts":"2018-12-20T19:31:47.278Z"}
{"msg":"its fine with me if the poet2 branch only works with sawtooth 1.1 initially","username":"amundson","ts":"2018-12-20T20:39:45.818Z"}
{"msg":"however, it is probably pretty important to get it working w/master sooner rather than later","username":"amundson","ts":"2018-12-20T20:40:23.960Z"}
{"msg":"Has joined the channel.","username":"PhuongDo","ts":"2018-12-21T03:05:48.232Z","type":"uj"}
{"msg":"@ltseeley Yestarday, during the tech forum, you seemed to mention that sawtooth implementation of PBFT changes the primary/leader node every so often. This is something not described in PBFT paper. I wonder what is the scheme of leader rotation you use?","username":"sergefdrv","ts":"2018-12-21T11:58:34.987Z"}
{"msg":"Hi, @sergefdrv! There is an RFC that describes our solution here: https://github.com/hyperledger/sawtooth-rfcs/pull/29","username":"ltseeley","ts":"2018-12-21T15:49:42.341Z"}
{"msg":"thanks, will have a look","username":"sergefdrv","ts":"2018-12-21T16:01:36.366Z"}
{"msg":"If you have any questions or feedback, feel free to let us know","username":"ltseeley","ts":"2018-12-21T16:05:14.968Z"}
{"msg":"Has joined the channel.","username":"merq","ts":"2018-12-22T03:40:02.937Z","type":"uj"}
{"msg":"Has joined the channel.","username":"hidura","ts":"2018-12-27T04:59:57.182Z","type":"uj"}
{"msg":"Has joined the channel.","username":"tuckerg","ts":"2018-12-27T06:54:58.231Z","type":"uj"}
{"msg":"Need another maintainer check here: https://github.com/hyperledger/sawtooth-poet/pull/15 for bionic","username":"Dan","ts":"2018-12-28T17:20:44.418Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=w6KrmgHfmkZpGbCr8) @ltseeley @ltseeley I've looked through the RFC and wondering how this would impact performance if some of the PBFT nodes appear faulty. In that scenario, regularly changing the leader should mean regularly selecting every faulty node as the leader, as well. If so, this will regularly stop the whole system for the idle timeout. In contract, the origianl PBFT protocol would not do that, but rather stick to the leader as long as it appears to behave correctly. But the original PBFT approach would require the consensus engine to know about individual batches...","username":"sergefdrv","ts":"2018-12-28T20:22:48.694Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=w6KrmgHfmkZpGbCr8","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=w6KrmgHfmkZpGbCr8","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@sergefdrv I think your understanding is correct; this approach definitely has some limitations. In the future this is a problem that could probably be solved in a different way, but for the time being, we think this is sufficient.","username":"ltseeley","ts":"2019-01-02T15:18:17.377Z"}
{"msg":"@Dan we've made some fairly significant improvements in how we use SGX with attestation... if anyone working on PoET or PoET2 is interested, we should probably talk about the protocol for verifying an attestation","username":"MicBowman","ts":"2019-01-05T00:23:36.718Z"}
{"msg":"Sounds cool. I think that would be @amolk and @arsulegai ","username":"Dan","ts":"2019-01-07T21:23:29.172Z"}
{"msg":"I'll get in touch with you, Mic.","username":"amolk","ts":"2019-01-08T00:12:11.589Z"}
{"msg":"^ @manojgop let's sync with Amol, this might help in other case we were discussing","username":"arsulegai","ts":"2019-01-08T08:44:51.930Z"}
{"msg":"Has joined the channel.","username":"manojgop","ts":"2019-01-08T08:44:52.457Z","type":"uj"}
{"msg":"Has joined the channel.","username":"dokany","ts":"2019-01-08T13:05:16.777Z","type":"uj"}
{"msg":"Has joined the channel.","username":"satish67","ts":"2019-01-09T09:23:22.629Z","type":"uj"}
{"msg":"Hello, everyone, i have a general question regarding sawtooth architecture, as sawtooth can execute the parallel transaction processor, does it mean for each transaction processor ledger will be different like channel in fabric, thanks in advance","username":"satish67","ts":"2019-01-09T09:23:29.743Z"}
{"msg":"@satish67 there's single ledger in sawtooth. Whether to execute transactions in parallel or not is decided by input/output addresses field in transaction header.","username":"arsulegai","ts":"2019-01-09T14:06:40.043Z"}
{"msg":"Has joined the channel.","username":"muniyaraj","ts":"2019-01-11T12:26:57.168Z","type":"uj"}
{"msg":"anyone can explain about payload?","username":"muniyaraj","ts":"2019-01-11T12:27:43.100Z"}
{"msg":"and why we need input and output address","username":"muniyaraj","ts":"2019-01-11T12:28:23.884Z"}
{"msg":"?","username":"muniyaraj","ts":"2019-01-11T12:28:26.027Z"}
{"msg":"Input addresses tell transaction professor the addresses it can read in Merle tree, output addresses are the ones it can write to.","username":"arsulegai","ts":"2019-01-11T15:10:51.330Z"}
{"msg":"It's also used to decide if transactions can be executed in parallel.\n\nPayload is information you want your client to send to TP, do you've specific questions?","username":"arsulegai","ts":"2019-01-11T15:12:53.883Z"}
{"msg":"Hi everyone! Is there a good reference explaining why PoET with SGX is byzantine fault tolerant, aside from the sawtooth docs?","username":"dokany","ts":"2019-01-11T21:25:30.513Z"}
{"msg":"Has joined the channel.","username":"nanspro","ts":"2019-01-12T10:08:23.022Z","type":"uj"}
{"msg":"Hello,\n\nI've a question regarding ZMQ service and connection implementation for SDK. It's seen that send_msg() in rpc is made blocking call and doesn't return until validator tells it has read the message. Is my understanding correct?","username":"arsulegai","ts":"2019-01-14T13:55:16.682Z"}
{"msg":"@amundson @jsmitchell ^","username":"arsulegai","ts":"2019-01-14T13:55:44.530Z"}
{"msg":"Which language?","username":"jsmitchell","ts":"2019-01-14T14:40:10.389Z"}
{"msg":"Rust","username":"arsulegai","ts":"2019-01-14T15:03:16.981Z"}
{"msg":"Have you tried adding a no_wait to see what the effect is?","username":"jsmitchell","ts":"2019-01-14T15:55:33.528Z"}
{"msg":"Changing from 0 to 1?","username":"arsulegai","ts":"2019-01-14T15:58:44.396Z"}
{"msg":"you are referring to this line? https://github.com/hyperledger/sawtooth-core/blob/master/sdk/rust/src/messaging/zmq_stream.rs#L123","username":"jsmitchell","ts":"2019-01-14T16:00:20.909Z"}
{"msg":"https://github.com/hyperledger/sawtooth-core/blob/master/sdk/rust/src/messaging/zmq_stream.rs#L291","username":"jsmitchell","ts":"2019-01-14T16:01:29.831Z"}
{"msg":"https://docs.rs/zmq/0.8.2/zmq/static.DONTWAIT.html","username":"jsmitchell","ts":"2019-01-14T16:08:49.838Z"}
{"msg":"Yes, you're right.. This is the one I was referring to","username":"arsulegai","ts":"2019-01-14T16:23:46.786Z"}
{"msg":"Changed it to 1, to make it DONTWAIT, other terms from 0 to 1","username":"arsulegai","ts":"2019-01-14T16:24:13.957Z"}
{"msg":"I could see behavior changed because of this modification, however later at line https://github.com/hyperledger/sawtooth-core/blob/6c12eb5faca3c14d8ce4838aef19cbaafd1b630a/sdk/rust/src/consensus/zmq_service.rs#L64 there's one more block when it comes to ZmqService","username":"arsulegai","ts":"2019-01-14T16:32:15.252Z"}
{"msg":"what do you mean \"you could see behavior changed\"? What is the effect?","username":"jsmitchell","ts":"2019-01-14T16:32:39.797Z"}
{"msg":"Ok, I'll explain the observation.. But to complete previous statement the https://github.com/hyperledger/sawtooth-core/blob/6c12eb5faca3c14d8ce4838aef19cbaafd1b630a/sdk/rust/src/consensus/zmq_driver.rs#L40 the service timeout of 300 seconds is applied.. Thus blocking it","username":"arsulegai","ts":"2019-01-14T16:34:08.261Z"}
{"msg":"Changed behavior is that in earlier case when the value was *not* DONTWAIT, trace at https://github.com/hyperledger/sawtooth-core/blob/6c12eb5faca3c14d8ce4838aef19cbaafd1b630a/sdk/rust/src/messaging/zmq_stream.rs#L290 printed in log and it took long time to print (forgot actual number, it was long enough to fail Raft consensus) https://github.com/hyperledger/sawtooth-core/blob/6c12eb5faca3c14d8ce4838aef19cbaafd1b630a/sdk/rust/src/messaging/zmq_stream.rs#L262, moreover there were no other activities in between","username":"arsulegai","ts":"2019-01-14T16:41:23.920Z"}
{"msg":"However with latter configuration, observed that Raft consensus engine ran a little longer. Could see it at least received VoteRequest from others when waiting for service timeout.","username":"arsulegai","ts":"2019-01-14T16:43:13.824Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=npoMGjtW5XGBr5Bf3) Anyone?","username":"dokany","ts":"2019-01-15T12:59:06.185Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=npoMGjtW5XGBr5Bf3","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=npoMGjtW5XGBr5Bf3","remote":true,"fileId":null,"fileName":null}]}
{"msg":"This is the best reference. https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html\nTLDR the waiting time is enforced in an enclave. There's more defense in depth than that but that's the gist.\nWhat PoW does with repeatedly hashing you get with a trusted timer in PoET.","username":"Dan","ts":"2019-01-15T20:10:04.698Z"}
{"msg":"@dokany There isn't a formal proof, to my knowledge (it's something that I'm attempting to write, though).","username":"hartm","ts":"2019-01-17T19:57:47.798Z"}
{"msg":"Has joined the channel.","username":"adeelm","ts":"2019-01-18T16:40:15.407Z","type":"uj"}
{"msg":"Hi, I am trying to create a sawtooth network on 5 nodes, I understand from the documentation that all nodes should have sawtooth installed with PoET consensus, I am not able to find how to install PoET, can someone help me?","username":"adeelm","ts":"2019-01-18T16:41:17.985Z"}
{"msg":"Do consensus engine implementation need wait for block commit message (Update::BlockCommit) from Validator before calling initialize_block(), or can it start building the next block immediately after calling commit_block() by specifying \"previous_id\" in initialize_block() same as block_id in commit_block(). ","username":"manojgop","ts":"2019-01-20T07:11:03.006Z"}
{"msg":"Should consensus engine implementation need to wait for block commit message (Update::BlockCommit) from Validator before calling initialize_block(), or can it start building the next block immediately after calling commit_block() by specifying \"previous_id\" in initialize_block() same as block_id in commit_block(). ","username":"manojgop","ts":"2019-01-20T07:11:03.006Z"}
{"msg":"@manojgop I think it needs to wait so the validator has access to the applied base state from the prior block. This could probably be done on top of ephemeral state, but would require changes to the validator.","username":"jsmitchell","ts":"2019-01-20T16:27:38.791Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=axnkBg34megjLBDNC) @adeelm A good channel for imstallation and configuration questions is #sawtooth. For your question see https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/creating_sawtooth_network.html","username":"danintel","ts":"2019-01-21T03:27:49.368Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=axnkBg34megjLBDNC","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=axnkBg34megjLBDNC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Question: Consider the case as follows (from Raft consensus)\n1) Client sends request to a non-leader validator node\n2) Client's request is invalid\n3) Follower node here broadcasted invalid transaction to all other nodes as well\n4) Leader node's consensus engine asked leader validator to start forming the block - Leader node got chance to execute the transactions, it saw invalid transaction and rejected it\n5) But follower node doesn't get any intimation from other to reject the block (this is by nature of blockchain)","username":"arsulegai","ts":"2019-01-21T09:13:09.835Z"}
{"msg":"Problem is follower never became leader, follower's queue is full with all invalid transactions.. They never get removed from it","username":"arsulegai","ts":"2019-01-21T09:13:40.763Z"}
{"msg":"Is my understanding correct or something wrong here?","username":"arsulegai","ts":"2019-01-21T09:14:00.180Z"}
{"msg":"@manojgop @jsmitchell I'm actually not sure that's true. I think you can initialize the new block on top of a specified previous block as long as the validator has the previous block. That being said, I belive we've only operated under the assumption that it's best to wait for confirmation that the block was committed before starting the next one, so I wouldn't want to make any guarantees.","username":"ltseeley","ts":"2019-01-21T15:33:24.717Z"}
{"msg":"Try it and see :)","username":"jsmitchell","ts":"2019-01-21T15:40:17.693Z"}
{"msg":"@jsmitchell @ltseeley help me to understand transaction scheduling module ^","username":"arsulegai","ts":"2019-01-21T17:32:27.133Z"}
{"msg":"invalid transactions are currently only removed from the pending queue when the validator successfully publishes a block","username":"jsmitchell","ts":"2019-01-21T17:33:22.257Z"}
{"msg":"clearly, this wouldn't be expected to happen with any regularity for consensuses where the leader role either doesn't change or changes slowly","username":"jsmitchell","ts":"2019-01-21T17:36:12.455Z"}
{"msg":"pending queue maintenance in such scenarios needs to be re-designed, imo","username":"jsmitchell","ts":"2019-01-21T17:37:35.680Z"}
{"msg":"Thanks, that explains the behaviour observed","username":"arsulegai","ts":"2019-01-21T17:38:14.494Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=88dc988d-50dc-4bdf-9789-70e1be91a5b6) @danintel Thank you @danintel I am following this URL that you have sent but I am not able to start the validator properly and the first node is able to show the peers but the other nodes do not display the peers. I am trying to setup a network of 5 nodes. ","username":"adeelm","ts":"2019-01-21T19:05:58.721Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=88dc988d-50dc-4bdf-9789-70e1be91a5b6","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=88dc988d-50dc-4bdf-9789-70e1be91a5b6","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG) @jsmitchell I observed that if we call finalize_block() without calling summarize_block(), then finalize_block() will return InvalidState(\"Cannot finalize block in current state\") when I send invalid transaction. For example, raft consensus was not calling summarize_block() before calling finalize_block() and raft node crashes if we send invalid transaction. ```\nWhen I checked the journal/publisher.rs, it looks like InvalidState error occurs since finalize_block() is returning \"FinalizeBlockError::BlockNotInitialized\". finalize_block() should have ideally called restart_block() and returned FinalizeBlockError::BlockEmpty. summarize_block() is calling restart_block() and returning FinalizeBlockError::BlockEmpty if there are invalid transactions.\n``` ","username":"manojgop","ts":"2019-01-22T09:32:21.598Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG) @jsmitchell I observed that if we call finalize_block() without calling summarize_block(), then finalize_block() will return InvalidState(\"Cannot finalize block in current state\") when I send invalid transaction. For example, raft consensus was not calling summarize_block() before calling finalize_block() and raft node crashes if we send invalid transaction. ```\nWhen I checked the journal/publisher.rs, it looks like InvalidState error occurs since finalize_block() is returning \"FinalizeBlockError::BlockNotInitialized\". finalize_block() should have ideally called restart_block() and returned FinalizeBlockError::BlockEmpty if there are invalid transactions in batch. summarize_block() is calling restart_block() and returning FinalizeBlockError::BlockEmpty if there are invalid transactions.\n``` ","username":"manojgop","ts":"2019-01-22T09:32:21.598Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG) @jsmitchell I observed that if we call finalize_block() without calling summarize_block(), then finalize_block() will return InvalidState(\"Cannot finalize block in current state\") when I send invalid transaction. For example, raft consensus was not calling summarize_block() before calling finalize_block() and raft node crashes if we send invalid transaction. ```\nWhen I checked the journal/publisher.rs, it looks like InvalidState error occurs since finalize_block() is returning \"FinalizeBlockError::BlockNotInitialized\". finalize_block() should have ideally called restart_block() and returned FinalizeBlockError::BlockEmpty if there are invalid transactions in batch. summarize_block() is calling restart_block() and returning FinalizeBlockError::BlockEmpty if there are invalid transactions. So for now, I need to call summarize_block() before calling finalize_block() to avoid crashing raft node.\n``` ","username":"manojgop","ts":"2019-01-22T09:32:21.598Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG) @jsmitchell @ltseeley  I observed that if we call finalize_block() without calling summarize_block(), then finalize_block() will return InvalidState(\"Cannot finalize block in current state\") when I send invalid transaction. For example, raft consensus was not calling summarize_block() before calling finalize_block() and raft node crashes if we send invalid transaction. ```\nWhen I checked the journal/publisher.rs, it looks like InvalidState error occurs since finalize_block() is returning \"FinalizeBlockError::BlockNotInitialized\". finalize_block() should have ideally called restart_block() and returned FinalizeBlockError::BlockEmpty if there are invalid transactions in batch. summarize_block() is calling restart_block() and returning FinalizeBlockError::BlockEmpty if there are invalid transactions. So for now, I need to call summarize_block() before calling finalize_block() to avoid crashing raft node in case of invalid transaction.\n``` ","username":"manojgop","ts":"2019-01-22T09:32:21.598Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9qNyrgiuuMymDzwoG","remote":true,"fileId":null,"fileName":null}]}
{"msg":"How to fix the issue on ubuntu. this is supply chain project\nI showing \"Step 1/11 : FROM hyperledger/sawtooth-shell:nightly\nERROR: Service 'shell' failed to build: manifest for hyperledger/sawtooth-shell:nightly not found\"","username":"muniyaraj","ts":"2019-01-22T09:51:05.257Z"}
{"msg":"@muniyaraj Please take your query to the #sawtooth-supply-chain channel","username":"amolk","ts":"2019-01-22T09:55:36.587Z"}
{"msg":"I have sent but dont have reply","username":"muniyaraj","ts":"2019-01-22T09:57:05.826Z"}
{"msg":"thank u.","username":"muniyaraj","ts":"2019-01-22T09:57:11.927Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=XxYCyRP72gy7ZbJgo) @adeelm One possibility is that networking between the nodes is not working then. TCP port 8800 needs to be open between peer nodes.","username":"danintel","ts":"2019-01-22T18:33:18.020Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=XxYCyRP72gy7ZbJgo","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=XxYCyRP72gy7ZbJgo","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@manojgop you should be able to catch and handle the `InvalidState` error when calling `finalize_block`; currently if `finalize_block` returns any error other than `BlockNotReady`, Raft will simply `panic`.","username":"ltseeley","ts":"2019-01-22T20:16:41.235Z"}
{"msg":"https://github.com/hyperledger/sawtooth-raft/blob/master/src/node.rs#L205","username":"ltseeley","ts":"2019-01-22T20:19:07.727Z"}
{"msg":"Has joined the channel.","username":"youngerjo","ts":"2019-01-23T03:44:48.165Z","type":"uj"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=wPDJupcGjDLR3y23s) @ltseeley I'm expecting `BlockNotReady `if we sent invalid transactions instead of `InvalidState` error. But if I call `summarize_block()` before `finalize_block()` I'm getting `BlockNotReady` as expected . So for now I've modified the Raft code to call `summarize_block()` before `finalize_block()`","username":"manojgop","ts":"2019-01-23T04:39:18.224Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=wPDJupcGjDLR3y23s","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=wPDJupcGjDLR3y23s","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Psypher246","ts":"2019-01-23T06:46:21.942Z","type":"uj"}
{"msg":"Hello all,\nI've been working on orchestrating a cloud deployment of a sawtooth network based on 1.1.2 with poet and have been struggling with some of the requirements. My problem is specifically with a circular dependency between the validator and the poet engine containers as per the docker-compose file found here: `https://github.com/hyperledger/sawtooth-core/blob/master/docker/compose/sawtooth-default-poet.yaml` In that deployment the logic flow is as such:\nlaunch validator and poet engine container in parallel\nvalidator creates keys and copies them to a shared volume\npoet engine runs poet enclave commands and saves the output to shared volume\npoet engine copies a key to the shared volume\npoet engine runs `poet create registration` and saves the `poet.batch` file to the shared volume, at the same time writing the data to a store in `/var/lib/sawtooth`\npoet engine waits for validator key to be copied to shared volume and runs the `poet-engine` command\nvalidator  waits for poet enclave files and key file and with it creates a `config.batch` file using `sawset proposal create`\nvalidator waits for poet.batch file and creates a genesis block with it and the config.batch by running `sawadm genesis`\nvalidator runs `sawtooth-validator` command\n\nMy problem lies with the back and forth copying of the keys and poet.batch file as the orchestration service I'm using (AWS CloudFormation) requires that the validator container has completed launching before it's automatically generated and registered ip and hostname is available to use downstream in the automation, in this case, as an argument for `poet-engine` to connect to. IE: I can't run validator till I run the poet-engine but I can't run the poet engine till I run the validator.\nNow one way I think I can get around this is by installing poet-cli on the validator and running all the poet commands there, but at first this was not working since the poet engine also needed the content in the keystore in `/var/lib/sawtooth`. The result of not having this keystore but yet having the poet.batch file is that everything starts up fine, no errors, but when you try submit any transactions nothing happens, all you get is a pending tx url, no logs appear on any of the containers, which made this hard to troubleshoot. I got a hint yesterday about the keystore and did a simple test with docker compose and was able to replicate a broken node as I described, and fixed it by copying the keystore files from the validator to the poet-engine. I need to do more testing but this did seem to work, however this is not pretty and I don't know what other effects this will have. It's not too hard to get around this but given that the deployment goes onto a distributed computing environment, where I don't have access to shared storage, my best course of action is to use an object store like S3 to copy the keyfiles into and then back again to the poet-engine when it's booting. Additionally I have to install the awscli onto the container to achieve this, which adds bloat and means I have to build my own container.\nSo my questions are, if I was to go with copying the keystore from the validator to the poet engine will that cause any unforeseen issues?\nAnd is there a better way to do this? If not at this time but in future releases could this be made to work better in a loosely coupled fashion? It seems fine when working with a single docker-compose file on one machine but starts to become problematic when decoupled. \nThanks in advance.","username":"Psypher246","ts":"2019-01-23T07:27:47.938Z"}
{"msg":"Hello all,\nI've been working on orchestrating a cloud deployment of a sawtooth network based on 1.1.2 with poet and have been struggling with some of the requirements. My problem is specifically with a circular dependency between the validator and the poet engine containers as per the docker-compose file found here: `https://github.com/hyperledger/sawtooth-core/blob/master/docker/compose/sawtooth-default-poet.yaml` In that deployment the logic flow is as such:\nlaunch validator and poet engine container in parallel\nvalidator creates keys and copies them to a shared volume\npoet engine runs poet enclave commands and saves the output to shared volume\npoet engine copies a key to the shared volume\npoet engine runs `poet create registration` and saves the `poet.batch` file to the shared volume, at the same time writing the data to a store in `/var/lib/sawtooth`\npoet engine waits for validator key to be copied to shared volume and runs the `poet-engine` command\nvalidator  waits for poet enclave files and key file and with it creates a `config.batch` file using `sawset proposal create`\nvalidator waits for poet.batch file and creates a genesis block with it and the config.batch by running `sawadm genesis`\nvalidator runs `sawtooth-validator` command\n\nMy problem lies with the back and forth copying of the keys and poet.batch file as the orchestration service I'm using (AWS CloudFormation) requires that the validator container has completed launching before it's automatically generated and registered ip and hostname is available to use downstream in the automation, in this case, as an argument for `poet-engine` to connect to. IE: I can't run validator till I run the poet-engine but I can't run the poet engine till I run the validator.\nNow one way I think I can get around this is by installing poet-cli on the validator and running all the poet commands there, but at first this was not working since the poet engine also needed the content in the keystore in `/var/lib/sawtooth`. The result of not having this keystore but yet having the poet.batch file is that everything starts up fine, no errors, but when you try submit any transactions nothing happens, all you get is a pending tx url, no logs appear on any of the containers, which made this hard to troubleshoot. I got a hint yesterday about the keystore and did a simple test with docker compose and was able to replicate a broken node as I described, and fixed it by copying the keystore files from the validator to the poet-engine. I need to do more testing but this did seem to work, however this is not pretty and I don't know what other effects this will have. It's not too hard to get around this but given that the deployment goes onto a distributed computing environment, where I don't have access to shared storage, my best course of action is to use an object store like S3 to copy the keyfiles into and then back again to the poet-engine when it's booting. Additionally I have to install the awscli onto the container to achieve this, which adds bloat and means I have to build my own container.\nSo my questions are, if I was to go with copying the keystore from the validator to the poet engine will that cause any unforeseen issues?\nAnd is there a better way to do this? If not at this time but in future releases could this be made to work better in a loosely coupled fashion? It seems fine when working with a single docker-compose file on one machine but starts to become problematic when decoupled. \nThanks in advance.\nEDIT: Turns out that worked but I had to jump through some new hoops since the keystore file is a 1TB sparse file. As per a tip here: `https://stackoverflow.com/questions/13252682/copying-a-1tb-sparse-file` I had to use `bsdtar Sczvf` on the validator and copy the tgz to S3 and then `tar Szxvf` on the poet engine to unzip it. For the first time I have a node working with poet but when I create a game with XO I noticed it takes about 8 seconds before it appears in `xo list` which seems quite long, is this normal?\nNow going to try connect a second node.  ","username":"Psypher246","ts":"2019-01-23T07:27:47.938Z"}
{"msg":"Hello all,\nI've been working on orchestrating a cloud deployment of a sawtooth network based on 1.1.2 with poet and have been struggling with some of the requirements. My problem is specifically with a circular dependency between the validator and the poet engine containers as per the docker-compose file found here: `https://github.com/hyperledger/sawtooth-core/blob/master/docker/compose/sawtooth-default-poet.yaml` In that deployment the logic flow is as such:\nlaunch validator and poet engine container in parallel\nvalidator creates keys and copies them to a shared volume\npoet engine runs poet enclave commands and saves the output to shared volume\npoet engine copies a key to the shared volume\npoet engine runs `poet create registration` and saves the `poet.batch` file to the shared volume, at the same time writing the data to a store in `/var/lib/sawtooth`\npoet engine waits for validator key to be copied to shared volume and runs the `poet-engine` command\nvalidator  waits for poet enclave files and key file and with it creates a `config.batch` file using `sawset proposal create`\nvalidator waits for poet.batch file and creates a genesis block with it and the config.batch by running `sawadm genesis`\nvalidator runs `sawtooth-validator` command\n\nMy problem lies with the back and forth copying of the keys and poet.batch file as the orchestration service I'm using (AWS CloudFormation) requires that the validator container has completed launching before it's automatically generated and registered ip and hostname is available to use downstream in the automation, in this case, as an argument for `poet-engine` to connect to. IE: I can't run validator till I run the poet-engine but I can't run the poet engine till I run the validator.\nNow one way I think I can get around this is by installing poet-cli on the validator and running all the poet commands there, but at first this was not working since the poet engine also needed the content in the keystore in `/var/lib/sawtooth`. The result of not having this keystore but yet having the poet.batch file is that everything starts up fine, no errors, but when you try submit any transactions nothing happens, all you get is a pending tx url, no logs appear on any of the containers, which made this hard to troubleshoot. I got a hint yesterday about the keystore and did a simple test with docker compose and was able to replicate a broken node as I described, and fixed it by copying the keystore files from the validator to the poet-engine. I need to do more testing but this did seem to work, however this is not pretty and I don't know what other effects this will have. It's not too hard to get around this but given that the deployment goes onto a distributed computing environment, where I don't have access to shared storage, my best course of action is to use an object store like S3 to copy the keyfiles into and then back again to the poet-engine when it's booting. Additionally I have to install the awscli onto the container to achieve this, which adds bloat and means I have to build my own container.\nSo my questions are, if I was to go with copying the keystore from the validator to the poet engine will that cause any unforeseen issues?\nAnd is there a better way to do this? If not at this time but in future releases could this be made to work better in a loosely coupled fashion? It seems fine when working with a single docker-compose file on one machine but starts to become problematic when decoupled. \nThanks in advance.\nEDIT: Turns out that worked but I had to jump through some new hoops since the keystore file is a 1TB sparse file. As per a tip here: `https://stackoverflow.com/questions/13252682/copying-a-1tb-sparse-file` I had to use `bsdtar Sczvf` on the validator and copy the tgz to S3 and then `tar Szxvf` on the poet engine to unzip it. For the first time I have a node working with poet but when I create a game with XO I noticed it takes about 8 seconds before it appears in `xo list` which seems quite long, is this normal? I don't recall devmode on sawtooth 1.0.5 being this slow\nNow going to try connect a second node.  ","username":"Psypher246","ts":"2019-01-23T07:27:47.938Z"}
{"msg":"Regarding Raft Consensus, I'm stuck that all nodes are not taking intkey transaction. \nSetup: 4 nodes NUCs, ubuntu/bumper/nightly, default raft consensus parametes.\nMy nodes are: N1, N2, N3, N4. N2 is the genesis and Leader node as well.\nI submitted an intkey transaction to N3 rest-endpoint. Transaction reaches to all nodes. Verified by seeing TP log.\nWhen I query rest-endpoints of all nodes, only N3 and N4 are showing intkey transaction.\nI've tried this many times but the behaviour is same.","username":"pankajgoyal","ts":"2019-01-23T09:32:44.365Z"}
{"msg":"@Psypher246 the inter-block time w/PoET will vary; the target wait time can be modified, but usually 30s is a good figure. running a PoET network with too few nodes will cause the actual wait time to vary widely (>=5 nodes is preferred). if it only took 8s, that seems within norms; if you are running only one validator, that wait time could have ended up being 5 minutes if you weren't lucky with the random number generation (more nodes averages this out). Throughput is a combination of the average wait time and the number of batches per block. devmode on the other hand, just produces blocks without any waiting.","username":"amundson","ts":"2019-01-24T06:48:48.261Z"}
{"msg":"@pankajgoyal maybe try it with 1.1 and see if you get the same result. it would be an interesting data point. Raft needs more testing and refinement, for sure. If you want something more stable, use PBFT, we will actively chase after any bugs in PBFT.","username":"amundson","ts":"2019-01-24T06:54:27.378Z"}
{"msg":"@amundson thanks for the explanation. Now if I only could get more than one node to work...\nAlso any comment about the other pains?","username":"Psypher246","ts":"2019-01-24T07:02:35.755Z"}
{"msg":"@Psypher246 I think @rberg2 could potentially give some insights, he has been doing kubernetes deployments of 1.1+PoET and had to solve these things in that context too.","username":"amundson","ts":"2019-01-24T07:05:40.662Z"}
{"msg":"I've a question on Sawtooth Raft design related to Log entry. The Log entries maintained in Sawtooth Raft corresponds to block id. My understanding is, in current design, the Leader node commits the block if the followers has the corresponding block in its log entry. But leader doesn't ensure if the follower node has received all the batches corresponding to this block before commiting this block. I guess the assumption here is follower will receive the batches via gossip network from its peers before leader commits the block. ?  After running raft for more than 24 hrs I've seen the follower nodes sending too many batch request and leader node responding to batch request. ","username":"manojgop","ts":"2019-01-24T13:13:33.687Z"}
{"msg":"I've a question on Sawtooth Raft design related to Log entry. The Log entries maintained in Sawtooth Raft corresponds to block id. My understanding is, in current design, the Leader node commits the block if the followers has the corresponding block in its log entry. But leader doesn't ensure if the follower node has received all the batches corresponding to this block before commiting this block. I guess the assumption here is follower will receive the batches of the block via gossip network from its peers before leader commits the block. ?  After running raft for more than 24 hrs I've seen the follower nodes sending too many batch request and leader node responding to batch request. ","username":"manojgop","ts":"2019-01-24T13:13:33.687Z"}
{"msg":"I've a question on Sawtooth Raft design related to Log entry. The Log entries maintained in Sawtooth Raft corresponds to block id. My understanding is, in current design, the Leader node commits the block if the followers has the corresponding block in its log entry. But leader doesn't ensure if the follower node has received all the batches corresponding to this block before commiting this block. I guess the assumption here is follower will receive the batches of the block via gossip network from its peers before leader commits the block. ?  After running raft for more than 24 hrs I've seen the follower nodes sending too many batch requests and leader node responding to batch request.  Could someone give any insight on this behavior. Because of this Eventually the leader nodes gets lot of messages to process and its unable to process the headet beat pings from the peer validators and eventually removes the connection. So there is some bottleneck in the system due to which message processing is getting slow","username":"manojgop","ts":"2019-01-24T13:13:33.687Z"}
{"msg":"I've a question on Sawtooth Raft design related to Log entry. The Log entries maintained in Sawtooth Raft corresponds to block id. My understanding is, in current design, the Leader node commits the block if the followers has the corresponding block in its log entry. But leader doesn't ensure if the follower node has received all the batches corresponding to this block before commiting this block. I guess the assumption here is follower will receive the batches in the block via gossip network from its peers before leader commits the block. ?  After running raft for more than 24 hrs I've seen the follower nodes sending too many batch requests and leader node responding to batch request.  Could someone give any insight on this behavior. Because of this Eventually the leader nodes gets lot of messages to process and its unable to process the headet beat pings from the peer validators and eventually removes the connection. So there is some bottleneck in the system due to which message processing is getting slow","username":"manojgop","ts":"2019-01-24T13:13:33.687Z"}
{"msg":"I've a question on Sawtooth Raft design related to Log entry. The Log entries maintained in Sawtooth Raft corresponds to block id. My understanding is, in current design, the Leader node commits the block if the followers has the corresponding block in its log entry. But leader doesn't ensure if the follower node has received all the batches corresponding to this block before commiting this block. I guess the assumption here is follower will receive the batches in the block via gossip network from its peers before leader commits the block. ?  After running raft for more than 24 hrs I've seen the follower nodes sending too many batch requests and leader node responding to batch request.  Could someone give any insight on this behavior. Because of this eventually the leader nodes gets lot of messages to process and its unable to process the heart beat pings from the peer validators and eventually removes the peer connection after timeout. So there is some bottleneck in the system due to which message processing is getting slow","username":"manojgop","ts":"2019-01-24T13:13:33.687Z"}
{"msg":"Hi @Psypher246 everything I have been doing in Kubernetes uses the /poet-shared stuff with the the shell loops waiting for files to arrive. I am not quite clear what about AWS CloudFormation","username":"rberg2","ts":"2019-01-24T15:56:36.476Z"}
{"msg":"Hi @Psypher246 everything I have been doing in Kubernetes uses the /poet-shared stuff with the the shell loops waiting for files to arrive. I am not quite clear what about AWS CloudFormation prevents you from using volumes within a pod  edit: the send button is way too close to the cursor and I keep sending when I dont mean to :\\","username":"rberg2","ts":"2019-01-24T15:56:36.476Z"}
{"msg":"@manojgop how many nodes and where were you submitting the batches in this scenario?","username":"jsmitchell","ts":"2019-01-24T17:36:22.582Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ) @jsmitchell 3 nodes","username":"manojgop","ts":"2019-01-25T04:10:39.596Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ) @jsmitchell 3 nodes. Docker based. All nodes running on same VM","username":"manojgop","ts":"2019-01-25T04:10:39.596Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ) @jsmitchell 3 nodes . Docker based. All nodes running on same VM. Running intkey work load at 5TPS","username":"manojgop","ts":"2019-01-25T04:10:39.596Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YgJ97zqWbY67uxbBJ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"Behzad 2","ts":"2019-01-26T20:41:28.519Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jastisriradheshyam","ts":"2019-01-27T08:27:59.411Z","type":"uj"}
{"msg":"I see that \"version\" and \"name\" are hardcoded for poet (https://github.com/hyperledger/sawtooth-poet/blob/master/engine/sawtooth_poet_engine/engine.py) and devmode (https://github.com/hyperledger/sawtooth-devmode/blob/master/src/engine.rs) and for Raft (https://github.com/hyperledger/sawtooth-raft/blob/master/src/engine.rs) version is CARGO_PKG_VERSION and name is CARGO_PKG_NAME. In case of debian raft package, CARGO_PKG_VERSION is a mismatch to sawtooth.consensus.algorithm.version. ","username":"pankajgoyal","ts":"2019-01-28T09:24:11.392Z"}
{"msg":"PBFT is also using CARGO_PKG_VERSION. Has anyone installed and run PBFT using debian package?","username":"pankajgoyal","ts":"2019-01-28T09:36:52.857Z"}
{"msg":"Has joined the channel.","username":"moulika","ts":"2019-01-28T11:04:33.432Z","type":"uj"}
{"msg":"@pankajgoyal yes, I've installed and run PBFT using a debian package and it has worked for me.","username":"ltseeley","ts":"2019-01-28T17:26:49.374Z"}
{"msg":"what are the pbft settings that you set?","username":"pankajgoyal","ts":"2019-01-28T17:27:40.427Z"}
{"msg":"The settings should be: ```\nsawtooth.consensus.algorithm.name=pbft\nsawtooth.consensus.algorithm.version=0.1.0\n``` ","username":"ltseeley","ts":"2019-01-28T17:28:56.068Z"}
{"msg":"That is, if the `name` and `version` variables in the `Cargo.toml` that is used to build the debian package are `pbft` and `0.1.0` respectively","username":"ltseeley","ts":"2019-01-28T17:29:28.042Z"}
{"msg":"@ltseeley Right this setting works for debian released under 0.1.0 version, if debian is from nightly it differs (ref: https://github.com/hyperledger/sawtooth-pbft/blob/8a8224dffadd7780cd4adac76e201f06331358b3/Dockerfile-installed-bionic#L51 ~same for Raft), this information is not documented.","username":"arsulegai","ts":"2019-01-29T08:38:09.245Z"}
{"msg":"@ltseeley Right the version field is fetched from contents set in VERSION file, this will not match 0.1.0 for nightly releases. There is need to document a way to fetch this version number.","username":"arsulegai","ts":"2019-01-29T08:38:09.245Z"}
{"msg":"@ltseeley Right the version field is fetched from contents set in VERSION file, this will not match 0.1.0 for nightly releases. There is need to document a way to fetch this version number, in these cases eventually a version check command \"sawtooth-raft-engine --version\" would give the value.","username":"arsulegai","ts":"2019-01-29T08:38:09.245Z"}
{"msg":"hi all, Can you please tell how to use sawtooth explorer\n\nHave any guidance for that?","username":"muniyaraj","ts":"2019-01-30T08:41:59.828Z"}
{"msg":"@muniyaraj that's a question for the general #sawtooth channel","username":"pschwarz","ts":"2019-01-30T16:18:48.715Z"}
{"msg":"Has joined the channel.","username":"robinrob","ts":"2019-01-30T19:42:15.249Z","type":"uj"}
{"msg":"@arsulegai @kelly_ @TomBarnes is there a transaction processor spec I can look at for PoET 2's valdiator registry? I want to compare it to the PoET 1 registry.","username":"amundson","ts":"2019-01-31T16:54:18.846Z"}
{"msg":"@amundson Validator registry TP follows same implementation as in PoET 1, however you will see slight deviations when it comes to signup info verification. PSE manifest params are not verified in PoET 2.","username":"arsulegai","ts":"2019-02-01T03:37:49.820Z"}
{"msg":"@amundson Removing PSE (Platform Service Enclave) dependencies including monotonic counters is one of the major difference of POET2 SGX enclave compared with POET1. So PSE Manifest checks have been removed in POET2 (in IAS verification report)","username":"manojgop","ts":"2019-02-01T04:24:18.768Z"}
{"msg":"@amundson Removing PSE (Platform Service Enclave) dependencies including monotonic counters is one of the major difference of POET2 SGX enclave compared with POET1. So PSE Manifest checks have been removed in POET2 (in IAS verification report). This change was done to support running POET on Intel Xeon servers where Platform Services (monotonic counters, trusted time) are not available","username":"manojgop","ts":"2019-02-01T04:24:18.768Z"}
{"msg":"@amundson Removing PSE (Platform Service Enclave) dependencies including monotonic counters is one of the major difference of POET2 SGX enclave compared with POET1. So PSE Manifest checks have been removed in POET2 (in IAS verification report). This change was done to support running POET on Intel Xeon servers with SGX support but Platform Services (monotonic counters, trusted time) are not available","username":"manojgop","ts":"2019-02-01T04:24:18.768Z"}
{"msg":"Has joined the channel.","username":"Zeshun","ts":"2019-02-04T00:18:16.155Z","type":"uj"}
{"msg":"@amundson . Couple of points regarding POET2 PR -> https://github.com/hyperledger/sawtooth-poet/pull/10```\n\n``` ","username":"manojgop","ts":"2019-02-04T12:17:28.259Z"}
{"msg":"@amundson . Couple of points regarding POET2 PR -> https://github.com/hyperledger/sawtooth-poet/pull/10```\n\n``` ","username":"manojgop","ts":"2019-02-04T12:17:28.259Z"}
{"msg":"@amundson. Below are some points which provides some background of POET2 PR ->https://github.com/hyperledger/sawtooth-poet/pull/10","username":"manojgop","ts":"2019-02-04T12:19:47.096Z"}
{"msg":"@amundson  Below are some points which provides some background of POET2 PR ->https://github.com/hyperledger/sawtooth-poet/pull/10","username":"manojgop","ts":"2019-02-04T12:19:47.096Z"}
{"msg":"@amundson  Below are some points which provides some background on POET2 PR ->https://github.com/hyperledger/sawtooth-poet/pull/10","username":"manojgop","ts":"2019-02-04T12:19:47.096Z"}
{"msg":"1.  New/Modified components in POET2 is not designed to be backward compatible with existing POET1. \n2.  After POET2 functionality is enabled we don't plan to continue supporting POET1 in future releases.\n3.  Not all POET1 files/folders are deleted. Some of the existing POET1 files are reused and are moved to new directory structure\n4.  Existing PR raised have lot of commits. If existing PR have to be split into independent components which can be built independently then that would require modifying the git commit history. This would need lot of rework. We can consider doing this - For example, raise independent PRs for VRTP, POET2 Enclave, RUST-C++ SGX Enclave FFI, IAS client/proxy","username":"manojgop","ts":"2019-02-04T12:22:33.115Z"}
{"msg":"1.  New/Modified components in POET2 is not designed to be backward compatible with existing POET1. \n2.  After POET2 functionality is enabled we don't plan to continue supporting POET1 in future releases.\n3.  Not all POET1 files/folders are deleted. Some of the existing POET1 files are reused and are moved to new directory structure\n4.  Existing PR raised have lot of commits. If existing PR have to be split into independent components which can be built independently then that would require modifying the git commit history.  We can consider doing this - For example, raise independent PRs for VRTP, POET2 Enclave, RUST-C++ SGX Enclave FFI, IAS client/proxy. Once these PRs get merged we can raise PR for main POET2 engine. This would need lot of rework.","username":"manojgop","ts":"2019-02-04T12:22:33.115Z"}
{"msg":"1.  New/Modified components in POET2 is not designed to be backward compatible with existing POET1. \n2.  After POET2 functionality is enabled we don't plan to continue supporting POET1 in future releases.\n3.  Not all POET1 files/folders are deleted. Some of the existing POET1 files are reused and are moved to new directory structure\n4.  Existing PR raised have lot of commits. If existing PR have to be split into independent components which can be built independently then that would require modifying the git commit history.  We can consider doing this - For example, raise independent smaller PRs for VRTP, POET2 Enclave, RUST-C++ SGX Enclave FFI, IAS client/proxy. Once these PRs get merged we can raise another PR for main POET2 engine. This would need lot of rework and modifying git commit history.","username":"manojgop","ts":"2019-02-04T12:22:33.115Z"}
{"msg":"1.  New/Modified components in POET2 is not designed to be backward compatible with existing POET1. \n2.  After POET2 functionality is enabled we don't plan to continue supporting POET1 in future releases.\n3.  Not all POET1 files/folders are deleted. Some of the existing POET1 files are reused and are moved to new directory structure\n4.  Existing PR raised have lot of commits. If existing PR have to be split into independent components which can be built independently then that would require modifying the git commit history.  We can consider doing this - For example, raise independent smaller PRs for Validator Registry TP, POET2 SGX Enclave, RUST-C++ SGX Enclave FFI, IAS client/proxy. Once these PRs get merged we can raise another PR for main POET2 engine. This would need lot of rework and modifying git commit history.","username":"manojgop","ts":"2019-02-04T12:22:33.115Z"}
{"msg":"1.  New/Modified components in POET2 is not designed to be backward compatible with existing POET1. \n2.  After POET2 functionality is enabled we don't plan to continue supporting POET1 in future releases.\n3.  Not all POET1 files/folders are deleted. Some of the existing POET1 files are reused and are moved to new directory structure\n4.  Existing PR raised have lot of commits. If existing PR have to be split into independent smaller PRs which can be built independently then that would require modifying the git commit history.  We can consider doing this - For example, raise independent smaller PRs for Validator Registry TP, POET2 SGX Enclave, RUST-C++ SGX Enclave FFI, IAS client/proxy. Once these PRs get merged we can raise another PR for main POET2 engine. This would need lot of rework and modifying git commit history.","username":"manojgop","ts":"2019-02-04T12:22:33.115Z"}
{"msg":"1.  New/Modified components in POET2 is not designed to be backward compatible with existing POET1. \n2.  After POET2 functionality is enabled we don't plan to continue supporting POET1 in future releases.\n3.  Not all POET1 files/folders are deleted. Some of the existing POET1 files are reused and are moved to new directory structure\n4.  Existing PR raised have lot of commits. If existing PR have to be split into independent smaller PRs which can be built independently then that would require modifying the git commit history.  We can consider doing this - For example, raise independent smaller PRs for Validator Registry TP, POET2 SGX Enclave, RUST-C++ SGX Enclave FFI, IAS client/proxy. ( Currently these components and enhancements are added as commits in same PR). Once these smaller PRs get merged we can raise another PR for main POET2 engine. But this would need lot of rework and modifying git commit history.","username":"manojgop","ts":"2019-02-04T12:22:33.115Z"}
{"msg":"Would you be able to review the code in https://github.com/manojgop/sawtooth-poet/tree/poet2-dev. This is the development repo for POET2. We could setup a call to give a quick walk though of main components of POET2 and differences compared to POET1. This could probably help to address review comments and expedite the review process. Let me know how you would like to take this PR forward","username":"manojgop","ts":"2019-02-04T12:28:06.076Z"}
{"msg":"Would you be able to review the code in https://github.com/manojgop/sawtooth-poet/tree/poet2-dev. This is the development repo for POET2. We could setup a call to give a quick walk through of main components of POET2 and differences compared to POET1. This could probably help to address review comments and expedite the review process. Let me know how you would like to take this PR forward","username":"manojgop","ts":"2019-02-04T12:28:06.076Z"}
{"msg":"@manojgop Deprecating PoET in its current form before we have a viable, tested alternative seems premature. Dropping support for the current PoET (especially without an appropriate upgrade path) seems like a non-starter to me without support for state checkpointing, since we need to be able to re-process our existing chains with existing blocks. ","username":"amundson","ts":"2019-02-04T17:18:12.034Z"}
{"msg":"@manojgop With respect to reviews, PRs need to be submitted in reasonable chunks. Not +13722,-32000. I don't think the commit history in the PR is particularly useful or relevant as-is, because it was neither peer-reviewed or broken up in a way meant to be reviewable. (Thought the later commits in the PR look substantially better than the first.)","username":"amundson","ts":"2019-02-04T17:27:06.688Z"}
{"msg":"I'm willing to be an advocate for getting these PRs reviewed and merged in, but you have to start taking some advice, because otherwise I can't help you. My current advice is to submit a seperate PR against poet2 branch with only the new validator registory TP. I'm interested in seeing that eventually support the current version of PoET even if your team isn't working on it, so it would be beneficial to do it separately so we can easily cherry-pick those commits from poet2 branch to master (adding/modifying it to support PoET 1).","username":"amundson","ts":"2019-02-04T17:36:33.219Z"}
{"msg":"That seems sufficiently self-contained, and once we get through that simplified PR, then we can select another piece for the next PR, etc.","username":"amundson","ts":"2019-02-04T17:37:53.958Z"}
{"msg":"@amundson Sounds good. We'll create a design document which highlights the changes made in POET2 and differences w.r.t POET1. Going forward can we review the design first to avoid lot of code rework for future PRs.  Shall we share the design document via this channel or do you prefer any other forum where we can discuss this. We can start reviewing the design of validator registry TP followed by other components - POET2 SGX Enclave, RUST-C++ SGX Enclave FFI, IAS client/proxy and then POET2 engine.","username":"manojgop","ts":"2019-02-05T05:46:25.728Z"}
{"msg":"@manojgop ok, looking forward to the TP PR. I suggest just starting by putting together the PR first, then going from there based on the PR comments.","username":"amundson","ts":"2019-02-05T06:37:51.860Z"}
{"msg":"@amundson  Will work on the PR for validator registry TP. But one concern I've is if we don't review the design first it may result in lot of code rework during PR review. For example, in case of validator registry TP we went ahead with design assumption that it need not be backward compatible with POET1. ","username":"manojgop","ts":"2019-02-05T09:06:25.873Z"}
{"msg":"@rberg2 thanks for the confirmation, I went back and did some more research on the capabilities of AWS ECS and Fargate (which is where the problem really lay not CFN)  and have been able to now get this to work in a similar fashion. Thanks again. ","username":"Psypher246","ts":"2019-02-05T09:14:15.861Z"}
{"msg":"Has left the channel.","username":"nanspro","ts":"2019-02-06T15:26:24.827Z","type":"ul"}
{"msg":"Has joined the channel.","username":"circlespainter","ts":"2019-02-09T10:27:29.690Z","type":"uj"}
{"msg":"Has joined the channel.","username":"joaohsenger","ts":"2019-02-12T13:52:42.928Z","type":"uj"}
{"msg":"Has joined the channel.","username":"jaypersanchez","ts":"2019-02-13T11:31:11.041Z","type":"uj"}
{"msg":"Hello everyone.  How can I start to contribute to Sawtooth?","username":"jaypersanchez","ts":"2019-02-13T11:32:23.875Z"}
{"msg":"Has joined the channel.","username":"david-kim-tpe","ts":"2019-02-14T08:21:50.917Z","type":"uj"}
{"msg":"Has joined the channel.","username":"coldmind","ts":"2019-02-19T13:35:21.364Z","type":"uj"}
{"msg":"Hi!\nI need to integrate Tendermint as a consensus provider for my Sawtooth project.\n\nMy thoughts are to create custom consensus engine, which will send some info\nto the Tendermint via simple ABCI application: https://img42.com/CjdQL+\n\nFor example, Hyperledger Burrow is running a Tendermint node as a subprocess,\nand somehow sending its own transactions to it.\n\nI think I can do something similar: write a consensus engine for Sawtooth in Go, \nwhich will give ability to run Tendermint as a subprocess too instead of separate node.\n\nBut, I'm conserned about which info I should send to Tendermint.\n\nThe main idea is to maintain blocks order state in Tendermint:\n1. Validation step of Sawtooth requires to reach consensus in its own consensus engine.\n2. I can send proposed block number and last block header hash to Tendermint.\n3. After Tendermint will reach consensus (in other words stores this info among its nodes),\nthis will be a signal for the engine of Sawtooth that block is ready to be finalized.\n\nCan this be a working solution to be integrated with Tendermint?","username":"coldmind","ts":"2019-02-19T13:35:48.598Z"}
{"msg":"@coldmind I looked at this a while ago. What you are saying sounds like it could work. My impression of ABCI is that it is similar to our interface for TPs (for writing apps) and not at all an interface for consensus. That approach would probably require Tendermint nodes still communicate to each other over a separate network unless that code is modified within Tendermint to be pluggable.","username":"amundson","ts":"2019-02-19T14:48:56.894Z"}
{"msg":"I'm looking back at some of @adamludvik 's notes on the topic. With \"Sawtooth as a Tendermint App\" (using ABCI), the concerns were basically duplication of concerns between Tendermint and Sawtooth - specifically, they would both do p2p communication, block construction/signing, and consensus. Sawtooth would provide state management, transaction execution, transaction signing (there may be this in Tendermint too?), and client query handling (events, etc.).","username":"amundson","ts":"2019-02-19T15:09:37.050Z"}
{"msg":"However, the problem w/Tendermint as just a consensus algorithm is that the current code base (this was from 2017) isn't modular and doesn't expose an API for using the just the consensus algorithm itself. So it is monolithic in that way, and would require extensive reworking of the Tendermint code to separate out the algorithm from the rest of the code.","username":"amundson","ts":"2019-02-19T15:12:48.038Z"}
{"msg":"The other approach would be to use only the algorithm. However, the problem w/Tendermint as just a consensus algorithm is that the current code base (this was from 2017) isn't modular and doesn't expose an API for using the just the consensus algorithm itself. So it is monolithic in that way, and would require extensive reworking of the Tendermint code to separate out the algorithm from the rest of the code.","username":"amundson","ts":"2019-02-19T15:12:48.038Z"}
{"msg":"I believe Burrow is a fairly traditional Tendermint application in terms of its relationship w/Tendermint.","username":"amundson","ts":"2019-02-19T15:15:43.349Z"}
{"msg":"@coldmind If you need help understanding or working with the Sawtooth consensus engine API, @ltseeley has done work on PBFT and Raft consensus engines.","username":"amundson","ts":"2019-02-19T15:17:18.641Z"}
{"msg":"@amundson thank you for response. Indeed, Tendermint nodes will require to communicate to each other. The point is to have benefit of ABCI app, which will allow some nice opportunities along with built-in consensus engine. I will try to make it work.","username":"coldmind","ts":"2019-02-19T19:07:41.472Z"}
{"msg":"@coldmind how will you coorelate a sawtooth node to a tendermint node?","username":"amundson","ts":"2019-02-19T19:10:31.530Z"}
{"msg":"or maybe it doesn't matter, its whatever node it's locally talking to. nevermind. :)","username":"amundson","ts":"2019-02-19T19:11:20.830Z"}
{"msg":"good luck, let us know how it goes and how we can help","username":"amundson","ts":"2019-02-19T19:11:30.543Z"}
{"msg":"Has joined the channel.","username":"MelodyMcIntyre","ts":"2019-02-21T06:48:28.457Z","type":"uj"}
{"msg":"Has joined the channel.","username":"duncanjw","ts":"2019-02-22T11:04:09.860Z","type":"uj"}
{"msg":"@amundson rookie question but what is the status of PoET-SGX on 1.1 as both the 1.1 and nightly docs say it is not supported but will be be end of 2018?","username":"duncanjw","ts":"2019-02-22T11:05:05.220Z"}
{"msg":"@amundson rookie question but what is the status of PoET-SGX on 1.1 as both the 1.1 and nightly docs say it is not supported but will be by end of 2018?","username":"duncanjw","ts":"2019-02-22T11:05:05.220Z"}
{"msg":"https://sawtooth.hyperledger.org/docs/core/nightly/master/sysadmin_guide/configure_sgx.html","username":"duncanjw","ts":"2019-02-22T11:06:50.947Z"}
{"msg":"@duncanjw PoET2 is currently on hold due to a higher priority project (stabilizing Raft). So for now the options is using PoET-CFT on 1.1 or PoET-SGX on 1.0. Others directly involved might have more details.","username":"danintel","ts":"2019-02-22T18:51:47.222Z"}
{"msg":"@danintel many thanks for clarifying","username":"duncanjw","ts":"2019-02-22T19:19:04.913Z"}
{"msg":"@danintel worth pointing out that the system admin documentation I referenced doesn't mention Raft only PBFT and PoET-CFT so it's still a work in progress?","username":"duncanjw","ts":"2019-02-22T19:37:08.141Z"}
{"msg":"Relevant section is https://sawtooth.hyperledger.org/docs/core/nightly/master/sysadmin_guide/setting_up_sawtooth_poet-sim.html","username":"duncanjw","ts":"2019-02-22T19:37:38.377Z"}
{"msg":"@duncanjw That may be an oversight. Raft is mentioned at https://sawtooth.hyperledger.org/docs/core/nightly/master/introduction.html#dynamic-consensus-algorithms\nRaft is further along than PBFT, last I heard. I'll let others chime in on that.","username":"danintel","ts":"2019-02-22T19:44:51.823Z"}
{"msg":"Actually, PBFT is practically ready to use. We are getting very close to a stable release.","username":"ltseeley","ts":"2019-02-22T19:49:12.694Z"}
{"msg":"There are a few little changes that we're working on right now, but most of our effort right now is being spent on testing and stabilizing.","username":"ltseeley","ts":"2019-02-22T19:51:06.704Z"}
{"msg":"There are a few little changes that we're working on, but most of our effort right now is being spent on testing and stabilizing.","username":"ltseeley","ts":"2019-02-22T19:51:06.704Z"}
{"msg":"@danintel according to current Raft documentation it is of limited use in production https://sawtooth.hyperledger.org/docs/raft/nightly/master/introduction.html","username":"duncanjw","ts":"2019-02-22T21:50:57.116Z"}
{"msg":"The Sawtooth Raft consensus engine may be right for you if your Sawtooth deployment will:Consist of a small number of nodes (roughly 1 to 10)\nHave a mostly fixed membership\nNot require Byzantine fault tolerance\n","username":"duncanjw","ts":"2019-02-22T21:51:32.996Z"}
{"msg":"The Sawtooth Raft consensus engine may be right for you if your Sawtooth deployment will:\n1. Consist of a small number of nodes (roughly 1 to 10)\n2. Have a mostly fixed membership\n3. Not require Byzantine fault tolerance\n","username":"duncanjw","ts":"2019-02-22T21:51:32.996Z"}
{"msg":"First two points means it is to quote Douglas Adams \"mostly harmless\" but in practice - if true - utterly useless","username":"duncanjw","ts":"2019-02-22T21:53:39.960Z"}
{"msg":"First two points mean it is to quote Douglas Adams \"mostly harmless\" but in practice - if true - utterly useless","username":"duncanjw","ts":"2019-02-22T21:53:39.960Z"}
{"msg":"Not sure I understand why this was given priority (if it was) over making sure PoET-SGX was compatible with Sawtooth 1.1","username":"duncanjw","ts":"2019-02-22T21:54:45.915Z"}
{"msg":"it's a do-ocracy. The people/teams that write the code make the decisions about what they are going to work on.","username":"jsmitchell","ts":"2019-02-22T21:56:41.312Z"}
{"msg":"@duncanjw I would add:\n4. Finality--no forking of the blockchain as with Nakamoto (Lottery)-based consensus","username":"danintel","ts":"2019-02-22T22:02:58.726Z"}
{"msg":"PBFT definitely not behind Raft. Recommend PBFT over Raft.","username":"amundson","ts":"2019-02-23T02:50:34.381Z"}
{"msg":"@jsmitchell a do-ocracy is fine but as a community we have annouced Sawtooth 1.1 and given the impression it is building on what has gone before by adding support for new consensus mechanisms and if we want it adopted we can't afford to drop the ball on core features","username":"duncanjw","ts":"2019-02-24T10:19:33.419Z"}
{"msg":"@jsmitchell a do-ocracy is fine but as a community we have announced Sawtooth 1.1 and given the impression it is building on what has gone before by adding support for new consensus mechanisms and if we want it adopted we can't afford to drop the ball on core features","username":"duncanjw","ts":"2019-02-24T10:19:33.419Z"}
{"msg":"@jsmitchell a do-ocracy is fine but as a community we have announced Sawtooth 1.1 and given the impression it is building on what has gone before by adding support for new consensus mechanisms and if we want it adopted we can't afford to drop the ball on key features","username":"duncanjw","ts":"2019-02-24T10:19:33.419Z"}
{"msg":"The release notes imply the same and - yes - they have a caveat re PoET-SGX if you read the small print there is CMA language -\n>PoET-SGX has not been validated on Sawtooth 1.1. Users relying on PoET-SGX are recommended to remain on Sawtooth 1.0. We are working on a new implementation of poet and its TEE enclave, which is anticipated for a point release in the near future.","username":"duncanjw","ts":"2019-02-24T10:22:36.071Z"}
{"msg":"The release notes imply the same and - yes - they have a caveat re PoET-SGX if you read the small print there is CMA language -\n>PoET-SGX has not been validated on Sawtooth 1.1. Users relying on PoET-SGX are recommended to remain on Sawtooth 1.0. We are working on a new implementation of poet and its TEE enclave, which is anticipated for a point release in the near future.","username":"duncanjw","ts":"2019-02-24T10:22:36.071Z"}
{"msg":"The release notes imply the same and - yes - they have a caveat re PoET-SGX if you read the small print there is CMA language -\n>PoET-SGX has not been validated on Sawtooth 1.1. Users relying on PoET-SGX are recommended to remain on Sawtooth 1.0. We are working on a new implementation of poet and its TEE enclave, which is anticipated for a point release in the near future.\nhttps://sawtooth.hyperledger.org/release/bumper/#consensus","username":"duncanjw","ts":"2019-02-24T10:22:36.071Z"}
{"msg":"The release notes imply the same and - yes - they have a caveat re PoET-SGX if you read the small print there is the following caveat -\n>PoET-SGX has not been validated on Sawtooth 1.1. Users relying on PoET-SGX are recommended to remain on Sawtooth 1.0. We are working on a new implementation of poet and its TEE enclave, which is anticipated for a point release in the near future.\nhttps://sawtooth.hyperledger.org/release/bumper/#consensus","username":"duncanjw","ts":"2019-02-24T10:22:36.071Z"}
{"msg":"The press release and release notes went out Dec 6 so to be told it's a do-ocracy (which is tantamount to flipping the bird!) nearly three months on doesn't cut it if as I say we want people to take us seriously","username":"duncanjw","ts":"2019-02-24T10:26:06.759Z"}
{"msg":"The press release and release notes went out Dec 6 so to be told it's a do-ocracy (which is tantamount to being flipped the bird or at least that's how it feels!) nearly three months on doesn't cut it if as I say we want people to take us seriously","username":"duncanjw","ts":"2019-02-24T10:26:06.759Z"}
{"msg":"@jsmitchell you've convinced me on the read with prefix point so maybe I can convince you on this point :)","username":"duncanjw","ts":"2019-02-24T10:39:13.738Z"}
{"msg":"The problem is that by remaining on Sawtooth 1.0 someone cannot from benefit from all the improvements, bug fixes etc listed in the release note https://sawtooth.hyperledger.org/release/bumper/#core-sawtooth-components","username":"duncanjw","ts":"2019-02-24T10:44:57.841Z"}
{"msg":"The problem is someone reading this will realised that by remaining on Sawtooth 1.0 they cannot from benefit from all the improvements, bug fixes etc listed in the release note https://sawtooth.hyperledger.org/release/bumper/#core-sawtooth-components","username":"duncanjw","ts":"2019-02-24T10:44:57.841Z"}
{"msg":"The problem is someone reading this will realised that by remaining on Sawtooth 1.0 they cannot from benefit from all the improvements, *bug fixes* etc listed in the release note https://sawtooth.hyperledger.org/release/bumper/#core-sawtooth-components","username":"duncanjw","ts":"2019-02-24T10:44:57.841Z"}
{"msg":"The problem is someone reading this will very quickly realise that by remaining on Sawtooth 1.0 they cannot from benefit from all the improvements, *bug fixes* etc listed in the release note https://sawtooth.hyperledger.org/release/bumper/#core-sawtooth-components","username":"duncanjw","ts":"2019-02-24T10:44:57.841Z"}
{"msg":"Happy to have a call to discuss but right now it reads like PoET-SGX is essentially deprecated in Sawtooth 1.1","username":"duncanjw","ts":"2019-02-24T10:49:27.523Z"}
{"msg":"@duncanjw my point was that Intel has a team that has ostensibly signed up to maintain the poet code. So, if they decide to focus on something else for whatever reason, thats up to them, because they are doing that work. Im not going to attempt to convince them otherwise. Not my place. Now, if someone else decided that they wanted this fixed with priority and contributed some PRs, Im sure those would be welcomed.","username":"jsmitchell","ts":"2019-02-24T14:40:05.238Z"}
{"msg":"Has joined the channel.","username":"firevenus2019","ts":"2019-02-25T03:37:58.449Z","type":"uj"}
{"msg":"Has joined the channel.","username":"rbnaraujo","ts":"2019-02-26T14:50:21.638Z","type":"uj"}
{"msg":"","username":"rbnaraujo","ts":"2019-02-26T14:51:09.606Z","attachments":[{"type":"file","title":"Clipboard - February 26, 2019 10_08 AM.png","title_link":"/file-upload/2HgKQdZoxkrTRCwKp/Clipboard%20-%20February%2026,%202019%2010_08%20AM.png","image_url":"/file-upload/2HgKQdZoxkrTRCwKp/Clipboard%20-%20February%2026,%202019%2010_08%20AM.png","image_type":"image/png","image_size":38798,"url":"/file-upload/2HgKQdZoxkrTRCwKp/Clipboard%20-%20February%2026,%202019%2010_08%20AM.png","remote":false,"fileId":"2HgKQdZoxkrTRCwKp","fileName":"Clipboard - February 26, 2019 10_08 AM.png"}]}
{"msg":"@rbnaraujo I see the same question on stackoverflow and answered there. Basically you need to preserver file ownership and permissions when copying the files.  Use the `cp -p` option.  That is \n`cp -p --sparse=always [file] [file_backup]` using your example at  https://stackoverflow.com/questions/54892920/backup-lmdb-database-from-hyperledger-sawtooth/","username":"danintel","ts":"2019-02-26T21:54:10.528Z"}
{"msg":"Has joined the channel.","username":"prabu3192","ts":"2019-02-27T06:00:26.631Z","type":"uj"}
{"msg":"Has joined the channel.","username":"haggs","ts":"2019-03-03T21:39:46.878Z","type":"uj"}
{"msg":"anyone else noticing that download.01.org is  504 timing out, and therefore breaking the sawtooth-poet builds?","username":"kodonnel","ts":"2019-03-05T16:13:59.990Z"}
{"msg":"anyone else noticing that download.01.org(where sgx bins are downloaded from) is  504 timing out, and therefore breaking the sawtooth-poet builds?  ","username":"kodonnel","ts":"2019-03-05T16:13:59.990Z"}
{"msg":"Intel's https://download.01.org/ and subdirectories seem live to me. Maybe it was temporary or there is a specific file missing?","username":"danintel","ts":"2019-03-05T16:52:40.654Z"}
{"msg":"back now for me too.  It was the whole site for quite a few hours yesterday.  c'est la vie.","username":"kodonnel","ts":"2019-03-06T13:40:01.379Z"}
{"msg":"Has joined the channel.","username":"pankajcheema","ts":"2019-03-07T05:50:33.697Z","type":"uj"}
{"msg":"Need advice - I've a question on the Sawtooth Raft consensus engine (it may well be a question on raft-rs)\nCan applying snapshot make changes to the committed log entries?","username":"arsulegai","ts":"2019-03-07T18:26:52.934Z"}
{"msg":"If so, will committed_entries field from ready contain the delta of those log entry changes? The delta of log entries which are either added or removed.","username":"arsulegai","ts":"2019-03-07T18:28:37.684Z"}
{"msg":"^ @amundson ","username":"arsulegai","ts":"2019-03-07T18:38:39.640Z"}
{"msg":"@arsulegai I'm not that familiar with the raft code","username":"amundson","ts":"2019-03-07T21:01:52.230Z"}
{"msg":"Ok. Other Sawtooth Raft developers, any help here is much appreciated","username":"arsulegai","ts":"2019-03-08T00:22:00.367Z"}
{"msg":"@amundson Do you mean question is outside the of scope of sawtooth-raft and you're not familiar with raft-rs library part?","username":"arsulegai","ts":"2019-03-08T04:13:58.417Z"}
{"msg":"@ltseeley Could you please help me with your understanding?","username":"arsulegai","ts":"2019-03-08T11:08:00.316Z"}
{"msg":"Has joined the channel.","username":"hyper_learner_ak","ts":"2019-03-13T08:55:30.506Z","type":"uj"}
{"msg":"@arsulegai based on my understanding of the Raft paper, it seems like the snapshot should NOT make changes to any log entries that are already committed (they should be final). However, I'm not sure to what extent the raft-rs library enforces that. It's been a while since I've done a lot with Raft.","username":"ltseeley","ts":"2019-03-13T14:04:52.000Z"}
{"msg":"Thanks @ltseeley that resonates with the observation so far.","username":"arsulegai","ts":"2019-03-13T14:23:13.768Z"}
{"msg":"We've a scenario\n1. Leader node has proposed a new block, it received a go signal from maximum follower node. Ready status has a committable_entry.\n2. Leader node added the block corresponding to this committable_entry in its Blockchain.\n3. However the follower node went down before it could receive leader's commit confirmation.\n4. Leader went ahead and proposed a new block, because it still has majority of followers (info on timers: block propose time is lesser than the election tick)\n5. Follower node comes back online. Raft synced information from leader and received latest commit log entry.","username":"arsulegai","ts":"2019-03-13T14:36:43.031Z"}
{"msg":"Problem in this case is that the follower node didn't receive latest block or the block that is already committed when follower node went down.","username":"arsulegai","ts":"2019-03-13T14:46:54.003Z"}
{"msg":"Problem in this case is that the follower node didn't receive latest block or the block that is already committed when it went down.","username":"arsulegai","ts":"2019-03-13T14:46:54.003Z"}
{"msg":"This scenario will be recovered when leader publishes a new block after committing current block. But what if at step 3, majority of followers go down?","username":"arsulegai","ts":"2019-03-13T14:50:28.799Z"}
{"msg":"Wanted to hear opinion on these scenarios. Do we claim in such case that Raft is not CFT if majority of nodes are down?","username":"arsulegai","ts":"2019-03-13T14:55:17.488Z"}
{"msg":"In Raft its possible that a log entry that's committed in leader node can be overwritten later if a follower becomes leader. So is the block added to block chain by leader node. ```\nEntry  in Raft is committed only if it satisfies two conditions 1) It is majority stored and 2) at least one entry from leaders term is also majority stored\n``` ","username":"manojgop","ts":"2019-03-13T15:11:48.491Z"}
{"msg":"In Raft its possible that a log entry that's committed in leader node can be overwritten later if a follower becomes leader. So is the block added to block chain by leader node, the head could be overwritten later```\nEntry  in Raft is committed only if it satisfies two conditions 1) It is majority stored and 2) at least one entry from leaders term is also majority stored\n``` ","username":"manojgop","ts":"2019-03-13T15:11:48.491Z"}
{"msg":"In Raft its possible that a log entry that's committed in leader node can be overwritten later if a follower becomes leader. So if the block added to block chain by leader node, the head could be overwritten later```\nEntry  in Raft is committed only if it satisfies two conditions 1) It is majority stored and 2) at least one entry from leaders term is also majority stored\n``` ```\nThis video explains this case it towards the end https://www.youtube.com/watch?v=RHDP_KCrjUc \n``` ","username":"manojgop","ts":"2019-03-13T15:11:48.491Z"}
{"msg":"In Raft its possible that a log entry that's committed in leader node can be overwritten later if a follower becomes leader. So if the block added to block chain by leader node, the head could be overwritten later```\nEntry  in Raft is committed only if it satisfies two conditions 1) It is majority stored and 2) at least one entry from leaders term is also majority stored\n``` ```\nThis video explains this case towards the end *https://www.youtube.com/watch?v=RHDP_KCrjUc* \n``` ","username":"manojgop","ts":"2019-03-13T15:11:48.491Z"}
{"msg":"Video at 19:10 explains safe log commitment scenario","username":"arsulegai","ts":"2019-03-13T15:30:51.843Z"}
{"msg":"I don't know if raft-rs considers a entry as \"committable_entry\" if it's safe as in the video","username":"arsulegai","ts":"2019-03-13T15:31:23.108Z"}
{"msg":"From name of the variable and the behavior observed, the committable_entry in Ready status doesn't appear to be a safe committed entry","username":"arsulegai","ts":"2019-03-13T15:37:39.126Z"}
{"msg":"@manojgop you're right, blocks added to validator may need to be removed, making space for new blocks coming in. To be in sync with Raft log entries.","username":"arsulegai","ts":"2019-03-13T15:39:10.504Z"}
{"msg":"I can think of one example scenario: \n1. Leader's messages were delayed to the follower nodes and follower nodes elected a new leader amongst them.\n2. The followers with new leader started committing blocks.\n3. Old leader syncs back with the network.\nBoom! New leader and old leader, both of them have different committed log entries with them. One of them should sacrifice and come to agreement.","username":"arsulegai","ts":"2019-03-13T15:43:49.144Z"}
{"msg":"^ @ltseeley thoughts?","username":"arsulegai","ts":"2019-03-13T15:46:30.333Z"}
{"msg":"@arsulegai New leaders term will be higher and old leader will accept new leader. Old leader then will update it's raft log entry (overwrite old entries if necessary) and also update the chain head (if need be).  Raft  consensus for block chain (based on implementation) may not be strictly non-forking for some corner cases as explained in the video where some nodes goes down https://www.youtube.com/watch?v=RHDP_KCrjUc*  ","username":"manojgop","ts":"2019-03-13T15:56:11.778Z"}
{"msg":"@arsulegai New leaders term will be higher and old leader will accept new leader. Old leader then will update it's raft log entry (overwrite old entries if necessary) and also update the chain head (if need be).  Raft  consensus for block chain (based on implementation) may not be strictly non-forking for some corner cases as explained in the video when some nodes goes down https://www.youtube.com/watch?v=RHDP_KCrjUc*  ","username":"manojgop","ts":"2019-03-13T15:56:11.778Z"}
{"msg":"@arsulegai New leaders term will be higher and old leader will accept new leader. Old leader then will update it's raft log entry (overwrite old entries if necessary) and also update the chain head (if need be).  Raft  consensus for block chain (based on implementation) may not be strictly non-forking for some corner cases as explained in the video when some nodes goes down https://www.youtube.com/watch?v=RHDP_KCrjUc ","username":"manojgop","ts":"2019-03-13T15:56:11.778Z"}
{"msg":"That sounds right, @manojgop ","username":"ltseeley","ts":"2019-03-13T15:58:43.469Z"}
{"msg":"Right!","username":"arsulegai","ts":"2019-03-13T16:02:45.668Z"}
{"msg":"Forgetting the case of maximum node failure.. The line at https://github.com/hyperledger/sawtooth-raft/blob/38e52660fe3765f46660954ffb8bc6a332f30a5e/src/block_queue.rs#L96 in sawtooth-raft makes it impossible to apply fork.","username":"arsulegai","ts":"2019-03-13T16:04:01.621Z"}
{"msg":"Removing the second part of && condition will solve this forking issue.","username":"arsulegai","ts":"2019-03-13T16:04:52.192Z"}
{"msg":"However if follower node is restarted, it'll not be in sync until a new block is published by current leader.","username":"arsulegai","ts":"2019-03-13T16:05:16.829Z"}
{"msg":"Completer part of validator has to request the missing previous block id, that then reaches to consensus engine, it then starts committing blocks.","username":"arsulegai","ts":"2019-03-13T16:05:57.923Z"}
{"msg":"@manojgop @ltseeley let me go to one more scenario, continuing our earlier discussions\n1.  Follower nodes is ideally supposed to sync back, when it comes up. Validator's completer part will request for all missing blocks in chain.\n2.  As per procedure all the block need to pass consensus check before getting committed.\n3.  If the follower node again goes down before committing the block. There's possibility that log entry is updated with latest leader's information.\n4.  \"commit_queue\" & \"validator_backlog\" in sawtooth-raft's runtime memory is lost.\n5.  Completer part again gets all missing blocks. But sawtooth-raft will never be able to commit any more blocks.","username":"arsulegai","ts":"2019-03-13T16:42:53.229Z"}
{"msg":"@manojgop @ltseeley let me go to one more scenario, continuing our earlier discussions\n1.  Follower node is ideally supposed to sync back, when it comes up. Validator's completer part will request for all missing blocks in chain.\n2.  As per procedure all the block need to pass consensus check before getting committed.\n3.  If the follower node again goes down before committing the block. There's possibility that log entry is updated with latest leader's information.\n4.  \"commit_queue\" & \"validator_backlog\" in sawtooth-raft's runtime memory is lost.\n5.  Completer part again gets all missing blocks. But sawtooth-raft will never be able to commit any more blocks.","username":"arsulegai","ts":"2019-03-13T16:42:53.229Z"}
{"msg":"\"commit_queue\" will not have next block to be added to Blockchain. It will however gets all other blocks from leader. But validator will not add a block unless it finds the next block as per Blockchain entry.","username":"arsulegai","ts":"2019-03-13T16:43:51.148Z"}
{"msg":"So along with if condition, we also need a mechanism and remember if a block has been committed and needs update.","username":"arsulegai","ts":"2019-03-13T16:44:22.908Z"}
{"msg":"@arsulegai \"commit_queue\" which is a data structure maintained by sawtooth raft should be in sync with Raft log entries (maintained by raft-rs library). Looks like after a node restarts  and \"commit_queue\" is synced with Raft log entries, Raft consensus need to get blocks which was missing. Will \"get_blocks\" API retrieve missing blocks from peer validators if its not present locally? @ltseeley  may be able to confirm this scenario ?","username":"manojgop","ts":"2019-03-13T17:07:12.552Z"}
{"msg":"@arsulegai \"commit_queue\" which is a data structure maintained by sawtooth raft should be in sync with Raft log entries (maintained by raft-rs library). Looks like after a node restarts  and \"commit_queue\" is synced with Raft log entries, Raft consensus need to get missing blocks . Will \"get_blocks\" API retrieve missing blocks from peer validators if its not present locally? @ltseeley  may be able to confirm this scenario ?","username":"manojgop","ts":"2019-03-13T17:07:12.552Z"}
{"msg":"@arsulegai \"commit_queue\" which is a data structure maintained by sawtooth raft should be in sync with Raft log entries (maintained by raft-rs library). Looks like after a node restarts  and \"commit_queue\" is synced with Raft log entries, Raft consensus need to get missing blocks (if any) and validate it (check _blocks) before it can commit it to the chain . Will \"get_blocks\" API retrieve missing blocks from peer validators if its not present locally? @ltseeley  may be able to confirm this scenario ?","username":"manojgop","ts":"2019-03-13T17:07:12.552Z"}
{"msg":"@arsulegai \"commit_queue\" which is a data structure maintained by sawtooth raft should be in sync with Raft log entries (maintained by raft-rs library). Looks like after a node restarts  and \"commit_queue\" is synced with Raft log entries, Raft consensus need to get missing blocks (if any) and validate it  before it can commit it to the chain . Will \"get_blocks\" API retrieve missing blocks from peer validators if its not present locally? @ltseeley  may be able to confirm this scenario ?","username":"manojgop","ts":"2019-03-13T17:07:12.552Z"}
{"msg":"My scenario was \"commit_queue\" lost because of one more restart before the block is committed. Upon next power-on, the raft doesn't consider the block_id again in Ready status.","username":"arsulegai","ts":"2019-03-13T17:46:44.639Z"}
{"msg":"@arsulegai This looks to be the case where raft log entries are committed (and persisted to disk), but before applying these entries to state machine (in sawtooth raft case it is committing the blocks to blockchain), the node restarted. So after restart, we need to consider the entries in raft log which are not yet applied to state machine. Looks like this is not implemented in sawtooth raft. Checkout the function \"get_applied\" in https://docs.rs/raft/0.5.0/raft/struct.RaftLog.html#method.get_applied. @ltseeley Please chime in.","username":"manojgop","ts":"2019-03-14T04:04:53.484Z"}
{"msg":"Sorry guys, it's been quite a while since I've looked at Raft. I'm not sure I have a whole lot to add to this discussion; I think you should be able to compare the committed entries with the blocks that are committed to the chain and implement some logic to get the blockchain to match up with Raft's committed entries.","username":"ltseeley","ts":"2019-03-14T15:15:02.912Z"}
{"msg":"Has joined the channel.","username":"j0g1","ts":"2019-03-15T16:53:32.002Z","type":"uj"}
{"msg":"Hi All. Is there any url when I can get deep introduction to PoET? I would like to know the whole workflow to establish consensus. Documentation provide general overview information wthout real example","username":"j0g1","ts":"2019-03-15T16:55:19.257Z"}
{"msg":"https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/poet.html is the PoET spec (1.0)\nhttps://github.com/hyperledger/sawtooth-rfcs/pull/20/files is the PoET 2.0 RFC, with much good background info\nhttps://drive.google.com/file/d/1IvwMExtAkrCTyO29X6_qaqtpAS1b1wpu/view is a PoET2 video presentation\nhttps://drive.google.com/file/d/0B_NJV6eJXAA1TGdfMjJlT0Qtb0U/view is an older PoET 1 video presentation","username":"danintel","ts":"2019-03-15T23:34:39.846Z"}
{"msg":"@danintel first of course I know but is very general. Today I will investigate others links . Thank You!","username":"j0g1","ts":"2019-03-16T19:34:05.551Z"}
{"msg":"Hi, I run into error SSL PEM while config poet-sgx. I have the SPID from Intel. IS that possible because of ias_url? what is the url I should use? the one in the example file \"https://test-as.sgx.trustedservices.intel.com:443\" does not work for me ","username":"MelodyMcIntyre","ts":"2019-03-21T05:59:17.388Z"}
{"msg":"@MelodyMcIntyre i have not looked at the poet sgx code in awhile... i do know that IAS EOL'd version2","username":"MicBowman","ts":"2019-03-21T14:12:22.575Z"}
{"msg":"we've streamlined the certificate verification quite a bit in the private data objects lab... we've been having some discussions with the india team about how to get those incorporated into sawtooth","username":"MicBowman","ts":"2019-03-21T14:13:35.850Z"}
{"msg":"Has joined the channel.","username":"Nonj","ts":"2019-03-21T17:50:09.717Z","type":"uj"}
{"msg":"Hi folks, I'm currently on the sawtooth/NEXT project and we are looking to upgrade our sawtooth_sdk to version 1.1.4 from 1.0.5. The issue I'm currently running into is that I see that the protobuf package in 1.1.4 got replaced by a package called \"consensus\" in 1.0.5. Can anyone confirm that? Or am I missing something crucial?","username":"Nonj","ts":"2019-03-21T17:50:55.863Z"}
{"msg":"is pbft or raft ready for primetime ? ","username":"kc1116","ts":"2019-03-22T00:44:38.403Z"}
{"msg":"@kc1116 pbft is ready. it's been well-tested at this point (both long-running testing under heavy load and many unit tests). it will be 1.0 soon.","username":"amundson","ts":"2019-03-22T03:44:01.579Z"}
{"msg":"@MicBowman Thank you so much for you reply. I have been trying to fix the problem but I did not find the solution yet. I am still using sawtooth version 1.0.5 since the latest version does not support POET-SGX yet. ","username":"MelodyMcIntyre","ts":"2019-03-22T05:03:43.469Z"}
{"msg":"Has left the channel.","username":"st","ts":"2019-03-22T08:39:18.118Z","type":"ul"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=E37wsis4rXbCDygkL) @Nonj No, but close. Protobuf is still needed and is not replaced for 1.1.\nWith Sawtooth 1.1, the consensus engine (DevMode, PoET, or whatever) is a separate process and separate package. You need to install the package(s) containing your favorite consensus engine.\nYou also need to set `sawtooth.consensus.algorithm.name` and `sawtooth.consensus.algorithm.version` in 1.1 (which replaces `sawtooth.consensus.algorithm` in 1.0)","username":"danintel","ts":"2019-03-22T21:08:07.568Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=E37wsis4rXbCDygkL","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=E37wsis4rXbCDygkL","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Has joined the channel.","username":"mayankmk14","ts":"2019-03-25T11:15:06.465Z","type":"uj"}
{"msg":"Has joined the channel.","username":"mjalalzai","ts":"2019-03-25T13:48:48.844Z","type":"uj"}
{"msg":"@amundson @jsmitchell would like to get your thoughts on one particular issue with Raft - not sure if you've encountered it with PBFT. In Raft, a follower node will forward transactions to the leader, who will execute them. The transactions will be validated, assembled in a block that will be sent to the followers. The followers will now start validating transactions, pulling them from their queue. \nIn case the leader encounters an error while validating a transaction, that transaction is discarded and never appears in a block. These transactions will remain in the follower nodes' queues with pending status. The only time these transactions will be cleared from the queue is in case a follower becomes a leader.\nIn the past, we've discussed possible ways to clear the queue by periodically trying the validate transactions on the followers so they discard invalid transactions from the queue.\nHowever, while validating these pending transactions, the state on the followers may be different from the state on the leader when it rejected the transactions. Transactions rejected by the validator my succeed on the follower. Therefore, for consensus mechanisms that have a semi-permanent leader, it would be ideal to have a mechanism to convey the status of invalid transactions to followers.  The block is essentially a list of successful transactions, perhaps we need a similar mechanism to list and propagate rejected transactions from the leader.\nThoughts?","username":"amolk","ts":"2019-03-25T15:21:55.659Z"}
{"msg":"Sending a list of invalid transactions isn't that useful. Each node would have to independently verify that those transactions were indeed invalid for BFT reasons. So the list of invalid transactions from the leader would essentially be a proposed subset of the pending queue that needs additional consideration. It would be better and just as efficient (normally) to just process the entire pending queue to detect invalid transactions.","username":"amundson","ts":"2019-03-25T16:19:34.862Z"}
{"msg":"Also, if we attached this information to the block message (not necessarily the block it self, but the message that has the block), then it could potentially get very large in the negative case and we have to consider DoS carefully. If it was handled in other messages, that increases the network load and would have to have a very careful to avoid DoS on the network due to invalid submissions.","username":"amundson","ts":"2019-03-25T16:21:13.450Z"}
{"msg":"Some kind of block-horizon based cleanup of the pending queue independent of the publishing process is worth exploring.","username":"jsmitchell","ts":"2019-03-25T16:41:19.413Z"}
{"msg":"Sure, you wouldn't need to detect invalid transactions every block. It could be relatively infrequent.","username":"amundson","ts":"2019-03-25T16:52:56.995Z"}
{"msg":"You could catch most of them as they come in though, before putting them in the pending queue. Then leave the cleanup for those that changed from valid to invalid over time.","username":"amundson","ts":"2019-03-25T16:54:33.563Z"}
{"msg":"From the log, the sawtooth poet sgx is still using Intel SGX API (IAS API) version2 but version2 is end of life.   does anyone know how to fix it ?","username":"MelodyMcIntyre","ts":"2019-03-25T22:21:09.835Z"}
{"msg":"is current poet-sgx is not available I am working on 1.0.5 version since i knew 1.1 version does not work definitely ","username":"MelodyMcIntyre","ts":"2019-03-25T22:21:48.303Z"}
{"msg":"@Danintel @Dan ^","username":"jsmitchell","ts":"2019-03-25T22:28:39.518Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Yx3RNaRhMjRYXRWA2) @MelodyMcIntyre I'm not a SGX expert, but I'll try. Various SGX SDK versions are available here on Intel's Open Source website, https://01.org/intel-software-guard-extensions/downloads\nAlso is there a reason you cannot use a newer version of the SGX API? Does a Docker or other configuration file tie you to an old version?","username":"danintel","ts":"2019-03-25T22:35:37.451Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Yx3RNaRhMjRYXRWA2","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Yx3RNaRhMjRYXRWA2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Yx3RNaRhMjRYXRWA2) @MelodyMcIntyre I'm not a SGX expert, but I'll try. Various SGX SDK versions are available here on Intel's Open Source website, \nhttps://01.org/intel-software-guard-extensions/downloads\nAlso is there a reason you cannot use a newer version of the SGX API? Does a Docker or other configuration file tie you to an old version?","username":"danintel","ts":"2019-03-25T22:35:37.451Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Yx3RNaRhMjRYXRWA2","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Yx3RNaRhMjRYXRWA2","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@MelodyMcIntyre  there is a relatively simple change to the URL, however since sawtooth hard codes the IAS verification keys... it might not work to just update the URL... suggest you contact bvavala in the #private-data-objects channel","username":"MicBowman","ts":"2019-03-25T22:53:22.968Z"}
{"msg":"he's been doing a lot of the leg work for us on making IAS verification more complete","username":"MicBowman","ts":"2019-03-25T22:53:47.106Z"}
{"msg":"Has joined the channel.","username":"amiec","ts":"2019-03-30T15:46:08.624Z","type":"uj"}
{"msg":"Has joined the channel.","username":"GianlucaSchoefer","ts":"2019-03-31T00:57:16.082Z","type":"uj"}
{"msg":"Hello, I'm currently trying to get a better mental model of Sawtooth's validation process. Do I assume correctly, that in Sawtooth one validator creates a block and distributes it to the rest of the network and every single receiving validator replays the transactions with its own TPs and as a result should receive the same state results/radix tree adresses? If this is correct, everything that is non-deterministic should not be allowed to be part of a TP, e.g. http, timestamps, random, etc.?","username":"GianlucaSchoefer","ts":"2019-03-31T01:00:51.120Z"}
{"msg":"Correct","username":"jsmitchell","ts":"2019-03-31T02:53:48.166Z"}
{"msg":"Thank you :)","username":"GianlucaSchoefer","ts":"2019-03-31T04:36:40.532Z"}
{"msg":"Has joined the channel.","username":"GiorgosT","ts":"2019-03-31T14:55:22.873Z","type":"uj"}
{"msg":"nice summary @GianlucaSchoefer ","username":"amundson","ts":"2019-04-01T01:42:00.058Z"}
{"msg":"Has joined the channel.","username":"kumble","ts":"2019-04-02T01:17:27.364Z","type":"uj"}
{"msg":"*Excuse me if the Question is dumb:* Does Sawtooth currently support a _PBFT hardened RAFT_ consensus ?","username":"kumble","ts":"2019-04-02T01:19:06.704Z"}
{"msg":"https://github.com/hyperledger/sawtooth-pbft","username":"jsmitchell","ts":"2019-04-02T01:37:23.731Z"}
{"msg":"Raft and PBFT are two separate things, but yes, it supports PBFT","username":"jsmitchell","ts":"2019-04-02T01:38:06.401Z"}
{"msg":"Hi, thanks for the revert","username":"kumble","ts":"2019-04-02T01:39:50.415Z"}
{"msg":"Hi, thanks for the revert!","username":"kumble","ts":"2019-04-02T01:39:50.415Z"}
{"msg":"BTW, there are version of PBFT hardened RAFT that was authored some time ago called Tanagroa: www.scs.stanford.edu/14au-cs244b/labs/projects/copeland_zhong.pdf","username":"kumble","ts":"2019-04-02T01:41:24.646Z"}
{"msg":"BTW, there are version of PBFT hardened RAFT that was authored some time ago called Tangaroa: www.scs.stanford.edu/14au-cs244b/labs/projects/copeland_zhong.pdf","username":"kumble","ts":"2019-04-02T01:41:24.646Z"}
{"msg":"Have you come across this?","username":"kumble","ts":"2019-04-02T01:41:33.236Z"}
{"msg":"I do remember seeing that a while ago, yes. The PBFT implementation weve written is pretty much straight from the Castro paper.","username":"jsmitchell","ts":"2019-04-02T01:47:54.612Z"}
{"msg":"There are four sawtooth PBFT RFCs here if you want more details: https://github.com/hyperledger/sawtooth-rfcs/tree/master/text","username":"jsmitchell","ts":"2019-04-02T01:49:07.255Z"}
{"msg":"Has joined the channel.","username":"Mohit_Python","ts":"2019-04-02T04:37:35.203Z","type":"uj"}
{"msg":"Great, I will have a look.","username":"kumble","ts":"2019-04-02T05:48:02.353Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=vKeaLsYWsHCyY7zTW) @danintel I have one question here .. What consensus algorithm  is being used in 1.0.5 Version?","username":"Mohit_Python","ts":"2019-04-02T06:46:42.947Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=vKeaLsYWsHCyY7zTW","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=vKeaLsYWsHCyY7zTW","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi all,\nIm conducting some performance and scalability research with PoET and was hoping this community could help clarify some of the detailed workings for me.  More specifically, I have been using Hyperledger Caliper to deliver workloads to small Sawtooth simulated networks of 1, 2, 4, 8, 12 and 16 nodes spun up with Docker containers.  Some of my experimental results report a transaction throughput of 0 tps despite a non-zero delivery rate and an experimental duration of at least a minute.  This has led me to question my choice of various network parameters, and to wonder about what is happening in a more detailed way with PoET that I perhaps dont understand.  My strange throughput results happened with a choice of (target_wait_time=5, initial_wait_time=25) AND (target_wait_time=5, initial_wait_time=5). Here are some specific questions I have, and it would be SO RAD if I could get some of your brain power. (I know the code itself can be read, but I really need some human help) :\n\n1. In PoET, peers sample an exponentially distributed random variable to achieve a wait time. Take, for example, a target_wait_time of 5 seconds.  If I wanted to choose wait times from an exp distribution that averaged ~5s, I would sample from a distribution where lambda=1/5, because the mean of an exp distribution is 1/lambda, and 1/(1/5) = 5, my desired average.  Is that what is happening in PoET, or are there nuances to the form of the exponential distribution used for sampling?  Additionally, how does the estimated population_size affect the sampling distribution?  In a network of size X, does lambda decrease by exactly a factor of X?  I want to know this for mental reasoning about the likelihood of anomalous block intervals using CDFs and such.\n2. When creating a PoET network, one can specify the target_wait_time and the initial_wait_time.  I understand that the initial_wait_time is used to help determine the localMean before the network size can be adequately determined (not enough data).  In theory this is something that the administrator of the network can choose based on his/her knowledge of the size of the initial network?  What are potential issues that could arise if an inappropriate value of initial_wait_time was chosen for the network?  Too many collisions?  Too much time between blocks being published?\n3. initial_wait_time factors into the localMean calculation until sampleLength (<referring to the PoETdocumentation) blocks have been published on the chain.  In the code this variable is called population_estimate_sample_size or something?  And I know it defaults to 50.  Where does that number 50 come from and can it be changed by a network administrator without altering source code?\n4. At a higher, mechanistic/conceptual level, how does PoET determine an estimate of the network size from block publishing data?\n5. When a node is experiencing backpressure (?.. a full queue) does anything about its performance change? Does it engage in any other behavior?  I ask because I expect to deliver workloads that are too fast for the network to handle, and my assumption is that the validator simply keeps processing transactions from the queue and if the queue is full, simply drops anything incoming.\n\nI should stop here, but finally - does anyone have suggestions for parameter values I should choose to have a well-functioning network? Starting with small 1, 2, 4, 8, 12, 16 - node networks (I know PoET shouldnt be used in production with less than about 10 nodes, but this is performance experimental).  Parameters:\ntarget_wait_time\ninitial_wait_time\nbatches_per_block (my workload currently delivers intkey transactions at 20 txns/batch)\nmin/max peer connectivity\nand any other settings that might relevant but Im not using?\n\nMaybe its just the case that I need a much longer warmup or bootstrapping phase before measuring experimental data.\n\nThank you so much! Please enlighten me.","username":"amiec","ts":"2019-04-03T01:49:09.971Z"}
{"msg":"@amiec these are best answered by a poet expert like @Dan or @MicBowman ","username":"jsmitchell","ts":"2019-04-03T13:57:55.239Z"}
{"msg":"Has joined the channel.","username":"Kirill_Vusik","ts":"2019-04-03T15:23:24.237Z","type":"uj"}
{"msg":"Thanks @jsmitchell ! Am I asking this in the right place? Or should I redirect?","username":"amiec","ts":"2019-04-03T18:44:01.549Z"}
{"msg":"Thanks @jsmitchell ! Am I asking this in the right place? Or should I redirect?","username":"amiec","ts":"2019-04-03T18:44:01.549Z"}
{"msg":"This is the right place. PoET takes some time to ramp using the parameters that you identified above. They are really not that important though. What you want to do is get the network through those first 50 blocks or so. Then you can do a meaningful performance test on a \"warm\" network. You probably want multiple blocks to establish performance numbers. I'm picking a number out of the air but at least 100 depending on the kind of experiment you are running.","username":"Dan","ts":"2019-04-03T18:50:13.007Z"}
{"msg":"During backpressure the node will reject new transactions submitted to it by clients. That should provide the behavior you want during your performance testing. Basically it ignores what it thinks it can't handle.","username":"Dan","ts":"2019-04-03T18:51:13.557Z"}
{"msg":"One more for you:  If a validator's queue is full, what happens to an incoming transaction?  Does the validator keep track of it in any way? Report a timeout? Or does it simply drop it into the abyss and ignore it completely?  I ask because I think that dropped transactions may be confusing Caliper, which may be waiting for txn timeout information (to declare failure) that never manifests?","username":"amiec","ts":"2019-04-03T18:52:13.159Z"}
{"msg":"I must have some recommended values around somewhere, but off the top of my head ...\ntarget wait time: 30 s\ninitial wait time: Target_wait_time * population\nI don't mess with batches per block or min/max peers but you are welcome to. I would suggest experimenting with batches per block. ","username":"Dan","ts":"2019-04-03T18:53:21.274Z"}
{"msg":"I don't recall exactly the behavior for how the client's transactions are responded to. I think it may give an HTTP busy error over the REST API. @pschwarz would know more. ","username":"Dan","ts":"2019-04-03T18:54:59.426Z"}
{"msg":"Thank you so much for the responses! That target wait time is much longer than I would have guessed, is this just to prevent the likelihood of collisions/stale blocks?  I will experiment with batches/block - I think the main knob that this controls is the theoretical maximum throughput, which would be (txns/batch)*(batches/block)*(blocks/second) but please correct me if I'm missing an aspect of that (perhaps latency increases due to fat blocks if it gets too high?).  Finally, if anyone has notes or answers to questions 1, 2, 3 and 4 above, I'd be very curious. Thank you!","username":"amiec","ts":"2019-04-03T19:01:05.994Z"}
{"msg":"Yes, you will get a \"queue full\" error, as an HTTP 429 error status","username":"pschwarz","ts":"2019-04-03T19:16:39.402Z"}
{"msg":"@amiec yes, too small of a target wait time will cause too many forks. i.e. lots of nodes will claim to be the leader and then all have to resolve which candidate block is really the new head of the chain. 30 seconds is good for a reasonably distributed group of about 10 validators. If you have a smaller number of collocated validators you might be able to tune that down. ","username":"Dan","ts":"2019-04-03T19:42:07.914Z"}
{"msg":"Suppose I would like to implement my consensus algorithm. According to the documentation, this is relatively simple because the consensus module is separated from the validator. Is there any tutorial on how to add theconsensus algorithm engine to  Sawtooth ?","username":"j0g1","ts":"2019-04-04T14:00:08.992Z"}
{"msg":"Sorry no tutorials on that particular topic. :( \nThe best I can suggest is to look at the existing consensus implementations for examples.","username":"Dan","ts":"2019-04-04T14:39:18.668Z"}
{"msg":"Ok :)","username":"j0g1","ts":"2019-04-04T14:42:49.934Z"}
{"msg":"If I win with implementation I will try create such tutorial for everybody :)","username":"j0g1","ts":"2019-04-04T14:43:18.504Z"}
{"msg":"that would be fantastic!","username":"Dan","ts":"2019-04-04T14:43:31.762Z"}
{"msg":"consensus code is in one place in repo or use modules from different places(sorry for dumb question but I don't look at code yet)","username":"j0g1","ts":"2019-04-04T14:44:39.147Z"}
{"msg":"here's a few consensus implementations that use the sawtooth interface. the first (pbft) is probably the cleanest example:\nhttps://github.com/hyperledger/sawtooth-pbft\nhttps://github.com/hyperledger/sawtooth-raft\nhttps://github.com/hyperledger/sawtooth-poet","username":"Dan","ts":"2019-04-04T14:48:54.663Z"}
{"msg":"All of the validator APIs are expressed as protobufs and can be found in the core repo here:\nhttps://github.com/hyperledger/sawtooth-core/tree/master/protos","username":"Dan","ts":"2019-04-04T14:49:16.955Z"}
{"msg":"including the consensus api.","username":"Dan","ts":"2019-04-04T14:49:24.839Z"}
{"msg":"And here is the RFC that introduced the idea of separating consensus as it's own process. Note the actual implementation of the interfaces will have evolved since this was written but the ideas should still be relevant. \nhttps://github.com/hyperledger/sawtooth-rfcs/blob/master/text/0004-consensus-api.md","username":"Dan","ts":"2019-04-04T14:51:53.665Z"}
{"msg":"Great! Thank you so much for your support :) I hope to present my consensus proposal soon and tutorial for that also! :)","username":"j0g1","ts":"2019-04-04T14:56:31.973Z"}
{"msg":"For more introductory-level information, you may find these blog posts helpful as well:\nhttps://www.hyperledger.org/blog/2018/12/11/making-dynamic-consensus-more-dynamic\nhttps://www.hyperledger.org/blog/2019/01/11/floating-the-sawtooth-raft-implementing-a-consensus-algorithm-in-rust","username":"ltseeley","ts":"2019-04-04T15:07:33.331Z"}
{"msg":"Please reach out if you have any questions!","username":"ltseeley","ts":"2019-04-04T15:08:38.821Z"}
{"msg":"It looks like very helpful for me! Thank you!","username":"j0g1","ts":"2019-04-04T16:57:55.381Z"}
{"msg":"@Mohit_Python Sawtooth 1.0.5 supports PoET SGX, PoET CFT, and DevMode. PoET works with SGX for BFT fault tolerance and without SGX for CFT fault tolerance. DevMode is for development and testing only and is the default algorithm. Sawtooth also supports PBFT and Raft in later versions of Sawtooth","username":"danintel","ts":"2019-04-04T17:43:48.122Z"}
{"msg":"@amiec I'm not sure your question was answered, but if the validator's queue is ful and the transaction is rejected, with a HTTP 429 status code, as mentioned above, the transaction is not saved and needs to be resubmitted by the client.","username":"danintel","ts":"2019-04-04T17:48:25.474Z"}
{"msg":"Has joined the channel.","username":"YashVadhvani","ts":"2019-04-05T07:02:04.218Z","type":"uj"}
{"msg":"I want to start the poet consensus engine on 1.1 version on ubuntu environment what packages i need to install and how do i do it?","username":"YashVadhvani","ts":"2019-04-05T07:05:01.904Z"}
{"msg":"In documentation there is devmode consensus available but what i need to start for poet engine please help","username":"YashVadhvani","ts":"2019-04-05T07:05:53.335Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=MGDKoGoFC2esgd2x9) @YashVadhvani See https://sawtooth.hyperledger.org/docs/core/releases/latest/app_developers_guide/creating_sawtooth_network.html?highlight=poet%20network\nFor further support questions, please ask on #sawtooth .","username":"danintel","ts":"2019-04-05T17:45:48.922Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=MGDKoGoFC2esgd2x9","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=MGDKoGoFC2esgd2x9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"the dynamic network test is failing in an interesting way on my bionic upgrade PR.","username":"rbuysse","ts":"2019-04-05T20:54:16.902Z"}
{"msg":"https://build.sawtooth.me/job/Sawtooth-Hyperledger/job/sawtooth-poet/job/PR-15/43/console","username":"rbuysse","ts":"2019-04-05T20:54:19.295Z"}
{"msg":"`State from block fab476a4b68692d2736312deff7582fcd32bb192b878187a8347a500e208ebaf24ce278f25ad7c7e257fbb27332e3457437d6dc06d16913709c3b1db209755bd requested, but root hash 466db400c9d0d678ebda8cacab13702104765622e9a6571fc5b286b8d71d6f66 was missing. Returning empty state.`","username":"rbuysse","ts":"2019-04-05T20:54:30.403Z"}
{"msg":"it looks like it's committing the blocks but then for some reason it can't read back the state","username":"rbuysse","ts":"2019-04-05T20:54:53.639Z"}
{"msg":"Does it mean a block is committed without a prior block in place?","username":"arsulegai","ts":"2019-04-08T14:59:31.631Z"}
{"msg":"This is for Block 2, the same error is seen for Block 1. Looks like state root hash of Block 1 is requested even before Block 1 is committed on that node.","username":"arsulegai","ts":"2019-04-08T16:32:20.512Z"}
{"msg":"12:48:12  \u001b[36mtest-dynamic-network_1  |\u001b[0m \u001b[31m[2019-04-04 17:48:11.842 ERROR    proxy]\u001b[0m \u001b[37mState from block ae529eded3f72d6afea90f166386e8fb6445bf11b58c7cd9c3dbb4d0436896512c505838e431a5c2016335bedfb8a839e4f98bea838d608d1960bf98e96a00ef requested, but root hash 272321cfd24929e752e3b1183c8cb741675cab7149db8eac0e886f3abcab6f6c was missing. Returning empty state.\u001b[0m","username":"arsulegai","ts":"2019-04-08T16:32:24.901Z"}
{"msg":"Causing the global state root hash to be not found","username":"arsulegai","ts":"2019-04-08T16:33:32.513Z"}
{"msg":"This is against master, correct?","username":"pschwarz","ts":"2019-04-08T22:30:56.045Z"}
{"msg":"Yeah, I'm working on a fix for that, as I type","username":"pschwarz","ts":"2019-04-08T22:31:04.962Z"}
{"msg":"Has joined the channel.","username":"raghav.aneja14","ts":"2019-04-12T09:52:55.342Z","type":"uj"}
{"msg":"Has joined the channel.","username":"MelodyWang","ts":"2019-04-16T00:19:08.308Z","type":"uj"}
{"msg":"@pschwarz Is this fix intended to pass all the POET1 integration tests ?","username":"manojgop","ts":"2019-04-17T18:07:43.027Z"}
{"msg":"Yes","username":"pschwarz","ts":"2019-04-17T18:20:45.831Z"}
{"msg":"Does anybody know if a validator has more than one type of queue? For example, separate queues for incoming transactions v.s. incoming blocks?  Or is it the same queue for all traffic?  Thank you.","username":"amiec","ts":"2019-04-18T03:35:12.680Z"}
{"msg":"For transactions (in the form of batches), they are put into a pending transaction queue.  They are put there when received by being directly submitted to the validator, or gossiped by the network (i.e. submitted to another node).  Blocks go into a separate queue for validation.","username":"pschwarz","ts":"2019-04-18T19:44:44.118Z"}
{"msg":"Batches are removed from the pending queue when they are included in a valid, committed block, regardless of whether the current node published it or another node did.","username":"pschwarz","ts":"2019-04-18T19:45:52.284Z"}
{"msg":"Note, none of this really has to do with consensus - these are all actions that occur with any consensus engine that Sawtooth supports","username":"pschwarz","ts":"2019-04-18T19:46:25.710Z"}
{"msg":"@Dan what poet 1 defects are you referencing in the meeting topics?","username":"amundson","ts":"2019-04-19T20:12:36.620Z"}
{"msg":"I was told poet1 master was broken. It might be that @pschwarz has a fix. I was also trying to ferret out whether one of Amol's team was working on the same or different problem. I connected with @amolk yesterday (he mentioned a conflict with Monday's meeting). He said that Raghav is monitoring for the PR and will double check if it resolves the issue or whether there's additional defects. ","username":"Dan","ts":"2019-04-19T20:49:26.353Z"}
{"msg":"It's not poet master that's broken, but it's interaction with Sawtooth Core master that was the issue ","username":"pschwarz","ts":"2019-04-19T21:07:30.980Z"}
{"msg":"That is fixed now","username":"pschwarz","ts":"2019-04-19T21:07:36.788Z"}
{"msg":"Muchas gracias seor","username":"Dan","ts":"2019-04-19T23:32:50.239Z"}
{"msg":"@Dan for some more context on what has been fixed in core to address the issues with PoET and dynamic network tests:\nhttps://github.com/hyperledger/sawtooth-core/pull/2067\nhttps://github.com/hyperledger/sawtooth-core/pull/2076","username":"pschwarz","ts":"2019-04-22T15:33:40.291Z"}
{"msg":"thanks \n@rbuysse I'm not clear what was failing before.. kinda late to this show.. but when i look at build.sawtooth.me I see build successes for a long time on sawtooth-poet. The most recent failure is back on the 13th. ","username":"Dan","ts":"2019-04-22T15:36:41.905Z"}
{"msg":"PR-15 is failing","username":"rbuysse","ts":"2019-04-22T15:38:37.291Z"}
{"msg":"that's the bionic upgrade. the current master job runs tests against sawtooth-core bumper. PR-15 tests run against master","username":"rbuysse","ts":"2019-04-22T15:40:04.483Z"}
{"msg":"are all the components following that pattern then, the build depends on sawtooth-core master as opposed to sawtooth-core latest release?","username":"Dan","ts":"2019-04-22T15:50:15.209Z"}
{"msg":"I think so","username":"rbuysse","ts":"2019-04-22T16:06:34.041Z"}
{"msg":"this is a aort of weird edge case because we did a release at the same time as the bionic upgrade","username":"rbuysse","ts":"2019-04-22T16:06:58.448Z"}
{"msg":"so the only artifacts available for bionic are pre-release","username":"rbuysse","ts":"2019-04-22T16:07:12.562Z"}
{"msg":"I can argue that it's a good approach overall (I can argue the opposite too ;) ) that core master should never break and so components can freely depend on it without worrying about a moving target. ","username":"Dan","ts":"2019-04-22T16:09:39.708Z"}
{"msg":"I think we're gonna end up in a place where we're testing lastest release and master","username":"rbuysse","ts":"2019-04-22T16:13:07.512Z"}
{"msg":"^ that'd be ideal. but kinda is bad for PRs","username":"rbuysse","ts":"2019-04-22T16:15:00.297Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YDn6jZgQ6X6MmRhQC) @pschwarz @Dan @pschwarz I have ran the integration test on poet master branch, and the result status is OK against dynamic-network-test.","username":"raghav.aneja14","ts":"2019-04-24T11:30:11.090Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YDn6jZgQ6X6MmRhQC","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=YDn6jZgQ6X6MmRhQC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"is anyone testing hardware mode PoET?","username":"MicBowman","ts":"2019-04-24T21:46:50.964Z"}
{"msg":"@MicBowman If someone has recently, they haven't shared the results. The last PoET-SGX testing that I know about was against Sawtooth 1.0 (prior to the consensus engine design). If you are using the consensus engine, I'd expect an incremental amount of work would be necessary.","username":"amundson","ts":"2019-04-24T22:44:06.676Z"}
{"msg":"if no one has updated it, it won't work","username":"MicBowman","ts":"2019-04-24T22:44:32.322Z"}
{"msg":"the v2 IAS api that you have backed in is no longer supported","username":"MicBowman","ts":"2019-04-24T22:44:50.249Z"}
{"msg":"Right, also not updated against any modern SDK, etc.","username":"amundson","ts":"2019-04-24T22:44:57.082Z"}
{"msg":"at a minimum the IAS url has to change","username":"MicBowman","ts":"2019-04-24T22:44:58.222Z"}
{"msg":"so... even if it worked when v1 was released, v1 almost certainly does not work today","username":"MicBowman","ts":"2019-04-24T22:45:53.287Z"}
{"msg":"I agree, and don't know of any recent commits against the 1-0 branch at all","username":"amundson","ts":"2019-04-24T22:46:49.662Z"}
{"msg":"i couldn't find any patches to address that so i'm assuming that it doesn't work... we've provided some hints about how to fix it to a couple people but have not seen/produced any PRs","username":"MicBowman","ts":"2019-04-24T22:47:06.130Z"}
{"msg":"1.0 is getting old enough that doing a point release would probably be a substantial amount of work.","username":"amundson","ts":"2019-04-24T22:48:29.264Z"}
{"msg":"understood... could you provide an updated release note or something?","username":"MicBowman","ts":"2019-04-24T22:49:04.698Z"}
{"msg":"You mean provide some info on how to get it working by pulling it out of master?","username":"amundson","ts":"2019-04-24T22:49:41.111Z"}
{"msg":"You mean provide some info on how to get it working by pulling it out of 1-0 branch?","username":"amundson","ts":"2019-04-24T22:49:41.111Z"}
{"msg":"or just something that says that you shouldn't expect it to work without modifications","username":"MicBowman","ts":"2019-04-24T22:50:05.965Z"}
{"msg":"there are three possible places - it could go into the readme on the 1-0 branch, in the sawtooth FAQ (which is in the sawtooth-website repo), or in the docs (probably https://sawtooth.hyperledger.org/docs/core/releases/1.0.5/sysadmin_guide/configure_sgx.html)","username":"amundson","ts":"2019-04-24T22:52:35.360Z"}
{"msg":"the first two are easy, just submit a PR","username":"amundson","ts":"2019-04-24T22:52:52.774Z"}
{"msg":"updating release documentation is harder, we don't really have a super great process for it yet. but if it was important, we could figure it out.","username":"amundson","ts":"2019-04-24T22:53:23.353Z"}
{"msg":"i would guess that the FAQ is probably the right place","username":"MicBowman","ts":"2019-04-24T22:54:46.388Z"}
{"msg":"is there a PoET section there?","username":"MicBowman","ts":"2019-04-24T22:54:53.984Z"}
{"msg":"https://sawtooth.hyperledger.org/faq/consensus/","username":"amundson","ts":"2019-04-24T22:55:18.208Z"}
{"msg":"hmm... many of the questions are kind of no longer relevant","username":"MicBowman","ts":"2019-04-24T22:56:11.130Z"}
{"msg":"@danintel ^","username":"amundson","ts":"2019-04-24T22:56:40.819Z"}
{"msg":"@MicBowman You can file a PR or just let me know what's irrelevant","username":"danintel","ts":"2019-04-24T22:58:27.543Z"}
{"msg":"FWIW, we still do test non-SGX PoET (and PBFT now), so if the incremental work was done against the consensus engine, presumably it would work again.","username":"amundson","ts":"2019-04-24T22:58:36.684Z"}
{"msg":"FWIW, we still do test non-SGX PoET (and PBFT now) testing, so if the incremental work was done against the consensus engine, presumably it would work again.","username":"amundson","ts":"2019-04-24T22:58:36.684Z"}
{"msg":"any question that mentions sgx?","username":"MicBowman","ts":"2019-04-24T22:58:37.244Z"}
{"msg":"@danintel ","username":"MicBowman","ts":"2019-04-24T22:58:55.263Z"}
{"msg":"the sawtooth poet sgx code contains a hard coded url in the ias client for the v2 ias client which intel no longer supports","username":"MicBowman","ts":"2019-04-24T22:59:26.347Z"}
{"msg":"it *MIGHT* be that just needs to be updated","username":"MicBowman","ts":"2019-04-24T22:59:35.373Z"}
{"msg":"however, you also hard code the verification key","username":"MicBowman","ts":"2019-04-24T22:59:44.111Z"}
{"msg":"i don't know if that still works or if it was v2 dependent","username":"MicBowman","ts":"2019-04-24T22:59:56.029Z"}
{"msg":"so... until those are fixed (which i don't believe are on the roadmap), SGX is not supported in any version of sawtooth","username":"MicBowman","ts":"2019-04-24T23:00:28.878Z"}
{"msg":"for the consensus engine, an additional incremental amount of work would need to be done on the packaging. that and the overhead of running LR7 testing is why it was dropped as a Sawtooth 1.1 feature. It was not for a deep architectural reason.","username":"amundson","ts":"2019-04-24T23:03:04.570Z"}
{"msg":"(but, I guess if it was fixed, it would retroactively become a Sawtooth 1.1 feature)","username":"amundson","ts":"2019-04-24T23:04:31.390Z"}
{"msg":"i understand the reasons (which really boils down to there is not a lot of demand for a scalable, byzantine reslient consensus without finality for enterprise apps)","username":"MicBowman","ts":"2019-04-24T23:04:55.351Z"}
{"msg":"my point is more that if there is no commitment to fix it, then we should drop it from the documentation & note that it is not currently supported","username":"MicBowman","ts":"2019-04-24T23:05:25.948Z"}
{"msg":"(and i'm not complaining about the lack of commitment to fix it... work on poet2 should be the focus)","username":"MicBowman","ts":"2019-04-24T23:06:14.215Z"}
{"msg":"that wasn't the reasoning at the time, AFAIK. it was much more the attitude that PoET 2 was the place to have those engineers working.","username":"amundson","ts":"2019-04-24T23:06:31.980Z"}
{"msg":"now, that may be the reason some of us spend so much more time on PBFT, because we see more relevance for our specific use cases for non-scalable, byzantine resilient consensus with finality :)","username":"amundson","ts":"2019-04-24T23:08:01.242Z"}
{"msg":"pardon me if i'm skeptical that poet2 will see the light of day... its been over a year since we provided the basic protocol","username":"MicBowman","ts":"2019-04-24T23:08:13.857Z"}
{"msg":"i get that and support it","username":"MicBowman","ts":"2019-04-24T23:08:38.792Z"}
{"msg":"and frankly the reason why we're looking at other ledgers is because we don't need all the bells & whistles of sawtooth & don't want to pay the complexity costs","username":"MicBowman","ts":"2019-04-24T23:09:12.814Z"}
{"msg":"you should call out the complexity, some of it is going to evaporate","username":"amundson","ts":"2019-04-24T23:10:12.028Z"}
{"msg":"if i were to put in a PR for the documentation, it would basically be: replace all current references to SGX Poet with one question which amounts to SGX PoET doesn't work, wait for v2","username":"MicBowman","ts":"2019-04-24T23:10:39.128Z"}
{"msg":"if we see our current plans through, we will get down to a single process per-node and have greatly simplified smart contract APIs (we are about to attack the problem of writing any addressing code for the default uses), and hopefully state delta export will be provided \"for free\" without any coding soonish too.","username":"amundson","ts":"2019-04-24T23:13:50.030Z"}
{"msg":"understood... i'm just looking for a fixed function ordering service (a little more than that, but i don't need full programability)","username":"MicBowman","ts":"2019-04-24T23:15:54.980Z"}
{"msg":"the confidentiality is more important than programmability","username":"MicBowman","ts":"2019-04-24T23:16:31.141Z"}
{"msg":"and... back to PoET... for the moment, if you get questions about HW support for PoET, feel free to point them to me... I can at least explain why it isn't working","username":"MicBowman","ts":"2019-04-24T23:17:56.291Z"}
{"msg":"we've been answering some of those question on the pdo channel when they've come up","username":"MicBowman","ts":"2019-04-24T23:18:21.130Z"}
{"msg":"Is anyone working on a Java based consensus?  Asking in order to judge interest around furthering the sawtooth-java-sdk to cover the consensus API.","username":"kodonnel","ts":"2019-04-26T18:35:16.164Z"}
{"msg":"@kodonnel I don't think we should pro-actively support consensus APIs in the non-Rust SDKs unless there is a compelling consensus implementation in that language. The overhead in updating it as we change that API will be completely non-trivial. I'd even like to drop the Python support as soon as PoET is Rust (unless there is another Python consensus engine contributed). The Rust consensus engines will likely be compiled into the validator in the future (optionally), and I'm not even sure we should keep the network separation at all going into Sawtooth 2.0.","username":"amundson","ts":"2019-04-29T04:49:44.004Z"}
{"msg":"There was discussion of supporting bft-smart at one point (which is a Java library), but I think that has dwindled.","username":"amundson","ts":"2019-04-29T04:52:41.550Z"}
{"msg":"There is also this Go implementation of a SGX PBFT variant in labs - https://github.com/hyperledger-labs/minbft","username":"amundson","ts":"2019-04-29T04:56:43.309Z"}
{"msg":"Well, I'd be fine with all of that except for removing the network separation.  That would sacrifice an awful lot of customizability. ","username":"kodonnel","ts":"2019-04-29T14:51:35.870Z"}
{"msg":"@kodonnel What do you mean by \"removing the network separation\"?","username":"sergefdrv","ts":"2019-05-02T07:43:46.904Z"}
{"msg":"@sergefdrv he is referring to what I said about potentially removing the network separation between the validator and the consensus engine in the future if all the consensus engines end up being rust","username":"amundson","ts":"2019-05-02T14:43:17.626Z"}
{"msg":"I think it's easy to keep the network separation if it remains desirable.","username":"amundson","ts":"2019-05-02T14:51:37.768Z"}
{"msg":"@amundson thanks for answering, now I got it","username":"sergefdrv","ts":"2019-05-02T15:53:53.776Z"}
{"msg":"Has joined the channel.","username":"bobonana","ts":"2019-05-02T22:16:36.351Z","type":"uj"}
{"msg":"Hey there! Over at sawtooth-next-directory we recently upgraded to sawtooth v1.1 from v1.0, and while running some performance tests we noticed that 500 transactions took around 1.3 minutes to be processed using v1.0, but with the switch to v1.1 those same 500 transactions now take around 9.3 minutes to be processed. Is this performance hit expected with the update? We're using DevMode for consensus and runnign a single node deployment. Thanks!","username":"bobonana","ts":"2019-05-02T22:36:05.185Z"}
{"msg":"I can't think of any changes that would cause this. Devmode will fork like mad though, so maybe if other things are happening faster devmode is kicking out more blocks than before. how many nodes are you testing with?","username":"Dan","ts":"2019-05-03T12:53:42.677Z"}
{"msg":"@Dan we're only running a single node for now","username":"bobonana","ts":"2019-05-03T17:03:15.163Z"}
{"msg":"@bobonana try setting `sawtooth.consensus.min_wait_time` to something like 2 and `sawtooth.consensus.max_wait_time` to something like 10, and make sure that you have `sawtooth.publisher.max_batches_per_block` set to something like 1000","username":"jsmitchell","ts":"2019-05-03T17:15:50.782Z"}
{"msg":"@jsmitchell It doesn't seem to be affecting performance.","username":"bobonana","ts":"2019-05-03T21:21:54.434Z"}
{"msg":"@jsmitchell those changes don't seem to be affecting performance.","username":"bobonana","ts":"2019-05-03T21:21:54.434Z"}
{"msg":"that is very surprising","username":"jsmitchell","ts":"2019-05-03T21:22:31.441Z"}
{"msg":"if you do `sawtooth block list` how many batches are you getting per block?","username":"jsmitchell","ts":"2019-05-03T21:22:49.178Z"}
{"msg":"@jsmitchell we're getting one batch per block","username":"bobonana","ts":"2019-05-03T21:41:31.455Z"}
{"msg":"that's your problem","username":"jsmitchell","ts":"2019-05-03T21:44:45.995Z"}
{"msg":"what did you set min and max wait time to?","username":"jsmitchell","ts":"2019-05-03T21:45:27.760Z"}
{"msg":"and do the logs show that devmode is actually waiting the amount of time you specified to publish a block?","username":"jsmitchell","ts":"2019-05-03T21:46:01.922Z"}
{"msg":"the issue is that devmode by default publishes blocks as fast as possible. The behavior is a number of batches from the pending queue (up to max_batches_per_block) are added to the schedule and begin executing. Immediately, devmode says 'finish what you are doing and publish the block', so the scheduler cancels all in progress work and typically only one or two batches are finished and make it into the block. By waiting a reasonable amount of time between blocks, _many_ more transactions can be processed and included in blocks.","username":"jsmitchell","ts":"2019-05-03T21:48:57.740Z"}
{"msg":"i'm assuming your transactions execute in a short amount of time","username":"jsmitchell","ts":"2019-05-03T21:52:05.039Z"}
{"msg":"@jsmitchell we just set the min and max wait time to 2 and 10 respectively. How do I check what the actual wait time is (the logs aren't showing anything)?","username":"bobonana","ts":"2019-05-03T22:28:55.381Z"}
{"msg":"and why would the same default settings we've been using run fine in v1.0 but result in a performance hit in v1.1?","username":"bobonana","ts":"2019-05-03T22:31:15.770Z"}
{"msg":"hi I am running sawtooth with real sgx but I can not see the log from terminal in poet_block_publisher.py where I print out\nBut When I use the simulator, I have the printed log, anybody knows why ","username":"MelodyWang","ts":"2019-05-06T21:46:41.149Z"}
{"msg":"Not sure but maybe something here will be helpful: https://sawtooth.hyperledger.org/docs/core/releases/latest/sysadmin_guide/systemd.html?highlight=running%20service#view-sawtooth-logs","username":"Dan","ts":"2019-05-07T17:03:13.937Z"}
{"msg":"@MelodyWang did you get the issues address for the SPID?","username":"MicBowman","ts":"2019-05-08T16:04:29.837Z"}
{"msg":"and... regarding logs... i'm not sure how sawtooth handles build flags, but for logs coming out of the enclave, you need to make sure the print/log ocalls are compiled in","username":"MicBowman","ts":"2019-05-08T16:06:25.968Z"}
{"msg":"i can tell you how to do it with PDO... :-)","username":"MicBowman","ts":"2019-05-08T16:06:45.837Z"}
{"msg":"poet_block_publisher.py doesn't sound like enclave code","username":"jsmitchell","ts":"2019-05-08T16:08:17.383Z"}
{"msg":"Has joined the channel.","username":"vineethkrishnan12","ts":"2019-05-13T05:33:06.983Z","type":"uj"}
{"msg":"Hi, I was trying to run the sawtooth pbft consensus algorithm from the following link. \"https://github.com/hyperledger/sawtooth-pbft/tree/master/adhoc\". There are three yaml files : admin.yaml, node.yaml, workload.yaml. When i first ran it,it worked perfectly.From second time onwards node.yaml is not working.I haven't made any change to the code.Moreover i reset the whole scene couple of times and the error still pops out. It says :  : ","username":"vineethkrishnan12","ts":"2019-05-13T05:33:08.611Z"}
{"msg":"Hi, I was trying to run the sawtooth pbft consensus algorithm from the following link. \"https://github.com/hyperledger/sawtooth-pbft/tree/master/adhoc\". There are three yaml files : admin.yaml, node.yaml, workload.yaml. When i first ran it,it worked perfectly.From second time onwards node.yaml is not working.I haven't made any change to the code.Moreover i reset the whole scene couple of times and the error still pops out. It says :  ERROR: for pbft  Cannot start service pbft: OCI runtime create failed: container_linux.go:345: starting container process caused \"exec: \\\"./target/debug/pbft-engine\\\": stat ./target/debug/pbft-engine: no such file or directory\": unknown\nERROR: Encountered errors while bringing up the project.\n","username":"vineethkrishnan12","ts":"2019-05-13T05:33:08.611Z"}
{"msg":"Hi, I was trying to run the sawtooth pbft consensus algorithm from the following link. \"https://github.com/hyperledger/sawtooth-pbft/tree/master/adhoc\". There are three yaml files: admin.yaml, node.yaml, workload.yaml. When I first ran it, it worked perfectly. From second time onwards node.yaml is not working.I haven't made any change to the code. Moreover, i reset the whole scene a couple of times and the error still pops out. It says :  ERROR: for pbft  Cannot start service pbft: OCI runtime create failed: container_linux.go:345: starting container process caused \"exec: \\\"./target/debug/pbft-engine\\\": stat ./target/debug/pbft-engine: no such file or directory\": unknown\nERROR: Encountered errors while bringing up the project. I  tried resetting the docker and pulling the new image of the same. yet the same error. I used the \"latest\" as the isolation ID and pulled the required images from hyperledger repo itself. Any idea where i went wrong?\n","username":"vineethkrishnan12","ts":"2019-05-13T05:33:08.611Z"}
{"msg":"Hey. Can you look at the idea of the consensus algorithm that I invented? The purpose of the algorithm was to omit the necessity of using Sawtooth with hardware (PoET algorithm). I will be grateful for information if the solution makes sense. If in doubt, I will be happy to answer your questions.","username":"j0g1","ts":"2019-05-13T09:02:32.722Z"}
{"msg":"https://www.slideshare.net/secret/1Rd0oE3KT02hQb","username":"j0g1","ts":"2019-05-13T09:02:45.326Z"}
{"msg":"@vineethkrishnan12 can you describe the exact steps to reproduce the issue?","username":"ltseeley","ts":"2019-05-13T14:36:33.997Z"}
{"msg":"@j0g1 when i go to the link I only see 3 slides is that accurate? what poet gives you with trusted execution is a fair random number. what provides the fairness in your proposal? Is there anything to prevent a node from always just picking a really small number?","username":"Dan","ts":"2019-05-13T14:46:29.151Z"}
{"msg":"I think slideshare lost animation from ppt","username":"j0g1","ts":"2019-05-13T19:20:10.284Z"}
{"msg":"I try use google docs","username":"j0g1","ts":"2019-05-13T19:20:18.411Z"}
{"msg":"https://drive.google.com/open?id=1WU9o0fU7BsDLGECSMtuN4fq_LMzjh0GV","username":"j0g1","ts":"2019-05-13T19:22:31.995Z"}
{"msg":"this should be okay","username":"j0g1","ts":"2019-05-13T19:22:39.992Z"}
{"msg":"My idea for the fairness came with two features: 1) nodes generate number for another nodes(not for themselves) 2) nodes exchange number with random nodes (ensures by voting)","username":"j0g1","ts":"2019-05-13T19:24:06.540Z"}
{"msg":"So node can't pick for his own needs the best number","username":"j0g1","ts":"2019-05-13T19:24:23.046Z"}
{"msg":"and is not sure who will get his number so can't send it to another \"bad\" node","username":"j0g1","ts":"2019-05-13T19:24:55.865Z"}
{"msg":"it is as hard as hard is to win voting","username":"j0g1","ts":"2019-05-13T19:25:12.753Z"}
{"msg":"How do you prove a bad actor \"Oscar\" is not claiming leadership?","username":"arsulegai","ts":"2019-05-13T19:41:56.944Z"}
{"msg":"presumably, the winning node would have to supply the signed evidence from the generating node @arsulegai ","username":"jsmitchell","ts":"2019-05-13T19:43:05.033Z"}
{"msg":"The questions I have would be along the lines of: \"How many messages would need to be exchanged between nodes to support this voting mechanism?\" and \"If that is as bad or worst than PBFT, why wouldn't you just use PBFT?\"","username":"jsmitchell","ts":"2019-05-13T19:44:50.011Z"}
{"msg":"Would need to understand a lot more about the proposed voting mechanism to understand how it prevents collusion","username":"jsmitchell","ts":"2019-05-13T19:46:23.625Z"}
{"msg":"Sure, the reason I asked the question is because BFT is difficult to achieve with only random numbers & voting in place. There would be other factors we need to consider, what if there are greedy actors and try to give large values to others.","username":"arsulegai","ts":"2019-05-13T19:51:53.318Z"}
{"msg":"Hi guys. First of all thank you for you feedback and starting discussion about my proposal","username":"j0g1","ts":"2019-05-13T20:45:54.504Z"}
{"msg":"At this moment I don't have answer but I will provide it soon :)","username":"j0g1","ts":"2019-05-13T20:46:19.150Z"}
{"msg":"of course I agree that I need proof that this algorithm is not only next one but also have a big/small part of cases where use it make a sense","username":"j0g1","ts":"2019-05-13T20:47:43.897Z"}
{"msg":"the reason behind this proposal is create hardware-independent PoET","username":"j0g1","ts":"2019-05-13T20:48:14.565Z"}
{"msg":"so this can be achive by exchange numbers between nodes ","username":"j0g1","ts":"2019-05-13T20:48:38.870Z"}
{"msg":"but if we have more than one \"bad\" node then they can exchange number between them to break system","username":"j0g1","ts":"2019-05-13T20:49:04.895Z"}
{"msg":"so we need mechanism for random \"exchane path\"","username":"j0g1","ts":"2019-05-13T20:49:15.186Z"}
{"msg":"first idea was to have a seed in genesis block which can be use by all nodes to generate path","username":"j0g1","ts":"2019-05-13T20:49:42.632Z"}
{"msg":"but \"bad\" node can generate future paths and knows when it will exchange value with another \"bad\" node","username":"j0g1","ts":"2019-05-13T20:50:23.690Z"}
{"msg":"so this is reason why I decide to voting for a path","username":"j0g1","ts":"2019-05-13T20:50:36.003Z"}
{"msg":"@j0g1 one of the big advantages of so-called \"nakamoto\"-style consensuses (like PoET and PoW) is that there is no messaging between nodes in advance of publishing a block. The block itself contains the proof which is verifiable. If there are voting rounds, presumably with sealed evidence being exchanged, prior to the generation of a block it will radically change the possible size and structure of the network. There are already a number of paxos-derived voting based algorithms that discuss proofs for the minimum number of messages required for BFT voting.","username":"jsmitchell","ts":"2019-05-13T20:53:22.470Z"}
{"msg":"@j0g1 one of the big advantages of so-called \"nakamoto\"-style consensuses (like PoET and PoW) is that there is no messaging between nodes in advance of publishing a block. The block itself contains the proof which is verifiable. If there are voting rounds, presumably with sealed evidence being exchanged prior to the generation of a block, it will radically change the possible size and structure of the network. There are already a number of paxos-derived voting based algorithms that discuss proofs for the minimum number of messages required for BFT voting.","username":"jsmitchell","ts":"2019-05-13T20:53:22.470Z"}
{"msg":"so this algorithm doesn't make sense :D","username":"j0g1","ts":"2019-05-13T20:57:52.275Z"}
{"msg":"another way: it works but is a small chance that it will be faster than another so your question \"why not using XYZ instead\" will always win :D","username":"j0g1","ts":"2019-05-13T21:00:12.704Z"}
{"msg":"I have to learn a lot yet about consensus mechanism","username":"j0g1","ts":"2019-05-13T21:00:43.628Z"}
{"msg":"yeah it's a fun topic :)","username":"Dan","ts":"2019-05-13T21:22:53.606Z"}
{"msg":"dpkg: error processing archive /tmp/apt-dpkg-install-df6cVS/132-python3-sawtooth-signing_1.2.2~dev5-1_all.deb (--unpack):","username":"arsulegai","ts":"2019-05-14T13:30:06.962Z"}
{"msg":"Anybody have seen this?","username":"arsulegai","ts":"2019-05-14T13:30:15.855Z"}
{"msg":"Has anybody seen this?","username":"arsulegai","ts":"2019-05-14T13:30:15.855Z"}
{"msg":"Has joined the channel.","username":"Sidaretta","ts":"2019-05-16T18:52:22.679Z","type":"uj"}
{"msg":"Hi everyone\nI wanna Start the Devmode Consensus Engine with following command:\nroot@180cb:~/sawtooth-project# sudo -u sawtooth devmode-engine-rust -vv --connect tcp://localhost:5050\nbut I don't see any verbose or message\nafter a few minutes I receive following Error:\nERROR | devmode_engine_rust: | ReceiveError: TimeoutError\nhow can I fix my problem? pls help me","username":"Sidaretta","ts":"2019-05-16T18:56:15.222Z"}
{"msg":"@Sidaretta are you running that in a docker container?","username":"pschwarz","ts":"2019-05-16T19:41:14.753Z"}
{"msg":"Also, you are asking questions on an RFC PR that is closed - you should be asking them in #sawtooth","username":"pschwarz","ts":"2019-05-16T19:53:06.549Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Q9xwQTkEgKKH3XmtQ) no I working in Ubuntu ","username":"Sidaretta","ts":"2019-05-16T20:01:00.684Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Q9xwQTkEgKKH3XmtQ","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Q9xwQTkEgKKH3XmtQ","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@Sidaretta you accidentally posted a help question in a github PR. Please use the chat channels or the mailing lists for help requests. I have deleted the messages in the github PR.","username":"jsmitchell","ts":"2019-05-16T20:07:35.392Z"}
{"msg":"can anyone help me? I have to fix this problem, but I don't know how!","username":"Sidaretta","ts":"2019-05-17T09:50:07.564Z"}
{"msg":"You also need to specify the Devmode engine on the `sawtooth-validator` command line:\n```sawtooth-validator -vvv --endpoint tcp://validator:8800  --bind component:tcp://eth0:4004 --bind network:tcp://eth0:8800 *--bind consensus:tcp://eth0:5050* ```","username":"danintel","ts":"2019-05-17T18:20:43.196Z"}
{"msg":"You also need to specify the Devmode engine on the `sawtooth-validator` command line:\n```sawtooth-validator -vvv --endpoint tcp://validator:8800  --bind component:tcp://eth0:4004 --bind network:tcp://eth0:8800 --bind consensus:tcp://eth0:5050 ```","username":"danintel","ts":"2019-05-17T18:20:43.196Z"}
{"msg":"thank you very much","username":"Sidaretta","ts":"2019-05-17T18:25:47.993Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=MjyAL36GYqRMgf7hc) I did a pretty comprehensive review on current papers about nakamoto influenced consensus protocols last year.. I think these two are the best to get a broad overview of the landscape. https://arxiv.org/pdf/1711.03936.pdf and https://arxiv.org/pdf/1707.01873.pdf If you are interested in the theoretical background I would suggest you start reading into more general distributed system literature (like FLP, CAP,  SMR, system models, correctness properties and of course a lot of Lamport, basically he single-handedly made BFT a thing) ","username":"GianlucaSchoefer","ts":"2019-05-18T00:46:44.384Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=MjyAL36GYqRMgf7hc","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=MjyAL36GYqRMgf7hc","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi all - a question about the validator logs in PoET 1.0:  In my research (tiny networks running Sawtooth 1.0.5 in Docker containers on an 8-core machine), I'm combing the logs from the validators to get a sense of \"stale block rate\" - which refers to the percentage of blocks that are published and valid, but don't end up being part of the main chain.  I'm doing this by creating a unique set of all block IDs that are validated by any validator, and comparing the size of this set to the number of blocks that actually end up on the main chain (stale block rate = (num_all_valid_blocks - num_main_chain_blocks) / num_all_valid_blocks).  I add a block ID to my set every time I see \"Finished block validation of\"... in a line of a validator's logs.  I don't believe any blocks should be invalid in these simulations (and haven't seen anything to indicate the occurrence of an invalid block in the logs).  I'm a little concerned because even in small networks with 4 or 6 nodes, I'm seeing some very high stale block rates (like 80 or 90 %).  Meaning MOST blocks that get validated don't end up on the main chain.\nDoes my log combing approach seem correct?  Could the stale rates truly be this high?  If so, any ideas why?  Could there be so much congestion in the local network that the propagation delay is high enough to allow for all these publishing collisions?  I would really appreciate some experienced PoET wisdom.  Thank you.","username":"amiec","ts":"2019-05-19T00:24:32.206Z"}
{"msg":"Hi all - a question about the validator logs in PoET 1.0:  In my research (tiny networks running Sawtooth 1.0.5 in Docker containers on an 8-core machine), I'm combing the logs from the validators to get a sense of \"stale block rate\" - which refers to the percentage of blocks that are published and valid, but don't end up being part of the main chain.  I'm doing this by creating a unique set of all block IDs that are validated by any validator, and comparing the size of this set to the number of blocks that actually end up on the main chain (stale block rate = (num_all_valid_blocks - num_main_chain_blocks) / num_all_valid_blocks).  I add a block ID to my set every time I see \"Finished block validation of\"... in a line of a validator's logs.  I don't believe any blocks should be invalid in these simulations (and haven't seen anything to indicate the occurrence of an invalid block in the logs).  I'm a little concerned because even in small networks with 4 or 6 nodes, I'm seeing some very high stale block rates (like 80 or 90%!).  Meaning MOST blocks that get validated don't end up on the main chain.\nDoes my log combing approach seem correct?  Could the stale rates truly be this high?  If so, any ideas why?  Could there be so much congestion in the local network that the propagation delay is high enough to allow for all these publishing collisions?  I would really appreciate some experienced PoET wisdom.  Thank you.","username":"amiec","ts":"2019-05-19T00:24:32.206Z"}
{"msg":"How many nodes are you running, and what are your target and initial wait times?","username":"jsmitchell","ts":"2019-05-19T01:44:55.779Z"}
{"msg":"This is happening with 4, 6, 8 node networks, all using 20 seconds as target wait time and 20 * network size as initial wait time.  Also, these metrics are taken starting at time 0 for a duration of about 1000 seconds.  I'm not letting the network warm up... but figured the behavior would be the same as in a warm network because the network size is fixed and I'm using the appropriate value of initial_wait_time.  Are there aspects of Sawtooth or PoET that I'm overlooking here?  I'm quite confident in my log crawling code - but perhaps I'm mis-interpreting what's being reported in the logs?  Maybe I need to use a different message type?  Or maybe the stale block rate really is that high.","username":"amiec","ts":"2019-05-19T03:06:31.993Z"}
{"msg":"Sounds like an interesting project. The ramp behavior is different than the 'warm' behavior. The initial design of poet assumed that nodes would gradually be added to a network over the ramp time. Typically when most people launch test networks, all nodes are launched simultaneously, which makes the assumptions in the ramp inaccurate. Having the ramp in this case is harmless, but it's likely to throw your numbers off. In particular I think the default is 50 blocks for the ramp which is coincidentally is about the same duration that you are measuring. So I think you are only measuring the ramp.\nI would recommend letting the network stabilize for at least 50 blocks if not 100, and then starting your measurements at that point.\n\nSecond thing would be understanding more what you are trying to measure and what comparative numbers exist. This is a good paper: https://www.usenix.org/system/files/conference/nsdi16/nsdi16-paper-eyal.pdf\nI don't think it explicitly measures stale block rate, but I think there is something in there about 'mining efficiency' which sounds like a similar if not the same concept.\nI don't remember how it measures this, but I would be curious how one considers a stale block validated on just the host that created it vs. one that gets propagated needlessly across the whole network. I wouldn't be surprised if poet has inefficient propagation, but that would be good to identify and consider how to improve without breaking the protocol.","username":"Dan","ts":"2019-05-19T16:43:00.554Z"}
{"msg":"Hi Dan - thank you for this response, I really appreciate it.  I have a few followup questions if anybody is willing to answer:\n- Specifically, how is the ramp behavior different from the behavior of a warm network?  I was under the assumption that the only difference was in how the exponential distribution for wait time sampling was parameterized... Are there other differences that I'm not measuring?","username":"amiec","ts":"2019-05-19T23:40:59.512Z"}
{"msg":"Hi Dan - thank you for this response, I really appreciate it.  I have a few followup questions if anybody is willing to answer:\n- Specifically, how is the ramp behavior different from the behavior of a warm network?  I was under the assumption that the only difference was in how the exponential distribution for wait time sampling was parameterized... Are there other differences that I'm not taking into account?\n- When it comes to validating/publishing/propagating blocks, does a validator validate a block that it has assembled EVEN if it is not yet eligible to publish this block? (and importantly, would I expect to see evidence of this in the logs?)","username":"amiec","ts":"2019-05-19T23:40:59.512Z"}
{"msg":"On this later point, if so, that might be the reason that I'm seeing such high stale block rates - because ALL blocks are being \"validated\" - even the ones that don't get published.  Can anyone recommend a better signature in the logs for determining true stale blocks? (meaning blocks that are truly PUBLISHED and therefore propagated but ultimately not main-chainers).  For example, there are \"Claimed Block\" messages in the logs as well as fork resolution information that I feel might give a better metric.  Using \"Claimed Block\" instead of \"Finished block validation of\" gave me stale block rates just as high... maybe I need to use the fork resolution information.","username":"amiec","ts":"2019-05-19T23:45:22.762Z"}
{"msg":"Oh and one more! How do I determine the size of my blocks?  (For example, 100 batches/block, 20 txns/batch, all IntKey transactions).  The architecture pages describe the structures of transactions and batches, but I'm unclear on the exact structure of a Sawtooth block, how to establish the max size, and how the size of the block fluctuates with the number of txns and/or batches it contains?","username":"amiec","ts":"2019-05-19T23:55:24.175Z"}
{"msg":"I think your understanding of the ramp is essentially correct. It's been a long time since I looked at that code, but I think the worst case will be the first round where all the validators will assume they are on a very small network (like just themselves) and so they distribution will be skewed such that they all get really short durations and likely all publish blocks in roughly the same time. That's likely to skew your results.","username":"Dan","ts":"2019-05-20T00:14:03.747Z"}
{"msg":"Are you looking at all N logs (for an N node network) and if so how are you combining those numbers? Or are you looking at a single node as a representative?","username":"Dan","ts":"2019-05-20T00:15:49.970Z"}
{"msg":"I am indeed looking at all N logs for N validators.  I comb all logs while maintaining a global set of all unique blockIDs that have passed validation at any node.  Finally, when the workload is over I query the chain using the CLI (block list) to get the blocks on the main chain before tearing down the containers.","username":"amiec","ts":"2019-05-20T00:22:41.343Z"}
{"msg":"In case the validators are validating candidate blocks regardless of whether they go on to publish these blocks (which I would expect to give VERY high stale block rates), I'm going to take a look at the average number of fork comparisons across validators and see if those numbers look a little more how I expect.","username":"amiec","ts":"2019-05-20T00:23:45.575Z"}
{"msg":"Update: When I analyze all blocks that are involved in fork comparisons, and then calculate ((total_blocks_involved_in_fork - num_blocks_main_chain) / total_blocks_involved_in_fork)  I get the same numbers as when I look at the total number of blocks that get validated and plug this number into the above equation instead.  I believe that my scripting is correct but either my understanding of what the logs are depicting is flawed, or my network really is undergoing extreme forking.","username":"amiec","ts":"2019-05-20T00:44:55.426Z"}
{"msg":"So in combining those logs do you get a feel for if an orphan is validated on all nodes or just some nodes?\nAre things any different if you run for twice as long and cut off that first 1000s of ramp time from the results? I would not be surprised by N forks in the first round slowly diminishing as you approach the end of the ramp.\nThere are also events instrumented in the code for various things including I think some forking events. There's some grafana configuration documentation to view those events live too. \nhttps://sawtooth.hyperledger.org/docs/core/nightly/master/sysadmin_guide/grafana_configuration.html","username":"Dan","ts":"2019-05-20T17:34:49.458Z"}
{"msg":"It logs a fork comparison message even for the simple case of extending the chain, btw. To @Dan s point, the grafana metrics provide a wealth of information on this. There is a blocks considered graph which can be compared against the blocks committed graph. If the considered graph is more than 20% or so higher than blocks committed, that probably means the wait times need tuning. There is also a graph which shows forks.","username":"jsmitchell","ts":"2019-05-20T23:10:44.853Z"}
{"msg":"Has joined the channel.","username":"deorcregnboga","ts":"2019-05-21T12:50:50.208Z","type":"uj"}
{"msg":"Thanks for these thoughts!  I actually have not analyzed whether an orphan is validated on all or just some nodes - that's a great idea and I'll comb the logs again differently to get that sense.  I'm also planning to start experimenting with cutting the first 1000 seconds and will let you know what I see.  @jsmitchell I did notice that you see a \"fork comparison is between - and xxxxxx\" when there is no conflicting candidate and am accounting for this as well.  I have one other theory regarding the extreme stale block rates - I'm performing these experiments on such a resource-constrained system that memory itself may be a communication bottleneck that is creating such a high effective block propagation latency that nodes are busy creating many of their own blocks before they get around to processing an incoming block... it still seems a little extreme, but perhaps.  The plan this summer is to move the experiments onto a cluster and really start digging deeper.  I've attached two graphs that may be interesting.  These are all for the first 1000 seconds of time, with workloads delivered from Caliper.  One graph examines varying the block interval from 3 to 100 seconds.  The other uses a fixed block interval of 20 sec.  The only other thing that I'm having trouble explaining on these graphs is that the stale block rate (at relatively shorter block intervals at least) is higher at a delivery rate of 5 tps than it is at 10 tps.... quite consistently.  I can't explain why a change in the rate of incoming transactions (especially such a small, mild change) should affect the stale block rate at all.  (Each data point in these graphs was achieved by running an experiment for about 1000 seconds at a fixed-rate workload at the specified incoming TPS for several runs, and then averaging these runs.  Error bars can be large as I believe n=4 for most of these.)  If you have any thoughts on that, I would also be curious.","username":"amiec","ts":"2019-05-22T14:18:44.667Z"}
{"msg":"","username":"amiec","ts":"2019-05-22T14:19:29.170Z","attachments":[{"type":"file","title":"multiplot.pdf","title_link":"/file-upload/SbBxwgoWnGAGvjPo4/multiplot.pdf","url":"/file-upload/SbBxwgoWnGAGvjPo4/multiplot.pdf","remote":false,"fileId":"SbBxwgoWnGAGvjPo4","fileName":"multiplot.pdf"}]}
{"msg":"","username":"amiec","ts":"2019-05-22T14:20:09.053Z","attachments":[{"type":"file","title":"varyintervals.pdf","title_link":"/file-upload/5EotFByeJP7yNELjG/varyintervals.pdf","url":"/file-upload/5EotFByeJP7yNELjG/varyintervals.pdf","remote":false,"fileId":"5EotFByeJP7yNELjG","fileName":"varyintervals.pdf"}]}
{"msg":"This is all with v1.0.5 btw","username":"amiec","ts":"2019-05-22T14:20:15.735Z"}
{"msg":"@MicBowman Sorry  I missed your question. I did solve it  thank you ","username":"MelodyWang","ts":"2019-05-28T02:26:49.731Z"}
{"msg":"Hi everyone, I have a simple question that how could I read the 1.0 version of sawtooth sgx code. In the github, the version  is confusing me ","username":"MelodyWang","ts":"2019-05-28T02:29:49.129Z"}
{"msg":"@Dan  I have a simple question that how could I get the 1.0.5 version of sawtooth poet sgx code?  I download the current one from github, I run into the following error while compiling","username":"MelodyWang","ts":"2019-05-28T02:33:45.715Z"}
{"msg":"@Dan CMake Error at sawtooth_poet_sgx/libpoet_enclave/CMakeLists.txt:110 (SGX_SIGN_ENCLAVE):\n  SGX_SIGN_ENCLAVE Function invoked with incorrect arguments for function\n  named: SGX_SIGN_ENCLAVE\n\n\nCMake Error: The following variables are used in this project, but they are set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the CMake files:\nABS-sgx_ukey_exchange\n    linked by target \"libpoet-bridge\" in directory /home/melody/Downloads/sawtooth-poet/sgx/sawtooth_poet_sgx/libpoet_bridge\n\n-- Configuring incomplete, errors occurred!\n","username":"MelodyWang","ts":"2019-05-28T02:34:11.928Z"}
{"msg":"Thank you for your help! ","username":"MelodyWang","ts":"2019-05-28T02:34:22.911Z"}
{"msg":"@MelodyWang i don't remember how the poet code does it, but you need to generate a key that can be used to sign the enclave. for non-production systems. for PDO we use the following:","username":"MicBowman","ts":"2019-05-28T15:32:35.362Z"}
{"msg":"openssl genrsa -3 -out ${SGX_SIGN_ENCLAVE} 3072","username":"MicBowman","ts":"2019-05-28T15:32:46.908Z"}
{"msg":"Anybody knows how to get the source code of \"sudo add-apt-repository 'deb http://repo.sawtooth.me/ubuntu/1.0/stable xenial universe'\" ","username":"MelodyWang","ts":"2019-05-29T16:02:53.261Z"}
{"msg":"@MelodyWang For Sawtooth 1.0, PoET is part of the Sawtooth core repository. Use the `1-0` branch for Sawtooth 1.0 source. See https://github.com/hyperledger/sawtooth-core/tree/1-0/consensus/poet","username":"danintel","ts":"2019-05-29T17:59:05.491Z"}
{"msg":"@danintel thanks a lot! ","username":"MelodyWang","ts":"2019-05-29T18:38:50.675Z"}
{"msg":"@danintel is there any building instruction I could find ?","username":"MelodyWang","ts":"2019-05-29T18:56:05.530Z"}
{"msg":"I belidve it is called BUILD.md for everything","username":"danintel","ts":"2019-05-29T19:06:28.187Z"}
{"msg":"thank you @danintel. butI did not see the BUILD.md in this tree version ","username":"MelodyWang","ts":"2019-05-29T19:55:26.862Z"}
{"msg":"thank you @danintel. butI did not see the BUILD.md in this tree version deb http://repo.sawtooth.me/ubuntu/1.0/stable xenial universe'","username":"MelodyWang","ts":"2019-05-29T19:55:26.862Z"}
{"msg":"BUILD.md was integrated shortly after the Sawtooth 1.0 release. Read the original version of it for 1.0 build instructions (dated January 2018). https://github.com/hyperledger/sawtooth-core/blob/cb050657df8c15a2098ffbf6ec376038541e28e6/BUILD.md","username":"danintel","ts":"2019-05-29T20:07:11.538Z"}
{"msg":"thank you @danintel.  The branch 1-0 in sawtooth core is showing the version is 1.0.6. Just want to make sure this is the source code of \"deb http://repo.sawtooth.me/ubuntu/1.0/stable xenial universe'\" since I got this instruction from document 1.0.5. And I tried to build from the source but enclave could not be initialized because of Invalid enclave metadata ","username":"MelodyWang","ts":"2019-05-29T20:12:37.804Z"}
{"msg":"1.0.6 is built from the 1-0 branch tip","username":"pschwarz","ts":"2019-05-29T20:18:02.810Z"}
{"msg":"@MelodyWang there are tags (v1.0.5 for example) of the releases","username":"amundson","ts":"2019-05-29T20:18:33.062Z"}
{"msg":"@amundson I see thank you! is this should be the source of \"deb http://repo.sawtooth.me/ubuntu/1.0/stable xenial universe'\" ","username":"MelodyWang","ts":"2019-05-29T20:20:26.452Z"}
{"msg":"it should match the version on the installed debian files, so yes","username":"amundson","ts":"2019-05-29T20:22:55.560Z"}
{"msg":"@amundson Thank you! I compiled this one but I still get the \"Invalid enclave metadata \" while creating enclave ","username":"MelodyWang","ts":"2019-05-29T20:25:35.190Z"}
{"msg":"Has joined the channel.","username":"Pradeep_Pentakota","ts":"2019-06-03T10:27:54.064Z","type":"uj"}
{"msg":"I'm upgrading PoET1.0 to SGX v3, but running into an issue with Swig with a type mismatch between byte and std::string. it seems this was a problem in older versions of swig and was fixed in swig 3.0.10. However, docker seems to pull in only v3.0.8. Swig 4.0 doesn't seem to have an apt package yet that I can find. \n\nHas anyone run into type mismatch issues between Python & C++ before? Any suggestions on how to proceed?","username":"amolk","ts":"2019-06-07T15:54:20.912Z"}
{"msg":"Anyone seen the following while building `sawtooth-devmode` \n```\ntep 10/13 : RUN /root/.cargo/bin/cargo deb\n ---> Running in 70d57dda7714\nwarning: license field is missing in Cargo.toml\nwarning: README.md file exists, but is not specified in `readme` Cargo.toml field\n   Compiling sawtooth-devmode-engine-rust v1.2.1 (/project)\nerror[E0046]: not all trait items implemented, missing: `additional_protocols`\n   --> src/engine.rs:212:1\n    |\n212 | impl Engine for DevmodeEngine {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `additional_protocols` in implementation\n    |\n    = note: `additional_protocols` from trait: `fn(&Self) -> std::vec::Vec<(std::string::String, std::string::String)>`\n```","username":"kodonnel","ts":"2019-06-10T15:22:20.419Z"}
{"msg":"Since I am just building the 1.2.1 tag and since I have definitely built this successfully  many times before, I am guessing something incompatible has leaked in from upstream.","username":"kodonnel","ts":"2019-06-10T15:23:03.018Z"}
{"msg":"Since I am just building the 1.2.1 tag and since I have definitely built this successfully  many times before, I am guessing something incompatible has has come from a pulled in dependency.","username":"kodonnel","ts":"2019-06-10T15:23:03.018Z"}
{"msg":"@ltseeley ^","username":"agunde","ts":"2019-06-10T15:23:11.578Z"}
{"msg":"@kodonnel looks like that tag was created before the SDK version was pinned to 0.2; we just made a change to the SDK, so that's breaking that build. Can you use master instead of the 1.2.1 tag? We're doing a new release soon, so we'll have new tags for that.","username":"ltseeley","ts":"2019-06-10T15:33:03.797Z"}
{"msg":"@ltseeley  Depends on timing I suppose.  You mean the general release of sawtooth 1.2, or of just the devmode engine?","username":"kodonnel","ts":"2019-06-10T15:41:00.108Z"}
{"msg":"@amolk I can't tell for sure but some searches suggest bionic should be importing swig 3.0.12.   #private-data-objects is still using swig. @BrunoVavala are you doing anything special to get swig into your containers? ","username":"Dan","ts":"2019-06-10T15:49:09.633Z"}
{"msg":"Has joined the channel.","username":"BrunoVavala","ts":"2019-06-10T15:49:09.698Z","type":"uj"}
{"msg":"The new release I'm referring to is the general sawtooth 1.2 release; part of that release is tagging all of the related components (including devmode).","username":"ltseeley","ts":"2019-06-10T15:51:49.064Z"}
{"msg":"I don't see anything special for swig in PDO: https://github.com/hyperledger-labs/private-data-objects/blob/master/docker/Dockerfile.pdo-dev#L92","username":"Dan","ts":"2019-06-10T15:52:32.598Z"}
{"msg":"Has joined the channel.","username":"RealDeanZhao","ts":"2019-06-12T02:24:20.279Z","type":"uj"}
{"msg":"(sorry for the delay @Dan)","username":"BrunoVavala","ts":"2019-06-17T06:13:31.852Z"}
{"msg":"(sorry for the delay @Dan) just as you also noticed in the code, I don't think so. @msteiner what do you think?\n@amolk  I am successfully using swig 3.0.8 and 3.0.12 with PDO. I suggest looking at the includes and conversions we have in https://github.com/hyperledger-labs/private-data-objects/blob/master/eservice/pdo/eservice/enclave/pdo_enclave_internal.i  ","username":"BrunoVavala","ts":"2019-06-17T06:13:31.852Z"}
{"msg":"@amolk FYI, here is the public link to the IAS API v3 Rev.5 specs https://api.trustedservices.intel.com/documents/sgx-attestation-api-spec.pdf \nWe have already adopted the specs in both PDO and Fabric Private Chaincode, and achieved BIG usability improvements since it does not require users to register client certificates.","username":"BrunoVavala","ts":"2019-06-17T06:42:25.291Z"}
{"msg":"Hi @BrunoVavala thanks. I'll look at the conversions. The IAS interaction with v3 is working just fine. It's while passing data to the SGX later that we get errors.","username":"amolk","ts":"2019-06-17T07:27:02.556Z"}
{"msg":"Has joined the channel.","username":"msteiner","ts":"2019-06-18T01:03:01.587Z","type":"uj"}
{"msg":"Nothing special i did in docker to make swig work in PDO. While I haven't tested it for quite a while on ubuntu other than 18.04, certainly earlier versions of PDO worked with swig in all of 16.04, 17.10 and 18.04","username":"msteiner","ts":"2019-06-18T01:36:12.548Z"}
{"msg":"Has joined the channel.","username":"RajkumarNatarajan","ts":"2019-06-22T04:39:25.210Z","type":"uj"}
{"msg":"Hi. Is there anything else written up on the consensus interface beyond this? https://sawtooth.hyperledger.org/docs/core/releases/latest/architecture/journal.html#the-consensus-interface","username":"duncanjw","ts":"2019-06-25T08:51:13.870Z"}
{"msg":"I appreciate there is the original RFC https://github.com/hyperledger/sawtooth-rfcs/blob/master/text/0004-consensus-api.md","username":"duncanjw","ts":"2019-06-25T08:55:15.568Z"}
{"msg":"I guess what would be helpful would be something similar to the way we provide people with TP exemplar(s)","username":"duncanjw","ts":"2019-06-25T08:57:03.336Z"}
{"msg":"If I am looking in the wrong place please shout out","username":"duncanjw","ts":"2019-06-25T08:57:32.926Z"}
{"msg":"The closest thing Ive found is this which is helpful https://sawtooth.hyperledger.org/docs/pbft/nightly/master/architecture.html#network-overview","username":"duncanjw","ts":"2019-06-25T08:59:49.589Z"}
{"msg":"@duncanjw any specific question?","username":"arsulegai","ts":"2019-06-25T09:35:44.531Z"}
{"msg":"Basically is there a bluffer's guide to writing a consensus plug in as the section in the main docs is incredibly high level? ","username":"duncanjw","ts":"2019-06-25T10:41:37.432Z"}
{"msg":"Or plans to provide one?","username":"duncanjw","ts":"2019-06-25T10:42:02.456Z"}
{"msg":"Or plans to provide one?","username":"duncanjw","ts":"2019-06-25T10:42:35.479Z"}
{"msg":"The simplest example consensus engine is https://github.com/hyperledger/sawtooth-devmode/","username":"pschwarz","ts":"2019-06-25T14:17:53.882Z"}
{"msg":"There isn't a tutorial for writing one, though.  It's a pretty advanced topic","username":"pschwarz","ts":"2019-06-25T14:18:17.072Z"}
{"msg":"Has joined the channel.","username":"lucgerrits","ts":"2019-06-25T15:51:00.836Z","type":"uj"}
{"msg":"Understood but documenting the consensus interface (beyond saying there is one in the main docs) would be a start","username":"duncanjw","ts":"2019-06-26T10:18:32.818Z"}
{"msg":"@duna","username":"ltseeley","ts":"2019-06-26T14:20:10.607Z"}
{"msg":"@duncanjw you might find this blog I wrote in January helpful: https://www.hyperledger.org/blog/2019/01/11/floating-the-sawtooth-raft-implementing-a-consensus-algorithm-in-rust","username":"ltseeley","ts":"2019-06-26T14:21:08.163Z"}
{"msg":"It gives a brief overview of how we implemented the Raft consensus engine","username":"ltseeley","ts":"2019-06-26T14:21:58.903Z"}
{"msg":"Agreed. Part 2 is good too","username":"duncanjw","ts":"2019-06-26T14:23:52.297Z"}
{"msg":"https://www.hyperledger.org/blog/2019/02/13/introduction-to-sawtooth-pbft","username":"duncanjw","ts":"2019-06-26T14:27:21.883Z"}
{"msg":"Got it. Will check out RAFT post. The PBFT ones are helpful too","username":"duncanjw","ts":"2019-06-26T14:30:04.170Z"}
{"msg":"Don't hesitate to reach out with any further questions","username":"ltseeley","ts":"2019-06-26T14:35:32.065Z"}
{"msg":"Has joined the channel.","username":"kkp1310","ts":"2019-07-04T18:04:18.717Z","type":"uj"}
{"msg":"Has joined the channel.","username":"patelkishan","ts":"2019-07-04T18:22:53.579Z","type":"uj"}
{"msg":"Hello guys, Dan suggested this channel.Have a look at this question https://stackoverflow.com/questions/56872663/unusual-behaviour-of-batches-block-in-hyperledger-sawtooth ","username":"patelkishan","ts":"2019-07-04T18:22:55.238Z"}
{"msg":"I found something really strange.I ran it for total 200 txns, 25 txns per batch.While reading the logs, the following statements caught my eye - \"Removed 6 incomplete batches from the schedule\", \"Removed 5 incomplete batches from the schedule\", \"Removed 4 incomplete batches from the schedule\", \"Removed 3 incomplete batches from the schedule\",.. and so on.This is the reason why only one batch was included in a block. What can I do?","username":"patelkishan","ts":"2019-07-04T18:23:16.405Z"}
{"msg":"@patelkishan This channel is for development of the consensus engines, so #sawtooth would be more appropriate. However, basically since you have publishing delay set to 0, blocks are published immediately. the \"Removed X incomplete batches\" occurs because when it's time to publish a block, batches that have not yet been run (and thus are \"incomplete\" are removed from the scheduler used for block publishing. That's probably going to be all but one in the case where you have the publishing delay set to 0.","username":"amundson","ts":"2019-07-08T15:28:00.881Z"}
{"msg":"Setting publishing delay to 0 is not really desirable.","username":"amundson","ts":"2019-07-08T15:29:24.631Z"}
{"msg":"You can follow my previous suggestion to not set `sawtooth.consensus.pbft.block_publishing_delay=0`","username":"danintel","ts":"2019-07-08T22:55:43.361Z"}
{"msg":"Has left the channel.","username":"luckycharms810","ts":"2019-07-15T15:21:23.892Z","type":"ul"}
{"msg":"Has joined the channel.","username":"horse","ts":"2019-07-30T14:10:17.674Z","type":"uj"}
{"msg":"I would like to initiate the conversation on PoET 2","username":"arsulegai","ts":"2019-07-31T03:45:36.622Z"}
{"msg":"The first topic is the way PoET 2 is deemed to bootstrap","username":"arsulegai","ts":"2019-07-31T03:47:07.136Z"}
{"msg":"An enclave cannot be created beforehand and hence a genesis batch creation would not be possible through CLI, like in PoET 1","username":"arsulegai","ts":"2019-07-31T03:47:49.325Z"}
{"msg":"PoET 2 startup flow considers enclave initialization, and it does get AVR through remote attestation procedure","username":"arsulegai","ts":"2019-07-31T03:49:31.436Z"}
{"msg":"The design consideration is that the genesis Validator has to wait for genesis batch creation (done as part of PoET 2 startup), then proceed","username":"arsulegai","ts":"2019-07-31T03:50:28.003Z"}
{"msg":"It's possible to achieve this through docker compose file easily, it's also achievable if we are starting Sawtooth components as services but on same machine","username":"arsulegai","ts":"2019-07-31T03:51:27.459Z"}
{"msg":"However, if PoET 2 is running on a different machine as a service. Only for the genesis node, somebody needs to manually copy the created genesis batch to the Validator machine. (It's same with PoET 1)","username":"arsulegai","ts":"2019-07-31T03:52:26.280Z"}
{"msg":"This copy however should be done within 5 min, the default timeout value for consensus engine to panic while attempting to connect to a validator service","username":"arsulegai","ts":"2019-07-31T03:53:15.848Z"}
{"msg":"We thought of other mechanisms, but this seemed to be more preferable for now. Any comments on this?","username":"arsulegai","ts":"2019-07-31T03:54:00.489Z"}
{"msg":"@arsulegai there is probably a larger question here about the ability to restart validators in general. I'm inferring from what you are saying that when a validator restarts, it will have to re-join the network \"from scratch\" before it can publish blocks again. that would mean, it is impossible to shut down the network fully and then restart the network--there is an assumption that the network is never completely down. does that sound accurate?","username":"amundson","ts":"2019-07-31T14:14:49.274Z"}
{"msg":"Yes, this was my next topic of discussion","username":"arsulegai","ts":"2019-07-31T14:18:06.881Z"}
{"msg":"the 5 minute timeout thing would be a bad design from an administrative perspective. basically, what you are saying is that you need some persistent process that has a handle on the enclave. so, you should write a process that does that and let the validator/engine and the CLI talk to that process. it would have a potential benefit that you could upgrade the validator without restarting the enclave \"process\", assuming API/ABI compatibility hasn't changed between the versions.","username":"amundson","ts":"2019-07-31T14:18:50.579Z"}
{"msg":"the can't restart piece basically means it will be exceptionally fragile and difficult to keep any smaller networks running. having a smaller process that has a handle to the enclave will help mitigate that, but won't solve it.","username":"amundson","ts":"2019-07-31T14:21:38.644Z"}
{"msg":"the can't-restart piece basically means it will be exceptionally fragile and difficult to keep any smaller networks running. having a smaller process that has a handle to the enclave will help mitigate that, but won't solve it.","username":"amundson","ts":"2019-07-31T14:21:38.644Z"}
{"msg":"I think you would want to engineer in some workaround to the restart issue, so you can restart old chains for testing purposes","username":"amundson","ts":"2019-07-31T14:23:08.890Z"}
{"msg":"for example, we've discussed changing our overall testing methodology to not always start at genesis, but start much further along in the chain. that implies we start saving longer chains that can be restarted. (we have started to do this somewhat, but from-genesis is still the common test)","username":"amundson","ts":"2019-07-31T14:25:03.251Z"}
{"msg":"this approach would also give you a simple way to write a mock enclave process (looks like the real thing, but is only software) while keeping the rest of the system unchanged","username":"amundson","ts":"2019-07-31T14:28:00.700Z"}
{"msg":"it could expose a REST API","username":"amundson","ts":"2019-07-31T14:28:20.687Z"}
{"msg":"I will come back on first part later - starting a daemon process to hold the enclave up and running, which PoET can make use of when the service is started.","username":"arsulegai","ts":"2019-07-31T14:35:22.488Z"}
{"msg":"For restarting of the nodes, if there's at least one node in the network then the new registration would pass. The case however we need to worry about is when all the nodes are down.","username":"arsulegai","ts":"2019-07-31T14:36:27.741Z"}
{"msg":"This can be considered as a case of total network failure, where older Blockchain will stop growing and a new chain will be started. Realizing such feature would require us to have a support of the validator to bootstrap from arbitrary initial global state.","username":"arsulegai","ts":"2019-07-31T14:39:56.469Z"}
{"msg":"The suggestion on holding the process handler in a daemon process as a backup is a great idea as opposed to stringent 5 minute panic. I need some time to understand if it's possible and if so what are its security implications.","username":"arsulegai","ts":"2019-07-31T14:44:20.184Z"}
{"msg":"Has joined the channel.","username":"jamesbarry","ts":"2019-07-31T16:24:42.903Z","type":"uj"}
{"msg":"\"total network failure\" -- yes, which is more likely with low node counts like the number that are commonly used in testing and PoCs","username":"amundson","ts":"2019-07-31T16:24:45.196Z"}
{"msg":"it will also be fairly difficult to bootstrap networks before they achieve a significant number of nodes","username":"amundson","ts":"2019-07-31T16:25:41.057Z"}
{"msg":"Has joined the channel.","username":"ArpanNag","ts":"2019-08-05T14:16:30.623Z","type":"uj"}
{"msg":"Ok, here's an update on having separate process for the enclave and the engine","username":"arsulegai","ts":"2019-08-11T10:39:39.717Z"}
{"msg":"1. The design will be such that one engine will register with one enclave. Each enclave maintains state for the WaitCertificate.","username":"arsulegai","ts":"2019-08-11T10:40:54.577Z"}
{"msg":"2. The enclave will be registered first/create a batch for registration before engine can start its operations.","username":"arsulegai","ts":"2019-08-11T10:41:32.487Z"}
{"msg":"3. If enclave process restarts without the engine process, then a new enclave can be attached to the engine. The engine can request for the new block at same height as it was creating earlier.","username":"arsulegai","ts":"2019-08-11T10:42:31.992Z"}
{"msg":"4. If engine process restarts without the enclave process, then it can be considered as engine's failure to create a block.","username":"arsulegai","ts":"2019-08-11T10:43:26.049Z"}
{"msg":"@arsulegai for genesis, you should still use the CLI tool so it is an explicit action by the administrator (the CLI tool talking to the enclave process)","username":"amundson","ts":"2019-08-12T15:22:59.352Z"}
{"msg":"Agree, sorry that I missed CLI in my earlier message. With two different processes there will be a CLI","username":"arsulegai","ts":"2019-08-12T15:23:34.682Z"}
{"msg":"seems good to me","username":"amundson","ts":"2019-08-12T15:24:36.596Z"}
{"msg":"Regarding second topic: We will start with initial assumption that PoET2 currently do not answer what if all the enclave processes fail at once. At production it's expected to have more number of nodes. For development environment/testing this particular scenario is excluded. However admins can create multiple enclaves and register, keep them ready for PoET Engine to register later.","username":"arsulegai","ts":"2019-08-12T15:27:21.323Z"}
{"msg":"the engine, being in rust in the future, could also be compiled into the validator, making it one less process; having the enclave process separate--so, in sawtooth 2.0, we might compile in pbft and poet by default to save on processes","username":"amundson","ts":"2019-08-12T15:27:46.897Z"}
{"msg":"do we know the number of nodes in a PoET 2 network needed to get to a stable point?","username":"amundson","ts":"2019-08-12T15:29:30.802Z"}
{"msg":"is it 100+? or less?","username":"amundson","ts":"2019-08-12T15:29:43.762Z"}
{"msg":"It's less","username":"arsulegai","ts":"2019-08-12T15:30:27.576Z"}
{"msg":"the Z-test, which also assumes large networks, is also problematic on fewer-node networks, and I'm not sure we have ever actually had a network large enough to have it make sense","username":"amundson","ts":"2019-08-12T15:31:41.518Z"}
{"msg":"certainly 10 nodes doesn't seem sufficient for these assumptions","username":"amundson","ts":"2019-08-12T15:32:19.449Z"}
{"msg":"but, if we only have 10 nodes, PBFT is better anyway probably--still, would be useful to know how big the network has to be","username":"amundson","ts":"2019-08-12T15:34:04.577Z"}
{"msg":"I assume someone good with statistics could answer it derived from the expected rate of failure of nodes","username":"amundson","ts":"2019-08-12T15:35:13.694Z"}
{"msg":"I will take up this topic in the RFC, to get more comments on Z-test","username":"arsulegai","ts":"2019-08-12T15:41:16.217Z"}
{"msg":"Another point I wanted to bring up - PoET 2 will go into a new branch under the sawtooth-poet repository and can think of two options\n1. Keep PoET 2 as a separate branch, there will be PoET 1 (master) and a PoET 2. Release of PoET 2 will be on need basis, until it reaches the maturity.\n2. After rigorous PoET 2 testing, make PoET 2 branch as the default master. But still keep PoET 1 alongside (maybe a tag/branch).\n\nI prefer Option 1 in this. Please comment","username":"arsulegai","ts":"2019-08-12T15:44:32.088Z"}
{"msg":"I'd like to see some pieces go directly into master, like the rust validator registry rewrite","username":"amundson","ts":"2019-08-12T15:48:24.147Z"}
{"msg":"I think this codebase should also support PoW","username":"amundson","ts":"2019-08-12T15:50:12.069Z"}
{"msg":"We can certainly think of that once PoET 2 branch is up, but there are few concerns for 1:1 replacing Python's registry TP with Rust's registry TP.","username":"arsulegai","ts":"2019-08-12T15:50:24.651Z"}
{"msg":"as in, you swap out elapsed time for work depending on a compilation setting","username":"amundson","ts":"2019-08-12T15:50:36.364Z"}
{"msg":"first we should be 1:1 replace python tp with rust tp, then extend/modify that rust tp to work w/poet 2; we could use rust features for this even","username":"amundson","ts":"2019-08-12T15:51:34.631Z"}
{"msg":"The Proof of X repo, where X is in the set of { Elapsed Time, Work,..}","username":"pschwarz","ts":"2019-08-12T15:51:54.735Z"}
{"msg":"we could take a similar approach with a rust version of the CLI","username":"amundson","ts":"2019-08-12T15:51:54.939Z"}
{"msg":"Few I can think of now\n1. AVR verification part is different from PoET 1. Let's assume there will be a flag / parameter to identify version.\n2. SgxStructs in PoET 1 are in Python, if Rust's version is to be supported a set of structures will go in similar to the Python's one.","username":"arsulegai","ts":"2019-08-12T15:52:30.869Z"}
{"msg":"if there are no developers working on incrementally making PoET better, should we drop support for PoET entirely? A rewrite that is far away isn't the same thing as moving the current code base forward.","username":"amundson","ts":"2019-08-12T15:54:52.498Z"}
{"msg":"(adding it back in 'some day')","username":"amundson","ts":"2019-08-12T15:56:37.693Z"}
{"msg":"If we had the enclave process, we could gut a bunch of current PoET to use it","username":"amundson","ts":"2019-08-12T16:01:17.396Z"}
{"msg":"@pschwarz and I have discussed adopting an \"experimental\" rust feature in the validator (similar to Rust's 'nightly') that allows for validator features to be added but not enabled by default. and extending this to other components as well makes sense (SDKs, CLIs, consensus engines)","username":"amundson","ts":"2019-08-12T16:05:41.677Z"}
{"msg":"I don't think there's much relationship between poet1 and poet2 including the validator registry. Poets 1 and 2 have different verification code for the registry so I don't think it would make sense to put anything from poet2 into 'master==poet1'","username":"Dan","ts":"2019-08-12T16:06:50.482Z"}
{"msg":"the preview version was 90% the same, different implementation","username":"amundson","ts":"2019-08-12T16:08:06.358Z"}
{"msg":"I second @Dan on that, PoET 2 name may sound it's upgrade to current PoET. But in reality PoET 2 is another implementation of Proof of Elapsed Time.","username":"arsulegai","ts":"2019-08-12T16:08:46.143Z"}
{"msg":"@amundson I see how you're visualizing the architecture going forward","username":"arsulegai","ts":"2019-08-12T16:09:21.094Z"}
{"msg":"We can have such a support. Still keeping current PoET separate from new PoET","username":"arsulegai","ts":"2019-08-12T16:11:04.995Z"}
{"msg":"I think you are overstating the differences, and if PoET was written in Rust already then 90% of the code would be the same.","username":"amundson","ts":"2019-08-12T16:14:32.414Z"}
{"msg":"you would have to put in conditionals to check which protocol you were running which would just complicate things for no reason. There's so much that evolved while we were writing poet1 that I welcome the opportunity to eliminate any spaghetti possible when creating poet2.","username":"Dan","ts":"2019-08-12T16:28:52.958Z"}
{"msg":"we are going to start using conditionals more, that's a good thing. hide the experimental stuff but allow it into the code base.","username":"amundson","ts":"2019-08-13T16:43:31.907Z"}
{"msg":"but, I'm not suggesting using existing poet1 code as a starting point. I'm suggesting tactically rewriting components first that can be shared between the two. should drive modularity into the poet2 design, and avoid that spaghetti problem again. (a fresh rewrite of new spaghetti code isn't great either). at the same time, we should be thinking of ways to replace et with w.","username":"amundson","ts":"2019-08-13T16:46:59.395Z"}
{"msg":"I'll upload a VR TP code. Note that it looks mostly the same and may also work with current PoET, but there's difference in the way verification of sign-up info is done. So it's not recommended to replace master's current TP with the new rust TP. Then I will raise a PR for rust version of CLI to follow up after the VR TP, this too will have differences in the way that it'll accept enclave process ip & port. Hopefully we will have different approach by then, these are the code parts I can think of with less difference.","username":"arsulegai","ts":"2019-08-13T17:05:59.443Z"}
{"msg":"I can't think of any reason to put the poet2 VR TP code into master.","username":"Dan","ts":"2019-08-13T18:19:53.176Z"}
{"msg":"Has joined the channel.","username":"Cheese","ts":"2019-09-06T06:48:30.227Z","type":"uj"}
{"msg":"Hi, we have just changed our consensus from POET to PBFT and have subscribed to sawtooth/state-delta event.\n\nAlthough we are receiving transactions in the TP, we are not receiving any events from TP. We were able to receive both events from and transactions in TP back when we were using POET.\n\nDoes anyone have any idea about this issue?","username":"Cheese","ts":"2019-09-06T06:48:30.931Z"}
{"msg":"Hi, we have set up a new network with PBFT and have subscribed to sawtooth/state-delta events.\n\nAlthough we are receiving transactions in the TP, we are not receiving any events from the validator. We are able to receive events when running the network using POET.\n\nDoes anyone have any idea about this issue?","username":"Cheese","ts":"2019-09-06T06:48:30.931Z"}
{"msg":"@Cheese what version of sawtooth and what version of pbft?","username":"amundson","ts":"2019-09-06T14:29:30.450Z"}
{"msg":"Is there a plan to support disk persistence, if there's a way already possible how to do it? https://github.com/hyperledger/sawtooth-pbft/blob/bab51205c8ee2fbf1231676a062a04ad72559ee5/src/config.rs#L87","username":"arsulegai","ts":"2019-09-09T09:00:24.607Z"}
{"msg":"Found the answer here https://github.com/hyperledger/sawtooth-pbft/blob/b8cc6cdcf1929341f9aff0b9ecff19f43ff91a9f/src/main.rs#L147","username":"arsulegai","ts":"2019-09-09T09:06:01.367Z"}
{"msg":"Also it's documented already https://sawtooth.hyperledger.org/docs/pbft/nightly/master/configuring-pbft.html#pbft-command-line-options","username":"arsulegai","ts":"2019-09-09T09:07:09.062Z"}
{"msg":"How about a page in the documentation, that helps or cautions administrator with list of best practices to be followed when deploying a PBFT network. Such as need to persist the data in a directory (otherwise there's data loss upon restart).","username":"arsulegai","ts":"2019-09-09T09:12:01.028Z"}
{"msg":"This is the cause for @Cheese 's issue","username":"arsulegai","ts":"2019-09-09T09:15:37.679Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC) @arsulegai facing the same issue here. Tried configuring the storage setting, but the command gives 'ReceiveError: TimeoutError'. Any way to rectify it? And where is the default storage location for a pbft node? Is it similar to that of raft '/var/lib/sawtooth-raft'? I couldn't find such a location for pbft. I'm using docker for running all the components including pbft-engine. Image version 1.0.","username":"johnfranklin","ts":"2019-09-21T08:57:52.364Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC) @arsulegai facing the same issue here. Tried configuring the storage setting, but the command gives 'ReceiveError: TimeoutError'. Any way to rectify it? And where is the default storage location for a pbft node? Is it similar to that of raft '/var/lib/sawtooth-raft'? I couldn't find such a location for pbft. I'm using docker for running all the components including pbft-engine. pbft-engine image version = 1.0. ","username":"johnfranklin","ts":"2019-09-21T08:57:52.364Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@johnfranklin There's a CLI option here at https://sawtooth.hyperledger.org/docs/pbft/nightly/master/configuring-pbft.html#pbft-command-line-options unlike in Raft, PBFT has flexibility to configure any location of choice through CLI. Could you please print the complete error message you see?","username":"arsulegai","ts":"2019-09-23T08:23:18.734Z"}
{"msg":"@arsulegai  the command I gave was \"pbft-engine -vv -s /pbft_storage\" . inside the pbft-engine docker container. The error message was \"ERROR | pbft_engine:108 | ReceiveError : TimeoutError\"","username":"johnfranklin","ts":"2019-09-23T08:33:30.232Z"}
{"msg":"That sounds like the validator is not responding to the consensus engine. It was different behavior which I saw in @Cheese 's case because of node restarts without persistence. We need to see in your case what caused this message timeout (we may get clues from prior traces in PBFT or the validator logs around that time).","username":"arsulegai","ts":"2019-09-23T13:57:30.863Z"}
{"msg":"@arsulegai Just following on from the call - since I recalled that we were planning on submitting a fix for the \" -s disk+/some_dir\"  cli option.  The engine doesn't actually get the -s argument value as it is now, since the parsed arg is not getting into the created engine config.   So a) I think the relationship betweeen the timeouts you are seeing and the storage option isn't real and b) the storage option isn't actually getting set.  You can see what we are planning to send in as a fix here https://github.com/hyperledger/sawtooth-pbft/compare/master...blockchaintp:fix/storage-location  ","username":"kodonnel","ts":"2019-09-23T15:28:00.330Z"}
{"msg":"We only spotted it last week while on the road and plan on submitting it assap","username":"kodonnel","ts":"2019-09-23T15:30:43.711Z"}
{"msg":"We only spotted it last week while on the road and plan on submitting it asap","username":"kodonnel","ts":"2019-09-23T15:30:43.711Z"}
{"msg":"@kodonnel wow, I totally missed two structure approach followed here. First fill in the CLI args structure and then the PBFT config. Thanks","username":"arsulegai","ts":"2019-09-24T05:38:16.423Z"}
{"msg":"@arsulegai there is another parameter that is missed like that as well which I suppose we will add to the fix.  we'll get the PR in this week","username":"kodonnel","ts":"2019-09-24T13:13:17.414Z"}
{"msg":"Another question: It will be helpful to document an example configuration file that can be used.","username":"arsulegai","ts":"2019-10-04T09:04:29.652Z"}
{"msg":"Another point: It will be helpful to document an example configuration file that can be used.","username":"arsulegai","ts":"2019-10-04T09:04:29.652Z"}
{"msg":"Another point: It will be helpful to document an example log configuration file that can be used. @kodonnel ","username":"arsulegai","ts":"2019-10-04T09:04:29.652Z"}
{"msg":"Hi, I'm looking through the commits between v1.0.1 and v1.0.0 of sawtooth-pbft and I see this one  https://github.com/hyperledger/sawtooth-pbft/commit/0239772ee020d23dc589453987c9cf7d0804fe53 .  It effectively says that this particular commit is possible because upon a fix in the validator, and therefore sawtooth-core.  Does anyone know which bug/pr/fix vs sawtooth-core it is referring to?  ","username":"kodonnel","ts":"2019-10-23T16:18:17.391Z"}
{"msg":"@kodonnel this is the fix in sawtooth core: https://github.com/hyperledger/sawtooth-core/pull/2049","username":"ltseeley","ts":"2019-10-23T18:08:36.594Z"}
{"msg":"That bugfix was not backported to Sawtooth 1.1.","username":"ltseeley","ts":"2019-10-23T18:10:00.809Z"}
{"msg":"That fix wasn't because there is not a BlockManager in 1.1 for a little more info on that","username":"pschwarz","ts":"2019-10-23T19:32:09.583Z"}
{"msg":"cheers","username":"kodonnel","ts":"2019-10-23T20:34:24.968Z"}
{"msg":"Has joined the channel.","username":"saanvijay","ts":"2019-10-24T10:14:20.916Z","type":"uj"}
{"msg":"I would but we haven't actually used the configuration file before. If I get a moment I'll try working it through.","username":"kodonnel","ts":"2019-10-24T14:45:44.580Z"}
{"msg":"So I've been looking at the pbft voting thresholds for the various message handling methods.  There are some definite problems here. One which is fairly straightforward in the handl_prepare message counting which I believe I've addressed properly here https://github.com/hyperledger/sawtooth-pbft/pull/158","username":"kodonnel","ts":"2019-10-27T14:48:57.746Z"}
{"msg":"But there is a broader issue, which is that a) there is no checking to see that the membership list is in one of the ideal configurations, i.e. n=4,n=7,n10, etc.  There is only a check that there are at least enough nodes to get f=1.  That wouldn't be a problem, except b) in the case where you are using nodes counts between the ideal numbers, the truncation math that you use to calculate f, can end up with some suprising figures for f, and therefore 2f+1.  Most problematically in the case where n=6 where you effectively can win the network with 3 nodes - i.e. a partition.   ","username":"kodonnel","ts":"2019-10-27T14:52:19.307Z"}
{"msg":"But there is a broader issue, which is that a) there is no checking to see that the membership list is in one of the ideal configurations, i.e. n=4,n=7,n10, etc.  There is only a check that there are at least enough nodes to get f=1.  That wouldn't be a problem, except b) in the case where you are using nodes counts between the ideal numbers, the truncation math that you use to calculate f, can end up with some suprising figures for f, and therefore 2f+1.  Most problematically in the case where n=6 where you effectively can win the network with 3 nodes - i.e. a partition.   I should note, that if the pull I referenced above is not used you will require 4 votes, but that also effectively makes a network with 4 nodes unable to continue without a fault, which is not the intended behavior.","username":"kodonnel","ts":"2019-10-27T14:52:19.307Z"}
{"msg":"Seems to me the right approach is to either a) error when when you aren't in a list of nodes where the math is even and no truncation happens or b) (my preference) the threshold for voting shouldn't be based on 2f+1 but max(n-f,2f+1)   This way, when you do 5 and 6 nodes ( or any other in between value) the threshold for \"good votes\" increases even if f remains steady.  ","username":"kodonnel","ts":"2019-10-27T14:54:32.915Z"}
{"msg":"We've gone ahead and done the latter option since that seems the most flexible, but it seems like which approach we take is a community decision. So haven't contributed it yet since we may want to go a different way.","username":"kodonnel","ts":"2019-10-27T14:55:58.819Z"}
{"msg":"@kodonnel the voting threshold of 2f + 1 for Prepare messages was an intentional decision. As you point out in (b) above, when the threshold is only 2f, it is possible to partition the network when the number of nodes is not \"ideal\" (i.e., n != 3f + 1). When I was implementing PBFT, I could nt find this particular issue addressed anywhere in the literature ","username":"ltseeley","ts":"2019-10-28T13:44:27.352Z"}
{"msg":"@kodonnel the voting threshold of 2f + 1 for Prepare messages was an intentional decision. As you point out in (b) above, when the threshold is only 2f, it is possible to partition the network when the number of nodes is not \"ideal\" (i.e., n != 3f + 1).","username":"ltseeley","ts":"2019-10-28T13:44:27.352Z"}
{"msg":"When I was implementing PBFT, I couldn't find this particular issue addressed anywhere in the literature; but clearly it violates the safety guarantees of PBFT, so that wasn't acceptable. My solution was to increase the threshold to 2f +1; this prevents any network segmentation, but it comes at the cost of weakening the liveness guarantees. As is pointed out in PR #158 mentioned above, when the configuration is \"ideal\" (n = 3f + 1), if f nodes are faulty, no blocks can be committed.","username":"ltseeley","ts":"2019-10-28T13:48:25.359Z"}
{"msg":"When I was implementing PBFT, I couldn't find this particular issue addressed anywhere in the literature; but clearly it violates the safety guarantees of PBFT, so that wasn't acceptable. My solution was to increase the threshold to 2f +1; this prevents any network segmentation, but it comes at the cost of weakening the liveness guarantees. As is pointed out in PR # 158 mentioned above, when the configuration is \"ideal\" (n = 3f + 1), if f nodes are faulty, no blocks can be committed.","username":"ltseeley","ts":"2019-10-28T13:48:25.359Z"}
{"msg":"Regarding the two solutions proposed above: (a) seems overly restrictive for network configurations. (b) seems like it might provide even weaker liveness than the current 2f + 1 threshold, since the threshold will be higher (unless I'm misunderstanding, which is definitely possible).","username":"ltseeley","ts":"2019-10-28T13:56:15.281Z"}
{"msg":"Regarding the two solutions proposed above: (a) seems overly restrictive for network configurations. (b) seems like it might provide weaker liveness than the current 2f + 1 threshold for \"non-ideal\" configurations, since the threshold could be higher than 2f + 1 (unless I'm misunderstanding, which is definitely possible).","username":"ltseeley","ts":"2019-10-28T13:56:15.281Z"}
{"msg":"A more complete solution might be to use a threshold of 2f when the configuration is ideal, and a threshold of 2f + 1 when the configuration is non-ideal.","username":"ltseeley","ts":"2019-10-28T13:59:19.394Z"}
{"msg":"This can be discussed further in the Sawtooth Contributor Meeting at 10am CDT","username":"ltseeley","ts":"2019-10-28T14:37:38.373Z"}
{"msg":"So the partitionability at 2f for the Prepare is a direct result of the allowing of the network to be in \"non-ideal\" configurations.  So let's set that aside for the moment.","username":"kodonnel","ts":"2019-10-28T15:26:32.287Z"}
{"msg":"So the partitionability at 2f for the Prepare is a direct result of the allowing of the network to be in \"non-ideal\" configurations.  So let's set that aside for the moment. and just talk about the general issue.  Get that right and the correct way to address the prepare necessarily results.","username":"kodonnel","ts":"2019-10-28T15:26:32.287Z"}
{"msg":"In any of the options, I think we are looking at the votes exceeding some calculated threhold.  Either (pseudo code)  `max(n-f,2f+1)`  , or `mod(n-1,3)==0 ? 2f : 2f+1` will get the thing to work.   My only concern is that it enables the network to handle f+1 faults when the membership is ideal-1.  Which is a bit unusual for pBFT.","username":"kodonnel","ts":"2019-10-28T15:35:09.652Z"}
{"msg":"So fo 6 nodes, you're going to be allowed to have 2 down, instead of 1 which is what the pbft math suggests.  Which is arguably good, but weird","username":"kodonnel","ts":"2019-10-28T15:36:00.081Z"}
{"msg":"actually that mod isn't quite right there","username":"kodonnel","ts":"2019-10-28T15:36:26.500Z"}
{"msg":"but you see my point hopefully","username":"kodonnel","ts":"2019-10-28T15:37:04.416Z"}
{"msg":"personally I prefer the n-f, since  there are fewer surprises in the behavior. but I'm not married to it","username":"kodonnel","ts":"2019-10-28T15:37:58.618Z"}
{"msg":"Fewer surprises since, if f=1, then I should need n-1  votes to get to pass ","username":"kodonnel","ts":"2019-10-28T15:39:36.076Z"}
{"msg":"Ah yes, I see your point; both achieve the desired result. Using the max approach ensures that no more than f nodes can be faulty or out-of-sync at the cost of some flexibility; using the mod approach would be the opposite. It's strictness vs. flexibility. IMO, flexibility (and therefore better liveness) is more desirable; I wouldn't like to see the network held back from committing a block when it's still able to do so safely. I also don't know that I agree that this is unusual for PBFT since it's the intended behavior of the algorithm. Perhaps we could make the more flexible threshold the default behavior, but provide an option to use the stricter threshold calculation if desired.","username":"ltseeley","ts":"2019-10-28T15:54:00.171Z"}
{"msg":"Has left the channel.","username":"danintel","ts":"2019-10-28T15:57:03.674Z","type":"ul"}
{"msg":"So you are saying have a setting or something where if `flexible==true` then the threshold is `mod(n-1,3)==0....yadda yadda` else threshold is (n-f) ?","username":"kodonnel","ts":"2019-10-28T16:28:58.744Z"}
{"msg":"That would be ok with me.  Makes the \"surprise\" optional ","username":"kodonnel","ts":"2019-10-28T16:29:25.463Z"}
{"msg":"probably more `strict==true`","username":"kodonnel","ts":"2019-10-28T16:30:02.240Z"}
{"msg":"If that's agreed, I'll try to put together a pull request for it.","username":"kodonnel","ts":"2019-10-28T16:34:58.772Z"}
{"msg":"That approach works for me!","username":"ltseeley","ts":"2019-10-28T16:59:29.710Z"}
{"msg":"Has joined the channel.","username":"Alwii","ts":"2019-10-30T07:33:13.549Z","type":"uj"}
{"msg":"Hi guys, I'm a bit out of discussion, but have you considered a threshold of `|Q| > (n+f)/2`? Any two such quorums must intersect in more than `f` replicas, i.e. in at least one correct replica. This should ensure safety, I suppose","username":"sergefdrv","ts":"2019-11-04T09:19:06.434Z"}
{"msg":"@Dan there was a proposed structure in the task force pages","username":"MicBowman","ts":"2019-11-07T15:34:58.275Z"}
{"msg":"https://wiki.hyperledger.org/display/TF/WGTF_Proposal5","username":"MicBowman","ts":"2019-11-07T15:35:10.465Z"}
{"msg":"Has joined the channel.","username":"alexhq","ts":"2019-11-12T11:30:34.633Z","type":"uj"}
{"msg":"@sergefdrv  I think that's effectively what we ended up with although using some mod trickery so we could stick with integer math","username":"kodonnel","ts":"2019-11-14T16:29:54.280Z"}
{"msg":"@kodonnel Cool :+1: Would you mind sharing your final formula?","username":"sergefdrv","ts":"2019-11-14T16:58:55.344Z"}
{"msg":"So probably easier to point you at the in progress code - this is the relevant bit https://github.com/blockchaintp/sawtooth-pbft/blob/0f9c101bb26399393adf3bc2de35d25dfe09b0f1/src/state.rs#L174","username":"kodonnel","ts":"2019-11-14T17:04:22.090Z"}
{"msg":"@sergefdrv So probably easier to point you at the in progress code - this is the relevant bit https://github.com/blockchaintp/sawtooth-pbft/blob/0f9c101bb26399393adf3bc2de35d25dfe09b0f1/src/state.rs#L174","username":"kodonnel","ts":"2019-11-14T17:04:22.090Z"}
{"msg":"strict_quorum is as described above and keeps it to the minimum quorum (not including a nodes own votes for code reasons) to `n-f`, but then in the loose version it is effectively 2*f + (1 or 0 ) depending on the number of members. ","username":"kodonnel","ts":"2019-11-14T17:07:00.826Z"}
{"msg":"strict_quorum is as described above and keeps it to the minimum quorum (not including a leaders own votes for code reasons) to `n-f`, but then in the loose version it is effectively 2*f + (1 or 0 ) depending on the number of members. ","username":"kodonnel","ts":"2019-11-14T17:07:00.826Z"}
{"msg":"in either version minimum_quorum()+1 gives you the necessary votes to pass, the strict version keeps the effective `f` to the letter of the law, while the loose one gives you an extra effective `f` in certain configurations. ","username":"kodonnel","ts":"2019-11-14T17:08:39.246Z"}
{"msg":"I'll be putting that bit together as a PR as soon as I work out some other issues we are facing, having to do with catchup - hopefully that results in something for another pull.  ","username":"kodonnel","ts":"2019-11-14T17:10:52.455Z"}
{"msg":"feedback more than welcome, now or later in the PR's","username":"kodonnel","ts":"2019-11-14T17:12:49.443Z"}
{"msg":"So, if I understood correctly, the strict quorum is the maximum possible quorum that still preserves liveness, which is effectively `|Q| >= n-f`. And the non-strict quorum is supposed to be the minimal required for safety. What I was not sure of was: Why the non-strict formula depends on `f`? Suppose `n=100` and `f=1`...","username":"sergefdrv","ts":"2019-11-15T09:31:18.722Z"}
{"msg":"So, if I understood correctly, the strict quorum is the maximum possible quorum that still preserves liveness, which is effectively `|Q| >= n-f`. And the non-strict quorum is supposed to be the minimal required for safety. What I was not sure of was: Why the non-strict formula depends on `f`?","username":"sergefdrv","ts":"2019-11-15T09:31:18.722Z"}
{"msg":"So, if I understood correctly, the strict quorum is the maximum possible quorum that still preserves liveness, which is effectively `|Q| >= n-f`. And the non-strict quorum is supposed to be the minimal required for safety. What I was not sure of was: Why the non-strict formula depends only on `f`?","username":"sergefdrv","ts":"2019-11-15T09:31:18.722Z"}
{"msg":"So, if I understood correctly, the strict quorum is the maximum possible quorum that still preserves liveness, which is effectively `|Q| >= n-f`. And the non-strict quorum is supposed to be the minimal required for safety.","username":"sergefdrv","ts":"2019-11-15T09:31:18.722Z"}
{"msg":" Suppose `n=100` and `f=1`. Then `minimum_quorum()+1` would give 3. I'm afraid two such quorums might not intersect. ","username":"sergefdrv","ts":"2019-11-15T09:34:44.821Z"}
{"msg":" Suppose `n=100` and `f=1`. Then `minimum_quorum()+1` would give 3 in non-strict mode. I'm afraid two such quorums might not intersect. ","username":"sergefdrv","ts":"2019-11-15T09:34:44.821Z"}
{"msg":" Suppose `n=100` and `f=1`. Then `minimum_quorum()+1` would give `3` in non-strict mode. I'm afraid two such quorums might not intersect. ","username":"sergefdrv","ts":"2019-11-15T09:34:44.821Z"}
{"msg":"Has joined the channel.","username":"giacomo.minighin","ts":"2019-11-20T15:30:10.585Z","type":"uj"}
{"msg":"do you think it is possible to integrate `tendermint` consensus in sawtooth?","username":"giacomo.minighin","ts":"2019-11-20T15:31:29.588Z"}
{"msg":"@giacomo.minighin we looked at that quite a bit during the consensus api design and before we started working on pbft. the tendermint code (at least at the time) wasn't organized such that the consensus algorithm is separate from everything else (like the networking code, peering, etc.). so it would be a fair amount of work to extract the actual algorithm from tendermint's code. however, it would be relatively easy to use Transact with tendermint because Transact is well-aligned with tendermint's concept of application, and would fit nicely against the ABCI. we are also starting to break out pieces of sawtooth into a libsawtooth library, which should help if it were desirable to have the concept of blocks in that context. (not strictly necessary though - scabbard in libsplinter doesn't have blocks and can run sawtooth-sabre contracts fine using transact)","username":"amundson","ts":"2019-11-20T17:53:52.708Z"}
{"msg":"@amundson thank you for the explanation.\nI'm asking this question because we choose sawtooth for our application because of batches.\nThen we have discovered cosmos and we thought that in the future we'll probably need to connect the blockchain to it.","username":"giacomo.minighin","ts":"2019-11-21T10:36:19.096Z"}
{"msg":"Another question, our application is a cryptocurrency made with sawtooth, we thought to use poet consensus but we're a bit skeptic about it:\nis it right to say that with poet consensus the cryptocurrency mining could be tampered by Intel?","username":"giacomo.minighin","ts":"2019-11-21T10:42:13.173Z"}
{"msg":"@giacomo.minighin are you planning for a very large number of nodes?","username":"amundson","ts":"2019-11-21T22:27:32.930Z"}
{"msg":"@amundson hoping so","username":"giacomo.minighin","ts":"2019-11-22T10:19:33.262Z"}
{"msg":"@amundson hope so","username":"giacomo.minighin","ts":"2019-11-22T10:19:33.262Z"}
{"msg":"@giacomo.minighin if you are <20 nodes, pbft is a better bet. after that, poet or a pow makes more sense. we don't have a pow implemented currently. poet 2 work has stagnated, but there is a spec here - https://github.com/hyperledger/sawtooth-rfcs/pull/20. with most of us focusing our efforts on pbft, it isn't clear who will take up the mantle and finish that work. as for whether intel can tamper, there are some thing in poet 1 that are non-sgx based that are intended to mitigate compromized enclaves. but I can't speak to their effectiveness specifically (on small test networks, we often have to turn those off to test poet)","username":"amundson","ts":"2019-11-22T19:32:37.997Z"}
{"msg":"it would probably be an easy, but highly technical, endeavor to write a pow consensus for sawtooth. most of the complexity is outside the consensus engine.","username":"amundson","ts":"2019-11-22T19:34:02.027Z"}
{"msg":"another thing to consider with a large public network, is that sawtooth does not implement a native incentive system (like gas+ether in ethereum), and so you have to solve that within the smart contracts.","username":"amundson","ts":"2019-11-22T19:35:41.506Z"}
{"msg":"@amundson thank you. I know I have to implement a native incentive system, do you think that modifying BatchInjector like BlockInfoInjector does is the correct way?\nCould it be an external TransactionHandler?","username":"giacomo.minighin","ts":"2019-11-24T15:44:10.088Z"}
{"msg":"@amundson I want to share with you my work:\ndocs: https://github.com/sphereledger/circles-docs\nrepo: https://github.com/sphereledger/circles-ubi-network\nIt's not finished yet","username":"giacomo.minighin","ts":"2019-11-24T15:55:21.184Z"}
{"msg":"@amundson I want to share with you my work:\ndocs: https://github.com/sphereledger/circles-docs\nrepo: https://github.com/sphereledger/circles-ubi-network\n\nIt's not finished yet, maybe give me a feed","username":"giacomo.minighin","ts":"2019-11-24T15:55:21.184Z"}
{"msg":"@amundson I want to share with you my work:\ndocs: https://github.com/sphereledger/circles-docs\nrepo: https://github.com/sphereledger/circles-ubi-network\n\nIt's not finished yet, but there's something done","username":"giacomo.minighin","ts":"2019-11-24T15:55:21.184Z"}
{"msg":"Hi all, I just wanted to know if there is any way to add nodes to an already running POET consensus network","username":"sauravverma","ts":"2019-11-29T22:48:13.361Z"}
{"msg":"@sauravverma Adding a new node (wrto the validator servcie) remains same across the consensus engines. However only the consensus related procedure shall be followed in addition\n1. Bring up a new node, let it start syncing up with rest of the network.\n2. Note the C test value, the new node won't be publishing until C-test criteria is met.\n3. Register the new PoET engine to the network. Once the registration is successful the new node is considered to be part of the network and it can start producing the block.\n4. Take care of permissioning if you've enabled it.\n\nFor the validator networking - If you've set dynamic networking mode then the new node should try to establish connection to at least one of the existing seed nodes you specify. Note the setting minimum-peer-connectivity and maximum-peer-connectivity","username":"arsulegai","ts":"2019-11-30T09:57:59.297Z"}
{"msg":"@arsulegai  I run my validators by specifying peers beforehand ..\nif i bring up a new node, dont i have to change add that node in the peers for every node?\n\n 2. Note the C test value, the new node won't be publishing until C-test criteria is met., Please let me know from where i can get more information about C-test?\n\n3. I spawned my network based on the documentation here https://sawtooth.hyperledger.org/docs/core/releases/1.2.3/app_developers_guide/ubuntu_test_network.html#about-the-ubuntu-sawtooth-network-environment\nwhich says we need to define peers while bringing up the node, Are you reffering to dynamic peering?\n","username":"sauravverma","ts":"2019-11-30T18:37:41.088Z"}
{"msg":"Has joined the channel.","username":"wahsunho","ts":"2019-12-11T16:37:37.677Z","type":"uj"}
{"msg":"Is it possible to make the default storage for PBFT state to disk and not memory?  We forgot to change the setting default memory)\nWhere to store PBFTs state: memory or disk+/path/to/file","username":"jamesbarry","ts":"2020-01-09T19:45:52.022Z"}
{"msg":"Is it possible to make the default storage for PBFT state to disk and not memory?  We forgot to change the setting default memory\nWhere to store PBFTs state: memory or disk+/path/to/file and this caused our blockchain to puke and stop working when a single node was restaerted.","username":"jamesbarry","ts":"2020-01-09T19:45:52.022Z"}
{"msg":"Is it possible to make the default storage for PBFT state to disk and not memory?  We forgot to change the setting default memory\nWhere to store PBFTs state: memory or disk+/path/to/file and this caused our blockchain to puke and stop working when a single node was restarted.","username":"jamesbarry","ts":"2020-01-09T19:45:52.022Z"}
{"msg":"I know we can change it manually  but I see this as an issue that requires debugging by those who do not noticed this default setting is in- memory.  I think this could be causing some of the issues people bring up around PBFT Sawtooth.\n","username":"jamesbarry","ts":"2020-01-09T19:48:25.464Z"}
{"msg":"I'm in favor of that change (safer default)","username":"amundson","ts":"2020-01-09T20:21:24.159Z"}
{"msg":"Last time I checked there was an issue around that flag setting. It wasn't getting set. It should be fixed by now.","username":"arsulegai","ts":"2020-01-10T01:23:13.913Z"}
{"msg":"Arun, the bug report shows unresolved, but in 1.2. not the current 1.3.1  https://jira.hyperledger.org/projects/STL/issues/STL-1689?filter=allopenissues  Do you know when the bug was fixed?  We are a couple of point releases back. We will upgrade to 1.3.1 next week and I'll validate that it works then, and we can close the issue.   ","username":"jamesbarry","ts":"2020-01-11T03:22:05.148Z"}
{"msg":"@kodonnel is this done yet? https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=\n\n^ @jamesjamesbarry ","username":"arsulegai","ts":"2020-01-11T14:11:52.325Z"}
{"msg":"@kodonnel is this done yet? https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=\n\n^ @jamesbarry ","username":"arsulegai","ts":"2020-01-11T14:11:52.325Z"}
{"msg":"@kodonnel is this done yet? https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=\n\n^ @jamesbarry I was in the middle of job transition, couldn't pay much attention on this and follow up.","username":"arsulegai","ts":"2020-01-11T14:11:52.325Z"}
{"msg":"No issue Arun.  I am curous, is it better to comment on these on Rocketchat, or to add a comment on Jira?  I am not sure how much Jira is looked at vs. Rocketchat.  And within Jira is there a place to denote what release a fix is targeted for?  I think my team will look at  issues we have experienced and put code in to fix them.  But I am not sure how that process fully works for Sawtooth.","username":"jamesbarry","ts":"2020-01-11T16:56:06.592Z"}
{"msg":"It would be jira, it's developers responsibility to follow up with the assigned issues. There used to be a contributors meeting until last year. But the agreed upon workflow now is that these issues can be discussed on RocketChat, brought to notice for reviews or understanding opens. A quick call can be setup given there's a need. Otherwise we're good to use jira for tracking.","username":"arsulegai","ts":"2020-01-11T21:47:14.147Z"}
{"msg":"Thanks, sounds like a good way to move Sawtooth forward. ","username":"jamesbarry","ts":"2020-01-13T19:31:50.075Z"}
{"msg":"Has joined the channel.","username":"wkatsak","ts":"2020-01-14T03:20:45.435Z","type":"uj"}
{"msg":"Just FYI, @arsulegai and @jamesbarry I've verified that in 1.0.1 the storage-location flag isnt working at all, no matter what you set it to, it uses \"memory\"","username":"wkatsak","ts":"2020-01-14T03:20:46.112Z"}
{"msg":"Let's fix it then :)","username":"arsulegai","ts":"2020-01-14T03:48:19.657Z"}
{"msg":"We are not equipped for rust dev right now, but please let me know what we can do to help get this patched.  We can definitely deploy and test any patch asap.","username":"wkatsak","ts":"2020-01-14T16:59:43.520Z"}
{"msg":"@arsulegai Its actually looking to be already fixed in master","username":"wkatsak","ts":"2020-01-14T17:59:59.063Z"}
{"msg":"@arsulegai So I was able to deploy master to my test cluster and enable state on disk","username":"wkatsak","ts":"2020-01-14T22:37:30.504Z"}
{"msg":"its behaving strangely though","username":"wkatsak","ts":"2020-01-14T22:37:40.820Z"}
{"msg":"Keep getting this repeated on almost all nodes `Jan 14 22:36:27 bc2 pbft-engine[31108]: WARN  | pbft_engine::engine: | Idle timeout expired; proposing view change`","username":"wkatsak","ts":"2020-01-14T22:37:56.545Z"}
{"msg":"BTW what is best practice for peering? Should node specify each other node? Or should we do it like in the Docker compose config, where each node only specifies the previous nodes?","username":"wkatsak","ts":"2020-01-14T22:41:52.032Z"}
{"msg":"It should be a fully connected network","username":"arsulegai","ts":"2020-01-15T01:23:29.074Z"}
{"msg":"@wkatsak the way the docker compose config is setup is the desired peering configuration as connections are bidirectional, and this configuration avoids duplicate connections.","username":"ltseeley","ts":"2020-01-15T14:53:12.728Z"}
{"msg":"@ltseeley I am seeing some issues sometimes where when a validator is restarted, some nodes seem to keep a stale connection around","username":"wkatsak","ts":"2020-01-16T19:24:26.181Z"}
{"msg":"This is why I was thinking the peering config might be an issue.","username":"wkatsak","ts":"2020-01-16T19:25:24.498Z"}
{"msg":"Additional, when I tried to do fully peered (e.g. each one knowing about all the others), i end up with multiple peer entries for the same host","username":"wkatsak","ts":"2020-01-16T19:25:44.321Z"}
{"msg":"Maybe its un-related though","username":"wkatsak","ts":"2020-01-16T19:27:02.827Z"}
{"msg":"@wkatsak do you have a way to reliably cause that issue to appear?","username":"amundson","ts":"2020-01-16T19:44:37.486Z"}
{"msg":"@amundson I'm working on that. Its been transient on our test cluster. If I can do it deterministically, I'll put something together.","username":"wkatsak","ts":"2020-01-16T19:46:33.991Z"}
{"msg":"even under X conditions it will usually happen in a bounded number of hours would help","username":"amundson","ts":"2020-01-16T19:48:13.782Z"}
{"msg":"Ok, sure. Thanks","username":"wkatsak","ts":"2020-01-16T19:49:29.037Z"}
{"msg":"if you can figure that out, we will try and replicate it in our environment","username":"amundson","ts":"2020-01-16T19:50:12.311Z"}
{"msg":"One other thing related to peering. If i bring up our cluster in order (nodes 1, 2, 3, 4, 5) everything is pretty normal. However, if for example, I restart a node for some reason, I see stuff like this: `Can't send message PING_RESPONSE back to XXXXX because connection OutboundConnectionThread-tcp://XXX:8800 not in dispatcher`","username":"wkatsak","ts":"2020-01-19T16:29:31.721Z"}
{"msg":"Its like, something dosen't know to set up the outnoundconnection again","username":"wkatsak","ts":"2020-01-19T16:29:49.393Z"}
{"msg":"outbound*","username":"wkatsak","ts":"2020-01-19T16:29:51.555Z"}
{"msg":"@wkatsak I guess it is max peering connection issue","username":"arsulegai","ts":"2020-01-19T17:46:40.094Z"}
{"msg":"@arsulegai Can you elaborate? I only have 5 nodes. Is this something to worry about?","username":"wkatsak","ts":"2020-01-20T17:02:05.004Z"}
{"msg":"It seems that having to bring a node down once in a while is a common event","username":"wkatsak","ts":"2020-01-20T17:02:19.460Z"}
{"msg":"@wkatsak answered here, it should solve the error because of container restart https://chat.hyperledger.org/channel/sawtooth?msg=wSfJZeKtjDMKjAjx9","username":"arsulegai","ts":"2020-01-20T17:09:17.660Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth?msg=wSfJZeKtjDMKjAjx9","url":"https://chat.hyperledger.org/channel/sawtooth?msg=wSfJZeKtjDMKjAjx9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@arsulegai Thanks! I'll try this.","username":"wkatsak","ts":"2020-01-20T17:12:27.218Z"}
{"msg":"@arsulegai We actually have `maximum_peer_connectivity = 20` in our validator.toml file already","username":"wkatsak","ts":"2020-01-20T17:30:49.434Z"}
{"msg":"for 5 nodes","username":"wkatsak","ts":"2020-01-20T17:30:52.409Z"}
{"msg":"Interesting","username":"arsulegai","ts":"2020-01-20T17:31:36.244Z"}
{"msg":"Ah! Wait","username":"arsulegai","ts":"2020-01-20T17:31:59.577Z"}
{"msg":"You didn't see the error in peering","username":"arsulegai","ts":"2020-01-20T17:32:14.134Z"}
{"msg":"Can you check your logs in more detail on the XXXXX part?","username":"arsulegai","ts":"2020-01-20T17:38:26.457Z"}
{"msg":"Was it a new ID after you restarted the container? If not probably nothing to worry but need more traces/analysis to identify why that happened.","username":"arsulegai","ts":"2020-01-20T17:39:26.136Z"}
{"msg":"I didn't check the IDs, specifically. Also, this deployment is not in Docker, its on 5 different machines geographically dispersed","username":"wkatsak","ts":"2020-01-20T17:43:49.377Z"}
{"msg":"But for example, on one, I keep seeing this warning for host1, host2, host3","username":"wkatsak","ts":"2020-01-20T17:44:18.742Z"}
{"msg":"but, they are all actually in the peers list","username":"wkatsak","ts":"2020-01-20T17:44:24.541Z"}
{"msg":"`Can't send message PING_RESPONSE back to c5d7ebe91c11ae5d9c8fb72c41db51ddcb838a2ad886300328397bfa55cb2ac9ad7cc5440f3d2389c94182a6c5a81497d17f4552b16f3b0c75d7122d7ef0800d because connection OutboundConnectionThread-tcp://host1:8800 not in dispatcher`","username":"wkatsak","ts":"2020-01-20T17:44:47.051Z"}
{"msg":"Has joined the channel.","username":"Tomomi.Yamano","ts":"2020-02-03T04:53:42.248Z","type":"uj"}
{"msg":"Has joined the channel.","username":"RajaramKannan","ts":"2020-02-03T05:59:34.833Z","type":"uj"}
{"msg":"Has joined the channel.","username":"gandhikim","ts":"2020-02-06T01:27:12.049Z","type":"uj"}
{"msg":"Hi folks, we are seeing the below error, any ideas on why it is happening and what we can do to recover? ```\n2020-02-06 04:55:41.990 ERROR    threadpool] (Consensus) Unhandled exception during execution of task _HandlerManager.execute.<locals>.wrapped\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/sawtooth_validator/concurrent/threadpool.py\", line 83, in wrapper\n    return_value = fn(*args, **kwargs)\n  File \"/usr/lib/python3/dist-packages/sawtooth_validator/networking/dispatch.py\", line 444, in wrapped\n    return callback(self._handler.handle(connection_id, message))\n  File \"/usr/lib/python3/dist-packages/sawtooth_validator/consensus/handlers.py\", line 87, in handle\n    request, response, connection_id)\n  File \"/usr/lib/python3/dist-packages/sawtooth_validator/consensus/handlers.py\", line 114, in handle_request\n    peers = [bytes.fromhex(peer_id) for peer_id in startup_info.peers]\n  File \"/usr/lib/python3/dist-packages/sawtooth_validator/consensus/handlers.py\", line 114, in <listcomp>\n    peers = [bytes.fromhex(peer_id) for peer_id in startup_info.peers]\nTypeError: fromhex() argument must be str, not None\n``` ","username":"RajaramKannan","ts":"2020-02-06T04:58:53.286Z"}
{"msg":"@RajaramKannan You may want to follow the thread in core-dev, as you seem to have a protocol issue.  I beleive there needs to be a new relase of PBFT.  Copying @agunde","username":"jamesbarry","ts":"2020-02-06T16:04:17.135Z"}
{"msg":"thanks @jamesbarry  let me check this out","username":"RajaramKannan","ts":"2020-02-07T09:42:06.257Z"}
{"msg":"Has joined the channel.","username":"madhusudan.rao","ts":"2020-02-07T09:47:19.317Z","type":"uj"}
{"msg":"My issue don't sync node1 and node2 but first block sync is succes.\nsawtooth-cli (Hyperledger Sawtooth) version 1.2.4\nubuntu 18.04\n\n1 step : node1 run\n2 step : set intkey five times\n3 step : node2 run\n\nsawtooth-validator log\nERROR    proxy] State from block 9e0ed232.... requested, but root hash 71da3e57.... was missing. Returning empty state.\npoet-engine log\nERROR    poet_block_verifier] Block 9e0ed232 rejected: Received block from an unregistered validator 025f88b8...311d7417","username":"gandhikim","ts":"2020-02-10T11:07:24.487Z"}
{"msg":"@gandhikim Question answered in #sawtooth ","username":"arsulegai","ts":"2020-02-10T11:49:47.070Z"}
{"msg":"Has joined the channel.","username":"ParitoshPandey","ts":"2020-02-14T10:16:31.090Z","type":"uj"}
{"msg":"Hi All, \nFacing an error with hyperledger sawtooth pbft engine\nWe have our network with 5 nodes , Suddenly one node went out of sync ,","username":"ParitoshPandey","ts":"2020-02-20T17:55:55.260Z"}
{"msg":"The pbft-engine of this node is stuck at an older block 944 , while all the other nodes are at 1291\nValidator logs show that is rejecting the blocks which are ahead. Here are the screenshots","username":"ParitoshPandey","ts":"2020-02-20T17:56:14.692Z"}
{"msg":"","username":"ParitoshPandey","ts":"2020-02-20T17:57:50.809Z","attachments":[{"type":"file","title":"IMG_1543.JPG","title_link":"/file-upload/qofampwurzutrM9pY/IMG_1543.JPG","image_url":"/file-upload/qofampwurzutrM9pY/IMG_1543.JPG","image_type":"image/jpeg","image_size":95543,"url":"/file-upload/qofampwurzutrM9pY/IMG_1543.JPG","remote":false,"fileId":"qofampwurzutrM9pY","fileName":"IMG_1543.JPG"}]}
{"msg":"","username":"ParitoshPandey","ts":"2020-02-20T17:58:15.011Z","attachments":[{"type":"file","title":"IMG_1544.JPG","title_link":"/file-upload/riB5sgCJjCPuqnHii/IMG_1544.JPG","image_url":"/file-upload/riB5sgCJjCPuqnHii/IMG_1544.JPG","image_type":"image/jpeg","image_size":112389,"url":"/file-upload/riB5sgCJjCPuqnHii/IMG_1544.JPG","remote":false,"fileId":"riB5sgCJjCPuqnHii","fileName":"IMG_1544.JPG"}]}
{"msg":"@ParitoshPandey @wkatsak We are having the same issue and discussing on #sawtooth-core-dev ","username":"jamesbarry","ts":"2020-02-20T18:06:24.469Z"}
{"msg":"Cool , I will check it there","username":"ParitoshPandey","ts":"2020-02-20T18:11:05.558Z"}
{"msg":"Has joined the channel.","username":"mzins_dev","ts":"2020-02-25T20:55:15.926Z","type":"uj"}
{"msg":"I everyone. New to sawtooth!\n\nI keep getting a wait certificate timeout issue. It has been challenging to track down this issue. Can anyone give me insight into why this typically happens? I noticed my nodes lose connection during this event but I cant figure out if the timeout is causing connection loss or lost connection is causing the certificate timeout. Thanks!\n\n`[2020-02-24 15:31:07.737 ERROR    poet_block_publisher] Failed to create wait certificate: Cannot create wait certificate because timer has timed out`","username":"mzins_dev","ts":"2020-02-25T21:04:10.590Z"}
{"msg":"Welcome to Sawtooth!\nThat error can happen if the node is so busy processing transactions that it misses it's time window to publish.\nIf you are in the experimenting stage, I'd recommend not using poet but instead using dev-mode consensus.","username":"Dan","ts":"2020-02-26T14:17:21.037Z"}
{"msg":"Thanks @Dan! I believe that is whats happening. Besides increasing number of transaction processors and threads available, are there any other configurations that would help? Have you ran into any hardware limitations? ","username":"mzins_dev","ts":"2020-02-26T14:19:08.756Z"}
{"msg":"Mostly people run into resource limitations in virtualized environments. If you are running on bare metal it is rare to hit limits.","username":"Dan","ts":"2020-02-26T14:28:14.864Z"}
{"msg":"By virtualized environments do you mean docker or cloud environments? ","username":"mzins_dev","ts":"2020-02-26T16:06:54.334Z"}
{"msg":"Generally the latter. People spin up inexpensive instances on e.g. aws and then first run out of I/O ops and then memory or cpu. The other taxing thing for these systems if you have a long lived network with lots of blocks and you introduce a new node. That node has to catch up and that is currently an unoptimized code path. There's a separate dialog in another channel about that specific use case.","username":"Dan","ts":"2020-02-26T17:36:45.093Z"}
{"msg":"@mzins_dev @Dan WHile I am not familiar with POET (We use PBFT) we have been trying to see why certain events have timeout issues.  Your error on the wait certificate is a new one that we have not seen in our PBFT environment.  The issue in #sawtooth-core-dev is around new nodes being added to an existing chain or an offline node coming back on line.  We have not been able to determine why our nodes sometimes have short connection loss (like you describe)  Any further detail would be great.  We are trying to get some detail on our node connection issue, but have not been able to get discrete reasons on why and where that are repeatable.","username":"jamesbarry","ts":"2020-02-27T04:20:53.043Z"}
{"msg":"Has joined the channel.","username":"joe_k","ts":"2020-02-27T13:27:12.352Z","type":"uj"}
{"msg":"@jamesbarry While the cert time out is our most common error we also seem to get other random networking errors. I did a bit of digging and found that there is futures clean up feature. Sawtooth will automatically remove expired futures but I am not sure how to configure the timeout or if this is what I am actually seeing.","username":"mzins_dev","ts":"2020-02-27T13:44:31.057Z"}
{"msg":"@jamesbarry ","username":"jsmitchell","ts":"2020-02-28T20:54:48.085Z"}
{"msg":"@jamesbarry do you guys have some examples of where the current consensus interface is a bad fit?","username":"jsmitchell","ts":"2020-02-28T20:54:48.085Z"}
{"msg":"@jsmitchell - @wkatsak and I are speaking at the HL Global Forum next week.  https://hgf20.sched.com/event/ZdHX  We will send you the presentation that we are still updating.  Because I think this lies in the path that you and @amundson are staking out.  I will be commenting more on the pluggable consensus soon.","username":"jamesbarry","ts":"2020-02-28T20:58:05.815Z"}
{"msg":"oh cool! you should connect up with @cecchi when you are out there","username":"jsmitchell","ts":"2020-02-28T20:59:32.674Z"}
{"msg":"Has joined the channel.","username":"cecchi","ts":"2020-02-28T20:59:32.724Z","type":"uj"}
{"msg":"Has joined the channel.","username":"cg223","ts":"2020-02-29T14:13:30.811Z","type":"uj"}
{"msg":"Has left the channel.","username":"lucgerrits","ts":"2020-03-06T13:40:39.914Z","type":"ul"}
{"msg":"Has joined the channel.","username":"MarkAD","ts":"2020-03-19T10:06:28.582Z","type":"uj"}
{"msg":"Hi all, I'm new to Sawtooth and I am currently developing in a PBFT network. I started off with the one node and was able to send data off to the sawtooth network but have moved to the sawtooth-default-pbft.yaml. When posting to the network, what is the url you have to post to as I have tried to the localhost:8008/batches as well as the rest-api-default-0 IP address which I got from docker.","username":"MarkAD","ts":"2020-03-19T10:06:29.030Z"}
{"msg":"Has joined the channel.","username":"alohamora","ts":"2020-04-06T10:57:17.492Z","type":"uj"}
{"msg":"Hi all, we did some more digging into the catchup issue with PBFT.  We ran some trials yesterday to see if this was a memory issue, but in a 4 GB system the containers were not using even 500 MB during the catchup process. The CPU utilization would go up to 120% (2 CPU system), all info using docker stats. It would run and catchup 150 blocks then stall/crash, then on restart catchup another 300 blocks and so on... We seem to be seeing a lot of thread panics during this process. Also when it stalls, it starts giving _\"[2020-04-09 11:53:05.875 WARNING (unknown file)]\n[src/journal/block_validator.rs: 284] Error during block validation:\nBlockValidationError(\"During validate_on_chain_rules, error creating\nsettings view: NotFound(\\\"66c9432daec0fc99b356eec7b9f877c0ade375d0f30646dce8eaebb303113ed8\\\")\")\"_ type of warnings. Anyone seen this type of issue? It occurs only during catchup, otherwise on regular block creation/commits there is no issue","username":"RajaramKannan","ts":"2020-04-10T06:45:23.537Z"}
{"msg":"Hi @arsulegai  we were running tests on catchup, and we notice the following. A node that is part of the PBFT is trying to catchup from scratch. We are using 1.1.5 and 1.0.2 pbft. (we noticed lots of crashes with 1.2.4 during this process). There are about 1400 blocks to catchup... ...  Sometimes it does catchup sometimes it doesnt. When it doesnt catchup it appears that while processing the pendng blocks, it jumped to the latest PBFT view. In the cases it does catchup, the view continues to be lower until it catches up.  In both cases once it reaches the current view, it keeps putting out the \"TRACE | pbft_engine::engine: | (PP, view 96716, seq 14) received message Err(Timeout)\"","username":"RajaramKannan","ts":"2020-04-13T12:26:12.236Z"}
{"msg":"^ @pschwarz ","username":"arsulegai","ts":"2020-04-13T12:41:46.214Z"}
{"msg":"Hi @jamesbarry  we are trying to do this but the PBFT engine seems to be exiting. we were trying \"--storage-location \\pbft_storage\" as the option","username":"RajaramKannan","ts":"2020-04-13T13:09:10.860Z"}
{"msg":"@arsulegai @pschwarz  here is an example of when it gets stuck at say seq 10, but the view number jumps to the current view and it stops catching up blocks   TRACE | pbft_engine::node:10 | (V(96905), view 92, seq 10): Got peer message: MsgInfo (NV S 1407 V 96905 <- 0228401ba95a68e1380cd69e7ee6e52468a335a17866c122b146ee8e9dad169fe1)","username":"RajaramKannan","ts":"2020-04-13T13:42:03.239Z"}
{"msg":"@ltseeley :point_up: ","username":"pschwarz","ts":"2020-04-13T17:18:10.408Z"}
{"msg":"@RajaramKannan hmm, those `TRACE` logs don't indicate anything incorrect happening. Could you provide the whole log file, or at least a chunk of it from around the time catch-up stopped working?","username":"ltseeley","ts":"2020-04-13T19:55:25.997Z"}
{"msg":"@itseeley we will try to get the logs for you, each time it happens at different block/seq num, but we should be able to see for example that during catchup in the above example pbft engine was processing catchup at view num 92, seq_num 10 when it got the above message and jumped to view 96905 and seq1407 (latest view/seq in other running nodes). At that point it stopped processing the blocks to be caught up.  ","username":"RajaramKannan","ts":"2020-04-14T04:00:41.765Z"}
{"msg":"Has joined the channel.","username":"muneebmh","ts":"2020-04-14T05:14:24.837Z","type":"uj"}
{"msg":"Hey,\n\nI hope you'll be doing well, I'm new to hyperledger technologies, however, I have good idea about blockchain from research persepctive.\nI just wanted to get a clue that whether can I integrate my own consensus mechanism in Sawtooth? As I want to do it for my research work.\n\nP.S My mechanism will be on basis of tokens (Similar to PoS), but for a consortium environment. So, what's the suggestions from you people.\nThanks in Advance","username":"muneebmh","ts":"2020-04-14T05:14:25.998Z"}
{"msg":"@muneebmh that's great. Sawtooth provides consensus SDK to write your own consensus engine. It's possible.","username":"arsulegai","ts":"2020-04-14T06:30:33.899Z"}
{"msg":"Thanks a lot @arsulegai for your response, that's great. I will proceed with it then.\nMoreover, can you give me some basic clue from where I should start with, as I'm totally new to Hyperledger at the moment. Any reading material, etc specifically from consensus perspective.\nThank you again ","username":"muneebmh","ts":"2020-04-14T07:08:07.773Z"}
{"msg":"or which files should I play with?","username":"muneebmh","ts":"2020-04-14T07:10:50.093Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=dm7Qz3oALPs22786B) ","username":"ParitoshPandey","ts":"2020-04-14T17:14:04.753Z","attachments":[{"type":"file","title":"pbft.log","title_link":"/file-upload/5ALEXwNtxfwu9hNHw/pbft.log","url":"/file-upload/5ALEXwNtxfwu9hNHw/pbft.log","remote":false,"fileId":"5ALEXwNtxfwu9hNHw","fileName":"pbft.log"},{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=dm7Qz3oALPs22786B","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=dm7Qz3oALPs22786B","remote":false,"fileId":"5ALEXwNtxfwu9hNHw","fileName":"pbft.log"}]}
{"msg":"Hi @ltseeley I am attaching the logs for the same issue here . Here It got stuck at seq number 5 ","username":"ParitoshPandey","ts":"2020-04-14T17:14:20.321Z"}
{"msg":"@kodonnel - this is a summary of the catchup issue. I'll also direct you to the complete PBFT logs provided by my colleague paritosh","username":"RajaramKannan","ts":"2020-04-15T03:21:53.748Z"}
{"msg":"@kodonnel - complete PBFT logs provided by my colleague paritosh","username":"RajaramKannan","ts":"2020-04-15T03:22:13.446Z"}
{"msg":"@muneebmh the easiest example you could find on consensus engine https://github.com/hyperledger/sawtooth-devmode/blob/master/src/engine.rs","username":"arsulegai","ts":"2020-04-15T04:34:53.162Z"}
{"msg":"I prefer you use Rust SDK as well, Python is another available option.","username":"arsulegai","ts":"2020-04-15T04:35:12.719Z"}
{"msg":"Has joined the channel.","username":"Ashish_ydv","ts":"2020-04-15T05:04:29.737Z","type":"uj"}
{"msg":"@arsulegai Thank you for the guideline, I will explore the given link and Rust SDK for further development on this.\nThank you again.","username":"muneebmh","ts":"2020-04-15T09:04:22.010Z"}
{"msg":"@ltseeley @kodonnel  We looked a little closer into the logs, and the offending portions seems to be when block 6 came in before block 5 (or even block 4!) during the catchup and it got discarded. Subsequently all blocks after 6 also get discarded since the previous block does not exist with the pbft engine. However somewhere when it receives block 5 it adds it to its log. It is able to catchup upto block 4 using the seals in the next block 9upto 5). But when it is processing catchup on block 5 it does not have 6, so it sends out a seal request. It doesnt receive a response (rightly so) since the rest of the network is at block 1406 or something. So it stalls now at block 5.  about 60% of our runs result in this scenario where it gets stuck on various blocks (depending on which block number was received out of sequence). All of this is in the logs @ParitoshPandey  provided above (lines 128 to 149 roughly capture this sequence)","username":"RajaramKannan","ts":"2020-04-16T16:59:33.465Z"}
{"msg":"You shouldn't confuse the sequencing of the messages in the validator logs with those in the pbft logs.  The validator's logs concern transaction validation which can happen well ahead of the consensus engine instructing the validator to commit the block.   ","username":"kodonnel","ts":"2020-04-16T19:19:22.857Z"}
{"msg":"However the core problem is going to be that your earliest block to be validated is not passing validation, thus you are getting all those descendant blocks being marked as invalid ","username":"kodonnel","ts":"2020-04-16T19:20:33.724Z"}
{"msg":"The portion of pbft log that was posted isn't particularly helpful.  Somewhere just before the idle period would be more interesting.  ","username":"kodonnel","ts":"2020-04-16T19:23:01.429Z"}
{"msg":"Long story short that's not what's going on.  The process of catchup begins with the late validator being notified of the new chain_head, then working its way backwards from that point to the last block it shares with the rest of the chain.  At this point ( presuming validator 1.2, 1.1 is slightly different) the engine receives a BlockNew message, and the engine requests validation. Then the validator proceeds to validate the block ( i.e. passes the TP's etc and produces the expected result) only then is a BlockValid message passed to the pbft-engine, at which point, the block's seal can be obtained and checked versus the grandparent blocks voting membership.  ","username":"kodonnel","ts":"2020-04-16T19:28:56.862Z"}
{"msg":"All that is for nought if the first block attempted is never validated.  So we need to go much earlier in the validator that is catching up's logs and see what is happening.  There should be a warning before all those descendent marks.","username":"kodonnel","ts":"2020-04-16T19:29:48.622Z"}
{"msg":"Hope all that is clear as mud.  :) ","username":"kodonnel","ts":"2020-04-16T19:53:05.207Z"}
{"msg":"Hi @kodonnel love the reference to mud :-) but couple of observations since we dug into both the entire set of logs and the code. all the logs are PBFT logs, so no confusions with the Validator logs. What is happening here is that we are trying to catchup a new node that has no prior blocks. Line 58 in the PBFT logs is confusing since it says internal error for the genesis block (since the block number is 0, but the seq num for PBFT is 1). But it already had previously got it in the start state in line 32, and processed it in line 39.  In line 60 the PBFT engine gets block number 1 from the validator. It then gets block 2 in line 70 and marks block 1 valid in line 83/84 and commits in line 120.  Meanwhile it has continued to receive blocks and put them in the log marked as unvalidated (pending processing I guess). At line 130 you can see it receives block 6, but it hasnt yet received block 4 or block 5 - so it throws an error and discards that block. In line 139 it gets block 4 and then line 149 block 5. Subsequently as block 7 on wards come in but are discarded since it doesnt have block 6/discarded it previously.  Meanwhile it continues processing and commits upto block 4 (line 253). But on block 5 it doesnt have block 6 for the seal and makes a Seal Request (which will be ignored by the rest of the network) line 167. Subsequent to that it pretty much stalls in the catchup since it has no more blocks to process....  I am guessing if a new batch is sent and a new block request came in, then the validator would try to again find previous blocks but it has a lot of catching up to do and might stall again (we had a scenario a couple of monhts back when a node mysteriously caught up after a few days, but I think it looks like it might have incrementally caught up/ stalled each time a new block was processed )","username":"RajaramKannan","ts":"2020-04-17T04:31:46.454Z"}
{"msg":"So I've looked back for this log file you are referencing and I don't see it in the rocket chat.  Only a couple images of a pbft log and a validator log.  Could you share the log please, otherwise these line references are lost on me.","username":"kodonnel","ts":"2020-04-17T13:15:13.160Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Euzzb7dAtXT8sAWGK) ","username":"RajaramKannan","ts":"2020-04-17T13:19:22.761Z","attachments":[{"type":"file","title":"pbft.log","title_link":"/file-upload/TLmhc4FWXb4htnsoe/pbft.log","url":"/file-upload/TLmhc4FWXb4htnsoe/pbft.log","remote":false,"fileId":"TLmhc4FWXb4htnsoe","fileName":"pbft.log"},{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Euzzb7dAtXT8sAWGK","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Euzzb7dAtXT8sAWGK","remote":false,"fileId":"TLmhc4FWXb4htnsoe","fileName":"pbft.log"}]}
{"msg":"Looking at past messages, there are suggestions that the PBFT state should be stored to disk and not memory. Would be great to understand the the underlying issues with storage in memory (so far we have not seen any issues attributable to this...)...","username":"RajaramKannan","ts":"2020-04-20T14:22:31.981Z"}
{"msg":"@RajaramKannan that has to be with the service restart scenarios","username":"arsulegai","ts":"2020-04-21T03:00:17.421Z"}
{"msg":"@arsulegai can you elaborate a little on what issues it might cause on service restart? We do bring up/down our containers every now and then. In any case, if we were to say update our containers (eg a new build) in any case I think the disk based storage will also be removed? ","username":"RajaramKannan","ts":"2020-04-21T04:32:58.811Z"}
{"msg":"Do you bring down all the nodes or just one/some of them?","username":"arsulegai","ts":"2020-04-21T04:55:07.467Z"}
{"msg":"* PBFT instances","username":"arsulegai","ts":"2020-04-21T04:55:17.426Z"}
{"msg":"usually just one or some of them... ","username":"RajaramKannan","ts":"2020-04-21T05:04:08.702Z"}
{"msg":"Interesting, have you observed those issues in your network from where you got the https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=yfZn35d9NNjdHfbM9 message?","username":"arsulegai","ts":"2020-04-21T06:08:33.582Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=yfZn35d9NNjdHfbM9","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=yfZn35d9NNjdHfbM9","remote":true,"fileId":null,"fileName":null}]}
{"msg":"@arsulegai  This query is coming primarily from https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Psryg6DZm7XBssBC8  This doesnt talk about the specific issues seen. But I suppose if I look further back then one issue seems to have been with receiving state/delta-event  https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC (we have written custom events and are not using the state/delta events!). But the one mentioned by James Barry seems to indicate somehow tha it caused the blockchain to stop working when a single node was restarted (which we havent experienced - and hence the question)","username":"RajaramKannan","ts":"2020-04-21T06:26:53.796Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Psryg6DZm7XBssBC8","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=Psryg6DZm7XBssBC8","remote":true,"fileId":null,"fileName":null},{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=HtM5rME466KcoFPzC","remote":true,"fileId":null,"fileName":null}]}
{"msg":"Hi All\nFacing this issue while trying to build the pbft-engine","username":"ParitoshPandey","ts":"2020-04-21T08:31:03.073Z"}
{"msg":"ERROR: VERSION file and (bumped?) git describe versions differ: 1.0.1 != 1.0.2\ncargo-deb: Argument to option 'deb-version' missing\nERROR: Service 'pbft-engine' failed to build: The command '/bin/sh -c export VERSION=$(./bin/get_version)  && sed -i -e \"0,/version.*$/ s/version.*$/version\\ =\\ \\\"${VERSION}\\\"/\" Cargo.toml  && /root/.cargo/bin/cargo deb --deb-version $VERSION' returned a non-zero code: 1","username":"ParitoshPandey","ts":"2020-04-21T08:31:11.399Z"}
{"msg":"Any leads would be really helpful","username":"ParitoshPandey","ts":"2020-04-21T08:31:35.583Z"}
{"msg":"@rbuysse :point_up: ","username":"pschwarz","ts":"2020-04-21T20:53:41.730Z"}
{"msg":"@ParitoshPandey can you try rebasing on master?","username":"rbuysse","ts":"2020-04-21T21:37:09.774Z"}
{"msg":"@pschwarz @rbuysse we got the build working by changin AUTO_STRICT to just AUTO in the default build file. The STRICT setting was expecting the version to be bumped up....","username":"RajaramKannan","ts":"2020-04-22T02:43:12.735Z"}
{"msg":"@rbuysse @pschwarz @amundson  -  We have been able to build and test a fix to the the issue we have been reporting for a while. There are many conversations and hypothesis on this channel, but we traced the issue we saw (and going by some of the comments, potentially a few others) to basically when the PBFT engine receives a block out of sequence from the validator during the catchup process. Since it discards that block as it does not have its predecessor at that point, it ends up stalling when it processes the predecessor of that block.   @ParitoshPandey is the lead engineer on our end who took this initiative up.   Do you have any guidance on how we can go about the process of contributing back? This is the best link I could find, https://sawtooth.hyperledger.org/docs/core/releases/latest/community/contributing.html  but not much yet beyond.  Example, the latest points to 1.0.2 should that be where current contributions are going into?  Any guidance will be much appreciated","username":"RajaramKannan","ts":"2020-04-24T07:48:25.219Z"}
{"msg":"we want to be able to go back and deploy ideally from the sawtooth dockerhub as well as point our partners to pick up that version as well. We are currently preparing for the production launch of a fractional bond trading system - bondblox.com","username":"RajaramKannan","ts":"2020-04-24T07:49:40.295Z"}
{"msg":"current contributions should be made as PR's against master.  They'll be backported to the appropriate releases after they've been reviewed and merged at that level","username":"pschwarz","ts":"2020-04-24T13:12:54.447Z"}
{"msg":"thanks pschwarz - anythng else to keep in mind?","username":"RajaramKannan","ts":"2020-04-24T14:59:11.939Z"}
{"msg":"Good commit messages are important: https://chris.beams.io/posts/git-commit/","username":"pschwarz","ts":"2020-04-24T15:04:22.031Z"}
{"msg":"(also linked in the contributor's guide)","username":"pschwarz","ts":"2020-04-24T15:04:50.617Z"}
{"msg":"thanks ","username":"RajaramKannan","ts":"2020-04-24T15:44:30.581Z"}
{"msg":"ha","username":"pschwarz","ts":"2020-04-27T15:57:55.448Z"}
{"msg":"Has joined the channel.","username":"YadhuPhilip","ts":"2020-04-28T06:05:11.224Z","type":"uj"}
{"msg":"@RajaramKannan @ParitoshPandey can you describe the fix or put up a branch with the changes?","username":"amundson","ts":"2020-04-29T15:30:07.045Z"}
{"msg":"@amundson We are working on the same , we will be pushing a branch in a day or two","username":"ParitoshPandey","ts":"2020-04-29T15:38:33.560Z"}
{"msg":"Hi. Need assistance with pbft consensus - when i send a transaction to the network - it become in pending state forever. I prepared docker-compose file that start a network of 4 nodes with pbft consensus: https://github.com/AlexZhovnuvaty/dynamic-sawtooth-consensus/blob/master/docker-compose-4-nodes-pbft.yaml","username":"AlexanderZhovnuvaty","ts":"2020-04-30T07:15:43.096Z"}
{"msg":"sawtooth-shell-default /bin/bash ; 3) initiate a transaction within the container: xo create hello --url http://sawtooth-rest-api-3:8008; 4) open respective transaction in browser: curl http://sawtooth-rest-api-3:8008/batch_statuses?id=c0e58a2c6922a78a8db7c872118f213e332b92ade23919a7997b581fb4e5af17646f25c28dd829de3cd343f54dfd58208bc8b8c30215557202312a1e39a37b6b\n{\n\"data\": [\n{\n\"id\": \"c0e58a2c6922a78a8db7c872118f213e332b92ade23919a7997b581fb4e5af17646f25c28dd829de3cd343f54dfd58208bc8b8c30215557202312a1e39a37b6b\",\n\"invalid_transactions\": [],\n\"status\": \"PENDING\"\n}\n],\n\"link\": \"http://sawtooth-rest-api-3:8008/batch_statuses?id=c0e58a2c6922a78a8db7c872118f213e332b92ade23919a7997b581fb4e5af17646f25c28dd829de3cd343f54dfd58208bc8b8c30215557202312a1e39a37b6b\"\n","username":"AlexanderZhovnuvaty","ts":"2020-04-30T07:16:04.152Z"}
{"msg":"steps: to reproduce: 1) start the network: docker-compose -f docker-compose-4-nodes-pbft.yaml up; 2) connect to shell container: docker exec -it sawtooth-shell-default /bin/bash ; 3) initiate a transaction within the container: xo create hello --url http://sawtooth-rest-api-3:8008; 4) open respective transaction in browser: curl http://sawtooth-rest-api-3:8008/batch_statuses?id=c0e58a2c6922a78a8db7c872118f213e332b92ade23919a7997b581fb4e5af17646f25c28dd829de3cd343f54dfd58208bc8b8c30215557202312a1e39a37b6b\n{\n\"data\": [\n{\n\"id\": \"c0e58a2c6922a78a8db7c872118f213e332b92ade23919a7997b581fb4e5af17646f25c28dd829de3cd343f54dfd58208bc8b8c30215557202312a1e39a37b6b\",\n\"invalid_transactions\": [],\n\"status\": \"PENDING\"\n}\n],\n\"link\": \"http://sawtooth-rest-api-3:8008/batch_statuses?id=c0e58a2c6922a78a8db7c872118f213e332b92ade23919a7997b581fb4e5af17646f25c28dd829de3cd343f54dfd58208bc8b8c30215557202312a1e39a37b6b\"","username":"AlexanderZhovnuvaty","ts":"2020-04-30T07:16:04.152Z"}
{"msg":"Thanks in advance","username":"AlexanderZhovnuvaty","ts":"2020-04-30T07:16:54.793Z"}
{"msg":"@AlexanderZhovnuvaty  Could you also post the logs of sawtooth-rest-api container","username":"ParitoshPandey","ts":"2020-04-30T08:45:02.072Z"}
{"msg":"docker logs -f sawtooth-rest-api-3 ","username":"ParitoshPandey","ts":"2020-04-30T08:45:35.548Z"}
{"msg":"\n[2020-04-30 09:44:34.692 INFO     messaging] Connecting to tcp://validator-0:4004\n[2020-04-30 09:44:34.717 INFO     rest_api] Creating handlers for validator at tcp://validator-0:4004\n[2020-04-30 09:44:34.778 INFO     rest_api] Starting REST API on sawtooth-rest-api-0:8008\n[2020-04-30 09:54:49.628 DEBUG    route_handlers] Sending CLIENT_BATCH_SUBMIT_REQUEST request to validator\n[2020-04-30 09:54:49.655 DEBUG    route_handlers] Received CLIENT_BATCH_SUBMIT_RESPONSE response from validator with status OK\n[2020-04-30 09:54:49.660 INFO     helpers] POST /batches HTTP/1.1: 202 status, 358 size, in 0.032103 s\n[2020-04-30 09:55:18.108 DEBUG    route_handlers] Sending CLIENT_BATCH_STATUS_REQUEST request to validator\n[2020-04-30 09:55:18.111 DEBUG    route_handlers] Received CLIENT_BATCH_STATUS_RESPONSE response from validator with status OK\n[2020-04-30 09:55:18.113 INFO     helpers] GET /batch_statuses?id=3fb0f8d9c76c4a09fb40e2d40d71714f0060a78d4bdd0c275e925f8b05c102fd60aa722597cb71579be9e79c48eee709bdee32a0e6e51ccb076f205e26856f33 HTTP/1.1: 200 status, 585 size, in 0.005407 s\n","username":"AlexanderZhovnuvaty","ts":"2020-04-30T09:56:32.802Z"}
{"msg":"We have created a pull request #166 for the same","username":"ParitoshPandey","ts":"2020-05-04T02:41:23.988Z"}
{"msg":"Has joined the channel.","username":"DavidSetyanugraha","ts":"2020-05-05T03:39:54.965Z","type":"uj"}
{"msg":"Has joined the channel.","username":"sawtooth","ts":"2020-05-05T20:12:38.231Z","type":"uj"}
{"msg":"@amundson we have pushed the changes, will be great to get some feedback https://github.com/hyperledger/sawtooth-pbft/pull/166#partial-pull-merging","username":"RajaramKannan","ts":"2020-05-08T15:39:04.308Z"}
{"msg":"Has joined the channel.","username":"jmbarry","ts":"2020-05-13T16:18:45.043Z","type":"uj"}
{"msg":"Has joined the channel.","username":"Will_Gluwa","ts":"2020-05-14T15:33:15.379Z","type":"uj"}
{"msg":"Has joined the channel.","username":"yashar.nesvaderani","ts":"2020-05-14T20:39:40.495Z","type":"uj"}
{"msg":"@jamesbarry @arsulegai @ltseeley @amundson  Seeing some really wierd PBFT issue, would appreciate any guidance as we go live shortly.  Node 1 - (All other nodes are similar and are in sync. Several Blocks committed as part of view 319445 (from block 4168 to 4183) .  Node 2 -  Out of sync, started from view 319445. What we can notice in the attached logs is it starts to stall after Block 4182.  If you look at seq 4168, you can see the block new and block valid (901405) are different from the block commit (0c3d0..). Interestingly in the other nodes this block was the one committed at block 4183!   Any insights as to why this may be happening? Anything we can do to prevent its occurrence?\n\n","username":"RajaramKannan","ts":"2020-05-19T12:13:05.945Z"}
{"msg":"","username":"RajaramKannan","ts":"2020-05-19T12:13:23.182Z","attachments":[{"type":"file","title":"RajaramKannan - Tue May 19 2020 17:43:09 GMT+0530 (India Standard Time).txt","title_link":"/file-upload/tq28t5GC3acrzaKok/RajaramKannan%20-%20Tue%20May%2019%202020%2017:43:09%20GMT+0530%20(India%20Standard%20Time).txt","url":"/file-upload/tq28t5GC3acrzaKok/RajaramKannan%20-%20Tue%20May%2019%202020%2017:43:09%20GMT+0530%20(India%20Standard%20Time).txt","remote":false,"fileId":"tq28t5GC3acrzaKok","fileName":"RajaramKannan - Tue May 19 2020 17:43:09 GMT+0530 (India Standard Time).txt"}]}
{"msg":"","username":"RajaramKannan","ts":"2020-05-19T12:13:23.182Z","attachments":[{"type":"file","title":"RajaramKannan - Tue May 19 2020 17:43:09 GMT+0530 (India Standard Time).txt","title_link":"/file-upload/tq28t5GC3acrzaKok/RajaramKannan%20-%20Tue%20May%2019%202020%2017:43:09%20GMT+0530%20(India%20Standard%20Time).txt","url":"/file-upload/tq28t5GC3acrzaKok/RajaramKannan%20-%20Tue%20May%2019%202020%2017:43:09%20GMT+0530%20(India%20Standard%20Time).txt","remote":false,"fileId":"tq28t5GC3acrzaKok","fileName":"RajaramKannan - Tue May 19 2020 17:43:09 GMT+0530 (India Standard Time).txt"}]}
{"msg":"@AlexanderZhovnuvaty it could be some other issue. Please check one by one - if the consensus engine is able to produce the blocks, do you see some validator rejecting block, if validators are broadcasting and agreeing upon a block. Check if your TP is deterministic.","username":"arsulegai","ts":"2020-05-20T18:24:53.308Z"}
{"msg":"Hi All","username":"ParitoshPandey","ts":"2020-05-21T18:56:08.703Z"}
{"msg":"I have created a pull request #166 for sawtooth-pbft-engine. Here is the jira ticket for the same https://jira.hyperledger.org/browse/STL-1706 . A change was suggested by @Itseeley to include the block_buffer in the PbftState.\nBut for doing the same , we need to implement the\nthe serialize method for the block_buffer\nWhen I tried adding it\nFaced the following error.\nerde::Serializeis not satisfied\\n\\nthe traitstate::_IMPL_DESERIALIZE_FOR_PbftPhase::_serde::Serializeis not implemented forsawtooth_sdk::consensus::engine::Block\nI think we need to add it to crate and push it .\nLet me know if there is way to get this done ?\n","username":"ParitoshPandey","ts":"2020-05-21T18:56:47.329Z"}
{"msg":"You could possibly do that, block has all serializable parameters (ref: https://github.com/hyperledger/sawtooth-sdk-rust/blob/3717b2094b921511ab3c199d24666ffc398c83cf/src/consensus/engine.rs#L43). Once you add it, you can request a new release in #sawtooth-release channel. Use this dot release as base to solve the PBFT issue.","username":"arsulegai","ts":"2020-05-25T04:56:10.399Z"}
{"msg":"Thanks @arsulegai ","username":"ParitoshPandey","ts":"2020-05-26T05:28:50.168Z"}
{"msg":"As we move forward w/Sawtooth 2, we want to create a unified Rust library with all the consensus implementations; currently PBFT, Raft, and 2PC. This will be similar to the consensus engine concept, but we will focus much more on Rust APIs (traits, implementations, etc.). (Conceptually, we can have a consensus engine on top of the library to retain the inter-process-protocol, which might be interesting for Sawtooth 1.x.)","username":"amundson","ts":"2020-06-05T17:13:13.957Z"}
{"msg":"Part of what needs to be decided is where this consensus library should live. A couple options are: 1) A completely new project, with the goal of being the ultimate consensus Rust project (not specific to distributed ledgers); 2) In libsawtooth, under a consensus module; 3) As a separate sawtooth-consensus library. Input welcome.","username":"amundson","ts":"2020-06-05T17:15:13.857Z"}
{"msg":"Benefits of (1) seem pretty good - trying to grow a wider community (not just within HL), make it a good place for researchers, etc., have a unique identity for itself, etc.","username":"amundson","ts":"2020-06-05T17:18:55.233Z"}
{"msg":"I like the sound of 1 but I'm not real familiar with consensus requirements outside of blockchain (maybe with exception of Cassandra). Other consensus libs had been disappointing to us in the past because people have different ideas of the borders of the abstraction. Not sure off the top of my head how not to fall into the same issue and actually be broadly applicable.","username":"Dan","ts":"2020-06-05T20:06:40.017Z"}
{"msg":"I think you don't fall into that trap by not dictating the method of communication (i.e. don't provide daemon processes, etc.)","username":"amundson","ts":"2020-06-05T21:27:11.860Z"}
{"msg":"raft-rs for example","username":"amundson","ts":"2020-06-05T21:28:13.768Z"}
{"msg":"though they do have a transport layer (maybe new?)","username":"amundson","ts":"2020-06-05T21:29:08.836Z"}
{"msg":"Has joined the channel.","username":"kumar89","ts":"2020-06-10T10:21:25.565Z","type":"uj"}
{"msg":"Has joined the channel.","username":"HichamTAHIRI","ts":"2020-06-14T15:53:47.756Z","type":"uj"}
{"msg":"Has joined the channel.","username":"umamani113","ts":"2020-06-17T12:14:51.627Z","type":"uj"}
{"msg":"Has left the channel.","username":"trbs","ts":"2020-07-01T19:40:35.853Z","type":"ul"}
{"msg":"Has joined the channel.","username":"akashbhardwaj04","ts":"2020-07-06T13:11:07.376Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lebdron","ts":"2020-08-04T13:39:17.167Z","type":"uj"}
{"msg":"Hello! We are working on https://wiki.hyperledger.org/display/INTERN/Project+Plan+-+Reworking+HL+Iroha+Consensus+API , and we would like to ask for a consultation regarding API methods, such as InitializeBlock, SummarizeBlock, and others. Could you please tell who might help us the best with this? Thank you!","username":"lebdron","ts":"2020-08-04T13:39:17.900Z"}
{"msg":"User <em>User_1</em> added by <em>lebdron</em>.","username":"lebdron","ts":"2020-08-04T13:40:07.808Z","type":"au"}
{"msg":"User <em>User_2</em> added by <em>lebdron</em>.","username":"lebdron","ts":"2020-08-04T13:40:16.012Z","type":"au"}
{"msg":"Ping @Dan @amundson just in case","username":"lebdron","ts":"2020-08-04T13:57:45.680Z"}
{"msg":"@lebdron one of the things we are going to do short-term is move consensus-related code (PBFT, etc.) to a rust library so that it can be easily consumed by other projects -- it would be cool if Iroha could use that library","username":"amundson","ts":"2020-08-04T13:59:30.388Z"}
{"msg":"this will be similar to consensus engines, but without the process barrier (though it may be the implementation for some existing consensus engines as we go forward)","username":"amundson","ts":"2020-08-04T14:01:23.440Z"}
{"msg":"@ltseeley has worked on both PBFT and two-phase-commit","username":"amundson","ts":"2020-08-04T14:07:08.101Z"}
{"msg":"That would indeed remove the need of using zeromq, message passing, and separate processes. Sounds great!\n\nAs I understand, the interface will still remain the same, so that now we need to process InitializeBlock requests received from zeromq, and later we will need to process such calls directly from the library. As @adamos2468 has already implemented a zeromq interface in C++, we would be happy to get a complete understanding of the interface. While we have an idea of what methods should do based on the Consensus API RFC, we are not totally sure how the methods should relate to the core pipeline.","username":"lebdron","ts":"2020-08-04T14:08:27.224Z"}
{"msg":"The API will probably change some, but yes we are starting with the consensus engine API and evolving it. So it will likely be a 2.0 of that API. For example, we want to support DLTs that don't necessarily have \"block\", so we want to make it a bit more general. There are also some other things that we want to address like threading model. Currently one consensus engine == one thread, and we have use cases for thousands of consensus engines \"running\" in parallel. So likely that will have an impact on the API as well.","username":"amundson","ts":"2020-08-04T14:10:45.445Z"}
{"msg":"we can discuss that consensus engine api here for sure, and there is an opportunity to take input from iroha's requirements as we go along for the new api","username":"amundson","ts":"2020-08-04T14:14:28.015Z"}
{"msg":"It might be easier for us currently to finish the integration of 1.0 API, so that the internship project will be complete. This will allow us to see how it changed our pipeline, and possible points of improvement. And this ideas might fit well for 2.0 API.\nDo you think it will be possible to set up a voice/video meeting this or next week? It might be easier for us to ask specific questions from the point of view of Iroha pipeline in this way. If not, the chat here is also OK.","username":"lebdron","ts":"2020-08-04T14:19:11.492Z"}
{"msg":"It might be easier for us currently to finish the integration of 1.0 API, so that the internship project will be complete. This will allow us to see how it changed our pipeline, and possible points of improvement. And these ideas might fit well for 2.0 API.\nDo you think it will be possible to set up a voice/video meeting this or next week? It might be easier for us to ask specific questions from the point of view of Iroha pipeline in this way. If not, the chat here is also OK.","username":"lebdron","ts":"2020-08-04T14:19:11.492Z"}
{"msg":"Sounds like a good plan, I guess I just wanted to point out where we are going, but yes, with that timeline targeting the existing consensus engines is best.","username":"amundson","ts":"2020-08-04T14:25:05.523Z"}
{"msg":"We can get a call setup for sure","username":"amundson","ts":"2020-08-04T14:26:50.696Z"}
{"msg":"Yeah, I'd be happy to join a call and answer any questions","username":"ltseeley","ts":"2020-08-04T14:27:33.410Z"}
{"msg":"Thank you for the opportunity! From our side, some time next week would be perfect, as me and @Mikhail_Boldyrev need to look more into Sawtooth code. Do you think we should proceed with communication about details here, have a separate channel, or by email?","username":"lebdron","ts":"2020-08-04T14:47:20.272Z"}
{"msg":"This channel is probably fine","username":"ltseeley","ts":"2020-08-04T15:46:35.814Z"}
{"msg":"@ltseeley @Mikhail_Boldyrev @adamos2468 Hello! How about scheduling a call this Thursday or Friday?","username":"lebdron","ts":"2020-08-11T09:11:58.555Z"}
{"msg":"Thursday would be better for me, but Friday would work too. @amundson ^","username":"ltseeley","ts":"2020-08-11T13:42:34.426Z"}
{"msg":"I could probably make either work. I'd prefer sometime between 10am-4pm US/Central","username":"amundson","ts":"2020-08-11T15:07:12.763Z"}
{"msg":"I would suggest Thursday 11am CDT then. @Mikhail_Boldyrev @adamos2468 please confirm","username":"lebdron","ts":"2020-08-11T19:12:37.078Z"}
{"msg":"@lebdron fine by me ","username":"adamos2468","ts":"2020-08-11T20:21:37.622Z"}
{"msg":"ok for me","username":"Mikhail_Boldyrev","ts":"2020-08-11T21:27:36.765Z"}
{"msg":"@lebdron do you have a link for the call today?","username":"ltseeley","ts":"2020-08-13T13:38:54.099Z"}
{"msg":"Does zoom work for you? We have a variety of options...","username":"lebdron","ts":"2020-08-13T13:42:11.648Z"}
{"msg":"Like jitsi, bigbluebutton, google meet","username":"lebdron","ts":"2020-08-13T13:42:35.565Z"}
{"msg":"Zoom would be perfect","username":"ltseeley","ts":"2020-08-13T14:00:26.514Z"}
{"msg":"Has joined the channel.","username":"Glenn_Gluwa","ts":"2020-08-27T15:28:48.437Z","type":"uj"}
{"msg":"publisher polling","username":"Glenn_Gluwa","ts":"2020-08-27T15:28:48.497Z"}
{"msg":"Has joined the channel.","username":"infrared","ts":"2020-09-10T17:45:40.953Z","type":"uj"}
{"msg":"Has joined the channel.","username":"binunalex","ts":"2020-10-06T16:12:36.630Z","type":"uj"}
{"msg":"Dear Friends, I am Alex Binun, a new member of the channel. I am developing a new consensus engine, in Python. Could you recommend me Python implementations of consensus engines ? I saw only Rust implementations. Thanks a lot!","username":"binunalex","ts":"2020-10-06T16:12:37.019Z"}
{"msg":"poet is the only one, though it is not simple","username":"amundson","ts":"2020-10-06T16:33:21.388Z"}
{"msg":"Thanks a lot, https://github.com/hyperledger/sawtooth-poet is indeed in Python. I know Python quite good so hope it will help","username":"binunalex","ts":"2020-10-07T06:29:51.760Z"}
{"msg":"Dear Friends, for all Sawtooth components (POET, PBFT, Core ...) only Docker-based install-from-source instructions are available, they are in BUILD.md files. Are there non-dockerized install-from-source instructions. Fr example, I want to perform an Ubuntu 18 single-node installation and launch an own consensus engine. Thanks, Alex","username":"binunalex","ts":"2020-10-07T14:03:19.143Z"}
{"msg":"Thanks a lot, dear friend. The code is quite understandable. I want to compile POET from the source code and run it in a Docker image, in a Sawtooth session. Actually I want to replace the POET image used here (https://sawtooth.hyperledger.org/docs/core/nightly/1-2/app_developers_guide/sawtooth-default-poet.yaml) by the one build by me from the sources.","username":"binunalex","ts":"2020-10-14T14:14:18.744Z"}
{"msg":"How coul dI do this ?","username":"binunalex","ts":"2020-10-14T14:14:25.914Z"}
{"msg":"I would create a Debian package in a container, copy the build on host and install it. See here on how `Dockerfile-installed` are being used. https://github.com/hyperledger/sawtooth-poet/blob/master/docker-compose-installed.yaml","username":"arsulegai","ts":"2020-10-14T17:11:23.556Z"}
{"msg":"Has left the channel.","username":"BrunoVavala","ts":"2020-10-14T19:42:07.738Z","type":"ul"}
{"msg":"hi","username":"MelodyWang","ts":"2020-10-15T06:58:57.514Z"}
{"msg":"I have a question about SGX simulator, I try to test the sawtooth poet with the SGX simulator. I see when it deals with 6 and 10 nodes, the fork always happens and it wont be resolved automatically\njust wonder how many nodes the sawtooth poet support and how many blocks it could handle so far.","username":"MelodyWang","ts":"2020-10-15T06:58:59.243Z"}
{"msg":"there are a few reasons you can get forks that don't eventually resolve: 1) if a transaction processor is not deterministic (like using random numbers, system time, external information, etc.); 2) overloaded validators that are working on resolving the forks but fall behind because of CPU constraints; 3) bugs. for low node counts its also important to turn off z test, etc.","username":"amundson","ts":"2020-10-15T14:11:35.819Z"}
{"msg":"hi thank you for your reply, appreciate it. @amundson for the reason 1, I am a little bit confusing. Why a non-deterministic transaction will cause fork unresolved. I am using Intkey as transaction processor. I sent the transactions each 3 seconds, then even I stop sending the transaction, the validator still does not resolve the forks. For the last one, I wonder why I need to turn off z test? Z-test will cause the fork not be resolved? Thank you","username":"MelodyWang","ts":"2020-10-16T06:54:33.334Z"}
{"msg":"intkey is deterministic","username":"amundson","ts":"2020-10-16T13:43:07.477Z"}
{"msg":"the logs should give information on block evaluation","username":"amundson","ts":"2020-10-16T13:51:30.707Z"}
{"msg":"z-test can \"lock out\" nodes from publishing, so for low node counts it can cause the entire network to halt","username":"amundson","ts":"2020-10-16T13:52:11.839Z"}
{"msg":"@amundson thank you. it is very confusing to me when I was able to synch 800 blocks with 10 nodes but sometimes it even could not synch any time","username":"MelodyWang","ts":"2020-10-16T17:53:04.700Z"}
{"msg":"while I think fork resolver should automatically resolve the fork","username":"MelodyWang","ts":"2020-10-16T17:53:45.152Z"}
{"msg":"Has joined the channel.","username":"crypto_beep","ts":"2020-11-03T09:12:17.184Z","type":"uj"}
{"msg":"Hi hope you all are doing well. i've a small concern, can we use  Raft consensus mechanism in Sawtooth 1.2.4's docker approach ?","username":"crypto_beep","ts":"2020-11-03T09:12:17.644Z"}
{"msg":"sure, but you would be better off using pbft","username":"amundson","ts":"2020-11-04T14:41:59.257Z"}
{"msg":"ok, Thanks","username":"crypto_beep","ts":"2020-11-04T16:24:25.032Z"}
{"msg":"ok, Thanks. I got documentation reagarding POET and PBFT not for RAFT. could you please share your thoughts on it.","username":"crypto_beep","ts":"2020-11-04T16:24:25.032Z"}
{"msg":"and In case of POET, only POET CFT works fine not SGX.","username":"crypto_beep","ts":"2020-11-04T16:29:05.439Z"}
{"msg":"the raft consensus engine is rather experimental; pbft is well-tested and better supported by the maintainers","username":"amundson","ts":"2020-11-04T16:31:03.738Z"}
{"msg":"I'm not sure the state of poet sgx. poet cft is fine but unless someone steps up to support it will be cut when we get to sawtooth 2. pbft will probably be the default.","username":"amundson","ts":"2020-11-04T16:32:59.323Z"}
{"msg":"ok , Thanks for your time!","username":"crypto_beep","ts":"2020-11-04T16:34:08.954Z"}
{"msg":"Has joined the channel.","username":"Vikash2601","ts":"2020-11-10T04:44:22.273Z","type":"uj"}
{"msg":"Hi All, in the current PBFT implementation when do the secondaries execute the transactions in the proposed block? Is it after they reach \"Prepared\" state (i.e when they start to commit) or is it during the \"prepare\" phase?","username":"RajaramKannan","ts":"2020-11-11T09:16:35.873Z"}
{"msg":"@RajaramKannan transactions are run when a block gets validated. Blocks get validated when the consensus engine tells the validator to check the block with a \"check blocks\" command. The PBFT consensus engine tells the validator to check a block when it gets a \"new block\" notification from the validator. This notification can come at any time, whenever the validator receives a new block from another node. Technically, this can happen at any phase; the consensus engine will check any block that could be valid, even if it's not ready to commit that block. When the network is in-sync, a secondary node will generally receive and check a block while it's in the \"pre-prepare\" phase, before the primary sends out the \"Pre-prepare\" message. But if a node is out-of-sync with the network, it may receive a block while it's in a different phase; in this case, it would still validate the block (transactions are executed), but won't decide to commit the block until it's ready.","username":"ltseeley","ts":"2020-11-11T15:32:45.337Z"}
{"msg":"Thanks @ltseeley this provides a lot more clarity. Just one followup, \"When the network is in-sync, a secondary node will generally receive and check a block while it's in the \"pre-prepare\" phase, before the primary sends out the \"Pre-prepare\" message.\", Unless the primary broadcasts the block in the pre-prepare phase, how will the secondary receive it? (unless the \"pre-prepare\" message is separate from the receipt of the block from the primary?).   Just as a background to these questions, we have been live for a few months as a Regulated fractional bond trading exchange (https://bondevalue.com/news/bondevalue-gets-mas-approval-to-operate-the-bondblox-bond-exchange/) . We are currently looking at working on a version 2 of the overall solution and as part of this review each element of the overall current solution (including but not only the blockchain) for improvements in our flow.","username":"RajaramKannan","ts":"2020-11-12T04:27:59.064Z"}
{"msg":"@RajaramKannan you got it, the \"pre-prepare\" message is separate from receiving the block. Blocks are broadcast automatically by the validator. Consensus doesn't control how blocks are shared on the network. The PBFT consensus engine on the primary node will tell its validator to finalize a block, then the validator will broadcast that block to all other nodes, then the engine will broadcast the \"pre-prepare\" message to all the secondaries. On the secondary nodes, the validators will receive that block and notify the engines regardless of what phase those engines are in.","username":"ltseeley","ts":"2020-11-12T15:12:59.676Z"}
{"msg":"thanks @ltseeley, I know you were instrumental in many of the contributions including PBFT and this helps in getting a little bit more under the skin of how things work. Mind if I ask a couple more questions?","username":"RajaramKannan","ts":"2020-11-12T15:19:35.542Z"}
{"msg":"Of course!","username":"ltseeley","ts":"2020-11-12T15:20:00.844Z"}
{"msg":"sorry couple was a misdirection, it might be 3 :-). 1. I know the TP is run on a transaction multiple times, for example to check for non-determinism. Are those multiple executions as soon as a Validator receives a transaction or is that executed only by the validator that is currently preparing a block? 2. Is the transaction again executed in PBFT in the commit phase (secondaries) or only during the preprepare as discussed above? 3. When a view change happens and the leader changes, if the previous leader had a block already proposed, will the new leader create a new block (and the order of batches in that new block possibly changed from what the previous leader might have ordered?) Asking this one since we have a oracular service for timestamping and re-ordering might create some potential issues esp at higher volumes)","username":"RajaramKannan","ts":"2020-11-12T15:25:04.616Z"}
{"msg":"@ltseeley looking forward to your insights on the above...","username":"RajaramKannan","ts":"2020-11-16T05:27:03.794Z"}
{"msg":"Hi Greetings, I didn't find any doc or wiki how to use Dynamic Consensus With Hyperledger Sawtooth v1.2.4 in Docker approach. could you guys please put your thoughts on it.Thanks!","username":"crypto_beep","ts":"2020-11-17T11:53:04.248Z"}
{"msg":"Also I didn't find any Commands to list all Validators Nodes and list all Genesis Nodes in doc or wiki how to Hyperledger Sawtooth v1.2.4 in Docker approach. could you guys please help me out on this.Thanks!","username":"crypto_beep","ts":"2020-11-18T15:44:08.231Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9fiRXNsbXGRK6ft3o) Hi. @amundson  Please advise how many nodes can be treated as low for poet? And how to turn off z-test? Thanks in advance.","username":"AlexanderZhovnuvaty","ts":"2020-11-24T23:55:25.188Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9fiRXNsbXGRK6ft3o","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=9fiRXNsbXGRK6ft3o","remote":true,"fileId":null,"fileName":null}]}
{"msg":"hi. question about load testing with pbft consensus - throughput value is always jumping. Any reasons why it may happen and potential solution to keep the curve stable (pls see graph below)? Thanks in advance","username":"AlexanderZhovnuvaty","ts":"2020-12-01T13:53:57.524Z"}
{"msg":"","username":"AlexanderZhovnuvaty","ts":"2020-12-01T13:54:22.871Z","attachments":[{"type":"file","title":"Clipboard - December 1, 2020 3:54 PM","title_link":"/file-upload/bFqFHYg8Zw4rgcc8e/Clipboard%20-%20December%201,%202020%203:54%20PM","image_url":"/file-upload/bFqFHYg8Zw4rgcc8e/Clipboard%20-%20December%201,%202020%203:54%20PM","image_type":"image/png","image_size":78849,"url":"/file-upload/bFqFHYg8Zw4rgcc8e/Clipboard%20-%20December%201,%202020%203:54%20PM","remote":false,"fileId":"bFqFHYg8Zw4rgcc8e","fileName":"Clipboard - December 1, 2020 3:54 PM"}]}
{"msg":"Has joined the channel.","username":"kartheekgottipati","ts":"2021-03-07T20:01:09.420Z","type":"uj"}
{"msg":"Has joined the channel.","username":"SigurdEileraas","ts":"2021-03-22T14:03:52.858Z","type":"uj"}
{"msg":"Has joined the channel.","username":"HaakonBusterud","ts":"2021-03-22T14:41:42.599Z","type":"uj"}
{"msg":"Has joined the channel.","username":"harrymknight","ts":"2021-03-30T15:08:27.691Z","type":"uj"}
{"msg":"Has joined the channel.","username":"lucgerrits","ts":"2021-04-21T08:08:35.818Z","type":"uj"}
{"msg":"Hello everyone,\nI'm testing sawtooth, using PBFT, in a cloud to build a consortium blockchain setup. I have seen that performances (aka, commits per second) are going down the more you add validators (I've tried: 6, 12, and 18 validators). I've also seen when changing `sawtooth.publisher.max_batches_per_block` from 100 to 1000 performances increases.\nBut what about `sawtooth.consensus.pbft.` settings? I can't find good documentation about finding a good PBFT consensus setting depending on the network & number of validators.\nI tried multiple consensus settings and ran the same test, but it's always worse than default settings.\nCan someone explain the rule to find the correct PBFT consensus settings?\nKind regards, Luc","username":"lucgerrits","ts":"2021-04-21T08:17:43.213Z"}
{"msg":"@lucgerrits sawtooth.consensus.pbft.block_publishing_delay should have a relationship with sawtooth.publisher.max_batches_per_block as the less frequently the blocks are published, the more time to process batches in a block. I don't think any of the other pbft consensus settings are directly performance related.","username":"amundson","ts":"2021-04-21T19:54:05.623Z"}
{"msg":"increasing the node count increases the network traffic (n^2); thus with a larger network, it makes sense to slow down the number of blocks because the communication happens when blocks are published. if what you are tuning for is throughput.","username":"amundson","ts":"2021-04-21T19:57:29.028Z"}
{"msg":"for testing purposes, you can set sawtooth.publisher.max_batches_per_block very high and observe actual batch count achieved per block. the purpose of sawtooth.publisher.max_batches_per_block is help rate-limit the network as desired.","username":"amundson","ts":"2021-04-21T20:00:55.763Z"}
{"msg":"@amundson Hi, the last 7days I've tried to change sawtooth (in PBFT) with various settings (`sawtooth.consensus.pbft.block_publishing_delay` and `sawtooth.publisher.max_batches_per_block`). Variation I tried: `sawtooth.publisher.max_batches_per_block` from 100 to 10000 and `sawtooth.consensus.pbft.block_publishing_delay` from 500 to 5000. \nI never get a commit rate highter then 20 commits per second. I have always one transaction inside one batch (can't change that because of use-case).\nIs this normal ? Are there cases where people achieve +30 commits per second ? Is It the the fact that I have only one transaction inside one batch ?\nMaybe you or somebody else have an idea of achieving hight throughput/hight commit per second ?","username":"lucgerrits","ts":"2021-04-26T11:11:42.229Z"}
{"msg":"*Also, is the pending transaction related to `sawtooth.publisher.max_batches_per_block` ? Or any other setting ?","username":"lucgerrits","ts":"2021-04-26T13:33:18.566Z"}
{"msg":"","username":"lucgerrits","ts":"2021-04-26T14:13:48.563Z","attachments":[{"type":"file","title":"Clipboard - April 26, 2021 4:13 PM","title_link":"/file-upload/pTctQsWYraQWMHBXL/Clipboard%20-%20April%2026,%202021%204:13%20PM","image_url":"/file-upload/pTctQsWYraQWMHBXL/Clipboard%20-%20April%2026,%202021%204:13%20PM","image_type":"image/png","image_size":1654125,"url":"/file-upload/pTctQsWYraQWMHBXL/Clipboard%20-%20April%2026,%202021%204:13%20PM","remote":false,"fileId":"pTctQsWYraQWMHBXL","fileName":"Clipboard - April 26, 2021 4:13 PM"}]}
{"msg":"hello I have one question in PoET, if validator A's duration is shorter then the validator B's duration, however, A's certificate arrives first at each of validator in the network, will B's duration will be updated by each validator as the winner? if yes, any time limitation? or any rule? thanks in advance for the answer","username":"MelodyWang","ts":"2021-04-28T05:02:17.373Z"}
{"msg":"@MelodyWang conditions 6 & 7 as listed here should stop it https://sawtooth.hyperledger.org/docs/core/releases/1.0/architecture/poet.html#election-phase","username":"arsulegai","ts":"2021-04-28T19:46:30.576Z"}
{"msg":"@lucgerrits possibly you are being limited by either CPU or disk (and possibly specifically disk iops if you are in aws), depending on your system configuration. I don't recall specific numbers anymore from our earlier perf tests but I know physical machines w/ssd did a lot better than aws nodes. but in either case, graphs of iops and cpu should make it obvious if those are the case. if you are, for example, constantly cpu-bound and that's the bottleneck these settings won't change that; if you saw bursts you could possibly make utilization more consistent.","username":"amundson","ts":"2021-04-30T17:36:40.298Z"}
{"msg":"@amundson I see, I have asked my cloud provider (TAS Group) specific information about disk IO and I saw that some bursts of disk IO was going up to 9MB/s but my colleague at the cloud provider said it can go highter than that.\nAlso for CPU burst it shouldn't be an issue because for example when I set up 6 nodes, there is 32 vCPU available non-stop for each node, with 30GB RAM.\nMy last results I found are: \nbatchperblock=100000 => 14commits/s\nbatchperblock=1000 => 18commits/s","username":"lucgerrits","ts":"2021-05-02T10:22:25.587Z"}
{"msg":"@amundson I see, I have asked my cloud provider (TAS Group) specific information about disk IO and I saw that some bursts of disk IO was going up to 9MB/s but my colleague at the cloud provider said it can go highter than that.\nAlso for CPU burst it shouldn't be an issue because for example when I set up 6 nodes, there is 32 vCPU available non-stop for each node, with 30GB RAM.\nMy last results I found are using 6nodes: \nbatchperblock=100000 => 15commits/s (very high rejects)\nbatchperblock=1000 => 18commits/s (high rejects)\nbatchperblock=300 => 19commits/s (very low rejects)\nbatchperblock=100 => 21commits/s (low rejects)\nBut I though more batchperblock should get more throughput ? \nI'm more confused then ever.","username":"lucgerrits","ts":"2021-05-02T10:22:25.587Z"}
{"msg":"@amundson I see, I have asked my cloud provider (TAS Group) specific information about disk IO and I saw that some bursts of disk IO was going up to 9MB/s but my colleague at the cloud provider said it can go higher than that.\nAlso for CPU burst it shouldn't be an issue because for example when I set up 6 nodes, there is 32 vCPU available non-stop for each node, with 30GB RAM.\nMy last results I found are using 6nodes: \nbatchperblock=100000 => 15commits/s (very high rejects)\nbatchperblock=1000 => 18commits/s (high rejects)\nbatchperblock=300 => 19commits/s (very low rejects)\nbatchperblock=100 => 21commits/s (low rejects)\nBut I though more batchperblock should get more throughput ? \nI'm more confused then ever.\n\nIf you'd like I can provide lot more data/graph if you are interested.","username":"lucgerrits","ts":"2021-05-02T10:22:25.587Z"}
{"msg":"@amundson I see, I have asked my cloud provider (TAS Group) specific information about disk IO and I saw that some bursts of disk IO was going up to 9MB/s but my colleague at the cloud provider said it can go higher than that.\nAlso for CPU burst it shouldn't be an issue because for example when I set up 6 nodes, there is 32 vCPU available non-stop for each node, with 30GB RAM.\nMy last results I found are using 6nodes: \nbatchperblock=100000 => 15commits/s (very high rejects)\nbatchperblock=1000 => 18commits/s (high rejects)\nbatchperblock=300 => 19commits/s (very low rejects)\nbatchperblock=100 => 21commits/s (low rejects)\nbatchperblock=50 => 19commits/s (some rejects)\nbatchperblock=5 => 10commits/s (high rejects)\nBut I though more batchperblock should get more throughput ? \nI'm more confused then ever.\n\nIf you'd like I can provide lot more data/graph if you are interested.","username":"lucgerrits","ts":"2021-05-02T10:22:25.587Z"}
{"msg":"@amundson I see, I have asked my cloud provider (TAS Group) specific information about disk IO and I saw that some bursts of disk IO was going up to 9MB/s but my colleague at the cloud provider said it can go higher than that.\nAlso for CPU burst it shouldn't be an issue because for example when I set up 6 nodes, there is 32 vCPU available non-stop for each node, with 30GB RAM.\nMy last results I found are using 6nodes: \nbatchperblock=100000 => 15commits/s (very high rejects)\nbatchperblock=1000 => 18commits/s (high rejects)\nbatchperblock=300 => 19commits/s (very low rejects)\nbatchperblock=100 => 21commits/s (low rejects)\nbatchperblock=50 => 19commits/s (some rejects)\nbatchperblock=10 => 10commits/s (high rejects)\nBut I though more batchperblock should get more throughput ? \nI'm more confused then ever.\n\nIf you'd like I can provide lot more data/graph if you are interested.","username":"lucgerrits","ts":"2021-05-02T10:22:25.587Z"}
{"msg":"PS: I have read about back pressure: https://sawtooth.hyperledger.org/faq/rest/#what-is-the-back-pressure-test. I'm trying to change the QUEUE_MULTIPLIER but can't find the line of code...If I've news I'll tell you.","username":"lucgerrits","ts":"2021-05-02T12:21:00.016Z"}
{"msg":"@lucgerrits for disk, it is usually IOPS that matter more than throughput. for CPU, it doesn't matter how many cores you have, it matters if the core(s) it is using are at 100%. the batches per block only matter up to a point--keep in mind that it is a max, and if you set it really high then the actual batches per block will be determined by disk and cpu, with a little bit of inefficiency since the process will be resource starved. iirc, you can use \"sawtooth block list\" to see the actual batches per block.","username":"amundson","ts":"2021-05-03T13:47:02.136Z"}
{"msg":"It would be a surprising result if CPU wasn't 100% (for one of the cores).","username":"amundson","ts":"2021-05-03T13:48:07.233Z"}
{"msg":"@amundson Intresting, I have asked about IOPS limitation directly to my contact at my cloud provider.\nAbout CPU you are right: I have maxed 1 CPU on average for each blockchain node (see picture bellow). \nSo it seems IOPS is the hitting the limit ? And it isn't possible for sawtooth to multithread or something to increase perfs ?","username":"lucgerrits","ts":"2021-05-04T07:54:19.418Z"}
{"msg":"@amundson Intresting, I have asked about IOPS limitation directly to my contact at my cloud provider.\nAbout CPU you are right: I have maxed 1 CPU on average for each blockchain node (see picture bellow). \nSo it seems IOPS is the hitting the limit ? And it isn't possible for sawtooth to multithread or something to increase perfs ?\n\nEdit: I added the cloud provider screenshots bellow. Cloud provider said I'm far from the disks limitation. Any idea on whats happening ?","username":"lucgerrits","ts":"2021-05-04T07:54:19.418Z"}
{"msg":"","username":"lucgerrits","ts":"2021-05-04T07:54:30.645Z","attachments":[{"type":"file","title":"Clipboard - May 4, 2021 9:54 AM","title_link":"/file-upload/Fa3RZfgwJtkZjSHj8/Clipboard%20-%20May%204,%202021%209:54%20AM","image_url":"/file-upload/Fa3RZfgwJtkZjSHj8/Clipboard%20-%20May%204,%202021%209:54%20AM","image_type":"image/png","image_size":144370,"url":"/file-upload/Fa3RZfgwJtkZjSHj8/Clipboard%20-%20May%204,%202021%209:54%20AM","remote":false,"fileId":"Fa3RZfgwJtkZjSHj8","fileName":"Clipboard - May 4, 2021 9:54 AM"}]}
{"msg":"","username":"lucgerrits","ts":"2021-05-04T08:15:28.977Z","attachments":[{"type":"file","title":"Resources with multiple tests in 3days period","title_link":"/file-upload/aZM5ebq9pnbBvkbLo/Resources%20with%20multiple%20tests%20in%203days%20period","image_url":"/file-upload/aZM5ebq9pnbBvkbLo/Resources%20with%20multiple%20tests%20in%203days%20period","image_type":"image/png","image_size":695177,"url":"/file-upload/aZM5ebq9pnbBvkbLo/Resources%20with%20multiple%20tests%20in%203days%20period","remote":false,"fileId":"aZM5ebq9pnbBvkbLo","fileName":"Resources with multiple tests in 3days period"}]}
{"msg":"","username":"lucgerrits","ts":"2021-05-04T08:16:43.325Z","attachments":[{"type":"file","title":"Another screenshot of disk utilisation from cloud provider","title_link":"/file-upload/L9TJD2Pfk7qf5gfug/Another%20screenshot%20of%20disk%20utilisation%20from%20cloud%20provider","image_url":"/file-upload/L9TJD2Pfk7qf5gfug/Another%20screenshot%20of%20disk%20utilisation%20from%20cloud%20provider","image_type":"image/png","image_size":24912,"url":"/file-upload/L9TJD2Pfk7qf5gfug/Another%20screenshot%20of%20disk%20utilisation%20from%20cloud%20provider","remote":false,"fileId":"L9TJD2Pfk7qf5gfug","fileName":"Another screenshot of disk utilisation from cloud provider"}]}
{"msg":"The validator itself is limited by Python's GIL and you will only see a little over a single core in use. Its all highly threaded but the GIL's locking synchronizes everything often enough that it becomes the limitation. This is one of the reasons we are moving to Rust on the main branch.","username":"amundson","ts":"2021-05-04T13:58:06.497Z"}
{"msg":"I see, thanks for the info. \nOne last question, is there an idea on the release of the Rust version of the validator ? Or a roadmap of the next releases ?","username":"lucgerrits","ts":"2021-05-04T15:26:45.573Z"}
{"msg":"The main branch will become sawtooth 2.0 when its finished. our next pieces of work will be replacing consensus with a library and then replacing networking with libsplinter. I don't have an estimate on how long that takes, but my team is planning to shift focus to these things in about a month. I'm hoping this year.","username":"amundson","ts":"2021-05-05T13:52:15.697Z"}
{"msg":"Has joined the channel.","username":"Chengevo","ts":"2021-05-08T12:34:24.454Z","type":"uj"}
{"msg":"Hi everyone, I have a question regarding sawtooth-pbft. When received a `BlockValid` message from the validator, the node need to verify the seal for that block. My question is, since this a new block sent from the validator and haven't been finalized by the consensus engine, where did the seal of that block comes from.","username":"Chengevo","ts":"2021-05-08T12:34:24.903Z"}
{"msg":"@amundson","username":"Chengevo","ts":"2021-05-08T13:20:35.566Z"}
{"msg":"been a while since we stalked about that that but iirc, the previous block would be the one with a seal","username":"amundson","ts":"2021-05-10T16:20:17.740Z"}
{"msg":"Thank you for your reply Amundson, but I'm still not quite understand. If I understand it correctly, a seal is created by the consensus engine when a block can be finalized, and this seal will be send to the validator. Is it that when a new block sent from the validator, the seal it carries is actually the seal of the previous block?","username":"Chengevo","ts":"2021-05-12T01:22:20.512Z"}
{"msg":"I'm not sure I answered the question you asked; have you seen this - https://github.com/hyperledger/sawtooth-rfcs/blob/main/text/0030-pbft-consensus-seal.md","username":"amundson","ts":"2021-05-12T14:03:37.137Z"}
{"msg":"I didn't notice this RFC repo yet. I'll read this doc, hopefully it can answer my question :).","username":"Chengevo","ts":"2021-05-13T07:43:42.581Z"}
{"msg":"I didn't notice this RFC repo before. I'll read this doc, hopefully it can answer my question :).","username":"Chengevo","ts":"2021-05-13T07:43:42.581Z"}
{"msg":"Currently I'm implementing a PBFT engine and trying to integrate it into the Substrate framework","username":"Chengevo","ts":"2021-05-13T07:45:57.451Z"}
{"msg":"Currently I'm implementing a PBFT engine(for learning purpose) and trying to integrate it into the Substrate framework","username":"Chengevo","ts":"2021-05-13T07:45:57.451Z"}
{"msg":"Has joined the channel.","username":"pushkarb","ts":"2021-05-25T15:44:50.762Z","type":"uj"}
{"msg":"Has left the channel.","username":"nage","ts":"2021-06-21T17:29:47.087Z","type":"ul"}
{"msg":"Has joined the channel.","username":"AtulPandeySaw","ts":"2021-07-20T05:43:23.219Z","type":"uj"}
{"msg":"Need help ..im setting up sawtooth with pbft consensus engine ..as last step when i bring up the pbft engine it throws received message Err(Timeout)\nsawtooth version 1.1.5-devel and pbft version 1.0.3","username":"AtulPandeySaw","ts":"2021-07-20T05:43:23.722Z"}
{"msg":"Has joined the channel.","username":"rafaelmelo","ts":"2021-07-29T18:18:02.619Z","type":"uj"}
{"msg":"I'm following this guide https://sawtooth.hyperledger.org/docs/core/releases/latest/sysadmin_guide/pbft_adding_removing_node.html#adding-a-pbft-node-label for adding a new node to my network, but when I create the proposal the members list isn't updated when I list the member's keys. I've made sure that there aren't typos in my command and no error is showed. Any thoughts on this?","username":"rafaelmelo","ts":"2021-07-30T19:21:05.871Z"}
{"msg":"Has left the channel.","username":"robinrob","ts":"2021-09-09T22:11:02.425Z","type":"ul"}
{"msg":"Hello everyone. I am Mohammad Mussadiq Jalalzai. The lead Author of Fast-HotStuff which is a 2 round more efficient and resilient alternative to the HotStuff/diem consensus protocol.","username":"mjalalzai","ts":"2021-10-04T07:22:34.637Z"}
{"msg":"Hello everyone. I am Mohammad Mussadiq Jalalzai and the lead Author of Fast-HotStuff which is a 2 round more efficient and resilient alternative to the HotStuff/diem consensus protocol.","username":"mjalalzai","ts":"2021-10-04T07:22:34.637Z"}
{"msg":"Hello everyone. I am Mohammad Mussadiq Jalalzai and the lead author of Fast-HotStuff which is a 2 round more efficient and resilient alternative to the HotStuff/diem consensus protocol.","username":"mjalalzai","ts":"2021-10-04T07:22:34.637Z"}
{"msg":"We want to implement this protocol on hyperledger platform. We have a team of 3 developer but non of us has previous development experience over hyperledger.","username":"mjalalzai","ts":"2021-10-04T07:24:22.433Z"}
{"msg":"We want to implement this protocol on hyperledger platform. We have a team of 3 developers but none of us has previous development experience of developing a consensus protocol for hyperledger.","username":"mjalalzai","ts":"2021-10-04T07:24:22.433Z"}
{"msg":"I wanted to ask if someone is interested who can join and help us with this.","username":"mjalalzai","ts":"2021-10-04T07:25:00.488Z"}
{"msg":"@mjalalzai if you want to target sawtooth 1.2, then the PBFT consensus engine implementation is going to be the closest reference","username":"amundson","ts":"2021-10-04T15:51:35.277Z"}
{"msg":"we are also starting to work on a consensus library written in Rust, which will be used first by Splinter and then later by Sawtooth 2","username":"amundson","ts":"2021-10-04T15:53:02.876Z"}
{"msg":"our goal for the consensus library is that it have a wider appeal to Rust developers than just distributed ledger development; development on it starts in earnest in about a month as we start to implement 2PC and PBFT there","username":"amundson","ts":"2021-10-04T15:58:43.306Z"}
{"msg":"Hi @amundson. Though I have not worked with Rust but I can ask other two developers in our team if they have experience with Rust. Moreover, I would like to know the reason behind choosing the PBFT?","username":"mjalalzai","ts":"2021-10-04T23:37:23.230Z"}
{"msg":"For example Fast-HotStuff that we proposed is simpler, efficient and resilient. That's is why in the recent version of FB diem they have borrowed some parts from our protocol (reduced three rounds to two, etc.). In case you guys are interested I can work together with explaining the protocol, though it will take me sometime to learn Rust.","username":"mjalalzai","ts":"2021-10-04T23:41:48.451Z"}
{"msg":"For example, Fast-HotStuff that we proposed is simpler, efficient, and resilient. That's is why in the recent version of FB diem they have borrowed some parts from our protocol (reduced three rounds to two, etc.). In case you guys are interested I can work together with explaining the protocol, though it will take me some time to learn Rust.","username":"mjalalzai","ts":"2021-10-04T23:41:48.451Z"}
{"msg":"@mjalalzai the consensus library will have implementations of several (maybe someday many) algorithms, we are just starting with 2PC and PBFT because those are the ones we use today.","username":"amundson","ts":"2021-10-19T13:39:14.177Z"}
{"msg":"Has joined the channel.","username":"ArunavaManna","ts":"2022-02-16T17:17:42.460Z","type":"uj"}
{"msg":"sudo apt-get install -y sawtooth sawtooth-pbft-engine    why i am not able to install the pbft engine using this command on ubuntu 16.04 xenial version?","username":"ArunavaManna","ts":"2022-02-16T17:17:43.136Z"}
{"msg":"[ ](https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=uC54qBnvaNyHb798T) hello, may i know are you using docker or normal ubuntu?","username":"ArunavaManna","ts":"2022-02-16T17:19:21.698Z","attachments":[{"message_link":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=uC54qBnvaNyHb798T","url":"https://chat.hyperledger.org/channel/sawtooth-consensus-dev?msg=uC54qBnvaNyHb798T","remote":true,"fileId":null,"fileName":null}]}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:54.856Z","type":"room_changed_topic"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:54.865Z","type":"room_changed_description"}
{"msg":"","username":"rjones","ts":"2022-03-23T17:35:54.869Z","type":"room_changed_announcement"}
