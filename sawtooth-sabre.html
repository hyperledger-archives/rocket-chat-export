<meta http-equiv="content-type" content="text/html; charset=utf-8"><p><strong>rjones</strong> (Mon, 07 May 2018 20:39:04 GMT):<br/>
amundson
</p>
<p><strong>rjones</strong> (Mon, 07 May 2018 20:39:19 GMT):<br/>
<i>Has left the channel.</i>
</p>
<p><strong>amundson</strong> (Tue, 08 May 2018 01:31:29 GMT):<br/>
<i>User <em>User_1</em> added by <em>amundson</em>.</i>
</p>
<p><strong>amundson</strong> (Tue, 08 May 2018 01:31:29 GMT):<br/>
<i>User <em>User_2</em> added by <em>amundson</em>.</i>
</p>
<p><strong>amundson</strong> (Tue, 08 May 2018 01:31:29 GMT):<br/>
<i>User <em>User_3</em> added by <em>amundson</em>.</i>
</p>
<p><strong>amundson</strong> (Tue, 08 May 2018 01:31:29 GMT):<br/>
<i>User <em>User_4</em> added by <em>amundson</em>.</i>
</p>
<p><strong>cliveb</strong> (Tue, 08 May 2018 18:24:18 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>grkvlt</strong> (Tue, 08 May 2018 23:35:40 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>boydjohnson</strong> (Thu, 10 May 2018 14:39:54 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>amundson</strong> (Thu, 10 May 2018 22:47:30 GMT):<br/>
Sabre Announcement: https://lists.hyperledger.org/g/sawtooth/message/280
</p>
<p><strong>pankajgoyal</strong> (Fri, 11 May 2018 06:09:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>SjirNijssen</strong> (Fri, 11 May 2018 09:55:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>SjirNijssen</strong> (Fri, 11 May 2018 09:55:47 GMT):<br/>
@amundson Congratulations. Excellent initiative.
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 14:27:42 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>amundson</strong> (Fri, 11 May 2018 14:37:41 GMT):<br/>
@SjirNijssen thanks, we are excited about it
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 14:42:53 GMT):<br/>
where can I read about the background for this and the elapsed timeline from inception? I am interested in learning who created this, why it was created, design discussions, Hyperledger proposal for acceptance, and background on the submitter(s) and key developers and maintainers. Thanks. 
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 15:12:29 GMT):<br/>
@chainsaw that's a lot of questions. Can you help us understand why you want to know all of those things?
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 17:46:58 GMT):<br/>
I want to know all of these things so I can understand who to follow and where to go to follow and potentially participate. I want to know all of these things so I can understand how this project was created and why. I want to know who are the influencers and authoritative developers that maintain, guide, and decide what will and will not be accepted.
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 17:51:00 GMT):<br/>
It can be frustrating trying to come put t o speed on Hyperledger projects without first understanding the fundamental concepts, design decisions, participants, assignments, roadmap, etc. -- the rocket chat and the repos do not provide forum in any efficent and effective manner for this discovery and orientation process. 
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 17:51:00 GMT):<br/>
It can be frustrating trying to come up to speed on Hyperledger projects without first understanding the fundamental concepts, design decisions, participants, assignments, roadmap, etc. -- the rocket chat and the repos do not provide forum in any efficent and effective manner for this discovery and orientation process. 
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 17:51:00 GMT):<br/>
It can be frustrating trying to come up to speed on Hyperledger projects without first understanding the fundamental concepts, design decisions, participants, assignments, roadmap, etc. -- the rocket chat and the repos do not provide a forum in any efficent and effective manner for this discovery and orientation process. 
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 17:54:58 GMT):<br/>
Here's the documentation on Sabre which should give you an idea of the design intent: https://sawtooth.hyperledger.org/docs/sabre/releases/latest/
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 17:56:12 GMT):<br/>
Like for example "who is jsmitchell? what role does he perform? what projects does he work on? is he work for a hyperledger member? if so which one? This information allows me to determine the who, what and how tp communicate with and potentially collaborate with. Does this make any sense? 
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 17:56:18 GMT):<br/>
There are members of the development team here in this channel that can help answer questions. But, I'm afraid you may be expecting a level of rigor around project documentation and justification that might not be in place.
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 17:56:56 GMT):<br/>
Sure, it makes sense, but the people here have no obligation to document that or even provide that information. So, don't be too upset if it's not forthcoming.
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 17:59:07 GMT):<br/>
I work for Bitwise IO -  we've done a lot of work with Intel and Cargill on Hyperledger Sawtooth, in addition to making a number of contributions ourselves. Sawtooth Sabre is a contribution of Cargill, and some members of the team that worked on it are in this channel.
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:00:33 GMT):<br/>
This channel is a great place to collaborate on Sabre
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:01:09 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=m8vyuv7Kc957H9nAj) @jsmitchell I thought all projects had to submit a paper or charter to Hyperledger and there was a process (with trackable conversations) regarding the acceptance of the project into Hyperledger--I would like to read the documents and discussion threads for sawtooth-sabre.
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:02:22 GMT):<br/>
Ah, I see. This is not a separate top-level project. It's part of sawtooth, just managed in its own repository.
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:03:07 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=ZwmudbikEqbxirY34) @jsmitchell Super! Is Cargill an Hyperledger member? I could not find them in the member list.
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:03:31 GMT):<br/>
I don't believe they are members. Contributions can come from anywhere, member or not.
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:06:05 GMT):<br/>
Awesome! Thank you @jsmitchell. I hope I have not been a pain or annoyance. I appreciate your patience and informative replies :)
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:06:28 GMT):<br/>
no problem! Excited to have you dig in and learn/contribute on Sabre!
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:06:37 GMT):<br/>
So TPs are welcome?
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:06:52 GMT):<br/>
TP?
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:07:06 GMT):<br/>
Transaction Processors
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:07:33 GMT):<br/>
Well, Sabre _is_ a transaction processor that runs wasm bytecode stored on chain
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:07:38 GMT):<br/>
that's in the repo
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:08:14 GMT):<br/>
https://github.com/hyperledger/sawtooth-sabre
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:08:24 GMT):<br/>
https://github.com/hyperledger/sawtooth-sabre/tree/master/tp/src
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:08:35 GMT):<br/>
written in Rust
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:09:09 GMT):<br/>
the idea is that you import the sdk, write your code, and then compile down to wasm bytecode
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:09:33 GMT):<br/>
that bytecode is then loaded to state in a transaction and then executed later by a different transaction
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:09:40 GMT):<br/>
Yep, so TPs can be contributed, because it seems that TPs are the area where Sawtooth has the greatest opportunity and a rich ecosystem of TPs will propel Sawtooth to the #1 slot.
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:10:04 GMT):<br/>
the sabre transaction processor deals with all the complexity of storing, loading, and executing the wasm contracts
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:10:23 GMT):<br/>
yes, absolutely - cool applications which use sabre would be great to see!
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:10:54 GMT):<br/>
here's how to write sabre smart contracts: https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:12:44 GMT):<br/>
I like the WASM approach. Great promise. 
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:12:59 GMT):<br/>
I'll clone the repo and get to work :)
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:13:14 GMT):<br/>
fantastic!
</p>
<p><strong>chainsaw</strong> (Fri, 11 May 2018 18:13:17 GMT):<br/>
Thanks @jsmitchell 
</p>
<p><strong>jsmitchell</strong> (Fri, 11 May 2018 18:13:45 GMT):<br/>
of course!
</p>
<p><strong>BenBetts</strong> (Fri, 11 May 2018 18:20:43 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tkuhrt</strong> (Fri, 11 May 2018 23:02:08 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>svanschalkwyk</strong> (Fri, 18 May 2018 21:13:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Johnjam</strong> (Tue, 22 May 2018 07:04:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kelly_</strong> (Thu, 24 May 2018 20:11:28 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>benoit.razet</strong> (Fri, 25 May 2018 17:48:33 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Gandalf</strong> (Sun, 27 May 2018 04:07:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>benoit.razet</strong> (Tue, 29 May 2018 20:58:18 GMT):<br/>
Hi, I got the chance to review the RFC for Sabre. It's super interesting! It addresses a number of issues inherent to bare sawtooth, like the governance of smart contracts deployment on a network or the namespace restriction.
</p>
<p><strong>amundson</strong> (Wed, 30 May 2018 05:20:43 GMT):<br/>
@benoit.razet Sawtooth does have a fairly good governance capability for which transaction processors must exist at any given time, which provides the ability to do enterprise-level things like rolling upgrades in a traditional software management sense; but while that is appropriate for sawtooth itself and transaction processors, we definitely wanted an easier way to deploy smart contracts without systems administrator involvement and have them safely executed in a sandboxed vm.
</p>
<p><strong>tim-d-blue</strong> (Thu, 31 May 2018 15:13:58 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rys_rahul</strong> (Fri, 08 Jun 2018 09:06:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>JonathanLevi</strong> (Mon, 11 Jun 2018 17:12:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>markg 17</strong> (Mon, 11 Jun 2018 22:39:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>paulananth</strong> (Fri, 15 Jun 2018 15:56:02 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>tungdt_socoboy</strong> (Thu, 21 Jun 2018 11:45:42 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>mengan</strong> (Wed, 27 Jun 2018 12:11:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>hanen</strong> (Thu, 05 Jul 2018 09:49:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>pschwarz</strong> (Fri, 06 Jul 2018 18:43:24 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>shannynalayna</strong> (Tue, 10 Jul 2018 15:50:11 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>honeyjills</strong> (Fri, 20 Jul 2018 05:10:47 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>honeyjills</strong> (Fri, 20 Jul 2018 05:13:47 GMT):<br/>
Hi everyone , Is it possible  to get the activity information of DApps deployed in Ethereum smart contract into the sawtooth network?. The transaction data will be stored in Sawtooth. I am not sure how the WASM mechanism works. Just a new comer.  
</p>
<p><strong>zac</strong> (Fri, 20 Jul 2018 12:06:53 GMT):<br/>
you can load anything you want into the Sawtooth network
</p>
<p><strong>zac</strong> (Fri, 20 Jul 2018 12:07:39 GMT):<br/>
You'll almost certainly want a client to record that information and feed it into transactions
</p>
<p><strong>zac</strong> (Fri, 20 Jul 2018 12:08:41 GMT):<br/>
That doesn't really have anything to do with Sabre though. Smart contracts are more a deployment strategy than anything. Do you want to store the business logic of your app on-chain or off-chain? The logic itself can be identical.
</p>
<p><strong>underbell</strong> (Tue, 24 Jul 2018 06:28:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Gabe</strong> (Mon, 20 Aug 2018 04:14:36 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>alchmeina</strong> (Thu, 23 Aug 2018 14:18:17 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>sureshtedla</strong> (Fri, 31 Aug 2018 17:33:13 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 13:12:50 GMT):<br/>
Hi, I tried to build the sabre-tp image with `docker-compose -f docker-compose-installed.yaml build sabre-tp` and run into docker credential issue
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 13:13:23 GMT):<br/>

<br/><a href="./assets/TmT4XMT7jfx4cY4H8-Screen Shot 2018-09-10 at 9.12.28 AM.png">Screen Shot 2018-09-10 at 9.12.28 AM.png</a>
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 13:25:03 GMT):<br/>
any idea
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 13:25:03 GMT):<br/>
any idea?
</p>
<p><strong>agunde</strong> (Mon, 10 Sep 2018 13:26:58 GMT):<br/>
@benoit.razet @rbuysse is going to take a look when he gets in.
</p>
<p><strong>rbuysse</strong> (Mon, 10 Sep 2018 13:27:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 13:27:12 GMT):<br/>
thanks!
</p>
<p><strong>rbuysse</strong> (Mon, 10 Sep 2018 14:07:47 GMT):<br/>
Hm. can you run `docker logout` and then try again?
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 16:30:07 GMT):<br/>
@rbuysse I `docker logout` and same pb :(
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 16:34:38 GMT):<br/>
I'm going to look on my side and see if there is anything suspicious with my docker.
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 16:34:59 GMT):<br/>
it was able to get the hyperledger:1.0 image fine
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 16:34:59 GMT):<br/>
it was able to get the `hyperledger/sawtooth-validator:1.0` image fine
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 16:43:26 GMT):<br/>
ok, I have the same pb when building the validator. So it sounds like something on my side.
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 16:52:16 GMT):<br/>
no really relevant to this channel, but I followed this link https://github.com/docker/docker-credential-helpers/issues/65 and it fixed the issue. Sorry for bothering you with docker related issue
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 16:52:48 GMT):<br/>
sabre-tp is being built
</p>
<p><strong>rbuysse</strong> (Mon, 10 Sep 2018 16:59:56 GMT):<br/>
:clap: 
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 19:23:46 GMT):<br/>
Everything went well! I read the docs and followed the tutorial with intkey and intkey-multiply. If I understand correctly, the sabre-sdk allows to produce either a traditional rust TP or a wasm sabre smart contract, that's a cool feature!
</p>
<p><strong>benoit.razet</strong> (Mon, 10 Sep 2018 19:24:41 GMT):<br/>
all the commands run as expected. The only oops was trying to run some command before the rust compiler was done in the container
</p>
<p><strong>amundson</strong> (Tue, 11 Sep 2018 17:29:05 GMT):<br/>
@benoit.razet yeah, we aren't sure how to solve that rust-compiler-still-running-but-not-obvious problem
</p>
<p><strong>benoit.razet</strong> (Tue, 11 Sep 2018 17:39:36 GMT):<br/>
yeah, the program `intkey_multiply` did not exist when I tried to run the command from the docs, so I looked for the binary in other places to see if the path was incorrect or what, and then saw the logs with all-the-things being compiled. All cool! Now I'm looking into writing my first sabre smart contract, a simple one (while keeping an eye on Florence and all the updates)
</p>
<p><strong>arsulegai</strong> (Tue, 11 Sep 2018 19:00:52 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cecchi</strong> (Wed, 12 Sep 2018 19:01:33 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>benoit.razet</strong> (Fri, 14 Sep 2018 15:00:43 GMT):<br/>
quick report on my ongoing exploration of sabre. I was able to modify intkey-multiply, to do my own simple (very simple) smart contract, with different namespace permission. I'm surprised it worked pretty well. Once I figured how to please the type system of Rust, it just worked as expected. I think now I'll dig a little more into the details of the framework. 
</p>
<p><strong>jsmitchell</strong> (Fri, 14 Sep 2018 15:40:07 GMT):<br/>
heh
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 15:58:33 GMT):<br/>
@benoit.razet cool. I'm all ears in terms of potential features or changes.
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 16:14:11 GMT):<br/>
@amundson cool! I keep experimenting with the workflow for upload/ns/perm/execute. Looking into the play between the inputs/outputs at the sabre payload level or sawtooth txn level. Right now, I'm looking into the absolute necessity of having inputs/outputs in the ExecuteContractAction, and wondering if in the sabre tp, it would be possible to pass the inputs/outputs from the sawtooth txn itself to check the permission `https://github.com/hyperledger/sawtooth-sabre/blob/master/tp/src/handler.rs#L930` I'm still looking, contemplating the design
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 16:18:16 GMT):<br/>
Also discovered that in the NamespaceRegistry the Permissions do not include the `version`, only the `name`. At first I thought it was curious because the permission not fine grained upto the `version`. But then I realized it might be a good design, for not having to update the namespace registry at each bump version, if there are no real changes.
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 16:18:16 GMT):<br/>
Also discovered that in the NamespaceRegistry the Permissions do not include the `version`, only the `name`. At first I thought it was curious because it makes the permission not fine grained upto the `version`. But then I realized it might be a good design, allowing not having to update the namespace registry at each bump version, if there are no real changes.
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 16:57:31 GMT):<br/>
@benoit.razet the sawtooth txn itself will need to include more than the sabre transaction, since it has to include the inputs/outputs for loading the smart contract from state
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 16:58:00 GMT):<br/>
though I guess you could subtract those and pass the rest perhaps
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 16:59:57 GMT):<br/>
the omission of version is is for the reason you mention; we are basically delegating to the owner of the contract, not the specific contract itself (if we did it to the specific contract, we would have used a hash of it)
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 17:00:33 GMT):<br/>
whether it is a good design, well, that is certainly up for debate
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 17:01:43 GMT):<br/>
I like to think of it as a good starting point to figure out what we want the design to be.
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 17:14:26 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=q3kgnzsEtEzqcZxEK) that makes sense!
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 17:16:58 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=cP9Nc9BTxbGd7nHrg) It's a pretty good starting point! A lot of thoughts on the design already. And the implementation looks pretty solid too, taking care of a lot of details and corner cases apparently.
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 17:28:44 GMT):<br/>
@benoit.razet we have a few items on the roadmap that we want to do. one is solve the halting problem (probably by counting costs of instructions, not unlike the EVM but fixed-"gas limit", though we are going to try and stick to the solution Parity uses if we can); and then attempting to address determinism (removing the ability to do truly random code execution) - again, by trying to stick to approaches Parity has taken, if possible.
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 17:31:35 GMT):<br/>
Ahah, I did not think about the determinism! and that's one that is not so easy to solve, right? How do you prevent side-effecty/probabilistic smart contract. Is there a subset of the wasm machine codes that can identified to be deterministic?
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 17:33:09 GMT):<br/>
I'm not too concern on our side, because we could still lock the contract registry to the `sawtooth.swa.admin` but it is an interesting problem!
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 17:33:09 GMT):<br/>
I'm not too concerned on our side, because we could still lock the contract registry to the `sawtooth.swa.admin` but it is an interesting problem!
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 17:47:31 GMT):<br/>
In principle, I'm sure it's too naive, if there was such a subset of wasm opcodes that is deemed deterministic, then the CreateContractAction tp could analyze the `contract` and fail the transaction if it included an opcode that is deemed nondeterministic. I don't understand yet the boundary between the wasm code and Rust/C, for example whether the get_state and set_state functions are wasm code or rust/C. two pointers I was looking at:
https://github.com/hyperledger/sawtooth-sabre/blob/master/sdk/src/lib.rs#L67
https://github.com/hyperledger/sawtooth-sabre/blob/master/sdk/src/externs.rs#L20
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 17:48:24 GMT):<br/>
Our first part of that will be research, so we don't have the answer yet. I assume it amounts to making rand() not work or more likely making it predictable based on the context the transaction is run in.
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 17:49:06 GMT):<br/>
yeah, it could involve rewriting the smart contract like that
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 17:50:46 GMT):<br/>
@benoit.razet those functions are exposed so that the code running within the WASM container can call them. essentially, you start with a fully sandboxed environment and then you expose specific functions to it. those functions are the most likely attack surface for sabre as a result (for executing untrusted code).
</p>
<p><strong>amundson</strong> (Mon, 17 Sep 2018 17:53:06 GMT):<br/>
@RyanBanks and @agunde know way more implementation details, so they should call me out if I say something incorrect
</p>
<p><strong>RyanBanks</strong> (Mon, 17 Sep 2018 17:53:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 18:01:09 GMT):<br/>
Thanks @amundson . All this is very exciting!
</p>
<p><strong>benoit.razet</strong> (Mon, 17 Sep 2018 19:01:47 GMT):<br/>
Any opinion whether it's too soon to start working on deploying it in a running environment, or it is at the same level of robustness/stability as other sawtooth components?
</p>
<p><strong>amundson</strong> (Tue, 18 Sep 2018 03:25:07 GMT):<br/>
@benoit.razet we haven't committed to backward compatibility yet (of the permission design for example), but we are trying to use it as much as possible when doing app development so we can uncover problems. we also tend to give ourselves an "out" and make apps work as both sabre contracts and TPs... for now.
</p>
<p><strong>benoit.razet</strong> (Tue, 18 Sep 2018 11:56:06 GMT):<br/>
Thanks @amundson that's helpful information.
</p>
<p><strong>benoit.razet</strong> (Mon, 24 Sep 2018 16:17:09 GMT):<br/>
While trying to run the example using the `installed` container, I noticed some discrepancies between the bash command starting the validator between ./sawtooth-sabre/docker-compose.yaml` and `./sawtooth/docker-compose-installed.yaml`. The main difference is that in the installed mode, the setting entry `sawtooth.swa.administrators` is not set in the genesis block. Is it on purpose or does it need a shineup?
</p>
<p><strong>benoit.razet</strong> (Mon, 24 Sep 2018 16:17:09 GMT):<br/>
While trying to run the example using the `installed` container, I noticed some discrepancies between the bash command starting the validator between `./sawtooth-sabre/docker-compose.yaml` and `./sawtooth/docker-compose-installed.yaml`. The main difference is that in the installed mode, the setting entry `sawtooth.swa.administrators` is not set in the genesis block. Is it on purpose or does it need a shineup?
</p>
<p><strong>benoit.razet</strong> (Mon, 24 Sep 2018 16:17:09 GMT):<br/>
While trying to run the example using the `installed` container, I noticed some discrepancies between the bash command starting the validator between `./sawtooth-sabre/docker-compose.yaml` and `./sawtooth-sabre/docker-compose-installed.yaml`. The main difference is that in the installed mode, the setting entry `sawtooth.swa.administrators` is not set in the genesis block. Is it on purpose or does it need a shineup?
</p>
<p><strong>benoit.razet</strong> (Mon, 24 Sep 2018 18:11:33 GMT):<br/>
https://github.com/hyperledger/sawtooth-sabre/blob/master/docker-compose.yaml#L33
</p>
<p><strong>amundson</strong> (Mon, 24 Sep 2018 18:53:52 GMT):<br/>
@rbuysse do you recall if that was intentional? ^
</p>
<p><strong>rbuysse</strong> (Mon, 24 Sep 2018 18:56:28 GMT):<br/>
it was not deliberately omitted 
</p>
<p><strong>agunde</strong> (Wed, 26 Sep 2018 14:17:49 GMT):<br/>
I am going to be merging this change shortly https://github.com/hyperledger/sawtooth-sabre/pull/11 so if anyone is using sabre from master you will need to add a step to create the namespace registry first and you need to use the admin key to do so. The docs have been updated for the change. Let me know if you have any questions.
</p>
<p><strong>agunde</strong> (Wed, 26 Sep 2018 19:46:22 GMT):<br/>
^ that has been merged
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 07:04:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 07:05:15 GMT):<br/>
I have my Sabre TP running, and also installed the sabre CLI
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 07:06:13 GMT):<br/>
how can I submit an smart contract to the sawtooth blochchain?
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 07:24:47 GMT):<br/>
I am reading the intkey tutorial at https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#starting-the-network but I don´t find where you define the action of "multiply" values
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 11:59:59 GMT):<br/>
I have created a contract registry and, with the same key, I try to sabre upload --filename ../example/intkey_multiply/intkey_multiply.yaml --url http://rest-api:9708 but I get the error "Only owners can submit new versions of contracts"
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 12:08:19 GMT):<br/>
And I am the owner
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:01:04 GMT):<br/>
How did you create the contract registry?
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:13:08 GMT):<br/>
./sabre cr --create intkey_multiply --owner /root/.sawtooth/keys/root.priv --url http://127.0.0.1:8008

</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:14:19 GMT):<br/>
it needs to to be the pub key not the priv key
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:22:01 GMT):<br/>
ok sorry
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:23:16 GMT):<br/>
Its no problem. :)
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:28:14 GMT):<br/>
also invalid message again...
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:31:08 GMT):<br/>
how can I remove the smart contract?
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:31:29 GMT):<br/>
contract registry sorry
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:34:03 GMT):<br/>
or update the keys authorized to this contact registry
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:34:29 GMT):<br/>
sabre cr --delete intkey_multiply
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:34:29 GMT):<br/>
`sabre cr --delete intkey_multiply`
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:34:48 GMT):<br/>
Need to be an owner or admin to do so, and there cannot be any contract versions in the registry.
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:36:13 GMT):<br/>
or `sabre cr --update intkey_multiply --owner<key>` to update owners
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:36:21 GMT):<br/>
thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Error("invalid type: integer `404`, expected struct Link", line: 1, column: 3)', libcore/result.rs:945:5
note: Run with `RUST_BACKTRACE=1` for a backtrace
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:39:02 GMT):<br/>
Looks like you got an 404 back from the rest-api. Check the rest-api and validator logs for possible reasons. 
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:39:11 GMT):<br/>
I am not the owner of intkey_multiply, but I am a sawtooth.swa.administrators:
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:40:38 GMT):<br/>
so, I could delete the contract registry, isnt it?
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 13:45:22 GMT):<br/>
so, I could delete the contract registry, correct?
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 13:59:06 GMT):<br/>
Correct
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:00:24 GMT):<br/>
I will revert my nodes to a previous snapshot
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:00:56 GMT):<br/>
error[E0432]: unresolved import `platform::Signal` when compiling the smart contract, any idea?

</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 14:03:51 GMT):<br/>
No, I've never seen that before.
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:05:55 GMT):<br/>

error[E0046]: not all trait items implemented, missing: `encode`
    --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/rustc-serialize-0.3.24/src/serialize.rs:1358:1

</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 14:09:39 GMT):<br/>
What are you trying to compile?
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:10:54 GMT):<br/>
in sawtooth-sabre/tp
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:11:01 GMT):<br/>
cargo build --target wasm32-unknown-unknown --release

</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:13:41 GMT):<br/>
to compile the smart contract
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:14:17 GMT):<br/>
sorry
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 14:14:18 GMT):<br/>
The sabre tp should not be compiled into wasm. Only the smart contracts (tp) that sabre should run. You should just use cargo build for building the sabre transaction processor. 
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:14:20 GMT):<br/>
I was in the incorrect folder
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:25:37 GMT):<br/>
Now I Have created the contract registry with the public key owner
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:25:38 GMT):<br/>
./sabre cr --create intkey_multiply --owner /root/.sawtooth/keys/root.pub --url http://127.0.0.1:8008 
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:26:27 GMT):<br/>
and still this message: "message": "Only owners can submit new versions of contracts 03e24f31a20246ac7f4f8d947df7287a53885725be82dff6443744b64206749621"

</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 14:29:36 GMT):<br/>
Looks like you are giving --owners a file path string instead of the public key string. 
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:30:45 GMT):<br/>
umm
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 14:30:49 GMT):<br/>
its true
</p>
<p><strong>jsmitchell</strong> (Mon, 01 Oct 2018 14:35:15 GMT):<br/>
I'm pretty sure if you compile the sabre tp into a smart contract and deploy it on sabre, you will open a rift in spacetime
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:06:10 GMT):<br/>
I have upload the contract and set the permissions, now when I execute it y receive
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:06:11 GMT):<br/>
"message": "Wasm contract returned invalid transaction: intkey_multiply, 1.0"

</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:06:27 GMT):<br/>
./sabre exec --contract intkey_multiply:1.0 --payload /root/sawtooth-sabre/example/intkey_multiply/cli/target/debug/payload  --inputs  1cf126 --outputs  1cf126 --url http://127.0.0.1:8008

</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 16:08:07 GMT):<br/>
Did you pre-populate the intkey state first? 
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:10:14 GMT):<br/>
mmm no
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:10:34 GMT):<br/>
what is the command for it?
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 16:13:03 GMT):<br/>
Take a look at the Sabre application developer guide it walks through that here: https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#intkey-state
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:15:57 GMT):<br/>
so, I need a intkey transaction processor?
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:16:11 GMT):<br/>
how many transaction processor are necessary to run sabre smart contracts?
</p>
<p><strong>agunde</strong> (Mon, 01 Oct 2018 16:19:17 GMT):<br/>
Intkey is required to run the intkey_multiply example specifically. If you are running an independent smart contract you would only need settings and sabre currently.
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:26:58 GMT):<br/>
thanks @agunde 
</p>
<p><strong>Dvi 19</strong> (Mon, 01 Oct 2018 16:45:27 GMT):<br/>
is it possible to know the size of a block? this block contains the upload of a sabre smart contact.
</p>
<p><strong>Dvi 19</strong> (Tue, 02 Oct 2018 07:44:58 GMT):<br/>
How can I start the intkey transaction processor?
</p>
<p><strong>benoit.razet</strong> (Tue, 02 Oct 2018 12:10:20 GMT):<br/>
Hi @Dvi 19, it is started by the docker-compose file `example/intkey_multiply/docker-compose.yaml` when the network is started https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#starting-the-network

</p>
<p><strong>benoit.razet</strong> (Tue, 02 Oct 2018 12:10:55 GMT):<br/>
the container for the intkey transaction processor is at https://github.com/hyperledger/sawtooth-sabre/blob/master/example/intkey_multiply/docker-compose.yaml#L18
</p>
<p><strong>benoit.razet</strong> (Tue, 02 Oct 2018 12:20:05 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=ftWRWXG4XcuToz9aD) I'm not sure there is a convenience method to get the exact size of a block, that might be more a question for the #sawtooth channel. Using the rest-api you can get a json version of blocks and get the size of that, which relates to the block originally encoded as protobuff. Otherwise, to bypass the jsonification of the block, it's possible to connect directly to the validator through zmq and get the exact block which is a protobuff.
</p>
<p><strong>benoit.razet</strong> (Tue, 02 Oct 2018 13:40:38 GMT):<br/>
@agunde @amundson does Sabre accept external contribution PRs?
</p>
<p><strong>benoit.razet</strong> (Tue, 02 Oct 2018 13:43:15 GMT):<br/>
I thought I could put a PR with small tweaks based on my recent experience with Sabre. Nothing major, mostly adjusting the docker-compose-installed.yaml that allows to run the tutorial in installed mode and some minor fixes to the documentation.
</p>
<p><strong>benoit.razet</strong> (Tue, 02 Oct 2018 13:47:55 GMT):<br/>
by the way I was able to test the latest version master with the new `cr` command on the example I developed and it worked :thumbsup: 
</p>
<p><strong>jsmitchell</strong> (Tue, 02 Oct 2018 13:51:55 GMT):<br/>
PRs are always welcome
</p>
<p><strong>agunde</strong> (Tue, 02 Oct 2018 13:53:51 GMT):<br/>
Glad it worked for ya. Yes, As jsmitchell said PRs are always welcome, especially ones that fix the docs. 
</p>
<p><strong>benoit.razet</strong> (Tue, 02 Oct 2018 19:46:01 GMT):<br/>
here is the PR https://github.com/hyperledger/sawtooth-sabre/pull/20
I hope it's helpful
</p>
<p><strong>Dvi 19</strong> (Sun, 14 Oct 2018 15:14:52 GMT):<br/>
what is the difference between sabre and seth for using smart contracts in sawtooth?ç
</p>
<p><strong>Dvi 19</strong> (Mon, 15 Oct 2018 06:41:50 GMT):<br/>
what do you recommend? what is the easy way of implementing smart contracts?
</p>
<p><strong>agunde</strong> (Mon, 15 Oct 2018 12:54:05 GMT):<br/>
Sabre uses WASM code for smart contracts and are very simular to a normal Sawtooth Transaction processor. Seth uses EVM smart contracts. If you are familiar with how to write a Sawtooth Transaction processor in Rust it is very easy to convert it to a Sabre smart contract. (Assuming all your dependency can be compiled into WASM). If you are familiar with EVM smart contracts that may be easier for you. 
</p>
<p><strong>Dvi 19</strong> (Mon, 15 Oct 2018 13:12:37 GMT):<br/>
thanks @agunde 
</p>
<p><strong>agunde</strong> (Thu, 18 Oct 2018 15:48:55 GMT):<br/>
@grapebaba can you elaborate what you mean by "the sabre project does not support smart contract transaction family right now"
</p>
<p><strong>grapebaba</strong> (Thu, 18 Oct 2018 15:48:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>achenette</strong> (Thu, 18 Oct 2018 16:52:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>grapebaba</strong> (Fri, 19 Oct 2018 01:56:48 GMT):<br/>
@agunde i checked code, seems it only implement a interkey transaction family right now? Am I missing something?
</p>
<p><strong>RealDeanZhao</strong> (Fri, 19 Oct 2018 02:37:47 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>prithvikp</strong> (Fri, 19 Oct 2018 19:45:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>prithvikp</strong> (Fri, 19 Oct 2018 21:26:09 GMT):<br/>
@grapebaba Do we have any example with sabre tp and how it can be used with a smart contract. Currently what I see is that example even in documentation needs sabre SDK to compile
</p>
<p><strong>agunde</strong> (Mon, 22 Oct 2018 13:19:55 GMT):<br/>
@grapebaba @prithvikp the provided example is intkey-multiply but you can convert any rust transaction processor easily into a sabre smart contract using the Sabre SDK and following the provided documentation (assuming the dependencies can be converted into wasm). 
</p>
<p><strong>Dan</strong> (Mon, 22 Oct 2018 14:48:12 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Dan</strong> (Mon, 22 Oct 2018 14:49:27 GMT):<br/>
I think the question in this thread https://lists.hyperledger.org/g/sawtooth/message/454
Is about the development model with Sabre. Like what needs to be installed.
</p>
<p><strong>prithvikp</strong> (Mon, 22 Oct 2018 16:43:37 GMT):<br/>
Thanks @Dan. @agunde I am aware of example and also have it running. But the development model relies on sabre sdk to be available locally.    
</p>
<p><strong>agunde</strong> (Mon, 22 Oct 2018 16:49:52 GMT):<br/>
In rust you can add the following line to your Cargo.toml file `sabre-sdk = {git = "https://github.com/hyperledger/sawtooth-sabre"}` to fetch it from github so it does not have to be local. Sabre is not at a 1.0 yet so the sdk has not been added as a crate yet.  
</p>
<p><strong>prithvikp</strong> (Mon, 22 Oct 2018 16:51:25 GMT):<br/>
I tried using git and it failed on me. 
</p>
<p><strong>prithvikp</strong> (Mon, 22 Oct 2018 16:51:35 GMT):<br/>
I will try again.
</p>
<p><strong>agunde</strong> (Mon, 22 Oct 2018 16:52:22 GMT):<br/>
That may have been do to a bug we fixed recently. 
</p>
<p><strong>agunde</strong> (Mon, 22 Oct 2018 16:52:22 GMT):<br/>
That may have been due to a bug we fixed recently. 
</p>
<p><strong>prithvikp</strong> (Mon, 22 Oct 2018 17:43:52 GMT):<br/>
Thanks @agunde I will check it again and see if I can get it up and running without a local copy
</p>
<p><strong>Dan</strong> (Mon, 22 Oct 2018 18:45:39 GMT):<br/>
Once you verify if that works could you post the answer to the list (the bit above about editing the cargo file) ?
</p>
<p><strong>prithvikp</strong> (Mon, 22 Oct 2018 20:47:54 GMT):<br/>
sure thanks
</p>
<p><strong>prithvikp</strong> (Fri, 26 Oct 2018 15:51:17 GMT):<br/>
@agunde I was able to use sabre-sdk and was able to compile. However I am not clear is how to use the smart contract to work with sabre-tp. Do I need to use command line (sabre cli). The documentation also does not give examples with sabre-tp but only about cli 
</p>
<p><strong>prithvikp</strong> (Fri, 26 Oct 2018 15:51:17 GMT):<br/>
@agunde I was able to use sabre-sdk and was able to use sdk however it is failing at this line `cfg_if!`error: cannot find macro `cfg_if!` in this scope. However I am not clear is how to use the smart contract to work with sabre-tp. Do I need to use command line (sabre cli). The documentation also does not give examples with sabre-tp but only about cli 
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:03:15 GMT):<br/>
You need to include cfg_if in your Cargo.toml file `cfg-if = "0.1"` or you can use` #[cfg(target_arch = "wasm32")]` for every line but that gets hard to read.
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:03:15 GMT):<br/>
You need to include cfg_if in your Cargo.toml file `cfg-if = "0.1"`  and add a`#[macro_use]` before the import line or you can use` #[cfg(target_arch = "wasm32")]` for every line but that gets hard to read.
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:04:20 GMT):<br/>
You can use the sabre-cli to upload the the contract as described here. https://sawtooth.hyperledger.org/docs/sabre/nightly/master/application_developer_guide.html#uploading-contract
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:06:19 GMT):<br/>
It is not clear to me what information you are looking for when you say "The documentation also does not give examples with sabre-tp but only about cli"
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:06:39 GMT):<br/>
The cli is submitting the transactions described in https://sawtooth.hyperledger.org/docs/sabre/nightly/master/sabre_transaction_family.html 
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:09:11 GMT):<br/>
Also note there is working being done to improve the documentation by @achenette. PRs and feed back is welcome. 
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:09:11 GMT):<br/>
Also note there is working being done to improve the documentation by @achenette  . PRs and feed back is welcome. 
</p>
<p><strong>prithvikp</strong> (Fri, 26 Oct 2018 16:13:46 GMT):<br/>
Sorry for not being clear. I am actually including cfg-if in cargo.toml. [dependencies]
clap = "2"
protobuf = "2"
cfg-if = "0.1"
hex = "0.3.1"
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:16:16 GMT):<br/>
I just edited the comment to say you also need to add ``#[macro_use]`` above the import line for cfg_if
</p>
<p><strong>prithvikp</strong> (Fri, 26 Oct 2018 16:17:12 GMT):<br/>
Regarding documentation I was confused regarding the tp ... So if I read it right then we always use CLI to submit smart contract. I was thinking there is a similar pattern to how sawtooth does with batches wherein you can submit smart contract as part of non cli approach like passing a file name through a rest api 
</p>
<p><strong>prithvikp</strong> (Fri, 26 Oct 2018 16:17:21 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=255wJEJJP8346WwRq) @agunde Thanks will try that
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:24:04 GMT):<br/>
Sabre does not currently have its own api. The cli currently creates the Sabre Transaction, creates the Batch and Batch List and then submits it to the validator's rest-api. You could create the Transactions/Batch yourself if you wish but the cli makes it easier for you. 
</p>
<p><strong>agunde</strong> (Fri, 26 Oct 2018 16:24:04 GMT):<br/>
Sabre does not currently have its own rest api. The cli currently creates the Sabre Transaction, creates the Batch and Batch List and then submits it to the validator's rest-api. You could create the Transactions/Batch yourself if you wish but the cli makes it easier for you. 
</p>
<p><strong>prithvikp</strong> (Fri, 26 Oct 2018 16:25:03 GMT):<br/>
got it
</p>
<p><strong>boydjohnson</strong> (Mon, 29 Oct 2018 20:55:12 GMT):<br/>
Does the sawtooth rest api have a limit on how large a message it will receive? I am working on the settings-tp rust re-write and testing it with sabre.
</p>
<p><strong>boydjohnson</strong> (Mon, 29 Oct 2018 20:56:05 GMT):<br/>
When I do the `sabre upload` command I don't see any output in the logs.
</p>
<p><strong>boydjohnson</strong> (Mon, 29 Oct 2018 21:02:25 GMT):<br/>
the wasm-gc utility reduced the size of the wasm by 10x.
</p>
<p><strong>boydjohnson</strong> (Mon, 29 Oct 2018 21:26:17 GMT):<br/>
Something I was missing was that in `sabre cr` `--owner` is the public key text and you can't use the public key file, so `--owner $(cat /project/keys/root.pub)` works.
</p>
<p><strong>agunde</strong> (Tue, 30 Oct 2018 13:11:37 GMT):<br/>
^ yep that is by design because the admin running that command may not have access to the actually key files. Doc clarifications are in the works.
</p>
<p><strong>agunde</strong> (Tue, 30 Oct 2018 13:13:51 GMT):<br/>
@boydjohnson the rest-api does have a limit but it is configurable. you can set it using --client-max-size with the limit in bytes. default is 10mb.
</p>
<p><strong>boydjohnson</strong> (Tue, 30 Oct 2018 15:10:57 GMT):<br/>
woot ```sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::handler] Action: Execute Contract ["00ec01359aee2c476d2649349d77ade2160e5f4becca4f6e7b0dc95b32a502d9f8d45c", "00ec027c521358c33f76dadb83dbbc68f63c9bcf7795b6a4d957a2ccf09c75e55db19d", "00ec0064fcc6f6bc7a815041b4db51f00f4bea8e51c13b27f422da0a8522c94641c7e4", "000000"] ["00ec01359aee2c476d2649349d77ade2160e5f4becca4f6e7b0dc95b32a502d9f8d45c", "00ec027c521358c33f76dadb83dbbc68f63c9bcf7795b6a4d957a2ccf09c75e55db19d", "00ec0064fcc6f6bc7a815041b4db51f00f4bea8e51c13b27f422da0a8522c94641c7e4", "000000"]
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 265
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["000000a87cb5eafdcca6a8cde0fb0dec1400c5ab274474a6aa82c12840f169a04216b7"]
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 2 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 445
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["000000a87cb5eafdcca6a8cde0fb0dec1400c5ab274474a6aa82c1918142591ba4e8a7"]
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 2 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 515
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["000000a87cb5eafdcca6a84f03a060b7eb0329cf8faeb36270e74ce3b0c44298fc1c14"]
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 13 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to set state, address: 000000a87cb5eafdcca6a84f03a060b7eb0329cf8faeb36270e74ce3b0c44298fc1c14
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] SET_STATE Execution time: 0 secs 2 ms
sabre-tp       | 2018-10-30 15:09:59 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: OK```
</p>
<p><strong>boydjohnson</strong> (Tue, 30 Oct 2018 15:11:10 GMT):<br/>
I was able to commit a settings transaction.
</p>
<p><strong>agunde</strong> (Tue, 30 Oct 2018 15:13:14 GMT):<br/>
Nice!
</p>
<p><strong>JOYELIN</strong> (Fri, 09 Nov 2018 08:01:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>boydjohnson</strong> (Tue, 13 Nov 2018 19:55:41 GMT):<br/>
Hey, @agunde. @knkski and I work verifying that Identity works with sabre. Identity makes a get call to settings to find `sawtooth.identity.allowed_keys`. We ran settings as a normal tp and did `sawset proposal create` and our identity transaction is failing after the first get request, so I think it can't find the allowed keys. I am a little ignorant on this. I would guess that we have to run settings as a sabre contract, right?
</p>
<p><strong>knkski</strong> (Tue, 13 Nov 2018 19:55:42 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>agunde</strong> (Tue, 13 Nov 2018 19:57:00 GMT):<br/>
No, you can run settings as tp. Identity smart contract will be calling into state just like any other tp
</p>
<p><strong>boydjohnson</strong> (Tue, 13 Nov 2018 19:59:23 GMT):<br/>
Dang. I thought that was the problem.
</p>
<p><strong>RealDeanZhao</strong> (Mon, 19 Nov 2018 07:00:52 GMT):<br/>
Does sabre support Golang wasm? Is there any example for this?
</p>
<p><strong>JayeshJawale2</strong> (Mon, 19 Nov 2018 09:12:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>agunde</strong> (Mon, 19 Nov 2018 13:33:59 GMT):<br/>
Currently, Rust is the only language that there is a Sabre SDK for. 
</p>
<p><strong>benoit.razet</strong> (Tue, 20 Nov 2018 19:09:07 GMT):<br/>
thanks for rekicking the test!
</p>
<p><strong>agunde</strong> (Tue, 20 Nov 2018 19:10:19 GMT):<br/>
np
</p>
<p><strong>benoit.razet</strong> (Tue, 20 Nov 2018 19:52:43 GMT):<br/>
it looks like the Jenkinsfile is picked up from the master branch and not the PR branch
</p>
<p><strong>kc1116</strong> (Fri, 30 Nov 2018 16:39:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kc1116</strong> (Fri, 30 Nov 2018 16:39:56 GMT):<br/>
is sabre only available for rust right now ? 
</p>
<p><strong>agunde</strong> (Fri, 30 Nov 2018 16:41:43 GMT):<br/>
That is the only language we currently have an sdk for, yes.
</p>
<p><strong>kc1116</strong> (Fri, 30 Nov 2018 16:42:24 GMT):<br/>
gotcha thanks 
</p>
<p><strong>agunde</strong> (Tue, 11 Dec 2018 13:41:31 GMT):<br/>
@benoit.razet https://github.com/hyperledger/sawtooth-sabre/pull/20 needs a rebase. Once that is done I will give it a final review and we can hopefully get it in. 
</p>
<p><strong>benoit.razet</strong> (Tue, 11 Dec 2018 17:48:48 GMT):<br/>
Thanks @agunde I did the rebase. Unfortunately the jenkins test failed towards the end in the `Archive Build Artifact` part.
</p>
<p><strong>agunde</strong> (Tue, 11 Dec 2018 18:15:39 GMT):<br/>
@benoit.razet the build on your pr has been restarted so that it will use your updated jenkinsfile. 
</p>
<p><strong>agunde</strong> (Tue, 11 Dec 2018 20:18:29 GMT):<br/>
@benoit.razet The build passed. I approved the pr and merged it in. Thanks again for your contribution!
</p>
<p><strong>benoit.razet</strong> (Tue, 11 Dec 2018 20:29:55 GMT):<br/>
Thanks! I had fun looking into sabre
</p>
<p><strong>merq</strong> (Sat, 22 Dec 2018 03:41:43 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rinor</strong> (Tue, 29 Jan 2019 09:49:04 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>seanyoung</strong> (Thu, 31 Jan 2019 11:32:26 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>manojgop</strong> (Thu, 07 Feb 2019 11:22:40 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>colincmcc</strong> (Sun, 10 Feb 2019 19:34:45 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ed2dword</strong> (Fri, 15 Feb 2019 15:06:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>satelander</strong> (Tue, 26 Feb 2019 18:42:30 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>kodonnel</strong> (Wed, 27 Feb 2019 21:37:44 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>atlantisKing</strong> (Fri, 01 Mar 2019 05:35:34 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>atlantisKing</strong> (Fri, 01 Mar 2019 05:37:02 GMT):<br/>
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file   and in the container  intkey-multiply-cli    when i am executing `intkey-multiply multiply A B C --output payload`  it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file and in the container intkey-multiply-cli when i am executing `intkey-multiply multiply A B C --output payload` it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
</p>
<p><strong>atlantisKing</strong> (Fri, 01 Mar 2019 05:37:40 GMT):<br/>
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-3-generate-the-payload-file and in the container intkey-multiply-cli when i am executing `intkey-multiply multiply A B C --output payload` it gives an error i `bash: intkey-multiply: command not found` what could be the source of this error
</p>
<p><strong>agunde</strong> (Fri, 01 Mar 2019 14:06:48 GMT):<br/>
@atlantisKing Ill take a look
</p>
<p><strong>agunde</strong> (Fri, 01 Mar 2019 14:28:38 GMT):<br/>
@atlantisKing Did you wait for the rust code to finish compiling? It can take a while after the the dockerfiles starts up. You should be able to see this line `intkey-multiply-cli    |     Finished dev [unoptimized + debuginfo] target(s) in 11m 06s`
</p>
<p><strong>atlantisKing</strong> (Tue, 05 Mar 2019 06:27:53 GMT):<br/>
Thanks @agunde it is working now
</p>
<p><strong>agunde</strong> (Tue, 05 Mar 2019 11:52:08 GMT):<br/>
:thumbsup:
</p>
<p><strong>MicaelFerreira</strong> (Wed, 06 Mar 2019 12:47:06 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>ra_w</strong> (Thu, 07 Mar 2019 05:52:04 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rranjan3</strong> (Mon, 11 Mar 2019 09:23:16 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>raghav.aneja14</strong> (Mon, 11 Mar 2019 10:07:39 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>raghav.aneja14</strong> (Tue, 12 Mar 2019 10:19:31 GMT):<br/>
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#compiling-the-contract and it fails at step  *Compiling intkey-multiply v0.1.0 * .It gives error : failed to run custom build command for `intkey-multiply v0.1.0 (/home/ubuntu/sabre/sawtooth-sabre/example/intkey_multiply/processor)` thread 'main' panicked at 'protoc: Custom { kind: NotFound, error: StringError("failed to spawn `\"protoc\" \"--version\"`: No such file or directory (os error 2)") }', src/libcore/result.rs:997:5
 
</p>
<p><strong>raghav.aneja14</strong> (Tue, 12 Mar 2019 10:19:31 GMT):<br/>
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#compiling-the-contract and it fails at step  *Compiling intkey-multiply v0.1.0 * .It gives error : failed to run custom build command for `intkey-multiply v0.1.0 (/home/ubuntu/sabre/sawtooth-sabre/example/intkey_multiply/processor)` thread 'main' panicked at 'protoc: Custom { kind: NotFound, error: StringError("failed to spawn `\"protoc\" \"--version\"`: No such file or directory (os error 2)") }', src/libcore/result.rs:997:5 .. What could be the possible reason ??
 
</p>
<p><strong>raghav.aneja14</strong> (Wed, 13 Mar 2019 03:40:38 GMT):<br/>
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-7-execute-the-smart-contract , It returns invalid transaction saying, unauthorized access to 'cad11d....' , so i had created a namespace registry for 'cad11d' and included the same under inputs option for sabre exec cmd. Now it return me "Invalid Transaction with message :  Wasm contract returned invalid transaction: intkey_multiply, 1.0

</p>
<p><strong>raghav.aneja14</strong> (Wed, 13 Mar 2019 03:40:38 GMT):<br/>
Hi I am following sawtooth sabre guide and on this step https://sawtooth.hyperledger.org/docs/sabre/releases/latest/application_developer_guide.html#step-7-execute-the-smart-contract , It returns invalid transaction saying, unauthorized access to 'cad11d....' , so i had created a namespace registry for 'cad11d' and included the same under inputs option for sabre exec cmd. Now it return me "Invalid Transaction with message :  Wasm contract returned invalid transaction: intkey_multiply, 1.0
.What could be the issue and am i missing anything ?
</p>
<p><strong>atlantisKing</strong> (Wed, 13 Mar 2019 07:09:55 GMT):<br/>
Will the smart contract generated by sabre can be accessed by other peers as well, if it is stored on chain
</p>
<p><strong>atlantisKing</strong> (Wed, 13 Mar 2019 07:09:55 GMT):<br/>
Will the smart contract generated by sabre can be accessed by other peers as well, if it is stored on chain??
</p>
<p><strong>atlantisKing</strong> (Wed, 13 Mar 2019 07:09:55 GMT):<br/>
Will the smart contract generated by sabre can be accessed by other peers as well, if it is stored on chain??
</p>
<p><strong>atlantisKing</strong> (Wed, 13 Mar 2019 07:09:55 GMT):<br/>
Will the smart contract generated by sabre can be accessed by other peers as well, if it is stored on chain ?
</p>
<p><strong>atlantisKing</strong> (Wed, 13 Mar 2019 07:09:55 GMT):<br/>
Will the smart contract generated by sabre can be accessed and invoked  by other peers as well, if it is stored on chain ?
</p>
<p><strong>raghav.aneja14</strong> (Wed, 13 Mar 2019 08:49:38 GMT):<br/>
Following are precisely the steps I have followed referring the documentation and test_sabre.rs file : 

docker-compose -f docker-compose.yaml -f example/intkey_multiply/docker-compose.yaml up

docker exec -it sabre-shell bash
  	intkey set B 10 --url http://rest-api:9708
  	intkey set C 5 --url http://rest-api:9708
  	intkey list --url http://rest-api:9708

docker exec -it intkey-multiply-cli bash
	cd /project/example/intkey_multiply/cli
	intkey-multiply multiply A B C --output payload

docker exec -it sabre-cli bash
	cat /root/.sawtooth/keys/root.pub

	sabre cr --create pike --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre upload --filename ../contracts/sawtooth-pike/pike.yaml --url http://rest-api:9708
	sabre ns --create cad11d --owner test_owner --url http://rest-api:9708
	sabre perm cad11d pike --read --write --url http://rest-api:9708
	 
	sabre cr --create intkey_multiply --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre upload --filename ../example/intkey_multiply/intkey_multiply.yaml --url http://rest-api:9708
	 
	sabre ns --create 1cf126 --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre ns --create 00ec03 --owner test_owner --url http://rest-api:9708

	sabre perm  1cf126 intkey_multiply --read --write --url http://rest-api:9708
	sabre perm  cad11d intkey_multiply --read --write --url http://rest-api:9708
    sabre perm  00ec03 intkey_multiply --read --write --url http://rest-api:9708


	sabre exec --contract intkey_multiply:1.0 \
	  --payload /project/example/intkey_multiply/cli/payload  \
	  --inputs 1cf126 cad11d 00ec03 \
	  --outputs 1cf126 \
	  --url http://rest-api:9708

But still I am getting invalid transaction error : 

	Attempting to get state, addresses: ["cad11d0073315e886fc4c5c10fa16d089e1d3d809c72793393447ccac422d35fb772b2"]
	sabre-tp               | 2019-03-13 08:44:29 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 3 ms
	sabre-tp               | 2019-03-13 08:44:29 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply, 1.0

What is it that I am doing wrong or missing ??
</p>
<p><strong>raghav.aneja14</strong> (Wed, 13 Mar 2019 08:49:38 GMT):<br/>
Following are precisely the steps I have followed referring the documentation and test_sabre.rs file : 

docker-compose -f docker-compose.yaml -f example/intkey_multiply/docker-compose.yaml up

docker exec -it sabre-shell bash
  	intkey set B 10 --url http://rest-api:9708
  	intkey set C 5 --url http://rest-api:9708
  	intkey list --url http://rest-api:9708

docker exec -it intkey-multiply-cli bash
	cd /project/example/intkey_multiply/cli
	intkey-multiply multiply A B C --output payload

docker exec -it sabre-cli bash
	cat /root/.sawtooth/keys/root.pub

	sabre cr --create pike --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre upload --filename ../contracts/sawtooth-pike/pike.yaml --url http://rest-api:9708
	sabre ns --create cad11d --owner test_owner --url http://rest-api:9708
	sabre perm cad11d pike --read --write --url http://rest-api:9708
	 
	sabre cr --create intkey_multiply --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre upload --filename ../example/intkey_multiply/intkey_multiply.yaml --url http://rest-api:9708
	 
	sabre ns --create 1cf126 --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre ns --create 00ec03 --owner test_owner --url http://rest-api:9708

	sabre perm  1cf126 intkey_multiply --read --write --url http://rest-api:9708
	sabre perm  cad11d intkey_multiply --read --write --url http://rest-api:9708
    sabre perm  00ec03 intkey_multiply --read --write --url http://rest-api:9708


	sabre exec --contract intkey_multiply:1.0 \
	  --payload /project/example/intkey_multiply/cli/payload  \
	  --inputs 1cf126 cad11d 00ec03 \
	  --outputs 1cf126 \
	  --url http://rest-api:9708

But still I am getting invalid transaction error : 

	Attempting to get state, addresses: ["cad11d0073315e886fc4c5c10fa16d089e1d3d809c72793393447ccac422d35fb772b2"]
	sabre-tp               | 2019-03-13 08:44:29 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 3 ms
	sabre-tp               | 2019-03-13 08:44:29 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply, 1.0

What is it that I am doing wrong or missing ??
</p>
<p><strong>raghav.aneja14</strong> (Wed, 13 Mar 2019 08:49:38 GMT):<br/>
Hi @agunde  ,,Following are precisely the steps I have followed referring the documentation and test_sabre.rs file : 

docker-compose -f docker-compose.yaml -f example/intkey_multiply/docker-compose.yaml up

docker exec -it sabre-shell bash
  	intkey set B 10 --url http://rest-api:9708
  	intkey set C 5 --url http://rest-api:9708
  	intkey list --url http://rest-api:9708

docker exec -it intkey-multiply-cli bash
	cd /project/example/intkey_multiply/cli
	intkey-multiply multiply A B C --output payload

docker exec -it sabre-cli bash
	cat /root/.sawtooth/keys/root.pub

	sabre cr --create pike --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre upload --filename ../contracts/sawtooth-pike/pike.yaml --url http://rest-api:9708
	sabre ns --create cad11d --owner test_owner --url http://rest-api:9708
	sabre perm cad11d pike --read --write --url http://rest-api:9708
	 
	sabre cr --create intkey_multiply --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre upload --filename ../example/intkey_multiply/intkey_multiply.yaml --url http://rest-api:9708
	 
	sabre ns --create 1cf126 --owner 03aa98bd16ba7da4c31a5a9daeee57dba3c469e5c868bc5026297ab6376be3bf88 --url http://rest-api:9708
	sabre ns --create 00ec03 --owner test_owner --url http://rest-api:9708

	sabre perm  1cf126 intkey_multiply --read --write --url http://rest-api:9708
	sabre perm  cad11d intkey_multiply --read --write --url http://rest-api:9708
    sabre perm  00ec03 intkey_multiply --read --write --url http://rest-api:9708


	sabre exec --contract intkey_multiply:1.0 \
	  --payload /project/example/intkey_multiply/cli/payload  \
	  --inputs 1cf126 cad11d 00ec03 \
	  --outputs 1cf126 \
	  --url http://rest-api:9708

But still I am getting invalid transaction error : 

	Attempting to get state, addresses: ["cad11d0073315e886fc4c5c10fa16d089e1d3d809c72793393447ccac422d35fb772b2"]
	sabre-tp               | 2019-03-13 08:44:29 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 3 ms
	sabre-tp               | 2019-03-13 08:44:29 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply, 1.0

What is it that I am doing wrong or missing ??
</p>
<p><strong>agunde</strong> (Wed, 13 Mar 2019 13:41:34 GMT):<br/>
There are two commands that were not added to the sabre app dev guide properly they are the following:
</p>
<p><strong>agunde</strong> (Wed, 13 Mar 2019 13:51:40 GMT):<br/>
@raghav.aneja14 There are two commands that were not added to the sabre app dev guide properly  when smart permissions were added. They are the following:

`sabre exec --contract pike:1.0 --payload /project/integration/payloads/create_org --inputs cad11d --outputs cad11d --url http://rest-api:9708` to create the organization in pike

and 

`sabre sp --url http://rest-api:9708 --wait 300 create FooOrg000 test --filename /project/contracts/sawtooth-pike/examples/intkey/target/wasm32-unknown-unknown/release/intkey.wasm` to add the smart permission  used by intkey_multiply.wasm

You can see that they are used in the test. I will make sure the guide gets updated. 
</p>
<p><strong>agunde</strong> (Wed, 13 Mar 2019 13:53:33 GMT):<br/>
Note that if you were to write your own smart contract to not use pike, theses steps would not be needed. But intkey_mutiply is an example used to highlight both running a sabre smart contract and using smart permissions within the contract. 
</p>
<p><strong>raghav.aneja14</strong> (Thu, 14 Mar 2019 04:57:14 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=oCKC2v9vy4jENh3ji) @agunde It worked. Thanks !! 
And 1 quick question : Where exactly the changes have to be made if I wish to avoid smart permissions & pike ?
</p>
<p><strong>agunde</strong> (Thu, 14 Mar 2019 13:04:04 GMT):<br/>
@raghav.aneja14 you do  not need to set up the pike namespace, upload the  pike contract etc, and then you would not run the above commands.
</p>
<p><strong>agunde</strong> (Thu, 14 Mar 2019 13:04:56 GMT):<br/>
And you would not include the pike namespace in the inputs for your execute command
</p>
<p><strong>raghav.aneja14</strong> (Tue, 26 Mar 2019 04:18:41 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=QnSKrASeWxwXMdfim) @agunde got it, I tried the same way and works pretty well
</p>
<p><strong>raghav.aneja14</strong> (Tue, 26 Mar 2019 04:18:41 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=QnSKrASeWxwXMdfim) @agunde got it, I tried the same way and works pretty well.. Thanks!!
</p>
<p><strong>agunde</strong> (Tue, 26 Mar 2019 12:57:51 GMT):<br/>
:thumbsup:
</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 10:27:09 GMT):<br/>

<br/><a href="./assets/ZeRdJz2MMnjHb4JGz-Clipboard - March 29, 2019 3:56 PM">Clipboard - March 29, 2019 3:56 PM</a>
</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 12:41:48 GMT):<br/>

<br/><a href="./assets/r4N43LSG9HRxT3STJ-Clipboard - March 29, 2019 6:10 PM">Clipboard - March 29, 2019 6:10 PM</a>
</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 12:41:48 GMT):<br/>

<br/><a href="./assets/r4N43LSG9HRxT3STJ-Clipboard - March 29, 2019 6:10 PM">Clipboard - March 29, 2019 6:10 PM</a>
</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 12:42:15 GMT):<br/>
@agunde 
</p>
<p><strong>agunde</strong> (Fri, 29 Mar 2019 14:30:22 GMT):<br/>
@atlantisKing what are you trying to execute in sabre?
</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 16:44:08 GMT):<br/>
I am following the developer guide only and followed every step after executing this command ```

``` 
</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 16:44:08 GMT):<br/>
I am following the developer guide only and followed every step after executing this command ```

``` 
</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 16:44:08 GMT):<br/>
I am following the developer guide only and followed every step after executing this command ```
sabre exec --contract intkey_multiply:1.0 \
  --payload /project/example/intkey_multiply/cli/payload  \
  --inputs  1cf126 --outputs  1cf126 --url http://rest-api:9708
``` 

</p>
<p><strong>atlantisKing</strong> (Fri, 29 Mar 2019 16:44:08 GMT):<br/>
@agunde  I am following the developer guide only and followed every step after executing this command ```
sabre exec --contract intkey_multiply:1.0 \
  --payload /project/example/intkey_multiply/cli/payload  \
  --inputs  1cf126 --outputs  1cf126 --url http://rest-api:9708
``` 

</p>
<p><strong>kumble</strong> (Tue, 02 Apr 2019 07:05:56 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>agunde</strong> (Tue, 02 Apr 2019 19:59:25 GMT):<br/>
There is now a 0-1 branch for Sabre https://github.com/hyperledger/sawtooth-sabre/tree/0-1 . Sabre is going to be updated to work with 0.3 of the Rust SDK (current master of https://github.com/hyperledger/sawtooth-sdk-rust). If you are using the Sabre SDK and are pointing at the github master please update to use the 0-1 branch or the published crate `sabre-sdk = "0.1.3"`
</p>
<p><strong>atlantisKing</strong> (Wed, 03 Apr 2019 06:19:26 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=GTh3QggbmxYjSRxqB) @agunde code is failing at this snippet of file wasm_module.rs of the to ```
 let result = instance.invoke_export(
            "entrypoint",
            &vec![
                RuntimeValue::I32(payload_ptr),
                RuntimeValue::I32(signer_ptr),
                RuntimeValue::I32(signature_ptr),
            ],
            &mut env,
        )?;
``` 
</p>
<p><strong>atlantisKing</strong> (Wed, 03 Apr 2019 06:19:26 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=GTh3QggbmxYjSRxqB) @agunde code is failing at this snippet of file wasm_module.rs of tp ```
 let result = instance.invoke_export(
            "entrypoint",
            &vec![
                RuntimeValue::I32(payload_ptr),
                RuntimeValue::I32(signer_ptr),
                RuntimeValue::I32(signature_ptr),
            ],
            &mut env,
        )?;
``` 
</p>
<p><strong>atlantisKing</strong> (Wed, 03 Apr 2019 06:19:26 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=GTh3QggbmxYjSRxqB) @agunde code is failing at this snippet of file wasm_module.rs of tp/src/wasm_executer line number 52 ```
 let result = instance.invoke_export(
            "entrypoint",
            &vec![
                RuntimeValue::I32(payload_ptr),
                RuntimeValue::I32(signer_ptr),
                RuntimeValue::I32(signature_ptr),
            ],
            &mut env,
        )?;
``` 
</p>
<p><strong>agunde</strong> (Wed, 03 Apr 2019 12:28:58 GMT):<br/>
Do you know if the intkey_mulitply contract compiled into wasm correctly and was uploaded successfully? I have not run into this issue.
</p>
<p><strong>agunde</strong> (Wed, 03 Apr 2019 12:28:58 GMT):<br/>
Do you know if the intkey_mulitply contract compiled into wasm correctly and was uploaded successfully? I have not run into this issue with the current master.
</p>
<p><strong>agunde</strong> (Fri, 05 Apr 2019 16:45:31 GMT):<br/>
Sabre has been updated to work with the newest version of the rust sdk https://github.com/hyperledger/sawtooth-sabre/pull/51 If you have any questions please let me know. This PR also includes some changes to the example intkey_mulitply and application developers guide that allows for running intkey_mutiply without setting pike state and adds two missing commands for setting up the pike namespace. 
</p>
<p><strong>achala</strong> (Wed, 10 Apr 2019 04:57:55 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>achala</strong> (Wed, 10 Apr 2019 05:10:59 GMT):<br/>
Hi, I have gone through sawtooth sabre, need some clarification 
1. How sabre is running on blockchain( hyperledger sawttoth)
2. How to interact with other peers using sabre? or how transaction is happening?
3. Where it is storing and how can I check the transaction state (running transaction and pervious with peer address)
4. Where can I get the instruction format to write the contract in Rust
</p>
<p><strong>achala</strong> (Wed, 10 Apr 2019 05:10:59 GMT):<br/>
Hi, I have gone through sawtooth sabre, need some clarification 
1. How sabre is running on blockchain( hyperledger sawttoth)
2. How to interact with other peers using sabre? or how transaction is happening?
3. Where it is storing and how can I check the transaction state (running transaction and pervious with peer address)
</p>
<p><strong>agunde</strong> (Wed, 10 Apr 2019 13:18:42 GMT):<br/>
Hello @AchalaSB. 1. Sabre is a transaction processor and will talk to the Sawtooth Validator as any other transaction processor does. 2. Im not sure exactly what you are asking here but the Sawtooth validators talk to each other over gossip and send the transactions and blocks around for validation. 3. Sabre transaction state is also stored in Sawtooth's global state like any other transactions processed by a stand alone transaction  processor. This is the list of provided endpoints in the Sawtooth Rest API https://sawtooth.hyperledger.org/docs/core/nightly/master/rest_api/endpoint_specs.html 4. Here is the example of how to write a transaction processor in rust https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/rust_sdk.html that then explains how to turn it into a Sabre smart contract https://sawtooth.hyperledger.org/docs/sabre/nightly/master/application_developer_guide.html
</p>
<p><strong>agunde</strong> (Fri, 12 Apr 2019 12:59:32 GMT):<br/>
A new version of the Sabre-sdk has been released on crates https://crates.io/crates/sabre-sdk
</p>
<p><strong>madushankaf</strong> (Wed, 24 Apr 2019 20:18:50 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:02:52 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:05:19 GMT):<br/>
Hi, I'm currently trying to follow sabre intkey_multiply example in a pbft environment. I'm wokring with sabre 0.1.4 version. when I tried to execute the smart contract, I got this error 


</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:05:19 GMT):<br/>
Hi @agunde , I'm currently trying to follow sabre intkey_multiply example in a pbft environment. I'm wokring with sabre 0.1.4 version. when I tried to execute the smart contract, I got this error 


</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:05:19 GMT):<br/>
Hi @agunde , I'm currently trying to follow sabre intkey_multiply example in a pbft environment. I'm wokring with sabre `0.1.4` version. when I tried to execute the smart contract, I got this error 


</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:06:24 GMT):<br/>
`2019-04-27 18:05:56 INFO  [sawtooth_sdk::processor] Message: 2db955fdac794a71acf7afabea8b1616
2019-04-27 18:05:56 INFO  [sawtooth_sabre::handler] Action: Execute Contract ["00ec01f82be17e8d9f2168c4684179b4c26d4a0ea86ae505af8a1711d4be48fb265277", "00ec02abaf60e2a83b7362aa98b4f929b58b68e606b46fce2b4f5ec236c0f59bba3139", "00ec0078fe085f6edb13bbd519c9282dff5d7fc3bc4966867eaac0cf2b21ffd3622ecd", "00ec00d4eb478d386d0d216048a54575feda3450f2fcc42b3d15f80e258c16010da412", "1cf126", "cad11d"] ["00ec01f82be17e8d9f2168c4684179b4c26d4a0ea86ae505af8a1711d4be48fb265277", "00ec02abaf60e2a83b7362aa98b4f929b58b68e606b46fce2b4f5ec236c0f59bba3139", "00ec0078fe085f6edb13bbd519c9282dff5d7fc3bc4966867eaac0cf2b21ffd3622ecd", "1cf126"]
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-27 18:05:56 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply2, 1.0
`
</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:07:04 GMT):<br/>
```

``` 
</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:07:33 GMT):<br/>
```2019-04-27 18:05:56 INFO  [sawtooth_sdk::processor] Message: 2db955fdac794a71acf7afabea8b1616
2019-04-27 18:05:56 INFO  [sawtooth_sabre::handler] Action: Execute Contract ["00ec01f82be17e8d9f2168c4684179b4c26d4a0ea86ae505af8a1711d4be48fb265277", "00ec02abaf60e2a83b7362aa98b4f929b58b68e606b46fce2b4f5ec236c0f59bba3139", "00ec0078fe085f6edb13bbd519c9282dff5d7fc3bc4966867eaac0cf2b21ffd3622ecd", "00ec00d4eb478d386d0d216048a54575feda3450f2fcc42b3d15f80e258c16010da412", "1cf126", "cad11d"] ["00ec01f82be17e8d9f2168c4684179b4c26d4a0ea86ae505af8a1711d4be48fb265277", "00ec02abaf60e2a83b7362aa98b4f929b58b68e606b46fce2b4f5ec236c0f59bba3139", "00ec0078fe085f6edb13bbd519c9282dff5d7fc3bc4966867eaac0cf2b21ffd3622ecd", "1cf126"]
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-27 18:05:56 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply2, 1.0
```
</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:07:33 GMT):<br/>
```2019-04-27 18:05:56 INFO  [sawtooth_sdk::processor] Message: 2db955fdac794a71acf7afabea8b1616
2019-04-27 18:05:56 INFO  [sawtooth_sabre::handler] Action: Execute Contract ["00ec01f82be17e8d9f2168c4684179b4c26d4a0ea86ae505af8a1711d4be48fb265277", "00ec02abaf60e2a83b7362aa98b4f929b58b68e606b46fce2b4f5ec236c0f59bba3139", "00ec0078fe085f6edb13bbd519c9282dff5d7fc3bc4966867eaac0cf2b21ffd3622ecd", "00ec00d4eb478d386d0d216048a54575feda3450f2fcc42b3d15f80e258c16010da412", "1cf126", "cad11d"] ["00ec01f82be17e8d9f2168c4684179b4c26d4a0ea86ae505af8a1711d4be48fb265277", "00ec02abaf60e2a83b7362aa98b4f929b58b68e606b46fce2b4f5ec236c0f59bba3139", "00ec0078fe085f6edb13bbd519c9282dff5d7fc3bc4966867eaac0cf2b21ffd3622ecd", "1cf126"]
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-27 18:05:56 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-27 18:05:56 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply, 1.0
```
</p>
<p><strong>JMIsham</strong> (Sat, 27 Apr 2019 18:17:36 GMT):<br/>
these are the commands I used 
``` 
intkey set B 5
intkey set C 10

sabre cr --create intkey_multiply --owner 03e2b277454209d4e358a3cc2df167af859c06807ac67378e5e2807cbf84904ed9 --url http://127.0.0.1:8008
sabre upload --filename /home/ubuntu/intkey_multiply.yaml  --url http://127.0.0.1:8008 

sabre ns --create 1cf126 --owner 03e2b277454209d4e358a3cc2df167af859c06807ac67378e5e2807cbf84904ed9 --url http://127.0.0.1:8008
sabre perm  1cf126 intkey_multiply --read --write --url http://127.0.0.1:8008

sabre ns --create cad11d --owner 03e2b277454209d4e358a3cc2df167af859c06807ac67378e5e2807cbf84904ed9 --url http://127.0.0.1:8008
sabre perm  cad11d intkey_multiply --read --url http://127.0.0.1:8008

sabre exec --contract intkey_multiply:1.0 --payload /home/ubuntu/payload --inputs  1cf126 --inputs cad11d --outputs  1cf126 --url http://127.0.0.1:8008
```
</p>
<p><strong>Dipspaw</strong> (Mon, 29 Apr 2019 12:38:00 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>agunde</strong> (Mon, 29 Apr 2019 13:03:59 GMT):<br/>
@JMIsham What version of the intkey_multiply transaction are you using, are you on current master of sawtooth-sabre?
</p>
<p><strong>JMIsham</strong> (Mon, 29 Apr 2019 17:34:40 GMT):<br/>
@agunde , tag v0.1.4
</p>
<p><strong>JMIsham</strong> (Mon, 29 Apr 2019 17:35:09 GMT):<br/>
when I installed sawtooh-sabre and abre-cli, that was the version got installed
</p>
<p><strong>JMIsham</strong> (Mon, 29 Apr 2019 17:35:34 GMT):<br/>
so I also built the wasm from v0.1.4 tag
</p>
<p><strong>JMIsham</strong> (Mon, 29 Apr 2019 17:36:24 GMT):<br/>
I did not do anything related pike except, setting the read permision for the cad11d namespace 
</p>
<p><strong>JMIsham</strong> (Mon, 29 Apr 2019 17:37:20 GMT):<br/>
do you think building the sabre, cli and the example from the current master branch would work?
</p>
<p><strong>JMIsham</strong> (Mon, 29 Apr 2019 17:37:32 GMT):<br/>
only using the above commands 
</p>
<p><strong>agunde</strong> (Mon, 29 Apr 2019 18:28:00 GMT):<br/>
@JMIsham To follow the documentation you need the master version of the intkey_multiple smart contract. The old version enforces that you set up a pike organization (so an agent is created) otherwise the intkey_multiply transaction will be invalid. The new one skips that check if the pike agent is missing. 
</p>
<p><strong>shonjs</strong> (Tue, 30 Apr 2019 02:19:07 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:40 GMT):<br/>
@agunde , I was able to build the tp and the cli from the master. now I'm getting a different error
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:58 GMT):<br/>
``` 2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 1 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126516bd083bfcce66121a3072646994c8430cc382b8dc543e84880183bf856cff5"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 9 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126439caf5e61ec88c307c7d619195229412eaa73fb2a5ea20d23cc86a9d8f86a0f"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] associating pointers: [410, 480]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Collection found elements in collection: 2
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 0
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 1
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 480
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 484
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126014c48c4384ee5c5a54e7830e45fcd87df7910a7fda77b68c2efdd75f8de25e8"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 4 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 554
```
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:58 GMT):<br/>
``` 2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 1 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126516bd083bfcce66121a3072646994c8430cc382b8dc543e84880183bf856cff5"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 9 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126439caf5e61ec88c307c7d619195229412eaa73fb2a5ea20d23cc86a9d8f86a0f"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] associating pointers: [410, 480]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Collection found elements in collection: 2
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 0
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 1
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 480
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 484
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126014c48c4384ee5c5a54e7830e45fcd87df7910a7fda77b68c2efdd75f8de25e8"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 4 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 554
```
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:58 GMT):<br/>
``` 2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 1 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126516bd083bfcce66121a3072646994c8430cc382b8dc543e84880183bf856cff5"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 9 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126439caf5e61ec88c307c7d619195229412eaa73fb2a5ea20d23cc86a9d8f86a0f"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] associating pointers: [410, 480]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Collection found elements in collection: 2
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 0
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 1
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 480
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 484
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126014c48c4384ee5c5a54e7830e45fcd87df7910a7fda77b68c2efdd75f8de25e8"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 4 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 554
```
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:58 GMT):<br/>
``` 2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 1 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126516bd083bfcce66121a3072646994c8430cc382b8dc543e84880183bf856cff5"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 9 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126439caf5e61ec88c307c7d619195229412eaa73fb2a5ea20d23cc86a9d8f86a0f"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] associating pointers: [410, 480]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Collection found elements in collection: 2
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 0
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 1
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 480
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 484
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126014c48c4384ee5c5a54e7830e45fcd87df7910a7fda77b68c2efdd75f8de25e8"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 4 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 5542019-04-30 06:41:40 INFO  [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply2, 1.0

```

</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:58 GMT):<br/>
``` 2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 1 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126516bd083bfcce66121a3072646994c8430cc382b8dc543e84880183bf856cff5"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 9 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126439caf5e61ec88c307c7d619195229412eaa73fb2a5ea20d23cc86a9d8f86a0f"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] associating pointers: [410, 480]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Collection found elements in collection: 2
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 0
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 1
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 480
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 484
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126014c48c4384ee5c5a54e7830e45fcd87df7910a7fda77b68c2efdd75f8de25e8"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 4 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 5542019-04-30 06:41:40 INFO 
 [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply2, 1.0
```

</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:58 GMT):<br/>
``` 2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 1 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126516bd083bfcce66121a3072646994c8430cc382b8dc543e84880183bf856cff5"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 9 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126439caf5e61ec88c307c7d619195229412eaa73fb2a5ea20d23cc86a9d8f86a0f"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] associating pointers: [410, 480]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Collection found elements in collection: 2
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 0
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 1
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 480
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 484
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126014c48c4384ee5c5a54e7830e45fcd87df7910a7fda77b68c2efdd75f8de25e8"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 4 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 5542019-04-30 06:41:40 INFO 
 [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply2, 1.0
```

</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:38:58 GMT):<br/>
``` 2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Payload written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signer written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_module] Signature written to memory
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 200
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["cad11d00a4dbd9e65006fc4f580b14eac30479569415462898a45f86414a57a8a010ba"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 1 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 270
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126516bd083bfcce66121a3072646994c8430cc382b8dc543e84880183bf856cff5"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 9 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 340
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126439caf5e61ec88c307c7d619195229412eaa73fb2a5ea20d23cc86a9d8f86a0f"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] associating pointers: [410, 480]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 10 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Collection found elements in collection: 2
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 0
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 410
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving pointer head_ptr: 410 index: 1
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Pointer retrieved: 480
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] ALLOC Execution time: 0 secs 0 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] create_collection: 484
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Attempting to get state, addresses: ["1cf126014c48c4384ee5c5a54e7830e45fcd87df7910a7fda77b68c2efdd75f8de25e8"]
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] GET_STATE Execution time: 0 secs 4 ms
2019-04-30 06:37:47 INFO  [sawtooth_sabre::wasm_executor::wasm_externals] Retrieving collection length. Head pointer 554
2019-04-30 06:41:40 INFO [sawtooth_sdk::processor] TP_PROCESS_REQUEST sending TpProcessResponse: Wasm contract returned invalid transaction: intkey_multiply2, 1.0
```

</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 06:39:43 GMT):<br/>
does it seems like contract doesn't have the permission to write ?
</p>
<p><strong>RealDeanZhao</strong> (Tue, 30 Apr 2019 08:06:27 GMT):<br/>
does sabre depends on sawtooth-pike? There are some code about pike in sabre repo.
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 09:33:44 GMT):<br/>
when it comes to smart permission we need pike, otherwise we can skip pike 
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 13:06:50 GMT):<br/>
@RealDeanZhao JMIsham is correct, if you wish to use smart permissions then your would use pike to provide the agents and organization. But otherwise you do not need to use pike.
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 13:07:17 GMT):<br/>
@JMIsham Did you setup the intkey state when you reran the docker-compose file?
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:38:35 GMT):<br/>
@agunde , I'm not using the docker environment 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:39:44 GMT):<br/>
I have 4 aws instance running, and using 4 aws instances with pbft consensus engine  
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:39:44 GMT):<br/>
I have 4 aws instance running, with pbft consensus engine  
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 16:40:51 GMT):<br/>
can you see what is in intkey state?
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:41:11 GMT):<br/>
u mean `intkey list`
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 16:41:16 GMT):<br/>
yep
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:41:17 GMT):<br/>
?
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:41:31 GMT):<br/>
both B and C were set
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:41:51 GMT):<br/>
We dont need to initiate A right?
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 16:42:29 GMT):<br/>
And your payload is to set A? No, you should not need to initiate A. 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:43:10 GMT):<br/>
yeah payload is 'A,B,C`
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:43:10 GMT):<br/>
yeah payload is `A,B,C`
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:44:04 GMT):<br/>
I just copied the paylod file generated when I was running docker environment and past it in the instance where I'm running the sabre 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:45:03 GMT):<br/>
when we see the logs, it seems attempting to get the last state was failed, isn't it?
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 16:45:40 GMT):<br/>
Yes that what it looks like
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:46:17 GMT):<br/>
FYI, I was able to successfully run it in the docker environment 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:46:49 GMT):<br/>
so the admin key is the one which is generated by `sawdam` right ? 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:47:22 GMT):<br/>
or is it the validator key?
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 16:49:38 GMT):<br/>
sawadm keygen is the validator key. The admin keys should be set to the ones you generated with sawtooth keygen
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 16:50:40 GMT):<br/>
my bad :P , It was one of the key pair generated by `sawtooth keygen`
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 17:01:27 GMT):<br/>
@agunde , do you guys do any kind of  remote debugging on sabre?
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 17:02:43 GMT):<br/>
is it possible to console log from either the smart contract or the sabre-tp/handler ?
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 17:03:09 GMT):<br/>
Not currently. We do have a plan to add a logging backend for sabre that can provide more insight into what is happening when there is an invalid transaction. The ones that we have tried cannot be compiled into wasm. 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 17:05:08 GMT):<br/>
lets say in my case, how do you think I can use logs to identify whats going on.
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 17:05:10 GMT):<br/>
?
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 17:05:46 GMT):<br/>
cuz the error message is returned from the handler class when the result is -3
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 17:08:05 GMT):<br/>
and from the wasm_externals, we are throwing error from various places, is there a way to log the actuall error message from the handler ?
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 17:08:30 GMT):<br/>
@agunde 
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 17:27:45 GMT):<br/>
What i have done in the past is compile it as transaction processor (instead of the wasm smart contract) and connect it as transaction processor and submit the same transaction (not as a sabre transaction). Another option is you can follow along with the apply method in the code and see what get is failing which will give you an idea. These options are obviously not ideal. Hence why we need to improve the debugging process. There is not currently a way to get the error message out from the wasm code. 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 19:23:23 GMT):<br/>
@agunde , cool. will try to go to the code level for an in-depth understanding.
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 19:25:23 GMT):<br/>
just want to clarify that if I copy `sawtooth-sabre`, `sabre-cli`, and the `intkey_multiply.wasm` which are built when I was running the docker environment to the aws environment, it should work right?
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 19:26:37 GMT):<br/>
and also do we need to have sawtooth nightly version to work with this current master?
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 19:28:19 GMT):<br/>
@JMIsham I would assume that would work but I have never done so myself. I believe sabre as it is in master would work with older versions of sawtooth. 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 19:29:14 GMT):<br/>
cool. I'll also try to make it work. will let you if I find any workarounds. 
</p>
<p><strong>JMIsham</strong> (Tue, 30 Apr 2019 19:29:45 GMT):<br/>
So you guys never tested sabre with multi peer environment?
</p>
<p><strong>agunde</strong> (Tue, 30 Apr 2019 19:33:52 GMT):<br/>
We have tested it. I believe we run it in docker on aws when we did. @rbuysse would know more. 
</p>
<p><strong>JMIsham</strong> (Sat, 04 May 2019 06:40:35 GMT):<br/>
@agunde , I was able to run intkey_multiply example on my infrastructure 
</p>
<p><strong>JMIsham</strong> (Sat, 04 May 2019 06:40:49 GMT):<br/>
Now, I'm trying to write my own sabre smart contract 
</p>
<p><strong>JMIsham</strong> (Sat, 04 May 2019 06:41:33 GMT):<br/>
do you have any sabre contract development process
</p>
<p><strong>JMIsham</strong> (Sat, 04 May 2019 06:41:35 GMT):<br/>
?
</p>
<p><strong>JMIsham</strong> (Sat, 04 May 2019 06:41:47 GMT):<br/>
how do you guys test it?
</p>
<p><strong>agunde</strong> (Mon, 06 May 2019 14:28:08 GMT):<br/>
@JMIsham Are you familiar with writing a stand alone Rust Transaction Processor? What I usually do is run it as a transaction processor first and when it is finished, I test it as a Sabre smart contract (compiled into WASM). With the updates to the TransactionContext (turned into a trait) in the current version of the sawtooth rust sdk, it is much easier to write unit tests. 
</p>
<p><strong>achala</strong> (Sat, 01 Jun 2019 07:36:25 GMT):<br/>
@agunde Where can I found all the commands for sabre ?  (like intkey_multiply what are the other commands exists in sabre)?
intkey is for interger operations and intkey_multiply is only for multiplication. How can I perform other operations? intkey_add/sub/divide and all are not exist!!!
</p>
<p><strong>jsmitchell</strong> (Sat, 01 Jun 2019 14:25:21 GMT):<br/>
@achala intkey is a transaction processor which is written in Rust and compiled to a WASM target for deployment and execution in Sabre. It is an example. You can write whatever you want. Please don’t make the mistake of assuming that the intkey example represents Sabre opcodes!
</p>
<p><strong>achala</strong> (Thu, 06 Jun 2019 09:03:05 GMT):<br/>
What these line represent https://github.com/hyperledger/sawtooth-sabre/blob/master/example/intkey_multiply/processor/src/handler.rs#L133 and #L132 ?
</p>
<p><strong>agunde</strong> (Thu, 06 Jun 2019 13:15:41 GMT):<br/>
This code is used to decode the expected intkey state, which is stored in cbor. When this was written there was not a cbor crate that could be compiled into wasm (at least not one that I could find and was deterministic with the crate used by the intkey transaction processor) Those lines are used to extract the write bytes from the cbor to decode the Name of the entry in state. 
</p>
<p><strong>rossth</strong> (Wed, 12 Jun 2019 13:35:23 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>desktophero</strong> (Tue, 18 Jun 2019 19:35:31 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>AmimKnabben</strong> (Wed, 19 Jun 2019 22:09:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>RealDeanZhao</strong> (Thu, 27 Jun 2019 06:37:01 GMT):<br/>
Is Sabre pike deprecated? what's the difference between Grid pike and Sabre pike?
</p>
<p><strong>agunde</strong> (Thu, 27 Jun 2019 12:59:38 GMT):<br/>
Grid Pike is Pikes final location. It will eventually be removed from Sabre. @RealDeanZhao 
</p>
<p><strong>thodges</strong> (Wed, 03 Jul 2019 13:38:37 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Imoh</strong> (Thu, 11 Jul 2019 06:37:10 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>jamesbarry</strong> (Wed, 31 Jul 2019 16:31:40 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>arsulegai</strong> (Mon, 05 Aug 2019 03:41:56 GMT):<br/>
I received a question on Java support, in Sabre. Is it in plan?
</p>
<p><strong>jsmitchell</strong> (Mon, 05 Aug 2019 04:07:28 GMT):<br/>
Good languages targeting Sabre would produce minimal WASM bytecode - the JVM would be very heavy weight for this purpose.
</p>
<p><strong>arsulegai</strong> (Mon, 05 Aug 2019 04:20:49 GMT):<br/>
@VishalBatra ^
</p>
<p><strong>VishalBatra</strong> (Mon, 05 Aug 2019 04:20:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>VishalBatra</strong> (Mon, 05 Aug 2019 08:19:08 GMT):<br/>
ok, thanks @arsulegai 
</p>
<p><strong>amundson</strong> (Mon, 05 Aug 2019 14:57:11 GMT):<br/>
could maybe be done though - https://github.com/appcypher/awesome-wasm-langs#java
</p>
<p><strong>arsulegai</strong> (Mon, 05 Aug 2019 17:15:38 GMT):<br/>
Hmm, TeaVM wins based on stargazers count
</p>
<p><strong>newhall</strong> (Thu, 17 Oct 2019 14:29:48 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>arsulegai</strong> (Sun, 01 Dec 2019 08:19:28 GMT):<br/>
I seem to be receiving the payload in the `entrypoint` method but the actual payload sent from the client is at the end of this stream of bytes received.
</p>
<p><strong>arsulegai</strong> (Mon, 02 Dec 2019 13:28:09 GMT):<br/>
@agunde ^ any help? The same TP & client works perfectly fine on Sawtooth
</p>
<p><strong>agunde</strong> (Mon, 02 Dec 2019 14:04:22 GMT):<br/>
@arsulegai when you say the TP and client work on Sawtooth, do you mean as a separate Transaction Processor running without sabre?
</p>
<p><strong>arsulegai</strong> (Mon, 02 Dec 2019 14:04:48 GMT):<br/>
Yes
</p>
<p><strong>agunde</strong> (Mon, 02 Dec 2019 14:05:16 GMT):<br/>
Is the client wrapping the payload in a SabreTransaction?
</p>
<p><strong>arsulegai</strong> (Mon, 02 Dec 2019 14:16:10 GMT):<br/>
That's interesting question, I was referring to the intkey_multiply example here https://github.com/hyperledger/sawtooth-sabre/blob/master/example/intkey_multiply/cli/src/transaction.rs
</p>
<p><strong>agunde</strong> (Mon, 02 Dec 2019 14:19:08 GMT):<br/>
O to use that cli with sabre you need to save the payload by setting an output and then use the sabre  cli as described here https://sawtooth.hyperledger.org/docs/sabre/nightly/master/application_developer_guide.html#step-3-generate-the-payload-file
</p>
<p><strong>agunde</strong> (Mon, 02 Dec 2019 14:19:32 GMT):<br/>
https://sawtooth.hyperledger.org/docs/sabre/nightly/master/application_developer_guide.html#step-7-execute-the-smart-contract
</p>
<p><strong>arsulegai</strong> (Mon, 02 Dec 2019 14:23:36 GMT):<br/>
That would still be a Sawtooth batch file right?
</p>
<p><strong>agunde</strong> (Mon, 02 Dec 2019 14:24:50 GMT):<br/>
The intkey multiply will save out just the intkey_multiply payload and then the sabre cli will take the payload and wrap it in a Sabre Transaction (which yes goes into a Sawtooth Batch)
</p>
<p><strong>arsulegai</strong> (Mon, 02 Dec 2019 14:27:45 GMT):<br/>
I missed this line https://github.com/hyperledger/sawtooth-sabre/blob/322977ded5dc4b1ec9a1ca9876b5a86ce173ff6d/example/intkey_multiply/cli/src/multiply.rs#L40
</p>
<p><strong>arsulegai</strong> (Mon, 02 Dec 2019 14:27:51 GMT):<br/>
Thanks :)
</p>
<p><strong>agunde</strong> (Mon, 02 Dec 2019 14:28:29 GMT):<br/>
np
</p>
<p><strong>slavitch</strong> (Thu, 05 Dec 2019 18:56:49 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>trevormcdonald</strong> (Thu, 12 Dec 2019 16:46:22 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>trevormcdonald</strong> (Thu, 12 Dec 2019 16:46:24 GMT):<br/>
I'm trying to use Sabre instead of a separate transaction processor and running into an issue whenever I try to send a transaction. Sabre-sdk 0.4, Sabre-cli 0.4, Sawtooth 1.2, Sawtooth-sdk 0.3.

The log message I get is:

`consensource-validator           | [2019-12-12 16:35:03.320 INFO     processor_manager] waiting for processor type consensource: 0.1 to register`

Did I miss a configuration step to tell the validator to use the Sabre TP for that family?

Here is my contract definition:

```
name: consensource
version: "0.1"
wasm: target/wasm32-unknown-unknown/release/cert-registry-processor.wasm
inputs:
  - "3d0111"
outputs:
  - "3d0111"
``` 

Here are the Sabre commands run at start up:

```
        while true; do curl -s http://sawtooth-rest-api:8008/state | grep -q head; if [ $$? -eq 0 ]; then break; fi; sleep 0.5; done;
        sabre cr --create consensource --key /shared_data/my_key --owner $$(cat /shared_data/my_key.pub) --url http://sawtooth-rest-api:8008 --wait 30
        sabre upload --filename /build/processor/consensource.yaml --key /shared_data/my_key --url http://sawtooth-rest-api:8008 --wait 30
        sabre ns --create 3d0111 --key /shared_data/my_key --owner $$(cat /shared_data/my_key.pub) --url http://sawtooth-rest-api:8008 --wait 30
        sabre perm 3d0111 consensource --key /shared_data/my_key --read --write --url http://sawtooth-rest-api:8008 --wait 30
        echo '---------========= consensource contract is loaded =========---------'
``` 

And here is the raw batch that is sent:

```

Ç
B022550f49fecc38aeee9993a1625ab8de54ebeaa810935ad3e10c989df76e711cbc3ee40961f346064d2fe161b914fc237aa7abf5f16bb323700dc07bf3d9fe7d23d34b7fb62c0c25e437a85f64f61e4a38859812f0c438b975adc5ddcccb47a47c0bb56d2ad44d5637ebc300c0a45ef4a355e03c77e1f460b8fd03f9e3fa350a036e7ed92f1b7569de947a804d8e968ed8a5088be12eb542c45f9cfd23e546469Ã
®
B022550f49fecc38aeee9993a1625ab8de54ebeaa810935ad3e10c989df76e711cbconsensource"0.1*F3d011100007aa49839c24c018b1cdfc3d68b8ee202a18a733b354c2c92ba941bb962e8:F3d011100007aa49839c24c018b1cdfc3d68b8ee202a18a733b354c2c92ba941bb962e8Ja509651bc6f13c5d32a45d642167371fae4bb1d9b2958623a1f060efd61ded23ec61b2b18feeda3e7b5e2f225693346730f10f96b4bf31bb11a817ec5302acf1RB022550f49fecc38aeee9993a1625ab8de54ebeaa810935ad3e10c989df76e711cbc3ee40961f346064d2fe161b914fc237aa7abf5f16bb323700dc07bf3d9fe7d23d34b7fb62c0c25e437a85f64f61e4a38859812f0c438b975adc5ddcccb47a47
	
q·ØÉï
``` 

Here is the branch where the code lives: https://github.com/target/consensource/tree/tmcdonald-sabre

Any ideas as to what I'm missing?
</p>
<p><strong>amundson</strong> (Thu, 12 Dec 2019 20:51:04 GMT):<br/>
@trevormcdonald this suggests to me that the transaction you are submitting isn't a sabre transaction, but instead is a "consensource: 0.1" transaction. you probably need to update the client to create a sabre transaction and stick the current consensource transaction content inside the sabre transaction.
</p>
<p><strong>amundson</strong> (Thu, 12 Dec 2019 20:52:02 GMT):<br/>
this is because Sawtooth doesn't know about Sabre, and thus doesn't do the marshaling automatically for you
</p>
<p><strong>amundson</strong> (Thu, 12 Dec 2019 20:52:02 GMT):<br/>
this is because Sawtooth validator doesn't know about Sabre, and thus doesn't do the marshaling automatically for you
</p>
<p><strong>amundson</strong> (Thu, 12 Dec 2019 20:53:30 GMT):<br/>
there are some examples in javascript of making it optional (so you can support both sabre and tp transactions), but I can't recall which examples. probably the track and trace example.
</p>
<p><strong>trevormcdonald</strong> (Fri, 13 Dec 2019 14:27:20 GMT):<br/>
Thanks for pointing me there, for reference I believe the example you refer to is here: https://github.com/hyperledger/grid-contrib/tree/master/track_and_trace
</p>
<p><strong>seanyoung</strong> (Tue, 11 Feb 2020 22:09:22 GMT):<br/>
Hello,
I'm making a start Sabre support on Solang: https://github.com/hyperledger-labs/solang/pull/103 
Now I'm trying to understand the get_state/set_state externs. Is there any documentation available on this or could someone give me a quick guide to get me started. I'm not sure what the pointer collections are supposed to do.
Thanks
Sean
</p>
<p><strong>seanyoung</strong> (Tue, 11 Feb 2020 22:26:54 GMT):<br/>
Just reading some more of the code. State is stored at an address which should be a valid utf8 string. Can this be any string?
</p>
<p><strong>seanyoung</strong> (Tue, 11 Feb 2020 22:27:32 GMT):<br/>
Solidity stores data an slot number which 256 bit. I can just convert this to a hex string for now.
</p>
<p><strong>seanyoung</strong> (Tue, 11 Feb 2020 22:27:32 GMT):<br/>
Solidity stores data an slot number which a 256 bit unsigned integer. I can just convert this to a hex string for now.
</p>
<p><strong>seanyoung</strong> (Tue, 11 Feb 2020 22:42:14 GMT):<br/>
Actually it would be nice if the names of the Solidity variables can be used for state address. However this is difficult for arrays/structs/mappings are they are accessed per-element, and purposely designed so that they can hold lots of (sparse) data. That would mean creating addresses for each array element, which can be expensive.
</p>
<p><strong>rbuysse</strong> (Wed, 12 Feb 2020 23:00:18 GMT):<br/>
A new version (0.5.0) of sawtooth-sabre has been released. You can view the release notes at https://github.com/hyperledger/sawtooth-sabre/blob/v0.5.0/RELEASE_NOTES.md
</p>
<p><strong>arsulegai</strong> (Thu, 13 Feb 2020 04:32:15 GMT):<br/>
@seanyoung Saw your question other day and forgot to add this link. This page should give you details on what the address string will have https://sawtooth.hyperledger.org/docs/core/nightly/1-2/architecture/global_state.html#global-state
</p>
<p><strong>seanyoung</strong> (Thu, 13 Feb 2020 11:05:21 GMT):<br/>
[ ](https://chat.hyperledger.org/channel/sawtooth-sabre?msg=G7oq5wHePmNodPMtQ) Thank you, that helps
</p>
<p><strong>rbuysse</strong> (Thu, 13 Feb 2020 21:24:57 GMT):<br/>
A new version (0.5.1) of sawtooth-sabre has been released. You can view the release notes at https://github.com/hyperledger/sawtooth-sabre/blob/v0.5.1/RELEASE_NOTES.md
</p>
<p><strong>seanyoung</strong> (Sat, 15 Feb 2020 17:17:07 GMT):<br/>
I've been looking at the externs that sabre exposes for wasm contracts, in order to write Solang target support for sabre. 
- Solang has it's own heap/malloc library. Should it use the alloc extern instead? How about realloc?
- As I understand it, when entrypoint is called, the payload is written to wasm memory and passes an argument. Should I use get_ptr_len() to get its length?
- If wasm memory is written by the externs, what do I set the stack pointer to so it doesn't overwrite allocated stuff? What about static compiled data?
</p>
<p><strong>arsulegai</strong> (Sat, 15 Feb 2020 21:00:13 GMT):<br/>
Is Solang going to be compiled into WASM?
</p>
<p><strong>seanyoung</strong> (Sat, 15 Feb 2020 22:31:30 GMT):<br/>
Do you mean the Solang compiler itself, or are you asking if the Solang compiler outputs wasm?
</p>
<p><strong>seanyoung</strong> (Sat, 15 Feb 2020 22:36:18 GMT):<br/>
Solang compiles Solidity into wasm; I would like to make it possible to run Solang-compiled Solidity run on sabre.
</p>
<p><strong>seanyoung</strong> (Sat, 15 Feb 2020 22:36:18 GMT):<br/>
Solang compiles Solidity into wasm; I would like to make it possible to run Solang-compiled Solidity on sabre
</p>
<p><strong>seanyoung</strong> (Sat, 15 Feb 2020 22:37:06 GMT):<br/>
Solang is rust, so Solang itself can be compiled into wasm. It require llvm to be compiled to wasm too, which I haven't tried yet.
</p>
<p><strong>arsulegai</strong> (Sun, 16 Feb 2020 04:48:10 GMT):<br/>
Awesome! When you say run WASM converted Solidity code on Sabre, it makes me curious. Probably need something like #sawtooth-seth?
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 08:36:20 GMT):<br/>
seth runs EVM, not WASM
</p>
<p><strong>arsulegai</strong> (Sun, 16 Feb 2020 08:36:45 GMT):<br/>
Right
</p>
<p><strong>arsulegai</strong> (Sun, 16 Feb 2020 08:49:20 GMT):<br/>
I couldn't understand how the context conversion from Sabre to Solidity happen in the PR you pointed earlier. I am curious to learn more.
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 08:50:22 GMT):<br/>
This PR https://github.com/hyperledger-labs/solang/pull/103 I assume?
</p>
<p><strong>arsulegai</strong> (Sun, 16 Feb 2020 08:50:32 GMT):<br/>
Yes
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 08:51:04 GMT):<br/>
sabre runs wasm smart contracts
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 08:51:15 GMT):<br/>
solang compiles Solidity to wasm
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 08:52:26 GMT):<br/>
However sabre has a set of externs to interact with the blockchain, which are specific to each blockchain (e.g. ewasm). 
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 08:52:48 GMT):<br/>
So Solang needs to be taught a few tricks to make its output run on sabre
</p>
<p><strong>arsulegai</strong> (Sun, 16 Feb 2020 08:54:26 GMT):<br/>
Yes, this trick is what I wanted to learn  more about
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 08:55:21 GMT):<br/>
What do you want to know?
</p>
<p><strong>arsulegai</strong> (Sun, 16 Feb 2020 09:18:24 GMT):<br/>
The way Solidity contracts are written is different from how we generally write for Sabre. For example, in sabre if a state has to be stored then we compute the address and store on the global state. But these steps are not generally what we see in a Solidity code.
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 09:19:52 GMT):<br/>
That's where Solang comes in. If contract storage gets assigned then it has to generate some code to set global state.
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 09:21:27 GMT):<br/>
Solidity contract variables each have a 256 bit slot number. That can be converted to a string, and then we can call set_state() on this (generated from Solang).
However, I'm trying to get my head round how the ewasm externs work.
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 09:26:48 GMT):<br/>
It needs to go here: https://github.com/hyperledger-labs/solang/pull/103/files#diff-f27c8a7941fd75514621ba404b78272dR183
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 21:32:40 GMT):<br/>
Ok, I've managed to work it out. I got it working. See  https://solang.readthedocs.io/en/latest/running.html#using-solang-with-sawtooth-sabre
</p>
<p><strong>seanyoung</strong> (Sun, 16 Feb 2020 21:36:32 GMT):<br/>
Hasn't seen much testing, just got it working.
</p>
<p><strong>yeiyei</strong> (Tue, 03 Mar 2020 15:32:58 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>Dan</strong> (Mon, 09 Mar 2020 14:15:22 GMT):<br/>
I might invest some more time digging into wasm. Anyone have any favorite wasm articles/links?
</p>
<p><strong>jsmitchell</strong> (Mon, 09 Mar 2020 14:52:30 GMT):<br/>
lots of good content here: https://hacks.mozilla.org/category/webassembly/
</p>
<p><strong>jsmitchell</strong> (Mon, 09 Mar 2020 14:56:20 GMT):<br/>
sabre uses parity-wasm for sandbox execution: https://github.com/paritytech/parity-wasm
</p>
<p><strong>seanyoung</strong> (Mon, 09 Mar 2020 17:13:29 GMT):<br/>
@Dan depending on what you're after, this might be useful: https://webassembly.org/docs/semantics/
</p>
<p><strong>Dan</strong> (Mon, 09 Mar 2020 19:47:02 GMT):<br/>
Thanks!
</p>
<p><strong>Dan</strong> (Mon, 09 Mar 2020 19:48:20 GMT):<br/>
Incidentally, #private-data-objects has https://github.com/hyperledger-labs/private-data-objects/tree/master/common/interpreter/wawaka_wasm which is based on https://github.com/bytecodealliance/wasm-micro-runtime
</p>
<p><strong>seanyoung</strong> (Mon, 09 Mar 2020 23:15:26 GMT):<br/>
great, I was looking for that after talking to @MicBowman 
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 10:59:01 GMT):<br/>
@agunde , May I know is there any plans to implement  sawtooth sabre payload sdk in Assemblyscript SDKs??  like we have in rust (https://github.com/hyperledger/sawtooth-sabre/blob/master/sdks/rust/src/protocol/payload.rs)
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 10:59:01 GMT):<br/>
@agunde , May I know is there any plans to implement  sawtooth sabre payload sdk in Assemblyscript??  like we have in rust (https://github.com/hyperledger/sawtooth-sabre/blob/master/sdks/rust/src/protocol/payload.rs)
</p>
<p><strong>agunde</strong> (Tue, 10 Mar 2020 13:37:03 GMT):<br/>
@JMIsham There are not currently plans to do so.
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 13:38:57 GMT):<br/>
I'm looking in to create a rest service which takes the application level payload as json, encode it, sign it and send it to the splinter network.
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 13:38:57 GMT):<br/>
I'm looking in to create a rest service which takes the application level payload as json, encode it, sign it and send it to sabre TP
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 13:39:23 GMT):<br/>
thought of doing it using typescript rather going for rust..
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 13:40:22 GMT):<br/>
is it possible for me to start develop those SDKs and contribute to splinter? 
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 13:40:22 GMT):<br/>
is it possible for me to start develop those SDKs and contribute to sawtooth sabre? 
</p>
<p><strong>amundson</strong> (Tue, 10 Mar 2020 14:05:04 GMT):<br/>
@JMIsham yes, and if you need a place to share your work, you can commit it to sawtooth-contrib; then at some point we could figure out were it should go long-term
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 14:05:56 GMT):<br/>
thank you @amundson  
</p>
<p><strong>amundson</strong> (Tue, 10 Mar 2020 14:07:52 GMT):<br/>
@JMIsham also, consider contributing to Transact's Javascript SDK - https://github.com/hyperledger/transact-sdk-javascript if it makes sense -- there is code there currently to help build up transactions (including sabre transactions), and this is the code we use in the browser to do that -- https://github.com/hyperledger/transact-sdk-javascript/tree/master/src
</p>
<p><strong>JMIsham</strong> (Tue, 10 Mar 2020 14:08:48 GMT):<br/>
Sure. I'll have a look
</p>
<p><strong>cg223</strong> (Fri, 03 Apr 2020 22:16:14 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>cg223</strong> (Fri, 03 Apr 2020 22:18:31 GMT):<br/>
go
</p>
<p><strong>agunde</strong> (Thu, 09 Apr 2020 17:14:49 GMT):<br/>
@arsulegai https://github.com/hyperledger/sawtooth-sabre/pull/95 was approved and merged. Thanks for the contribution!
</p>
<p><strong>jmbarry</strong> (Tue, 16 Jun 2020 17:32:47 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>gusBar</strong> (Thu, 06 May 2021 05:14:11 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>LeonardoCarvalho</strong> (Sat, 03 Jul 2021 16:46:11 GMT):<br/>
<i>Has joined the channel.</i>
</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:27:11 GMT):<br/>

</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:27:11 GMT):<br/>

</p>
<p><strong>rjones</strong> (Wed, 23 Mar 2022 17:27:11 GMT):<br/>

</p>
